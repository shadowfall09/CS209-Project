{"items":[{"tags":["java","generator","test-data","instancio"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698341135,"creation_date":1698341135,"answer_id":77369176,"question_id":77369000,"body_markdown":"I hope I understand your intention correctly... two options for interpretation:\r\n\r\nTo me this sounds dangerously close to test the implementation *of the annotations*, rather than your own code. \r\n\r\nI don&#39;t expect to learn too much from this kind of tests. If the annotations were implemented manually: Sure - validate that the validation is correct. But this way, personally, I&#39;d skip writing those tests. \r\n\r\nWhat would happen, when such a test fails? My expectation is: If a test fails, the fix is to correct the annotation. Which might risk any external component that relies on the original annotation to break. But in general, you&#39;re just testing that you have used the &quot;correct&quot; annotation - this is something that a simple review can do (after all, you review your test for the correct assumptions as well, right? this way just just have the same review to do twice: For the annotation *and* the test)\r\n\r\nAnother option:\r\n\r\nIf you want to generate random objects: Are those repeatable for each test? Is the data expected to be completely random? You use the example of an address: Certainly, &quot;aiwjelfkmjlsk&quot; does not sound like a description for any point on the planet, though &quot;krk&quot; actually is. If you *really* just want to validate static criteria like length and min/max, you&#39;re right. But if there&#39;s any semantics to the data, you haven&#39;t won anything. \r\n\r\nIf the random values are *not* repeatable, you might have random test failures, with the next run succeeding due to other values being generated.\r\n\r\nAlso there&#39;s value in explicit input values for tests. I recall writing a test feeding random data into a &quot;credit card transfer money&quot; web application (20y ago), literally by &quot;sitting on the keyboard&quot; to generate data. Imagine my surprise to discover that the application was happy to pay me &quot;3e3&quot; money (aka 3000) instead of rejecting this as not a number. Having such a value explicitly in a test has more value than a stream of random nonreproducible data. And if it&#39;s reproducible randomness, you might not even get to such values, which provide a tremendous documentation value for your application.","title":"how to generate test data based on java object model?","body":"<p>I hope I understand your intention correctly... two options for interpretation:</p>\n<p>To me this sounds dangerously close to test the implementation <em>of the annotations</em>, rather than your own code.</p>\n<p>I don't expect to learn too much from this kind of tests. If the annotations were implemented manually: Sure - validate that the validation is correct. But this way, personally, I'd skip writing those tests.</p>\n<p>What would happen, when such a test fails? My expectation is: If a test fails, the fix is to correct the annotation. Which might risk any external component that relies on the original annotation to break. But in general, you're just testing that you have used the &quot;correct&quot; annotation - this is something that a simple review can do (after all, you review your test for the correct assumptions as well, right? this way just just have the same review to do twice: For the annotation <em>and</em> the test)</p>\n<p>Another option:</p>\n<p>If you want to generate random objects: Are those repeatable for each test? Is the data expected to be completely random? You use the example of an address: Certainly, &quot;aiwjelfkmjlsk&quot; does not sound like a description for any point on the planet, though &quot;krk&quot; actually is. If you <em>really</em> just want to validate static criteria like length and min/max, you're right. But if there's any semantics to the data, you haven't won anything.</p>\n<p>If the random values are <em>not</em> repeatable, you might have random test failures, with the next run succeeding due to other values being generated.</p>\n<p>Also there's value in explicit input values for tests. I recall writing a test feeding random data into a &quot;credit card transfer money&quot; web application (20y ago), literally by &quot;sitting on the keyboard&quot; to generate data. Imagine my surprise to discover that the application was happy to pay me &quot;3e3&quot; money (aka 3000) instead of rejecting this as not a number. Having such a value explicitly in a test has more value than a stream of random nonreproducible data. And if it's reproducible randomness, you might not even get to such values, which provide a tremendous documentation value for your application.</p>\n"},{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698350798,"creation_date":1698350798,"answer_id":77370029,"question_id":77369000,"body_markdown":"If you enable the `Keys.BEAN_VALIDATION_ENABLED` setting, then Instancio will generate valid objects using the constraints.\r\n\r\n```java\r\nPerson person = Instancio.of(Person.class)\r\n    .withSettings(Settings.create().set(Keys.BEAN_VALIDATION_ENABLED, true))\r\n    .create();\r\n```\r\n\r\nSee: https://www.instancio.org/user-guide/#bean-validation\r\n","title":"how to generate test data based on java object model?","body":"<p>If you enable the <code>Keys.BEAN_VALIDATION_ENABLED</code> setting, then Instancio will generate valid objects using the constraints.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = Instancio.of(Person.class)\n    .withSettings(Settings.create().set(Keys.BEAN_VALIDATION_ENABLED, true))\n    .create();\n</code></pre>\n<p>See: <a href=\"https://www.instancio.org/user-guide/#bean-validation\" rel=\"nofollow noreferrer\">https://www.instancio.org/user-guide/#bean-validation</a></p>\n"}],"owner":{"account_id":318541,"reputation":758,"user_id":635831,"accept_rate":47,"display_name":"Adrian Herscu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698379361,"creation_date":1698339322,"question_id":77369000,"body_markdown":"Let&#39;s assume that there is a Java class object model in which all fields are annotated with JSR-303 constraints. Something like this:\r\n\r\n```java\r\n@SuperBuilder\r\n@ToString\r\n@EqualsAndHashCode\r\npublic class Address {\r\n    @Size(min = 1, max = 20)\r\n    @NotNull\r\n    public final String line1;\r\n    @Size(min = 1, max = 20)\r\n    public final String line2;\r\n    @Size(min = 1, max = 20)\r\n    public final String city;\r\n    @Size(min = 1, max = 20)\r\n    public final String country;\r\n    @Size(min = 1, max = 20)\r\n    public final String zipCode;\r\n}\r\n```\r\n\r\nand maybe few tens more like this:\r\n\r\n```java\r\n@SuperBuilder\r\n@ToString\r\n@EqualsAndHashCode\r\npublic class Person {\r\n    @NotNull\r\n    @Valid\r\n    public final Phone phone;\r\n    @NotNull\r\n    @Valid\r\n    public final Address address;\r\n}\r\n```\r\n\r\nManually writing and maintaing test data for these is extremely tedious.\r\n\r\nI believe that this manual process can be automated, let&#39;s say:\r\n\r\n - **minimum values**: null for nullable fields, minimum value for numeric fields, minimum length for string/collection fields, and false for booleans\r\n - **maximum values**: not null for nullable fields, maximum value for numeric fields, maximum length for string/collection fields, and true for booleans\r\n - **below minimum values**: null for nullable fields... you get the rest :)\r\n - **above maximum values**\r\n\r\nThen the programmer should be able to call:\r\n\r\n```java\r\nSomeMagicalGenerator.for(Person.class)\r\n  .generateMaximum() // returns a Stream&lt;Person&gt;\r\n  .distinct()\r\n  .limit(10)\r\n```\r\n\r\nand use it as TestNG DataProvider for example.\r\n\r\n\r\nAt first Instancio looked promising :)\r\nChecked it here: https://github.com/adrian-herscu/instancio-experiment\r\n\r\nBut... I failed to find a way to make it generate minimum and maximum values accoding to the annotations. In my dream if that would work, then making it generate out-range values should be workable too.\r\n\r\nAny ideas? Suggestions? Do I miss something?\r\n\r\n","title":"how to generate test data based on java object model?","body":"<p>Let's assume that there is a Java class object model in which all fields are annotated with JSR-303 constraints. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuperBuilder\n@ToString\n@EqualsAndHashCode\npublic class Address {\n    @Size(min = 1, max = 20)\n    @NotNull\n    public final String line1;\n    @Size(min = 1, max = 20)\n    public final String line2;\n    @Size(min = 1, max = 20)\n    public final String city;\n    @Size(min = 1, max = 20)\n    public final String country;\n    @Size(min = 1, max = 20)\n    public final String zipCode;\n}\n</code></pre>\n<p>and maybe few tens more like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuperBuilder\n@ToString\n@EqualsAndHashCode\npublic class Person {\n    @NotNull\n    @Valid\n    public final Phone phone;\n    @NotNull\n    @Valid\n    public final Address address;\n}\n</code></pre>\n<p>Manually writing and maintaing test data for these is extremely tedious.</p>\n<p>I believe that this manual process can be automated, let's say:</p>\n<ul>\n<li><strong>minimum values</strong>: null for nullable fields, minimum value for numeric fields, minimum length for string/collection fields, and false for booleans</li>\n<li><strong>maximum values</strong>: not null for nullable fields, maximum value for numeric fields, maximum length for string/collection fields, and true for booleans</li>\n<li><strong>below minimum values</strong>: null for nullable fields... you get the rest :)</li>\n<li><strong>above maximum values</strong></li>\n</ul>\n<p>Then the programmer should be able to call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeMagicalGenerator.for(Person.class)\n  .generateMaximum() // returns a Stream&lt;Person&gt;\n  .distinct()\n  .limit(10)\n</code></pre>\n<p>and use it as TestNG DataProvider for example.</p>\n<p>At first Instancio looked promising :)\nChecked it here: <a href=\"https://github.com/adrian-herscu/instancio-experiment\" rel=\"nofollow noreferrer\">https://github.com/adrian-herscu/instancio-experiment</a></p>\n<p>But... I failed to find a way to make it generate minimum and maximum values accoding to the annotations. In my dream if that would work, then making it generate out-range values should be workable too.</p>\n<p>Any ideas? Suggestions? Do I miss something?</p>\n"},{"tags":["java","spring","spring-boot","spring-cache","caffeine-cache"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301716,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697668620,"creation_date":1697668620,"answer_id":77319986,"question_id":77303787,"body_markdown":"If you see a select query in the console every time `findDogHouseEnFromDB()` method is called, that should mean the caching might not be working as expected.\r\n\r\nAfter reading &quot;[Caffeine Cache with Spring Boot](https://howtodoinjava.com/spring-boot/spring-boot-caffeine-cache/)&quot; from [Lokesh Gupta](https://github.com/lokeshgupta1981), for debugging purposes, you could add an endpoint or method to inspect the contents of the cache to make sure entries are being cached and evicted as expected.\r\n\r\n```java\r\n@GetMapping(value = &quot;/inspectCache&quot;)\r\npublic void inspectCache() {\r\n    CaffeineCache caffeineCache = (CaffeineCache) cacheManager.getCache(&quot;dogsInHouse&quot;);\r\n    Cache&lt;Object, Object&gt; nativeCache = caffeineCache.getNativeCache();\r\n    for (Map.Entry&lt;Object, Object&gt; entry : nativeCache.asMap().entrySet()) {\r\n        System.out.println(&quot;Key = &quot; + entry.getKey());\r\n        System.out.println(&quot;Value = &quot; + entry.getValue());\r\n    }\r\n}\r\n```\r\n\r\n\r\nNote: Instead of configuring cache properties within the Java configuration file, you could move some or all of these configurations to the `application.properties` file. That could simplify the configuration and make it more manageable. See [Configuration library for JVM languages](https://github.com/lightbend/config#standard-behavior)\r\n\r\n```properties\r\nspring.cache.cache-names=dogsInHouse\r\nspring.cache.caffeine.spec=initialCapacity=200,maximumSize=500,expireAfterAccess=720h\r\n```\r\n\r\nAnd if there is a need for custom cache key generation, you might consider implementing a [custom `KeyGenerator`](https://www.baeldung.com/spring-cache-custom-keygenerator) or using the `key` attribute on the `@Cacheable` annotation to specify how the cache key should be generated.\r\n\r\n```java\r\n@Cacheable(value = &quot;dogsInHouse&quot;, key = &quot;#key&quot;)\r\npublic DogsInHouse findDogHouseEnFromDB (String key) {\r\n    return dogsEnRepository.findByNameAndLangIs(..);\r\n}\r\n```","title":"Caching in Spring Boot with Caffeine","body":"<p>If you see a select query in the console every time <code>findDogHouseEnFromDB()</code> method is called, that should mean the caching might not be working as expected.</p>\n<p>After reading &quot;<a href=\"https://howtodoinjava.com/spring-boot/spring-boot-caffeine-cache/\" rel=\"nofollow noreferrer\">Caffeine Cache with Spring Boot</a>&quot; from <a href=\"https://github.com/lokeshgupta1981\" rel=\"nofollow noreferrer\">Lokesh Gupta</a>, for debugging purposes, you could add an endpoint or method to inspect the contents of the cache to make sure entries are being cached and evicted as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/inspectCache&quot;)\npublic void inspectCache() {\n    CaffeineCache caffeineCache = (CaffeineCache) cacheManager.getCache(&quot;dogsInHouse&quot;);\n    Cache&lt;Object, Object&gt; nativeCache = caffeineCache.getNativeCache();\n    for (Map.Entry&lt;Object, Object&gt; entry : nativeCache.asMap().entrySet()) {\n        System.out.println(&quot;Key = &quot; + entry.getKey());\n        System.out.println(&quot;Value = &quot; + entry.getValue());\n    }\n}\n</code></pre>\n<p>Note: Instead of configuring cache properties within the Java configuration file, you could move some or all of these configurations to the <code>application.properties</code> file. That could simplify the configuration and make it more manageable. See <a href=\"https://github.com/lightbend/config#standard-behavior\" rel=\"nofollow noreferrer\">Configuration library for JVM languages</a></p>\n<pre><code>spring.cache.cache-names=dogsInHouse\nspring.cache.caffeine.spec=initialCapacity=200,maximumSize=500,expireAfterAccess=720h\n</code></pre>\n<p>And if there is a need for custom cache key generation, you might consider implementing a <a href=\"https://www.baeldung.com/spring-cache-custom-keygenerator\" rel=\"nofollow noreferrer\">custom <code>KeyGenerator</code></a> or using the <code>key</code> attribute on the <code>@Cacheable</code> annotation to specify how the cache key should be generated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(value = &quot;dogsInHouse&quot;, key = &quot;#key&quot;)\npublic DogsInHouse findDogHouseEnFromDB (String key) {\n    return dogsEnRepository.findByNameAndLangIs(..);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697892336,"creation_date":1697892336,"answer_id":77336026,"question_id":77303787,"body_markdown":"With your configuration, the caching should work.\r\nIt is due to something other than the provided code if it fails.\r\n\r\nCreated a working demo with your code here: [caffeine_cache](https://github.com/dirkdeyne/caffeine_cache)\r\n","title":"Caching in Spring Boot with Caffeine","body":"<p>With your configuration, the caching should work.\nIt is due to something other than the provided code if it fails.</p>\n<p>Created a working demo with your code here: <a href=\"https://github.com/dirkdeyne/caffeine_cache\" rel=\"nofollow noreferrer\">caffeine_cache</a></p>\n"},{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698378801,"creation_date":1697907247,"answer_id":77336975,"question_id":77303787,"body_markdown":"Use `logging.level.org.springframework.cache=TRACE` in your **application.properties** to see whether or not the value is picked from the cache.\r\n\r\n**NOTE:** When you hit the service for the first time, it will bring data from database and will put the data into the cache and next time, it will bring from the cache.\r\n\r\nPlease remove `@CacheConfig` you don&#39;t need that in Spring Boot App.\r\n\r\n----\r\n\r\nI&#39;ve used `spring-data-jpa` with **MySQL** for demonstration.\r\n\r\nSame Config used. Just added for reference. \r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfig {\r\n    \r\n        @Bean\r\n        @Primary\r\n        public CacheManager cacheManager() {\r\n            CaffeineCacheManager cacheManager = new CaffeineCacheManager(&quot;dogsInHouse&quot;);\r\n            cacheManager.setCaffeine(Caffeine.newBuilder()\r\n                    .initialCapacity(200)\r\n                    .expireAfterAccess(Duration.ofDays(30))\r\n                    .maximumSize(500));\r\n            return cacheManager;\r\n        }\r\n    }\r\n\r\n**DogInHouse** for testing:\r\n\r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class DogInHouse {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n    }\r\n\r\n**DogInHouseRepository** for testing:\r\n\r\n    public interface DogInHouseRepository extends JpaRepository&lt;DogInHouse, Integer&gt; {\r\n    }\r\n\r\n\r\n\r\nMy Service class for testing:\r\n\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class DogsInHouseService {\r\n    \r\n        @Autowired\r\n        private DogInHouseRepository dogsEnRepository;\r\n    \r\n        @Cacheable(value = &quot;dogsInHouse&quot;)\r\n        public Optional&lt;DogInHouse&gt; findDogHouseById(int key) {\r\n            return dogsEnRepository.findById(key);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**application.properties** for testing:\r\n\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username=root\r\n    spring.datasource.password=Anish@123\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.springframework.cache=TRACE\r\n\r\nMy **pom.xml** had these dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n             &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n             &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n**My Application Log:**\r\n\r\n**First Time Service Hit:**\r\n\r\n    2023-10-21T22:22:16.575+05:30 TRACE 14989 --- [nio-8080-exec-3] o.s.cache.interceptor.CacheInterceptor   : Computed cache key &#39;1&#39; for operation Builder[public java.util.Optional com.example.springbootmysql.DogsInHouseService.findDogHouseById(int)] caches=[dogsInHouse] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;\r\n    2023-10-21T22:22:16.576+05:30 TRACE 14989 --- [nio-8080-exec-3] o.s.cache.interceptor.CacheInterceptor   : No cache entry for key &#39;1&#39; in cache(s) [dogsInHouse]\r\n    2023-10-21T22:22:16.577+05:30 TRACE 14989 --- [nio-8080-exec-3] o.s.cache.interceptor.CacheInterceptor   : Computed cache key &#39;1&#39; for operation Builder[public java.util.Optional com.example.springbootmysql.DogsInHouseService.findDogHouseById(int)] caches=[dogsInHouse] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;\r\n    2023-10-21T22:22:16.587+05:30 DEBUG 14989 --- [nio-8080-exec-3] org.hibernate.SQL                        : \r\n        select\r\n            d1_0.id,\r\n            d1_0.name \r\n        from\r\n            dog_in_house d1_0 \r\n        where\r\n            d1_0.id=?\r\n\r\n&gt; Currently there is no value in the cache with the key that is passed,\r\n&gt; So, a select query will be executed via Hibernate to bring the value\r\n&gt; from DB and the value is put into the cache by that key.\r\n\r\n**Second Time Service Hit:**\r\n\r\n    2023-10-21T22:23:33.485+05:30 TRACE 14989 --- [nio-8080-exec-6] o.s.cache.interceptor.CacheInterceptor   : Computed cache key &#39;1&#39; for operation Builder[public java.util.Optional com.example.springbootmysql.DogsInHouseService.findDogHouseById(int)] caches=[dogsInHouse] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;\r\n    2023-10-21T22:23:33.490+05:30 TRACE 14989 --- [nio-8080-exec-6] o.s.cache.interceptor.CacheInterceptor   : Cache entry for key &#39;1&#39; found in cache &#39;dogsInHouse&#39;\r\n\r\n&gt; This time the value exists in the cache by the same key that was\r\n&gt; passed earlier and the value is fetched from the cache.\r\n\r\n**Postman Output:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SqAt1.png","title":"Caching in Spring Boot with Caffeine","body":"<p>Use <code>logging.level.org.springframework.cache=TRACE</code> in your <strong>application.properties</strong> to see whether or not the value is picked from the cache.</p>\n<p><strong>NOTE:</strong> When you hit the service for the first time, it will bring data from database and will put the data into the cache and next time, it will bring from the cache.</p>\n<p>Please remove <code>@CacheConfig</code> you don't need that in Spring Boot App.</p>\n<hr />\n<p>I've used <code>spring-data-jpa</code> with <strong>MySQL</strong> for demonstration.</p>\n<p>Same Config used. Just added for reference.</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n    @Bean\n    @Primary\n    public CacheManager cacheManager() {\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager(&quot;dogsInHouse&quot;);\n        cacheManager.setCaffeine(Caffeine.newBuilder()\n                .initialCapacity(200)\n                .expireAfterAccess(Duration.ofDays(30))\n                .maximumSize(500));\n        return cacheManager;\n    }\n}\n</code></pre>\n<p><strong>DogInHouse</strong> for testing:</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class DogInHouse {\n\n    @Id\n    @GeneratedValue\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n}\n</code></pre>\n<p><strong>DogInHouseRepository</strong> for testing:</p>\n<pre><code>public interface DogInHouseRepository extends JpaRepository&lt;DogInHouse, Integer&gt; {\n}\n</code></pre>\n<p>My Service class for testing:</p>\n<pre><code>@Service\n@Slf4j\npublic class DogsInHouseService {\n\n    @Autowired\n    private DogInHouseRepository dogsEnRepository;\n\n    @Cacheable(value = &quot;dogsInHouse&quot;)\n    public Optional&lt;DogInHouse&gt; findDogHouseById(int key) {\n        return dogsEnRepository.findById(key);\n    }\n\n}\n</code></pre>\n<p><strong>application.properties</strong> for testing:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=root\nspring.datasource.password=Anish@123\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.springframework.cache=TRACE\n</code></pre>\n<p>My <strong>pom.xml</strong> had these dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n         &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>My Application Log:</strong></p>\n<p><strong>First Time Service Hit:</strong></p>\n<pre><code>2023-10-21T22:22:16.575+05:30 TRACE 14989 --- [nio-8080-exec-3] o.s.cache.interceptor.CacheInterceptor   : Computed cache key '1' for operation Builder[public java.util.Optional com.example.springbootmysql.DogsInHouseService.findDogHouseById(int)] caches=[dogsInHouse] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'\n2023-10-21T22:22:16.576+05:30 TRACE 14989 --- [nio-8080-exec-3] o.s.cache.interceptor.CacheInterceptor   : No cache entry for key '1' in cache(s) [dogsInHouse]\n2023-10-21T22:22:16.577+05:30 TRACE 14989 --- [nio-8080-exec-3] o.s.cache.interceptor.CacheInterceptor   : Computed cache key '1' for operation Builder[public java.util.Optional com.example.springbootmysql.DogsInHouseService.findDogHouseById(int)] caches=[dogsInHouse] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'\n2023-10-21T22:22:16.587+05:30 DEBUG 14989 --- [nio-8080-exec-3] org.hibernate.SQL                        : \n    select\n        d1_0.id,\n        d1_0.name \n    from\n        dog_in_house d1_0 \n    where\n        d1_0.id=?\n</code></pre>\n<blockquote>\n<p>Currently there is no value in the cache with the key that is passed,\nSo, a select query will be executed via Hibernate to bring the value\nfrom DB and the value is put into the cache by that key.</p>\n</blockquote>\n<p><strong>Second Time Service Hit:</strong></p>\n<pre><code>2023-10-21T22:23:33.485+05:30 TRACE 14989 --- [nio-8080-exec-6] o.s.cache.interceptor.CacheInterceptor   : Computed cache key '1' for operation Builder[public java.util.Optional com.example.springbootmysql.DogsInHouseService.findDogHouseById(int)] caches=[dogsInHouse] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'\n2023-10-21T22:23:33.490+05:30 TRACE 14989 --- [nio-8080-exec-6] o.s.cache.interceptor.CacheInterceptor   : Cache entry for key '1' found in cache 'dogsInHouse'\n</code></pre>\n<blockquote>\n<p>This time the value exists in the cache by the same key that was\npassed earlier and the value is fetched from the cache.</p>\n</blockquote>\n<p><strong>Postman Output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/SqAt1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SqAt1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77336975,"answer_count":3,"score":2,"last_activity_date":1698378801,"creation_date":1697476189,"question_id":77303787,"body_markdown":"I have this configuration class:\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfig {\r\n    \r\n        @Bean\r\n        @Primary\r\n        public CacheManager cacheManager() {\r\n            CaffeineCacheManager cacheManager = new CaffeineCacheManager(&quot;dogsInHouse&quot;);\r\n            cacheManager.setCaffeine(Caffeine.newBuilder()\r\n                    .initialCapacity(200)\r\n                    .expireAfterAccess(Duration.ofDays(30))\r\n                    .maximumSize(500));\r\n            return cacheManager;\r\n        }\r\n    }\r\n\r\nin the properties file:\r\n\r\n    spring.jpa.show-sql=true\r\n\r\nin the service:\r\n\r\n\r\n    @Service\r\n    @Transactional(readOnly = true)\r\n    @Slf4j\r\n    @CacheConfig(cacheNames = {&quot;dogsInHouse&quot;})\r\n    public class DogsInHouseService {\r\n    \r\n        @Cacheable(&quot;dogsInHouse&quot;)\r\n        public DogsInHouse findDogHouseEnFromDB (String key) {\r\n            return dogsEnRepository.findByNameAndLangIs(key);\r\n        }\r\n    }\r\n\r\nBut I always see a select query in the console. But I don&#39;t see the cache logs.","title":"Caching in Spring Boot with Caffeine","body":"<p>I have this configuration class:</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n    @Bean\n    @Primary\n    public CacheManager cacheManager() {\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager(&quot;dogsInHouse&quot;);\n        cacheManager.setCaffeine(Caffeine.newBuilder()\n                .initialCapacity(200)\n                .expireAfterAccess(Duration.ofDays(30))\n                .maximumSize(500));\n        return cacheManager;\n    }\n}\n</code></pre>\n<p>in the properties file:</p>\n<pre><code>spring.jpa.show-sql=true\n</code></pre>\n<p>in the service:</p>\n<pre><code>@Service\n@Transactional(readOnly = true)\n@Slf4j\n@CacheConfig(cacheNames = {&quot;dogsInHouse&quot;})\npublic class DogsInHouseService {\n\n    @Cacheable(&quot;dogsInHouse&quot;)\n    public DogsInHouse findDogHouseEnFromDB (String key) {\n        return dogsEnRepository.findByNameAndLangIs(key);\n    }\n}\n</code></pre>\n<p>But I always see a select query in the console. But I don't see the cache logs.</p>\n"},{"tags":["java","presto","trino"],"owner":{"account_id":14649563,"reputation":13,"user_id":10579949,"display_name":"Nisha Tamta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698378489,"creation_date":1678976143,"question_id":75757500,"body_markdown":"I have built a Custom Trino Plugin which sources data from XML files stored in file system.\r\n\r\nThe `SELECT `query works fine, now we need to make `WHERE` clause work for this. Which, as per my knowledge means, we need to split data according to the condition for partitioning provided.\r\n\r\nChatGPT suggested &quot;*I need to define partitioning columns for your table and implement partition pruning in your plugin.*&quot;\r\n\r\nCan you all please help me with this. Please refer below code for `SplitManager `Implementation:\r\n\r\n```\r\npublic ConnectorSplitSource getSplits(ConnectorTransactionHandle transaction, ConnectorSession session,\r\n        ConnectorTableHandle connectorTableHandle, DynamicFilter dynamicFilter, Constraint constraint) {\r\n            ECFTrinoTableHandle tableHandle = (ECFTrinoTableHandle) connectorTableHandle;\r\n            TupleDomain&lt;ECFTrinoColumnHandle&gt; predicate = tableHandle.getPartitionPredicates();\r\n            List&lt;ConnectorSplit&gt; splits = new ArrayList&lt;&gt;();\r\n\r\n          // Get the partitioning columns for the table\r\n          List&lt;String&gt; partitionColumns = new ArrayList&lt;&gt;();\r\n          partitionColumns.add(&quot;daterange&quot;);\r\n\r\n          // Add code here to get the splits.\r\n\r\n\r\n           Collection&lt;Domain&gt; domains=   predicate.getDomains().get().values();\r\n           if (domains.size() != 0) {\r\n            Domain dd = domains.stream().findFirst().get();\r\n            dd.getValues().getRanges().getSpan().getLowValue();\r\n           }\r\n        }\r\n```","title":"How to enable partitioning and have the &quot;Where&quot; clause working in a Custom Trino plugin","body":"<p>I have built a Custom Trino Plugin which sources data from XML files stored in file system.</p>\n<p>The <code>SELECT </code>query works fine, now we need to make <code>WHERE</code> clause work for this. Which, as per my knowledge means, we need to split data according to the condition for partitioning provided.</p>\n<p>ChatGPT suggested &quot;<em>I need to define partitioning columns for your table and implement partition pruning in your plugin.</em>&quot;</p>\n<p>Can you all please help me with this. Please refer below code for <code>SplitManager </code>Implementation:</p>\n<pre><code>public ConnectorSplitSource getSplits(ConnectorTransactionHandle transaction, ConnectorSession session,\n        ConnectorTableHandle connectorTableHandle, DynamicFilter dynamicFilter, Constraint constraint) {\n            ECFTrinoTableHandle tableHandle = (ECFTrinoTableHandle) connectorTableHandle;\n            TupleDomain&lt;ECFTrinoColumnHandle&gt; predicate = tableHandle.getPartitionPredicates();\n            List&lt;ConnectorSplit&gt; splits = new ArrayList&lt;&gt;();\n\n          // Get the partitioning columns for the table\n          List&lt;String&gt; partitionColumns = new ArrayList&lt;&gt;();\n          partitionColumns.add(&quot;daterange&quot;);\n\n          // Add code here to get the splits.\n\n\n           Collection&lt;Domain&gt; domains=   predicate.getDomains().get().values();\n           if (domains.size() != 0) {\n            Domain dd = domains.stream().findFirst().get();\n            dd.getValues().getRanges().getSpan().getLowValue();\n           }\n        }\n</code></pre>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1675892646,"post_id":75392019,"comment_id":133028397,"body_markdown":"I don&#39;t understand your problem. What you&#39;re trying is totally valid, it gives you a map containing the lists that you can then check the length of. What you show as your result isn&#39;t what your collected stream gives you.","body":"I don&#39;t understand your problem. What you&#39;re trying is totally valid, it gives you a map containing the lists that you can then check the length of. What you show as your result isn&#39;t what your collected stream gives you."},{"owner":{"account_id":5037087,"reputation":33,"user_id":4045556,"display_name":"Kumar"},"score":0,"creation_date":1675892731,"post_id":75392019,"comment_id":133028411,"body_markdown":"I want to update the incentive for all the employee in same group if any group have more the one employee.  For example: earlier group B have 15% incentive but in the group B have more then one employee so new incentive in new list 5% only.  So i want update the incentive property in the employee based on number of employee in same group have more then one.","body":"I want to update the incentive for all the employee in same group if any group have more the one employee.  For example: earlier group B have 15% incentive but in the group B have more then one employee so new incentive in new list 5% only.  So i want update the incentive property in the employee based on number of employee in same group have more then one."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675893171,"creation_date":1675893171,"answer_id":75392111,"question_id":75392019,"body_markdown":"You can first use `Collectors.groupingBy` to get the counts, then create a new `List` based on that.\r\n\r\n```java\r\nMap&lt;String, Long&gt; groupFreq = listEmployees.stream().collect(Collectors.groupingBy(Employee::group, Collectors.counting()));\r\nList&lt;Employee&gt; result = listEmployees.stream().map(e -&gt; {\r\n\tif (groupFreq.get(e.group()) &gt; 1) \r\n        return new Employee(e.empId(), e.name(), e.group(), e.salary(), 5);\r\n\treturn e;\r\n}).collect(Collectors.toList()); // or .toList() in Java 16+\r\n```","title":"modify the list of object one of the property if found more then 1 record in a group in the list using java 8","body":"<p>You can first use <code>Collectors.groupingBy</code> to get the counts, then create a new <code>List</code> based on that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Long&gt; groupFreq = listEmployees.stream().collect(Collectors.groupingBy(Employee::group, Collectors.counting()));\nList&lt;Employee&gt; result = listEmployees.stream().map(e -&gt; {\n    if (groupFreq.get(e.group()) &gt; 1) \n        return new Employee(e.empId(), e.name(), e.group(), e.salary(), 5);\n    return e;\n}).collect(Collectors.toList()); // or .toList() in Java 16+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29762566,"reputation":1,"user_id":22809735,"display_name":"Gavaskar Selvaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698378464,"creation_date":1698377421,"answer_id":77371363,"question_id":75392019,"body_markdown":"    List&lt;Employee&gt; empList = listEmployees.stream()\r\n                .collect(Collectors.groupingBy(Employee::getGroup))\r\n                .entrySet().stream()\r\n                .filter(v -&gt; v.getValue().size() &gt; 1)\r\n                .flatMap(v-&gt;v.getValue().stream())\r\n                .map(e -&gt;new Employee(e.getEmpId(), e.getName(), e.getGroup(), e.getSalary(), 5))\r\n                .collect(Collectors.toList());","title":"modify the list of object one of the property if found more then 1 record in a group in the list using java 8","body":"<pre><code>List&lt;Employee&gt; empList = listEmployees.stream()\n            .collect(Collectors.groupingBy(Employee::getGroup))\n            .entrySet().stream()\n            .filter(v -&gt; v.getValue().size() &gt; 1)\n            .flatMap(v-&gt;v.getValue().stream())\n            .map(e -&gt;new Employee(e.getEmpId(), e.getName(), e.getGroup(), e.getSalary(), 5))\n            .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":5037087,"reputation":33,"user_id":4045556,"display_name":"Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75392111,"answer_count":2,"score":3,"last_activity_date":1698378464,"creation_date":1675892388,"question_id":75392019,"body_markdown":"I have class Employee which have 3 fields.\r\n\r\nAnd I have a list of DTO objects.\r\n\r\n    `public class Employee {\r\n       private String empId;\r\n       private String name;\r\n       private String group;\r\n       private String salary;\r\n       private String incentive;         \r\n    }`\r\n\r\n    `List&lt;Employee&gt; listEmployees = new ArrayList&lt;&gt;(List.of(\r\n     new Employee(&quot;101&quot;.&quot;Mark&quot;, &quot;A&quot;, 20000, 10),\r\n     new Employee(&quot;102&quot;.&quot;Tom&quot;, &quot;B&quot;, 3000, 15),\r\n     new Employee(&quot;103&quot;.&quot;Travis&quot;, &quot;C&quot;, 5000, 12),\r\n     new Employee(&quot;104&quot;.&quot;Diana&quot;, &quot;D&quot;, 3500, 11),\r\n     new Employee(&quot;105&quot;.&quot;Keith&quot;, &quot;B&quot;, 4200, 15),\r\n     new Employee(&quot;106&quot;.&quot;Liam&quot;, &quot;D&quot;, 6500, 11),\r\n     new Employee(&quot;107&quot;.&quot;Whitney&quot;, &quot;B&quot;, 6100, 15),\r\n     new Employee(&quot;108&quot;.&quot;Tina&quot;, &quot;B&quot;,2900, 15)\r\n     new Employee(&quot;109&quot;.&quot;Patrick&quot;, &quot;D&quot;, 3400, 11)\r\n     ));`\r\n\r\nI want to modify the **incentive of 5%** for all the employees in the same group, if there are more than one employee in a group. For example for above example there is more than one employee in the list of employee ***group B &amp; D*** so in this case I want to modify the incentive to 5% for all the employees in the same group. But there is only one employee for ***group A &amp; C*** so I don&#39;t modify anything for this employee.\r\n\r\n\r\nFor example any company decides to give incentive to employee every year, but if a department has more than a specific number (Example 100) of employees, they want to update the incentive value for all the employees in that same department. But other departments that have a specific number((Example 100)) of employees are less, so the incentive doesn&#39;t change.\r\n\r\nI tried for example like :\r\n\r\n`employeeList.stream()\r\n            .collect(Collectors.groupingBy(Employee::group));`\r\n\r\nSo my result would be like below. (only A and C no need modify because only one record in this group)\r\n\r\n    `Employee(&quot;101&quot;.&quot;Mark&quot;, &quot;A&quot;, 20000, 10)\r\n     Employee(&quot;102&quot;.&quot;Tom&quot;, &quot;B&quot;, 3000, 5),\r\n     Employee(&quot;103&quot;.&quot;Travis&quot;, &quot;C&quot;, 5000, 12),\r\n     Employee(&quot;104&quot;.&quot;Diana&quot;, &quot;D&quot;, 3500, 5),\r\n     Employee(&quot;105&quot;.&quot;Keith&quot;, &quot;B&quot;, 4200, 5),\r\n     Employee(&quot;106&quot;.&quot;Liam&quot;, &quot;D&quot;, 6500, 5),\r\n     Employee(&quot;107&quot;.&quot;Whitney&quot;, &quot;B&quot;, 6100, 5),\r\n     Employee(&quot;108&quot;.&quot;Tina&quot;, &quot;B&quot;,2900, 5)\r\n     Employee(&quot;109&quot;.&quot;Patrick&quot;, &quot;D&quot;, 3400, 5)`","title":"modify the list of object one of the property if found more then 1 record in a group in the list using java 8","body":"<p>I have class Employee which have 3 fields.</p>\n<p>And I have a list of DTO objects.</p>\n<pre><code>`public class Employee {\n   private String empId;\n   private String name;\n   private String group;\n   private String salary;\n   private String incentive;         \n}`\n\n`List&lt;Employee&gt; listEmployees = new ArrayList&lt;&gt;(List.of(\n new Employee(&quot;101&quot;.&quot;Mark&quot;, &quot;A&quot;, 20000, 10),\n new Employee(&quot;102&quot;.&quot;Tom&quot;, &quot;B&quot;, 3000, 15),\n new Employee(&quot;103&quot;.&quot;Travis&quot;, &quot;C&quot;, 5000, 12),\n new Employee(&quot;104&quot;.&quot;Diana&quot;, &quot;D&quot;, 3500, 11),\n new Employee(&quot;105&quot;.&quot;Keith&quot;, &quot;B&quot;, 4200, 15),\n new Employee(&quot;106&quot;.&quot;Liam&quot;, &quot;D&quot;, 6500, 11),\n new Employee(&quot;107&quot;.&quot;Whitney&quot;, &quot;B&quot;, 6100, 15),\n new Employee(&quot;108&quot;.&quot;Tina&quot;, &quot;B&quot;,2900, 15)\n new Employee(&quot;109&quot;.&quot;Patrick&quot;, &quot;D&quot;, 3400, 11)\n ));`\n</code></pre>\n<p>I want to modify the <strong>incentive of 5%</strong> for all the employees in the same group, if there are more than one employee in a group. For example for above example there is more than one employee in the list of employee <em><strong>group B &amp; D</strong></em> so in this case I want to modify the incentive to 5% for all the employees in the same group. But there is only one employee for <em><strong>group A &amp; C</strong></em> so I don't modify anything for this employee.</p>\n<p>For example any company decides to give incentive to employee every year, but if a department has more than a specific number (Example 100) of employees, they want to update the incentive value for all the employees in that same department. But other departments that have a specific number((Example 100)) of employees are less, so the incentive doesn't change.</p>\n<p>I tried for example like :</p>\n<p><code>employeeList.stream() .collect(Collectors.groupingBy(Employee::group));</code></p>\n<p>So my result would be like below. (only A and C no need modify because only one record in this group)</p>\n<pre><code>`Employee(&quot;101&quot;.&quot;Mark&quot;, &quot;A&quot;, 20000, 10)\n Employee(&quot;102&quot;.&quot;Tom&quot;, &quot;B&quot;, 3000, 5),\n Employee(&quot;103&quot;.&quot;Travis&quot;, &quot;C&quot;, 5000, 12),\n Employee(&quot;104&quot;.&quot;Diana&quot;, &quot;D&quot;, 3500, 5),\n Employee(&quot;105&quot;.&quot;Keith&quot;, &quot;B&quot;, 4200, 5),\n Employee(&quot;106&quot;.&quot;Liam&quot;, &quot;D&quot;, 6500, 5),\n Employee(&quot;107&quot;.&quot;Whitney&quot;, &quot;B&quot;, 6100, 5),\n Employee(&quot;108&quot;.&quot;Tina&quot;, &quot;B&quot;,2900, 5)\n Employee(&quot;109&quot;.&quot;Patrick&quot;, &quot;D&quot;, 3400, 5)`\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1696250988,"post_id":77215642,"comment_id":136125147,"body_markdown":"Striken through code in an IDE is usually indicative of a `@Deprecated` annotation, meaning it has been marked as obsolete in the context of minecraft code. It may not necessarily be replaced yet (I&#39;ve been out of the client code for years), but should still &quot;work&quot; in the meantime. Including an image of the error in this case may actually be of help.","body":"Striken through code in an IDE is usually indicative of a <code>@Deprecated</code> annotation, meaning it has been marked as obsolete in the context of minecraft code. It may not necessarily be replaced yet (I&#39;ve been out of the client code for years), but should still &quot;work&quot; in the meantime. Including an image of the error in this case may actually be of help."},{"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"score":0,"creation_date":1696251686,"post_id":77215642,"comment_id":136125279,"body_markdown":"Alright, will add an image just now @Rogue","body":"Alright, will add an image just now @Rogue"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1696261945,"post_id":77215642,"comment_id":136127406,"body_markdown":"Interesting it&#39;s highlighted red, that&#39;s preventing you from building? Try adding `@SuppressWarnings(&quot;deprecation&quot;)` right above your `@SubscribeEvent` as a temporary workaround (if it works, it&#39;s not the final / best solution).","body":"Interesting it&#39;s highlighted red, that&#39;s preventing you from building? Try adding <code>@SuppressWarnings(&quot;deprecation&quot;)</code> right above your <code>@SubscribeEvent</code> as a temporary workaround (if it works, it&#39;s not the final / best solution)."},{"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"score":0,"creation_date":1696267587,"post_id":77215642,"comment_id":136128321,"body_markdown":"It actually does not prevent me from building, but I still try to work around any errors/ red underlines @Rogue","body":"It actually does not prevent me from building, but I still try to work around any errors/ red underlines @Rogue"}],"answers":[{"tags":[],"owner":{"account_id":26539851,"reputation":86,"user_id":20170780,"display_name":"Hipposgrumm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696448605,"creation_date":1696448605,"answer_id":77232527,"question_id":77215642,"body_markdown":"In 1.19+, it is no longer advised to set the render types in your code. Instead, you should do it through the JSON file, like this:\r\n```json\r\n{\r\n  &quot;parent&quot;: &quot;minecraft:block/crop&quot;,\r\n  &quot;textures&quot;: {\r\n    &quot;crop&quot;: &quot;examplemod:block/blueberry_crop&quot;\r\n  },\r\n  &quot;render_type&quot;: &quot;minecraft:cutout&quot;\r\n}\r\n```\r\n\r\nThere are many variations for `render_type`, such as `minecraft:solid` (which is default), `minecraft:cutout` (which you want for most plants), `minecraft:translucent` (which you want for blocks like stained glass), and many others.\r\n\r\nMore information about `render_type` can be found on the [official Forge documentation](https://docs.minecraftforge.net/en/1.19.x/rendering/modelextensions/rendertypes/).","title":"How do you state, that plants are seethrough in Minecraft Mods","body":"<p>In 1.19+, it is no longer advised to set the render types in your code. Instead, you should do it through the JSON file, like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;parent&quot;: &quot;minecraft:block/crop&quot;,\n  &quot;textures&quot;: {\n    &quot;crop&quot;: &quot;examplemod:block/blueberry_crop&quot;\n  },\n  &quot;render_type&quot;: &quot;minecraft:cutout&quot;\n}\n</code></pre>\n<p>There are many variations for <code>render_type</code>, such as <code>minecraft:solid</code> (which is default), <code>minecraft:cutout</code> (which you want for most plants), <code>minecraft:translucent</code> (which you want for blocks like stained glass), and many others.</p>\n<p>More information about <code>render_type</code> can be found on the <a href=\"https://docs.minecraftforge.net/en/1.19.x/rendering/modelextensions/rendertypes/\" rel=\"nofollow noreferrer\">official Forge documentation</a>.</p>\n"}],"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77232527,"answer_count":1,"score":1,"last_activity_date":1698376507,"creation_date":1696250572,"question_id":77215642,"body_markdown":"Before you read:\r\n\r\nI already tested it and this code does still work. but I don&#39;t like the error there and the question is just about, if there is another way, because my code right now might not be working in the future.\r\n\r\n----\r\n\r\nI was following the here linked tutorial series on how to create Minecraft Mods for a while until I got stuck at episode 9.\r\n\r\nTutorial series (can recommend for every newcomer): \r\nhttps://www.youtube.com/watch?v=LpoSy091wYI&amp;list=PLKGarocXCE1HrC60yuTNTGRoZc6hf5Uvl&amp;index=1\r\n\r\nEpisode I got stuck on (9):\r\n\r\nhttps://www.youtube.com/watch?v=_tD0-CHZIeE&amp;list=PLKGarocXCE1HrC60yuTNTGRoZc6hf5Uvl&amp;index=9\r\n\r\nThe Episode is about how to make a new crop for Minecraft. \r\nAt around **4:20** in the video, he adds an line of code and there is the error I have. \r\n\r\nHe explains, that this line is to make the invisible pixels in the texture actually invisible in the 3D Model later inside the Game. \r\n\r\nBut here is the problem: That code gives me an error every time I try to write it out.\r\n\r\nIt always says, that this is wrong, but I don&#39;t really understand why. The IDE also says, that the wrong code is **&quot;marked for removal&quot;**\r\n\r\n**The line of code looks like this:**\r\n\r\n```\r\n@Mod.EventBusSubscriber(modid = MOD_ID, bus = Mod.EventBusSubscriber.Bus.MOD)\r\n    public static class ClientModEvents {\r\n\r\n        @SubscribeEvent\r\n        public static void onClientSetup(FMLClientSetupEvent event) {\r\n            ItemBlockRenderTypes.setRenderLayer(ModBlocks.BLUEBERRY_CROP.get(), RenderType.cutout());\r\n        }\r\n    }\r\n```\r\nand is located in the main class of the project called: `TestMod.java`\r\n\r\nThe exact line I am referring to is this one:\r\n`ItemBlockRenderTypes.setRenderLayer(ModBlocks.BLUEBERRY_CROP.get(), RenderType.cutout());`\r\n\r\nThe error appears always directly under the `.setRenderLayer()`, so it states, that this is incorrect.\r\n\r\nIn the video, it was also not strikethrough in the preview, but in my code it was.\r\n\r\nI also tried using the other types of `.setRenderlayer()`, but it didnt work.\r\n\r\nHere is also an Image how it looks in my IDE:\r\n[![Picture with the raw code][1]][1]\r\n\r\n[![Picture with the removal tip][2]][2]\r\n\r\nSo my question is: \r\n\r\n - Was this updated, so that changed and can&#39;t be used like this anymore?\r\n - And if yes, how would you write this now?\r\n - Or do you don&#39;t even have to do this anymore?\r\n\r\nIf anyone wants to replicate this:  I am using *IntelliJ-IDEA*, the *Temurium 17 SDK* and the Mod runs on *Minecraft 1.19(.0)*\r\n\r\n  [1]: https://i.stack.imgur.com/Jatu5.png\r\n  [2]: https://i.stack.imgur.com/hFsPI.png","title":"How do you state, that plants are seethrough in Minecraft Mods","body":"<p>Before you read:</p>\n<p>I already tested it and this code does still work. but I don't like the error there and the question is just about, if there is another way, because my code right now might not be working in the future.</p>\n<hr />\n<p>I was following the here linked tutorial series on how to create Minecraft Mods for a while until I got stuck at episode 9.</p>\n<p>Tutorial series (can recommend for every newcomer):\n<a href=\"https://www.youtube.com/watch?v=LpoSy091wYI&amp;list=PLKGarocXCE1HrC60yuTNTGRoZc6hf5Uvl&amp;index=1\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=LpoSy091wYI&amp;list=PLKGarocXCE1HrC60yuTNTGRoZc6hf5Uvl&amp;index=1</a></p>\n<p>Episode I got stuck on (9):</p>\n<p><a href=\"https://www.youtube.com/watch?v=_tD0-CHZIeE&amp;list=PLKGarocXCE1HrC60yuTNTGRoZc6hf5Uvl&amp;index=9\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=_tD0-CHZIeE&amp;list=PLKGarocXCE1HrC60yuTNTGRoZc6hf5Uvl&amp;index=9</a></p>\n<p>The Episode is about how to make a new crop for Minecraft.\nAt around <strong>4:20</strong> in the video, he adds an line of code and there is the error I have.</p>\n<p>He explains, that this line is to make the invisible pixels in the texture actually invisible in the 3D Model later inside the Game.</p>\n<p>But here is the problem: That code gives me an error every time I try to write it out.</p>\n<p>It always says, that this is wrong, but I don't really understand why. The IDE also says, that the wrong code is <strong>&quot;marked for removal&quot;</strong></p>\n<p><strong>The line of code looks like this:</strong></p>\n<pre><code>@Mod.EventBusSubscriber(modid = MOD_ID, bus = Mod.EventBusSubscriber.Bus.MOD)\n    public static class ClientModEvents {\n\n        @SubscribeEvent\n        public static void onClientSetup(FMLClientSetupEvent event) {\n            ItemBlockRenderTypes.setRenderLayer(ModBlocks.BLUEBERRY_CROP.get(), RenderType.cutout());\n        }\n    }\n</code></pre>\n<p>and is located in the main class of the project called: <code>TestMod.java</code></p>\n<p>The exact line I am referring to is this one:\n<code>ItemBlockRenderTypes.setRenderLayer(ModBlocks.BLUEBERRY_CROP.get(), RenderType.cutout());</code></p>\n<p>The error appears always directly under the <code>.setRenderLayer()</code>, so it states, that this is incorrect.</p>\n<p>In the video, it was also not strikethrough in the preview, but in my code it was.</p>\n<p>I also tried using the other types of <code>.setRenderlayer()</code>, but it didnt work.</p>\n<p>Here is also an Image how it looks in my IDE:\n<a href=\"https://i.stack.imgur.com/Jatu5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jatu5.png\" alt=\"Picture with the raw code\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hFsPI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hFsPI.png\" alt=\"Picture with the removal tip\" /></a></p>\n<p>So my question is:</p>\n<ul>\n<li>Was this updated, so that changed and can't be used like this anymore?</li>\n<li>And if yes, how would you write this now?</li>\n<li>Or do you don't even have to do this anymore?</li>\n</ul>\n<p>If anyone wants to replicate this:  I am using <em>IntelliJ-IDEA</em>, the <em>Temurium 17 SDK</em> and the Mod runs on <em>Minecraft 1.19(.0)</em></p>\n"},{"tags":["java","spring","spring-mvc-test"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1391755553,"post_id":21620964,"comment_id":32670147,"body_markdown":"Checkout the `ExpectedException` rule and write your own derivative for your wrapped exception?","body":"Checkout the <code>ExpectedException</code> rule and write your own derivative for your wrapped exception?"},{"owner":{"account_id":3330502,"reputation":1307,"user_id":2799561,"accept_rate":57,"display_name":"jacquard"},"score":1,"creation_date":1391755852,"post_id":21620964,"comment_id":32670245,"body_markdown":"That means I am bending my test case to accept `NestedServletException`. What I want is to somehow change the controller behaviour to throw the `MethodArgumentNotValidException` directly instead of nesting it inside `NestedServletException`","body":"That means I am bending my test case to accept <code>NestedServletException</code>. What I want is to somehow change the controller behaviour to throw the <code>MethodArgumentNotValidException</code> directly instead of nesting it inside <code>NestedServletException</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666787529,"post_id":21620964,"comment_id":131017856,"body_markdown":"Why struggle with some &quot;mock servlet&quot; exception handling (details + &quot;simple resolution&quot;)? Better: expect status is &quot;bad request&quot;!?","body":"Why struggle with some &quot;mock servlet&quot; exception handling (details + &quot;simple resolution&quot;)? Better: expect status is &quot;bad request&quot;!?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666787678,"post_id":21620964,"comment_id":131017905,"body_markdown":"..but reason for &quot;nested exception&quot; could also be *any* &quot;servlet exception&quot; (before/after validation;)!!","body":"..but reason for &quot;nested exception&quot; could also be <i>any</i> &quot;servlet exception&quot; (before/after validation;)!!"}],"answers":[{"tags":[],"owner":{"account_id":3514520,"reputation":180,"user_id":2938285,"accept_rate":100,"display_name":"Pedro Gonzalez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431085017,"creation_date":1431085017,"answer_id":30122876,"question_id":21620964,"body_markdown":"I had similar issue and I fixed it extending my exception class from NestedServletException. For example:\r\n\r\n    @RequestMapping(value = &quot;/updateForm/{roleID}&quot;, method = RequestMethod.GET)\r\n       public String updateForm(@PathVariable Long roleID, Model model, HttpSession session) throws ElementNotFoundException {\r\n\r\n      Role role = roleService.findOne(roleID);\r\n      if (role == null) {\r\n         throw new ElementNotFoundException(&quot;Role&quot;);\r\n      }\r\n\r\n      ...\r\n    }\r\n\r\nAnd my exception looks like:\r\n\r\n    public class ElementNotFoundException extends NestedServletException {\r\n\r\n       private static final long serialVersionUID = 2689075086409560459L;\r\n\r\n       private String typeElement;\r\n\r\n       public ElementNotFoundException(String typeElement) {\r\n         super(typeElement);\r\n         this.typeElement = typeElement;\r\n       }\r\n\r\n       public String getTypeElement() {\r\n         return typeElement;\r\n       }\r\n\r\n    }\r\n\r\nSo my test is:\r\n\r\n    @Test(expected = ElementNotFoundException.class)\r\n    public void updateForm_elementNotFound_Test() throws Exception {\r\n      String roleID = &quot;1&quot;;\r\n\r\n      Mockito.when(roleService.findOne(Long.valueOf(roleID))).thenReturn(null);\r\n\r\n      mockMvc.perform(get(&quot;/role/updateForm/&quot; + roleID)).andExpect(status().isOk()).andExpect(view().name(&quot;exception/elementNotFound&quot;));\r\n    }\r\n","title":"Handling MethodArgumentNotValidException in Junit testcase?","body":"<p>I had similar issue and I fixed it extending my exception class from NestedServletException. For example:</p>\n\n<pre><code>@RequestMapping(value = \"/updateForm/{roleID}\", method = RequestMethod.GET)\n   public String updateForm(@PathVariable Long roleID, Model model, HttpSession session) throws ElementNotFoundException {\n\n  Role role = roleService.findOne(roleID);\n  if (role == null) {\n     throw new ElementNotFoundException(\"Role\");\n  }\n\n  ...\n}\n</code></pre>\n\n<p>And my exception looks like:</p>\n\n<pre><code>public class ElementNotFoundException extends NestedServletException {\n\n   private static final long serialVersionUID = 2689075086409560459L;\n\n   private String typeElement;\n\n   public ElementNotFoundException(String typeElement) {\n     super(typeElement);\n     this.typeElement = typeElement;\n   }\n\n   public String getTypeElement() {\n     return typeElement;\n   }\n\n}\n</code></pre>\n\n<p>So my test is:</p>\n\n<pre><code>@Test(expected = ElementNotFoundException.class)\npublic void updateForm_elementNotFound_Test() throws Exception {\n  String roleID = \"1\";\n\n  Mockito.when(roleService.findOne(Long.valueOf(roleID))).thenReturn(null);\n\n  mockMvc.perform(get(\"/role/updateForm/\" + roleID)).andExpect(status().isOk()).andExpect(view().name(\"exception/elementNotFound\"));\n}\n</code></pre>\n"}],"owner":{"account_id":3330502,"reputation":1307,"user_id":2799561,"accept_rate":57,"display_name":"jacquard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13840,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1698376085,"creation_date":1391755258,"question_id":21620964,"body_markdown":"I am using spring MVC testing: In my test case, I am passing an invalid `Bar` object(age with zero). The `MethodArgumentNotValidException` is being thrown, but it is nested inside a `NestedServletException`. Is there anyway to throw the `MethodArgumentNotValidException` exception from the controller through an existing/custom `HandlerExceptionResolver`, so that my current test case `checkHit2` passes?\r\n\r\n\r\n**Controller:**\r\n\r\n    @RequestMapping(value=&quot;/test&quot;, method = RequestMethod.POST, headers=&quot;Accept=application/json&quot;)\r\n    \t@ResponseBody\r\n    \tpublic Bar getTables(@Valid @RequestBody Bar id) {\r\n    \t\treturn id;\r\n    \r\n    \t}\r\n\r\n**TestCase**\r\n\r\n\r\n    @Before\r\n    public void setUp() {\r\n    \r\n    \tmockMvc =  standaloneSetup(excelFileUploader).setHandlerExceptionResolvers(new SimpleMappingExceptionResolver()).build();\r\n    }\r\n\r\n    @Test(expected=MethodArgumentNotValidException.class)\r\n    \tpublic void checkHit2() throws Exception {\r\n    \t\tBar b = new Bar(0, &quot;Sfd&quot;);\r\n    \t\tmockMvc.perform(\r\n    \t\t\t\tpost(&quot;/excel/tablesDetail&quot;).contentType(\r\n    \t\t\t\t\t\tMediaType.APPLICATION_JSON).content(\r\n    \t\t\t\t\t\tTestUtil.convertObjectToJsonBytes(b)));\r\n    \t\r\n**Bar**\r\n\r\n    public class Bar {\r\n    \t\r\n    \t@JsonProperty(&quot;age&quot;)\r\n    \t@Min(value =1)\r\n    \tprivate int age;\r\n    public Bar(int age, String name) {\r\n    \t\tsuper();\r\n    \t\tthis.age = age;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    ...\r\n    }\r\n\r\n**Junit output**\r\n\r\n    java.lang.Exception: Unexpected exception, \r\n    expected&lt;org.springframework.web.bind.MethodArgumentNotValidException&gt; but \r\n    was&lt;org.springframework.web.util.NestedServletException&gt;\r\n\r\n","title":"Handling MethodArgumentNotValidException in Junit testcase?","body":"<p>I am using spring MVC testing: In my test case, I am passing an invalid <code>Bar</code> object(age with zero). The <code>MethodArgumentNotValidException</code> is being thrown, but it is nested inside a <code>NestedServletException</code>. Is there anyway to throw the <code>MethodArgumentNotValidException</code> exception from the controller through an existing/custom <code>HandlerExceptionResolver</code>, so that my current test case <code>checkHit2</code> passes?</p>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>@RequestMapping(value=\"/test\", method = RequestMethod.POST, headers=\"Accept=application/json\")\n    @ResponseBody\n    public Bar getTables(@Valid @RequestBody Bar id) {\n        return id;\n\n    }\n</code></pre>\n\n<p><strong>TestCase</strong></p>\n\n<pre><code>@Before\npublic void setUp() {\n\n    mockMvc =  standaloneSetup(excelFileUploader).setHandlerExceptionResolvers(new SimpleMappingExceptionResolver()).build();\n}\n\n@Test(expected=MethodArgumentNotValidException.class)\n    public void checkHit2() throws Exception {\n        Bar b = new Bar(0, \"Sfd\");\n        mockMvc.perform(\n                post(\"/excel/tablesDetail\").contentType(\n                        MediaType.APPLICATION_JSON).content(\n                        TestUtil.convertObjectToJsonBytes(b)));\n</code></pre>\n\n<p><strong>Bar</strong></p>\n\n<pre><code>public class Bar {\n\n    @JsonProperty(\"age\")\n    @Min(value =1)\n    private int age;\npublic Bar(int age, String name) {\n        super();\n        this.age = age;\n        this.name = name;\n    }\n...\n}\n</code></pre>\n\n<p><strong>Junit output</strong></p>\n\n<pre><code>java.lang.Exception: Unexpected exception, \nexpected&lt;org.springframework.web.bind.MethodArgumentNotValidException&gt; but \nwas&lt;org.springframework.web.util.NestedServletException&gt;\n</code></pre>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":156983,"reputation":4517,"user_id":374601,"accept_rate":91,"display_name":"Erty Seidohl"},"score":0,"creation_date":1583897589,"post_id":60628828,"comment_id":107263818,"body_markdown":"Welcome to Stackoverflow! Can you share more about what&#39;s happening? Are you getting an error message?","body":"Welcome to Stackoverflow! Can you share more about what&#39;s happening? Are you getting an error message?"},{"owner":{"account_id":12292075,"reputation":1764,"user_id":8968982,"display_name":"GMc"},"score":0,"creation_date":1583898071,"post_id":60628828,"comment_id":107263916,"body_markdown":"When you say the code &quot;aint work&quot;, what do you mean? Do you get a compiler error, the wrong result, something else?\nPlease provide some details as to what you have tried, what you expected to happen and what actually happened.\nHere is a starting point. What is the name of your first parameter? where is this used within the function?\nHere is another starting point - if you want to add up all of the elements in an array, you might need to use a loop of some kind.","body":"When you say the code &quot;aint work&quot;, what do you mean? Do you get a compiler error, the wrong result, something else? Please provide some details as to what you have tried, what you expected to happen and what actually happened. Here is a starting point. What is the name of your first parameter? where is this used within the function? Here is another starting point - if you want to add up all of the elements in an array, you might need to use a loop of some kind."},{"owner":{"account_id":17949144,"reputation":1,"user_id":13042654,"display_name":"Will i am"},"score":0,"creation_date":1583898270,"post_id":60628828,"comment_id":107263943,"body_markdown":"Hello, the code  isn&#39;t error, so i will explain all the code first, a couple minutes ago, i trying to run this code, but he return with wrong result , example i have array {50,50,80} , the result is 180, yes it add all the numbers , but the code not divide the result by the arr.length, thanks before","body":"Hello, the code  isn&#39;t error, so i will explain all the code first, a couple minutes ago, i trying to run this code, but he return with wrong result , example i have array {50,50,80} , the result is 180, yes it add all the numbers , but the code not divide the result by the arr.length, thanks before"},{"owner":{"account_id":12292075,"reputation":1764,"user_id":8968982,"display_name":"GMc"},"score":0,"creation_date":1583898462,"post_id":60628828,"comment_id":107263970,"body_markdown":"Are you sure you have run the code you posted? Have a look at my starting points.\nHere is another one - You don&#39;t need to **return return** a result. Only one return is required. Two returns should give a compiler error.\nAlso, how are you calling it? If you pass the length of the array as the second parameter, the function will **return return** 0 - disregarding the mismatched variable name issue (which probably isn&#39;t going to be the sum of all of the elements).\nIn short provide some details that allow us to help you. Remember, we cannot see your screen.","body":"Are you sure you have run the code you posted? Have a look at my starting points. Here is another one - You don&#39;t need to <b>return return</b> a result. Only one return is required. Two returns should give a compiler error. Also, how are you calling it? If you pass the length of the array as the second parameter, the function will <b>return return</b> 0 - disregarding the mismatched variable name issue (which probably isn&#39;t going to be the sum of all of the elements). In short provide some details that allow us to help you. Remember, we cannot see your screen."},{"owner":{"account_id":17949144,"reputation":1,"user_id":13042654,"display_name":"Will i am"},"score":0,"creation_date":1583898643,"post_id":60628828,"comment_id":107264003,"body_markdown":"So i expecting the code will return add all the numbers in arr and divided by arr.length,The parameter is arr (sorry you have to change array to arr), and index always 0 , u know how to use looping like for to add and divide it, but iwant to use recursion,  oh sorry ,the last return should be return count+ add(arr,index+1).","body":"So i expecting the code will return add all the numbers in arr and divided by arr.length,The parameter is arr (sorry you have to change array to arr), and index always 0 , u know how to use looping like for to add and divide it, but iwant to use recursion,  oh sorry ,the last return should be return count+ add(arr,index+1)."},{"owner":{"account_id":17949144,"reputation":1,"user_id":13042654,"display_name":"Will i am"},"score":0,"creation_date":1583899014,"post_id":60628828,"comment_id":107264081,"body_markdown":"Sorry if you dont understand my english, and im basic at java, i just want to understand more about recursion.thanks","body":"Sorry if you dont understand my english, and im basic at java, i just want to understand more about recursion.thanks"}],"answers":[{"tags":[],"owner":{"account_id":12292075,"reputation":1764,"user_id":8968982,"display_name":"GMc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698374992,"creation_date":1583899720,"answer_id":60629145,"question_id":60628828,"body_markdown":"There are a few ways to write recursive functions. One common way is to\r\n\r\n1. Use an accumulator to carry (accumulete) intermediate values.\r\n2. Use a &quot;bootstrap&quot; function to get it going.\r\n\r\nIn reference to my example, the `recursiveAdd` function simply takes the list of integers to be **averaged**. This function then calls the recursive function with the correct initial values - index = 0 and accumulator = 0.\r\n\r\nLooking at the recursive function from the bottom up, It calls itself with the array and increments the index to the next element. It also passes the accumulated value + the value of the current element.\r\n\r\nThe second (actually the first) thing that the recursive function `_add` does is to check if we have reached the end of the list. If we have, it will return the accumulator (which will hold the sum of every element in the array) back out to the &quot;bootstrap function&quot; `recursiveAdd` where the result will be divided by the length of the array to calculate the average and return that result to the caller.\r\n\r\nA couple of notes. Since you are dividing by the number of elements in the list, you might want to use `double` as the return type (rather than `int`) from the bootstrap function (e.g. what if your array was {1, 1, 0}). Also consider what might happen if there are a large number of elements in the array.\r\n\r\n\r\n```java\r\npublic class RecursiveAdder {\r\n\r\n    public static void main(String [] args) {\r\n        int  [] x = { 1, 2, 3};\r\n        int [] y = { 10, 20, 30, 40};\r\n        System.out.println(recursiveAdd(x));\r\n        System.out.println(recursiveAdd(y));\r\n\r\n    }\r\n\r\n    public static int recursiveAdd(int [] x) {\r\n        return _add(x, 0, 0) / x.length;\r\n    }\r\n\r\n    public static int _add(int x [], int index, int accumulator) {\r\n        if (index == x.length) {\r\n            return accumulator;\r\n        }\r\n\r\n        return _add(x, index+1, x[index] + accumulator);\r\n    }\r\n}\r\n```\r\n\r\nFWIW, your example is only dividing the last element by the length of the array. And even then, it is not dividing the value of the last element by the length, it is dividing count by the length and count was just initialised to zero. So your function is just returning 0 for the last element.","title":"How can I make program to add all numbers in array?","body":"<p>There are a few ways to write recursive functions. One common way is to</p>\n<ol>\n<li>Use an accumulator to carry (accumulete) intermediate values.</li>\n<li>Use a &quot;bootstrap&quot; function to get it going.</li>\n</ol>\n<p>In reference to my example, the <code>recursiveAdd</code> function simply takes the list of integers to be <strong>averaged</strong>. This function then calls the recursive function with the correct initial values - index = 0 and accumulator = 0.</p>\n<p>Looking at the recursive function from the bottom up, It calls itself with the array and increments the index to the next element. It also passes the accumulated value + the value of the current element.</p>\n<p>The second (actually the first) thing that the recursive function <code>_add</code> does is to check if we have reached the end of the list. If we have, it will return the accumulator (which will hold the sum of every element in the array) back out to the &quot;bootstrap function&quot; <code>recursiveAdd</code> where the result will be divided by the length of the array to calculate the average and return that result to the caller.</p>\n<p>A couple of notes. Since you are dividing by the number of elements in the list, you might want to use <code>double</code> as the return type (rather than <code>int</code>) from the bootstrap function (e.g. what if your array was {1, 1, 0}). Also consider what might happen if there are a large number of elements in the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RecursiveAdder {\n\n    public static void main(String [] args) {\n        int  [] x = { 1, 2, 3};\n        int [] y = { 10, 20, 30, 40};\n        System.out.println(recursiveAdd(x));\n        System.out.println(recursiveAdd(y));\n\n    }\n\n    public static int recursiveAdd(int [] x) {\n        return _add(x, 0, 0) / x.length;\n    }\n\n    public static int _add(int x [], int index, int accumulator) {\n        if (index == x.length) {\n            return accumulator;\n        }\n\n        return _add(x, index+1, x[index] + accumulator);\n    }\n}\n</code></pre>\n<p>FWIW, your example is only dividing the last element by the length of the array. And even then, it is not dividing the value of the last element by the length, it is dividing count by the length and count was just initialised to zero. So your function is just returning 0 for the last element.</p>\n"}],"owner":{"account_id":17949144,"reputation":1,"user_id":13042654,"display_name":"Will i am"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1698374992,"creation_date":1583896978,"question_id":60628828,"body_markdown":"```java\r\npublic static int add(int [] arr , int index){\r\n  int count=0;\r\n\r\n  if(arr.length == index)\r\n    return count/arr.length;\r\n\r\n  if(index&lt; arr.length)\r\n    count+=arr[index];\r\n\r\n  return count + add(arr,index+1);\r\n\r\n}\r\n```\r\n\r\n\r\nSo the problem is I want this code add al the numbers in array but this code doesn&#39;t work.","title":"How can I make program to add all numbers in array?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static int add(int [] arr , int index){\n  int count=0;\n\n  if(arr.length == index)\n    return count/arr.length;\n\n  if(index&lt; arr.length)\n    count+=arr[index];\n\n  return count + add(arr,index+1);\n\n}\n</code></pre>\n<p>So the problem is I want this code add al the numbers in array but this code doesn't work.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16344640,"reputation":843,"user_id":11804729,"display_name":"Chaitanya Chavali"},"score":0,"creation_date":1589463229,"post_id":61798427,"comment_id":109308695,"body_markdown":"Hey buddy! I know you want to be nice, but please remove that `Please help out` part. At max once is okay. Otherwise, there is a high chance, your question will be removed by moderators.","body":"Hey buddy! I know you want to be nice, but please remove that <code>Please help out</code> part. At max once is okay. Otherwise, there is a high chance, your question will be removed by moderators."},{"owner":{"account_id":16344640,"reputation":843,"user_id":11804729,"display_name":"Chaitanya Chavali"},"score":0,"creation_date":1589463327,"post_id":61798427,"comment_id":109308769,"body_markdown":"Please describe in words, what you intend to do. It is very hard to imagine what is the purpose of your code by looking at the code.","body":"Please describe in words, what you intend to do. It is very hard to imagine what is the purpose of your code by looking at the code."},{"owner":{"account_id":14967377,"reputation":2042,"user_id":10805230,"display_name":"Ratish Bansal"},"score":1,"creation_date":1589463358,"post_id":61798427,"comment_id":109308791,"body_markdown":"Please share the exception logs","body":"Please share the exception logs"},{"owner":{"account_id":18527557,"reputation":101,"user_id":13499122,"display_name":"Akram Bensalem"},"score":0,"creation_date":1589463455,"post_id":61798427,"comment_id":109308855,"body_markdown":"is the **Log.i(&quot;INFO&quot;,&quot;button pressed&quot;);** appear in logcat ??","body":"is the <b>Log.i(&quot;INFO&quot;,&quot;button pressed&quot;);</b> appear in logcat ??"},{"owner":{"account_id":18582238,"reputation":11,"user_id":13541516,"display_name":"Deepak Vss"},"score":0,"creation_date":1589463833,"post_id":61798427,"comment_id":109309106,"body_markdown":"Sorry if it&#39;s odd i have done that beacause stackoverflow is showing very less description and I&#39;m not able to post","body":"Sorry if it&#39;s odd i have done that beacause stackoverflow is showing very less description and I&#39;m not able to post"},{"owner":{"account_id":18582238,"reputation":11,"user_id":13541516,"display_name":"Deepak Vss"},"score":0,"creation_date":1589463893,"post_id":61798427,"comment_id":109309147,"body_markdown":"Yes Akram Bensalem","body":"Yes Akram Bensalem"},{"owner":{"account_id":16344640,"reputation":843,"user_id":11804729,"display_name":"Chaitanya Chavali"},"score":0,"creation_date":1589464301,"post_id":61798427,"comment_id":109309438,"body_markdown":"why are you removing items from `list`?","body":"why are you removing items from <code>list</code>?"},{"owner":{"account_id":18582238,"reputation":11,"user_id":13541516,"display_name":"Deepak Vss"},"score":0,"creation_date":1589464450,"post_id":61798427,"comment_id":109309531,"body_markdown":"To avoid repetition of digits","body":"To avoid repetition of digits"},{"owner":{"account_id":18582238,"reputation":11,"user_id":13541516,"display_name":"Deepak Vss"},"score":0,"creation_date":1589465276,"post_id":61798427,"comment_id":109310104,"body_markdown":"i shared log cat window details above check it","body":"i shared log cat window details above check it"},{"owner":{"account_id":16344640,"reputation":843,"user_id":11804729,"display_name":"Chaitanya Chavali"},"score":0,"creation_date":1589465845,"post_id":61798427,"comment_id":109310502,"body_markdown":"Share the `xml` of `activity_main` also. Did you set `android:onClick` in `activity_main.xml`?","body":"Share the <code>xml</code> of <code>activity_main</code> also. Did you set <code>android:onClick</code> in <code>activity_main.xml</code>?"},{"owner":{"account_id":18582238,"reputation":11,"user_id":13541516,"display_name":"Deepak Vss"},"score":0,"creation_date":1589466141,"post_id":61798427,"comment_id":109310689,"body_markdown":"ya i set it to clickFunction Chaitanya chavali","body":"ya i set it to clickFunction Chaitanya chavali"}],"answers":[{"tags":[],"owner":{"account_id":16344640,"reputation":843,"user_id":11804729,"display_name":"Chaitanya Chavali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698373531,"creation_date":1589465266,"answer_id":61799435,"question_id":61798427,"body_markdown":"I think `generateCbNumber` sets the value of `w,x,y,z` randomly. and then you are calling it whenever the user enters a four-digit number. Then I think your code must be\r\n\r\n    public void generateCbNumber(){\r\n        c=0;\r\n        b=0;\r\n        List list= new ArrayList();\r\n        list.add(1);\r\n        list.add(2);\r\n        list.add(3);\r\n        list.add(4);\r\n        list.add(5);\r\n        list.add(6);\r\n        list.add(7);\r\n        list.add(8);\r\n        list.add(9);\r\n        \r\n        int r;\r\n        List numlist= new ArrayList();\r\n\r\n        r=(int)(Math.random()*9)\r\n        numlist.add(list.get(r));\r\n        list.remove(r);\r\n\r\n        r=(int)(Math.random()*8)\r\n        numlist.add(list.get(r));\r\n        list.remove(r);\r\n\r\n        r=(int)(Math.random()*7)\r\n        numlist.add(list.get(r));\r\n        list.remove(r);\r\n\r\n        r=(int)(Math.random()*6)\r\n        numlist.add(list.get(r));\r\n        list.remove(r);\r\n        \r\n\r\n        int W=  numlist.get(0);\r\n        int X=  numlist.get(1);\r\n        int Y=  numlist.get(2);\r\n        int Z=  numlist.get(3);\r\n\r\n        this.w = &#39;0&#39;+(char)W;\r\n        this.x = &#39;0&#39;+(char)X;\r\n        this.y = &#39;0&#39;+(char)Y;\r\n        this.z = &#39;0&#39;+(char)Z;\r\n\r\n\r\n    }\r\n\r\nAlso, you should call this `generateCbNumber` in `onCreate` to set initial values.\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        generateCbNumber();\r\n    }\r\n\r\n\r\n**Final Edit(Working and tested):**\r\nI have tested and it is working with this code.\r\n\r\n        package com.example.cowsandbulls;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.lang.*;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        int number,c,b;\r\n        char a,w,x,y,z;\r\n        List&lt;Integer&gt; numlist;\r\n        public void generateCbNumber(){\r\n            c=0;\r\n            b=0;\r\n            List&lt;Integer&gt; list= new ArrayList();\r\n            list.add(1);\r\n            list.add(2);\r\n            list.add(3);\r\n            list.add(4);\r\n            list.add(5);\r\n            list.add(6);\r\n            list.add(7);\r\n            list.add(8);\r\n            list.add(9);\r\n\r\n            int r;\r\n            List&lt;Integer&gt; numlist= new ArrayList();\r\n\r\n            r=(int)(Math.random()*9);\r\n            numlist.add(list.get(r));\r\n            list.remove(r);\r\n\r\n            r=(int)(Math.random()*8);\r\n            numlist.add(list.get(r));\r\n            list.remove(r);\r\n\r\n            r=(int)(Math.random()*7);\r\n            numlist.add(list.get(r));\r\n            list.remove(r);\r\n\r\n            r=(int)(Math.random()*6);\r\n            numlist.add(list.get(r));\r\n            list.remove(r);\r\n\r\n\r\n            int W=  numlist.get(0);\r\n            int X=  numlist.get(1);\r\n            int Y=  numlist.get(2);\r\n            int Z=  numlist.get(3);\r\n\r\n            this.w = (char)W;\r\n            this.w += &#39;0&#39;;\r\n\r\n            this.x = (char)X;\r\n            this.x += &#39;0&#39;;\r\n\r\n            this.y = (char)Y;\r\n            this.y += &#39;0&#39;;\r\n\r\n            this.z = (char)Z;\r\n            this.z += &#39;0&#39;;\r\n\r\n        }\r\n    public void clickFunction(View view)\r\n    { Log.i(&quot;INFO&quot;,&quot;button pressed&quot;);\r\n        EditText editText=(EditText) findViewById(R.id.editText);\r\n        a=0;\r\n        String Text=editText.getText().toString();\r\n        int number=Integer.parseInt(Text);\r\n        if(number&gt;999 &amp;&amp; number&lt;10000) {\r\n\r\n            if (Text.charAt(0) == Text.charAt(1) || Text.charAt(0) == Text.charAt(2) || Text.charAt(0) == Text.charAt(3) || Text.charAt(1) == Text.charAt(2) || Text.charAt(1) == Text.charAt(3) || Text.charAt(2) == Text.charAt(3)) {\r\n                Toast.makeText(this, &quot;No repititions&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (Text.charAt(0) == a || Text.charAt(1) == a || Text.charAt(2) == a || Text.charAt(3) == a) {\r\n                Toast.makeText(this, &quot;Number should not contain 0&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (Text.charAt(0) == w &amp;&amp; Text.charAt(1) == x &amp;&amp; Text.charAt(2) == y &amp;&amp; Text.charAt(3) == z) {\r\n                Toast.makeText(this, &quot;4 Bull you win !!&quot;, Toast.LENGTH_LONG).show();\r\n                generateCbNumber();\r\n            } else {\r\n                if (Text.charAt(0) == w) {\r\n                    b++;\r\n                } else if (Text.charAt(0) == x || Text.charAt(0) == y || Text.charAt(0) == z) {\r\n                    c++;\r\n                }\r\n                if (Text.charAt(1) == x) {\r\n                    b++;\r\n                } else if (Text.charAt(1) == w || Text.charAt(1) == y || Text.charAt(1) == z) {\r\n                    c++;\r\n                }\r\n                if (Text.charAt(2) == y) {\r\n                    b++;\r\n                } else if (Text.charAt(2) == x || Text.charAt(2) == w || Text.charAt(2) == z) {\r\n                    c++;\r\n                }\r\n                if (Text.charAt(3) == z) {\r\n                    b++;\r\n                } else if (Text.charAt(3) == x || Text.charAt(3) == y || Text.charAt(3) == z) {\r\n                    c++;\r\n                }\r\n                String cow = Integer.toString(c);\r\n                String bull = Integer.toString(b);\r\n                Toast.makeText(this, cow + &quot; Cow &quot; + bull + &quot; Bull&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                generateCbNumber();\r\n            }\r\n        }\r\n        if(number&lt;=100 || number&gt;=10000) {\r\n            if(number==0)\r\n            {Toast.makeText(this, &quot;The Number is&quot;+w+x+y+z, Toast.LENGTH_LONG).show();}\r\n            else {\r\n                Toast.makeText(this, &quot;Enter a four digit number&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        generateCbNumber();\r\n    }\r\n    }\r\n\r\ncheck this [link][2] for images.\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/how-to-ask\r\n  [2]: https://drive.google.com/open?id=1TFassLpR5QV5vVzoEzdy7B1eh1kH-d49","title":"app gets build but it is crashing on pressing button the","body":"<p>I think <code>generateCbNumber</code> sets the value of <code>w,x,y,z</code> randomly. and then you are calling it whenever the user enters a four-digit number. Then I think your code must be</p>\n<pre><code>public void generateCbNumber(){\n    c=0;\n    b=0;\n    List list= new ArrayList();\n    list.add(1);\n    list.add(2);\n    list.add(3);\n    list.add(4);\n    list.add(5);\n    list.add(6);\n    list.add(7);\n    list.add(8);\n    list.add(9);\n    \n    int r;\n    List numlist= new ArrayList();\n\n    r=(int)(Math.random()*9)\n    numlist.add(list.get(r));\n    list.remove(r);\n\n    r=(int)(Math.random()*8)\n    numlist.add(list.get(r));\n    list.remove(r);\n\n    r=(int)(Math.random()*7)\n    numlist.add(list.get(r));\n    list.remove(r);\n\n    r=(int)(Math.random()*6)\n    numlist.add(list.get(r));\n    list.remove(r);\n    \n\n    int W=  numlist.get(0);\n    int X=  numlist.get(1);\n    int Y=  numlist.get(2);\n    int Z=  numlist.get(3);\n\n    this.w = '0'+(char)W;\n    this.x = '0'+(char)X;\n    this.y = '0'+(char)Y;\n    this.z = '0'+(char)Z;\n\n\n}\n</code></pre>\n<p>Also, you should call this <code>generateCbNumber</code> in <code>onCreate</code> to set initial values.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    generateCbNumber();\n}\n</code></pre>\n<p><strong>Final Edit(Working and tested):</strong>\nI have tested and it is working with this code.</p>\n<pre><code>    package com.example.cowsandbulls;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.lang.*;\n\npublic class MainActivity extends AppCompatActivity {\n    int number,c,b;\n    char a,w,x,y,z;\n    List&lt;Integer&gt; numlist;\n    public void generateCbNumber(){\n        c=0;\n        b=0;\n        List&lt;Integer&gt; list= new ArrayList();\n        list.add(1);\n        list.add(2);\n        list.add(3);\n        list.add(4);\n        list.add(5);\n        list.add(6);\n        list.add(7);\n        list.add(8);\n        list.add(9);\n\n        int r;\n        List&lt;Integer&gt; numlist= new ArrayList();\n\n        r=(int)(Math.random()*9);\n        numlist.add(list.get(r));\n        list.remove(r);\n\n        r=(int)(Math.random()*8);\n        numlist.add(list.get(r));\n        list.remove(r);\n\n        r=(int)(Math.random()*7);\n        numlist.add(list.get(r));\n        list.remove(r);\n\n        r=(int)(Math.random()*6);\n        numlist.add(list.get(r));\n        list.remove(r);\n\n\n        int W=  numlist.get(0);\n        int X=  numlist.get(1);\n        int Y=  numlist.get(2);\n        int Z=  numlist.get(3);\n\n        this.w = (char)W;\n        this.w += '0';\n\n        this.x = (char)X;\n        this.x += '0';\n\n        this.y = (char)Y;\n        this.y += '0';\n\n        this.z = (char)Z;\n        this.z += '0';\n\n    }\npublic void clickFunction(View view)\n{ Log.i(&quot;INFO&quot;,&quot;button pressed&quot;);\n    EditText editText=(EditText) findViewById(R.id.editText);\n    a=0;\n    String Text=editText.getText().toString();\n    int number=Integer.parseInt(Text);\n    if(number&gt;999 &amp;&amp; number&lt;10000) {\n\n        if (Text.charAt(0) == Text.charAt(1) || Text.charAt(0) == Text.charAt(2) || Text.charAt(0) == Text.charAt(3) || Text.charAt(1) == Text.charAt(2) || Text.charAt(1) == Text.charAt(3) || Text.charAt(2) == Text.charAt(3)) {\n            Toast.makeText(this, &quot;No repititions&quot;, Toast.LENGTH_SHORT).show();\n        } else if (Text.charAt(0) == a || Text.charAt(1) == a || Text.charAt(2) == a || Text.charAt(3) == a) {\n            Toast.makeText(this, &quot;Number should not contain 0&quot;, Toast.LENGTH_SHORT).show();\n        } else if (Text.charAt(0) == w &amp;&amp; Text.charAt(1) == x &amp;&amp; Text.charAt(2) == y &amp;&amp; Text.charAt(3) == z) {\n            Toast.makeText(this, &quot;4 Bull you win !!&quot;, Toast.LENGTH_LONG).show();\n            generateCbNumber();\n        } else {\n            if (Text.charAt(0) == w) {\n                b++;\n            } else if (Text.charAt(0) == x || Text.charAt(0) == y || Text.charAt(0) == z) {\n                c++;\n            }\n            if (Text.charAt(1) == x) {\n                b++;\n            } else if (Text.charAt(1) == w || Text.charAt(1) == y || Text.charAt(1) == z) {\n                c++;\n            }\n            if (Text.charAt(2) == y) {\n                b++;\n            } else if (Text.charAt(2) == x || Text.charAt(2) == w || Text.charAt(2) == z) {\n                c++;\n            }\n            if (Text.charAt(3) == z) {\n                b++;\n            } else if (Text.charAt(3) == x || Text.charAt(3) == y || Text.charAt(3) == z) {\n                c++;\n            }\n            String cow = Integer.toString(c);\n            String bull = Integer.toString(b);\n            Toast.makeText(this, cow + &quot; Cow &quot; + bull + &quot; Bull&quot;, Toast.LENGTH_SHORT).show();\n\n            generateCbNumber();\n        }\n    }\n    if(number&lt;=100 || number&gt;=10000) {\n        if(number==0)\n        {Toast.makeText(this, &quot;The Number is&quot;+w+x+y+z, Toast.LENGTH_LONG).show();}\n        else {\n            Toast.makeText(this, &quot;Enter a four digit number&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n\n\n\n\n\n}\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    generateCbNumber();\n}\n}\n</code></pre>\n<p>check this <a href=\"https://drive.google.com/open?id=1TFassLpR5QV5vVzoEzdy7B1eh1kH-d49\" rel=\"nofollow noreferrer\">link</a> for images.</p>\n"}],"owner":{"account_id":18582238,"reputation":11,"user_id":13541516,"display_name":"Deepak Vss"},"comment_count":11,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1589487182,"accepted_answer_id":61799435,"answer_count":1,"score":-2,"last_activity_date":1698373531,"creation_date":1589462439,"question_id":61798427,"body_markdown":"[log cat]Here is my Myactivity \r\nIt is a basic app without any transitions or advanced android features\r\nit us based on cow bull game\r\nit contains only one button\r\nsome text views\r\nand one plain text\r\n```\r\npackage com.example.cowsandbulls;\r\n \r\nimport androidx.appcompat.app.AppCompatActivity;\r\n \r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n \r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.lang.*;\r\n \r\npublic class MainActivity extends AppCompatActivity {\r\n    int number,c,b;\r\n    char a,w,x,y,z;\r\n    List&lt;Integer&gt; numlist;\r\n    public void generateCbNumber(){\r\n        c=0;\r\n        b=0;\r\n        List list= new ArrayList();\r\n        list.add(1);\r\n        list.add(2);\r\n        list.add(3);\r\n        list.add(4);\r\n        list.add(5);\r\n        list.add(6);\r\n        list.add(7);\r\n        list.add(8);\r\n        list.add(9);\r\n        List numlist= new ArrayList();\r\n        numlist.add(list.get((int)(Math.random()*9)));\r\n        list.remove(numlist.get(0));\r\n        numlist.add(list.get((int)(Math.random()*9)));\r\n        list.remove(numlist.get(1));\r\n        numlist.add(list.get((int)(Math.random()*9)));\r\n        list.remove(numlist.get(2));\r\n        numlist.add(list.get((int)(Math.random()*9)));\r\n        list.remove(numlist.get(3));\r\n        char w= (char) numlist.get(0);\r\n        char x= (char) numlist.get(0);\r\n        char y= (char) numlist.get(0);\r\n        char z= (char) numlist.get(0);\r\n \r\n    }\r\n    public void clickFunction(View view)\r\n    { Log.i(&quot;INFO&quot;,&quot;button pressed&quot;);\r\n        EditText editText=(EditText) findViewById(R.id.editText);\r\n        a=0;\r\n        String Text=editText.getText().toString();\r\n        int number=Integer.parseInt(Text);\r\n        if(number&gt;999 &amp;&amp; number&lt;10000) {\r\n \r\n            if(Text.charAt(0) == Text.charAt(1) || Text.charAt(0) == Text.charAt(2) || Text.charAt(0) == Text.charAt(3) || Text.charAt(1) == Text.charAt(2) || Text.charAt(1) == Text.charAt(3) || Text.charAt(2) == Text.charAt(3))\r\n            {‌{Toast.makeText(this,&quot;No repititions&quot;,Toast.LENGTH_SHORT).show();}}\r\n            else if(Text.charAt(0) == a || Text.charAt(1) == a || Text.charAt(2) == a || Text.charAt(3) == a)\r\n            {Toast.makeText(this,&quot;Number should not contain 0&quot;,Toast.LENGTH_SHORT).show();}\r\n            else if(Text.charAt(0) == w &amp;&amp; Text.charAt(1) == x &amp;&amp; Text.charAt(2) == y &amp;&amp; Text.charAt(3) == z){\r\n                Toast.makeText(this,&quot;4 Bull you win !!&quot;,Toast.LENGTH_LONG).show();\r\n                generateCbNumber();\r\n            }\r\n            else {\r\n                if (Text.charAt(0) == w) {\r\n                    b++;\r\n                } else if (Text.charAt(0) == x || Text.charAt(0) == y || Text.charAt(0) == z) {\r\n                    c++;\r\n                }\r\n                if (Text.charAt(1) == x) {\r\n                    b++;\r\n                } else if (Text.charAt(1) == w || Text.charAt(1) == y || Text.charAt(1) == z) {\r\n                    c++;\r\n                }\r\n                if (Text.charAt(2) == y) {\r\n                    b++;\r\n                } else if (Text.charAt(2) == x || Text.charAt(2) == w || Text.charAt(2) == z) {\r\n                    c++;\r\n                }\r\n                if (Text.charAt(3) == z) {\r\n                    b++;\r\n                } else if (Text.charAt(3) == x || Text.charAt(3) == y || Text.charAt(3) == z) {\r\n                    c++;\r\n                }\r\n                String cow = Integer.toString(c);\r\n                String bull = Integer.toString(b);\r\n                Toast.makeText(this, cow + &quot; Cow &quot; + bull + &quot; Bull&quot;, Toast.LENGTH_SHORT).show();\r\n \r\n                generateCbNumber();\r\n            }\r\n        if(number&lt;=100 || number&gt;=10000) {\r\n            if(number==0)\r\n            {Toast.makeText(this, &quot;The Number is&quot;+w+x+y+z, Toast.LENGTH_LONG).show();}\r\n            else\r\n            {\r\n                Toast.makeText(this, &quot;Enter a four digit number&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n \r\n \r\n        }\r\n \r\n \r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```\r\n```\r\nLog cat window\r\n2020-05-14 19:12:59.326 7283-7283/com.example.cowsandbulls I/INFO: button pressed\r\n2020-05-14 19:12:59.332 7283-7283/com.example.cowsandbulls D/AndroidRuntime: Shutting down VM\r\n2020-05-14 19:12:59.334 7283-7283/com.example.cowsandbulls E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.cowsandbulls, PID: 7283\r\n    java.lang.IllegalStateException: Could not execute method for android:onClick\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:402)\r\n        at android.view.View.performClick(View.java:6294)\r\n        at android.view.View$PerformClick.run(View.java:24770)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:397)\r\n        at android.view.View.performClick(View.java:6294)&#160;\r\n        at android.view.View$PerformClick.run(View.java:24770)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:790)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)&#160;\r\n     Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Character\r\n        at com.example.cowsandbulls.MainActivity.generateCbNumber(MainActivity.java:42)\r\n        at com.example.cowsandbulls.MainActivity.clickFunction(MainActivity.java:89)\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:397)&#160;\r\n        at android.view.View.performClick(View.java:6294)&#160;\r\n        at android.view.View$PerformClick.run(View.java:24770)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:790)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)&#160;\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#00BCD4&quot;\r\n    android:backgroundTint=&quot;#07D0EA&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;169dp&quot;\r\n        android:layout_marginEnd=&quot;64dp&quot;\r\n        android:layout_marginBottom=&quot;512dp&quot;\r\n        android:fontFamily=&quot;cursive&quot;\r\n        android:text=&quot;Enter a four digit number&quot;\r\n        android:textColor=&quot;#232020&quot;\r\n        android:textSize=&quot;36sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;91dp&quot;\r\n        android:layout_marginEnd=&quot;168dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Enter Here&quot;\r\n        android:inputType=&quot;number&quot;\r\n        android:textColor=&quot;#E7252729&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;47dp&quot;\r\n        android:layout_marginEnd=&quot;292dp&quot;\r\n        android:background=&quot;#03A9F4&quot;\r\n        android:onClick=&quot;clickFunction&quot;\r\n        android:text=&quot;Check&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editText&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;6dp&quot;\r\n        android:layout_marginEnd=&quot;132dp&quot;\r\n        android:fontFamily=&quot;cursive&quot;\r\n        android:text=&quot;(without repititions not containing zero)&quot;\r\n        android:textColor=&quot;#C80B0A0A&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PI7wg.png","title":"app gets build but it is crashing on pressing button the","body":"<p>[log cat]Here is my Myactivity\nIt is a basic app without any transitions or advanced android features\nit us based on cow bull game\nit contains only one button\nsome text views\nand one plain text</p>\n<pre><code>package com.example.cowsandbulls;\n \nimport androidx.appcompat.app.AppCompatActivity;\n \nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\n \nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.lang.*;\n \npublic class MainActivity extends AppCompatActivity {\n    int number,c,b;\n    char a,w,x,y,z;\n    List&lt;Integer&gt; numlist;\n    public void generateCbNumber(){\n        c=0;\n        b=0;\n        List list= new ArrayList();\n        list.add(1);\n        list.add(2);\n        list.add(3);\n        list.add(4);\n        list.add(5);\n        list.add(6);\n        list.add(7);\n        list.add(8);\n        list.add(9);\n        List numlist= new ArrayList();\n        numlist.add(list.get((int)(Math.random()*9)));\n        list.remove(numlist.get(0));\n        numlist.add(list.get((int)(Math.random()*9)));\n        list.remove(numlist.get(1));\n        numlist.add(list.get((int)(Math.random()*9)));\n        list.remove(numlist.get(2));\n        numlist.add(list.get((int)(Math.random()*9)));\n        list.remove(numlist.get(3));\n        char w= (char) numlist.get(0);\n        char x= (char) numlist.get(0);\n        char y= (char) numlist.get(0);\n        char z= (char) numlist.get(0);\n \n    }\n    public void clickFunction(View view)\n    { Log.i(&quot;INFO&quot;,&quot;button pressed&quot;);\n        EditText editText=(EditText) findViewById(R.id.editText);\n        a=0;\n        String Text=editText.getText().toString();\n        int number=Integer.parseInt(Text);\n        if(number&gt;999 &amp;&amp; number&lt;10000) {\n \n            if(Text.charAt(0) == Text.charAt(1) || Text.charAt(0) == Text.charAt(2) || Text.charAt(0) == Text.charAt(3) || Text.charAt(1) == Text.charAt(2) || Text.charAt(1) == Text.charAt(3) || Text.charAt(2) == Text.charAt(3))\n            {‌{Toast.makeText(this,&quot;No repititions&quot;,Toast.LENGTH_SHORT).show();}}\n            else if(Text.charAt(0) == a || Text.charAt(1) == a || Text.charAt(2) == a || Text.charAt(3) == a)\n            {Toast.makeText(this,&quot;Number should not contain 0&quot;,Toast.LENGTH_SHORT).show();}\n            else if(Text.charAt(0) == w &amp;&amp; Text.charAt(1) == x &amp;&amp; Text.charAt(2) == y &amp;&amp; Text.charAt(3) == z){\n                Toast.makeText(this,&quot;4 Bull you win !!&quot;,Toast.LENGTH_LONG).show();\n                generateCbNumber();\n            }\n            else {\n                if (Text.charAt(0) == w) {\n                    b++;\n                } else if (Text.charAt(0) == x || Text.charAt(0) == y || Text.charAt(0) == z) {\n                    c++;\n                }\n                if (Text.charAt(1) == x) {\n                    b++;\n                } else if (Text.charAt(1) == w || Text.charAt(1) == y || Text.charAt(1) == z) {\n                    c++;\n                }\n                if (Text.charAt(2) == y) {\n                    b++;\n                } else if (Text.charAt(2) == x || Text.charAt(2) == w || Text.charAt(2) == z) {\n                    c++;\n                }\n                if (Text.charAt(3) == z) {\n                    b++;\n                } else if (Text.charAt(3) == x || Text.charAt(3) == y || Text.charAt(3) == z) {\n                    c++;\n                }\n                String cow = Integer.toString(c);\n                String bull = Integer.toString(b);\n                Toast.makeText(this, cow + &quot; Cow &quot; + bull + &quot; Bull&quot;, Toast.LENGTH_SHORT).show();\n \n                generateCbNumber();\n            }\n        if(number&lt;=100 || number&gt;=10000) {\n            if(number==0)\n            {Toast.makeText(this, &quot;The Number is&quot;+w+x+y+z, Toast.LENGTH_LONG).show();}\n            else\n            {\n                Toast.makeText(this, &quot;Enter a four digit number&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n \n \n        }\n \n \n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<pre><code>Log cat window\n2020-05-14 19:12:59.326 7283-7283/com.example.cowsandbulls I/INFO: button pressed\n2020-05-14 19:12:59.332 7283-7283/com.example.cowsandbulls D/AndroidRuntime: Shutting down VM\n2020-05-14 19:12:59.334 7283-7283/com.example.cowsandbulls E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.cowsandbulls, PID: 7283\n    java.lang.IllegalStateException: Could not execute method for android:onClick\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:402)\n        at android.view.View.performClick(View.java:6294)\n        at android.view.View$PerformClick.run(View.java:24770)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:397)\n        at android.view.View.performClick(View.java:6294) \n        at android.view.View$PerformClick.run(View.java:24770) \n        at android.os.Handler.handleCallback(Handler.java:790) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6494) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807) \n     Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Character\n        at com.example.cowsandbulls.MainActivity.generateCbNumber(MainActivity.java:42)\n        at com.example.cowsandbulls.MainActivity.clickFunction(MainActivity.java:89)\n        at java.lang.reflect.Method.invoke(Native Method) \n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:397) \n        at android.view.View.performClick(View.java:6294) \n        at android.view.View$PerformClick.run(View.java:24770) \n        at android.os.Handler.handleCallback(Handler.java:790) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6494) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807) \n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#00BCD4&quot;\n    android:backgroundTint=&quot;#07D0EA&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;169dp&quot;\n        android:layout_marginEnd=&quot;64dp&quot;\n        android:layout_marginBottom=&quot;512dp&quot;\n        android:fontFamily=&quot;cursive&quot;\n        android:text=&quot;Enter a four digit number&quot;\n        android:textColor=&quot;#232020&quot;\n        android:textSize=&quot;36sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;91dp&quot;\n        android:layout_marginEnd=&quot;168dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Enter Here&quot;\n        android:inputType=&quot;number&quot;\n        android:textColor=&quot;#E7252729&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;47dp&quot;\n        android:layout_marginEnd=&quot;292dp&quot;\n        android:background=&quot;#03A9F4&quot;\n        android:onClick=&quot;clickFunction&quot;\n        android:text=&quot;Check&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editText&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;6dp&quot;\n        android:layout_marginEnd=&quot;132dp&quot;\n        android:fontFamily=&quot;cursive&quot;\n        android:text=&quot;(without repititions not containing zero)&quot;\n        android:textColor=&quot;#C80B0A0A&quot;\n        android:textSize=&quot;18sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","linux","networking","tcp"],"comments":[{"owner":{"account_id":338430,"reputation":42278,"user_id":667301,"accept_rate":98,"display_name":"Mike Pennington"},"score":0,"creation_date":1306269046,"post_id":6116382,"comment_id":7095091,"body_markdown":"Are you using TCP Keepalives on the client and server&#39;s socket (`SO_KEEPALIVE` option)?","body":"Are you using TCP Keepalives on the client and server&#39;s socket (<code>SO_KEEPALIVE</code> option)?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1306269310,"post_id":6116382,"comment_id":7095161,"body_markdown":"@Mike, likely not.  The socket code is in a third-part library.","body":"@Mike, likely not.  The socket code is in a third-part library."},{"owner":{"account_id":338430,"reputation":42278,"user_id":667301,"accept_rate":98,"display_name":"Mike Pennington"},"score":1,"creation_date":1306269424,"post_id":6116382,"comment_id":7095196,"body_markdown":"Well, if clients hanging indefinitely is unacceptable, it sounds like keepalives would be useful.","body":"Well, if clients hanging indefinitely is unacceptable, it sounds like keepalives would be useful."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1306310884,"post_id":6116382,"comment_id":7101639,"body_markdown":"The proper fix is for the client to set TCP keepalive, if you don&#39;t mind it waiting two hours, or else call Socket.setSoTimeout() with a more realistic timeout value, e.g. a few minutes.","body":"The proper fix is for the client to set TCP keepalive, if you don&#39;t mind it waiting two hours, or else call Socket.setSoTimeout() with a more realistic timeout value, e.g. a few minutes."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1306312465,"post_id":6116382,"comment_id":7101978,"body_markdown":"@Mike, most likely, except that I cannot change said third-part library, unfortunately.","body":"@Mike, most likely, except that I cannot change said third-part library, unfortunately."},{"owner":{"account_id":1240435,"reputation":3209,"user_id":1203182,"display_name":"spy"},"score":0,"creation_date":1538221074,"post_id":6116382,"comment_id":92072942,"body_markdown":"Were you able to fix the hanging?","body":"Were you able to fix the hanging?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1538233576,"post_id":6116382,"comment_id":92076117,"body_markdown":"@spy I was able to create a software workaround based on the technique described here.","body":"@spy I was able to create a software workaround based on the technique described here."}],"answers":[{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1306268785,"creation_date":1306268785,"answer_id":6116411,"question_id":6116382,"body_markdown":"**Unplug the network cable from your computer.**\r\n\r\nBring up a simple test of just this module.  Connect to the server and get to the waiting part.  Then, pull out your network plug.\r\n\r\nIt&#39;s important, of course, that you isolate this module and bring up only this module when you run this test.  There may be other aspects of your program that require network access, and these should not be running.","title":"How to reproduce a silently dropped TCP/IP connection?","body":"<p><strong>Unplug the network cable from your computer.</strong></p>\n\n<p>Bring up a simple test of just this module.  Connect to the server and get to the waiting part.  Then, pull out your network plug.</p>\n\n<p>It's important, of course, that you isolate this module and bring up only this module when you run this test.  There may be other aspects of your program that require network access, and these should not be running.</p>\n"},{"tags":[],"owner":{"account_id":23009,"reputation":1241,"user_id":57344,"accept_rate":44,"display_name":"HaveAGuess"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1306269571,"creation_date":1306269571,"answer_id":6116574,"question_id":6116382,"body_markdown":"Use [Socat][1] to forward your connection (it&#39;s very easy to set up as a TCP forwarder/proxy) even on the same machine if you want (by introducing a new port for the proxy to operate on and pointing it to the &#39;official&#39; endpoint)\r\n\r\nCheck out the [simple TCP forwarder][2] example\r\n\r\nThen when you want to test outages you can either kill it (and the socket will be closed) or potentially try stopping the process (CTRL Z linux) to see how your destination handles stalled connections.\r\n\r\nAny questions? I&#39;ll try to answer... Good luck! \r\n\r\n\r\n  [1]: http://www.dest-unreach.org/socat/\r\n  [2]: http://www.dest-unreach.org/socat/doc/socat.html#EXAMPLES","title":"How to reproduce a silently dropped TCP/IP connection?","body":"<p>Use <a href=\"http://www.dest-unreach.org/socat/\">Socat</a> to forward your connection (it's very easy to set up as a TCP forwarder/proxy) even on the same machine if you want (by introducing a new port for the proxy to operate on and pointing it to the 'official' endpoint)</p>\n\n<p>Check out the <a href=\"http://www.dest-unreach.org/socat/doc/socat.html#EXAMPLES\">simple TCP forwarder</a> example</p>\n\n<p>Then when you want to test outages you can either kill it (and the socket will be closed) or potentially try stopping the process (CTRL Z linux) to see how your destination handles stalled connections.</p>\n\n<p>Any questions? I'll try to answer... Good luck! </p>\n"},{"tags":[],"owner":{"account_id":59532,"reputation":261,"user_id":178111,"display_name":"hallsa"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1306269586,"creation_date":1306269586,"answer_id":6116577,"question_id":6116382,"body_markdown":"You should be able to temporarily apply a rule using iptables to drop all packets coming from the remote server (a.b.c.d). Something along the lines of :\r\n\r\n    iptables -A INPUT -s a.b.c.d -j DROP\r\nWhen you want to turn the filter off\r\n\r\n    iptables -D INPUT -s a.b.c.d -j DROP\r\n\r\nYou can play with those rules to drop other specific packets as well, but I think this will accurately model what your client software would see if the server simply disappeared.\r\n\r\nNote though, that when you turn the connection back on, the remote server may still have the old connection alive, so this won&#39;t perfectly simulate a reboot. ","title":"How to reproduce a silently dropped TCP/IP connection?","body":"<p>You should be able to temporarily apply a rule using iptables to drop all packets coming from the remote server (a.b.c.d). Something along the lines of :</p>\n\n<pre><code>iptables -A INPUT -s a.b.c.d -j DROP\n</code></pre>\n\n<p>When you want to turn the filter off</p>\n\n<pre><code>iptables -D INPUT -s a.b.c.d -j DROP\n</code></pre>\n\n<p>You can play with those rules to drop other specific packets as well, but I think this will accurately model what your client software would see if the server simply disappeared.</p>\n\n<p>Note though, that when you turn the connection back on, the remote server may still have the old connection alive, so this won't perfectly simulate a reboot. </p>\n"},{"tags":[],"owner":{"account_id":3862105,"reputation":29205,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1408349279,"creation_date":1408349279,"answer_id":25358801,"question_id":6116382,"body_markdown":"A native Linux based solution is to use [tc][1] with [netem][2]. Netem is a special queue that can be attached to various network interfaces to cause delay, reordering and loss (see the web page for details).\r\nSome examples of netem use include:\r\n\r\n    tc qdisc change dev eth0 root netem loss 0.1%\r\n\r\n\r\nTo make eth0 drop 0.1% of all outgoing packets, and \r\n\r\n    tc qdisc change dev eth0 root netem loss 0.3% 25%\r\n\r\nTo create bursts of packet loss: \r\n\r\n&gt;This will cause 0.3% of packets to be lost, and each successive probability depends by a quarter on the last one.\r\n\r\nIf you need to drop incoming packets as well, you can use the [ifb][3] (Intermediate Functional Block device). You set it up, forward all packets received by eth0 to the ifb, and attach netem to the ifb to create loss or delay. See ifb&#39;s documentation for more details.\r\n\r\n\r\n  [1]: http://lartc.org/manpages/tc.txt\r\n  [2]: http://www.linuxfoundation.org/collaborate/workgroups/networking/netem\r\n  [3]: http://www.linuxfoundation.org/collaborate/workgroups/networking/ifb","title":"How to reproduce a silently dropped TCP/IP connection?","body":"<p>A native Linux based solution is to use <a href=\"http://lartc.org/manpages/tc.txt\" rel=\"noreferrer\">tc</a> with <a href=\"http://www.linuxfoundation.org/collaborate/workgroups/networking/netem\" rel=\"noreferrer\">netem</a>. Netem is a special queue that can be attached to various network interfaces to cause delay, reordering and loss (see the web page for details).\nSome examples of netem use include:</p>\n\n<pre><code>tc qdisc change dev eth0 root netem loss 0.1%\n</code></pre>\n\n<p>To make eth0 drop 0.1% of all outgoing packets, and </p>\n\n<pre><code>tc qdisc change dev eth0 root netem loss 0.3% 25%\n</code></pre>\n\n<p>To create bursts of packet loss: </p>\n\n<blockquote>\n  <p>This will cause 0.3% of packets to be lost, and each successive probability depends by a quarter on the last one.</p>\n</blockquote>\n\n<p>If you need to drop incoming packets as well, you can use the <a href=\"http://www.linuxfoundation.org/collaborate/workgroups/networking/ifb\" rel=\"noreferrer\">ifb</a> (Intermediate Functional Block device). You set it up, forward all packets received by eth0 to the ifb, and attach netem to the ifb to create loss or delay. See ifb's documentation for more details.</p>\n"},{"tags":[],"owner":{"account_id":2061447,"reputation":526,"user_id":1837878,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698373282,"creation_date":1698373282,"answer_id":77371197,"question_id":6116382,"body_markdown":"on Windows you can run clumsy: https://github.com/jagt/clumsy/releases\r\nno need to setup explicit proxies, just configure it to drop packets on whatever interface/port combo you need.\r\nit&#39;s a very handy tool. ","title":"How to reproduce a silently dropped TCP/IP connection?","body":"<p>on Windows you can run clumsy: <a href=\"https://github.com/jagt/clumsy/releases\" rel=\"nofollow noreferrer\">https://github.com/jagt/clumsy/releases</a>\nno need to setup explicit proxies, just configure it to drop packets on whatever interface/port combo you need.\nit's a very handy tool.</p>\n"}],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16185,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":6116574,"answer_count":5,"score":29,"last_activity_date":1698373282,"creation_date":1306268618,"question_id":6116382,"body_markdown":"I have a situation where a Java program establishes a long-running TCP/IP connection to a server and said connection is functioning exactly as documented, except for one thing in an environment outside my control.\r\n\r\nEvery Saturday that server is rebooted, but for some reason this is not communicated properly to my client so the connection just hangs waiting for a response for ever and ever.  This is exactly the same behaviour seen with stale JDBC-connections, where some router in between server and client has found the connection to be idle and dropped it without notification.\r\n\r\nI need to be able to reproduce this scenario to be able to create a proper fix. \r\n\r\nHence I need to know if there is a good way to simulate a router silently dropping connections under my control?   \r\n\r\nI can put a Linux box or a Mac between my development environment and the server.  I can run the JVM in a virtual machine (vmware player) if I can do the dropping there. \r\n\r\nSuggestions are very welcome.\r\n\r\n---\r\nEDIT 2012-12-18: The solution that worked for me was to use a Java-based SOCKS5-proxy locally which could be suspended with Ctrl-Z at will, and tell my application to go through it.","title":"How to reproduce a silently dropped TCP/IP connection?","body":"<p>I have a situation where a Java program establishes a long-running TCP/IP connection to a server and said connection is functioning exactly as documented, except for one thing in an environment outside my control.</p>\n\n<p>Every Saturday that server is rebooted, but for some reason this is not communicated properly to my client so the connection just hangs waiting for a response for ever and ever.  This is exactly the same behaviour seen with stale JDBC-connections, where some router in between server and client has found the connection to be idle and dropped it without notification.</p>\n\n<p>I need to be able to reproduce this scenario to be able to create a proper fix. </p>\n\n<p>Hence I need to know if there is a good way to simulate a router silently dropping connections under my control?   </p>\n\n<p>I can put a Linux box or a Mac between my development environment and the server.  I can run the JVM in a virtual machine (vmware player) if I can do the dropping there. </p>\n\n<p>Suggestions are very welcome.</p>\n\n<hr>\n\n<p>EDIT 2012-12-18: The solution that worked for me was to use a Java-based SOCKS5-proxy locally which could be suspended with Ctrl-Z at will, and tell my application to go through it.</p>\n"},{"tags":["java","spring","spring-boot","properties"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496033933,"post_id":44234242,"comment_id":75479379,"body_markdown":"Those `metadata` files don&#39;t contain properties those are only for the IDE to provide information on the well known properties. The `@Conditional` rule you point out also doesn&#39;t add anything as a property which should be clear by `matchIfMissing` if it isn&#39;t available the rule matches, but this doesn&#39;t mean the property is available.","body":"Those <code>metadata</code> files don&#39;t contain properties those are only for the IDE to provide information on the well known properties. The <code>@Conditional</code> rule you point out also doesn&#39;t add anything as a property which should be clear by <code>matchIfMissing</code> if it isn&#39;t available the rule matches, but this doesn&#39;t mean the property is available."},{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1496035681,"post_id":44234242,"comment_id":75479874,"body_markdown":"&quot;Those metadata files don&#39;t contain properties&quot; but they define default values for some properties, so this value is used somewhere I think.","body":"&quot;Those metadata files don&#39;t contain properties&quot; but they define default values for some properties, so this value is used somewhere I think."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496036966,"post_id":44234242,"comment_id":75480312,"body_markdown":"No they don&#39;t. It is only metadata for use in IDE&#39;s . The defaults are in the `@ConfigurationProperties` annotated classes. They are in those metadata files for reference.","body":"No they don&#39;t. It is only metadata for use in IDE&#39;s . The defaults are in the <code>@ConfigurationProperties</code> annotated classes. They are in those metadata files for reference."},{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1496040450,"post_id":44234242,"comment_id":75482047,"body_markdown":"Do you mean that metadata files are generated from `@ConfigurationProperties` annotations? Could you please provied a proof link to that?","body":"Do you mean that metadata files are generated from <code>@ConfigurationProperties</code> annotations? Could you please provied a proof link to that?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496041323,"post_id":44234242,"comment_id":75482485,"body_markdown":"Not sure how the spring team generates those (or if they are generated at all). But it is a fact that those aren&#39;t into play for defining properties as stated those are only for the IDE.","body":"Not sure how the spring team generates those (or if they are generated at all). But it is a fact that those aren&#39;t into play for defining properties as stated those are only for the IDE."}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":944,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1698373256,"creation_date":1496028775,"question_id":44234242,"body_markdown":"Here is a [question][1] which offer a [solution][2] to print all properties. But in fact it prints all properties from `.properties` files in **application sources**, system and environment properties. But it ignore all properties from\r\n\r\n - `additional-spring-configuration-metadata.json`\r\n - `spring-configuration-metadata.json`\r\n - `spring-autoconfigure-metadata.properties`\r\n - and others from `json` or `properties` in project dependencies\r\n - any properties which is considered as present in `org.springframework.boot.autoconfigure.condition.ConditionalOnProperty` annotation, with *matchIfMissing* key word, like that `@ConditionalOnProperty(prefix = &quot;spring.data.solr.repositories&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)`\r\n\r\nEven I can not find any variable inside `Environment env` which points to any of these properties.\r\n\r\nSo is there a way to print all properties both from current application sources and from imported dependencies/jars, especially which are generated via by annotations?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23506471/spring-access-all-environment-properties-as-a-map-or-properties-object\r\n  [2]: https://stackoverflow.com/a/23536981/1251549","title":"How print all spring properties including dependencies?","body":"<p>Here is a <a href=\"https://stackoverflow.com/questions/23506471/spring-access-all-environment-properties-as-a-map-or-properties-object\">question</a> which offer a <a href=\"https://stackoverflow.com/a/23536981/1251549\">solution</a> to print all properties. But in fact it prints all properties from <code>.properties</code> files in <strong>application sources</strong>, system and environment properties. But it ignore all properties from</p>\n<ul>\n<li><code>additional-spring-configuration-metadata.json</code></li>\n<li><code>spring-configuration-metadata.json</code></li>\n<li><code>spring-autoconfigure-metadata.properties</code></li>\n<li>and others from <code>json</code> or <code>properties</code> in project dependencies</li>\n<li>any properties which is considered as present in <code>org.springframework.boot.autoconfigure.condition.ConditionalOnProperty</code> annotation, with <em>matchIfMissing</em> key word, like that <code>@ConditionalOnProperty(prefix = &quot;spring.data.solr.repositories&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)</code></li>\n</ul>\n<p>Even I can not find any variable inside <code>Environment env</code> which points to any of these properties.</p>\n<p>So is there a way to print all properties both from current application sources and from imported dependencies/jars, especially which are generated via by annotations?</p>\n"},{"tags":["java","hibernate","jsp","struts"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1590503024,"post_id":62024024,"comment_id":109699793,"body_markdown":"Unrelated, but please see the bottom of [What are tags, and how should we use them](https://stackoverflow.com/help/tagging); putting explicit tags in the title is redundant.","body":"Unrelated, but please see the bottom of <a href=\"https://stackoverflow.com/help/tagging\">What are tags, and how should we use them</a>; putting explicit tags in the title is redundant."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1590503845,"post_id":62024024,"comment_id":109700277,"body_markdown":"Are you sure you&#39;re actually using Struts 2? There&#39;s no `&lt;xxx:options&gt;` tag in S2.","body":"Are you sure you&#39;re actually using Struts 2? There&#39;s no <code>&lt;xxx:options&gt;</code> tag in S2."},{"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"score":0,"creation_date":1590503889,"post_id":62024024,"comment_id":109700304,"body_markdown":"it&#39;s a combination, JSP and Strutsm, the syntax is JSTL","body":"it&#39;s a combination, JSP and Strutsm, the syntax is JSTL"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1590504540,"post_id":62024024,"comment_id":109700732,"body_markdown":"I&#39;m asking if you&#39;re using *Struts 2*, which the question is tagged with. I ask because (1) the tag prefix in the JSP snippet (which includes no JSTL) is more commonly associated with Struts 1, and (2) there&#39;s no S2 &quot;options&quot; tag.","body":"I&#39;m asking if you&#39;re using <i>Struts 2</i>, which the question is tagged with. I ask because (1) the tag prefix in the JSP snippet (which includes no JSTL) is more commonly associated with Struts 1, and (2) there&#39;s no S2 &quot;options&quot; tag."},{"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"score":0,"creation_date":1590602147,"post_id":62024024,"comment_id":109744377,"body_markdown":"@DaveNewton i&#39;ll remove the struts2","body":"@DaveNewton i&#39;ll remove the struts2"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1590603220,"post_id":62024024,"comment_id":109744941,"body_markdown":"How about the question content where you explicitly stated Struts 2?","body":"How about the question content where you explicitly stated Struts 2?"}],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698373100,"creation_date":1590503075,"answer_id":62024390,"question_id":62024024,"body_markdown":"S2:\r\n\r\nThe missing piece is `WeaponList`, which should be named `weaponList`, and exposed in the action via a normal JavaBean-style getter, `getWeaponList`.\r\n\r\n---\r\n\r\nS1: \r\n\r\nThe collection needs to be available in the `ActionForm`.\r\n\r\n---\r\n\r\nEither:\r\n\r\nNaming should follow standard JavaBean conventions, e.g., the first letter should be lower-cased, for a variety of reasons.","title":"Cannot find bean under name WeaponList","body":"<p>S2:</p>\n<p>The missing piece is <code>WeaponList</code>, which should be named <code>weaponList</code>, and exposed in the action via a normal JavaBean-style getter, <code>getWeaponList</code>.</p>\n<hr />\n<p>S1:</p>\n<p>The collection needs to be available in the <code>ActionForm</code>.</p>\n<hr />\n<p>Either:</p>\n<p>Naming should follow standard JavaBean conventions, e.g., the first letter should be lower-cased, for a variety of reasons.</p>\n"}],"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698373100,"creation_date":1590502073,"question_id":62024024,"body_markdown":"     &lt;html:select property=&quot;Weapon&quot;&gt;\r\n       &lt;html:options collection=&quot;WeaponList&quot; property=&quot;weaponIDPK&quot; labelProperty=&quot;weaponName&quot; /&gt;\r\n     &lt;/html:select&gt;\r\n\r\nI&#39;m creating a drop-down list to display different weapons in Struts  and I&#39;m getting this error.\r\n\r\nCan you tell me what are the missing pieces? Or possible errors?\r\nDo I need to fix my Action file?\r\n\r\nIm having problem on this part \r\n\r\n    collection=&quot;WeaponList&quot;","title":"Cannot find bean under name WeaponList","body":"<pre><code> &lt;html:select property=\"Weapon\"&gt;\n   &lt;html:options collection=\"WeaponList\" property=\"weaponIDPK\" labelProperty=\"weaponName\" /&gt;\n &lt;/html:select&gt;\n</code></pre>\n\n<p>I'm creating a drop-down list to display different weapons in Struts  and I'm getting this error.</p>\n\n<p>Can you tell me what are the missing pieces? Or possible errors?\nDo I need to fix my Action file?</p>\n\n<p>Im having problem on this part </p>\n\n<pre><code>collection=\"WeaponList\"\n</code></pre>\n"},{"tags":["java","android","retrofit"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646739020,"post_id":71381657,"comment_id":126193286,"body_markdown":"If you wanna log all you should not have get(0) , get(1), ... and so on but make a for or foreach or a while loop to log all. But... You did not answer my question: `Have you solved your problem?` In other words: Can you display all you want now?","body":"If you wanna log all you should not have get(0) , get(1), ... and so on but make a for or foreach or a while loop to log all. But... You did not answer my question: <code>Have you solved your problem?</code> In other words: Can you display all you want now?"},{"owner":{"account_id":24469341,"reputation":13,"user_id":18389300,"display_name":"SmierdzoncaRobotaEhhh"},"score":0,"creation_date":1646739176,"post_id":71381657,"comment_id":126193343,"body_markdown":"I did not. Otherwise I would post the solution here.","body":"I did not. Otherwise I would post the solution here."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1646739668,"post_id":71381657,"comment_id":126193494,"body_markdown":"Is that log output from `public void onResponse(Call&lt;ModelClass&gt; call, Response&lt;ModelClass&gt; response) {` or from your loop? Change it so it&#39;s different and you can see if that callback is happening. (the code is wrong in many levels though... making a network request in the onCreate of an activity is *bold*...","body":"Is that log output from <code>public void onResponse(Call&lt;ModelClass&gt; call, Response&lt;ModelClass&gt; response) {</code> or from your loop? Change it so it&#39;s different and you can see if that callback is happening. (the code is wrong in many levels though... making a network request in the onCreate of an activity is <i>bold</i>..."}],"answers":[{"tags":[],"owner":{"account_id":16458155,"reputation":97,"user_id":11889865,"display_name":"timothy jeong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698372480,"creation_date":1646661187,"answer_id":71382141,"question_id":71381657,"body_markdown":"Since you said &quot;I easily can log it by using simple for loop&quot; the data seems to be coming in just fine.\r\n\r\nIn my case the RecyclerView.ViewHolders layout file was the problem.\r\nThe height of the root viewGroup of list_item was match_parent. This should have been wrap_content.","title":"Can&#39;t display all of given data in RecyclerView","body":"<p>Since you said &quot;I easily can log it by using simple for loop&quot; the data seems to be coming in just fine.</p>\n<p>In my case the RecyclerView.ViewHolders layout file was the problem.\nThe height of the root viewGroup of list_item was match_parent. This should have been wrap_content.</p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646740959,"creation_date":1646739815,"answer_id":71394482,"question_id":71381657,"body_markdown":"&gt;&gt;The thing is, I constantly getting just a single piece of data displayed \r\n\r\nYes. That is because `public int getItemCount()` returns the value 1 as that is the size of your ModelClass list: `return mForecastData.size()`.\r\n\r\nYou only get one ModelClass item from the webservice.\r\n\r\nYou better return something like:\r\n\r\n    return mForecastData.get(0).mTestData.size();\r\n\r\n&gt;&gt;holder.mTemperature.setText(String.valueOf(mForecastData.get(position).getForecastData().get(position).getDatetime()));\r\n\r\nChange to:\r\n\r\n         holder.mTemperature.setText(String.valueOf(mForecastData.get(0).getForecastData().get(position).getDatetime()));\r\n\r\nBut that is not the temperature..","title":"Can&#39;t display all of given data in RecyclerView","body":"<blockquote>\n<blockquote>\n<p>The thing is, I constantly getting just a single piece of data displayed</p>\n</blockquote>\n</blockquote>\n<p>Yes. That is because <code>public int getItemCount()</code> returns the value 1 as that is the size of your ModelClass list: <code>return mForecastData.size()</code>.</p>\n<p>You only get one ModelClass item from the webservice.</p>\n<p>You better return something like:</p>\n<pre><code>return mForecastData.get(0).mTestData.size();\n</code></pre>\n<blockquote>\n<blockquote>\n<p>holder.mTemperature.setText(String.valueOf(mForecastData.get(position).getForecastData().get(position).getDatetime()));</p>\n</blockquote>\n</blockquote>\n<p>Change to:</p>\n<pre><code>     holder.mTemperature.setText(String.valueOf(mForecastData.get(0).getForecastData().get(position).getDatetime()));\n</code></pre>\n<p>But that is not the temperature..</p>\n"},{"tags":[],"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698372412,"creation_date":1646740236,"answer_id":71394580,"question_id":71381657,"body_markdown":"You create an activity, then make a network request, and a callback ultimately is invoked and you send the results to a RecyclerView adapter. You claim the recyclerview is not displaying the items.\r\n\r\nPotential problems.\r\n\r\n1. The RecyclerView Layout and/or its View Holders are wrong (in XML). \r\n2. The Adapter is not correctly coded.\r\n3. The NetworkRequest is wrong/failing\r\n4. The code is incorrectly put together and things are not happening in the order you expect.\r\n\r\nI&#39;d say you can isolate 1 and 2 quite easily.\r\n\r\nInstead of making the network request, create a simple class (note: I&#39;ll use kotlin for brevity):\r\n\r\n```\r\n\r\nclass FakeDataRepository {\r\n  fun getData(): List&lt;ModelClass&gt; = listOf(...) //TODO: create a couple of fake/hardcoded items pretending they come from the API\r\n}\r\n```\r\n\r\nNow instead of calling retrofit, in your activity do \r\n\r\n`result = FakeDataRepository().getData()`\r\n\r\nand then pass `result` to your adapter.\r\n\r\nIf your RecyclerView is fine, this should be displayed... if not, then you ought to see why.\r\n\r\nThen if that&#39;s fixed, now start debugging when/how you receive the data; using the debugger, inspect the values inside your callbacks; is the adapter being called with the correct data?\r\n\r\nAnd start from there.","title":"Can&#39;t display all of given data in RecyclerView","body":"<p>You create an activity, then make a network request, and a callback ultimately is invoked and you send the results to a RecyclerView adapter. You claim the recyclerview is not displaying the items.</p>\n<p>Potential problems.</p>\n<ol>\n<li>The RecyclerView Layout and/or its View Holders are wrong (in XML).</li>\n<li>The Adapter is not correctly coded.</li>\n<li>The NetworkRequest is wrong/failing</li>\n<li>The code is incorrectly put together and things are not happening in the order you expect.</li>\n</ol>\n<p>I'd say you can isolate 1 and 2 quite easily.</p>\n<p>Instead of making the network request, create a simple class (note: I'll use kotlin for brevity):</p>\n<pre><code>\nclass FakeDataRepository {\n  fun getData(): List&lt;ModelClass&gt; = listOf(...) //TODO: create a couple of fake/hardcoded items pretending they come from the API\n}\n</code></pre>\n<p>Now instead of calling retrofit, in your activity do</p>\n<p><code>result = FakeDataRepository().getData()</code></p>\n<p>and then pass <code>result</code> to your adapter.</p>\n<p>If your RecyclerView is fine, this should be displayed... if not, then you ought to see why.</p>\n<p>Then if that's fixed, now start debugging when/how you receive the data; using the debugger, inspect the values inside your callbacks; is the adapter being called with the correct data?</p>\n<p>And start from there.</p>\n"}],"owner":{"account_id":24469341,"reputation":13,"user_id":18389300,"display_name":"SmierdzoncaRobotaEhhh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698372480,"creation_date":1646658867,"question_id":71381657,"body_markdown":"I&#39;m trying to display data from forecast api in RecyclerView. The thing is, I constantly getting just a single piece of data displayed - the first one from the api, but there should many more. I easily can log it by using simple for loop. I&#39;ve already pretty much ran out of ideas what should be changed here... Could you please help me, somehow?\r\n\r\n\r\n**MainActivity**\r\n\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n        public static final String BASE_URL = &quot;https://api.openweathermap.org/&quot;;\r\n        List&lt;ModelClass&gt; mTestData;\r\n        ForecastAdapter mAdapter;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mTestData = new ArrayList&lt;&gt;();\r\n    \r\n            RecyclerView recyclerView = findViewById(R.id.main_rv);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            mAdapter = new ForecastAdapter(mTestData);\r\n            recyclerView.setAdapter(mAdapter);\r\n    \r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n    \r\n            ApiInterface apiInterface = retrofit.create(ApiInterface.class);\r\n    \r\n            Call&lt;ModelClass&gt; getForecastData = apiInterface.getForecastData(36, 137, &quot;api_key_here&quot;);\r\n            getForecastData.enqueue(new Callback&lt;ModelClass&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ModelClass&gt; call, Response&lt;ModelClass&gt; response) {\r\n                    Log.i(TAG, &quot;onResponse: &quot;+response.code());\r\n    \r\n                    mTestData = Collections.singletonList(response.body());\r\n                    mAdapter.setData123(mTestData);\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;ModelClass&gt; call, Throwable t) {\r\n                    Log.i(TAG, &quot;onFailure: &quot; + t.getMessage());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n**Adapter**\r\n\r\n        public class ForecastAdapter extends RecyclerView.Adapter&lt;ForecastAdapter.ViewHolder&gt; {\r\n        private List&lt;ModelClass&gt; mForecastData = new ArrayList&lt;&gt;();\r\n        private static final String TAG = &quot;ForecastAdapter&quot;;\r\n    \r\n        public ForecastAdapter(List&lt;ModelClass&gt; mForecastData) {\r\n            this.mForecastData = mForecastData;\r\n        }\r\n    \r\n        public void setData123(List&lt;ModelClass&gt; data){\r\n            this.mForecastData = data;\r\n            notifyDataSetChanged();\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item, parent, false);\r\n    \r\n            return new ViewHolder(view);\r\n        }\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            holder.mTemperature.setText(String.valueOf(mForecastData.get(position).getForecastData().get(position)\r\n            .getDatetime()));\r\n            Log.i(TAG, &quot;onBindViewHolder: &quot;+mForecastData.get(position).getForecastData().get(position).getDatetime());\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return mForecastData.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            TextView mTemperature, mPressure;\r\n    \r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                mTemperature = (TextView) itemView.findViewById(R.id.list_temperature);\r\n                mPressure = (TextView) itemView.findViewById(R.id.list_pressure);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n**Model class**\r\n\r\n    public class ModelClass {\r\n        @SerializedName(&quot;cod&quot;)\r\n        private int requestCode;\r\n        @SerializedName(&quot;list&quot;)\r\n        List&lt;ForecastList&gt; forecastData = new ArrayList&lt;&gt;();\r\n    \r\n        public List&lt;ForecastList&gt; getForecastData() {\r\n            return forecastData;\r\n        }\r\n    \r\n    \r\n        public class ForecastList {\r\n            @SerializedName(&quot;dt&quot;)\r\n            private int datetime;\r\n            @SerializedName(&quot;main&quot;)\r\n            MainData mainData = null;\r\n    \r\n            public MainData getMainData() {\r\n                return mainData;\r\n            }\r\n    \r\n            public int getDatetime() {\r\n                return datetime;\r\n            }\r\n    \r\n            public class MainData {\r\n                @SerializedName(&quot;temp&quot;)\r\n                private double temperature;\r\n    \r\n                public double getTemperature() {\r\n                    return temperature;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**api interface**\r\n\r\n  \r\n\r\n      public interface ApiInterface {\r\n        @GET(&quot;data/2.5/forecast?&quot;)\r\n        Call&lt;ModelClass&gt; getForecastData(\r\n                @Query(&quot;lat&quot;) int lat,\r\n                @Query(&quot;lon&quot;) int lon,\r\n                @Query(&quot;appid&quot;) String api_key);\r\n    }\r\n\r\n\r\n**Example of json response**\r\n      \r\n\r\n    {\r\n      &quot;cod&quot;: &quot;200&quot;,\r\n      &quot;message&quot;: 0,\r\n      &quot;cnt&quot;: 40,\r\n      &quot;list&quot;: [\r\n        {\r\n          &quot;dt&quot;: 1596564000,\r\n          &quot;main&quot;: {\r\n            &quot;temp&quot;: 293.55,\r\n            &quot;feels_like&quot;: 293.13,\r\n            &quot;temp_min&quot;: 293.55,\r\n            &quot;temp_max&quot;: 294.05,\r\n            &quot;pressure&quot;: 1013,\r\n            &quot;sea_level&quot;: 1013,\r\n            &quot;grnd_level&quot;: 976,\r\n            &quot;humidity&quot;: 84,\r\n            &quot;temp_kf&quot;: -0.5\r\n          },\r\n          &quot;weather&quot;: [\r\n            {\r\n              &quot;id&quot;: 500,\r\n              &quot;main&quot;: &quot;Rain&quot;,\r\n              &quot;description&quot;: &quot;light rain&quot;,\r\n              &quot;icon&quot;: &quot;10d&quot;\r\n            }\r\n          ],\r\n          &quot;clouds&quot;: {\r\n            &quot;all&quot;: 38\r\n          },\r\n          &quot;wind&quot;: {\r\n            &quot;speed&quot;: 4.35,\r\n            &quot;deg&quot;: 309,\r\n            &quot;gust&quot;: 7.87\r\n          },\r\n          &quot;visibility&quot;: 10000,\r\n          &quot;pop&quot;: 0.49,\r\n          &quot;rain&quot;: {\r\n            &quot;3h&quot;: 0.53\r\n          },\r\n          &quot;sys&quot;: {\r\n            &quot;pod&quot;: &quot;d&quot;\r\n          },\r\n          &quot;dt_txt&quot;: &quot;2020-08-04 18:00:00&quot;\r\n        },\r\n    \r\n        ...\r\n    \r\n    &quot;city&quot;: {\r\n        &quot;id&quot;: 2643743,\r\n        &quot;name&quot;: &quot;London&quot;,\r\n        &quot;coord&quot;: {\r\n          &quot;lat&quot;: 51.5073,\r\n          &quot;lon&quot;: -0.1277\r\n        },\r\n        &quot;country&quot;: &quot;GB&quot;,\r\n        &quot;timezone&quot;: 0,\r\n        &quot;sunrise&quot;: 1578384285,\r\n        &quot;sunset&quot;: 1578413272\r\n      }\r\n    }\r\n            \r\n    \r\n**MainActivity.xml**\r\n\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/main_rv&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:scrollbars=&quot;vertical&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n**list_item.xml**\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/list_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/list_temperature&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;15dp&quot;\r\n            android:background=&quot;#bbbbbb&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/list_pressure&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;15dp&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n**How I log the values from retrofit response**\r\n\r\n    for(ModelClass modelClass : mTestData){\r\n                    Log.i(TAG, &quot;onResponse: &quot;+modelClass.getForecastData().get(0).getDatetime());\r\n                    Log.i(TAG, &quot;onResponse: &quot;+modelClass.getForecastData().get(1).getDatetime());\r\n                    Log.i(TAG, &quot;onResponse: &quot;+modelClass.getForecastData().get(2).getDatetime());\r\n                }\r\n    ...\r\n\r\nOutput from console:\r\n\r\n        2022-03-08 12:22:37.252 10032-10032/com.example.retrofittest I/ContentValues: onResponse: 1646740800\r\n    2022-03-08 12:22:37.252 10032-10032/com.example.retrofittest I/ContentValues: onResponse: 1646751600\r\n    2022-03-08 12:22:37.252 10032-10032/com.example.retrofittest I/ContentValues: onResponse: 1646762400","title":"Can&#39;t display all of given data in RecyclerView","body":"<p>I'm trying to display data from forecast api in RecyclerView. The thing is, I constantly getting just a single piece of data displayed - the first one from the api, but there should many more. I easily can log it by using simple for loop. I've already pretty much ran out of ideas what should be changed here... Could you please help me, somehow?</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>    public class MainActivity extends AppCompatActivity {\n    public static final String BASE_URL = &quot;https://api.openweathermap.org/&quot;;\n    List&lt;ModelClass&gt; mTestData;\n    ForecastAdapter mAdapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mTestData = new ArrayList&lt;&gt;();\n\n        RecyclerView recyclerView = findViewById(R.id.main_rv);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        mAdapter = new ForecastAdapter(mTestData);\n        recyclerView.setAdapter(mAdapter);\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        ApiInterface apiInterface = retrofit.create(ApiInterface.class);\n\n        Call&lt;ModelClass&gt; getForecastData = apiInterface.getForecastData(36, 137, &quot;api_key_here&quot;);\n        getForecastData.enqueue(new Callback&lt;ModelClass&gt;() {\n            @Override\n            public void onResponse(Call&lt;ModelClass&gt; call, Response&lt;ModelClass&gt; response) {\n                Log.i(TAG, &quot;onResponse: &quot;+response.code());\n\n                mTestData = Collections.singletonList(response.body());\n                mAdapter.setData123(mTestData);\n            }\n\n            @Override\n            public void onFailure(Call&lt;ModelClass&gt; call, Throwable t) {\n                Log.i(TAG, &quot;onFailure: &quot; + t.getMessage());\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Adapter</strong></p>\n<pre><code>    public class ForecastAdapter extends RecyclerView.Adapter&lt;ForecastAdapter.ViewHolder&gt; {\n    private List&lt;ModelClass&gt; mForecastData = new ArrayList&lt;&gt;();\n    private static final String TAG = &quot;ForecastAdapter&quot;;\n\n    public ForecastAdapter(List&lt;ModelClass&gt; mForecastData) {\n        this.mForecastData = mForecastData;\n    }\n\n    public void setData123(List&lt;ModelClass&gt; data){\n        this.mForecastData = data;\n        notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item, parent, false);\n\n        return new ViewHolder(view);\n    }\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.mTemperature.setText(String.valueOf(mForecastData.get(position).getForecastData().get(position)\n        .getDatetime()));\n        Log.i(TAG, &quot;onBindViewHolder: &quot;+mForecastData.get(position).getForecastData().get(position).getDatetime());\n    }\n\n    @Override\n    public int getItemCount() {\n        return mForecastData.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        TextView mTemperature, mPressure;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            mTemperature = (TextView) itemView.findViewById(R.id.list_temperature);\n            mPressure = (TextView) itemView.findViewById(R.id.list_pressure);\n        }\n    }\n}\n</code></pre>\n<p><strong>Model class</strong></p>\n<pre><code>public class ModelClass {\n    @SerializedName(&quot;cod&quot;)\n    private int requestCode;\n    @SerializedName(&quot;list&quot;)\n    List&lt;ForecastList&gt; forecastData = new ArrayList&lt;&gt;();\n\n    public List&lt;ForecastList&gt; getForecastData() {\n        return forecastData;\n    }\n\n\n    public class ForecastList {\n        @SerializedName(&quot;dt&quot;)\n        private int datetime;\n        @SerializedName(&quot;main&quot;)\n        MainData mainData = null;\n\n        public MainData getMainData() {\n            return mainData;\n        }\n\n        public int getDatetime() {\n            return datetime;\n        }\n\n        public class MainData {\n            @SerializedName(&quot;temp&quot;)\n            private double temperature;\n\n            public double getTemperature() {\n                return temperature;\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>api interface</strong></p>\n<pre><code>  public interface ApiInterface {\n    @GET(&quot;data/2.5/forecast?&quot;)\n    Call&lt;ModelClass&gt; getForecastData(\n            @Query(&quot;lat&quot;) int lat,\n            @Query(&quot;lon&quot;) int lon,\n            @Query(&quot;appid&quot;) String api_key);\n}\n</code></pre>\n<p><strong>Example of json response</strong></p>\n<pre><code>{\n  &quot;cod&quot;: &quot;200&quot;,\n  &quot;message&quot;: 0,\n  &quot;cnt&quot;: 40,\n  &quot;list&quot;: [\n    {\n      &quot;dt&quot;: 1596564000,\n      &quot;main&quot;: {\n        &quot;temp&quot;: 293.55,\n        &quot;feels_like&quot;: 293.13,\n        &quot;temp_min&quot;: 293.55,\n        &quot;temp_max&quot;: 294.05,\n        &quot;pressure&quot;: 1013,\n        &quot;sea_level&quot;: 1013,\n        &quot;grnd_level&quot;: 976,\n        &quot;humidity&quot;: 84,\n        &quot;temp_kf&quot;: -0.5\n      },\n      &quot;weather&quot;: [\n        {\n          &quot;id&quot;: 500,\n          &quot;main&quot;: &quot;Rain&quot;,\n          &quot;description&quot;: &quot;light rain&quot;,\n          &quot;icon&quot;: &quot;10d&quot;\n        }\n      ],\n      &quot;clouds&quot;: {\n        &quot;all&quot;: 38\n      },\n      &quot;wind&quot;: {\n        &quot;speed&quot;: 4.35,\n        &quot;deg&quot;: 309,\n        &quot;gust&quot;: 7.87\n      },\n      &quot;visibility&quot;: 10000,\n      &quot;pop&quot;: 0.49,\n      &quot;rain&quot;: {\n        &quot;3h&quot;: 0.53\n      },\n      &quot;sys&quot;: {\n        &quot;pod&quot;: &quot;d&quot;\n      },\n      &quot;dt_txt&quot;: &quot;2020-08-04 18:00:00&quot;\n    },\n\n    ...\n\n&quot;city&quot;: {\n    &quot;id&quot;: 2643743,\n    &quot;name&quot;: &quot;London&quot;,\n    &quot;coord&quot;: {\n      &quot;lat&quot;: 51.5073,\n      &quot;lon&quot;: -0.1277\n    },\n    &quot;country&quot;: &quot;GB&quot;,\n    &quot;timezone&quot;: 0,\n    &quot;sunrise&quot;: 1578384285,\n    &quot;sunset&quot;: 1578413272\n  }\n}\n        \n</code></pre>\n<p><strong>MainActivity.xml</strong></p>\n<pre><code>&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/main_rv&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:scrollbars=&quot;vertical&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>list_item.xml</strong></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/list_parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/list_temperature&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;15dp&quot;\n        android:background=&quot;#bbbbbb&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/list_pressure&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;15dp&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>How I log the values from retrofit response</strong></p>\n<pre><code>for(ModelClass modelClass : mTestData){\n                Log.i(TAG, &quot;onResponse: &quot;+modelClass.getForecastData().get(0).getDatetime());\n                Log.i(TAG, &quot;onResponse: &quot;+modelClass.getForecastData().get(1).getDatetime());\n                Log.i(TAG, &quot;onResponse: &quot;+modelClass.getForecastData().get(2).getDatetime());\n            }\n...\n</code></pre>\n<p>Output from console:</p>\n<pre><code>    2022-03-08 12:22:37.252 10032-10032/com.example.retrofittest I/ContentValues: onResponse: 1646740800\n2022-03-08 12:22:37.252 10032-10032/com.example.retrofittest I/ContentValues: onResponse: 1646751600\n2022-03-08 12:22:37.252 10032-10032/com.example.retrofittest I/ContentValues: onResponse: 1646762400\n</code></pre>\n"},{"tags":["java","spring","mongodb","mongodb-query"],"comments":[{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1463497923,"post_id":37279920,"comment_id":62085423,"body_markdown":"If you&#39;re using `Mongo`, you should use the correct *Terminology* to describe your problem..I guess you have a *Collection* of 6 *Documents*. And I don&#39;t get this part when you say `Query is working with JDBC as well`. JDBC is for relational databases and Mongo is a NoSQL one.","body":"If you&#39;re using <code>Mongo</code>, you should use the correct <i>Terminology</i> to describe your problem..I guess you have a <i>Collection</i> of 6 <i>Documents</i>. And I don&#39;t get this part when you say <code>Query is working with JDBC as well</code>. JDBC is for relational databases and Mongo is a NoSQL one."},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":1,"creation_date":1463497967,"post_id":37279920,"comment_id":62085465,"body_markdown":"@AliDehghani Thanks I updated","body":"@AliDehghani Thanks I updated"},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1463498019,"post_id":37279920,"comment_id":62085513,"body_markdown":"@AliDehghani When I run in plain jdbc it is working","body":"@AliDehghani When I run in plain jdbc it is working"},{"owner":{"account_id":3585957,"reputation":4609,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"score":0,"creation_date":1463498199,"post_id":37279920,"comment_id":62085628,"body_markdown":"When you say, not working, you mean that you have an Exception raised, or nothing happen ? where are you storing the result here ?","body":"When you say, not working, you mean that you have an Exception raised, or nothing happen ? where are you storing the result here ?"},{"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"score":0,"creation_date":1463498367,"post_id":37279920,"comment_id":62085740,"body_markdown":"Just a guess, has something to do with the String and single quotes: Try changing Query q = new BasicQuery(&quot;{ column_1: &#39;value_1&#39;}&quot;); to  Query q = new BasicQuery(&quot;{ column_1: value_1}&quot;); \nMore info on http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo.query","body":"Just a guess, has something to do with the String and single quotes: Try changing Query q = new BasicQuery(&quot;{ column_1: &#39;value_1&#39;}&quot;); to  Query q = new BasicQuery(&quot;{ column_1: value_1}&quot;);  More info on <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo.query\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/mongodb/docs/current/reference/ht&zwnj;&#8203;ml/&hellip;</a>"},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1463498447,"post_id":37279920,"comment_id":62085797,"body_markdown":"It is not returning any data","body":"It is not returning any data"}],"answers":[{"tags":[],"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698372247,"creation_date":1463498210,"answer_id":37280152,"question_id":37279920,"body_markdown":"If you&#39;re considerating use ``Query`` class, try adding ``Criteria``\r\n\r\n     Query query = new Query();\r\n     query.addCriteria(Criteria.where(&quot;field_1&quot;).in(&quot;value_1&quot;));\r\n\r\n\r\n**Edit**\r\nIf you want to use ``BasicQuery``, try:\r\n\r\n    BasicQuery query1 = new BasicQuery(&quot;{ &#39;field&#39;: &#39;value_1&#39; }&quot;);\r\n    User userTest1 = mongoOperation.findOne(query1, YourClass.class);\r\n\r\nRemember in Mongo we don&#39;t call column to fields, because it doesn&#39;t has column :)\r\n","title":"Query is working in Mongo but not working with spring-data-mongo","body":"<p>If you're considerating use <code>Query</code> class, try adding <code>Criteria</code></p>\n<pre><code> Query query = new Query();\n query.addCriteria(Criteria.where(&quot;field_1&quot;).in(&quot;value_1&quot;));\n</code></pre>\n<p><strong>Edit</strong>\nIf you want to use <code>BasicQuery</code>, try:</p>\n<pre><code>BasicQuery query1 = new BasicQuery(&quot;{ 'field': 'value_1' }&quot;);\nUser userTest1 = mongoOperation.findOne(query1, YourClass.class);\n</code></pre>\n<p>Remember in Mongo we don't call column to fields, because it doesn't has column :)</p>\n"}],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698372247,"creation_date":1463497678,"question_id":37279920,"body_markdown":"I have a collection in mongo which contains 6 documents .When I run query directly in mongo it is qorking fine.But when I run the same query in spring , I am not getting the result\r\n\r\nI have the following query\r\n\r\n  \r\n\r\n     Mongo DB: db.getCollection(&#39;table_name&#39;).find({&quot;column_1&quot; : &quot;value_1&quot; })\r\n    \r\n   Spring :\r\n   \r\n\r\n     Query q = new BasicQuery(&quot;{ column_1: &#39;value_1&#39;}&quot;);\r\n        this.mongoOps.find(q, TableName.class, &quot;table_name&quot;);\r\n\r\n\r\nI tried with different mongo versions ans with different spring versions but not working.What might be the issue here.\r\n\r\n**NOTE:Query is working with JDBC as well**\r\n\r\nThanks in advance...","title":"Query is working in Mongo but not working with spring-data-mongo","body":"<p>I have a collection in mongo which contains 6 documents .When I run query directly in mongo it is qorking fine.But when I run the same query in spring , I am not getting the result</p>\n\n<p>I have the following query</p>\n\n<pre><code> Mongo DB: db.getCollection('table_name').find({\"column_1\" : \"value_1\" })\n</code></pre>\n\n<p>Spring :</p>\n\n<pre><code> Query q = new BasicQuery(\"{ column_1: 'value_1'}\");\n    this.mongoOps.find(q, TableName.class, \"table_name\");\n</code></pre>\n\n<p>I tried with different mongo versions ans with different spring versions but not working.What might be the issue here.</p>\n\n<p><strong>NOTE:Query is working with JDBC as well</strong></p>\n\n<p>Thanks in advance...</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6806249,"reputation":2392,"user_id":10045660,"display_name":"Gaurav Mall"},"score":0,"creation_date":1566722994,"post_id":57644380,"comment_id":101740262,"body_markdown":"What is `photoFile`? Post where you define that","body":"What is <code>photoFile</code>? Post where you define that"},{"owner":{"account_id":16570234,"reputation":3,"user_id":11973588,"display_name":"Hamad Malik"},"score":0,"creation_date":1566730823,"post_id":57644380,"comment_id":101741961,"body_markdown":"I have updated the Questions with the codes which I used for Camera Intent","body":"I have updated the Questions with the codes which I used for Camera Intent"},{"owner":{"account_id":6806249,"reputation":2392,"user_id":10045660,"display_name":"Gaurav Mall"},"score":0,"creation_date":1566730919,"post_id":57644380,"comment_id":101741981,"body_markdown":"Do you need to store the captured `Bitmap` in the temp-file?","body":"Do you need to store the captured <code>Bitmap</code> in the temp-file?"},{"owner":{"account_id":16570234,"reputation":3,"user_id":11973588,"display_name":"Hamad Malik"},"score":0,"creation_date":1566731049,"post_id":57644380,"comment_id":101742011,"body_markdown":"I didn&#39;t understand the question but if you mean that I need a file to store the image then &quot;Yes, I need it to display in my App&quot;","body":"I didn&#39;t understand the question but if you mean that I need a file to store the image then &quot;Yes, I need it to display in my App&quot;"},{"owner":{"account_id":6806249,"reputation":2392,"user_id":10045660,"display_name":"Gaurav Mall"},"score":0,"creation_date":1566731752,"post_id":57644380,"comment_id":101742152,"body_markdown":"Check my answer.","body":"Check my answer."}],"answers":[{"tags":[],"owner":{"account_id":6806249,"reputation":2392,"user_id":10045660,"display_name":"Gaurav Mall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566732368,"creation_date":1566731748,"answer_id":57645503,"question_id":57644380,"body_markdown":"You have an error in your app. Which is that you are writing the temp file in a *public* directory. \r\n\r\n## Storage Permissions ##\r\n\r\nFrom the documentation:\r\n\r\n&gt; Every Android app runs in a limited-access sandbox. If an app needs to use resources or information outside of its own sandbox, the app has to request the appropriate permission. You declare that your app needs a permission by listing the permission in the [app manifest][1] and then requesting that the user approve each permission at runtime (on Android 6.0 and higher).\r\n\r\nPermissions like using the Internet, etc. are not even required, because they are not considered dangerous. Permissions, however, to use the camera, storage, etc. are dangerous as if given without the users&#39; permission, the app can invade the users&#39; privacy. \r\n\r\nWhat you are doing is creating a temp file in a public directory, something that requires write/read permission. Before Android 6.0, you didn&#39;t have to request read/write permissions to read/write. But if you read the above, it says that dangerous permissions are needed to be requested for Android 6.0 and higher, explaining why your code works on some devices.\r\n\r\nInstead of storing it in a specific directory, just do this if the temp file you are creating is seen only by you:\r\n\r\n    String name = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n    //File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n    //File storageDir = getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n\r\n    try {\r\n        return File.createTempFile(name ,&quot;.jpg&quot;);\r\n    } catch (Exception e) {\r\n        Log.i(&quot;File Log&quot;, &quot;Exception: &quot; + e.toString());\r\n        return null;\r\n    }\r\n\r\nAlso, try doing this:\r\n\r\n    takePic.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\nThis will create the file in a private directory, meaning that you don&#39;t need to request storage permissions. You can continue with the code now.\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/manifest-intro.html","title":"Camera Intent Not Working in Some Devices","body":"<p>You have an error in your app. Which is that you are writing the temp file in a <em>public</em> directory. </p>\n\n<h2>Storage Permissions</h2>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>Every Android app runs in a limited-access sandbox. If an app needs to use resources or information outside of its own sandbox, the app has to request the appropriate permission. You declare that your app needs a permission by listing the permission in the <a href=\"https://developer.android.com/guide/topics/manifest/manifest-intro.html\" rel=\"nofollow noreferrer\">app manifest</a> and then requesting that the user approve each permission at runtime (on Android 6.0 and higher).</p>\n</blockquote>\n\n<p>Permissions like using the Internet, etc. are not even required, because they are not considered dangerous. Permissions, however, to use the camera, storage, etc. are dangerous as if given without the users' permission, the app can invade the users' privacy. </p>\n\n<p>What you are doing is creating a temp file in a public directory, something that requires write/read permission. Before Android 6.0, you didn't have to request read/write permissions to read/write. But if you read the above, it says that dangerous permissions are needed to be requested for Android 6.0 and higher, explaining why your code works on some devices.</p>\n\n<p>Instead of storing it in a specific directory, just do this if the temp file you are creating is seen only by you:</p>\n\n<pre><code>String name = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date());\n//File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n//File storageDir = getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n\ntry {\n    return File.createTempFile(name ,\".jpg\");\n} catch (Exception e) {\n    Log.i(\"File Log\", \"Exception: \" + e.toString());\n    return null;\n}\n</code></pre>\n\n<p>Also, try doing this:</p>\n\n<pre><code>takePic.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n</code></pre>\n\n<p>This will create the file in a private directory, meaning that you don't need to request storage permissions. You can continue with the code now.</p>\n"},{"tags":[],"owner":{"account_id":16570234,"reputation":3,"user_id":11973588,"display_name":"Hamad Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1566979257,"creation_date":1566979257,"answer_id":57687599,"question_id":57644380,"body_markdown":"I have solved the issue :)\r\nIt was done in 2 steps\r\n\r\nStep 1:-\r\n\r\nin My Java file I change the storage process from \r\n\r\n    File storageDir = getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES); \r\n    File image = null;\r\n    image = File.createTempFile(name ,&quot;.jpg&quot;, storageDir);\r\n\r\nto \r\n\r\n    File outputDir = getApplicationContext().getCacheDir();\r\n    File image = null;\r\n    image = File.createTempFile(name ,&quot;.jpg&quot;, outputDir);\r\n\r\nAnd the Step 2 was that I change my File Path (res/xml/file_paths)\r\n\r\nfrom\r\n\r\n    &lt;Paths &gt;\r\n    &lt;external-path\r\n        name = &quot;logixtraders_images&quot;\r\n        path = &quot;Pictures&quot;/&gt; \r\n    &lt;/Paths&gt;\r\nto\r\n```\r\n&lt;paths&gt;\r\n  &lt;external-path\r\n    name=&quot;external&quot;\r\n    path=&quot;.&quot; /&gt;\r\n  &lt;external-files-path\r\n    name=&quot;external_files&quot;\r\n    path=&quot;.&quot; /&gt;\r\n  &lt;cache-path\r\n    name=&quot;cache&quot;\r\n    path=&quot;.&quot; /&gt;\r\n  &lt;external-cache-path\r\n    name=&quot;external_cache&quot;\r\n    path=&quot;.&quot; /&gt;\r\n  &lt;files-path\r\n    name=&quot;files&quot;\r\n    path=&quot;.&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\nIt worked Perfectly fine for me","title":"Camera Intent Not Working in Some Devices","body":"<p>I have solved the issue :)\nIt was done in 2 steps</p>\n\n<p>Step 1:-</p>\n\n<p>in My Java file I change the storage process from </p>\n\n<pre><code>File storageDir = getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES); \nFile image = null;\nimage = File.createTempFile(name ,\".jpg\", storageDir);\n</code></pre>\n\n<p>to </p>\n\n<pre><code>File outputDir = getApplicationContext().getCacheDir();\nFile image = null;\nimage = File.createTempFile(name ,\".jpg\", outputDir);\n</code></pre>\n\n<p>And the Step 2 was that I change my File Path (res/xml/file_paths)</p>\n\n<p>from</p>\n\n<pre><code>&lt;Paths &gt;\n&lt;external-path\n    name = \"logixtraders_images\"\n    path = \"Pictures\"/&gt; \n&lt;/Paths&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;paths&gt;\n  &lt;external-path\n    name=\"external\"\n    path=\".\" /&gt;\n  &lt;external-files-path\n    name=\"external_files\"\n    path=\".\" /&gt;\n  &lt;cache-path\n    name=\"cache\"\n    path=\".\" /&gt;\n  &lt;external-cache-path\n    name=\"external_cache\"\n    path=\".\" /&gt;\n  &lt;files-path\n    name=\"files\"\n    path=\".\" /&gt;\n&lt;/paths&gt;\n</code></pre>\n\n<p>It worked Perfectly fine for me</p>\n"},{"tags":[],"owner":{"account_id":10079807,"reputation":21,"user_id":7450564,"display_name":"Harinder Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698372210,"creation_date":1696916442,"answer_id":77263161,"question_id":57644380,"body_markdown":"Avoid using `cameraIntent.resolveActivity(getPackageManager()) != null` and directly call the startActivityForeResult and it should work. ","title":"Camera Intent Not Working in Some Devices","body":"<p>Avoid using <code>cameraIntent.resolveActivity(getPackageManager()) != null</code> and directly call the startActivityForeResult and it should work.</p>\n"}],"owner":{"account_id":16570234,"reputation":3,"user_id":11973588,"display_name":"Hamad Malik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57687599,"answer_count":3,"score":0,"last_activity_date":1698372210,"creation_date":1566721337,"question_id":57644380,"body_markdown":"In my app, there is a button which launches the camera intent and saves the captured image at given path. It works perfectly fine in Nexus 5X emulator, but when I tried it in my S8 or S9 it does not open the camera nor does it show any error.\r\nHow can I fix camera intent in my App \r\n```\r\nprivate void PictureTakerAction()\r\n    {\r\n        Intent takePic = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        if(takePic.resolveActivity(getPackageManager()) != null)\r\n        {\r\n            File photoFile = null;\r\n            photoFile = CreatePhotoFile();\r\n\r\n            if(photoFile != null)\r\n            {\r\n                pathToFile = photoFile.getAbsolutePath();\r\n                Uri photoUri = FileProvider.getUriForFile(AddItemActivity.this,&quot;com.airtechsolutions.fileprovider&quot;,photoFile);\r\n                takePic.putExtra(MediaStore.EXTRA_OUTPUT, photoUri);\r\n                startActivityForResult(takePic,1);\r\n            }\r\n        }\r\n    }\r\n\r\nprivate File CreatePhotoFile()\r\n    {\r\n        String name = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        //File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n        File storageDir = getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n        File image = null;\r\n\r\n        try {\r\n            image = File.createTempFile(name ,&quot;.jpg&quot; , storageDir);\r\n        } catch (Exception e) {\r\n            Log.i(&quot;File Log&quot;, &quot;Exception: &quot; + e.toString());\r\n        }\r\n\r\n        return image;\r\n    }\r\n\r\nprotected void onActivityResult(int requestCode,int resultCode, Intent data)\r\n{   super.onActivityResult(requestCode,resultCode,data);\r\n        \r\n    if (requestCode == 1)\r\n     {\r\n       Bitmap bitmap = BitmapFactory.decodeFile(pathToFile);\r\n       Image.setImageBitmap(bitmap);\r\n     }\r\n}","title":"Camera Intent Not Working in Some Devices","body":"<p>In my app, there is a button which launches the camera intent and saves the captured image at given path. It works perfectly fine in Nexus 5X emulator, but when I tried it in my S8 or S9 it does not open the camera nor does it show any error.\nHow can I fix camera intent in my App </p>\n\n<pre><code>private void PictureTakerAction()\n    {\n        Intent takePic = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        if(takePic.resolveActivity(getPackageManager()) != null)\n        {\n            File photoFile = null;\n            photoFile = CreatePhotoFile();\n\n            if(photoFile != null)\n            {\n                pathToFile = photoFile.getAbsolutePath();\n                Uri photoUri = FileProvider.getUriForFile(AddItemActivity.this,\"com.airtechsolutions.fileprovider\",photoFile);\n                takePic.putExtra(MediaStore.EXTRA_OUTPUT, photoUri);\n                startActivityForResult(takePic,1);\n            }\n        }\n    }\n\nprivate File CreatePhotoFile()\n    {\n        String name = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date());\n        //File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n        File storageDir = getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n        File image = null;\n\n        try {\n            image = File.createTempFile(name ,\".jpg\" , storageDir);\n        } catch (Exception e) {\n            Log.i(\"File Log\", \"Exception: \" + e.toString());\n        }\n\n        return image;\n    }\n\nprotected void onActivityResult(int requestCode,int resultCode, Intent data)\n{   super.onActivityResult(requestCode,resultCode,data);\n\n    if (requestCode == 1)\n     {\n       Bitmap bitmap = BitmapFactory.decodeFile(pathToFile);\n       Image.setImageBitmap(bitmap);\n     }\n}\n</code></pre>\n"},{"tags":["java","android","facebook"],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357538458,"creation_date":1357538458,"answer_id":14190700,"question_id":14190662,"body_markdown":"You cannot make the variable `final`. `final` variables must be initialized either with an initializer expression or in the constructor(s). You are assigning to it in `onCreate`, which is too late in the lifecycle of the object.\r\n\r\nInstead of making the variable `public`, make it `private` and provide an accessor method.\r\n\r\n    private String content;\r\n\r\n    public String getContent() {\r\n        return content;\r\n    }","title":"The final local variable connection cannot be assigned. It must be blank and not using a compound assignment","body":"<p>You cannot make the variable <code>final</code>. <code>final</code> variables must be initialized either with an initializer expression or in the constructor(s). You are assigning to it in <code>onCreate</code>, which is too late in the lifecycle of the object.</p>\n\n<p>Instead of making the variable <code>public</code>, make it <code>private</code> and provide an accessor method.</p>\n\n<pre><code>private String content;\n\npublic String getContent() {\n    return content;\n}\n</code></pre>\n"}],"owner":{"account_id":2061592,"reputation":973,"user_id":1838341,"accept_rate":31,"display_name":"DD."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698372060,"creation_date":1357538203,"question_id":14190662,"body_markdown":"I have used &quot;content&quot; string to fetch the data from website and also in facebook integration to share the current page&#39;s data(content) on the wall,  I attempted to add final in front of the declaration but that throws the following error within bundle... The final local variable connection cannot be assigned. It must be blank and not using a compound assignment.\r\nHow can i correct this?\r\n\r\n    private String headerContent;\r\n\t  public String html,content;\r\n\t  \t private Facebook mFacebook;\r\n\t  \t    private AsyncFacebookRunner mAsyncRunner;\r\n\t  \tprivate Bundle bundle;\r\n\t  \tpublic String description,title;\r\n\t@Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.single_list_item);\r\n        \r\n\t\tfacebook.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\r\n\t\t\t//@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tBundle params = new Bundle();\r\n\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t\tmFacebook.dialog(Singlemenuitem.this, &quot;feed&quot;,params,\r\n\t\t\t\t   (DialogListener) new SampleDialogListener());\t\t  \t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t          }\r\n\t\t\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tif (bundle != null)\r\n\t\t\t\r\n\t\t{\r\n\t\t\t\r\n\t\t\theaderContent = bundle.getString(&quot;Header_Content&quot;);\r\n\tcontent=bundle.getString(&quot;content&quot;);\r\n\t\r\n\t\t\turl = bundle.getString(&quot;url&quot;);\r\n\t\t\twebView.loadUrl(url);\r\n\t\t}\r\n\t\r\n}","title":"The final local variable connection cannot be assigned. It must be blank and not using a compound assignment","body":"<p>I have used \"content\" string to fetch the data from website and also in facebook integration to share the current page's data(content) on the wall,  I attempted to add final in front of the declaration but that throws the following error within bundle... The final local variable connection cannot be assigned. It must be blank and not using a compound assignment.\nHow can i correct this?</p>\n\n<pre><code>private String headerContent;\n  public String html,content;\n     private Facebook mFacebook;\n        private AsyncFacebookRunner mAsyncRunner;\n    private Bundle bundle;\n    public String description,title;\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.single_list_item);\n\n    facebook.setOnClickListener(new View.OnClickListener() {\n\n        //@Override\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n            Bundle params = new Bundle();\n\n\n\n            mFacebook.dialog(Singlemenuitem.this, \"feed\",params,\n               (DialogListener) new SampleDialogListener());            \n\n\n              }\n\n    });\n\n    if (bundle != null)\n\n    {\n\n        headerContent = bundle.getString(\"Header_Content\");\ncontent=bundle.getString(\"content\");\n\n        url = bundle.getString(\"url\");\n        webView.loadUrl(url);\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","java-stream","java-11"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1557307838,"post_id":56037444,"comment_id":98717494,"body_markdown":"*accumulating the transaction amounts and and adding the transaction to the desired list when its amount is bigger than the limit*....you seem to be looking for something like `takeWhile`","body":"<i>accumulating the transaction amounts and and adding the transaction to the desired list when its amount is bigger than the limit</i>....you seem to be looking for something like <code>takeWhile</code>"}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557394394,"creation_date":1557308031,"answer_id":56037619,"question_id":56037444,"body_markdown":"using `takeWhile` something like :\r\n\r\n    List&lt;String&gt; toAnalise = new ArrayList&lt;&gt;();\r\n    for (List&lt;Transaction&gt; value : result.values()) {\r\n        AtomicInteger total = new AtomicInteger(0);\r\n        toAnalise.addAll(value.stream()\r\n                .takeWhile(a -&gt; total.addAndGet(a.amount) &lt;= creditLimit)\r\n                .map(t -&gt; t.transactionId).collect(Collectors.toList()));\r\n    }","title":"Is there a functional way to traverse a stream accumulating and filtering based in last processed items?","body":"<p>using <code>takeWhile</code> something like :</p>\n\n<pre><code>List&lt;String&gt; toAnalise = new ArrayList&lt;&gt;();\nfor (List&lt;Transaction&gt; value : result.values()) {\n    AtomicInteger total = new AtomicInteger(0);\n    toAnalise.addAll(value.stream()\n            .takeWhile(a -&gt; total.addAndGet(a.amount) &lt;= creditLimit)\n            .map(t -&gt; t.transactionId).collect(Collectors.toList()));\n}\n</code></pre>\n"}],"owner":{"account_id":181832,"reputation":1454,"user_id":416104,"accept_rate":61,"display_name":"Cristiano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698371854,"creation_date":1557307362,"question_id":56037444,"body_markdown":"I received a ordered list of transaction requests done in a period by all customers that have same credit-limit.\r\nMy goal is to generate a list of all transactions that was madden after the credit-limit have been passed.\r\n\r\nIn order to do that I need to take the amount of each transaction and withdraw from the the customer&#39;s credit-limit.\r\n\r\nI&#39;m learning and trying to resolve that using java11 streams, but I could not find a way to do in a single traversing and in a functional way.\r\n\r\nInitially, I grouped the transactions by customer:  \r\n\r\n    Map&lt;Customer, List&lt;Transaction&gt;&gt; result = transactions.stream()\r\n           .collect(Collectors.groupingBy(Transaction::getCustomer));\r\n\r\n\r\nBut then I traversed the result, accumulating the transaction amounts and adding the transaction to the desired list when its amount is bigger than the limit:\r\n\r\n    List&lt;String&gt; toAnalise = new ArrayList&lt;&gt;();\r\n    result.entrySet().forEach(entry -&gt; {\r\n        int total = 0;\r\n        for (Transaction transaction : entry.getValue()) {\r\n          if ((total + transaction.amount) &lt;= creditLimit ){\r\n                total += transaction.amount;\r\n            } else {\r\n              toAnalise.add(transaction.transactionId);\r\n            }               \r\n        }\r\n    });\r\n\r\nI have a feeling that this could be improved :)\r\n\r\n\r\n-----------------------------------\r\nI&#39;ve improved my solution... seems better :)\r\n\r\nNow I&#39;m returning the list of the transaction directly:\r\n\r\n    List&lt;String&gt; toBeAnalised = transactions.stream()\r\n            .map(t -&gt; new Transaction(t, creditLimit))\r\n            .collect(groupingBy(Transaction::getConsumer,\r\n                    collectingAndThen(toCollection(TreeSet::new),\r\n                    TransactionsVersion2::validateTransactions)))\r\n            .values().stream().flatMap(List&lt;String&gt;::stream)\r\n            .collect(toList());\r\n\r\nAlso I moved the transaction validation to its own method allowing it to be called from the stream processing:\r\n\r\n    private static List&lt;String&gt; validateTransactions(Set&lt;Transaction&gt; transactions) {\r\n        int total = 0;\r\n        List&lt;String&gt; rejected = new ArrayList&lt;&gt;();\r\n        for (Transaction transaction : transactions) {\r\n            if ((total + transaction.amount) &lt;= transaction.consumer.limit)\r\n            {\r\n                total += transaction.amount;\r\n            } else {\r\n                rejected.add(transaction.transactionId);\r\n            }\r\n        }\r\n        return rejected;\r\n    }\r\n\r\nCould it be improved yet ?","title":"Is there a functional way to traverse a stream accumulating and filtering based in last processed items?","body":"<p>I received a ordered list of transaction requests done in a period by all customers that have same credit-limit.\nMy goal is to generate a list of all transactions that was madden after the credit-limit have been passed.</p>\n\n<p>In order to do that I need to take the amount of each transaction and withdraw from the the customer's credit-limit.</p>\n\n<p>I'm learning and trying to resolve that using java11 streams, but I could not find a way to do in a single traversing and in a functional way.</p>\n\n<p>Initially, I grouped the transactions by customer:  </p>\n\n<pre><code>Map&lt;Customer, List&lt;Transaction&gt;&gt; result = transactions.stream()\n       .collect(Collectors.groupingBy(Transaction::getCustomer));\n</code></pre>\n\n<p>But then I traversed the result, accumulating the transaction amounts and adding the transaction to the desired list when its amount is bigger than the limit:</p>\n\n<pre><code>List&lt;String&gt; toAnalise = new ArrayList&lt;&gt;();\nresult.entrySet().forEach(entry -&gt; {\n    int total = 0;\n    for (Transaction transaction : entry.getValue()) {\n      if ((total + transaction.amount) &lt;= creditLimit ){\n            total += transaction.amount;\n        } else {\n          toAnalise.add(transaction.transactionId);\n        }               \n    }\n});\n</code></pre>\n\n<p>I have a feeling that this could be improved :)</p>\n\n<hr>\n\n<p>I've improved my solution... seems better :)</p>\n\n<p>Now I'm returning the list of the transaction directly:</p>\n\n<pre><code>List&lt;String&gt; toBeAnalised = transactions.stream()\n        .map(t -&gt; new Transaction(t, creditLimit))\n        .collect(groupingBy(Transaction::getConsumer,\n                collectingAndThen(toCollection(TreeSet::new),\n                TransactionsVersion2::validateTransactions)))\n        .values().stream().flatMap(List&lt;String&gt;::stream)\n        .collect(toList());\n</code></pre>\n\n<p>Also I moved the transaction validation to its own method allowing it to be called from the stream processing:</p>\n\n<pre><code>private static List&lt;String&gt; validateTransactions(Set&lt;Transaction&gt; transactions) {\n    int total = 0;\n    List&lt;String&gt; rejected = new ArrayList&lt;&gt;();\n    for (Transaction transaction : transactions) {\n        if ((total + transaction.amount) &lt;= transaction.consumer.limit)\n        {\n            total += transaction.amount;\n        } else {\n            rejected.add(transaction.transactionId);\n        }\n    }\n    return rejected;\n}\n</code></pre>\n\n<p>Could it be improved yet ?</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":6547224,"reputation":1172,"user_id":5062825,"accept_rate":81,"display_name":"RamanSB"},"score":29,"creation_date":1441243954,"post_id":5175728,"comment_id":52603529,"body_markdown":"As of Java 8 you can just use:\n\nLocalDateTime ldt = LocalDateTime.now();","body":"As of Java 8 you can just use:  LocalDateTime ldt = LocalDateTime.now();"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":7,"creation_date":1500835914,"post_id":5175728,"comment_id":77500234,"body_markdown":"@RamanSB `LocalDateTime` is *not* appropriate, as it purposely **loses time zone** information. You are discarding valuable information while gaining nothing in return. [`ZonedDateTime.now()`](http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-) retains time zone info. See [my Answer](https://stackoverflow.com/a/39379431/642706) for details.","body":"@RamanSB <code>LocalDateTime</code> is <i>not</i> appropriate, as it purposely <b>loses time zone</b> information. You are discarding valuable information while gaining nothing in return. <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime.now()</code></a> retains time zone info. See <a href=\"https://stackoverflow.com/a/39379431/642706\">my Answer</a> for details."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1519943683,"post_id":5175728,"comment_id":85124650,"body_markdown":"If you cannot trust your system clock, see [*Java: Get current Date and Time from Server not System clock*](https://stackoverflow.com/q/2817475/642706).","body":"If you cannot trust your system clock, see <a href=\"https://stackoverflow.com/q/2817475/642706\"><i>Java: Get current Date and Time from Server not System clock</i></a>."},{"owner":{"account_id":3273747,"reputation":20854,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":1,"creation_date":1588095648,"post_id":5175728,"comment_id":108766958,"body_markdown":"Duplicate of [Equivalent of C#&#39;s DateTime.Now in Java?](https://stackoverflow.com/questions/2010284/equivalent-of-cs-datetime-now-in-java) as was previously correctly marked. Also primarily opinion-based.","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/2010284/equivalent-of-cs-datetime-now-in-java\">Equivalent of C#&#39;s DateTime.Now in Java?</a> as was previously correctly marked. Also primarily opinion-based."}],"answers":[{"tags":[],"owner":{"account_id":118789,"reputation":9703,"user_id":310068,"display_name":"Starkey"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1299117083,"creation_date":1299117083,"answer_id":5175750,"question_id":5175728,"body_markdown":"Have you looked at java.util.Date? It is exactly what you want.","title":"How to get the current date/time in Java","body":"<p>Have you looked at java.util.Date? It is exactly what you want.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":4,"up_vote_count":66,"is_accepted":false,"score":62,"last_activity_date":1588227877,"creation_date":1299117147,"answer_id":5175758,"question_id":5175728,"body_markdown":"Just create a Date object...\r\n\r\n    import java.util.Date;\r\n\r\n    Date date = new Date();\r\n","title":"How to get the current date/time in Java","body":"<p>Just create a Date object...</p>\n\n<pre><code>import java.util.Date;\n\nDate date = new Date();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":680,"reputation":960645,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1299117161,"creation_date":1299117161,"answer_id":5175759,"question_id":5175728,"body_markdown":"There are many different methods:\r\n\r\n- [System.currentTimeMillis()][1]\r\n- [Date](http://download.oracle.com/javase/1.5.0/docs/api/java/util/Date.html)\r\n- [Calendar](http://download.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html)\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#currentTimeMillis()","title":"How to get the current date/time in Java","body":"<p>There are many different methods:</p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#currentTimeMillis()\" rel=\"noreferrer\">System.currentTimeMillis()</a></li>\n<li><a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Date.html\" rel=\"noreferrer\">Date</a></li>\n<li><a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\" rel=\"noreferrer\">Calendar</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1299117229,"creation_date":1299117229,"answer_id":5175771,"question_id":5175728,"body_markdown":"Have a look at the [Date][1] class. There&#39;s also the newer [Calendar][2] class which is the preferred method of doing many date / time operations (a lot of the methods on Date have been deprecated.)\r\n\r\nIf you just want the current date, then either create a new Date object or call `Calendar.getInstance();`.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Date.html\r\n  [2]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html","title":"How to get the current date/time in Java","body":"<p>Have a look at the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Date.html\" rel=\"noreferrer\">Date</a> class. There's also the newer <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\" rel=\"noreferrer\">Calendar</a> class which is the preferred method of doing many date / time operations (a lot of the methods on Date have been deprecated.)</p>\n\n<p>If you just want the current date, then either create a new Date object or call <code>Calendar.getInstance();</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":3,"up_vote_count":775,"is_accepted":true,"score":772,"last_activity_date":1698371631,"creation_date":1299118435,"answer_id":5175900,"question_id":5175728,"body_markdown":"&gt; What&#39;s the best way to get the current date/time in Java?\r\n\r\nThere is no &quot;best&quot; way.\r\n\r\nIt depends on what form of date / time you want:\r\n\r\n - If you want the date / time as a single numeric value, then `System.currentTimeMillis()` gives you that, expressed as the number of milliseconds after the UNIX epoch (as a Java `long`).  This value is a delta from a UTC time-point, and is independent of the local time-zone&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n - If you want the date / time in a form that allows you to access the components (year, month, etc) numerically, you could use one of the following:\r\n\r\n    - `new Date()` gives you a `Date` object initialized with the current date / time.  The problem is that the `Date` API methods are mostly flawed ... and deprecated.\r\n\r\n    - `Calendar.getInstance()` gives you a `Calendar` object initialized with the current date / time, using the default `Locale` and `TimeZone`.  Other overloads allow you to use a specific `Locale` and/or `TimeZone`.  Calendar works ... but the APIs are still cumbersome.\r\n\r\n    - `new org.joda.time.DateTime()` gives you a [Joda-time][1] object initialized with the current date / time, using the default time zone and chronology.  There are lots of other Joda alternatives ... too many to describe here.  (But note that some people report that Joda time has performance issues.; e.g. https://stackoverflow.com/questions/6280829.)\r\n\r\n    - in Java 8, calling `java.time.LocalDateTime.now()` and `java.time.ZonedDateTime.now()` will give you representations&lt;sup&gt;2&lt;/sup&gt; for the current date / time.\r\n\r\nPrior to Java 8, most people who know about these things recommended [Joda-time][1] as having (by far) the best Java APIs for doing things involving time point and duration calculations.  \r\n\r\nWith Java 8 and later, the standard `java.time` package is recommended.  Joda time is now considered &quot;obsolete&quot;, and the Joda maintainers are recommending that people migrate&lt;sup&gt;3&lt;/sup&gt;.\r\n\r\n----------------------\r\n\r\nNote: the `Calendar`, `org.joda.time` and `java.time` solutions can use either the platform&#39;s default timezone or an explicit timezone provided via constructor arguments.  Generally, using an explicit timezone rather than the default zone will make your application&#39;s behavior more predictable / less susceptible to problems if (for example) you redeploy to a data center in a different timezone.  \r\n\r\nBut no matter what you do, you (and maybe your application) should be aware that the timezone of the user, your service and the data center can all be different.  The concept of the &quot;current date/time&quot; is complicated. \r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - `System.currentTimeMillis()` gives the &quot;system&quot; time.  While it is normal practice for the system clock to be set to (nominal) UTC, there will be a difference (a delta) between the local UTC clock and true UTC.  The size of the delta depends on how well (and how often) the system&#39;s clock is synced with UTC.&lt;br&gt;\r\n2 - Note that LocalDateTime doesn&#39;t include a time zone.  As the javadoc says: *&quot;It cannot represent an instant on the time-line without additional information such as an offset or time-zone.&quot;*&lt;br&gt;\r\n3 - Note: your Java 8 code won&#39;t break if you don&#39;t migrate, but the Joda codebase may eventually stop getting bug fixes and other patches.  As of 2020-02, an official &quot;end of life&quot; for Joda has not been announced, and the Joda APIs have not been marked as Deprecated.&lt;/sup&gt;\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"How to get the current date/time in Java","body":"<blockquote>\n<p>What's the best way to get the current date/time in Java?</p>\n</blockquote>\n<p>There is no &quot;best&quot; way.</p>\n<p>It depends on what form of date / time you want:</p>\n<ul>\n<li><p>If you want the date / time as a single numeric value, then <code>System.currentTimeMillis()</code> gives you that, expressed as the number of milliseconds after the UNIX epoch (as a Java <code>long</code>).  This value is a delta from a UTC time-point, and is independent of the local time-zone<sup>1</sup>.</p>\n</li>\n<li><p>If you want the date / time in a form that allows you to access the components (year, month, etc) numerically, you could use one of the following:</p>\n<ul>\n<li><p><code>new Date()</code> gives you a <code>Date</code> object initialized with the current date / time.  The problem is that the <code>Date</code> API methods are mostly flawed ... and deprecated.</p>\n</li>\n<li><p><code>Calendar.getInstance()</code> gives you a <code>Calendar</code> object initialized with the current date / time, using the default <code>Locale</code> and <code>TimeZone</code>.  Other overloads allow you to use a specific <code>Locale</code> and/or <code>TimeZone</code>.  Calendar works ... but the APIs are still cumbersome.</p>\n</li>\n<li><p><code>new org.joda.time.DateTime()</code> gives you a <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-time</a> object initialized with the current date / time, using the default time zone and chronology.  There are lots of other Joda alternatives ... too many to describe here.  (But note that some people report that Joda time has performance issues.; e.g. <a href=\"https://stackoverflow.com/questions/6280829.\">https://stackoverflow.com/questions/6280829.</a>)</p>\n</li>\n<li><p>in Java 8, calling <code>java.time.LocalDateTime.now()</code> and <code>java.time.ZonedDateTime.now()</code> will give you representations<sup>2</sup> for the current date / time.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>Prior to Java 8, most people who know about these things recommended <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-time</a> as having (by far) the best Java APIs for doing things involving time point and duration calculations.</p>\n<p>With Java 8 and later, the standard <code>java.time</code> package is recommended.  Joda time is now considered &quot;obsolete&quot;, and the Joda maintainers are recommending that people migrate<sup>3</sup>.</p>\n<hr />\n<p>Note: the <code>Calendar</code>, <code>org.joda.time</code> and <code>java.time</code> solutions can use either the platform's default timezone or an explicit timezone provided via constructor arguments.  Generally, using an explicit timezone rather than the default zone will make your application's behavior more predictable / less susceptible to problems if (for example) you redeploy to a data center in a different timezone.</p>\n<p>But no matter what you do, you (and maybe your application) should be aware that the timezone of the user, your service and the data center can all be different.  The concept of the &quot;current date/time&quot; is complicated.</p>\n<hr />\n<p><sup>1 - <code>System.currentTimeMillis()</code> gives the &quot;system&quot; time.  While it is normal practice for the system clock to be set to (nominal) UTC, there will be a difference (a delta) between the local UTC clock and true UTC.  The size of the delta depends on how well (and how often) the system's clock is synced with UTC.<br>\n2 - Note that LocalDateTime doesn't include a time zone.  As the javadoc says: <em>&quot;It cannot represent an instant on the time-line without additional information such as an offset or time-zone.&quot;</em><br>\n3 - Note: your Java 8 code won't break if you don't migrate, but the Joda codebase may eventually stop getting bug fixes and other patches.  As of 2020-02, an official &quot;end of life&quot; for Joda has not been announced, and the Joda APIs have not been marked as Deprecated.</sup></p>\n"},{"tags":[],"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1360168035,"creation_date":1299119102,"answer_id":5175975,"question_id":5175728,"body_markdown":"    java.util.Date date = new java.util.Date();\r\n\r\nIt&#39;s automatically populated with the time it&#39;s instantiated.","title":"How to get the current date/time in Java","body":"<pre><code>java.util.Date date = new java.util.Date();\n</code></pre>\n\n<p>It's automatically populated with the time it's instantiated.</p>\n"},{"tags":[],"owner":{"account_id":240585,"reputation":201,"user_id":510916,"display_name":"David Fioretti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1299120848,"creation_date":1299120848,"answer_id":5176149,"question_id":5175728,"body_markdown":"As mentioned the basic Date() can do what you need in terms of getting the current time.  In my recent experience working heavily with Java dates there are a lot of oddities with the built in classes (as well as deprecation of many of the Date class methods).  One oddity that stood out to me was that months are 0 index based which from a technical standpoint makes sense, but in real terms can be very confusing.\r\n\r\nIf you are only concerned with the current date that should suffice - however if you intend to do a lot of manipulating/calculations with dates it could be very beneficial to use a third party library (so many exist because many Java developers have been unsatisfied with the built in functionality).\r\n\r\nI second Stephen C&#39;s recommendation as I have found Joda-time to be very useful in simplifying my work with dates, it is also very well documented and you can find many useful examples throughout the web.  I even ended up writing a static wrapper class (as DateUtils) which I use to consolidate and simplify all of my common date manipulation.  ","title":"How to get the current date/time in Java","body":"<p>As mentioned the basic Date() can do what you need in terms of getting the current time.  In my recent experience working heavily with Java dates there are a lot of oddities with the built in classes (as well as deprecation of many of the Date class methods).  One oddity that stood out to me was that months are 0 index based which from a technical standpoint makes sense, but in real terms can be very confusing.</p>\n\n<p>If you are only concerned with the current date that should suffice - however if you intend to do a lot of manipulating/calculations with dates it could be very beneficial to use a third party library (so many exist because many Java developers have been unsatisfied with the built in functionality).</p>\n\n<p>I second Stephen C's recommendation as I have found Joda-time to be very useful in simplifying my work with dates, it is also very well documented and you can find many useful examples throughout the web.  I even ended up writing a static wrapper class (as DateUtils) which I use to consolidate and simplify all of my common date manipulation.  </p>\n"},{"tags":[],"owner":{"account_id":362690,"reputation":6199,"user_id":706012,"display_name":"Liebster Kamerad"},"down_vote_count":1,"up_vote_count":449,"is_accepted":false,"score":448,"last_activity_date":1579679895,"creation_date":1312535322,"answer_id":6953926,"question_id":5175728,"body_markdown":"(Attention: only for use with Java versions &lt;8. For Java 8+ check other replies.)\r\n\r\nIf you just need to output a time stamp in format YYYY.MM.DD-HH.MM.SS (very frequent case) then here&#39;s the way to do it:\r\n\r\n    String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Calendar.getInstance().getTime());","title":"How to get the current date/time in Java","body":"<p>(Attention: only for use with Java versions &lt;8. For Java 8+ check other replies.)</p>\n\n<p>If you just need to output a time stamp in format YYYY.MM.DD-HH.MM.SS (very frequent case) then here's the way to do it:</p>\n\n<pre><code>String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Calendar.getInstance().getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1903954,"reputation":191,"user_id":1719182,"display_name":"user1719182"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1481998798,"creation_date":1363603443,"answer_id":15474891,"question_id":5175728,"body_markdown":"Use:\r\n\r\n    String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Calendar.getInstance().getTime());\r\n    System.out.println(timeStamp );\r\n\r\n(It&#39;s working.)\r\n","title":"How to get the current date/time in Java","body":"<p>Use:</p>\n\n<pre><code>String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Calendar.getInstance().getTime());\nSystem.out.println(timeStamp );\n</code></pre>\n\n<p>(It's working.)</p>\n"},{"tags":[],"owner":{"account_id":2883225,"reputation":859,"user_id":2473612,"accept_rate":31,"display_name":"Subodh Bisht"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1370946232,"creation_date":1370943179,"answer_id":17040841,"question_id":5175728,"body_markdown":"Create object of date and simply print it down.\r\n\r\n    Date d = new Date(System.currentTimeMillis());\r\n    System.out.print(d);","title":"How to get the current date/time in Java","body":"<p>Create object of date and simply print it down.</p>\n\n<pre><code>Date d = new Date(System.currentTimeMillis());\nSystem.out.print(d);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908412,"reputation":38019,"user_id":1722818,"accept_rate":58,"display_name":"duggu"},"down_vote_count":1,"up_vote_count":120,"is_accepted":false,"score":119,"last_activity_date":1404930777,"creation_date":1381125862,"answer_id":19218035,"question_id":5175728,"body_markdown":"If you want the current date as String, try this:\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    Date date = new Date();\r\n    System.out.println(dateFormat.format(date));\r\n\r\nor\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    Calendar cal = Calendar.getInstance();\r\n    System.out.println(dateFormat.format(cal.getTime()));\r\n\r\nhttp://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/\r\n\r\n","title":"How to get the current date/time in Java","body":"<p>If you want the current date as String, try this:</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\nDate date = new Date();\nSystem.out.println(dateFormat.format(date));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\nCalendar cal = Calendar.getInstance();\nSystem.out.println(dateFormat.format(cal.getTime()));\n</code></pre>\n\n<p><a href=\"http://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/\" rel=\"noreferrer\">http://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/</a></p>\n"},{"tags":[],"owner":{"account_id":50281,"reputation":2018,"user_id":149923,"accept_rate":61,"display_name":"JeffJak"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1386003233,"creation_date":1386003233,"answer_id":20333576,"question_id":5175728,"body_markdown":"Similar to above solutions.  But I always find myself looking for this chunk of code:\r\n\r\n    Date date=Calendar.getInstance().getTime();\r\n    System.out.println(date);","title":"How to get the current date/time in Java","body":"<p>Similar to above solutions.  But I always find myself looking for this chunk of code:</p>\n\n<pre><code>Date date=Calendar.getInstance().getTime();\nSystem.out.println(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"down_vote_count":0,"up_vote_count":96,"is_accepted":false,"score":96,"last_activity_date":1412634659,"creation_date":1412634659,"answer_id":26225884,"question_id":5175728,"body_markdown":"In [Java 8](http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html) it is:\r\n\r\n    LocalDateTime.now()\r\n\r\nand in case you need time zone info:\r\n\r\n    ZonedDateTime.now()\r\n\r\nand in case you want to print fancy formatted string:\r\n\r\n    System.out.println(ZonedDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME))","title":"How to get the current date/time in Java","body":"<p>In <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\">Java 8</a> it is:</p>\n\n<pre><code>LocalDateTime.now()\n</code></pre>\n\n<p>and in case you need time zone info:</p>\n\n<pre><code>ZonedDateTime.now()\n</code></pre>\n\n<p>and in case you want to print fancy formatted string:</p>\n\n<pre><code>System.out.println(ZonedDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2519561,"reputation":1542,"user_id":2190181,"accept_rate":82,"display_name":"kelevra88"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481998825,"creation_date":1414769768,"answer_id":26678331,"question_id":5175728,"body_markdown":"I find this to be the best way:\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    Calendar cal = Calendar.getInstance();\r\n    System.out.println(dateFormat.format(cal.getTime())); // 2014/08/06 16:00:22\r\n","title":"How to get the current date/time in Java","body":"<p>I find this to be the best way:</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\nCalendar cal = Calendar.getInstance();\nSystem.out.println(dateFormat.format(cal.getTime())); // 2014/08/06 16:00:22\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3672667,"reputation":3747,"user_id":3059453,"display_name":"blueberry0xff"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1443453674,"creation_date":1415266711,"answer_id":26776016,"question_id":5175728,"body_markdown":"        // 2015/09/27 15:07:53\r\n        System.out.println( new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;).format(Calendar.getInstance().getTime()) );\r\n\r\n        // 15:07:53\r\n        System.out.println( new SimpleDateFormat(&quot;HH:mm:ss&quot;).format(Calendar.getInstance().getTime()) );\r\n\r\n        // 09/28/2015\r\n        System.out.println(new SimpleDateFormat(&quot;MM/dd/yyyy&quot;).format(Calendar.getInstance().getTime()));\r\n\r\n        // 20150928_161823\r\n        System.out.println( new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Calendar.getInstance().getTime()) );\r\n\r\n        // Mon Sep 28 16:24:28 CEST 2015\r\n        System.out.println( Calendar.getInstance().getTime() );\r\n\r\n        // Mon Sep 28 16:24:51 CEST 2015\r\n        System.out.println( new Date(System.currentTimeMillis()) );\r\n\r\n        // Mon Sep 28\r\n        System.out.println( new Date().toString().substring(0, 10) );\r\n\r\n        // 2015-09-28\r\n        System.out.println( new java.sql.Date(System.currentTimeMillis()) );\r\n\r\n        // 14:32:26\r\n        Date d = new Date();\r\n        System.out.println( (d.getTime() / 1000 / 60 / 60) % 24 + &quot;:&quot; + (d.getTime() / 1000 / 60) % 60 + &quot;:&quot; + (d.getTime() / 1000) % 60 );\r\n\r\n        // 2015-09-28 17:12:35.584\r\n        System.out.println( new Timestamp(System.currentTimeMillis()) );\r\n\r\n        // Java 8\r\n\r\n        // 2015-09-28T16:16:23.308+02:00[Europe/Belgrade]\r\n        System.out.println( ZonedDateTime.now() );\r\n\r\n        // Mon, 28 Sep 2015 16:16:23 +0200\r\n        System.out.println( ZonedDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME) );\r\n\r\n        // 2015-09-28\r\n        System.out.println( LocalDate.now(ZoneId.of(&quot;Europe/Paris&quot;)) ); // rest zones id in ZoneId class\r\n\r\n        // 16\r\n        System.out.println( LocalTime.now().getHour() );\r\n\r\n        // 2015-09-28T16:16:23.315\r\n        System.out.println( LocalDateTime.now() );","title":"How to get the current date/time in Java","body":"<pre><code>    // 2015/09/27 15:07:53\n    System.out.println( new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\").format(Calendar.getInstance().getTime()) );\n\n    // 15:07:53\n    System.out.println( new SimpleDateFormat(\"HH:mm:ss\").format(Calendar.getInstance().getTime()) );\n\n    // 09/28/2015\n    System.out.println(new SimpleDateFormat(\"MM/dd/yyyy\").format(Calendar.getInstance().getTime()));\n\n    // 20150928_161823\n    System.out.println( new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Calendar.getInstance().getTime()) );\n\n    // Mon Sep 28 16:24:28 CEST 2015\n    System.out.println( Calendar.getInstance().getTime() );\n\n    // Mon Sep 28 16:24:51 CEST 2015\n    System.out.println( new Date(System.currentTimeMillis()) );\n\n    // Mon Sep 28\n    System.out.println( new Date().toString().substring(0, 10) );\n\n    // 2015-09-28\n    System.out.println( new java.sql.Date(System.currentTimeMillis()) );\n\n    // 14:32:26\n    Date d = new Date();\n    System.out.println( (d.getTime() / 1000 / 60 / 60) % 24 + \":\" + (d.getTime() / 1000 / 60) % 60 + \":\" + (d.getTime() / 1000) % 60 );\n\n    // 2015-09-28 17:12:35.584\n    System.out.println( new Timestamp(System.currentTimeMillis()) );\n\n    // Java 8\n\n    // 2015-09-28T16:16:23.308+02:00[Europe/Belgrade]\n    System.out.println( ZonedDateTime.now() );\n\n    // Mon, 28 Sep 2015 16:16:23 +0200\n    System.out.println( ZonedDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME) );\n\n    // 2015-09-28\n    System.out.println( LocalDate.now(ZoneId.of(\"Europe/Paris\")) ); // rest zones id in ZoneId class\n\n    // 16\n    System.out.println( LocalTime.now().getHour() );\n\n    // 2015-09-28T16:16:23.315\n    System.out.println( LocalDateTime.now() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4628910,"reputation":254,"user_id":3751944,"display_name":"u91"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1481999110,"creation_date":1442934237,"answer_id":32720392,"question_id":5175728,"body_markdown":"**1st** Understand the java.util.Date class\r\n\r\n1.1 How to obtain current Date\r\n\r\n    import java.util.Date;\r\n\r\n    class Demostration{\r\n        public static void main(String[]args){\r\n            Date date = new Date(); // date object\r\n            System.out.println(date); // Try to print the date object\r\n        }\r\n    }\r\n\r\n1.2 How to use getTime() method\r\n\r\n    import java.util.Date;\r\n    public class Main {\r\n        public static void main(String[]args){\r\n            Date date = new Date();\r\n            long timeInMilliSeconds = date.getTime();\r\n            System.out.println(timeInMilliSeconds);\r\n        }\r\n    }\r\n\r\nThis will return the number of milliseconds since January 1, 1970, 00:00:00 GMT for time comparison purposes.\r\n\r\n1.3 How to format time using SimpleDateFormat class\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n\r\n    class Demostration{\r\n        public static void main(String[]args){\r\n            Date date=new Date();\r\n            DateFormat dateFormat=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String formattedDate=dateFormat.format(date);\r\n            System.out.println(formattedDate);\r\n        }\r\n    }\r\n\r\nAlso try using different format patterns like &quot;yyyy-MM-dd hh:mm:ss&quot; and select desired pattern. http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n\r\n**2nd** Understand the java.util.Calendar class\r\n\r\n2.1 Using Calendar Class to obtain current time stamp\r\n\r\n    import java.util.Calendar;\r\n\r\n    class Demostration{\r\n        public static void main(String[]args){\r\n            Calendar calendar=Calendar.getInstance();\r\n            System.out.println(calendar.getTime());\r\n        }\r\n    }\r\n\r\n2.2 Try using setTime and other set methods for set calendar to different date.\r\n\r\nSource: http://javau91.blogspot.com/\r\n","title":"How to get the current date/time in Java","body":"<p><strong>1st</strong> Understand the java.util.Date class</p>\n\n<p>1.1 How to obtain current Date</p>\n\n<pre><code>import java.util.Date;\n\nclass Demostration{\n    public static void main(String[]args){\n        Date date = new Date(); // date object\n        System.out.println(date); // Try to print the date object\n    }\n}\n</code></pre>\n\n<p>1.2 How to use getTime() method</p>\n\n<pre><code>import java.util.Date;\npublic class Main {\n    public static void main(String[]args){\n        Date date = new Date();\n        long timeInMilliSeconds = date.getTime();\n        System.out.println(timeInMilliSeconds);\n    }\n}\n</code></pre>\n\n<p>This will return the number of milliseconds since January 1, 1970, 00:00:00 GMT for time comparison purposes.</p>\n\n<p>1.3 How to format time using SimpleDateFormat class</p>\n\n<pre><code>import java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nclass Demostration{\n    public static void main(String[]args){\n        Date date=new Date();\n        DateFormat dateFormat=new SimpleDateFormat(\"yyyy-MM-dd\");\n        String formattedDate=dateFormat.format(date);\n        System.out.println(formattedDate);\n    }\n}\n</code></pre>\n\n<p>Also try using different format patterns like \"yyyy-MM-dd hh:mm:ss\" and select desired pattern. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a></p>\n\n<p><strong>2nd</strong> Understand the java.util.Calendar class</p>\n\n<p>2.1 Using Calendar Class to obtain current time stamp</p>\n\n<pre><code>import java.util.Calendar;\n\nclass Demostration{\n    public static void main(String[]args){\n        Calendar calendar=Calendar.getInstance();\n        System.out.println(calendar.getTime());\n    }\n}\n</code></pre>\n\n<p>2.2 Try using setTime and other set methods for set calendar to different date.</p>\n\n<p>Source: <a href=\"http://javau91.blogspot.com/\" rel=\"noreferrer\">http://javau91.blogspot.com/</a></p>\n"},{"tags":[],"owner":{"account_id":5098268,"reputation":389,"user_id":4088794,"display_name":"joe pelletier"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481999168,"creation_date":1461359579,"answer_id":36803397,"question_id":5175728,"body_markdown":"Use:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy:MM:dd::HH:mm:ss&quot;);\r\n    System.out.println(sdf.format(System.currentTimeMillis()));\r\n\r\nThe print statement will print the time when it is called and not when the `SimpleDateFormat` was created. So it can be called repeatedly without creating any new objects.\r\n","title":"How to get the current date/time in Java","body":"<p>Use:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy:MM:dd::HH:mm:ss\");\nSystem.out.println(sdf.format(System.currentTimeMillis()));\n</code></pre>\n\n<p>The print statement will print the time when it is called and not when the <code>SimpleDateFormat</code> was created. So it can be called repeatedly without creating any new objects.</p>\n"},{"tags":[],"owner":{"account_id":5343930,"reputation":1398,"user_id":4260007,"accept_rate":100,"display_name":"Madhuka Dilhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481657184,"creation_date":1464670511,"answer_id":37537115,"question_id":5175728,"body_markdown":"    import java.util.*;\r\n    import java.text.*;\r\n    \r\n    public class DateDemo {\r\n       public static void main(String args[]) {\r\n          Date dNow = new Date( );\r\n          SimpleDateFormat ft = \r\n          new SimpleDateFormat (&quot;E yyyy.MM.dd &#39;at&#39; hh:mm:ss a zzz&quot;);\r\n          System.out.println(&quot;Current Date: &quot; + ft.format(dNow));\r\n       }\r\n    }\r\n\r\n&gt; you can use date for fet current data. so using `SimpleDateFormat` get format\r\n","title":"How to get the current date/time in Java","body":"<pre><code>import java.util.*;\nimport java.text.*;\n\npublic class DateDemo {\n   public static void main(String args[]) {\n      Date dNow = new Date( );\n      SimpleDateFormat ft = \n      new SimpleDateFormat (\"E yyyy.MM.dd 'at' hh:mm:ss a zzz\");\n      System.out.println(\"Current Date: \" + ft.format(dNow));\n   }\n}\n</code></pre>\n\n<blockquote>\n  <p>you can use date for fet current data. so using <code>SimpleDateFormat</code> get format</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":114,"is_accepted":false,"score":113,"last_activity_date":1570738675,"creation_date":1473284447,"answer_id":39379431,"question_id":5175728,"body_markdown":"# tl;dr\r\n\r\n    Instant.now()                         // Capture the current moment in UTC, with a resolution of nanoseconds. Returns a `Instant` object.\r\n\r\n… or …\r\n\r\n    ZonedDateTime.now(                    // Capture the current moment as seen in…\r\n        ZoneId.of( &quot;America/Montreal&quot; )   // … the wall-clock time used by the people of a particular region (a time zone).\r\n    )                                     // Returns a `ZonedDateTime` object.\r\n\r\n# java.time\r\n\r\nA few of the Answers mention that [java.time][1] classes are the modern replacement for the troublesome old legacy date-time classes bundled with the earliest versions of Java. Below is a bit more information.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n# Time zone\r\n\r\nThe other Answers fail to explain how a time zone is crucial in determining the current date and time. For any given moment, the date *and* the time vary around the globe by zone. For example, a few minutes after midnight is a new day in [Paris France][3] while still being “yesterday” in [Montr&#233;al Qu&#233;bec][4].\r\n\r\n# `Instant`\r\n\r\nMuch of your business logic and data storage/exchange should be done in [UTC][5], as a best practice. \r\n\r\nTo get the current moment in [UTC][5] with a resolution in [nanoseconds][6], use [`Instant`][7] class. Conventional computer hardware clocks are limited in their accuracy, so the current moment may be captured in milliseconds or microseconds rather than nanoseconds.\r\n\r\n    Instant instant = Instant.now();\r\n\r\n# `ZonedDateTime`\r\n\r\nYou can adjust that `Instant` into other time zones. Apply a [`ZoneId`][8] object to get a [`ZonedDateTime`][9].\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = instant.atZone( z );\r\n\r\nWe can skip the `Instant` and get the current `ZonedDateTime` directly.\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( z );\r\n\r\nAlways pass that optional time zone argument. If omitted, your JVM’s current default time zone is applied. The default can change at *any* moment, even *during* runtime. Do not subject your app to an externality out of your control. Always specify the desired/expected time zone.\r\n\r\n    ZonedDateTime do_Not_Do_This = ZonedDateTime.now(); // BAD - Never rely implicitly on the current default time zone.\r\n\r\nYou can later extract an `Instant` from the `ZonedDateTime`.\r\n\r\n    Instant instant = zdt.toInstant();\r\n\r\nAlways use an `Instant` or `ZonedDateTime` rather than a [`LocalDateTime`][10] when you want an actual moment on the timeline. The `Local…` types purposely have no concept of time zone so they represent only a rough idea of a possible moment. To get an actual moment you must assign a time zone to transform the `Local…` types into a `ZonedDateTime` and thereby make it meaningful.\r\n\r\n# `LocalDate`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    LocalDate today = LocalDate.now( z );  // Always pass a time zone.\r\n\r\n# Strings\r\n\r\nTo generate a String representing the date-time value, simply call `toString` on the java.time classes for the standard [ISO 8601][11] formats.\r\n\r\n    String output = myLocalDate.toString();  // 2016-09-23\r\n\r\n… or …\r\n\r\n    String output = zdt.toString();  // 2016-09-23T12:34:56.789+03:00[America/Montreal]\r\n\r\nThe `ZonedDateTime` class extends the standard format by wisely appending the name of the time zone in square brackets.\r\n\r\nFor other formats, search Stack Overflow for many Questions and Answers on the [`DateTimeFormatter`][12] class.\r\n\r\n## Avoid `LocalDateTime`\r\n\r\nContrary to the comment on the Question by RamanSB, you should *not* use [`LocalDateTime`][13] class for the current date-time.\r\n\r\nThe `LocalDateTime` purposely lacks any time zone or offset-from-UTC information. So, this is *not* appropriate when you are tracking a specific moment on the timeline. Certainly *not* appropriate for capturing the current moment. \r\n\r\nA `LocalDateTime` has only a date and a time-of-day such as &quot;noon on 23rd of January 2020&quot;, but we have no idea if that is noon in Tokyo Japan or noon in Toledo Ohio US, two different moments many hours apart.\r\n\r\nThe “Local” wording is counter-intuitive. It means *any* locality rather than any one specific locality. For example Christmas this year starts at midnight on the 25th of December: `2017-12-25T00:00:00`, to be represented as a `LocalDateTime`. But this means midnight at various points around the globe at different times. Midnight happens first in [Kiribati][14], later in New Zealand, hours more later in India, and so on, with several more hours passing before Christmas begins in France when the kids in Canada are still awaiting that day. Each one of these Christmas-start points would be represented as a separate `ZonedDateTime`. \r\n\r\n\r\n----------\r\n\r\n# From outside your system\r\n\r\nIf you cannot trust your system clock, see [*Java: Get current Date and Time from Server not System clock*](https://stackoverflow.com/q/2817475/642706) and [my Answer](https://stackoverflow.com/a/49059401/642706).\r\n\r\n[![photo of a couple of external radio clock devices][15]][15]\r\n\r\n# `java.time.Clock` \r\n\r\nTo harness an alternate supplier of the current moment, write a subclass of the abstract [`java.time.Clock`](https://docs.oracle.com/javase/9/docs/api/java/time/Clock.html) class. \r\n\r\nYou can pass your `Clock` implementation as an argument to the various *java.time* methods. For example, [`Instant.now( clock )`](https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#now-java.time.Clock-).\r\n\r\n    Instant instant = Instant.now( yourClockGoesHere ) ;\r\n\r\nFor testing purposes, note the alternate implementations of `Clock` available statically from `Clock` itself: [`fixed`][10], `offset`, `tick`, and more.\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][16]][16]\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://i.stack.imgur.com/MZe55.png\r\n  [3]: https://en.wikipedia.org/wiki/Paris\r\n  [4]: https://en.wikipedia.org/wiki/Montreal\r\n  [5]: https://duckduckgo.com/coordinated_Universal_Time\r\n  [6]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [9]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [10]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [11]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [12]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [13]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [14]: https://en.wikipedia.org/wiki/Kiribati\r\n  [15]: http://i.stack.imgur.com/YZjJe.jpg\r\n  [16]: https://i.stack.imgur.com/0rbGa.png","title":"How to get the current date/time in Java","body":"<h1>tl;dr</h1>\n\n<pre><code>Instant.now()                         // Capture the current moment in UTC, with a resolution of nanoseconds. Returns a `Instant` object.\n</code></pre>\n\n<p>… or …</p>\n\n<pre><code>ZonedDateTime.now(                    // Capture the current moment as seen in…\n    ZoneId.of( \"America/Montreal\" )   // … the wall-clock time used by the people of a particular region (a time zone).\n)                                     // Returns a `ZonedDateTime` object.\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>A few of the Answers mention that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes are the modern replacement for the troublesome old legacy date-time classes bundled with the earliest versions of Java. Below is a bit more information.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MZe55.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MZe55.png\" alt=\"enter image description here\"></a></p>\n\n<h1>Time zone</h1>\n\n<p>The other Answers fail to explain how a time zone is crucial in determining the current date and time. For any given moment, the date <em>and</em> the time vary around the globe by zone. For example, a few minutes after midnight is a new day in <a href=\"https://en.wikipedia.org/wiki/Paris\" rel=\"noreferrer\">Paris France</a> while still being “yesterday” in <a href=\"https://en.wikipedia.org/wiki/Montreal\" rel=\"noreferrer\">Montréal Québec</a>.</p>\n\n<h1><code>Instant</code></h1>\n\n<p>Much of your business logic and data storage/exchange should be done in <a href=\"https://duckduckgo.com/coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>, as a best practice. </p>\n\n<p>To get the current moment in <a href=\"https://duckduckgo.com/coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution in <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class. Conventional computer hardware clocks are limited in their accuracy, so the current moment may be captured in milliseconds or microseconds rather than nanoseconds.</p>\n\n<pre><code>Instant instant = Instant.now();\n</code></pre>\n\n<h1><code>ZonedDateTime</code></h1>\n\n<p>You can adjust that <code>Instant</code> into other time zones. Apply a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> object to get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nZonedDateTime zdt = instant.atZone( z );\n</code></pre>\n\n<p>We can skip the <code>Instant</code> and get the current <code>ZonedDateTime</code> directly.</p>\n\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z );\n</code></pre>\n\n<p>Always pass that optional time zone argument. If omitted, your JVM’s current default time zone is applied. The default can change at <em>any</em> moment, even <em>during</em> runtime. Do not subject your app to an externality out of your control. Always specify the desired/expected time zone.</p>\n\n<pre><code>ZonedDateTime do_Not_Do_This = ZonedDateTime.now(); // BAD - Never rely implicitly on the current default time zone.\n</code></pre>\n\n<p>You can later extract an <code>Instant</code> from the <code>ZonedDateTime</code>.</p>\n\n<pre><code>Instant instant = zdt.toInstant();\n</code></pre>\n\n<p>Always use an <code>Instant</code> or <code>ZonedDateTime</code> rather than a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> when you want an actual moment on the timeline. The <code>Local…</code> types purposely have no concept of time zone so they represent only a rough idea of a possible moment. To get an actual moment you must assign a time zone to transform the <code>Local…</code> types into a <code>ZonedDateTime</code> and thereby make it meaningful.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nLocalDate today = LocalDate.now( z );  // Always pass a time zone.\n</code></pre>\n\n<h1>Strings</h1>\n\n<p>To generate a String representing the date-time value, simply call <code>toString</code> on the java.time classes for the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats.</p>\n\n<pre><code>String output = myLocalDate.toString();  // 2016-09-23\n</code></pre>\n\n<p>… or …</p>\n\n<pre><code>String output = zdt.toString();  // 2016-09-23T12:34:56.789+03:00[America/Montreal]\n</code></pre>\n\n<p>The <code>ZonedDateTime</code> class extends the standard format by wisely appending the name of the time zone in square brackets.</p>\n\n<p>For other formats, search Stack Overflow for many Questions and Answers on the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> class.</p>\n\n<h2>Avoid <code>LocalDateTime</code></h2>\n\n<p>Contrary to the comment on the Question by RamanSB, you should <em>not</em> use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> class for the current date-time.</p>\n\n<p>The <code>LocalDateTime</code> purposely lacks any time zone or offset-from-UTC information. So, this is <em>not</em> appropriate when you are tracking a specific moment on the timeline. Certainly <em>not</em> appropriate for capturing the current moment. </p>\n\n<p>A <code>LocalDateTime</code> has only a date and a time-of-day such as \"noon on 23rd of January 2020\", but we have no idea if that is noon in Tokyo Japan or noon in Toledo Ohio US, two different moments many hours apart.</p>\n\n<p>The “Local” wording is counter-intuitive. It means <em>any</em> locality rather than any one specific locality. For example Christmas this year starts at midnight on the 25th of December: <code>2017-12-25T00:00:00</code>, to be represented as a <code>LocalDateTime</code>. But this means midnight at various points around the globe at different times. Midnight happens first in <a href=\"https://en.wikipedia.org/wiki/Kiribati\" rel=\"noreferrer\">Kiribati</a>, later in New Zealand, hours more later in India, and so on, with several more hours passing before Christmas begins in France when the kids in Canada are still awaiting that day. Each one of these Christmas-start points would be represented as a separate <code>ZonedDateTime</code>. </p>\n\n<hr>\n\n<h1>From outside your system</h1>\n\n<p>If you cannot trust your system clock, see <a href=\"https://stackoverflow.com/q/2817475/642706\"><em>Java: Get current Date and Time from Server not System clock</em></a> and <a href=\"https://stackoverflow.com/a/49059401/642706\">my Answer</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YZjJe.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YZjJe.jpg\" alt=\"photo of a couple of external radio clock devices\"></a></p>\n\n<h1><code>java.time.Clock</code></h1>\n\n<p>To harness an alternate supplier of the current moment, write a subclass of the abstract <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Clock.html\" rel=\"noreferrer\"><code>java.time.Clock</code></a> class. </p>\n\n<p>You can pass your <code>Clock</code> implementation as an argument to the various <em>java.time</em> methods. For example, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#now-java.time.Clock-\" rel=\"noreferrer\"><code>Instant.now( clock )</code></a>.</p>\n\n<pre><code>Instant instant = Instant.now( yourClockGoesHere ) ;\n</code></pre>\n\n<p>For testing purposes, note the alternate implementations of <code>Clock</code> available statically from <code>Clock</code> itself: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>fixed</code></a>, <code>offset</code>, <code>tick</code>, and more.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/0rbGa.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0rbGa.png\" alt=\"Table of which java.time library to use with which version of Java or Android\"></a></p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500866143,"creation_date":1500803543,"answer_id":45263741,"question_id":5175728,"body_markdown":"You can use `Date` object and format by yourself. It is hard to format and need more codes, as a example,\r\n\r\n    Date dateInstance = new Date();\r\n    int year = dateInstance.getYear()+1900;//Returns:the year represented by this date, minus 1900.\r\n    int date = dateInstance.getDate();\r\n    int month = dateInstance.getMonth();\r\n    int day = dateInstance.getDay();\r\n    int hours = dateInstance.getHours();\r\n    int min = dateInstance.getMinutes();\r\n    int sec = dateInstance.getSeconds();\r\n    \r\n    String dayOfWeek = &quot;&quot;;\r\n    switch(day){\r\n    \tcase 0:\r\n    \t\tdayOfWeek = &quot;Sunday&quot;;\r\n    \t\tbreak;\r\n    \tcase 1:\r\n    \t\tdayOfWeek = &quot;Monday&quot;;\r\n    \t\tbreak;\r\n    \tcase 2:\r\n    \t\tdayOfWeek = &quot;Tuesday&quot;;\r\n    \t\tbreak;\r\n    \tcase 3:\r\n    \t\tdayOfWeek = &quot;Wednesday&quot;;\r\n    \t\tbreak;\r\n    \tcase 4:\r\n    \t\tdayOfWeek = &quot;Thursday&quot;;\r\n    \t\tbreak;\r\n    \tcase 5:\r\n    \t\tdayOfWeek = &quot;Friday&quot;;\r\n    \t\tbreak;\r\n    \tcase 6:\r\n    \t\tdayOfWeek = &quot;Saturday&quot;;\r\n    \t\tbreak;\r\n    }\r\n    System.out.println(&quot;Date: &quot; + year +&quot;-&quot;+ month + &quot;-&quot; + date + &quot; &quot;+ dayOfWeek);\r\n    System.out.println(&quot;Time: &quot; + hours +&quot;:&quot;+ min + &quot;:&quot; + sec);\r\n\r\noutput: \r\n\r\n    Date: 2017-6-23 Sunday\r\n    Time: 14:6:20\r\n\r\nAs you can see this is the worst way you can do it and according to oracle documentation it is [deprecated][1].\r\n\r\nOracle doc:\r\n\r\n&gt; The class Date represents a specific instant in time, with millisecond\r\n&gt; precision.\r\n&gt; \r\n&gt; Prior to JDK 1.1, the class Date had two additional functions. It\r\n&gt; allowed the interpretation of dates as year, month, day, hour, minute,\r\n&gt; and second values. It also allowed the formatting and parsing of date\r\n&gt; strings. Unfortunately, the API for these functions was not amenable\r\n&gt; to internationalization. As of JDK 1.1, the Calendar class should be\r\n&gt; used to convert between dates and time fields and the DateFormat class\r\n&gt; should be used to format and parse date strings. The corresponding\r\n&gt; methods in Date are deprecated.\r\n\r\nSo alternatively, you can use [`Calendar`][2] class,\r\n\r\n    Calendar.YEAR;\r\n    //and lot more\r\n\r\nTo get current time, you can use:\r\n\r\n    Calendar rightNow = Calendar.getInstance();\r\n\r\n&gt; Doc:\r\n&gt; \r\n&gt; Like other locale-sensitive classes, `Calendar` provides a class method,\r\n&gt; `getInstance`, for getting a generally useful object of this type.\r\n&gt; Calendar&#39;s `getInstance` method returns a `Calendar` object whose calendar\r\n&gt; fields have been initialized with the current date and time\r\n\r\nBelow code for to get only date\r\n\r\n\tDate rightNow = Calendar.getInstance().getTime();\r\n\tSystem.out.println(rightNow);\r\n\r\nAlso, `Calendar` class have Subclasses. [`GregorianCalendar`][3] is a one of them and concrete subclass of `Calendar` and provides the standard calendar system used by most of the world.\r\n\r\nExample using `GregorianCalendar`:\r\n\r\n    Calendar cal = new GregorianCalendar();\r\n    int hours = cal.get(Calendar.HOUR);\r\n    int minute = cal.get(Calendar.MINUTE);\r\n    int second = cal.get(Calendar.SECOND);\r\n    int ap = cal.get(Calendar.AM_PM);\r\n    \r\n    String amVSpm;\r\n    if(ap == 0){\r\n        amVSpm = &quot;AM&quot;;\r\n    }else{\r\n        amVSpm = &quot;PM&quot;;\r\n    }\r\n    \r\n    String timer = hours + &quot;-&quot; + minute + &quot;-&quot; + second + &quot; &quot; +amVSpm;\r\n    System.out.println(timer);\r\n\r\nYou can use [`SimpleDateFormat`][4], simple and quick way to format date:\r\n\r\n\tString pattern = &quot;yyyy-MM-dd&quot;;\r\n\tSimpleDateFormat simpleDateFormat = new SimpleDateFormat(pattern);\r\n\r\n\tString date = simpleDateFormat.format(new Date());\r\n\tSystem.out.println(date);\r\n\r\nRead this [Jakob Jenkov tutorial: Java SimpleDateFormat][5].\r\n\r\nAs others mentioned, when we need to do manipulation from dates, we didn&#39;t had simple and best way or we couldn&#39;t satisfied built in classes, APIs.\r\n\r\nAs a example, When we need to [get different between two dates][6], when we need to [compare two dates(there is in-built method also for this)][7] and many more. We had to use third party libraries. One of the good and popular one is [Joda Time.][8]\r\n\r\nAlso read:\r\n\r\n - [How to get properly current date and time in Joda-Time?][9]\r\n - [JodaTime - how to get current time in UTC][10]\r\n - [Examples for `JodaTime`.][11]\r\n - [Download Joda][12]\r\n\r\n.\r\nThe happiest thing is now(in java 8), no one need to download and use libraries for any reasons. A simple example to get current date &amp; time in Java 8,\r\n\r\n    LocalTime localTime = LocalTime.now();\r\n    System.out.println(localTime);\r\n    \r\n    //with time zone\r\n    LocalTime localTimeWtZone = LocalTime.now(ZoneId.of(&quot;GMT+02:30&quot;));\r\n    System.out.println(localTimeWtZone);\r\n\r\nOne of the [good blog post to read about Java 8 date][13].\r\n\r\nAnd keep remeber to find out more about Java date and time because there is lot more ways and/or useful ways that you can get/use.\r\n\r\n - [Oracle tutorials for date &amp; time][14].\r\n - [Oracle tutorials for formatter][15].\r\n - [Lesson: Standard Calendar.][16]\r\n\r\n**EDIT:**\r\n\r\nAccording to @BasilBourque comment, the troublesome old date-time classes such as `java.util.Date`, `java.util.Calendar`, and `java.text.SimpleTextFormat` are now [legacy][17], supplanted by the [`java.time` classes][18].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/GregorianCalendar.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n  [5]: http://tutorials.jenkov.com/java-internationalization/simpledateformat.html\r\n  [6]: https://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances\r\n  [7]: https://stackoverflow.com/questions/2592501/how-to-compare-dates-in-java\r\n  [8]: http://www.joda.org/joda-time/\r\n  [9]: https://stackoverflow.com/questions/14331063/how-to-get-properly-current-date-and-time-in-joda-time\r\n  [10]: https://stackoverflow.com/questions/27741288/jodatime-how-to-get-current-time-in-utc\r\n  [11]: http://www.joda.org/joda-time/quickstart.html\r\n  [12]: https://sourceforge.net/projects/joda-time/?source=typ_redirect\r\n  [13]: http://javarevisited.blogspot.com/2015/03/20-examples-of-date-and-time-api-from-Java8.html\r\n  [14]: https://docs.oracle.com/javase/tutorial/datetime/index.html\r\n  [15]: https://docs.oracle.com/javase/tutorial/i18n/format/index.html\r\n  [16]: https://docs.oracle.com/javase/tutorial/datetime/iso/\r\n  [17]: https://en.wikipedia.org/wiki/Legacy_system\r\n  [18]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"How to get the current date/time in Java","body":"<p>You can use <code>Date</code> object and format by yourself. It is hard to format and need more codes, as a example,</p>\n\n<pre><code>Date dateInstance = new Date();\nint year = dateInstance.getYear()+1900;//Returns:the year represented by this date, minus 1900.\nint date = dateInstance.getDate();\nint month = dateInstance.getMonth();\nint day = dateInstance.getDay();\nint hours = dateInstance.getHours();\nint min = dateInstance.getMinutes();\nint sec = dateInstance.getSeconds();\n\nString dayOfWeek = \"\";\nswitch(day){\n    case 0:\n        dayOfWeek = \"Sunday\";\n        break;\n    case 1:\n        dayOfWeek = \"Monday\";\n        break;\n    case 2:\n        dayOfWeek = \"Tuesday\";\n        break;\n    case 3:\n        dayOfWeek = \"Wednesday\";\n        break;\n    case 4:\n        dayOfWeek = \"Thursday\";\n        break;\n    case 5:\n        dayOfWeek = \"Friday\";\n        break;\n    case 6:\n        dayOfWeek = \"Saturday\";\n        break;\n}\nSystem.out.println(\"Date: \" + year +\"-\"+ month + \"-\" + date + \" \"+ dayOfWeek);\nSystem.out.println(\"Time: \" + hours +\":\"+ min + \":\" + sec);\n</code></pre>\n\n<p>output: </p>\n\n<pre><code>Date: 2017-6-23 Sunday\nTime: 14:6:20\n</code></pre>\n\n<p>As you can see this is the worst way you can do it and according to oracle documentation it is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">deprecated</a>.</p>\n\n<p>Oracle doc:</p>\n\n<blockquote>\n  <p>The class Date represents a specific instant in time, with millisecond\n  precision.</p>\n  \n  <p>Prior to JDK 1.1, the class Date had two additional functions. It\n  allowed the interpretation of dates as year, month, day, hour, minute,\n  and second values. It also allowed the formatting and parsing of date\n  strings. Unfortunately, the API for these functions was not amenable\n  to internationalization. As of JDK 1.1, the Calendar class should be\n  used to convert between dates and time fields and the DateFormat class\n  should be used to format and parse date strings. The corresponding\n  methods in Date are deprecated.</p>\n</blockquote>\n\n<p>So alternatively, you can use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a> class,</p>\n\n<pre><code>Calendar.YEAR;\n//and lot more\n</code></pre>\n\n<p>To get current time, you can use:</p>\n\n<pre><code>Calendar rightNow = Calendar.getInstance();\n</code></pre>\n\n<blockquote>\n  <p>Doc:</p>\n  \n  <p>Like other locale-sensitive classes, <code>Calendar</code> provides a class method,\n  <code>getInstance</code>, for getting a generally useful object of this type.\n  Calendar's <code>getInstance</code> method returns a <code>Calendar</code> object whose calendar\n  fields have been initialized with the current date and time</p>\n</blockquote>\n\n<p>Below code for to get only date</p>\n\n<pre><code>Date rightNow = Calendar.getInstance().getTime();\nSystem.out.println(rightNow);\n</code></pre>\n\n<p>Also, <code>Calendar</code> class have Subclasses. <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/GregorianCalendar.html\" rel=\"nofollow noreferrer\"><code>GregorianCalendar</code></a> is a one of them and concrete subclass of <code>Calendar</code> and provides the standard calendar system used by most of the world.</p>\n\n<p>Example using <code>GregorianCalendar</code>:</p>\n\n<pre><code>Calendar cal = new GregorianCalendar();\nint hours = cal.get(Calendar.HOUR);\nint minute = cal.get(Calendar.MINUTE);\nint second = cal.get(Calendar.SECOND);\nint ap = cal.get(Calendar.AM_PM);\n\nString amVSpm;\nif(ap == 0){\n    amVSpm = \"AM\";\n}else{\n    amVSpm = \"PM\";\n}\n\nString timer = hours + \"-\" + minute + \"-\" + second + \" \" +amVSpm;\nSystem.out.println(timer);\n</code></pre>\n\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>, simple and quick way to format date:</p>\n\n<pre><code>String pattern = \"yyyy-MM-dd\";\nSimpleDateFormat simpleDateFormat = new SimpleDateFormat(pattern);\n\nString date = simpleDateFormat.format(new Date());\nSystem.out.println(date);\n</code></pre>\n\n<p>Read this <a href=\"http://tutorials.jenkov.com/java-internationalization/simpledateformat.html\" rel=\"nofollow noreferrer\">Jakob Jenkov tutorial: Java SimpleDateFormat</a>.</p>\n\n<p>As others mentioned, when we need to do manipulation from dates, we didn't had simple and best way or we couldn't satisfied built in classes, APIs.</p>\n\n<p>As a example, When we need to <a href=\"https://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances\">get different between two dates</a>, when we need to <a href=\"https://stackoverflow.com/questions/2592501/how-to-compare-dates-in-java\">compare two dates(there is in-built method also for this)</a> and many more. We had to use third party libraries. One of the good and popular one is <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda Time.</a></p>\n\n<p>Also read:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14331063/how-to-get-properly-current-date-and-time-in-joda-time\">How to get properly current date and time in Joda-Time?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/27741288/jodatime-how-to-get-current-time-in-utc\">JodaTime - how to get current time in UTC</a></li>\n<li><a href=\"http://www.joda.org/joda-time/quickstart.html\" rel=\"nofollow noreferrer\">Examples for <code>JodaTime</code>.</a></li>\n<li><a href=\"https://sourceforge.net/projects/joda-time/?source=typ_redirect\" rel=\"nofollow noreferrer\">Download Joda</a></li>\n</ul>\n\n<p>.\nThe happiest thing is now(in java 8), no one need to download and use libraries for any reasons. A simple example to get current date &amp; time in Java 8,</p>\n\n<pre><code>LocalTime localTime = LocalTime.now();\nSystem.out.println(localTime);\n\n//with time zone\nLocalTime localTimeWtZone = LocalTime.now(ZoneId.of(\"GMT+02:30\"));\nSystem.out.println(localTimeWtZone);\n</code></pre>\n\n<p>One of the <a href=\"http://javarevisited.blogspot.com/2015/03/20-examples-of-date-and-time-api-from-Java8.html\" rel=\"nofollow noreferrer\">good blog post to read about Java 8 date</a>.</p>\n\n<p>And keep remeber to find out more about Java date and time because there is lot more ways and/or useful ways that you can get/use.</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Oracle tutorials for date &amp; time</a>.</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/i18n/format/index.html\" rel=\"nofollow noreferrer\">Oracle tutorials for formatter</a>.</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/\" rel=\"nofollow noreferrer\">Lesson: Standard Calendar.</a></li>\n</ul>\n\n<p><strong>EDIT:</strong></p>\n\n<p>According to @BasilBourque comment, the troublesome old date-time classes such as <code>java.util.Date</code>, <code>java.util.Calendar</code>, and <code>java.text.SimpleTextFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code> classes</a>.</p>\n"},{"tags":[],"owner":{"account_id":9009858,"reputation":1394,"user_id":7445389,"display_name":"amit pandya"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1519256688,"creation_date":1505898923,"answer_id":46317969,"question_id":5175728,"body_markdown":"For java.util.Date, just create a new Date()\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    Date date = new Date();\r\n    System.out.println(dateFormat.format(date)); //2016/11/16 12:08:43\r\n\r\nFor java.util.Calendar, uses Calendar.getInstance()\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    Calendar cal = Calendar.getInstance();\r\n    System.out.println(dateFormat.format(cal)); //2016/11/16 12:08:43\r\n\r\nFor java.time.LocalDateTime, uses LocalDateTime.now()\r\n\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    LocalDateTime now = LocalDateTime.now();\r\n    System.out.println(dtf.format(now)); //2016/11/16 12:08:43\r\n\r\nFor java.time.LocalDate, uses LocalDate.now()\r\n\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;);\r\n    LocalDate localDate = LocalDate.now();\r\n    System.out.println(dtf.format(localDate)); //2016/11/16\r\n\r\nReference: https://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/","title":"How to get the current date/time in Java","body":"<p>For java.util.Date, just create a new Date()</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\nDate date = new Date();\nSystem.out.println(dateFormat.format(date)); //2016/11/16 12:08:43\n</code></pre>\n\n<p>For java.util.Calendar, uses Calendar.getInstance()</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\nCalendar cal = Calendar.getInstance();\nSystem.out.println(dateFormat.format(cal)); //2016/11/16 12:08:43\n</code></pre>\n\n<p>For java.time.LocalDateTime, uses LocalDateTime.now()</p>\n\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyy/MM/dd HH:mm:ss\");\nLocalDateTime now = LocalDateTime.now();\nSystem.out.println(dtf.format(now)); //2016/11/16 12:08:43\n</code></pre>\n\n<p>For java.time.LocalDate, uses LocalDate.now()</p>\n\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyy/MM/dd\");\nLocalDate localDate = LocalDate.now();\nSystem.out.println(dtf.format(localDate)); //2016/11/16\n</code></pre>\n\n<p>Reference: <a href=\"https://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/\" rel=\"noreferrer\">https://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/</a></p>\n"},{"tags":[],"owner":{"account_id":6236701,"reputation":2366,"user_id":4851777,"accept_rate":74,"display_name":"ThePartyTurtle"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1515791910,"creation_date":1515791910,"answer_id":48234133,"question_id":5175728,"body_markdown":"I&#39;ll go ahead and throw this answer in because it is all I needed when I had the same question:\r\n\r\n    Date currentDate = new Date(System.currentTimeMillis());\r\n\r\n`currentDate` is now your current date in a Java `Date` object.","title":"How to get the current date/time in Java","body":"<p>I'll go ahead and throw this answer in because it is all I needed when I had the same question:</p>\n\n<pre><code>Date currentDate = new Date(System.currentTimeMillis());\n</code></pre>\n\n<p><code>currentDate</code> is now your current date in a Java <code>Date</code> object.</p>\n"},{"tags":[],"owner":{"account_id":8601786,"reputation":299,"user_id":6443130,"display_name":"Shinwar ismail"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518271558,"creation_date":1518271558,"answer_id":48721617,"question_id":5175728,"body_markdown":"     System.out.println( new SimpleDateFormat(&quot;yyyy:MM:dd - hh:mm:ss a&quot;).format(Calendar.getInstance().getTime()) );\r\n        //2018:02:10 - 05:04:20 PM\r\ndate/time with AM/PM\r\n","title":"How to get the current date/time in Java","body":"<pre><code> System.out.println( new SimpleDateFormat(\"yyyy:MM:dd - hh:mm:ss a\").format(Calendar.getInstance().getTime()) );\n    //2018:02:10 - 05:04:20 PM\n</code></pre>\n\n<p>date/time with AM/PM</p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526532128,"creation_date":1526532128,"answer_id":50383456,"question_id":5175728,"body_markdown":"&gt; New Data-Time API is introduced with the dawn of Java 8. This is due\r\n&gt; to following issues that were caused in the old data-time API.\r\n&gt; \r\n&gt; Difficult to handle time zone : need to write lot of code to deal with\r\n&gt; time zones.\r\n&gt; \r\n&gt; Not Thread Safe : java.util.Date is not thread safe.\r\n\r\nSo have a look around with Java 8\r\n\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.LocalDateTime;\r\n    import java.time.Month;\r\n    \r\n    \r\n    public class DataTimeChecker {\r\n    \r\n        public static void main(String args[]) {\r\n            DataTimeChecker dateTimeChecker = new DataTimeChecker();\r\n            dateTimeChecker.DateTime();\r\n        }\r\n    \r\n        public void DateTime() {\r\n            // Get the current date and time\r\n            LocalDateTime currentTime = LocalDateTime.now();\r\n            System.out.println(&quot;Current DateTime: &quot; + currentTime);\r\n    \r\n            LocalDate date1 = currentTime.toLocalDate();\r\n            System.out.println(&quot;Date : &quot; + date1);\r\n    \r\n            Month month = currentTime.getMonth();\r\n            int day = currentTime.getDayOfMonth();\r\n            int seconds = currentTime.getSecond();\r\n    \r\n            System.out.println(&quot;Month : &quot; + month);\r\n            System.out.println(&quot;Day : &quot; + day);\r\n            System.out.println(&quot;Seconds : &quot; + seconds);\r\n    \r\n            LocalDateTime date2 = currentTime.withDayOfMonth(17).withYear(2018);\r\n            System.out.println(&quot;Date : &quot; + date2);\r\n    \r\n            //Prints 17 May 2018\r\n            LocalDate date3 = LocalDate.of(2018, Month.MAY, 17);\r\n            System.out.println(&quot;Date : &quot; + date3);\r\n    \r\n            //Prints 04 hour 45 minutes\r\n            LocalTime date4 = LocalTime.of(4, 45);\r\n            System.out.println(&quot;Date : &quot; + date4);\r\n    \r\n            // Convert to a String \r\n            LocalTime date5 = LocalTime.parse(&quot;20:15:30&quot;);\r\n            System.out.println(&quot;Date : &quot; + date5);\r\n        }\r\n    }\r\n\r\nOutput of the coding above :\r\n\r\n    Current DateTime: 2018-05-17T04:40:34.603\r\n    Date : 2018-05-17\r\n    Month : MAY\r\n    Day : 17\r\n    Seconds : 34\r\n    Date : 2018-05-17T04:40:34.603\r\n    Date : 2018-05-17\r\n    Date : 04:45\r\n    Date : 20:15:30","title":"How to get the current date/time in Java","body":"<blockquote>\n  <p>New Data-Time API is introduced with the dawn of Java 8. This is due\n  to following issues that were caused in the old data-time API.</p>\n  \n  <p>Difficult to handle time zone : need to write lot of code to deal with\n  time zones.</p>\n  \n  <p>Not Thread Safe : java.util.Date is not thread safe.</p>\n</blockquote>\n\n<p>So have a look around with Java 8</p>\n\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.LocalDateTime;\nimport java.time.Month;\n\n\npublic class DataTimeChecker {\n\n    public static void main(String args[]) {\n        DataTimeChecker dateTimeChecker = new DataTimeChecker();\n        dateTimeChecker.DateTime();\n    }\n\n    public void DateTime() {\n        // Get the current date and time\n        LocalDateTime currentTime = LocalDateTime.now();\n        System.out.println(\"Current DateTime: \" + currentTime);\n\n        LocalDate date1 = currentTime.toLocalDate();\n        System.out.println(\"Date : \" + date1);\n\n        Month month = currentTime.getMonth();\n        int day = currentTime.getDayOfMonth();\n        int seconds = currentTime.getSecond();\n\n        System.out.println(\"Month : \" + month);\n        System.out.println(\"Day : \" + day);\n        System.out.println(\"Seconds : \" + seconds);\n\n        LocalDateTime date2 = currentTime.withDayOfMonth(17).withYear(2018);\n        System.out.println(\"Date : \" + date2);\n\n        //Prints 17 May 2018\n        LocalDate date3 = LocalDate.of(2018, Month.MAY, 17);\n        System.out.println(\"Date : \" + date3);\n\n        //Prints 04 hour 45 minutes\n        LocalTime date4 = LocalTime.of(4, 45);\n        System.out.println(\"Date : \" + date4);\n\n        // Convert to a String \n        LocalTime date5 = LocalTime.parse(\"20:15:30\");\n        System.out.println(\"Date : \" + date5);\n    }\n}\n</code></pre>\n\n<p>Output of the coding above :</p>\n\n<pre><code>Current DateTime: 2018-05-17T04:40:34.603\nDate : 2018-05-17\nMonth : MAY\nDay : 17\nSeconds : 34\nDate : 2018-05-17T04:40:34.603\nDate : 2018-05-17\nDate : 04:45\nDate : 20:15:30\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10548257,"reputation":51,"user_id":8391616,"display_name":"PotterOleagaCR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550471295,"creation_date":1550471295,"answer_id":54741556,"question_id":5175728,"body_markdown":"I created this methods, it works for me...\r\n\r\n    public String GetDay() {\r\n        return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;dd&quot;)));\r\n    }\r\n\r\n    public String GetNameOfTheDay() {\r\n        return String.valueOf(LocalDateTime.now().getDayOfWeek());\r\n    }\r\n\r\n    public String GetMonth() {\r\n        return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;MM&quot;)));\r\n    }\r\n\r\n    public String GetNameOfTheMonth() {\r\n        return String.valueOf(LocalDateTime.now().getMonth());\r\n    }\r\n\r\n    public String GetYear() {\r\n        return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy&quot;)));\r\n    }\r\n\r\n    public boolean isLeapYear(long year) {\r\n        return Year.isLeap(year);\r\n    }\r\n\r\n    public String GetDate() {\r\n        return GetDay() + &quot;/&quot; + GetMonth() + &quot;/&quot; + GetYear();\r\n    }\r\n\r\n    public String Get12HHour() {\r\n        return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;hh&quot;)));\r\n    }\r\n\r\n    public String Get24HHour() {\r\n        return String.valueOf(LocalDateTime.now().getHour());\r\n    }\r\n\r\n    public String GetMinutes() {\r\n        return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;mm&quot;)));\r\n    }\r\n\r\n    public String GetSeconds() {\r\n        return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;ss&quot;)));\r\n    }\r\n\r\n    public String Get24HTime() {\r\n        return Get24HHour() + &quot;:&quot; + GetMinutes();\r\n    }\r\n    \r\n    public String Get24HFullTime() {\r\n        return Get24HHour() + &quot;:&quot; + GetMinutes() + &quot;:&quot; + GetSeconds();\r\n    }\r\n\r\n    public String Get12HTime() {\r\n        return Get12HHour() + &quot;:&quot; + GetMinutes();\r\n    }\r\n\r\n    public String Get12HFullTime() {\r\n        return Get12HHour() + &quot;:&quot; + GetMinutes() + &quot;:&quot; + GetSeconds();\r\n    }\r\n","title":"How to get the current date/time in Java","body":"<p>I created this methods, it works for me...</p>\n\n<pre><code>public String GetDay() {\n    return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(\"dd\")));\n}\n\npublic String GetNameOfTheDay() {\n    return String.valueOf(LocalDateTime.now().getDayOfWeek());\n}\n\npublic String GetMonth() {\n    return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(\"MM\")));\n}\n\npublic String GetNameOfTheMonth() {\n    return String.valueOf(LocalDateTime.now().getMonth());\n}\n\npublic String GetYear() {\n    return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(\"yyyy\")));\n}\n\npublic boolean isLeapYear(long year) {\n    return Year.isLeap(year);\n}\n\npublic String GetDate() {\n    return GetDay() + \"/\" + GetMonth() + \"/\" + GetYear();\n}\n\npublic String Get12HHour() {\n    return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(\"hh\")));\n}\n\npublic String Get24HHour() {\n    return String.valueOf(LocalDateTime.now().getHour());\n}\n\npublic String GetMinutes() {\n    return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(\"mm\")));\n}\n\npublic String GetSeconds() {\n    return String.valueOf(LocalDateTime.now().format(DateTimeFormatter.ofPattern(\"ss\")));\n}\n\npublic String Get24HTime() {\n    return Get24HHour() + \":\" + GetMinutes();\n}\n\npublic String Get24HFullTime() {\n    return Get24HHour() + \":\" + GetMinutes() + \":\" + GetSeconds();\n}\n\npublic String Get12HTime() {\n    return Get12HHour() + \":\" + GetMinutes();\n}\n\npublic String Get12HFullTime() {\n    return Get12HHour() + \":\" + GetMinutes() + \":\" + GetSeconds();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10794010,"reputation":1606,"user_id":7940437,"display_name":"Majid Roustaei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557819280,"creation_date":1557819280,"answer_id":56125152,"question_id":5175728,"body_markdown":"just try this code:\n\n    import java.text.DateFormat;\n    import java.text.SimpleDateFormat;\n    import java.util.Calendar;\n    import java.util.Date;\n    public class CurrentTimeDateCalendar {\n        public static void getCurrentTimeUsingDate() {\n            Date date = new Date();\n            String strDateFormat = &quot;hh:mm:ss a&quot;;\n            DateFormat dateFormat = new SimpleDateFormat(strDateFormat);\n            String formattedDate= dateFormat.format(date);\n            System.out.println(&quot;Current time of the day using Date - 12 hour format: &quot; + formattedDate);\n        }\n        public static void getCurrentTimeUsingCalendar() {\n            Calendar cal = Calendar.getInstance();\n            Date date=cal.getTime();\n            DateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n            String formattedDate=dateFormat.format(date);\n            System.out.println(&quot;Current time of the day using Calendar - 24 hour format: &quot;+ formattedDate);\n        }\n    }\n\nwhich the sample output is:\n\n&gt; Current time of the day using Date - 12 hour format: 11:13:01 PM\n&gt;\n&gt; Current time of the day using Calendar - 24 hour format: 23:13:01\n\nmore information on:\n\n[Getting Current Date Time in Java][1]\n\n\n  [1]: https://dzone.com/articles/getting-current-date-time-in-java","title":"How to get the current date/time in Java","body":"<p>just try this code:</p>\n<pre><code>import java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\npublic class CurrentTimeDateCalendar {\n    public static void getCurrentTimeUsingDate() {\n        Date date = new Date();\n        String strDateFormat = &quot;hh:mm:ss a&quot;;\n        DateFormat dateFormat = new SimpleDateFormat(strDateFormat);\n        String formattedDate= dateFormat.format(date);\n        System.out.println(&quot;Current time of the day using Date - 12 hour format: &quot; + formattedDate);\n    }\n    public static void getCurrentTimeUsingCalendar() {\n        Calendar cal = Calendar.getInstance();\n        Date date=cal.getTime();\n        DateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n        String formattedDate=dateFormat.format(date);\n        System.out.println(&quot;Current time of the day using Calendar - 24 hour format: &quot;+ formattedDate);\n    }\n}\n</code></pre>\n<p>which the sample output is:</p>\n<blockquote>\n<p>Current time of the day using Date - 12 hour format: 11:13:01 PM</p>\n<p>Current time of the day using Calendar - 24 hour format: 23:13:01</p>\n</blockquote>\n<p>more information on:</p>\n<p><a href=\"https://dzone.com/articles/getting-current-date-time-in-java\" rel=\"nofollow noreferrer\">Getting Current Date Time in Java</a></p>\n"},{"tags":[],"owner":{"account_id":11046857,"reputation":359,"user_id":8112615,"display_name":"Kalana Weerarathne"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1572778207,"creation_date":1572778207,"answer_id":58679427,"question_id":5175728,"body_markdown":"Java 8 or above\r\n\r\n    LocalDateTime.now() and ZonedDateTime.now()","title":"How to get the current date/time in Java","body":"<p>Java 8 or above</p>\n\n<pre><code>LocalDateTime.now() and ZonedDateTime.now()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17369673,"reputation":185,"user_id":12584071,"display_name":"Shashidhar Reddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578639132,"creation_date":1578639132,"answer_id":59676742,"question_id":5175728,"body_markdown":"Current Date using java 8:\r\nFirst, let&#39;s use java.time.LocalDate to get the current system date:\r\n\r\n    LocalDate localDate = LocalDate.now();\r\n\r\nTo get the date in any other timezone we can use LocalDate.now(ZoneId):\r\n\r\n    LocalDate localDate = LocalDate.now(ZoneId.of(&quot;GMT+02:30&quot;));\r\n\r\nWe can also use java.time.LocalDateTime to get an instance of LocalDate:\r\n\r\n    LocalDateTime localDateTime = LocalDateTime.now();\r\n    LocalDate localDate = localDateTime.toLocalDate();\r\n\r\n\r\n\r\n","title":"How to get the current date/time in Java","body":"<p>Current Date using java 8:\nFirst, let's use java.time.LocalDate to get the current system date:</p>\n\n<pre><code>LocalDate localDate = LocalDate.now();\n</code></pre>\n\n<p>To get the date in any other timezone we can use LocalDate.now(ZoneId):</p>\n\n<pre><code>LocalDate localDate = LocalDate.now(ZoneId.of(\"GMT+02:30\"));\n</code></pre>\n\n<p>We can also use java.time.LocalDateTime to get an instance of LocalDate:</p>\n\n<pre><code>LocalDateTime localDateTime = LocalDateTime.now();\nLocalDate localDate = localDateTime.toLocalDate();\n</code></pre>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2355377,"favorite_count":0,"down_vote_count":4,"up_vote_count":849,"closed_date":1588284012,"accepted_answer_id":5175900,"answer_count":28,"score":845,"last_activity_date":1698371631,"creation_date":1299116889,"question_id":5175728,"body_markdown":"What&#39;s the best way to get the current date/time in Java?","title":"How to get the current date/time in Java","body":"<p>What's the best way to get the current date/time in Java?</p>\n"},{"tags":["java","amazon-web-services","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1674320535,"post_id":75194929,"comment_id":132691536,"body_markdown":"The `PojoObservables` class the plug-in is looking for is no longer part of Eclipse, the plug-in needs to be updated.","body":"The <code>PojoObservables</code> class the plug-in is looking for is no longer part of Eclipse, the plug-in needs to be updated."},{"owner":{"account_id":8252723,"reputation":139,"user_id":6206806,"display_name":"Lpuche"},"score":0,"creation_date":1674326708,"post_id":75194929,"comment_id":132692674,"body_markdown":"@greg-449 That is very, probably it then. Many thanks, I&#39;m surprised I&#39;ve seem absolutely nothing about this.","body":"@greg-449 That is very, probably it then. Many thanks, I&#39;m surprised I&#39;ve seem absolutely nothing about this."},{"owner":{"account_id":259375,"reputation":131,"user_id":542205,"display_name":"Heiner"},"score":1,"creation_date":1675933965,"post_id":75194929,"comment_id":133035510,"body_markdown":"The class is obsolete since 2014 and in the list of removed APIs: https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fporting%2Fremovals.html","body":"The class is obsolete since 2014 and in the list of removed APIs: <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fporting%2Fremovals.html\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8252723,"reputation":139,"user_id":6206806,"display_name":"Lpuche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698370773,"creation_date":1698370773,"answer_id":77371097,"question_id":75194929,"body_markdown":"Thanks to everyone.The AWS Eclipse plugin has been deprecated.","title":"AWS Toolkit Eclipse Plugin no Global Configuration","body":"<p>Thanks to everyone.The AWS Eclipse plugin has been deprecated.</p>\n"}],"owner":{"account_id":8252723,"reputation":139,"user_id":6206806,"display_name":"Lpuche"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1698370773,"creation_date":1674319255,"question_id":75194929,"body_markdown":"So I have always used Eclipse for development and I just got myself a more capable computer. While resetting all my environments and installing the AWS Eclipse Plugin. However, in the current plugin, there are no &#39;Global Configuration&#39; option. Am I missing something? Was there some type of update? I have tried to re-install the AWS toolkit multiple times and I am somewhat lost now.\r\n\r\nRunning Windows 11 (Eclipse Version: 2022-12 (4.26.0)), if that is worth noting. This below is what it currently looks like.\r\n\r\n[![Image][1]][1]\r\n\r\nThis error in the Eclipse error log may be relevant.\r\n\r\n        java.lang.NoClassDefFoundError: org/eclipse/core/databinding/beans/PojoObservables\r\n    \tat com.amazonaws.eclipse.core.ui.setupwizard.ConfigureAccountWizardPage.createControl(ConfigureAccountWizardPage.java:113)\r\n    \tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:636)\r\n    \tat org.eclipse.jface.window.Window.create(Window.java:431)\r\n    \tat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1094)\r\n    \tat org.eclipse.jface.window.Window.open(Window.java:788)\r\n    \tat com.amazonaws.eclipse.core.ui.setupwizard.InitialSetupUtils$1.run(InitialSetupUtils.java:54)\r\n    \tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:40)\r\n    \tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:132)\r\n    \tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4029)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n    \tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.core.databinding.beans.PojoObservables cannot be found by com.amazonaws.eclipse.core_2.3.1.v201807201743\r\n    \tat org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\r\n    \tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\r\n    \tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n    \tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 33 more\r\n\r\n\r\nHas anyone faced this issue before? Any help that can be provided would be amazingly appreciated!\r\n\r\n  [1]: https://i.stack.imgur.com/Cc7ii.png","title":"AWS Toolkit Eclipse Plugin no Global Configuration","body":"<p>So I have always used Eclipse for development and I just got myself a more capable computer. While resetting all my environments and installing the AWS Eclipse Plugin. However, in the current plugin, there are no 'Global Configuration' option. Am I missing something? Was there some type of update? I have tried to re-install the AWS toolkit multiple times and I am somewhat lost now.</p>\n<p>Running Windows 11 (Eclipse Version: 2022-12 (4.26.0)), if that is worth noting. This below is what it currently looks like.</p>\n<p><a href=\"https://i.stack.imgur.com/Cc7ii.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cc7ii.png\" alt=\"Image\" /></a></p>\n<p>This error in the Eclipse error log may be relevant.</p>\n<pre><code>    java.lang.NoClassDefFoundError: org/eclipse/core/databinding/beans/PojoObservables\n    at com.amazonaws.eclipse.core.ui.setupwizard.ConfigureAccountWizardPage.createControl(ConfigureAccountWizardPage.java:113)\n    at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\n    at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\n    at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:636)\n    at org.eclipse.jface.window.Window.create(Window.java:431)\n    at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1094)\n    at org.eclipse.jface.window.Window.open(Window.java:788)\n    at com.amazonaws.eclipse.core.ui.setupwizard.InitialSetupUtils$1.run(InitialSetupUtils.java:54)\n    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:40)\n    at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:132)\n    at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4029)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.core.databinding.beans.PojoObservables cannot be found by com.amazonaws.eclipse.core_2.3.1.v201807201743\n    at org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 33 more\n</code></pre>\n<p>Has anyone faced this issue before? Any help that can be provided would be amazingly appreciated!</p>\n"},{"tags":["java","kotlin","compilation","decorator","aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1698549732,"post_id":77370959,"comment_id":136419058,"body_markdown":"As you were asking about AOP, I can recommend AspectJ and an approach that will work with Kotlin code, too, called post-compile-time weaving or simply binary weaving. That can be done both from Maven (AspectJ Maven Plugin) and Gradle (Freefair). The advantage is that your core code can be completely oblivious to the presence of any aspects.","body":"As you were asking about AOP, I can recommend AspectJ and an approach that will work with Kotlin code, too, called post-compile-time weaving or simply binary weaving. That can be done both from Maven (AspectJ Maven Plugin) and Gradle (Freefair). The advantage is that your core code can be completely oblivious to the presence of any aspects."},{"owner":{"account_id":450823,"reputation":1659,"user_id":846355,"accept_rate":78,"display_name":"sunprophit"},"score":0,"creation_date":1698611916,"post_id":77370959,"comment_id":136424512,"body_markdown":"Yeah, I wanted just to be sure that there is no simpler way to do it in Kotlin, while getting similar power and simplicity as in dynamic languages. But, I guess AOP in Java/Kotlin requires way more effort (amount of code and learning curve) than in dynamic languages","body":"Yeah, I wanted just to be sure that there is no simpler way to do it in Kotlin, while getting similar power and simplicity as in dynamic languages. But, I guess AOP in Java/Kotlin requires way more effort (amount of code and learning curve) than in dynamic languages"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1698719988,"post_id":77370959,"comment_id":136438116,"body_markdown":"Well, if you want no learning curve, maybe stick with Python then. As for whether there is a more canonical way to solve this directly in Kotlin without AspectJ, I cannot say, because I do not speak Kotlin. But learning AspectJ is certainly possible, and binary weaving works for any JVM language. Compile-time weaving is only implemented for Java, as the AspectJ native syntax is a superset of Java. AspectJ certainly is the most mature and efficient (performance-wise) AOP implementation on the maket, probably even beyond the JVM ecosystem, including Python.","body":"Well, if you want no learning curve, maybe stick with Python then. As for whether there is a more canonical way to solve this directly in Kotlin without AspectJ, I cannot say, because I do not speak Kotlin. But learning AspectJ is certainly possible, and binary weaving works for any JVM language. Compile-time weaving is only implemented for Java, as the AspectJ native syntax is a superset of Java. AspectJ certainly is the most mature and efficient (performance-wise) AOP implementation on the maket, probably even beyond the JVM ecosystem, including Python."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698369491,"creation_date":1698368960,"answer_id":77370993,"question_id":77370959,"body_markdown":"If I understand correctly, you just want to extract the logging logic into another function.\r\n\r\nYour `decorator` method is nearly there. The method doesn&#39;t actually need to take any parameters, and you can `inline` the whole thing, so that no lambda objects are actually created. It compiles to exactly the same thing as if you wrote the `log.info` calls inline.\r\n\r\n    private inline fun &lt;T&gt; withLogging(action: () -&gt; T) : T {\r\n        log.info(&quot;before action&quot;)\r\n        val result = action()\r\n        log.info(&quot;after action&quot;)\r\n        return result\r\n    }\r\n\r\nUsage:\r\n\r\n```\r\nclass User\r\n\r\nclass WebServiceClient {\r\n    // here is a demonstration for a non-Unit method\r\n    fun createUser(name: String, age: Int): User = withLogging {\r\n        // create a user here...\r\n        // you can access the name and age parameters here\r\n        // withLogging returns whatever the lambda returns\r\n        User()\r\n    }\r\n    \r\n    // Unit methods work just as well\r\n    fun doSomeSideEffect() = withLogging {\r\n        println(&quot;Side effect&quot;)\r\n    }\r\n}\r\n```\r\n\r\n&lt;hr&gt;\r\n\r\nIf you want to generate code in a more complex way, have a look at [Kotlin Symbol Processing][1]. This allows you to write your own annotation processor.\r\n\r\n    // your annotation processor would see this annotation, and insert log.info calls appropriately\r\n    @Logged\r\n    fun createUser(name: String, age: Int): User {\r\n        // create a user here...\r\n        return User()\r\n    }\r\n\r\nI wouldn&#39;t use this when an inline function can do the job though.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/ksp-overview.html","title":"What&#39;s idiomatic way to decorate set of methods in Kotlin","body":"<p>If I understand correctly, you just want to extract the logging logic into another function.</p>\n<p>Your <code>decorator</code> method is nearly there. The method doesn't actually need to take any parameters, and you can <code>inline</code> the whole thing, so that no lambda objects are actually created. It compiles to exactly the same thing as if you wrote the <code>log.info</code> calls inline.</p>\n<pre><code>private inline fun &lt;T&gt; withLogging(action: () -&gt; T) : T {\n    log.info(&quot;before action&quot;)\n    val result = action()\n    log.info(&quot;after action&quot;)\n    return result\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>class User\n\nclass WebServiceClient {\n    // here is a demonstration for a non-Unit method\n    fun createUser(name: String, age: Int): User = withLogging {\n        // create a user here...\n        // you can access the name and age parameters here\n        // withLogging returns whatever the lambda returns\n        User()\n    }\n    \n    // Unit methods work just as well\n    fun doSomeSideEffect() = withLogging {\n        println(&quot;Side effect&quot;)\n    }\n}\n</code></pre>\n<hr>\n<p>If you want to generate code in a more complex way, have a look at <a href=\"https://kotlinlang.org/docs/ksp-overview.html\" rel=\"nofollow noreferrer\">Kotlin Symbol Processing</a>. This allows you to write your own annotation processor.</p>\n<pre><code>// your annotation processor would see this annotation, and insert log.info calls appropriately\n@Logged\nfun createUser(name: String, age: Int): User {\n    // create a user here...\n    return User()\n}\n</code></pre>\n<p>I wouldn't use this when an inline function can do the job though.</p>\n"}],"owner":{"account_id":450823,"reputation":1659,"user_id":846355,"accept_rate":78,"display_name":"sunprophit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698369491,"creation_date":1698367945,"question_id":77370959,"body_markdown":"Python programmer getting familiar with static compilation world of java/kotlin is here. Here is a problem I&#39;m trying to solve. I have a web-service client which provides bunch of methods to interact with this service, something like this:\r\n```\r\nclass WebServiceClient {\r\n  fun createUser(name: String, age: Int) {\r\n    // Implementation\r\n  }\r\n\r\n  fun deleteUser(id: Int) {\r\n    // Implementation\r\n  }\r\n\r\n  fun updateUser(id: Int, name: String, age: Int) {\r\n    // Implementation\r\n  }\r\n\r\n  // And many more other methods\r\n}\r\n```\r\n\r\nI would like to add logging functionality to some of these methods. Most straight-forward approach would be to modify every method explicitly:\r\n```\r\n...\r\n  fun createUser(name: String, age: int) {\r\n    log.info(&quot;before implementation&quot;)\r\n    // Implementation\r\n    log.info(&quot;after implementation&quot;)\r\n  }\r\n  \r\n  fun deleteUser(id: Int) {\r\n    log.info(&quot;before implementation&quot;)\r\n    // Implementation\r\n    log.info(after implementation&quot;)\r\n  }\r\n...\r\n```\r\nBut this approach usually introduces duplication, boilerplate and clutters methods business logic with something unrelated (anti-AOP approach). Another way to solve it would be decorator and it would be easy to do it in python, though I don&#39;t have idea how to do it properly in Kotlin without introducing duplication and keeping logging logic separately from business logic of a method. \r\n\r\nI tried to come up with higher order function which takes client method and its params, it&#39;s not exactly decorator, but follows the idea of not introducing duplicate code. Here is example:\r\n\r\n```\r\nclass WebServiceClient {\r\n  fun createUser(name: String, age: Int) {\r\n  }\r\n\r\n  ...\r\n  private fun &lt;T&gt; decorator(action: (vararg args: Any) -&gt; T, vararg args: Any) : T {\r\n    log.info(&quot;before action&quot;)\r\n    val result = action(*args)\r\n    log.info(&quot;after action&quot;)\r\n    return result\r\n  }\r\n}\r\n```\r\nBut I ended up with bunch of compilation errors, like:\r\n - **Unsupported [modifier on parameter in function type]** - for vararg in action type definition\r\n - **The spread operator (\\*foo) may only be applied in a vararg position** - for calling action(*args)\r\n\r\nEither there is no way to define such generic function in Kotlin or I don&#39;t know how to properly use Kotlin type system to define it. Moreover, maybe it&#39;s not the Kotlin way at all. \r\n\r\nI didn&#39;t delve into annotations and reflection yet, because it sounds too complex to define such a simple thing (looking back to python way to do it), but maybe that&#39;s the only right direction to solve the problem.\r\n\r\nWhat would be a Kotlin way to solve my problem, while avoiding duplication and following AOP principles (Aspect-oriented programming)?","title":"What&#39;s idiomatic way to decorate set of methods in Kotlin","body":"<p>Python programmer getting familiar with static compilation world of java/kotlin is here. Here is a problem I'm trying to solve. I have a web-service client which provides bunch of methods to interact with this service, something like this:</p>\n<pre><code>class WebServiceClient {\n  fun createUser(name: String, age: Int) {\n    // Implementation\n  }\n\n  fun deleteUser(id: Int) {\n    // Implementation\n  }\n\n  fun updateUser(id: Int, name: String, age: Int) {\n    // Implementation\n  }\n\n  // And many more other methods\n}\n</code></pre>\n<p>I would like to add logging functionality to some of these methods. Most straight-forward approach would be to modify every method explicitly:</p>\n<pre><code>...\n  fun createUser(name: String, age: int) {\n    log.info(&quot;before implementation&quot;)\n    // Implementation\n    log.info(&quot;after implementation&quot;)\n  }\n  \n  fun deleteUser(id: Int) {\n    log.info(&quot;before implementation&quot;)\n    // Implementation\n    log.info(after implementation&quot;)\n  }\n...\n</code></pre>\n<p>But this approach usually introduces duplication, boilerplate and clutters methods business logic with something unrelated (anti-AOP approach). Another way to solve it would be decorator and it would be easy to do it in python, though I don't have idea how to do it properly in Kotlin without introducing duplication and keeping logging logic separately from business logic of a method.</p>\n<p>I tried to come up with higher order function which takes client method and its params, it's not exactly decorator, but follows the idea of not introducing duplicate code. Here is example:</p>\n<pre><code>class WebServiceClient {\n  fun createUser(name: String, age: Int) {\n  }\n\n  ...\n  private fun &lt;T&gt; decorator(action: (vararg args: Any) -&gt; T, vararg args: Any) : T {\n    log.info(&quot;before action&quot;)\n    val result = action(*args)\n    log.info(&quot;after action&quot;)\n    return result\n  }\n}\n</code></pre>\n<p>But I ended up with bunch of compilation errors, like:</p>\n<ul>\n<li><strong>Unsupported [modifier on parameter in function type]</strong> - for vararg in action type definition</li>\n<li><strong>The spread operator (*foo) may only be applied in a vararg position</strong> - for calling action(*args)</li>\n</ul>\n<p>Either there is no way to define such generic function in Kotlin or I don't know how to properly use Kotlin type system to define it. Moreover, maybe it's not the Kotlin way at all.</p>\n<p>I didn't delve into annotations and reflection yet, because it sounds too complex to define such a simple thing (looking back to python way to do it), but maybe that's the only right direction to solve the problem.</p>\n<p>What would be a Kotlin way to solve my problem, while avoiding duplication and following AOP principles (Aspect-oriented programming)?</p>\n"},{"tags":["java","postgresql","jooq"],"comments":[{"owner":{"account_id":27310150,"reputation":1678,"user_id":20825414,"display_name":"ValNik"},"score":0,"creation_date":1697830490,"post_id":77332690,"comment_id":136333605,"body_markdown":"this &#39;&#39;join(SchoolOrgTable) .on(SchoolTable.A_ID.eq(SchoolOrgTable.ATest_ID))&#39;&#39; seems excessively","body":"this &#39;&#39;join(SchoolOrgTable) .on(SchoolTable.A_ID.eq(SchoolOrgTable.ATest_ID))&#39;&#39; seems excessively"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698241988,"creation_date":1697882793,"answer_id":77335522,"question_id":77332690,"body_markdown":"The simplest way to get nested JSON documents is by using jOOQ&#39;s SQL/JSON support, e.g. [`JSON_ARRAYAGG`][1]. For example:\r\n\r\n```java\r\ndsl.select(jsonObject(\r\n        key(&quot;schoolId&quot;).value(SCHOOL.ID),\r\n        key(&quot;schoolName&quot;).value(SCHOOL.NAME),\r\n        key(&quot;isActive&quot;).value(SCHOOL.ACTIVE),\r\n        key(&quot;SchoolDetails&quot;).value(jsonArrayAgg(jsonObject(\r\n            key(&quot;detailsID&quot;).value(SCHOOL_DETAILS.ID),\r\n            key(&quot;detailsName&quot;).value(SCHOOL_DETAILS.NAME),\r\n            key(&quot;details&quot;).value(SCHOOL_DETAILS.DETAILS)\r\n        )).orderBy(SCHOOL_DETAILS.NAME))\r\n    ))\r\n    .from(SCHOOL)\r\n    .leftJoin(SCHOOL_DETAILS)\r\n    .on(SCHOOL_DETAILS.SCHOOL_ID.eq(SCHOOL.ID))\r\n    .groupBy(SCHOOL.ID) // Assuming there&#39;s a primary key here\r\n    .orderBy(SCHOOL.NAME, SCHOOL.ACTIVE)\r\n    .fetch();\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/json-arrayagg-function/","title":"JOOQ How to produce unique list when joining multiple tables","body":"<p>The simplest way to get nested JSON documents is by using jOOQ's SQL/JSON support, e.g. <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/json-arrayagg-function/\" rel=\"nofollow noreferrer\"><code>JSON_ARRAYAGG</code></a>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl.select(jsonObject(\n        key(&quot;schoolId&quot;).value(SCHOOL.ID),\n        key(&quot;schoolName&quot;).value(SCHOOL.NAME),\n        key(&quot;isActive&quot;).value(SCHOOL.ACTIVE),\n        key(&quot;SchoolDetails&quot;).value(jsonArrayAgg(jsonObject(\n            key(&quot;detailsID&quot;).value(SCHOOL_DETAILS.ID),\n            key(&quot;detailsName&quot;).value(SCHOOL_DETAILS.NAME),\n            key(&quot;details&quot;).value(SCHOOL_DETAILS.DETAILS)\n        )).orderBy(SCHOOL_DETAILS.NAME))\n    ))\n    .from(SCHOOL)\n    .leftJoin(SCHOOL_DETAILS)\n    .on(SCHOOL_DETAILS.SCHOOL_ID.eq(SCHOOL.ID))\n    .groupBy(SCHOOL.ID) // Assuming there's a primary key here\n    .orderBy(SCHOOL.NAME, SCHOOL.ACTIVE)\n    .fetch();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16721285,"reputation":1,"user_id":12086140,"display_name":"MLedIum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698368954,"creation_date":1698368954,"answer_id":77370992,"question_id":77332690,"body_markdown":"You can use multiple ways to solve your issue\r\n\r\n1. JSONObject (as in the other answer):\r\n\r\nIt&#39;s like native query\r\n\r\n```\r\ndsl.select(jsonObject(\r\n        key(&quot;schoolId&quot;).value(SCHOOL.ID),\r\n        key(&quot;schoolName&quot;).value(SCHOOL.NAME),\r\n        key(&quot;isActive&quot;).value(SCHOOL.ACTIVE),\r\n        key(&quot;SchoolDetails&quot;).value(jsonArrayAgg(jsonObject(\r\n            key(&quot;detailsID&quot;).value(SCHOOL_DETAILS.ID),\r\n            key(&quot;detailsName&quot;).value(SCHOOL_DETAILS.NAME),\r\n            key(&quot;details&quot;).value(SCHOOL_DETAILS.DETAILS)\r\n        )).orderBy(SCHOOL_DETAILS.NAME))\r\n    ))\r\n    .from(SCHOOL)\r\n    .leftJoin(SCHOOL_DETAILS)\r\n    .on(SCHOOL_DETAILS.SCHOOL_ID.eq(SCHOOL.ID))\r\n    .groupBy(SCHOOL.ID) // Assuming there&#39;s a primary key here\r\n    .orderBy(SCHOOL.NAME, SCHOOL.ACTIVE)\r\n    .fetch();\r\n```\r\n2. multisetAgg:\r\n\r\nDocs: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\r\n\r\nmultisetAgg operates on the same principle as directly specifying JSONObject (from first option), but you don&#39;t have to prescribe everything explicitly\r\n\r\nIn this situation, this option is unlikely to work, but I am obliged to mention it. When executing the code, there will most likely be an incorrect alias binding. Perhaps this has been fixed in new versions\r\n\r\n```\r\ndsl.select(\r\n        SCHOOL.ID.as(&quot;schoolId&quot;),\r\n        SCHOOL.NAME.as(&quot;schoolName&quot;),\r\n        SCHOOL.ACTIVE.as(&quot;isActive&quot;),\r\n        multisetAgg( // aliases inside multisetAgg may not work\r\n            SCHOOL_DETAILS.ID.as(&quot;detailsID&quot;),\r\n            SCHOOL_DETAILS.NAME.as(&quot;detailsName&quot;),\r\n            SCHOOL_DETAILS.DETAILS.as(&quot;details&quot;)\r\n        ).orderBy(SCHOOL_DETAILS.NAME)).as(&quot;SchoolDetails&quot;)\r\n    )\r\n    .from(SCHOOL)\r\n    .leftJoin(SCHOOL_DETAILS).on(SCHOOL_DETAILS.SCHOOL_ID.eq(SCHOOL.ID))\r\n    .groupBy(SCHOOL.ID, SCHOOL.NAME, SCHOOL.ACTIVE)\r\n    .orderBy(SCHOOL.NAME, SCHOOL.ACTIVE)\r\n    .fetch();\r\n```\r\n3. multiset:\r\n\r\nDocs: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\r\n\r\nJust like multisetAgg, multiset operates on the same principle as directly specifying JSONObject (from first option), but you don&#39;t have to prescribe everything explicitly\r\n\r\nBriefly about multiset: a subquery is used inside the construction, which can refer to one or more values from an external query. In this case, the internal request refers to SCHOOL.ID for filtering values. This option is the most flexible\r\n\r\n```\r\ndsl.select(\r\n        SCHOOL.ID.as(&quot;schoolId&quot;),\r\n        SCHOOL.NAME.as(&quot;schoolName&quot;),\r\n        SCHOOL.ACTIVE.as(&quot;isActive&quot;),\r\n        multiset(\r\n            dsl.select(\r\n                SCHOOL_DETAILS.ID.as(&quot;detailsID&quot;),\r\n                SCHOOL_DETAILS.NAME.as(&quot;detailsName&quot;),\r\n                SCHOOL_DETAILS.DETAILS.as(&quot;details&quot;)\r\n            )\r\n                .from(SCHOOL_DETAILS)\r\n                .where(SCHOOL_DETAILS.SCHOOL_ID.eq(SCHOOL.ID))\r\n                .orderBy(SCHOOL_DETAILS.NAME)\r\n        ).as(&quot;SchoolDetails&quot;)\r\n    )\r\n    .from(SCHOOL)\r\n    .groupBy(SCHOOL.ID, SCHOOL.NAME, SCHOOL.ACTIVE)\r\n    .orderBy(SCHOOL.NAME, SCHOOL.ACTIVE)\r\n    .fetch();\r\n```","title":"JOOQ How to produce unique list when joining multiple tables","body":"<p>You can use multiple ways to solve your issue</p>\n<ol>\n<li>JSONObject (as in the other answer):</li>\n</ol>\n<p>It's like native query</p>\n<pre><code>dsl.select(jsonObject(\n        key(&quot;schoolId&quot;).value(SCHOOL.ID),\n        key(&quot;schoolName&quot;).value(SCHOOL.NAME),\n        key(&quot;isActive&quot;).value(SCHOOL.ACTIVE),\n        key(&quot;SchoolDetails&quot;).value(jsonArrayAgg(jsonObject(\n            key(&quot;detailsID&quot;).value(SCHOOL_DETAILS.ID),\n            key(&quot;detailsName&quot;).value(SCHOOL_DETAILS.NAME),\n            key(&quot;details&quot;).value(SCHOOL_DETAILS.DETAILS)\n        )).orderBy(SCHOOL_DETAILS.NAME))\n    ))\n    .from(SCHOOL)\n    .leftJoin(SCHOOL_DETAILS)\n    .on(SCHOOL_DETAILS.SCHOOL_ID.eq(SCHOOL.ID))\n    .groupBy(SCHOOL.ID) // Assuming there's a primary key here\n    .orderBy(SCHOOL.NAME, SCHOOL.ACTIVE)\n    .fetch();\n</code></pre>\n<ol start=\"2\">\n<li>multisetAgg:</li>\n</ol>\n<p>Docs: <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/</a></p>\n<p>multisetAgg operates on the same principle as directly specifying JSONObject (from first option), but you don't have to prescribe everything explicitly</p>\n<p>In this situation, this option is unlikely to work, but I am obliged to mention it. When executing the code, there will most likely be an incorrect alias binding. Perhaps this has been fixed in new versions</p>\n<pre><code>dsl.select(\n        SCHOOL.ID.as(&quot;schoolId&quot;),\n        SCHOOL.NAME.as(&quot;schoolName&quot;),\n        SCHOOL.ACTIVE.as(&quot;isActive&quot;),\n        multisetAgg( // aliases inside multisetAgg may not work\n            SCHOOL_DETAILS.ID.as(&quot;detailsID&quot;),\n            SCHOOL_DETAILS.NAME.as(&quot;detailsName&quot;),\n            SCHOOL_DETAILS.DETAILS.as(&quot;details&quot;)\n        ).orderBy(SCHOOL_DETAILS.NAME)).as(&quot;SchoolDetails&quot;)\n    )\n    .from(SCHOOL)\n    .leftJoin(SCHOOL_DETAILS).on(SCHOOL_DETAILS.SCHOOL_ID.eq(SCHOOL.ID))\n    .groupBy(SCHOOL.ID, SCHOOL.NAME, SCHOOL.ACTIVE)\n    .orderBy(SCHOOL.NAME, SCHOOL.ACTIVE)\n    .fetch();\n</code></pre>\n<ol start=\"3\">\n<li>multiset:</li>\n</ol>\n<p>Docs: <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/</a></p>\n<p>Just like multisetAgg, multiset operates on the same principle as directly specifying JSONObject (from first option), but you don't have to prescribe everything explicitly</p>\n<p>Briefly about multiset: a subquery is used inside the construction, which can refer to one or more values from an external query. In this case, the internal request refers to SCHOOL.ID for filtering values. This option is the most flexible</p>\n<pre><code>dsl.select(\n        SCHOOL.ID.as(&quot;schoolId&quot;),\n        SCHOOL.NAME.as(&quot;schoolName&quot;),\n        SCHOOL.ACTIVE.as(&quot;isActive&quot;),\n        multiset(\n            dsl.select(\n                SCHOOL_DETAILS.ID.as(&quot;detailsID&quot;),\n                SCHOOL_DETAILS.NAME.as(&quot;detailsName&quot;),\n                SCHOOL_DETAILS.DETAILS.as(&quot;details&quot;)\n            )\n                .from(SCHOOL_DETAILS)\n                .where(SCHOOL_DETAILS.SCHOOL_ID.eq(SCHOOL.ID))\n                .orderBy(SCHOOL_DETAILS.NAME)\n        ).as(&quot;SchoolDetails&quot;)\n    )\n    .from(SCHOOL)\n    .groupBy(SCHOOL.ID, SCHOOL.NAME, SCHOOL.ACTIVE)\n    .orderBy(SCHOOL.NAME, SCHOOL.ACTIVE)\n    .fetch();\n</code></pre>\n"}],"owner":{"account_id":29425136,"reputation":11,"user_id":22546048,"display_name":"EveryDayLearner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698368954,"creation_date":1697821639,"question_id":77332690,"body_markdown":"I have three tables: `SchoolTable`, `SchoolOrgTable`, and `SchoolDetailsTable`. The relationships between these tables are as follows:\r\n\r\n- `SchoolTable` to `SchoolOrgTable` is a one-to-many relationship.\r\n- `SchoolOrgTable` to `SchoolDetailsTable` is a many-to-one relationship.\r\n\r\nI&#39;m currently retrieving data from these tables using a JOOQ query like this:\r\n\r\n```java\r\nSelectJoinStep&lt;Record&gt; result = dsl.select()\r\n    .from(SchoolTable)\r\n    .join(SchoolOrgTable)\r\n    .on(SchoolTable.A_ID.eq(SchoolOrgTable.ATest_ID))\r\n    .leftJoin(SchoolOrgTable)\r\n    .on(SchoolTable.A_ID.eq(SchoolOrgTable.B_Id))\r\n    .leftJoin(SchoolDetailsTable)\r\n    .on(SchoolDetailsTable.C_ID.eq(SchoolOrgTable.B_ID));\r\n```\r\n\r\n\r\nHowever, the result I&#39;m getting is duplicating the `schoolId` for each associated `SchoolDetails`. Here&#39;s an example of what I&#39;m currently getting:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;schoolId&quot;: 1,\r\n    &quot;schoolName&quot;: &quot;JaySchool&quot;,\r\n    &quot;isActive&quot;: true,\r\n    &quot;SchoolDetails&quot;: [\r\n      {\r\n        &quot;detailsID&quot;: 1,\r\n        &quot;detailsName&quot;: &quot;Test&quot;,\r\n        &quot;details&quot;: &quot;schoolIsGood&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;schoolId&quot;: 1,\r\n    &quot;schoolName&quot;: &quot;JaySchool&quot;,\r\n    &quot;isActive&quot;: true,\r\n    &quot;SchoolDetails&quot;: [\r\n      {\r\n        &quot;detailsID&quot;: 2,\r\n        &quot;detailsName&quot;: &quot;Test1&quot;,\r\n        &quot;details&quot;: &quot;awesome&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;schoolId&quot;: 2,\r\n    &quot;schoolName&quot;: &quot;TermSchool&quot;,\r\n    &quot;isActive&quot;: true,\r\n    &quot;SchoolDetails&quot;: [\r\n      {\r\n        &quot;detailsID&quot;: 3,\r\n        &quot;detailsName&quot;: &quot;Test&quot;,\r\n        &quot;details&quot;: &quot;Nice&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nI want the result to be structured like this, with each schoolId associated with its SchoolDetails:\r\nNote: I should be able to groupBy schoolName,detailsName\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;schoolId&quot;: 1,\r\n    &quot;schoolName&quot;: &quot;JaySchool&quot;,\r\n    &quot;isActive&quot;: true,\r\n    &quot;SchoolDetails&quot;: [\r\n      {\r\n        &quot;detailsID&quot;: 1,\r\n        &quot;detailsName&quot;: &quot;Test&quot;,\r\n        &quot;details&quot;: &quot;schoolIsGood&quot;\r\n      },\r\n      {\r\n        &quot;detailsID&quot;: 2,\r\n        &quot;detailsName&quot;: &quot;Test1&quot;,\r\n        &quot;details&quot;: &quot;awesome&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;schoolId&quot;: 2,\r\n    &quot;schoolName&quot;: &quot;TermSchool&quot;,\r\n    &quot;isActive&quot;: true,\r\n    &quot;SchoolDetails&quot;: [\r\n      {\r\n        &quot;detailsID&quot;: 3,\r\n        &quot;detailsName&quot;: &quot;test3&quot;,\r\n        &quot;details&quot;: &quot;Nice&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n","title":"JOOQ How to produce unique list when joining multiple tables","body":"<p>I have three tables: <code>SchoolTable</code>, <code>SchoolOrgTable</code>, and <code>SchoolDetailsTable</code>. The relationships between these tables are as follows:</p>\n<ul>\n<li><code>SchoolTable</code> to <code>SchoolOrgTable</code> is a one-to-many relationship.</li>\n<li><code>SchoolOrgTable</code> to <code>SchoolDetailsTable</code> is a many-to-one relationship.</li>\n</ul>\n<p>I'm currently retrieving data from these tables using a JOOQ query like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SelectJoinStep&lt;Record&gt; result = dsl.select()\n    .from(SchoolTable)\n    .join(SchoolOrgTable)\n    .on(SchoolTable.A_ID.eq(SchoolOrgTable.ATest_ID))\n    .leftJoin(SchoolOrgTable)\n    .on(SchoolTable.A_ID.eq(SchoolOrgTable.B_Id))\n    .leftJoin(SchoolDetailsTable)\n    .on(SchoolDetailsTable.C_ID.eq(SchoolOrgTable.B_ID));\n</code></pre>\n<p>However, the result I'm getting is duplicating the <code>schoolId</code> for each associated <code>SchoolDetails</code>. Here's an example of what I'm currently getting:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;schoolId&quot;: 1,\n    &quot;schoolName&quot;: &quot;JaySchool&quot;,\n    &quot;isActive&quot;: true,\n    &quot;SchoolDetails&quot;: [\n      {\n        &quot;detailsID&quot;: 1,\n        &quot;detailsName&quot;: &quot;Test&quot;,\n        &quot;details&quot;: &quot;schoolIsGood&quot;\n      }\n    ]\n  },\n  {\n    &quot;schoolId&quot;: 1,\n    &quot;schoolName&quot;: &quot;JaySchool&quot;,\n    &quot;isActive&quot;: true,\n    &quot;SchoolDetails&quot;: [\n      {\n        &quot;detailsID&quot;: 2,\n        &quot;detailsName&quot;: &quot;Test1&quot;,\n        &quot;details&quot;: &quot;awesome&quot;\n      }\n    ]\n  },\n  {\n    &quot;schoolId&quot;: 2,\n    &quot;schoolName&quot;: &quot;TermSchool&quot;,\n    &quot;isActive&quot;: true,\n    &quot;SchoolDetails&quot;: [\n      {\n        &quot;detailsID&quot;: 3,\n        &quot;detailsName&quot;: &quot;Test&quot;,\n        &quot;details&quot;: &quot;Nice&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p>I want the result to be structured like this, with each schoolId associated with its SchoolDetails:\nNote: I should be able to groupBy schoolName,detailsName</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;schoolId&quot;: 1,\n    &quot;schoolName&quot;: &quot;JaySchool&quot;,\n    &quot;isActive&quot;: true,\n    &quot;SchoolDetails&quot;: [\n      {\n        &quot;detailsID&quot;: 1,\n        &quot;detailsName&quot;: &quot;Test&quot;,\n        &quot;details&quot;: &quot;schoolIsGood&quot;\n      },\n      {\n        &quot;detailsID&quot;: 2,\n        &quot;detailsName&quot;: &quot;Test1&quot;,\n        &quot;details&quot;: &quot;awesome&quot;\n      }\n    ]\n  },\n  {\n    &quot;schoolId&quot;: 2,\n    &quot;schoolName&quot;: &quot;TermSchool&quot;,\n    &quot;isActive&quot;: true,\n    &quot;SchoolDetails&quot;: [\n      {\n        &quot;detailsID&quot;: 3,\n        &quot;detailsName&quot;: &quot;test3&quot;,\n        &quot;details&quot;: &quot;Nice&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n"},{"tags":["java","database-connection","connection-pooling","jooq","hikaricp"],"comments":[{"owner":{"account_id":349270,"reputation":964,"user_id":684457,"accept_rate":40,"display_name":"singhsumit"},"score":1,"creation_date":1486023186,"post_id":38688489,"comment_id":71170842,"body_markdown":"were u able to debug and narrow down the problem?","body":"were u able to debug and narrow down the problem?"},{"owner":{"account_id":1302735,"reputation":2978,"user_id":1252334,"accept_rate":38,"display_name":"Defozo"},"score":1,"creation_date":1486056028,"post_id":38688489,"comment_id":71192572,"body_markdown":"Unfortunately no, I guess it could be the server closing connections before HikariCP does, however, a while after this problem occurred to me a decision was made to handle the connection in another way.","body":"Unfortunately no, I guess it could be the server closing connections before HikariCP does, however, a while after this problem occurred to me a decision was made to handle the connection in another way."},{"owner":{"account_id":1588339,"reputation":1348,"user_id":1472223,"accept_rate":75,"display_name":"gfjr"},"score":1,"creation_date":1529501016,"post_id":38688489,"comment_id":88896142,"body_markdown":"You are using a connection pool (HikariPool) but with &quot;try(java.sql.Connection conn = Connection.hikariDataSource.getConnection())&quot; (The try-with-resources statement ensures that each resource is closed at the end of the statement) you close the connection after the &quot;Debug.println&quot;. Maybe that could be a problem.","body":"You are using a connection pool (HikariPool) but with &quot;try(java.sql.Connection conn = Connection.hikariDataSource.getConnection())&quot; (The try-with-resources statement ensures that each resource is closed at the end of the statement) you close the connection after the &quot;Debug.println&quot;. Maybe that could be a problem."},{"owner":{"account_id":1588339,"reputation":1348,"user_id":1472223,"accept_rate":75,"display_name":"gfjr"},"score":0,"creation_date":1529501844,"post_id":38688489,"comment_id":88896706,"body_markdown":"Could not delete my comment above - I thought you are using a try-with-resources statement which closes the connection but the Hikari implementation just release the connection back in the pool if you call &quot;close&quot;.","body":"Could not delete my comment above - I thought you are using a try-with-resources statement which closes the connection but the Hikari implementation just release the connection back in the pool if you call &quot;close&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2588677,"reputation":662,"user_id":2243805,"accept_rate":69,"display_name":"faster2b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470768103,"creation_date":1470768103,"answer_id":38858172,"question_id":38688489,"body_markdown":"I start by saying than i am not a Java programmer, you can try to close jOOQ DSL also:\r\n   \r\n\r\n    try(java.sql.Connection conn = Connection.hikariDataSource.getConnection()) {\r\n    \t\ttry (Record1 record1 = DSL.using(conn).select(SENSOR.ID)) {\r\n    \t\t\t\t.from(SENSOR)\r\n    \t\t\t\t.where(SENSOR.ID.equal(1))\r\n    \t\t\t\t.limit(1)\r\n    \t\t\t\t.fetchOne();\r\n    \t\tDebug.println(record1.getValue(0).toString());\r\n    \t} catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\t\r\n    } catch (SQLException e) {\r\n    \te.printStackTrace();\r\n    }","title":"HikariPool-1 - Connection is not available, request timed out after","body":"<p>I start by saying than i am not a Java programmer, you can try to close jOOQ DSL also:</p>\n\n<pre><code>try(java.sql.Connection conn = Connection.hikariDataSource.getConnection()) {\n        try (Record1 record1 = DSL.using(conn).select(SENSOR.ID)) {\n                .from(SENSOR)\n                .where(SENSOR.ID.equal(1))\n                .limit(1)\n                .fetchOne();\n        Debug.println(record1.getValue(0).toString());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }   \n} catch (SQLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":1302735,"reputation":2978,"user_id":1252334,"accept_rate":38,"display_name":"Defozo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13968,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1698368770,"creation_date":1469999924,"question_id":38688489,"body_markdown":"I&#39;m using HikariCP 2.4.7 for connection pool. Everything is fine just after starting the application but after some time without invoking `getConnection()` I get this error when I&#39;m trying to `getConnection()`:\r\n\r\n    java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 42734ms.\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:555)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:188)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:147)\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:99)\r\n    \tat pl.airly.database.ComplexOperations.getSensorDataFromArea(ComplexOperations.java:310)\r\n    \tat pl.airly.database.ComplexOperations.getMeasurementsInAreaWithinTimeFrame(ComplexOperations.java:201)\r\n    \tat pl.airly.ResponseGenerator.getResponseAdequateToRequest(ResponseGenerator.java:139)\r\n    \tat sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:522)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:1110)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nDuring startup I&#39;m initializing `HikariDataSource`:\r\n\r\n    hikariDataSource = new HikariDataSource();\r\n    hikariDataSource.setDriverClassName(&quot;org.postgresql.Driver&quot;);\r\n    hikariDataSource.setUsername(DATABASE_USER_NAME);\r\n    hikariDataSource.setPassword(DATABASE_PASSWORD);\r\n    hikariDataSource.setJdbcUrl(DATABASE_URL);\r\n    hikariDataSource.setLeakDetectionThreshold(5000);\r\n\r\nAnd then I&#39;m using it like this:\r\n\r\n    try(java.sql.Connection conn = Connection.hikariDataSource.getConnection()) {\r\n                Record1 record1 = DSL.using(conn).select(SENSOR.ID) //jOOQ\r\n                        .from(SENSOR)\r\n                        .where(SENSOR.ID.equal(1))\r\n                        .limit(1)\r\n                        .fetchOne();\r\n                Debug.println(record1.getValue(0).toString());\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nWhat am I doing wrong? How to troubleshoot this problem?\r\n\r\n**Edit:**\r\n\r\nAdding this solves the problem:\r\n\r\n    hikariDataSource.setIdleTimeout(60000);\r\n    hikariDataSource.setConnectionTimeout(60000);\r\n    hikariDataSource.setValidationTimeout(3000);\r\n    hikariDataSource.setLoginTimeout(5);\r\n    hikariDataSource.setMaxLifetime(60000);\r\n\r\nIt may be something connected with the server closing connections before HikariCP does but I&#39;m not sure. Any comment on this would be appreciated.","title":"HikariPool-1 - Connection is not available, request timed out after","body":"<p>I'm using HikariCP 2.4.7 for connection pool. Everything is fine just after starting the application but after some time without invoking <code>getConnection()</code> I get this error when I'm trying to <code>getConnection()</code>:</p>\n\n<pre><code>java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 42734ms.\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:555)\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:188)\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:147)\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:99)\n    at pl.airly.database.ComplexOperations.getSensorDataFromArea(ComplexOperations.java:310)\n    at pl.airly.database.ComplexOperations.getMeasurementsInAreaWithinTimeFrame(ComplexOperations.java:201)\n    at pl.airly.ResponseGenerator.getResponseAdequateToRequest(ResponseGenerator.java:139)\n    at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:522)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:1110)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>During startup I'm initializing <code>HikariDataSource</code>:</p>\n\n<pre><code>hikariDataSource = new HikariDataSource();\nhikariDataSource.setDriverClassName(\"org.postgresql.Driver\");\nhikariDataSource.setUsername(DATABASE_USER_NAME);\nhikariDataSource.setPassword(DATABASE_PASSWORD);\nhikariDataSource.setJdbcUrl(DATABASE_URL);\nhikariDataSource.setLeakDetectionThreshold(5000);\n</code></pre>\n\n<p>And then I'm using it like this:</p>\n\n<pre><code>try(java.sql.Connection conn = Connection.hikariDataSource.getConnection()) {\n            Record1 record1 = DSL.using(conn).select(SENSOR.ID) //jOOQ\n                    .from(SENSOR)\n                    .where(SENSOR.ID.equal(1))\n                    .limit(1)\n                    .fetchOne();\n            Debug.println(record1.getValue(0).toString());\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>What am I doing wrong? How to troubleshoot this problem?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Adding this solves the problem:</p>\n\n<pre><code>hikariDataSource.setIdleTimeout(60000);\nhikariDataSource.setConnectionTimeout(60000);\nhikariDataSource.setValidationTimeout(3000);\nhikariDataSource.setLoginTimeout(5);\nhikariDataSource.setMaxLifetime(60000);\n</code></pre>\n\n<p>It may be something connected with the server closing connections before HikariCP does but I'm not sure. Any comment on this would be appreciated.</p>\n"},{"tags":["java","micronaut","string-interpolation","micronaut-client","micronaut-rest"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698348608,"post_id":77369650,"comment_id":136397638,"body_markdown":"What you are seeing is URL encoding which is an Internet standard for URLs. Does this answer your question? [Why does URL encoding exist for ASCII character set](https://stackoverflow.com/questions/20854375/why-does-url-encoding-exist-for-ascii-character-set)","body":"What you are seeing is URL encoding which is an Internet standard for URLs. Does this answer your question? <a href=\"https://stackoverflow.com/questions/20854375/why-does-url-encoding-exist-for-ascii-character-set\">Why does URL encoding exist for ASCII character set</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1698359761,"post_id":77369650,"comment_id":136399188,"body_markdown":"Do you want store_id, zip, state, etc. to be individual parts of the query?","body":"Do you want store_id, zip, state, etc. to be individual parts of the query?"},{"owner":{"account_id":16941972,"reputation":73,"user_id":12253607,"display_name":"Jonathan-Zollinger"},"score":0,"creation_date":1698365221,"post_id":77369650,"comment_id":136399674,"body_markdown":"No, I understand that some characters need encoding, but encoding these characters breaks the api request. To compare these, you can copy and paste this request (token included) into postman \n```\nhttps://redsky.target.com/redsky_aggregations/v1/web_platform/product_summary_with_fulfillment_v1?key=9f36aeafbe60771e321a7cc95a78140772ab3e96&amp;tcins=82691535&amp;store_id=1750&amp;zip=84010&amp;state=UT&amp;latitude=40.894523&amp;longitude=-111.872400&amp;scheduled_delivery_store_id=1750&amp;required_store_id=1750&amp;channel=WEB\n```\nhowever emulating the request as shown in the log produces that same 404 error.","body":"No, I understand that some characters need encoding, but encoding these characters breaks the api request. To compare these, you can copy and paste this request (token included) into postman  ``` <a href=\"https://redsky.target.com/redsky_aggregations/v1/web_platform/product_summary_with_fulfillment_v1?key=9f36aeafbe60771e321a7cc95a78140772ab3e96&amp;tcins=82691535&amp;store_id=1750&amp;zip=84010&amp;state=UT&amp;latitude=40.894523&amp;longitude=-111.872400&amp;scheduled_delivery_store_id=1750&amp;required_store_id=1750&amp;channel=WEB\" rel=\"nofollow noreferrer\">redsky.target.com/redsky_aggregations/v1/web_platform/&hellip;</a> ``` however emulating the request as shown in the log produces that same 404 error."},{"owner":{"account_id":16941972,"reputation":73,"user_id":12253607,"display_name":"Jonathan-Zollinger"},"score":0,"creation_date":1698366636,"post_id":77369650,"comment_id":136399777,"body_markdown":"@S&#246;ren I&#39;m just wanting to send a request with that same url - it&#39;s not separated by slashes, I&#39;m just reading the network traffic when on target&#39;s website and working to reverse-engineer their endpoints","body":"@S&#246;ren I&#39;m just wanting to send a request with that same url - it&#39;s not separated by slashes, I&#39;m just reading the network traffic when on target&#39;s website and working to reverse-engineer their endpoints"},{"owner":{"account_id":16941972,"reputation":73,"user_id":12253607,"display_name":"Jonathan-Zollinger"},"score":0,"creation_date":1698366809,"post_id":77369650,"comment_id":136399792,"body_markdown":"I fat fingered that - it should be `web`, not `web_platform`","body":"I fat fingered that - it should be <code>web</code>, not <code>web_platform</code>"}],"owner":{"account_id":16941972,"reputation":73,"user_id":12253607,"display_name":"Jonathan-Zollinger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698368691,"creation_date":1698346257,"question_id":77369650,"body_markdown":"### Short Version\r\nafter reading the httpclient logs, I&#39;m seeing that some characters are being url-encoded. I dont want that to happen.\r\n\r\n### Long Version\r\n\r\nthe url I&#39;m calling is split into `&lt;base url&gt;`+`&lt;path&gt;`+`&lt;apitoken&gt;`+`&lt;query&gt;` + `&lt;channel&gt;`. The [query](https://github.com/PeanutButter-Unicorn/Tarvester/blob/main/src/main/java/com/github/peanutbutter/unicorn/tarvester/TarvesterClient.java#L19-L20) is simply `&lt;tcins&gt;` then `&lt;store info&gt;`. there are `=` and `&amp;` peppered through those, but these characters are encoded to `%26` and `%3D` inconsistently through the url. for instance you&#39;ll note that calling the api key is fine to use `?key=...`, but immediately afterwards, the `&amp;tcins=82691535...` is encoded to `%26tcins%3D82691535...`.\r\n\r\nthe get method is:\r\n```java\r\n   @Get(&quot;/product_summary_with_fulfillment_v1?key=${redsky-api.token}&amp;{tcins}&amp;{targetStore}&amp;channel=WEB&quot;)\r\n    HttpResponse&lt;List&lt;?&gt;&gt; fetchProducts(String tcins, String targetStore);\r\n```\r\n\r\n##### Log excerpt\r\n```java\r\n11:58:04.258 [default-nioEventLoopGroup-1-1] DEBUG io.micronaut.http.client.netty.DefaultHttpClient - Sending HTTP GET to  https://redsky.target.com/redsky_aggregations/v1/web/product_summary_with_fulfillment_v1?key=9f36aeafbe60771e321a7cc95a78140772ab3e96&amp;%26tcins%3D82691535&amp;store_id%3D1750%26zip%3D84014-1752%26state%3DUT%26latitude%3D40.91825%26longitude%3D-111.887%26scheduled_delivery_store_id%3D1750%26required_store_id%3D1750%26has_required_store_id%3Dtrue&amp;channel=WEB\r\n11:58:04.265 [default-nioEventLoopGroup-1-1] TRACE io.micronaut.http.client.netty.DefaultHttpClient - User-Agent: Micronaut HTTP Client\r\n11:58:04.265 [default-nioEventLoopGroup-1-1] TRACE io.micronaut.http.client.netty.DefaultHttpClient - Accept: application/vnd.github.v3+json, application/json\r\n11:58:04.266 [default-nioEventLoopGroup-1-1] TRACE io.micronaut.http.client.netty.DefaultHttpClient - host: redsky.target.com\r\n```\r\n\r\n##### Controller\r\n```java\r\npackage com.github.peanutbutter.unicorn.tarvester;\r\n\r\nimport com.github.peanutbutter.unicorn.tarvester.model.TargetStore;\r\nimport com.github.peanutbutter.unicorn.tarvester.model.TcinList;\r\nimport io.micronaut.core.async.annotation.SingleResult;\r\nimport io.micronaut.http.HttpResponse;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Get;\r\n\r\nimport java.util.List;\r\n\r\n@Controller(&quot;products&quot;)\r\npublic class TarvesterController {\r\n\r\n    final TarvesterClient tarvesterClient;\r\n\r\n    public TarvesterController(TarvesterClient tarvesterClient) {\r\n        this.tarvesterClient = tarvesterClient;\r\n    }\r\n\r\n    @Get(&quot;by-tcin&quot;)\r\n    @SingleResult\r\n    HttpResponse&lt;List&lt;?&gt;&gt; fetchProducts(TcinList tcinlist, TargetStore targetStore) {\r\n        return tarvesterClient.fetchProducts(tcinlist.toString(), targetStore.toString());\r\n    }\r\n}\r\n```\r\n##### Client\r\n```java\r\npackage com.github.peanutbutter.unicorn.tarvester;\r\n\r\nimport com.github.peanutbutter.unicorn.tarvester.model.Product;\r\nimport io.micronaut.http.HttpResponse;\r\nimport io.micronaut.http.annotation.Get;\r\nimport io.micronaut.http.annotation.Header;\r\nimport io.micronaut.http.client.annotation.Client;\r\n\r\nimport java.util.List;\r\n\r\nimport static io.micronaut.http.HttpHeaders.ACCEPT;\r\nimport static io.micronaut.http.HttpHeaders.USER_AGENT;\r\n\r\n@Client(id = &quot;redsky-api&quot;)\r\n@Header(name = USER_AGENT, value = &quot;Micronaut HTTP Client&quot;)\r\n@Header(name = ACCEPT, value = &quot;application/vnd.github.v3+json, application/json&quot;)\r\npublic interface TarvesterClient {\r\n\r\n    @Get(&quot;/product_summary_with_fulfillment_v1?key=${redsky-api.token}&amp;{targetStore}&amp;{tcins}&amp;channel=WEB&quot;)\r\n    HttpResponse&lt;List&lt;?&gt;&gt; fetchProducts(String tcins, String targetStore);\r\n}\r\n```\r\n\r\n##### ToString methods\r\n```java\r\n    //tcins excerpt\r\n    @Override\r\n    public String toString() {\r\n        return &quot;&amp;tcins=&quot; + Arrays.stream(id)\r\n                .mapToObj(String::valueOf)\r\n                .collect(Collectors.joining(&quot;%2C&quot;));\r\n    }\r\n...\r\n    // TargetStore excerpt\r\n    @Override\r\n    public String toString() {\r\n        return String.join(&quot;&amp;&quot;, new String[]{\r\n                &quot;store_id=&quot; + locationId,\r\n                &quot;zip=&quot; + postalCode,\r\n                &quot;state=&quot; + region,\r\n                &quot;latitude=&quot; + latitude,\r\n                &quot;longitude=&quot; + longitude,\r\n                &quot;scheduled_delivery_store_id=&quot; + locationId,\r\n                &quot;required_store_id=&quot; + locationId,\r\n                &quot;has_required_store_id=true&quot;\r\n        });\r\n    }\r\n\r\n```\r\n\r\n##### application.properties\r\n```java\r\nmicronaut.application.name=Tarvester\r\nmicronaut.application.default-charset=UTF-8\r\nmicronaut.http.services.redsky-api.url=https://redsky.target.com/\r\nmicronaut.http.services.redsky-api.path=redsky_aggregations/v1/web\r\nredsky-api.token=9f36aeafbe60771e321a7cc95a78140772ab3e96\r\n```\r\n\r\n\r\n#### Things I&#39;ve tried\r\n - I&#39;ve tried changing the controller and get annotations (separately) to include `produces = MediaType.PLAINTEXT`, but neither of those effected the url encoding issue. \r\n - I am swapping out where the java objects are converted to strings (which is where these characters are introduced) to be in the client or the controller, but i&#39;m not hopeful this will work as the Get annotation includes the api key retrieval as well as the string interpolation for the java object string values.\r\n - I can&#39;t find any documentation on some kind of parameter for the httpclient to not encode the url\r\n - I read in the [configuration reference][1] that you can define the default application charset, so I changed that to UTF-8 to no avail\r\n\r\nif you want to try this yourself, the project is https://github.com/PeanutButter-Unicorn/Tarvester\r\n\r\nPart of me wonders if this is a bug since this isn&#39;t consisten behavoir across the URL?\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/guide/configurationreference.html#io.micronaut.http.client.interceptor.configuration.DefaultClientVersioningConfiguration","title":"micronaut httpclient is replacing ampersands and equal signs in my url, but I dont want it to","body":"<h3>Short Version</h3>\n<p>after reading the httpclient logs, I'm seeing that some characters are being url-encoded. I dont want that to happen.</p>\n<h3>Long Version</h3>\n<p>the url I'm calling is split into <code>&lt;base url&gt;</code>+<code>&lt;path&gt;</code>+<code>&lt;apitoken&gt;</code>+<code>&lt;query&gt;</code> + <code>&lt;channel&gt;</code>. The <a href=\"https://github.com/PeanutButter-Unicorn/Tarvester/blob/main/src/main/java/com/github/peanutbutter/unicorn/tarvester/TarvesterClient.java#L19-L20\" rel=\"nofollow noreferrer\">query</a> is simply <code>&lt;tcins&gt;</code> then <code>&lt;store info&gt;</code>. there are <code>=</code> and <code>&amp;</code> peppered through those, but these characters are encoded to <code>%26</code> and <code>%3D</code> inconsistently through the url. for instance you'll note that calling the api key is fine to use <code>?key=...</code>, but immediately afterwards, the <code>&amp;tcins=82691535...</code> is encoded to <code>%26tcins%3D82691535...</code>.</p>\n<p>the get method is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Get(&quot;/product_summary_with_fulfillment_v1?key=${redsky-api.token}&amp;{tcins}&amp;{targetStore}&amp;channel=WEB&quot;)\n    HttpResponse&lt;List&lt;?&gt;&gt; fetchProducts(String tcins, String targetStore);\n</code></pre>\n<h5>Log excerpt</h5>\n<pre class=\"lang-java prettyprint-override\"><code>11:58:04.258 [default-nioEventLoopGroup-1-1] DEBUG io.micronaut.http.client.netty.DefaultHttpClient - Sending HTTP GET to  https://redsky.target.com/redsky_aggregations/v1/web/product_summary_with_fulfillment_v1?key=9f36aeafbe60771e321a7cc95a78140772ab3e96&amp;%26tcins%3D82691535&amp;store_id%3D1750%26zip%3D84014-1752%26state%3DUT%26latitude%3D40.91825%26longitude%3D-111.887%26scheduled_delivery_store_id%3D1750%26required_store_id%3D1750%26has_required_store_id%3Dtrue&amp;channel=WEB\n11:58:04.265 [default-nioEventLoopGroup-1-1] TRACE io.micronaut.http.client.netty.DefaultHttpClient - User-Agent: Micronaut HTTP Client\n11:58:04.265 [default-nioEventLoopGroup-1-1] TRACE io.micronaut.http.client.netty.DefaultHttpClient - Accept: application/vnd.github.v3+json, application/json\n11:58:04.266 [default-nioEventLoopGroup-1-1] TRACE io.micronaut.http.client.netty.DefaultHttpClient - host: redsky.target.com\n</code></pre>\n<h5>Controller</h5>\n<pre class=\"lang-java prettyprint-override\"><code>package com.github.peanutbutter.unicorn.tarvester;\n\nimport com.github.peanutbutter.unicorn.tarvester.model.TargetStore;\nimport com.github.peanutbutter.unicorn.tarvester.model.TcinList;\nimport io.micronaut.core.async.annotation.SingleResult;\nimport io.micronaut.http.HttpResponse;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\n\nimport java.util.List;\n\n@Controller(&quot;products&quot;)\npublic class TarvesterController {\n\n    final TarvesterClient tarvesterClient;\n\n    public TarvesterController(TarvesterClient tarvesterClient) {\n        this.tarvesterClient = tarvesterClient;\n    }\n\n    @Get(&quot;by-tcin&quot;)\n    @SingleResult\n    HttpResponse&lt;List&lt;?&gt;&gt; fetchProducts(TcinList tcinlist, TargetStore targetStore) {\n        return tarvesterClient.fetchProducts(tcinlist.toString(), targetStore.toString());\n    }\n}\n</code></pre>\n<h5>Client</h5>\n<pre class=\"lang-java prettyprint-override\"><code>package com.github.peanutbutter.unicorn.tarvester;\n\nimport com.github.peanutbutter.unicorn.tarvester.model.Product;\nimport io.micronaut.http.HttpResponse;\nimport io.micronaut.http.annotation.Get;\nimport io.micronaut.http.annotation.Header;\nimport io.micronaut.http.client.annotation.Client;\n\nimport java.util.List;\n\nimport static io.micronaut.http.HttpHeaders.ACCEPT;\nimport static io.micronaut.http.HttpHeaders.USER_AGENT;\n\n@Client(id = &quot;redsky-api&quot;)\n@Header(name = USER_AGENT, value = &quot;Micronaut HTTP Client&quot;)\n@Header(name = ACCEPT, value = &quot;application/vnd.github.v3+json, application/json&quot;)\npublic interface TarvesterClient {\n\n    @Get(&quot;/product_summary_with_fulfillment_v1?key=${redsky-api.token}&amp;{targetStore}&amp;{tcins}&amp;channel=WEB&quot;)\n    HttpResponse&lt;List&lt;?&gt;&gt; fetchProducts(String tcins, String targetStore);\n}\n</code></pre>\n<h5>ToString methods</h5>\n<pre class=\"lang-java prettyprint-override\"><code>    //tcins excerpt\n    @Override\n    public String toString() {\n        return &quot;&amp;tcins=&quot; + Arrays.stream(id)\n                .mapToObj(String::valueOf)\n                .collect(Collectors.joining(&quot;%2C&quot;));\n    }\n...\n    // TargetStore excerpt\n    @Override\n    public String toString() {\n        return String.join(&quot;&amp;&quot;, new String[]{\n                &quot;store_id=&quot; + locationId,\n                &quot;zip=&quot; + postalCode,\n                &quot;state=&quot; + region,\n                &quot;latitude=&quot; + latitude,\n                &quot;longitude=&quot; + longitude,\n                &quot;scheduled_delivery_store_id=&quot; + locationId,\n                &quot;required_store_id=&quot; + locationId,\n                &quot;has_required_store_id=true&quot;\n        });\n    }\n\n</code></pre>\n<h5>application.properties</h5>\n<pre class=\"lang-java prettyprint-override\"><code>micronaut.application.name=Tarvester\nmicronaut.application.default-charset=UTF-8\nmicronaut.http.services.redsky-api.url=https://redsky.target.com/\nmicronaut.http.services.redsky-api.path=redsky_aggregations/v1/web\nredsky-api.token=9f36aeafbe60771e321a7cc95a78140772ab3e96\n</code></pre>\n<h4>Things I've tried</h4>\n<ul>\n<li>I've tried changing the controller and get annotations (separately) to include <code>produces = MediaType.PLAINTEXT</code>, but neither of those effected the url encoding issue.</li>\n<li>I am swapping out where the java objects are converted to strings (which is where these characters are introduced) to be in the client or the controller, but i'm not hopeful this will work as the Get annotation includes the api key retrieval as well as the string interpolation for the java object string values.</li>\n<li>I can't find any documentation on some kind of parameter for the httpclient to not encode the url</li>\n<li>I read in the <a href=\"https://docs.micronaut.io/latest/guide/configurationreference.html#io.micronaut.http.client.interceptor.configuration.DefaultClientVersioningConfiguration\" rel=\"nofollow noreferrer\">configuration reference</a> that you can define the default application charset, so I changed that to UTF-8 to no avail</li>\n</ul>\n<p>if you want to try this yourself, the project is <a href=\"https://github.com/PeanutButter-Unicorn/Tarvester\" rel=\"nofollow noreferrer\">https://github.com/PeanutButter-Unicorn/Tarvester</a></p>\n<p>Part of me wonders if this is a bug since this isn't consisten behavoir across the URL?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698308184,"creation_date":1698307600,"answer_id":77365179,"question_id":77364934,"body_markdown":"Try to add transaction.addToBackStack(null) to ensure that the fragment is removed completely\r\n\r\n```java\r\nif (fragmentToRemove != null) {\r\n    transaction.remove(fragmentToRemove);\r\n    transaction.addToBackStack(null); \r\n}\r\n```","title":"My fragment isn&#39;t removed from my fragment container, despite fragment replacements working","body":"<p>Try to add transaction.addToBackStack(null) to ensure that the fragment is removed completely</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (fragmentToRemove != null) {\n    transaction.remove(fragmentToRemove);\n    transaction.addToBackStack(null); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29757106,"reputation":21,"user_id":22805524,"display_name":"Ari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698365596,"creation_date":1698365596,"answer_id":77370864,"question_id":77364934,"body_markdown":"The error was caused by code later on in the application, by a while-loop which was designed to wait for a button to be pressed before exiting. Removing this while-loop solved the issue, and let the fragment be removed as intended.","title":"My fragment isn&#39;t removed from my fragment container, despite fragment replacements working","body":"<p>The error was caused by code later on in the application, by a while-loop which was designed to wait for a button to be pressed before exiting. Removing this while-loop solved the issue, and let the fragment be removed as intended.</p>\n"}],"owner":{"account_id":29757106,"reputation":21,"user_id":22805524,"display_name":"Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77370864,"answer_count":2,"score":1,"last_activity_date":1698365596,"creation_date":1698305374,"question_id":77364934,"body_markdown":"My code contains a method in `MainActivity` called `changeFragment()`, which I use to replace and remove fragments in my two fragment containers. When I try I use this method to replace a fragment in a container with another, it works, but when I try to remove a fragment, it doesn&#39;t. No error in the Logcat is shown, and the code continues after I call this method, but the visuals for the fragment aren&#39;t removed even though I can no longer interact with the buttons within the fragment.\r\n\r\nThis is my `changeFragment()` method:\r\n\r\n\r\n```java\r\npublic void changeFragment(String fragmentContainer, String fragmentRequested) {\r\n    FragmentManager fragmentManager = getSupportFragmentManager();\r\n    FragmentTransaction transaction = fragmentManager.beginTransaction();\r\n\r\n    if (Objects.equals(fragmentRequested, &quot;None&quot;)) {\r\n        // Find the fragment to remove\r\n        Fragment fragmentToRemove;\r\n        if (Objects.equals(fragmentContainer, &quot;menu&quot;)) {\r\n            fragmentToRemove = fragmentManager.findFragmentById(R.id.menucontainer);\r\n        } else {\r\n            fragmentToRemove = fragmentManager.findFragmentById(R.id.selectioncontainer);\r\n        }\r\n\r\n        if (fragmentToRemove != null) {\r\n            transaction.remove(fragmentToRemove);\r\n        }\r\n\r\n\r\n        // If a fragment replacement is requested:\r\n    } else {\r\n        // Find the new fragment to replace the old one with\r\n        Fragment fragmentToBeDisplayed = switch (fragmentRequested) {\r\n            case &quot;CardNumberSelection&quot; -&gt; FragmentCardNumberSelection.newInstance();\r\n            case &quot;GameCreation&quot; -&gt; FragmentGameCreation.newInstance();\r\n            case &quot;Guide&quot; -&gt; FragmentGuide.newInstance();\r\n            case &quot;PlayerSelection&quot; -&gt; FragmentPlayerSelection.newInstance();\r\n            case &quot;Settings&quot; -&gt; FragmentSettings.newInstance();\r\n            case &quot;TitlePage&quot; -&gt; FragmentTitlePage.newInstance();\r\n            default -&gt; null;\r\n        };\r\n\r\n        // Replace the old fragment with the new one\r\n        assert fragmentToBeDisplayed != null;\r\n        if (Objects.equals(fragmentContainer, &quot;menu&quot;)) {\r\n            transaction.replace(R.id.menucontainer, fragmentToBeDisplayed);\r\n        } else {\r\n            transaction.replace(R.id.selectioncontainer, fragmentToBeDisplayed);\r\n        }\r\n    }\r\n\r\n    transaction.commit();\r\n    if (fragmentManager.findFragmentById(R.id.menucontainer) == null) {\r\n        findViewById(R.id.settingsmenu).setVisibility(View.VISIBLE);\r\n        findViewById(R.id.guidemenu).setVisibility(View.VISIBLE);\r\n    } else {\r\n        findViewById(R.id.settingsmenu).setVisibility(View.INVISIBLE);\r\n        findViewById(R.id.guidemenu).setVisibility(View.INVISIBLE);\r\n    }\r\n}\r\n```\r\n\r\nHere is the code which is meant to remove the old fragment (`FragmentGameCreation`) from the fragment container (`menucontainer`) but doesn&#39;t. This line of code is in a method in MainActivity:\r\n\r\n```java\r\nchangeFragment(&quot;menu&quot;,&quot;None&quot;);\r\n```\r\n\r\nThis is the code I use to show `FragmentGameCreation` to begin with, which successfully replaces my `FragmentTitlePage` with `FragmentGameCreation` when I click a button in my title page fragment. This code is in my `FragmentTitlePage` class:\r\n\r\n\r\n```java\r\n// Start Game\r\nstartGameButton.setOnClickListener(view -&gt; {\r\n   // Replace the title page fragment with the game creation fragment\r\n   FragmentManager fragmentManager = requireActivity().getSupportFragmentManager();\r\n   fragmentManager.beginTransaction().replace(R.id.menucontainer, frag, &quot;menuTag&quot;).commit();\r\n});\r\n```\r\n\r\nI have ensured using a debugger that all the intended lines of code are being run, and all are.\r\n\r\nI have also tried to create the new instance of `FragmentGameCreation` globally before putting it into menucontainer, and using the `dindFragmentByTag()` method as a replacement for `findFragmentByID()`, but neither have solved this issue.","title":"My fragment isn&#39;t removed from my fragment container, despite fragment replacements working","body":"<p>My code contains a method in <code>MainActivity</code> called <code>changeFragment()</code>, which I use to replace and remove fragments in my two fragment containers. When I try I use this method to replace a fragment in a container with another, it works, but when I try to remove a fragment, it doesn't. No error in the Logcat is shown, and the code continues after I call this method, but the visuals for the fragment aren't removed even though I can no longer interact with the buttons within the fragment.</p>\n<p>This is my <code>changeFragment()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void changeFragment(String fragmentContainer, String fragmentRequested) {\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    FragmentTransaction transaction = fragmentManager.beginTransaction();\n\n    if (Objects.equals(fragmentRequested, &quot;None&quot;)) {\n        // Find the fragment to remove\n        Fragment fragmentToRemove;\n        if (Objects.equals(fragmentContainer, &quot;menu&quot;)) {\n            fragmentToRemove = fragmentManager.findFragmentById(R.id.menucontainer);\n        } else {\n            fragmentToRemove = fragmentManager.findFragmentById(R.id.selectioncontainer);\n        }\n\n        if (fragmentToRemove != null) {\n            transaction.remove(fragmentToRemove);\n        }\n\n\n        // If a fragment replacement is requested:\n    } else {\n        // Find the new fragment to replace the old one with\n        Fragment fragmentToBeDisplayed = switch (fragmentRequested) {\n            case &quot;CardNumberSelection&quot; -&gt; FragmentCardNumberSelection.newInstance();\n            case &quot;GameCreation&quot; -&gt; FragmentGameCreation.newInstance();\n            case &quot;Guide&quot; -&gt; FragmentGuide.newInstance();\n            case &quot;PlayerSelection&quot; -&gt; FragmentPlayerSelection.newInstance();\n            case &quot;Settings&quot; -&gt; FragmentSettings.newInstance();\n            case &quot;TitlePage&quot; -&gt; FragmentTitlePage.newInstance();\n            default -&gt; null;\n        };\n\n        // Replace the old fragment with the new one\n        assert fragmentToBeDisplayed != null;\n        if (Objects.equals(fragmentContainer, &quot;menu&quot;)) {\n            transaction.replace(R.id.menucontainer, fragmentToBeDisplayed);\n        } else {\n            transaction.replace(R.id.selectioncontainer, fragmentToBeDisplayed);\n        }\n    }\n\n    transaction.commit();\n    if (fragmentManager.findFragmentById(R.id.menucontainer) == null) {\n        findViewById(R.id.settingsmenu).setVisibility(View.VISIBLE);\n        findViewById(R.id.guidemenu).setVisibility(View.VISIBLE);\n    } else {\n        findViewById(R.id.settingsmenu).setVisibility(View.INVISIBLE);\n        findViewById(R.id.guidemenu).setVisibility(View.INVISIBLE);\n    }\n}\n</code></pre>\n<p>Here is the code which is meant to remove the old fragment (<code>FragmentGameCreation</code>) from the fragment container (<code>menucontainer</code>) but doesn't. This line of code is in a method in MainActivity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>changeFragment(&quot;menu&quot;,&quot;None&quot;);\n</code></pre>\n<p>This is the code I use to show <code>FragmentGameCreation</code> to begin with, which successfully replaces my <code>FragmentTitlePage</code> with <code>FragmentGameCreation</code> when I click a button in my title page fragment. This code is in my <code>FragmentTitlePage</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Start Game\nstartGameButton.setOnClickListener(view -&gt; {\n   // Replace the title page fragment with the game creation fragment\n   FragmentManager fragmentManager = requireActivity().getSupportFragmentManager();\n   fragmentManager.beginTransaction().replace(R.id.menucontainer, frag, &quot;menuTag&quot;).commit();\n});\n</code></pre>\n<p>I have ensured using a debugger that all the intended lines of code are being run, and all are.</p>\n<p>I have also tried to create the new instance of <code>FragmentGameCreation</code> globally before putting it into menucontainer, and using the <code>dindFragmentByTag()</code> method as a replacement for <code>findFragmentByID()</code>, but neither have solved this issue.</p>\n"},{"tags":["java","swing","jscrollpane","jlist","mousewheel"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1698348671,"post_id":77369803,"comment_id":136397653,"body_markdown":"1. Disable the list before you start loading; 2. Use a SwingWorker to load the data; 3. Keep track of the last/next trigger row so you’re not reliant only internet scroll; 4. Aldo consider that a user can scroll the list using the keyboard","body":"1. Disable the list before you start loading; 2. Use a SwingWorker to load the data; 3. Keep track of the last/next trigger row so you’re not reliant only internet scroll; 4. Aldo consider that a user can scroll the list using the keyboard"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698361224,"creation_date":1698352869,"answer_id":77370189,"question_id":77369803,"body_markdown":"Let&#39;s start with some obvious issues\r\n\r\n1. Users can (and will) scroll through the list using the keyboard as well as the mouse, so, a `MouseWheelListener` (or any sort of mouse based listener) is a bad place to start\r\n2. Swing is single threaded and not thread safe, this means that you shouldn&#39;t be performing long running or blocking operations within the context of the Event Dispatching Thread and you shouldn&#39;t be updating the UI or anything the UI relies on from outside of the Event Dispatching Thread context.  See [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details\r\n\r\nSo, what&#39;s the answer?\r\n\r\nWell, for me, I started with the `veriticalScrollBar` of the `JScrollPane` and added an `AdjustmentListener` to it.  This will notify me when the vertical scroll bar position changes.  This might not be the &quot;best&quot; option, but it was the obvious one to me.  This means we&#39;re not relient on the monitoring the keyboard and mouse, instead, we&#39;re monitoring the state (or part of the state) of the scroll pane itself.\r\n\r\nNext, I set up a &quot;trigger&quot; which was, in my test, 5 rows less then a full page of data.  That is, in my example, a page was 20 rows, so my trigger was always 5 rows less (15/35/55/75/95), this means that we&#39;re attempting to load a new page slightly early.\r\n\r\nWhen the `AdjustmentListener` was triggered, I checked the `JList#getLastVisibleIndex` property and if the values mathched, I then used a `SwingWorker` to off loading the loading of the data to a different thread, but which allows me an easy way to re-sync that data back to the EDT.  See [Worker Threads and SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html) for more details\r\n\r\nThis idea might look something like...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.AdjustmentEvent;\r\n    import java.awt.event.AdjustmentListener;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.DefaultListModel;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingWorker;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                DefaultListModel&lt;String&gt; model = new DefaultListModel&lt;&gt;();\r\n                for (int index = 0; index &lt; 20; index++) {\r\n                    model.addElement(Integer.toString(index));\r\n                }\r\n                JList&lt;String&gt; list = new JList&lt;&gt;(model);\r\n                list.setVisibleRowCount(10);\r\n\r\n                JScrollPane scrollPane = new JScrollPane(list);\r\n                scrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {\r\n\r\n                    private int triggerRow = 15;\r\n\r\n                    @Override\r\n                    public void adjustmentValueChanged(AdjustmentEvent e) {\r\n                        int lastRow = list.getLastVisibleIndex();\r\n                        if (lastRow == triggerRow) {\r\n                            int startingValue = model.getSize();\r\n                            triggerRow += 20;\r\n                            SwingWorker&lt;List&lt;String&gt;, List&lt;String&gt;&gt; worker = new SwingWorker&lt;&gt;() {\r\n                                @Override\r\n                                protected List&lt;String&gt; doInBackground() throws Exception {\r\n                                    List&lt;String&gt; values = new ArrayList&lt;&gt;(20);\r\n                                    for (int index = 0; index &lt; 20; index++) {\r\n                                        values.add(Integer.toString(startingValue + index));\r\n                                    }\r\n                                    // Artificial 7 second delay...\r\n                                    Thread.sleep(7000);\r\n                                    publish(values);\r\n                                    return values;\r\n                                }\r\n\r\n                                @Override\r\n                                protected void process(List&lt;List&lt;String&gt;&gt; chunks) {\r\n                                    for (List&lt;String&gt; values : chunks) {\r\n                                        model.addAll(values);\r\n                                    }\r\n\r\n                                }\r\n                            };\r\n                            worker.execute();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                setLayout(new BorderLayout());\r\n                add(scrollPane);\r\n            }\r\n        }\r\n    }\r\n\r\nNow, please, understand.  This is simplified solution.  I&#39;ve deliberately set the `setVisibleRowCount` to a size less then my trigger row.\r\n\r\nYou might be able to change it so that if the last row is `&gt;=` to the trigger row, you would start loading more pages, but, you&#39;d probably need some way to determine if a loading is in progress first and possibly modify the logic which determines the next trigger point so that it&#39;s more efficient in a more dynamic environment.\r\n\r\nI&#39;d also consider rolling a lot of this up into some kind of &quot;pagination&quot; workflow, so maybe a dedicated class you could pass the scroll pane and list into and have it manage all the core workflow and maybe trigger an observer to load the data, but that&#39;s me.\r\n\r\nOh, and might also consider making use of `JLayer` to provide some kind of visual feedback, see [How to Decorate Components with the JLayer Class](https://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html) for more details","title":"Remove MouseWheelEvent/MouseWheelListener awaiting execution in Java Swing","body":"<p>Let's start with some obvious issues</p>\n<ol>\n<li>Users can (and will) scroll through the list using the keyboard as well as the mouse, so, a <code>MouseWheelListener</code> (or any sort of mouse based listener) is a bad place to start</li>\n<li>Swing is single threaded and not thread safe, this means that you shouldn't be performing long running or blocking operations within the context of the Event Dispatching Thread and you shouldn't be updating the UI or anything the UI relies on from outside of the Event Dispatching Thread context.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details</li>\n</ol>\n<p>So, what's the answer?</p>\n<p>Well, for me, I started with the <code>veriticalScrollBar</code> of the <code>JScrollPane</code> and added an <code>AdjustmentListener</code> to it.  This will notify me when the vertical scroll bar position changes.  This might not be the &quot;best&quot; option, but it was the obvious one to me.  This means we're not relient on the monitoring the keyboard and mouse, instead, we're monitoring the state (or part of the state) of the scroll pane itself.</p>\n<p>Next, I set up a &quot;trigger&quot; which was, in my test, 5 rows less then a full page of data.  That is, in my example, a page was 20 rows, so my trigger was always 5 rows less (15/35/55/75/95), this means that we're attempting to load a new page slightly early.</p>\n<p>When the <code>AdjustmentListener</code> was triggered, I checked the <code>JList#getLastVisibleIndex</code> property and if the values mathched, I then used a <code>SwingWorker</code> to off loading the loading of the data to a different thread, but which allows me an easy way to re-sync that data back to the EDT.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a> for more details</p>\n<p>This idea might look something like...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.AdjustmentEvent;\nimport java.awt.event.AdjustmentListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JFrame;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingWorker;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            DefaultListModel&lt;String&gt; model = new DefaultListModel&lt;&gt;();\n            for (int index = 0; index &lt; 20; index++) {\n                model.addElement(Integer.toString(index));\n            }\n            JList&lt;String&gt; list = new JList&lt;&gt;(model);\n            list.setVisibleRowCount(10);\n\n            JScrollPane scrollPane = new JScrollPane(list);\n            scrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {\n\n                private int triggerRow = 15;\n\n                @Override\n                public void adjustmentValueChanged(AdjustmentEvent e) {\n                    int lastRow = list.getLastVisibleIndex();\n                    if (lastRow == triggerRow) {\n                        int startingValue = model.getSize();\n                        triggerRow += 20;\n                        SwingWorker&lt;List&lt;String&gt;, List&lt;String&gt;&gt; worker = new SwingWorker&lt;&gt;() {\n                            @Override\n                            protected List&lt;String&gt; doInBackground() throws Exception {\n                                List&lt;String&gt; values = new ArrayList&lt;&gt;(20);\n                                for (int index = 0; index &lt; 20; index++) {\n                                    values.add(Integer.toString(startingValue + index));\n                                }\n                                // Artificial 7 second delay...\n                                Thread.sleep(7000);\n                                publish(values);\n                                return values;\n                            }\n\n                            @Override\n                            protected void process(List&lt;List&lt;String&gt;&gt; chunks) {\n                                for (List&lt;String&gt; values : chunks) {\n                                    model.addAll(values);\n                                }\n\n                            }\n                        };\n                        worker.execute();\n                    }\n                }\n            });\n\n            setLayout(new BorderLayout());\n            add(scrollPane);\n        }\n    }\n}\n</code></pre>\n<p>Now, please, understand.  This is simplified solution.  I've deliberately set the <code>setVisibleRowCount</code> to a size less then my trigger row.</p>\n<p>You might be able to change it so that if the last row is <code>&gt;=</code> to the trigger row, you would start loading more pages, but, you'd probably need some way to determine if a loading is in progress first and possibly modify the logic which determines the next trigger point so that it's more efficient in a more dynamic environment.</p>\n<p>I'd also consider rolling a lot of this up into some kind of &quot;pagination&quot; workflow, so maybe a dedicated class you could pass the scroll pane and list into and have it manage all the core workflow and maybe trigger an observer to load the data, but that's me.</p>\n<p>Oh, and might also consider making use of <code>JLayer</code> to provide some kind of visual feedback, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html\" rel=\"nofollow noreferrer\">How to Decorate Components with the JLayer Class</a> for more details</p>\n"}],"owner":{"account_id":9555707,"reputation":3,"user_id":7098249,"display_name":"slow_learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698361224,"creation_date":1698347939,"question_id":77369803,"body_markdown":"I have an implementation where I want to reload data while scrolling a JList after scrolling every 100 records. I have a large database, and it takes around 7 seconds to load the JList. Therefore, a wait dialog will be displayed to the user while data is loaded in the background.\r\n\r\nI am facing two issues with the following code:\r\n    \r\n1. For every single mouse scroll, three records are scrolled instead of scrolling a single record.\r\n2. If I continue scrolling while the reload is in progress (that is if I continued moving the mouse wheel), the scroll action event is stored somewhere, and once the reload is completed, the stored action event will be executed. For example, if I keep scrolling six times while records are reloading, the scrollbar won&#39;t move at the moment because the wait dialog is present, but once the reload is complete, it will scroll six records.\r\n\r\nMy goal is to remove whatever mouse scroll/wheel movement events waiting for execution once the data is loaded or even a call is made to reload the data.\r\n\r\n```\r\n\tJScrollPane calculateScrollPane = new JScrollPane();\r\n\tJList calculateList = new JList();\r\n  \r\n\tMouseWheelListener mouseListener = new MouseWheelListener() {\r\n      @Override\r\n      public void mouseWheelMoved(MouseWheelEvent e) {\r\n\t\t  int firstVisibleIndex = calculateList.getFirstVisibleIndex();\r\n\t\t  WaitDialog wait = new WaitDialog();\r\n\t\t  wait.start();\r\n        if(firstVisibleIndex % 100 == 0)\r\n\t\t\treloadData(e);\r\n\t\twait.stop();\r\n      \r\n      }\r\n    };\r\n    calculateScrollPane.addMouseWheelListener(mouseListener);\r\n```\r\n\r\n\r\nI tried storing the firstIndexAfterReload = firstVisibleIndex; and resetting the calculateList first visible index using calculateList.ensureIndexIsVisible(firstIndexAfterReload); This resets the firstVisibleIndex only once. If I have rigorously scrolled multiple times then firstIndexAfterReload  is also reset.","title":"Remove MouseWheelEvent/MouseWheelListener awaiting execution in Java Swing","body":"<p>I have an implementation where I want to reload data while scrolling a JList after scrolling every 100 records. I have a large database, and it takes around 7 seconds to load the JList. Therefore, a wait dialog will be displayed to the user while data is loaded in the background.</p>\n<p>I am facing two issues with the following code:</p>\n<ol>\n<li>For every single mouse scroll, three records are scrolled instead of scrolling a single record.</li>\n<li>If I continue scrolling while the reload is in progress (that is if I continued moving the mouse wheel), the scroll action event is stored somewhere, and once the reload is completed, the stored action event will be executed. For example, if I keep scrolling six times while records are reloading, the scrollbar won't move at the moment because the wait dialog is present, but once the reload is complete, it will scroll six records.</li>\n</ol>\n<p>My goal is to remove whatever mouse scroll/wheel movement events waiting for execution once the data is loaded or even a call is made to reload the data.</p>\n<pre><code>    JScrollPane calculateScrollPane = new JScrollPane();\n    JList calculateList = new JList();\n  \n    MouseWheelListener mouseListener = new MouseWheelListener() {\n      @Override\n      public void mouseWheelMoved(MouseWheelEvent e) {\n          int firstVisibleIndex = calculateList.getFirstVisibleIndex();\n          WaitDialog wait = new WaitDialog();\n          wait.start();\n        if(firstVisibleIndex % 100 == 0)\n            reloadData(e);\n        wait.stop();\n      \n      }\n    };\n    calculateScrollPane.addMouseWheelListener(mouseListener);\n</code></pre>\n<p>I tried storing the firstIndexAfterReload = firstVisibleIndex; and resetting the calculateList first visible index using calculateList.ensureIndexIsVisible(firstIndexAfterReload); This resets the firstVisibleIndex only once. If I have rigorously scrolled multiple times then firstIndexAfterReload  is also reset.</p>\n"},{"tags":["java","android","upload"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698307054,"post_id":77363591,"comment_id":136389296,"body_markdown":"`html page that has a form to upload images, ` Ok. To where? And where came that page from?","body":"<code>html page that has a form to upload images, </code> Ok. To where? And where came that page from?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698307127,"post_id":77363591,"comment_id":136389311,"body_markdown":"`when i select one image it display it perfectly` Display? You said you wanna upload. Where would display come in?","body":"<code>when i select one image it display it perfectly</code> Display? You said you wanna upload. Where would display come in?"}],"owner":{"account_id":24382061,"reputation":33,"user_id":19780184,"display_name":"John B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698360786,"creation_date":1698282280,"question_id":77363591,"body_markdown":"before i post the code let me explain what i intended to do, the webview loads a html page that has a form to upload images, when i select one image it display it perfectly and i even added the file count and it shows 1, but now when i select multiple images the file count 0 and it does not display the images\r\n\r\nhere is the android PostFragment java code\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.util.Log; // Import the Log class\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.webkit.ConsoleMessage;\r\n    import android.webkit.ValueCallback;\r\n    import android.webkit.WebChromeClient;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import androidx.fragment.app.Fragment;\r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n\r\n    public class PostFragment extends Fragment {\r\n    private WebView webView;\r\n    private ValueCallback&lt;Uri[]&gt; mUploadMessage;\r\n    private static final int FILE_CHOOSER_RESULT_CODE = 1;\r\n    private static final int REQUEST_PERMISSION_CODE = 123; // Define your permission     request code\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle     savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_post, container, false);\r\n        webView = view.findViewById(R.id.WebViewIdpost);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n\r\n        // Add the JavaScript interface here\r\n        JavaScriptInterface jsInterface = new JavaScriptInterface(getActivity());\r\n        webView.addJavascriptInterface(jsInterface, &quot;Android&quot;);\r\n\r\n        webView.setWebViewClient(new WebViewClient());\r\n\r\n        // Set up WebChromeClient with console message logging\r\n        webView.setWebChromeClient(new WebChromeClient() {\r\n            @SuppressLint(&quot;NewApi&quot;)\r\n            public boolean onShowFileChooser(\r\n                    WebView view, ValueCallback&lt;Uri[]&gt; filePathCallback, FileChooserParams     fileChooserParams) {\r\n                mUploadMessage = filePathCallback;\r\n                openFileChooser();\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public boolean onConsoleMessage(ConsoleMessage consoleMessage) {\r\n                // Log console messages for debugging\r\n                Log.d(&quot;WebView Console&quot;, consoleMessage.message());\r\n                return true;\r\n            }\r\n\r\n\r\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n                // Handle web view errors\r\n                Log.e(&quot;WebView Error&quot;, &quot;Error code: &quot; + errorCode + &quot;, Description: &quot; + description);\r\n            }\r\n        });\r\n\r\n        webView.loadUrl(&quot;this is where i put the url&quot;); // Change the URL to the location of your HTML form\r\n\r\n        return view;\r\n    }\r\n\r\n    private void openFileChooser() {\r\n        // Check if the permission is granted\r\n        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            // If permission is not granted, request it\r\n            requestPermission();\r\n        } else {\r\n            // Permission is already granted, open the file chooser\r\n            openFilePicker();\r\n        }\r\n    }\r\n\r\n    private void requestPermission() {\r\n        // Request permission from the user\r\n        ActivityCompat.requestPermissions(requireActivity(),\r\n                new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                REQUEST_PERMISSION_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        if (requestCode == REQUEST_PERMISSION_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission granted, open the file chooser\r\n                openFilePicker();\r\n            } else {\r\n                // Permission denied, handle the case where the user refuses permission\r\n                // You might want to display a message to the user\r\n                Log.e(&quot;Permission Error&quot;, &quot;Permission denied for accessing external storage.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void openFilePicker() {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;*/*&quot;);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true); // Allow multiple file selection\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Choose File&quot;), FILE_CHOOSER_RESULT_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == FILE_CHOOSER_RESULT_CODE) {\r\n            if (mUploadMessage == null) {\r\n                return;\r\n            }\r\n            Uri[] results = WebChromeClient.FileChooserParams.parseResult(resultCode, data);\r\n            mUploadMessage.onReceiveValue(results);\r\n            mUploadMessage = null;\r\n        }\r\n        }\r\n    }\r\n\r\n\r\nhere is the html page with script \r\n\r\n    &lt;script&gt;\r\n    function displaySelectedImages(files) {\r\n        var preview = document.getElementById(&#39;imagePreview&#39;);\r\n\r\n        for (var i = 0; i &lt; files.length; i++) {\r\n           \r\n                var reader = new FileReader();\r\n\r\n                reader.onload = function (e) {\r\n                    var img = document.createElement(&#39;img&#39;);\r\n                    img.src = e.target.result;\r\n                    preview.appendChild(img);\r\n                };\r\n\r\n                reader.readAsDataURL(file);\r\n            \r\n        }\r\n\r\n        // Display the number of selected files\r\n        var fileCountText = document.getElementById(&#39;fileCountText&#39;);\r\n        fileCountText.textContent = &#39;Number of selected files: &#39; + files.length;\r\n    }\r\n    &lt;/script&gt;\r\n\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;form action=&quot;cgi-bin/upload.php&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;     id=&quot;uploadForm&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;item_codex&quot; id=&quot;item_codex&quot; value=&quot;&lt;?PHP echo $item_codex?&gt;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;item_mycode&quot; id=&quot;item_mycode&quot; value=&quot;&lt;?PHP echo $item_mycode?&gt;&quot;&gt;\r\n        &lt;input type=&quot;file&quot; name=&quot;images[]&quot; id=&quot;images&quot; multiple=&quot;multiple&quot;  onchange=&quot;displaySelectedImages(this.files)&quot;&gt;\r\n       &lt;br&gt;&lt;br&gt;\r\n        &lt;input type=&quot;submit&quot; name=&quot;submitBtn&quot; value=&quot;Upload Images&quot;&gt;\r\n    &lt;/form&gt;\r\n\r\n    &lt;div id=&quot;imagePreview&quot;&gt;&lt;/div&gt;\r\n    &lt;div id=&quot;fileCountText&quot;&gt;&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\ni have been fighting with this for hours, i got it to where it shows one image when i select one, but when i select multiple it does not show multiple images \r\n\r\ni gave up so i appreciate all the help you can spare  ","title":"android webview and html webpage with script to display images","body":"<p>before i post the code let me explain what i intended to do, the webview loads a html page that has a form to upload images, when i select one image it display it perfectly and i even added the file count and it shows 1, but now when i select multiple images the file count 0 and it does not display the images</p>\n<p>here is the android PostFragment java code</p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log; // Import the Log class\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.webkit.ConsoleMessage;\nimport android.webkit.ValueCallback;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport androidx.fragment.app.Fragment;\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\npublic class PostFragment extends Fragment {\nprivate WebView webView;\nprivate ValueCallback&lt;Uri[]&gt; mUploadMessage;\nprivate static final int FILE_CHOOSER_RESULT_CODE = 1;\nprivate static final int REQUEST_PERMISSION_CODE = 123; // Define your permission     request code\n\n@SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle     savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_post, container, false);\n    webView = view.findViewById(R.id.WebViewIdpost);\n    WebSettings webSettings = webView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n\n    // Add the JavaScript interface here\n    JavaScriptInterface jsInterface = new JavaScriptInterface(getActivity());\n    webView.addJavascriptInterface(jsInterface, &quot;Android&quot;);\n\n    webView.setWebViewClient(new WebViewClient());\n\n    // Set up WebChromeClient with console message logging\n    webView.setWebChromeClient(new WebChromeClient() {\n        @SuppressLint(&quot;NewApi&quot;)\n        public boolean onShowFileChooser(\n                WebView view, ValueCallback&lt;Uri[]&gt; filePathCallback, FileChooserParams     fileChooserParams) {\n            mUploadMessage = filePathCallback;\n            openFileChooser();\n            return true;\n        }\n\n        @Override\n        public boolean onConsoleMessage(ConsoleMessage consoleMessage) {\n            // Log console messages for debugging\n            Log.d(&quot;WebView Console&quot;, consoleMessage.message());\n            return true;\n        }\n\n\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n            // Handle web view errors\n            Log.e(&quot;WebView Error&quot;, &quot;Error code: &quot; + errorCode + &quot;, Description: &quot; + description);\n        }\n    });\n\n    webView.loadUrl(&quot;this is where i put the url&quot;); // Change the URL to the location of your HTML form\n\n    return view;\n}\n\nprivate void openFileChooser() {\n    // Check if the permission is granted\n    if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.READ_EXTERNAL_STORAGE)\n            != PackageManager.PERMISSION_GRANTED) {\n        // If permission is not granted, request it\n        requestPermission();\n    } else {\n        // Permission is already granted, open the file chooser\n        openFilePicker();\n    }\n}\n\nprivate void requestPermission() {\n    // Request permission from the user\n    ActivityCompat.requestPermissions(requireActivity(),\n            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\n            REQUEST_PERMISSION_CODE);\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    if (requestCode == REQUEST_PERMISSION_CODE) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            // Permission granted, open the file chooser\n            openFilePicker();\n        } else {\n            // Permission denied, handle the case where the user refuses permission\n            // You might want to display a message to the user\n            Log.e(&quot;Permission Error&quot;, &quot;Permission denied for accessing external storage.&quot;);\n        }\n    }\n}\n\nprivate void openFilePicker() {\n    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\n    intent.setType(&quot;*/*&quot;);\n    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true); // Allow multiple file selection\n    startActivityForResult(Intent.createChooser(intent, &quot;Choose File&quot;), FILE_CHOOSER_RESULT_CODE);\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == FILE_CHOOSER_RESULT_CODE) {\n        if (mUploadMessage == null) {\n            return;\n        }\n        Uri[] results = WebChromeClient.FileChooserParams.parseResult(resultCode, data);\n        mUploadMessage.onReceiveValue(results);\n        mUploadMessage = null;\n    }\n    }\n}\n</code></pre>\n<p>here is the html page with script</p>\n<pre><code>&lt;script&gt;\nfunction displaySelectedImages(files) {\n    var preview = document.getElementById('imagePreview');\n\n    for (var i = 0; i &lt; files.length; i++) {\n       \n            var reader = new FileReader();\n\n            reader.onload = function (e) {\n                var img = document.createElement('img');\n                img.src = e.target.result;\n                preview.appendChild(img);\n            };\n\n            reader.readAsDataURL(file);\n        \n    }\n\n    // Display the number of selected files\n    var fileCountText = document.getElementById('fileCountText');\n    fileCountText.textContent = 'Number of selected files: ' + files.length;\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form action=&quot;cgi-bin/upload.php&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;     id=&quot;uploadForm&quot;&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;item_codex&quot; id=&quot;item_codex&quot; value=&quot;&lt;?PHP echo $item_codex?&gt;&quot;&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;item_mycode&quot; id=&quot;item_mycode&quot; value=&quot;&lt;?PHP echo $item_mycode?&gt;&quot;&gt;\n    &lt;input type=&quot;file&quot; name=&quot;images[]&quot; id=&quot;images&quot; multiple=&quot;multiple&quot;  onchange=&quot;displaySelectedImages(this.files)&quot;&gt;\n   &lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; name=&quot;submitBtn&quot; value=&quot;Upload Images&quot;&gt;\n&lt;/form&gt;\n\n&lt;div id=&quot;imagePreview&quot;&gt;&lt;/div&gt;\n&lt;div id=&quot;fileCountText&quot;&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>i have been fighting with this for hours, i got it to where it shows one image when i select one, but when i select multiple it does not show multiple images</p>\n<p>i gave up so i appreciate all the help you can spare</p>\n"},{"tags":["java","webassembly"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":5,"creation_date":1625554628,"post_id":68265863,"comment_id":120649667,"body_markdown":"Kotlin is listed there.","body":"Kotlin is listed there."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":3,"creation_date":1625554746,"post_id":68265863,"comment_id":120649701,"body_markdown":"https://github.com/i-net-software/JWebAssembly might help","body":"<a href=\"https://github.com/i-net-software/JWebAssembly\" rel=\"nofollow noreferrer\">github.com/i-net-software/JWebAssembly</a> might help"},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1625572812,"post_id":68265863,"comment_id":120657224,"body_markdown":"That is interesting. I may give a try. It is somehow out of scope of original answer as JWebAssembly is taking .class files not Java, but is good answer if giving some hints how to integrate into dev pipeline.","body":"That is interesting. I may give a try. It is somehow out of scope of original answer as JWebAssembly is taking .class files not Java, but is good answer if giving some hints how to integrate into dev pipeline."},{"owner":{"account_id":503387,"reputation":30660,"user_id":975097,"accept_rate":82,"display_name":"Anderson Green"},"score":3,"creation_date":1646526589,"post_id":68265863,"comment_id":126145660,"body_markdown":"I also found [several compilers](https://github.com/appcypher/awesome-wasm-langs#java) that translate Java bytecode to WebAssembly.","body":"I also found <a href=\"https://github.com/appcypher/awesome-wasm-langs#java\" rel=\"nofollow noreferrer\">several compilers</a> that translate Java bytecode to WebAssembly."}],"answers":[{"tags":[],"owner":{"account_id":10286733,"reputation":3612,"user_id":7589775,"accept_rate":75,"display_name":"LeoDog896"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1665189513,"creation_date":1665189513,"answer_id":73993628,"question_id":68265863,"body_markdown":"Here are a few compilers that can do this for you:\r\n\r\nhttps://github.com/konsoletyper/teavm (most popular &amp; my own reccomendation: https://teavm.org/)\r\n\r\nhttps://github.com/i-net-software/JWebAssembly (only to webassembly, the others can do webassembly and javascript)\r\n\r\nhttps://github.com/mirkosertic/Bytecoder\r\n\r\nhttps://github.com/leaningtech/cheerpj-meta\r\n\r\nDo note, that all of them have their limitations, most commonly that every Java class in Java&#39;s standard library won&#39;t work well with it (for example, TeaVM and others have problems with reflection).\r\n\r\nThey also require pipeline integration -- make sure to be using a build tool these compilers support, such as [gradle][1] or [maven][2]\r\n\r\n\r\n  [1]: https://gradle.org/\r\n  [2]: https://maven.apache.org/","title":"How to compile Java to WASM (WebAssembly)?","body":"<p>Here are a few compilers that can do this for you:</p>\n<p><a href=\"https://github.com/konsoletyper/teavm\" rel=\"noreferrer\">https://github.com/konsoletyper/teavm</a> (most popular &amp; my own reccomendation: <a href=\"https://teavm.org/\" rel=\"noreferrer\">https://teavm.org/</a>)</p>\n<p><a href=\"https://github.com/i-net-software/JWebAssembly\" rel=\"noreferrer\">https://github.com/i-net-software/JWebAssembly</a> (only to webassembly, the others can do webassembly and javascript)</p>\n<p><a href=\"https://github.com/mirkosertic/Bytecoder\" rel=\"noreferrer\">https://github.com/mirkosertic/Bytecoder</a></p>\n<p><a href=\"https://github.com/leaningtech/cheerpj-meta\" rel=\"noreferrer\">https://github.com/leaningtech/cheerpj-meta</a></p>\n<p>Do note, that all of them have their limitations, most commonly that every Java class in Java's standard library won't work well with it (for example, TeaVM and others have problems with reflection).</p>\n<p>They also require pipeline integration -- make sure to be using a build tool these compilers support, such as <a href=\"https://gradle.org/\" rel=\"noreferrer\">gradle</a> or <a href=\"https://maven.apache.org/\" rel=\"noreferrer\">maven</a></p>\n"},{"tags":[],"owner":{"account_id":101974,"reputation":531,"user_id":1411429,"display_name":"Technosophos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698360773,"creation_date":1698360773,"answer_id":77370680,"question_id":68265863,"body_markdown":"Running Java bytecode inside of a Wasm runtime is possible a few ways. One is to use TeaVM. This page tracks the progress of various methods: https://www.fermyon.com/wasm-languages/java","title":"How to compile Java to WASM (WebAssembly)?","body":"<p>Running Java bytecode inside of a Wasm runtime is possible a few ways. One is to use TeaVM. This page tracks the progress of various methods: <a href=\"https://www.fermyon.com/wasm-languages/java\" rel=\"nofollow noreferrer\">https://www.fermyon.com/wasm-languages/java</a></p>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30280,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":2,"score":43,"last_activity_date":1698360773,"creation_date":1625554514,"question_id":68265863,"body_markdown":"I wonder can I use Java and compile it to WASM (WebAssembly)?\r\n\r\nThe list https://webassembly.org/getting-started/developers-guide/ has no Java, Kotlin\r\n\r\n---\r\n\r\nGraalVM WASM project https://www.graalvm.org/reference-manual/wasm/ is for running wasm inside JVM, not for running Java projects within WebAssembly.","title":"How to compile Java to WASM (WebAssembly)?","body":"<p>I wonder can I use Java and compile it to WASM (WebAssembly)?</p>\n<p>The list <a href=\"https://webassembly.org/getting-started/developers-guide/\" rel=\"noreferrer\">https://webassembly.org/getting-started/developers-guide/</a> has no Java, Kotlin</p>\n<hr />\n<p>GraalVM WASM project <a href=\"https://www.graalvm.org/reference-manual/wasm/\" rel=\"noreferrer\">https://www.graalvm.org/reference-manual/wasm/</a> is for running wasm inside JVM, not for running Java projects within WebAssembly.</p>\n"},{"tags":["java","sqlite","netbeans"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698358539,"creation_date":1698355680,"answer_id":77370387,"question_id":77370325,"body_markdown":"[JAR][1] files are meant to be unchanging, read-only. The &quot;ar&quot; stands for “archive”.\r\n\r\nYou will write your database file somewhere *outside* the JAR. Every computer platform has specific places where an application should write its supporting files.\r\n\r\nYou can bundle a database within your JAR to be used as a template. At runtime, you would copy that database to a location outside the JAR. After that, let the database engine open the copied database.\r\n\r\nOr, alternatively, you could create a new fresh empty database outside the JAR. Then use a [database migration][2] tool such as [*Flyway*][3] or [*Liquibase*][4] to run a series of SQL scripts. Those scripts would create the needed tables, columns, indexes, etc. And those scripts could create any essential data in those tables, as expected by your app. (I don&#39;t know if those tools support SQLite or not. They support many other database engines.)\r\n\r\n\r\n----------\r\n\r\nBe aware that SQLite is native software. When you bundle a SQLite engine with your app, that can only work on one specific OS &amp; chip architecture. \r\n\r\nIf you want a run-anywhere database engine, you have a few pure Java databases to choose from. These include H2, HSQLDB (HyperSQL), and Derby. (I would recommend [H2][5].)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JAR_(file_format)\r\n  [2]: https://en.wikipedia.org/wiki/Schema_migration\r\n  [3]: https://en.wikipedia.org/wiki/Flyway_(software)\r\n  [4]: https://en.wikipedia.org/wiki/Liquibase\r\n  [5]: https://en.wikipedia.org/wiki/H2_(database)","title":"How can I package a project with a SQLite database?","body":"<p><a href=\"https://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"nofollow noreferrer\">JAR</a> files are meant to be unchanging, read-only. The &quot;ar&quot; stands for “archive”.</p>\n<p>You will write your database file somewhere <em>outside</em> the JAR. Every computer platform has specific places where an application should write its supporting files.</p>\n<p>You can bundle a database within your JAR to be used as a template. At runtime, you would copy that database to a location outside the JAR. After that, let the database engine open the copied database.</p>\n<p>Or, alternatively, you could create a new fresh empty database outside the JAR. Then use a <a href=\"https://en.wikipedia.org/wiki/Schema_migration\" rel=\"nofollow noreferrer\">database migration</a> tool such as <a href=\"https://en.wikipedia.org/wiki/Flyway_(software)\" rel=\"nofollow noreferrer\"><em>Flyway</em></a> or <a href=\"https://en.wikipedia.org/wiki/Liquibase\" rel=\"nofollow noreferrer\"><em>Liquibase</em></a> to run a series of SQL scripts. Those scripts would create the needed tables, columns, indexes, etc. And those scripts could create any essential data in those tables, as expected by your app. (I don't know if those tools support SQLite or not. They support many other database engines.)</p>\n<hr />\n<p>Be aware that SQLite is native software. When you bundle a SQLite engine with your app, that can only work on one specific OS &amp; chip architecture.</p>\n<p>If you want a run-anywhere database engine, you have a few pure Java databases to choose from. These include H2, HSQLDB (HyperSQL), and Derby. (I would recommend <a href=\"https://en.wikipedia.org/wiki/H2_(database)\" rel=\"nofollow noreferrer\">H2</a>.)</p>\n"}],"owner":{"account_id":27530130,"reputation":1,"user_id":21008771,"display_name":"Sandro Urbina Carbajal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1698358539,"creation_date":1698354607,"question_id":77370325,"body_markdown":"I made a desktop project in Netbeans 17, which is a sales system, which has a portable SQLite database. Before packaging the project I make the tests and everything works correctly making connection to the database and the queries that I want, but the problem arises when after cleaning and building the project, I package it in JAR, I run the JAR to see if everything is still working correctly and I have the problem that no longer makes the connection to the database. I don&#39;t know why and how can I solve this problem, any suggestions? I would appreciate it very much.\r\n\r\nI have been investigating possible solutions and one of them is that I should configure my project so that when I am packaging in JAR I also include the file where I have the database. But the steps that I get is not the same that I get in the Netbeans 17 that I have, so I can not find the way to include it, I do not know if it is the solution.","title":"How can I package a project with a SQLite database?","body":"<p>I made a desktop project in Netbeans 17, which is a sales system, which has a portable SQLite database. Before packaging the project I make the tests and everything works correctly making connection to the database and the queries that I want, but the problem arises when after cleaning and building the project, I package it in JAR, I run the JAR to see if everything is still working correctly and I have the problem that no longer makes the connection to the database. I don't know why and how can I solve this problem, any suggestions? I would appreciate it very much.</p>\n<p>I have been investigating possible solutions and one of them is that I should configure my project so that when I am packaging in JAR I also include the file where I have the database. But the steps that I get is not the same that I get in the Netbeans 17 that I have, so I can not find the way to include it, I do not know if it is the solution.</p>\n"},{"tags":["java","arrays","match"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1698249605,"post_id":77361039,"comment_id":136382090,"body_markdown":"You shouldn&#39;t use `contains`, as this could match e.g. `me@notgmail.com` with `gmail.com`.","body":"You shouldn&#39;t use <code>contains</code>, as this could match e.g. <code>me@notgmail.com</code> with <code>gmail.com</code>."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1698249986,"post_id":77361039,"comment_id":136382161,"body_markdown":"you can try with hashsets, they should give you amortized 0(1) instead of for&#39;s O(N)","body":"you can try with hashsets, they should give you amortized 0(1) instead of for&#39;s O(N)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1698250046,"post_id":77361039,"comment_id":136382169,"body_markdown":"Have you considered using hashed lookup? A [HashSet](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashSet.html) is one that does this.","body":"Have you considered using hashed lookup? A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\">HashSet</a> is one that does this."},{"owner":{"account_id":10259286,"reputation":3326,"user_id":19090048,"display_name":"mandy8055"},"score":0,"creation_date":1698250415,"post_id":77361039,"comment_id":136382255,"body_markdown":"@IłyaBursov makes more sense to use HashSet. thanks for the insights","body":"@IłyaBursov makes more sense to use HashSet. thanks for the insights"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1698250424,"post_id":77361039,"comment_id":136382258,"body_markdown":"If you want to &quot;make sure that the email address a client inputs is a business account email&quot;, why don&#39;t you maintain a whitelist of those domains, instead of a blacklist of popular domains?","body":"If you want to &quot;make sure that the email address a client inputs is a business account email&quot;, why don&#39;t you maintain a whitelist of those domains, instead of a blacklist of popular domains?"},{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1698250434,"post_id":77361039,"comment_id":136382261,"body_markdown":"I&#39;d question this approach to begin with. Especially &quot;large companies&quot; may have their own domains. &quot;Popular&quot; freemail services are (most?) oftenly used for private e-mail addresses.","body":"I&#39;d question this approach to begin with. Especially &quot;large companies&quot; may have their own domains. &quot;Popular&quot; freemail services are (most?) oftenly used for private e-mail addresses."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698252210,"post_id":77361039,"comment_id":136382665,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698253566,"post_id":77361039,"comment_id":136382934,"body_markdown":"Are there any statistics to reference, in terms of a _Set_ functioning faster than an array?","body":"Are there any statistics to reference, in terms of a <i>Set</i> functioning faster than an array?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1698254828,"post_id":77361039,"comment_id":136383186,"body_markdown":"@Reilas a HashSet has amortized constant time lookup; a TreeSet has log time lookup; an array has linear time lookup, because you have to check every element in the worst case.","body":"@Reilas a HashSet has amortized constant time lookup; a TreeSet has log time lookup; an array has linear time lookup, because you have to check every element in the worst case."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1698255090,"post_id":77361039,"comment_id":136383234,"body_markdown":"There is a more important question here, which is _how are you going to distribute this list of domains_: that is, by what mechanism do you update it when you inevitably find an important customer&#39;s domain is missing? Do you have to re-release your software? Can it be updated via a web interface etc. That might be a more important choice to make that some optimization over speed of lookup.","body":"There is a more important question here, which is <i>how are you going to distribute this list of domains</i>: that is, by what mechanism do you update it when you inevitably find an important customer&#39;s domain is missing? Do you have to re-release your software? Can it be updated via a web interface etc. That might be a more important choice to make that some optimization over speed of lookup."}],"answers":[{"tags":[],"owner":{"account_id":10259286,"reputation":3326,"user_id":19090048,"display_name":"mandy8055"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1698251699,"creation_date":1698249189,"answer_id":77361085,"question_id":77361039,"body_markdown":"One efficient way which I can think of(provided you&#39;re using `Java 8` or later) is the use of ***[`streams api`](https://www.baeldung.com/java-8-streams)*** which are especially designed to be more efficient for operations on large data sets.\r\n\r\n```java\r\nList&lt;String&gt; domains = ...\r\nString email = &quot;bob@gmail.com&quot;;\r\n\r\nboolean domainMatches = domains.stream()\r\n    .anyMatch(email::contains);\r\n\r\nreturn !domainMatches;\r\n```\r\n\r\nAlso, as pointed out by *@AndyTurner*, you shouldn&#39;t use `contains` because it can match some invalid address(like `bob@gmailcom`). So if you&#39;re looking for another way, you can use equals:\r\n\r\n```java\r\nList&lt;String&gt; domains = ...\r\nString email = &quot;bob@gmail.com&quot;;\r\n\r\nString domain = email.split(&quot;@&quot;)[1];\r\n\r\nboolean domainMatches = domains.stream()\r\n    .anyMatch(domain::equals);\r\n\r\nreturn !domainMatches;\r\n```\r\n\r\n- **[Reference 1](https://dzone.com/articles/java-performance-for-looping-vs-streaming)**\r\n- **[Reference 2](https://www.baeldung.com/java-streams-vs-loops)**\r\n\r\n***EDIT:(Recommended approach)***\r\n\r\nBased on the comments and after brainstorming I came up with yet another way which is more efficient that using `streams` as well and that is using a `HashSet`. Something like:\r\n\r\n```java\r\nList&lt;String&gt; domains = ...\r\nString email = &quot;bob@gmail.com&quot;;\r\n\r\nSet&lt;String&gt; domainSet = new HashSet&lt;&gt;(domains);\r\nString domain = email.split(&quot;@&quot;)[1]; // You can also use indexOf and substring.\r\n\r\nboolean domainMatches = domainSet.contains(domain);\r\n\r\nreturn !domainMatches;\r\n```","title":"Quickest way to check if an email domain is within a list of domains","body":"<p>One efficient way which I can think of(provided you're using <code>Java 8</code> or later) is the use of <em><strong><a href=\"https://www.baeldung.com/java-8-streams\" rel=\"nofollow noreferrer\"><code>streams api</code></a></strong></em> which are especially designed to be more efficient for operations on large data sets.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; domains = ...\nString email = &quot;bob@gmail.com&quot;;\n\nboolean domainMatches = domains.stream()\n    .anyMatch(email::contains);\n\nreturn !domainMatches;\n</code></pre>\n<p>Also, as pointed out by <em>@AndyTurner</em>, you shouldn't use <code>contains</code> because it can match some invalid address(like <code>bob@gmailcom</code>). So if you're looking for another way, you can use equals:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; domains = ...\nString email = &quot;bob@gmail.com&quot;;\n\nString domain = email.split(&quot;@&quot;)[1];\n\nboolean domainMatches = domains.stream()\n    .anyMatch(domain::equals);\n\nreturn !domainMatches;\n</code></pre>\n<ul>\n<li><strong><a href=\"https://dzone.com/articles/java-performance-for-looping-vs-streaming\" rel=\"nofollow noreferrer\">Reference 1</a></strong></li>\n<li><strong><a href=\"https://www.baeldung.com/java-streams-vs-loops\" rel=\"nofollow noreferrer\">Reference 2</a></strong></li>\n</ul>\n<p><em><strong>EDIT:(Recommended approach)</strong></em></p>\n<p>Based on the comments and after brainstorming I came up with yet another way which is more efficient that using <code>streams</code> as well and that is using a <code>HashSet</code>. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; domains = ...\nString email = &quot;bob@gmail.com&quot;;\n\nSet&lt;String&gt; domainSet = new HashSet&lt;&gt;(domains);\nString domain = email.split(&quot;@&quot;)[1]; // You can also use indexOf and substring.\n\nboolean domainMatches = domainSet.contains(domain);\n\nreturn !domainMatches;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1698253839,"creation_date":1698253296,"answer_id":77361556,"question_id":77361039,"body_markdown":"&gt; _&quot;... I would like the quickest way to check that the email has not got one of these domains in Java. ...&quot;_\r\n\r\nThe _fastest_ solution would be a _loop_.\r\n\r\n```java\r\nList&lt;String&gt; domains = ...\r\nString email = &quot;bob@gmail.com&quot;.toLowerCase(),\r\n       s = email.substring(email.indexOf(&#39;@&#39;) + 1);\r\n\r\nBoolean domainsMatch = false;\r\n\r\n//Some code to check the domains against the email\r\n\r\nfor (String domain: domains)\r\n{\r\n    if (domain.endsWith(s)) {\r\n        domainsMatch = true;\r\n        break;\r\n    }\r\n}\r\n\r\nreturn domainsMatch;\r\n```\r\n\r\nAlternately, use a _stream_.\r\n\r\n```java\r\nList&lt;String&gt; domains = ...\r\nString email = &quot;bob@gmail.com&quot;.toLowerCase(),\r\n       s = email.substring(email.indexOf(&#39;@&#39;) + 1);\r\n\r\n//Some code to check the domains against the email\r\n\r\nBoolean noMatch\r\n    = domains.stream()\r\n             .noneMatch(x -&gt; x.toLowerCase().endsWith(s));\r\n```","title":"Quickest way to check if an email domain is within a list of domains","body":"<blockquote>\n<p><em>&quot;... I would like the quickest way to check that the email has not got one of these domains in Java. ...&quot;</em></p>\n</blockquote>\n<p>The <em>fastest</em> solution would be a <em>loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; domains = ...\nString email = &quot;bob@gmail.com&quot;.toLowerCase(),\n       s = email.substring(email.indexOf('@') + 1);\n\nBoolean domainsMatch = false;\n\n//Some code to check the domains against the email\n\nfor (String domain: domains)\n{\n    if (domain.endsWith(s)) {\n        domainsMatch = true;\n        break;\n    }\n}\n\nreturn domainsMatch;\n</code></pre>\n<p>Alternately, use a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; domains = ...\nString email = &quot;bob@gmail.com&quot;.toLowerCase(),\n       s = email.substring(email.indexOf('@') + 1);\n\n//Some code to check the domains against the email\n\nBoolean noMatch\n    = domains.stream()\n             .noneMatch(x -&gt; x.toLowerCase().endsWith(s));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698358538,"creation_date":1698358538,"answer_id":77370565,"question_id":77361039,"body_markdown":"The [jmail library][1] could do this for you.  Rather than using regex to validate emails, it parses the email into [an object][2] and then conducts validation on the parts.  It also allows custom validation.  \r\n\r\nOne of the fields of in `Email.java` is `List&lt;String&gt; domainParts`.  This contains all the parts of the domain split by the period (assuming that it parsed properly, otherwise it will fail other validations).  You can add a custom validator to the `EmailValidator` as follows:\r\n```java\r\npublic class MyEmailValidator {\r\n  public boolean validateEmail(String email) {\r\n    List&lt;String&gt; invalidDomains = List.of(&quot;gmail&quot;, &quot;yahoo&quot;);\r\n    EmailValidator validator = JMail.strictValidator().withRule(validationEmail -&gt; Collections.disjoint(validationEmail.domainParts(), invalidDomains));\r\n    return validator.isValid(email);\r\n    }\r\n}\r\n```\r\n\r\nYou can test this easily enough.\r\n```java\r\n@Test\r\nvoid validateEmail() {\r\n  MyEmailValidator validator = new MyEmailValidator();\r\n  assertTrue(validator.validateEmail(&quot;test@my.company.com&quot;));\r\n  assertFalse(validator.validateEmail(&quot;test@gmail.com&quot;));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/RohanNagar/jmail\r\n  [2]: https://github.com/RohanNagar/jmail/blob/master/src/main/java/com/sanctionco/jmail/Email.java","title":"Quickest way to check if an email domain is within a list of domains","body":"<p>The <a href=\"https://github.com/RohanNagar/jmail\" rel=\"nofollow noreferrer\">jmail library</a> could do this for you.  Rather than using regex to validate emails, it parses the email into <a href=\"https://github.com/RohanNagar/jmail/blob/master/src/main/java/com/sanctionco/jmail/Email.java\" rel=\"nofollow noreferrer\">an object</a> and then conducts validation on the parts.  It also allows custom validation.</p>\n<p>One of the fields of in <code>Email.java</code> is <code>List&lt;String&gt; domainParts</code>.  This contains all the parts of the domain split by the period (assuming that it parsed properly, otherwise it will fail other validations).  You can add a custom validator to the <code>EmailValidator</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyEmailValidator {\n  public boolean validateEmail(String email) {\n    List&lt;String&gt; invalidDomains = List.of(&quot;gmail&quot;, &quot;yahoo&quot;);\n    EmailValidator validator = JMail.strictValidator().withRule(validationEmail -&gt; Collections.disjoint(validationEmail.domainParts(), invalidDomains));\n    return validator.isValid(email);\n    }\n}\n</code></pre>\n<p>You can test this easily enough.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid validateEmail() {\n  MyEmailValidator validator = new MyEmailValidator();\n  assertTrue(validator.validateEmail(&quot;test@my.company.com&quot;));\n  assertFalse(validator.validateEmail(&quot;test@gmail.com&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":11094061,"reputation":13,"user_id":8144883,"display_name":"Lh74vBQrjMJtrYKDUdzK"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77361085,"answer_count":3,"score":0,"last_activity_date":1698358538,"creation_date":1698248848,"question_id":77361039,"body_markdown":"I would like to make sure that the email address a client inputs is a business account email as we only work with large companies who have thier own domains.\r\n\r\nI have a list of the most common email domains from this site: https://email-verify.my-addr.com/list-of-most-popular-email-domains.php\r\n\r\nI would like the quickest way to check that the email has **not** got one of these domains in Java.\r\n\r\n```\r\nList&lt;String&gt; domains = ...\r\nString email = &quot;bob@gmail.com&quot;;\r\n\r\nBoolean domainsMatch = false;\r\n\r\n//Some code to check the domains against the email\r\n\r\nreturn !domainMatches;\r\n```\r\n\r\nI tried the obvious\r\n\r\n```\r\nfor (String domain: domains)\r\n{\r\n  if (email.contains(domain)) domainsMatch = true;\r\n}\r\n```\r\n\r\nI would like to know if there is a faster more efficient way","title":"Quickest way to check if an email domain is within a list of domains","body":"<p>I would like to make sure that the email address a client inputs is a business account email as we only work with large companies who have thier own domains.</p>\n<p>I have a list of the most common email domains from this site: <a href=\"https://email-verify.my-addr.com/list-of-most-popular-email-domains.php\" rel=\"nofollow noreferrer\">https://email-verify.my-addr.com/list-of-most-popular-email-domains.php</a></p>\n<p>I would like the quickest way to check that the email has <strong>not</strong> got one of these domains in Java.</p>\n<pre><code>List&lt;String&gt; domains = ...\nString email = &quot;bob@gmail.com&quot;;\n\nBoolean domainsMatch = false;\n\n//Some code to check the domains against the email\n\nreturn !domainMatches;\n</code></pre>\n<p>I tried the obvious</p>\n<pre><code>for (String domain: domains)\n{\n  if (email.contains(domain)) domainsMatch = true;\n}\n</code></pre>\n<p>I would like to know if there is a faster more efficient way</p>\n"},{"tags":["java","arraylist","do-while"],"comments":[{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":5,"creation_date":1673098683,"post_id":75040739,"comment_id":132423822,"body_markdown":"you dont define classes inside a method. You should move the doctor and patient class to their own java files, or move it outside of yourAandEDepartment","body":"you dont define classes inside a method. You should move the doctor and patient class to their own java files, or move it outside of yourAandEDepartment"},{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1673100165,"post_id":75040739,"comment_id":132424097,"body_markdown":"I agree with @TanYuHauSean that you it would be *better* to declare those classes separately as public classes. But just to clarify, it is NOT impossible to declare classes inside methods, since Java supports [*local classes*](https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html). But such classes have limitations. For instance we can use them only *within* method which declared them, and *after* the ware declared (so list which depends on/uses Doctor class needs to be declared after declaration of Doctor class itself). Example: https://ideone.com/5v9ETW.","body":"I agree with @TanYuHauSean that you it would be <i>better</i> to declare those classes separately as public classes. But just to clarify, it is NOT impossible to declare classes inside methods, since Java supports <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html\" rel=\"nofollow noreferrer\"><i>local classes</i></a>. But such classes have limitations. For instance we can use them only <i>within</i> method which declared them, and <i>after</i> the ware declared (so list which depends on/uses Doctor class needs to be declared after declaration of Doctor class itself). Example: <a href=\"https://ideone.com/5v9ETW\" rel=\"nofollow noreferrer\">ideone.com/5v9ETW</a>."}],"answers":[{"tags":[],"owner":{"account_id":15971718,"reputation":81,"user_id":11525627,"display_name":"Benliam12"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698358290,"creation_date":1673099175,"answer_id":75040806,"question_id":75040739,"body_markdown":"In java, the best practice is to seperate each classes in their own file. You are currently defining `Doctor` and `Patient` within `AandEDepartment` Both of them should be in a different file. Your IDE should automatically import those classes when called in you `main` class.\r\n\r\nAlso, you should not declare classes within a method. Refer to https://www.w3schools.com/java/java_inner_classes.asp if you absolutly want to declare `Doctor` and `Patient` in `AandEDepartment`\r\n\r\nHope this helped","title":"How do I populate an ArrayList with the defined class?","body":"<p>In java, the best practice is to seperate each classes in their own file. You are currently defining <code>Doctor</code> and <code>Patient</code> within <code>AandEDepartment</code> Both of them should be in a different file. Your IDE should automatically import those classes when called in you <code>main</code> class.</p>\n<p>Also, you should not declare classes within a method. Refer to <a href=\"https://www.w3schools.com/java/java_inner_classes.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_inner_classes.asp</a> if you absolutly want to declare <code>Doctor</code> and <code>Patient</code> in <code>AandEDepartment</code></p>\n<p>Hope this helped</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673144985,"creation_date":1673144985,"answer_id":75045151,"question_id":75040739,"body_markdown":"As others commented:\r\n\r\nYour `Doctor` and `Patient` classes are core parts of your business logic. They are likely to be used in various parts of your app. So they should be stored in their own `.java` files rather than nested within another class.\r\n\r\nAlso, if the main purpose of your class is to communicate data transparently and immutably, define your class as a [record][1]. In a record, the compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\nIn a separate `Doctor.java` file:\r\n\r\n```java\r\npackage work.basil.example.hospital;\r\n\r\npublic record Doctor(String name , String specialization ) { }\r\n```\r\n\r\nIn a separate `Patient.java` file:\r\n\r\n```java\r\npackage work.basil.example.hospital;\r\n\r\npublic record Patient(\r\n        int patientID ,\r\n        String patientFirstName ,\r\n        String patientLastName ,\r\n        int patientAge ,\r\n        String condition ,\r\n        double cost\r\n) { }\r\n```\r\n\r\nBy the way, your `Patient` class looks like you are conflating two different entities, the patient (person) versus their treatment. But I will ignore that issue here.\r\n\r\nDefine a class for the department. Again, use a record if and only if the main purpose of the class is to communicate data transparently and immutably. Otherwise rewrite to be a conventional class. \r\n\r\nIn a separate `Department.java` file:\r\n\r\n```java\r\npackage work.basil.example.hospital;\r\n\r\nimport java.util.Set;\r\n\r\npublic record Department( String name , Set &lt; Doctor &gt; doctors ) { }\r\n```\r\n\r\nWrite an app class to populate some data. \r\n\r\nIn a separate `App.java` file:\r\n\r\n```java\r\npackage work.basil.example.hospital;\r\n\r\nimport java.util.Set;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        String deptName = &quot;A&amp;E&quot;;\r\n        Set &lt; Doctor &gt; doctorSet =\r\n                Set.of(\r\n                        new Doctor( &quot;James&quot; , &quot;Cardiovascular&quot; ) ,\r\n                        new Doctor( &quot;Richard&quot; , &quot;Dermatology&quot; ) ,\r\n                        new Doctor( &quot;Peter&quot; , &quot;Orthopedics&quot; )\r\n                );\r\n        Department aAndE = new Department( deptName , doctorSet );\r\n\r\n        System.out.println( &quot;aAndE = &quot; + aAndE );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;aAndE = Department[name=A&amp;E, doctors=[Doctor[name=James, specialization=Cardiovascular], Doctor[name=Peter, specialization=Orthopedics], Doctor[name=Richard, specialization=Dermatology]]]\r\n\r\n\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395","title":"How do I populate an ArrayList with the defined class?","body":"<p>As others commented:</p>\n<p>Your <code>Doctor</code> and <code>Patient</code> classes are core parts of your business logic. They are likely to be used in various parts of your app. So they should be stored in their own <code>.java</code> files rather than nested within another class.</p>\n<p>Also, if the main purpose of your class is to communicate data transparently and immutably, define your class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>. In a record, the compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<p>In a separate <code>Doctor.java</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.hospital;\n\npublic record Doctor(String name , String specialization ) { }\n</code></pre>\n<p>In a separate <code>Patient.java</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.hospital;\n\npublic record Patient(\n        int patientID ,\n        String patientFirstName ,\n        String patientLastName ,\n        int patientAge ,\n        String condition ,\n        double cost\n) { }\n</code></pre>\n<p>By the way, your <code>Patient</code> class looks like you are conflating two different entities, the patient (person) versus their treatment. But I will ignore that issue here.</p>\n<p>Define a class for the department. Again, use a record if and only if the main purpose of the class is to communicate data transparently and immutably. Otherwise rewrite to be a conventional class.</p>\n<p>In a separate <code>Department.java</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.hospital;\n\nimport java.util.Set;\n\npublic record Department( String name , Set &lt; Doctor &gt; doctors ) { }\n</code></pre>\n<p>Write an app class to populate some data.</p>\n<p>In a separate <code>App.java</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.hospital;\n\nimport java.util.Set;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        String deptName = &quot;A&amp;E&quot;;\n        Set &lt; Doctor &gt; doctorSet =\n                Set.of(\n                        new Doctor( &quot;James&quot; , &quot;Cardiovascular&quot; ) ,\n                        new Doctor( &quot;Richard&quot; , &quot;Dermatology&quot; ) ,\n                        new Doctor( &quot;Peter&quot; , &quot;Orthopedics&quot; )\n                );\n        Department aAndE = new Department( deptName , doctorSet );\n\n        System.out.println( &quot;aAndE = &quot; + aAndE );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>aAndE = Department[name=A&amp;E, doctors=[Doctor[name=James, specialization=Cardiovascular], Doctor[name=Peter, specialization=Orthopedics], Doctor[name=Richard, specialization=Dermatology]]]</p>\n</blockquote>\n"}],"owner":{"account_id":27461645,"reputation":1,"user_id":20952100,"display_name":"Nate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1698358290,"creation_date":1673098593,"question_id":75040739,"body_markdown":"I&#39;m a first year CompSci student creating a hospital management system for an assignment. I&#39;ve created an arraylist for patients which the user populates. I&#39;m also creating a pre-defined arraylist for doctors. The issue is that the ArrayList doesn&#39;t recognise the class Doctor defined immediately below it. This also causes problems further down the code where i&#39;m attempting to call the Array to link doctors and patients in a HashMap. \r\n\r\nThe code is below:\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.HashMap;\r\nimport java.util.InputMismatchException;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\nimport java.util.*;\r\n\r\npublic class AandEDepartment {\r\n\r\npublic static void main(String[] args) {\r\n\r\n\tArrayList&lt;Doctor&gt; doctors = new ArrayList&lt;&gt;();\r\n\t\t\tdoctors.add(new Doctor(&quot;James&quot;, &quot;Cardiovascular&quot;));\r\n\t\t\tdoctors.add(new Doctor(&quot;Richard&quot;, &quot;Dermatology&quot;));\r\n\t\t\tdoctors.add(new Doctor(&quot;Peter&quot;, &quot;Orthopedics&quot;));\r\n\r\n\t\tclass Doctor {\r\n\t\t\tString name;\r\n\t\t\tString specialisation;\r\n\t\t\t\r\n\t\t\tpublic Doctor(String name, String specialisation){\r\n\t\t\t\tthis.name = name;\r\n\t\t\t\tthis.specialisation = specialisation;\r\n\t\t\t}\r\n\t\t\t//create getters for each of these variables\r\n\t\t\tpublic String getName() {\r\n\t\t\t\treturn name;\r\n\t\t\t}\r\n\t\t\tpublic String getSpecialisation() {\r\n\t\t\t\treturn specialisation;\r\n\t\t\t}\r\n\t\t\t\r\n\t\tclass Patient {\r\n\t\t\tint patientID;\r\n\t\t\tString patientFirstName;\r\n\t\t\tString patientLastName;\r\n\t\t\tint patientAge;\r\n\t\t\tString condition;\r\n\t\t\tdouble cost;\r\n\t\t\t\r\n\t\t\tpublic Patient (int patientID, String patientFirstName, String patientLastName, int patientAge, String condition, double cost)\r\n```\r\n\r\n\t\t\t\r\n\r\nIs this something to do with having multiple classes (doctor/patient)? I&#39;ve tried redefining &#39;doctor&#39; and &#39;patient&#39; as public, but this creates a different error (illegal modifier). Any ideas?\r\n\r\nThanks.","title":"How do I populate an ArrayList with the defined class?","body":"<p>I'm a first year CompSci student creating a hospital management system for an assignment. I've created an arraylist for patients which the user populates. I'm also creating a pre-defined arraylist for doctors. The issue is that the ArrayList doesn't recognise the class Doctor defined immediately below it. This also causes problems further down the code where i'm attempting to call the Array to link doctors and patients in a HashMap.</p>\n<p>The code is below:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.InputMismatchException;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.*;\n\npublic class AandEDepartment {\n\npublic static void main(String[] args) {\n\n    ArrayList&lt;Doctor&gt; doctors = new ArrayList&lt;&gt;();\n            doctors.add(new Doctor(&quot;James&quot;, &quot;Cardiovascular&quot;));\n            doctors.add(new Doctor(&quot;Richard&quot;, &quot;Dermatology&quot;));\n            doctors.add(new Doctor(&quot;Peter&quot;, &quot;Orthopedics&quot;));\n\n        class Doctor {\n            String name;\n            String specialisation;\n            \n            public Doctor(String name, String specialisation){\n                this.name = name;\n                this.specialisation = specialisation;\n            }\n            //create getters for each of these variables\n            public String getName() {\n                return name;\n            }\n            public String getSpecialisation() {\n                return specialisation;\n            }\n            \n        class Patient {\n            int patientID;\n            String patientFirstName;\n            String patientLastName;\n            int patientAge;\n            String condition;\n            double cost;\n            \n            public Patient (int patientID, String patientFirstName, String patientLastName, int patientAge, String condition, double cost)\n</code></pre>\n<p>Is this something to do with having multiple classes (doctor/patient)? I've tried redefining 'doctor' and 'patient' as public, but this creates a different error (illegal modifier). Any ideas?</p>\n<p>Thanks.</p>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1413780647,"post_id":26458675,"comment_id":41557301,"body_markdown":"If you&#39;re getting a `StackOverflowError`, you almost certainly have runaway recursion somewhere. What happens when you run your tests outside of Maven (e.g., in Eclipse)?","body":"If you&#39;re getting a <code>StackOverflowError</code>, you almost certainly have runaway recursion somewhere. What happens when you run your tests outside of Maven (e.g., in Eclipse)?"},{"owner":{"account_id":4002419,"reputation":73,"user_id":3298100,"accept_rate":43,"display_name":"JavaLover"},"score":0,"creation_date":1413781412,"post_id":26458675,"comment_id":41557456,"body_markdown":"I have tried compiling this through CLI using maven also in Eclipse using maven-compiler-plugin.","body":"I have tried compiling this through CLI using maven also in Eclipse using maven-compiler-plugin."},{"owner":{"account_id":4002419,"reputation":73,"user_id":3298100,"accept_rate":43,"display_name":"JavaLover"},"score":0,"creation_date":1413782184,"post_id":26458675,"comment_id":41557630,"body_markdown":"sorry Chrylis, my wireless keyboard was hard pressed accidentally.","body":"sorry Chrylis, my wireless keyboard was hard pressed accidentally."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1413782233,"post_id":26458675,"comment_id":41557640,"body_markdown":"Will Eclipse compile the code? Did you run Maven with the suggested debug options?","body":"Will Eclipse compile the code? Did you run Maven with the suggested debug options?"},{"owner":{"account_id":2006972,"reputation":43172,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1413787608,"post_id":26458675,"comment_id":41559276,"body_markdown":"A stack overflow in the compiler is strange. It  could be caused by an excessively complex source file. You mentioned a huge string in one of the source files. Try to get that from an external resource instead of hard coding it in the program.","body":"A stack overflow in the compiler is strange. It  could be caused by an excessively complex source file. You mentioned a huge string in one of the source files. Try to get that from an external resource instead of hard coding it in the program."},{"owner":{"account_id":1713214,"reputation":13643,"user_id":1570834,"display_name":"DB5"},"score":1,"creation_date":1413787944,"post_id":26458675,"comment_id":41559409,"body_markdown":"have you tried the -Xss option as detailed in this answer: http://stackoverflow.com/a/4782553/1570834","body":"have you tried the -Xss option as detailed in this answer: <a href=\"http://stackoverflow.com/a/4782553/1570834\">stackoverflow.com/a/4782553/1570834</a>"},{"owner":{"account_id":4011368,"reputation":269,"user_id":3304632,"display_name":"Shakti Garg"},"score":2,"creation_date":1493376982,"post_id":26458675,"comment_id":74402783,"body_markdown":"My issue is resolved by adding &quot;-Xss10m&quot; to MAVEN_OPTS","body":"My issue is resolved by adding &quot;-Xss10m&quot; to MAVEN_OPTS"}],"answers":[{"tags":[],"owner":{"account_id":5822322,"reputation":1,"user_id":4589966,"display_name":"Rodison Ferreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653897691,"creation_date":1653503284,"answer_id":72382584,"question_id":26458675,"body_markdown":"Usually this happens in compile phase.\r\n\r\nIn my case, I solve this kind of problem doing this:\r\n\r\n```\r\nenv MAVEN_OPTS=&quot;-Xmx2g -Xss10m&quot; mvn compiler:compile\r\n```","title":"Maven Compilation Issue: The system is out of resources","body":"<p>Usually this happens in compile phase.</p>\n<p>In my case, I solve this kind of problem doing this:</p>\n<pre><code>env MAVEN_OPTS=&quot;-Xmx2g -Xss10m&quot; mvn compiler:compile\n</code></pre>\n"}],"owner":{"account_id":4002419,"reputation":73,"user_id":3298100,"accept_rate":43,"display_name":"JavaLover"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698357780,"creation_date":1413780041,"question_id":26458675,"body_markdown":"I am aware that there are many who faced the same issue as I have. I am facing difficulty compiling it with the Maven Compiler Plugin using eclipse. I almost tried all the trouble shooting suggested by others. Any help would be great!\r\n\r\n    ERROR DETAILS:\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ WebScraper ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n    [INFO] Compiling 12 source files to E:\\Projects\\Workspace\\Repos\\git\\automateon2.0\\WebScraper\\target\\classes\r\n\r\nThe system is out of resources. Consult the following stack trace for details.\r\n\r\n    java.lang.StackOverflowError\r\n\tat com.sun.tools.javac.comp.Attr.attribTree(Attr.java:418)\r\n\tat com.sun.tools.javac.comp.Attr.attribExpr(Attr.java:460)\r\n\tat com.sun.tools.javac.comp.Attr.visitBinary(Attr.java:2062)\r\n\tat com.sun.tools.javac.tree.JCTree$JCBinary.accept(JCTree.java:1565)\r\n\t\r\nNote: The above 4 lines are repeated 20 + times\r\n\r\n    [ERROR] An unknown compilation problem occurred\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project WebScraper: Compilation failure\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nTroubleshot with the following :\r\n\r\n**1. Tried increasing the memory for the maven plugin&#39;s configuration node in pom.xml**\r\n    \r\n    &lt;argLine&gt; -Xmx512m -XX:MaxPermSize=256m&lt;/argLine&gt; \r\n    MAVEN_OPTS = Xmx512m -XX:MaxPermSize=128m\r\n\r\n**2. Tried setting up and increasing memory for the MAVEN_OPTS env variable** \r\n\r\n    -Xms1024m -Xmx1024m -XX:MaxPermSize=256m\r\n\r\n**System Information:** \r\n\r\nWindows 7 - 64 bit |  Compile Plugin Version: 3.1 |  Kepler 64\r\n\r\n**Nature of my project:** Maven, TestNG project, with few java classes. I am using casperJs framework to scrape the data from the web pages and saving them on spreadsheet. I have used the js code as string in my java classes as I need to pass the Testng parameters. I  am keen on using maven compiler as I have to host this in Jenkins and execute maven commands. I am able to execute if I try to compile with Java with a main method and I am able to execute my project with testng.xml. \r\nex: \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Test\r\n\tpublic static String diceJS(String keyword, String Filepath)\r\n\t{\r\n\t\tString filepath=Filepath.replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n\t\tString str=&quot;var casper=require(&#39;casper&#39;).create();&quot;\r\n\t\t+&quot;\\n&quot;+&quot;var fs = require(&#39;fs&#39;);&quot;\r\n\t\t+&quot;\\n&quot;+&quot;var key=&#39;&quot;+keyword+&quot;&#39;;&quot;\r\n\t\t+&quot;\\n&quot;+&quot;var x=require(&#39;casper&#39;).selectXPath;&quot;\r\n\t::::::::::: THIS IS SAMPLE. THERE IS HUGE STRING THAT I HAVE TO USE ::::::::::: \t\r\n\t}\r\n\r\npom.xml:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WebScraper&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/test/java&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt; \r\n                    &lt;source&gt;1.7&lt;/source&gt; \r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;extraJvmArgs&gt;-Xms768m -Xmx768m&lt;/extraJvmArgs&gt; \r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt; \r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;buildnumber&gt;${build.number}&lt;/buildnumber&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                    &lt;properties&gt;\r\n\r\n                    &lt;/properties&gt;\r\n                &lt;/configuration&gt; \r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-lgpl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.3&lt;/version&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;","title":"Maven Compilation Issue: The system is out of resources","body":"<p>I am aware that there are many who faced the same issue as I have. I am facing difficulty compiling it with the Maven Compiler Plugin using eclipse. I almost tried all the trouble shooting suggested by others. Any help would be great!</p>\n<pre><code>ERROR DETAILS:\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ WebScraper ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[INFO] Compiling 12 source files to E:\\Projects\\Workspace\\Repos\\git\\automateon2.0\\WebScraper\\target\\classes\n</code></pre>\n<p>The system is out of resources. Consult the following stack trace for details.</p>\n<pre><code>java.lang.StackOverflowError\nat com.sun.tools.javac.comp.Attr.attribTree(Attr.java:418)\nat com.sun.tools.javac.comp.Attr.attribExpr(Attr.java:460)\nat com.sun.tools.javac.comp.Attr.visitBinary(Attr.java:2062)\nat com.sun.tools.javac.tree.JCTree$JCBinary.accept(JCTree.java:1565)\n</code></pre>\n<p>Note: The above 4 lines are repeated 20 + times</p>\n<pre><code>[ERROR] An unknown compilation problem occurred\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project WebScraper: Compilation failure\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>Troubleshot with the following :</p>\n<p><strong>1. Tried increasing the memory for the maven plugin's configuration node in pom.xml</strong></p>\n<pre><code>&lt;argLine&gt; -Xmx512m -XX:MaxPermSize=256m&lt;/argLine&gt; \nMAVEN_OPTS = Xmx512m -XX:MaxPermSize=128m\n</code></pre>\n<p><strong>2. Tried setting up and increasing memory for the MAVEN_OPTS env variable</strong></p>\n<pre><code>-Xms1024m -Xmx1024m -XX:MaxPermSize=256m\n</code></pre>\n<p><strong>System Information:</strong></p>\n<p>Windows 7 - 64 bit |  Compile Plugin Version: 3.1 |  Kepler 64</p>\n<p><strong>Nature of my project:</strong> Maven, TestNG project, with few java classes. I am using casperJs framework to scrape the data from the web pages and saving them on spreadsheet. I have used the js code as string in my java classes as I need to pass the Testng parameters. I  am keen on using maven compiler as I have to host this in Jenkins and execute maven commands. I am able to execute if I try to compile with Java with a main method and I am able to execute my project with testng.xml.\nex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic static String diceJS(String keyword, String Filepath)\n{\n    String filepath=Filepath.replace(&quot;\\\\&quot;, &quot;/&quot;);\n    String str=&quot;var casper=require('casper').create();&quot;\n    +&quot;\\n&quot;+&quot;var fs = require('fs');&quot;\n    +&quot;\\n&quot;+&quot;var key='&quot;+keyword+&quot;';&quot;\n    +&quot;\\n&quot;+&quot;var x=require('casper').selectXPath;&quot;\n::::::::::: THIS IS SAMPLE. THERE IS HUGE STRING THAT I HAVE TO USE :::::::::::     \n}\n</code></pre>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n&lt;artifactId&gt;WebScraper&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;build&gt;\n    &lt;sourceDirectory&gt;src/test/java&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt; \n                &lt;source&gt;1.7&lt;/source&gt; \n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;extraJvmArgs&gt;-Xms768m -Xmx768m&lt;/extraJvmArgs&gt; \n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.14&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;suiteXmlFiles&gt;\n                    &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n                &lt;/suiteXmlFiles&gt; \n                &lt;systemPropertyVariables&gt;\n                    &lt;buildnumber&gt;${build.number}&lt;/buildnumber&gt;\n                &lt;/systemPropertyVariables&gt;\n                &lt;properties&gt;\n\n                &lt;/properties&gt;\n            &lt;/configuration&gt; \n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n        &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;10.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-lgpl&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.3&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n"},{"tags":["java","android","xml","kotlin","android-designer"],"owner":{"account_id":19894305,"reputation":1,"user_id":14575677,"display_name":"swarnima asthana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698357604,"creation_date":1698301585,"question_id":77364568,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI&#39;m currently working on an Android project where I&#39;ve implemented a scrolling layout using a CoordinatorLayout. The layout consists of a fixed header, collapsible content, a TabLayout, and a ViewPager containing fragments with RecyclerViews.\r\n\r\nMy objective is to achieve a specific scrolling behavior:\r\n\r\nWhen a user starts scrolling, the content within the CollapsingToolbarLayout should scroll first.\r\nAfter that, I want the TabLayout to remain fixed just below the header.\r\nFinally, the RecyclerView in the fragments should start scrolling.\r\nI&#39;ve managed to set up this behavior, and it works well but not every time. However, I&#39;m encountering an intermittent issue. Occasionally, when I open and close the activity multiple times, a mysterious white space appears below the appbar layout. This space has a height similar to that of the collapsible content.\r\n\r\nI&#39;ve thoroughly reviewed my code and layout setup, but I can&#39;t seem to identify the source of this issue. It&#39;s quite perplexing as it only occurs sporadically.\r\n\r\nHas anyone experienced a similar problem or can provide insights into what might be causing this issue? Your expertise and guidance would be greatly appreciated. \r\n\r\nThank you in advance for your help!\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/parent&quot;&gt;\r\n    &lt;RelativeLayout\r\n    android:id=&quot;@+id/head&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;@dimen/_45sdp&quot;\r\n    android:paddingRight=&quot;@dimen/_7sdp&quot;\r\n    android:background=&quot;@color/bg_light_color&quot;\r\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    &lt;RelativeLayout\r\n    android:id=&quot;@+id/back&quot;\r\n    android:layout_width=&quot;@dimen/_40sdp&quot;\r\n    android:layout_height=&quot;@dimen/_35sdp&quot;\r\n    android:layout_alignParentLeft=&quot;true&quot;\r\n    android:layout_centerVertical=&quot;true&quot;\r\n    android:paddingHorizontal=&quot;@dimen/_10sdp&quot;&gt;\r\n    &lt;ImageView\r\n    android:layout_width=&quot;@dimen/_16sdp&quot;\r\n    android:layout_height=&quot;@dimen/_16sdp&quot;\r\n    android:scaleType=&quot;fitXY&quot;\r\n    android:layout_centerInParent=&quot;true&quot;\r\n    android:src=&quot;@drawable/ic_back&quot;\r\n    app:tint=&quot;@color/black&quot;&gt;&lt;/ImageView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;TextView\r\n    android:id=&quot;@+id/uname&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_centerVertical=&quot;true&quot;\r\n    android:layout_toRightOf=&quot;@+id/back&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_16sdp&quot;\r\n    android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n    &lt;RelativeLayout\r\n    android:id=&quot;@+id/notification&quot;\r\n    android:layout_width=&quot;@dimen/_22sdp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_centerVertical=&quot;true&quot;\r\n    android:layout_marginTop=&quot;@dimen/_4sdp&quot;\r\n    android:layout_marginRight=&quot;@dimen/_4sdp&quot;\r\n    android:layout_toLeftOf=&quot;@+id/menu&quot;&gt;\r\n    &lt;ImageView\r\n    android:layout_width=&quot;@dimen/_21sdp&quot;\r\n    android:layout_height=&quot;@dimen/_31sdp&quot;\r\n    android:layout_centerInParent=&quot;true&quot;\r\n    android:paddingTop=&quot;@dimen/_5sdp&quot;\r\n    android:scaleType=&quot;fitXY&quot;\r\n    android:src=&quot;@drawable/noun_notification_icon1&quot;&gt;&lt;/ImageView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;RelativeLayout\r\n    android:id=&quot;@+id/menu&quot;\r\n    android:layout_width=&quot;@dimen/_19sdp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_alignParentRight=&quot;true&quot;\r\n    android:layout_centerVertical=&quot;true&quot;\r\n    android:layout_marginLeft=&quot;@dimen/_8sdp&quot;\r\n    android:layout_marginRight=&quot;@dimen/_4sdp&quot;\r\n    android:padding=&quot;@dimen/_2sdp&quot;&gt;\r\n    &lt;ImageView\r\n    android:layout_width=&quot;@dimen/_17sdp&quot;\r\n    android:layout_height=&quot;@dimen/_16sdp&quot;\r\n    android:scaleType=&quot;fitXY&quot;\r\n    android:src=&quot;@drawable/ic_dots__2_&quot;&gt;&lt;/ImageView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;RelativeLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_below=&quot;@+id/head&quot;\r\n    android:visibility=&quot;gone&quot;\r\n    android:id=&quot;@+id/main_rl&quot;&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n    android:id=&quot;@+id/appBarLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:nestedScrollingEnabled=&quot;true&quot;\r\n    android:background=&quot;@color/white&quot;&gt;\r\n    &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n    android:id=&quot;@+id/collapsingToolbarLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;&gt;\r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;RelativeLayout\r\n    android:id=&quot;@+id/profile_ll&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:padding=&quot;@dimen/_7sdp&quot;\r\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@+id/head&quot;&gt;\r\n    &lt;de.hdodenhof.circleimageview.CircleImageView\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n     android:id=&quot;@+id/uimg&quot;\r\n    android:layout_width=&quot;@dimen/_64sdp&quot;\r\n    android:layout_height=&quot;@dimen/_64sdp&quot;\r\n    android:layout_alignParentTop=&quot;true&quot;\r\n    android:transitionName=&quot;profileImageTransition&quot;\r\n    android:layout_marginTop=&quot;@dimen/_3sdp&quot;\r\n    android:layout_marginLeft=&quot;@dimen/_6sdp&quot;\r\n    android:src=&quot;@drawable/default_user&quot; /&gt;\r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_centerVertical=&quot;true&quot;\r\n    android:layout_marginLeft=&quot;@dimen/_85sdp&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;TextView\r\n    android:id=&quot;@+id/name&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_16sdp&quot;\r\n    android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n    &lt;TextView\r\n    android:id=&quot;@id/bio&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_10sdp&quot;&gt;&lt;/TextView&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginLeft=&quot;@dimen/_85sdp&quot;\r\n    android:paddingRight=&quot;@dimen/_7sdp&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:weightSum=&quot;2&quot;&gt;\r\n    &lt;RelativeLayout\r\n    android:id=&quot;@+id/follow&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;@dimen/_25sdp&quot;\r\n    android:layout_weight=&quot;1&quot;\r\n    android:layout_marginRight=&quot;@dimen/_4sdp&quot;\r\n    android:background=&quot;@drawable/rounded_btton_grey&quot;\r\n    android:backgroundTint=&quot;@color/icon_orange&quot;&gt;\r\n    &lt;TextView\r\n    android:id=&quot;@+id/follow_tv&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_centerInParent=&quot;true&quot;\r\n    android:text=&quot;Follow&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_12sdp&quot;&gt;&lt;/TextView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;RelativeLayout\r\n    android:id=&quot;@+id/message&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;@dimen/_25sdp&quot;\r\n    android:layout_weight=&quot;1&quot;\r\n    android:layout_marginLeft=&quot;@dimen/_2sdp&quot;\r\n    android:background=&quot;@drawable/rounded_outline_grey&quot;\r\n    android:backgroundTint=&quot;@color/lightblack&quot;&gt;\r\n    &lt;TextView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_centerInParent=&quot;true&quot;\r\n    android:text=&quot;Message&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_12sdp&quot;&gt;&lt;/TextView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:padding=&quot;@dimen/_8sdp&quot;\r\n    android:weightSum=&quot;3&quot;\r\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_weight=&quot;0.8&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;TextView\r\n    android:id=&quot;@+id/post_tv&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;0&quot;\r\n    android:fontFamily=&quot;@font/robotobold&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_20sdp&quot;&gt;&lt;/TextView&gt;\r\n    &lt;TextView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginTop=&quot;@dimen/_2sdp&quot;\r\n    android:text=&quot;Posts&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_11sdp&quot;&gt;&lt;/TextView&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_weight=&quot;1.4&quot;\r\n    android:id=&quot;@+id/follower&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;TextView\r\n    android:id=&quot;@+id/follower_tv&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;0&quot;\r\n    android:fontFamily=&quot;@font/robotobold&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_20sdp&quot;&gt;&lt;/TextView&gt;\r\n    &lt;TextView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginTop=&quot;@dimen/_2sdp&quot;\r\n    android:text=&quot;Followers&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_11sdp&quot;&gt;&lt;/TextView&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_weight=&quot;0.8&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:id=&quot;@+id/following&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;TextView\r\n    android:id=&quot;@+id/following_tv&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;0&quot;\r\n    android:fontFamily=&quot;@font/robotobold&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_20sdp&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;TextView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginTop=&quot;@dimen/_2sdp&quot;\r\n    android:text=&quot;Following&quot;\r\n    android:textColor=&quot;@color/lightblack&quot;\r\n    android:textSize=&quot;@dimen/_11sdp&quot;&gt;&lt;/TextView&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n    android:id=&quot;@+id/tab&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;@dimen/_40sdp&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    app:tabIconTint=&quot;@drawable/iconcolor_selector&quot;\r\n    app:tabIndicatorColor=&quot;@color/icon_orange&quot;\r\n    app:tabSelectedTextColor=&quot;@color/heading_color&quot;\r\n    app:tabTextAppearance=&quot;@style/MineCustomTabText&quot;\r\n    app:tabTextColor=&quot;@color/grey&quot; /&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n    &lt;androidx.viewpager.widget.ViewPager\r\n    android:id=&quot;@+id/pager&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;com.facebook.shimmer.ShimmerFrameLayout\r\n    android:id=&quot;@+id/shimmer_view_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_marginTop=&quot;@dimen/_50sdp&quot;\r\n    android:layout_gravity=&quot;center&quot;\r\n    app:shimmer_duration=&quot;1000&quot;\r\n    app:shimmer_highlight_alpha=&quot;0.5&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;include layout=&quot;@layout/profile_placeholder&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/com.facebook.shimmer.ShimmerFrameLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VlOX3.jpg","title":"space below collapsing toolbar layout content on scrolling in side Coordinator Layout","body":"<p><a href=\"https://i.stack.imgur.com/VlOX3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VlOX3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I'm currently working on an Android project where I've implemented a scrolling layout using a CoordinatorLayout. The layout consists of a fixed header, collapsible content, a TabLayout, and a ViewPager containing fragments with RecyclerViews.</p>\n<p>My objective is to achieve a specific scrolling behavior:</p>\n<p>When a user starts scrolling, the content within the CollapsingToolbarLayout should scroll first.\nAfter that, I want the TabLayout to remain fixed just below the header.\nFinally, the RecyclerView in the fragments should start scrolling.\nI've managed to set up this behavior, and it works well but not every time. However, I'm encountering an intermittent issue. Occasionally, when I open and close the activity multiple times, a mysterious white space appears below the appbar layout. This space has a height similar to that of the collapsible content.</p>\n<p>I've thoroughly reviewed my code and layout setup, but I can't seem to identify the source of this issue. It's quite perplexing as it only occurs sporadically.</p>\n<p>Has anyone experienced a similar problem or can provide insights into what might be causing this issue? Your expertise and guidance would be greatly appreciated.</p>\n<p>Thank you in advance for your help!</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:id=&quot;@+id/parent&quot;&gt;\n&lt;RelativeLayout\nandroid:id=&quot;@+id/head&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;@dimen/_45sdp&quot;\nandroid:paddingRight=&quot;@dimen/_7sdp&quot;\nandroid:background=&quot;@color/bg_light_color&quot;\napp:layout_constraintLeft_toLeftOf=&quot;parent&quot;\napp:layout_constraintRight_toRightOf=&quot;parent&quot;\napp:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n&lt;RelativeLayout\nandroid:id=&quot;@+id/back&quot;\nandroid:layout_width=&quot;@dimen/_40sdp&quot;\nandroid:layout_height=&quot;@dimen/_35sdp&quot;\nandroid:layout_alignParentLeft=&quot;true&quot;\nandroid:layout_centerVertical=&quot;true&quot;\nandroid:paddingHorizontal=&quot;@dimen/_10sdp&quot;&gt;\n&lt;ImageView\nandroid:layout_width=&quot;@dimen/_16sdp&quot;\nandroid:layout_height=&quot;@dimen/_16sdp&quot;\nandroid:scaleType=&quot;fitXY&quot;\nandroid:layout_centerInParent=&quot;true&quot;\nandroid:src=&quot;@drawable/ic_back&quot;\napp:tint=&quot;@color/black&quot;&gt;&lt;/ImageView&gt;\n&lt;/RelativeLayout&gt;\n&lt;TextView\nandroid:id=&quot;@+id/uname&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_centerVertical=&quot;true&quot;\nandroid:layout_toRightOf=&quot;@+id/back&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_16sdp&quot;\nandroid:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n&lt;RelativeLayout\nandroid:id=&quot;@+id/notification&quot;\nandroid:layout_width=&quot;@dimen/_22sdp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_centerVertical=&quot;true&quot;\nandroid:layout_marginTop=&quot;@dimen/_4sdp&quot;\nandroid:layout_marginRight=&quot;@dimen/_4sdp&quot;\nandroid:layout_toLeftOf=&quot;@+id/menu&quot;&gt;\n&lt;ImageView\nandroid:layout_width=&quot;@dimen/_21sdp&quot;\nandroid:layout_height=&quot;@dimen/_31sdp&quot;\nandroid:layout_centerInParent=&quot;true&quot;\nandroid:paddingTop=&quot;@dimen/_5sdp&quot;\nandroid:scaleType=&quot;fitXY&quot;\nandroid:src=&quot;@drawable/noun_notification_icon1&quot;&gt;&lt;/ImageView&gt;\n&lt;/RelativeLayout&gt;\n&lt;RelativeLayout\nandroid:id=&quot;@+id/menu&quot;\nandroid:layout_width=&quot;@dimen/_19sdp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_alignParentRight=&quot;true&quot;\nandroid:layout_centerVertical=&quot;true&quot;\nandroid:layout_marginLeft=&quot;@dimen/_8sdp&quot;\nandroid:layout_marginRight=&quot;@dimen/_4sdp&quot;\nandroid:padding=&quot;@dimen/_2sdp&quot;&gt;\n&lt;ImageView\nandroid:layout_width=&quot;@dimen/_17sdp&quot;\nandroid:layout_height=&quot;@dimen/_16sdp&quot;\nandroid:scaleType=&quot;fitXY&quot;\nandroid:src=&quot;@drawable/ic_dots__2_&quot;&gt;&lt;/ImageView&gt;\n&lt;/RelativeLayout&gt;\n&lt;/RelativeLayout&gt;\n&lt;RelativeLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_below=&quot;@+id/head&quot;\nandroid:visibility=&quot;gone&quot;\nandroid:id=&quot;@+id/main_rl&quot;&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n&lt;com.google.android.material.appbar.AppBarLayout\nandroid:id=&quot;@+id/appBarLayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:nestedScrollingEnabled=&quot;true&quot;\nandroid:background=&quot;@color/white&quot;&gt;\n&lt;com.google.android.material.appbar.CollapsingToolbarLayout\nandroid:id=&quot;@+id/collapsingToolbarLayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\napp:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;&gt;\n&lt;LinearLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n&lt;RelativeLayout\nandroid:id=&quot;@+id/profile_ll&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:padding=&quot;@dimen/_7sdp&quot;\napp:layout_constraintLeft_toLeftOf=&quot;parent&quot;\napp:layout_constraintRight_toRightOf=&quot;parent&quot;\napp:layout_constraintTop_toBottomOf=&quot;@+id/head&quot;&gt;\n&lt;de.hdodenhof.circleimageview.CircleImageView\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n android:id=&quot;@+id/uimg&quot;\nandroid:layout_width=&quot;@dimen/_64sdp&quot;\nandroid:layout_height=&quot;@dimen/_64sdp&quot;\nandroid:layout_alignParentTop=&quot;true&quot;\nandroid:transitionName=&quot;profileImageTransition&quot;\nandroid:layout_marginTop=&quot;@dimen/_3sdp&quot;\nandroid:layout_marginLeft=&quot;@dimen/_6sdp&quot;\nandroid:src=&quot;@drawable/default_user&quot; /&gt;\n&lt;LinearLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_centerVertical=&quot;true&quot;\nandroid:layout_marginLeft=&quot;@dimen/_85sdp&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n&lt;TextView\nandroid:id=&quot;@+id/name&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:text=&quot;&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_16sdp&quot;\nandroid:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n&lt;TextView\nandroid:id=&quot;@id/bio&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:text=&quot;&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_10sdp&quot;&gt;&lt;/TextView&gt;\n&lt;/LinearLayout&gt;\n&lt;/RelativeLayout&gt;\n&lt;LinearLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_marginLeft=&quot;@dimen/_85sdp&quot;\nandroid:paddingRight=&quot;@dimen/_7sdp&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:weightSum=&quot;2&quot;&gt;\n&lt;RelativeLayout\nandroid:id=&quot;@+id/follow&quot;\nandroid:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;@dimen/_25sdp&quot;\nandroid:layout_weight=&quot;1&quot;\nandroid:layout_marginRight=&quot;@dimen/_4sdp&quot;\nandroid:background=&quot;@drawable/rounded_btton_grey&quot;\nandroid:backgroundTint=&quot;@color/icon_orange&quot;&gt;\n&lt;TextView\nandroid:id=&quot;@+id/follow_tv&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_centerInParent=&quot;true&quot;\nandroid:text=&quot;Follow&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_12sdp&quot;&gt;&lt;/TextView&gt;\n&lt;/RelativeLayout&gt;\n&lt;RelativeLayout\nandroid:id=&quot;@+id/message&quot;\nandroid:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;@dimen/_25sdp&quot;\nandroid:layout_weight=&quot;1&quot;\nandroid:layout_marginLeft=&quot;@dimen/_2sdp&quot;\nandroid:background=&quot;@drawable/rounded_outline_grey&quot;\nandroid:backgroundTint=&quot;@color/lightblack&quot;&gt;\n&lt;TextView\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_centerInParent=&quot;true&quot;\nandroid:text=&quot;Message&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_12sdp&quot;&gt;&lt;/TextView&gt;\n&lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n&lt;LinearLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:padding=&quot;@dimen/_8sdp&quot;\nandroid:weightSum=&quot;3&quot;\napp:layout_constraintLeft_toLeftOf=&quot;parent&quot;\napp:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\n&lt;LinearLayout\nandroid:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_weight=&quot;0.8&quot;\nandroid:gravity=&quot;center&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n&lt;TextView\nandroid:id=&quot;@+id/post_tv&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:text=&quot;0&quot;\nandroid:fontFamily=&quot;@font/robotobold&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_20sdp&quot;&gt;&lt;/TextView&gt;\n&lt;TextView\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_marginTop=&quot;@dimen/_2sdp&quot;\nandroid:text=&quot;Posts&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_11sdp&quot;&gt;&lt;/TextView&gt;\n&lt;/LinearLayout&gt;\n&lt;LinearLayout\nandroid:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_weight=&quot;1.4&quot;\nandroid:id=&quot;@+id/follower&quot;\nandroid:gravity=&quot;center&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n&lt;TextView\nandroid:id=&quot;@+id/follower_tv&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:text=&quot;0&quot;\nandroid:fontFamily=&quot;@font/robotobold&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_20sdp&quot;&gt;&lt;/TextView&gt;\n&lt;TextView\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_marginTop=&quot;@dimen/_2sdp&quot;\nandroid:text=&quot;Followers&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_11sdp&quot;&gt;&lt;/TextView&gt;\n&lt;/LinearLayout&gt;\n&lt;LinearLayout\nandroid:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_weight=&quot;0.8&quot;\nandroid:gravity=&quot;center&quot;\nandroid:id=&quot;@+id/following&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n&lt;TextView\nandroid:id=&quot;@+id/following_tv&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:text=&quot;0&quot;\nandroid:fontFamily=&quot;@font/robotobold&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_20sdp&quot;&gt;&lt;/TextView&gt;\n\n&lt;TextView\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_marginTop=&quot;@dimen/_2sdp&quot;\nandroid:text=&quot;Following&quot;\nandroid:textColor=&quot;@color/lightblack&quot;\nandroid:textSize=&quot;@dimen/_11sdp&quot;&gt;&lt;/TextView&gt;\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n&lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n&lt;com.google.android.material.tabs.TabLayout\nandroid:id=&quot;@+id/tab&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;@dimen/_40sdp&quot;\nandroid:background=&quot;@color/white&quot;\napp:tabIconTint=&quot;@drawable/iconcolor_selector&quot;\napp:tabIndicatorColor=&quot;@color/icon_orange&quot;\napp:tabSelectedTextColor=&quot;@color/heading_color&quot;\napp:tabTextAppearance=&quot;@style/MineCustomTabText&quot;\napp:tabTextColor=&quot;@color/grey&quot; /&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n&lt;LinearLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;vertical&quot;\napp:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n&lt;androidx.viewpager.widget.ViewPager\nandroid:id=&quot;@+id/pager&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n&lt;/RelativeLayout&gt;\n&lt;com.facebook.shimmer.ShimmerFrameLayout\nandroid:id=&quot;@+id/shimmer_view_container&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_marginTop=&quot;@dimen/_50sdp&quot;\nandroid:layout_gravity=&quot;center&quot;\napp:shimmer_duration=&quot;1000&quot;\napp:shimmer_highlight_alpha=&quot;0.5&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n&lt;LinearLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n&lt;include layout=&quot;@layout/profile_placeholder&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/com.facebook.shimmer.ShimmerFrameLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26999005,"reputation":16,"user_id":20560583,"display_name":"DIVAKAR SARAGADAM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698357470,"creation_date":1698300960,"answer_id":77364514,"question_id":77364409,"body_markdown":"```\r\n@PostMapping\r\npublic ResponseEntity&lt;Reimbursement&gt; createReimbursement(@RequestBody Employee employee) {\r\n      \r\n    var data = reimbursementService.createReimbursement(employee);\r\n    return new ResponseEntity&lt;&gt;(data, HttpStatus.CREATED);\r\n}\r\n\r\n@Override\r\npublic Employee createReimbursement(Employee employee) {\r\n    Set&lt;Reimbursement&gt; list = employee.getReimbursements();\r\n    reimbursementRepository.save(employee);\r\n    Iterator&lt;Reimbursement&gt; reimbursement= list.iterator();\r\n    while(reimbursement.hasNext()) {\r\n        reimbursement.setEmpeloyee(employee);\r\n        reimbursementRepository.save(reimbursement);\r\n    }\r\n    return employee;\r\n}\r\n```\r\n\r\nIn post method you should give base Entity Using base entity you will get all relational entity values .First you should save base entity later you set employee object Reimbursement for every object later you will save it will work.","title":"Post Request to Spring Entity with a Foreign key","body":"<pre><code>@PostMapping\npublic ResponseEntity&lt;Reimbursement&gt; createReimbursement(@RequestBody Employee employee) {\n      \n    var data = reimbursementService.createReimbursement(employee);\n    return new ResponseEntity&lt;&gt;(data, HttpStatus.CREATED);\n}\n\n@Override\npublic Employee createReimbursement(Employee employee) {\n    Set&lt;Reimbursement&gt; list = employee.getReimbursements();\n    reimbursementRepository.save(employee);\n    Iterator&lt;Reimbursement&gt; reimbursement= list.iterator();\n    while(reimbursement.hasNext()) {\n        reimbursement.setEmpeloyee(employee);\n        reimbursementRepository.save(reimbursement);\n    }\n    return employee;\n}\n</code></pre>\n<p>In post method you should give base Entity Using base entity you will get all relational entity values .First you should save base entity later you set employee object Reimbursement for every object later you will save it will work.</p>\n"}],"owner":{"account_id":29756537,"reputation":3,"user_id":22805080,"display_name":"sharpes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77364514,"answer_count":1,"score":0,"last_activity_date":1698357470,"creation_date":1698299587,"question_id":77364409,"body_markdown":"I have two tables **employee** and **reimbursement** with a OneToMany relation.  \r\nPassing a post request to reimbursement gives me the error `&quot;Column &#39;emp_id&#39; cannot be null`&quot; _(emp_id is the foreign key)_\r\n\r\nMy Entities are:  \r\n**Employee:**\r\n```\r\n@Entity\r\n@Table(name = &quot;employee&quot;)\r\npublic class Employee {\r\n    @Id\r\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;emp_id&quot;)\r\n    private long empId;\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\r\n    private String email;\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n    @Column(name = &quot;manager&quot;, nullable = false)\r\n    @Value(&quot;false&quot;)\r\n    private boolean manager;\r\n\r\n    @OneToMany(mappedBy = &quot;employee&quot;,\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.EAGER,\r\n            orphanRemoval = true\r\n    )\r\n    @JsonManagedReference\r\n    private Set&lt;Reimbursement&gt; reimbursements = new HashSet&lt;&gt;();\r\n\r\n    public long getEmpId() {\r\n        return empId;\r\n    }\r\n\r\n    public void setEmpId(long empId) {\r\n        this.empId = empId;\r\n    }\r\n\r\n    // (...) other getters and setters\r\n\r\n    public Set&lt;Reimbursement&gt; getReimbursements() {\r\n        return reimbursements;\r\n    }\r\n\r\n    public void setReimbursements(Set&lt;Reimbursement&gt; reimbursements) {\r\n        this.reimbursements = reimbursements;\r\n    }\r\n}\r\n```\r\n**Reimbursement:**\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(\r\n        name = &quot;reimbursements&quot;\r\n)\r\npublic class Reimbursement {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(name = &quot;description&quot;, nullable = false)\r\n    private String description;\r\n    @Column(name = &quot;amount&quot;, nullable = false)\r\n    private double amount;\r\n    @Column(name = &quot;status&quot;, nullable = false)\r\n    @Value(&quot;false&quot;)\r\n    private boolean status; //whether the expense has been reimbursed\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;emp_id&quot;, nullable = false, updatable = false)\r\n    @JsonBackReference\r\n    private Employee employee;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    //(...) other getters and setters\r\n\r\n    public Employee getEmployee() {\r\n        return employee;\r\n    }\r\n\r\n    public void setEmployee(Employee employee) {\r\n        this.employee = employee;\r\n    }\r\n\r\n}\r\n\r\n```\r\n**Post Controller:**\r\n\r\n```\r\n    @PostMapping\r\n    public ResponseEntity&lt;Reimbursement&gt; createReimbursement(@RequestBody Reimbursement reimbursement) {\r\n        var data = reimbursementService.createReimbursement(reimbursement);\r\n        return new ResponseEntity&lt;&gt;(data, HttpStatus.CREATED);\r\n    }\r\n```\r\n**Service:**\r\n\r\n```\r\n    @Override\r\n    public Reimbursement createReimbursement(Reimbursement reimbursement) {\r\n        return reimbursementRepository.save(reimbursement);\r\n    }\r\n```\r\n\r\n\r\n\r\nI tried passing this JSON as a POST request (employee with id 1 already exists in the employee table)\r\n\r\n```\r\n{\r\n  &quot;employee&quot;: {\r\n    &quot;emp_id&quot;: &quot;1&quot;\r\n  },\r\n  &quot;description&quot;: &quot;example&quot;,\r\n  &quot;amount&quot;: &quot;123&quot;,\r\n  &quot;status&quot;: &quot;false&quot;\r\n}\r\n```\r\n\r\nI am new to Spring Boot. Does anyone know what I did wrong?","title":"Post Request to Spring Entity with a Foreign key","body":"<p>I have two tables <strong>employee</strong> and <strong>reimbursement</strong> with a OneToMany relation.<br />\nPassing a post request to reimbursement gives me the error <code>&quot;Column 'emp_id' cannot be null</code>&quot; <em>(emp_id is the foreign key)</em></p>\n<p>My Entities are:<br />\n<strong>Employee:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;emp_id&quot;)\n    private long empId;\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\n    private String email;\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n    @Column(name = &quot;manager&quot;, nullable = false)\n    @Value(&quot;false&quot;)\n    private boolean manager;\n\n    @OneToMany(mappedBy = &quot;employee&quot;,\n            cascade = CascadeType.ALL,\n            fetch = FetchType.EAGER,\n            orphanRemoval = true\n    )\n    @JsonManagedReference\n    private Set&lt;Reimbursement&gt; reimbursements = new HashSet&lt;&gt;();\n\n    public long getEmpId() {\n        return empId;\n    }\n\n    public void setEmpId(long empId) {\n        this.empId = empId;\n    }\n\n    // (...) other getters and setters\n\n    public Set&lt;Reimbursement&gt; getReimbursements() {\n        return reimbursements;\n    }\n\n    public void setReimbursements(Set&lt;Reimbursement&gt; reimbursements) {\n        this.reimbursements = reimbursements;\n    }\n}\n</code></pre>\n<p><strong>Reimbursement:</strong></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(\n        name = &quot;reimbursements&quot;\n)\npublic class Reimbursement {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;description&quot;, nullable = false)\n    private String description;\n    @Column(name = &quot;amount&quot;, nullable = false)\n    private double amount;\n    @Column(name = &quot;status&quot;, nullable = false)\n    @Value(&quot;false&quot;)\n    private boolean status; //whether the expense has been reimbursed\n\n    @ManyToOne\n    @JoinColumn(name = &quot;emp_id&quot;, nullable = false, updatable = false)\n    @JsonBackReference\n    private Employee employee;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    //(...) other getters and setters\n\n    public Employee getEmployee() {\n        return employee;\n    }\n\n    public void setEmployee(Employee employee) {\n        this.employee = employee;\n    }\n\n}\n\n</code></pre>\n<p><strong>Post Controller:</strong></p>\n<pre><code>    @PostMapping\n    public ResponseEntity&lt;Reimbursement&gt; createReimbursement(@RequestBody Reimbursement reimbursement) {\n        var data = reimbursementService.createReimbursement(reimbursement);\n        return new ResponseEntity&lt;&gt;(data, HttpStatus.CREATED);\n    }\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>    @Override\n    public Reimbursement createReimbursement(Reimbursement reimbursement) {\n        return reimbursementRepository.save(reimbursement);\n    }\n</code></pre>\n<p>I tried passing this JSON as a POST request (employee with id 1 already exists in the employee table)</p>\n<pre><code>{\n  &quot;employee&quot;: {\n    &quot;emp_id&quot;: &quot;1&quot;\n  },\n  &quot;description&quot;: &quot;example&quot;,\n  &quot;amount&quot;: &quot;123&quot;,\n  &quot;status&quot;: &quot;false&quot;\n}\n</code></pre>\n<p>I am new to Spring Boot. Does anyone know what I did wrong?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":5,"creation_date":1698275272,"post_id":77363210,"comment_id":136386185,"body_markdown":"I would say you already have your design, you just need to implement a custom deserializer for it https://www.baeldung.com/jackson-deserialization","body":"I would say you already have your design, you just need to implement a custom deserializer for it <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-deserialization</a>"},{"owner":{"account_id":40378,"reputation":2323,"user_id":117000,"accept_rate":94,"display_name":"Val"},"score":1,"creation_date":1698278056,"post_id":77363210,"comment_id":136386397,"body_markdown":"&quot;just&quot; ;-) -- thanks @JorgeCampos, this looks a bit complex but it&#39;s nicely encapsulated and looks like it will work (I can do anything I want in the deserializer, just need to exercise my imagination). If you write this as an answer I&#39;ll accept it. Thanks for the link -- it&#39;s a great article, clear as possible, and builds things up logically.","body":"&quot;just&quot; ;-) -- thanks @JorgeCampos, this looks a bit complex but it&#39;s nicely encapsulated and looks like it will work (I can do anything I want in the deserializer, just need to exercise my imagination). If you write this as an answer I&#39;ll accept it. Thanks for the link -- it&#39;s a great article, clear as possible, and builds things up logically."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1698278075,"post_id":77363210,"comment_id":136386400,"body_markdown":"The simple approach is to deserialize `entity` to a `Map&lt;String, Object&gt;` then work with that. A custom deserializer would be more elegant though. Another option is to change the schema to put &quot;unknowns&quot; under an inner element, say `properties` whose type is `Map&lt;String, Object&gt;`, then you don&#39;t have to do anything special.","body":"The simple approach is to deserialize <code>entity</code> to a <code>Map&lt;String, Object&gt;</code> then work with that. A custom deserializer would be more elegant though. Another option is to change the schema to put &quot;unknowns&quot; under an inner element, say <code>properties</code> whose type is <code>Map&lt;String, Object&gt;</code>, then you don&#39;t have to do anything special."},{"owner":{"account_id":40378,"reputation":2323,"user_id":117000,"accept_rate":94,"display_name":"Val"},"score":0,"creation_date":1698278317,"post_id":77363210,"comment_id":136386413,"body_markdown":"@Bohemian yes, that&#39;s my fallback approach, but I won&#39;t get the required fields  automatically, I&#39;ll have to find and bind them like all the rest. I&#39;m looking for a way to automatically bind the known fields and only do introspection on the optional ones. A custom deserializer looks like a fair bit of work but will do what I want. Now to see if it&#39;s worth the effort...","body":"@Bohemian yes, that&#39;s my fallback approach, but I won&#39;t get the required fields  automatically, I&#39;ll have to find and bind them like all the rest. I&#39;m looking for a way to automatically bind the known fields and only do introspection on the optional ones. A custom deserializer looks like a fair bit of work but will do what I want. Now to see if it&#39;s worth the effort..."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1698340045,"post_id":77363210,"comment_id":136396255,"body_markdown":"I&#39;ve added an answer for you, also added a bit of code for you to use as reference. Hope it helps you achieve your objective.","body":"I&#39;ve added an answer for you, also added a bit of code for you to use as reference. Hope it helps you achieve your objective."}],"answers":[{"tags":[],"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698284025,"creation_date":1698284025,"answer_id":77363656,"question_id":77363210,"body_markdown":"Your design is already ready. What you need is a custom Deserializer for it. As linked on the comments here is a good article [Custom Deserialization](https://www.baeldung.com/jackson-deserialization#on-mapper)\r\n\r\nTranslating that article into a piece of code it would be something like (**note** this might not be workable, use as reference as I did not test it):\r\n\r\n```\r\npublic class MessageDeserializer extends StdDeserializer&lt;Message&gt; {\r\n\r\n    public MessageDeserializer() {\r\n        super(Message.class);\r\n    }\r\n\r\n    @Override\r\n    public Message deserialize(JsonParser jp, DeserializationContext ctxt) {\r\n        try {\r\n            JsonNode node = jp.getCodec().readTree(jp);\r\n            Message message = new Message();\r\n\r\n            // your known fields\r\n            message.setAppId(node.get(&quot;appId&quot;).asText());\r\n            message.setAction(node.get(&quot;action&quot;).asText());\r\n            // .... other fields\r\n\r\n            Entity entity = new Entity();\r\n            entity.setMarketId(node.get(&quot;entity&quot;).get(&quot;marketId&quot;).asText());\r\n            entity.setPropertyId(node.get(&quot;entity&quot;).get(&quot;propertyId&quot;).asText());\r\n            // .... other fields\r\n\r\n            Map&lt;String, Object&gt; otherFields = new HashMap&lt;&gt;();\r\n            JsonNode entityNode = node.get(&quot;entity&quot;);\r\n            final List&lt;String&gt; knownEntityFields = List.of(&quot;marketId&quot;, &quot;propertyId&quot; /*, others here*/);\r\n            entityNode.fields().forEachRemaining(entry -&gt; {\r\n                String fieldName = entry.getKey();\r\n                if ( knownEntityFields.stream().noneMatch(fieldName) ) {\r\n                    otherFields.put(fieldName, entry.getValue());\r\n                }\r\n            });\r\n            entity.setOtherFields(otherFields);\r\n\r\n            message.setEntity(entity);\r\n            return message;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou can even make it better by using reflection (some might disagree :) )","title":"How to design a Java class containing a map of known and unknown key-value pairs?","body":"<p>Your design is already ready. What you need is a custom Deserializer for it. As linked on the comments here is a good article <a href=\"https://www.baeldung.com/jackson-deserialization#on-mapper\" rel=\"nofollow noreferrer\">Custom Deserialization</a></p>\n<p>Translating that article into a piece of code it would be something like (<strong>note</strong> this might not be workable, use as reference as I did not test it):</p>\n<pre><code>public class MessageDeserializer extends StdDeserializer&lt;Message&gt; {\n\n    public MessageDeserializer() {\n        super(Message.class);\n    }\n\n    @Override\n    public Message deserialize(JsonParser jp, DeserializationContext ctxt) {\n        try {\n            JsonNode node = jp.getCodec().readTree(jp);\n            Message message = new Message();\n\n            // your known fields\n            message.setAppId(node.get(&quot;appId&quot;).asText());\n            message.setAction(node.get(&quot;action&quot;).asText());\n            // .... other fields\n\n            Entity entity = new Entity();\n            entity.setMarketId(node.get(&quot;entity&quot;).get(&quot;marketId&quot;).asText());\n            entity.setPropertyId(node.get(&quot;entity&quot;).get(&quot;propertyId&quot;).asText());\n            // .... other fields\n\n            Map&lt;String, Object&gt; otherFields = new HashMap&lt;&gt;();\n            JsonNode entityNode = node.get(&quot;entity&quot;);\n            final List&lt;String&gt; knownEntityFields = List.of(&quot;marketId&quot;, &quot;propertyId&quot; /*, others here*/);\n            entityNode.fields().forEachRemaining(entry -&gt; {\n                String fieldName = entry.getKey();\n                if ( knownEntityFields.stream().noneMatch(fieldName) ) {\n                    otherFields.put(fieldName, entry.getValue());\n                }\n            });\n            entity.setOtherFields(otherFields);\n\n            message.setEntity(entity);\n            return message;\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>You can even make it better by using reflection (some might disagree :) )</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698356484,"creation_date":1698284859,"answer_id":77363684,"question_id":77363210,"body_markdown":"&gt; _&quot;... But how do I deal with the optional fields in the message? They&#39;re flat siblings of the ID and name fields, not a nested map ...&quot;_\r\n\r\nIf the field names are dynamic, just use a _[Map](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html)_.\r\n\r\nHere is an example using _[Gson](https://en.wikipedia.org/wiki/Gson)_.\r\n\r\n```java\r\nclass Entity {\r\n    public String marketId;\r\n    public String propertyId;\r\n    public String name;\r\n    Map&lt;String, Object&gt; m;\r\n}\r\n```\r\n\r\n```java\r\nString s\r\n    = &#39;{&#39;\r\n    + &quot;    \\&quot;appId\\&quot;: \\&quot;MyApp\\&quot;,&quot;\r\n    + &quot;    \\&quot;action\\&quot;: \\&quot;Upsert\\&quot;,&quot;\r\n    + &quot;    \\&quot;entityType\\&quot;: \\&quot;Property\\&quot;,&quot;\r\n    + &quot;    \\&quot;entity\\&quot;: {&quot;\r\n    + &quot;        \\&quot;marketId\\&quot;:   \\&quot;abc123\\&quot;,&quot;\r\n    + &quot;        \\&quot;propertyId\\&quot;: \\&quot;def456\\&quot;,&quot;\r\n    + &quot;        \\&quot;name\\&quot;:       \\&quot;Grand Central Station\\&quot;,&quot;\r\n    + &quot;        \\&quot;hasFoo\\&quot;:     true,&quot;\r\n    + &quot;        \\&quot;hasBar\\&quot;:     false,&quot;\r\n    + &quot;        \\&quot;areaInSf\\&quot;:   30000&quot;\r\n    + &quot;    }&quot;\r\n    + &#39;}&#39;;\r\nGson g = new Gson();\r\nJsonElement e = g.fromJson(s, JsonElement.class);\r\nMessage m = g.fromJson(e, Message.class);\r\ne = e.getAsJsonObject().get(&quot;entity&quot;);\r\nm.entity.m = g.&lt;Map&lt;String, Object&gt;&gt;fromJson(e, Map.class);\r\nm.entity.m.remove(&quot;marketId&quot;);\r\nm.entity.m.remove(&quot;propertyId&quot;);\r\nm.entity.m.remove(&quot;name&quot;);\r\n```","title":"How to design a Java class containing a map of known and unknown key-value pairs?","body":"<blockquote>\n<p><em>&quot;... But how do I deal with the optional fields in the message? They're flat siblings of the ID and name fields, not a nested map ...&quot;</em></p>\n</blockquote>\n<p>If the field names are dynamic, just use a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em>.</p>\n<p>Here is an example using <em><a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Entity {\n    public String marketId;\n    public String propertyId;\n    public String name;\n    Map&lt;String, Object&gt; m;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s\n    = '{'\n    + &quot;    \\&quot;appId\\&quot;: \\&quot;MyApp\\&quot;,&quot;\n    + &quot;    \\&quot;action\\&quot;: \\&quot;Upsert\\&quot;,&quot;\n    + &quot;    \\&quot;entityType\\&quot;: \\&quot;Property\\&quot;,&quot;\n    + &quot;    \\&quot;entity\\&quot;: {&quot;\n    + &quot;        \\&quot;marketId\\&quot;:   \\&quot;abc123\\&quot;,&quot;\n    + &quot;        \\&quot;propertyId\\&quot;: \\&quot;def456\\&quot;,&quot;\n    + &quot;        \\&quot;name\\&quot;:       \\&quot;Grand Central Station\\&quot;,&quot;\n    + &quot;        \\&quot;hasFoo\\&quot;:     true,&quot;\n    + &quot;        \\&quot;hasBar\\&quot;:     false,&quot;\n    + &quot;        \\&quot;areaInSf\\&quot;:   30000&quot;\n    + &quot;    }&quot;\n    + '}';\nGson g = new Gson();\nJsonElement e = g.fromJson(s, JsonElement.class);\nMessage m = g.fromJson(e, Message.class);\ne = e.getAsJsonObject().get(&quot;entity&quot;);\nm.entity.m = g.&lt;Map&lt;String, Object&gt;&gt;fromJson(e, Map.class);\nm.entity.m.remove(&quot;marketId&quot;);\nm.entity.m.remove(&quot;propertyId&quot;);\nm.entity.m.remove(&quot;name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698357146,"creation_date":1698357146,"answer_id":77370480,"question_id":77363210,"body_markdown":"This will work without deserializer kung fu:\r\n\r\n\r\n```\r\npublic class Entity extends HashMap&lt;String, Object&gt; {\r\n    public String getMarketId() {\r\n        return get(&quot;marketId&quot;);\r\n    }\r\n    public String getPropertyId() {\r\n        return get(&quot;propertyId&quot;);\r\n    }\r\n    public String getName() {\r\n        return get(&quot;name&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe rest of the attributes can be found in `keySet()` or `entrySet()` etc.\r\n","title":"How to design a Java class containing a map of known and unknown key-value pairs?","body":"<p>This will work without deserializer kung fu:</p>\n<pre><code>public class Entity extends HashMap&lt;String, Object&gt; {\n    public String getMarketId() {\n        return get(&quot;marketId&quot;);\n    }\n    public String getPropertyId() {\n        return get(&quot;propertyId&quot;);\n    }\n    public String getName() {\n        return get(&quot;name&quot;);\n    }\n}\n</code></pre>\n<p>The rest of the attributes can be found in <code>keySet()</code> or <code>entrySet()</code> etc.</p>\n"}],"owner":{"account_id":40378,"reputation":2323,"user_id":117000,"accept_rate":94,"display_name":"Val"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77363656,"answer_count":3,"score":2,"last_activity_date":1698357146,"creation_date":1698272945,"question_id":77363210,"body_markdown":"I&#39;m trying to design a Java class to hold the results of deserializing a message in JSON format. The message has a simple structure:\r\n\r\n```\r\n{\r\n    &quot;appId&quot;: &quot;MyApp&quot;,\r\n    &quot;action&quot;: &quot;Upsert&quot;,\r\n    &quot;entityType&quot;: &quot;Property&quot;,\r\n    &quot;entity&quot;: {\r\n        &quot;marketId&quot;:   &quot;abc123&quot;,\r\n        &quot;propertyId&quot;: &quot;def456&quot;,\r\n        &quot;name&quot;:       &quot;Grand Central Station&quot;,\r\n        &quot;hasFoo&quot;:     true,\r\n        &quot;hasBar&quot;:     false,\r\n        &quot;areaInSf&quot;:   30,000\r\n        ... more key-value pairs...\r\n    }\r\n}\r\n```\r\n\r\nIn the `entity`, the ID and name fields are required and their names are known. There may be an arbitrary number of other properties I also want to deserialize -- they&#39;re optional and I don&#39;t know all the names ahead of time. \r\n\r\nIf I only deal with the known fields I can create a Java model like\r\n```\r\npublic class Message {\r\n    public String appId;\r\n    public String action;\r\n    public String entityType;\r\n    public Entity entity;\r\n}\r\n\r\npublic class Entity {\r\n    public String marketId;\r\n    public String propertyId;\r\n    public String name;\r\n}\r\n```\r\n\r\nand deserialize the JSON using Jackson like:\r\n```\r\nObjectMapper om = new ObjectMapper();\r\nMessage myMessage = om.readValue(myJsonString, Message.class);\r\n```\r\n\r\nBut how do I deal with the optional fields in the message? They&#39;re flat siblings of the ID and name fields, not a nested map, so I can&#39;t do \r\n\r\n```\r\npublic class Entity {\r\n    public String marketId;\r\n    public String propertyId;\r\n    public String name;\r\n    public Map&lt;String, Object&gt; otherFields;  // hasFoo, hasBar, areaInSf ...\r\n}\r\n```\r\n\r\nI prefer a strongly typed `Entity`, so I can validate aspects of the required fields -- min length of ID, etc. Otherwise, `Entity` could just be a `Map&lt;String, Object&gt;`. To get at the fields I&#39;d just loop over the Map&#39;s properties. But I want to be able to extract the required fields by name, and only loop over the remainder if possible. \r\n\r\nHow do I design the Entity POJO so that I can deserialize both the fields declared in the class definition, plus some extra fields found in the input JSON?\r\n\r\n","title":"How to design a Java class containing a map of known and unknown key-value pairs?","body":"<p>I'm trying to design a Java class to hold the results of deserializing a message in JSON format. The message has a simple structure:</p>\n<pre><code>{\n    &quot;appId&quot;: &quot;MyApp&quot;,\n    &quot;action&quot;: &quot;Upsert&quot;,\n    &quot;entityType&quot;: &quot;Property&quot;,\n    &quot;entity&quot;: {\n        &quot;marketId&quot;:   &quot;abc123&quot;,\n        &quot;propertyId&quot;: &quot;def456&quot;,\n        &quot;name&quot;:       &quot;Grand Central Station&quot;,\n        &quot;hasFoo&quot;:     true,\n        &quot;hasBar&quot;:     false,\n        &quot;areaInSf&quot;:   30,000\n        ... more key-value pairs...\n    }\n}\n</code></pre>\n<p>In the <code>entity</code>, the ID and name fields are required and their names are known. There may be an arbitrary number of other properties I also want to deserialize -- they're optional and I don't know all the names ahead of time.</p>\n<p>If I only deal with the known fields I can create a Java model like</p>\n<pre><code>public class Message {\n    public String appId;\n    public String action;\n    public String entityType;\n    public Entity entity;\n}\n\npublic class Entity {\n    public String marketId;\n    public String propertyId;\n    public String name;\n}\n</code></pre>\n<p>and deserialize the JSON using Jackson like:</p>\n<pre><code>ObjectMapper om = new ObjectMapper();\nMessage myMessage = om.readValue(myJsonString, Message.class);\n</code></pre>\n<p>But how do I deal with the optional fields in the message? They're flat siblings of the ID and name fields, not a nested map, so I can't do</p>\n<pre><code>public class Entity {\n    public String marketId;\n    public String propertyId;\n    public String name;\n    public Map&lt;String, Object&gt; otherFields;  // hasFoo, hasBar, areaInSf ...\n}\n</code></pre>\n<p>I prefer a strongly typed <code>Entity</code>, so I can validate aspects of the required fields -- min length of ID, etc. Otherwise, <code>Entity</code> could just be a <code>Map&lt;String, Object&gt;</code>. To get at the fields I'd just loop over the Map's properties. But I want to be able to extract the required fields by name, and only loop over the remainder if possible.</p>\n<p>How do I design the Entity POJO so that I can deserialize both the fields declared in the class definition, plus some extra fields found in the input JSON?</p>\n"},{"tags":["java","spring-boot","jms"],"owner":{"account_id":11219909,"reputation":1,"user_id":8231376,"display_name":"C&#201;SAR SANTOS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698355175,"creation_date":1698353310,"question_id":77370220,"body_markdown":"I&#39;m creating a Listener with Java 17, driver IBM MQ Jakarta.client version 9.3.3.0, Spring Boot 3. \r\nI would like to know if anyone has experienced this. I receive a message that I cannot deal with, and I would like the client to remove it from the queue.\r\n```\r\nCaused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSCMQ1049: The character set &#39;1252(windows-1252) Unmappable Action: REPORT, Unmappable Replacement: 63, spaceByte: 32&#39; cannot convert some or all of the string &#39;[B@42c3bd63&#39;            \r\n```\r\nI updated version driver MQ and my expectation that this message finally it is consumed.","title":"Error JMSCMQ1049 in JMS message received in listener - IBM MQ","body":"<p>I'm creating a Listener with Java 17, driver IBM MQ Jakarta.client version 9.3.3.0, Spring Boot 3.\nI would like to know if anyone has experienced this. I receive a message that I cannot deal with, and I would like the client to remove it from the queue.</p>\n<pre><code>Caused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSCMQ1049: The character set '1252(windows-1252) Unmappable Action: REPORT, Unmappable Replacement: 63, spaceByte: 32' cannot convert some or all of the string '[B@42c3bd63'            \n</code></pre>\n<p>I updated version driver MQ and my expectation that this message finally it is consumed.</p>\n"},{"tags":["java","android","spring","gradle","intellij-idea"],"comments":[{"owner":{"account_id":162305,"reputation":2555,"user_id":383676,"accept_rate":67,"display_name":"fejd"},"score":1,"creation_date":1600379161,"post_id":57425561,"comment_id":113077923,"body_markdown":"I had a similar issue with everything in build.gradle being greyed out, however the settings.gradle file looked fine. My issue was that the project wasn&#39;t included in settings.gradle, and once I included it everything got resolved. In this case however it seems like settings.gradle is greyed out as well.","body":"I had a similar issue with everything in build.gradle being greyed out, however the settings.gradle file looked fine. My issue was that the project wasn&#39;t included in settings.gradle, and once I included it everything got resolved. In this case however it seems like settings.gradle is greyed out as well."},{"owner":{"account_id":1323993,"reputation":161,"user_id":1269234,"display_name":"Rod"},"score":0,"creation_date":1621959659,"post_id":57425561,"comment_id":119649513,"body_markdown":"Probably an IntelliJ hiccup. I had the same issue just deleted all IntelliJ files and reimported the project and it worked fine.","body":"Probably an IntelliJ hiccup. I had the same issue just deleted all IntelliJ files and reimported the project and it worked fine."}],"answers":[{"tags":[],"owner":{"account_id":12381428,"reputation":809,"user_id":9026870,"display_name":"Oleh Tatsiun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644997261,"creation_date":1643022579,"answer_id":70832889,"question_id":57425561,"body_markdown":"You need to click &quot;Reload All Gradle projects&quot; button\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t12Gl.png","title":"Why is every item in build.gradle gray?","body":"<p>You need to click &quot;Reload All Gradle projects&quot; button</p>\n<p><a href=\"https://i.stack.imgur.com/t12Gl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t12Gl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696523211,"creation_date":1696523211,"answer_id":77238977,"question_id":57425561,"body_markdown":"Did you make the project correctly with Gradle? If not, delete the folder from where you saved it ( if you did git or something similar to pull it in ) and make sure that the folder name matches the same in the settings.gradle file. Re-import the project and opening it in IntelliJ should work","title":"Why is every item in build.gradle gray?","body":"<p>Did you make the project correctly with Gradle? If not, delete the folder from where you saved it ( if you did git or something similar to pull it in ) and make sure that the folder name matches the same in the settings.gradle file. Re-import the project and opening it in IntelliJ should work</p>\n"},{"tags":[],"owner":{"account_id":25583936,"reputation":76,"user_id":19361968,"display_name":"Murat K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698354689,"creation_date":1698354689,"answer_id":77370331,"question_id":57425561,"body_markdown":"I had the same issue and solved it. The problem was, gradle was in the wrong directory and could not download dependencies.\r\n\r\n - If you download the spring boot project, it comes as zip. \r\n - If you unzip it you have two nested folders: **myApplication** &gt; myApplication &gt; src, gradle etc.\r\n - Remove the first **myApplication**. Your project structure should be like myApplication &gt; src, gradle etc.\r\n - Then right click on &quot;src&quot; and Mark Directory as -&gt; Source Root\r\n - Go to build.gradle and build the project. You should be able to see gradle on the right sidebar of Intellij.\r\n\r\n","title":"Why is every item in build.gradle gray?","body":"<p>I had the same issue and solved it. The problem was, gradle was in the wrong directory and could not download dependencies.</p>\n<ul>\n<li>If you download the spring boot project, it comes as zip.</li>\n<li>If you unzip it you have two nested folders: <strong>myApplication</strong> &gt; myApplication &gt; src, gradle etc.</li>\n<li>Remove the first <strong>myApplication</strong>. Your project structure should be like myApplication &gt; src, gradle etc.</li>\n<li>Then right click on &quot;src&quot; and Mark Directory as -&gt; Source Root</li>\n<li>Go to build.gradle and build the project. You should be able to see gradle on the right sidebar of Intellij.</li>\n</ul>\n"}],"owner":{"account_id":13707340,"reputation":111,"user_id":9890551,"display_name":"zacader"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1911,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1698354689,"creation_date":1565336641,"question_id":57425561,"body_markdown":"I&#39;m creating a new spring boot project with gradle in intellij idea. After the project is created, each item in the build.gradle and settings.gradle are found to be gray.\r\nThe picture is below, you can see the grayed out part and the underline on the picture.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIntelliJ IDEA 2019.2 x64 (Ultimate Edition)\r\nJava8\r\ngradle wrapper version gradle-5.4.1-bin\r\nspring boot version 2.1.7.RELEASE\r\nwindows10 17763\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.1.7.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    configurations {\r\n        developmentOnly\r\n        runtimeClasspath {\r\n            extendsFrom developmentOnly\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        maven { url &#39;https://maven.aliyun.com/repository/public/&#39; }\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\nThe project is working properly and there is no error\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zm93x.png","title":"Why is every item in build.gradle gray?","body":"<p>I'm creating a new spring boot project with gradle in intellij idea. After the project is created, each item in the build.gradle and settings.gradle are found to be gray.\nThe picture is below, you can see the grayed out part and the underline on the picture.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zm93x.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zm93x.png\" alt=\"enter image description here\"></a></p>\n\n<p>IntelliJ IDEA 2019.2 x64 (Ultimate Edition)\nJava8\ngradle wrapper version gradle-5.4.1-bin\nspring boot version 2.1.7.RELEASE\nwindows10 17763</p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.7.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nconfigurations {\n    developmentOnly\n    runtimeClasspath {\n        extendsFrom developmentOnly\n    }\n}\n\nrepositories {\n    maven { url 'https://maven.aliyun.com/repository/public/' }\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n\n<p>The project is working properly and there is no error</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698354128,"creation_date":1698354128,"question_id":77370288,"body_markdown":"I&#39;m looking for a way to execute/queue multiple spark sql jobs simultaneously in Java. I understand there are `collect` and `collectAsync` functions for `JavaRDD` objects, but there appears to only be a `collectAsList` function on the `DataSet` class.\r\n\r\nIs the expected approach that if you want to do a `collectAsync` that you need to convert your `DataSet` to a `JavaRDD`, or am I missing something?\r\n\r\nNote, I am fairly new to spark, so maybe the transformation I described is trivial, but the approach I am looking for is one that limits the number spark jobs I am required to execute on my data set.","title":"Spark - how to `collectAsync` with `DataSet`","body":"<p>I'm looking for a way to execute/queue multiple spark sql jobs simultaneously in Java. I understand there are <code>collect</code> and <code>collectAsync</code> functions for <code>JavaRDD</code> objects, but there appears to only be a <code>collectAsList</code> function on the <code>DataSet</code> class.</p>\n<p>Is the expected approach that if you want to do a <code>collectAsync</code> that you need to convert your <code>DataSet</code> to a <code>JavaRDD</code>, or am I missing something?</p>\n<p>Note, I am fairly new to spark, so maybe the transformation I described is trivial, but the approach I am looking for is one that limits the number spark jobs I am required to execute on my data set.</p>\n"},{"tags":["java","module","java-17","java-module"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1698246391,"post_id":77360378,"comment_id":136381496,"body_markdown":"How did you run this program?  Did the command-line include `--add-modules=java.se`?","body":"How did you run this program?  Did the command-line include <code>--add-modules=java.se</code>?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":3,"creation_date":1698247633,"post_id":77360378,"comment_id":136381758,"body_markdown":"I tried with JShell, and with the module explicitly added it does show up in the end result. Perhaps the reason is because `java.se` is only a container module - it&#39;s created to easily be able to include all the Java SE modules.","body":"I tried with JShell, and with the module explicitly added it does show up in the end result. Perhaps the reason is because <code>java.se</code> is only a container module - it&#39;s created to easily be able to include all the Java SE modules."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1698251852,"post_id":77360378,"comment_id":136382585,"body_markdown":"[This thread](https://stackoverflow.com/questions/62341158/why-is-add-modules-necessary-for-modules-which-are-on-the-module-path) and its references shall help you relate.","body":"<a href=\"https://stackoverflow.com/questions/62341158/why-is-add-modules-necessary-for-modules-which-are-on-the-module-path\">This thread</a> and its references shall help you relate."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698254050,"creation_date":1698254050,"answer_id":77361627,"question_id":77360378,"body_markdown":"I’m assuming that you are running your code as part of a non-modular (classpath) application, as otherwise the module’s `requires` directive(s) would control which modules are present.\r\n\r\nThe policy for such applications has changed with Java&#160;11. In previous versions, the `java.se` module was used as root module for non-modular applications if it existed.\r\n\r\n[`java.lang.module` documentation of Java&#160;10][10]:\r\n\r\n&gt; The set of root modules at compile-time is usually the set of modules being compiled. At run-time, the set of root modules is usually the application module specified to the &#39;java&#39; launcher. When compiling code in the unnamed module, or at run-time when the main application class is loaded from the class path, then the default set of root modules is implementation specific (*In the JDK implementation it is the module &quot;java.se&quot;, if observable, and every observable module that exports an API*).\r\n\r\n[`java.lang.module` documentation of Java&#160;11][11]:\r\n\r\n&gt; The set of root modules at compile-time is usually the set of modules being compiled. At run-time, the set of root modules is usually the application module specified to the &#39;java&#39; launcher. When compiling code in the unnamed module, or at run-time when the main application class is loaded from the class path, then the default set of root modules is implementation specific. In the JDK the default set of root modules contains *every module that is observable on the upgrade module path or among the system modules, and that exports at least one package without qualification*.\r\n\r\n&lt;sup&gt;(Emphasis added by me in either citation)&lt;/sup&gt;\r\n\r\nThis new policy excludes `java.se` itself because it does not “export[s] at least one package”.\r\n\r\nCompare with [JDK-8205169]:\r\n\r\n&gt; This [old] policy is problematic when creating a run-time image that contains `java.se` and also contains a java.* module that is not in Java SE but exports an API, e.g. `java.json`. When compiling or running non-modular code, a developer needs to specify `--add-modules` to ensure that the non-Java SE java.* modules in the run-time image are resolved.\r\n&gt; \r\n&gt; A second point is that the original policy was created to ensure that the `java.corba` and Java EE modules (that existed in Java SE 9 and 10) were not resolved by default. These modules are proposed to be dropped from Java SE 11 so this aspect of the policy is no longer relevant.\r\n\r\n&gt; Change the policy so that the default set of root modules is simply all observable modules on the upgrade module path or among the system modules that exports at least one package, without qualification.\r\n\r\n\r\n[10]: https://docs.oracle.com/javase/10/docs/api/java/lang/module/package-summary.html#:~:text=the%20readability%20graph.-,Root%20modules,-The%20set%20of\r\n[11]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/module/package-summary.html#:~:text=the%20readability%20graph.-,Root%20modules,-The%20set%20of\r\n[JDK-8205169]: https://bugs.openjdk.org/browse/JDK-8205169","title":"Why java.se module isn&#39;t loaded?","body":"<p>I’m assuming that you are running your code as part of a non-modular (classpath) application, as otherwise the module’s <code>requires</code> directive(s) would control which modules are present.</p>\n<p>The policy for such applications has changed with Java 11. In previous versions, the <code>java.se</code> module was used as root module for non-modular applications if it existed.</p>\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/module/package-summary.html#:%7E:text=the%20readability%20graph.-,Root%20modules,-The%20set%20of\" rel=\"nofollow noreferrer\"><code>java.lang.module</code> documentation of Java 10</a>:</p>\n<blockquote>\n<p>The set of root modules at compile-time is usually the set of modules being compiled. At run-time, the set of root modules is usually the application module specified to the 'java' launcher. When compiling code in the unnamed module, or at run-time when the main application class is loaded from the class path, then the default set of root modules is implementation specific (<em>In the JDK implementation it is the module &quot;java.se&quot;, if observable, and every observable module that exports an API</em>).</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/module/package-summary.html#:%7E:text=the%20readability%20graph.-,Root%20modules,-The%20set%20of\" rel=\"nofollow noreferrer\"><code>java.lang.module</code> documentation of Java 11</a>:</p>\n<blockquote>\n<p>The set of root modules at compile-time is usually the set of modules being compiled. At run-time, the set of root modules is usually the application module specified to the 'java' launcher. When compiling code in the unnamed module, or at run-time when the main application class is loaded from the class path, then the default set of root modules is implementation specific. In the JDK the default set of root modules contains <em>every module that is observable on the upgrade module path or among the system modules, and that exports at least one package without qualification</em>.</p>\n</blockquote>\n<p><sup>(Emphasis added by me in either citation)</sup></p>\n<p>This new policy excludes <code>java.se</code> itself because it does not “export[s] at least one package”.</p>\n<p>Compare with <a href=\"https://bugs.openjdk.org/browse/JDK-8205169\" rel=\"nofollow noreferrer\">JDK-8205169</a>:</p>\n<blockquote>\n<p>This [old] policy is problematic when creating a run-time image that contains <code>java.se</code> and also contains a java.* module that is not in Java SE but exports an API, e.g. <code>java.json</code>. When compiling or running non-modular code, a developer needs to specify <code>--add-modules</code> to ensure that the non-Java SE java.* modules in the run-time image are resolved.</p>\n<p>A second point is that the original policy was created to ensure that the <code>java.corba</code> and Java EE modules (that existed in Java SE 9 and 10) were not resolved by default. These modules are proposed to be dropped from Java SE 11 so this aspect of the policy is no longer relevant.</p>\n</blockquote>\n<blockquote>\n<p>Change the policy so that the default set of root modules is simply all observable modules on the upgrade module path or among the system modules that exports at least one package, without qualification.</p>\n</blockquote>\n"}],"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77361627,"answer_count":1,"score":2,"last_activity_date":1698353467,"creation_date":1698243929,"question_id":77360378,"body_markdown":"I use Java 17 and I am trying to load all Java SE modules (**not** JDK).\r\n\r\nThe code I try:\r\n\r\n```java\r\nAtomicInteger y = new AtomicInteger();\r\nModuleLayer.boot().modules().stream()\r\n        .map(Module::getName)\r\n        .sorted()\r\n        .filter(x -&gt; x.startsWith(&quot;ja&quot;) &amp;&amp; !x.equals(&quot;java.smartcardio&quot;))\r\n        .forEach(x -&gt; System.out.println(&quot;#&quot; + y.incrementAndGet() + &quot; | &quot; + x));\r\n```\r\nThe predicates inside the `filter` help me keep _only_ the Java SE modules (which `java.se` belongs in as we see here: https://docs.oracle.com/en/java/javase/17/docs/api/index.html). But even If I remove them, the module is not returned.\r\n\r\nI see the `java.se` module in the filesystem (inside `lib/src.zip/...` and `legal/java.se`). It even exists in the ExternalLibraries of my IDE (Intellij):\r\n\r\n[![enter image description here](https://i.stack.imgur.com/oiGdt.png)](https://i.stack.imgur.com/oiGdt.png)\r\n\r\nThe output of the code:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/EqSTi.png)](https://i.stack.imgur.com/EqSTi.png)","title":"Why java.se module isn&#39;t loaded?","body":"<p>I use Java 17 and I am trying to load all Java SE modules (<strong>not</strong> JDK).</p>\n<p>The code I try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicInteger y = new AtomicInteger();\nModuleLayer.boot().modules().stream()\n        .map(Module::getName)\n        .sorted()\n        .filter(x -&gt; x.startsWith(&quot;ja&quot;) &amp;&amp; !x.equals(&quot;java.smartcardio&quot;))\n        .forEach(x -&gt; System.out.println(&quot;#&quot; + y.incrementAndGet() + &quot; | &quot; + x));\n</code></pre>\n<p>The predicates inside the <code>filter</code> help me keep <em>only</em> the Java SE modules (which <code>java.se</code> belongs in as we see here: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/index.html</a>). But even If I remove them, the module is not returned.</p>\n<p>I see the <code>java.se</code> module in the filesystem (inside <code>lib/src.zip/...</code> and <code>legal/java.se</code>). It even exists in the ExternalLibraries of my IDE (Intellij):</p>\n<p><a href=\"https://i.stack.imgur.com/oiGdt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oiGdt.png\" alt=\"enter image description here\" /></a></p>\n<p>The output of the code:</p>\n<p><a href=\"https://i.stack.imgur.com/EqSTi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EqSTi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","automation","rest-assured","pojo"],"owner":{"account_id":13744424,"reputation":13,"user_id":9918582,"display_name":"Immy110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698353053,"creation_date":1693155482,"question_id":76988108,"body_markdown":"I am trying to do one Rest Assured API E2E flow on an E-commerce web site which includes Logging in, adding a product and then creating an order for that product, however I am unable to execute the last step of actually creating an order for that specific product - It complains of &#39;Wrong Product Id&quot;.\r\n\r\nThis is the code of my main class\r\n\r\n```java\r\nimport io.restassured.builder.RequestSpecBuilder;\r\nimport io.restassured.http.ContentType;\r\nimport io.restassured.path.json.JsonPath;\r\nimport io.restassured.specification.RequestSpecification;\r\nimport pojo.EcommerceLoginRequest;\r\nimport pojo.EcommerceLoginResponse;\r\nimport pojo.EcommerceOrderDetail;\r\nimport pojo.EcommerceOrders;\r\n\r\nimport static io.restassured.RestAssured.given;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n\r\npublic class ECommerceAPITest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\r\n\t//Login\r\n\t\t\r\n\t RequestSpecification req = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;).setContentType(ContentType.JSON).build();\r\n\t \r\n\t EcommerceLoginRequest loginRequest = new EcommerceLoginRequest();\r\n\t loginRequest.setUserEmail(&quot;imtiyaz_@hotmail.co.uk&quot;);\r\n\t loginRequest.setUserPassword(&quot;786Immy110.1&quot;);\r\n\t \r\n\t \r\n\tRequestSpecification reqLogin = given().log().all().spec(req).body(loginRequest); \r\n\tEcommerceLoginResponse loginResponse = reqLogin.when().post(&quot;/api/ecom/auth/login&quot;).then().log().all().extract().response().as(EcommerceLoginResponse.class);\r\n\t \r\n\t\r\n\t\r\n\tSystem.out.println(loginResponse.getToken());\r\n\tString token = loginResponse.getToken();\r\n\tSystem.out.println(loginResponse.getuserId());\r\n\tString userId = loginResponse.getuserId();\r\n\t\r\n\t\r\n\t//Add Product\r\n\r\n\tRequestSpecification addProductBaseReq = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;)\r\n\t.addHeader(&quot;authorization&quot;, token)\r\n\t.build();\r\n\t\r\n\tRequestSpecification reqAddProduct = given().log().all().spec(addProductBaseReq).param(&quot;productName&quot;, &quot;screenshot&quot;)\r\n\t.param(&quot;productAddedBy&quot;, userId).param(&quot;productCategory&quot;, &quot;fashion&quot;)\r\n\t.param(&quot;productSubCategory&quot;, &quot;shirts&quot;).param(&quot;productPrice&quot;, &quot;11500&quot;)\r\n\t.param(&quot;productDescription&quot;, &quot;Lenova&quot;).param(&quot;productFor&quot;, &quot;men&quot;)\r\n\t.multiPart(&quot;productImage&quot;, new File(&quot;/Users/imtiyaz/Desktop/Screenshot 2023-08-25 at 00.22.26.png&quot;)); //multiPart is used when sending multimedia - files, images, video etc.\r\n\t\r\n\tString addProductResponse = reqAddProduct.when().post(&quot;/api/ecom/product/add-product&quot;)\r\n\t.then().log().all().extract().response().asString();\r\n\t\r\n\tJsonPath js = new JsonPath (addProductResponse);\r\n\tString productId = js.get(&quot;productId&quot;);\r\n\t\r\n\t\r\n\t\r\n\t//Create order for the Added Product\r\n\t\r\n\tRequestSpecification createOrderBaseReq = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;)\r\n\t\t\t.addHeader(&quot;authorization&quot;, token).setContentType(ContentType.JSON)\r\n\t\t\t.build();\r\n\t\r\n\tEcommerceOrderDetail orderDetail = new EcommerceOrderDetail();\r\n\torderDetail.setCountry(&quot;India&quot;);\r\n\torderDetail.setProductOrderId(productId);\r\n\t\r\n\tList&lt;EcommerceOrderDetail&gt;orderDetailList = new ArrayList&lt;EcommerceOrderDetail&gt;(); \r\n\torderDetailList.add(orderDetail);\r\n\t\r\n\tEcommerceOrders orders =  new EcommerceOrders();\r\n\torders.setOrders(orderDetailList);\r\n\t\r\n\t\r\nRequestSpecification createOrderReq = given().log().all().spec(createOrderBaseReq).body(orders);\r\nString responseAddOrder = createOrderReq.when().post(&quot;/api/ecom/order/create-order&quot;).then().log().all().extract().response().asString(); \r\nSystem.out.println(responseAddOrder);\r\n\t\r\n\t\r\n\t\r\n\t}\r\n\r\n}\r\n```\r\nAs you can see in the line where I&#39;ve put &#39;orderDetail.setProductOrderId(productId);&#39; I am using the same productId variable when putting that as a String object in previous steps.\r\n\r\nBelow is the code for EcommerceOrderDetail.java class (pojo class):\r\n\r\n```\r\npackage pojo;\r\n\r\npublic class EcommerceOrderDetail {\r\n\t\r\n\tString country;\r\n\tString productOrderId;\r\n\t\r\n\tpublic String getCountry() {\r\n\t\treturn country;\r\n\t}\r\n\tpublic void setCountry(String country) {\r\n\t\tthis.country = country;\r\n\t}\r\n\tpublic String getProductOrderId() {\r\n\t\treturn productOrderId;\r\n\t}\r\n\tpublic void setProductOrderId(String productOrderId) {\r\n\t\tthis.productOrderId = productOrderId;\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\nCode for &#39;EcommerceOrders.java&#39; class:\r\n\r\n```\r\npackage pojo;\r\n\r\nimport java.util.List;\r\n\r\npublic class EcommerceOrders {\r\n\t\r\n\tprivate List&lt;EcommerceOrderDetail&gt; orders; //The value of this &#39;orders&#39; is nothing but list because it is an array inside &#39;orders&#39; and in that array there is the &#39;Country&#39; and &#39;productOrderId&#39;\r\n\r\n\tpublic List&lt;EcommerceOrderDetail&gt; getOrders() {\r\n\t\treturn orders;\r\n\t}\r\n\r\n\tpublic void setOrders(List&lt;EcommerceOrderDetail&gt; orders) {\r\n\t\tthis.orders = orders;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n```","title":"Unable to place order for a product, using the same product Id in Rest Assured","body":"<p>I am trying to do one Rest Assured API E2E flow on an E-commerce web site which includes Logging in, adding a product and then creating an order for that product, however I am unable to execute the last step of actually creating an order for that specific product - It complains of 'Wrong Product Id&quot;.</p>\n<p>This is the code of my main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.restassured.builder.RequestSpecBuilder;\nimport io.restassured.http.ContentType;\nimport io.restassured.path.json.JsonPath;\nimport io.restassured.specification.RequestSpecification;\nimport pojo.EcommerceLoginRequest;\nimport pojo.EcommerceLoginResponse;\nimport pojo.EcommerceOrderDetail;\nimport pojo.EcommerceOrders;\n\nimport static io.restassured.RestAssured.given;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class ECommerceAPITest {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n    \n    //Login\n        \n     RequestSpecification req = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;).setContentType(ContentType.JSON).build();\n     \n     EcommerceLoginRequest loginRequest = new EcommerceLoginRequest();\n     loginRequest.setUserEmail(&quot;imtiyaz_@hotmail.co.uk&quot;);\n     loginRequest.setUserPassword(&quot;786Immy110.1&quot;);\n     \n     \n    RequestSpecification reqLogin = given().log().all().spec(req).body(loginRequest); \n    EcommerceLoginResponse loginResponse = reqLogin.when().post(&quot;/api/ecom/auth/login&quot;).then().log().all().extract().response().as(EcommerceLoginResponse.class);\n     \n    \n    \n    System.out.println(loginResponse.getToken());\n    String token = loginResponse.getToken();\n    System.out.println(loginResponse.getuserId());\n    String userId = loginResponse.getuserId();\n    \n    \n    //Add Product\n\n    RequestSpecification addProductBaseReq = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;)\n    .addHeader(&quot;authorization&quot;, token)\n    .build();\n    \n    RequestSpecification reqAddProduct = given().log().all().spec(addProductBaseReq).param(&quot;productName&quot;, &quot;screenshot&quot;)\n    .param(&quot;productAddedBy&quot;, userId).param(&quot;productCategory&quot;, &quot;fashion&quot;)\n    .param(&quot;productSubCategory&quot;, &quot;shirts&quot;).param(&quot;productPrice&quot;, &quot;11500&quot;)\n    .param(&quot;productDescription&quot;, &quot;Lenova&quot;).param(&quot;productFor&quot;, &quot;men&quot;)\n    .multiPart(&quot;productImage&quot;, new File(&quot;/Users/imtiyaz/Desktop/Screenshot 2023-08-25 at 00.22.26.png&quot;)); //multiPart is used when sending multimedia - files, images, video etc.\n    \n    String addProductResponse = reqAddProduct.when().post(&quot;/api/ecom/product/add-product&quot;)\n    .then().log().all().extract().response().asString();\n    \n    JsonPath js = new JsonPath (addProductResponse);\n    String productId = js.get(&quot;productId&quot;);\n    \n    \n    \n    //Create order for the Added Product\n    \n    RequestSpecification createOrderBaseReq = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;)\n            .addHeader(&quot;authorization&quot;, token).setContentType(ContentType.JSON)\n            .build();\n    \n    EcommerceOrderDetail orderDetail = new EcommerceOrderDetail();\n    orderDetail.setCountry(&quot;India&quot;);\n    orderDetail.setProductOrderId(productId);\n    \n    List&lt;EcommerceOrderDetail&gt;orderDetailList = new ArrayList&lt;EcommerceOrderDetail&gt;(); \n    orderDetailList.add(orderDetail);\n    \n    EcommerceOrders orders =  new EcommerceOrders();\n    orders.setOrders(orderDetailList);\n    \n    \nRequestSpecification createOrderReq = given().log().all().spec(createOrderBaseReq).body(orders);\nString responseAddOrder = createOrderReq.when().post(&quot;/api/ecom/order/create-order&quot;).then().log().all().extract().response().asString(); \nSystem.out.println(responseAddOrder);\n    \n    \n    \n    }\n\n}\n</code></pre>\n<p>As you can see in the line where I've put 'orderDetail.setProductOrderId(productId);' I am using the same productId variable when putting that as a String object in previous steps.</p>\n<p>Below is the code for EcommerceOrderDetail.java class (pojo class):</p>\n<pre><code>package pojo;\n\npublic class EcommerceOrderDetail {\n    \n    String country;\n    String productOrderId;\n    \n    public String getCountry() {\n        return country;\n    }\n    public void setCountry(String country) {\n        this.country = country;\n    }\n    public String getProductOrderId() {\n        return productOrderId;\n    }\n    public void setProductOrderId(String productOrderId) {\n        this.productOrderId = productOrderId;\n    }\n    \n\n}\n</code></pre>\n<p>Code for 'EcommerceOrders.java' class:</p>\n<pre><code>package pojo;\n\nimport java.util.List;\n\npublic class EcommerceOrders {\n    \n    private List&lt;EcommerceOrderDetail&gt; orders; //The value of this 'orders' is nothing but list because it is an array inside 'orders' and in that array there is the 'Country' and 'productOrderId'\n\n    public List&lt;EcommerceOrderDetail&gt; getOrders() {\n        return orders;\n    }\n\n    public void setOrders(List&lt;EcommerceOrderDetail&gt; orders) {\n        this.orders = orders;\n    }\n    \n    \n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566937487,"creation_date":1566937487,"answer_id":57681786,"question_id":57673715,"body_markdown":"taken from the netty [documentation][1]\r\n\r\n&gt; By default, the TCP client uses a “fixed” connection pool with 500 as\r\n&gt; the maximum number of the channels and 45s as the acquisition timeout.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/netty/snapshot/reference/index.html#_connection_pool","title":"WebClient maxConnection pool limit?","body":"<p>taken from the netty <a href=\"https://projectreactor.io/docs/netty/snapshot/reference/index.html#_connection_pool\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<blockquote>\n  <p>By default, the TCP client uses a “fixed” connection pool with 500 as\n  the maximum number of the channels and 45s as the acquisition timeout.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14208533,"reputation":3827,"user_id":10264430,"display_name":"Alexander Pankin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1566989987,"creation_date":1566981276,"answer_id":57688152,"question_id":57673715,"body_markdown":"Before reactor-netty 0.9.0.M4 version there wasn&#39;t limit by default because of &quot;elastic&quot; connection provider was used. [This fix][1] changed it to &quot;fixed&quot; connection provider with the limit of 500.\r\n\r\nTo change the connection pool limit you could define your own `WebClient.Builder` bean and use it to create `WebClient`\r\n\r\n    @Bean\r\n    public WebClient.Builder webClientBuilder() {\r\n        String connectionProviderName = &quot;myConnectionProvider&quot;;\r\n        int maxConnections = 100;\r\n        int acquireTimeout = 1000;\r\n        HttpClient httpClient = HttpClient.create(ConnectionProvider\r\n                .fixed(connectionProviderName, maxConnections, acquireTimeout));\r\n        return WebClient.builder()\r\n                .clientConnector(new ReactorClientHttpConnector(httpClient));\r\n    }\r\n\r\nOr you could implement custom `org.springframework.boot.web.reactive.function.client.WebClientCustomizer` in the same manner with the predefined `WebClient.Builder`\r\n\r\n  [1]: https://github.com/reactor/reactor-netty/issues/578","title":"WebClient maxConnection pool limit?","body":"<p>Before reactor-netty 0.9.0.M4 version there wasn't limit by default because of \"elastic\" connection provider was used. <a href=\"https://github.com/reactor/reactor-netty/issues/578\" rel=\"noreferrer\">This fix</a> changed it to \"fixed\" connection provider with the limit of 500.</p>\n\n<p>To change the connection pool limit you could define your own <code>WebClient.Builder</code> bean and use it to create <code>WebClient</code></p>\n\n<pre><code>@Bean\npublic WebClient.Builder webClientBuilder() {\n    String connectionProviderName = \"myConnectionProvider\";\n    int maxConnections = 100;\n    int acquireTimeout = 1000;\n    HttpClient httpClient = HttpClient.create(ConnectionProvider\n            .fixed(connectionProviderName, maxConnections, acquireTimeout));\n    return WebClient.builder()\n            .clientConnector(new ReactorClientHttpConnector(httpClient));\n}\n</code></pre>\n\n<p>Or you could implement custom <code>org.springframework.boot.web.reactive.function.client.WebClientCustomizer</code> in the same manner with the predefined <code>WebClient.Builder</code></p>\n"},{"tags":[],"owner":{"account_id":1786908,"reputation":135,"user_id":1628191,"accept_rate":40,"display_name":"Libin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698352508,"creation_date":1698352508,"answer_id":77370166,"question_id":57673715,"body_markdown":"    Notice that only the default HttpClient (HttpClient.create()) uses 500 as the maximum number of active channels. In the example above, when instantiating a custom ConnectionProvider, we are changing this value to 50 using maxConnections. Also, if you don’t set this parameter the default maxConnections is used (2 * available number of processors).\r\n\r\nIf we configure custom `ConnectionProvider`, the default will be `(2 * available number of processors)` from the netty [documentation][1]\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/netty/snapshot/reference/index.html#_connection_pool_2","title":"WebClient maxConnection pool limit?","body":"<pre><code>Notice that only the default HttpClient (HttpClient.create()) uses 500 as the maximum number of active channels. In the example above, when instantiating a custom ConnectionProvider, we are changing this value to 50 using maxConnections. Also, if you don’t set this parameter the default maxConnections is used (2 * available number of processors).\n</code></pre>\n<p>If we configure custom <code>ConnectionProvider</code>, the default will be <code>(2 * available number of processors)</code> from the netty <a href=\"https://projectreactor.io/docs/netty/snapshot/reference/index.html#_connection_pool_2\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31780,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57688152,"answer_count":3,"score":6,"last_activity_date":1698352508,"creation_date":1566905357,"question_id":57673715,"body_markdown":"How many concurrent requests can I send if the remote service if blocking?\r\nMeans: what is the *maxConnection* pool limit that spring uses internally when using `WebClient`?\r\n\r\n\t@Autowired\r\n\tprivate WebClient webClient;\r\n\r\n    webClient.post().uri(url).syncBody(req).retrieve().bodyToMono(type);\r\n\r\nAnd moreover: how can I modify it?","title":"WebClient maxConnection pool limit?","body":"<p>How many concurrent requests can I send if the remote service if blocking?\nMeans: what is the <em>maxConnection</em> pool limit that spring uses internally when using <code>WebClient</code>?</p>\n\n<pre><code>@Autowired\nprivate WebClient webClient;\n\nwebClient.post().uri(url).syncBody(req).retrieve().bodyToMono(type);\n</code></pre>\n\n<p>And moreover: how can I modify it?</p>\n"},{"tags":["java","spring","maven","gradle","netbeans"],"comments":[{"owner":{"account_id":3138548,"reputation":10283,"user_id":2654518,"accept_rate":80,"display_name":"ericbn"},"score":2,"creation_date":1492464261,"post_id":43459768,"comment_id":73975708,"body_markdown":"Short answer: **yes**. There&#39;s no conflict between having two independent build scripts for the same project, one in Maven and one in Gradle.","body":"Short answer: <b>yes</b>. There&#39;s no conflict between having two independent build scripts for the same project, one in Maven and one in Gradle."},{"owner":{"account_id":10408648,"reputation":95,"user_id":7674783,"display_name":"coderg"},"score":0,"creation_date":1492464931,"post_id":43459768,"comment_id":73976038,"body_markdown":"@ericbn - thanks.  Can you link any tutorials or possibly answer how I can add gradle to my existing maven project via netbeans?","body":"@ericbn - thanks.  Can you link any tutorials or possibly answer how I can add gradle to my existing maven project via netbeans?"},{"owner":{"account_id":90378,"reputation":2824,"user_id":248847,"accept_rate":85,"display_name":"KrishPrabakar"},"score":0,"creation_date":1584350242,"post_id":43459768,"comment_id":107400196,"body_markdown":"Running `gradle init` will help you generate gradle files from Maven&#39;s pom","body":"Running <code>gradle init</code> will help you generate gradle files from Maven&#39;s pom"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26056,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1492528931,"creation_date":1492466937,"answer_id":43460429,"question_id":43459768,"body_markdown":"I guess you need to make a decision:\r\n\r\n - Invoke maven from gradle\r\n - Invoke gradle from maven \r\n\r\nIf your end goal is to move to gradle then I suggest invoking maven from gradle. It looks like there&#39;s a plugin [here](https://github.com/dkorotych/gradle-maven-exec-plugin) which will do the job","title":"Can you have both maven&#39;s and gradle in same java build?","body":"<p>I guess you need to make a decision:</p>\n\n<ul>\n<li>Invoke maven from gradle</li>\n<li>Invoke gradle from maven </li>\n</ul>\n\n<p>If your end goal is to move to gradle then I suggest invoking maven from gradle. It looks like there's a plugin <a href=\"https://github.com/dkorotych/gradle-maven-exec-plugin\" rel=\"nofollow noreferrer\">here</a> which will do the job</p>\n"},{"tags":[],"owner":{"account_id":202891,"reputation":4599,"user_id":450222,"accept_rate":90,"display_name":"Erik  Reppen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698351929,"creation_date":1698351929,"answer_id":77370127,"question_id":43459768,"body_markdown":"This is old but I had a grumpy about this while trying to email, and then having to re-edit for tone multiple times, some potential deal breakers I wanted a hiring manager to look at for a position involving a Java backend recently and googled to advise/vent.\r\n\r\nMy three career-worst experiences in 15+ years as a front end web developer with plenty of back end exposure has been with Java teams and Java build processes that used Ant, Maven, AND Gradle. Builds were absurdly brittle, often breaking with no config or even back end changes made, and there were three sets of config, docs, and sources of errors to look at when anything went wrong.\r\n\r\nIn all three cases, getting help from Java dev team members after making reasonable attempts to diagnose myself was like pulling teeth because they often couldn&#39;t diagnose without trivial effort either and they didn&#39;t want to miss THEIR sprint goals.\r\n\r\nFor the love of sanity, think about the actual problem a dependency manager solves and then don&#39;t give your dependencies 2-3 bosses. No matter how quickly and smoothly it solves your problem in the short term, stuff goes stale eventually, often in the most annoying parts of a dependency chain possible, and then you&#39;ve got a potential hot mess nobody wants to clean up. Upgrade all the way or not at all.","title":"Can you have both maven&#39;s and gradle in same java build?","body":"<p>This is old but I had a grumpy about this while trying to email, and then having to re-edit for tone multiple times, some potential deal breakers I wanted a hiring manager to look at for a position involving a Java backend recently and googled to advise/vent.</p>\n<p>My three career-worst experiences in 15+ years as a front end web developer with plenty of back end exposure has been with Java teams and Java build processes that used Ant, Maven, AND Gradle. Builds were absurdly brittle, often breaking with no config or even back end changes made, and there were three sets of config, docs, and sources of errors to look at when anything went wrong.</p>\n<p>In all three cases, getting help from Java dev team members after making reasonable attempts to diagnose myself was like pulling teeth because they often couldn't diagnose without trivial effort either and they didn't want to miss THEIR sprint goals.</p>\n<p>For the love of sanity, think about the actual problem a dependency manager solves and then don't give your dependencies 2-3 bosses. No matter how quickly and smoothly it solves your problem in the short term, stuff goes stale eventually, often in the most annoying parts of a dependency chain possible, and then you've got a potential hot mess nobody wants to clean up. Upgrade all the way or not at all.</p>\n"}],"owner":{"account_id":10408648,"reputation":95,"user_id":7674783,"display_name":"coderg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9421,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43460429,"answer_count":2,"score":5,"last_activity_date":1698351929,"creation_date":1492463827,"question_id":43459768,"body_markdown":"We already started our project in mavens(spring mvc) but realized gradle is better for managing big to enterprise level builds like our project.  Is there a way to keep mavens but also add on gradle to the same build?\r\n\r\nAnd if yes, how would I add gradle to my existing maven project?  thanks.","title":"Can you have both maven&#39;s and gradle in same java build?","body":"<p>We already started our project in mavens(spring mvc) but realized gradle is better for managing big to enterprise level builds like our project.  Is there a way to keep mavens but also add on gradle to the same build?</p>\n\n<p>And if yes, how would I add gradle to my existing maven project?  thanks.</p>\n"},{"tags":["java","github","gradle","codeql"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1698435020,"post_id":77370117,"comment_id":136410104,"body_markdown":"Are you running the Gradle build already before you run it with CodeQL, or are you caching the build output in some way? If Gradle skips compilation because the output is already up to date, then I assume CodeQL will not see any classes. Could you try running Gradle with `--rerun-tasks`?","body":"Are you running the Gradle build already before you run it with CodeQL, or are you caching the build output in some way? If Gradle skips compilation because the output is already up to date, then I assume CodeQL will not see any classes. Could you try running Gradle with <code>--rerun-tasks</code>?"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1698435388,"post_id":77370117,"comment_id":136410142,"body_markdown":"Also, maybe a bit naive question, but couldn&#39;t you just use `codeql database create codeql-db --language=java` (optionally with `--command ...`) as mentioned in the [documentation](https://docs.github.com/en/code-security/codeql-cli/getting-started-with-the-codeql-cli/preparing-your-code-for-codeql-analysis#running-codeql-database-create)? Do you really need to use these &#39;plumbing&#39; commands `database init` and `database finalize`?","body":"Also, maybe a bit naive question, but couldn&#39;t you just use <code>codeql database create codeql-db --language=java</code> (optionally with <code>--command ...</code>) as mentioned in the <a href=\"https://docs.github.com/en/code-security/codeql-cli/getting-started-with-the-codeql-cli/preparing-your-code-for-codeql-analysis#running-codeql-database-create\" rel=\"nofollow noreferrer\">documentation</a>? Do you really need to use these &#39;plumbing&#39; commands <code>database init</code> and <code>database finalize</code>?"},{"owner":{"account_id":2574374,"reputation":2498,"user_id":2232418,"accept_rate":79,"display_name":"Ben"},"score":0,"creation_date":1698435788,"post_id":77370117,"comment_id":136410200,"body_markdown":"@Marcono1234 in this particular setup we are required to indirectly watch the compile. These are generic scripts. 1 script will setup the tracing and another script, run post compile, will finalize and analyze. This is my requirement as they need to be generic scripts that wrap around the build process for many different pipelines.","body":"@Marcono1234 in this particular setup we are required to indirectly watch the compile. These are generic scripts. 1 script will setup the tracing and another script, run post compile, will finalize and analyze. This is my requirement as they need to be generic scripts that wrap around the build process for many different pipelines."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1698482103,"post_id":77370117,"comment_id":136413539,"body_markdown":"Ah ok. Have you tried using `--rerun-tasks` with your Gradle command though? At least to get some hint what might be causing this issue, even if for your desired end result you cannot permanently set `--rerun-tasks`.","body":"Ah ok. Have you tried using <code>--rerun-tasks</code> with your Gradle command though? At least to get some hint what might be causing this issue, even if for your desired end result you cannot permanently set <code>--rerun-tasks</code>."}],"owner":{"account_id":2574374,"reputation":2498,"user_id":2232418,"accept_rate":79,"display_name":"Ben"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698351866,"creation_date":1698351866,"question_id":77370117,"body_markdown":"I have a repository that has a Java codebase that is built using Gradle. In the Azure DevOps pipeline for this application I am first running the following command to setup the CodeQL build tracing:\r\n\r\n    codeql database init --source-root Build.Repository.LocalPath --language java, --begin-tracing codeql-db --overwrite --db-cluster\r\n\r\nThis works successfully with the following output:\r\n\r\n    Resolving extractor java.\r\n    Successfully loaded extractor Java (java) from /apps/ado/tools/codeql/java.\r\n    Created skeleton CodeQL database at /apps/ado/vsts/agent2/_work/3335/codeql-db. This in-progress database is ready to be populated by an extractor.\r\n\r\nI then set the tracing variables as environment variables.\r\n\r\nThe code is then built with Gradle.\r\n\r\nThen I&#39;m finalizing the database with:\r\n\r\n    codeql database finalize codeql-db\r\n\r\nBut the output is:\r\n\r\n    No source code was seen and extracted to /apps/ado/vsts/agent2/_work/3335/codeql-db.\r\n    This can occur if the specified build commands failed to compile or process any code.\r\n    - Confirm that there is some source code for the specified language in the project.\r\n    - For codebases written in Go, JavaScript, TypeScript, and Python, do not specify\r\n       an explicit --command.\r\n    - For other languages, the --command must specify a &quot;clean&quot; build which compiles\r\n       all the source code files without reusing existing build artefacts.\r\n\r\nThis same action works perfectly on a Maven build but I can&#39;t for the life of me see a reason why this isn&#39;t recognizing the compile. Any help is greatly appreciated.","title":"Why does CodeQL not populate the CodeQL database with a Gradle build?","body":"<p>I have a repository that has a Java codebase that is built using Gradle. In the Azure DevOps pipeline for this application I am first running the following command to setup the CodeQL build tracing:</p>\n<pre><code>codeql database init --source-root Build.Repository.LocalPath --language java, --begin-tracing codeql-db --overwrite --db-cluster\n</code></pre>\n<p>This works successfully with the following output:</p>\n<pre><code>Resolving extractor java.\nSuccessfully loaded extractor Java (java) from /apps/ado/tools/codeql/java.\nCreated skeleton CodeQL database at /apps/ado/vsts/agent2/_work/3335/codeql-db. This in-progress database is ready to be populated by an extractor.\n</code></pre>\n<p>I then set the tracing variables as environment variables.</p>\n<p>The code is then built with Gradle.</p>\n<p>Then I'm finalizing the database with:</p>\n<pre><code>codeql database finalize codeql-db\n</code></pre>\n<p>But the output is:</p>\n<pre><code>No source code was seen and extracted to /apps/ado/vsts/agent2/_work/3335/codeql-db.\nThis can occur if the specified build commands failed to compile or process any code.\n- Confirm that there is some source code for the specified language in the project.\n- For codebases written in Go, JavaScript, TypeScript, and Python, do not specify\n   an explicit --command.\n- For other languages, the --command must specify a &quot;clean&quot; build which compiles\n   all the source code files without reusing existing build artefacts.\n</code></pre>\n<p>This same action works perfectly on a Maven build but I can't for the life of me see a reason why this isn't recognizing the compile. Any help is greatly appreciated.</p>\n"},{"tags":["java","project-reactor"],"owner":{"account_id":20782759,"reputation":235,"user_id":15262752,"display_name":"Grogu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698351331,"creation_date":1697825973,"question_id":77333033,"body_markdown":"I have a service with a method that returns a Mono. Subscribing to this method launches some action that must be executed, but can be executed only 1 time per second maximum. So I&#39;d like to force some delay between the executions.\r\n\r\n\r\nI could encapsulate the behavior in a flux with delayElements, but:\r\n- this flux could still be subscribed many times thus generating more that 1 action per second\r\n- it&#39;s difficult (sometimes impossible) to batch calls in my usecase and pipelines gets hard to read\r\n\r\nHow can I better create a delay between executions of a same Mono? Is it even possible?\r\n\r\nThank you \r\n\r\n&lt;h4&gt;EDIT: Attempt #2 calculating delay with number of currently delayed actions&lt;/h4&gt;\r\n\r\nI&#39;m thinking about an other solution, with some logic to follow currently delayed actions.\r\n\r\n    public class MyService {\r\n    \r\n      private Integer numberOfCurrentlyDelayedActions = 0;\r\n    \r\n      public Mono&lt;String&gt; doActionWithDelay(Data data) {\r\n        increaseNumberOfCurrentlyDelayedActions();\r\n        return Mono.just(data)\r\n          .delayElement(calculateNeededDelay())\r\n          .flatMap(this::doAction)\r\n          .doAfterTerminate(this::decreaseNumberOfCurrentlyDelayedActions);\r\n      }\r\n    \r\n      private Duration calculateNeededDelay() {\r\n        int milliSecondDelay = 1000 * (numberOfCurrentlyDelayedActions - 1);\r\n        log.info(&quot;nb of currently delayed actions {} and associated delay {}&quot;, numberOfCurrentlyDelayedActions, milliSecondDelay);\r\n        return Duration.ofMillis(milliSecondDelay);\r\n      }\r\n    \r\n      private void increaseNumberOfCurrentlyDelayedActions() {\r\n        numberOfCurrentlyDelayedActions = numberOfCurrentlyDelayedActions + 1;\r\n      }\r\n    \r\n      private void decreaseNumberOfCurrentlyDelayedActions() {\r\n        log.info(&quot;action done&quot;);\r\n        numberOfCurrentlyDelayedActions = numberOfCurrentlyDelayedActions - 1;\r\n        log.info(&quot;now nb of delayed actions after act {}&quot;, numberOfCurrentlyDelayedActions);\r\n      }\r\n    }\r\n\r\nThe issue here is that running locally, displayed logs makes no sense (count is sometimes negative, number of currently delayed actions not incrementing/decrementing correctly etc). But the following test is working properly.\r\n\r\n\r\n    @Test\r\n    void should_delay_action_when_many_actions_are_sent_at_the_same_time() {\r\n      var milliSecondDurationBetweenActions = 1000;\r\n      var data = generateData();\r\n      //returned by myService.doAction;\r\n      when(myOtherService.doAction(any())).thenReturn(Mono.just(&quot;responseId&quot;))\r\n    \r\n      var result = Flux.just(1, 2, 3).flatMap((__) - &gt; myService.doActionWithDelay(data));\r\n    \r\n      StepVerifier.withVirtualTime(() - &gt; result)\r\n        .expectNextCount(1)\r\n        .thenAwait(Duration.ofMillis(milliSecondDurationBetweenActions))\r\n        .expectNextCount(1)\r\n        .thenAwait(Duration.ofMillis(milliSecondDurationBetweenActions))\r\n        .expectNextCount(1)\r\n        .verifyComplete();\r\n    }\r\n\r\nSo is the code supposed to work (aka logs are broken due to asynchronicity)? \r\n\r\nAnd still, is there a better way to create delay when calling many times the same mono?\r\n\r\n&lt;h4&gt;EDIT2: Attempt #2-bis calculating delay with number of currently delayed actions with Atomic object&lt;/h4&gt;\r\n\r\nWell, let&#39;s say it was not working, because now with an AtomicInteger logs are working properly. (actually not, see edit3)\r\n\r\n    public class MyService {\r\n    \r\n      private AtomicInteger numberOfCurrentlyDelayedActions = new AtomicInteger(0);\r\n    \r\n      public Mono&lt;String&gt; doActionWithDelay(Data data) {\r\n        return Mono.just(data)\r\n          .delayElement(calculateNeededDelayAndIncreaseNumberOfDelayedActions())\r\n          .flatMap(this::doAction)\r\n          .doAfterTerminate(this::decreaseNumberOfCurrentlyDelayedActions);\r\n      }\r\n    \r\n      private Duration calculateNeededDelayAndIncreaseNumberOfDelayedActions() {\r\n        var nbOfDelayedActionsExceptCurrent = numberOfCurrentlyDelayedActions.incrementAndGet() - 1;\r\n        int milliSecondDelay = 1000 * nbOfDelayedActionsExceptCurrent ;\r\n        log.info(&quot;nb of currently delayed actions {} and associated delay {}&quot;, nbOfDelayedActionsExceptCurrent, milliSecondDelay);\r\n        return Duration.ofMillis(milliSecondDelay);\r\n      }\r\n    \r\n      private void decreaseNumberOfCurrentlyDelayedActions() {\r\n        log.info(&quot;action done&quot;);\r\n        var nbOfDelayedActions = numberOfCurrentlyDelayedActions.decrementAndGet();\r\n        log.info(&quot;now nb of delayed actions after act {}&quot;, nbOfDelayedActions);\r\n      }\r\n    }\r\n\r\nAnd still, is there a better way to create delay when calling many times the same mono?\r\n\r\n&lt;h4&gt;EDIT3: The desillusionment&lt;/h4&gt;\r\n\r\nThis is not working, when launching many actions, as there are overlaps when one ends :&#39;)\r\n\r\n\r\n&lt;h4&gt;EDIT4&lt;/h4&gt;\r\n\r\n&lt;h4&gt;Attempt #2-ter calculating delay with number of currently delayed actions with Atomic object and a Scheduler&lt;/h4&gt;\r\n\r\nLaunching automatically the decrease with a scheduler, instead of launching at the end of an action, works. But it checks to decrease even when it is not usefull. I suppose that all theses checks at a high rate (1 check per second) is not a good idea.\r\n\r\n&lt;h4&gt;Attempt #3 calculating delay with last execution time and Atomic object&lt;/h4&gt;\r\n\r\nI&#39;ve developped an other solution, based on next supposed execution date, and transforming it back to delay comparing with now. This gets rid of the scheduler. It generates an other issue due to calculation time and time to be scheduled. So actions tend to be randomly spaced by less than 1s.\r\n\r\n&lt;h4&gt;Attempt #4 publishing and consuming an infinite sink&lt;/h4&gt;\r\nNow I&#39;m thinking about listening to a sink (which can be used as a flux and have delayElements) which never ends, and pushing incoming actions to execute in the sink. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class MyService {\r\n\r\n      private final Sinks.Many&lt;Data&gt; actionsToLaunch = Sinks.many().unicast().onBackpressureBuffer(\r\n        Queues.&lt;Data&gt;unboundedMultiproducer().get());\r\n\r\n      public MyService() {\r\n        waitForFutureActionsAndLaunchThemWithCustomSchedule();\r\n      }\r\n\r\n      public Mono&lt;String&gt; doActionWithDelay(Data data) {\r\n        return Mono.just(data)\r\n          .doOnNext(this::addToActionsToLaunch)\r\n          .map(Data::name);\r\n      }\r\n\r\n      private void waitForFutureActionsAndLaunchThemWithCustomSchedule() {\r\n        actionsToLaunch.asFlux()\r\n          .delayElements(Duration.ofMillis(1000))\r\n          .flatMap(data - &gt; doAction(data).onErrorResume(err - &gt; {\r\n            log.error(&quot;Error execution action {}&quot;, data, err);\r\n            // a better error handling can be done\r\n            return Mono.empty(); // prevent from closing the subscription\r\n          }))\r\n          .subscribe();\r\n      }\r\n\r\n      private void addToActionsToLaunch(Data data) {\r\n        // a better error handling can be done, not using emitNext\r\n        actionsToLaunch.emitNext(data, Sinks.EmitFailureHandler.busyLooping(Duration.ofMinutes(5)));\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;m still unsure whether this is a good solution, or not, as I don&#39;t know if the flux will automatically close (for inactivity? or something else) and if an infinite flux, as here, can generate bad side effects (memory issues, locks, thread issues etc)","title":"How to create delay between executions of a same Mono with reactor?","body":"<p>I have a service with a method that returns a Mono. Subscribing to this method launches some action that must be executed, but can be executed only 1 time per second maximum. So I'd like to force some delay between the executions.</p>\n<p>I could encapsulate the behavior in a flux with delayElements, but:</p>\n<ul>\n<li>this flux could still be subscribed many times thus generating more that 1 action per second</li>\n<li>it's difficult (sometimes impossible) to batch calls in my usecase and pipelines gets hard to read</li>\n</ul>\n<p>How can I better create a delay between executions of a same Mono? Is it even possible?</p>\n<p>Thank you</p>\n<h4>EDIT: Attempt #2 calculating delay with number of currently delayed actions</h4>\n<p>I'm thinking about an other solution, with some logic to follow currently delayed actions.</p>\n<pre><code>public class MyService {\n\n  private Integer numberOfCurrentlyDelayedActions = 0;\n\n  public Mono&lt;String&gt; doActionWithDelay(Data data) {\n    increaseNumberOfCurrentlyDelayedActions();\n    return Mono.just(data)\n      .delayElement(calculateNeededDelay())\n      .flatMap(this::doAction)\n      .doAfterTerminate(this::decreaseNumberOfCurrentlyDelayedActions);\n  }\n\n  private Duration calculateNeededDelay() {\n    int milliSecondDelay = 1000 * (numberOfCurrentlyDelayedActions - 1);\n    log.info(&quot;nb of currently delayed actions {} and associated delay {}&quot;, numberOfCurrentlyDelayedActions, milliSecondDelay);\n    return Duration.ofMillis(milliSecondDelay);\n  }\n\n  private void increaseNumberOfCurrentlyDelayedActions() {\n    numberOfCurrentlyDelayedActions = numberOfCurrentlyDelayedActions + 1;\n  }\n\n  private void decreaseNumberOfCurrentlyDelayedActions() {\n    log.info(&quot;action done&quot;);\n    numberOfCurrentlyDelayedActions = numberOfCurrentlyDelayedActions - 1;\n    log.info(&quot;now nb of delayed actions after act {}&quot;, numberOfCurrentlyDelayedActions);\n  }\n}\n</code></pre>\n<p>The issue here is that running locally, displayed logs makes no sense (count is sometimes negative, number of currently delayed actions not incrementing/decrementing correctly etc). But the following test is working properly.</p>\n<pre><code>@Test\nvoid should_delay_action_when_many_actions_are_sent_at_the_same_time() {\n  var milliSecondDurationBetweenActions = 1000;\n  var data = generateData();\n  //returned by myService.doAction;\n  when(myOtherService.doAction(any())).thenReturn(Mono.just(&quot;responseId&quot;))\n\n  var result = Flux.just(1, 2, 3).flatMap((__) - &gt; myService.doActionWithDelay(data));\n\n  StepVerifier.withVirtualTime(() - &gt; result)\n    .expectNextCount(1)\n    .thenAwait(Duration.ofMillis(milliSecondDurationBetweenActions))\n    .expectNextCount(1)\n    .thenAwait(Duration.ofMillis(milliSecondDurationBetweenActions))\n    .expectNextCount(1)\n    .verifyComplete();\n}\n</code></pre>\n<p>So is the code supposed to work (aka logs are broken due to asynchronicity)?</p>\n<p>And still, is there a better way to create delay when calling many times the same mono?</p>\n<h4>EDIT2: Attempt #2-bis calculating delay with number of currently delayed actions with Atomic object</h4>\n<p>Well, let's say it was not working, because now with an AtomicInteger logs are working properly. (actually not, see edit3)</p>\n<pre><code>public class MyService {\n\n  private AtomicInteger numberOfCurrentlyDelayedActions = new AtomicInteger(0);\n\n  public Mono&lt;String&gt; doActionWithDelay(Data data) {\n    return Mono.just(data)\n      .delayElement(calculateNeededDelayAndIncreaseNumberOfDelayedActions())\n      .flatMap(this::doAction)\n      .doAfterTerminate(this::decreaseNumberOfCurrentlyDelayedActions);\n  }\n\n  private Duration calculateNeededDelayAndIncreaseNumberOfDelayedActions() {\n    var nbOfDelayedActionsExceptCurrent = numberOfCurrentlyDelayedActions.incrementAndGet() - 1;\n    int milliSecondDelay = 1000 * nbOfDelayedActionsExceptCurrent ;\n    log.info(&quot;nb of currently delayed actions {} and associated delay {}&quot;, nbOfDelayedActionsExceptCurrent, milliSecondDelay);\n    return Duration.ofMillis(milliSecondDelay);\n  }\n\n  private void decreaseNumberOfCurrentlyDelayedActions() {\n    log.info(&quot;action done&quot;);\n    var nbOfDelayedActions = numberOfCurrentlyDelayedActions.decrementAndGet();\n    log.info(&quot;now nb of delayed actions after act {}&quot;, nbOfDelayedActions);\n  }\n}\n</code></pre>\n<p>And still, is there a better way to create delay when calling many times the same mono?</p>\n<h4>EDIT3: The desillusionment</h4>\n<p>This is not working, when launching many actions, as there are overlaps when one ends :')</p>\n<h4>EDIT4</h4>\n<h4>Attempt #2-ter calculating delay with number of currently delayed actions with Atomic object and a Scheduler</h4>\n<p>Launching automatically the decrease with a scheduler, instead of launching at the end of an action, works. But it checks to decrease even when it is not usefull. I suppose that all theses checks at a high rate (1 check per second) is not a good idea.</p>\n<h4>Attempt #3 calculating delay with last execution time and Atomic object</h4>\n<p>I've developped an other solution, based on next supposed execution date, and transforming it back to delay comparing with now. This gets rid of the scheduler. It generates an other issue due to calculation time and time to be scheduled. So actions tend to be randomly spaced by less than 1s.</p>\n<h4>Attempt #4 publishing and consuming an infinite sink</h4>\nNow I'm thinking about listening to a sink (which can be used as a flux and have delayElements) which never ends, and pushing incoming actions to execute in the sink. \n<pre class=\"lang-java prettyprint-override\"><code>public class MyService {\n\n  private final Sinks.Many&lt;Data&gt; actionsToLaunch = Sinks.many().unicast().onBackpressureBuffer(\n    Queues.&lt;Data&gt;unboundedMultiproducer().get());\n\n  public MyService() {\n    waitForFutureActionsAndLaunchThemWithCustomSchedule();\n  }\n\n  public Mono&lt;String&gt; doActionWithDelay(Data data) {\n    return Mono.just(data)\n      .doOnNext(this::addToActionsToLaunch)\n      .map(Data::name);\n  }\n\n  private void waitForFutureActionsAndLaunchThemWithCustomSchedule() {\n    actionsToLaunch.asFlux()\n      .delayElements(Duration.ofMillis(1000))\n      .flatMap(data - &gt; doAction(data).onErrorResume(err - &gt; {\n        log.error(&quot;Error execution action {}&quot;, data, err);\n        // a better error handling can be done\n        return Mono.empty(); // prevent from closing the subscription\n      }))\n      .subscribe();\n  }\n\n  private void addToActionsToLaunch(Data data) {\n    // a better error handling can be done, not using emitNext\n    actionsToLaunch.emitNext(data, Sinks.EmitFailureHandler.busyLooping(Duration.ofMinutes(5)));\n  }\n}\n</code></pre>\n\n<p>I'm still unsure whether this is a good solution, or not, as I don't know if the flux will automatically close (for inactivity? or something else) and if an infinite flux, as here, can generate bad side effects (memory issues, locks, thread issues etc)</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"owner":{"account_id":2287641,"reputation":117,"user_id":2011294,"display_name":"ankur bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698350788,"creation_date":1698342965,"question_id":77369349,"body_markdown":"I am trying to create a Docker container for a spring boot mysql based application as part of a poc. While running docker compose up command, mysql container is coming up but the application service container is failing with below error.\r\n\r\n&gt; Caused by: org.hibernate.service.spi.ServiceException: Unable to\r\n&gt; create requested service\r\n&gt; [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to\r\n&gt; determine Dialect without JDBC metadata (please set\r\n&gt; &#39;javax.persistence.jdbc.url&#39;, &#39;hibernate.connection.url&#39;, or\r\n&gt; &#39;hibernate.dialect&#39;)\r\n\r\n\r\n Below are the configuration used. \r\napplication.properties\r\n\r\n    \r\n\r\n        spring.datasource.url=jdbc:mysql://mysqldb:3306/product_feed?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false\r\n            spring.datasource.username=root\r\n            spring.datasource.password=r\r\n            spring.datasource.initialization-mode=always\r\n            spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n            spring.jpa.show-sql=true\r\n            spring.jpa.hibernate.ddl-auto=update\r\n          \r\n     spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nI have tried to comment out spring.jpa.properties.hibernate.dialect and spring.datasource.driver-class-name but it still fails to start.\r\n\r\ndockerfile\r\n\r\n    FROM eclipse-temurin:17-jdk-jammy\r\n    \r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} product-feed.jar\r\n    EXPOSE 8080\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/product-feed.jar&quot;]\r\n\r\ndocker-compose.yml\r\n\r\n    version: &quot;3.2&quot;\r\n    services:\r\n      mysqldb:\r\n        image: mysql:8\r\n        restart: unless-stopped\r\n        environment:\r\n          - MYSQL_ROOT_PASSWORD=r\r\n          - MYSQL_DATABASE=product_feed\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n    \r\n      product-feed:\r\n        image: product-feed\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        networks:\r\n          - product_feed_net\r\n        depends_on:\r\n          - mysqldb\r\n    \r\n    networks:\r\n      product_feed_net:\r\n\r\n\r\nThe application is running fine in local. \r\n","title":"Getting Dialect missing error while trying to dockerize a spring boot mysql based POC","body":"<p>I am trying to create a Docker container for a spring boot mysql based application as part of a poc. While running docker compose up command, mysql container is coming up but the application service container is failing with below error.</p>\n<blockquote>\n<p>Caused by: org.hibernate.service.spi.ServiceException: Unable to\ncreate requested service\n[org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to\ndetermine Dialect without JDBC metadata (please set\n'javax.persistence.jdbc.url', 'hibernate.connection.url', or\n'hibernate.dialect')</p>\n</blockquote>\n<p>Below are the configuration used.\napplication.properties</p>\n<pre><code>    spring.datasource.url=jdbc:mysql://mysqldb:3306/product_feed?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false\n        spring.datasource.username=root\n        spring.datasource.password=r\n        spring.datasource.initialization-mode=always\n        spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n        spring.jpa.show-sql=true\n        spring.jpa.hibernate.ddl-auto=update\n      \n spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>I have tried to comment out spring.jpa.properties.hibernate.dialect and spring.datasource.driver-class-name but it still fails to start.</p>\n<p>dockerfile</p>\n<pre><code>FROM eclipse-temurin:17-jdk-jammy\n\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} product-feed.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/product-feed.jar&quot;]\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>version: &quot;3.2&quot;\nservices:\n  mysqldb:\n    image: mysql:8\n    restart: unless-stopped\n    environment:\n      - MYSQL_ROOT_PASSWORD=r\n      - MYSQL_DATABASE=product_feed\n    ports:\n      - &quot;3306:3306&quot;\n\n  product-feed:\n    image: product-feed\n    ports:\n      - &quot;8080:8080&quot;\n    networks:\n      - product_feed_net\n    depends_on:\n      - mysqldb\n\nnetworks:\n  product_feed_net:\n</code></pre>\n<p>The application is running fine in local.</p>\n"},{"tags":["java","eclipse","swing"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1698207828,"post_id":77356547,"comment_id":136374472,"body_markdown":"Which version of Java? Can you compile _any_ Java programs (for instance if your `main` had only a System.out.println`)? Which operating system?","body":"Which version of Java? Can you compile <i>any</i> Java programs (for instance if your <code>main</code> had only a System.out.println`)? Which operating system?"},{"owner":{"account_id":29747595,"reputation":1,"user_id":22798235,"display_name":"JavaTerere"},"score":0,"creation_date":1698209115,"post_id":77356547,"comment_id":136374589,"body_markdown":"Hi, and thank you! I&#39;m using Java 17 on Windows 10 Pro. I&#39;ve been compiling quite a lot of cool programs in Java, and println&#39;s are working fine.","body":"Hi, and thank you! I&#39;m using Java 17 on Windows 10 Pro. I&#39;ve been compiling quite a lot of cool programs in Java, and println&#39;s are working fine."},{"owner":{"account_id":29747595,"reputation":1,"user_id":22798235,"display_name":"JavaTerere"},"score":0,"creation_date":1698216841,"post_id":77356547,"comment_id":136375411,"body_markdown":"I got the program to run successfully from the command prompt. It just doesn&#39;t run in Eclipse.","body":"I got the program to run successfully from the command prompt. It just doesn&#39;t run in Eclipse."},{"owner":{"account_id":29747595,"reputation":1,"user_id":22798235,"display_name":"JavaTerere"},"score":0,"creation_date":1698220885,"post_id":77356547,"comment_id":136376077,"body_markdown":"After working several more hours on this, ChatGPT has finally said: “It&#39;s indeed puzzling that such a common feature isn&#39;t working in your environment, despite following a plethora of steps to troubleshoot.&quot; I’ve gone through about 100 attempts of different ways to get this right. Any thoughts about what could be wrong with the Eclipse setup such that it does not recognize Swing at all would be appreciated.","body":"After working several more hours on this, ChatGPT has finally said: “It&#39;s indeed puzzling that such a common feature isn&#39;t working in your environment, despite following a plethora of steps to troubleshoot.&quot; I’ve gone through about 100 attempts of different ways to get this right. Any thoughts about what could be wrong with the Eclipse setup such that it does not recognize Swing at all would be appreciated."},{"owner":{"account_id":29747595,"reputation":1,"user_id":22798235,"display_name":"JavaTerere"},"score":0,"creation_date":1698222741,"post_id":77356547,"comment_id":136376435,"body_markdown":"I&#39;ve found the solution, at https://www.youtube.com/watch?v=GBzwSf8bEdQ. Anyone who has questions about this can reach out to me, thank hyou!","body":"I&#39;ve found the solution, at <a href=\"https://www.youtube.com/watch?v=GBzwSf8bEdQ\" rel=\"nofollow noreferrer\">youtube.com/watch?v=GBzwSf8bEdQ</a>. Anyone who has questions about this can reach out to me, thank hyou!"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1698256165,"post_id":77356547,"comment_id":136383398,"body_markdown":"probably code is *modular*, that is, it has a `module-info.java` in the root source foler, declaring the module your code is in. If that is the case, you must add `requires java.desktop;` to that file - usually Eclipse shows a hint about that...","body":"probably code is <i>modular</i>, that is, it has a <code>module-info.java</code> in the root source foler, declaring the module your code is in. If that is the case, you must add <code>requires java.desktop;</code> to that file - usually Eclipse shows a hint about that..."},{"owner":{"account_id":29747595,"reputation":1,"user_id":22798235,"display_name":"JavaTerere"},"score":0,"creation_date":1698451471,"post_id":77356547,"comment_id":136411829,"body_markdown":"Thank you very much for this comment, I really appreciate it!","body":"Thank you very much for this comment, I really appreciate it!"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698350733,"creation_date":1698350733,"answer_id":77370021,"question_id":77356547,"body_markdown":"Just to make it a bit more evident (and prevent being dependent on youtube):\r\n\r\nThe issue is a modular application. For some reason the `java.desktop` module has not been declared in the module-info.java file hence access is forbidden.\r\n\r\nThe solution is to add the line \r\n\r\n    requires java.desktop;\r\n\r\nto the `module-info.java` file in the root of the project.","title":"Why does Eclipse not seem to be able to find swing?","body":"<p>Just to make it a bit more evident (and prevent being dependent on youtube):</p>\n<p>The issue is a modular application. For some reason the <code>java.desktop</code> module has not been declared in the module-info.java file hence access is forbidden.</p>\n<p>The solution is to add the line</p>\n<pre><code>requires java.desktop;\n</code></pre>\n<p>to the <code>module-info.java</code> file in the root of the project.</p>\n"}],"owner":{"account_id":29747595,"reputation":1,"user_id":22798235,"display_name":"JavaTerere"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698350733,"creation_date":1698206498,"question_id":77356547,"body_markdown":"Swing does not seem to exist in my Eclipse. I have now twice uninstalled and reinstalled Java, and also Eclipse from different mirrors, and yet this issue persists. I know swing is supposed to be part of the standard lilbrary, so I don&#39;t know why the program does not find it. This program:\r\n\r\n```\r\npackage com.example.helloworld;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class CreateABasicGUIProgram {\r\n\r\n\tpublic static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;Hello Swing&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(300, 200);\r\n\t\tframe.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nproduces these error messages:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tJFrame cannot be resolved to a type\r\n\tJFrame cannot be resolved to a type\r\n\tJFrame cannot be resolved to a variable\r\n\r\n\tat HelloWorld/com.example.helloworld.CreateABasicGUIProgram.main(CreateABasicGUIProgram.java:9)\r\n```\r\n\r\nChatGPT says the reason is that the Java program can&#39;t find the JFrame class, which is part of the Swing library, and that this typically happens when the Java compiler can&#39;t locate the necessary libraries.\r\n\r\nI&#39;ve followed all the tips in ChatGPT about what to do about this, and the problem persists. I&#39;ve been working on it for days.\r\n\r\nThank you very much for any thoughts you may have.\r\n ","title":"Why does Eclipse not seem to be able to find swing?","body":"<p>Swing does not seem to exist in my Eclipse. I have now twice uninstalled and reinstalled Java, and also Eclipse from different mirrors, and yet this issue persists. I know swing is supposed to be part of the standard lilbrary, so I don't know why the program does not find it. This program:</p>\n<pre><code>package com.example.helloworld;\n\nimport javax.swing.JFrame;\n\npublic class CreateABasicGUIProgram {\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Hello Swing&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(300, 200);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>produces these error messages:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    JFrame cannot be resolved to a type\n    JFrame cannot be resolved to a type\n    JFrame cannot be resolved to a variable\n\n    at HelloWorld/com.example.helloworld.CreateABasicGUIProgram.main(CreateABasicGUIProgram.java:9)\n</code></pre>\n<p>ChatGPT says the reason is that the Java program can't find the JFrame class, which is part of the Swing library, and that this typically happens when the Java compiler can't locate the necessary libraries.</p>\n<p>I've followed all the tips in ChatGPT about what to do about this, and the problem persists. I've been working on it for days.</p>\n<p>Thank you very much for any thoughts you may have.</p>\n"},{"tags":["java","mysql","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7554720,"reputation":167,"user_id":5734862,"accept_rate":20,"display_name":"Mahmod Abu Jehad"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1515533794,"creation_date":1515533794,"answer_id":48177006,"question_id":48176965,"body_markdown":"Nothing. Just execute your query. If the connection has died, either your JDBC driver will reconnect (if it supports it, and you enabled it in your connection string--most don&#39;t support it) or else you&#39;ll get an exception.\r\n\r\nIf you check the connection is up, it might fall over before you actually execute your query, so you gain absolutely nothing by checking.\r\n\r\nThat said, a lot of connection pools validate a connection by doing something like SELECT 1 before handing connections out. But this is nothing more than just executing a query, so you might just as well execute your business query.\r\n\r\nour best chance is to just perform a simple query against one table, e.g.:\r\n\r\n    select 1 from SOME_TABLE;\r\n\r\nhttps://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html#isValid%28int%29","title":"Check db connection is active","body":"<p>Nothing. Just execute your query. If the connection has died, either your JDBC driver will reconnect (if it supports it, and you enabled it in your connection string--most don't support it) or else you'll get an exception.</p>\n\n<p>If you check the connection is up, it might fall over before you actually execute your query, so you gain absolutely nothing by checking.</p>\n\n<p>That said, a lot of connection pools validate a connection by doing something like SELECT 1 before handing connections out. But this is nothing more than just executing a query, so you might just as well execute your business query.</p>\n\n<p>our best chance is to just perform a simple query against one table, e.g.:</p>\n\n<pre><code>select 1 from SOME_TABLE;\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html#isValid%28int%29\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html#isValid%28int%29</a></p>\n"},{"tags":[],"owner":{"account_id":7233394,"reputation":989,"user_id":5594670,"display_name":"Javvano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515560823,"creation_date":1515560823,"answer_id":48180634,"question_id":48176965,"body_markdown":"if you can use Spring Boot. [Spring Boot Actuator][1] is useful for you. \r\nactuator will configure automatically and after it has activated ,\r\nyou can get know database status to request &quot;health&quot;\r\n\r\n    http://[CONTEXT_ROOT]/health\r\nand it will return , database status like below\r\n\r\n    {&quot;status&quot;:&quot;UP&quot;,&quot;db&quot;:{&quot;status&quot;:&quot;UP&quot;,&quot;database&quot;:&quot;PostgreSQL&quot;,&quot;hello&quot;:1}}\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html","title":"Check db connection is active","body":"<p>if you can use Spring Boot. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html\" rel=\"nofollow noreferrer\">Spring Boot Actuator</a> is useful for you. \nactuator will configure automatically and after it has activated ,\nyou can get know database status to request \"health\"</p>\n\n<pre><code>http://[CONTEXT_ROOT]/health\n</code></pre>\n\n<p>and it will return , database status like below</p>\n\n<pre><code>{\"status\":\"UP\",\"db\":{\"status\":\"UP\",\"database\":\"PostgreSQL\",\"hello\":1}}\n</code></pre>\n"}],"owner":{"account_id":1463176,"reputation":4443,"user_id":1376885,"accept_rate":34,"display_name":"Viktor M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698350720,"creation_date":1515533588,"question_id":48176965,"body_markdown":"How can I check that a connection to db is active or lost using spring data jpa? \r\n\r\nOnly the way is to make a query &quot;SELECT 1&quot;?","title":"Check db connection is active","body":"<p>How can I check that a connection to db is active or lost using spring data jpa? </p>\n\n<p>Only the way is to make a query \"SELECT 1\"?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"score":1,"creation_date":1444207860,"post_id":32987678,"comment_id":53800270,"body_markdown":"Build the project after adding the jar to project properly","body":"Build the project after adding the jar to project properly"},{"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"score":0,"creation_date":1444208082,"post_id":32987678,"comment_id":53800445,"body_markdown":"r u sure you have the MySQL jar file in  **classpath**?","body":"r u sure you have the MySQL jar file in  <b>classpath</b>?"},{"owner":{"account_id":213468,"reputation":103463,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1444210848,"post_id":32987678,"comment_id":53802361,"body_markdown":"You should usually have no need to cast a `java.sql.Connection` to a `com.mysql.jdbc.Connection`, what you are doing is somewhat of an antipattern","body":"You should usually have no need to cast a <code>java.sql.Connection</code> to a <code>com.mysql.jdbc.Connection</code>, what you are doing is somewhat of an antipattern"},{"owner":{"account_id":6986292,"reputation":35,"user_id":5357090,"accept_rate":43,"display_name":"Sulaiman"},"score":0,"creation_date":1444281265,"post_id":32987678,"comment_id":53838501,"body_markdown":"[link](http://pastebin.com/nXmAJ7mf)","body":"<a href=\"http://pastebin.com/nXmAJ7mf\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698362014,"post_id":32987678,"comment_id":136399420,"body_markdown":"The `Class.forName()` line hasn’t been needed since 2006.","body":"The <code>Class.forName()</code> line hasn’t been needed since 2006."}],"answers":[{"tags":[],"owner":{"account_id":4964280,"reputation":4147,"user_id":3994197,"accept_rate":38,"display_name":"Vishal Gajera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444208931,"creation_date":1444208931,"answer_id":32988188,"question_id":32987678,"body_markdown":"It&#39;s Jar missing issue.\r\nNetbean Editor Unable to fine Classed from MySQL_XXX_whatever_Name.jar.\r\n\r\nPlease add properly required library first into your java project.\r\n\r\n    In Netbean, Right click on Library -&gt; search Mysql...jar file(if exist from list) otherwise, manually download and import.\r\n\r\nyour problem will be solve out.","title":"package com.mysql.jdbc does not exist","body":"<p>It's Jar missing issue.\nNetbean Editor Unable to fine Classed from MySQL_XXX_whatever_Name.jar.</p>\n\n<p>Please add properly required library first into your java project.</p>\n\n<pre><code>In Netbean, Right click on Library -&gt; search Mysql...jar file(if exist from list) otherwise, manually download and import.\n</code></pre>\n\n<p>your problem will be solve out.</p>\n"}],"owner":{"account_id":6986292,"reputation":35,"user_id":5357090,"accept_rate":43,"display_name":"Sulaiman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1698362069,"answer_count":1,"score":1,"last_activity_date":1698350720,"creation_date":1444207536,"question_id":32987678,"body_markdown":"i have problem with import com.mysql.jdbc.Connection it say package com.mysql.jdbc does not exist and iam already put mysql-connector-java-5.1.36 at the netbeans \r\n\r\n        package pkgnew;\r\n    import com.mysql.jdbc.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    /**\r\n     *\r\n     * @author xxxx1\r\n     */\r\n    public class DBConn {\r\n        private Connection DBConn;\r\n        public Connection connect() {\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                System.out.println(&quot;Connection Success&quot;);\r\n            }\r\n            catch(ClassNotFoundException cnfe){\r\n                System.out.println(&quot;Connection Fail&quot; + cnfe);\r\n            }\r\n            String url = &quot;jdbc:mysql://localhost:3306/cars&quot;;\r\n                try {\r\n                DBConn = (Connection) DriverManager.getConnection(url, &quot;root&quot;,&quot;123456&quot;);\r\n                System.out.println(&quot;Database Connected&quot;);\r\n                }\r\n                catch (SQLException se){\r\n                        System.out.println(&quot;No Database&quot;+se);\r\n                        }\r\n                return DBConn;\r\n            }\r\n        }","title":"package com.mysql.jdbc does not exist","body":"<p>i have problem with import com.mysql.jdbc.Connection it say package com.mysql.jdbc does not exist and iam already put mysql-connector-java-5.1.36 at the netbeans </p>\n\n<pre><code>    package pkgnew;\nimport com.mysql.jdbc.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n/**\n *\n * @author xxxx1\n */\npublic class DBConn {\n    private Connection DBConn;\n    public Connection connect() {\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            System.out.println(\"Connection Success\");\n        }\n        catch(ClassNotFoundException cnfe){\n            System.out.println(\"Connection Fail\" + cnfe);\n        }\n        String url = \"jdbc:mysql://localhost:3306/cars\";\n            try {\n            DBConn = (Connection) DriverManager.getConnection(url, \"root\",\"123456\");\n            System.out.println(\"Database Connected\");\n            }\n            catch (SQLException se){\n                    System.out.println(\"No Database\"+se);\n                    }\n            return DBConn;\n        }\n    }\n</code></pre>\n"},{"tags":["java","swing","undefined","joptionpane"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1698249656,"post_id":77361120,"comment_id":136382102,"body_markdown":"`/detyra/src/javax/swing` definitely doesn&#39;t sound right. Did you write your own `JOptionPane` class? That should be imported from the Java standard library, not from your own project repo.","body":"<code>&#47;detyra&#47;src&#47;javax&#47;swing</code> definitely doesn&#39;t sound right. Did you write your own <code>JOptionPane</code> class? That should be imported from the Java standard library, not from your own project repo."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1698250267,"post_id":77361120,"comment_id":136382210,"body_markdown":"First of all make sure to use a java version or lib  where swing components are still a part of. Then check the documentation and there you can see that 2 possible methods can match the param types: null, String which means null, object. since everything is a object.\nSo there are 2 methods that are colliding with the 2 very general param types since NULL can be anything and the other are wrapped at object. You need to be more precise so java can choose 1.\n\nCheck here: https://docs.oracle.com/javase/8/docs/api/javax/swing/JOptionPane.html","body":"First of all make sure to use a java version or lib  where swing components are still a part of. Then check the documentation and there you can see that 2 possible methods can match the param types: null, String which means null, object. since everything is a object. So there are 2 methods that are colliding with the 2 very general param types since NULL can be anything and the other are wrapped at object. You need to be more precise so java can choose 1.  Check here: <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JOptionPane.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/swing/JOptionPane.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1698250647,"post_id":77361120,"comment_id":136382301,"body_markdown":"@LenglBoy Both aspects of your comment are incorrect / misleading. swing is part of all distros (it&#39;s javafx you&#39;re thinking of - that is a dep you sometimes have to pull in). This error indicates it cannot be an overload issue.","body":"@LenglBoy Both aspects of your comment are incorrect / misleading. swing is part of all distros (it&#39;s javafx you&#39;re thinking of - that is a dep you sometimes have to pull in). This error indicates it cannot be an overload issue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698252057,"post_id":77361120,"comment_id":136382631,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1698350313,"post_id":77361120,"comment_id":136397951,"body_markdown":"Looks like the project is getting compiled with the wrong classpath. Check your IDE/Project settings or how else you run the compiler.","body":"Looks like the project is getting compiled with the wrong classpath. Check your IDE/Project settings or how else you run the compiler."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1698395107,"post_id":77361120,"comment_id":136402645,"body_markdown":"It looks like you&#39;ve written your first attempt in a class that you&#39;ve called `JOptionPane`, which conflicts with the one belonging to the Java API. You then created a new class with a new name `VendingMachine` but unfortunately you left your `JOptionPane` class behind, and the compiler is looking at that one instead of the Java Swing class. Delete (or rename) your `JOptionPane` class and you should be able to proceed. And next time, don&#39;t name any of your packages starting with the word &quot;java&quot;.","body":"It looks like you&#39;ve written your first attempt in a class that you&#39;ve called <code>JOptionPane</code>, which conflicts with the one belonging to the Java API. You then created a new class with a new name <code>VendingMachine</code> but unfortunately you left your <code>JOptionPane</code> class behind, and the compiler is looking at that one instead of the Java Swing class. Delete (or rename) your <code>JOptionPane</code> class and you should be able to proceed. And next time, don&#39;t name any of your packages starting with the word &quot;java&quot;."}],"owner":{"account_id":29752466,"reputation":1,"user_id":22802056,"display_name":"griss"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698350160,"creation_date":1698249464,"question_id":77361120,"body_markdown":"I am a begginner and i am trying to run this code but it keeps showing problems\r\nThis is my code:\r\n\r\n    package detyra:\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Vendingmachine{\r\n        public static void main(String[] args) {\r\n         \r\n        \tString response;\r\n        \tint dollarbills,stamps,change;\r\n        \tresponse=JOptionPane.showInputDialog(null, &quot;Enter Dollarbill&quot;);\r\n        \tdollarbills=int.parsedouble(response);\r\n        \tstamps=dollarbills/47;\r\n        \tchange=dollarbills%47;\t\t\r\n        \tJOptionPane.showMessageDialog(null,&quot;Dollar bill:&quot;\r\n                + dollarbills + &quot;\\nStamps:&quot; +stamps +&quot;\\nChange:&quot;  +change);                           \r\n        }\r\n    }\r\n\r\nAnd these are the problems:\r\n\r\n    The method showInputDialog(null, String) is undefined for the type JOptionPane\tJOptionPane.java\t/detyra/src/javax/swing\tline 13\tJava Problem\r\n    Description\tResource\tPath\tLocation\tType\r\n    The method showInputDialog(null, String) is undefined for the type JOptionPane\tVendingmachine.java\t/detyra/src/detyra\tline 10\tJava Problem\r\n    Description\tResource\tPath\tLocation\tType\r\n    The method showMessageDialog(null, String) is undefined for the type JOptionPane\tJOptionPane.java\t/detyra/src/javax/swing\tline 18\tJava Problem\r\n    Description\tResource\tPath\tLocation\tType\r\n    The method showMessageDialog(null, String) is undefined for the type JOptionPane\tVendingmachine.java\t/detyra/src/detyra\tline 15\tJava Problem\r\n\r\n","title":"why does it keep showing that a code is undefined in JOptionPane?","body":"<p>I am a begginner and i am trying to run this code but it keeps showing problems\nThis is my code:</p>\n<pre><code>package detyra:\nimport javax.swing.JOptionPane;\n\npublic class Vendingmachine{\n    public static void main(String[] args) {\n     \n        String response;\n        int dollarbills,stamps,change;\n        response=JOptionPane.showInputDialog(null, &quot;Enter Dollarbill&quot;);\n        dollarbills=int.parsedouble(response);\n        stamps=dollarbills/47;\n        change=dollarbills%47;      \n        JOptionPane.showMessageDialog(null,&quot;Dollar bill:&quot;\n            + dollarbills + &quot;\\nStamps:&quot; +stamps +&quot;\\nChange:&quot;  +change);                           \n    }\n}\n</code></pre>\n<p>And these are the problems:</p>\n<pre><code>The method showInputDialog(null, String) is undefined for the type JOptionPane  JOptionPane.java    /detyra/src/javax/swing line 13 Java Problem\nDescription Resource    Path    Location    Type\nThe method showInputDialog(null, String) is undefined for the type JOptionPane  Vendingmachine.java /detyra/src/detyra  line 10 Java Problem\nDescription Resource    Path    Location    Type\nThe method showMessageDialog(null, String) is undefined for the type JOptionPane    JOptionPane.java    /detyra/src/javax/swing line 18 Java Problem\nDescription Resource    Path    Location    Type\nThe method showMessageDialog(null, String) is undefined for the type JOptionPane    Vendingmachine.java /detyra/src/detyra  line 15 Java Problem\n</code></pre>\n"},{"tags":["java","xml","preferences"],"comments":[{"owner":{"account_id":8112,"reputation":64567,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1698323580,"post_id":77366953,"comment_id":136392635,"body_markdown":"Can you edit the question and post an example of the output that is generated? You said to reference an image, but there is none - and in general it&#39;s best to post text/code and not just images anyhow.","body":"Can you edit the question and post an example of the output that is generated? You said to reference an image, but there is none - and in general it&#39;s best to post text/code and not just images anyhow."},{"owner":{"account_id":11715482,"reputation":23,"user_id":8576123,"display_name":"JMDK"},"score":0,"creation_date":1698325217,"post_id":77366953,"comment_id":136392975,"body_markdown":"Mads, sorry I tried attaching the image and for whatever reason it failed to upload.  Fixed.  In this case an image would best show the output from NotePad++, IMHO.","body":"Mads, sorry I tried attaching the image and for whatever reason it failed to upload.  Fixed.  In this case an image would best show the output from NotePad++, IMHO."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1698335233,"creation_date":1698335233,"answer_id":77368516,"question_id":77366953,"body_markdown":"You are writing to an `ObjectOutputStream` but are reading directly from a `FileInputStream`. Try to get rid of the `ObjectOutputStream` and write directly to your `FileOutputStream`.","title":"Why is Java&#39;s Preferences.exportNode() exporting non-XML characters?","body":"<p>You are writing to an <code>ObjectOutputStream</code> but are reading directly from a <code>FileInputStream</code>. Try to get rid of the <code>ObjectOutputStream</code> and write directly to your <code>FileOutputStream</code>.</p>\n"}],"owner":{"account_id":11715482,"reputation":23,"user_id":8576123,"display_name":"JMDK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77368516,"answer_count":1,"score":0,"last_activity_date":1698350086,"creation_date":1698322873,"question_id":77366953,"body_markdown":"I have a Java program that should save the values stored in Preference when it exits but when I use the `Preferences` class to export and import the stored keys/values for a node, save works but load fails with NotePad++ showing contains non-XML characters at the beginning of the file (see image).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBelow is the minimal code.  I&#39;m pretty sure I&#39;m just doing/missing something stupid but I can&#39;t seem to find it.\r\n\r\n\r\n```\r\npublic class Test{\r\n  java.util.prefs.Preferences userPref;\r\n    public Test() {}\r\n    public void run(){\r\n            userPref = java.util.prefs.Preferences.userNodeForPackage(getClass());\r\n            save();\r\n            load();\r\n    }\r\n    public boolean save(){\r\n        FileOutputStream fileOutputStream = null;\r\n        try {\r\n            File file = new File(&quot;Test.xml&quot;);\r\n            fileOutputStream = new FileOutputStream(file);\r\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(fileOutputStream);\r\n            userPref.exportNode(objectOutputStream);\r\n            objectOutputStream.close();\r\n            fileOutputStream.close();\r\n            return true;    \r\n        } catch (IOException | BackingStoreException ex) {\r\n        } finally {\r\n            try {\r\n                fileOutputStream.close();\r\n            } catch (IOException ex) {}\r\n        }\r\n        return false;\r\n    }\r\n    public boolean load(){\r\n        try {\r\n            File file = new File(&quot;Test.xml&quot;);\r\n            if(!file.exists()) return false;\r\n            Preferences.importPreferences(new FileInputStream(file)); \r\n            // ^ Error occurs here at the line Document doc = loadPrefsDoc(is);\r\n        } catch (IOException ex) {\r\n            return false;\r\n        } catch (InvalidPreferencesFormatException ex) {\r\n            return false;\r\n        }\r\n        return false;\r\n    }\r\n    public static void main(String args[]) {\r\n        Test test = new Test();\r\n        test.run();\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NqGHp.png","title":"Why is Java&#39;s Preferences.exportNode() exporting non-XML characters?","body":"<p>I have a Java program that should save the values stored in Preference when it exits but when I use the <code>Preferences</code> class to export and import the stored keys/values for a node, save works but load fails with NotePad++ showing contains non-XML characters at the beginning of the file (see image).</p>\n<p><a href=\"https://i.stack.imgur.com/NqGHp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqGHp.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the minimal code.  I'm pretty sure I'm just doing/missing something stupid but I can't seem to find it.</p>\n<pre><code>public class Test{\n  java.util.prefs.Preferences userPref;\n    public Test() {}\n    public void run(){\n            userPref = java.util.prefs.Preferences.userNodeForPackage(getClass());\n            save();\n            load();\n    }\n    public boolean save(){\n        FileOutputStream fileOutputStream = null;\n        try {\n            File file = new File(&quot;Test.xml&quot;);\n            fileOutputStream = new FileOutputStream(file);\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(fileOutputStream);\n            userPref.exportNode(objectOutputStream);\n            objectOutputStream.close();\n            fileOutputStream.close();\n            return true;    \n        } catch (IOException | BackingStoreException ex) {\n        } finally {\n            try {\n                fileOutputStream.close();\n            } catch (IOException ex) {}\n        }\n        return false;\n    }\n    public boolean load(){\n        try {\n            File file = new File(&quot;Test.xml&quot;);\n            if(!file.exists()) return false;\n            Preferences.importPreferences(new FileInputStream(file)); \n            // ^ Error occurs here at the line Document doc = loadPrefsDoc(is);\n        } catch (IOException ex) {\n            return false;\n        } catch (InvalidPreferencesFormatException ex) {\n            return false;\n        }\n        return false;\n    }\n    public static void main(String args[]) {\n        Test test = new Test();\n        test.run();\n        System.exit(0);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1698185868,"post_id":77355665,"comment_id":136372774,"body_markdown":"Not possible - or at least not in a simple way - because the handling of the mouse is done out of a context you can manage.  Instead, why I&#39;ve done in the past, is used a Swing `Timer` with a shortish delay.  So each time `componentResized` is called, you would restart the `Timer` and until there are no updates (within a reasonable amount of time), the `Timer` won&#39;t trigger.","body":"Not possible - or at least not in a simple way - because the handling of the mouse is done out of a context you can manage.  Instead, why I&#39;ve done in the past, is used a Swing <code>Timer</code> with a shortish delay.  So each time <code>componentResized</code> is called, you would restart the <code>Timer</code> and until there are no updates (within a reasonable amount of time), the <code>Timer</code> won&#39;t trigger."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1698185940,"post_id":77355665,"comment_id":136372779,"body_markdown":"Implement a [`MouseListener`](https://docs.oracle.com/javase/8/docs/api/java/awt/event/MouseListener.html) and do it on the [`mouseReleased`](https://docs.oracle.com/javase/8/docs/api/java/awt/event/MouseListener.html#mouseReleased-java.awt.event.MouseEvent-) event?","body":"Implement a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/MouseListener.html\" rel=\"nofollow noreferrer\"><code>MouseListener</code></a> and do it on the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/MouseListener.html#mouseReleased-java.awt.event.MouseEvent-\" rel=\"nofollow noreferrer\"><code>mouseReleased</code></a> event?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1698186002,"post_id":77355665,"comment_id":136372789,"body_markdown":"@MadProgrammer why not just store the values in fields every time the component is resized, and hook the mouseReleased event to save the latest values?","body":"@MadProgrammer why not just store the values in fields every time the component is resized, and hook the mouseReleased event to save the latest values?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1698187186,"post_id":77355665,"comment_id":136372930,"body_markdown":"@DavidConrad Because you can&#39;t trap the mouse events which are used by the OS to resize or move the window - because that&#39;s managed by the OS, not Java - so a `MouseListener` in this context won&#39;t work","body":"@DavidConrad Because you can&#39;t trap the mouse events which are used by the OS to resize or move the window - because that&#39;s managed by the OS, not Java - so a <code>MouseListener</code> in this context won&#39;t work"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1698187302,"post_id":77355665,"comment_id":136372943,"body_markdown":"@MadProgrammer Oh, of course. My mistake. Thank you.","body":"@MadProgrammer Oh, of course. My mistake. Thank you."},{"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"score":0,"creation_date":1698189326,"post_id":77355665,"comment_id":136373110,"body_markdown":"I think I&#39;ve got a simple solution, I&#39;ll wait for 2 days, if no one else has a better answer, I&#39;ll post it ^_^ !","body":"I think I&#39;ve got a simple solution, I&#39;ll wait for 2 days, if no one else has a better answer, I&#39;ll post it ^_^ !"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698193458,"creation_date":1698192699,"answer_id":77355983,"question_id":77355665,"body_markdown":"I have an answer for you here, but it uses JNativeHook, which uses JNI:\r\n - https://github.com/kwhat/jnativehook\r\n - downloadable releases here: https://github.com/kwhat/jnativehook/releases), .\r\n - Also make sure to use version 2.2.2 or later, the previous builds are a bit buggy on Windows, not triggering all events\r\n\r\n\r\nSo here the central class:\r\n\r\n    package gui.windows.mousedraghelper;\r\n    \r\n    import java.awt.Component;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.util.function.Consumer;\r\n    \r\n    import com.github.kwhat.jnativehook.GlobalScreen;\r\n    import com.github.kwhat.jnativehook.NativeHookException;\r\n    import com.github.kwhat.jnativehook.mouse.NativeMouseEvent;\r\n    import com.github.kwhat.jnativehook.mouse.NativeMouseListener;\r\n    \r\n    \r\n    public class MouseDragHelper implements AutoCloseable {\r\n    \r\n    \tprivate final Consumer&lt;ComponentEvent&gt; mLambda;\r\n    \r\n    \tComponentEvent mLastDragEvent;\r\n    \r\n    \tpublic MouseDragHelper(final Component pWindow, final Consumer&lt;ComponentEvent&gt; pLambda) throws NativeHookException {\r\n    \t\tmLambda = pLambda;\r\n    \r\n    \t\tGlobalScreen.addNativeMouseListener(new NativeMouseListener() {\r\n    \t\t\t@Override public void nativeMousePressed(final NativeMouseEvent pNativeMouseEvent) {\r\n    \t\t\t\tmLastDragEvent = null;\r\n    \t\t\t}\r\n    \t\t\t@Override public void nativeMouseReleased(final NativeMouseEvent pNativeMouseEvent) {\r\n    \t\t\t\tcheckRaiseEvent();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tpWindow.addComponentListener(new ComponentAdapter() {\r\n    \t\t\t@Override public void componentMoved(final ComponentEvent pE) {\r\n    \t\t\t\tmLastDragEvent = pE;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tGlobalScreen.registerNativeHook();\r\n    \t}\r\n    \r\n    \tprotected void checkRaiseEvent() {\r\n    \t\tfinal ComponentEvent lde = mLastDragEvent;\r\n    \t\tif (lde != null) SwingUtilities.invokeLater(() -&gt; mLambda.accept(lde));\r\n    \t}\r\n    \r\n    \t@Override public void close() {\r\n    \t\ttry {\r\n    \t\t\tGlobalScreen.unregisterNativeHook();\r\n    \t\t} catch (final NativeHookException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\t/* we could actually simply ignore this */\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nAlong with the external example (window controlled from the outside):\r\n\r\n    package gui.windows.mousedraghelper;\r\n    \r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.WindowConstants;\r\n    \r\n    import com.github.kwhat.jnativehook.NativeHookException;\r\n    \r\n    \r\n    public class Test_MouseDragHelper_External {\r\n    \r\n    \r\n    \r\n    \tstatic class TestFrame extends JFrame {\r\n    \t\tprivate static final long serialVersionUID = -7239078731343703120L;\r\n    \r\n    \t\tpublic TestFrame() {\r\n    \t\t\tsetTitle(&quot;MouseDragHelper - External Test&quot;);\r\n    \t\t\tsetBounds(400, 300, 400, 300);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws NativeHookException {\r\n    \t\tfinal TestFrame window = new TestFrame();\r\n    \r\n    \t\t// we need this to catch the addWindowListener-&gt;WindowAdapter-&gt;windowClosed event\r\n    \t\t// we do NOT need this when WindowConstants.EXIT_ON_CLOSE is specified\r\n    \t\twindow.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n    \r\n    \t\twindow.setVisible(true);\r\n    \r\n    \t\t@SuppressWarnings(&quot;resource&quot;) final MouseDragHelper mdh = new MouseDragHelper(window, e -&gt; handleWindowDragDone(e));\r\n    \t\twindow.addWindowListener(new WindowAdapter() {\r\n    \t\t\t@Override public void windowClosed(final WindowEvent pE) {\r\n    \t\t\t\tmdh.close();\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t}\r\n    \r\n    \tstatic private void handleWindowDragDone(final ComponentEvent pE) {\r\n    \t\tSystem.out.println(&quot;The window was just dragged and released: &quot; + pE);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nAnd the internal example (window controlled from its inside, which you will probably use in your code):\r\n\r\n    package gui.windows.mousedraghelper;\r\n    \r\n    import java.awt.event.ComponentEvent;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    import com.github.kwhat.jnativehook.NativeHookException;\r\n    \r\n    \r\n    public class Test_MouseDragHelper_Internal {\r\n    \r\n    \r\n    \r\n    \tstatic class TestFrame extends JFrame {\r\n    \t\tprivate static final long serialVersionUID = 3161758860296277990L;\r\n    \r\n    \t\tprivate final MouseDragHelper mMouseDragHelper;\r\n    \r\n    \t\tpublic TestFrame() throws NativeHookException {\r\n    \t\t\tmMouseDragHelper = new MouseDragHelper(this, e -&gt; dragDone(e));\r\n    \t\t\tsetDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n    \t\t\tsetTitle(&quot;MouseDragHelper - Internal Test&quot;);\r\n    \t\t\tsetBounds(400, 300, 400, 300);\r\n    \t\t}\r\n    \r\n    \t\t@Override public void dispose() {\r\n    \t\t\tmMouseDragHelper.close();\r\n    \t\t\tsuper.dispose();\r\n    \t\t}\r\n    \r\n    \t\t@SuppressWarnings(&quot;static-method&quot;) private void dragDone(final ComponentEvent pE) {\r\n    \t\t\tSystem.out.println(&quot;MouseDragHelper.TestFrame.dragDone() &quot; + pE);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws NativeHookException {\r\n    \t\tfinal TestFrame window = new TestFrame();\r\n    \t\twindow.setVisible(true);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nIn both the internal and external examples I have made sure to also unregister the native hooks again, because that library uses a Thread that is no daemon thread. So the JVM would not shut down on its own, unless you used `System.exit()` or `window.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);`, but that is rather unclean.\r\n\r\n// EDIT 1: I could also have added the &#39;discard/unload&#39; part into the MouseDragHelper class itself, but then I&#39;d have to take care of a lot more things, like if it&#39;s a JFrame/JWindow/Frame/Window or any other class... So I decided to leave the discarding to the ouside, the creator, and simply hint at it by making it `AutoCloseable`, which will give resource warnings when used.","title":"How to output x,y,w,h only when mouse is released with JFrame in Java Swing?","body":"<p>I have an answer for you here, but it uses JNativeHook, which uses JNI:</p>\n<ul>\n<li><a href=\"https://github.com/kwhat/jnativehook\" rel=\"nofollow noreferrer\">https://github.com/kwhat/jnativehook</a></li>\n<li>downloadable releases here: <a href=\"https://github.com/kwhat/jnativehook/releases\" rel=\"nofollow noreferrer\">https://github.com/kwhat/jnativehook/releases</a>), .</li>\n<li>Also make sure to use version 2.2.2 or later, the previous builds are a bit buggy on Windows, not triggering all events</li>\n</ul>\n<p>So here the central class:</p>\n<pre><code>package gui.windows.mousedraghelper;\n\nimport java.awt.Component;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.util.function.Consumer;\n\nimport com.github.kwhat.jnativehook.GlobalScreen;\nimport com.github.kwhat.jnativehook.NativeHookException;\nimport com.github.kwhat.jnativehook.mouse.NativeMouseEvent;\nimport com.github.kwhat.jnativehook.mouse.NativeMouseListener;\n\n\npublic class MouseDragHelper implements AutoCloseable {\n\n    private final Consumer&lt;ComponentEvent&gt; mLambda;\n\n    ComponentEvent mLastDragEvent;\n\n    public MouseDragHelper(final Component pWindow, final Consumer&lt;ComponentEvent&gt; pLambda) throws NativeHookException {\n        mLambda = pLambda;\n\n        GlobalScreen.addNativeMouseListener(new NativeMouseListener() {\n            @Override public void nativeMousePressed(final NativeMouseEvent pNativeMouseEvent) {\n                mLastDragEvent = null;\n            }\n            @Override public void nativeMouseReleased(final NativeMouseEvent pNativeMouseEvent) {\n                checkRaiseEvent();\n            }\n        });\n        pWindow.addComponentListener(new ComponentAdapter() {\n            @Override public void componentMoved(final ComponentEvent pE) {\n                mLastDragEvent = pE;\n            }\n        });\n        GlobalScreen.registerNativeHook();\n    }\n\n    protected void checkRaiseEvent() {\n        final ComponentEvent lde = mLastDragEvent;\n        if (lde != null) SwingUtilities.invokeLater(() -&gt; mLambda.accept(lde));\n    }\n\n    @Override public void close() {\n        try {\n            GlobalScreen.unregisterNativeHook();\n        } catch (final NativeHookException e) {\n            e.printStackTrace();\n            /* we could actually simply ignore this */\n        }\n    }\n\n}\n</code></pre>\n<p>Along with the external example (window controlled from the outside):</p>\n<pre><code>package gui.windows.mousedraghelper;\n\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\nimport javax.swing.JFrame;\nimport javax.swing.WindowConstants;\n\nimport com.github.kwhat.jnativehook.NativeHookException;\n\n\npublic class Test_MouseDragHelper_External {\n\n\n\n    static class TestFrame extends JFrame {\n        private static final long serialVersionUID = -7239078731343703120L;\n\n        public TestFrame() {\n            setTitle(&quot;MouseDragHelper - External Test&quot;);\n            setBounds(400, 300, 400, 300);\n        }\n    }\n\n\n\n    public static void main(final String[] args) throws NativeHookException {\n        final TestFrame window = new TestFrame();\n\n        // we need this to catch the addWindowListener-&gt;WindowAdapter-&gt;windowClosed event\n        // we do NOT need this when WindowConstants.EXIT_ON_CLOSE is specified\n        window.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n\n        window.setVisible(true);\n\n        @SuppressWarnings(&quot;resource&quot;) final MouseDragHelper mdh = new MouseDragHelper(window, e -&gt; handleWindowDragDone(e));\n        window.addWindowListener(new WindowAdapter() {\n            @Override public void windowClosed(final WindowEvent pE) {\n                mdh.close();\n            }\n        });\n\n    }\n\n    static private void handleWindowDragDone(final ComponentEvent pE) {\n        System.out.println(&quot;The window was just dragged and released: &quot; + pE);\n    }\n\n\n\n}\n</code></pre>\n<p>And the internal example (window controlled from its inside, which you will probably use in your code):</p>\n<pre><code>package gui.windows.mousedraghelper;\n\nimport java.awt.event.ComponentEvent;\n\nimport javax.swing.JFrame;\n\nimport com.github.kwhat.jnativehook.NativeHookException;\n\n\npublic class Test_MouseDragHelper_Internal {\n\n\n\n    static class TestFrame extends JFrame {\n        private static final long serialVersionUID = 3161758860296277990L;\n\n        private final MouseDragHelper mMouseDragHelper;\n\n        public TestFrame() throws NativeHookException {\n            mMouseDragHelper = new MouseDragHelper(this, e -&gt; dragDone(e));\n            setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n            setTitle(&quot;MouseDragHelper - Internal Test&quot;);\n            setBounds(400, 300, 400, 300);\n        }\n\n        @Override public void dispose() {\n            mMouseDragHelper.close();\n            super.dispose();\n        }\n\n        @SuppressWarnings(&quot;static-method&quot;) private void dragDone(final ComponentEvent pE) {\n            System.out.println(&quot;MouseDragHelper.TestFrame.dragDone() &quot; + pE);\n        }\n    }\n\n\n\n    public static void main(final String[] args) throws NativeHookException {\n        final TestFrame window = new TestFrame();\n        window.setVisible(true);\n    }\n\n\n\n}\n</code></pre>\n<p>In both the internal and external examples I have made sure to also unregister the native hooks again, because that library uses a Thread that is no daemon thread. So the JVM would not shut down on its own, unless you used <code>System.exit()</code> or <code>window.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</code>, but that is rather unclean.</p>\n<p>// EDIT 1: I could also have added the 'discard/unload' part into the MouseDragHelper class itself, but then I'd have to take care of a lot more things, like if it's a JFrame/JWindow/Frame/Window or any other class... So I decided to leave the discarding to the ouside, the creator, and simply hint at it by making it <code>AutoCloseable</code>, which will give resource warnings when used.</p>\n"},{"tags":[],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698348285,"creation_date":1698348285,"answer_id":77369829,"question_id":77355665,"body_markdown":"My objective is to :\r\n\r\n[1] Save the final X,Y,W,H\r\n\r\n[2] Only save them once, not multiple times during the moving or resizing process.\r\n\r\nI came up with the following solution :\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class MouseMotionEventDemo extends JPanel\r\n    {\r\n      static JFrame frame=new JFrame();\r\n      \r\n      public MouseMotionEventDemo()\r\n      {\r\n        setPreferredSize(new Dimension(500,300));\r\n    \r\n        frame.addFocusListener(new FocusListener()\r\n        {\r\n          public void focusGained(FocusEvent e)\r\n          {\r\n    //        displayMessage(&quot;Focus gained&quot;,e);\r\n          }\r\n    \r\n          public void focusLost(FocusEvent e)\r\n          {\r\n            displayMessage(&quot;Focus lost&quot;,e);\r\n            saveXYWH(frame);\r\n          }\r\n    \r\n          void displayMessage(String prefix,FocusEvent e)\r\n          {\r\n            System.out.println(prefix\r\n                               +(e.isTemporary() ? &quot; (temporary)&quot; : &quot;&quot;)+&quot; : &lt; &quot;\r\n                               +e.getComponent().getName()+&quot; &gt; ; Opposite component : &lt; &quot;\r\n                               +(e.getOppositeComponent()!=null ? e.getOppositeComponent().getName() : &quot;null&quot;)+&quot; &gt;&quot;);\r\n          }\r\n        });\r\n      }\r\n      \r\n      static void saveXYWH(JFrame frame)\r\n      {\r\n        Out(&quot;saveXYWH [ X = &quot;+frame.getLocation().x+&quot; , Y = &quot;+frame.getLocation().y+&quot; | W = &quot;+frame.getSize().width+&quot; , H = &quot;+frame.getSize().height+&quot; ]&quot;);\r\n      }\r\n    \r\n      private static void Out(String message) { System.out.println(message); }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable() { public void run() { createAndShowGUI(); } });\r\n      }\r\n    \r\n      private static void createAndShowGUI()\r\n      {\r\n        MouseMotionEventDemo demo=new MouseMotionEventDemo();\r\n        frame.addWindowListener(new WindowAdapter()\r\n        {\r\n          public void windowClosing(WindowEvent e) { saveXYWH(frame);System.exit(0); }\r\n        });\r\n        frame.setContentPane(demo);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n      }\r\n    }\r\n\r\nSo the X,Y,W,H values are only saved in one of the 3 situations below :\r\n\r\n[1] When the user clicks away from the JFrame, to focus on some other component.\r\n\r\n[2] When the user minimized the JFrame.\r\n\r\n[3] When the user closes the JFrame window.\r\n\r\nIn any one of the above situations, focus will be lost on this JFrame, and the X,Y,W,H values can be caught by the FocusListener&#39;s focusLost() method and saved, it&#39;s only saved once, and it&#39;s the final values.","title":"How to output x,y,w,h only when mouse is released with JFrame in Java Swing?","body":"<p>My objective is to :</p>\n<p>[1] Save the final X,Y,W,H</p>\n<p>[2] Only save them once, not multiple times during the moving or resizing process.</p>\n<p>I came up with the following solution :</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class MouseMotionEventDemo extends JPanel\n{\n  static JFrame frame=new JFrame();\n  \n  public MouseMotionEventDemo()\n  {\n    setPreferredSize(new Dimension(500,300));\n\n    frame.addFocusListener(new FocusListener()\n    {\n      public void focusGained(FocusEvent e)\n      {\n//        displayMessage(&quot;Focus gained&quot;,e);\n      }\n\n      public void focusLost(FocusEvent e)\n      {\n        displayMessage(&quot;Focus lost&quot;,e);\n        saveXYWH(frame);\n      }\n\n      void displayMessage(String prefix,FocusEvent e)\n      {\n        System.out.println(prefix\n                           +(e.isTemporary() ? &quot; (temporary)&quot; : &quot;&quot;)+&quot; : &lt; &quot;\n                           +e.getComponent().getName()+&quot; &gt; ; Opposite component : &lt; &quot;\n                           +(e.getOppositeComponent()!=null ? e.getOppositeComponent().getName() : &quot;null&quot;)+&quot; &gt;&quot;);\n      }\n    });\n  }\n  \n  static void saveXYWH(JFrame frame)\n  {\n    Out(&quot;saveXYWH [ X = &quot;+frame.getLocation().x+&quot; , Y = &quot;+frame.getLocation().y+&quot; | W = &quot;+frame.getSize().width+&quot; , H = &quot;+frame.getSize().height+&quot; ]&quot;);\n  }\n\n  private static void Out(String message) { System.out.println(message); }\n\n  public static void main(String[] args)\n  {\n    javax.swing.SwingUtilities.invokeLater(new Runnable() { public void run() { createAndShowGUI(); } });\n  }\n\n  private static void createAndShowGUI()\n  {\n    MouseMotionEventDemo demo=new MouseMotionEventDemo();\n    frame.addWindowListener(new WindowAdapter()\n    {\n      public void windowClosing(WindowEvent e) { saveXYWH(frame);System.exit(0); }\n    });\n    frame.setContentPane(demo);\n    frame.setLocationRelativeTo(null);\n    frame.pack();\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n<p>So the X,Y,W,H values are only saved in one of the 3 situations below :</p>\n<p>[1] When the user clicks away from the JFrame, to focus on some other component.</p>\n<p>[2] When the user minimized the JFrame.</p>\n<p>[3] When the user closes the JFrame window.</p>\n<p>In any one of the above situations, focus will be lost on this JFrame, and the X,Y,W,H values can be caught by the FocusListener's focusLost() method and saved, it's only saved once, and it's the final values.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698349776,"creation_date":1698349328,"answer_id":77369918,"question_id":77355665,"body_markdown":"The problem you have is that too many events are fired in a short timeframe and you have a lengthy calculation that should get triggered only after the last of these events.\r\n\r\nHow about a deferred invocation? Whenever the window is moved/resized, a timer is started/reset. Only when the events pause for a moment the timer gets to fire, and the calculation takes place.\r\n\r\nThe advantage of this pattern is that you can use it wherever you find events coming in too fast and only on the last one you can react.\r\n\r\nHere is an example based on your save method:\r\n\r\n\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.Timer;\r\n    \r\n    public class ResizeFrame extends javax.swing.JFrame {\r\n    \r\n        private Timer timer;\r\n        \r\n        public ResizeFrame() {\r\n            initComponents();\r\n            \r\n            addComponentListener(new ComponentAdapter() {\r\n                @Override\r\n                public void componentMoved(ComponentEvent e) {\r\n                    timer.restart();\r\n                }\r\n    \r\n                @Override\r\n                public void componentResized(ComponentEvent e) {\r\n                    timer.restart();\r\n                }\r\n                \r\n            });\r\n            \r\n            timer = new Timer(500, ae -&gt; saveXYWH(this));\r\n        }\r\n        \r\n        void saveXYWH(JFrame frame)\r\n        {\r\n            timer.stop();\r\n            System.out.println(&quot;Demo [ X = &quot;+frame.getLocation().x+&quot; , Y = &quot;+frame.getLocation().y+&quot; | W = &quot;+frame.getSize().width+&quot; , H = &quot;+frame.getSize().height+&quot; ]&quot;);\r\n        }    \r\n        \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGap(0, 400, Short.MAX_VALUE)\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGap(0, 300, Short.MAX_VALUE)\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String args[]) {\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new ResizeFrame().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Variables declaration - do not modify                     \r\n        // End of variables declaration                   \r\n    }\r\n\r\n","title":"How to output x,y,w,h only when mouse is released with JFrame in Java Swing?","body":"<p>The problem you have is that too many events are fired in a short timeframe and you have a lengthy calculation that should get triggered only after the last of these events.</p>\n<p>How about a deferred invocation? Whenever the window is moved/resized, a timer is started/reset. Only when the events pause for a moment the timer gets to fire, and the calculation takes place.</p>\n<p>The advantage of this pattern is that you can use it wherever you find events coming in too fast and only on the last one you can react.</p>\n<p>Here is an example based on your save method:</p>\n<pre><code>import java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport javax.swing.JFrame;\nimport javax.swing.Timer;\n\npublic class ResizeFrame extends javax.swing.JFrame {\n\n    private Timer timer;\n    \n    public ResizeFrame() {\n        initComponents();\n        \n        addComponentListener(new ComponentAdapter() {\n            @Override\n            public void componentMoved(ComponentEvent e) {\n                timer.restart();\n            }\n\n            @Override\n            public void componentResized(ComponentEvent e) {\n                timer.restart();\n            }\n            \n        });\n        \n        timer = new Timer(500, ae -&gt; saveXYWH(this));\n    }\n    \n    void saveXYWH(JFrame frame)\n    {\n        timer.stop();\n        System.out.println(&quot;Demo [ X = &quot;+frame.getLocation().x+&quot; , Y = &quot;+frame.getLocation().y+&quot; | W = &quot;+frame.getSize().width+&quot; , H = &quot;+frame.getSize().height+&quot; ]&quot;);\n    }    \n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGap(0, 400, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGap(0, 300, Short.MAX_VALUE)\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new ResizeFrame().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    // End of variables declaration                   \n}\n</code></pre>\n"}],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77369829,"answer_count":3,"score":0,"last_activity_date":1698349776,"creation_date":1698185548,"question_id":77355665,"body_markdown":"I have a sample Java Swing App below, it now outputs X,Y,W,H whenever the JFrame is moved or resized. What I want is to ONLY output X,Y,W,H when the mouse is released, so what I mean by that is : I need to do some processing after the new JFrame location and size is final, not during the resizing process, I want to save the final X,Y,W,H.\r\n\r\nBut right now if I move the JFrame from [X=100,Y=200] to [X=150,Y=200], it will save it 50 times because during the moving process, X value is changed from 100 to 150, so it will save every time X is changed, which is unnecessary, I only want it to save the final result [ X=150,Y=200 ] after the mouse is released, how to achieve that ?\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class MouseMotionEventDemo extends JPanel\r\n    {\r\n      static JFrame frame=new JFrame();\r\n      \r\n      public MouseMotionEventDemo()\r\n      {\r\n        setPreferredSize(new Dimension(500,300));\r\n        \r\n        frame.addComponentListener(new ComponentListener()\r\n        {\r\n          public void componentResized(ComponentEvent e) { saveXYWH(frame); }\r\n          public void componentMoved(ComponentEvent e) { saveXYWH(frame); }\r\n          public void componentShown(ComponentEvent e) { }\r\n          public void componentHidden(ComponentEvent e) { }\r\n        });\r\n      }\r\n      \r\n      void saveXYWH(JFrame frame)\r\n      {\r\n        System.out.println(&quot;Demo [ X = &quot;+frame.getLocation().x+&quot; , Y = &quot;+frame.getLocation().y+&quot; | W = &quot;+frame.getSize().width+&quot; , H = &quot;+frame.getSize().height+&quot; ]&quot;);\r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable() { public void run() { createAndShowGUI(); } });\r\n      }\r\n    \r\n      private static void createAndShowGUI()\r\n      {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        MouseMotionEventDemo demo=new MouseMotionEventDemo();\r\n        frame.setContentPane(demo);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n      }\r\n    }\r\n\r\n","title":"How to output x,y,w,h only when mouse is released with JFrame in Java Swing?","body":"<p>I have a sample Java Swing App below, it now outputs X,Y,W,H whenever the JFrame is moved or resized. What I want is to ONLY output X,Y,W,H when the mouse is released, so what I mean by that is : I need to do some processing after the new JFrame location and size is final, not during the resizing process, I want to save the final X,Y,W,H.</p>\n<p>But right now if I move the JFrame from [X=100,Y=200] to [X=150,Y=200], it will save it 50 times because during the moving process, X value is changed from 100 to 150, so it will save every time X is changed, which is unnecessary, I only want it to save the final result [ X=150,Y=200 ] after the mouse is released, how to achieve that ?</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class MouseMotionEventDemo extends JPanel\n{\n  static JFrame frame=new JFrame();\n  \n  public MouseMotionEventDemo()\n  {\n    setPreferredSize(new Dimension(500,300));\n    \n    frame.addComponentListener(new ComponentListener()\n    {\n      public void componentResized(ComponentEvent e) { saveXYWH(frame); }\n      public void componentMoved(ComponentEvent e) { saveXYWH(frame); }\n      public void componentShown(ComponentEvent e) { }\n      public void componentHidden(ComponentEvent e) { }\n    });\n  }\n  \n  void saveXYWH(JFrame frame)\n  {\n    System.out.println(&quot;Demo [ X = &quot;+frame.getLocation().x+&quot; , Y = &quot;+frame.getLocation().y+&quot; | W = &quot;+frame.getSize().width+&quot; , H = &quot;+frame.getSize().height+&quot; ]&quot;);\n  }\n\n  public static void main(String[] args)\n  {\n    javax.swing.SwingUtilities.invokeLater(new Runnable() { public void run() { createAndShowGUI(); } });\n  }\n\n  private static void createAndShowGUI()\n  {\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    MouseMotionEventDemo demo=new MouseMotionEventDemo();\n    frame.setContentPane(demo);\n    frame.setLocationRelativeTo(null);\n    frame.pack();\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n"},{"tags":["java","reflection","javabeans"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1665039111,"post_id":73969634,"comment_id":130606511,"body_markdown":"I implemented this once in C# and it is rather straight-forward (but I don&#39;t have the code anymore): use reflection to get the fields, loop over them, recurse for nested complex objects. Make sure you handle cycles in the graph properly to not end up in a stackoverflow or infinite loop.","body":"I implemented this once in C# and it is rather straight-forward (but I don&#39;t have the code anymore): use reflection to get the fields, loop over them, recurse for nested complex objects. Make sure you handle cycles in the graph properly to not end up in a stackoverflow or infinite loop."},{"owner":{"account_id":1726548,"reputation":11349,"user_id":1581069,"accept_rate":85,"display_name":"Peter Butkovic"},"score":0,"creation_date":1665039274,"post_id":73969634,"comment_id":130606557,"body_markdown":"@knittl correct, but code sample would be preferred","body":"@knittl correct, but code sample would be preferred"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1665039665,"post_id":73969634,"comment_id":130606668,"body_markdown":"Are you familiar with using reflection? If so the code should be easy enough - just try it :)\nTo break cycles I&#39;d keep track of classes that have already been visited and ignore those.","body":"Are you familiar with using reflection? If so the code should be easy enough - just try it :) To break cycles I&#39;d keep track of classes that have already been visited and ignore those."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1665040029,"post_id":73969634,"comment_id":130606775,"body_markdown":"I think the difficult part will be replicating the indices of the arrays. Why would this method return `&quot;classes[0].students[1].name&quot;` and not e.g., `&quot;classes[2].students[5].name&quot;`?","body":"I think the difficult part will be replicating the indices of the arrays. Why would this method return <code>&quot;classes[0].students[1].name&quot;</code> and not e.g., <code>&quot;classes[2].students[5].name&quot;</code>?"},{"owner":{"account_id":1726548,"reputation":11349,"user_id":1581069,"accept_rate":85,"display_name":"Peter Butkovic"},"score":0,"creation_date":1665041062,"post_id":73969634,"comment_id":130607095,"body_markdown":"yes, I&#39;m aware of reflection, but was rather hoping for available 3.rd party library implementation, than maintaining my own","body":"yes, I&#39;m aware of reflection, but was rather hoping for available 3.rd party library implementation, than maintaining my own"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665044562,"post_id":73969634,"comment_id":130608208,"body_markdown":"@PeterButkovic if you are looking for 3rd party tools, then this question is off-topic as per stackoverflow policy. One of the close reasons: &#187;Seeking recommendations for books, tools, software libraries, and more. This question is likely to lead to opinion-based answers.&#171;","body":"@PeterButkovic if you are looking for 3rd party tools, then this question is off-topic as per stackoverflow policy. One of the close reasons: &#187;Seeking recommendations for books, tools, software libraries, and more. This question is likely to lead to opinion-based answers.&#171;"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1665045733,"post_id":73969634,"comment_id":130608579,"body_markdown":"I find the comment from Slaw to the point: the signature of `getDotNotation` does not guarantee a unique result. Maybe specifying the root and a condition to look for in the hierarchy would be more appropriate. Also `Field` may be too complicated for users to work with, `String` (for a field name) would be more convenient since you will be dealing with reflection internally anyway. E.g. a signature as: `String getDotNotation(Object root, Predicate&lt;Object&gt; predicate, String fieldName)`.","body":"I find the comment from Slaw to the point: the signature of <code>getDotNotation</code> does not guarantee a unique result. Maybe specifying the root and a condition to look for in the hierarchy would be more appropriate. Also <code>Field</code> may be too complicated for users to work with, <code>String</code> (for a field name) would be more convenient since you will be dealing with reflection internally anyway. E.g. a signature as: <code>String getDotNotation(Object root, Predicate&lt;Object&gt; predicate, String fieldName)</code>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698349625,"creation_date":1698348922,"answer_id":77369882,"question_id":73969634,"body_markdown":"Here is a simple implemenation. It converts an object tree into a list of paths (dot notation) with their value.\r\n\r\nThe output for your sample object:\r\n\r\n```\r\nclasses[0].name = &quot;1.A&quot;\r\nclasses[0].students[0].name = &quot;Peter&quot;\r\nclasses[0].students[1].name = &quot;Paul&quot;\r\nclasses[1].name = &quot;1.B&quot;\r\nclasses[1].students[0].name = &quot;Jane&quot;\r\nclasses[1].students[1].name = &quot;Paula&quot;\r\nname = &quot;John&quot;\r\n```\r\n\r\nLimitations of this implementation:\r\n\r\n* Doesn&#39;t handle cycles in your graph. If you have a circular reference, this method will run forever\r\n* Not optimized for efficiency\r\n* Cannot handle custom implementations of the `Collection` or `Map` interfaces and pretends that they are arrays. Will drop any properties additionally defined in your custom class.\r\n* Silently ignores non-bean objects (objects without getters)\r\n* Aborts with an exception if it encounters an error\r\n\r\nAnyway, here goes:\r\n\r\n```\r\nclass GronTest {\r\n    @Test\r\n    void simpleStringArray() {\r\n        assertEquals(\r\n                List.of(&quot;[0] = \\&quot;a\\&quot;&quot;, &quot;[1] = \\&quot;b\\&quot;&quot;),\r\n                paths(new String[]{&quot;a&quot;, &quot;b&quot;}));\r\n    }\r\n\r\n    @Test\r\n    void simpleBoolArray() {\r\n        assertEquals(\r\n                List.of(&quot;[0] = true&quot;, &quot;[1] = false&quot;),\r\n                paths(new boolean[]{true, false}));\r\n    }\r\n\r\n    @Test\r\n    void simpleIntArray() {\r\n        assertEquals(\r\n                List.of(&quot;[0] = 1&quot;, &quot;[1] = -2&quot;),\r\n                paths(new int[]{1, -2}));\r\n    }\r\n\r\n    @Test\r\n    void simpleLongArray() {\r\n        assertEquals(\r\n                List.of(&quot;[0] = -1&quot;, &quot;[1] = 2&quot;),\r\n                paths(new long[]{-1L, 2L}));\r\n    }\r\n\r\n    @Test\r\n    void simpleFloatArray() {\r\n        assertEquals(\r\n                List.of(&quot;[0] = 4.2&quot;, &quot;[1] = -13.37&quot;),\r\n                paths(new float[]{4.2f, -13.37f}));\r\n    }\r\n\r\n    @Test\r\n    void simpleDoubleArray() {\r\n        assertEquals(\r\n                List.of(&quot;[0] = -4.2&quot;, &quot;[1] = 13.37&quot;),\r\n                paths(new double[]{-4.2d, 13.37d}));\r\n    }\r\n\r\n    @Test\r\n    void simpleStringList() {\r\n        assertEquals(\r\n                List.of(&quot;[0] = \\&quot;a\\&quot;&quot;, &quot;[1] = \\&quot;b\\&quot;&quot;),\r\n                paths(List.of(&quot;a&quot;, &quot;b&quot;)));\r\n    }\r\n\r\n    @Test\r\n    void simpleIntegerSet() {\r\n        assertEquals(\r\n                List.of(&quot;[0] = -1&quot;),\r\n                paths(Set.of(-1)));\r\n    }\r\n\r\n    @Test\r\n    void simpleStringDoubleMap() {\r\n        assertEquals(\r\n                List.of(&quot;[\\&quot;key\\&quot;] = 1.0&quot;),\r\n                paths(Map.of(&quot;key&quot;, 1.0d)));\r\n    }\r\n\r\n    @Test\r\n    void simpleObject() {\r\n        @RequiredArgsConstructor\r\n        @Getter\r\n        class Person {\r\n            private final String name;\r\n        }\r\n\r\n        assertEquals(\r\n                List.of(&quot;name = \\&quot;bob\\&quot;&quot;),\r\n                paths(new Person(&quot;bob&quot;)));\r\n    }\r\n\r\n    @Test\r\n    void nestedObject() {\r\n        @RequiredArgsConstructor\r\n        @Getter\r\n        class Pet {\r\n            private final String name;\r\n            private final int age;\r\n        }\r\n\r\n        @RequiredArgsConstructor\r\n        @Getter\r\n        class Person {\r\n            private final String name;\r\n            private final List&lt;Pet&gt; pets;\r\n        }\r\n\r\n        final Person person = new Person(\r\n                &quot;alice&quot;,\r\n                List.of(\r\n                        new Pet(&quot;garfield&quot;, 42),\r\n                        new Pet(&quot;scooby-doo&quot;, 7)));\r\n        assertEquals(\r\n                List.of(\r\n                        &quot;name = \\&quot;alice\\&quot;&quot;,\r\n                        &quot;pets[0].age = 42&quot;,\r\n                        &quot;pets[0].name = \\&quot;garfield\\&quot;&quot;,\r\n                        &quot;pets[1].age = 7&quot;,\r\n                        &quot;pets[1].name = \\&quot;scooby-doo\\&quot;&quot;),\r\n                paths(person));\r\n    }\r\n\r\n    static List&lt;String&gt; paths(final Object obj) {\r\n        return Gron.paths(obj);\r\n    }\r\n\r\n}\r\n\r\npublic final class Gron {\r\n    private Gron() {}\r\n\r\n    public static List&lt;String&gt; paths(final Object obj) {\r\n        return paths(&quot;&quot;, obj);\r\n    }\r\n\r\n    public static List&lt;String&gt; paths(final String path, final Object obj) {\r\n        final List&lt;String&gt; paths = new ArrayList&lt;&gt;();\r\n\r\n        if (obj instanceof String) {\r\n            return List.of(String.format(&quot;%s = \\&quot;%s\\&quot;&quot;, path, obj));\r\n        } else if (isBoxedPrimitive(obj)) {\r\n            return List.of(String.format(&quot;%s = %s&quot;, path, obj));\r\n        } else if (obj.getClass().isArray()) {\r\n            arrayPaths(paths, path, obj);\r\n        } else if (obj instanceof Collection) {\r\n            // TODO extra properties of custom classes implementing Collection\r\n            collectionPaths(paths, path, (Collection&lt;?&gt;) obj);\r\n        } else if (obj instanceof Map) {\r\n            // TODO extra properties of custom classes implementing Map\r\n            mapPaths(paths, path, (Map&lt;?, ?&gt;) obj);\r\n        } else {\r\n            beanPaths(paths, path, obj);\r\n        }\r\n\r\n        return paths;\r\n    }\r\n\r\n    private static void arrayPaths(final List&lt;String&gt; paths, final String path, final Object obj) {\r\n        if (obj instanceof int[]) {\r\n            final int[] ints = (int[]) obj;\r\n            for (int i = 0; i &lt; ints.length; i++) {\r\n                paths.add(indexed(path, i) + &quot; = &quot; + ints[i]);\r\n            }\r\n        } else if (obj instanceof long[]) {\r\n            final long[] longs = (long[]) obj;\r\n            for (int i = 0; i &lt; longs.length; i++) {\r\n                paths.add(indexed(path, i) + &quot; = &quot; + longs[i]);\r\n            }\r\n        } else if (obj instanceof boolean[]) {\r\n            final boolean[] booleans = (boolean[]) obj;\r\n            for (int i = 0; i &lt; booleans.length; i++) {\r\n                paths.add(indexed(path, i) + &quot; = &quot; + booleans[i]);\r\n            }\r\n        } else if (obj instanceof float[]) {\r\n            final float[] floats = (float[]) obj;\r\n            for (int i = 0; i &lt; floats.length; i++) {\r\n                paths.add(indexed(path, i) + &quot; = &quot; + floats[i]);\r\n            }\r\n        } else if (obj instanceof double[]) {\r\n            final double[] doubles = (double[]) obj;\r\n            for (int i = 0; i &lt; doubles.length; i++) {\r\n                paths.add(indexed(path, i) + &quot; = &quot; + doubles[i]);\r\n            }\r\n        } else {\r\n            final Object[] objects = (Object[]) obj;\r\n            for (int i = 0; i &lt; objects.length; i++) {\r\n                paths.addAll(paths(indexed(path, i), objects[i]));\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void collectionPaths(final List&lt;String&gt; paths, final String path, final Collection&lt;?&gt; obj) {\r\n        int idx = 0;\r\n        for (final Object current : obj) {\r\n            paths.addAll(paths(indexed(path, idx), current));\r\n            ++idx;\r\n        }\r\n    }\r\n\r\n    private static void mapPaths(final List&lt;String&gt; paths, final String path, final Map&lt;?, ?&gt; obj) {\r\n        for (final Map.Entry&lt;?, ?&gt; entry : obj.entrySet()) {\r\n            paths.addAll(paths(keyed(path, entry.getKey()), entry.getValue()));\r\n        }\r\n    }\r\n\r\n    private static void beanPaths(final List&lt;String&gt; paths, final String path, final Object obj) {\r\n        try {\r\n            final BeanInfo beanInfo = Introspector.getBeanInfo(obj.getClass(), Object.class);\r\n            for (final PropertyDescriptor pd : beanInfo.getPropertyDescriptors()) {\r\n                final Method readMethod = pd.getReadMethod();\r\n                if (readMethod != null) {\r\n                    final Object value = readMethod.invoke(obj);\r\n                    paths.addAll(paths(nested(path, pd.getName()), value));\r\n                }\r\n            }\r\n        } catch (final IntrospectionException | InvocationTargetException | IllegalAccessException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n    private static boolean isBoxedPrimitive(final Object obj) {\r\n        return obj instanceof Boolean\r\n                || obj instanceof Integer\r\n                || obj instanceof Long\r\n                || obj instanceof Float\r\n                || obj instanceof Double;\r\n    }\r\n\r\n    private static String nested(final String path, final String propName) {\r\n        return path.isEmpty()\r\n                ? propName\r\n                : path + &#39;.&#39; + propName;\r\n    }\r\n\r\n    private static String keyed(final String path, final Object key) {\r\n        return path + &quot;[\\&quot;&quot; + key + &quot;\\&quot;]&quot;;\r\n    }\r\n\r\n    private static String indexed(final String path, final int idx) {\r\n        return path + &#39;[&#39; + idx + &#39;]&#39;;\r\n    }\r\n\r\n}\r\n```","title":"Java: Generate dot-separated property path from transitive object hierarchy","body":"<p>Here is a simple implemenation. It converts an object tree into a list of paths (dot notation) with their value.</p>\n<p>The output for your sample object:</p>\n<pre><code>classes[0].name = &quot;1.A&quot;\nclasses[0].students[0].name = &quot;Peter&quot;\nclasses[0].students[1].name = &quot;Paul&quot;\nclasses[1].name = &quot;1.B&quot;\nclasses[1].students[0].name = &quot;Jane&quot;\nclasses[1].students[1].name = &quot;Paula&quot;\nname = &quot;John&quot;\n</code></pre>\n<p>Limitations of this implementation:</p>\n<ul>\n<li>Doesn't handle cycles in your graph. If you have a circular reference, this method will run forever</li>\n<li>Not optimized for efficiency</li>\n<li>Cannot handle custom implementations of the <code>Collection</code> or <code>Map</code> interfaces and pretends that they are arrays. Will drop any properties additionally defined in your custom class.</li>\n<li>Silently ignores non-bean objects (objects without getters)</li>\n<li>Aborts with an exception if it encounters an error</li>\n</ul>\n<p>Anyway, here goes:</p>\n<pre><code>class GronTest {\n    @Test\n    void simpleStringArray() {\n        assertEquals(\n                List.of(&quot;[0] = \\&quot;a\\&quot;&quot;, &quot;[1] = \\&quot;b\\&quot;&quot;),\n                paths(new String[]{&quot;a&quot;, &quot;b&quot;}));\n    }\n\n    @Test\n    void simpleBoolArray() {\n        assertEquals(\n                List.of(&quot;[0] = true&quot;, &quot;[1] = false&quot;),\n                paths(new boolean[]{true, false}));\n    }\n\n    @Test\n    void simpleIntArray() {\n        assertEquals(\n                List.of(&quot;[0] = 1&quot;, &quot;[1] = -2&quot;),\n                paths(new int[]{1, -2}));\n    }\n\n    @Test\n    void simpleLongArray() {\n        assertEquals(\n                List.of(&quot;[0] = -1&quot;, &quot;[1] = 2&quot;),\n                paths(new long[]{-1L, 2L}));\n    }\n\n    @Test\n    void simpleFloatArray() {\n        assertEquals(\n                List.of(&quot;[0] = 4.2&quot;, &quot;[1] = -13.37&quot;),\n                paths(new float[]{4.2f, -13.37f}));\n    }\n\n    @Test\n    void simpleDoubleArray() {\n        assertEquals(\n                List.of(&quot;[0] = -4.2&quot;, &quot;[1] = 13.37&quot;),\n                paths(new double[]{-4.2d, 13.37d}));\n    }\n\n    @Test\n    void simpleStringList() {\n        assertEquals(\n                List.of(&quot;[0] = \\&quot;a\\&quot;&quot;, &quot;[1] = \\&quot;b\\&quot;&quot;),\n                paths(List.of(&quot;a&quot;, &quot;b&quot;)));\n    }\n\n    @Test\n    void simpleIntegerSet() {\n        assertEquals(\n                List.of(&quot;[0] = -1&quot;),\n                paths(Set.of(-1)));\n    }\n\n    @Test\n    void simpleStringDoubleMap() {\n        assertEquals(\n                List.of(&quot;[\\&quot;key\\&quot;] = 1.0&quot;),\n                paths(Map.of(&quot;key&quot;, 1.0d)));\n    }\n\n    @Test\n    void simpleObject() {\n        @RequiredArgsConstructor\n        @Getter\n        class Person {\n            private final String name;\n        }\n\n        assertEquals(\n                List.of(&quot;name = \\&quot;bob\\&quot;&quot;),\n                paths(new Person(&quot;bob&quot;)));\n    }\n\n    @Test\n    void nestedObject() {\n        @RequiredArgsConstructor\n        @Getter\n        class Pet {\n            private final String name;\n            private final int age;\n        }\n\n        @RequiredArgsConstructor\n        @Getter\n        class Person {\n            private final String name;\n            private final List&lt;Pet&gt; pets;\n        }\n\n        final Person person = new Person(\n                &quot;alice&quot;,\n                List.of(\n                        new Pet(&quot;garfield&quot;, 42),\n                        new Pet(&quot;scooby-doo&quot;, 7)));\n        assertEquals(\n                List.of(\n                        &quot;name = \\&quot;alice\\&quot;&quot;,\n                        &quot;pets[0].age = 42&quot;,\n                        &quot;pets[0].name = \\&quot;garfield\\&quot;&quot;,\n                        &quot;pets[1].age = 7&quot;,\n                        &quot;pets[1].name = \\&quot;scooby-doo\\&quot;&quot;),\n                paths(person));\n    }\n\n    static List&lt;String&gt; paths(final Object obj) {\n        return Gron.paths(obj);\n    }\n\n}\n\npublic final class Gron {\n    private Gron() {}\n\n    public static List&lt;String&gt; paths(final Object obj) {\n        return paths(&quot;&quot;, obj);\n    }\n\n    public static List&lt;String&gt; paths(final String path, final Object obj) {\n        final List&lt;String&gt; paths = new ArrayList&lt;&gt;();\n\n        if (obj instanceof String) {\n            return List.of(String.format(&quot;%s = \\&quot;%s\\&quot;&quot;, path, obj));\n        } else if (isBoxedPrimitive(obj)) {\n            return List.of(String.format(&quot;%s = %s&quot;, path, obj));\n        } else if (obj.getClass().isArray()) {\n            arrayPaths(paths, path, obj);\n        } else if (obj instanceof Collection) {\n            // TODO extra properties of custom classes implementing Collection\n            collectionPaths(paths, path, (Collection&lt;?&gt;) obj);\n        } else if (obj instanceof Map) {\n            // TODO extra properties of custom classes implementing Map\n            mapPaths(paths, path, (Map&lt;?, ?&gt;) obj);\n        } else {\n            beanPaths(paths, path, obj);\n        }\n\n        return paths;\n    }\n\n    private static void arrayPaths(final List&lt;String&gt; paths, final String path, final Object obj) {\n        if (obj instanceof int[]) {\n            final int[] ints = (int[]) obj;\n            for (int i = 0; i &lt; ints.length; i++) {\n                paths.add(indexed(path, i) + &quot; = &quot; + ints[i]);\n            }\n        } else if (obj instanceof long[]) {\n            final long[] longs = (long[]) obj;\n            for (int i = 0; i &lt; longs.length; i++) {\n                paths.add(indexed(path, i) + &quot; = &quot; + longs[i]);\n            }\n        } else if (obj instanceof boolean[]) {\n            final boolean[] booleans = (boolean[]) obj;\n            for (int i = 0; i &lt; booleans.length; i++) {\n                paths.add(indexed(path, i) + &quot; = &quot; + booleans[i]);\n            }\n        } else if (obj instanceof float[]) {\n            final float[] floats = (float[]) obj;\n            for (int i = 0; i &lt; floats.length; i++) {\n                paths.add(indexed(path, i) + &quot; = &quot; + floats[i]);\n            }\n        } else if (obj instanceof double[]) {\n            final double[] doubles = (double[]) obj;\n            for (int i = 0; i &lt; doubles.length; i++) {\n                paths.add(indexed(path, i) + &quot; = &quot; + doubles[i]);\n            }\n        } else {\n            final Object[] objects = (Object[]) obj;\n            for (int i = 0; i &lt; objects.length; i++) {\n                paths.addAll(paths(indexed(path, i), objects[i]));\n            }\n        }\n    }\n\n    private static void collectionPaths(final List&lt;String&gt; paths, final String path, final Collection&lt;?&gt; obj) {\n        int idx = 0;\n        for (final Object current : obj) {\n            paths.addAll(paths(indexed(path, idx), current));\n            ++idx;\n        }\n    }\n\n    private static void mapPaths(final List&lt;String&gt; paths, final String path, final Map&lt;?, ?&gt; obj) {\n        for (final Map.Entry&lt;?, ?&gt; entry : obj.entrySet()) {\n            paths.addAll(paths(keyed(path, entry.getKey()), entry.getValue()));\n        }\n    }\n\n    private static void beanPaths(final List&lt;String&gt; paths, final String path, final Object obj) {\n        try {\n            final BeanInfo beanInfo = Introspector.getBeanInfo(obj.getClass(), Object.class);\n            for (final PropertyDescriptor pd : beanInfo.getPropertyDescriptors()) {\n                final Method readMethod = pd.getReadMethod();\n                if (readMethod != null) {\n                    final Object value = readMethod.invoke(obj);\n                    paths.addAll(paths(nested(path, pd.getName()), value));\n                }\n            }\n        } catch (final IntrospectionException | InvocationTargetException | IllegalAccessException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    private static boolean isBoxedPrimitive(final Object obj) {\n        return obj instanceof Boolean\n                || obj instanceof Integer\n                || obj instanceof Long\n                || obj instanceof Float\n                || obj instanceof Double;\n    }\n\n    private static String nested(final String path, final String propName) {\n        return path.isEmpty()\n                ? propName\n                : path + '.' + propName;\n    }\n\n    private static String keyed(final String path, final Object key) {\n        return path + &quot;[\\&quot;&quot; + key + &quot;\\&quot;]&quot;;\n    }\n\n    private static String indexed(final String path, final int idx) {\n        return path + '[' + idx + ']';\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1726548,"reputation":11349,"user_id":1581069,"accept_rate":85,"display_name":"Peter Butkovic"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698349625,"creation_date":1665038979,"question_id":73969634,"body_markdown":"There is a functionality available in common beanutils, that lets you retrieve property value from the dot notation (even for nested properties).\r\nI&#39;d need a reverse functionality. To generate the dot notation from the 2 Objects beeing transitively referenced.\r\nIs there any 3rd party library capable of that, or do you have an idea for the implementation?\r\n\r\nE.g. having class hierarchy:\r\n```\r\npublic class Teacher {\r\n\r\n    String name;\r\n    List&lt;Claz&gt; classes;\r\n\r\n    public Teacher(String name, List&lt;Claz&gt; classes) {\r\n        this.setName(name);\r\n        this.setClasses(classes);\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public List&lt;Claz&gt; getClasses() {\r\n        return classes;\r\n    }\r\n\r\n    public void setClasses(List&lt;Claz&gt; classes) {\r\n        this.classes = classes;\r\n    }\r\n\r\n}\r\n\r\npublic class Claz {\r\n    String name;\r\n    List&lt;Student&gt; students;\r\n\r\n    public Claz(String name, List&lt;Student&gt; students) {\r\n        this.setName(name);\r\n        this.setStudents(students);\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public List&lt;Student&gt; getStudents() {\r\n        return students;\r\n    }\r\n\r\n    public void setStudents(List&lt;Student&gt; students) {\r\n        this.students = students;\r\n    }\r\n}\r\npublic class Student {\r\n\r\n    String name;\r\n\r\n    public Student(String name) {\r\n        setName(name);\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nThe test proves commons-beanutils work as expected:\r\n```\r\n @Test\r\n    public void nestedProp() throws InvocationTargetException, IllegalAccessException, NoSuchMethodException {\r\n\r\n\r\n        Teacher teacher = new Teacher(\r\n                &quot;John&quot;,\r\n                Arrays.asList(\r\n                        new Claz(&quot;1.A&quot;, Arrays.asList(new Student(&quot;Peter&quot;), new Student(&quot;Paul&quot;))),\r\n                        new Claz(&quot;1.B&quot;, Arrays.asList(new Student(&quot;Jane&quot;), new Student(&quot;Paula&quot;)))\r\n                )\r\n        );\r\n        assertEquals(&quot;Paul&quot;, PropertyUtils.getNestedProperty(teacher, &quot;classes[0].students[1].name&quot;));\r\n    }\r\n```\r\n\r\nNow I need a functionality, that would generate me `classes[0].students[1].name` from method similar to:\r\n```\r\nString getDotNotation(Class rootClass, Class leafClass, java.lang.reflect.Field leafField) {\r\n...\r\n}\r\n```\r\nwhere rootClass  would be in my case `Teacher`, leafClass would be in my case `Student` and field would refer to `Student.name` field.","title":"Java: Generate dot-separated property path from transitive object hierarchy","body":"<p>There is a functionality available in common beanutils, that lets you retrieve property value from the dot notation (even for nested properties).\nI'd need a reverse functionality. To generate the dot notation from the 2 Objects beeing transitively referenced.\nIs there any 3rd party library capable of that, or do you have an idea for the implementation?</p>\n<p>E.g. having class hierarchy:</p>\n<pre><code>public class Teacher {\n\n    String name;\n    List&lt;Claz&gt; classes;\n\n    public Teacher(String name, List&lt;Claz&gt; classes) {\n        this.setName(name);\n        this.setClasses(classes);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;Claz&gt; getClasses() {\n        return classes;\n    }\n\n    public void setClasses(List&lt;Claz&gt; classes) {\n        this.classes = classes;\n    }\n\n}\n\npublic class Claz {\n    String name;\n    List&lt;Student&gt; students;\n\n    public Claz(String name, List&lt;Student&gt; students) {\n        this.setName(name);\n        this.setStudents(students);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;Student&gt; getStudents() {\n        return students;\n    }\n\n    public void setStudents(List&lt;Student&gt; students) {\n        this.students = students;\n    }\n}\npublic class Student {\n\n    String name;\n\n    public Student(String name) {\n        setName(name);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>The test proves commons-beanutils work as expected:</p>\n<pre><code> @Test\n    public void nestedProp() throws InvocationTargetException, IllegalAccessException, NoSuchMethodException {\n\n\n        Teacher teacher = new Teacher(\n                &quot;John&quot;,\n                Arrays.asList(\n                        new Claz(&quot;1.A&quot;, Arrays.asList(new Student(&quot;Peter&quot;), new Student(&quot;Paul&quot;))),\n                        new Claz(&quot;1.B&quot;, Arrays.asList(new Student(&quot;Jane&quot;), new Student(&quot;Paula&quot;)))\n                )\n        );\n        assertEquals(&quot;Paul&quot;, PropertyUtils.getNestedProperty(teacher, &quot;classes[0].students[1].name&quot;));\n    }\n</code></pre>\n<p>Now I need a functionality, that would generate me <code>classes[0].students[1].name</code> from method similar to:</p>\n<pre><code>String getDotNotation(Class rootClass, Class leafClass, java.lang.reflect.Field leafField) {\n...\n}\n</code></pre>\n<p>where rootClass  would be in my case <code>Teacher</code>, leafClass would be in my case <code>Student</code> and field would refer to <code>Student.name</code> field.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110989,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":306,"is_accepted":true,"score":306,"last_activity_date":1639692187,"creation_date":1410884054,"answer_id":25873705,"question_id":25869428,"body_markdown":"[`resource.getFile()`][1] expects the resource itself to be available on the file system, i.e. it can&#39;t be nested inside a jar file. This is why it works when you run your application in STS (Spring Tool Suite) but doesn&#39;t work once you&#39;ve built your application and run it from the executable jar. Rather than using `getFile()` to access the resource&#39;s contents, I&#39;d recommend using [`getInputStream()`][2] instead. That&#39;ll allow you to read the resource&#39;s content regardless of where it&#39;s located.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/io/Resource.html#getFile--\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/io/InputStreamSource.html#getInputStream--","title":"Classpath resource not found when running as jar","body":"<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/io/Resource.html#getFile--\" rel=\"noreferrer\"><code>resource.getFile()</code></a> expects the resource itself to be available on the file system, i.e. it can't be nested inside a jar file. This is why it works when you run your application in STS (Spring Tool Suite) but doesn't work once you've built your application and run it from the executable jar. Rather than using <code>getFile()</code> to access the resource's contents, I'd recommend using <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/io/InputStreamSource.html#getInputStream--\" rel=\"noreferrer\"><code>getInputStream()</code></a> instead. That'll allow you to read the resource's content regardless of where it's located.</p>\n"},{"tags":[],"owner":{"account_id":6432226,"reputation":641,"user_id":4984880,"display_name":"Jae-il Lee"},"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1518389062,"creation_date":1437630729,"answer_id":31579156,"question_id":25869428,"body_markdown":"If you want to use a file:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    ClassPathResource classPathResource = new ClassPathResource(&quot;static/something.txt&quot;);\r\n\r\n    InputStream inputStream = classPathResource.getInputStream();\r\n    File somethingFile = File.createTempFile(&quot;test&quot;, &quot;.txt&quot;);\r\n    try {\r\n        FileUtils.copyInputStreamToFile(inputStream, somethingFile);\r\n    } finally {\r\n        IOUtils.closeQuietly(inputStream);\r\n    }\r\n","title":"Classpath resource not found when running as jar","body":"<p>If you want to use a file:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ClassPathResource classPathResource = new ClassPathResource(\"static/something.txt\");\n\nInputStream inputStream = classPathResource.getInputStream();\nFile somethingFile = File.createTempFile(\"test\", \".txt\");\ntry {\n    FileUtils.copyInputStreamToFile(inputStream, somethingFile);\n} finally {\n    IOUtils.closeQuietly(inputStream);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767080,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1508446286,"creation_date":1460378138,"answer_id":36548873,"question_id":25869428,"body_markdown":"If you&#39;re using Spring framework then reading `ClassPathResource` into a `String` is pretty simple using [Spring framework&#39;s `FileCopyUtils`][1]:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String data = &quot;&quot;;\r\n    ClassPathResource cpr = new ClassPathResource(&quot;static/file.txt&quot;);\r\n    try {\r\n    \tbyte[] bdata = FileCopyUtils.copyToByteArray(cpr.getInputStream());\r\n    \tdata = new String(bdata, StandardCharsets.UTF_8);\r\n    } catch (IOException e) {\r\n    \tLOG.warn(&quot;IOException&quot;, e);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/FileCopyUtils.html","title":"Classpath resource not found when running as jar","body":"<p>If you're using Spring framework then reading <code>ClassPathResource</code> into a <code>String</code> is pretty simple using <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/FileCopyUtils.html\" rel=\"noreferrer\">Spring framework's <code>FileCopyUtils</code></a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String data = \"\";\nClassPathResource cpr = new ClassPathResource(\"static/file.txt\");\ntry {\n    byte[] bdata = FileCopyUtils.copyToByteArray(cpr.getInputStream());\n    data = new String(bdata, StandardCharsets.UTF_8);\n} catch (IOException e) {\n    LOG.warn(\"IOException\", e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2453502,"reputation":9195,"user_id":2139222,"display_name":"Ulises"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1463121322,"creation_date":1463121322,"answer_id":37202824,"question_id":25869428,"body_markdown":"I encountered this limitation too and created this library to overcome the issue: [spring-boot-jar-resources][1]\r\nIt basically allows you to register a custom ResourceLoader with Spring Boot that extracts the classpath resources from the JAR as needed, transparently.\r\n\r\n\r\n  [1]: https://github.com/ulisesbocchio/spring-boot-jar-resources","title":"Classpath resource not found when running as jar","body":"<p>I encountered this limitation too and created this library to overcome the issue: <a href=\"https://github.com/ulisesbocchio/spring-boot-jar-resources\" rel=\"nofollow\">spring-boot-jar-resources</a>\nIt basically allows you to register a custom ResourceLoader with Spring Boot that extracts the classpath resources from the JAR as needed, transparently.</p>\n"},{"tags":[],"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1698349288,"creation_date":1469332223,"answer_id":38548566,"question_id":25869428,"body_markdown":"When spring boot project running as a jar and need read some file in classpath, I implement it by below code\r\n\r\n    Resource resource = new ClassPathResource(&quot;data.sql&quot;);\r\n\tBufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()));\r\n\treader.lines().forEach(System.out::println);","title":"Classpath resource not found when running as jar","body":"<p>When spring boot project running as a jar and need read some file in classpath, I implement it by below code</p>\n<pre><code>Resource resource = new ClassPathResource(&quot;data.sql&quot;);\nBufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()));\nreader.lines().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1281306,"reputation":1486,"user_id":1235354,"display_name":"utkusonmez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487687864,"creation_date":1487687864,"answer_id":42370282,"question_id":25869428,"body_markdown":"Jersey needs to be unpacked jars.\r\n\r\n    &lt;build&gt;  \r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;requiresUnpack&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;com.myapp&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;rest-api&lt;/artifactId&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/requiresUnpack&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;  ","title":"Classpath resource not found when running as jar","body":"<p>Jersey needs to be unpacked jars.</p>\n\n<pre><code>&lt;build&gt;  \n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;requiresUnpack&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.myapp&lt;/groupId&gt;\n                        &lt;artifactId&gt;rest-api&lt;/artifactId&gt;\n                    &lt;/dependency&gt;\n                &lt;/requiresUnpack&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4090237,"reputation":701,"user_id":3358421,"display_name":"Tiago"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1698349383,"creation_date":1509919683,"answer_id":47127155,"question_id":25869428,"body_markdown":"I&#39;ve created a `ClassPathResourceReader` class in a Java 8 way to make easy read files from classpath\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.stream.Collectors;\r\n\r\n    import org.springframework.core.io.ClassPathResource;\r\n\r\n    public final class ClassPathResourceReader {\r\n\t\r\n\t    private final String path;\r\n\t\r\n\t    private String content;\r\n\r\n\t    public ClassPathResourceReader(String path) {\r\n\t\t    this.path = path;\r\n\t    }\r\n\t\r\n\t    public String getContent() {\r\n\t\t    if (content == null) {\r\n\t\t\t    try {\r\n\t\t\t\t    ClassPathResource resource = new ClassPathResource(path);\r\n\t\t\t\t    BufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()));\r\n\t\t\t\t    content = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n\t\t\t\t    reader.close();\r\n\t\t\t    } catch (IOException ex) {\r\n\t\t\t\t    throw new RuntimeException(ex);\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    return content;\r\n\t    }\r\n    }\r\n\r\nUtilization:\r\n\r\n    String content = new ClassPathResourceReader(&quot;data.sql&quot;).getContent();","title":"Classpath resource not found when running as jar","body":"<p>I've created a <code>ClassPathResourceReader</code> class in a Java 8 way to make easy read files from classpath</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.stream.Collectors;\n\nimport org.springframework.core.io.ClassPathResource;\n\npublic final class ClassPathResourceReader {\n\n    private final String path;\n\n    private String content;\n\n    public ClassPathResourceReader(String path) {\n        this.path = path;\n    }\n\n    public String getContent() {\n        if (content == null) {\n            try {\n                ClassPathResource resource = new ClassPathResource(path);\n                BufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()));\n                content = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\n                reader.close();\n            } catch (IOException ex) {\n                throw new RuntimeException(ex);\n            }\n        }\n        return content;\n    }\n}\n</code></pre>\n<p>Utilization:</p>\n<pre><code>String content = new ClassPathResourceReader(&quot;data.sql&quot;).getContent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7822653,"reputation":81,"user_id":5915307,"display_name":"Jayshree Pancholi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1654241393,"creation_date":1518518048,"answer_id":48764657,"question_id":25869428,"body_markdown":"To get list of data from a `src/main/resources/data` folder:\r\nfirst of all mention your folder location in properties file as \r\n`resourceLoader.file.location=data`.\r\n\r\nThen inside class declare your location:\r\n    \r\n    @Value(&quot;${resourceLoader.file.location}&quot;)\r\n    @Setter\r\n    private String location;\r\n    \r\n    private final ResourceLoader resourceLoader;\r\n    \r\n    public void readallfilesfromresources() {\r\n           Resource[] resources;\r\n    \r\n            try {\r\n                resources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader).getResources(&quot;classpath:&quot; + location + &quot;/*.json&quot;);\r\n                for (int i = 0; i &lt; resources.length; i++) {\r\n                    try {\r\n                    InputStream is = resources[i].getInputStream();\r\n                    byte[] encoded = IOUtils.toByteArray(is);\r\n                    String content = new String(encoded, Charset.forName(&quot;UTF-8&quot;));\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                throw new UncheckedIOException(e);\r\n            }\r\n    }\r\n","title":"Classpath resource not found when running as jar","body":"<p>To get list of data from a <code>src/main/resources/data</code> folder:\nfirst of all mention your folder location in properties file as\n<code>resourceLoader.file.location=data</code>.</p>\n<p>Then inside class declare your location:</p>\n<pre><code>@Value(&quot;${resourceLoader.file.location}&quot;)\n@Setter\nprivate String location;\n\nprivate final ResourceLoader resourceLoader;\n\npublic void readallfilesfromresources() {\n       Resource[] resources;\n\n        try {\n            resources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader).getResources(&quot;classpath:&quot; + location + &quot;/*.json&quot;);\n            for (int i = 0; i &lt; resources.length; i++) {\n                try {\n                InputStream is = resources[i].getInputStream();\n                byte[] encoded = IOUtils.toByteArray(is);\n                String content = new String(encoded, Charset.forName(&quot;UTF-8&quot;));\n                }\n            }\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9136002,"reputation":107,"user_id":6795665,"display_name":"Merzouk MENHOUR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582637077,"creation_date":1582637077,"answer_id":60395682,"question_id":25869428,"body_markdown":"    in spring boot :\r\n \r\n    1) if your file is ouside jar you can use :        \r\n     \r\n    @Autowired\r\n    private ResourceLoader resourceLoader;\r\n        \r\n    **.resource(resourceLoader.getResource(&quot;file:/path_to_your_file&quot;))**\r\n    \r\n    2) if your file is inside resources of jar you can `enter code here`use :\r\n    \r\n    **.resource(new ClassPathResource(&quot;file_name&quot;))**","title":"Classpath resource not found when running as jar","body":"<pre><code>in spring boot :\n\n1) if your file is ouside jar you can use :        \n\n@Autowired\nprivate ResourceLoader resourceLoader;\n\n**.resource(resourceLoader.getResource(\"file:/path_to_your_file\"))**\n\n2) if your file is inside resources of jar you can `enter code here`use :\n\n**.resource(new ClassPathResource(\"file_name\"))**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586261550,"creation_date":1586261550,"answer_id":61079784,"question_id":25869428,"body_markdown":"Based on Andy&#39;s [answer](https://stackoverflow.com/a/25873705/6346531) I used the following to get an input streams of all YAMLs under a directory and sub-directories in resources (Note that the path passed doesn&#39;t begin with `/`):\r\n\r\n``` java\r\nprivate static Stream&lt;InputStream&gt; getInputStreamsFromClasspath(\r\n        String path,\r\n        PathMatchingResourcePatternResolver resolver\r\n) {\r\n    try {\r\n        return Arrays.stream(resolver.getResources(&quot;/&quot; + path + &quot;/**/*.yaml&quot;))\r\n                .filter(Resource::exists)\r\n                .map(resource -&gt; {\r\n                    try {\r\n                        return resource.getInputStream();\r\n                    } catch (IOException e) {\r\n                        return null;\r\n                    }\r\n                })\r\n                .filter(Objects::nonNull);\r\n    } catch (IOException e) {\r\n        logger.error(&quot;Failed to get definitions from directory {}&quot;, path, e);\r\n        return Stream.of();\r\n    }\r\n}\r\n```","title":"Classpath resource not found when running as jar","body":"<p>Based on Andy's <a href=\"https://stackoverflow.com/a/25873705/6346531\">answer</a> I used the following to get an input streams of all YAMLs under a directory and sub-directories in resources (Note that the path passed doesn't begin with <code>/</code>):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static Stream&lt;InputStream&gt; getInputStreamsFromClasspath(\n        String path,\n        PathMatchingResourcePatternResolver resolver\n) {\n    try {\n        return Arrays.stream(resolver.getResources(\"/\" + path + \"/**/*.yaml\"))\n                .filter(Resource::exists)\n                .map(resource -&gt; {\n                    try {\n                        return resource.getInputStream();\n                    } catch (IOException e) {\n                        return null;\n                    }\n                })\n                .filter(Objects::nonNull);\n    } catch (IOException e) {\n        logger.error(\"Failed to get definitions from directory {}\", path, e);\n        return Stream.of();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3952996,"reputation":254,"user_id":3262578,"display_name":"Bart Boersma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598426682,"creation_date":1598426682,"answer_id":63592519,"question_id":25869428,"body_markdown":"Another important thing I noticed is that when running the application it ignores capitals in file/folders in the resources folder where it doesn&#39;t ignore it while running as a jar. Therefore, in case your file is in the resources folder under ```Testfolder/messages.txt```\r\n\r\n```\r\n@Autowired\r\nApplicationContext appContext;\r\n\r\n// this will work when running the application, but will fail when running as jar\r\nappContext.getResource(&quot;classpath:testfolder/message.txt&quot;);\r\n```\r\n\r\nTherefore, don&#39;t use capitals in your resources or also add those capitals in your constructor of ClassPathResource:\r\n```\r\nappContext.getResource(&quot;classpath:Testfolder/message.txt&quot;);\r\n```","title":"Classpath resource not found when running as jar","body":"<p>Another important thing I noticed is that when running the application it ignores capitals in file/folders in the resources folder where it doesn't ignore it while running as a jar. Therefore, in case your file is in the resources folder under <code>Testfolder/messages.txt</code></p>\n<pre><code>@Autowired\nApplicationContext appContext;\n\n// this will work when running the application, but will fail when running as jar\nappContext.getResource(&quot;classpath:testfolder/message.txt&quot;);\n</code></pre>\n<p>Therefore, don't use capitals in your resources or also add those capitals in your constructor of ClassPathResource:</p>\n<pre><code>appContext.getResource(&quot;classpath:Testfolder/message.txt&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883826,"reputation":1,"user_id":11460835,"display_name":"vaibhav jain"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601357059,"creation_date":1601357059,"answer_id":64113385,"question_id":25869428,"body_markdown":"I was facing same error \r\n\r\nInputStream inputStream = new ClassPathResource(&quot;filename.ext&quot;).inputStream();\r\n\r\nthis should solve FileNotFoundException while running \r\n\r\n\r\n\r\n","title":"Classpath resource not found when running as jar","body":"<p>I was facing same error</p>\n<p>InputStream inputStream = new ClassPathResource(&quot;filename.ext&quot;).inputStream();</p>\n<p>this should solve FileNotFoundException while running</p>\n"},{"tags":[],"owner":{"account_id":65943,"reputation":3325,"user_id":193744,"display_name":"Sebastian Juarez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638388315,"creation_date":1638388315,"answer_id":70190446,"question_id":25869428,"body_markdown":"this worked for me in a static context:\r\n\r\n        InputStream inputStream = ClassName.class.getClassLoader().getResourceAsStream(&quot;folderName/fileName.xml&quot;);\r\n        Reader reader = new InputStreamReader(inputStream);\r\n        String xml = CharStreams.toString(reader);","title":"Classpath resource not found when running as jar","body":"<p>this worked for me in a static context:</p>\n<pre><code>    InputStream inputStream = ClassName.class.getClassLoader().getResourceAsStream(&quot;folderName/fileName.xml&quot;);\n    Reader reader = new InputStreamReader(inputStream);\n    String xml = CharStreams.toString(reader);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698349333,"creation_date":1644238473,"answer_id":71018931,"question_id":25869428,"body_markdown":"My solution to read the Stream to String more efficiently **(using StreamUtils)** instead of trying to create a temp file and read text.\r\n\r\n      @Bean\r\n      public String readFromResource(final @Value(&quot;classpath:data/message.txt&quot;) Resource messageFile)\r\n          throws IOException {\r\n        return StreamUtils.copyToString(messageFile.getInputStream(), StandardCharsets.UTF_8);\r\n      }","title":"Classpath resource not found when running as jar","body":"<p>My solution to read the Stream to String more efficiently <strong>(using StreamUtils)</strong> instead of trying to create a temp file and read text.</p>\n<pre><code>  @Bean\n  public String readFromResource(final @Value(&quot;classpath:data/message.txt&quot;) Resource messageFile)\n      throws IOException {\n    return StreamUtils.copyToString(messageFile.getInputStream(), StandardCharsets.UTF_8);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23944991,"reputation":1,"user_id":17937455,"display_name":"Sankar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698340129,"creation_date":1644416959,"answer_id":71051362,"question_id":25869428,"body_markdown":"I had faced same issue while running with `java -jar &lt;file_name.jar`. When I run it in STS it was working fine. \r\nThe below line helped me to resolve the issue \r\n```\r\nString templateFilePath = &quot;/templates/Itemized_Report_2021_V1.xlsx&quot;;\r\nInputStream resourceFile = getClass().getResourceAsStream(templateFilePath);\r\n```\r\n&gt; excel **report file template path ./templates/Itemized_Report_2021_V1.xlsx\r\njava.io.FileNotFoundException: D:\\STS%20WORKSPACE\\app\\target\\classes\\templates\\Itemized_Report_2021_V1.xlsx (The system cannot find the path specified)**\r\n\r\n**Solution:**\r\n\r\n\t@Override\r\n\tpublic void exportExcelReport(HttpServletResponse response, List&lt;Context&gt; contexts)\r\n\t\t\tthrows IOException, URISyntaxException {\r\n\t\tString templateFilePath = &quot;/templates/Itemized_Report_2021_V1.xlsx&quot;;\r\n\t\tInputStream resourceFile = **getClass().getResourceAsStream(templateFilePath)**;\r\n\t\tif (resourceFile == null) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Template file not found!. &quot; + templateFilePath);\r\n\t\t} else {\r\n\t\t\tServletOutputStream outputStream = null;\r\n\t\t\ttry {\r\n\t\t\t\tlog.info(&quot;Combined report with Competency excel report file template path {}&quot;, templateFilePath);\r\n\t\t\t\tthis.workbook = new XSSFWorkbook(resourceFile);\r\n\t\t\t\tprepareCompetencyReport(contexts);\r\n\t\t\t\tprepareItemizedReport(contexts);\r\n\r\n\t\t\t\t// Return as octet-stream format in the rest response\r\n\t\t\t\toutputStream = response.getOutputStream();\r\n\t\t\t\tworkbook.write(outputStream);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} finally {\r\n\t\t\t\tworkbook.close();\r\n\t\t\t\tif (outputStream != null)\r\n\t\t\t\t\toutputStream.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Classpath resource not found when running as jar","body":"<p>I had faced same issue while running with <code>java -jar &lt;file_name.jar</code>. When I run it in STS it was working fine.\nThe below line helped me to resolve the issue</p>\n<pre><code>String templateFilePath = &quot;/templates/Itemized_Report_2021_V1.xlsx&quot;;\nInputStream resourceFile = getClass().getResourceAsStream(templateFilePath);\n</code></pre>\n<blockquote>\n<p>excel <strong>report file template path ./templates/Itemized_Report_2021_V1.xlsx\njava.io.FileNotFoundException: D:\\STS%20WORKSPACE\\app\\target\\classes\\templates\\Itemized_Report_2021_V1.xlsx (The system cannot find the path specified)</strong></p>\n</blockquote>\n<p><strong>Solution:</strong></p>\n<pre><code>@Override\npublic void exportExcelReport(HttpServletResponse response, List&lt;Context&gt; contexts)\n        throws IOException, URISyntaxException {\n    String templateFilePath = &quot;/templates/Itemized_Report_2021_V1.xlsx&quot;;\n    InputStream resourceFile = **getClass().getResourceAsStream(templateFilePath)**;\n    if (resourceFile == null) {\n        throw new IllegalArgumentException(&quot;Template file not found!. &quot; + templateFilePath);\n    } else {\n        ServletOutputStream outputStream = null;\n        try {\n            log.info(&quot;Combined report with Competency excel report file template path {}&quot;, templateFilePath);\n            this.workbook = new XSSFWorkbook(resourceFile);\n            prepareCompetencyReport(contexts);\n            prepareItemizedReport(contexts);\n\n            // Return as octet-stream format in the rest response\n            outputStream = response.getOutputStream();\n            workbook.write(outputStream);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } finally {\n            workbook.close();\n            if (outputStream != null)\n                outputStream.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11070566,"reputation":685,"user_id":8128825,"display_name":"Barrrettt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666959424,"creation_date":1666959424,"answer_id":74235286,"question_id":25869428,"body_markdown":"This works on a dockerized springboot JAR.\r\n\r\n    InputStream is = new ClassPathResource(&quot;randomlists/names.txt&quot;).getInputStream();\r\n    Scanner s = new Scanner(is);\r\n    ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    while (s.hasNext()){ \r\n        names.add(s.next());\r\n    }\r\n    s.close();\r\nScanner have constructor with inputStream.\r\n\r\nThis is my way to read statics text resource files whit Springboot.\r\n\r\n","title":"Classpath resource not found when running as jar","body":"<p>This works on a dockerized springboot JAR.</p>\n<pre><code>InputStream is = new ClassPathResource(&quot;randomlists/names.txt&quot;).getInputStream();\nScanner s = new Scanner(is);\nArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\nwhile (s.hasNext()){ \n    names.add(s.next());\n}\ns.close();\n</code></pre>\n<p>Scanner have constructor with inputStream.</p>\n<p>This is my way to read statics text resource files whit Springboot.</p>\n"},{"tags":[],"owner":{"account_id":18278180,"reputation":121,"user_id":13307492,"display_name":"Jon Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698349256,"creation_date":1698339878,"answer_id":77369055,"question_id":25869428,"body_markdown":"In the [most voted answer][1], mentioned [Interface Resource][2] which extends [Interface InputStreamSource][3], so I can replace getFile() with getInputStream() for Resource object.\r\n\r\nexample(using getFile()):\r\n```\r\n    @GetMapping(value = &quot;/excel-download&quot;)\r\n    public void downloadExcel(HttpServletResponse httpServletResponse) throws IOException {\r\n        ServletOutputStream servletOutputStream = httpServletResponse.getOutputStream();\r\n\r\n//resourceLoader is Dependency injection from org.springframework.core.io.ResourceLoader, can be injected from @Autowired\r\n        Resource resource = resourceLoader.getResource(&quot;classpath:test.xlsx&quot; );\r\n        File file = resource.getFile();//throws FileNotFoundException in jar execution\r\n        ByteArrayInputStream byteArrayInputStream =\r\n                new ByteArrayInputStream(Files.readAllBytes(Paths.get(file.getAbsolutePath())));\r\n        httpServletResponse.setContentType(&quot;application/octet-stream&quot;);\r\n\r\n        String attachment = MessageFormat.format(\r\n            &quot;attachment; filename=\\&quot;{0}\\&quot;&quot;,\r\n            URLEncoder.encode(&quot;test.xlsx&quot;, StandardCharsets.UTF_8.toString())\r\n        );\r\n        httpServletResponse.addHeader(&quot;Content-Disposition&quot;, attachment);\r\n\r\n        IOUtils.copy(byteArrayInputStream, servletOutputStream);\r\n\r\n        servletOutputStream.flush();\r\n        servletOutputStream.close();\r\n    }\r\n```\r\n\r\nexample(using getInputStream()):\r\n```\r\n    @GetMapping(value = &quot;/excel-download&quot;)\r\n    public void downloadExcel(HttpServletResponse httpServletResponse) throws IOException {\r\n        ServletOutputStream servletOutputStream = httpServletResponse.getOutputStream();\r\n\r\n//resourceLoader is Dependency injection from org.springframework.core.io.ResourceLoader, can be injected from @Autowired\r\n        Resource resource = resourceLoader.getResource(&quot;classpath:test.xlsx&quot;);\r\n        InputStream inputStream = resource.getInputStream();//works in jar execution!\r\n        httpServletResponse.setContentType(&quot;application/octet-stream&quot;);\r\n\r\n        String attachment = MessageFormat.format(\r\n            &quot;attachment; filename=\\&quot;{0}\\&quot;&quot;,\r\n            URLEncoder.encode(&quot;test.xlsx&quot;, StandardCharsets.UTF_8.toString())\r\n        );\r\n        httpServletResponse.addHeader(&quot;Content-Disposition&quot;, attachment);\r\n\r\n        IOUtils.copy(inputStream, servletOutputStream);\r\n\r\n        servletOutputStream.flush();\r\n        servletOutputStream.close();\r\n    }\r\n```\r\n\r\nThe situation is, if running the project directly in any IDE or editor like IntelliJ, my both examples work but when using package manager command like `mvn package`, which gets a jar file containing all the dependencies we need, and we execute it with the command:\r\n```\r\njava -jar &lt;yourJarFileName&gt;.jar\r\n```\r\n\r\nYou will find that only the 2nd example works.\r\n\r\nThis works in Spring Boot 2.7.17.\r\n\r\n  [1]: https://stackoverflow.com/a/25873705/13307492\r\n  [2]: https://docs.spring.io/spring-framework/docs/5.3.x/javadoc-api/org/springframework/core/io/Resource.html#getFile--\r\n  [3]: https://docs.spring.io/spring-framework/docs/5.3.x/javadoc-api/org/springframework/core/io/InputStreamSource.html#getInputStream","title":"Classpath resource not found when running as jar","body":"<p>In the <a href=\"https://stackoverflow.com/a/25873705/13307492\">most voted answer</a>, mentioned <a href=\"https://docs.spring.io/spring-framework/docs/5.3.x/javadoc-api/org/springframework/core/io/Resource.html#getFile--\" rel=\"nofollow noreferrer\">Interface Resource</a> which extends <a href=\"https://docs.spring.io/spring-framework/docs/5.3.x/javadoc-api/org/springframework/core/io/InputStreamSource.html#getInputStream\" rel=\"nofollow noreferrer\">Interface InputStreamSource</a>, so I can replace getFile() with getInputStream() for Resource object.</p>\n<p>example(using getFile()):</p>\n<pre><code>    @GetMapping(value = &quot;/excel-download&quot;)\n    public void downloadExcel(HttpServletResponse httpServletResponse) throws IOException {\n        ServletOutputStream servletOutputStream = httpServletResponse.getOutputStream();\n\n//resourceLoader is Dependency injection from org.springframework.core.io.ResourceLoader, can be injected from @Autowired\n        Resource resource = resourceLoader.getResource(&quot;classpath:test.xlsx&quot; );\n        File file = resource.getFile();//throws FileNotFoundException in jar execution\n        ByteArrayInputStream byteArrayInputStream =\n                new ByteArrayInputStream(Files.readAllBytes(Paths.get(file.getAbsolutePath())));\n        httpServletResponse.setContentType(&quot;application/octet-stream&quot;);\n\n        String attachment = MessageFormat.format(\n            &quot;attachment; filename=\\&quot;{0}\\&quot;&quot;,\n            URLEncoder.encode(&quot;test.xlsx&quot;, StandardCharsets.UTF_8.toString())\n        );\n        httpServletResponse.addHeader(&quot;Content-Disposition&quot;, attachment);\n\n        IOUtils.copy(byteArrayInputStream, servletOutputStream);\n\n        servletOutputStream.flush();\n        servletOutputStream.close();\n    }\n</code></pre>\n<p>example(using getInputStream()):</p>\n<pre><code>    @GetMapping(value = &quot;/excel-download&quot;)\n    public void downloadExcel(HttpServletResponse httpServletResponse) throws IOException {\n        ServletOutputStream servletOutputStream = httpServletResponse.getOutputStream();\n\n//resourceLoader is Dependency injection from org.springframework.core.io.ResourceLoader, can be injected from @Autowired\n        Resource resource = resourceLoader.getResource(&quot;classpath:test.xlsx&quot;);\n        InputStream inputStream = resource.getInputStream();//works in jar execution!\n        httpServletResponse.setContentType(&quot;application/octet-stream&quot;);\n\n        String attachment = MessageFormat.format(\n            &quot;attachment; filename=\\&quot;{0}\\&quot;&quot;,\n            URLEncoder.encode(&quot;test.xlsx&quot;, StandardCharsets.UTF_8.toString())\n        );\n        httpServletResponse.addHeader(&quot;Content-Disposition&quot;, attachment);\n\n        IOUtils.copy(inputStream, servletOutputStream);\n\n        servletOutputStream.flush();\n        servletOutputStream.close();\n    }\n</code></pre>\n<p>The situation is, if running the project directly in any IDE or editor like IntelliJ, my both examples work but when using package manager command like <code>mvn package</code>, which gets a jar file containing all the dependencies we need, and we execute it with the command:</p>\n<pre><code>java -jar &lt;yourJarFileName&gt;.jar\n</code></pre>\n<p>You will find that only the 2nd example works.</p>\n<p>This works in Spring Boot 2.7.17.</p>\n"}],"owner":{"account_id":448833,"reputation":4570,"user_id":843273,"accept_rate":62,"display_name":"gyoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259808,"favorite_count":0,"down_vote_count":0,"up_vote_count":201,"accepted_answer_id":25873705,"answer_count":17,"score":201,"last_activity_date":1698349383,"creation_date":1410872271,"question_id":25869428,"body_markdown":"Having this problem both in Spring Boot 1.1.5 and 1.1.6 - I&#39;m loading a classpath resource using an @Value annotation, which works just fine when I run the application from within STS (3.6.0, Windows). However, when I run a mvn package and then try to run the jar, I get FileNotFound exceptions.\r\n\r\nThe resource, message.txt, is in src/main/resources. I&#39;ve inspected the jar and verified that it contains the file &quot;message.txt&quot; at the top level (same level as application.properties).\r\n\r\n\r\nHere&#39;s the application:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    @EnableAutoConfiguration\r\n    public class Application implements CommandLineRunner {\r\n    \r\n    \tprivate static final Logger logger = Logger.getLogger(Application.class);\r\n    \r\n    \t@Value(&quot;${message.file}&quot;)\r\n    \tprivate Resource messageResource;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... arg0) throws Exception {\r\n    \t\t// both of these work when running as Spring boot app from STS, but\r\n    \t\t// fail after mvn package, and then running as java -jar\r\n    \t\ttestResource(new ClassPathResource(&quot;message.txt&quot;));\r\n    \t\ttestResource(this.messageResource);\r\n    \t}\r\n    \r\n    \tprivate void testResource(Resource resource) {\r\n    \t\ttry {\r\n    \t\t\tresource.getFile();\r\n    \t\t\tlogger.debug(&quot;Found the resource &quot; + resource.getFilename());\r\n    \t\t} catch (IOException ex) {\r\n    \t\t\tlogger.error(ex.toString());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThe exception:\r\n\r\n    c:\\Users\\glyoder\\Documents\\workspace-sts-3.5.1.RELEASE\\classpath-resource-proble\r\n    m\\target&gt;java -jar demo-0.0.1-SNAPSHOT.jar\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v1.1.5.RELEASE)\r\n    \r\n    2014-09-16 08:46:34.635  INFO 5976 --- [           main] demo.Application\r\n                      : Starting Application on 8W59XV1 with PID 5976 (C:\\Users\\glyo\r\n    der\\Documents\\workspace-sts-3.5.1.RELEASE\\classpath-resource-problem\\target\\demo\r\n    -0.0.1-SNAPSHOT.jar started by glyoder in c:\\Users\\glyoder\\Documents\\workspace-s\r\n    ts-3.5.1.RELEASE\\classpath-resource-problem\\target)\r\n    2014-09-16 08:46:34.640 DEBUG 5976 --- [           main] demo.Application\r\n                      : Running with Spring Boot v1.1.5.RELEASE, Spring v4.0.6.RELEA\r\n    SE\r\n    2014-09-16 08:46:34.681  INFO 5976 --- [           main] s.c.a.AnnotationConfigA\r\n    pplicationContext : Refreshing org.springframework.context.annotation.Annotation\r\n    ConfigApplicationContext@1c77b086: startup date [Tue Sep 16 08:46:34 EDT 2014];\r\n    root of context hierarchy\r\n    2014-09-16 08:46:35.196  INFO 5976 --- [           main] o.s.j.e.a.AnnotationMBe\r\n    anExporter        : Registering beans for JMX exposure on startup\r\n    2014-09-16 08:46:35.210 ERROR 5976 --- [           main] demo.Application\r\n                      : java.io.FileNotFoundException: class path resource [message.\r\n    txt] cannot be resolved to absolute file path because it does not reside in the\r\n    file system: jar:file:/C:/Users/glyoder/Documents/workspace-sts-3.5.1.RELEASE/cl\r\n    asspath-resource-problem/target/demo-0.0.1-SNAPSHOT.jar!/message.txt\r\n    2014-09-16 08:46:35.211 ERROR 5976 --- [           main] demo.Application\r\n                      : java.io.FileNotFoundException: class path resource [message.\r\n    txt] cannot be resolved to absolute file path because it does not reside in the\r\n    file system: jar:file:/C:/Users/glyoder/Documents/workspace-sts-3.5.1.RELEASE/cl\r\n    asspath-resource-problem/target/demo-0.0.1-SNAPSHOT.jar!/message.txt\r\n    2014-09-16 08:46:35.215  INFO 5976 --- [           main] demo.Application\r\n                      : Started Application in 0.965 seconds (JVM running for 1.435)\r\n    \r\n    2014-09-16 08:46:35.217  INFO 5976 --- [       Thread-2] s.c.a.AnnotationConfigA\r\n    pplicationContext : Closing org.springframework.context.annotation.AnnotationCon\r\n    figApplicationContext@1c77b086: startup date [Tue Sep 16 08:46:34 EDT 2014]; roo\r\n    t of context hierarchy\r\n    2014-09-16 08:46:35.218  INFO 5976 --- [       Thread-2] o.s.j.e.a.AnnotationMBe\r\n    anExporter        : Unregistering JMX-exposed beans on shutdown\r\n\r\n\r\n\r\n","title":"Classpath resource not found when running as jar","body":"<p>Having this problem both in Spring Boot 1.1.5 and 1.1.6 - I'm loading a classpath resource using an @Value annotation, which works just fine when I run the application from within STS (3.6.0, Windows). However, when I run a mvn package and then try to run the jar, I get FileNotFound exceptions.</p>\n\n<p>The resource, message.txt, is in src/main/resources. I've inspected the jar and verified that it contains the file \"message.txt\" at the top level (same level as application.properties).</p>\n\n<p>Here's the application:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan\n@EnableAutoConfiguration\npublic class Application implements CommandLineRunner {\n\n    private static final Logger logger = Logger.getLogger(Application.class);\n\n    @Value(\"${message.file}\")\n    private Resource messageResource;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void run(String... arg0) throws Exception {\n        // both of these work when running as Spring boot app from STS, but\n        // fail after mvn package, and then running as java -jar\n        testResource(new ClassPathResource(\"message.txt\"));\n        testResource(this.messageResource);\n    }\n\n    private void testResource(Resource resource) {\n        try {\n            resource.getFile();\n            logger.debug(\"Found the resource \" + resource.getFilename());\n        } catch (IOException ex) {\n            logger.error(ex.toString());\n        }\n    }\n}\n</code></pre>\n\n<p>The exception:</p>\n\n<pre><code>c:\\Users\\glyoder\\Documents\\workspace-sts-3.5.1.RELEASE\\classpath-resource-proble\nm\\target&gt;java -jar demo-0.0.1-SNAPSHOT.jar\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.1.5.RELEASE)\n\n2014-09-16 08:46:34.635  INFO 5976 --- [           main] demo.Application\n                  : Starting Application on 8W59XV1 with PID 5976 (C:\\Users\\glyo\nder\\Documents\\workspace-sts-3.5.1.RELEASE\\classpath-resource-problem\\target\\demo\n-0.0.1-SNAPSHOT.jar started by glyoder in c:\\Users\\glyoder\\Documents\\workspace-s\nts-3.5.1.RELEASE\\classpath-resource-problem\\target)\n2014-09-16 08:46:34.640 DEBUG 5976 --- [           main] demo.Application\n                  : Running with Spring Boot v1.1.5.RELEASE, Spring v4.0.6.RELEA\nSE\n2014-09-16 08:46:34.681  INFO 5976 --- [           main] s.c.a.AnnotationConfigA\npplicationContext : Refreshing org.springframework.context.annotation.Annotation\nConfigApplicationContext@1c77b086: startup date [Tue Sep 16 08:46:34 EDT 2014];\nroot of context hierarchy\n2014-09-16 08:46:35.196  INFO 5976 --- [           main] o.s.j.e.a.AnnotationMBe\nanExporter        : Registering beans for JMX exposure on startup\n2014-09-16 08:46:35.210 ERROR 5976 --- [           main] demo.Application\n                  : java.io.FileNotFoundException: class path resource [message.\ntxt] cannot be resolved to absolute file path because it does not reside in the\nfile system: jar:file:/C:/Users/glyoder/Documents/workspace-sts-3.5.1.RELEASE/cl\nasspath-resource-problem/target/demo-0.0.1-SNAPSHOT.jar!/message.txt\n2014-09-16 08:46:35.211 ERROR 5976 --- [           main] demo.Application\n                  : java.io.FileNotFoundException: class path resource [message.\ntxt] cannot be resolved to absolute file path because it does not reside in the\nfile system: jar:file:/C:/Users/glyoder/Documents/workspace-sts-3.5.1.RELEASE/cl\nasspath-resource-problem/target/demo-0.0.1-SNAPSHOT.jar!/message.txt\n2014-09-16 08:46:35.215  INFO 5976 --- [           main] demo.Application\n                  : Started Application in 0.965 seconds (JVM running for 1.435)\n\n2014-09-16 08:46:35.217  INFO 5976 --- [       Thread-2] s.c.a.AnnotationConfigA\npplicationContext : Closing org.springframework.context.annotation.AnnotationCon\nfigApplicationContext@1c77b086: startup date [Tue Sep 16 08:46:34 EDT 2014]; roo\nt of context hierarchy\n2014-09-16 08:46:35.218  INFO 5976 --- [       Thread-2] o.s.j.e.a.AnnotationMBe\nanExporter        : Unregistering JMX-exposed beans on shutdown\n</code></pre>\n"},{"tags":["java","spring-boot","maven","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18486,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1698353704,"post_id":77369791,"comment_id":136398464,"body_markdown":"What version of Spring Data Elasticsearch are you using? There is no `SearchQuery` in the current version and the repository method taking a query object has been removed in 4.0 as far as I remember (which was more than 3 years ago).","body":"What version of Spring Data Elasticsearch are you using? There is no <code>SearchQuery</code> in the current version and the repository method taking a query object has been removed in 4.0 as far as I remember (which was more than 3 years ago)."},{"owner":{"account_id":14357528,"reputation":37,"user_id":10370935,"display_name":"sandeep kande"},"score":0,"creation_date":1698374075,"post_id":77369791,"comment_id":136400273,"body_markdown":"i am using `spring-data-dlasticsearch:5.1.5` version.","body":"i am using <code>spring-data-dlasticsearch:5.1.5</code> version."},{"owner":{"account_id":14357528,"reputation":37,"user_id":10370935,"display_name":"sandeep kande"},"score":0,"creation_date":1698374492,"post_id":77369791,"comment_id":136400306,"body_markdown":"I want to perform partialSearch and fullSearch (with another method) of users based on parameters that are not null. Could you please help me decide which version to go with?","body":"I want to perform partialSearch and fullSearch (with another method) of users based on parameters that are not null. Could you please help me decide which version to go with?"},{"owner":{"account_id":410920,"reputation":29365,"user_id":783043,"display_name":"imotov"},"score":0,"creation_date":1698376697,"post_id":77369791,"comment_id":136400488,"body_markdown":"&quot;However, the search is not working as expected, and I&#39;m not getting the desired results.&quot; This phrase can mean pretty much anything from getting exception to relevancy being slightly off. Could you explain what you mean by that statement?","body":"&quot;However, the search is not working as expected, and I&#39;m not getting the desired results.&quot; This phrase can mean pretty much anything from getting exception to relevancy being slightly off. Could you explain what you mean by that statement?"},{"owner":{"account_id":5534873,"reputation":18486,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1698379522,"post_id":77369791,"comment_id":136400666,"body_markdown":"As I wrote, there is no `SearchQuery` class in Spring Data Elasticsearch 5.1, and no repository method taking a query object. So the code doing the search must be implemented somewhere outside of Spring Data Elasticsearch.","body":"As I wrote, there is no <code>SearchQuery</code> class in Spring Data Elasticsearch 5.1, and no repository method taking a query object. So the code doing the search must be implemented somewhere outside of Spring Data Elasticsearch."},{"owner":{"account_id":25028548,"reputation":425,"user_id":18886549,"display_name":"shalnarkftw"},"score":0,"creation_date":1698681559,"post_id":77369791,"comment_id":136433052,"body_markdown":"Can you share the results ? Exceptions, errors ect..","body":"Can you share the results ? Exceptions, errors ect.."}],"owner":{"account_id":14357528,"reputation":37,"user_id":10370935,"display_name":"sandeep kande"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698347772,"creation_date":1698347772,"question_id":77369791,"body_markdown":"I am trying to implement a partial search functionality in my Spring Boot application using Spring Data Elasticsearch and the Elasticsearch High-Level REST Client. I have a method partialSearchUsers in my service class that constructs a SearchQuery object based on the provided parameters (name, email, address, phone, sortField, and sortOrder) and performs a search operation on the Elasticsearch index. However, the search is not working as expected, and I&#39;m not getting the desired results.\r\n\r\nHere&#39;s my code:\r\n\r\n    public List&lt;UserDto&gt; partialSearchUsers(String name, String email, String address, String phone, String sortField, String sortOrder) {\r\n\r\n    // Create a SearchQuery object.\r\n    SearchQuery searchQuery = new SearchQuery();\r\n\r\n    // Add criteria to the SearchQuery object.\r\n    if (name != null) {\r\n        searchQuery.addCriteria(Criteria.where(&quot;name&quot;).contains(name));\r\n    }\r\n\r\n    if (email != null) {\r\n        searchQuery.addCriteria(Criteria.where(&quot;email&quot;).contains(email));\r\n    }\r\n\r\n    if (address != null) {\r\n        searchQuery.addCriteria(Criteria.where(&quot;address&quot;).contains(address));\r\n    }\r\n\r\n    if (phone != null) {\r\n        searchQuery.addCriteria(Criteria.where(&quot;phone&quot;).contains(phone));\r\n    }\r\n\r\n    // Add a sort to the SearchQuery object.\r\n    if (sortField != null &amp;&amp; sortOrder != null) {\r\n        searchQuery.addSort(Sort.by(Sort.Order.fromString(sortOrder), sortField));\r\n    }\r\n\r\n    // Execute the search query and retrieve the results.\r\n    List&lt;User&gt; users = userRepo.search(searchQuery);\r\n    \r\n    return userMapper.map(users);\r\n}\r\n\r\nI have included the necessary dependencies in my project:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n    &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\r\n    &lt;version&gt;7.17.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am using Java 17. Can someone please help me identify what might be causing the issue? Is there something I am missing in my code or configuration? Any guidance or suggestions would be greatly appreciated. Thank you!","title":"Unable to Perform Search Using Spring Data Elasticsearch and Elasticsearch High-Level REST Client","body":"<p>I am trying to implement a partial search functionality in my Spring Boot application using Spring Data Elasticsearch and the Elasticsearch High-Level REST Client. I have a method partialSearchUsers in my service class that constructs a SearchQuery object based on the provided parameters (name, email, address, phone, sortField, and sortOrder) and performs a search operation on the Elasticsearch index. However, the search is not working as expected, and I'm not getting the desired results.</p>\n<p>Here's my code:</p>\n<pre><code>public List&lt;UserDto&gt; partialSearchUsers(String name, String email, String address, String phone, String sortField, String sortOrder) {\n\n// Create a SearchQuery object.\nSearchQuery searchQuery = new SearchQuery();\n\n// Add criteria to the SearchQuery object.\nif (name != null) {\n    searchQuery.addCriteria(Criteria.where(&quot;name&quot;).contains(name));\n}\n\nif (email != null) {\n    searchQuery.addCriteria(Criteria.where(&quot;email&quot;).contains(email));\n}\n\nif (address != null) {\n    searchQuery.addCriteria(Criteria.where(&quot;address&quot;).contains(address));\n}\n\nif (phone != null) {\n    searchQuery.addCriteria(Criteria.where(&quot;phone&quot;).contains(phone));\n}\n\n// Add a sort to the SearchQuery object.\nif (sortField != null &amp;&amp; sortOrder != null) {\n    searchQuery.addSort(Sort.by(Sort.Order.fromString(sortOrder), sortField));\n}\n\n// Execute the search query and retrieve the results.\nList&lt;User&gt; users = userRepo.search(searchQuery);\n\nreturn userMapper.map(users);\n</code></pre>\n<p>}</p>\n<p>I have included the necessary dependencies in my project:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n&lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\n&lt;version&gt;7.17.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am using Java 17. Can someone please help me identify what might be causing the issue? Is there something I am missing in my code or configuration? Any guidance or suggestions would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":9847991,"reputation":56896,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1501422999,"post_id":45400538,"comment_id":77761587,"body_markdown":"have you tried spring.datasource.password=&quot;mypassword&quot; without @123","body":"have you tried spring.datasource.password=&quot;mypassword&quot; without @123"},{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":2,"creation_date":1501423464,"post_id":45400538,"comment_id":77761739,"body_markdown":"Run this command `ALTER USER &quot;postgres&quot; WITH PASSWORD &#39;mypassword@123&#39;;` and restart your application","body":"Run this command <code>ALTER USER &quot;postgres&quot; WITH PASSWORD &#39;mypassword@123&#39;;</code> and restart your application"},{"owner":{"account_id":5607073,"reputation":869,"user_id":4441239,"accept_rate":40,"display_name":"Moni"},"score":0,"creation_date":1501424954,"post_id":45400538,"comment_id":77762214,"body_markdown":"Thank you for your responses.\n@user7294900 - Tried that just now. Unfortunately, it did not work.","body":"Thank you for your responses. @user7294900 - Tried that just now. Unfortunately, it did not work."},{"owner":{"account_id":5607073,"reputation":869,"user_id":4441239,"accept_rate":40,"display_name":"Moni"},"score":0,"creation_date":1501424959,"post_id":45400538,"comment_id":77762215,"body_markdown":"@AjitSoman - This too did not work. :-(","body":"@AjitSoman - This too did not work. :-("},{"owner":{"account_id":9847991,"reputation":56896,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":1,"creation_date":1501425325,"post_id":45400538,"comment_id":77762338,"body_markdown":"Sorry. Meant without double quotes spring.datasource.password=mypassword","body":"Sorry. Meant without double quotes spring.datasource.password=mypassword"},{"owner":{"account_id":5607073,"reputation":869,"user_id":4441239,"accept_rate":40,"display_name":"Moni"},"score":0,"creation_date":1501425883,"post_id":45400538,"comment_id":77762524,"body_markdown":"@user7294900 - Thank you very much .. that worked!! I don&#39;t know why I did not think of it ...thank you again!","body":"@user7294900 - Thank you very much .. that worked!! I don&#39;t know why I did not think of it ...thank you again!"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56896,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1554361852,"creation_date":1501428858,"answer_id":45401544,"question_id":45400538,"body_markdown":"Your password should be a simple text (without adding characters as `&quot;`)\r\n\r\n     spring.datasource.password=mypassword","title":"Java Springboot application returning password authentication failed for user &quot;postgres&quot;","body":"<p>Your password should be a simple text (without adding characters as <code>\"</code>)</p>\n\n<pre><code> spring.datasource.password=mypassword\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652712506,"creation_date":1652712506,"answer_id":72261129,"question_id":45400538,"body_markdown":"I was getting this when running my application locally and did not manually create my db, user and password. After manually creating them and then rerunning the application worked.","title":"Java Springboot application returning password authentication failed for user &quot;postgres&quot;","body":"<p>I was getting this when running my application locally and did not manually create my db, user and password. After manually creating them and then rerunning the application worked.</p>\n"},{"tags":[],"owner":{"account_id":18546006,"reputation":1,"user_id":19165137,"display_name":"Atsuka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698347268,"creation_date":1698347268,"answer_id":77369743,"question_id":45400538,"body_markdown":"I solved it, in my case, I needed to connect to PostgreSQL, and I had it running in Docker. The first step was to check if port 5432 was in use with the command: ```netstat -a```\r\nwhich it was. The problem was that I also had PostgreSQL installed locally, and it had port 5432 open, so I stopped the process from Windows -&gt; Services. That worked for me.","title":"Java Springboot application returning password authentication failed for user &quot;postgres&quot;","body":"<p>I solved it, in my case, I needed to connect to PostgreSQL, and I had it running in Docker. The first step was to check if port 5432 was in use with the command: <code>netstat -a</code>\nwhich it was. The problem was that I also had PostgreSQL installed locally, and it had port 5432 open, so I stopped the process from Windows -&gt; Services. That worked for me.</p>\n"}],"owner":{"account_id":5607073,"reputation":869,"user_id":4441239,"accept_rate":40,"display_name":"Moni"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12599,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45401544,"answer_count":3,"score":2,"last_activity_date":1698347268,"creation_date":1501422838,"question_id":45400538,"body_markdown":"I am trying to develop a web app using spring boot and postgres. I used http://start.spring.io/ to create a starter spring project with Postgres SQL jdbc driver as a dependency.\r\nI have added the following in application.properties file\r\n\r\n    spring.datasource.url= jdbc:postgresql://localhost:5432/mydb\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=&quot;mypassword@123&quot;   \r\n    spring.jpa.hibernate.ddl-auto=validate\r\n\r\nHowever, this is throwing the following error:\r\n\r\n    2017-07-30 19:09:15.168 ERROR 2959 --- [           main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.\r\n    \r\n    org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:443) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:217) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\r\n    \tat org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\r\n    \tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.16.jar:na]\r\n    \tat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.16.jar:na]\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.16.jar:na]\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.16.jar:na]\r\n\r\nThe password is not wrong.\r\nWhen I use psql to log in to the database using that password, it works.\r\n\r\nThe pg_hba.conf file is:\r\n\r\n    local   all             all                                     password\r\n    host    all             all             127.0.0.1/32            password\r\n    host    all             all             ::1/128                 password\r\n\r\nI&#39;m using java 1.8 with postgres SQL 9.6 on my macbook pro.\r\n\r\n","title":"Java Springboot application returning password authentication failed for user &quot;postgres&quot;","body":"<p>I am trying to develop a web app using spring boot and postgres. I used <a href=\"http://start.spring.io/\" rel=\"nofollow noreferrer\">http://start.spring.io/</a> to create a starter spring project with Postgres SQL jdbc driver as a dependency.\nI have added the following in application.properties file</p>\n\n<pre><code>spring.datasource.url= jdbc:postgresql://localhost:5432/mydb\nspring.datasource.username=postgres\nspring.datasource.password=\"mypassword@123\"   \nspring.jpa.hibernate.ddl-auto=validate\n</code></pre>\n\n<p>However, this is throwing the following error:</p>\n\n<pre><code>2017-07-30 19:09:15.168 ERROR 2959 --- [           main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.\n\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user \"postgres\"\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:443) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:217) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\n    at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\n    at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.16.jar:na]\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.16.jar:na]\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.16.jar:na]\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.16.jar:na]\n</code></pre>\n\n<p>The password is not wrong.\nWhen I use psql to log in to the database using that password, it works.</p>\n\n<p>The pg_hba.conf file is:</p>\n\n<pre><code>local   all             all                                     password\nhost    all             all             127.0.0.1/32            password\nhost    all             all             ::1/128                 password\n</code></pre>\n\n<p>I'm using java 1.8 with postgres SQL 9.6 on my macbook pro.</p>\n"},{"tags":["java","lambda","java-8","option-type"],"comments":[{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":3,"creation_date":1423910131,"post_id":28514704,"comment_id":45347037,"body_markdown":"The version which expects a `Supplier` would be `.orElseGet()`.","body":"The version which expects a <code>Supplier</code> would be <code>.orElseGet()</code>."}],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1424092162,"creation_date":1423911079,"answer_id":28514834,"question_id":28514704,"body_markdown":"You could do it like this:\r\n\r\n\r\n    Optional&lt;String&gt; resultOpt = Optional.of(find1()\r\n                                    .orElseGet(() -&gt; find2()\r\n                                    .orElseGet(() -&gt; find3()\r\n                                    .orElseThrow(() -&gt; new WhatEverException()))));\r\n\r\nThough I&#39;m not sure it improves readability IMO. Guava provides a way to chain Optionals:\r\n\r\n    import com.google.common.base.Optional;\r\n\r\n    Optional&lt;String&gt; resultOpt = s.find1().or(s.find2()).or(s.find3());\r\n\r\nIt could be another alternative for your problem but does not use the standard Optional class in the JDK.\r\n\r\nIf you want to keep the standard API, you could write a simple utility method:\r\n\r\n    static &lt;T&gt; Optional&lt;T&gt; or(Optional&lt;T&gt; first, Optional&lt;T&gt; second) {\r\n        return first.isPresent() ? first : second;\r\n    }\r\n\r\nand then: \r\n\r\n    Optional&lt;String&gt; resultOpt = or(s.find1(), or(s.find2(), s.find3()));\r\n\r\nIf you have a lot of optionals to chains, maybe it&#39;s better to use the Stream approach as other mentionned already.","title":"Chaining Optionals in Java 8","body":"<p>You could do it like this:</p>\n\n<pre><code>Optional&lt;String&gt; resultOpt = Optional.of(find1()\n                                .orElseGet(() -&gt; find2()\n                                .orElseGet(() -&gt; find3()\n                                .orElseThrow(() -&gt; new WhatEverException()))));\n</code></pre>\n\n<p>Though I'm not sure it improves readability IMO. Guava provides a way to chain Optionals:</p>\n\n<pre><code>import com.google.common.base.Optional;\n\nOptional&lt;String&gt; resultOpt = s.find1().or(s.find2()).or(s.find3());\n</code></pre>\n\n<p>It could be another alternative for your problem but does not use the standard Optional class in the JDK.</p>\n\n<p>If you want to keep the standard API, you could write a simple utility method:</p>\n\n<pre><code>static &lt;T&gt; Optional&lt;T&gt; or(Optional&lt;T&gt; first, Optional&lt;T&gt; second) {\n    return first.isPresent() ? first : second;\n}\n</code></pre>\n\n<p>and then: </p>\n\n<pre><code>Optional&lt;String&gt; resultOpt = or(s.find1(), or(s.find2(), s.find3()));\n</code></pre>\n\n<p>If you have a lot of optionals to chains, maybe it's better to use the Stream approach as other mentionned already.</p>\n"},{"tags":[],"owner":{"account_id":5687192,"reputation":2054,"user_id":4496350,"display_name":"Sauli T&#228;hk&#228;p&#228;&#228;"},"down_vote_count":1,"up_vote_count":150,"is_accepted":true,"score":149,"last_activity_date":1424091188,"creation_date":1423911144,"answer_id":28514843,"question_id":28514704,"body_markdown":"Use a Stream: \r\n\r\n    Stream.of(find1(), find2(), find3())\r\n        .filter(Optional::isPresent)\r\n        .map(Optional::get)\r\n        .findFirst();\r\n\r\nIf you need to evaluate the find methods lazily, use supplier functions:\r\n\r\n    Stream.of(this::find1, this::find2, this::find3)\r\n        .map(Supplier::get)\r\n        .filter(Optional::isPresent)\r\n        .map(Optional::get)\r\n        .findFirst();","title":"Chaining Optionals in Java 8","body":"<p>Use a Stream: </p>\n\n<pre><code>Stream.of(find1(), find2(), find3())\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .findFirst();\n</code></pre>\n\n<p>If you need to evaluate the find methods lazily, use supplier functions:</p>\n\n<pre><code>Stream.of(this::find1, this::find2, this::find3)\n    .map(Supplier::get)\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1423911603,"creation_date":1423911603,"answer_id":28514921,"question_id":28514704,"body_markdown":"Maybe one of\r\n\r\n\t    public &lt;T&gt; Optional&lt;? extends T&gt; firstOf(Optional&lt;? extends T&gt; first, @SuppressWarnings(&quot;unchecked&quot;) Supplier&lt;Optional&lt;? extends T&gt;&gt;... supp) {\r\n\t        if (first.isPresent()) return first;\r\n\t        for (Supplier&lt;Optional &lt;? extends T&gt;&gt; sup : supp) {\r\n\t            Optional&lt;? extends T&gt; opt = sup.get();\r\n\t            if (opt.isPresent()) {\r\n\t                return opt;\r\n\t            }\r\n\t        }\r\n\t        return Optional.empty();\r\n\t    }\r\n\r\n\t    public &lt;T&gt; Optional&lt;? extends T&gt; firstOf(Optional&lt;? extends T&gt; first, Stream&lt;Supplier&lt;Optional&lt;? extends T&gt;&gt;&gt; supp) {\r\n\t        if (first.isPresent()) return first;\r\n\t        Stream&lt;Optional&lt;? extends T&gt;&gt; present = supp.map(Supplier::get).filter(Optional::isPresent);\r\n\t        return present.findFirst().orElseGet(Optional::empty);\r\n\t    }\r\n\r\nwill do.\r\n\r\nThe first one iterates over an array of suppliers. The first non-empty `Optional&lt;&gt;` is returned. If we don&#39;t find one, we return an empty `Optional`.\r\n\r\nThe second one does the same with a `Stream` of `Suppliers` which is traversed, each one asked (lazily) for their value, which is then filtered for empty `Optional`s. The first non-empty one is returned, or if no such exists, an empty one.","title":"Chaining Optionals in Java 8","body":"<p>Maybe one of</p>\n\n<pre><code>    public &lt;T&gt; Optional&lt;? extends T&gt; firstOf(Optional&lt;? extends T&gt; first, @SuppressWarnings(\"unchecked\") Supplier&lt;Optional&lt;? extends T&gt;&gt;... supp) {\n        if (first.isPresent()) return first;\n        for (Supplier&lt;Optional &lt;? extends T&gt;&gt; sup : supp) {\n            Optional&lt;? extends T&gt; opt = sup.get();\n            if (opt.isPresent()) {\n                return opt;\n            }\n        }\n        return Optional.empty();\n    }\n\n    public &lt;T&gt; Optional&lt;? extends T&gt; firstOf(Optional&lt;? extends T&gt; first, Stream&lt;Supplier&lt;Optional&lt;? extends T&gt;&gt;&gt; supp) {\n        if (first.isPresent()) return first;\n        Stream&lt;Optional&lt;? extends T&gt;&gt; present = supp.map(Supplier::get).filter(Optional::isPresent);\n        return present.findFirst().orElseGet(Optional::empty);\n    }\n</code></pre>\n\n<p>will do.</p>\n\n<p>The first one iterates over an array of suppliers. The first non-empty <code>Optional&lt;&gt;</code> is returned. If we don't find one, we return an empty <code>Optional</code>.</p>\n\n<p>The second one does the same with a <code>Stream</code> of <code>Suppliers</code> which is traversed, each one asked (lazily) for their value, which is then filtered for empty <code>Optional</code>s. The first non-empty one is returned, or if no such exists, an empty one.</p>\n"},{"tags":[],"owner":{"account_id":3501360,"reputation":3771,"user_id":2928051,"display_name":"Indrek Ots"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1671181423,"creation_date":1450710897,"answer_id":34398891,"question_id":28514704,"body_markdown":"Inspired by Sauli&#39;s answer, it is possible to use the &lt;code&gt;flatMap()&lt;/code&gt; method.\r\n\r\n    Stream.of(this::find1, this::find2, this::find3)\r\n      .map(Supplier::get)\r\n      .flatMap(o -&gt; o.map(Stream::of).orElseGet(Stream::empty))\r\n      .findFirst();\r\n\r\nConverting an Optional into a Stream is cumbersome. Apparently, this is going to be [fixed with JDK9][1]. So this could be written as \r\n\r\n    Stream.of(this::find1, this::find2, this::find3)\r\n      .map(Supplier::get)\r\n      .flatMap(Optional::stream)\r\n      .findFirst();\r\n\r\n**Update after Java 9 was released**\r\n\r\nAlthough the original question was about Java 8, [`Optional::or`][2] was introduced in Java 9. With it, the problem could be solved as follows\r\n\r\n    Optional&lt;String&gt; result = find1()\r\n      .or(this::find2)\r\n      .or(this::find3);\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8050820\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-","title":"Chaining Optionals in Java 8","body":"<p>Inspired by Sauli's answer, it is possible to use the <code>flatMap()</code> method.</p>\n<pre><code>Stream.of(this::find1, this::find2, this::find3)\n  .map(Supplier::get)\n  .flatMap(o -&gt; o.map(Stream::of).orElseGet(Stream::empty))\n  .findFirst();\n</code></pre>\n<p>Converting an Optional into a Stream is cumbersome. Apparently, this is going to be <a href=\"https://bugs.openjdk.java.net/browse/JDK-8050820\" rel=\"noreferrer\">fixed with JDK9</a>. So this could be written as</p>\n<pre><code>Stream.of(this::find1, this::find2, this::find3)\n  .map(Supplier::get)\n  .flatMap(Optional::stream)\n  .findFirst();\n</code></pre>\n<p><strong>Update after Java 9 was released</strong></p>\n<p>Although the original question was about Java 8, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-\" rel=\"noreferrer\"><code>Optional::or</code></a> was introduced in Java 9. With it, the problem could be solved as follows</p>\n<pre><code>Optional&lt;String&gt; result = find1()\n  .or(this::find2)\n  .or(this::find3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12220961,"reputation":1,"user_id":8920031,"display_name":"Adit chandel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1526924900,"creation_date":1526924900,"answer_id":50454140,"question_id":28514704,"body_markdown":"To perform **Optional Chaining** First *convert* **Stream to Optional** Using either of the two methods\r\n\r\n 1. findAny() or findFirst() \r\n 2. min() / max()\r\n\r\nOnce optional is obtained optional has two more instance method which are also present in Stream class i.e filter and map().\r\nuse these on methods and to check output use ifPresent(System.out :: Println)\r\n\r\nex:\r\n\r\n **Stream s = Stream.of(1,2,3,4);**\r\n\r\n **s.findFirst().filter((a)-&gt;a+1).ifPresent(System.out :: Println)**\r\n\r\nOutput is : 2\r\n","title":"Chaining Optionals in Java 8","body":"<p>To perform <strong>Optional Chaining</strong> First <em>convert</em> <strong>Stream to Optional</strong> Using either of the two methods</p>\n\n<ol>\n<li>findAny() or findFirst() </li>\n<li>min() / max()</li>\n</ol>\n\n<p>Once optional is obtained optional has two more instance method which are also present in Stream class i.e filter and map().\nuse these on methods and to check output use ifPresent(System.out :: Println)</p>\n\n<p>ex:</p>\n\n<p><strong>Stream s = Stream.of(1,2,3,4);</strong></p>\n\n<p><strong>s.findFirst().filter((a)->a+1).ifPresent(System.out :: Println)</strong></p>\n\n<p>Output is : 2</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607672163,"creation_date":1607672163,"answer_id":65247414,"question_id":28514704,"body_markdown":"Based on Alexis C&#39;s answer, but without the nesting of `orElse`s\r\n\r\n```\r\nString result = find1()\r\n                   .map(Optional::of)\r\n                   .orElseGet(Foo::find2())\r\n                   .map(Optional::of)\r\n                   .orElseGet(Foo::find3())\r\n                   .orElseThrow(() -&gt; new WhatEverException())\r\n```\r\n\r\nRemove the `orElseThrow` if you want an `Optional&lt;String&gt;` as the result instead.\r\n\r\nThe trick is to wrap each optional returned by the `findX` to another optional before each `orElseGet`.","title":"Chaining Optionals in Java 8","body":"<p>Based on Alexis C's answer, but without the nesting of <code>orElse</code>s</p>\n<pre><code>String result = find1()\n                   .map(Optional::of)\n                   .orElseGet(Foo::find2())\n                   .map(Optional::of)\n                   .orElseGet(Foo::find3())\n                   .orElseThrow(() -&gt; new WhatEverException())\n</code></pre>\n<p>Remove the <code>orElseThrow</code> if you want an <code>Optional&lt;String&gt;</code> as the result instead.</p>\n<p>The trick is to wrap each optional returned by the <code>findX</code> to another optional before each <code>orElseGet</code>.</p>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607716268,"creation_date":1607716268,"answer_id":65257736,"question_id":28514704,"body_markdown":"*for cascading chaining You could use* `ifPresentOrElse`\r\n\r\n    find1().ifPresentOrElse( System.out::println, new Runnable() {\r\n      public void run() {\r\n        find2().ifPresentOrElse( System.out::println, new Runnable() {\r\n          public void run() {\r\n            find3().ifPresentOrElse( System.out::println, new Runnable() {\r\n              public void run() {\r\n                System.err.println( &quot;nothing found…&quot; );\r\n              }\r\n            } );\r\n          }\r\n        } );\r\n      }\r\n    } );\r\n\r\nto do something with the value of the `Optional` You had to replace the `System.out::println` with Your `Consumer`&lt;br /&gt;\r\n*(different Consumers would also be possible in this solution)*","title":"Chaining Optionals in Java 8","body":"<p><em>for cascading chaining You could use</em> <code>ifPresentOrElse</code></p>\n<pre><code>find1().ifPresentOrElse( System.out::println, new Runnable() {\n  public void run() {\n    find2().ifPresentOrElse( System.out::println, new Runnable() {\n      public void run() {\n        find3().ifPresentOrElse( System.out::println, new Runnable() {\n          public void run() {\n            System.err.println( &quot;nothing found…&quot; );\n          }\n        } );\n      }\n    } );\n  }\n} );\n</code></pre>\n<p>to do something with the value of the <code>Optional</code> You had to replace the <code>System.out::println</code> with Your <code>Consumer</code><br />\n<em>(different Consumers would also be possible in this solution)</em></p>\n"},{"tags":[],"owner":{"account_id":52932,"reputation":738,"user_id":158257,"display_name":"Master Drools"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1622198896,"creation_date":1622198504,"answer_id":67737405,"question_id":28514704,"body_markdown":"    // Java 9+\r\n    find1().or(() -&gt; find2()).or(() -&gt; find3());\r\n\r\n\r\n    // Java 8\r\n    Optional.ofNullable(\r\n       find1().orElse(\r\n          find2().orElse(\r\n             find3().orElse( null )\r\n    )));","title":"Chaining Optionals in Java 8","body":"<pre><code>// Java 9+\nfind1().or(() -&gt; find2()).or(() -&gt; find3());\n\n\n// Java 8\nOptional.ofNullable(\n   find1().orElse(\n      find2().orElse(\n         find3().orElse( null )\n)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623930508,"creation_date":1623930508,"answer_id":68018726,"question_id":28514704,"body_markdown":"My common generic solution for all those issues:\r\n\r\n```\r\npublic static &lt;T&gt; T firstMatch(final Predicate&lt;T&gt; matcher, final T orElse, final T... values) {\r\n  for (T t : values) {\r\n    if (matcher.test(t)) {\r\n      return t;\r\n    }\r\n  }\r\n  return orElse;\r\n}\r\n```\r\n\r\nThen you can do:\r\n```\r\npublic static &lt;T&gt; Optional&lt;T&gt; firstPresent(final Optional&lt;T&gt;... values) {\r\n  return firstMatch(Optional::isPresent, Optional.empty(), values);\r\n}\r\n```","title":"Chaining Optionals in Java 8","body":"<p>My common generic solution for all those issues:</p>\n<pre><code>public static &lt;T&gt; T firstMatch(final Predicate&lt;T&gt; matcher, final T orElse, final T... values) {\n  for (T t : values) {\n    if (matcher.test(t)) {\n      return t;\n    }\n  }\n  return orElse;\n}\n</code></pre>\n<p>Then you can do:</p>\n<pre><code>public static &lt;T&gt; Optional&lt;T&gt; firstPresent(final Optional&lt;T&gt;... values) {\n  return firstMatch(Optional::isPresent, Optional.empty(), values);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1671152100,"creation_date":1654039859,"answer_id":72455049,"question_id":28514704,"body_markdown":"Since Java 9\r\n=\r\n\r\n*most likely case the readers are looking for (today)*\r\n\r\n    result = find1()\r\n        .or(this::find2)\r\n        .or(this::find3);\r\n\r\nJava 8\r\n=\r\n\r\n    result = Optional.ofNullable(find1()\r\n        .orElse(find2()\r\n          .orElse(find3()\r\n            .orElse(null))));\r\n\r\nPERFORMANCE: the above **Java 8** solution pre-calls **find2()** and **find3()** each time, even when (later) **find1()** evaluation returns non-empty.\r\n\r\nUPDATE: Performance optimal **Java 8** solution with lazy evaluation (thanks to @Alexander&#39;s comment) would be:\r\n\r\n    result = Optional.ofNullable(find1()\r\n        .orElseGet(() -&gt; find2()\r\n          .orElseGet(() -&gt; find3()\r\n            .orElse(null))));      // &lt;-- null would be the last resort, when all findN are empty.\r\n                                   //     #ofNullable (in the 1st line would wrap it to Optional\r\n                                   //     and return Optional.empty() as OP requires.","title":"Chaining Optionals in Java 8","body":"<h1>Since Java 9</h1>\n<p><em>most likely case the readers are looking for (today)</em></p>\n<pre><code>result = find1()\n    .or(this::find2)\n    .or(this::find3);\n</code></pre>\n<h1>Java 8</h1>\n<pre><code>result = Optional.ofNullable(find1()\n    .orElse(find2()\n      .orElse(find3()\n        .orElse(null))));\n</code></pre>\n<p>PERFORMANCE: the above <strong>Java 8</strong> solution pre-calls <strong>find2()</strong> and <strong>find3()</strong> each time, even when (later) <strong>find1()</strong> evaluation returns non-empty.</p>\n<p>UPDATE: Performance optimal <strong>Java 8</strong> solution with lazy evaluation (thanks to @Alexander's comment) would be:</p>\n<pre><code>result = Optional.ofNullable(find1()\n    .orElseGet(() -&gt; find2()\n      .orElseGet(() -&gt; find3()\n        .orElse(null))));      // &lt;-- null would be the last resort, when all findN are empty.\n                               //     #ofNullable (in the 1st line would wrap it to Optional\n                               //     and return Optional.empty() as OP requires.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16444152,"reputation":153,"user_id":12654320,"display_name":"Edu Paz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698347211,"creation_date":1698347211,"answer_id":77369737,"question_id":28514704,"body_markdown":"You can use Java 9&#39;s `or`.\r\n\r\n\r\nIf the functions that provides the data you need return it plain, you can do it like that:\r\n\r\n```java\r\nOptional.ofNullable(supplier1())\r\n  .or(() -&gt; Optional.ofNullable(supplier2()))\r\n  .or(() -&gt; Optional.ofNullable(supplier3()))\r\n  .orElse(fallbackValue)\r\n```\r\n\r\nI often statically import `ofNullable` to ease readability. You can also play with `orElse` or `orElseGet` to close the chain if needed.\r\n\r\nNow, if the functions that provides the data you need return it wrapped by a `Optional` already and you cannot or do not want to change the return type, you could do this trick to start the chain:\r\n\r\n```java\r\nOptional.empty()\r\n  .or(supplier1)\r\n  .or(supplier2)\r\n  .orElse(fallbackValue)\r\n```\r\n\r\n","title":"Chaining Optionals in Java 8","body":"<p>You can use Java 9's <code>or</code>.</p>\n<p>If the functions that provides the data you need return it plain, you can do it like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional.ofNullable(supplier1())\n  .or(() -&gt; Optional.ofNullable(supplier2()))\n  .or(() -&gt; Optional.ofNullable(supplier3()))\n  .orElse(fallbackValue)\n</code></pre>\n<p>I often statically import <code>ofNullable</code> to ease readability. You can also play with <code>orElse</code> or <code>orElseGet</code> to close the chain if needed.</p>\n<p>Now, if the functions that provides the data you need return it wrapped by a <code>Optional</code> already and you cannot or do not want to change the return type, you could do this trick to start the chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional.empty()\n  .or(supplier1)\n  .or(supplier2)\n  .orElse(fallbackValue)\n</code></pre>\n"}],"owner":{"account_id":5782584,"reputation":1113,"user_id":4562758,"display_name":"piler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82204,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":28514843,"answer_count":11,"score":107,"last_activity_date":1698347211,"creation_date":1423909967,"question_id":28514704,"body_markdown":"Looking for a way to chain optionals so that the first one that is present is returned.  If none are present `Optional.empty()` should be returned.\r\n\r\nAssuming I have several methods like this:\r\n\r\n    Optional&lt;String&gt; find1()\r\n\r\nI&#39;m trying to chain them:\r\n\r\n    Optional&lt;String&gt; result = find1().orElse( this::find2 ).orElse( this::find3 );\r\n\r\nbut of course that doesn&#39;t work because `orElse` expects a value and `orElseGet` expects a `Supplier`.\r\n","title":"Chaining Optionals in Java 8","body":"<p>Looking for a way to chain optionals so that the first one that is present is returned.  If none are present <code>Optional.empty()</code> should be returned.</p>\n\n<p>Assuming I have several methods like this:</p>\n\n<pre><code>Optional&lt;String&gt; find1()\n</code></pre>\n\n<p>I'm trying to chain them:</p>\n\n<pre><code>Optional&lt;String&gt; result = find1().orElse( this::find2 ).orElse( this::find3 );\n</code></pre>\n\n<p>but of course that doesn't work because <code>orElse</code> expects a value and <code>orElseGet</code> expects a <code>Supplier</code>.</p>\n"},{"tags":["java","geometry","geojson","geojsonio"],"answers":[{"tags":[],"owner":{"account_id":5165335,"reputation":421,"user_id":5254154,"display_name":"Victor Kofia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549675589,"creation_date":1549675589,"answer_id":54602317,"question_id":54601953,"body_markdown":"**geojson-jackson 1.0** is flagging your input GeoJSON as invalid. The exception says that all valid GeoJSON inputs must have a type of either Feature, FeatureCollection, LineString, MultiLineString, MultiPoint, MultiPolygon, Point or Polygon. See https://github.com/opendatalab-de/geojson-jackson/blob/master/src/main/java/org/geojson/GeoJsonObject.java#L14-L16 for the actual source code.\r\n\r\nThe example input you provided has the type set to &quot;relocationzone&quot;.\r\n\r\nIn order to get this to work you will need to extend geojson-jackson by creating new Java classes that more or less correspond to the structure of your GeoJSON inputs. \r\n\r\nAs a starting point you will need to create a class that looks something like this:\r\n\r\n    public class relocationzone extends GeoJsonObject {\r\n    \r\n    \t@JsonInclude(JsonInclude.Include.ALWAYS)\r\n    \tprivate Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n    \t@JsonInclude(JsonInclude.Include.ALWAYS)\r\n    \r\n    \t// Expected JSON data\r\n    \tprivate GeoJsonObject geometry;\r\n    \tprivate String id;\r\n    \tprivate String _id;\r\n        private String updatedAt;;\r\n        private String name;\r\n        private String _v;\r\n        private String createdAt;\r\n        private String legacyId;\r\n    \r\n    \r\n    \tpublic void setProperty(String key, Object value) {\r\n    \t\tproperties.put(key, value);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic &lt;T&gt; T getProperty(String key) {\r\n    \t\treturn (T)properties.get(key);\r\n    \t}\r\n    \r\n    \tpublic Map&lt;String, Object&gt; getProperties() {\r\n    \t\treturn properties;\r\n    \t}\r\n    \r\n    \tpublic void setProperties(Map&lt;String, Object&gt; properties) {\r\n    \t\tthis.properties = properties;\r\n    \t}\r\n    \r\n    \tpublic GeoJsonObject getGeometry() {\r\n    \t\treturn geometry;\r\n    \t}\r\n    \r\n    \tpublic void setGeometry(GeoJsonObject geometry) {\r\n    \t\tthis.geometry = geometry;\r\n    \t}\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    }","title":"Parsing GeoJSON Data to Polygon using Java","body":"<p><strong>geojson-jackson 1.0</strong> is flagging your input GeoJSON as invalid. The exception says that all valid GeoJSON inputs must have a type of either Feature, FeatureCollection, LineString, MultiLineString, MultiPoint, MultiPolygon, Point or Polygon. See <a href=\"https://github.com/opendatalab-de/geojson-jackson/blob/master/src/main/java/org/geojson/GeoJsonObject.java#L14-L16\" rel=\"nofollow noreferrer\">https://github.com/opendatalab-de/geojson-jackson/blob/master/src/main/java/org/geojson/GeoJsonObject.java#L14-L16</a> for the actual source code.</p>\n\n<p>The example input you provided has the type set to \"relocationzone\".</p>\n\n<p>In order to get this to work you will need to extend geojson-jackson by creating new Java classes that more or less correspond to the structure of your GeoJSON inputs. </p>\n\n<p>As a starting point you will need to create a class that looks something like this:</p>\n\n<pre><code>public class relocationzone extends GeoJsonObject {\n\n    @JsonInclude(JsonInclude.Include.ALWAYS)\n    private Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n    @JsonInclude(JsonInclude.Include.ALWAYS)\n\n    // Expected JSON data\n    private GeoJsonObject geometry;\n    private String id;\n    private String _id;\n    private String updatedAt;;\n    private String name;\n    private String _v;\n    private String createdAt;\n    private String legacyId;\n\n\n    public void setProperty(String key, Object value) {\n        properties.put(key, value);\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public &lt;T&gt; T getProperty(String key) {\n        return (T)properties.get(key);\n    }\n\n    public Map&lt;String, Object&gt; getProperties() {\n        return properties;\n    }\n\n    public void setProperties(Map&lt;String, Object&gt; properties) {\n        this.properties = properties;\n    }\n\n    public GeoJsonObject getGeometry() {\n        return geometry;\n    }\n\n    public void setGeometry(GeoJsonObject geometry) {\n        this.geometry = geometry;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1062801,"reputation":6664,"user_id":1064076,"accept_rate":59,"display_name":"Arun Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8937,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698347085,"creation_date":1549671504,"question_id":54601953,"body_markdown":"I have following Geo JSON file data which i want to parse in Polygon(using java)\r\n\r\n**Geo JSON File**  \r\n\r\n    [\r\n      {\r\n        &quot;_id&quot;: &quot;58a58bf685979b5415f3a39a&quot;,\r\n        &quot;updatedAt&quot;: &quot;2017-03-27T14:04:34.470Z&quot;,\r\n        &quot;createdAt&quot;: &quot;2017-02-16T11:24:38.375Z&quot;,\r\n        &quot;__v&quot;: 0,\r\n        &quot;name&quot;: &quot;0&quot;,\r\n        &quot;cityId&quot;: &quot;548876e13a9424d55af738b5&quot;,\r\n        &quot;legacyId&quot;: &quot;18_92&quot;,\r\n        &quot;type&quot;: &quot;relocationzone&quot;,\r\n        &quot;geoFeatures&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;opticalCenter&quot;,\r\n            &quot;geometry&quot;: {\r\n              &quot;type&quot;: &quot;Point&quot;,\r\n              &quot;coordinates&quot;: [\r\n                9.1371735,\r\n                48.790337\r\n              ]\r\n            }\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;center&quot;,\r\n            &quot;geometry&quot;: {\r\n              &quot;type&quot;: &quot;Point&quot;,\r\n              &quot;coordinates&quot;: [\r\n                9.137148666666667,\r\n                48.79031233333333\r\n              ]\r\n            }\r\n          }\r\n        ],\r\n        &quot;options&quot;: {\r\n          &quot;active&quot;: true,\r\n          &quot;is_excluded&quot;: false,\r\n          &quot;area&quot;: 0.4\r\n        },\r\n        &quot;timedOptions&quot;: [\r\n          {\r\n            &quot;key&quot;: &quot;min&quot;,\r\n            &quot;changesOverTime&quot;: [\r\n              [\r\n                0,\r\n                0\r\n              ]\r\n            ]\r\n          },\r\n          {\r\n            &quot;key&quot;: &quot;max&quot;,\r\n            &quot;changesOverTime&quot;: [\r\n              [\r\n                0,\r\n                200\r\n              ]\r\n            ]\r\n          },\r\n          {\r\n            &quot;key&quot;: &quot;idle_time&quot;,\r\n            &quot;changesOverTime&quot;: [\r\n              [\r\n                0,\r\n                2000\r\n              ]\r\n            ]\r\n          },\r\n          {\r\n            &quot;key&quot;: &quot;revenue&quot;,\r\n            &quot;changesOverTime&quot;: [\r\n              [\r\n                0,\r\n                0\r\n              ]\r\n            ]\r\n          },\r\n          {\r\n            &quot;key&quot;: &quot;walking_range1&quot;,\r\n            &quot;changesOverTime&quot;: [\r\n              [\r\n                0,\r\n                0\r\n              ]\r\n            ]\r\n          },\r\n          {\r\n            &quot;key&quot;: &quot;walking_range2&quot;,\r\n            &quot;changesOverTime&quot;: [\r\n              [\r\n                0,\r\n                0\r\n              ]\r\n            ]\r\n          }\r\n        ],\r\n        &quot;geometry&quot;: {\r\n          &quot;type&quot;: &quot;Polygon&quot;,\r\n          &quot;coordinates&quot;: [\r\n            [\r\n              [\r\n                9.137248,\r\n                48.790411\r\n              ],\r\n              [\r\n                9.137248,\r\n                48.790263\r\n              ],\r\n              [\r\n                9.13695,\r\n                48.790263\r\n              ],\r\n              [\r\n                9.137248,\r\n                48.790411\r\n              ]\r\n            ]\r\n          ]\r\n        },\r\n        &quot;version&quot;: 1,\r\n        &quot;$computed&quot;: {\r\n          &quot;activeTimedOptions&quot;: {\r\n            &quot;min&quot;: 0,\r\n            &quot;max&quot;: 200,\r\n            &quot;idle_time&quot;: 2000,\r\n            &quot;revenue&quot;: 0,\r\n            &quot;walking_range1&quot;: 0,\r\n            &quot;walking_range2&quot;: 0\r\n          }\r\n        }\r\n      }\r\n    ]\r\n\r\nI have used **geojson-jackson** 1.0 for parsing using below Java code\r\n\r\n    GeoJsonObject[] object = new ObjectMapper().readValue(new File(fileLocation), GeoJsonObject[].class);\r\n    \t\tif (object[0] instanceof Polygon) {\r\n    \t\t\tSystem.out.println(&quot;yes&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;No&quot;);\r\n    \t\t}\r\n\r\nBut i am getting an exception `com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;relocationzone&#39; as a subtype of [simple type, class org.geojson.GeoJsonObject]: known type ids = [Feature, FeatureCollection, LineString, MultiLineString, MultiPoint, MultiPolygon, Point, Polygon]`\r\n\r\n\r\nCan anyone tell me how can i use above JSON file data to parse in Polygon successfully?","title":"Parsing GeoJSON Data to Polygon using Java","body":"<p>I have following Geo JSON file data which i want to parse in Polygon(using java)</p>\n\n<p><strong>Geo JSON File</strong>  </p>\n\n<pre><code>[\n  {\n    \"_id\": \"58a58bf685979b5415f3a39a\",\n    \"updatedAt\": \"2017-03-27T14:04:34.470Z\",\n    \"createdAt\": \"2017-02-16T11:24:38.375Z\",\n    \"__v\": 0,\n    \"name\": \"0\",\n    \"cityId\": \"548876e13a9424d55af738b5\",\n    \"legacyId\": \"18_92\",\n    \"type\": \"relocationzone\",\n    \"geoFeatures\": [\n      {\n        \"name\": \"opticalCenter\",\n        \"geometry\": {\n          \"type\": \"Point\",\n          \"coordinates\": [\n            9.1371735,\n            48.790337\n          ]\n        }\n      },\n      {\n        \"name\": \"center\",\n        \"geometry\": {\n          \"type\": \"Point\",\n          \"coordinates\": [\n            9.137148666666667,\n            48.79031233333333\n          ]\n        }\n      }\n    ],\n    \"options\": {\n      \"active\": true,\n      \"is_excluded\": false,\n      \"area\": 0.4\n    },\n    \"timedOptions\": [\n      {\n        \"key\": \"min\",\n        \"changesOverTime\": [\n          [\n            0,\n            0\n          ]\n        ]\n      },\n      {\n        \"key\": \"max\",\n        \"changesOverTime\": [\n          [\n            0,\n            200\n          ]\n        ]\n      },\n      {\n        \"key\": \"idle_time\",\n        \"changesOverTime\": [\n          [\n            0,\n            2000\n          ]\n        ]\n      },\n      {\n        \"key\": \"revenue\",\n        \"changesOverTime\": [\n          [\n            0,\n            0\n          ]\n        ]\n      },\n      {\n        \"key\": \"walking_range1\",\n        \"changesOverTime\": [\n          [\n            0,\n            0\n          ]\n        ]\n      },\n      {\n        \"key\": \"walking_range2\",\n        \"changesOverTime\": [\n          [\n            0,\n            0\n          ]\n        ]\n      }\n    ],\n    \"geometry\": {\n      \"type\": \"Polygon\",\n      \"coordinates\": [\n        [\n          [\n            9.137248,\n            48.790411\n          ],\n          [\n            9.137248,\n            48.790263\n          ],\n          [\n            9.13695,\n            48.790263\n          ],\n          [\n            9.137248,\n            48.790411\n          ]\n        ]\n      ]\n    },\n    \"version\": 1,\n    \"$computed\": {\n      \"activeTimedOptions\": {\n        \"min\": 0,\n        \"max\": 200,\n        \"idle_time\": 2000,\n        \"revenue\": 0,\n        \"walking_range1\": 0,\n        \"walking_range2\": 0\n      }\n    }\n  }\n]\n</code></pre>\n\n<p>I have used <strong>geojson-jackson</strong> 1.0 for parsing using below Java code</p>\n\n<pre><code>GeoJsonObject[] object = new ObjectMapper().readValue(new File(fileLocation), GeoJsonObject[].class);\n        if (object[0] instanceof Polygon) {\n            System.out.println(\"yes\");\n        }\n        else {\n            System.out.println(\"No\");\n        }\n</code></pre>\n\n<p>But i am getting an exception <code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id 'relocationzone' as a subtype of [simple type, class org.geojson.GeoJsonObject]: known type ids = [Feature, FeatureCollection, LineString, MultiLineString, MultiPoint, MultiPolygon, Point, Polygon]</code></p>\n\n<p>Can anyone tell me how can i use above JSON file data to parse in Polygon successfully?</p>\n"},{"tags":["java","android","json","retrofit","exoplayer"],"comments":[{"owner":{"account_id":5450560,"reputation":4739,"user_id":4335507,"accept_rate":60,"display_name":"Elmer Dantas"},"score":0,"creation_date":1503313347,"post_id":45795420,"comment_id":78548442,"body_markdown":"by the error, it seems that the content you&#39;re try to load doesn&#39;t exist. If you&#39;re sure that exists, maybe the path/url you&#39;re using is wrong or the application is being blocked to reach the resource","body":"by the error, it seems that the content you&#39;re try to load doesn&#39;t exist. If you&#39;re sure that exists, maybe the path/url you&#39;re using is wrong or the application is being blocked to reach the resource"},{"owner":{"account_id":8885335,"reputation":47,"user_id":6633751,"accept_rate":33,"display_name":"Aman Sharma"},"score":0,"creation_date":1503313756,"post_id":45795420,"comment_id":78548697,"body_markdown":"@ElmerDantas Dear when i hit the url in the browser then its playing...but in my application its not working..according to you if the url is incorrect then its also not working in browser..this is my url :-                                                          https://tgconnect.co.in/tgtech/uploads/video/100 crore ka Qtiyapa - Bollywood Qtiyapa (ft. Anurag Kashyap).mp4","body":"@ElmerDantas Dear when i hit the url in the browser then its playing...but in my application its not working..according to you if the url is incorrect then its also not working in browser..this is my url :-                                                          <a href=\"https://tgconnect.co.in/tgtech/uploads/video/100\" rel=\"nofollow noreferrer\">tgconnect.co.in/tgtech/uploads/video/100</a> crore ka Qtiyapa - Bollywood Qtiyapa (ft. Anurag Kashyap).mp4"},{"owner":{"account_id":5450560,"reputation":4739,"user_id":4335507,"accept_rate":60,"display_name":"Elmer Dantas"},"score":1,"creation_date":1503314194,"post_id":45795420,"comment_id":78548948,"body_markdown":"I&#39;m not a Android developer but I noticed your response error code: 404. So for some reason your application is not able to find the resource you&#39;re trying to access. Why? unfortunately I don&#39;t know but I&#39;m sure that with some google you&#39;ll be able to figure out.","body":"I&#39;m not a Android developer but I noticed your response error code: 404. So for some reason your application is not able to find the resource you&#39;re trying to access. Why? unfortunately I don&#39;t know but I&#39;m sure that with some google you&#39;ll be able to figure out."},{"owner":{"account_id":10814124,"reputation":2895,"user_id":7953768,"accept_rate":80,"display_name":"Afinas EM"},"score":0,"creation_date":1547547591,"post_id":45795420,"comment_id":95220429,"body_markdown":"Its actually not from the exoplayer try to fix your SSL handshake error,","body":"Its actually not from the exoplayer try to fix your SSL handshake error,"},{"owner":{"account_id":7741941,"reputation":675,"user_id":5861332,"accept_rate":75,"display_name":"Sumukha Aithal K"},"score":0,"creation_date":1548247770,"post_id":45795420,"comment_id":95473318,"body_markdown":"Did you find out what was wrong?","body":"Did you find out what was wrong?"},{"owner":{"account_id":10635177,"reputation":3305,"user_id":7832102,"display_name":"Prince Dholakiya"},"score":0,"creation_date":1554204467,"post_id":45795420,"comment_id":97657719,"body_markdown":"Did you get a solution to this error yet?","body":"Did you get a solution to this error yet?"},{"owner":{"account_id":4152447,"reputation":393,"user_id":3404480,"accept_rate":71,"display_name":"Prashant"},"score":0,"creation_date":1596984466,"post_id":45795420,"comment_id":111980533,"body_markdown":"check this answer https://stackoverflow.com/a/63327704/3404480","body":"check this answer <a href=\"https://stackoverflow.com/a/63327704/3404480\">stackoverflow.com/a/63327704/3404480</a>"}],"answers":[{"tags":[],"owner":{"account_id":16713243,"reputation":1,"user_id":12327109,"display_name":"Xakacu9l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572968559,"creation_date":1572968559,"answer_id":58714775,"question_id":45795420,"body_markdown":"You must use the &quot;final&quot; modifier for your link.\r\n\r\n    `protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_player);\r\n\r\n        final String VIDEO_URL = getIntent().getExtras().getString(&quot;URL&quot;);\r\n\r\n        playerView = findViewById(R.id.exo_player);\r\n        simpleExoPlayer = ExoPlayerFactory.newSimpleInstance(this);\r\n        playerView.setPlayer(simpleExoPlayer);\r\n        DataSource.Factory dataSourceFactory = new DefaultDataSourceFactory(this,\r\n                Util.getUserAgent(this, &quot;appname&quot;));\r\n        MediaSource videoSource  = new ExtractorMediaSource.Factory(dataSourceFactory).createMediaSource(Uri.parse(VIDEO_URL));\r\n        simpleExoPlayer.prepare(videoSource);\r\n        simpleExoPlayer.setPlayWhenReady(true);\r\n    }`","title":"E/ExoPlayerImplInternal: Source error com.google.android.exoplayer2.upstream.HttpDataSource$InvalidResponseCodeException: Response code: 404","body":"<p>You must use the \"final\" modifier for your link.</p>\n\n<pre><code>`protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_player);\n\n    final String VIDEO_URL = getIntent().getExtras().getString(\"URL\");\n\n    playerView = findViewById(R.id.exo_player);\n    simpleExoPlayer = ExoPlayerFactory.newSimpleInstance(this);\n    playerView.setPlayer(simpleExoPlayer);\n    DataSource.Factory dataSourceFactory = new DefaultDataSourceFactory(this,\n            Util.getUserAgent(this, \"appname\"));\n    MediaSource videoSource  = new ExtractorMediaSource.Factory(dataSourceFactory).createMediaSource(Uri.parse(VIDEO_URL));\n    simpleExoPlayer.prepare(videoSource);\n    simpleExoPlayer.setPlayWhenReady(true);\n}`\n</code></pre>\n"}],"owner":{"account_id":8885335,"reputation":47,"user_id":6633751,"accept_rate":33,"display_name":"Aman Sharma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698347085,"creation_date":1503313199,"question_id":45795420,"body_markdown":"I am trying the play the video by the exo Player, but it gives me this error:-\r\n\r\n&gt; E/ExoPlayerImplInternal: Source error.    \r\n&gt;                                                                                InvalidResponseCodeException: Response code: 404\r\n\r\n    \r\nThis is my Activity Class :-\r\n    \r\n    \r\n    public class VideoActivity extends AppCompatActivity implements VideoRendererEventListener {\r\n        private String mVideoUrl;\r\n        private SimpleExoPlayerView simpleExoPlayerView;\r\n        private SimpleExoPlayer player;\r\n        private static final String TAG = &quot;AMAN&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video);\r\n\r\n        if (getIntent() != null)\r\n            mVideoUrl = getIntent().getStringExtra(&quot;VideoUrl&quot;);\r\n\r\n\r\n\r\n\r\n        BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\r\n        TrackSelection.Factory videoTrackSelectionFactory = new AdaptiveTrackSelection.Factory(bandwidthMeter);\r\n        TrackSelector trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\r\n\r\n\r\n        LoadControl loadControl = new DefaultLoadControl();\r\n\r\n   \r\n        player = ExoPlayerFactory.newSimpleInstance(this, trackSelector, loadControl);\r\n        simpleExoPlayerView = new SimpleExoPlayerView(this);\r\n        simpleExoPlayerView = (SimpleExoPlayerView) findViewById(R.id.player_view);\r\n\r\n  \r\n        simpleExoPlayerView.setUseController(true);\r\n        simpleExoPlayerView.requestFocus();\r\n\r\n   \r\n        simpleExoPlayerView.setPlayer(player);\r\n\r\n\r\n\r\n        Uri mp4VideoUri =Uri.parse(mVideoUrl);\r\n\r\n        DefaultBandwidthMeter bandwidthMeterA = new DefaultBandwidthMeter();\r\n\r\n        DefaultDataSourceFactory dataSourceFactory = new DefaultDataSourceFactory(this, Util.getUserAgent(this, &quot;exoplayer2example&quot;), bandwidthMeterA);\r\n\r\n        ExtractorsFactory extractorsFactory = new DefaultExtractorsFactory();\r\n\r\n\r\n        MediaSource videoSource = new HlsMediaSource(mp4VideoUri, dataSourceFactory, 1, null, null);\r\n        final LoopingMediaSource loopingSource = new LoopingMediaSource(videoSource);\r\n\r\n\r\n   \r\n\r\n       player.prepare(loopingSource);\r\n                        player.setPlayWhenReady(true);\r\n           \r\n    }  \r\n\r\n  \r\n\r\nDoes anyone know what is wrong here?\r\n","title":"E/ExoPlayerImplInternal: Source error com.google.android.exoplayer2.upstream.HttpDataSource$InvalidResponseCodeException: Response code: 404","body":"<p>I am trying the play the video by the exo Player, but it gives me this error:-</p>\n\n<blockquote>\n  <p>E/ExoPlayerImplInternal: Source error.<br>\n                                                                                 InvalidResponseCodeException: Response code: 404</p>\n</blockquote>\n\n<p>This is my Activity Class :-</p>\n\n<pre><code>public class VideoActivity extends AppCompatActivity implements VideoRendererEventListener {\n    private String mVideoUrl;\n    private SimpleExoPlayerView simpleExoPlayerView;\n    private SimpleExoPlayer player;\n    private static final String TAG = \"AMAN\";\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_video);\n\n    if (getIntent() != null)\n        mVideoUrl = getIntent().getStringExtra(\"VideoUrl\");\n\n\n\n\n    BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\n    TrackSelection.Factory videoTrackSelectionFactory = new AdaptiveTrackSelection.Factory(bandwidthMeter);\n    TrackSelector trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\n\n\n    LoadControl loadControl = new DefaultLoadControl();\n\n\n    player = ExoPlayerFactory.newSimpleInstance(this, trackSelector, loadControl);\n    simpleExoPlayerView = new SimpleExoPlayerView(this);\n    simpleExoPlayerView = (SimpleExoPlayerView) findViewById(R.id.player_view);\n\n\n    simpleExoPlayerView.setUseController(true);\n    simpleExoPlayerView.requestFocus();\n\n\n    simpleExoPlayerView.setPlayer(player);\n\n\n\n    Uri mp4VideoUri =Uri.parse(mVideoUrl);\n\n    DefaultBandwidthMeter bandwidthMeterA = new DefaultBandwidthMeter();\n\n    DefaultDataSourceFactory dataSourceFactory = new DefaultDataSourceFactory(this, Util.getUserAgent(this, \"exoplayer2example\"), bandwidthMeterA);\n\n    ExtractorsFactory extractorsFactory = new DefaultExtractorsFactory();\n\n\n    MediaSource videoSource = new HlsMediaSource(mp4VideoUri, dataSourceFactory, 1, null, null);\n    final LoopingMediaSource loopingSource = new LoopingMediaSource(videoSource);\n\n\n\n\n   player.prepare(loopingSource);\n                    player.setPlayWhenReady(true);\n\n}  \n</code></pre>\n\n<p>Does anyone know what is wrong here?</p>\n"},{"tags":["java","spring","maven-2","surefire","spring-test"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1280426891,"post_id":3365628,"comment_id":3496027,"body_markdown":"do you have any special configuration of the surefire plugin in your POM?","body":"do you have any special configuration of the surefire plugin in your POM?"},{"owner":{"account_id":43412,"reputation":23624,"user_id":126916,"accept_rate":91,"display_name":"Abhinav Sarkar"},"score":0,"creation_date":1280426977,"post_id":3365628,"comment_id":3496045,"body_markdown":"@matt I don&#39;t have any configuration for surefire in my pom","body":"@matt I don&#39;t have any configuration for surefire in my pom"},{"owner":{"account_id":244560,"reputation":83,"user_id":517470,"display_name":"Cotta"},"score":1,"creation_date":1461844728,"post_id":3365628,"comment_id":61389981,"body_markdown":"I came to this article because I had the same problem, but in my case I used another solution. After enabling DEBUG logs on my tests, I found out that Spring Framework was looking at an old MongoDB database name, and this name was set in an old version of a jar created by another project on my workspace (although it was built several times with the new name). Some Maven Clen + deleting the libraries on my .m2 followed by Maven Install of all those projects solved the problem. Although there was no reason for the project to look at an old jar (it was cached somewhere, unfortunately)","body":"I came to this article because I had the same problem, but in my case I used another solution. After enabling DEBUG logs on my tests, I found out that Spring Framework was looking at an old MongoDB database name, and this name was set in an old version of a jar created by another project on my workspace (although it was built several times with the new name). Some Maven Clen + deleting the libraries on my .m2 followed by Maven Install of all those projects solved the problem. Although there was no reason for the project to look at an old jar (it was cached somewhere, unfortunately)"}],"answers":[{"tags":[],"owner":{"account_id":35251,"reputation":2149,"user_id":99795,"display_name":"Richard Kettelerij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280428001,"creation_date":1280428001,"answer_id":3365792,"question_id":3365628,"body_markdown":"You don&#39;t need to inject a DataSource in the JpaTransactionManager since the EntityManagerFactory already has a datasource. Try the following:\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n       &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>You don't need to inject a DataSource in the JpaTransactionManager since the EntityManagerFactory already has a datasource. Try the following:</p>\n\n<pre><code>&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n   &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169832,"reputation":1209,"user_id":396155,"accept_rate":62,"display_name":"Bruno Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280428506,"creation_date":1280428506,"answer_id":3365863,"question_id":3365628,"body_markdown":"Usually when tests pass in eclipse and fail with maven it is a classpath issue because it is the main difference between the two.\r\n\r\nSo you can check the classpath with maven -X test and check the classpath of eclipse via the menus or in the .classpath file in the root of your project.\r\n\r\nAre you sure for example that personservice-test.xml is in the classpath ?","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>Usually when tests pass in eclipse and fail with maven it is a classpath issue because it is the main difference between the two.</p>\n\n<p>So you can check the classpath with maven -X test and check the classpath of eclipse via the menus or in the .classpath file in the root of your project.</p>\n\n<p>Are you sure for example that personservice-test.xml is in the classpath ?</p>\n"},{"tags":[],"owner":{"account_id":423482,"reputation":116,"user_id":802905,"display_name":"s13o"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484832422,"creation_date":1311677492,"answer_id":6828920,"question_id":3365628,"body_markdown":"I have the similar problem, but with IntelliJ IDEA + Maven + TestNG + spring-test. (**spring-test** is essential of course :) )\r\nIt was fixed when I&#39;ve change config of **maven-surefire-plugin** to disable run tests in parallel. Like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;skipTests&gt;${maven.test.skip}&lt;/skipTests&gt;\r\n            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n            &lt;!--&lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\r\n            &lt;!-- to skip integration tests --&gt;\r\n            &lt;excludes&gt;\r\n                &lt;exclude&gt;**/IT*Test.java&lt;/exclude&gt;\r\n                &lt;exclude&gt;**/integration/*Test.java&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;integration-test&lt;/id&gt;\r\n                &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;test&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;${maven.integration-test.skip}&lt;/skipTests&gt;\r\n                    &lt;!-- Make sure to include this part, since otherwise it is excluding Integration tests --&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;none&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/IT*Test.java&lt;/include&gt;\r\n                        &lt;include&gt;**/integration/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I have the similar problem, but with IntelliJ IDEA + Maven + TestNG + spring-test. (<strong>spring-test</strong> is essential of course :) )\nIt was fixed when I've change config of <strong>maven-surefire-plugin</strong> to disable run tests in parallel. Like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.9&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;skipTests&gt;${maven.test.skip}&lt;/skipTests&gt;\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n        &lt;!--&lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\n        &lt;!-- to skip integration tests --&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/IT*Test.java&lt;/exclude&gt;\n            &lt;exclude&gt;**/integration/*Test.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;phase&gt;integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;test&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;skipTests&gt;${maven.integration-test.skip}&lt;/skipTests&gt;\n                &lt;!-- Make sure to include this part, since otherwise it is excluding Integration tests --&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;none&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/IT*Test.java&lt;/include&gt;\n                    &lt;include&gt;**/integration/*Test.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38141,"reputation":107731,"user_id":109305,"accept_rate":85,"display_name":"Jesper R&#248;nn-Jensen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1607519530,"creation_date":1317025515,"answer_id":7552442,"question_id":3365628,"body_markdown":"I suddenly experienced this error, and the solution for me was to disable to run tests in parallel. \r\n\r\nYour milage may vary, since I could lower number of failing tests by configuring surefire to run parallel tests by &#180;classes&#180;.:\r\n\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;parallel&gt;classes&lt;/parallel&gt;\r\n                        &lt;threadCount&gt;10&lt;/threadCount&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nAs I wrote first, this was not enough for my test suite, so I completely disabled parallel by removing the `&lt;configuration&gt;` section.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I suddenly experienced this error, and the solution for me was to disable to run tests in parallel.</p>\n<p>Your milage may vary, since I could lower number of failing tests by configuring surefire to run parallel tests by ´classes´.:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\n                    &lt;threadCount&gt;10&lt;/threadCount&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>As I wrote first, this was not enough for my test suite, so I completely disabled parallel by removing the <code>&lt;configuration&gt;</code> section.</p>\n"},{"tags":[],"owner":{"account_id":93757,"reputation":458,"user_id":256365,"accept_rate":75,"display_name":"Jim Jarrett"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1327011056,"creation_date":1327011056,"answer_id":8934120,"question_id":3365628,"body_markdown":"This doesn&#39;t exactly apply to your situation, but I had the same thing -- tests that would pass in Eclipse failed when the test goal from Maven was run.\r\n\r\nIt turned out to be a test earlier in my suite, *in a different package*.  This took me a week to solve!\r\n\r\nAn earlier test was testing some Logback classes, and created a Logback context from a config file.\r\n\r\nThe later test was testing a subclass of Spring&#39;s SimpleRestTemplate, and somehow, the earlier Logback context was held, with DEBUG on.  This caused extra calls to be made in RestTemplate to log HttpStatus, etc.\r\n\r\nIt&#39;s another thing to check if one ever gets into this situation. I fixed my problem by injecting some Mocks into my Logback test class, so that no real Logback contexts were created.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>This doesn't exactly apply to your situation, but I had the same thing -- tests that would pass in Eclipse failed when the test goal from Maven was run.</p>\n\n<p>It turned out to be a test earlier in my suite, <em>in a different package</em>.  This took me a week to solve!</p>\n\n<p>An earlier test was testing some Logback classes, and created a Logback context from a config file.</p>\n\n<p>The later test was testing a subclass of Spring's SimpleRestTemplate, and somehow, the earlier Logback context was held, with DEBUG on.  This caused extra calls to be made in RestTemplate to log HttpStatus, etc.</p>\n\n<p>It's another thing to check if one ever gets into this situation. I fixed my problem by injecting some Mocks into my Logback test class, so that no real Logback contexts were created.</p>\n"},{"tags":[],"owner":{"account_id":1156203,"reputation":71,"user_id":1136740,"display_name":"cartman1989"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1612115841,"creation_date":1331630151,"answer_id":9681178,"question_id":3365628,"body_markdown":"I had a similar problem, the annotation `@Autowired` in the test code did not work under using the Maven command line while it worked fine in Eclipse. I just update my JUnit version from 4.4 to 4.9 and the problem was solved. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.13.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I had a similar problem, the annotation <code>@Autowired</code> in the test code did not work under using the Maven command line while it worked fine in Eclipse. I just update my JUnit version from 4.4 to 4.9 and the problem was solved.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":534437,"reputation":23878,"user_id":904422,"accept_rate":80,"display_name":"Mitch"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1331800026,"creation_date":1331800026,"answer_id":9716136,"question_id":3365628,"body_markdown":"I had this problem today testing a method that converted an object that contained a `Map` to a JSON string. I assume Eclipse and the Maven surefire plugin were using different JREs which had different implementations of `HashMap` ordering or something, which caused the tests run through Eclipse to pass and the tests run through surefire to fail (`assertEquals` failed). The easiest solution was to use an implementation of Map that had reliable ordering.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I had this problem today testing a method that converted an object that contained a <code>Map</code> to a JSON string. I assume Eclipse and the Maven surefire plugin were using different JREs which had different implementations of <code>HashMap</code> ordering or something, which caused the tests run through Eclipse to pass and the tests run through surefire to fail (<code>assertEquals</code> failed). The easiest solution was to use an implementation of Map that had reliable ordering.</p>\n"},{"tags":[],"owner":{"account_id":28663,"reputation":12716,"user_id":76777,"accept_rate":86,"display_name":"simon"},"down_vote_count":1,"up_vote_count":136,"is_accepted":false,"score":135,"last_activity_date":1389101387,"creation_date":1332429776,"answer_id":9825309,"question_id":3365628,"body_markdown":"I had the same problem (JUnit tests failed in Maven Surefire but passed in Eclipse) and managed to solve it by setting **forkMode** to **always** in the maven surefire configuration in pom.xml:\r\n\r\n&lt;pre&gt;\r\n&amp;lt;plugin&amp;gt;\r\n\t&amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;\r\n\t&amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;\r\n\t&amp;lt;version&amp;gt;2.12&amp;lt;/version&amp;gt;\r\n\t&amp;lt;configuration&amp;gt;\r\n\t\t&amp;lt;forkMode&amp;gt;always&amp;lt;/forkMode&amp;gt;\r\n\t&amp;lt;/configuration&amp;gt;\r\n&amp;lt;/plugin&amp;gt;\r\n&lt;/pre&gt;\r\n\r\nSurefire parameters: http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html\r\n\r\n**Edit (January 2014):**\r\n\r\nAs [Peter Perh&#225;č][1] pointed out, the forkMode parameter is deprecated since Surefire 2.14. Beginning from Surefire 2.14 use this instead:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.16&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n            &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nFor more information see [Fork Options and Parallel Test Execution][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/81520/peter-perhac\r\n  [2]: http://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I had the same problem (JUnit tests failed in Maven Surefire but passed in Eclipse) and managed to solve it by setting <strong>forkMode</strong> to <strong>always</strong> in the maven surefire configuration in pom.xml:</p>\n\n<pre>\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.12&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;forkMode&gt;always&lt;/forkMode&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</pre>\n\n<p>Surefire parameters: <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html\" rel=\"noreferrer\">http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html</a></p>\n\n<p><strong>Edit (January 2014):</strong></p>\n\n<p>As <a href=\"https://stackoverflow.com/users/81520/peter-perhac\">Peter Perháč</a> pointed out, the forkMode parameter is deprecated since Surefire 2.14. Beginning from Surefire 2.14 use this instead:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.16&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n        &lt;forkCount&gt;1&lt;/forkCount&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>For more information see <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\" rel=\"noreferrer\">Fork Options and Parallel Test Execution</a></p>\n"},{"tags":[],"owner":{"account_id":60903,"reputation":46025,"user_id":181772,"accept_rate":96,"display_name":"andrew cooke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1332510854,"creation_date":1332510854,"answer_id":9840390,"question_id":3365628,"body_markdown":"[I am not sure that this is an answer to the original question, since the stacktrace here looks slightly different, but it may be useful to others.]\r\n\r\nYou can get tests failing in Surefire when you are also running Cobertura (to get code coverage reports).  This is because Cobertura requires proxies (to measure code use) and there is some kind of conflict between those and Spring proxies.  This *only* occurs when Spring uses cglib2, which would be the case if, for example, you have `proxy-target-class=&quot;true&quot;`, or if you have an object that is being proxied that does not implement interfaces.\r\n\r\nThe normal fix to this is to add an interface.  So, for example, DAOs should be interfaces, implemented by a DAOImpl class.  If you autowire on the interface, everything will work fine (because cglib2 is no longer required; a simpler JDK proxy to the interface can be used instead and Cobertura works fine with this).\r\n\r\nHowever, you cannot use interfaces with annotated controllers (you will get a runtime error when trying to use the controller in a servlet) - I do not have a solution for Cobertura + Spring tests that autowire controllers.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>[I am not sure that this is an answer to the original question, since the stacktrace here looks slightly different, but it may be useful to others.]</p>\n\n<p>You can get tests failing in Surefire when you are also running Cobertura (to get code coverage reports).  This is because Cobertura requires proxies (to measure code use) and there is some kind of conflict between those and Spring proxies.  This <em>only</em> occurs when Spring uses cglib2, which would be the case if, for example, you have <code>proxy-target-class=\"true\"</code>, or if you have an object that is being proxied that does not implement interfaces.</p>\n\n<p>The normal fix to this is to add an interface.  So, for example, DAOs should be interfaces, implemented by a DAOImpl class.  If you autowire on the interface, everything will work fine (because cglib2 is no longer required; a simpler JDK proxy to the interface can be used instead and Cobertura works fine with this).</p>\n\n<p>However, you cannot use interfaces with annotated controllers (you will get a runtime error when trying to use the controller in a servlet) - I do not have a solution for Cobertura + Spring tests that autowire controllers.</p>\n"},{"tags":[],"owner":{"account_id":1484320,"reputation":566,"user_id":1392882,"display_name":"Miguel"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1344268492,"creation_date":1344268492,"answer_id":11831735,"question_id":3365628,"body_markdown":"It is most likely that your configuration files are in *src/main/resources*, while they must be under *src/test/resources* to work properly under maven.\r\n\r\nhttps://cwiki.apache.org/UIMA/differences-between-running-unit-tests-in-eclipse-and-in-maven.html\r\n\r\nI&#39;m replying this after two years &#39;cause I couldn&#39;t find this answer here and I think it is the right one.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>It is most likely that your configuration files are in <em>src/main/resources</em>, while they must be under <em>src/test/resources</em> to work properly under maven.</p>\n\n<p><a href=\"https://cwiki.apache.org/UIMA/differences-between-running-unit-tests-in-eclipse-and-in-maven.html\" rel=\"nofollow\">https://cwiki.apache.org/UIMA/differences-between-running-unit-tests-in-eclipse-and-in-maven.html</a></p>\n\n<p>I'm replying this after two years 'cause I couldn't find this answer here and I think it is the right one.</p>\n"},{"tags":[],"owner":{"account_id":453694,"reputation":729,"user_id":850830,"accept_rate":78,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1358787844,"creation_date":1358787543,"answer_id":14443572,"question_id":3365628,"body_markdown":"I had the same issue, but the problem for me was that Java assertions (e.g. assert(num &gt; 0)) were not enabled for Eclipse, but were enabled when running maven.\r\n\r\nTherefore running the jUnit tests from Eclipse did not catch trigger the assertion error.\r\n\r\nThis is made clear when using jUnit 4.11 (as opposed to the older version I was using) because it prints out the assertion error, e.g.\r\n\r\n    java.lang.AssertionError: null\r\n    \tat com.company.sdk.components.schema.views.impl.InputViewHandler.&lt;init&gt;(InputViewHandler.java:26)\r\n    \tat test.com.company.sdk.util.TestSchemaExtractor$MockInputViewHandler.&lt;init&gt;(TestSchemaExtractor.java:31)\r\n    \tat test.com.company.sdk.util.TestSchemaExtractor.testCreateViewToFieldsMap(TestSchemaExtractor.java:48)","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I had the same issue, but the problem for me was that Java assertions (e.g. assert(num > 0)) were not enabled for Eclipse, but were enabled when running maven.</p>\n\n<p>Therefore running the jUnit tests from Eclipse did not catch trigger the assertion error.</p>\n\n<p>This is made clear when using jUnit 4.11 (as opposed to the older version I was using) because it prints out the assertion error, e.g.</p>\n\n<pre><code>java.lang.AssertionError: null\n    at com.company.sdk.components.schema.views.impl.InputViewHandler.&lt;init&gt;(InputViewHandler.java:26)\n    at test.com.company.sdk.util.TestSchemaExtractor$MockInputViewHandler.&lt;init&gt;(TestSchemaExtractor.java:31)\n    at test.com.company.sdk.util.TestSchemaExtractor.testCreateViewToFieldsMap(TestSchemaExtractor.java:48)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123815,"reputation":61,"user_id":318512,"display_name":"mmastika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379394583,"creation_date":1379394583,"answer_id":18841683,"question_id":3365628,"body_markdown":"This has helped me in troubleshooting my problem. I had a similar symptoms in that maven would fail however running junit tests runs fine.\r\n\r\nAs it turns out my parent pom.xml contains the following definition:\r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.9&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;forkMode&gt;pertest&lt;/forkMode&gt;\r\n            &lt;argLine&gt;-Xverify:none&lt;/argLine&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\nAnd in my project I override it to remove the argLine:\r\n\r\n    \t&lt;plugin&gt;\r\n\t       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t       &lt;configuration&gt;\r\n\t            &lt;forkMode&gt;pertest&lt;/forkMode&gt;\r\n\t            &lt;argLine combine.self=&quot;override&quot;&gt;&lt;/argLine&gt;\r\n\t          &lt;/configuration&gt;\r\n\t    &lt;/plugin&gt;\r\n\r\nHopefully this will help someone in troubleshooting surefire plugin. ","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>This has helped me in troubleshooting my problem. I had a similar symptoms in that maven would fail however running junit tests runs fine.</p>\n\n<p>As it turns out my parent pom.xml contains the following definition:</p>\n\n<pre><code>    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.9&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;forkMode&gt;pertest&lt;/forkMode&gt;\n        &lt;argLine&gt;-Xverify:none&lt;/argLine&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>And in my project I override it to remove the argLine:</p>\n\n<pre><code>    &lt;plugin&gt;\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n       &lt;configuration&gt;\n            &lt;forkMode&gt;pertest&lt;/forkMode&gt;\n            &lt;argLine combine.self=\"override\"&gt;&lt;/argLine&gt;\n          &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>Hopefully this will help someone in troubleshooting surefire plugin. </p>\n"},{"tags":[],"owner":{"account_id":1182605,"reputation":1444,"user_id":1157213,"display_name":"Lukas Risko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382732034,"creation_date":1382732034,"answer_id":19598674,"question_id":3365628,"body_markdown":"I had a similar problem: JUnit tests failed in Maven Surefire but passed in Eclipse when I used JUnit library version 4.11.0 from SpringSource Bundle Repository. Particulary:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;com.springsource.org.junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen I replaced it with following JUnit library version 4.11 and everything works fine.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.11&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I had a similar problem: JUnit tests failed in Maven Surefire but passed in Eclipse when I used JUnit library version 4.11.0 from SpringSource Bundle Repository. Particulary:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit&lt;/groupId&gt;\n    &lt;artifactId&gt;com.springsource.org.junit&lt;/artifactId&gt;\n    &lt;version&gt;4.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then I replaced it with following JUnit library version 4.11 and everything works fine.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5639351,"reputation":1,"user_id":4463745,"display_name":"Bitango.me"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421660552,"creation_date":1421660552,"answer_id":28021651,"question_id":3365628,"body_markdown":"I had the same problem, and the solution for me was to allow Maven to handle all dependencies, including to local jars. I used Maven for online dependencies, and configured build path manually for local dependencies.\r\nThus, Maven was not aware of the dependencies I configured manually.\r\n\r\nI used this solution to install the local jar dependencies into Maven:\r\n\r\nhttps://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I had the same problem, and the solution for me was to allow Maven to handle all dependencies, including to local jars. I used Maven for online dependencies, and configured build path manually for local dependencies.\nThus, Maven was not aware of the dependencies I configured manually.</p>\n\n<p>I used this solution to install the local jar dependencies into Maven:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project\">How to add local jar files in maven project?</a></p>\n"},{"tags":[],"owner":{"account_id":6815974,"reputation":4088,"user_id":5244653,"accept_rate":69,"display_name":"Brick"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487873546,"creation_date":1487873546,"answer_id":42423201,"question_id":3365628,"body_markdown":"I had a similar problem with a different cause and therefore different solution.  In my case, I actually had an error where a singleton object was having a member variable modified in a non-threadsafe way.  In this case, following the accepted answers and circumventing the parallel testing would only hide the error that was actually revealed by the test.  My solution, of course, is to fix the design so that I don&#39;t have this bad behavior in my code.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I had a similar problem with a different cause and therefore different solution.  In my case, I actually had an error where a singleton object was having a member variable modified in a non-threadsafe way.  In this case, following the accepted answers and circumventing the parallel testing would only hide the error that was actually revealed by the test.  My solution, of course, is to fix the design so that I don't have this bad behavior in my code.</p>\n"},{"tags":[],"owner":{"account_id":6615281,"reputation":1826,"user_id":5108777,"display_name":"manuelvigarcia"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1507099877,"creation_date":1507099877,"answer_id":46558662,"question_id":3365628,"body_markdown":"Test execution result different from `JUnit run` and from `maven install` seems to be symptom for several problems.\r\n\r\nDisabling thread reusing test execution did also get rid of the symptom in our case, but the impression that the code was not thread-safe was still strong.\r\n\r\nIn our case the difference was due to the presence of a bean that modified the test behaviour. Running just the JUnit test would result fine, but running the project `install` target would result in a failed test case. Since it was the test case under development, it was immediately suspicious.\r\n\r\nIt resulted that another test case was instantiating a bean through Spring that would survive until the execution of the new test case. The bean presence was modifying the behaviour of some classes and producing the failed result.\r\n\r\nThe solution in our case was getting rid of the bean, which was not needed in the first place (yet another prize from the _copy+paste_ gun).\r\n\r\nI suggest everybody with this symptom to investigate what the root cause is. Disabling thread reuse in test execution might only hide it.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>Test execution result different from <code>JUnit run</code> and from <code>maven install</code> seems to be symptom for several problems.</p>\n\n<p>Disabling thread reusing test execution did also get rid of the symptom in our case, but the impression that the code was not thread-safe was still strong.</p>\n\n<p>In our case the difference was due to the presence of a bean that modified the test behaviour. Running just the JUnit test would result fine, but running the project <code>install</code> target would result in a failed test case. Since it was the test case under development, it was immediately suspicious.</p>\n\n<p>It resulted that another test case was instantiating a bean through Spring that would survive until the execution of the new test case. The bean presence was modifying the behaviour of some classes and producing the failed result.</p>\n\n<p>The solution in our case was getting rid of the bean, which was not needed in the first place (yet another prize from the <em>copy+paste</em> gun).</p>\n\n<p>I suggest everybody with this symptom to investigate what the root cause is. Disabling thread reuse in test execution might only hide it.</p>\n"},{"tags":[],"owner":{"account_id":6862126,"reputation":119,"user_id":5275727,"accept_rate":60,"display_name":"Robert Lill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595591440,"creation_date":1595591440,"answer_id":63072973,"question_id":3365628,"body_markdown":"In my case the reason was a bug in the code. The test relied on a certain order of elements in a `HashSet`, which turned out to be different when run either in Eclipse or in Maven Surefire.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>In my case the reason was a bug in the code. The test relied on a certain order of elements in a <code>HashSet</code>, which turned out to be different when run either in Eclipse or in Maven Surefire.</p>\n"},{"tags":[],"owner":{"account_id":1034367,"reputation":479,"user_id":1042050,"accept_rate":80,"display_name":"Bruno 82"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610109282,"creation_date":1610109282,"answer_id":65629038,"question_id":3365628,"body_markdown":"I had a similar problem, I ran my tests disabling the reuse of forks like this\r\n  \r\n\r\n    mvn clean test -DreuseForks=false\r\n\r\nand the problem disappeared.\r\nThe downside is that the overall test execution time will be longer, that&#39;s why you may want to do this from the command line only if necessary","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I had a similar problem, I ran my tests disabling the reuse of forks like this</p>\n<pre><code>mvn clean test -DreuseForks=false\n</code></pre>\n<p>and the problem disappeared.\nThe downside is that the overall test execution time will be longer, that's why you may want to do this from the command line only if necessary</p>\n"},{"tags":[],"owner":{"account_id":11395790,"reputation":51,"user_id":8354249,"display_name":"Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691667595,"creation_date":1691667595,"answer_id":76875394,"question_id":3365628,"body_markdown":"Tests might interfere with each other.\r\n\r\nCheck this by running only a single test by Maven:  \r\n```\r\nmvn -Dtest=PersonServiceTest#testCreatePerson clean test\r\n```\r\n\r\nor by setting Surfire plugin&#39;s config and then run all tests by `mvn clean test`:\r\n```\r\n&lt;configuration&gt;\r\n  &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n&lt;/configuration&gt; \r\n```\r\nIf the commands succeed, then you should look for tests affecting your test.\r\nIn my case the issue was caused by creation of MockStatic outside of try-with-resources block in another test.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>Tests might interfere with each other.</p>\n<p>Check this by running only a single test by Maven:</p>\n<pre><code>mvn -Dtest=PersonServiceTest#testCreatePerson clean test\n</code></pre>\n<p>or by setting Surfire plugin's config and then run all tests by <code>mvn clean test</code>:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n&lt;/configuration&gt; \n</code></pre>\n<p>If the commands succeed, then you should look for tests affecting your test.\nIn my case the issue was caused by creation of MockStatic outside of try-with-resources block in another test.</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698346787,"creation_date":1698346787,"answer_id":77369702,"question_id":3365628,"body_markdown":"In my case, inside @Before method, an object was created and later used in other tests but for some reason when running in mvn install, the object comes as null, so I explicitly created this object in each of the test and it worked.","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>In my case, inside @Before method, an object was created and later used in other tests but for some reason when running in mvn install, the object comes as null, so I explicitly created this object in each of the test and it worked.</p>\n"}],"owner":{"account_id":43412,"reputation":23624,"user_id":126916,"accept_rate":91,"display_name":"Abhinav Sarkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137237,"favorite_count":0,"down_vote_count":0,"up_vote_count":122,"answer_count":20,"score":122,"last_activity_date":1698346787,"creation_date":1280426741,"question_id":3365628,"body_markdown":"I have written some JUnit tests using JUnit 4 and spring-test libraries. When I run the tests inside Eclipse then run fine and pass. But when I run them using Maven (during the build process), they fail giving a spring related error. I am not sure what is causing the problem, JUnit, Surefire or Spring. Here is my test code, spring configuration and the exception that I get from Maven:\r\n\r\n_PersonServiceTest.java_\r\n\r\n    package com.xyz.person.test;\r\n\r\n    import static com.xyz.person.util.FjUtil.toFjList;\r\n    import static junit.framework.Assert.assertEquals;\r\n    import static org.junit.Assert.assertNotNull;\r\n\r\n    import java.util.List;\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit4.AbstractTransactionalJUnit4SpringContextTests;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    import org.springframework.test.context.transaction.TransactionConfiguration;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    import com.xyz.person.bo.Person;\r\n    import com.xyz.person.bs.PersonService;\r\n\r\n    import fj.Effect;\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;classpath*:personservice-test.xml&quot; })\r\n    @TransactionConfiguration(transactionManager = &quot;transactionManager&quot;, defaultRollback = false)\r\n    public class PersonServiceTest {\r\n\r\n        @Autowired\r\n        private PersonService service;\r\n\r\n        @Test\r\n        @Transactional\r\n        public void testCreatePerson() {\r\n            Person person = new Person();\r\n            person.setName(&quot;abhinav&quot;);\r\n            service.createPerson(person);\r\n\r\n            assertNotNull(person.getId());\r\n        }\r\n\r\n        @Test\r\n        @Transactional\r\n        public void testFindPersons() {\r\n            Person person = new Person();\r\n            person.setName(&quot;abhinav&quot;);\r\n            service.createPerson(person);\r\n\r\n            List&lt;Person&gt; persons = service.findPersons(&quot;abhinav&quot;);\r\n            toFjList(persons).foreach(new Effect&lt;Person&gt;() {\r\n                public void e(final Person p) {\r\n                    assertEquals(&quot;abhinav&quot;, p.getName());\r\n                }});\r\n        }\r\n\r\n    }\r\n\r\n_personservice-test.xml_\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n        xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n          http://www.springframework.org/schema/beans/spring-beans.xsd\r\n          http://www.springframework.org/schema/tx\r\n          http://www.springframework.org/schema/tx/spring-tx.xsd\r\n          http://www.springframework.org/schema/aop\r\n          http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\r\n          http://www.springframework.org/schema/context\r\n          http://www.springframework.org/schema/context/spring-context-2.5.xsd&quot;&gt;\r\n\r\n        &lt;import resource=&quot;classpath:/personservice.xml&quot; /&gt;\r\n\r\n        &lt;bean id=&quot;datasource&quot;\r\n            class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;\r\n            lazy-init=&quot;true&quot;&gt;\r\n            &lt;property name=&quot;driverClassName&quot; value=&quot;org.apache.derby.jdbc.EmbeddedDriver&quot; /&gt;\r\n            &lt;property name=&quot;url&quot; value=&quot;jdbc:derby:InMemoryDatabase;create=true&quot; /&gt;\r\n        &lt;/bean&gt;\r\n\r\n        &lt;bean id=&quot;entityManagerFactory&quot;\r\n            class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;datasource&quot; /&gt;\r\n            &lt;property name=&quot;persistenceUnitName&quot; value=&quot;PersonService&quot; /&gt;\r\n            &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n                &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n                    &lt;property name=&quot;databasePlatform&quot; value=&quot;org.hibernate.dialect.DerbyDialect&quot; /&gt;\r\n                    &lt;property name=&quot;showSql&quot; value=&quot;true&quot; /&gt;\r\n                    &lt;property name=&quot;generateDdl&quot; value=&quot;true&quot; /&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;jpaPropertyMap&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;hibernate.validator.autoregister_listeners&quot; value=&quot;false&quot; /&gt;\r\n                    &lt;entry key=&quot;javax.persistence.transactionType&quot; value=&quot;RESOURCE_LOCAL&quot; /&gt;\r\n                &lt;/map&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n\r\n        &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;datasource&quot; /&gt;\r\n        &lt;/bean&gt;\r\n\r\n        &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;\r\n            proxy-target-class=&quot;false&quot; /&gt;\r\n\r\n        &lt;bean id=&quot;beanMapper&quot; class=&quot;org.dozer.DozerBeanMapper&quot;&gt;\r\n            &lt;property name=&quot;mappingFiles&quot;&gt;\r\n                &lt;list&gt;\r\n                    &lt;value&gt;personservice-mappings.xml&lt;/value&gt;\r\n                &lt;/list&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\n_Exception in Maven_\r\n\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running com.xyz.person.test.PersonServiceTest\r\n    23:18:51,250  WARN JDBCExceptionReporter:77 - SQL Warning: 10000, SQLState: 01J01\r\n    23:18:51,281  WARN JDBCExceptionReporter:78 - Database &#39;InMemoryDatabase&#39; not created, connection made to existing database instead.\r\n    23:18:52,937  WARN JDBCExceptionReporter:77 - SQL Warning: 10000, SQLState: 01J01\r\n    23:18:52,937  WARN JDBCExceptionReporter:78 - Database &#39;InMemoryDatabase&#39; not created, connection made to existing database instead.\r\n    23:18:52,953  WARN TestContextManager:429 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@359a359a] to process &#39;after&#39; execution for test: method [public void com.xyz.person.test.PersonServiceTest.testCreatePerson()], instance [com.xyz.person.test.PersonServiceTest@1bc81bc8], exception [org.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.]\r\n    java.lang.IllegalStateException: No value for key [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@3f563f56] bound to thread [main]\r\n            at org.springframework.transaction.support.TransactionSynchronizationManager.unbindResource(TransactionSynchronizationManager.java:199)\r\n            at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:489)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1011)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:804)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:723)\r\n            at org.springframework.test.context.transaction.TransactionalTestExecutionListener$TransactionContext.endTransaction(TransactionalTestExecutionListener.java:515)\r\n            at org.springframework.test.context.transaction.TransactionalTestExecutionListener.endTransaction(TransactionalTestExecutionListener.java:290)\r\n            at org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:183)\r\n            at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:426)\r\n            at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:90)\r\n            at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\r\n            at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:240)\r\n            at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n            at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n            at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n            at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n            at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n            at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n            at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n            at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n            at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n            at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:180)\r\n            at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:59)\r\n            at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:115)\r\n            at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:102)\r\n            at org.apache.maven.surefire.Surefire.run(Surefire.java:180)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n            at java.lang.reflect.Method.invoke(Method.java:599)\r\n            at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:350)\r\n            at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1021)\r\n    23:18:53,078  WARN TestContextManager:377 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@359a359a] to process &#39;before&#39; execution of test method [public void com.xyz.person.test.PersonServiceTest.testFindPersons()] for test instance [com.xyz.person.test.PersonServiceTest@79f279f2]\r\n    org.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.\r\n            at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:304)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\r\n            at org.springframework.test.context.transaction.TransactionalTestExecutionListener$TransactionContext.startTransaction(TransactionalTestExecutionListener.java:507)\r\n            at org.springframework.test.context.transaction.TransactionalTestExecutionListener.startNewTransaction(TransactionalTestExecutionListener.java:269)\r\n            at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:162)\r\n            at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:374)\r\n            at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\r\n            at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\r\n            at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\r\n            at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:240)\r\n            at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n            at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n            at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n            at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n            at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n            at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n            at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n            at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n            at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n            at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:180)\r\n            at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:59)\r\n            at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:115)\r\n            at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:102)\r\n            at org.apache.maven.surefire.Surefire.run(Surefire.java:180)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n            at java.lang.reflect.Method.invoke(Method.java:599)\r\n            at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:350)\r\n            at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1021)\r\n    Tests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 15.625 sec &lt;&lt;&lt; FAILURE!\r\n\r\n    Results :\r\n\r\n    Tests in error:\r\n      testCreatePerson(com.xyz.person.test.PersonServiceTest)\r\n      testCreatePerson(com.xyz.person.test.PersonServiceTest)\r\n      testFindPersons(com.xyz.person.test.PersonServiceTest)\r\n\r\n    Tests run: 3, Failures: 0, Errors: 3, Skipped: 0","title":"JUnit tests pass in Eclipse but fail in Maven Surefire","body":"<p>I have written some JUnit tests using JUnit 4 and spring-test libraries. When I run the tests inside Eclipse then run fine and pass. But when I run them using Maven (during the build process), they fail giving a spring related error. I am not sure what is causing the problem, JUnit, Surefire or Spring. Here is my test code, spring configuration and the exception that I get from Maven:</p>\n\n<p><em>PersonServiceTest.java</em></p>\n\n<pre><code>package com.xyz.person.test;\n\nimport static com.xyz.person.util.FjUtil.toFjList;\nimport static junit.framework.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\n\nimport java.util.List;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.AbstractTransactionalJUnit4SpringContextTests;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.transaction.TransactionConfiguration;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.xyz.person.bo.Person;\nimport com.xyz.person.bs.PersonService;\n\nimport fj.Effect;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"classpath*:personservice-test.xml\" })\n@TransactionConfiguration(transactionManager = \"transactionManager\", defaultRollback = false)\npublic class PersonServiceTest {\n\n    @Autowired\n    private PersonService service;\n\n    @Test\n    @Transactional\n    public void testCreatePerson() {\n        Person person = new Person();\n        person.setName(\"abhinav\");\n        service.createPerson(person);\n\n        assertNotNull(person.getId());\n    }\n\n    @Test\n    @Transactional\n    public void testFindPersons() {\n        Person person = new Person();\n        person.setName(\"abhinav\");\n        service.createPerson(person);\n\n        List&lt;Person&gt; persons = service.findPersons(\"abhinav\");\n        toFjList(persons).foreach(new Effect&lt;Person&gt;() {\n            public void e(final Person p) {\n                assertEquals(\"abhinav\", p.getName());\n            }});\n    }\n\n}\n</code></pre>\n\n<p><em>personservice-test.xml</em></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xmlns:aop=\"http://www.springframework.org/schema/aop\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n      http://www.springframework.org/schema/beans/spring-beans.xsd\n      http://www.springframework.org/schema/tx\n      http://www.springframework.org/schema/tx/spring-tx.xsd\n      http://www.springframework.org/schema/aop\n      http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n      http://www.springframework.org/schema/context\n      http://www.springframework.org/schema/context/spring-context-2.5.xsd\"&gt;\n\n    &lt;import resource=\"classpath:/personservice.xml\" /&gt;\n\n    &lt;bean id=\"datasource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"\n        lazy-init=\"true\"&gt;\n        &lt;property name=\"driverClassName\" value=\"org.apache.derby.jdbc.EmbeddedDriver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:derby:InMemoryDatabase;create=true\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"entityManagerFactory\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"datasource\" /&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"PersonService\" /&gt;\n        &lt;property name=\"jpaVendorAdapter\"&gt;\n            &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n                &lt;property name=\"databasePlatform\" value=\"org.hibernate.dialect.DerbyDialect\" /&gt;\n                &lt;property name=\"showSql\" value=\"true\" /&gt;\n                &lt;property name=\"generateDdl\" value=\"true\" /&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n        &lt;property name=\"jpaPropertyMap\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"hibernate.validator.autoregister_listeners\" value=\"false\" /&gt;\n                &lt;entry key=\"javax.persistence.transactionType\" value=\"RESOURCE_LOCAL\" /&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n        &lt;property name=\"dataSource\" ref=\"datasource\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\"\n        proxy-target-class=\"false\" /&gt;\n\n    &lt;bean id=\"beanMapper\" class=\"org.dozer.DozerBeanMapper\"&gt;\n        &lt;property name=\"mappingFiles\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;personservice-mappings.xml&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p><em>Exception in Maven</em></p>\n\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning com.xyz.person.test.PersonServiceTest\n23:18:51,250  WARN JDBCExceptionReporter:77 - SQL Warning: 10000, SQLState: 01J01\n23:18:51,281  WARN JDBCExceptionReporter:78 - Database 'InMemoryDatabase' not created, connection made to existing database instead.\n23:18:52,937  WARN JDBCExceptionReporter:77 - SQL Warning: 10000, SQLState: 01J01\n23:18:52,937  WARN JDBCExceptionReporter:78 - Database 'InMemoryDatabase' not created, connection made to existing database instead.\n23:18:52,953  WARN TestContextManager:429 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@359a359a] to process 'after' execution for test: method [public void com.xyz.person.test.PersonServiceTest.testCreatePerson()], instance [com.xyz.person.test.PersonServiceTest@1bc81bc8], exception [org.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.]\njava.lang.IllegalStateException: No value for key [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@3f563f56] bound to thread [main]\n        at org.springframework.transaction.support.TransactionSynchronizationManager.unbindResource(TransactionSynchronizationManager.java:199)\n        at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:489)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1011)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:804)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:723)\n        at org.springframework.test.context.transaction.TransactionalTestExecutionListener$TransactionContext.endTransaction(TransactionalTestExecutionListener.java:515)\n        at org.springframework.test.context.transaction.TransactionalTestExecutionListener.endTransaction(TransactionalTestExecutionListener.java:290)\n        at org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:183)\n        at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:426)\n        at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:90)\n        at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:240)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:180)\n        at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:59)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:115)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:102)\n        at org.apache.maven.surefire.Surefire.run(Surefire.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n        at java.lang.reflect.Method.invoke(Method.java:599)\n        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:350)\n        at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1021)\n23:18:53,078  WARN TestContextManager:377 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@359a359a] to process 'before' execution of test method [public void com.xyz.person.test.PersonServiceTest.testFindPersons()] for test instance [com.xyz.person.test.PersonServiceTest@79f279f2]\norg.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.\n        at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:304)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\n        at org.springframework.test.context.transaction.TransactionalTestExecutionListener$TransactionContext.startTransaction(TransactionalTestExecutionListener.java:507)\n        at org.springframework.test.context.transaction.TransactionalTestExecutionListener.startNewTransaction(TransactionalTestExecutionListener.java:269)\n        at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:162)\n        at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:374)\n        at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\n        at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\n        at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:240)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:180)\n        at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:59)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:115)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:102)\n        at org.apache.maven.surefire.Surefire.run(Surefire.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n        at java.lang.reflect.Method.invoke(Method.java:599)\n        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:350)\n        at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1021)\nTests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 15.625 sec &lt;&lt;&lt; FAILURE!\n\nResults :\n\nTests in error:\n  testCreatePerson(com.xyz.person.test.PersonServiceTest)\n  testCreatePerson(com.xyz.person.test.PersonServiceTest)\n  testFindPersons(com.xyz.person.test.PersonServiceTest)\n\nTests run: 3, Failures: 0, Errors: 3, Skipped: 0\n</code></pre>\n"},{"tags":["java","rest","gson","retrofit"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1698336404,"post_id":77365551,"comment_id":136395531,"body_markdown":"If only your `CaptureReceiptTypeAdapter` needs `CustomJIDAdapter`, then you don&#39;t have to call `registerTypeAdapter(JID.class, new CustomJIDAdapter())`. Is that what you meant? Or do you mean multiple of your APIs return `CaptureReceipt`, and only for one of them the custom adapter should be used. Also, is `CaptureReceipt` directly the return type of your API, or is there some enclosing class. In that case maybe [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html) could be used for the `CaptureReceipt` field.","body":"If only your <code>CaptureReceiptTypeAdapter</code> needs <code>CustomJIDAdapter</code>, then you don&#39;t have to call <code>registerTypeAdapter(JID.class, new CustomJIDAdapter())</code>. Is that what you meant? Or do you mean multiple of your APIs return <code>CaptureReceipt</code>, and only for one of them the custom adapter should be used. Also, is <code>CaptureReceipt</code> directly the return type of your API, or is there some enclosing class. In that case maybe <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a> could be used for the <code>CaptureReceipt</code> field."}],"owner":{"account_id":10411179,"reputation":47,"user_id":7676518,"display_name":"shubham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698346227,"creation_date":1698310807,"question_id":77365551,"body_markdown":"I have many API&#39;s which I am calling from my application. \r\nOn response I have default `GsonConvertorFactory` which converts the JSON response to the corresponding Java objects with exact number and name of fields and everything works like a charm.\r\nBelow is the code: \r\n\r\n\r\n\r\n   \r\n\r\n     Retrofit retrofit = (new Retrofit.Builder()).baseUrl(baseUrl + serviceSuffix)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .addConverterFactory(ScalarsConverterFactory.create())\r\n                        .client(client)\r\n                        .build();\r\n                return retrofit.create(clientInterfaceClass);\r\n    \r\nThe problem is when I had to do some changes for one API in which I have to modify the response before it gets mapped to the Java object and so i have written an adapter for it which is : \r\n\r\n    public class CaptureReceiptTypeAdapter extends TypeAdapter&lt;CaptureReceipt&gt; {\r\n\r\n    @Override\r\n        public void write(JsonWriter jsonWriter, CaptureReceipt captureReceipt) throws IOException {\r\n        }\r\n\r\n    @Override\r\n        public CaptureReceipt read(JsonReader in) throws IOException {\r\n    in.beginObject();\r\n            while (in.hasNext()) {\r\n     String name = in.nextName();\r\n      if (name.equals(&quot;receiptID&quot;)) {\r\n                    receiptID = in.nextLong();\r\n                }  else if (name.equals(&quot;captor&quot;)) {\r\n                    captor = new CustomJIDAdapter().read(in);\r\n                } else {\r\n                    in.skipValue(); // Skip any other fields\r\n                }\r\n    }\r\n    }\r\nand \r\n\r\n    public class CustomJIDAdapter  extends TypeAdapter&lt;JID&gt; {\r\n    \r\n    //do some changes as required in json before mapping\r\n    }\r\n\r\nAlso now I am registering my Adaptors : \r\n\r\n    Gson gson = new GsonBuilder()\r\n                    .registerTypeAdapter(CaptureReceipt.class, new CaptureReceiptTypeAdapter())\r\n                    .registerTypeAdapter(JID.class, new CustomJIDAdapter())\r\n                    .create();\r\n        \r\n    Retrofit retrofit = (new Retrofit.Builder()).baseUrl(baseUrl + serviceSuffix)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .addConverterFactory(ScalarsConverterFactory.create())\r\n                    .client(client)\r\n                    .build();\r\n            return retrofit.create(clientInterfaceClass);\r\n\r\n\r\nNow when I create a retrofit using &#39;gson&#39;, it does not work for rest of API&#39;s.\r\nIs there any way we can switch between both the ConvertorFactory&#39;s, like it should switch based on type.\r\n\r\n","title":"Adding GSONConvertorFactory to retrofit2 while calling an API","body":"<p>I have many API's which I am calling from my application.\nOn response I have default <code>GsonConvertorFactory</code> which converts the JSON response to the corresponding Java objects with exact number and name of fields and everything works like a charm.\nBelow is the code:</p>\n<pre><code> Retrofit retrofit = (new Retrofit.Builder()).baseUrl(baseUrl + serviceSuffix)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .addConverterFactory(ScalarsConverterFactory.create())\n                    .client(client)\n                    .build();\n            return retrofit.create(clientInterfaceClass);\n</code></pre>\n<p>The problem is when I had to do some changes for one API in which I have to modify the response before it gets mapped to the Java object and so i have written an adapter for it which is :</p>\n<pre><code>public class CaptureReceiptTypeAdapter extends TypeAdapter&lt;CaptureReceipt&gt; {\n\n@Override\n    public void write(JsonWriter jsonWriter, CaptureReceipt captureReceipt) throws IOException {\n    }\n\n@Override\n    public CaptureReceipt read(JsonReader in) throws IOException {\nin.beginObject();\n        while (in.hasNext()) {\n String name = in.nextName();\n  if (name.equals(&quot;receiptID&quot;)) {\n                receiptID = in.nextLong();\n            }  else if (name.equals(&quot;captor&quot;)) {\n                captor = new CustomJIDAdapter().read(in);\n            } else {\n                in.skipValue(); // Skip any other fields\n            }\n}\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class CustomJIDAdapter  extends TypeAdapter&lt;JID&gt; {\n\n//do some changes as required in json before mapping\n}\n</code></pre>\n<p>Also now I am registering my Adaptors :</p>\n<pre><code>Gson gson = new GsonBuilder()\n                .registerTypeAdapter(CaptureReceipt.class, new CaptureReceiptTypeAdapter())\n                .registerTypeAdapter(JID.class, new CustomJIDAdapter())\n                .create();\n    \nRetrofit retrofit = (new Retrofit.Builder()).baseUrl(baseUrl + serviceSuffix)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .addConverterFactory(ScalarsConverterFactory.create())\n                .client(client)\n                .build();\n        return retrofit.create(clientInterfaceClass);\n</code></pre>\n<p>Now when I create a retrofit using 'gson', it does not work for rest of API's.\nIs there any way we can switch between both the ConvertorFactory's, like it should switch based on type.</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":7511723,"reputation":285,"user_id":5706441,"accept_rate":71,"display_name":"rakesh"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1455720182,"creation_date":1455700667,"answer_id":35452385,"question_id":35407479,"body_markdown":"Finally I got solution for this issue after going through so many articles.\r\n\r\nThis issue is because of sdk tools Version mismatch.\r\n\r\nThe targeted sdk version in build.gradle file must match with the sdk version which you installed.\r\n\r\n","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p>Finally I got solution for this issue after going through so many articles.</p>\n\n<p>This issue is because of sdk tools Version mismatch.</p>\n\n<p>The targeted sdk version in build.gradle file must match with the sdk version which you installed.</p>\n"},{"tags":[],"owner":{"account_id":6879321,"reputation":1074,"user_id":5286593,"display_name":"AldaronLau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499357109,"creation_date":1499357109,"answer_id":44953947,"question_id":35407479,"body_markdown":"In your build.gradle,\r\n\r\n    applicationId &quot;com.company.app&quot;\r\n\r\nShould match in AndroidManifest.xml:\r\n\r\n    package=&quot;com.company.app&quot;\r\n\r\nI was getting this same error because they didn&#39;t match.","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p>In your build.gradle,</p>\n\n<pre><code>applicationId \"com.company.app\"\n</code></pre>\n\n<p>Should match in AndroidManifest.xml:</p>\n\n<pre><code>package=\"com.company.app\"\n</code></pre>\n\n<p>I was getting this same error because they didn't match.</p>\n"},{"tags":[],"owner":{"account_id":2324130,"reputation":624,"user_id":2039029,"display_name":"Arkady"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521210034,"creation_date":1521210034,"answer_id":49322969,"question_id":35407479,"body_markdown":"In my case it was a to long (more that 100 chars) name of a file in Assets","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p>In my case it was a to long (more that 100 chars) name of a file in Assets</p>\n"},{"tags":[],"owner":{"account_id":6649703,"reputation":9383,"user_id":5132337,"accept_rate":75,"display_name":"Siraj Alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537007902,"creation_date":1537007902,"answer_id":52343893,"question_id":35407479,"body_markdown":"&gt; After so much searching, I found this solution\r\n\r\n\r\nIn **android/gradle.properties**\r\nadd\r\n`android.enableAapt2=false`","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<blockquote>\n  <p>After so much searching, I found this solution</p>\n</blockquote>\n\n<p>In <strong>android/gradle.properties</strong>\nadd\n<code>android.enableAapt2=false</code></p>\n"},{"tags":[],"owner":{"account_id":4731068,"reputation":1045,"user_id":3826696,"display_name":"user3826696"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537566688,"creation_date":1537566688,"answer_id":52451437,"question_id":35407479,"body_markdown":"My solution came from here\r\n\r\nREMOVE ALL IMAGES FROM RES/ DRAWABLE THAT YOU DON&#39;T NEED\r\n\r\nhttps://github.com/facebook/react-native/issues/19239\r\n\r\nCredit for --&gt; ZeroCool00 \r\n\r\n\r\nFor those who are doing this before generating apk\r\n\r\nreact-native bundle --platform android --dev false --entry-file index.js --bundle-output android/app/src/main/assets/index.android.bundle --assets-dest android/app/src/main/res\r\n\r\nit generate unnecessary drawable images in drawable folder. so make sure to remove it and try again.\r\n\r\nandroid-&gt; app -&gt; src -&gt; main -&gt; res -&gt; drawable","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p>My solution came from here</p>\n\n<p>REMOVE ALL IMAGES FROM RES/ DRAWABLE THAT YOU DON'T NEED</p>\n\n<p><a href=\"https://github.com/facebook/react-native/issues/19239\" rel=\"nofollow noreferrer\">https://github.com/facebook/react-native/issues/19239</a></p>\n\n<p>Credit for --> ZeroCool00 </p>\n\n<p>For those who are doing this before generating apk</p>\n\n<p>react-native bundle --platform android --dev false --entry-file index.js --bundle-output android/app/src/main/assets/index.android.bundle --assets-dest android/app/src/main/res</p>\n\n<p>it generate unnecessary drawable images in drawable folder. so make sure to remove it and try again.</p>\n\n<p>android-> app -> src -> main -> res -> drawable</p>\n"},{"tags":[],"owner":{"account_id":9263666,"reputation":409,"user_id":6879769,"display_name":"Yazid"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1539174227,"creation_date":1539174227,"answer_id":52740202,"question_id":35407479,"body_markdown":"My method is always try the simplest potential solution: and I added this line inside gradle.properties in the app folder:\r\n\r\n    android.enableAapt2=false\r\n\r\nIt works wonder exactly no issue.","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p>My method is always try the simplest potential solution: and I added this line inside gradle.properties in the app folder:</p>\n\n<pre><code>android.enableAapt2=false\n</code></pre>\n\n<p>It works wonder exactly no issue.</p>\n"},{"tags":[],"owner":{"account_id":1312052,"reputation":4379,"user_id":1259865,"accept_rate":74,"display_name":"Asqan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571018759,"creation_date":1571017298,"answer_id":58369146,"question_id":35407479,"body_markdown":"*for cordova projects* \r\n\r\nadding the cordova plugin `cordova-android-support-gradle-release` has fixed this problem for me.","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p><em>for cordova projects</em> </p>\n\n<p>adding the cordova plugin <code>cordova-android-support-gradle-release</code> has fixed this problem for me.</p>\n"},{"tags":[],"owner":{"account_id":61405,"reputation":189,"user_id":183034,"display_name":"rndStr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574842939,"creation_date":1574842939,"answer_id":59065907,"question_id":35407479,"body_markdown":"For me the issue was being caused by a circular reference in an xml file. Lint would usually flag the issue, unless instructed not too.\r\nCheck for:\r\n\r\n    tools:ignore=&quot;ResourceCycle&quot;","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p>For me the issue was being caused by a circular reference in an xml file. Lint would usually flag the issue, unless instructed not too.\nCheck for:</p>\n\n<pre><code>tools:ignore=\"ResourceCycle\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6234270,"reputation":323,"user_id":4850047,"accept_rate":60,"display_name":"Jackson Harry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637819907,"creation_date":1637819907,"answer_id":70106424,"question_id":35407479,"body_markdown":"In my case I was adding &lt;uses-permission&gt; tag inside application tag thats why it was happening.","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p>In my case I was adding  tag inside application tag thats why it was happening.</p>\n"},{"tags":[],"owner":{"account_id":24186896,"reputation":1,"user_id":18146621,"display_name":"noidfrx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696801586,"creation_date":1696801586,"answer_id":77255450,"question_id":35407479,"body_markdown":"*( CREDITS TO: https://www.youtube.com/watch?v=52wKo4rNG_o )*\r\n\r\n**Just in case this helps someone.** \r\n\r\nWhen I was trying to sign my app I was having this problem:\r\n\r\n    Execution failed for task &#39;:app:processReleaseResources&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\r\n       &gt; Android resource linking failed\r\n         /Users/aaa/StudioProjects/aaa/app/build/intermediates/packaged_manifests/release/AndroidManifest.xml:23: error: resource mipmap/ic_launcher (aka com.aaa.aaa:mipmap/ic_launcher) not found.\r\n         /Users/aaa/StudioProjects/aaa/app/build/intermediates/packaged_manifests/release/AndroidManifest.xml:23: error: resource mipmap/ic_launcher_round (aka com.aaa.aaa:mipmap/ic_launcher_round) not found.\r\n         error: failed processing manifest.\r\n\r\nIt was caused because each of the resources that I had created for my application were created exclusively for the &quot;debug&quot; environment, since by default this is selected for each resource in android studio.\r\n\r\n[First approach to the problem][1]\r\n\r\n\r\nTo solve it I just created each of the resources again but now making sure that they were created in &quot;main&quot; and not in &quot;debug&quot; like this\r\n\r\n[Solution to the problem][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZNec7.png\r\n  [2]: https://i.stack.imgur.com/JbthK.png","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p><em>( CREDITS TO: <a href=\"https://www.youtube.com/watch?v=52wKo4rNG_o\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=52wKo4rNG_o</a> )</em></p>\n<p><strong>Just in case this helps someone.</strong></p>\n<p>When I was trying to sign my app I was having this problem:</p>\n<pre><code>Execution failed for task ':app:processReleaseResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\n   &gt; Android resource linking failed\n     /Users/aaa/StudioProjects/aaa/app/build/intermediates/packaged_manifests/release/AndroidManifest.xml:23: error: resource mipmap/ic_launcher (aka com.aaa.aaa:mipmap/ic_launcher) not found.\n     /Users/aaa/StudioProjects/aaa/app/build/intermediates/packaged_manifests/release/AndroidManifest.xml:23: error: resource mipmap/ic_launcher_round (aka com.aaa.aaa:mipmap/ic_launcher_round) not found.\n     error: failed processing manifest.\n</code></pre>\n<p>It was caused because each of the resources that I had created for my application were created exclusively for the &quot;debug&quot; environment, since by default this is selected for each resource in android studio.</p>\n<p><a href=\"https://i.stack.imgur.com/ZNec7.png\" rel=\"nofollow noreferrer\">First approach to the problem</a></p>\n<p>To solve it I just created each of the resources again but now making sure that they were created in &quot;main&quot; and not in &quot;debug&quot; like this</p>\n<p><a href=\"https://i.stack.imgur.com/JbthK.png\" rel=\"nofollow noreferrer\">Solution to the problem</a></p>\n"},{"tags":[],"owner":{"account_id":12605951,"reputation":2564,"user_id":9166855,"display_name":"Prajwal Waingankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698345922,"creation_date":1698345922,"answer_id":77369620,"question_id":35407479,"body_markdown":"This is because the resource is created in debug mode.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gS64o.jpg\r\n\r\nTo fix this:\r\nclick on drawable folder -&gt; new -&gt; new drawable resource -&gt; give same file name to the original -&gt; make sure to select main in the drop down -&gt; create file -&gt; now copy paste the contents from the original file onto this file.","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<p>This is because the resource is created in debug mode.</p>\n<p><a href=\"https://i.stack.imgur.com/gS64o.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gS64o.jpg\" alt=\"enter image description here\" /></a></p>\n<p>To fix this:\nclick on drawable folder -&gt; new -&gt; new drawable resource -&gt; give same file name to the original -&gt; make sure to select main in the drop down -&gt; create file -&gt; now copy paste the contents from the original file onto this file.</p>\n"}],"owner":{"account_id":7511723,"reputation":285,"user_id":5706441,"accept_rate":71,"display_name":"rakesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36984,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"accepted_answer_id":35452385,"answer_count":11,"score":10,"last_activity_date":1698345922,"creation_date":1455533665,"question_id":35407479,"body_markdown":"    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;22.0.1&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.nusecond.karun.suredeal&quot;\r\n            minSdkVersion 18\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n     signingConfigs {\r\n            release {\r\n                storeFile file(&quot;suredealreleasekey.keystore&quot;)\r\n                storePassword &quot;suredeal&quot;\r\n                keyAlias &quot;SuredealReleaseKey&quot;\r\n                keyPassword &quot;suredeal&quot;\r\n            }\r\n        }\r\n     \r\n        \r\n    buildTypes {\r\n            release {\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n        packagingOptions {\r\n            exclude &#39;META-INF/ASL2.0&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/license.txt&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/notice.txt&#39;\r\n        }\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile &#39;com.android.support:design:23.1.1&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:23.1.1&#39;\r\n        compile &#39;com.facebook.android:facebook-android-sdk:4.6.0&#39;\r\n        testCompile &#39;com.android.support:support-annotations:23.1.1&#39;\r\n        androidTestCompile &#39;com.android.support:support-annotations:23.1.1&#39;\r\n    \r\n    \r\n        compile &#39;com.google.android.gms:play-services-base:8.4.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-plus:8.4.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-auth:8.4.0&#39;\r\n        compile &#39;com.android.support:support-v13:23.1.1&#39;\r\n    \r\n        /**\r\n         * GSON\r\n         */\r\n        compile &#39;com.google.code.gson:gson:2.4&#39;\r\n    \r\n        // UI AutomatorTesting\r\n        androidTestCompile &#39;com.android.support.test:runner:0.2&#39;\r\n        androidTestCompile &#39;com.android.support.test:rules:0.2&#39;\r\n        androidTestCompile &#39;com.android.support.test.uiautomator:uiautomator-v18:2.1.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-appindexing:8.4.0&#39;\r\n    \r\n        /**\r\n         * Spring Dependencies\r\n         * compile &#39;org.springframework.android:spring-android-rest-template:1.0.1.RELEASE&#39;\r\n         * compile &#39;com.fasterxml.jackson.core:jackson-core:2.4.2&#39;\r\n         * compile &#39;com.fasterxml.jackson.core:jackson-annotations:2.4.0&#39;\r\n         */\r\n        compile &#39;org.springframework.android:spring-android-rest-template:2.0.0.M3&#39;\r\n        compile &#39;com.fasterxml.jackson.core:jackson-databind:2.4.2&#39;\r\n    \r\n        /**\r\n         * Android Annotation Dependencies\r\n         */\r\n        compile &#39;org.glassfish.main:javax.annotation:4.0-b33&#39;\r\n    \r\n        /**\r\n         * Volley Jar\r\n         */\r\n        compile files(&#39;libs/volley.jar&#39;)\r\n        compile &#39;com.mcxiaoke.volley:library:1.0.19&#39;\r\n    \r\n        /**\r\n         * GCM Dependency\r\n         */\r\n        compile &#39;com.google.android.gms:play-services-gcm:8.4.0&#39;\r\n        /**\r\n         * Universal image Loader\r\n         */\r\n        compile &#39;com.nostra13.universalimageloader:universal-image-loader:1.9.5&#39;\r\n        compile files(&#39;libs/urlimageviewhelper-1.0.4.jar&#39;)\r\n    \r\n        compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n    }\r\n    repositories {\r\n        maven {\r\n            url &#39;http://repo.spring.io/milestone&#39;\r\n        }\r\n    }\r\n\r\n 1. This is build.gradle\r\n 2. Here I&#39;m generating signed APK using Gradle Build.(`./gradlew assembleRelease`).\r\n3.Build Failed for task app:processReleaseResources. \r\n \r\n\r\nHere the stacktrace:\r\n\r\n    ----------\r\n    ./gradlew assembleRelease --stacktrace\r\n    :app:preBuild UP-TO-DATE\r\n    :app:preReleaseBuild UP-TO-DATE\r\n    :app:checkReleaseManifest\r\n    :app:preDebugBuild UP-TO-DATE\r\n    :app:prepareComAndroidSupportAppcompatV72311Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportDesign2311Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportRecyclerviewV72311Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportSupportV132311Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportSupportV42311Library UP-TO-DATE\r\n    :app:prepareComFacebookAndroidFacebookAndroidSdk460Library UP-TO-DATE\r\n    :app:prepareComGoogleAndroidGmsPlayServicesAppindexing840Library UP-TO-DATE\r\n    :app:prepareComGoogleAndroidGmsPlayServicesAuth840Library UP-TO-DATE\r\n    :app:prepareComGoogleAndroidGmsPlayServicesBase840Library UP-TO-DATE\r\n    :app:prepareComGoogleAndroidGmsPlayServicesBasement840Library UP-TO-DATE\r\n    :app:prepareComGoogleAndroidGmsPlayServicesGcm840Library UP-TO-DATE\r\n    :app:prepareComGoogleAndroidGmsPlayServicesMeasurement840Library UP-TO-DATE\r\n    :app:prepareComGoogleAndroidGmsPlayServicesPlus840Library UP-TO-DATE\r\n    :app:prepareReleaseDependencies\r\n    :app:compileReleaseAidl UP-TO-DATE\r\n    :app:compileReleaseRenderscript UP-TO-DATE\r\n    :app:generateReleaseBuildConfig UP-TO-DATE\r\n    :app:generateReleaseAssets UP-TO-DATE\r\n    :app:mergeReleaseAssets UP-TO-DATE\r\n    :app:generateReleaseResValues UP-TO-DATE\r\n    :app:generateReleaseResources UP-TO-DATE\r\n    :app:mergeReleaseResources UP-TO-DATE\r\n    :app:processReleaseManifest UP-TO-DATE\r\n    :app:processReleaseResources FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:processReleaseResources&#39;.\r\n    &gt; at index 4\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:processReleaseResources&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n    \tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:42)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    \tat org.gradle.api.internal.AbstractTask.executeWithoutThrowingTaskFailure(AbstractTask.java:310)\r\n    \tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.executeTask(AbstractTaskPlanExecutor.java:79)\r\n    \tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:63)\r\n    \tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:51)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:23)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:88)\r\n    \tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.access$200(DefaultBuildExecuter.java:23)\r\n    \tat org.gradle.execution.DefaultBuildExecuter$2.proceed(DefaultBuildExecuter.java:68)\r\n    \tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:55)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:106)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:86)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:90)\r\n    \tat org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\r\n    \tat org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:50)\r\n    \tat org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:27)\r\n    \tat org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:40)\r\n    \tat org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:169)\r\n    \tat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\r\n    \tat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\r\n    \tat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\r\n    \tat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\r\n    \tat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\r\n    \tat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\r\n    \tat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\r\n    \tat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\r\n    \tat org.gradle.launcher.Main.doAction(Main.java:33)\r\n    \tat org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\r\n    \tat org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\r\n    \tat org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\r\n    \tat org.gradle.launcher.GradleMain.main(GradleMain.java:23)\r\n    \tat org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:33)\r\n    \tat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:130)\r\n    \tat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:48)\r\n    Caused by: java.lang.NullPointerException: at index 4\r\n    \tat com.google.common.collect.ObjectArrays.checkElementNotNull(ObjectArrays.java:240)\r\n    \tat com.google.common.collect.ObjectArrays.checkElementsNotNull(ObjectArrays.java:231)\r\n    \tat com.google.common.collect.ObjectArrays.checkElementsNotNull(ObjectArrays.java:226)\r\n    \tat com.google.common.collect.ImmutableList.construct(ImmutableList.java:303)\r\n    \tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:258)\r\n    \tat com.android.ide.common.process.ProcessInfoBuilder.createProcess(ProcessInfoBuilder.java:55)\r\n    \tat com.android.builder.core.AaptPackageProcessBuilder.build(AaptPackageProcessBuilder.java:444)\r\n    \tat com.android.builder.core.AndroidBuilder.processResources(AndroidBuilder.java:915)\r\n    \tat com.android.build.gradle.tasks.ProcessAndroidResources.doFullTaskAction(ProcessAndroidResources.java:138)\r\n    \tat com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:98)\r\n    \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\r\n    \tat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:243)\r\n    \tat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:219)\r\n    \tat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:230)\r\n    \tat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:208)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\r\n    \t... 49 more\r\n    \r\n    \r\n    BUILD FAILED\r\n    \r\n    Total time: 6.696 secs\r\n\r\n\r\nI&#39;m stuck here Any solution How to fix this issue plz Help me.  \r\n","title":"Gradle Build Failed For Task app:processReleaseResources","body":"<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"22.0.1\"\n\n    defaultConfig {\n        applicationId \"com.nusecond.karun.suredeal\"\n        minSdkVersion 18\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n signingConfigs {\n        release {\n            storeFile file(\"suredealreleasekey.keystore\")\n            storePassword \"suredeal\"\n            keyAlias \"SuredealReleaseKey\"\n            keyPassword \"suredeal\"\n        }\n    }\n\n\nbuildTypes {\n        release {\n            signingConfig signingConfigs.release\n        }\n    }\n    packagingOptions {\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/notice.txt'\n    }\n}\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:design:23.1.1'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.android.support:recyclerview-v7:23.1.1'\n    compile 'com.facebook.android:facebook-android-sdk:4.6.0'\n    testCompile 'com.android.support:support-annotations:23.1.1'\n    androidTestCompile 'com.android.support:support-annotations:23.1.1'\n\n\n    compile 'com.google.android.gms:play-services-base:8.4.0'\n    compile 'com.google.android.gms:play-services-plus:8.4.0'\n    compile 'com.google.android.gms:play-services-auth:8.4.0'\n    compile 'com.android.support:support-v13:23.1.1'\n\n    /**\n     * GSON\n     */\n    compile 'com.google.code.gson:gson:2.4'\n\n    // UI AutomatorTesting\n    androidTestCompile 'com.android.support.test:runner:0.2'\n    androidTestCompile 'com.android.support.test:rules:0.2'\n    androidTestCompile 'com.android.support.test.uiautomator:uiautomator-v18:2.1.0'\n    compile 'com.google.android.gms:play-services-appindexing:8.4.0'\n\n    /**\n     * Spring Dependencies\n     * compile 'org.springframework.android:spring-android-rest-template:1.0.1.RELEASE'\n     * compile 'com.fasterxml.jackson.core:jackson-core:2.4.2'\n     * compile 'com.fasterxml.jackson.core:jackson-annotations:2.4.0'\n     */\n    compile 'org.springframework.android:spring-android-rest-template:2.0.0.M3'\n    compile 'com.fasterxml.jackson.core:jackson-databind:2.4.2'\n\n    /**\n     * Android Annotation Dependencies\n     */\n    compile 'org.glassfish.main:javax.annotation:4.0-b33'\n\n    /**\n     * Volley Jar\n     */\n    compile files('libs/volley.jar')\n    compile 'com.mcxiaoke.volley:library:1.0.19'\n\n    /**\n     * GCM Dependency\n     */\n    compile 'com.google.android.gms:play-services-gcm:8.4.0'\n    /**\n     * Universal image Loader\n     */\n    compile 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'\n    compile files('libs/urlimageviewhelper-1.0.4.jar')\n\n    compile 'com.squareup.picasso:picasso:2.5.2'\n}\nrepositories {\n    maven {\n        url 'http://repo.spring.io/milestone'\n    }\n}\n</code></pre>\n\n<ol>\n<li>This is build.gradle</li>\n<li>Here I'm generating signed APK using Gradle Build.(<code>./gradlew assembleRelease</code>).\n3.Build Failed for task app:processReleaseResources. </li>\n</ol>\n\n<p>Here the stacktrace:</p>\n\n<pre><code>----------\n./gradlew assembleRelease --stacktrace\n:app:preBuild UP-TO-DATE\n:app:preReleaseBuild UP-TO-DATE\n:app:checkReleaseManifest\n:app:preDebugBuild UP-TO-DATE\n:app:prepareComAndroidSupportAppcompatV72311Library UP-TO-DATE\n:app:prepareComAndroidSupportDesign2311Library UP-TO-DATE\n:app:prepareComAndroidSupportRecyclerviewV72311Library UP-TO-DATE\n:app:prepareComAndroidSupportSupportV132311Library UP-TO-DATE\n:app:prepareComAndroidSupportSupportV42311Library UP-TO-DATE\n:app:prepareComFacebookAndroidFacebookAndroidSdk460Library UP-TO-DATE\n:app:prepareComGoogleAndroidGmsPlayServicesAppindexing840Library UP-TO-DATE\n:app:prepareComGoogleAndroidGmsPlayServicesAuth840Library UP-TO-DATE\n:app:prepareComGoogleAndroidGmsPlayServicesBase840Library UP-TO-DATE\n:app:prepareComGoogleAndroidGmsPlayServicesBasement840Library UP-TO-DATE\n:app:prepareComGoogleAndroidGmsPlayServicesGcm840Library UP-TO-DATE\n:app:prepareComGoogleAndroidGmsPlayServicesMeasurement840Library UP-TO-DATE\n:app:prepareComGoogleAndroidGmsPlayServicesPlus840Library UP-TO-DATE\n:app:prepareReleaseDependencies\n:app:compileReleaseAidl UP-TO-DATE\n:app:compileReleaseRenderscript UP-TO-DATE\n:app:generateReleaseBuildConfig UP-TO-DATE\n:app:generateReleaseAssets UP-TO-DATE\n:app:mergeReleaseAssets UP-TO-DATE\n:app:generateReleaseResValues UP-TO-DATE\n:app:generateReleaseResources UP-TO-DATE\n:app:mergeReleaseResources UP-TO-DATE\n:app:processReleaseManifest UP-TO-DATE\n:app:processReleaseResources FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processReleaseResources'.\n&gt; at index 4\n\n* Try:\nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:processReleaseResources'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:42)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.AbstractTask.executeWithoutThrowingTaskFailure(AbstractTask.java:310)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.executeTask(AbstractTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:63)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:51)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:23)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:88)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\n    at org.gradle.execution.DefaultBuildExecuter.access$200(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$2.proceed(DefaultBuildExecuter.java:68)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:55)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:106)\n    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:86)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:90)\n    at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\n    at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:50)\n    at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:27)\n    at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:40)\n    at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:169)\n    at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\n    at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\n    at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\n    at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\n    at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\n    at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\n    at org.gradle.launcher.Main.doAction(Main.java:33)\n    at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\n    at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\n    at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:33)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:130)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:48)\nCaused by: java.lang.NullPointerException: at index 4\n    at com.google.common.collect.ObjectArrays.checkElementNotNull(ObjectArrays.java:240)\n    at com.google.common.collect.ObjectArrays.checkElementsNotNull(ObjectArrays.java:231)\n    at com.google.common.collect.ObjectArrays.checkElementsNotNull(ObjectArrays.java:226)\n    at com.google.common.collect.ImmutableList.construct(ImmutableList.java:303)\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:258)\n    at com.android.ide.common.process.ProcessInfoBuilder.createProcess(ProcessInfoBuilder.java:55)\n    at com.android.builder.core.AaptPackageProcessBuilder.build(AaptPackageProcessBuilder.java:444)\n    at com.android.builder.core.AndroidBuilder.processResources(AndroidBuilder.java:915)\n    at com.android.build.gradle.tasks.ProcessAndroidResources.doFullTaskAction(ProcessAndroidResources.java:138)\n    at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:98)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:243)\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:219)\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:230)\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:208)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\n    ... 49 more\n\n\nBUILD FAILED\n\nTotal time: 6.696 secs\n</code></pre>\n\n<p>I'm stuck here Any solution How to fix this issue plz Help me.  </p>\n"},{"tags":["java","jsoup","system.out"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698348007,"post_id":77369610,"comment_id":136397535,"body_markdown":"Instead of _jsoup_, extract the value from _[URL#openStream](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/HttpURLConnection.html)_.","body":"Instead of <i>jsoup</i>, extract the value from <i><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">URL#openStream</a></i>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1698348807,"post_id":77369610,"comment_id":136397678,"body_markdown":"Change the **maxBodySize** property, for example: `org.jsoup.nodes.Document doc = Jsoup.connect(&quot;https://studyinthestates.dhs.gov/sevis-data-mapping-tool/september-2023-stem-sevis-data-mapping-tool-data&quot;).timeout(60000).maxBodySize(10*1024*1024).get();`. Should be &quot;good-to-go&quot; after that.","body":"Change the <b>maxBodySize</b> property, for example: <code>org.jsoup.nodes.Document doc = Jsoup.connect(&quot;https:&#47;&#47;studyinthestates.dhs.gov&#47;sevis-data-m&zwnj;&#8203;apping-tool&#47;septembe&zwnj;&#8203;r-2023-stem-sevis-da&zwnj;&#8203;ta-mapping-tool-data&zwnj;&#8203;&quot;).timeout(60000).ma&zwnj;&#8203;xBodySize(10*1024*10&zwnj;&#8203;24).get();</code>. Should be &quot;good-to-go&quot; after that."}],"owner":{"account_id":29762008,"reputation":11,"user_id":22809328,"display_name":"sam tada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1698345799,"creation_date":1698345799,"question_id":77369610,"body_markdown":"I want to view the entire values of the webpage and then print each value, currently, my code stops at New York. How can I print out the entire data?\r\n\r\nThis is my webpage: \r\n\r\n```\r\n&quot;https://studyinthestates.dhs.gov/sevis-data-mapping-tool/september-2023-stem-sevis-data-mapping-tool-data&quot;\r\n```\r\n\r\nLast 2 print values:\r\n\r\nNEW YORK NY MASTER&#39;S SENEGAL FEMALE 3\r\n\r\nNEW YORK NY MASTER&#39;S\r\n\r\n```\r\nimport org.jsoup.Jsoup;\r\nimport java.io.IOException;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.util.*;\r\n\r\npublic class myProjectDataExtracter {\r\n    public static void main(String[] args) throws IOException{\r\n        StringBuilder sb = new StringBuilder();\r\n        //FileWriter myWriter \r\n\r\n        org.jsoup.nodes.Document doc = Jsoup.connect(&quot;https://studyinthestates.dhs.gov/sevis-data-mapping-tool/september-2023-stem-sevis-data-mapping-tool-data&quot;).get();\r\n    \r\n        for (org.jsoup.nodes.Element table : doc.select(&quot;table&quot;)) {\r\n        for (org.jsoup.nodes.Element row : table.select(&quot;tr&quot;)) {\r\n            org.jsoup.select.Elements tds = row.select(&quot;td&quot;);\r\n                System.out.println(tds.text());\r\n        }\r\n    }\r\n\r\n       String singleString = sb.toString();\r\n      // System.out.println(singleString);\r\n      // myWriter.write(singleString);\r\n      // myWriter.close();\r\n    }\r\n}\r\n```\r\n\r\nI am expecting to print out the entire values of the td.","title":"Using Jsoup to print the content of HTML td, but the print stops at new york","body":"<p>I want to view the entire values of the webpage and then print each value, currently, my code stops at New York. How can I print out the entire data?</p>\n<p>This is my webpage:</p>\n<pre><code>&quot;https://studyinthestates.dhs.gov/sevis-data-mapping-tool/september-2023-stem-sevis-data-mapping-tool-data&quot;\n</code></pre>\n<p>Last 2 print values:</p>\n<p>NEW YORK NY MASTER'S SENEGAL FEMALE 3</p>\n<p>NEW YORK NY MASTER'S</p>\n<pre><code>import org.jsoup.Jsoup;\nimport java.io.IOException;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.util.*;\n\npublic class myProjectDataExtracter {\n    public static void main(String[] args) throws IOException{\n        StringBuilder sb = new StringBuilder();\n        //FileWriter myWriter \n\n        org.jsoup.nodes.Document doc = Jsoup.connect(&quot;https://studyinthestates.dhs.gov/sevis-data-mapping-tool/september-2023-stem-sevis-data-mapping-tool-data&quot;).get();\n    \n        for (org.jsoup.nodes.Element table : doc.select(&quot;table&quot;)) {\n        for (org.jsoup.nodes.Element row : table.select(&quot;tr&quot;)) {\n            org.jsoup.select.Elements tds = row.select(&quot;td&quot;);\n                System.out.println(tds.text());\n        }\n    }\n\n       String singleString = sb.toString();\n      // System.out.println(singleString);\n      // myWriter.write(singleString);\n      // myWriter.close();\n    }\n}\n</code></pre>\n<p>I am expecting to print out the entire values of the td.</p>\n"},{"tags":["java","spring","spring-boot","java-8","strategy-pattern"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587723650,"creation_date":1587723650,"answer_id":61406133,"question_id":61393584,"body_markdown":"I would say that enums and the strategy pattern don&#39;t really mix.\r\n\r\nThe ideal use case for an enum is something that represents an exhaustive set of choices. [`DayOfWeek`](https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html) representing Monday to Sunday, for example. The problem with using this, in addition to not being able to autowire any other beans, is that your enum will continue to grow as the number of validations increase.\r\n\r\nThe strategy pattern allows you to use a potentially infinite number of possible strategies, provided it obeys the contract. Take [`Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)`](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html), for example. There could be no exhaustive list of possible comparators, because it could never fulfill everyone&#39;s use-cases. \r\n\r\nIt makes more sense to define each of your possible strategies as a component \r\n\r\n    @Component \r\n    class NonNullValidationStrategy implements ValidationStrategy {\r\n        private final MyService service;\r\n         \r\n        //constructor\r\n       \r\n        @Override\r\n        public boolean isValid(MyClass foo) {\r\n            return foo != null;\r\n        }\r\n    }\r\n\r\nHow you would obtain an instance of the right strategy when you need it will depend on details you haven&#39;t provided. Maybe autowiring with a qualifier is a possibility.\r\n\r\n---\r\n\r\nSpring already has it&#39;s [own way of defining validations, via interfaces and annotations](https://docs.spring.io/spring/docs/4.1.x/spring-framework-reference/html/validation.html). I suggest you pursue that before rolling your own solution.","title":"Strategy Pattern using java 8 and service injection","body":"<p>I would say that enums and the strategy pattern don't really mix.</p>\n\n<p>The ideal use case for an enum is something that represents an exhaustive set of choices. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\"><code>DayOfWeek</code></a> representing Monday to Sunday, for example. The problem with using this, in addition to not being able to autowire any other beans, is that your enum will continue to grow as the number of validations increase.</p>\n\n<p>The strategy pattern allows you to use a potentially infinite number of possible strategies, provided it obeys the contract. Take <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html\" rel=\"nofollow noreferrer\"><code>Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</code></a>, for example. There could be no exhaustive list of possible comparators, because it could never fulfill everyone's use-cases. </p>\n\n<p>It makes more sense to define each of your possible strategies as a component </p>\n\n<pre><code>@Component \nclass NonNullValidationStrategy implements ValidationStrategy {\n    private final MyService service;\n\n    //constructor\n\n    @Override\n    public boolean isValid(MyClass foo) {\n        return foo != null;\n    }\n}\n</code></pre>\n\n<p>How you would obtain an instance of the right strategy when you need it will depend on details you haven't provided. Maybe autowiring with a qualifier is a possibility.</p>\n\n<hr>\n\n<p>Spring already has it's <a href=\"https://docs.spring.io/spring/docs/4.1.x/spring-framework-reference/html/validation.html\" rel=\"nofollow noreferrer\">own way of defining validations, via interfaces and annotations</a>. I suggest you pursue that before rolling your own solution.</p>\n"},{"tags":[],"owner":{"account_id":10463908,"reputation":1211,"user_id":7785738,"display_name":"Artem Ptushkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587725995,"creation_date":1587725995,"answer_id":61406811,"question_id":61393584,"body_markdown":"It&#39;d like to suggest using javax.validation groups, see more about it [here](https://reflectoring.io/bean-validation-with-spring-boot/) especially `@Validated(OnCreate.class)`\r\n\r\nIf you want to apply strategy pattern at the controller level and deeper than see [this article](https://medium.com/javarevisited/implementing-the-strategy-pattern-with-spring-de2bad3abc2f) and especially [**my comment**](https://medium.com/@art.ptushkin/it-is-not-appropriate-to-add-a-method-to-the-interface-which-is-needed-only-to-collect-a-map-c6f88098d17c), because there is described not a pretty clean solution.\r\n","title":"Strategy Pattern using java 8 and service injection","body":"<p>It'd like to suggest using javax.validation groups, see more about it <a href=\"https://reflectoring.io/bean-validation-with-spring-boot/\" rel=\"nofollow noreferrer\">here</a> especially <code>@Validated(OnCreate.class)</code></p>\n\n<p>If you want to apply strategy pattern at the controller level and deeper than see <a href=\"https://medium.com/javarevisited/implementing-the-strategy-pattern-with-spring-de2bad3abc2f\" rel=\"nofollow noreferrer\">this article</a> and especially <a href=\"https://medium.com/@art.ptushkin/it-is-not-appropriate-to-add-a-method-to-the-interface-which-is-needed-only-to-collect-a-map-c6f88098d17c\" rel=\"nofollow noreferrer\"><strong>my comment</strong></a>, because there is described not a pretty clean solution.</p>\n"}],"owner":{"account_id":2451696,"reputation":1833,"user_id":2137817,"accept_rate":45,"display_name":"user2137817"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698345452,"creation_date":1587663531,"question_id":61393584,"body_markdown":"I&#39;m trying to implement the Strategy Pattern for some custom validation that doesn&#39;t involve only validation input with basic operations but I do need to call some other services to validate the data.\r\n\r\nAt the beginning I used the example mentioned [here][1] which uses enums to have different strategies but of course it was not possible to inject my services in the enum so now I&#39;m looking at [this][2] that leverages to java 8 for more clarity.\r\n\r\nMy idea is to have an interface with has one method `validate()` and have generic input for different objects I could send it and then a class implementing that interface that would have different validations based on object type and dispatches requests to different services, but on the other hand I&#39;m kinda loosing the enum advantage on having different strategies which I could select for instance based on specific user settings.\r\n\r\nAny idea how to have both of these advantages?\r\n\r\n\r\n  [1]: https://dzone.com/articles/validations-using-enum\r\n  [2]: https://www.baeldung.com/java-strategy-pattern","title":"Strategy Pattern using java 8 and service injection","body":"<p>I'm trying to implement the Strategy Pattern for some custom validation that doesn't involve only validation input with basic operations but I do need to call some other services to validate the data.</p>\n\n<p>At the beginning I used the example mentioned <a href=\"https://dzone.com/articles/validations-using-enum\" rel=\"nofollow noreferrer\">here</a> which uses enums to have different strategies but of course it was not possible to inject my services in the enum so now I'm looking at <a href=\"https://www.baeldung.com/java-strategy-pattern\" rel=\"nofollow noreferrer\">this</a> that leverages to java 8 for more clarity.</p>\n\n<p>My idea is to have an interface with has one method <code>validate()</code> and have generic input for different objects I could send it and then a class implementing that interface that would have different validations based on object type and dispatches requests to different services, but on the other hand I'm kinda loosing the enum advantage on having different strategies which I could select for instance based on specific user settings.</p>\n\n<p>Any idea how to have both of these advantages?</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696861441,"post_id":77259594,"comment_id":136203665,"body_markdown":"Apart from that, I&#39;m wondering why you need to register a plugin for this. Can&#39;t you just put the function in `buildSrc` and call it directly from your buildscript?","body":"Apart from that, I&#39;m wondering why you need to register a plugin for this. Can&#39;t you just put the function in <code>buildSrc</code> and call it directly from your buildscript?"},{"owner":{"account_id":2381818,"reputation":2504,"user_id":2083679,"display_name":"Rob Hogan"},"score":0,"creation_date":1696861732,"post_id":77259594,"comment_id":136203738,"body_markdown":"@Jorn re `buildSrc` - for context, this public plugin is part of an app framework, and I&#39;m keen to minimise code in framework user space. I want to be able to say to our users &quot;add these two lines to your `settings.gradle`&quot;, rather than &quot;create this file and paste these functions in&quot;. I&#39;d also rather encapsulate the implementation so we can release patches as new plugin versions, rather than asking users to change code in their projects.","body":"@Jorn re <code>buildSrc</code> - for context, this public plugin is part of an app framework, and I&#39;m keen to minimise code in framework user space. I want to be able to say to our users &quot;add these two lines to your <code>settings.gradle</code>&quot;, rather than &quot;create this file and paste these functions in&quot;. I&#39;d also rather encapsulate the implementation so we can release patches as new plugin versions, rather than asking users to change code in their projects."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696861814,"post_id":77259594,"comment_id":136203758,"body_markdown":"I see. Well, the one thing I&#39;m fairly sure about is you can&#39;t just call functions from a map like that in Kotlin. At the very least, you&#39;d have to cast to something you can call `invoke` on.","body":"I see. Well, the one thing I&#39;m fairly sure about is you can&#39;t just call functions from a map like that in Kotlin. At the very least, you&#39;d have to cast to something you can call <code>invoke</code> on."},{"owner":{"account_id":2381818,"reputation":2504,"user_id":2083679,"display_name":"Rob Hogan"},"score":0,"creation_date":1696862202,"post_id":77259594,"comment_id":136203856,"body_markdown":"I&#39;m getting that impression. If that&#39;s the answer I&#39;m curious why though - naively, isn&#39;t it all just Java in the end? :) The consumer code (`settings.gradle`) is Groovy in both cases.","body":"I&#39;m getting that impression. If that&#39;s the answer I&#39;m curious why though - naively, isn&#39;t it all just Java in the end? :) The consumer code (<code>settings.gradle</code>) is Groovy in both cases."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696862264,"post_id":77259594,"comment_id":136203868,"body_markdown":"I&#39;m not too familiar with Groovy, but there might be some trickery in the Groovy compiler itself that allows such a feature. And that won&#39;t be the case for Kotlin.","body":"I&#39;m not too familiar with Groovy, but there might be some trickery in the Groovy compiler itself that allows such a feature. And that won&#39;t be the case for Kotlin."},{"owner":{"account_id":238127,"reputation":86152,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1696863531,"post_id":77259594,"comment_id":136204135,"body_markdown":"Groovy can do all sorts of not-typesafe-or-compiler-checked things. You can use any arbitrary text as if it were a variable and it will pull the value from your Gradle properties file. It must be using a lot of reflection under the hood.","body":"Groovy can do all sorts of not-typesafe-or-compiler-checked things. You can use any arbitrary text as if it were a variable and it will pull the value from your Gradle properties file. It must be using a lot of reflection under the hood."}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1698345440,"creation_date":1696885097,"answer_id":77261735,"question_id":77259594,"body_markdown":"Besides that usages of `ext` / `extra` / `extraProperties` are practically always a work-around for not doing something properly, the `extraProperties` you found are indeed what the Groovy DSL `ext` sugar also uses under the hood.\r\n\r\nYour problem is, that in your Kotlin version you set the value as a Kotlin function, and your Groovy consumer does not know how to call that. It needs something with a `call` method iirc. If you set the value for example to a closure (e.g. a `KotlinClosure1&lt;String, Any&gt;` instance), it should work like before.","title":"Is it possible to expose a top-level function from a Gradle settings plugin written in Kotlin?","body":"<p>Besides that usages of <code>ext</code> / <code>extra</code> / <code>extraProperties</code> are practically always a work-around for not doing something properly, the <code>extraProperties</code> you found are indeed what the Groovy DSL <code>ext</code> sugar also uses under the hood.</p>\n<p>Your problem is, that in your Kotlin version you set the value as a Kotlin function, and your Groovy consumer does not know how to call that. It needs something with a <code>call</code> method iirc. If you set the value for example to a closure (e.g. a <code>KotlinClosure1&lt;String, Any&gt;</code> instance), it should work like before.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86152,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696894813,"creation_date":1696894813,"answer_id":77262251,"question_id":77259594,"body_markdown":"From the [Gradle documentation here][1]:\r\n\r\n&gt; You may sometimes have to call Groovy methods that take Closure\r\n&gt; arguments from Kotlin code. For example, some third-party plugins\r\n&gt; written in Groovy expect closure arguments. In order to provide a way\r\n&gt; to construct closures while preserving Kotlin’s strong typing, two\r\n&gt; helper methods exist:\r\n&gt; \r\n&gt; * `closureOf&lt;T&gt; {}`\r\n&gt; \r\n&gt; * `delegateClosureOf&lt;T&gt; {}`\r\n&gt; \r\n&gt; Both methods are useful in different circumstances and depend upon the\r\n&gt; method you are passing the Closure instance into.\r\n\r\nBut then it says:\r\n\r\n&gt; These two utility functions are useful for configuration closures, but\r\n&gt; some plugins might expect Groovy closures for other purposes. The\r\n&gt; `KotlinClosure0` to `KotlinClosure2` types allows adapting Kotlin\r\n&gt; functions to Groovy closures with more flexibility.\r\n\r\nYou have a single parameter. A Closure must always have a return type. So I think you need a `KotlinClosure1&lt;String, Any&gt;`. (I didn&#39;t test this myself.)\r\n\r\n```\r\nclass MyPlugin : Plugin&lt;Settings&gt; {\r\n    override fun apply(settings: Settings) {\r\n        settings.extra[&quot;sayHello&quot;] = KotlinClosure1&lt;String, Any&gt;({ name -&gt;\r\n            println(&quot;Hello, $name&quot;)\r\n        })\r\n    }\r\n}\r\n```\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html#groovy_closures_from_kotlin","title":"Is it possible to expose a top-level function from a Gradle settings plugin written in Kotlin?","body":"<p>From the <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html#groovy_closures_from_kotlin\" rel=\"nofollow noreferrer\">Gradle documentation here</a>:</p>\n<blockquote>\n<p>You may sometimes have to call Groovy methods that take Closure\narguments from Kotlin code. For example, some third-party plugins\nwritten in Groovy expect closure arguments. In order to provide a way\nto construct closures while preserving Kotlin’s strong typing, two\nhelper methods exist:</p>\n<ul>\n<li><p><code>closureOf&lt;T&gt; {}</code></p>\n</li>\n<li><p><code>delegateClosureOf&lt;T&gt; {}</code></p>\n</li>\n</ul>\n<p>Both methods are useful in different circumstances and depend upon the\nmethod you are passing the Closure instance into.</p>\n</blockquote>\n<p>But then it says:</p>\n<blockquote>\n<p>These two utility functions are useful for configuration closures, but\nsome plugins might expect Groovy closures for other purposes. The\n<code>KotlinClosure0</code> to <code>KotlinClosure2</code> types allows adapting Kotlin\nfunctions to Groovy closures with more flexibility.</p>\n</blockquote>\n<p>You have a single parameter. A Closure must always have a return type. So I think you need a <code>KotlinClosure1&lt;String, Any&gt;</code>. (I didn't test this myself.)</p>\n<pre><code>class MyPlugin : Plugin&lt;Settings&gt; {\n    override fun apply(settings: Settings) {\n        settings.extra[&quot;sayHello&quot;] = KotlinClosure1&lt;String, Any&gt;({ name -&gt;\n            println(&quot;Hello, $name&quot;)\n        })\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2381818,"reputation":2504,"user_id":2083679,"display_name":"Rob Hogan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77261735,"answer_count":2,"score":0,"last_activity_date":1698345440,"creation_date":1696861156,"question_id":77259594,"body_markdown":"I have a working Gradle Settings plugin written in Groovy that makes a top-level function available to consumer `settings.gradle`s when applied. For consistency with other projects, I&#39;d like to convert it to Kotlin, but I can&#39;t find a way to do it.\r\n\r\n### In a Groovy plugin (works)\r\n```java\r\npackage com.example.sayhello\r\n\r\nimport org.gradle.api.Plugin\r\nimport org.gradle.api.initialization.Settings\r\n\r\nclass MyPlugin implements Plugin&lt;Settings&gt; {\r\n    @Override\r\n    void apply(Settings settings) {\r\n        settings.ext.sayHello = { name -&gt; println(&quot;Hello, $name&quot;) }\r\n    }\r\n}\r\n \r\n```\r\n\r\n```\r\n// settings.gradle\r\nplugins {\r\n    com.example.sayhello\r\n}\r\n\r\nsayHello(&quot;Rob&quot;)\r\n```\r\n\r\n### In a Kotlin plugin\r\n\r\n`settings.ext` does not compile\r\n\r\n```kotlin\r\nclass MyPlugin : Plugin&lt;Settings&gt; {\r\n    override fun apply(settings: Settings) {\r\n        settings.ext.sayHello = fun(name: String) {\r\n            println(&quot;Hello, $name&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n*fails to compile, with*\r\n```\r\nUnresolved reference: ext\r\n```\r\n\r\n`settings.extensions.extraProperties`, which seems to be the closest equivalent, doesn&#39;t seem to be exposed as a top level function:\r\n\r\n```kotlin\r\nclass MyPlugin : Plugin&lt;Settings&gt; {\r\n    override fun apply(settings: Settings) {\r\n        settings.extensions.extraProperties[&quot;sayHello&quot;] = fun(name: String) {\r\n            println(&quot;Hello, $name&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n*leads to, when building a consumer `settings.gradle`*\r\n```\r\nCould not find method sayHello() for arguments [Rob] on settings &#39;android&#39; of type org.gradle.initialization.DefaultSettings\r\n```\r\n\r\n**Is there any way to convert this Groovy plugin to Kotlin without changing the public API? If not, what constraint of Kotlin prevents something Groovy/Java allows?**","title":"Is it possible to expose a top-level function from a Gradle settings plugin written in Kotlin?","body":"<p>I have a working Gradle Settings plugin written in Groovy that makes a top-level function available to consumer <code>settings.gradle</code>s when applied. For consistency with other projects, I'd like to convert it to Kotlin, but I can't find a way to do it.</p>\n<h3>In a Groovy plugin (works)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.sayhello\n\nimport org.gradle.api.Plugin\nimport org.gradle.api.initialization.Settings\n\nclass MyPlugin implements Plugin&lt;Settings&gt; {\n    @Override\n    void apply(Settings settings) {\n        settings.ext.sayHello = { name -&gt; println(&quot;Hello, $name&quot;) }\n    }\n}\n \n</code></pre>\n<pre><code>// settings.gradle\nplugins {\n    com.example.sayhello\n}\n\nsayHello(&quot;Rob&quot;)\n</code></pre>\n<h3>In a Kotlin plugin</h3>\n<p><code>settings.ext</code> does not compile</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyPlugin : Plugin&lt;Settings&gt; {\n    override fun apply(settings: Settings) {\n        settings.ext.sayHello = fun(name: String) {\n            println(&quot;Hello, $name&quot;)\n        }\n    }\n}\n</code></pre>\n<p><em>fails to compile, with</em></p>\n<pre><code>Unresolved reference: ext\n</code></pre>\n<p><code>settings.extensions.extraProperties</code>, which seems to be the closest equivalent, doesn't seem to be exposed as a top level function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyPlugin : Plugin&lt;Settings&gt; {\n    override fun apply(settings: Settings) {\n        settings.extensions.extraProperties[&quot;sayHello&quot;] = fun(name: String) {\n            println(&quot;Hello, $name&quot;)\n        }\n    }\n}\n</code></pre>\n<p><em>leads to, when building a consumer <code>settings.gradle</code></em></p>\n<pre><code>Could not find method sayHello() for arguments [Rob] on settings 'android' of type org.gradle.initialization.DefaultSettings\n</code></pre>\n<p><strong>Is there any way to convert this Groovy plugin to Kotlin without changing the public API? If not, what constraint of Kotlin prevents something Groovy/Java allows?</strong></p>\n"},{"tags":["java","android","android-studio","android-emulator"],"comments":[{"owner":{"account_id":289430,"reputation":1286,"user_id":590407,"accept_rate":75,"display_name":"grattmandu03"},"score":1,"creation_date":1410252127,"post_id":25740067,"comment_id":40245845,"body_markdown":"Please consider specifying your question. Maybe try to follow some tutorial on internet.","body":"Please consider specifying your question. Maybe try to follow some tutorial on internet."},{"owner":{"account_id":4044774,"reputation":3998,"user_id":3326331,"accept_rate":73,"display_name":"Sagar Pilkhwal"},"score":0,"creation_date":1410252182,"post_id":25740067,"comment_id":40245869,"body_markdown":"look into this [post](http://stackoverflow.com/q/22667030/3326331)","body":"look into this <a href=\"http://stackoverflow.com/q/22667030/3326331\">post</a>"},{"owner":{"account_id":3489117,"reputation":2654,"user_id":2919232,"accept_rate":63,"display_name":"Rohit"},"score":0,"creation_date":1410252227,"post_id":25740067,"comment_id":40245885,"body_markdown":"emulator disconnected??Check for api level in emulator and in manifest file. I am sure It is out of range for emulator","body":"emulator disconnected??Check for api level in emulator and in manifest file. I am sure It is out of range for emulator"}],"answers":[{"tags":[],"owner":{"account_id":15649777,"reputation":38,"user_id":11291380,"display_name":"Ekestfa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554120131,"creation_date":1554120131,"answer_id":55454672,"question_id":25740067,"body_markdown":"Please check **Tools&gt;Connection Assistant**.\r\nOr you can follow this manually;\r\n\r\n1.Run your Hello World program and open your emulator.\r\n\r\n2.Follow these on your emulator Android OS;\r\n\r\n(1) On Android 8.0 and higher, go to **Settings &gt; System &gt; About phone**(or **About emulated device**) and tap Build number seven times.\r\n\r\n(2) On Android 4.2 through 7.1.2, go to **Settings &gt; About phone**(or **About emulated device**) and tap Build number seven times.\r\n\r\n3.Return to the main Settings menu to find Developer options at the bottom. In the Developer options menu, scroll down and enable USB debugging.\r\n\r\nResult;\r\n[Usb Debugging Connected][1]\r\n\r\n\r\nAfter did these, you can run your project;\r\n[Hello World][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CAYa2.png\r\n  [2]: https://i.stack.imgur.com/edBlY.png","title":"Android studio emulator disconnected","body":"<p>Please check <strong>Tools>Connection Assistant</strong>.\nOr you can follow this manually;</p>\n\n<p>1.Run your Hello World program and open your emulator.</p>\n\n<p>2.Follow these on your emulator Android OS;</p>\n\n<p>(1) On Android 8.0 and higher, go to <strong>Settings > System > About phone</strong>(or <strong>About emulated device</strong>) and tap Build number seven times.</p>\n\n<p>(2) On Android 4.2 through 7.1.2, go to <strong>Settings > About phone</strong>(or <strong>About emulated device</strong>) and tap Build number seven times.</p>\n\n<p>3.Return to the main Settings menu to find Developer options at the bottom. In the Developer options menu, scroll down and enable USB debugging.</p>\n\n<p>Result;\n<a href=\"https://i.stack.imgur.com/CAYa2.png\" rel=\"nofollow noreferrer\">Usb Debugging Connected</a></p>\n\n<p>After did these, you can run your project;\n<a href=\"https://i.stack.imgur.com/edBlY.png\" rel=\"nofollow noreferrer\">Hello World</a></p>\n"}],"owner":{"account_id":5003876,"reputation":11,"user_id":4022055,"display_name":"hunny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1477,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698345306,"creation_date":1410251848,"question_id":25740067,"body_markdown":"Please guide me i am beginner in android.\r\nI don&#39;t know what going on i simply check the emulator in simple hello world program but emulator disconnected.\r\nno error in program and also not show in log cat.","title":"Android studio emulator disconnected","body":"<p>Please guide me i am beginner in android.\nI don't know what going on i simply check the emulator in simple hello world program but emulator disconnected.\nno error in program and also not show in log cat.</p>\n"},{"tags":["java","spring","spring-mvc","spring-resttemplate"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1698346940,"post_id":77369559,"comment_id":136397369,"body_markdown":"Does this answer your question? [How to forward large files with RestTemplate?](https://stackoverflow.com/questions/15781885/how-to-forward-large-files-with-resttemplate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15781885/how-to-forward-large-files-with-resttemplate\">How to forward large files with RestTemplate?</a>"}],"owner":{"account_id":11337142,"reputation":424,"user_id":8312606,"display_name":"SauriBabu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698345165,"creation_date":1698345165,"question_id":77369559,"body_markdown":"In my application we are reading more than 1 million rows from DB. Storing this data in Csv file in streaming manner by using Jdbc ResultSet. OpenCsv library is used to create CSV file which is zipped using ZipOutputStream. Now I want to send this file to another microService. I am using Spring restTemplate for this. Problem is while doing post() request entire file is loaded in memory and we start getting OutOfMemory issue. I have read RestTemplate has chunked transfer mode which will take more time to send data but Memory consumption should remain constant as it does not buffer entire data in memory. I am trying to use below code but looks like chunking is not working, I am still noticing OOM and memory consumption is spiked at same rate which I can verify on Grafana. Is there any way to manage this requirement ? I am sharing code tried by me Could anyone please help me. I am using springBoot 2.7 and Java17 with G1 GC enabled. \r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n    body.add(&quot;file&quot;, new FileSystemResource(&quot;&quot;));\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n    SimpleClientHttpRequestFactory httpRequestFactory = new SimpleClientHttpRequestFactory();\r\n    httpRequestFactory.setBufferRequestBody(false);\r\n    httpRequestFactory.setChunkSize(100);\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.setRequestFactory(httpRequestFactory);\r\n\r\n    restTemplate.postForEntity(URI.create(&quot;myUrl&quot;), requestEntity, String.class); \r\n\r\n","title":"Handling OOM issue while sending 1GB Binary file using Spring RestTemplate","body":"<p>In my application we are reading more than 1 million rows from DB. Storing this data in Csv file in streaming manner by using Jdbc ResultSet. OpenCsv library is used to create CSV file which is zipped using ZipOutputStream. Now I want to send this file to another microService. I am using Spring restTemplate for this. Problem is while doing post() request entire file is loaded in memory and we start getting OutOfMemory issue. I have read RestTemplate has chunked transfer mode which will take more time to send data but Memory consumption should remain constant as it does not buffer entire data in memory. I am trying to use below code but looks like chunking is not working, I am still noticing OOM and memory consumption is spiked at same rate which I can verify on Grafana. Is there any way to manage this requirement ? I am sharing code tried by me Could anyone please help me. I am using springBoot 2.7 and Java17 with G1 GC enabled.</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.MULTIPART_FORM_DATA);\n\nMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\nbody.add(&quot;file&quot;, new FileSystemResource(&quot;&quot;));\n\nHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n\nSimpleClientHttpRequestFactory httpRequestFactory = new SimpleClientHttpRequestFactory();\nhttpRequestFactory.setBufferRequestBody(false);\nhttpRequestFactory.setChunkSize(100);\n\nRestTemplate restTemplate = new RestTemplate();\nrestTemplate.setRequestFactory(httpRequestFactory);\n\nrestTemplate.postForEntity(URI.create(&quot;myUrl&quot;), requestEntity, String.class); \n</code></pre>\n"},{"tags":["java","windows","gradle","intellij-idea","groovy"],"comments":[{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1687956282,"post_id":76573313,"comment_id":135008969,"body_markdown":"unlike that other question, which suffers seo issues because, e.g. groovy is misspelled, i will edit this question to refine it until a solution is found.","body":"unlike that other question, which suffers seo issues because, e.g. groovy is misspelled, i will edit this question to refine it until a solution is found."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1687987850,"post_id":76573313,"comment_id":135015328,"body_markdown":"Could you please share sample project example demonstrating the issue?","body":"Could you please share sample project example demonstrating the issue?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1688085971,"post_id":76573313,"comment_id":135030171,"body_markdown":"@DaveAnkin Questions can be edited by anyone (or at least put in the revision queue).","body":"@DaveAnkin Questions can be edited by anyone (or at least put in the revision queue)."},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1688092530,"post_id":76573313,"comment_id":135030667,"body_markdown":"with exceptions: https://meta.stackexchange.com/a/84398","body":"with exceptions: <a href=\"https://meta.stackexchange.com/a/84398\">meta.stackexchange.com/a/84398</a>"}],"answers":[{"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698344960,"creation_date":1698344960,"answer_id":77369550,"question_id":76573313,"body_markdown":"one answer i have come across is offline mode, by putting\r\n\r\n```groovy\r\n// startParameter.offline = true\r\n```\r\n\r\ninto your `~/.gradle/init.d/offline.gradle`, like so:\r\n\r\n```shell\r\necho &#39;// startParameter.offline = true&#39; &gt; ~/.gradle/init.d/offline.gradle\r\n```\r\n\r\ni have then developed a couple of shell functions to switch it on and off as the ide struggles or doesn&#39;t:\r\n\r\n```shell\r\ngradle_online() { sed -i &#39;s/^\\(startParameter.offline\\)/\\/\\/ \\1/&#39; ~/.gradle/init.d/offline.gradle; }\r\ngradle_offline() { sed -i &#39;1s#^// *##&#39; ~/.gradle/init.d/offline.gradle; }\r\n```","title":"Intellij Gradle Sync re-downloads groovy runtime jars every time (groovy-all, groovy-datetime, groovy-util)","body":"<p>one answer i have come across is offline mode, by putting</p>\n<pre><code>// startParameter.offline = true\n</code></pre>\n<p>into your <code>~/.gradle/init.d/offline.gradle</code>, like so:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo '// startParameter.offline = true' &gt; ~/.gradle/init.d/offline.gradle\n</code></pre>\n<p>i have then developed a couple of shell functions to switch it on and off as the ide struggles or doesn't:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>gradle_online() { sed -i 's/^\\(startParameter.offline\\)/\\/\\/ \\1/' ~/.gradle/init.d/offline.gradle; }\ngradle_offline() { sed -i '1s#^// *##' ~/.gradle/init.d/offline.gradle; }\n</code></pre>\n"}],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698344960,"creation_date":1687956249,"question_id":76573313,"body_markdown":"It appears that the caching is broken on windows for newer versions of gradle and on windows specifically. the [workaround being described in this question is also not working](https://stackoverflow.com/questions/74519672/why-my-gradle-sync-always-download-grooy-xxxx-3-0-9-pom-every-time).","title":"Intellij Gradle Sync re-downloads groovy runtime jars every time (groovy-all, groovy-datetime, groovy-util)","body":"<p>It appears that the caching is broken on windows for newer versions of gradle and on windows specifically. the <a href=\"https://stackoverflow.com/questions/74519672/why-my-gradle-sync-always-download-grooy-xxxx-3-0-9-pom-every-time\">workaround being described in this question is also not working</a>.</p>\n"},{"tags":["java","spring","maven","build","suppress-warnings"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1698343571,"post_id":77369361,"comment_id":136396851,"body_markdown":"`Failed to execute goal on project mypdf: Could not resolve dependencies for project mypdf:mypdf:war:1.0: The following artifacts could not be resolved: commonTools:commonTools:jar:1.0, jakarta-oro:jakarta-oro:jar:2.0.8, jFdfTk:jFdfTk:jar:1.0, ddchanger:ddchanger:jar:1.0, com.oracle:ojdbc14:jar:10.2.0.2.0, cwmfa.io.swagger:mfa-swagger-java-client-dm:jar:1.0.0: Could not find artifact commonTools:commonTools:jar:1.0 in maven.oracle.com` aren&#39;t all these dependencies very old? Are they still available on [Maven Repository](https://mvnrepository.com/)?","body":"<code>Failed to execute goal on project mypdf: Could not resolve dependencies for project mypdf:mypdf:war:1.0: The following artifacts could not be resolved: commonTools:commonTools:jar:1.0, jakarta-oro:jakarta-oro:jar:2.0.8, jFdfTk:jFdfTk:jar:1.0, ddchanger:ddchanger:jar:1.0, com.oracle:ojdbc14:jar:10.2.0.2.0, cwmfa.io.swagger:mfa-swagger-java-client-dm:jar:1.0.0: Could not find artifact commonTools:commonTools:jar:1.0 in maven.oracle.com</code> aren&#39;t all these dependencies very old? Are they still available on <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">Maven Repository</a>?"},{"owner":{"account_id":15446251,"reputation":3033,"user_id":11143113,"display_name":"Ashar"},"score":0,"creation_date":1698344089,"post_id":77369361,"comment_id":136396943,"body_markdown":"@MarcLeBihan Yes, I&#39;m trying to suppress the warnings so my build does not fail but I am unable to.","body":"@MarcLeBihan Yes, I&#39;m trying to suppress the warnings so my build does not fail but I am unable to."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698344106,"post_id":77369361,"comment_id":136396945,"body_markdown":"Warnings usually don&#39;t cause builds to fail. Your build fails because of the **error** that @MarcLeBihan quoted. You should resolve the errors rather than trying to &#39;suppress&#39; them.","body":"Warnings usually don&#39;t cause builds to fail. Your build fails because of the <b>error</b> that @MarcLeBihan quoted. You should resolve the errors rather than trying to &#39;suppress&#39; them."},{"owner":{"account_id":15446251,"reputation":3033,"user_id":11143113,"display_name":"Ashar"},"score":0,"creation_date":1698344707,"post_id":77369361,"comment_id":136397048,"body_markdown":"Can I add any repository that has the missing jars?","body":"Can I add any repository that has the missing jars?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698356097,"post_id":77369361,"comment_id":136398779,"body_markdown":"Also you should upgrade your tools like Maven etc. because the versions you are using is a bit outdated...","body":"Also you should upgrade your tools like Maven etc. because the versions you are using is a bit outdated..."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698344788,"creation_date":1698344788,"answer_id":77369532,"question_id":77369361,"body_markdown":"Your project is referencing dependencies that are not available and that causes it to fail. You need to either find the correct dependencies or find replacements. Another option is to replace completely the code that depends on those dependencies if possible. The later is not always possible.\r\n\r\nI&#39;ll make an educated guess that most if not all of these dependencies fall into two buckets:\r\n\r\n 1. Dependencies that were only locally available to Maven. \r\n 1. Dependencies that were in Maven Central with some coordinated but were moved or retired since some time ago.\r\n\r\nFor 1) you need to install those dependencies in the local Maven repository of were the build is running, or in a Maven repository.\r\n\r\nFor 2) you need to search the dependencies and find if they were moved or if the version used is no longer available. In the later case you may be able to find a newer version.","title":"JAVA MAVEN BUILD fails. Unable to SUPRESS WARNINGS","body":"<p>Your project is referencing dependencies that are not available and that causes it to fail. You need to either find the correct dependencies or find replacements. Another option is to replace completely the code that depends on those dependencies if possible. The later is not always possible.</p>\n<p>I'll make an educated guess that most if not all of these dependencies fall into two buckets:</p>\n<ol>\n<li>Dependencies that were only locally available to Maven.</li>\n<li>Dependencies that were in Maven Central with some coordinated but were moved or retired since some time ago.</li>\n</ol>\n<p>For 1) you need to install those dependencies in the local Maven repository of were the build is running, or in a Maven repository.</p>\n<p>For 2) you need to search the dependencies and find if they were moved or if the version used is no longer available. In the later case you may be able to find a newer version.</p>\n"}],"owner":{"account_id":15446251,"reputation":3033,"user_id":11143113,"display_name":"Ashar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77369532,"answer_count":1,"score":0,"last_activity_date":1698344788,"creation_date":1698343031,"question_id":77369361,"body_markdown":"I’m using maven version 3.6.3\r\n\r\n`mvn package` command fails with the below error message:\r\n\r\n```log\r\n    [INFO] Scanning for projects...\r\n    \r\n    [INFO]\r\n    \r\n    [INFO] ---------------------&lt; mypdf:mypdf &gt;----------------------\r\n    \r\n    [INFO] Building mypdf 1.0\r\n    \r\n    [INFO] --------------------------------[ war ]---------------------------------\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/commonTools/commonTools/1.0/commonTools-1.0.pom\r\n    \r\n    Warning:  The POM for commonTools:commonTools:jar:1.0 is missing, no dependency information available\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/jakarta-oro/jakarta-oro/2.0.8/jakarta-oro-2.0.8.pom\r\n    \r\n    Warning:  The POM for jakarta-oro:jakarta-oro:jar:2.0.8 is missing, no dependency information available\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/jFdfTk/jFdfTk/1.0/jFdfTk-1.0.pom\r\n    \r\n    Warning:  The POM for jFdfTk:jFdfTk:jar:1.0 is missing, no dependency information available\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/ddchanger/ddchanger/1.0/ddchanger-1.0.pom\r\n    \r\n    Warning:  The POM for ddchanger:ddchanger:jar:1.0 is missing, no dependency information available\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/cwmfa/io/swagger/mfa-swagger-java-client-dm/1.0.0/mfa-swagger-java-client-dm-1.0.0.pom\r\n    \r\n    Warning:  The POM for cwmfa.io.swagger:mfa-swagger-java-client-dm:jar:1.0.0 is missing, no dependency information available\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/commonTools/commonTools/1.0/commonTools-1.0.jar\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/jakarta-oro/jakarta-oro/2.0.8/jakarta-oro-2.0.8.jar\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/jFdfTk/jFdfTk/1.0/jFdfTk-1.0.jar\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/ddchanger/ddchanger/1.0/ddchanger-1.0.jar\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/com/oracle/ojdbc14/10.2.0.2.0/ojdbc14-10.2.0.2.0.jar\r\n    \r\n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/cwmfa/io/swagger/mfa-swagger-java-client-dm/1.0.0/mfa-swagger-java-client-dm-1.0.0.jar\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    [INFO] BUILD FAILURE\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    [INFO] Total time:  2.165 s\r\n    \r\n    [INFO] Finished at: 2023-10-26T12:43:04-05:00\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    Error:  Failed to execute goal on project mypdf: Could not resolve dependencies for project mypdf:mypdf:war:1.0: The following artifacts could not be resolved: commonTools:commonTools:jar:1.0, jakarta-oro:jakarta-oro:jar:2.0.8, jFdfTk:jFdfTk:jar:1.0, ddchanger:ddchanger:jar:1.0, com.oracle:ojdbc14:jar:10.2.0.2.0, cwmfa.io.swagger:mfa-swagger-java-client-dm:jar:1.0.0: Could not find artifact commonTools:commonTools:jar:1.0 in maven.oracle.com (https://repo1.maven.org/maven2/) -&gt; [Help 1]\r\n    \r\n    Error: \r\n    \r\n    Error:  To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    \r\n    Error:  Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    Error: \r\n    \r\n    Error:  For more information about the errors and possible solutions, please read the following articles:\r\n    \r\n    Error:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n    \r\n    Error: Process completed with exit code 1.\r\n```\r\n\r\nI then tried to suppress the error by adding the below under `&lt;profiles&gt;` in `&lt;MAVEN_HOME&gt;\\conf\\settings.xml` but it did not help.\r\n\r\n```xml\r\n      &lt;profiles&gt;\r\n    \r\n        &lt;profile&gt;\r\n    \r\n            &lt;id&gt;ignore-missing-pom-warnings&lt;/id&gt;\r\n    \r\n            &lt;activation&gt;\r\n    \r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \r\n            &lt;/activation&gt;\r\n    \r\n            &lt;properties&gt;\r\n    \r\n                &lt;maven.compiler.failOnMissingPom&gt;false&lt;/maven.compiler.failOnMissingPom&gt;\r\n    \r\n            &lt;/properties&gt;\r\n    \r\n        &lt;/profile&gt;\r\n    \r\n        &lt;!-- profile\r\n    \r\n         | Specifies a set of introductions to the build process, to be activated using one or more of the\r\n    \r\n    ….\r\n    \r\n    ……\r\n```\r\n \r\n\r\nCan you please suggest how can I address or suppress the warnings in the mvn build process?\r\n","title":"JAVA MAVEN BUILD fails. Unable to SUPRESS WARNINGS","body":"<p>I’m using maven version 3.6.3</p>\n<p><code>mvn package</code> command fails with the below error message:</p>\n<pre><code>    [INFO] Scanning for projects...\n    \n    [INFO]\n    \n    [INFO] ---------------------&lt; mypdf:mypdf &gt;----------------------\n    \n    [INFO] Building mypdf 1.0\n    \n    [INFO] --------------------------------[ war ]---------------------------------\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/commonTools/commonTools/1.0/commonTools-1.0.pom\n    \n    Warning:  The POM for commonTools:commonTools:jar:1.0 is missing, no dependency information available\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/jakarta-oro/jakarta-oro/2.0.8/jakarta-oro-2.0.8.pom\n    \n    Warning:  The POM for jakarta-oro:jakarta-oro:jar:2.0.8 is missing, no dependency information available\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/jFdfTk/jFdfTk/1.0/jFdfTk-1.0.pom\n    \n    Warning:  The POM for jFdfTk:jFdfTk:jar:1.0 is missing, no dependency information available\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/ddchanger/ddchanger/1.0/ddchanger-1.0.pom\n    \n    Warning:  The POM for ddchanger:ddchanger:jar:1.0 is missing, no dependency information available\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/cwmfa/io/swagger/mfa-swagger-java-client-dm/1.0.0/mfa-swagger-java-client-dm-1.0.0.pom\n    \n    Warning:  The POM for cwmfa.io.swagger:mfa-swagger-java-client-dm:jar:1.0.0 is missing, no dependency information available\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/commonTools/commonTools/1.0/commonTools-1.0.jar\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/jakarta-oro/jakarta-oro/2.0.8/jakarta-oro-2.0.8.jar\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/jFdfTk/jFdfTk/1.0/jFdfTk-1.0.jar\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/ddchanger/ddchanger/1.0/ddchanger-1.0.jar\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/com/oracle/ojdbc14/10.2.0.2.0/ojdbc14-10.2.0.2.0.jar\n    \n    Downloading from maven.oracle.com: https://repo1.maven.org/maven2/cwmfa/io/swagger/mfa-swagger-java-client-dm/1.0.0/mfa-swagger-java-client-dm-1.0.0.jar\n    \n    [INFO] ------------------------------------------------------------------------\n    \n    [INFO] BUILD FAILURE\n    \n    [INFO] ------------------------------------------------------------------------\n    \n    [INFO] Total time:  2.165 s\n    \n    [INFO] Finished at: 2023-10-26T12:43:04-05:00\n    \n    [INFO] ------------------------------------------------------------------------\n    \n    Error:  Failed to execute goal on project mypdf: Could not resolve dependencies for project mypdf:mypdf:war:1.0: The following artifacts could not be resolved: commonTools:commonTools:jar:1.0, jakarta-oro:jakarta-oro:jar:2.0.8, jFdfTk:jFdfTk:jar:1.0, ddchanger:ddchanger:jar:1.0, com.oracle:ojdbc14:jar:10.2.0.2.0, cwmfa.io.swagger:mfa-swagger-java-client-dm:jar:1.0.0: Could not find artifact commonTools:commonTools:jar:1.0 in maven.oracle.com (https://repo1.maven.org/maven2/) -&gt; [Help 1]\n    \n    Error: \n    \n    Error:  To see the full stack trace of the errors, re-run Maven with the -e switch.\n    \n    Error:  Re-run Maven using the -X switch to enable full debug logging.\n    \n    Error: \n    \n    Error:  For more information about the errors and possible solutions, please read the following articles:\n    \n    Error:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n    \n    Error: Process completed with exit code 1.\n</code></pre>\n<p>I then tried to suppress the error by adding the below under <code>&lt;profiles&gt;</code> in <code>&lt;MAVEN_HOME&gt;\\conf\\settings.xml</code> but it did not help.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;profiles&gt;\n    \n        &lt;profile&gt;\n    \n            &lt;id&gt;ignore-missing-pom-warnings&lt;/id&gt;\n    \n            &lt;activation&gt;\n    \n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n    \n            &lt;/activation&gt;\n    \n            &lt;properties&gt;\n    \n                &lt;maven.compiler.failOnMissingPom&gt;false&lt;/maven.compiler.failOnMissingPom&gt;\n    \n            &lt;/properties&gt;\n    \n        &lt;/profile&gt;\n    \n        &lt;!-- profile\n    \n         | Specifies a set of introductions to the build process, to be activated using one or more of the\n    \n    ….\n    \n    ……\n</code></pre>\n<p>Can you please suggest how can I address or suppress the warnings in the mvn build process?</p>\n"},{"tags":["java","hadoop","jboss"],"answers":[{"tags":[],"owner":{"account_id":7442880,"reputation":177,"user_id":5660095,"display_name":"Jorge Alberto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472148249,"creation_date":1472148249,"answer_id":39152012,"question_id":37552080,"body_markdown":"The problem is Hadoop 2.7 uses jersey 1.9","title":"Hadoop, Jersey, and JBoss: application won&#39;t start","body":"<p>The problem is Hadoop 2.7 uses jersey 1.9</p>\n"},{"tags":[],"owner":{"account_id":9965608,"reputation":221,"user_id":7373398,"display_name":"Miroslaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484838179,"creation_date":1484838179,"answer_id":41745042,"question_id":37552080,"body_markdown":"Within this error I had to remove hadoop dependencies in version: 2.6.0-mr1-cdh5.7.4\r\n\r\nand add jersey-server one:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.19.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Hadoop, Jersey, and JBoss: application won&#39;t start","body":"<p>Within this error I had to remove hadoop dependencies in version: 2.6.0-mr1-cdh5.7.4</p>\n\n<p>and add jersey-server one:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;version&gt;1.19.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":270905,"reputation":1480,"user_id":561139,"accept_rate":65,"display_name":"Bj&#248;rn Stenfeldt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496169873,"creation_date":1496169873,"answer_id":44269672,"question_id":37552080,"body_markdown":"For me bumping solr-solrj and solr-core from 6.2.1 to 6.5.1 fixed the issue, although I&#39;m still seeing a warning about UserService. It was a strange error, because it appeared from one day to another, without making any changes.","title":"Hadoop, Jersey, and JBoss: application won&#39;t start","body":"<p>For me bumping solr-solrj and solr-core from 6.2.1 to 6.5.1 fixed the issue, although I'm still seeing a warning about UserService. It was a strange error, because it appeared from one day to another, without making any changes.</p>\n"},{"tags":[],"owner":{"account_id":20595216,"reputation":451,"user_id":15117834,"display_name":"Maxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698344438,"creation_date":1698344438,"answer_id":77369492,"question_id":37552080,"body_markdown":"I stumbled across this issue when using solr-core, had to remove the hadoop dependencies to fix this.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n    &lt;artifactId&gt;solr-core&lt;/artifactId&gt;\r\n    &lt;version&gt;${version.solr}&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;!-- Exclude Hadoop dependencies --&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;!-- Add more exclusions if needed --&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Hadoop, Jersey, and JBoss: application won&#39;t start","body":"<p>I stumbled across this issue when using solr-core, had to remove the hadoop dependencies to fix this.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n    &lt;artifactId&gt;solr-core&lt;/artifactId&gt;\n    &lt;version&gt;${version.solr}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;!-- Exclude Hadoop dependencies --&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;*&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;!-- Add more exclusions if needed --&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1535,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1698344438,"creation_date":1464715612,"question_id":37552080,"body_markdown":"I know barely anything about JBoss. Never touched it ever before yesterday, still don&#39;t really understand it. But, one of my company&#39;s clients is using it to deploy our application, and our latest update broke their configuration, so I&#39;m trying to solve it.\r\n\r\nAnyway, here&#39;s the version info:\r\n\r\nHadoop: 2.7.2\r\n\r\nJersey: 2.3\r\n\r\nJBoss: 6.1\r\n\r\nOS: Windows (I doubt this is OS-specific, that&#39;s just the environment I&#39;m working on this in)\r\n\r\nWe recently added a Hadoop connector module to our application, and that seems to be what&#39;s causing the failure. I&#39;ve been able to reproduce the issue, here is the stack trace:\r\n\r\n    13:32:39,857 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.deployment.unit.&quot;eip.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;eip.war&quot;.INSTALL: JBAS018733: Failed to process phase INSTALL of deployment &quot;eip.war&quot;\r\n            at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:127) [jboss-as-server-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\r\n            at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1]\r\n            at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_65]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_65]\r\n            at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_65]\r\n    Caused by: java.lang.LinkageError: Failed to link org/apache/hadoop/hdfs/web/resources/UserProvider (Module &quot;deployment.eip.war:main&quot; from Service Module Loader)\r\n            at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:428) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:261) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:76) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.Module.loadModuleClass(Module.java:548) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:189) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:443) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:431) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:373) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:118) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.as.web.deployment.ServletContainerInitializerDeploymentProcessor.loadClassInfoSet(ServletContainerInitializerDeploymentProcessor.java:232)\r\n            at org.jboss.as.web.deployment.ServletContainerInitializerDeploymentProcessor.deploy(ServletContainerInitializerDeploymentProcessor.java:161)\r\n            at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:120) [jboss-as-server-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\r\n            ... 5 more\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/jersey/spi/inject/InjectableProvider\r\n            at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_65]\r\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_65]\r\n            at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:345) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:423) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            ... 16 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.jersey.spi.inject.InjectableProvider from [Module &quot;deployment.eip.war:main&quot; from Service Module Loader]\r\n            at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:197) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:443) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:431) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:373) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:118) [jboss-modules.jar:1.3.0.Final-redhat-2]\r\n            ... 20 more\r\n\r\nSo this UserProvider class, it seems to be setup to implement that Jersey interface. The thing is, that Jersey interface is a 1.x interface, and we have 2.x libraries in our application. We need to use the 2.x libraries for other components, there was actually a big migration to ditch 1.x for good a few months back.\r\n\r\nSo I&#39;m just totally lost. I&#39;ve tried everything I can think of to try and fix this. I&#39;ve delved deep into the documentation on Weld, but whenever I try any of the configuration-based ways of disabled weld, I get an exception that it doesn&#39;t know how to parse XML elements that refer to weld.\r\n\r\nJBoss is driving me nuts, but this client wants to use it, so we gotta find a way to support it.\r\n\r\nSo, here are the things I could really use help with:\r\n\r\n1) Disabling the scanning process that is trying to load UserProvider to begin with. We&#39;re not using this class in any way shape or form in our application, we don&#39;t even want to.\r\n\r\n2) Make JBoss work better with Jersey 2.3. Not entirely sure that&#39;ll be possible...\r\n\r\n3) Hacky ugly ways to make this exception go away. Hopefully...\r\n\r\n4) Anything else that I can do to make this work.\r\n","title":"Hadoop, Jersey, and JBoss: application won&#39;t start","body":"<p>I know barely anything about JBoss. Never touched it ever before yesterday, still don't really understand it. But, one of my company's clients is using it to deploy our application, and our latest update broke their configuration, so I'm trying to solve it.</p>\n<p>Anyway, here's the version info:</p>\n<p>Hadoop: 2.7.2</p>\n<p>Jersey: 2.3</p>\n<p>JBoss: 6.1</p>\n<p>OS: Windows (I doubt this is OS-specific, that's just the environment I'm working on this in)</p>\n<p>We recently added a Hadoop connector module to our application, and that seems to be what's causing the failure. I've been able to reproduce the issue, here is the stack trace:</p>\n<pre><code>13:32:39,857 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.deployment.unit.&quot;eip.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;eip.war&quot;.INSTALL: JBAS018733: Failed to process phase INSTALL of deployment &quot;eip.war&quot;\n        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:127) [jboss-as-server-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1]\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_65]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_65]\n        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_65]\nCaused by: java.lang.LinkageError: Failed to link org/apache/hadoop/hdfs/web/resources/UserProvider (Module &quot;deployment.eip.war:main&quot; from Service Module Loader)\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:428) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:261) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:76) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.Module.loadModuleClass(Module.java:548) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:189) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:443) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:431) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:373) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:118) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.as.web.deployment.ServletContainerInitializerDeploymentProcessor.loadClassInfoSet(ServletContainerInitializerDeploymentProcessor.java:232)\n        at org.jboss.as.web.deployment.ServletContainerInitializerDeploymentProcessor.deploy(ServletContainerInitializerDeploymentProcessor.java:161)\n        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:120) [jboss-as-server-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\n        ... 5 more\nCaused by: java.lang.NoClassDefFoundError: com/sun/jersey/spi/inject/InjectableProvider\n        at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_65]\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_65]\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:345) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:423) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        ... 16 more\nCaused by: java.lang.ClassNotFoundException: com.sun.jersey.spi.inject.InjectableProvider from [Module &quot;deployment.eip.war:main&quot; from Service Module Loader]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:197) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:443) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:431) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:373) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:118) [jboss-modules.jar:1.3.0.Final-redhat-2]\n        ... 20 more\n</code></pre>\n<p>So this UserProvider class, it seems to be setup to implement that Jersey interface. The thing is, that Jersey interface is a 1.x interface, and we have 2.x libraries in our application. We need to use the 2.x libraries for other components, there was actually a big migration to ditch 1.x for good a few months back.</p>\n<p>So I'm just totally lost. I've tried everything I can think of to try and fix this. I've delved deep into the documentation on Weld, but whenever I try any of the configuration-based ways of disabled weld, I get an exception that it doesn't know how to parse XML elements that refer to weld.</p>\n<p>JBoss is driving me nuts, but this client wants to use it, so we gotta find a way to support it.</p>\n<p>So, here are the things I could really use help with:</p>\n<ol>\n<li><p>Disabling the scanning process that is trying to load UserProvider to begin with. We're not using this class in any way shape or form in our application, we don't even want to.</p>\n</li>\n<li><p>Make JBoss work better with Jersey 2.3. Not entirely sure that'll be possible...</p>\n</li>\n<li><p>Hacky ugly ways to make this exception go away. Hopefully...</p>\n</li>\n<li><p>Anything else that I can do to make this work.</p>\n</li>\n</ol>\n"},{"tags":["java","gitlab-ci"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1698078752,"post_id":77346867,"comment_id":136356860,"body_markdown":"Why do you want to pass arguments from the pipeline to the tests? Is using [`@ParameterizedTest`s  (`baeldung.com`)](https://www.baeldung.com/parameterized-tests-junit-5) an option?","body":"Why do you want to pass arguments from the pipeline to the tests? Is using <a href=\"https://www.baeldung.com/parameterized-tests-junit-5\" rel=\"nofollow noreferrer\"><code>@ParameterizedTest</code>s  (<code>baeldung.com</code>)</a> an option?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1698079024,"post_id":77346867,"comment_id":136356909,"body_markdown":"@Turing85 Unfortunately, that&#39;s not an option at this point.","body":"@Turing85 Unfortunately, that&#39;s not an option at this point."},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1698079097,"post_id":77346867,"comment_id":136356922,"body_markdown":"Why not? I feel that this is an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem).","body":"Why not? I feel that this is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1698079627,"post_id":77346867,"comment_id":136357016,"body_markdown":"@Turing85 Maybe this is an XY problem. But, for starters, we&#39;re are limited to JUnit 4 and, for simplicity, I would rather have key/value pairs than individual string values. The end goal is to build an XML file that&#39;s an input to an in-house testing framework we must use. Outside of that, I can&#39;t divulge much more information. But that are the constraints I am operating under.","body":"@Turing85 Maybe this is an XY problem. But, for starters, we&#39;re are limited to JUnit 4 and, for simplicity, I would rather have key/value pairs than individual string values. The end goal is to build an XML file that&#39;s an input to an in-house testing framework we must use. Outside of that, I can&#39;t divulge much more information. But that are the constraints I am operating under."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1698079640,"post_id":77346867,"comment_id":136357019,"body_markdown":"If using `System.getEnv(...)` ain&#39;t broke, why do you want to fix it?","body":"If using <code>System.getEnv(...)</code> ain&#39;t broke, why do you want to fix it?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1698079745,"post_id":77346867,"comment_id":136357046,"body_markdown":"@Bohemian because I need mapped values, and there will be many key/value pairs I must consume for my tests to work.","body":"@Bohemian because I need mapped values, and there will be many key/value pairs I must consume for my tests to work."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1698079872,"post_id":77346867,"comment_id":136357066,"body_markdown":"Can the env var be a path to a file o&#39; data (probably json) that you can just read in?","body":"Can the env var be a path to a file o&#39; data (probably json) that you can just read in?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1698080035,"post_id":77346867,"comment_id":136357096,"body_markdown":"@Bohemian Preferably no. The idea is to dynamically build these XML files rather than have a file explosion. I would not be asking this specific question if that was an option. I know how to solve this using static files.","body":"@Bohemian Preferably no. The idea is to dynamically build these XML files rather than have a file explosion. I would not be asking this specific question if that was an option. I know how to solve this using static files."},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1698080184,"post_id":77346867,"comment_id":136357126,"body_markdown":"&quot;*we&#39;re are limited to JUnit 4*&quot; - [Parameterized tests are available in JUnit 4 (`github.com`)](https://github.com/junit-team/junit4/wiki/Parameterized-tests). I still do not understand why the input has to come from the pipleine, and cannot be provided in the test itself or in a file that is provided with the tests.","body":"&quot;<i>we&#39;re are limited to JUnit 4</i>&quot; - <a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"nofollow noreferrer\">Parameterized tests are available in JUnit 4 (<code>github.com</code>)</a>. I still do not understand why the input has to come from the pipleine, and cannot be provided in the test itself or in a file that is provided with the tests."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1698080504,"post_id":77346867,"comment_id":136357168,"body_markdown":"@Turing85 does it support maps? If so, I can simply delete this question. Also keep in mind that passing parameters thru the pipeline helps you build ad hoc tests.","body":"@Turing85 does it support maps? If so, I can simply delete this question. Also keep in mind that passing parameters thru the pipeline helps you build ad hoc tests."},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1698080675,"post_id":77346867,"comment_id":136357201,"body_markdown":"[There seems to be a way to use maps (`ourcraft.wordpress.com`)](https://ourcraft.wordpress.com/2008/08/27/writing-a-parameterized-junit-test/). Not sure if this is what you want. --- Instead of deleting the question, you can also [self-answer your question](https://stackoverflow.com/help/self-answer).","body":"<a href=\"https://ourcraft.wordpress.com/2008/08/27/writing-a-parameterized-junit-test/\" rel=\"nofollow noreferrer\">There seems to be a way to use maps (<code>ourcraft.wordpress.com</code>)</a>. Not sure if this is what you want. --- Instead of deleting the question, you can also <a href=\"https://stackoverflow.com/help/self-answer\">self-answer your question</a>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1698080931,"post_id":77346867,"comment_id":136357257,"body_markdown":"@Turing85 I will definitely give this a try. Thanks,","body":"@Turing85 I will definitely give this a try. Thanks,"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1698095884,"post_id":77346867,"comment_id":136359632,"body_markdown":"@Turing85 I think I found a potential solution thanks to that link you sent earlier! I posted the answer below.","body":"@Turing85 I think I found a potential solution thanks to that link you sent earlier! I posted the answer below."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698343700,"creation_date":1698095642,"answer_id":77348363,"question_id":77346867,"body_markdown":"Thanks to **@Turing85**, I came up with the following (potential) solution. I tested it and it works. All I need is for the rest of the team to accept it. This solution is for JUnit4, but what I could see should be very similar if using JUnit 5.\r\n\r\nIn simple terms:\r\n\r\n 1. Annotate your test class with `@RunsWith(Parameterized.class)`\r\n 2. Create a static method to create your test data (Parameters)\r\n 3. Annotate such static method with `@Parameterized.Parameters`\r\n 4. In my case, since I only need a single parameter (map), the return type for my `data()` method will be `Object[]` or `Iterable&lt;? extends Object&gt;`\r\n 5. Your test class constructor should take the same arguments used in the `data()` method. If the returned array or iterable object contains more than one element, the test method will iterate as many times as the returned object has elements. For the example below, `myTest()` method will execute twice: once for `map1` and once for `map2`. If this is not desirable, you can return an iterable object containing a single element.\r\n\r\nA simplified version of this solution should look like this\r\n\r\n```\r\n@RunsWith(Parameterized.class)\r\npublic class MyTestClass {\r\n  private Map&lt;String, String&gt; valueMap;\r\n  \r\n  public MyTestClass(Map&lt;String, String&gt; valueMap) {\r\n    this valueMap = valueMap;\r\n  } \r\n\r\n  @Parameterized.Parameters\r\n  public static Object[] data() {\r\n    Map&lt;String, String&gt; map1 = new HashMap&lt;&gt;();\r\n    Map&lt;String, String&gt; map2 = new HashMap&lt;&gt;();\r\n    map1.put(&quot;foo&quot;, &quot;test1&quot;);\r\n    map2.put(&quot;bar&quot;, &quot;test1&quot;);\r\n    return new Object[] {map1, map2};\r\n  }\r\n  \r\n  @Test\r\n  public void myTest() {\r\n    // DO YOUR TEST... for now, just show values in console\r\n    valueMap.forEach((k,v) -&gt; System.out.println(&quot;Key: &quot;  k + &quot;; Value: &quot; + k));\r\n  }\r\n}\r\n```\r\nIf you require a more involved example, the [Parameterized][1] class contains Javadoc with multiple examples. Ultimately, following those examples were extremely informative and complimented very well the link that @Turing85 provided in the Question comments section.\r\n\r\n\r\n  [1]: https://junit.org/junit4/javadoc/4.12/org/junit/runners/Parameterized.html","title":"Passing multiple parameters to a single test pipeline in GitLab","body":"<p>Thanks to <strong>@Turing85</strong>, I came up with the following (potential) solution. I tested it and it works. All I need is for the rest of the team to accept it. This solution is for JUnit4, but what I could see should be very similar if using JUnit 5.</p>\n<p>In simple terms:</p>\n<ol>\n<li>Annotate your test class with <code>@RunsWith(Parameterized.class)</code></li>\n<li>Create a static method to create your test data (Parameters)</li>\n<li>Annotate such static method with <code>@Parameterized.Parameters</code></li>\n<li>In my case, since I only need a single parameter (map), the return type for my <code>data()</code> method will be <code>Object[]</code> or <code>Iterable&lt;? extends Object&gt;</code></li>\n<li>Your test class constructor should take the same arguments used in the <code>data()</code> method. If the returned array or iterable object contains more than one element, the test method will iterate as many times as the returned object has elements. For the example below, <code>myTest()</code> method will execute twice: once for <code>map1</code> and once for <code>map2</code>. If this is not desirable, you can return an iterable object containing a single element.</li>\n</ol>\n<p>A simplified version of this solution should look like this</p>\n<pre><code>@RunsWith(Parameterized.class)\npublic class MyTestClass {\n  private Map&lt;String, String&gt; valueMap;\n  \n  public MyTestClass(Map&lt;String, String&gt; valueMap) {\n    this valueMap = valueMap;\n  } \n\n  @Parameterized.Parameters\n  public static Object[] data() {\n    Map&lt;String, String&gt; map1 = new HashMap&lt;&gt;();\n    Map&lt;String, String&gt; map2 = new HashMap&lt;&gt;();\n    map1.put(&quot;foo&quot;, &quot;test1&quot;);\n    map2.put(&quot;bar&quot;, &quot;test1&quot;);\n    return new Object[] {map1, map2};\n  }\n  \n  @Test\n  public void myTest() {\n    // DO YOUR TEST... for now, just show values in console\n    valueMap.forEach((k,v) -&gt; System.out.println(&quot;Key: &quot;  k + &quot;; Value: &quot; + k));\n  }\n}\n</code></pre>\n<p>If you require a more involved example, the <a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/runners/Parameterized.html\" rel=\"nofollow noreferrer\">Parameterized</a> class contains Javadoc with multiple examples. Ultimately, following those examples were extremely informative and complimented very well the link that @Turing85 provided in the Question comments section.</p>\n"}],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77348363,"answer_count":1,"score":0,"last_activity_date":1698343700,"creation_date":1698078503,"question_id":77346867,"body_markdown":"I have a test class\r\n```\r\npublic class MyTestClass {\r\n  @Test\r\n  public void myTest() {\r\n    String param = &quot;hard-coded value&quot;;\r\n    // the rest of the test\r\n  }\r\n}\r\n```\r\n\r\nI would like to replace the hard-coded parameters (there will be many) with variables in the GitLab CI pipeline for the test I am running. I know that using `System.getEnv(...)` works. I am trying to determine if there is a better alternative. For example, if I have 20 arguments to pass to a test, **could I pass a map instead?** It might be simpler to handle key/value pairs in the code rather than having a bunch of calls to `getEnv`.\r\n","title":"Passing multiple parameters to a single test pipeline in GitLab","body":"<p>I have a test class</p>\n<pre><code>public class MyTestClass {\n  @Test\n  public void myTest() {\n    String param = &quot;hard-coded value&quot;;\n    // the rest of the test\n  }\n}\n</code></pre>\n<p>I would like to replace the hard-coded parameters (there will be many) with variables in the GitLab CI pipeline for the test I am running. I know that using <code>System.getEnv(...)</code> works. I am trying to determine if there is a better alternative. For example, if I have 20 arguments to pass to a test, <strong>could I pass a map instead?</strong> It might be simpler to handle key/value pairs in the code rather than having a bunch of calls to <code>getEnv</code>.</p>\n"},{"tags":["java","spring","spring-boot","clean-architecture","hexagonal-architecture"],"answers":[{"tags":[],"owner":{"account_id":4641422,"reputation":1287,"user_id":3761154,"display_name":"R&#233;da Housni Alaoui"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685484396,"creation_date":1685484396,"answer_id":76368950,"question_id":76365936,"body_markdown":"&gt; Has anyone ever implemented Clean Architecture this way?\r\n\r\nYes I did, the first time. It was overkill. And I did store the version inside the domain model.\r\n\r\n&gt; Or you also allow the application layer have information about Spring?\r\n\r\nNow that’s what I do. For example, my JPA entities are also my domain models. This avoids the tedious and bug-prone conversions. The goal of an ORM is already to abstract the persistent layer. No need to add an abstraction on top of that.","title":"Clean Architecture and Spring Boot","body":"<blockquote>\n<p>Has anyone ever implemented Clean Architecture this way?</p>\n</blockquote>\n<p>Yes I did, the first time. It was overkill. And I did store the version inside the domain model.</p>\n<blockquote>\n<p>Or you also allow the application layer have information about Spring?</p>\n</blockquote>\n<p>Now that’s what I do. For example, my JPA entities are also my domain models. This avoids the tedious and bug-prone conversions. The goal of an ORM is already to abstract the persistent layer. No need to add an abstraction on top of that.</p>\n"}],"owner":{"account_id":24503545,"reputation":36,"user_id":18418850,"display_name":"codingwzrd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698343639,"creation_date":1685457231,"question_id":76365936,"body_markdown":"I am implementing a spring boot microservice using Clean Architecture. I have a multi module java app, with domain, application and infrastructure. \r\n\r\nDomain and Application modules do not know anything about Spring framework. In domain I have my models, exceptions etc.. but this is pure java.\r\nIn application I have my input and output ports and also my Application service which implements those ports. \r\n\r\nIn infrastructure I have everything you can imagine a spring boot application would need. My problem is that I have my DomainModel and in infrastructure I have created a DomainJpaEntity class which basically is a twin of my domain model but here I can use the needed annotations to map the table to the entity. Everytime I need to transform(map) the entity to my domain model in order to use the ports ( because they always expect the domain model as an argument) \r\n\r\n\r\nRecently I stumbled upon another issue. I have a DomainModelJpaAdapter which basically implements the PersistenceOutputPort with Jpa. I want to test one method where I want to check for Optimistic Locking of my entity, but since the adapter is always returning  the domain model, I do not have the &quot;Version&quot; field in my domain model... and it feels wrong to also have it there.. \r\n\r\nHas anyone ever implemented Clean Architecture this way? Or you also allow the application layer have information about Spring? \r\n","title":"Clean Architecture and Spring Boot","body":"<p>I am implementing a spring boot microservice using Clean Architecture. I have a multi module java app, with domain, application and infrastructure.</p>\n<p>Domain and Application modules do not know anything about Spring framework. In domain I have my models, exceptions etc.. but this is pure java.\nIn application I have my input and output ports and also my Application service which implements those ports.</p>\n<p>In infrastructure I have everything you can imagine a spring boot application would need. My problem is that I have my DomainModel and in infrastructure I have created a DomainJpaEntity class which basically is a twin of my domain model but here I can use the needed annotations to map the table to the entity. Everytime I need to transform(map) the entity to my domain model in order to use the ports ( because they always expect the domain model as an argument)</p>\n<p>Recently I stumbled upon another issue. I have a DomainModelJpaAdapter which basically implements the PersistenceOutputPort with Jpa. I want to test one method where I want to check for Optimistic Locking of my entity, but since the adapter is always returning  the domain model, I do not have the &quot;Version&quot; field in my domain model... and it feels wrong to also have it there..</p>\n<p>Has anyone ever implemented Clean Architecture this way? Or you also allow the application layer have information about Spring?</p>\n"},{"tags":["java","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":5152799,"reputation":19357,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1697297857,"post_id":77287922,"comment_id":136263568,"body_markdown":"It&#39;s unclear why you want this... can you just add it to the model via the controller?  Why doesn&#39;t `@{/}` work --or something similar.","body":"It&#39;s unclear why you want this... can you just add it to the model via the controller?  Why doesn&#39;t <code>@{&#47;}</code> work --or something similar."},{"owner":{"account_id":81885,"reputation":487,"user_id":230638,"accept_rate":82,"display_name":"Jasper"},"score":0,"creation_date":1697362190,"post_id":77287922,"comment_id":136268178,"body_markdown":"It&#39;s an existing codebase with different reasons for this minimal example. It&#39;s in fragments resused between templates, so we can&#39;t hardcode it. sometimes it&#39;s used as a returnURI param in a request, and coding it in the controller makes changing the template need changes in the controllers, which doesn&#39;t sound like a solution. Business data  coupling OK, but this is just a technicallity that&#39;s in the way I think.","body":"It&#39;s an existing codebase with different reasons for this minimal example. It&#39;s in fragments resused between templates, so we can&#39;t hardcode it. sometimes it&#39;s used as a returnURI param in a request, and coding it in the controller makes changing the template need changes in the controllers, which doesn&#39;t sound like a solution. Business data  coupling OK, but this is just a technicallity that&#39;s in the way I think."},{"owner":{"account_id":136750,"reputation":6224,"user_id":340467,"accept_rate":68,"display_name":"benzen"},"score":1,"creation_date":1698345665,"post_id":77287922,"comment_id":136397203,"body_markdown":"Here is the way arround i&#39;m using https://stackoverflow.com/questions/74594544/getrequesturi-is-null-with-netty-and-spring-boot-3","body":"Here is the way arround i&#39;m using <a href=\"https://stackoverflow.com/questions/74594544/getrequesturi-is-null-with-netty-and-spring-boot-3\" title=\"getrequesturi is null with netty and spring boot 3\">stackoverflow.com/questions/74594544/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29697983,"reputation":1,"user_id":22760772,"display_name":"pak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697614292,"creation_date":1697614292,"answer_id":77314284,"question_id":77287922,"body_markdown":"It didn&#39;t work for me with version 3.1.4 either. But if you downgrade to version 3.1.1 it will work.","title":"Thymeleaf method to get requestURI","body":"<p>It didn't work for me with version 3.1.4 either. But if you downgrade to version 3.1.1 it will work.</p>\n"}],"owner":{"account_id":81885,"reputation":487,"user_id":230638,"accept_rate":82,"display_name":"Jasper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698343629,"creation_date":1697201794,"question_id":77287922,"body_markdown":"Given the lastest Spring Boot version + few extra thymeleaf modules, the application will not generate requestURI anymore in templates. I believe it has to do with a change (https://github.com/thymeleaf/thymeleaf/commit/dd01397c785d7d34049eecd67440aef52398599d) recently in the thymeleaf core. But according to SO this is the right way to do it (https://stackoverflow.com/a/74922599/230638). What is the current right way to do it?\r\n\r\nError:\r\n```\r\n2023-10-13 14:44:20,158 ERROR [http-nio-8888-exec-1] [] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/helpdesk/orders/list.html]&quot;)] with root cause\r\norg.springframework.expression.EvaluationException: Accessing member &#39;requestUri&#39; is forbidden for type &#39;class org.springframework.web.servlet.support.RequestContext&#39; in this expression context\r\n```\r\nFragment:\r\n```\r\nth:action=&quot;${#ctx.springRequestContext.requestUri}&quot;\r\n```\r\nPOM/dependencies:\r\n```\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.4&lt;/version&gt;\r\n&lt;/parent&gt;\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n    &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nTemurin JDK 17","title":"Thymeleaf method to get requestURI","body":"<p>Given the lastest Spring Boot version + few extra thymeleaf modules, the application will not generate requestURI anymore in templates. I believe it has to do with a change (<a href=\"https://github.com/thymeleaf/thymeleaf/commit/dd01397c785d7d34049eecd67440aef52398599d\" rel=\"nofollow noreferrer\">https://github.com/thymeleaf/thymeleaf/commit/dd01397c785d7d34049eecd67440aef52398599d</a>) recently in the thymeleaf core. But according to SO this is the right way to do it (<a href=\"https://stackoverflow.com/a/74922599/230638\">https://stackoverflow.com/a/74922599/230638</a>). What is the current right way to do it?</p>\n<p>Error:</p>\n<pre><code>2023-10-13 14:44:20,158 ERROR [http-nio-8888-exec-1] [] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/helpdesk/orders/list.html]&quot;)] with root cause\norg.springframework.expression.EvaluationException: Accessing member 'requestUri' is forbidden for type 'class org.springframework.web.servlet.support.RequestContext' in this expression context\n</code></pre>\n<p>Fragment:</p>\n<pre><code>th:action=&quot;${#ctx.springRequestContext.requestUri}&quot;\n</code></pre>\n<p>POM/dependencies:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.4&lt;/version&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Temurin JDK 17</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":3942245,"reputation":2183,"user_id":3256139,"accept_rate":75,"display_name":"cosmos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524854404,"creation_date":1524854404,"answer_id":50068471,"question_id":50068192,"body_markdown":"You can expose your beans and use JMX connector from your client application to access it. Here&#39;s the documentation for [Spring JMX.][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#jmx","title":"Accessing application context and bean from separate JVM?","body":"<p>You can expose your beans and use JMX connector from your client application to access it. Here's the documentation for <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#jmx\" rel=\"nofollow noreferrer\">Spring JMX.</a></p>\n"},{"tags":[],"owner":{"account_id":2833171,"reputation":578,"user_id":2434307,"display_name":"Jose Quijada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698343532,"creation_date":1698343532,"answer_id":77369407,"question_id":50068192,"body_markdown":"How about spinning up a server on the target JVM where the Spring app runs on, that listens on some port XYZ. Then you can implement whatever logic you find appropriate to serve requests from connecting clients. This server itself can be managed as a Spring bean. So in essence it&#39;s like you&#39;re adding and &quot;ear&quot; to the JVM is ready to listen on. Details of how exactly this can be implemented depend on how Spring is configured on the target JVM(s).","title":"Accessing application context and bean from separate JVM?","body":"<p>How about spinning up a server on the target JVM where the Spring app runs on, that listens on some port XYZ. Then you can implement whatever logic you find appropriate to serve requests from connecting clients. This server itself can be managed as a Spring bean. So in essence it's like you're adding and &quot;ear&quot; to the JVM is ready to listen on. Details of how exactly this can be implemented depend on how Spring is configured on the target JVM(s).</p>\n"}],"owner":{"account_id":1243290,"reputation":385,"user_id":1205340,"accept_rate":53,"display_name":"Darin Beaudreau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698343532,"creation_date":1524853285,"question_id":50068192,"body_markdown":"I&#39;m working on an application that launches several batch files, which themselves launch JVMs using Spring application contexts. The application I&#39;m working on needs to be able to access the beans being created from the application contexts in these JVMs so that I can manipulate them.\r\n\r\nFrom my application, I do have access to the name of the context file and the bean name. Is there a way I can access a reference to the beans created by these JVMs?","title":"Accessing application context and bean from separate JVM?","body":"<p>I'm working on an application that launches several batch files, which themselves launch JVMs using Spring application contexts. The application I'm working on needs to be able to access the beans being created from the application contexts in these JVMs so that I can manipulate them.</p>\n\n<p>From my application, I do have access to the name of the context file and the bean name. Is there a way I can access a reference to the beans created by these JVMs?</p>\n"},{"tags":["java","spring","spring-boot","multithreading","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678309525,"creation_date":1678306676,"answer_id":75677844,"question_id":75677696,"body_markdown":"I think the simplest way to implement this and stay in Spring infrastructure would be to use `@Async` - the asynchronous execution support in Spring\r\n\r\nSimply put, annotating a method of a bean with `@Async` will make it execute in a separate thread. In other words, the caller will not wait for the completion of the called method.\r\n\r\nFirst you need to put `@EnableAsync` annotation for configuration and enable Spring&#39;s asynchronous method execution capability. It should be put on your Configuration class:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Configuration\r\n    @EnableAsync\r\n    public class ApplicationConfig {\r\n    \r\n    }\r\n\r\nand after this in your service annotate your method you want to be processed asynchronously like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n    // this is just an example. In your case your method check(request, user) should be annotated with @Async\r\n    @Async\r\n    public void asyncMethod() {\r\n        ...\r\n    }\r\n\r\nThis should be enough to run this method asynchronously.\r\n\r\n**Note 1:** You should know that `@Async` has some limitations:\r\n\r\n - It must be applied to `public` methods only.\r\n - Self-invocation — calling the async method from within the same class — won&#39;t work.\r\n\r\n**Note 2:** By default, Spring uses a `SimpleAsyncTaskExecutor` to actually run these methods asynchronously. But you can define your own executor if you want to.\r\n\r\nMore details can be found [in this article][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-async","title":"Run a background task within controller method in Spring","body":"<p>I think the simplest way to implement this and stay in Spring infrastructure would be to use <code>@Async</code> - the asynchronous execution support in Spring</p>\n<p>Simply put, annotating a method of a bean with <code>@Async</code> will make it execute in a separate thread. In other words, the caller will not wait for the completion of the called method.</p>\n<p>First you need to put <code>@EnableAsync</code> annotation for configuration and enable Spring's asynchronous method execution capability. It should be put on your Configuration class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAsync\npublic class ApplicationConfig {\n\n}\n</code></pre>\n<p>and after this in your service annotate your method you want to be processed asynchronously like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this is just an example. In your case your method check(request, user) should be annotated with @Async\n@Async\npublic void asyncMethod() {\n    ...\n}\n</code></pre>\n<p>This should be enough to run this method asynchronously.</p>\n<p><strong>Note 1:</strong> You should know that <code>@Async</code> has some limitations:</p>\n<ul>\n<li>It must be applied to <code>public</code> methods only.</li>\n<li>Self-invocation — calling the async method from within the same class — won't work.</li>\n</ul>\n<p><strong>Note 2:</strong> By default, Spring uses a <code>SimpleAsyncTaskExecutor</code> to actually run these methods asynchronously. But you can define your own executor if you want to.</p>\n<p>More details can be found <a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">in this article</a></p>\n"},{"tags":[],"owner":{"account_id":4963941,"reputation":965,"user_id":3993983,"display_name":"HaiTH"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678307098,"creation_date":1678307098,"answer_id":75677888,"question_id":75677696,"body_markdown":"It depends on the importance of that socialMedia task so you can make the right decision. Basically, with Kafka or any other message broker, you can control it better by queuing messages and process one by one for example.\r\n\r\nIf your task is quite simple and you just want to run it in background, then it&#39;s totally doable by Java&#39;s `CompletableFuture` class, which represents a potentially asynchronous operation that can be completed in the future with a result or an exception.\r\n\r\nThe concept of CompletableFuture is just like JS promise: \r\n```java\r\nCompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; {\r\n    // perform some time-consuming operation in background\r\n    // it doesn&#39;t intercept the main thread\r\n    return 42;\r\n});\r\n\r\nfuture.thenApply(result -&gt; {\r\n    // do something with the result\r\n    return result * 2;\r\n}).thenAccept(result -&gt; {\r\n    // do something with the final result\r\n    System.out.println(&quot;Final result: &quot; + result);\r\n});\r\n```","title":"Run a background task within controller method in Spring","body":"<p>It depends on the importance of that socialMedia task so you can make the right decision. Basically, with Kafka or any other message broker, you can control it better by queuing messages and process one by one for example.</p>\n<p>If your task is quite simple and you just want to run it in background, then it's totally doable by Java's <code>CompletableFuture</code> class, which represents a potentially asynchronous operation that can be completed in the future with a result or an exception.</p>\n<p>The concept of CompletableFuture is just like JS promise:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; {\n    // perform some time-consuming operation in background\n    // it doesn't intercept the main thread\n    return 42;\n});\n\nfuture.thenApply(result -&gt; {\n    // do something with the result\n    return result * 2;\n}).thenAccept(result -&gt; {\n    // do something with the final result\n    System.out.println(&quot;Final result: &quot; + result);\n});\n</code></pre>\n"}],"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698341439,"creation_date":1678305672,"question_id":75677696,"body_markdown":"In fact, I couldn&#39;t think of a better way to phrase the question.\r\n\r\nI have a spring-boot application. It has a certain end-point, let&#39;s say `/test`.\r\nI make a get rest request. And the question is, can I **call some function** through **rest**, then return some response (like **204 no content**), and execute the function itself in the **background thread**?\r\n\r\nConsider the case.\r\n\r\nLet&#39;s say I have a method that adds a user to the database. In the method itself, the necessary fields for the entity are set and saved. But at the same time I want to run some process (functionality) in the background that would check if this user is in social networks (just a test example). Is it possible to do this without a message broker?\r\n\r\n    public User addUser(UserRequest request){\r\n    /* (1)\r\n        functionality\r\n    */\r\n       (2)\r\n       userRepository.save(user);\r\n    \r\n    \r\n    //And now, i want to start background process with socialmedia check. \r\n    //I also want to return the user&#39;s state at the moment\r\n    \r\n    (3)\r\n    //background process\r\n    socialMediaService.check(request, user);\r\n    \r\n    (4)\r\n    //In fact, I would agree not to return anything. \r\n    //It would be enough for me to return control to my controller and then to dispatcherServlet\r\n    return user;\r\n    }\r\n\r\n\r\n\r\nBy the way, in step (3), I could have sent a message to a message broker, like Kafka. Then another method that schedule reads kafka would perform this functionality sometime in the future.\r\n\r\nBut I&#39;m wondering if it&#39;s possible to solve this problem without a message broker?\r\n","title":"Run a background task within controller method in Spring","body":"<p>In fact, I couldn't think of a better way to phrase the question.</p>\n<p>I have a spring-boot application. It has a certain end-point, let's say <code>/test</code>.\nI make a get rest request. And the question is, can I <strong>call some function</strong> through <strong>rest</strong>, then return some response (like <strong>204 no content</strong>), and execute the function itself in the <strong>background thread</strong>?</p>\n<p>Consider the case.</p>\n<p>Let's say I have a method that adds a user to the database. In the method itself, the necessary fields for the entity are set and saved. But at the same time I want to run some process (functionality) in the background that would check if this user is in social networks (just a test example). Is it possible to do this without a message broker?</p>\n<pre><code>public User addUser(UserRequest request){\n/* (1)\n    functionality\n*/\n   (2)\n   userRepository.save(user);\n\n\n//And now, i want to start background process with socialmedia check. \n//I also want to return the user's state at the moment\n\n(3)\n//background process\nsocialMediaService.check(request, user);\n\n(4)\n//In fact, I would agree not to return anything. \n//It would be enough for me to return control to my controller and then to dispatcherServlet\nreturn user;\n}\n</code></pre>\n<p>By the way, in step (3), I could have sent a message to a message broker, like Kafka. Then another method that schedule reads kafka would perform this functionality sometime in the future.</p>\n<p>But I'm wondering if it's possible to solve this problem without a message broker?</p>\n"},{"tags":["java","spring-boot","iot","smart-device-framework"],"owner":{"account_id":28090438,"reputation":1,"user_id":21460075,"display_name":"Lette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698341306,"creation_date":1679526852,"question_id":75818027,"body_markdown":"I&#39;m trying to use CHIP to directly connect to smart devices, without use services as smartthings cloud. Here https://github.com/project-chip/connectedhomeip there are a lot of things and... what I need to use to add Matter on a Spring app?\r\n\r\nThanks a lot.\r\n\r\nI tried to check on google dev how to do it, but it was not so clear for my situation. I searched on maaven central and spring repo but i didnt find anything.","title":"Matter (CHIP) integration in spring","body":"<p>I'm trying to use CHIP to directly connect to smart devices, without use services as smartthings cloud. Here <a href=\"https://github.com/project-chip/connectedhomeip\" rel=\"nofollow noreferrer\">https://github.com/project-chip/connectedhomeip</a> there are a lot of things and... what I need to use to add Matter on a Spring app?</p>\n<p>Thanks a lot.</p>\n<p>I tried to check on google dev how to do it, but it was not so clear for my situation. I searched on maaven central and spring repo but i didnt find anything.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698309914,"post_id":77361673,"comment_id":136389825,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29753133,"reputation":1,"user_id":22802576,"display_name":"Inapod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698341287,"creation_date":1698254508,"question_id":77361673,"body_markdown":"I am running my scripts in selenium with java, and when the script hit a specific screen, it just froze and does not perform any click action. It identifies the element and clicks on the button , but the application is not updating with the click.  \r\n\r\nTo ensure it is not application issue, I tired manual execution by opening the application in chrome clicking on these buttons. When the scripts are running in chrome and when it reaches that screen and fails,  tired clicking on these buttons manually and it is all frozen there. Any ideas how to fix this issue?","title":"Unable to click on buttons in the page when running scripts via automation selenium with Java","body":"<p>I am running my scripts in selenium with java, and when the script hit a specific screen, it just froze and does not perform any click action. It identifies the element and clicks on the button , but the application is not updating with the click.</p>\n<p>To ensure it is not application issue, I tired manual execution by opening the application in chrome clicking on these buttons. When the scripts are running in chrome and when it reaches that screen and fails,  tired clicking on these buttons manually and it is all frozen there. Any ideas how to fix this issue?</p>\n"},{"tags":["java","postgresql","ubuntu","vps","tomcat10"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698342705,"post_id":77369180,"comment_id":136396692,"body_markdown":"Welcome to Stack Overflow! Please add additional details to reproduce the issue. \nAs it&#39;s currently written, it’s hard to tell exactly what could be the cause of the issue. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. See also [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow! Please add additional details to reproduce the issue.  As it&#39;s currently written, it’s hard to tell exactly what could be the cause of the issue. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See also <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}],"owner":{"account_id":25004751,"reputation":1,"user_id":18864813,"display_name":"Bagus R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698341172,"creation_date":1698341172,"question_id":77369180,"body_markdown":"help me, I have a problem when deploying a Java web application with PostgresQL using Tomcat on VPS server\r\n\r\norg.apache.catalina.realm.UserDatabaseRealm.getUserDatabase Exception looking up UserDatabase under key [UserDatabase]\r\n    javax.naming.NamingException: Unexpected exception resolving reference [Root exception is org.xml.sax.SAXParseException; lineNumber: 59; columnNumber: 30; Element type &quot;role&quot; must be followed by ei\r\n\r\nresult status true or successfull deploying war using tomcat and postgresql","title":"javax.naming.NamingException: Unexpected exception resolving reference [Root exception is org.xml.sax.SAXParseException; Element type &quot;role&quot;","body":"<p>help me, I have a problem when deploying a Java web application with PostgresQL using Tomcat on VPS server</p>\n<p>org.apache.catalina.realm.UserDatabaseRealm.getUserDatabase Exception looking up UserDatabase under key [UserDatabase]\njavax.naming.NamingException: Unexpected exception resolving reference [Root exception is org.xml.sax.SAXParseException; lineNumber: 59; columnNumber: 30; Element type &quot;role&quot; must be followed by ei</p>\n<p>result status true or successfull deploying war using tomcat and postgresql</p>\n"},{"tags":["java","arraylist","box2d"],"owner":{"account_id":21272415,"reputation":1,"user_id":20266598,"display_name":"Jonasoos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698340478,"creation_date":1698340478,"question_id":77369112,"body_markdown":"I am trying to implement this solution to my problem from this answer: https://stackoverflow.com/questions/18051102/libgdx-box2d-how-to-destroy-body-after-collision\r\nBut nothing is happening but the method executes and shows no errors. This means that the kugelbody (circle) is not inserted into the array list. (I think)\r\n\r\nI need the circlebody to be deleted on collision with a square. The square is saved in an arraylist with other squares.\r\n\r\n     world.setContactListener(new ContactListener() {\r\n            @Override\r\n            public void beginContact(Contact contact) {\r\n                Fixture fixtureA = contact.getFixtureA();\r\n                Fixture fixtureB = contact.getFixtureB();\r\n\r\n               //ist a oder b ein quadrat?\r\n                boolean isSquareA = fixtureA != null &amp;&amp; squareBodies.contains(fixtureA.getBody());\r\n                boolean isSquareB = fixtureB != null &amp;&amp; squareBodies.contains(fixtureB.getBody());\r\n\r\n                if (isSquareA || isSquareB) {\r\n                    // Kollision mit einem Quadrat\r\n                    Body ballBody = isSquareA ? fixtureB.getBody() : fixtureA.getBody();\r\n                    int squareIndex = isSquareA ? squareBodies.indexOf(fixtureA.getBody()) : squareBodies.indexOf(fixtureB.getBody());\r\n\r\n                    // Todo kontostandplus einsatz * multipklikrator\r\n                    //todo evtl 0.2 | 0.5 |1.2 |2 |10 |2 |1.2 |0.5 |0.2\r\n                    long []abc = {(long) 0.2, (long) 0.5, (long) 1.2,2,10};\r\n                    switch (squareIndex) {\r\n                       (...) }\r\n                        delkugel.add(ballBody);\r\n                }\r\n            }\r\n\r\nThe render method: \r\n\r\n    public void render() {\r\n        Gdx.gl20.glClearColor(0, 0, 0, 1);\r\n        Gdx.gl20.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n        b2dr.render(world, b2dcam.combined);\r\n     \r\n        if (delkugel.size() &gt; 0) { delkugel.clear();}\r\n\r\n        stage.act();\r\n        stage.draw();\r\n    }\r\n\r\nThe method of the Ballgeneration:\r\n\r\n    private void dropBall(int posX){\r\n        final BodyDef bdef = new BodyDef();\r\n        FixtureDef fdef = new FixtureDef();\r\n\r\n        bdef.position.set(posX / PPM, 790 / PPM);\r\n        bdef.type = BodyDef.BodyType.DynamicBody;\r\n\r\n        // Randomly drop ball\r\n        final Body body = world.createBody(bdef);\r\n        CircleShape cshape = new CircleShape();\r\n        cshape.setRadius(13 / PPM);\r\n        fdef.shape = cshape;\r\n        fdef.filter.categoryBits = Box2dVars.BIT_BALL;\r\n        fdef.filter.maskBits = Box2dVars.BIT_WALLS | Box2dVars.BIT_PEG;\r\n        fdef.restitution = 0.7f;\r\n        fdef.density = 0.9f;\r\n        fdef.friction = 0.1f;\r\n        body.createFixture(fdef).setUserData(&quot;ball&quot;);\r\n\r\n        Timer.schedule(new Timer.Task() {\r\n            @Override\r\n            public void run() {\r\n                if (body != null &amp;&amp; world != null &amp;&amp; world.getBodyCount() &gt; 0) {\r\n                    world.destroyBody(body);\r\n                }\r\n            }\r\n        }, 10);\r\n\r\n    }\r\n\r\n\r\nAnd the method of the squaregeneration:\r\n\r\n\r\n             int squareSize = 20;\r\n        for (int i = 10; i &lt; 100; i = i + 10) {\r\n            BodyDef bdef;\r\n            FixtureDef fdef;\r\n    PolygonShape shape;\r\n\r\n            bdef = new BodyDef();\r\n            fdef = new FixtureDef();\r\n            shape = new PolygonShape();\r\n            bdef.position.set((Game.WIDTH * i / PPM) / PPM, (150 + 10) / PPM);\r\n            bdef.type = BodyDef.BodyType.StaticBody;\r\n            Body body = world.createBody(bdef);\r\n\r\n\r\n            shape.setAsBox(squareSize / PPM, squareSize / PPM);\r\n\r\n            fdef.shape = shape;\r\n            fdef.filter.categoryBits = Box2dVars.BIT_WALLS;\r\n            fdef.filter.maskBits = Box2dVars.BIT_BALL;\r\n            body.createFixture(fdef).setUserData(&quot;wall&quot;);\r\n\r\n            squareBodies.add(body);\r\n        }\r\n    }","title":"Why is this object not recognized?","body":"<p>I am trying to implement this solution to my problem from this answer: <a href=\"https://stackoverflow.com/questions/18051102/libgdx-box2d-how-to-destroy-body-after-collision\">libGDX Box2D: How to destroy body after collision?</a>\nBut nothing is happening but the method executes and shows no errors. This means that the kugelbody (circle) is not inserted into the array list. (I think)</p>\n<p>I need the circlebody to be deleted on collision with a square. The square is saved in an arraylist with other squares.</p>\n<pre><code> world.setContactListener(new ContactListener() {\n        @Override\n        public void beginContact(Contact contact) {\n            Fixture fixtureA = contact.getFixtureA();\n            Fixture fixtureB = contact.getFixtureB();\n\n           //ist a oder b ein quadrat?\n            boolean isSquareA = fixtureA != null &amp;&amp; squareBodies.contains(fixtureA.getBody());\n            boolean isSquareB = fixtureB != null &amp;&amp; squareBodies.contains(fixtureB.getBody());\n\n            if (isSquareA || isSquareB) {\n                // Kollision mit einem Quadrat\n                Body ballBody = isSquareA ? fixtureB.getBody() : fixtureA.getBody();\n                int squareIndex = isSquareA ? squareBodies.indexOf(fixtureA.getBody()) : squareBodies.indexOf(fixtureB.getBody());\n\n                // Todo kontostandplus einsatz * multipklikrator\n                //todo evtl 0.2 | 0.5 |1.2 |2 |10 |2 |1.2 |0.5 |0.2\n                long []abc = {(long) 0.2, (long) 0.5, (long) 1.2,2,10};\n                switch (squareIndex) {\n                   (...) }\n                    delkugel.add(ballBody);\n            }\n        }\n</code></pre>\n<p>The render method:</p>\n<pre><code>public void render() {\n    Gdx.gl20.glClearColor(0, 0, 0, 1);\n    Gdx.gl20.glClear(GL20.GL_COLOR_BUFFER_BIT);\n    b2dr.render(world, b2dcam.combined);\n \n    if (delkugel.size() &gt; 0) { delkugel.clear();}\n\n    stage.act();\n    stage.draw();\n}\n</code></pre>\n<p>The method of the Ballgeneration:</p>\n<pre><code>private void dropBall(int posX){\n    final BodyDef bdef = new BodyDef();\n    FixtureDef fdef = new FixtureDef();\n\n    bdef.position.set(posX / PPM, 790 / PPM);\n    bdef.type = BodyDef.BodyType.DynamicBody;\n\n    // Randomly drop ball\n    final Body body = world.createBody(bdef);\n    CircleShape cshape = new CircleShape();\n    cshape.setRadius(13 / PPM);\n    fdef.shape = cshape;\n    fdef.filter.categoryBits = Box2dVars.BIT_BALL;\n    fdef.filter.maskBits = Box2dVars.BIT_WALLS | Box2dVars.BIT_PEG;\n    fdef.restitution = 0.7f;\n    fdef.density = 0.9f;\n    fdef.friction = 0.1f;\n    body.createFixture(fdef).setUserData(&quot;ball&quot;);\n\n    Timer.schedule(new Timer.Task() {\n        @Override\n        public void run() {\n            if (body != null &amp;&amp; world != null &amp;&amp; world.getBodyCount() &gt; 0) {\n                world.destroyBody(body);\n            }\n        }\n    }, 10);\n\n}\n</code></pre>\n<p>And the method of the squaregeneration:</p>\n<pre><code>         int squareSize = 20;\n    for (int i = 10; i &lt; 100; i = i + 10) {\n        BodyDef bdef;\n        FixtureDef fdef;\nPolygonShape shape;\n\n        bdef = new BodyDef();\n        fdef = new FixtureDef();\n        shape = new PolygonShape();\n        bdef.position.set((Game.WIDTH * i / PPM) / PPM, (150 + 10) / PPM);\n        bdef.type = BodyDef.BodyType.StaticBody;\n        Body body = world.createBody(bdef);\n\n\n        shape.setAsBox(squareSize / PPM, squareSize / PPM);\n\n        fdef.shape = shape;\n        fdef.filter.categoryBits = Box2dVars.BIT_WALLS;\n        fdef.filter.maskBits = Box2dVars.BIT_BALL;\n        body.createFixture(fdef).setUserData(&quot;wall&quot;);\n\n        squareBodies.add(body);\n    }\n}\n</code></pre>\n"},{"tags":["java","scope","jersey","dropwizard","hk2"],"answers":[{"tags":[],"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677303841,"creation_date":1677303841,"answer_id":75563530,"question_id":72091735,"body_markdown":"You could register an `ApplicationEventListener` that calls your code, e.g.,\r\n\r\n```java\r\npublic class MyAppEventListener implements ApplicationEventListener {\r\n    @Override\r\n    public RequestEventListener onRequest(final RequestEvent event) {\r\n        return new MyRequestListener();\r\n    }\r\n\r\n    public static class MyRequestListener implements RequestEventListener {\r\n        @Override\r\n        public void onEvent(final RequestEvent event) {\r\n            if (event.getType() == RESOURCE_METHOD_START) {\r\n                MyOtherCode.youAreNowInRequestScope();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen in your service&#39;s `run()` method (I see you&#39;ve tagged this for Dropwizard):\r\n\r\n```java\r\nenvironment.jersey().register(MyAppEventListener.class)\r\n```\r\n\r\nPresumably you&#39;ll need to tweak this to call something non-static or maybe trigger off a different request event, but I hope it&#39;s helpful.","title":"How can I determine if I&#39;m inside Jersey request scope?","body":"<p>You could register an <code>ApplicationEventListener</code> that calls your code, e.g.,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyAppEventListener implements ApplicationEventListener {\n    @Override\n    public RequestEventListener onRequest(final RequestEvent event) {\n        return new MyRequestListener();\n    }\n\n    public static class MyRequestListener implements RequestEventListener {\n        @Override\n        public void onEvent(final RequestEvent event) {\n            if (event.getType() == RESOURCE_METHOD_START) {\n                MyOtherCode.youAreNowInRequestScope();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then in your service's <code>run()</code> method (I see you've tagged this for Dropwizard):</p>\n<pre class=\"lang-java prettyprint-override\"><code>environment.jersey().register(MyAppEventListener.class)\n</code></pre>\n<p>Presumably you'll need to tweak this to call something non-static or maybe trigger off a different request event, but I hope it's helpful.</p>\n"},{"tags":[],"owner":{"account_id":2603510,"reputation":130,"user_id":2255241,"accept_rate":60,"display_name":"MetalMichael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698340343,"creation_date":1698340343,"answer_id":77369098,"question_id":72091735,"body_markdown":"I have had the same problem, the closest thing I have found to do is:\r\n\r\n```java\r\nclass MyFactory implements Suplier&lt;SomeInterface&gt; {\r\n\r\n    @Override\r\n    public SomeInterface get() {\r\n        if (inRequestScope()) {\r\n            return new ClassA();\r\n        } else {\r\n            return new ClassB();\r\n        }\r\n    }\r\n\r\n    private boolean inRequestScope() {\r\n        try {\r\n            requestScope.current();\r\n            return true;\r\n        } catch (IllegalStateException e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLooking at the [implementation][1] of [current][2] this should have no side effects. It&#39;s not ideal, but the best solution I could find.\r\n\r\nYou can also `@Inject` MyFactory with proxies to 2 different implementations, A and B, and return those, or add caching, etc.\r\n\r\n  [1]: https://github.com/eclipse-ee4j/jersey/blob/2.x/core-common/src/main/java/org/glassfish/jersey/process/internal/RequestScope.java#L149\r\n  [2]: https://eclipse-ee4j.github.io/jersey.github.io/apidocs/2.35/jersey/org/glassfish/jersey/process/internal/RequestScope.html#current--","title":"How can I determine if I&#39;m inside Jersey request scope?","body":"<p>I have had the same problem, the closest thing I have found to do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyFactory implements Suplier&lt;SomeInterface&gt; {\n\n    @Override\n    public SomeInterface get() {\n        if (inRequestScope()) {\n            return new ClassA();\n        } else {\n            return new ClassB();\n        }\n    }\n\n    private boolean inRequestScope() {\n        try {\n            requestScope.current();\n            return true;\n        } catch (IllegalStateException e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>Looking at the <a href=\"https://github.com/eclipse-ee4j/jersey/blob/2.x/core-common/src/main/java/org/glassfish/jersey/process/internal/RequestScope.java#L149\" rel=\"nofollow noreferrer\">implementation</a> of <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/apidocs/2.35/jersey/org/glassfish/jersey/process/internal/RequestScope.html#current--\" rel=\"nofollow noreferrer\">current</a> this should have no side effects. It's not ideal, but the best solution I could find.</p>\n<p>You can also <code>@Inject</code> MyFactory with proxies to 2 different implementations, A and B, and return those, or add caching, etc.</p>\n"}],"owner":{"account_id":2503788,"reputation":3546,"user_id":2178159,"accept_rate":50,"display_name":"Cameron Little"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1698340343,"creation_date":1651521358,"question_id":72091735,"body_markdown":"I have some code that will run both inside Jersey request context and outside of Jersey request context (in another thread). I have a piece of data I want to access in both cases that&#39;s optional, but I need to know if I can pull it from.\r\n\r\nWithin Jersey request context it comes from a header parameter. I&#39;m using a `org.glassfish.hk2.api.ServiceLocator` to access the `javax.ws.rs.container.ContainerRequestContext` from which I can read the header. However, this is optional, so it may or may not be present. Outside of Jersey request context I&#39;m currently using [MDC](https://logback.qos.ch/manual/mdc.html) to store and read the value, but again, it&#39;s optional. (To pass the value between the two, I&#39;m using in [temporal](http://temporal.io) context.) All of this stuff is working.\r\n\r\nI want to know where to pull the value from, request context or MDC.\r\n\r\nI know that if I try to access `ContainerRequestContext` outside of Jersey&#39;s `org.glassfish.jersey.process.internal.RequestScope` and it&#39;s `null` I&#39;m not in request scope and should use MDC. But, I get unsilenceable warnings. [An `IllegalStateException` is thrown](https://github.com/eclipse-ee4j/jersey/blob/bdb0dd05560d7611b1650ef35fab468323da8a56/core-common/src/main/java/org/glassfish/jersey/process/internal/RequestScope.java#L153) and logged as a warning inside the service locator (which I can&#39;t silence).\r\n\r\nOne option would be to store a non-optional sentinel value in MDC, since that&#39;s always available. When I use temporal to store the optional value, I can set a sentinel. If the sentinel is present, use MDC, if not, use request context.\r\n\r\nI think a cleaner way that I&#39;d expect to work is just to check if I&#39;m inside jersey&#39;s request scope. However, I can&#39;t find a way to do this, either using `RequestScope` or `ServiceLocator`. Does anyone know how to do this?","title":"How can I determine if I&#39;m inside Jersey request scope?","body":"<p>I have some code that will run both inside Jersey request context and outside of Jersey request context (in another thread). I have a piece of data I want to access in both cases that's optional, but I need to know if I can pull it from.</p>\n<p>Within Jersey request context it comes from a header parameter. I'm using a <code>org.glassfish.hk2.api.ServiceLocator</code> to access the <code>javax.ws.rs.container.ContainerRequestContext</code> from which I can read the header. However, this is optional, so it may or may not be present. Outside of Jersey request context I'm currently using <a href=\"https://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">MDC</a> to store and read the value, but again, it's optional. (To pass the value between the two, I'm using in <a href=\"http://temporal.io\" rel=\"nofollow noreferrer\">temporal</a> context.) All of this stuff is working.</p>\n<p>I want to know where to pull the value from, request context or MDC.</p>\n<p>I know that if I try to access <code>ContainerRequestContext</code> outside of Jersey's <code>org.glassfish.jersey.process.internal.RequestScope</code> and it's <code>null</code> I'm not in request scope and should use MDC. But, I get unsilenceable warnings. <a href=\"https://github.com/eclipse-ee4j/jersey/blob/bdb0dd05560d7611b1650ef35fab468323da8a56/core-common/src/main/java/org/glassfish/jersey/process/internal/RequestScope.java#L153\" rel=\"nofollow noreferrer\">An <code>IllegalStateException</code> is thrown</a> and logged as a warning inside the service locator (which I can't silence).</p>\n<p>One option would be to store a non-optional sentinel value in MDC, since that's always available. When I use temporal to store the optional value, I can set a sentinel. If the sentinel is present, use MDC, if not, use request context.</p>\n<p>I think a cleaner way that I'd expect to work is just to check if I'm inside jersey's request scope. However, I can't find a way to do this, either using <code>RequestScope</code> or <code>ServiceLocator</code>. Does anyone know how to do this?</p>\n"},{"tags":["java","mysql","spring-boot","jpa"],"comments":[{"owner":{"account_id":14352296,"reputation":846,"user_id":10367370,"display_name":"Vimukthi"},"score":1,"creation_date":1698223619,"post_id":77357133,"comment_id":136376633,"body_markdown":"Have you tried adding `@Basic(fetch = FetchType.LAZY)` on top of `FamilyEventType` fields? Possible duplication of https://stackoverflow.com/q/36977540/10367370","body":"Have you tried adding <code>@Basic(fetch = FetchType.LAZY)</code> on top of <code>FamilyEventType</code> fields? Possible duplication of <a href=\"https://stackoverflow.com/q/36977540/10367370\">stackoverflow.com/q/36977540/10367370</a>"},{"owner":{"account_id":14358563,"reputation":291,"user_id":10371641,"display_name":"Clown"},"score":0,"creation_date":1698240589,"post_id":77357133,"comment_id":136380029,"body_markdown":"@Vimukthi Hi, I did it this way \natBasic(fetch = FetchType.LAZY)\n    atId\n    private char id;\n\n    atBasic(fetch = FetchType.LAZY)\n    atColumn(name = &quot;family_event_type&quot;)\n    private String familyEventType; and still \n\nAnd Im still getting the field familyEventType(String) when using my query","body":"@Vimukthi Hi, I did it this way  atBasic(fetch = FetchType.LAZY)     atId     private char id;      atBasic(fetch = FetchType.LAZY)     atColumn(name = &quot;family_event_type&quot;)     private String familyEventType; and still   And Im still getting the field familyEventType(String) when using my query"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698242399,"post_id":77357133,"comment_id":136380474,"body_markdown":"Your FamilyEvent has a mapping to FamilyEventType instances, which would have to be fully mapped when using the basic queries. If you want to control and only partially fetch attributes, you&#39;ll probably have to use JPA queries (though native SQL queries may work) and specify load and fetch graphs to define which properties you want built into your entity and which should be lazily loaded. See https://stackoverflow.com/a/31978349/496099 as you&#39;ll probably want to use a fetchgraph to define exactly what you want to fetch in both entities","body":"Your FamilyEvent has a mapping to FamilyEventType instances, which would have to be fully mapped when using the basic queries. If you want to control and only partially fetch attributes, you&#39;ll probably have to use JPA queries (though native SQL queries may work) and specify load and fetch graphs to define which properties you want built into your entity and which should be lazily loaded. See <a href=\"https://stackoverflow.com/a/31978349/496099\">stackoverflow.com/a/31978349/496099</a> as you&#39;ll probably want to use a fetchgraph to define exactly what you want to fetch in both entities"}],"answers":[{"tags":[],"owner":{"account_id":28911724,"reputation":1,"user_id":22144599,"display_name":"Vishnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698340107,"creation_date":1698339881,"answer_id":77369056,"question_id":77357133,"body_markdown":"You have an issue with the query. You wrote\r\n\r\n `SELECT * FROM family_events WHERE family_event_date BETWEEN ?1 AND ?2`\r\nThis returns all the fields. If you want only the id then it should be \r\n`SELECT id FROM family_events WHERE family_event_date BETWEEN ?1 AND ?2`.\r\n\r\nThen you must also change the return type of\r\n\r\n     ArrayList&lt;FamilyEvent&gt; getFamilyEventsBetween(String startDate, String endDate);\r\n\r\nto `ArrayList&lt;String&gt;`.\r\nAnd one more thing, you will always get the familyEventType of family_event_types entity irrespective of FetchType while using `select *`. Because the FetchType.LAZY in JPA is an ORM-level directive. JPA&#39;s directives won&#39;t influence what&#39;s fetched from the database in the case of Native queries.\r\nI don&#39;t recommend you to use a native query here, but if you insist you have to specify all the columns you want to be fetched in your query.","title":"How to retrieve only specific field of related entity in Springboot JPA","body":"<p>You have an issue with the query. You wrote</p>\n<p><code>SELECT * FROM family_events WHERE family_event_date BETWEEN ?1 AND ?2</code>\nThis returns all the fields. If you want only the id then it should be\n<code>SELECT id FROM family_events WHERE family_event_date BETWEEN ?1 AND ?2</code>.</p>\n<p>Then you must also change the return type of</p>\n<pre><code> ArrayList&lt;FamilyEvent&gt; getFamilyEventsBetween(String startDate, String endDate);\n</code></pre>\n<p>to <code>ArrayList&lt;String&gt;</code>.\nAnd one more thing, you will always get the familyEventType of family_event_types entity irrespective of FetchType while using <code>select *</code>. Because the FetchType.LAZY in JPA is an ORM-level directive. JPA's directives won't influence what's fetched from the database in the case of Native queries.\nI don't recommend you to use a native query here, but if you insist you have to specify all the columns you want to be fetched in your query.</p>\n"}],"owner":{"account_id":14358563,"reputation":291,"user_id":10371641,"display_name":"Clown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698340107,"creation_date":1698216281,"question_id":77357133,"body_markdown":"I have two related entities:\r\n\r\n    \r\n    @Entity\r\n    @Table(name = &quot;family_events&quot;)\r\n    public class FamilyEvent {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;family_event_date&quot;)\r\n        private Date familyEventDate;\r\n    \r\n        private String family;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;family_event_type_id&quot;)\r\n        private FamilyEventType familyEventType;\r\n    \r\n        public String getFamily() {\r\n            return family;\r\n        }\r\n    \r\n        public Date getFamilyEventDate() {\r\n            return familyEventDate;\r\n        }\r\n    \r\n        public FamilyEventType getFamilyEventType() {\r\n            return familyEventType;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    }\r\n\r\nand family_event_types:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;family_event_types&quot;)\r\n    public class FamilyEventType {\r\n        @Id\r\n        private char id;\r\n    \r\n        @Column(name = &quot;family_event_type&quot;)\r\n        private String familyEventType;\r\n    \r\n        public String getFamilyEventType() {\r\n            return familyEventType;\r\n        }\r\n    \r\n        public char getId() {\r\n            return id;\r\n        }\r\n        \r\n    }\r\n\r\nAnd Im using this query in my repository class in order to retrieve some specific family_events records:\r\n\r\n    public interface FamilyEventRepository extends JpaRepository&lt;FamilyEvent, Long&gt; {\r\n    \r\n        @Query(value = &quot;SELECT * FROM family_events WHERE family_event_date BETWEEN ?1 AND ?2&quot;, nativeQuery = true)\r\n        ArrayList&lt;FamilyEvent&gt; getFamilyEventsBetween(String startDate, String endDate);\r\n    }\r\n\r\nHowever when I get the results, my records include the familyEventType of family_event_types entity. And I only want to retrieve the Id of that related entity (no more fields).\r\n\r\nHow can I do that? Do I have to create a wrapper? I would like to use only native queries, but if its not possible, then that&#39;s ok.","title":"How to retrieve only specific field of related entity in Springboot JPA","body":"<p>I have two related entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;family_events&quot;)\npublic class FamilyEvent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;family_event_date&quot;)\n    private Date familyEventDate;\n\n    private String family;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;family_event_type_id&quot;)\n    private FamilyEventType familyEventType;\n\n    public String getFamily() {\n        return family;\n    }\n\n    public Date getFamilyEventDate() {\n        return familyEventDate;\n    }\n\n    public FamilyEventType getFamilyEventType() {\n        return familyEventType;\n    }\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n<p>and family_event_types:</p>\n<pre><code>@Entity\n@Table(name = &quot;family_event_types&quot;)\npublic class FamilyEventType {\n    @Id\n    private char id;\n\n    @Column(name = &quot;family_event_type&quot;)\n    private String familyEventType;\n\n    public String getFamilyEventType() {\n        return familyEventType;\n    }\n\n    public char getId() {\n        return id;\n    }\n    \n}\n</code></pre>\n<p>And Im using this query in my repository class in order to retrieve some specific family_events records:</p>\n<pre><code>public interface FamilyEventRepository extends JpaRepository&lt;FamilyEvent, Long&gt; {\n\n    @Query(value = &quot;SELECT * FROM family_events WHERE family_event_date BETWEEN ?1 AND ?2&quot;, nativeQuery = true)\n    ArrayList&lt;FamilyEvent&gt; getFamilyEventsBetween(String startDate, String endDate);\n}\n</code></pre>\n<p>However when I get the results, my records include the familyEventType of family_event_types entity. And I only want to retrieve the Id of that related entity (no more fields).</p>\n<p>How can I do that? Do I have to create a wrapper? I would like to use only native queries, but if its not possible, then that's ok.</p>\n"},{"tags":["java","spring-boot","oauth"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8189,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698339382,"creation_date":1698288703,"answer_id":77363856,"question_id":77358403,"body_markdown":"### Fix your application properties\r\nApparently, the `openid` scope is missing.\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          google:\r\n            client-id: &lt;my-client-id&gt;\r\n            client-secret: &lt;my-client-secret&gt;\r\n            redirect-uri: http://localhost:8080/google\r\n          scope:\r\n            - email\r\n            - profile\r\n            - openid\r\n```\r\n\r\n### Fix your controller code\r\nIf `openid` scope was there and if the user was successfully authenticated with `oauth2Login` (`authorization_code` flow), the `OAuth2User` should actually be an `OidcUser`, which extends `OAuth2User` and `IdTokenClaimAccessor`. This means than you should be able to do as follow:\r\n```java\r\n@Controller\r\npublic class OAuthController {\r\n\r\n    @GetMapping(&quot;/google&quot;)\r\n    public ResponseEntity&lt;String&gt; google() {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        if (    authentication instanceof OAuth2AuthenticationToken oauth &amp;&amp;\r\n                oauth.getPrincipal() instanceof OidcUser oidcUser) {\r\n            System.out.println(oidcUser.getEmail());\r\n        } else {\r\n            System.out.println(&quot;Not an OIDC user&quot;);\r\n        }\r\n\r\n        return ResponseEntity.ok(&quot;Hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\nYou should also be able to explicitly access the ID token claims with for instance `oidcUser.getIdToken().getEmail()`.\r\n\r\n### Fix your Java configuration\r\nAccording to the logs you linked in the comments, the request is not authorized (it is an anonymous request). Your security filter-chain is a mess with at least 3 different mechanisms for requests authorization (Basic, JWT Bearer and OAuth2 client with login).\r\n\r\nYou should use only one request authorization mechanism per `SecurityFilterChain` bean (when you define several, `@Order` those beans and put a `securityMatcher` in each but the one with lowest precedence). For your experimentation, I suggest you start by using only OAuth2 client with login:\r\n```java\r\n@Bean\r\npublic SecurityFilterChain oauth2ClientnWithLoginFilterChain(HttpSecurity http) throws Exception {\r\n    // Don&#39;t  ever disable CSRF protection when sessions are enabled (OAuth2 clients with login need sessions)\r\n    http.csrf(Customizer.withDefaults());\r\n    http.oauth2Login(Customizer.withDefaults());\r\n\r\n    http.authorizeHttpRequests(auth -&gt;\r\n            auth\r\n                    .requestMatchers(&quot;/&quot;, &quot;/login/**&quot;, &quot;/oauth2/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n    );\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\nWe don&#39;t have the code for your `jwtFilter` nor the origin of the requests using it, but it is most probably an artifact of worst practices. If your intention is to provide SPA (Angular, React, Vue, ...) or mobile application with a JWT to authorize request, it is definitely a worst practice: such frontends should be authorized with session cookie (and CSRF protection) using your OAuth2 client filter-chain with `oauth2Login`. **OAuth2 tokens should remain on servers you trust**. In any case, tokens should be delivered by authorization server to clients. This clients use the tokens to authorize the request it send to resource server. Even if you merge several of this 3 actors into a single application, each should have its own security filter-chain.\r\n\r\nIf you are using OAuth2, clients running on servers without the context of a user should probably be using `client_credentials` flow instead of Basic auth.\r\n\r\nI suggest you start by reading the [OAuth2 essentials][1] section of my tutorials. You should be able to better define what kind of request authorization mechanism you want. Then refer to the right tutorials to configure your application(s): reorganize the SecurityFilterChain(s) and configure several in a single app if needed.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials","title":"OAuth: Not able to see Google email addresses after login","body":"<h3>Fix your application properties</h3>\n<p>Apparently, the <code>openid</code> scope is missing.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          google:\n            client-id: &lt;my-client-id&gt;\n            client-secret: &lt;my-client-secret&gt;\n            redirect-uri: http://localhost:8080/google\n          scope:\n            - email\n            - profile\n            - openid\n</code></pre>\n<h3>Fix your controller code</h3>\n<p>If <code>openid</code> scope was there and if the user was successfully authenticated with <code>oauth2Login</code> (<code>authorization_code</code> flow), the <code>OAuth2User</code> should actually be an <code>OidcUser</code>, which extends <code>OAuth2User</code> and <code>IdTokenClaimAccessor</code>. This means than you should be able to do as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class OAuthController {\n\n    @GetMapping(&quot;/google&quot;)\n    public ResponseEntity&lt;String&gt; google() {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n\n        if (    authentication instanceof OAuth2AuthenticationToken oauth &amp;&amp;\n                oauth.getPrincipal() instanceof OidcUser oidcUser) {\n            System.out.println(oidcUser.getEmail());\n        } else {\n            System.out.println(&quot;Not an OIDC user&quot;);\n        }\n\n        return ResponseEntity.ok(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p>You should also be able to explicitly access the ID token claims with for instance <code>oidcUser.getIdToken().getEmail()</code>.</p>\n<h3>Fix your Java configuration</h3>\n<p>According to the logs you linked in the comments, the request is not authorized (it is an anonymous request). Your security filter-chain is a mess with at least 3 different mechanisms for requests authorization (Basic, JWT Bearer and OAuth2 client with login).</p>\n<p>You should use only one request authorization mechanism per <code>SecurityFilterChain</code> bean (when you define several, <code>@Order</code> those beans and put a <code>securityMatcher</code> in each but the one with lowest precedence). For your experimentation, I suggest you start by using only OAuth2 client with login:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain oauth2ClientnWithLoginFilterChain(HttpSecurity http) throws Exception {\n    // Don't  ever disable CSRF protection when sessions are enabled (OAuth2 clients with login need sessions)\n    http.csrf(Customizer.withDefaults());\n    http.oauth2Login(Customizer.withDefaults());\n\n    http.authorizeHttpRequests(auth -&gt;\n            auth\n                    .requestMatchers(&quot;/&quot;, &quot;/login/**&quot;, &quot;/oauth2/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n    );\n\n    return http.build();\n}\n</code></pre>\n<p>We don't have the code for your <code>jwtFilter</code> nor the origin of the requests using it, but it is most probably an artifact of worst practices. If your intention is to provide SPA (Angular, React, Vue, ...) or mobile application with a JWT to authorize request, it is definitely a worst practice: such frontends should be authorized with session cookie (and CSRF protection) using your OAuth2 client filter-chain with <code>oauth2Login</code>. <strong>OAuth2 tokens should remain on servers you trust</strong>. In any case, tokens should be delivered by authorization server to clients. This clients use the tokens to authorize the request it send to resource server. Even if you merge several of this 3 actors into a single application, each should have its own security filter-chain.</p>\n<p>If you are using OAuth2, clients running on servers without the context of a user should probably be using <code>client_credentials</code> flow instead of Basic auth.</p>\n<p>I suggest you start by reading the <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">OAuth2 essentials</a> section of my tutorials. You should be able to better define what kind of request authorization mechanism you want. Then refer to the right tutorials to configure your application(s): reorganize the SecurityFilterChain(s) and configure several in a single app if needed.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77363856,"answer_count":1,"score":1,"last_activity_date":1698339382,"creation_date":1698227411,"question_id":77358403,"body_markdown":"I would like to get the email address from the Google user. To do this, I am using this dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAfter login, user gets redirected to this controller:\r\n```java\r\n@Controller\r\npublic class OAuthController {\r\n    @GetMapping(&quot;/google&quot;)\r\n    public ResponseEntity&lt;String&gt; google() {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        if (authentication instanceof OAuth2AuthenticationToken) {\r\n            OAuth2User user = (OAuth2User) authentication.getPrincipal();\r\n\r\n            String email = user.getAttribute(&quot;email&quot;);\r\n            System.out.println(email);\r\n        } else {\r\n            System.out.println(&quot;No Email&quot;);\r\n        }\r\n\r\n        return ResponseEntity.ok(&quot;Hello&quot;);\r\n    }\r\n```\r\nHowever, I always get into the else-statement. This is the return of `authentication`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd this is my security configuration:\r\n```java\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.csrf().disable();\r\n\r\n    http.sessionManagement().sessionAuthenticationStrategy(sessionAuthenticationStrategy());\r\n\r\n    http.authorizeHttpRequests(auth -&gt;\r\n            auth\r\n                    .requestMatchers(&quot;/api/welcome&quot;).authenticated()\r\n                    .anyRequest().permitAll()\r\n    );\r\n\r\n    http.httpBasic();\r\n    http.logout().permitAll();\r\n    http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    http.oauth2Login(Customizer.withDefaults());\r\n    return http.build();\r\n}\r\n```\r\n\r\nIn the *OAuth consent screen* of Google Cloud, I have added my email address as a test user and added the scopes *.../auth/userinfo.email* and *.../auth/userinfo.profile*. My application.yml looks like this:\r\n```yml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          google:\r\n            client-id: &lt;my-client-id&gt;\r\n            client-secret: &lt;my-client-secret&gt;\r\n            redirect-uri: http://localhost:8080/google\r\n          scope:\r\n            - email\r\n            - profile\r\n```\r\n\r\nWhen signing in, Google highlights that the email address will be shared. See:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo why am I not able to see the email address?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6FfAS.png\r\n  [2]: https://i.stack.imgur.com/ilh58.png","title":"OAuth: Not able to see Google email addresses after login","body":"<p>I would like to get the email address from the Google user. To do this, I am using this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After login, user gets redirected to this controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class OAuthController {\n    @GetMapping(&quot;/google&quot;)\n    public ResponseEntity&lt;String&gt; google() {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n\n        if (authentication instanceof OAuth2AuthenticationToken) {\n            OAuth2User user = (OAuth2User) authentication.getPrincipal();\n\n            String email = user.getAttribute(&quot;email&quot;);\n            System.out.println(email);\n        } else {\n            System.out.println(&quot;No Email&quot;);\n        }\n\n        return ResponseEntity.ok(&quot;Hello&quot;);\n    }\n</code></pre>\n<p>However, I always get into the else-statement. This is the return of <code>authentication</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/6FfAS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6FfAS.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is my security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf().disable();\n\n    http.sessionManagement().sessionAuthenticationStrategy(sessionAuthenticationStrategy());\n\n    http.authorizeHttpRequests(auth -&gt;\n            auth\n                    .requestMatchers(&quot;/api/welcome&quot;).authenticated()\n                    .anyRequest().permitAll()\n    );\n\n    http.httpBasic();\n    http.logout().permitAll();\n    http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n    http.oauth2Login(Customizer.withDefaults());\n    return http.build();\n}\n</code></pre>\n<p>In the <em>OAuth consent screen</em> of Google Cloud, I have added my email address as a test user and added the scopes <em>.../auth/userinfo.email</em> and <em>.../auth/userinfo.profile</em>. My application.yml looks like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          google:\n            client-id: &lt;my-client-id&gt;\n            client-secret: &lt;my-client-secret&gt;\n            redirect-uri: http://localhost:8080/google\n          scope:\n            - email\n            - profile\n</code></pre>\n<p>When signing in, Google highlights that the email address will be shared. See:</p>\n<p><a href=\"https://i.stack.imgur.com/ilh58.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ilh58.png\" alt=\"enter image description here\" /></a></p>\n<p>So why am I not able to see the email address?</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-amqp"],"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698339225,"creation_date":1698301412,"question_id":77364557,"body_markdown":"Dependencies:\r\n\r\nspring-boot-starter-amqp:3.1.1\r\n\r\nI am currently using AsyncRabbitTemplate and it keeps opening a new channel. The problem is that there are more channels being created and the idle channels are not closed immediately. What would be the best way to deal with it?\r\n\r\n```\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n2023-10-26 06:16:52.826 WARN  [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#5-4] [/] o.s.a.r.l.DirectReplyToMessageListenerContainer - basicConsume failed, scheduling consumer for queue amq.rabbitmq.reply-to for restart\r\norg.springframework.amqp.AmqpResourceNotAvailableException: The channelMax limit is reached. Try later.\r\n```\r\n\r\nThis is my RabbitMQ config. I am not sure if this would be the correct config for it. I am using Spring Boot btw\r\n```\r\n@Configuration\r\n@EnableRabbit\r\npublic class RabbitConfig {\r\n\r\n\r\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.initial-interval}&quot;)\r\n    private int retryInitialInterval;\r\n\r\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.max-attempts}&quot;)\r\n    private int retryMaxAttempts;\r\n\r\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.multiplier}&quot;)\r\n    private double retryMultiplier;\r\n\r\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.max-interval}&quot;)\r\n    private int retryMaxInterval;\r\n\r\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.max-consumers}&quot;)\r\n    private int maxConsumers;\r\n\r\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.concurrent-consumers}&quot;)\r\n    private int concurrentConsumers;\r\n\r\n    @Value(&quot;${spring.rabbitmq.host}&quot;)\r\n    private String host;\r\n\r\n    @Value(&quot;${spring.rabbitmq.username}&quot;)\r\n    private String username;\r\n\r\n    @Value(&quot;${spring.rabbitmq.password}&quot;)\r\n    private String password;\r\n\r\n    @Bean\r\n    public ConnectionFactory customConnectionFactory(){\r\n        final CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\r\n        cachingConnectionFactory.setHost(host);\r\n        cachingConnectionFactory.setUsername(username);\r\n        cachingConnectionFactory.setPassword(password);\r\n        return cachingConnectionFactory;\r\n\r\n    }\r\n\r\n\r\n    @Bean\r\n    public MessageConverter jsonMessageConverter() {\r\n        return new Jackson2JsonMessageConverter();\r\n    }\r\n\r\n    @Bean\r\n    public AsyncRabbitTemplate asyncRabbitTemplate(RabbitTemplate customRabbitTemplate ) {\r\n        return new AsyncRabbitTemplate(customRabbitTemplate);\r\n    }\r\n    @Bean\r\n    public RabbitTemplate customRabbitTemplate(ConnectionFactory customConnectionFactory) {\r\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(customConnectionFactory);\r\n        rabbitTemplate.setMessageConverter(jsonMessageConverter());\r\n        return rabbitTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(final ConnectionFactory customConnectionFactory) {\r\n\r\n\r\n        final SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n        factory.setConnectionFactory(customConnectionFactory);\r\n        factory.setMessageConverter(jsonMessageConverter());\r\n        factory.setConcurrentConsumers(concurrentConsumers);\r\n        factory.setMaxConcurrentConsumers(maxConsumers);\r\n        factory.setAdviceChain(messageRetryInterceptor());\r\n        return factory;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public RetryOperationsInterceptor messageRetryInterceptor(){\r\n        return RetryInterceptorBuilder.StatelessRetryInterceptorBuilder\r\n                .stateless()\r\n                .maxAttempts(retryMaxAttempts)\r\n//                .backOffOptions(\r\n//                        retryInitialInterval,\r\n//                        retryMultiplier,\r\n//                        retryMaxInterval\r\n//                )\r\n                .recoverer(new RejectAndDontRequeueRecoverer())\r\n                .build();\r\n    }\r\n\r\n\r\n}\r\n```","title":"The channelMax limit is reached","body":"<p>Dependencies:</p>\n<p>spring-boot-starter-amqp:3.1.1</p>\n<p>I am currently using AsyncRabbitTemplate and it keeps opening a new channel. The problem is that there are more channels being created and the idle channels are not closed immediately. What would be the best way to deal with it?</p>\n<pre><code>        at java.base/java.lang.Thread.run(Thread.java:833)\n2023-10-26 06:16:52.826 WARN  [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#5-4] [/] o.s.a.r.l.DirectReplyToMessageListenerContainer - basicConsume failed, scheduling consumer for queue amq.rabbitmq.reply-to for restart\norg.springframework.amqp.AmqpResourceNotAvailableException: The channelMax limit is reached. Try later.\n</code></pre>\n<p>This is my RabbitMQ config. I am not sure if this would be the correct config for it. I am using Spring Boot btw</p>\n<pre><code>@Configuration\n@EnableRabbit\npublic class RabbitConfig {\n\n\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.initial-interval}&quot;)\n    private int retryInitialInterval;\n\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.max-attempts}&quot;)\n    private int retryMaxAttempts;\n\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.multiplier}&quot;)\n    private double retryMultiplier;\n\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.max-interval}&quot;)\n    private int retryMaxInterval;\n\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.max-consumers}&quot;)\n    private int maxConsumers;\n\n    @Value(&quot;${spring.rabbitmq.listener.simple.retry.concurrent-consumers}&quot;)\n    private int concurrentConsumers;\n\n    @Value(&quot;${spring.rabbitmq.host}&quot;)\n    private String host;\n\n    @Value(&quot;${spring.rabbitmq.username}&quot;)\n    private String username;\n\n    @Value(&quot;${spring.rabbitmq.password}&quot;)\n    private String password;\n\n    @Bean\n    public ConnectionFactory customConnectionFactory(){\n        final CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\n        cachingConnectionFactory.setHost(host);\n        cachingConnectionFactory.setUsername(username);\n        cachingConnectionFactory.setPassword(password);\n        return cachingConnectionFactory;\n\n    }\n\n\n    @Bean\n    public MessageConverter jsonMessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n\n    @Bean\n    public AsyncRabbitTemplate asyncRabbitTemplate(RabbitTemplate customRabbitTemplate ) {\n        return new AsyncRabbitTemplate(customRabbitTemplate);\n    }\n    @Bean\n    public RabbitTemplate customRabbitTemplate(ConnectionFactory customConnectionFactory) {\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(customConnectionFactory);\n        rabbitTemplate.setMessageConverter(jsonMessageConverter());\n        return rabbitTemplate;\n    }\n\n    @Bean\n    public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(final ConnectionFactory customConnectionFactory) {\n\n\n        final SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n        factory.setConnectionFactory(customConnectionFactory);\n        factory.setMessageConverter(jsonMessageConverter());\n        factory.setConcurrentConsumers(concurrentConsumers);\n        factory.setMaxConcurrentConsumers(maxConsumers);\n        factory.setAdviceChain(messageRetryInterceptor());\n        return factory;\n    }\n\n\n    @Bean\n    public RetryOperationsInterceptor messageRetryInterceptor(){\n        return RetryInterceptorBuilder.StatelessRetryInterceptorBuilder\n                .stateless()\n                .maxAttempts(retryMaxAttempts)\n//                .backOffOptions(\n//                        retryInitialInterval,\n//                        retryMultiplier,\n//                        retryMaxInterval\n//                )\n                .recoverer(new RejectAndDontRequeueRecoverer())\n                .build();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":1,"creation_date":1471482762,"post_id":20218486,"comment_id":65368677,"body_markdown":"I just [reported this one](https://issues.apache.org/jira/browse/MCOMPILER-274) because I don&#39;t think Maven&#39;s behaviour is acceptable...","body":"I just <a href=\"https://issues.apache.org/jira/browse/MCOMPILER-274\" rel=\"nofollow noreferrer\">reported this one</a> because I don&#39;t think Maven&#39;s behaviour is acceptable..."},{"owner":{"account_id":1517357,"reputation":3885,"user_id":1456887,"display_name":"Jesse Chisholm"},"score":0,"creation_date":1554768383,"post_id":20218486,"comment_id":97864776,"body_markdown":"And yet, it is still happening with `maven-compiler-plugin` `3.5.1` with no improvement in printed error messages.","body":"And yet, it is still happening with <code>maven-compiler-plugin</code> <code>3.5.1</code> with no improvement in printed error messages."}],"answers":[{"tags":[],"owner":{"account_id":2286460,"reputation":2581,"user_id":2010317,"accept_rate":80,"display_name":"shshank"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1385474923,"creation_date":1385474923,"answer_id":20219338,"question_id":20218486,"body_markdown":"Your Maven is reading Java version as 1.6.0_65, Where as the pom.xml says the version is 1.7.\r\n\r\nTry installing the required verison.\r\n\r\nIf already installed check your $JAVA_HOME environment variable, it should contain the path of Java JDK 7. If you dont find it, fix your environment variable.\r\n\r\nalso remove the lines \r\n\r\n     &lt;fork&gt;true&lt;/fork&gt;\r\n         &lt;executable&gt;${JAVA_1_7_HOME}/bin/javac&lt;/executable&gt;\r\n\r\nfrom the `pom.xml`","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>Your Maven is reading Java version as 1.6.0_65, Where as the pom.xml says the version is 1.7.</p>\n\n<p>Try installing the required verison.</p>\n\n<p>If already installed check your $JAVA_HOME environment variable, it should contain the path of Java JDK 7. If you dont find it, fix your environment variable.</p>\n\n<p>also remove the lines </p>\n\n<pre><code> &lt;fork&gt;true&lt;/fork&gt;\n     &lt;executable&gt;${JAVA_1_7_HOME}/bin/javac&lt;/executable&gt;\n</code></pre>\n\n<p>from the <code>pom.xml</code></p>\n"},{"tags":[],"owner":{"account_id":435977,"reputation":49,"user_id":822858,"display_name":"gmbutcher"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1392890575,"creation_date":1392890575,"answer_id":21904375,"question_id":20218486,"body_markdown":"I was getting similar errors and eventually found just that cleaning the build folder resolved my issue.\r\n\r\n    mvn clean install","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>I was getting similar errors and eventually found just that cleaning the build folder resolved my issue.</p>\n\n<pre><code>mvn clean install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263788,"reputation":271,"user_id":1699597,"display_name":"Dinesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472126051,"creation_date":1425783976,"answer_id":28922645,"question_id":20218486,"body_markdown":"I had the same issue. When compared the java version mentioned in the pom.xml file is different and the **JAVA_HOME** env variable was pointing to different version of **jdk**.\r\n\r\nHave the **JAVA_HOME** and `pom.xml` updated to the same **jdk** installation path","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>I had the same issue. When compared the java version mentioned in the pom.xml file is different and the <strong>JAVA_HOME</strong> env variable was pointing to different version of <strong>jdk</strong>.</p>\n\n<p>Have the <strong>JAVA_HOME</strong> and <code>pom.xml</code> updated to the same <strong>jdk</strong> installation path</p>\n"},{"tags":[],"owner":{"account_id":3816744,"reputation":1646,"user_id":3165938,"accept_rate":92,"display_name":"David"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1654607301,"creation_date":1474623235,"answer_id":39657410,"question_id":20218486,"body_markdown":"For my situation, I switched the value of &quot;fork&quot; to false, such as `&lt;fork&gt;false&lt;/fork&gt;`. I do not understand why.","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>For my situation, I switched the value of &quot;fork&quot; to false, such as <code>&lt;fork&gt;false&lt;/fork&gt;</code>. I do not understand why.</p>\n"},{"tags":[],"owner":{"account_id":9939754,"reputation":11,"user_id":7356760,"display_name":"bimalraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483095018,"creation_date":1483095018,"answer_id":41394977,"question_id":20218486,"body_markdown":"If JDK installed but still not working.\r\n \r\nIn Eclipse follow below steps:-\r\nWindow  --&gt; Preference --&gt; Installed JREs --&gt;Change path of JRE to JDK(add).\r\n","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>If JDK installed but still not working.</p>\n\n<p>In Eclipse follow below steps:-\nWindow  --> Preference --> Installed JREs -->Change path of JRE to JDK(add).</p>\n"},{"tags":[],"owner":{"account_id":9775401,"reputation":11,"user_id":7245629,"display_name":"Yog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698339096,"creation_date":1530621798,"answer_id":51154953,"question_id":20218486,"body_markdown":"For me, I changed \r\n`C:\\apps\\Java\\jdk1.8_162\\bin\\javac.exe` to\r\n`C:\\apps\\Java\\jdk1.8_162\\bin\\javacpl.exe`\r\nsince there was no executable with that name in the bin folder.  That worked.","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>For me, I changed\n<code>C:\\apps\\Java\\jdk1.8_162\\bin\\javac.exe</code> to\n<code>C:\\apps\\Java\\jdk1.8_162\\bin\\javacpl.exe</code>\nsince there was no executable with that name in the bin folder.  That worked.</p>\n"},{"tags":[],"owner":{"account_id":3467024,"reputation":108,"user_id":2902298,"display_name":"Sawood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615799585,"creation_date":1615799585,"answer_id":66635182,"question_id":20218486,"body_markdown":"For me this trick worked\r\n\r\nI have to end java task from the task manager, because it was not able to clean.\r\n\r\nRebuild it again and it worked.\r\n\r\nNote: am using windows system. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kjF6l.png","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>For me this trick worked</p>\n<p>I have to end java task from the task manager, because it was not able to clean.</p>\n<p>Rebuild it again and it worked.</p>\n<p>Note: am using windows system.</p>\n<p><a href=\"https://i.stack.imgur.com/kjF6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjF6l.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":408187,"reputation":3374,"user_id":778687,"accept_rate":79,"display_name":"tusar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629269434,"creation_date":1629269434,"answer_id":68827705,"question_id":20218486,"body_markdown":"I have faced a similar exception. Posting here in case it helps someone in future. My SpringBoot application was looking for properties from a `application.yml` file. But I copy-pasted the properties from a smiliar looking `application.properties` file. Please remember, format of both the files are not same.","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>I have faced a similar exception. Posting here in case it helps someone in future. My SpringBoot application was looking for properties from a <code>application.yml</code> file. But I copy-pasted the properties from a smiliar looking <code>application.properties</code> file. Please remember, format of both the files are not same.</p>\n"},{"tags":[],"owner":{"account_id":4234411,"reputation":79,"user_id":3465988,"display_name":"Kff7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637236070,"creation_date":1637236070,"answer_id":70019316,"question_id":20218486,"body_markdown":"I had he same problem even the correct JAVA-Version and JAVA_HOME variable was set. (In my case Java 11).\r\n\r\n**Switching** to another Java-Vendor **from AdoptOpenJDK to Corretto** solved it. \r\n\r\nYou can use [SDKMAN][1] to change easily and quick between different Java-Versions and vendors. (JAVA_HOME variable will set automatically correct by SDKMAN).\r\n \r\n**Install SDKMAN by** \r\n\r\n    curl -s &quot;https://get.sdkman.io&quot; | bash\r\n\r\nthen enter in the terminal:\r\n\r\n    source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\nto ensure installation was successful:\r\n\r\n    sdk version\r\n\r\n\r\n**Install Java 7:**\r\n\r\n    sdk install java 7.0.322-zulu\r\n    sdk default java 7.0.322-zulu\r\n\r\nTo check the versions, runtime and vendor:\r\n\r\n    java --version\r\n    mvn -v\r\n\r\n\r\n  [1]: https://sdkman.io/install","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>I had he same problem even the correct JAVA-Version and JAVA_HOME variable was set. (In my case Java 11).</p>\n<p><strong>Switching</strong> to another Java-Vendor <strong>from AdoptOpenJDK to Corretto</strong> solved it.</p>\n<p>You can use <a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">SDKMAN</a> to change easily and quick between different Java-Versions and vendors. (JAVA_HOME variable will set automatically correct by SDKMAN).</p>\n<p><strong>Install SDKMAN by</strong></p>\n<pre><code>curl -s &quot;https://get.sdkman.io&quot; | bash\n</code></pre>\n<p>then enter in the terminal:</p>\n<pre><code>source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\n</code></pre>\n<p>to ensure installation was successful:</p>\n<pre><code>sdk version\n</code></pre>\n<p><strong>Install Java 7:</strong></p>\n<pre><code>sdk install java 7.0.322-zulu\nsdk default java 7.0.322-zulu\n</code></pre>\n<p>To check the versions, runtime and vendor:</p>\n<pre><code>java --version\nmvn -v\n</code></pre>\n"}],"owner":{"account_id":2369569,"reputation":1285,"user_id":2074477,"accept_rate":75,"display_name":"BabbarTushar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345387,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":20219338,"answer_count":9,"score":65,"last_activity_date":1698339096,"creation_date":1385472753,"question_id":20218486,"body_markdown":"I have been trying to build a code using maven. But I am stuck with an error.\r\nThe code is available on this github repo. [google-play-crawler][1]\r\n\r\nMy system configurations as shown by maven is followning:\r\n\r\n    Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 19:21:28+0530)\r\n    Maven home: /Users/tushar/Downloads/apache-maven-3.0.5\r\n    Java version: 1.6.0_65, vendor: Apple Inc.\r\n    Java home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\r\n    Default locale: en_US, platform encoding: MacRoman\r\n    OS name: &quot;mac os x&quot;, version: &quot;10.9&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\nFollowing is the Maven trace for the error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project googleplaycrawler: Compilation failure -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project googleplaycrawler: Compilation failure\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n    Caused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n    \tat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:862)\r\n    \tat org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n    \t... 19 more\r\n    [ERROR] \r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nHere is the pom.xml.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.akdeniz&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;googleplaycrawler&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.3&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Google Play Crawler&lt;/name&gt;\r\n    \t&lt;url&gt;https://github.com/Akdeniz/google-play-crawler&lt;/url&gt;\r\n    \r\n    \t&lt;description&gt;Play with Google Play API :)&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sourceforge.argparse4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;argparse4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient-cache&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.mina&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mina-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.1.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;protoc-plugin&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://sergei-ivanov.github.com/maven-protoc-plugin/repo/releases/&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t\t&lt;fork&gt;true&lt;/fork\r\n                        &lt;executable&gt;${JAVA_1_7_HOME}/bin/javac&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;attached&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.akdeniz.googleplaycrawler.cli.googleplay&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.3.1&lt;/version&gt;\r\n    \r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;protocExecutable&gt;protoc&lt;/protocExecutable&gt;\r\n    \t\t\t\t\t&lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\r\n    \t\t\t\t\t&lt;languageSpecifications&gt;\r\n    \t\t\t\t\t\t&lt;LanguageSpecification&gt;\r\n    \t\t\t\t\t\t\t&lt;language&gt;JAVA&lt;/language&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t&lt;/LanguageSpecification&gt;\r\n    \t\t\t\t\t&lt;/languageSpecifications&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://github.com/Akdeniz/google-play-crawler\r\n","title":"Unable to Build using MAVEN with ERROR - Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile","body":"<p>I have been trying to build a code using maven. But I am stuck with an error.\nThe code is available on this github repo. <a href=\"https://github.com/Akdeniz/google-play-crawler\" rel=\"noreferrer\">google-play-crawler</a></p>\n\n<p>My system configurations as shown by maven is followning:</p>\n\n<pre><code>Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 19:21:28+0530)\nMaven home: /Users/tushar/Downloads/apache-maven-3.0.5\nJava version: 1.6.0_65, vendor: Apple Inc.\nJava home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\nDefault locale: en_US, platform encoding: MacRoman\nOS name: \"mac os x\", version: \"10.9\", arch: \"x86_64\", family: \"mac\"\n</code></pre>\n\n<p>Following is the Maven trace for the error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project googleplaycrawler: Compilation failure -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project googleplaycrawler: Compilation failure\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:862)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n    ... 19 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>Here is the pom.xml.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.akdeniz&lt;/groupId&gt;\n    &lt;artifactId&gt;googleplaycrawler&lt;/artifactId&gt;\n    &lt;version&gt;0.3&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Google Play Crawler&lt;/name&gt;\n    &lt;url&gt;https://github.com/Akdeniz/google-play-crawler&lt;/url&gt;\n\n    &lt;description&gt;Play with Google Play API :)&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.argparse4j&lt;/groupId&gt;\n            &lt;artifactId&gt;argparse4j&lt;/artifactId&gt;\n            &lt;version&gt;0.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;4.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient-cache&lt;/artifactId&gt;\n            &lt;version&gt;4.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n            &lt;version&gt;4.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.mina&lt;/groupId&gt;\n            &lt;artifactId&gt;mina-core&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.1.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;protoc-plugin&lt;/id&gt;\n            &lt;url&gt;http://sergei-ivanov.github.com/maven-protoc-plugin/repo/releases/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;fork&gt;true&lt;/fork\n                    &lt;executable&gt;${JAVA_1_7_HOME}/bin/javac&lt;/executable&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;attached&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;com.akdeniz.googleplaycrawler.cli.googleplay&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.3.1&lt;/version&gt;\n\n                &lt;configuration&gt;\n                    &lt;protocExecutable&gt;protoc&lt;/protocExecutable&gt;\n                    &lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\n                    &lt;languageSpecifications&gt;\n                        &lt;LanguageSpecification&gt;\n                            &lt;language&gt;JAVA&lt;/language&gt;\n                            &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\n                        &lt;/LanguageSpecification&gt;\n                    &lt;/languageSpecifications&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1698336488,"post_id":77368662,"comment_id":136395551,"body_markdown":"Hackish way: reverse the string, `replaceFirst`, re-reverse the string.","body":"Hackish way: reverse the string, <code>replaceFirst</code>, re-reverse the string."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1698336990,"post_id":77368662,"comment_id":136395648,"body_markdown":"Maybe you could use a combination of `substringBeforeLast` and `substringAfterLast`: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/substring-before-last.html","body":"Maybe you could use a combination of <code>substringBeforeLast</code> and <code>substringAfterLast</code>: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/substring-before-last.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/&hellip;</a>"},{"owner":{"account_id":4405649,"reputation":1782,"user_id":3590155,"accept_rate":60,"display_name":"Leonardo Sibela"},"score":0,"creation_date":1698337579,"post_id":77368662,"comment_id":136395777,"body_markdown":"@FedericoklezCulloca Nice! Who doesn&#39;t love a good old workround solution?","body":"@FedericoklezCulloca Nice! Who doesn&#39;t love a good old workround solution?"},{"owner":{"account_id":4405649,"reputation":1782,"user_id":3590155,"accept_rate":60,"display_name":"Leonardo Sibela"},"score":0,"creation_date":1698337731,"post_id":77368662,"comment_id":136395810,"body_markdown":"@Joffrey would you mind providing an example? If you say it&#39;s not much to ask, you could answer the question with the example","body":"@Joffrey would you mind providing an example? If you say it&#39;s not much to ask, you could answer the question with the example"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1698356942,"post_id":77368662,"comment_id":136398880,"body_markdown":"@FedericoklezCulloca I wouldn&#39;t call this hackish. Years ago I read someone propose something similar for using regexes to match something at or near the end of a string: reverse the string, match with a carefully &#39;reversed&#39; regex, and then reverse the match. They called it a &quot;sexeger&quot; -- regexes spelled backwards. It can be a big performance win if matching in the forward direction would result in catastrophic backtracking.","body":"@FedericoklezCulloca I wouldn&#39;t call this hackish. Years ago I read someone propose something similar for using regexes to match something at or near the end of a string: reverse the string, match with a carefully &#39;reversed&#39; regex, and then reverse the match. They called it a &quot;sexeger&quot; -- regexes spelled backwards. It can be a big performance win if matching in the forward direction would result in catastrophic backtracking."}],"answers":[{"tags":[],"owner":{"account_id":13210775,"reputation":967,"user_id":9541096,"display_name":"Owais Yosuf"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1698337711,"creation_date":1698337711,"answer_id":77368797,"question_id":77368662,"body_markdown":"To replace only the last occurrence of a substring in a Kotlin string, you can use an extension function. Here&#39;s a Kotlin extension function that accomplishes this:\r\n\r\n**Kotlin:**\r\n\r\n    fun String.replaceLast(oldValue: String, newValue: String): String {\r\n        val lastIndex = lastIndexOf(oldValue)\r\n        if (lastIndex == -1) {\r\n            return this\r\n        }\r\n        val prefix = substring(0, lastIndex)\r\n        val suffix = substring(lastIndex + oldValue.length)\r\n        return &quot;$prefix$newValue$suffix&quot;\r\n    }\r\n    \r\n    fun main() {\r\n        val input = &quot;ONE, TWO, THREE, FOUR&quot;\r\n        val result = input.replaceLast(&quot;,&quot;, &quot; &amp;&quot;)\r\n        println(result) // Output: &quot;ONE, TWO, THREE &amp; FOUR&quot;\r\n    }\r\n\r\n**Java:**\r\n\r\n    public class Main {\r\n        public static String replaceLast(String input, String oldValue, String newValue) {\r\n            int lastIndex = input.lastIndexOf(oldValue);\r\n            if (lastIndex == -1) {\r\n                return input;\r\n            }\r\n            String prefix = input.substring(0, lastIndex);\r\n            String suffix = input.substring(lastIndex + oldValue.length());\r\n            return prefix + newValue + suffix;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String input = &quot;ONE, TWO, THREE, FOUR&quot;;\r\n            String result = replaceLast(input, &quot;,&quot;, &quot; &amp;&quot;);\r\n            System.out.println(result); // Output: &quot;ONE, TWO, THREE &amp; FOUR&quot;\r\n        }\r\n    }","title":"Kotlin - Replace only last given String from String","body":"<p>To replace only the last occurrence of a substring in a Kotlin string, you can use an extension function. Here's a Kotlin extension function that accomplishes this:</p>\n<p><strong>Kotlin:</strong></p>\n<pre><code>fun String.replaceLast(oldValue: String, newValue: String): String {\n    val lastIndex = lastIndexOf(oldValue)\n    if (lastIndex == -1) {\n        return this\n    }\n    val prefix = substring(0, lastIndex)\n    val suffix = substring(lastIndex + oldValue.length)\n    return &quot;$prefix$newValue$suffix&quot;\n}\n\nfun main() {\n    val input = &quot;ONE, TWO, THREE, FOUR&quot;\n    val result = input.replaceLast(&quot;,&quot;, &quot; &amp;&quot;)\n    println(result) // Output: &quot;ONE, TWO, THREE &amp; FOUR&quot;\n}\n</code></pre>\n<p><strong>Java:</strong></p>\n<pre><code>public class Main {\n    public static String replaceLast(String input, String oldValue, String newValue) {\n        int lastIndex = input.lastIndexOf(oldValue);\n        if (lastIndex == -1) {\n            return input;\n        }\n        String prefix = input.substring(0, lastIndex);\n        String suffix = input.substring(lastIndex + oldValue.length());\n        return prefix + newValue + suffix;\n    }\n\n    public static void main(String[] args) {\n        String input = &quot;ONE, TWO, THREE, FOUR&quot;;\n        String result = replaceLast(input, &quot;,&quot;, &quot; &amp;&quot;);\n        System.out.println(result); // Output: &quot;ONE, TWO, THREE &amp; FOUR&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698338745,"creation_date":1698338745,"answer_id":77368929,"question_id":77368662,"body_markdown":"To add to the other answer, if you worked with single chars only, you could define your function like this:\r\n\r\n```kotlin\r\nfun String.replaceLast(oldValue: Char, newValue: Char): String =\r\n    substringBeforeLast(oldValue) + newValue + substringAfterLast(oldValue)\r\n```\r\n\r\nBut you may as well avoid traversing the string twice by using the function from the other answer (reusing the index).","title":"Kotlin - Replace only last given String from String","body":"<p>To add to the other answer, if you worked with single chars only, you could define your function like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun String.replaceLast(oldValue: Char, newValue: Char): String =\n    substringBeforeLast(oldValue) + newValue + substringAfterLast(oldValue)\n</code></pre>\n<p>But you may as well avoid traversing the string twice by using the function from the other answer (reusing the index).</p>\n"}],"owner":{"account_id":4405649,"reputation":1782,"user_id":3590155,"accept_rate":60,"display_name":"Leonardo Sibela"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77368797,"answer_count":2,"score":5,"last_activity_date":1698338745,"creation_date":1698336423,"question_id":77368662,"body_markdown":"I&#39;d like to replace String from another String, but only the last found String. For example:\r\n\r\n```kotlin\r\n&quot;ONE, TWO, THREE, FOUR&quot;.replaceLast(&quot;,&quot;, &quot; &amp;&quot;) // Outputs: &quot;ONE, TWO, THREE &amp; FOUR&quot;\r\n```","title":"Kotlin - Replace only last given String from String","body":"<p>I'd like to replace String from another String, but only the last found String. For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>&quot;ONE, TWO, THREE, FOUR&quot;.replaceLast(&quot;,&quot;, &quot; &amp;&quot;) // Outputs: &quot;ONE, TWO, THREE &amp; FOUR&quot;\n</code></pre>\n"},{"tags":["java","spring","monitoring","metrics","dynatrace"],"comments":[{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1698410693,"post_id":77366622,"comment_id":136405524,"body_markdown":"Did you review the official related documentation at https://docs.dynatrace.com/docs/extend-dynatrace/extend-metrics/ingestion-methods/micrometer ? https://www.dynatrace.com/hub/detail/micrometer/ offers even more details. Sources for the implementation seem to be at https://github.com/micrometer-metrics/micrometer/tree/main/implementations/micrometer-registry-dynatrace","body":"Did you review the official related documentation at <a href=\"https://docs.dynatrace.com/docs/extend-dynatrace/extend-metrics/ingestion-methods/micrometer\" rel=\"nofollow noreferrer\">docs.dynatrace.com/docs/extend-dynatrace/extend-metrics/&hellip;</a> ? <a href=\"https://www.dynatrace.com/hub/detail/micrometer/\" rel=\"nofollow noreferrer\">dynatrace.com/hub/detail/micrometer</a> offers even more details. Sources for the implementation seem to be at <a href=\"https://github.com/micrometer-metrics/micrometer/tree/main/implementations/micrometer-registry-dynatrace\" rel=\"nofollow noreferrer\">github.com/micrometer-metrics/micrometer/tree/main/&hellip;</a>"}],"owner":{"account_id":18524293,"reputation":81,"user_id":13496526,"display_name":"alex_t"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698338707,"creation_date":1698319881,"question_id":77366622,"body_markdown":"I want to use the **Dynatrace** monitoring system. I have researched a little monitoring of the **Spring application** using a **Micrometer + Prometheus + Grafana**. In this case, when we creating custom metrics (for example, a counter), we must write in the code, for example:\r\n\r\n```\r\nCounter counter = Counter\r\n  .builder(&quot;instance&quot;)\r\n  .description(&quot;indicates instance count of the object&quot;)\r\n  .tags(&quot;dev&quot;, &quot;performance&quot;)\r\n  .register(registry);\r\n\r\ncounter.increment(2.0);\r\n \r\nassertTrue(counter.count() == 2);\r\n \r\ncounter.increment(-1);\r\n \r\nassertTrue(counter.count() == 1);\r\n```\r\n\r\n\r\nI have a question: how can I make custom metric using Dynatrace? I could not find examples of code. For example, I need a custom counter metric. **How can I create this in my Java code?**","title":"Custom metrics in Dynatrace","body":"<p>I want to use the <strong>Dynatrace</strong> monitoring system. I have researched a little monitoring of the <strong>Spring application</strong> using a <strong>Micrometer + Prometheus + Grafana</strong>. In this case, when we creating custom metrics (for example, a counter), we must write in the code, for example:</p>\n<pre><code>Counter counter = Counter\n  .builder(&quot;instance&quot;)\n  .description(&quot;indicates instance count of the object&quot;)\n  .tags(&quot;dev&quot;, &quot;performance&quot;)\n  .register(registry);\n\ncounter.increment(2.0);\n \nassertTrue(counter.count() == 2);\n \ncounter.increment(-1);\n \nassertTrue(counter.count() == 1);\n</code></pre>\n<p>I have a question: how can I make custom metric using Dynatrace? I could not find examples of code. For example, I need a custom counter metric. <strong>How can I create this in my Java code?</strong></p>\n"},{"tags":["java","reverse","palindrome"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1698337986,"post_id":77368792,"comment_id":136395849,"body_markdown":"Fix this: `sequence == reverse`.","body":"Fix this: <code>sequence == reverse</code>."},{"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"score":0,"creation_date":1698338101,"post_id":77368792,"comment_id":136395877,"body_markdown":"Use .equals() when comparing Strings. `if(sequence.equals(reverse))`","body":"Use .equals() when comparing Strings. <code>if(sequence.equals(reverse))</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1698343526,"post_id":77368792,"comment_id":136396838,"body_markdown":"You don’t need a second loop.  `String reverse = String.valueOf(array);` is sufficient.","body":"You don’t need a second loop.  <code>String reverse = String.valueOf(array);</code> is sufficient."}],"answers":[{"tags":[],"owner":{"account_id":13210775,"reputation":967,"user_id":9541096,"display_name":"Owais Yosuf"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698338098,"creation_date":1698338098,"answer_id":77368853,"question_id":77368792,"body_markdown":"You should use the `equals` method to compare the content of the two strings.\r\n\r\n**Try this:**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class PalindromeChecker {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter a sequence of numbers: &quot;);\r\n            String sequence = scanner.next();\r\n    \r\n            char[] array = new char[sequence.length()];\r\n            int numberIndex = 0;\r\n    \r\n            String reverse = &quot;&quot;;\r\n    \r\n            for (int i = sequence.length() - 1; i &gt;= 0; i--) {\r\n                array[numberIndex] = sequence.charAt(i);\r\n                numberIndex++;\r\n            }\r\n    \r\n            for (int i = 0; i &lt; sequence.length(); i++) {\r\n                reverse += array[i];\r\n            }\r\n    \r\n            System.out.println(reverse);\r\n    \r\n            if (sequence.equals(reverse)) {\r\n                System.out.println(&quot;This sequence is a palindrome.&quot;);\r\n            } else {\r\n                System.out.println(&quot;This sequence is not a palindrome.&quot;);\r\n            }\r\n        }\r\n    }","title":"How to make Palindrome Program?","body":"<p>You should use the <code>equals</code> method to compare the content of the two strings.</p>\n<p><strong>Try this:</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class PalindromeChecker {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Enter a sequence of numbers: &quot;);\n        String sequence = scanner.next();\n\n        char[] array = new char[sequence.length()];\n        int numberIndex = 0;\n\n        String reverse = &quot;&quot;;\n\n        for (int i = sequence.length() - 1; i &gt;= 0; i--) {\n            array[numberIndex] = sequence.charAt(i);\n            numberIndex++;\n        }\n\n        for (int i = 0; i &lt; sequence.length(); i++) {\n            reverse += array[i];\n        }\n\n        System.out.println(reverse);\n\n        if (sequence.equals(reverse)) {\n            System.out.println(&quot;This sequence is a palindrome.&quot;);\n        } else {\n            System.out.println(&quot;This sequence is not a palindrome.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1737868,"reputation":2807,"user_id":1590011,"accept_rate":91,"display_name":"John Doe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698338503,"creation_date":1698338139,"answer_id":77368857,"question_id":77368792,"body_markdown":"Try using the equals method for the string comparison. \r\n\r\nInstead of this \r\n         `if (sequence == reverse) {`\r\n\r\nUse this \r\n          `if (sequence.equals(reverse)) {`\r\n\r\nThe reason is that == checks for reference equality, that is &quot;sequence&quot; and &quot;reverse&quot; which are reference to strings and are pointing to memory locations in the heap memory region of the JVM, are checked for being the same reference.\r\nAnd since &quot;sequence&quot; and &quot;reverse&quot; are two different variable names to different objects on the heap, obviously they can be same.\r\n\r\nAnd you don&#39;t want to check that.\r\n\r\nInstead what you intend to do is that whether the original string referenced by the variable name &quot;sequence&quot; is equal in content with the reversed string having the reference &quot;reverse&quot;.\r\n\r\nThis equals() method checks whether the two referenced objects are not null, they are of the same type as well as equal in content.\r\n\r\nIf al the above parameters are the same then equals will return true, otherwise false. \r\n\r\nHence equals() method should be used here.\r\n\r\n","title":"How to make Palindrome Program?","body":"<p>Try using the equals method for the string comparison.</p>\n<p>Instead of this\n<code>if (sequence == reverse) {</code></p>\n<p>Use this\n<code>if (sequence.equals(reverse)) {</code></p>\n<p>The reason is that == checks for reference equality, that is &quot;sequence&quot; and &quot;reverse&quot; which are reference to strings and are pointing to memory locations in the heap memory region of the JVM, are checked for being the same reference.\nAnd since &quot;sequence&quot; and &quot;reverse&quot; are two different variable names to different objects on the heap, obviously they can be same.</p>\n<p>And you don't want to check that.</p>\n<p>Instead what you intend to do is that whether the original string referenced by the variable name &quot;sequence&quot; is equal in content with the reversed string having the reference &quot;reverse&quot;.</p>\n<p>This equals() method checks whether the two referenced objects are not null, they are of the same type as well as equal in content.</p>\n<p>If al the above parameters are the same then equals will return true, otherwise false.</p>\n<p>Hence equals() method should be used here.</p>\n"}],"owner":{"account_id":29761162,"reputation":13,"user_id":22808719,"display_name":"JAKE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1698338722,"accepted_answer_id":77368857,"answer_count":2,"score":1,"last_activity_date":1698338503,"creation_date":1698337663,"question_id":77368792,"body_markdown":"I tried to reverse the inputed String, and output &quot;This is a Palindrome.&quot; when the input is equal to its reverse. \r\n\r\nThe reverse part is correct, but it keeps saying it is not equal, even though I entered a Palindrome number. How do I fix this?? \r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter a sequence of numbers: &quot;);\r\n\t\tString sequence = scanner.next();\r\n\t\t\r\n\t\tchar[] array = new char[sequence.length()];\r\n\t\tint numberIndex = 0;\r\n\t\t\t\t\r\n\t\tString reverse = &quot;&quot;;\r\n\t\t\r\n\t\tfor (int i = sequence.length() - 1; i &gt;= 0; i--) {\r\n\t\t\tarray[numberIndex] = sequence.charAt(i);\r\n\t\t\t\r\n\t\t\tnumberIndex++;\r\n\t\t}\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; sequence.length(); i++) {\r\n\t\t\treverse += array[i];\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(reverse);\r\n\t\t\r\n\t\tif (sequence == reverse) {\r\n\t\t\tSystem.out.println(&quot;This number is a palindrome.&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;This number is not a palindrome.&quot;);\r\n\t\t}\r\n\t\t\r\n\t}","title":"How to make Palindrome Program?","body":"<p>I tried to reverse the inputed String, and output &quot;This is a Palindrome.&quot; when the input is equal to its reverse.</p>\n<p>The reverse part is correct, but it keeps saying it is not equal, even though I entered a Palindrome number. How do I fix this??</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    System.out.println(&quot;Enter a sequence of numbers: &quot;);\n    String sequence = scanner.next();\n    \n    char[] array = new char[sequence.length()];\n    int numberIndex = 0;\n            \n    String reverse = &quot;&quot;;\n    \n    for (int i = sequence.length() - 1; i &gt;= 0; i--) {\n        array[numberIndex] = sequence.charAt(i);\n        \n        numberIndex++;\n    }\n    \n    for (int i = 0; i &lt; sequence.length(); i++) {\n        reverse += array[i];\n    }\n    \n    System.out.println(reverse);\n    \n    if (sequence == reverse) {\n        System.out.println(&quot;This number is a palindrome.&quot;);\n    } else {\n        System.out.println(&quot;This number is not a palindrome.&quot;);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3841915,"reputation":2647,"user_id":3184740,"accept_rate":38,"display_name":"Mitul Maheshwari"},"score":2,"creation_date":1390299642,"post_id":21255265,"comment_id":32021273,"body_markdown":"i have two different project,\ni want to call one projects java class from another.\ni have taken help of...\nhttp://stackoverflow.com/questions/11792812/calling-a-class-in-another-project-eclipse this link","body":"i have two different project, i want to call one projects java class from another. i have taken help of... <a href=\"http://stackoverflow.com/questions/11792812/calling-a-class-in-another-project-eclipse\" title=\"calling a class in another project eclipse\">stackoverflow.com/questions/11792812/&hellip;</a> this link"},{"owner":{"account_id":2449868,"reputation":878,"user_id":2136410,"accept_rate":75,"display_name":"Fabinout"},"score":1,"creation_date":1390299707,"post_id":21255265,"comment_id":32021329,"body_markdown":"Yes you can. I can&#39;t easily craft an easy answer right now, but sure someone could.","body":"Yes you can. I can&#39;t easily craft an easy answer right now, but sure someone could."},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1495463628,"post_id":21255265,"comment_id":75250495,"body_markdown":"@MitulMaheshwari Per your link, I tried to import class_from_project_B into class_from_project_A but getting error The import can not be resolved.","body":"@MitulMaheshwari Per your link, I tried to import class_from_project_B into class_from_project_A but getting error The import can not be resolved."},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1495467575,"post_id":21255265,"comment_id":75253162,"body_markdown":"Found the problem; I didn&#39;t specify any package for class in the project which I had included under Projects. Found this issue through https://stackoverflow.com/questions/2335211/what-is-the-default-package-in-which-my-classes-are-put-if-i-dont-specify-it","body":"Found the problem; I didn&#39;t specify any package for class in the project which I had included under Projects. Found this issue through <a href=\"https://stackoverflow.com/questions/2335211/what-is-the-default-package-in-which-my-classes-are-put-if-i-dont-specify-it\" title=\"what is the default package in which my classes are put if i dont specify it\">stackoverflow.com/questions/2335211/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2492505,"reputation":10493,"user_id":2169693,"accept_rate":74,"display_name":"G.S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390299744,"creation_date":1390299744,"answer_id":21255327,"question_id":21255265,"body_markdown":"You can do it in 2 ways.  \r\nExport the other project to `jar` and import the jar in your project.\r\n\r\nOR\r\n\r\nIn the dependency you can add the other projects to your project. `Right click on project --&gt; properties --&gt; java build path --&gt; projects`.  Add your project here","title":"Can we call another project java class from our project in eclipse","body":"<p>You can do it in 2 ways.<br>\nExport the other project to <code>jar</code> and import the jar in your project.</p>\n\n<p>OR</p>\n\n<p>In the dependency you can add the other projects to your project. <code>Right click on project --&gt; properties --&gt; java build path --&gt; projects</code>.  Add your project here</p>\n"},{"tags":[],"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390299774,"creation_date":1390299774,"answer_id":21255337,"question_id":21255265,"body_markdown":"You have to open your project properties, then clcik on &quot;Java Build Path&quot; and select the tab &quot;Projects&quot;. Add the project from which you want to import your classes and do a rebuild.","title":"Can we call another project java class from our project in eclipse","body":"<p>You have to open your project properties, then clcik on \"Java Build Path\" and select the tab \"Projects\". Add the project from which you want to import your classes and do a rebuild.</p>\n"},{"tags":[],"owner":{"account_id":3165564,"reputation":11962,"user_id":2675669,"accept_rate":100,"display_name":"Nambi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390299795,"creation_date":1390299795,"answer_id":21255346,"question_id":21255265,"body_markdown":"Make the classes of the `project A into jar` and add it to the class path of the other `project B`","title":"Can we call another project java class from our project in eclipse","body":"<p>Make the classes of the <code>project A into jar</code> and add it to the class path of the other <code>project B</code></p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390299804,"creation_date":1390299804,"answer_id":21255351,"question_id":21255265,"body_markdown":"This works fine as long as you have imported the project containing the classes.  \r\n\r\n**Assuming your using Eclipse the following steps will work:**\r\n\r\n1.  Right Click &gt; Project\r\n2.  Click Project Properties\r\n3.  Click Java Build Path\r\n4.  Click the Projects Tab\r\n5.  Click the Add Button\r\n6.  Select the Project\r\n7.  Click OK","title":"Can we call another project java class from our project in eclipse","body":"<p>This works fine as long as you have imported the project containing the classes.  </p>\n\n<p><strong>Assuming your using Eclipse the following steps will work:</strong></p>\n\n<ol>\n<li>Right Click > Project</li>\n<li>Click Project Properties</li>\n<li>Click Java Build Path</li>\n<li>Click the Projects Tab</li>\n<li>Click the Add Button</li>\n<li>Select the Project</li>\n<li>Click OK</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2654907,"reputation":440,"user_id":2295807,"accept_rate":76,"display_name":"kacpr"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1390299834,"creation_date":1390299834,"answer_id":21255364,"question_id":21255265,"body_markdown":"Yes. In the **Project Explorer** right click on it and select **Properties**, there go to\r\n**Java Build Path** and select **Projects** tab. Add your other project here, now you&#39;re able to use the classes from it in your current project. But note BOTH have to be open when you run them or debug in eclipse (otherwise you will see red lines telling you a class was not found).","title":"Can we call another project java class from our project in eclipse","body":"<p>Yes. In the <strong>Project Explorer</strong> right click on it and select <strong>Properties</strong>, there go to\n<strong>Java Build Path</strong> and select <strong>Projects</strong> tab. Add your other project here, now you're able to use the classes from it in your current project. But note BOTH have to be open when you run them or debug in eclipse (otherwise you will see red lines telling you a class was not found).</p>\n"},{"tags":[],"owner":{"account_id":3613065,"reputation":1133,"user_id":3013623,"accept_rate":57,"display_name":"Mayur"},"down_vote_count":1,"up_vote_count":31,"is_accepted":true,"score":30,"last_activity_date":1460494331,"creation_date":1390300916,"answer_id":21255748,"question_id":21255265,"body_markdown":"You can do either this way:\r\n\r\n&gt; In the dependency you can add the other projects to your project. Right click on project -&gt; properties -&gt; java build path -&gt; projects. Add your project here.\r\n\r\nOR\r\n\r\n&gt;Make the classes of project into jar and add it to other project \r\n\r\nDependencies should be added in classpath\r\n&gt; In run time, make sure the JAR files of the referenced projects is\r\n&gt; added in class path on both the cases.","title":"Can we call another project java class from our project in eclipse","body":"<p>You can do either this way:</p>\n\n<blockquote>\n  <p>In the dependency you can add the other projects to your project. Right click on project -> properties -> java build path -> projects. Add your project here.</p>\n</blockquote>\n\n<p>OR</p>\n\n<blockquote>\n  <p>Make the classes of project into jar and add it to other project </p>\n</blockquote>\n\n<p>Dependencies should be added in classpath</p>\n\n<blockquote>\n  <p>In run time, make sure the JAR files of the referenced projects is\n  added in class path on both the cases.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3740178,"reputation":939,"user_id":3110101,"accept_rate":56,"display_name":"pan1490"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390310896,"creation_date":1390310596,"answer_id":21259426,"question_id":21255265,"body_markdown":"I have done like this in my project:\r\n\r\n    ClientResponse response=WebServiceClient.invokeGRODService(&quot;document&quot;,&quot;get&quot;,documentId);\r\n\r\n- invokeGRODService() is a method in WebServiceClient class where URL is mentioned.\r\n- &quot;document&quot; is method level path,&quot;get&quot; is class level path and documentId is parameter to be passed as an input to other class in other project.\r\n- invokeGRODService() is as follows:\r\n\r\n   \r\n\r\n&gt; \r\n\r\n         public static ClientResponse invokeGRODService(String classLevelPath, String methodLevelPath,Object request){\r\n    &gt;         \tLOGGER.info(&quot;invokeGRODService()...Start&quot;);\r\n    &gt;         \tClientConfig config = new DefaultClientConfig();\r\n    &gt;         \tClient client = Client.create(config);\r\n    &gt;         \tWebResource service=null;\r\n    &gt;         \ttry{\r\n    &gt;         \t\tservice = client.resource(UriBuilder.fromUri(AppProperties.getProperty(AppConstants.GROD_REST_SERVICE_URL)).build());\r\n    &gt;     \t}catch(PropertyNotFoundException pe){\r\n    &gt;     \t\tLOGGER.error(&quot;Error getting the--- &quot;+pe);\r\n    &gt;     \t}\r\n    &gt;     \ttry {\r\n    &gt;     \t\tClientResponse response = service.path(classLevelPath).path(methodLevelPath).type(MediaType.APPLICATION_XML).post(ClientResponse.class,\r\n    &gt; request);\r\n    &gt;     \t\tif (response.getClientResponseStatus() != ClientResponse.Status.OK) {\r\n    &gt;     \t\t\tString errorResponse = response.getEntity(String.class);\r\n    &gt;     \t\t\tLOGGER.error(&quot;RECEIVED ERROR FROM WEBSERVICE..&quot;+errorResponse);\r\n    &gt;     \t\t}\r\n    &gt;     \t\tLOGGER.info(&quot;invokeGRODService()...End&quot;);\r\n    &gt;     \t\treturn response;\r\n    &gt;     \t} catch (Exception e) {\r\n    &gt;     \t\tLOGGER.error(&quot;Error while calling GRoD web service: &quot;,e);\r\n    &gt;     \t}\r\n    &gt;     \treturn null;\r\n    &gt;     }\r\n\r\n- Mention your URL in &quot;AppConstants.GROD_REST_SERVICE_URL&quot;. I have taken it from constant through AppProperties.\r\n\r\n   \r\n\r\n     \r\n\r\n&gt; ClientResponse response =\r\n&gt; service.path(classLevelPath).path(methodLevelPath).type(MediaType.APPLICATION_XML).post(ClientResponse.class,\r\n&gt; request);\r\n\r\n- If URL is correct you should get data in response object with status 200(OK).","title":"Can we call another project java class from our project in eclipse","body":"<p>I have done like this in my project:</p>\n\n<pre><code>ClientResponse response=WebServiceClient.invokeGRODService(\"document\",\"get\",documentId);\n</code></pre>\n\n<ul>\n<li>invokeGRODService() is a method in WebServiceClient class where URL is mentioned.</li>\n<li>\"document\" is method level path,\"get\" is class level path and documentId is parameter to be passed as an input to other class in other project.</li>\n<li>invokeGRODService() is as follows:</li>\n</ul>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<pre><code>     public static ClientResponse invokeGRODService(String classLevelPath, String methodLevelPath,Object request){\n&gt;           LOGGER.info(\"invokeGRODService()...Start\");\n&gt;           ClientConfig config = new DefaultClientConfig();\n&gt;           Client client = Client.create(config);\n&gt;           WebResource service=null;\n&gt;           try{\n&gt;               service = client.resource(UriBuilder.fromUri(AppProperties.getProperty(AppConstants.GROD_REST_SERVICE_URL)).build());\n&gt;       }catch(PropertyNotFoundException pe){\n&gt;           LOGGER.error(\"Error getting the--- \"+pe);\n&gt;       }\n&gt;       try {\n&gt;           ClientResponse response = service.path(classLevelPath).path(methodLevelPath).type(MediaType.APPLICATION_XML).post(ClientResponse.class,\n&gt; request);\n&gt;           if (response.getClientResponseStatus() != ClientResponse.Status.OK) {\n&gt;               String errorResponse = response.getEntity(String.class);\n&gt;               LOGGER.error(\"RECEIVED ERROR FROM WEBSERVICE..\"+errorResponse);\n&gt;           }\n&gt;           LOGGER.info(\"invokeGRODService()...End\");\n&gt;           return response;\n&gt;       } catch (Exception e) {\n&gt;           LOGGER.error(\"Error while calling GRoD web service: \",e);\n&gt;       }\n&gt;       return null;\n&gt;     }\n</code></pre>\n\n<ul>\n<li>Mention your URL in \"AppConstants.GROD_REST_SERVICE_URL\". I have taken it from constant through AppProperties.</li>\n</ul>\n\n<blockquote>\n  <p>ClientResponse response =\n  service.path(classLevelPath).path(methodLevelPath).type(MediaType.APPLICATION_XML).post(ClientResponse.class,\n  request);</p>\n</blockquote>\n\n<ul>\n<li>If URL is correct you should get data in response object with status 200(OK).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6816558,"reputation":845,"user_id":5354727,"accept_rate":61,"display_name":"TiredOfProgramming"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1460488149,"creation_date":1460488149,"answer_id":36581993,"question_id":21255265,"body_markdown":"Knowing that you using any version of Eclipse, the below steps should help you:\r\n\r\n**Step #1.** Right Click =&gt; Project\r\n\r\n**Step #2.** Click Project Properties\r\n\r\n**Step #3.** Click on Java Build Path\r\n\r\n**Step #4.** Click the Projects Tab\r\n\r\n**Step #5.** Click the Add Button\r\n\r\n**Step #6.** Select the Project you want to add\r\n\r\n**Step #7.** Click OK button\r\n\r\nHopefully this help. ","title":"Can we call another project java class from our project in eclipse","body":"<p>Knowing that you using any version of Eclipse, the below steps should help you:</p>\n\n<p><strong>Step #1.</strong> Right Click => Project</p>\n\n<p><strong>Step #2.</strong> Click Project Properties</p>\n\n<p><strong>Step #3.</strong> Click on Java Build Path</p>\n\n<p><strong>Step #4.</strong> Click the Projects Tab</p>\n\n<p><strong>Step #5.</strong> Click the Add Button</p>\n\n<p><strong>Step #6.</strong> Select the Project you want to add</p>\n\n<p><strong>Step #7.</strong> Click OK button</p>\n\n<p>Hopefully this help. </p>\n"},{"tags":[],"owner":{"account_id":1518987,"reputation":1655,"user_id":1419243,"accept_rate":59,"display_name":"user1419243"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467873399,"creation_date":1467873399,"answer_id":38238905,"question_id":21255265,"body_markdown":"I had a similar problem and finally I realized that the problem was that the class in the calling project was not under `src` folder, but inside another inner package. When I removed that folder and moved the file to the `src` folder, everything worked.","title":"Can we call another project java class from our project in eclipse","body":"<p>I had a similar problem and finally I realized that the problem was that the class in the calling project was not under <code>src</code> folder, but inside another inner package. When I removed that folder and moved the file to the <code>src</code> folder, everything worked.</p>\n"},{"tags":[],"owner":{"account_id":29761258,"reputation":1,"user_id":22808793,"display_name":"lim wilfred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698338326,"creation_date":1698338326,"answer_id":77368883,"question_id":21255265,"body_markdown":"Other than doing above, setting up project build path etc. I followed https://www.eclipse.org/forums/index.php/t/1103208/ and deleted module-info.java file in the main project that is calling.","title":"Can we call another project java class from our project in eclipse","body":"<p>Other than doing above, setting up project build path etc. I followed <a href=\"https://www.eclipse.org/forums/index.php/t/1103208/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/1103208/</a> and deleted module-info.java file in the main project that is calling.</p>\n"}],"owner":{"account_id":3841915,"reputation":2647,"user_id":3184740,"accept_rate":38,"display_name":"Mitul Maheshwari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141074,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":21255748,"answer_count":10,"score":31,"last_activity_date":1698338326,"creation_date":1390299561,"question_id":21255265,"body_markdown":"    import ...\r\n    \r\n    public class TriggerJob {\r\n    \t\r\n    \tString jobStatus = &quot;&quot;;\r\n    \tSchedulerMetaData metaData = null;\r\n    \t\r\n    \tpublic void rightNow(HashMap ParamMap) {\r\n            AnotherProjectClass anp = new AnotherProjectClass();\r\n            anp.display();\r\n        }\r\n\r\n    }\r\n","title":"Can we call another project java class from our project in eclipse","body":"<pre><code>import ...\n\npublic class TriggerJob {\n    \n    String jobStatus = &quot;&quot;;\n    SchedulerMetaData metaData = null;\n    \n    public void rightNow(HashMap ParamMap) {\n        AnotherProjectClass anp = new AnotherProjectClass();\n        anp.display();\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698337775,"creation_date":1698337775,"answer_id":77368803,"question_id":77368782,"body_markdown":"2 things:\n* Random makes for non-reproducible and not identical tests\n* Synchronization costs could be more expensive than doing things sequentially depending on what your task is","title":"Why stream.parallel works slower than stream.sequential?","body":"<p>2 things:</p>\n<ul>\n<li>Random makes for non-reproducible and not identical tests</li>\n<li>Synchronization costs could be more expensive than doing things sequentially depending on what your task is</li>\n</ul>\n"}],"owner":{"account_id":193505,"reputation":457,"user_id":435276,"accept_rate":50,"display_name":"JSP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698338344,"answer_count":1,"score":0,"last_activity_date":1698337775,"creation_date":1698337586,"question_id":77368782,"body_markdown":"It looks like stream.parallel processing works slower than stream.sequential one - for the stream with a big amount of data. And speed of stream processing without explicit pointing the method is between sequential and parallel. Why?\r\n\r\n``` \r\npackage com.jsp;\r\n\r\nimport java.util.Random;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Test01 {\r\n    enum Method {\r\n        Default, Sequential, Parallel, SummaryStats\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        long count = 30_000_000L;\r\n        for (var method: Method.values()) {\r\n            System.out.println(m + &quot;: &quot; + test(count, method));\r\n        }\r\n    }\r\n\r\n    private static double test(long count, Method method) {\r\n        // init stream with random values\r\n        var r = new Random();\r\n        Stream&lt;Integer&gt; s = Stream\r\n                .iterate(r.nextInt(), prev -&gt; r.nextInt())\r\n                .limit(count);\r\n\r\n        // estimate speed of processing method \r\n        var t1 = System.nanoTime();\r\n        switch(method) {\r\n            case Sequential -&gt; s.sequential().reduce(Integer::max);\r\n            case Parallel -&gt; s.parallel().reduce(Integer::max);\r\n            case SummaryStats -&gt; s.mapToInt(Integer::intValue).summaryStatistics();\r\n            default -&gt; s.reduce(Integer::max);\r\n        }\r\n        var t2 = System.nanoTime() - t1;\r\n\r\n        return (double) t2 / 1000000000;\r\n    }\r\n}\r\n``` \r\n\r\nThe output of this code is:\r\n\r\n    Default: 0.3314137\r\n    Sequential: 0.26828490\r\n    Parallel: 1.1365678\r\n    SummaryStats: 0.4159758\r\n\r\n - HW: Huawei Matebook D14, AMD Ryzen 5 4500U, 8 Gb RAM\r\n - SW: Windows 10 x64 22H2 Home Edition, Oracle OpenJDK 21","title":"Why stream.parallel works slower than stream.sequential?","body":"<p>It looks like stream.parallel processing works slower than stream.sequential one - for the stream with a big amount of data. And speed of stream processing without explicit pointing the method is between sequential and parallel. Why?</p>\n<pre><code>package com.jsp;\n\nimport java.util.Random;\nimport java.util.stream.Stream;\n\npublic class Test01 {\n    enum Method {\n        Default, Sequential, Parallel, SummaryStats\n    }\n\n    public static void main(String[] args) {\n        long count = 30_000_000L;\n        for (var method: Method.values()) {\n            System.out.println(m + &quot;: &quot; + test(count, method));\n        }\n    }\n\n    private static double test(long count, Method method) {\n        // init stream with random values\n        var r = new Random();\n        Stream&lt;Integer&gt; s = Stream\n                .iterate(r.nextInt(), prev -&gt; r.nextInt())\n                .limit(count);\n\n        // estimate speed of processing method \n        var t1 = System.nanoTime();\n        switch(method) {\n            case Sequential -&gt; s.sequential().reduce(Integer::max);\n            case Parallel -&gt; s.parallel().reduce(Integer::max);\n            case SummaryStats -&gt; s.mapToInt(Integer::intValue).summaryStatistics();\n            default -&gt; s.reduce(Integer::max);\n        }\n        var t2 = System.nanoTime() - t1;\n\n        return (double) t2 / 1000000000;\n    }\n}\n</code></pre>\n<p>The output of this code is:</p>\n<pre><code>Default: 0.3314137\nSequential: 0.26828490\nParallel: 1.1365678\nSummaryStats: 0.4159758\n</code></pre>\n<ul>\n<li>HW: Huawei Matebook D14, AMD Ryzen 5 4500U, 8 Gb RAM</li>\n<li>SW: Windows 10 x64 22H2 Home Edition, Oracle OpenJDK 21</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698337501,"creation_date":1698337501,"answer_id":77368770,"question_id":77368555,"body_markdown":"Use of a delegating serializer is correct for this use case.\r\n\r\n1. If you want to log the exception as well as sending to a DLT, simply sub class the `DeadLetterPublishingRecoverer`; override the `accept()` method; log the exception and call `super.accept()`.\r\n\r\n2. See this answer https://stackoverflow.com/questions/13756540/jackson-required-property - you can configure jackson to detect a missing field, but not to validate the value; you can use validation for that instead.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-validation\r\n\r\n3. Unfortunately, there is no way to access the raw data after a successful deserialization.\r\n\r\nOne solution would be to subclass the `JsonDeserializer`, call `super.deserialize()` and then perform the validation after deserialization, then throw an exception if it fails validation.","title":"Spring Boot with Kafka - not logging exceptions on Deserialization when using DLQ","body":"<p>Use of a delegating serializer is correct for this use case.</p>\n<ol>\n<li><p>If you want to log the exception as well as sending to a DLT, simply sub class the <code>DeadLetterPublishingRecoverer</code>; override the <code>accept()</code> method; log the exception and call <code>super.accept()</code>.</p>\n</li>\n<li><p>See this answer <a href=\"https://stackoverflow.com/questions/13756540/jackson-required-property\">Jackson - Required property?</a> - you can configure jackson to detect a missing field, but not to validate the value; you can use validation for that instead.</p>\n</li>\n</ol>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-validation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-validation</a></p>\n<ol start=\"3\">\n<li>Unfortunately, there is no way to access the raw data after a successful deserialization.</li>\n</ol>\n<p>One solution would be to subclass the <code>JsonDeserializer</code>, call <code>super.deserialize()</code> and then perform the validation after deserialization, then throw an exception if it fails validation.</p>\n"}],"owner":{"account_id":89245,"reputation":485,"user_id":246343,"accept_rate":54,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77368770,"answer_count":1,"score":0,"last_activity_date":1698337501,"creation_date":1698335586,"question_id":77368555,"body_markdown":"Using SpringBoot 3.0.6\r\n\r\nI was coding an example &quot;SpringBoot Kafka&quot; poison-pill example to make sure messages get put onto a DLT. I have 2 scenarios:\r\n\r\n 1. Message fails to be deserialized\r\n 2. Message is deserialized but subsequently fails (exception thrown)\r\n\r\nNote: In this example test, I am sending in JSON which will not contain Header information about the Type.\r\n\r\n**application.properties**\r\n\r\n    management.endpoints.include=health\r\n\r\n    spring.application.name=sb-kafka-consumer\r\n    \r\n    spring.kafka.bootstrap-servers=&lt;bootstrap address&gt;\r\n    \r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.client-id=${spring.application.name}\r\n    spring.kafka.consumer.group-id=${spring.application.name}-group\r\n    \r\n    spring.kafka.consumer.key-deserializer=org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n    spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n    spring.kafka.consumer.properties.spring.json.value.default.type=com.example.dto.Order\r\n    spring.kafka.consumer.properties.spring.json.trusted.packages=com.example.dto\r\n    \r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    \r\n    spring.kafka.properties.spring.deserializer.key.delegate.class=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.properties.spring.deserializer.value.delegate.class=org.springframework.kafka.support.serializer.JsonDeserializer\r\n    \r\n    spring.kafka.topic.name.my-topic=my-topic\r\n    spring.kafka.topic.name.my-topic-dlt=my-topic.dlt\r\n\r\n**Config.java**\r\n\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    import org.apache.kafka.common.TopicPartition;\r\n    import org.apache.kafka.common.serialization.ByteArrayDeserializer;\r\n    import org.apache.kafka.common.serialization.ByteArraySerializer;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnExpression;\r\n    import org.springframework.boot.autoconfigure.kafka.KafkaProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.*;\r\n    import org.springframework.kafka.listener.DeadLetterPublishingRecoverer;\r\n    import org.springframework.kafka.listener.DefaultErrorHandler;\r\n    import org.springframework.kafka.support.serializer.DelegatingByTypeSerializer;\r\n    import org.springframework.kafka.support.serializer.JsonSerializer;\r\n    import org.springframework.util.backoff.FixedBackOff;\r\n    \r\n    import com.example.dto.Order;\r\n    \r\n    import java.util.Map;\r\n    \r\n    @EnableKafka\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class Config {\r\n    \r\n        private final KafkaProperties kafkaProperties;\r\n    \r\n        @Value(&quot;${spring.kafka.topic.name.my-topic-dlt}&quot;)\r\n        private String dlt;\r\n     \r\n        @Bean\r\n        public DefaultErrorHandler defaultErrorHandler(DeadLetterPublishingRecoverer deadLetterPublishingRecoverer) {\r\n           return new DefaultErrorHandler(deadLetterPublishingRecoverer, new FixedBackOff(0L, 0L));\r\n        }\r\n    \r\n        @Bean\r\n        public DeadLetterPublishingRecoverer publisher() {\r\n            KafkaTemplate&lt;String, Object&gt; bytesKafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory());\r\n    \r\n            return new DeadLetterPublishingRecoverer(\r\n                bytesKafkaTemplate,\r\n                (record, ex) -&gt; new TopicPartition(dlt, record.partition()));\r\n        }\r\n    \r\n        private ProducerFactory&lt;String, Object&gt; producerFactory() {\r\n            return new DefaultKafkaProducerFactory&lt;&gt;(kafkaProperties.buildProducerProperties(),\r\n                    null, new DelegatingByTypeSerializer(Map.of(\r\n                            byte[].class, new ByteArraySerializer(),\r\n                            Order.class, new JsonSerializer&lt;&gt;())));\r\n        }\r\n    \r\n        private ConsumerFactory&lt;String, byte[]&gt; bytesArrayConsumerFactory() {\r\n            Map&lt;String, Object&gt; props = kafkaProperties.buildConsumerProperties();\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new ByteArrayDeserializer());\r\n        }\r\n    \r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, byte[]&gt; bytesArrayListenerContainerFactory() {\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, byte[]&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(bytesArrayConsumerFactory());\r\n            return factory;\r\n        }\r\n    }\r\n\r\n**Comsumer.java - note the business logic exception that can be thrown**\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class Consumer {\r\n        @KafkaListener(\r\n            topics=&quot;${spring.kafka.topic.name.my-topic}&quot;,\r\n            groupId=&quot;${spring.kafka.consumer.group-id}&quot;,\r\n            clientIdPrefix=&quot;first&quot;\r\n        )\r\n        public void listen(@Payload Order order) {\r\n            log.info(&quot;Consumed order: {} with price {}&quot;, order.getName(), order.getPrice());\r\n    \r\n            if(order.getPrice() == 0) {\r\n                log.info(&quot;##### OH DEAR !! Price should never be 0 !!!&quot;);\r\n                throw new RuntimeException(&quot;##### Price should never be 0 !!!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**DLConsumer.java**\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class DltConsumer {\r\n    \r\n        @KafkaListener(\r\n            topics=&quot;${spring.kafka.topic.name.my-topic-dlt}&quot;,\r\n            groupId=&quot;${spring.kafka.consumer.group-id}&quot;,\r\n            clientIdPrefix=&quot;second&quot;,\r\n            containerFactory = &quot;bytesArrayListenerContainerFactory&quot;)\r\n        public void recoverDLT(@Payload ConsumerRecord&lt;String, byte[]&gt; consumerRecord) {\r\n            log.info(&quot;Poison pill value: {}&quot;, new String(consumerRecord.value()));\r\n        }\r\n    }\r\n\r\nWhen trying to get the code to work in these 2 examples, I ended up having to use the DelegatingByTypeSerializer, as either a byte[] is received (when it fails to deserialize the received message), or an Order.class (when deserialization was successful but it fails during the handling of the message).\r\n\r\nI still have a couple of niggling issues that I can&#39;t seem to resolve:\r\n\r\nThis is my test:\r\n\r\n    .\\kafka-console-producer.bat --broker-list $KAFKA_ENDPOINT --topic my-topic\r\n    &gt;{ &quot;name&quot;: &quot;monitor&quot;, &quot;price&quot;: &quot;xy&quot; }\r\n    &gt;{ &quot;name&quot;: &quot;monitor&quot;, &quot;price&quot;: 0 }\r\n    &gt;{ &quot;name&quot;: &quot;monitor&quot;, &quot;missingprice&quot;: 12 }\r\n\r\nThis is the output\r\n\r\n    DltConsumer : Poison pill value: { &quot;name&quot;: &quot;monitor&quot;, &quot;price&quot;: &quot;xy&quot; }\r\n\r\n    Consumer : Consumed order: monitor with price 0\r\n    Consumer : ##### OH DEAR !! Price should never be 0 !!!\r\n    DltConsumer : Poison pill value: {&quot;name&quot;:&quot;monitor&quot;,&quot;price&quot;:0}\r\n\r\n    Consumer : Consumed order: monitor with price 0\r\n    Consumer : ##### OH DEAR !! Price should never be 0 !!!\r\n    DltConsumer : Poison pill value: {&quot;name&quot;:&quot;monitor&quot;,&quot;price&quot;:0}\r\n\r\n 1. Unlike the CommonLoggingErrorHandler, this solution does NOT seem to log the exception that caused the issue? From the above test data, I would expect to see a JacksonDeserializationException when it tries to map &quot;xy&quot; into an Integer for the price. Also I would expect to see a RuntimeException when the received price is 0 (business logic). **Note: I do see those eceptions when I use the CommonLoggingErrorHandler instead of the DefaultErrorHandler**\r\n \r\n 2. The Deserialization did not fail when the &quot;price&quot; field was not present, but as that default to 0, the code then failed the Business Logic. In this example can I get Kafka to fail JSONDeserialization when fields are missing?\r\n \r\n 3. Because of the problem in (2) the message sent to the DLQ was not a true representation of the received message, ie it had gone through internal deserialization. Is there anyway to put the original message on the DLQ ?\r\n\r\n","title":"Spring Boot with Kafka - not logging exceptions on Deserialization when using DLQ","body":"<p>Using SpringBoot 3.0.6</p>\n<p>I was coding an example &quot;SpringBoot Kafka&quot; poison-pill example to make sure messages get put onto a DLT. I have 2 scenarios:</p>\n<ol>\n<li>Message fails to be deserialized</li>\n<li>Message is deserialized but subsequently fails (exception thrown)</li>\n</ol>\n<p>Note: In this example test, I am sending in JSON which will not contain Header information about the Type.</p>\n<p><strong>application.properties</strong></p>\n<pre><code>management.endpoints.include=health\n\nspring.application.name=sb-kafka-consumer\n\nspring.kafka.bootstrap-servers=&lt;bootstrap address&gt;\n\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.client-id=${spring.application.name}\nspring.kafka.consumer.group-id=${spring.application.name}-group\n\nspring.kafka.consumer.key-deserializer=org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\nspring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\nspring.kafka.consumer.properties.spring.json.value.default.type=com.example.dto.Order\nspring.kafka.consumer.properties.spring.json.trusted.packages=com.example.dto\n\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\n\nspring.kafka.properties.spring.deserializer.key.delegate.class=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.properties.spring.deserializer.value.delegate.class=org.springframework.kafka.support.serializer.JsonDeserializer\n\nspring.kafka.topic.name.my-topic=my-topic\nspring.kafka.topic.name.my-topic-dlt=my-topic.dlt\n</code></pre>\n<p><strong>Config.java</strong></p>\n<pre><code>import lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\n\nimport org.apache.kafka.common.TopicPartition;\nimport org.apache.kafka.common.serialization.ByteArrayDeserializer;\nimport org.apache.kafka.common.serialization.ByteArraySerializer;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnExpression;\nimport org.springframework.boot.autoconfigure.kafka.KafkaProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.*;\nimport org.springframework.kafka.listener.DeadLetterPublishingRecoverer;\nimport org.springframework.kafka.listener.DefaultErrorHandler;\nimport org.springframework.kafka.support.serializer.DelegatingByTypeSerializer;\nimport org.springframework.kafka.support.serializer.JsonSerializer;\nimport org.springframework.util.backoff.FixedBackOff;\n\nimport com.example.dto.Order;\n\nimport java.util.Map;\n\n@EnableKafka\n@Configuration\n@RequiredArgsConstructor\npublic class Config {\n\n    private final KafkaProperties kafkaProperties;\n\n    @Value(&quot;${spring.kafka.topic.name.my-topic-dlt}&quot;)\n    private String dlt;\n \n    @Bean\n    public DefaultErrorHandler defaultErrorHandler(DeadLetterPublishingRecoverer deadLetterPublishingRecoverer) {\n       return new DefaultErrorHandler(deadLetterPublishingRecoverer, new FixedBackOff(0L, 0L));\n    }\n\n    @Bean\n    public DeadLetterPublishingRecoverer publisher() {\n        KafkaTemplate&lt;String, Object&gt; bytesKafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory());\n\n        return new DeadLetterPublishingRecoverer(\n            bytesKafkaTemplate,\n            (record, ex) -&gt; new TopicPartition(dlt, record.partition()));\n    }\n\n    private ProducerFactory&lt;String, Object&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(kafkaProperties.buildProducerProperties(),\n                null, new DelegatingByTypeSerializer(Map.of(\n                        byte[].class, new ByteArraySerializer(),\n                        Order.class, new JsonSerializer&lt;&gt;())));\n    }\n\n    private ConsumerFactory&lt;String, byte[]&gt; bytesArrayConsumerFactory() {\n        Map&lt;String, Object&gt; props = kafkaProperties.buildConsumerProperties();\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new ByteArrayDeserializer());\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, byte[]&gt; bytesArrayListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, byte[]&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(bytesArrayConsumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p><strong>Comsumer.java - note the business logic exception that can be thrown</strong></p>\n<pre><code>@Slf4j\n@Service\npublic class Consumer {\n    @KafkaListener(\n        topics=&quot;${spring.kafka.topic.name.my-topic}&quot;,\n        groupId=&quot;${spring.kafka.consumer.group-id}&quot;,\n        clientIdPrefix=&quot;first&quot;\n    )\n    public void listen(@Payload Order order) {\n        log.info(&quot;Consumed order: {} with price {}&quot;, order.getName(), order.getPrice());\n\n        if(order.getPrice() == 0) {\n            log.info(&quot;##### OH DEAR !! Price should never be 0 !!!&quot;);\n            throw new RuntimeException(&quot;##### Price should never be 0 !!!&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>DLConsumer.java</strong></p>\n<pre><code>@Slf4j\n@Service\npublic class DltConsumer {\n\n    @KafkaListener(\n        topics=&quot;${spring.kafka.topic.name.my-topic-dlt}&quot;,\n        groupId=&quot;${spring.kafka.consumer.group-id}&quot;,\n        clientIdPrefix=&quot;second&quot;,\n        containerFactory = &quot;bytesArrayListenerContainerFactory&quot;)\n    public void recoverDLT(@Payload ConsumerRecord&lt;String, byte[]&gt; consumerRecord) {\n        log.info(&quot;Poison pill value: {}&quot;, new String(consumerRecord.value()));\n    }\n}\n</code></pre>\n<p>When trying to get the code to work in these 2 examples, I ended up having to use the DelegatingByTypeSerializer, as either a byte[] is received (when it fails to deserialize the received message), or an Order.class (when deserialization was successful but it fails during the handling of the message).</p>\n<p>I still have a couple of niggling issues that I can't seem to resolve:</p>\n<p>This is my test:</p>\n<pre><code>.\\kafka-console-producer.bat --broker-list $KAFKA_ENDPOINT --topic my-topic\n&gt;{ &quot;name&quot;: &quot;monitor&quot;, &quot;price&quot;: &quot;xy&quot; }\n&gt;{ &quot;name&quot;: &quot;monitor&quot;, &quot;price&quot;: 0 }\n&gt;{ &quot;name&quot;: &quot;monitor&quot;, &quot;missingprice&quot;: 12 }\n</code></pre>\n<p>This is the output</p>\n<pre><code>DltConsumer : Poison pill value: { &quot;name&quot;: &quot;monitor&quot;, &quot;price&quot;: &quot;xy&quot; }\n\nConsumer : Consumed order: monitor with price 0\nConsumer : ##### OH DEAR !! Price should never be 0 !!!\nDltConsumer : Poison pill value: {&quot;name&quot;:&quot;monitor&quot;,&quot;price&quot;:0}\n\nConsumer : Consumed order: monitor with price 0\nConsumer : ##### OH DEAR !! Price should never be 0 !!!\nDltConsumer : Poison pill value: {&quot;name&quot;:&quot;monitor&quot;,&quot;price&quot;:0}\n</code></pre>\n<ol>\n<li><p>Unlike the CommonLoggingErrorHandler, this solution does NOT seem to log the exception that caused the issue? From the above test data, I would expect to see a JacksonDeserializationException when it tries to map &quot;xy&quot; into an Integer for the price. Also I would expect to see a RuntimeException when the received price is 0 (business logic). <strong>Note: I do see those eceptions when I use the CommonLoggingErrorHandler instead of the DefaultErrorHandler</strong></p>\n</li>\n<li><p>The Deserialization did not fail when the &quot;price&quot; field was not present, but as that default to 0, the code then failed the Business Logic. In this example can I get Kafka to fail JSONDeserialization when fields are missing?</p>\n</li>\n<li><p>Because of the problem in (2) the message sent to the DLQ was not a true representation of the received message, ie it had gone through internal deserialization. Is there anyway to put the original message on the DLQ ?</p>\n</li>\n</ol>\n"},{"tags":["java","eclipse","ide"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1698337672,"post_id":77368768,"comment_id":136395801,"body_markdown":"You should check your &quot;Java_Home&quot; field in your environment variables","body":"You should check your &quot;Java_Home&quot; field in your environment variables"}],"owner":{"account_id":27703208,"reputation":9,"user_id":21147408,"display_name":"mimi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698352074,"answer_count":0,"score":0,"last_activity_date":1698337472,"creation_date":1698337472,"question_id":77368768,"body_markdown":"everytime I try to open the app &quot;eclipse IDE&quot; on my windows 10 laptop, I have an error message which is saying that :&quot;version 1.8.0_381&quot; of the JVM is not suitable for this product. Version 17 or greater is required&quot; \r\n \r\n\r\n I am sure that I already installed a version of JAVA which is greater than version 17, I don&#39;t Understand the problem, when I re-install eclipse, it works great and I find all the work I ve done on it, but if I turn off my computer, the same problem reapears at the next turning-on ","title":"problem of version of java while opening the IDE eclipse","body":"<p>everytime I try to open the app &quot;eclipse IDE&quot; on my windows 10 laptop, I have an error message which is saying that :&quot;version 1.8.0_381&quot; of the JVM is not suitable for this product. Version 17 or greater is required&quot;</p>\n<p>I am sure that I already installed a version of JAVA which is greater than version 17, I don't Understand the problem, when I re-install eclipse, it works great and I find all the work I ve done on it, but if I turn off my computer, the same problem reapears at the next turning-on</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":11683,"reputation":1438131,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1698334204,"post_id":77368364,"comment_id":136395025,"body_markdown":"The field `value` is of type `Double`. That type doesn&#39;t have `indexOf()` and `length()` methods. It seems like you&#39;re trying to treat it as a string - it&#39;s not...","body":"The field <code>value</code> is of type <code>Double</code>. That type doesn&#39;t have <code>indexOf()</code> and <code>length()</code> methods. It seems like you&#39;re trying to treat it as a string - it&#39;s not..."},{"owner":{"account_id":11683,"reputation":1438131,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1698334226,"post_id":77368364,"comment_id":136395029,"body_markdown":"(And I don&#39;t know which `subSequence` method you expect to call that would return an `Integer`, either...)","body":"(And I don&#39;t know which <code>subSequence</code> method you expect to call that would return an <code>Integer</code>, either...)"},{"owner":{"account_id":29760718,"reputation":3,"user_id":22808379,"display_name":"Bro11"},"score":0,"creation_date":1698334457,"post_id":77368364,"comment_id":136395086,"body_markdown":"I just started on the lesson on Integer, Double, Character value types and I&#39;m pretty confused. How can I convert double to String? I&#39;m trying casting but it&#39;s not working.","body":"I just started on the lesson on Integer, Double, Character value types and I&#39;m pretty confused. How can I convert double to String? I&#39;m trying casting but it&#39;s not working."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1698336590,"post_id":77368364,"comment_id":136395569,"body_markdown":"&quot;I just started on the lesson on Integer, Double, Character&quot; If you&#39;re just learning Java, then using a String to extract the cents portion is probably NOT the &quot;correct way&quot;. *Plus, looking for a `.` is problematic in other countries that don&#39;t use period as a decimal separator. You&#39;re probably supposed to multiply the money value by 1,000 to get the total number of pennies and store that in an int. Then cast the original money value to an int to get just the dollar portion. Multiply that by 100 and subtract that number from the total number of pennies to get just the number of pennies.","body":"&quot;I just started on the lesson on Integer, Double, Character&quot; If you&#39;re just learning Java, then using a String to extract the cents portion is probably NOT the &quot;correct way&quot;. *Plus, looking for a <code>.</code> is problematic in other countries that don&#39;t use period as a decimal separator. You&#39;re probably supposed to multiply the money value by 1,000 to get the total number of pennies and store that in an int. Then cast the original money value to an int to get just the dollar portion. Multiply that by 100 and subtract that number from the total number of pennies to get just the number of pennies."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1698337601,"post_id":77368364,"comment_id":136395778,"body_markdown":"@user85421 Yeah, I&#39;m brain dead at the moment. Should be 100 not 1,000. And you&#39;re right, Java always uses `.`. I&#39;m thinking of C#, which uses the current locale. Too many languages in my head.","body":"@user85421 Yeah, I&#39;m brain dead at the moment. Should be 100 not 1,000. And you&#39;re right, Java always uses <code>.</code>. I&#39;m thinking of C#, which uses the current locale. Too many languages in my head."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698336711,"creation_date":1698334627,"answer_id":77368445,"question_id":77368364,"body_markdown":"As [Commented by Jon Skeet][1], you are treating a `Double` as if it is text. It is not text. \r\n\r\nIf you want text, make a `String` object. Call [`Double#toString`][2]. This method generates text to represent the value of the number held within the `Double` object. The `Double` object contains no text. \r\n\r\n    String s = myDouble.toString() ;\r\n\r\nFor a `double` primitive, use the `static` method [`Double.toString`][3]. \r\n\r\n    double x = 42.7d ;\r\n    String s = Double.toString( x ) ;\r\n\r\n`String` offers the `indexOf` and `length` methods you seek. \r\n\r\n------\r\n\r\nBy the way, in real work we never use `double`/`Double` types for money matters. Those floating-point types [trade away accuracy for speed][4] of execution. \r\n\r\nFor money matters, when accuracy is crucial, use the [`BigDecimal`][5] class. Or, alternatively, multiply to get whole numbers as mentioned in [another Comment](https://stackoverflow.com/questions/77368364/out-of-scope-static-methods/77368445#comment136395569_77368364). \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77368364/out-of-scope-static-methods#comment136395025_77368364\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/Double.html#toString()\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/Double.html#toString(double)\r\n  [4]: https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/math/BigDecimal.html","title":"Out of scope static methods","body":"<p>As <a href=\"https://stackoverflow.com/questions/77368364/out-of-scope-static-methods#comment136395025_77368364\">Commented by Jon Skeet</a>, you are treating a <code>Double</code> as if it is text. It is not text.</p>\n<p>If you want text, make a <code>String</code> object. Call <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/Double.html#toString()\" rel=\"nofollow noreferrer\"><code>Double#toString</code></a>. This method generates text to represent the value of the number held within the <code>Double</code> object. The <code>Double</code> object contains no text.</p>\n<pre><code>String s = myDouble.toString() ;\n</code></pre>\n<p>For a <code>double</code> primitive, use the <code>static</code> method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/Double.html#toString(double)\" rel=\"nofollow noreferrer\"><code>Double.toString</code></a>.</p>\n<pre><code>double x = 42.7d ;\nString s = Double.toString( x ) ;\n</code></pre>\n<p><code>String</code> offers the <code>indexOf</code> and <code>length</code> methods you seek.</p>\n<hr />\n<p>By the way, in real work we never use <code>double</code>/<code>Double</code> types for money matters. Those floating-point types <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"nofollow noreferrer\">trade away accuracy for speed</a> of execution.</p>\n<p>For money matters, when accuracy is crucial, use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a> class. Or, alternatively, multiply to get whole numbers as mentioned in <a href=\"https://stackoverflow.com/questions/77368364/out-of-scope-static-methods/77368445#comment136395569_77368364\">another Comment</a>.</p>\n"}],"owner":{"account_id":29760718,"reputation":3,"user_id":22808379,"display_name":"Bro11"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77368445,"answer_count":1,"score":0,"last_activity_date":1698336711,"creation_date":1698334035,"question_id":77368364,"body_markdown":"So in a CodeHS class I&#39;m taking I&#39;m trying to separate the cents from a balance of a bank account. Ex turn 12.34 to 34. I&#39;m trying to use value.indexOf() and value.length() where value the balance. However, I keep getting &quot;You may have forgotten to declare length() or it&#39;s out of scope&quot; errors. I&#39;m so confused because I thought these were built into Java itself but maybe not? I&#39;ve already looked through the documentation but I&#39;m still lost. Any help is appreciated.\r\n\r\nHere&#39;s the code of the method (I think its a method idk the vocab lmao)\r\n```java\r\npublic class Currency\r\n{\r\n    private Double value;\r\n    \r\n    // Constructor\r\n    public Currency(Double startValue)\r\n    {\r\n        value = startValue;\r\n    }\r\n    \r\n    // Sets value to newValue\r\n    public void setValue(Double newValue)\r\n    {\r\n        value = newValue;\r\n    }\r\n    \r\n    // Returns the dollar portion of value\r\n    // if value is 12.34, returns 12\r\n    public Integer getDollars()\r\n    {\r\n        return (int)value.doubleValue();\r\n    }\r\n    \r\n    // Returns the cents portion of value\r\n    // as an Integer\r\n    // if value is 12.34, returns 34\r\n    public Integer getCents()\r\n    {\r\n        return value.subSequence(value.indexOf(&quot;.&quot;), value.length());\r\n    }\r\n    \r\n    // Returns a String representation\r\n    // in the format\r\n    // $12.34\r\n    public String toString()\r\n    {\r\n        return value.doubleValue();\r\n    }\r\n}\r\n```","title":"Out of scope static methods","body":"<p>So in a CodeHS class I'm taking I'm trying to separate the cents from a balance of a bank account. Ex turn 12.34 to 34. I'm trying to use value.indexOf() and value.length() where value the balance. However, I keep getting &quot;You may have forgotten to declare length() or it's out of scope&quot; errors. I'm so confused because I thought these were built into Java itself but maybe not? I've already looked through the documentation but I'm still lost. Any help is appreciated.</p>\n<p>Here's the code of the method (I think its a method idk the vocab lmao)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Currency\n{\n    private Double value;\n    \n    // Constructor\n    public Currency(Double startValue)\n    {\n        value = startValue;\n    }\n    \n    // Sets value to newValue\n    public void setValue(Double newValue)\n    {\n        value = newValue;\n    }\n    \n    // Returns the dollar portion of value\n    // if value is 12.34, returns 12\n    public Integer getDollars()\n    {\n        return (int)value.doubleValue();\n    }\n    \n    // Returns the cents portion of value\n    // as an Integer\n    // if value is 12.34, returns 34\n    public Integer getCents()\n    {\n        return value.subSequence(value.indexOf(&quot;.&quot;), value.length());\n    }\n    \n    // Returns a String representation\n    // in the format\n    // $12.34\n    public String toString()\n    {\n        return value.doubleValue();\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1522310338,"post_id":49506122,"comment_id":86108721,"body_markdown":"Does iteration count means that it is a counter of the total number of scenarios run and NOT count of rows in individual scenario outlines? If so go back to my original answer and make the count++ inside a synchronized block. Check if it works.","body":"Does iteration count means that it is a counter of the total number of scenarios run and NOT count of rows in individual scenario outlines? If so go back to my original answer and make the count++ inside a synchronized block. Check if it works."}],"answers":[{"tags":[],"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522232136,"creation_date":1522135414,"answer_id":49506675,"question_id":49506122,"body_markdown":"The easy way but not a very flexible way is to create a column with the iteration number.\r\n\r\n    Scenario Outline: Add two numbers &lt;num1&gt; &amp; &lt;num2&gt;\r\n        Given I have a calculator\r\n        When I add &lt;num1&gt; and &lt;num2&gt; for iteration number &lt;itrnum&gt;\r\n        Then the result should be &lt;total&gt;\r\n     \r\n      Examples: \r\n        | itrnum | num1 | num2 | total |\r\n        | 1 | -2 | 3 | 1 |\r\n        | 2 | 10 | 15 | 25 |\r\n        | 3 | 99 | -99 | 0 |\r\n\r\n\r\n\r\nOther is the use the before hook to get this information. For this give the `scenariooutline` a tag, lets say `@Counter`. Create a `Before hook` only for the `@Counter` tag. Use a static variable to keep the count. So this before hook will only run where the counter tag is present. Static is required as a fresh instance of the hook and step classes are created for each row of a scenario outline.\r\n\r\n    @Counter\r\n    Scenario Outline: Add two numbers &lt;num1&gt; &amp; &lt;num2&gt;\r\n            Given I have a calculator\r\n            When I add &lt;num1&gt; and &lt;num2&gt;\r\n            Then the result should be &lt;total&gt;\r\n         \r\n          Examples: \r\n            | num1 | num2 | total |\r\n            | -2 | 3 | 1 |\r\n            | 10 | 15 | 25 |\r\n            | 99 | -99 | 0 |\r\n\r\n----------\r\n\r\n    private static int count = 0;\r\n    \r\n    @Before(&quot;@Counter&quot;) \r\n    public void countScenarioOutlineRows() {\r\n        count++;\r\n    }\r\n\r\n\r\n----------\r\n----------\r\n**UPDATED** - for multiple scenario outlines.\r\nYou can use a static map to store the counters. But for this you will need to add some kind of key to the scenariooutline description.\r\n\r\n    @Counter\r\n        Scenario Outline: SO1 ## Add two numbers &lt;num1&gt; &amp; &lt;num2&gt;\r\n    \r\n    @Counter\r\n        Scenario Outline: SO2 ## Multiply two numbers &lt;num1&gt; &amp; &lt;num2&gt;\r\n\r\n\r\n----------\r\n\r\n    private static Map&lt;String, Integer&gt; counter = new HashMap&lt;&gt;();\r\n    \r\n        @Before(&quot;@Counter&quot;) \r\n        public void countScenarioOutlineRows(Scenario sce) {\r\n            //Get descrition on scenrio outline\r\n            System.out.println(&quot;SCENARIO NAME -- &quot; +sce.getName());\r\n    \t\tString key = sce.getName().substring(0, sce.getName().indexOf(&quot;##&quot;) - 1);\r\n    \t\tSystem.out.println(&quot;SCENARIO KEY --&quot; + key + &quot;--&quot;);\r\n    \t\t\r\n    \t\tcounter.merge(key, 1, Integer::sum);\r\n        }\r\n\r\n\r\nIf you do not want to store all details in a Map, then store the counter in a static integer. Switch it to 0 when the description changes else add 1 to it. For this you will also need to store the scenariooutline description in a temporary static variable for comparison.","title":"How to get iteration count in cucumber?","body":"<p>The easy way but not a very flexible way is to create a column with the iteration number.</p>\n\n<pre><code>Scenario Outline: Add two numbers &lt;num1&gt; &amp; &lt;num2&gt;\n    Given I have a calculator\n    When I add &lt;num1&gt; and &lt;num2&gt; for iteration number &lt;itrnum&gt;\n    Then the result should be &lt;total&gt;\n\n  Examples: \n    | itrnum | num1 | num2 | total |\n    | 1 | -2 | 3 | 1 |\n    | 2 | 10 | 15 | 25 |\n    | 3 | 99 | -99 | 0 |\n</code></pre>\n\n<p>Other is the use the before hook to get this information. For this give the <code>scenariooutline</code> a tag, lets say <code>@Counter</code>. Create a <code>Before hook</code> only for the <code>@Counter</code> tag. Use a static variable to keep the count. So this before hook will only run where the counter tag is present. Static is required as a fresh instance of the hook and step classes are created for each row of a scenario outline.</p>\n\n<pre><code>@Counter\nScenario Outline: Add two numbers &lt;num1&gt; &amp; &lt;num2&gt;\n        Given I have a calculator\n        When I add &lt;num1&gt; and &lt;num2&gt;\n        Then the result should be &lt;total&gt;\n\n      Examples: \n        | num1 | num2 | total |\n        | -2 | 3 | 1 |\n        | 10 | 15 | 25 |\n        | 99 | -99 | 0 |\n</code></pre>\n\n<hr>\n\n<pre><code>private static int count = 0;\n\n@Before(\"@Counter\") \npublic void countScenarioOutlineRows() {\n    count++;\n}\n</code></pre>\n\n<h2>----------</h2>\n\n<p><strong>UPDATED</strong> - for multiple scenario outlines.\nYou can use a static map to store the counters. But for this you will need to add some kind of key to the scenariooutline description.</p>\n\n<pre><code>@Counter\n    Scenario Outline: SO1 ## Add two numbers &lt;num1&gt; &amp; &lt;num2&gt;\n\n@Counter\n    Scenario Outline: SO2 ## Multiply two numbers &lt;num1&gt; &amp; &lt;num2&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>private static Map&lt;String, Integer&gt; counter = new HashMap&lt;&gt;();\n\n    @Before(\"@Counter\") \n    public void countScenarioOutlineRows(Scenario sce) {\n        //Get descrition on scenrio outline\n        System.out.println(\"SCENARIO NAME -- \" +sce.getName());\n        String key = sce.getName().substring(0, sce.getName().indexOf(\"##\") - 1);\n        System.out.println(\"SCENARIO KEY --\" + key + \"--\");\n\n        counter.merge(key, 1, Integer::sum);\n    }\n</code></pre>\n\n<p>If you do not want to store all details in a Map, then store the counter in a static integer. Switch it to 0 when the description changes else add 1 to it. For this you will also need to store the scenariooutline description in a temporary static variable for comparison.</p>\n"},{"tags":[],"owner":{"account_id":18145878,"reputation":11,"user_id":13199227,"display_name":"Vaskar Baran Saha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585838640,"creation_date":1585838640,"answer_id":60994281,"question_id":49506122,"body_markdown":"You can create a copy of &quot;CucumberScenarioOutline.java&quot; under main/java/cucumber/runtime/model.\r\n\r\nThen you can modify the below method after declaring a global variable say intCurrentRow -\r\n\r\n\r\n    @override\r\n    public void run(Formatter formatter, Reporter reporter, Runtimeruntime) {\r\n        formatOutlineScenario(formatter);\r\n        for (CucumberExamples cucumberExamples : cucumberExamplesList) {\r\n            cucumberExamples.format(formatter);\r\n            List&lt;CucumberScenario&gt; exampleScenario = cucumberExamples.createExampleScenarios();\r\n            intCurrentRow = 1;  //Hereyou can ititiate your variable\r\n            for (CucumberScenario exampleScenario : exampleScenarios) {\r\n                exampleScenario.run(formatter, reporter, runtime);\r\n                intCurrentRow++;  //Here you can increase iteration number\r\n            }\r\n        }\r\n    }\r\n\r\nYou can also copy the code below to create the CucumberScenarioOutline.java\r\n\r\n\r\n    package cucumber.runtime.model;\r\n    \r\n    import cucumber.runtime.CucumberException;\r\n    import cucumber.runtime.Runtime;\r\n    import gherkin.formatter.Formatter;\r\n    import gherkin.formatter.Reporter;\r\n    import gherkin.formatter.model.DataTableRow;\r\n    import gherkin.formatter.model.DocString;\r\n    import gherkin.formatter.model.Examples;\r\n    import gherkin.formatter.model.ExamplesTableRow;\r\n    import gherkin.formatter.model.Row;\r\n    import gherkin.formatter.model.Scenario;\r\n    import gherkin.formatter.model.ScenarioOutline;\r\n    import gherkin.formatter.model.Step;\r\n    import gherkin.formatter.model.Tag;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class CucumberScenarioOutline extends CucumberTagStatement {\r\n        private final List&lt;CucumberExamples&gt; cucumberExamplesList = new ArrayList&lt;CucumberExamples&gt;();\r\n        private final CucumberBackground cucumberBackground;\r\n    \r\n        public CucumberScenarioOutline(CucumberFeature cucumberFeature, CucumberBackground cucumberBackground, ScenarioOutline scenarioOutline) {\r\n            super(cucumberFeature, scenarioOutline);\r\n            this.cucumberBackground = cucumberBackground;\r\n        }\r\n    \r\n        public void examples(Examples examples) {\r\n            cucumberExamplesList.add(new CucumberExamples(this, examples));\r\n        }\r\n    \r\n        public List&lt;CucumberExamples&gt; getCucumberExamplesList() {\r\n            return cucumberExamplesList;\r\n        }\r\n    \r\n        @Override\r\n        public void run(Formatter formatter, Reporter reporter, Runtime runtime) {\r\n            format(formatter);\r\n            for (CucumberExamples cucumberExamples : cucumberExamplesList) {\r\n                cucumberExamples.format(formatter);\r\n                List&lt;CucumberScenario&gt; exampleScenarios = cucumberExamples.createExampleScenarios();\r\n                for (CucumberScenario exampleScenario : exampleScenarios) {\r\n                    exampleScenario.run(formatter, reporter, runtime);\r\n                }\r\n            }\r\n        }\r\n    \r\n        CucumberScenario createExampleScenario(ExamplesTableRow header, ExamplesTableRow example, List&lt;Tag&gt; examplesTags) {\r\n            // Make sure we replace the tokens in the name of the scenario\r\n            String exampleScenarioName = replaceTokens(new HashSet&lt;Integer&gt;(), header.getCells(), example.getCells(), getGherkinModel().getName());\r\n    \r\n            Scenario exampleScenario = new Scenario(example.getComments(), examplesTags, getGherkinModel().getKeyword(), exampleScenarioName, &quot;&quot;, example.getLine(), example.getId());\r\n            CucumberScenario cucumberScenario = new CucumberScenario(cucumberFeature, cucumberBackground, exampleScenario, example);\r\n            for (Step step : getSteps()) {\r\n                cucumberScenario.step(createExampleStep(step, header, example));\r\n            }\r\n            return cucumberScenario;\r\n        }\r\n    \r\n        static ExampleStep createExampleStep(Step step, ExamplesTableRow header, ExamplesTableRow example) {\r\n            Set&lt;Integer&gt; matchedColumns = new HashSet&lt;Integer&gt;();\r\n            List&lt;String&gt; headerCells = header.getCells();\r\n            List&lt;String&gt; exampleCells = example.getCells();\r\n    \r\n            // Create a step with replaced tokens\r\n            String name = replaceTokens(matchedColumns, headerCells, exampleCells, step.getName());\r\n    \r\n            return new ExampleStep(\r\n                    step.getComments(),\r\n                    step.getKeyword(),\r\n                    name,\r\n                    step.getLine(),\r\n                    rowsWithTokensReplaced(step.getRows(), headerCells, exampleCells, matchedColumns),\r\n                    docStringWithTokensReplaced(step.getDocString(), headerCells, exampleCells, matchedColumns),\r\n                    matchedColumns);\r\n        }\r\n    \r\n        private static List&lt;DataTableRow&gt; rowsWithTokensReplaced(List&lt;DataTableRow&gt; rows, List&lt;String&gt; headerCells, List&lt;String&gt; exampleCells, Set&lt;Integer&gt; matchedColumns) {\r\n            if (rows != null) {\r\n                List&lt;DataTableRow&gt; newRows = new ArrayList&lt;DataTableRow&gt;(rows.size());\r\n                for (Row row : rows) {\r\n                    List&lt;String&gt; newCells = new ArrayList&lt;String&gt;(row.getCells().size());\r\n                    for (String cell : row.getCells()) {\r\n                        newCells.add(replaceTokens(matchedColumns, headerCells, exampleCells, cell));\r\n                    }\r\n                    newRows.add(new DataTableRow(row.getComments(), newCells, row.getLine()));\r\n                }\r\n                return newRows;\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static DocString docStringWithTokensReplaced(DocString docString, List&lt;String&gt; headerCells, List&lt;String&gt; exampleCells, Set&lt;Integer&gt; matchedColumns) {\r\n            if (docString != null) {\r\n                String docStringValue = replaceTokens(matchedColumns, headerCells, exampleCells, docString.getValue());\r\n                return new DocString(docString.getContentType(), docStringValue, docString.getLine());\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static String replaceTokens(Set&lt;Integer&gt; matchedColumns, List&lt;String&gt; headerCells, List&lt;String&gt; exampleCells, String text) {\r\n            for (int col = 0; col &lt; headerCells.size(); col++) {\r\n                String headerCell = headerCells.get(col);\r\n                String value = exampleCells.get(col);\r\n                String token = &quot;&lt;&quot; + headerCell + &quot;&gt;&quot;;\r\n    \r\n                if (text.contains(token)) {\r\n                    text = text.replace(token, value);\r\n                    if (text.isEmpty()) {\r\n                        throw new CucumberException(&quot;Step generated from scenario outline &#39;&quot; + token + &quot;&#39; is empty&quot;);\r\n                    }\r\n                    matchedColumns.add(col);\r\n                }\r\n            }\r\n            return text;\r\n        }\r\n    }\r\n","title":"How to get iteration count in cucumber?","body":"<p>You can create a copy of \"CucumberScenarioOutline.java\" under main/java/cucumber/runtime/model.</p>\n\n<p>Then you can modify the below method after declaring a global variable say intCurrentRow -</p>\n\n<pre><code>@override\npublic void run(Formatter formatter, Reporter reporter, Runtimeruntime) {\n    formatOutlineScenario(formatter);\n    for (CucumberExamples cucumberExamples : cucumberExamplesList) {\n        cucumberExamples.format(formatter);\n        List&lt;CucumberScenario&gt; exampleScenario = cucumberExamples.createExampleScenarios();\n        intCurrentRow = 1;  //Hereyou can ititiate your variable\n        for (CucumberScenario exampleScenario : exampleScenarios) {\n            exampleScenario.run(formatter, reporter, runtime);\n            intCurrentRow++;  //Here you can increase iteration number\n        }\n    }\n}\n</code></pre>\n\n<p>You can also copy the code below to create the CucumberScenarioOutline.java</p>\n\n<pre><code>package cucumber.runtime.model;\n\nimport cucumber.runtime.CucumberException;\nimport cucumber.runtime.Runtime;\nimport gherkin.formatter.Formatter;\nimport gherkin.formatter.Reporter;\nimport gherkin.formatter.model.DataTableRow;\nimport gherkin.formatter.model.DocString;\nimport gherkin.formatter.model.Examples;\nimport gherkin.formatter.model.ExamplesTableRow;\nimport gherkin.formatter.model.Row;\nimport gherkin.formatter.model.Scenario;\nimport gherkin.formatter.model.ScenarioOutline;\nimport gherkin.formatter.model.Step;\nimport gherkin.formatter.model.Tag;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\npublic class CucumberScenarioOutline extends CucumberTagStatement {\n    private final List&lt;CucumberExamples&gt; cucumberExamplesList = new ArrayList&lt;CucumberExamples&gt;();\n    private final CucumberBackground cucumberBackground;\n\n    public CucumberScenarioOutline(CucumberFeature cucumberFeature, CucumberBackground cucumberBackground, ScenarioOutline scenarioOutline) {\n        super(cucumberFeature, scenarioOutline);\n        this.cucumberBackground = cucumberBackground;\n    }\n\n    public void examples(Examples examples) {\n        cucumberExamplesList.add(new CucumberExamples(this, examples));\n    }\n\n    public List&lt;CucumberExamples&gt; getCucumberExamplesList() {\n        return cucumberExamplesList;\n    }\n\n    @Override\n    public void run(Formatter formatter, Reporter reporter, Runtime runtime) {\n        format(formatter);\n        for (CucumberExamples cucumberExamples : cucumberExamplesList) {\n            cucumberExamples.format(formatter);\n            List&lt;CucumberScenario&gt; exampleScenarios = cucumberExamples.createExampleScenarios();\n            for (CucumberScenario exampleScenario : exampleScenarios) {\n                exampleScenario.run(formatter, reporter, runtime);\n            }\n        }\n    }\n\n    CucumberScenario createExampleScenario(ExamplesTableRow header, ExamplesTableRow example, List&lt;Tag&gt; examplesTags) {\n        // Make sure we replace the tokens in the name of the scenario\n        String exampleScenarioName = replaceTokens(new HashSet&lt;Integer&gt;(), header.getCells(), example.getCells(), getGherkinModel().getName());\n\n        Scenario exampleScenario = new Scenario(example.getComments(), examplesTags, getGherkinModel().getKeyword(), exampleScenarioName, \"\", example.getLine(), example.getId());\n        CucumberScenario cucumberScenario = new CucumberScenario(cucumberFeature, cucumberBackground, exampleScenario, example);\n        for (Step step : getSteps()) {\n            cucumberScenario.step(createExampleStep(step, header, example));\n        }\n        return cucumberScenario;\n    }\n\n    static ExampleStep createExampleStep(Step step, ExamplesTableRow header, ExamplesTableRow example) {\n        Set&lt;Integer&gt; matchedColumns = new HashSet&lt;Integer&gt;();\n        List&lt;String&gt; headerCells = header.getCells();\n        List&lt;String&gt; exampleCells = example.getCells();\n\n        // Create a step with replaced tokens\n        String name = replaceTokens(matchedColumns, headerCells, exampleCells, step.getName());\n\n        return new ExampleStep(\n                step.getComments(),\n                step.getKeyword(),\n                name,\n                step.getLine(),\n                rowsWithTokensReplaced(step.getRows(), headerCells, exampleCells, matchedColumns),\n                docStringWithTokensReplaced(step.getDocString(), headerCells, exampleCells, matchedColumns),\n                matchedColumns);\n    }\n\n    private static List&lt;DataTableRow&gt; rowsWithTokensReplaced(List&lt;DataTableRow&gt; rows, List&lt;String&gt; headerCells, List&lt;String&gt; exampleCells, Set&lt;Integer&gt; matchedColumns) {\n        if (rows != null) {\n            List&lt;DataTableRow&gt; newRows = new ArrayList&lt;DataTableRow&gt;(rows.size());\n            for (Row row : rows) {\n                List&lt;String&gt; newCells = new ArrayList&lt;String&gt;(row.getCells().size());\n                for (String cell : row.getCells()) {\n                    newCells.add(replaceTokens(matchedColumns, headerCells, exampleCells, cell));\n                }\n                newRows.add(new DataTableRow(row.getComments(), newCells, row.getLine()));\n            }\n            return newRows;\n        } else {\n            return null;\n        }\n    }\n\n    private static DocString docStringWithTokensReplaced(DocString docString, List&lt;String&gt; headerCells, List&lt;String&gt; exampleCells, Set&lt;Integer&gt; matchedColumns) {\n        if (docString != null) {\n            String docStringValue = replaceTokens(matchedColumns, headerCells, exampleCells, docString.getValue());\n            return new DocString(docString.getContentType(), docStringValue, docString.getLine());\n        } else {\n            return null;\n        }\n    }\n\n    private static String replaceTokens(Set&lt;Integer&gt; matchedColumns, List&lt;String&gt; headerCells, List&lt;String&gt; exampleCells, String text) {\n        for (int col = 0; col &lt; headerCells.size(); col++) {\n            String headerCell = headerCells.get(col);\n            String value = exampleCells.get(col);\n            String token = \"&lt;\" + headerCell + \"&gt;\";\n\n            if (text.contains(token)) {\n                text = text.replace(token, value);\n                if (text.isEmpty()) {\n                    throw new CucumberException(\"Step generated from scenario outline '\" + token + \"' is empty\");\n                }\n                matchedColumns.add(col);\n            }\n        }\n        return text;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13233784,"reputation":1,"user_id":9556515,"display_name":"kiranB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5274,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1698336512,"creation_date":1522133482,"question_id":49506122,"body_markdown":"I wanted to get iteration count in cucumber when we are executing feature file with multiple row from example in feature file.  \r\n**-&gt;** Imagine a situation wherein we have two rows of First Scenario outline, say A1 and A2, and two of the Second one, say B1 and B2, to be executed Parallel  \r\n**SCENARIO 1**  \r\nExamples:  \r\n| num1 | num2 | total |  \r\n| -2   | 3    | 1     |--**A1**  \r\n| 10   | 15   | 25    |--**A2**  \r\n**SCENARIO 2**  \r\nExamples:  \r\n| num1 | num2 | total |  \r\n| 4   | 5    | 9     |--**B1**  \r\n| 13   | 12   | 25    |--**B2**    \r\n**EXPECTED STATUS OF ABOVE TWO SCENARIOS EXECUTED IN PARALLEL**  \r\nThread \tScenarioOutline InvocationCount Status  \r\n1\tA1\t1\t**OK**  \r\n2\tB1\t1\t**OK**  \r\n3\tA2\t1\t**NOT OK**  \r\nPlease help us how this can be handled, as this may be the case in parallel execution.    \r\n","title":"How to get iteration count in cucumber?","body":"<p>I wanted to get iteration count in cucumber when we are executing feature file with multiple row from example in feature file.<br>\n<strong>-></strong> Imagine a situation wherein we have two rows of First Scenario outline, say A1 and A2, and two of the Second one, say B1 and B2, to be executed Parallel<br>\n<strong>SCENARIO 1</strong><br>\nExamples:<br>\n| num1 | num2 | total |<br>\n| -2   | 3    | 1     |--<strong>A1</strong><br>\n| 10   | 15   | 25    |--<strong>A2</strong><br>\n<strong>SCENARIO 2</strong><br>\nExamples:<br>\n| num1 | num2 | total |<br>\n| 4   | 5    | 9     |--<strong>B1</strong><br>\n| 13   | 12   | 25    |--<strong>B2</strong><br>\n<strong>EXPECTED STATUS OF ABOVE TWO SCENARIOS EXECUTED IN PARALLEL</strong><br>\nThread  ScenarioOutline InvocationCount Status<br>\n1   A1  1   <strong>OK</strong><br>\n2   B1  1   <strong>OK</strong><br>\n3   A2  1   <strong>NOT OK</strong><br>\nPlease help us how this can be handled, as this may be the case in parallel execution.    </p>\n"},{"tags":["java","spring","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1624459763,"post_id":68101893,"comment_id":120366192,"body_markdown":"Has your [previous question](https://stackoverflow.com/q/68100362/6505250) been answered? It seems still be the same issue: `Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 58`. What Java version do you have configured in the preferences in _Java &gt; Installed JREs_ and which one do you use in your run configuration in the tab _JRE_?","body":"Has your <a href=\"https://stackoverflow.com/q/68100362/6505250\">previous question</a> been answered? It seems still be the same issue: <code>Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 58</code>. What Java version do you have configured in the preferences in <i>Java &gt; Installed JREs</i> and which one do you use in your run configuration in the tab <i>JRE</i>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1624460804,"post_id":68101893,"comment_id":120366764,"body_markdown":"Spring 5.1 doesn&#39;t support Java 14, which is why you get this error. You should compile with a lower java version.","body":"Spring 5.1 doesn&#39;t support Java 14, which is why you get this error. You should compile with a lower java version."},{"owner":{"account_id":15915479,"reputation":23,"user_id":11484177,"display_name":"poornima"},"score":1,"creation_date":1626443710,"post_id":68101893,"comment_id":120901776,"body_markdown":"yes .compiling with lower version helped. thanks","body":"yes .compiling with lower version helped. thanks"}],"answers":[{"tags":[],"owner":{"account_id":27983562,"reputation":1,"user_id":21370890,"display_name":"DailyCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680727774,"creation_date":1680727774,"answer_id":75943846,"question_id":68101893,"body_markdown":"Compile with lower version. for example : change your environment of IDE and to Java version 8. ","title":"how to resolve Failed to read candidate component class exception","body":"<p>Compile with lower version. for example : change your environment of IDE and to Java version 8.</p>\n"}],"owner":{"account_id":15915479,"reputation":23,"user_id":11484177,"display_name":"poornima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6889,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698336198,"creation_date":1624458822,"question_id":68101893,"body_markdown":"I am running a spring web project in eclipse 2021 03 and getting the following error\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\Rangachary\\eclipse-newworkspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\web-customer-tracker\\WEB-INF\\classes\\com\\luv2code\\springdemo\\controller\\CustomerController.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\Rangachary\\eclipse-newworkspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\web-customer-tracker\\WEB-INF\\classes\\com\\luv2code\\springdemo\\controller\\CustomerController.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 58\r\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\r\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:275)\r\n    at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\r\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\r\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1366)\r\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1352)\r\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\r\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\r\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:513)\r\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:393)\r\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\r\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\r\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\r\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\r\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:133)\r\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:636)\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:521)\r\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:701)\r\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:667)\r\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:715)\r\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:590)\r\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:529)\r\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\r\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1134)\r\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1089)\r\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:761)\r\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\r\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\r\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\r\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    at java.base/java.lang.Thread.run(Thread.java:832)\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\Rangachary\\eclipse-newworkspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\web-customer-tracker\\WEB-INF\\classes\\com\\luv2code\\springdemo\\controller\\CustomerController.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 58\r\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:57)\r\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\r\n    ... 48 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 58\r\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:184)\r\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:152)\r\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:273)\r\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:54)\r\n    ... 51 more\r\n```\r\nI have compiled the class using jdk 14\r\n        \r\njre used is compatible with jdk 14\r\ncompiler settings and jre settings in eclipse in property and preferences set to jdk 14 and jre 14\r\nSpring jars used are of version 5.1.5 and am not using maven\r\nstill getting same error\r\nWhat else should i tweak? to get rid of this error","title":"how to resolve Failed to read candidate component class exception","body":"<p>I am running a spring web project in eclipse 2021 03 and getting the following error</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\Rangachary\\eclipse-newworkspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\web-customer-tracker\\WEB-INF\\classes\\com\\luv2code\\springdemo\\controller\\CustomerController.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\Rangachary\\eclipse-newworkspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\web-customer-tracker\\WEB-INF\\classes\\com\\luv2code\\springdemo\\controller\\CustomerController.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 58\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:275)\n    at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1366)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1352)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:513)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:393)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:133)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:636)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:521)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:701)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:667)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:715)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:590)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:529)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1134)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1089)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:761)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:832)\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\Rangachary\\eclipse-newworkspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\web-customer-tracker\\WEB-INF\\classes\\com\\luv2code\\springdemo\\controller\\CustomerController.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 58\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:57)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\n    ... 48 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 58\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:184)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:152)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:273)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:54)\n    ... 51 more\n</code></pre>\n<p>I have compiled the class using jdk 14</p>\n<p>jre used is compatible with jdk 14\ncompiler settings and jre settings in eclipse in property and preferences set to jdk 14 and jre 14\nSpring jars used are of version 5.1.5 and am not using maven\nstill getting same error\nWhat else should i tweak? to get rid of this error</p>\n"},{"tags":["java","validation","esapi"],"answers":[{"tags":[],"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637165200,"creation_date":1637165200,"answer_id":70007811,"question_id":69992603,"body_markdown":"The use case you&#39;re attempting is against the design choices made by the original project maintainers.  Because they implemented all the ESAPI classes as singletons, you can&#39;t instantiate two different instances of ESAPI within the same runtime instance, in this case, your instance of websphere.  It&#39;s a classic race condition where the first application to load a resource is the one that wins.  The decision I think partly is in response to the fact that the library was written with the idea of remediating broken websites, in which case Singletons help ensure yours is the one that loads.  \r\n\r\nThe only solution at this time--are non-ideal.  One is to merge all your validations into one instance, the other to deploy different applications to different instantiations of Websphere.  \r\n\r\nESAPI 3.X is when I would expect to see a default that makes more sense.\r\n\r\n","title":"two webproject esapi error: The selected type was not set via the ESAPI validation configuration","body":"<p>The use case you're attempting is against the design choices made by the original project maintainers.  Because they implemented all the ESAPI classes as singletons, you can't instantiate two different instances of ESAPI within the same runtime instance, in this case, your instance of websphere.  It's a classic race condition where the first application to load a resource is the one that wins.  The decision I think partly is in response to the fact that the library was written with the idea of remediating broken websites, in which case Singletons help ensure yours is the one that loads.</p>\n<p>The only solution at this time--are non-ideal.  One is to merge all your validations into one instance, the other to deploy different applications to different instantiations of Websphere.</p>\n<p>ESAPI 3.X is when I would expect to see a default that makes more sense.</p>\n"},{"tags":[],"owner":{"account_id":2520359,"reputation":38,"user_id":2190857,"display_name":"antoniosanct"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638294873,"creation_date":1638294873,"answer_id":70173961,"question_id":69992603,"body_markdown":"Assuming ESAPI 2.1.0 and a typical Eclipse dynamic web app with src folder:\r\n\r\n- Move ESAPI property files (ESAPI and Validation) into src/esapi and set custom filenames.\r\n- Delete any reference in web.xml about ESAPI properties (it doesn&#39;t have any effect)\r\n- Create a class extending DefaultSecurityConfiguration class, overriding getResourceStream method (signature InputStream getResourceName(String filename)) and return resource stream from app classloader. It is neccesary to evaluate filename parameter because of &quot;configuration/validation file load&quot; uses the same method (maybe filename.indexOf(&quot;validation&quot;))\r\n- Create a class (with implements javax.servlet.Filter) that invokes (in doFilter) ESAPI.override(&lt;extended DefaultSecurityConfiguration&gt;) at each request. You must declare your new filter in web.xml (mapping requests as you desire).\r\n\r\nReview javadoc annotation [in override method][1] if you need more information.\r\n\r\n\r\n  [1]: https://www.javadoc.io/static/org.owasp.esapi/esapi/2.1.0/org/owasp/esapi/ESAPI.html#override(org.owasp.esapi.SecurityConfiguration)","title":"two webproject esapi error: The selected type was not set via the ESAPI validation configuration","body":"<p>Assuming ESAPI 2.1.0 and a typical Eclipse dynamic web app with src folder:</p>\n<ul>\n<li>Move ESAPI property files (ESAPI and Validation) into src/esapi and set custom filenames.</li>\n<li>Delete any reference in web.xml about ESAPI properties (it doesn't have any effect)</li>\n<li>Create a class extending DefaultSecurityConfiguration class, overriding getResourceStream method (signature InputStream getResourceName(String filename)) and return resource stream from app classloader. It is neccesary to evaluate filename parameter because of &quot;configuration/validation file load&quot; uses the same method (maybe filename.indexOf(&quot;validation&quot;))</li>\n<li>Create a class (with implements javax.servlet.Filter) that invokes (in doFilter) ESAPI.override() at each request. You must declare your new filter in web.xml (mapping requests as you desire).</li>\n</ul>\n<p>Review javadoc annotation <a href=\"https://www.javadoc.io/static/org.owasp.esapi/esapi/2.1.0/org/owasp/esapi/ESAPI.html#override(org.owasp.esapi.SecurityConfiguration)\" rel=\"nofollow noreferrer\">in override method</a> if you need more information.</p>\n"}],"owner":{"account_id":23357209,"reputation":11,"user_id":17430019,"display_name":"enK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698336135,"creation_date":1637079310,"question_id":69992603,"body_markdown":"I have a was 9 server with two different web applications, each one with the esapi 2.1 library with its ESAPI.properties and validation.properties files:\r\n\r\n    A\\webcontent\\web-inf\\esapi\\ESAPI.properties\r\n    A\\webcontent\\web-inf\\esapi\\validation.properties\r\n    B\\webcontent\\web-inf\\esapi\\ESAPI.properties\r\n    B\\webcontent\\web-inf\\esapi\\validation.properties\r\n\r\nIn application B the validation.properties file has validations that are not in application A, when application B is alone works correctly but when the two applications are together the B application get properites files of A and does not load its validations so it gives an error.\r\n\r\nI test changing B  move the properties files in &quot;src\\esapi&quot; and in &quot;src\\org\\owasp\\esapi\\resources&quot; and the same error always appears\r\n\r\nThe selected type was not set via the ESAPI validation configuration\r\n\r\n    java.lang.IllegalArgumentException: The selected type was not set via the ESAPI validation configuration\r\n    at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:208)\r\n    at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:185)\r\n\t   \r\n\r\nmy web.xml:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;esapiProperties&lt;/param-name&gt;\r\n         &lt;param-value&gt;/esapi/ESAPI.properties&lt;/param-value&gt;\r\n    &lt;/context-param&gt;   \r\n    &lt;context-param&gt;\r\n         &lt;param-name&gt;validationEsapiProperties&lt;/param-name&gt;\r\n         &lt;param-value&gt;/esapi/validation.properties&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n \r\nor:\r\n\r\n    &lt;context-param&gt;\r\n      &lt;param-name&gt;esapiProperties&lt;/param-name&gt;\r\n      &lt;param-value&gt;/org/owasp/esapi/resources/ESAPI.properties&lt;/param-value&gt;\r\n    &lt;/context-param&gt;   \r\n    \r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;validationEsapiProperties&lt;/param-name&gt;\r\n        &lt;param-value&gt;/org/owasp/esapi/resources/validation.properties&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n ","title":"two webproject esapi error: The selected type was not set via the ESAPI validation configuration","body":"<p>I have a was 9 server with two different web applications, each one with the esapi 2.1 library with its ESAPI.properties and validation.properties files:</p>\n<pre><code>A\\webcontent\\web-inf\\esapi\\ESAPI.properties\nA\\webcontent\\web-inf\\esapi\\validation.properties\nB\\webcontent\\web-inf\\esapi\\ESAPI.properties\nB\\webcontent\\web-inf\\esapi\\validation.properties\n</code></pre>\n<p>In application B the validation.properties file has validations that are not in application A, when application B is alone works correctly but when the two applications are together the B application get properites files of A and does not load its validations so it gives an error.</p>\n<p>I test changing B  move the properties files in &quot;src\\esapi&quot; and in &quot;src\\org\\owasp\\esapi\\resources&quot; and the same error always appears</p>\n<p>The selected type was not set via the ESAPI validation configuration</p>\n<pre><code>java.lang.IllegalArgumentException: The selected type was not set via the ESAPI validation configuration\nat org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:208)\nat org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:185)\n   \n</code></pre>\n<p>my web.xml:</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;esapiProperties&lt;/param-name&gt;\n     &lt;param-value&gt;/esapi/ESAPI.properties&lt;/param-value&gt;\n&lt;/context-param&gt;   \n&lt;context-param&gt;\n     &lt;param-name&gt;validationEsapiProperties&lt;/param-name&gt;\n     &lt;param-value&gt;/esapi/validation.properties&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>or:</p>\n<pre><code>&lt;context-param&gt;\n  &lt;param-name&gt;esapiProperties&lt;/param-name&gt;\n  &lt;param-value&gt;/org/owasp/esapi/resources/ESAPI.properties&lt;/param-value&gt;\n&lt;/context-param&gt;   \n\n&lt;context-param&gt;\n    &lt;param-name&gt;validationEsapiProperties&lt;/param-name&gt;\n    &lt;param-value&gt;/org/owasp/esapi/resources/validation.properties&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n"},{"tags":["java","project-reactor","micronaut"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1699407829,"post_id":77368369,"comment_id":136526939,"body_markdown":"noticed that you defined thenReturn operation previous , so whatever the ```process``` return value upstream , the downstream  would receive the type of Response stream , if you would like to receive a error string as type of stream , you can try the following code snippet\n``` messageService.process(request) .onErrorReturn(e-&gt; e instanceof RedisException, &quot;There is something wrong in redis&quot;)  ```","body":"noticed that you defined thenReturn operation previous , so whatever the <code>process</code> return value upstream , the downstream  would receive the type of Response stream , if you would like to receive a error string as type of stream , you can try the following code snippet ``` messageService.process(request) .onErrorReturn(e-&gt; e instanceof RedisException, &quot;There is something wrong in redis&quot;)  ```"}],"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698336116,"creation_date":1698334084,"question_id":77368369,"body_markdown":"In this controller I&#39;m trying to catch an exception called `RedisException.class` which is thrown from messageService and instead return a http response 503 to the user.\r\n\r\nMessageService method signature is\r\n\r\n    public Mono&lt;Void&gt; process(Request request) {}\r\n\r\nHere&#39;s what I have in the controller (doesn&#39;t compile)\r\n\r\n    @Post\r\n    @ApiResponse(responseCode = &quot;503&quot;, description = &quot;Unable to submit to Redis for processing&quot;)\r\n    public Mono&lt;MutableHttpResponse&lt;Response&gt;&gt; acceptMsg(@Body @NonNull Request request) {\r\n        return messageService.process(request)\r\n                .thenReturn(HttpResponse.accepted().body(new Response()))\r\n                .onErrorReturn(HttpResponse.status(HttpStatus.SERVICE_UNAVAILABLE).body(&quot;Unable to submit to Redis for processing&quot;));\r\n    }\r\n\r\nHow do I allow .onErrorReturn() to accept a string instead of the type `Request` which it is currently bound to?","title":"Error handling in controller with reactor and micronaut","body":"<p>In this controller I'm trying to catch an exception called <code>RedisException.class</code> which is thrown from messageService and instead return a http response 503 to the user.</p>\n<p>MessageService method signature is</p>\n<pre><code>public Mono&lt;Void&gt; process(Request request) {}\n</code></pre>\n<p>Here's what I have in the controller (doesn't compile)</p>\n<pre><code>@Post\n@ApiResponse(responseCode = &quot;503&quot;, description = &quot;Unable to submit to Redis for processing&quot;)\npublic Mono&lt;MutableHttpResponse&lt;Response&gt;&gt; acceptMsg(@Body @NonNull Request request) {\n    return messageService.process(request)\n            .thenReturn(HttpResponse.accepted().body(new Response()))\n            .onErrorReturn(HttpResponse.status(HttpStatus.SERVICE_UNAVAILABLE).body(&quot;Unable to submit to Redis for processing&quot;));\n}\n</code></pre>\n<p>How do I allow .onErrorReturn() to accept a string instead of the type <code>Request</code> which it is currently bound to?</p>\n"},{"tags":["java","json","serialization","gson"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698335909,"creation_date":1698335909,"answer_id":77368594,"question_id":77362999,"body_markdown":"This is the intended behavior and cannot be disabled. Apparently your value for the `test1` key is a string, so any `&quot;` it contains must be escaped; otherwise they are misinterpreted as the end of the string.\r\n\r\nFor example let&#39;s look at your desired JSON output:\r\n```json\r\n{&quot;test1&quot;:&quot;[{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}]&quot;}\r\n```\r\n\r\nThis is not actually valid JSON. It starts with:\r\n- object `{`\r\n  - name `&quot;test1&quot;`\r\n  - string value `&quot;[{&quot;`\r\n\r\nAnd the remainder is invalid. You can see this in your local editor with JSON validation support (for example VS Code) or for example on https://jsonlint.com/.\r\n\r\nI assume the problem here is the data you pass to `Gson.toJson`. You currently seem to pass `HashMap&lt;String, String&gt;` but probably actually want to pass `HashMap&lt;String, List&lt;...&gt;&gt;`. So something already converted the map value to String before you used Gson.  \r\nIf you used `HashMap&lt;String, List&lt;...&gt;&gt;`, then you get the (probably desired) output:\r\n```json\r\n{&quot;test1&quot;:[{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}]}\r\n```\r\n(note the missing `&quot;` in front and behind the value)","title":"Gson escaping double quotes in HashMap serialization even with disableHtmlEscaping","body":"<p>This is the intended behavior and cannot be disabled. Apparently your value for the <code>test1</code> key is a string, so any <code>&quot;</code> it contains must be escaped; otherwise they are misinterpreted as the end of the string.</p>\n<p>For example let's look at your desired JSON output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;test1&quot;:&quot;[{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}]&quot;}\n</code></pre>\n<p>This is not actually valid JSON. It starts with:</p>\n<ul>\n<li>object <code>{</code>\n<ul>\n<li>name <code>&quot;test1&quot;</code></li>\n<li>string value <code>&quot;[{&quot;</code></li>\n</ul>\n</li>\n</ul>\n<p>And the remainder is invalid. You can see this in your local editor with JSON validation support (for example VS Code) or for example on <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">https://jsonlint.com/</a>.</p>\n<p>I assume the problem here is the data you pass to <code>Gson.toJson</code>. You currently seem to pass <code>HashMap&lt;String, String&gt;</code> but probably actually want to pass <code>HashMap&lt;String, List&lt;...&gt;&gt;</code>. So something already converted the map value to String before you used Gson.<br />\nIf you used <code>HashMap&lt;String, List&lt;...&gt;&gt;</code>, then you get the (probably desired) output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;test1&quot;:[{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}]}\n</code></pre>\n<p>(note the missing <code>&quot;</code> in front and behind the value)</p>\n"}],"owner":{"account_id":29754507,"reputation":1,"user_id":22803579,"display_name":"Jayden Chiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698335909,"creation_date":1698269516,"question_id":77362999,"body_markdown":"I want to convert a `HashMap` to a JSON string with Gson where one of the map&#39;s values has double quotes. I do not want those double quotes to be escaped, but when converting to a JSON string with `disableHtmlEscaping` in my `GsonBuilder`, it still escapes the double quotes \r\n\r\n\r\nI have a HashMap with the following String keys and String values\r\n\r\n```\r\n{\r\n  &quot;test1&quot;:&quot;[{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}]&quot;\r\n}\r\n```\r\n\r\nWhen I try to serialize this map with gson after disabling HTML escaping with this code:\r\n\r\n```\r\nGson gson = new GsonBuilder().disableHtmlEscaping().create();\r\nreturn gson.toJson(map);\r\n```\r\n\r\nIt returns the following string:\r\n```\r\n{&quot;test1&quot;:&quot;[{\\&quot;key1\\&quot;:\\&quot;value1\\&quot;,\\&quot;key2\\&quot;:\\&quot;value2\\&quot;}]&quot;}\r\n```\r\n\r\n\r\n\r\nAlso tried:\r\n- manually escaping the strings before serializing\r\n- setPrettyPrinting \r\n- converting the map into a JsonTree and getting that as a String using getAsString and toString\r\n\r\nNone of those worked. Can someone help me figure out what I am doing wrong and how I can convert that map to a string without escaping the double quotes? \r\n\r\nI want the serialized map to look like \r\n```\r\n{&quot;test1&quot;:&quot;[{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}]&quot;}\r\n```","title":"Gson escaping double quotes in HashMap serialization even with disableHtmlEscaping","body":"<p>I want to convert a <code>HashMap</code> to a JSON string with Gson where one of the map's values has double quotes. I do not want those double quotes to be escaped, but when converting to a JSON string with <code>disableHtmlEscaping</code> in my <code>GsonBuilder</code>, it still escapes the double quotes</p>\n<p>I have a HashMap with the following String keys and String values</p>\n<pre><code>{\n  &quot;test1&quot;:&quot;[{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}]&quot;\n}\n</code></pre>\n<p>When I try to serialize this map with gson after disabling HTML escaping with this code:</p>\n<pre><code>Gson gson = new GsonBuilder().disableHtmlEscaping().create();\nreturn gson.toJson(map);\n</code></pre>\n<p>It returns the following string:</p>\n<pre><code>{&quot;test1&quot;:&quot;[{\\&quot;key1\\&quot;:\\&quot;value1\\&quot;,\\&quot;key2\\&quot;:\\&quot;value2\\&quot;}]&quot;}\n</code></pre>\n<p>Also tried:</p>\n<ul>\n<li>manually escaping the strings before serializing</li>\n<li>setPrettyPrinting</li>\n<li>converting the map into a JsonTree and getting that as a String using getAsString and toString</li>\n</ul>\n<p>None of those worked. Can someone help me figure out what I am doing wrong and how I can convert that map to a string without escaping the double quotes?</p>\n<p>I want the serialized map to look like</p>\n<pre><code>{&quot;test1&quot;:&quot;[{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}]&quot;}\n</code></pre>\n"},{"tags":["java","syntax","if-statement"],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317345845,"creation_date":1317342833,"answer_id":7604832,"question_id":7604814,"body_markdown":"You could look for the presence of a map key or see if it&#39;s in a set. \r\n\r\nDepending on what you&#39;re actually *doing*, though, you might be trying to solve the problem wrong :)","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>You could look for the presence of a map key or see if it's in a set. </p>\n\n<p>Depending on what you're actually <em>doing</em>, though, you might be trying to solve the problem wrong :)</p>\n"},{"tags":[],"owner":{"account_id":133781,"reputation":3265,"user_id":335423,"accept_rate":85,"display_name":"filip-fku"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317345842,"creation_date":1317343094,"answer_id":7604847,"question_id":7604814,"body_markdown":"Use a collection of some sort - this will make the code more readable and hide away all those constants. A simple way would be with a list:\r\n\r\n    // Declared with constants\r\n    private static List&lt;Integer&gt; myConstants = new ArrayList&lt;Integer&gt;(){{\r\n        add(12);\r\n        add(16);\r\n        add(19);\r\n    }};\r\n\r\n    // Wherever you are checking for presence of the constant\r\n    if(myConstants.contains(x)){\r\n        // ETC\r\n    }\r\n\r\nAs Bohemian points out the list of constants can be static so it&#39;s accessible in more than one place.\r\n\r\nFor anyone interested, the list in my example is using [double brace initialization][1]. Since I ran into it recently I&#39;ve found it nice for writing quick &amp; dirty list initializations.\r\n\r\n\r\n  [1]: http://kzeil.home.xs4all.nl/en/project/java/initializer-block.html","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>Use a collection of some sort - this will make the code more readable and hide away all those constants. A simple way would be with a list:</p>\n\n<pre><code>// Declared with constants\nprivate static List&lt;Integer&gt; myConstants = new ArrayList&lt;Integer&gt;(){{\n    add(12);\n    add(16);\n    add(19);\n}};\n\n// Wherever you are checking for presence of the constant\nif(myConstants.contains(x)){\n    // ETC\n}\n</code></pre>\n\n<p>As Bohemian points out the list of constants can be static so it's accessible in more than one place.</p>\n\n<p>For anyone interested, the list in my example is using <a href=\"http://kzeil.home.xs4all.nl/en/project/java/initializer-block.html\" rel=\"nofollow\">double brace initialization</a>. Since I ran into it recently I've found it nice for writing quick &amp; dirty list initializations.</p>\n"},{"tags":[],"owner":{"account_id":426173,"reputation":18141,"user_id":807231,"accept_rate":38,"display_name":"Marsellus Wallace"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1317343116,"creation_date":1317343116,"answer_id":7604848,"question_id":7604814,"body_markdown":"Do you want to switch to this??\r\n\r\n    switch(x) {\r\n        case 12:\r\n        case 16:\r\n        case 19: \r\n            //Do something\r\n            break;\r\n        default:\r\n            //Do nothing or something else..\r\n            break;\r\n    }\r\n","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>Do you want to switch to this??</p>\n\n<pre><code>switch(x) {\n    case 12:\n    case 16:\n    case 19: \n        //Do something\n        break;\n    default:\n        //Do nothing or something else..\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317343139,"creation_date":1317343139,"answer_id":7604851,"question_id":7604814,"body_markdown":"If the set of possibilities is &quot;compact&quot; (i.e. largest-value - smallest-value is, say, less than 200) you might consider a lookup table.  This would be especially useful if you had a structure like \r\n\r\n    if (x == 12 || x == 16 || x == 19 || ...)\r\n    else if (x==34 || x == 55 || ...)\r\n    else if (...)\r\n\r\nSet up an array with values identifying the branch to be taken (1, 2, 3 in the example above) and then your tests become\r\n\r\n    switch(dispatchTable[x])\r\n    {\r\n        case 1:\r\n            ...\r\n            break;\r\n        case 2:\r\n            ...\r\n            break;\r\n        case 3:\r\n            ...\r\n            break;\r\n    }\r\n\r\nWhether or not this is appropriate depends on the semantics of the problem.\r\n\r\nIf an array isn&#39;t appropriate, you could use a `Map&lt;Integer,Integer&gt;`, or if you just want to test membership for a single statement, a `Set&lt;Integer&gt;` would do.  That&#39;s a lot of firepower for a simple `if` statement, however, so without more context it&#39;s kind of hard to guide you in the right direction.\r\n","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>If the set of possibilities is \"compact\" (i.e. largest-value - smallest-value is, say, less than 200) you might consider a lookup table.  This would be especially useful if you had a structure like </p>\n\n<pre><code>if (x == 12 || x == 16 || x == 19 || ...)\nelse if (x==34 || x == 55 || ...)\nelse if (...)\n</code></pre>\n\n<p>Set up an array with values identifying the branch to be taken (1, 2, 3 in the example above) and then your tests become</p>\n\n<pre><code>switch(dispatchTable[x])\n{\n    case 1:\n        ...\n        break;\n    case 2:\n        ...\n        break;\n    case 3:\n        ...\n        break;\n}\n</code></pre>\n\n<p>Whether or not this is appropriate depends on the semantics of the problem.</p>\n\n<p>If an array isn't appropriate, you could use a <code>Map&lt;Integer,Integer&gt;</code>, or if you just want to test membership for a single statement, a <code>Set&lt;Integer&gt;</code> would do.  That's a lot of firepower for a simple <code>if</code> statement, however, so without more context it's kind of hard to guide you in the right direction.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1677097170,"creation_date":1317343376,"answer_id":7604867,"question_id":7604814,"body_markdown":"I use this kind of pattern often. It&#39;s very compact:\r\n    \r\nDefine a constant in your class:\r\n\r\n    private static final Set&lt;Integer&gt; VALUES = Set.of(12, 16, 19);    \r\n    // Pre Java 9 use: VALUES = new HashSet&lt;Integer&gt;(Arrays.asList(12, 16, 19));\r\n    \r\nIn your method:\r\n\r\n    if (VALUES.contains(x)) {\r\n        ...\r\n    }\r\n\r\n`Set.of()` returns a `HashSet`, which performs very well even for very large sets.\r\n\r\nIf performance is not important, you can code the gist of it into one line for less code footprint:\r\n\r\n    if (Set.of(12, 16, 19).contains(x))\r\n\r\nbut know that it will create a new `Set` every time it executes.","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>I use this kind of pattern often. It's very compact:</p>\n<p>Define a constant in your class:</p>\n<pre><code>private static final Set&lt;Integer&gt; VALUES = Set.of(12, 16, 19);    \n// Pre Java 9 use: VALUES = new HashSet&lt;Integer&gt;(Arrays.asList(12, 16, 19));\n</code></pre>\n<p>In your method:</p>\n<pre><code>if (VALUES.contains(x)) {\n    ...\n}\n</code></pre>\n<p><code>Set.of()</code> returns a <code>HashSet</code>, which performs very well even for very large sets.</p>\n<p>If performance is not important, you can code the gist of it into one line for less code footprint:</p>\n<pre><code>if (Set.of(12, 16, 19).contains(x))\n</code></pre>\n<p>but know that it will create a new <code>Set</code> every time it executes.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1317537441,"creation_date":1317343463,"answer_id":7604874,"question_id":7604814,"body_markdown":"No you cannot do that in Java. you can however write a method as follows:\r\n\r\n    boolean isContains(int i, int ... numbers) {\r\n        // code to check if i is one of the numbers\r\n        for (int n : numbers) {\r\n            if (i == n) return true;\r\n        }\r\n        return false;\r\n    }","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>No you cannot do that in Java. you can however write a method as follows:</p>\n\n<pre><code>boolean isContains(int i, int ... numbers) {\n    // code to check if i is one of the numbers\n    for (int n : numbers) {\n        if (i == n) return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323221,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1479275145,"creation_date":1479275145,"answer_id":40624881,"question_id":7604814,"body_markdown":"With Java 8, you could use a primitive stream:\r\n\r\n    if (IntStream.of(12, 16, 19).anyMatch(i -&gt; i == x))\r\n\r\nbut this may have a slight overhead (or not), depending on the number of comparisons.","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>With Java 8, you could use a primitive stream:</p>\n\n<pre><code>if (IntStream.of(12, 16, 19).anyMatch(i -&gt; i == x))\n</code></pre>\n\n<p>but this may have a slight overhead (or not), depending on the number of comparisons.</p>\n"},{"tags":[],"owner":{"account_id":1868856,"reputation":1929,"user_id":1691651,"display_name":"JohnP2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663626887,"creation_date":1663626887,"answer_id":73779900,"question_id":7604814,"body_markdown":"Here is another answer based on a comment above, but simpler:\r\n\r\n    List numbers= Arrays.asList(1,2,3,4,5);\r\n    if(numbers.contains(x)){\r\n         //\r\n    }","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>Here is another answer based on a comment above, but simpler:</p>\n<pre><code>List numbers= Arrays.asList(1,2,3,4,5);\nif(numbers.contains(x)){\n     //\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5649129,"reputation":163,"user_id":4470352,"display_name":"Francisco M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679927197,"creation_date":1679048301,"answer_id":75766401,"question_id":7604814,"body_markdown":"In java8 there is another approach using Stream.of:\r\n\r\n    Stream.of(a==1, b.equals(&quot;something&quot;), c &gt; 23, rocket.wasFired()).anyMatch(Boolean.TRUE::equals)\r\n\r\nWhen there are multiple conditions you have to check save some code lines.\r\n\r\nI think that conceptually is better, because the main purpose is to check if a multiple or compound predicate is true, instead of check the existence of an element in a container.\r\n\r\nIn the main question case, could be as follows:\r\n\r\n    Stream.of(month == 4, month == 6, month == 9, month == 11).anyMatch(Boolean.TRUE::equals)\r\n\r\n","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>In java8 there is another approach using Stream.of:</p>\n<pre><code>Stream.of(a==1, b.equals(&quot;something&quot;), c &gt; 23, rocket.wasFired()).anyMatch(Boolean.TRUE::equals)\n</code></pre>\n<p>When there are multiple conditions you have to check save some code lines.</p>\n<p>I think that conceptually is better, because the main purpose is to check if a multiple or compound predicate is true, instead of check the existence of an element in a container.</p>\n<p>In the main question case, could be as follows:</p>\n<pre><code>Stream.of(month == 4, month == 6, month == 9, month == 11).anyMatch(Boolean.TRUE::equals)\n</code></pre>\n"}],"owner":{"account_id":310064,"reputation":2411,"user_id":622846,"accept_rate":84,"display_name":"Anthony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162074,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":7604867,"answer_count":9,"score":59,"last_activity_date":1698335592,"creation_date":1317342615,"question_id":7604814,"body_markdown":"I have an if statement with many conditions (have to check for 10 or 15 constants to see if any of them are present.)\r\n\r\nInstead of writing something like:\r\n\r\n    if (x == 12 || x == 16 || x == 19 || ...)\r\n\r\nis there any way to format it like\r\n\r\n    if x is [12, 16, 19]?\r\n\r\nI was making a date validation class that needed to make sure days were not &gt; 30 in the months that have only 30 days (of which there are 4, I think) and I was writing an if statement to check things like this:\r\n\r\n    if (day &gt; 30 &amp;&amp; (month == 4 || month == 6 || month == 9 || month == 11))\r\n\r\nIs there another way to write this that is less verbose/more efficient?","title":"How to format multiple &#39;or&#39; conditions in an if statement","body":"<p>I have an if statement with many conditions (have to check for 10 or 15 constants to see if any of them are present.)</p>\n<p>Instead of writing something like:</p>\n<pre><code>if (x == 12 || x == 16 || x == 19 || ...)\n</code></pre>\n<p>is there any way to format it like</p>\n<pre><code>if x is [12, 16, 19]?\n</code></pre>\n<p>I was making a date validation class that needed to make sure days were not &gt; 30 in the months that have only 30 days (of which there are 4, I think) and I was writing an if statement to check things like this:</p>\n<pre><code>if (day &gt; 30 &amp;&amp; (month == 4 || month == 6 || month == 9 || month == 11))\n</code></pre>\n<p>Is there another way to write this that is less verbose/more efficient?</p>\n"},{"tags":["java","spring","resttemplate","self-signed"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1399429621,"post_id":23504819,"comment_id":36053433,"body_markdown":"You&#39;ll need to manually configure the HTTP connector the template is using.","body":"You&#39;ll need to manually configure the HTTP connector the template is using."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1399470981,"post_id":23504819,"comment_id":36075550,"body_markdown":"@chrylis I don&#39;t see a class of the name `HttpConnector` in either Java&#39;s SDK or Springs JavaDoc. Which class did you mean specifically?","body":"@chrylis I don&#39;t see a class of the name <code>HttpConnector</code> in either Java&#39;s SDK or Springs JavaDoc. Which class did you mean specifically?"},{"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"score":0,"creation_date":1399733965,"post_id":23504819,"comment_id":36193071,"body_markdown":"Did you check my answer over [here][1]. This works for me.\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/18476073/spring-resttemplate-i-o-error-no-peer-certificate/18583448#18583448","body":"Did you check my answer over [here][1]. This works for me.        [1]: <a href=\"http://stackoverflow.com/questions/18476073/spring-resttemplate-i-o-error-no-peer-certificate/18583448#18583448\" title=\"spring resttemplate i o error no peer certificate\">stackoverflow.com/questions/18476073/&hellip;</a>"},{"owner":{"account_id":261142,"reputation":47108,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1412864266,"post_id":23504819,"comment_id":41233348,"body_markdown":"See also http://stackoverflow.com/questions/859111/how-do-i-accept-a-self-signed-certificate-with-a-java-httpsurlconnection","body":"See also <a href=\"http://stackoverflow.com/questions/859111/how-do-i-accept-a-self-signed-certificate-with-a-java-httpsurlconnection\" title=\"how do i accept a self signed certificate with a java httpsurlconnection\">stackoverflow.com/questions/859111/&hellip;</a>"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1578413571,"post_id":23504819,"comment_id":105426510,"body_markdown":"Sled, Could you please confirm how did you solve this issue ?","body":"Sled, Could you please confirm how did you solve this issue ?"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":40,"up_vote_count":9,"is_accepted":false,"score":-31,"last_activity_date":1399418091,"creation_date":1399418091,"answer_id":23506093,"question_id":23504819,"body_markdown":"Disabling certificate checking is the wrong solution, and radically insecure.\r\n\r\nThe correct solution is to import the self-signed certificate into your truststore. An even more correct solution is to get the certificate signed by a CA.\r\n\r\nIf this is &#39;only for testing&#39; it is still necessary to test the production configuration. Testing something else isn&#39;t a test at all, it&#39;s just a waste of time.","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>Disabling certificate checking is the wrong solution, and radically insecure.</p>\n\n<p>The correct solution is to import the self-signed certificate into your truststore. An even more correct solution is to get the certificate signed by a CA.</p>\n\n<p>If this is 'only for testing' it is still necessary to test the production configuration. Testing something else isn't a test at all, it's just a waste of time.</p>\n"},{"tags":[],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"down_vote_count":1,"up_vote_count":74,"is_accepted":true,"score":73,"last_activity_date":1519421698,"creation_date":1404136653,"answer_id":24491820,"question_id":23504819,"body_markdown":"I wish I still had a link to the source that lead me in this direction, but this is the code that ended up working for me. By looking over the JavaDoc for [X509TrustManager](http://docs.oracle.com/javase/8/docs/api/javax/net/ssl/X509TrustManager.html) it looks like the way the `TrustManager`s work is by returning nothing on successful validation, otherwise throwing an exception. Thus, with a [null implementation](http://en.wikipedia.org/wiki/Null_Object_pattern), it is treated as a successful validation. Then you remove all other implementations.\r\n\r\n\timport javax.net.ssl.*;\r\n\timport java.security.*;\r\n\timport java.security.cert.X509Certificate;\r\n\r\n\tpublic final class SSLUtil{\r\n\r\n\t\tprivate static final TrustManager[] UNQUESTIONING_TRUST_MANAGER = new TrustManager[]{\r\n\t\t\t\tnew X509TrustManager() {\r\n\t\t\t\t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers(){\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpublic void checkClientTrusted( X509Certificate[] certs, String authType ){}\r\n\t\t\t\t\tpublic void checkServerTrusted( X509Certificate[] certs, String authType ){}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\tpublic  static void turnOffSslChecking() throws NoSuchAlgorithmException, KeyManagementException {\r\n\t\t\t// Install the all-trusting trust manager\r\n\t\t\tfinal SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n\t\t\tsc.init( null, UNQUESTIONING_TRUST_MANAGER, null );\r\n\t\t\tHttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\t\t}\r\n\r\n\t\tpublic static void turnOnSslChecking() throws KeyManagementException, NoSuchAlgorithmException {\r\n\t\t\t// Return it to the initial state (discovered by reflection, now hardcoded)\r\n\t\t\tSSLContext.getInstance(&quot;SSL&quot;).init( null, null, null );\r\n\t\t}\r\n\t\t\r\n\t\tprivate SSLUtil(){\r\n\t\t\tthrow new UnsupportedOperationException( &quot;Do not instantiate libraries.&quot;);\r\n\t\t}\r\n\t}","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>I wish I still had a link to the source that lead me in this direction, but this is the code that ended up working for me. By looking over the JavaDoc for <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/net/ssl/X509TrustManager.html\" rel=\"noreferrer\">X509TrustManager</a> it looks like the way the <code>TrustManager</code>s work is by returning nothing on successful validation, otherwise throwing an exception. Thus, with a <a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"noreferrer\">null implementation</a>, it is treated as a successful validation. Then you remove all other implementations.</p>\n\n<pre><code>import javax.net.ssl.*;\nimport java.security.*;\nimport java.security.cert.X509Certificate;\n\npublic final class SSLUtil{\n\n    private static final TrustManager[] UNQUESTIONING_TRUST_MANAGER = new TrustManager[]{\n            new X509TrustManager() {\n                public java.security.cert.X509Certificate[] getAcceptedIssuers(){\n                    return null;\n                }\n                public void checkClientTrusted( X509Certificate[] certs, String authType ){}\n                public void checkServerTrusted( X509Certificate[] certs, String authType ){}\n            }\n        };\n\n    public  static void turnOffSslChecking() throws NoSuchAlgorithmException, KeyManagementException {\n        // Install the all-trusting trust manager\n        final SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init( null, UNQUESTIONING_TRUST_MANAGER, null );\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n    }\n\n    public static void turnOnSslChecking() throws KeyManagementException, NoSuchAlgorithmException {\n        // Return it to the initial state (discovered by reflection, now hardcoded)\n        SSLContext.getInstance(\"SSL\").init( null, null, null );\n    }\n\n    private SSLUtil(){\n        throw new UnsupportedOperationException( \"Do not instantiate libraries.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3476491,"reputation":762,"user_id":2909535,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1421852409,"creation_date":1421790330,"answer_id":28055699,"question_id":23504819,"body_markdown":"You can also register your keystore :\r\n\r\n\tprivate void registerKeyStore(String keyStoreName) {\r\n\t\ttry {\r\n\t\t\tClassLoader classLoader = this.getClass().getClassLoader();\r\n\t\t\tInputStream keyStoreInputStream = classLoader.getResourceAsStream(keyStoreName);\r\n\t\t\tif (keyStoreInputStream == null) {\r\n\t\t\t\tthrow new FileNotFoundException(&quot;Could not find file named &#39;&quot; + keyStoreName + &quot;&#39; in the CLASSPATH&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t//load the keystore\r\n\t\t\tKeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\tkeystore.load(keyStoreInputStream, null);\r\n\r\n\t\t\t//add to known keystore \r\n\t\t\tTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttrustManagerFactory.init(keystore);\r\n\r\n\t\t\t//default SSL connections are initialized with the keystore above\r\n\t\t\tTrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\r\n\t\t\tSSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n\t\t\tsc.init(null, trustManagers, null);\r\n\t\t\tSSLContext.setDefault(sc);\r\n\t\t} catch (IOException | GeneralSecurityException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>You can also register your keystore :</p>\n\n<pre><code>private void registerKeyStore(String keyStoreName) {\n    try {\n        ClassLoader classLoader = this.getClass().getClassLoader();\n        InputStream keyStoreInputStream = classLoader.getResourceAsStream(keyStoreName);\n        if (keyStoreInputStream == null) {\n            throw new FileNotFoundException(\"Could not find file named '\" + keyStoreName + \"' in the CLASSPATH\");\n        }\n\n        //load the keystore\n        KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keystore.load(keyStoreInputStream, null);\n\n        //add to known keystore \n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(keystore);\n\n        //default SSL connections are initialized with the keystore above\n        TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, trustManagers, null);\n        SSLContext.setDefault(sc);\n    } catch (IOException | GeneralSecurityException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6460720,"reputation":41,"user_id":5004650,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1447107042,"creation_date":1447107042,"answer_id":33619237,"question_id":23504819,"body_markdown":"Here&#39;s a solution where security checking is disabled (for example, conversing with the localhost)  Also, some of the solutions I&#39;ve seen now contain deprecated methods and such.\r\n\r\n\t/**\r\n\t * @param configFilePath\r\n\t * @param ipAddress\r\n\t * @param userId\r\n\t * @param password\r\n\t * @throws MalformedURLException\r\n\t */\r\n\tpublic Upgrade(String aConfigFilePath, String ipAddress, String userId,\tString password) {\r\n\t\tconfigFilePath = aConfigFilePath;\r\n\t\tbaseUri = &quot;https://&quot; + ipAddress + &quot;:&quot; + PORT + &quot;/&quot;;\r\n\r\n\t\trestTemplate = new RestTemplate(createSecureTransport(userId, password,\tipAddress, PORT));\r\n\t\trestTemplate.getMessageConverters().add(new MappingJacksonHttpMessageConverter());\r\n\t\trestTemplate.getMessageConverters().add(new StringHttpMessageConverter());\r\n     }\r\n\r\n\tClientHttpRequestFactory createSecureTransport(String username,\r\n\t\t\tString password, String host, int port) {\r\n\t\tHostnameVerifier nullHostnameVerifier = new HostnameVerifier() {\r\n\t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t};\r\n\t\tUsernamePasswordCredentials credentials = new UsernamePasswordCredentials(username, password);\r\n\t\tCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n\t\tcredentialsProvider.setCredentials(\r\n\t\t\t\tnew AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM), credentials);\r\n\r\n\t\tHttpClient client = HttpClientBuilder.create()\r\n\t\t\t\t.setSSLHostnameVerifier(nullHostnameVerifier)\r\n\t\t\t\t.setSSLContext(createContext())\r\n\t\t\t\t.setDefaultCredentialsProvider(credentialsProvider).build();\r\n\r\n\t\tHttpComponentsClientHttpRequestFactory requestFactory = \r\n\t\t\t\tnew HttpComponentsClientHttpRequestFactory(client);\r\n\r\n\t\treturn requestFactory;\r\n\t}\r\n\r\n\tprivate SSLContext createContext() {\r\n\t\tTrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\r\n\t\t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void checkClientTrusted(\r\n\t\t\t\t\tjava.security.cert.X509Certificate[] certs, String authType) {\r\n\t\t\t}\r\n\r\n\t\t\tpublic void checkServerTrusted(\r\n\t\t\t\t\tjava.security.cert.X509Certificate[] certs, String authType) {\r\n\t\t\t}\r\n\t\t} };\r\n\r\n\t\ttry {\r\n\t\t\tSSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n\t\t\tsc.init(null, trustAllCerts, null);\r\n\t\t\tSSLContext.setDefault(sc);\r\n\t\t\tHttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\t\t\tHttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\r\n\t\t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\treturn sc;\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n \r\n","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>Here's a solution where security checking is disabled (for example, conversing with the localhost)  Also, some of the solutions I've seen now contain deprecated methods and such.</p>\n\n<pre><code>/**\n * @param configFilePath\n * @param ipAddress\n * @param userId\n * @param password\n * @throws MalformedURLException\n */\npublic Upgrade(String aConfigFilePath, String ipAddress, String userId, String password) {\n    configFilePath = aConfigFilePath;\n    baseUri = \"https://\" + ipAddress + \":\" + PORT + \"/\";\n\n    restTemplate = new RestTemplate(createSecureTransport(userId, password, ipAddress, PORT));\n    restTemplate.getMessageConverters().add(new MappingJacksonHttpMessageConverter());\n    restTemplate.getMessageConverters().add(new StringHttpMessageConverter());\n }\n\nClientHttpRequestFactory createSecureTransport(String username,\n        String password, String host, int port) {\n    HostnameVerifier nullHostnameVerifier = new HostnameVerifier() {\n        public boolean verify(String hostname, SSLSession session) {\n            return true;\n        }\n    };\n    UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(username, password);\n    CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n    credentialsProvider.setCredentials(\n            new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM), credentials);\n\n    HttpClient client = HttpClientBuilder.create()\n            .setSSLHostnameVerifier(nullHostnameVerifier)\n            .setSSLContext(createContext())\n            .setDefaultCredentialsProvider(credentialsProvider).build();\n\n    HttpComponentsClientHttpRequestFactory requestFactory = \n            new HttpComponentsClientHttpRequestFactory(client);\n\n    return requestFactory;\n}\n\nprivate SSLContext createContext() {\n    TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n            return null;\n        }\n\n        public void checkClientTrusted(\n                java.security.cert.X509Certificate[] certs, String authType) {\n        }\n\n        public void checkServerTrusted(\n                java.security.cert.X509Certificate[] certs, String authType) {\n        }\n    } };\n\n    try {\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, trustAllCerts, null);\n        SSLContext.setDefault(sc);\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            });\n        return sc;\n\n    } catch (Exception e) {\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1489073100,"creation_date":1489044968,"answer_id":42689331,"question_id":23504819,"body_markdown":"For the sake of other developers who finds this question and need another solution that fits not only for unit-tests:\r\n\r\nI&#39;ve found [this](http://blog.codeleak.pl/2016/02/skip-ssl-certificate-verification-in.html) on a blog (not my solution! Credit to the blog&#39;s owner).\r\n\r\n    TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n    \r\n    SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n            .loadTrustMaterial(null, acceptingTrustStrategy)\r\n            .build();\r\n    \r\n    SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\r\n    \r\n    CloseableHttpClient httpClient = HttpClients.custom()\r\n            .setSSLSocketFactory(csf)\r\n            .build();\r\n    \r\n    HttpComponentsClientHttpRequestFactory requestFactory =\r\n            new HttpComponentsClientHttpRequestFactory();\r\n    \r\n    requestFactory.setHttpClient(httpClient);\r\n    \r\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n\r\n\r\n","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>For the sake of other developers who finds this question and need another solution that fits not only for unit-tests:</p>\n\n<p>I've found <a href=\"http://blog.codeleak.pl/2016/02/skip-ssl-certificate-verification-in.html\" rel=\"noreferrer\">this</a> on a blog (not my solution! Credit to the blog's owner).</p>\n\n<pre><code>TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\nSSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n        .loadTrustMaterial(null, acceptingTrustStrategy)\n        .build();\n\nSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\n\nCloseableHttpClient httpClient = HttpClients.custom()\n        .setSSLSocketFactory(csf)\n        .build();\n\nHttpComponentsClientHttpRequestFactory requestFactory =\n        new HttpComponentsClientHttpRequestFactory();\n\nrequestFactory.setHttpClient(httpClient);\n\nRestTemplate restTemplate = new RestTemplate(requestFactory);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4488692,"reputation":53,"user_id":3650443,"display_name":"Sohbati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567490077,"creation_date":1567490077,"answer_id":57765746,"question_id":23504819,"body_markdown":"Iknow It is too old to answer, but I couldn&#39;t find solution like this.\r\n\r\nThe code that worked for me with the jersey client:\r\n\r\n        \r\n    import org.glassfish.jersey.client.ClientConfig;\r\n    import org.glassfish.jersey.client.ClientProperties;\r\n    \r\n    import javax.net.ssl.*;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n    import javax.ws.rs.client.Entity;\r\n    import javax.ws.rs.client.WebTarget;\r\n    import javax.ws.rs.core.Form;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.MultivaluedHashMap;\r\n    import java.security.KeyManagementException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.cert.CertificateException;\r\n    \r\n    public class Testi {\r\n\r\n    static {\r\n        disableSslVerification();\r\n    }\r\n    private static void disableSslVerification() {\r\n        // Create all-trusting host name verifier\r\n        HostnameVerifier allHostsValid = new HostnameVerifier() {\r\n            public boolean verify(String hostname, SSLSession session) {\r\n                return true;\r\n            }\r\n        };\r\n        // Install the all-trusting host verifier\r\n        HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\r\n    }\r\n\r\n    public Testi() {\r\n        MultivaluedHashMap&lt;String, Object&gt; headers = new MultivaluedHashMap&lt;&gt;();\r\n        //... initialize headers\r\n\r\n        Form form = new Form();\r\n        Entity&lt;Form&gt; entity = Entity.entity(form, MediaType.APPLICATION_FORM_URLENCODED_TYPE);\r\n        // initialize entity ...\r\n\r\n        WebTarget target = getWebTarget();\r\n        Object responseResult = target.path(&quot;api/test/path...&quot;).request()\r\n                .headers(headers).post(entity, Object.class);\r\n\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        new Testi();\r\n    }\r\n\r\n    private WebTarget getWebTarget() {\r\n        ClientConfig clientConfig = new ClientConfig();\r\n        clientConfig.property(ClientProperties.CONNECT_TIMEOUT, 30000);\r\n        clientConfig.property(ClientProperties.READ_TIMEOUT, 30000);\r\n\r\n        SSLContext sc = getSSLContext();\r\n        Client client = ClientBuilder.newBuilder().sslContext(sc).withConfig(clientConfig).build();\r\n        WebTarget target = client.target(&quot;...url...&quot;);\r\n        return target;\r\n    }\r\n\r\n    private SSLContext getSSLContext() {\r\n        try {\r\n            // Create a trust manager that does not validate certificate chains\r\n            TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n                @Override\r\n                public void checkClientTrusted(java.security.cert.X509Certificate[] x509Certificates, String s) throws CertificateException {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void checkServerTrusted(java.security.cert.X509Certificate[] x509Certificates, String s) throws CertificateException {\r\n\r\n                }\r\n\r\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                    return null;\r\n                }\r\n            }\r\n            };\r\n\r\n            // Install the all-trusting trust manager\r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            return sc;\r\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n    }\r\n","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>Iknow It is too old to answer, but I couldn't find solution like this.</p>\n\n<p>The code that worked for me with the jersey client:</p>\n\n<pre><code>import org.glassfish.jersey.client.ClientConfig;\nimport org.glassfish.jersey.client.ClientProperties;\n\nimport javax.net.ssl.*;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.client.Entity;\nimport javax.ws.rs.client.WebTarget;\nimport javax.ws.rs.core.Form;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.MultivaluedHashMap;\nimport java.security.KeyManagementException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.CertificateException;\n\npublic class Testi {\n\nstatic {\n    disableSslVerification();\n}\nprivate static void disableSslVerification() {\n    // Create all-trusting host name verifier\n    HostnameVerifier allHostsValid = new HostnameVerifier() {\n        public boolean verify(String hostname, SSLSession session) {\n            return true;\n        }\n    };\n    // Install the all-trusting host verifier\n    HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\n}\n\npublic Testi() {\n    MultivaluedHashMap&lt;String, Object&gt; headers = new MultivaluedHashMap&lt;&gt;();\n    //... initialize headers\n\n    Form form = new Form();\n    Entity&lt;Form&gt; entity = Entity.entity(form, MediaType.APPLICATION_FORM_URLENCODED_TYPE);\n    // initialize entity ...\n\n    WebTarget target = getWebTarget();\n    Object responseResult = target.path(\"api/test/path...\").request()\n            .headers(headers).post(entity, Object.class);\n\n}\n\npublic static void main(String args[]) {\n    new Testi();\n}\n\nprivate WebTarget getWebTarget() {\n    ClientConfig clientConfig = new ClientConfig();\n    clientConfig.property(ClientProperties.CONNECT_TIMEOUT, 30000);\n    clientConfig.property(ClientProperties.READ_TIMEOUT, 30000);\n\n    SSLContext sc = getSSLContext();\n    Client client = ClientBuilder.newBuilder().sslContext(sc).withConfig(clientConfig).build();\n    WebTarget target = client.target(\"...url...\");\n    return target;\n}\n\nprivate SSLContext getSSLContext() {\n    try {\n        // Create a trust manager that does not validate certificate chains\n        TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\n            @Override\n            public void checkClientTrusted(java.security.cert.X509Certificate[] x509Certificates, String s) throws CertificateException {\n\n            }\n\n            @Override\n            public void checkServerTrusted(java.security.cert.X509Certificate[] x509Certificates, String s) throws CertificateException {\n\n            }\n\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n        }\n        };\n\n        // Install the all-trusting trust manager\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        return sc;\n    } catch (NoSuchAlgorithmException | KeyManagementException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1789513,"reputation":3771,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1570614965,"creation_date":1570555914,"answer_id":58291331,"question_id":23504819,"body_markdown":"Please see below for a modest improvement on @Sled&#39;s code shown above, that turn-back-on method was missing one line, now it passes my tests.  This disables HTTPS certificate and hostname spoofing when using RestTemplate in a Spring-Boot version 2 application that uses the **default HTTP configuration**, NOT configured to use Apache HTTP Client.\r\n\r\n\r\n    package org.my.little.spring-boot-v2.app;\r\n    \r\n    import java.security.KeyManagementException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    /**\r\n     * Disables and enables certificate and host-name checking in\r\n     * HttpsURLConnection, the default JVM implementation of the HTTPS/TLS protocol.\r\n     * Has no effect on implementations such as Apache Http Client, Ok Http.\r\n    */\r\n    public final class SSLUtils {\r\n    \r\n    \tprivate static final HostnameVerifier jvmHostnameVerifier = HttpsURLConnection.getDefaultHostnameVerifier();\r\n    \r\n    \tprivate static final HostnameVerifier trivialHostnameVerifier = new HostnameVerifier() {\r\n    \t\tpublic boolean verify(String hostname, SSLSession sslSession) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tprivate static final TrustManager[] UNQUESTIONING_TRUST_MANAGER = new TrustManager[] { new X509TrustManager() {\r\n    \t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \r\n    \t\tpublic void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t}\r\n    \r\n    \t\tpublic void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t}\r\n    \t} };\r\n    \r\n    \tpublic static void turnOffSslChecking() throws NoSuchAlgorithmException, KeyManagementException {\r\n    \t\tHttpsURLConnection.setDefaultHostnameVerifier(trivialHostnameVerifier);\r\n    \t\t// Install the all-trusting trust manager\r\n    \t\tSSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n    \t\tsc.init(null, UNQUESTIONING_TRUST_MANAGER, null);\r\n    \t\tHttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n    \t}\r\n    \r\n    \tpublic static void turnOnSslChecking() throws KeyManagementException, NoSuchAlgorithmException {\r\n    \t\tHttpsURLConnection.setDefaultHostnameVerifier(jvmHostnameVerifier);\r\n    \t\t// Return it to the initial state (discovered by reflection, now hardcoded)\r\n    \t\tSSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n    \t\tsc.init(null, null, null);\r\n    \t\tHttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n    \t}\r\n    \r\n    \tprivate SSLUtils() {\r\n    \t\tthrow new UnsupportedOperationException(&quot;Do not instantiate libraries.&quot;);\r\n    \t}\r\n    }","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>Please see below for a modest improvement on @Sled's code shown above, that turn-back-on method was missing one line, now it passes my tests.  This disables HTTPS certificate and hostname spoofing when using RestTemplate in a Spring-Boot version 2 application that uses the <strong>default HTTP configuration</strong>, NOT configured to use Apache HTTP Client.</p>\n\n<pre><code>package org.my.little.spring-boot-v2.app;\n\nimport java.security.KeyManagementException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.X509Certificate;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\n/**\n * Disables and enables certificate and host-name checking in\n * HttpsURLConnection, the default JVM implementation of the HTTPS/TLS protocol.\n * Has no effect on implementations such as Apache Http Client, Ok Http.\n*/\npublic final class SSLUtils {\n\n    private static final HostnameVerifier jvmHostnameVerifier = HttpsURLConnection.getDefaultHostnameVerifier();\n\n    private static final HostnameVerifier trivialHostnameVerifier = new HostnameVerifier() {\n        public boolean verify(String hostname, SSLSession sslSession) {\n            return true;\n        }\n    };\n\n    private static final TrustManager[] UNQUESTIONING_TRUST_MANAGER = new TrustManager[] { new X509TrustManager() {\n        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n            return null;\n        }\n\n        public void checkClientTrusted(X509Certificate[] certs, String authType) {\n        }\n\n        public void checkServerTrusted(X509Certificate[] certs, String authType) {\n        }\n    } };\n\n    public static void turnOffSslChecking() throws NoSuchAlgorithmException, KeyManagementException {\n        HttpsURLConnection.setDefaultHostnameVerifier(trivialHostnameVerifier);\n        // Install the all-trusting trust manager\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, UNQUESTIONING_TRUST_MANAGER, null);\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n    }\n\n    public static void turnOnSslChecking() throws KeyManagementException, NoSuchAlgorithmException {\n        HttpsURLConnection.setDefaultHostnameVerifier(jvmHostnameVerifier);\n        // Return it to the initial state (discovered by reflection, now hardcoded)\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, null, null);\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n    }\n\n    private SSLUtils() {\n        throw new UnsupportedOperationException(\"Do not instantiate libraries.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9024557,"reputation":109,"user_id":6724322,"display_name":"Debasis Mishra"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1587998400,"creation_date":1587998400,"answer_id":61461406,"question_id":23504819,"body_markdown":"\t@Bean(name = &quot;restTemplateByPassSSL&quot;)\r\n\tpublic RestTemplate restTemplateByPassSSL()\r\n\t\t\tthrows KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n\t\tTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n\t\tHostnameVerifier hostnameVerifier = (s, sslSession) -&gt; true;\r\n\t\tSSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\r\n\t\tSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, hostnameVerifier);\r\n\t\tCloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(csf).build();\r\n\t\tHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n\t\trequestFactory.setHttpClient(httpClient);\r\n\r\n\t\treturn new RestTemplate(requestFactory);\r\n\t}","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<pre><code>@Bean(name = \"restTemplateByPassSSL\")\npublic RestTemplate restTemplateByPassSSL()\n        throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n    TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n    HostnameVerifier hostnameVerifier = (s, sslSession) -&gt; true;\n    SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\n    SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, hostnameVerifier);\n    CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(csf).build();\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n    requestFactory.setHttpClient(httpClient);\n\n    return new RestTemplate(requestFactory);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3266323,"reputation":12557,"user_id":2750743,"display_name":"Klesun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597532567,"creation_date":1597532567,"answer_id":63431569,"question_id":23504819,"body_markdown":"In my case, with letsencrypt https, this was caused by using `cert.pem` instead of `fullchain.pem` as the certificate file on the requested server. See [this thread](https://community.letsencrypt.org/t/certificate-error-sun-security-validator-validatorexception-pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/28283) for details.","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>In my case, with letsencrypt https, this was caused by using <code>cert.pem</code> instead of <code>fullchain.pem</code> as the certificate file on the requested server. See <a href=\"https://community.letsencrypt.org/t/certificate-error-sun-security-validator-validatorexception-pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/28283\" rel=\"nofollow noreferrer\">this thread</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":2601268,"reputation":101,"user_id":7608218,"display_name":"Sergio Marsilli"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650232927,"creation_date":1650231429,"answer_id":71905635,"question_id":23504819,"body_markdown":"Too late but here you have my solution. With this class you can turn off all ssl verifications in your project.\r\n\r\n    import org.springframework.stereotype.Component;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    import java.security.SecureRandom;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    \r\n    @Slf4j\r\n    @Component\r\n    public class SslWarningRemover {\r\n    \r\n    \tpublic SslWarningRemover() {\r\n    \t\tlog.info(&quot;Disabling SSL warning...&quot;);\r\n    \t\ttry {\r\n    \t\t\tTrustManager[] trustAllCerts = new TrustManager[] {\r\n    \t\t\t\t\tnew X509TrustManager() {\r\n    \t\t\t\t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n    \t\t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tpublic void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tpublic void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t};\r\n    \t\t\t\r\n    \t\t\tSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n    \t\t\tsslContext.init(null, trustAllCerts, new SecureRandom());\r\n    \t\t\tHttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n    \t\t\t\r\n    \t\t\tHttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\t\r\n    \t\t\tlog.info(&quot;SSL verification disabled&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;Error while trying to disable SSL verification: &quot; + e.getMessage(), e);\r\n    \t\t}\r\n    \t\t\r\n    \t\tlog.info(&quot;SSL warning process remover has finished!&quot;);\r\n    \t}\r\n    }\r\n\r\nIf you want to disable the SSL verification in a single RestTemplate, try this:\r\n\r\n    import java.io.IOException;\r\n    import java.net.HttpURLConnection;\r\n    import java.security.SecureRandom;\r\n    import java.security.cert.X509Certificate;\r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    import org.springframework.http.client.SimpleClientHttpRequestFactory;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    \r\n    @Slf4j\r\n    public class CustomClientHttpRequestFactory extends SimpleClientHttpRequestFactory {\r\n    \t\r\n    \tprivate static final HostnameVerifier PROMISCUOUS_VERIFIER = new HostnameVerifier() {\r\n    \t\t@Override\r\n    \t\tpublic boolean verify(String hostname, SSLSession session) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \tprivate static final TrustManager[] ALL_CERT_TRUST_MANAGER = new TrustManager[] {\r\n    \t\t\tnew X509TrustManager() {\r\n    \t\t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tpublic void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tpublic void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t};\r\n    \t\r\n    \tprivate static SSLContext ALL_CERT_TRUST_SSLCONTEXT = null;\r\n    \t\r\n    \tstatic {\r\n    \t\ttry {\r\n    \t\t\tALL_CERT_TRUST_SSLCONTEXT = SSLContext.getInstance(&quot;SSL&quot;);\r\n    \t\t\tALL_CERT_TRUST_SSLCONTEXT.init(null, ALL_CERT_TRUST_MANAGER, new SecureRandom());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;Error disabling SSL verification&quot;);\r\n    \t\t\tlog.error(e.getMessage(), e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate boolean disableSslVerification = false;\r\n    \t\r\n    \tpublic CustomClientHttpRequestFactory(int connectTimeout, int readTimeout, boolean disableSslVerification) {\r\n    \t\tthis.setConnectTimeout(connectTimeout);\r\n    \t\tthis.setReadTimeout(readTimeout);\r\n    \t\tthis.disableSslVerification = disableSslVerification;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void prepareConnection(HttpURLConnection connection, String httpMethod) throws IOException {\r\n    \t\tif (disableSslVerification &amp;&amp; ALL_CERT_TRUST_SSLCONTEXT != null &amp;&amp; connection instanceof HttpsURLConnection) {\r\n    \t\t\t((HttpsURLConnection) connection).setHostnameVerifier(PROMISCUOUS_VERIFIER);\r\n    \t\t\t((HttpsURLConnection) connection).setSSLSocketFactory(ALL_CERT_TRUST_SSLCONTEXT.getSocketFactory());\r\n    \t\t}\r\n    \t\tsuper.prepareConnection(connection, httpMethod);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThen, when you instance a RestTemplate object, use this:\r\n\r\n    RestTemplate restTemplate = new RestTemplate(new CustomClientHttpRequestFactory(connectTimeout, readTimeout, disableSslVerification));\r\n\r\nwith **disableSslVerification** parameter as *true*.\r\n","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>Too late but here you have my solution. With this class you can turn off all ssl verifications in your project.</p>\n<pre><code>import org.springframework.stereotype.Component;\nimport lombok.extern.slf4j.Slf4j;\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;\n\n\n@Slf4j\n@Component\npublic class SslWarningRemover {\n\n    public SslWarningRemover() {\n        log.info(&quot;Disabling SSL warning...&quot;);\n        try {\n            TrustManager[] trustAllCerts = new TrustManager[] {\n                    new X509TrustManager() {\n                        public X509Certificate[] getAcceptedIssuers() {\n                            return null;\n                        }\n                        \n                        public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                            \n                        }\n                        \n                        public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                            \n                        }\n                    }\n            };\n            \n            SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(null, trustAllCerts, new SecureRandom());\n            HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n            \n            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            });\n            \n            log.info(&quot;SSL verification disabled&quot;);\n        } catch (Exception e) {\n            log.error(&quot;Error while trying to disable SSL verification: &quot; + e.getMessage(), e);\n        }\n        \n        log.info(&quot;SSL warning process remover has finished!&quot;);\n    }\n}\n</code></pre>\n<p>If you want to disable the SSL verification in a single RestTemplate, try this:</p>\n<pre><code>import java.io.IOException;\nimport java.net.HttpURLConnection;\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\nimport org.springframework.http.client.SimpleClientHttpRequestFactory;\nimport lombok.extern.slf4j.Slf4j;\n\n\n@Slf4j\npublic class CustomClientHttpRequestFactory extends SimpleClientHttpRequestFactory {\n    \n    private static final HostnameVerifier PROMISCUOUS_VERIFIER = new HostnameVerifier() {\n        @Override\n        public boolean verify(String hostname, SSLSession session) {\n            return true;\n        }\n    };\n    \n    private static final TrustManager[] ALL_CERT_TRUST_MANAGER = new TrustManager[] {\n            new X509TrustManager() {\n                public X509Certificate[] getAcceptedIssuers() {\n                    return null;\n                }\n                \n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                    \n                }\n                \n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                    \n                }\n            }\n    };\n    \n    private static SSLContext ALL_CERT_TRUST_SSLCONTEXT = null;\n    \n    static {\n        try {\n            ALL_CERT_TRUST_SSLCONTEXT = SSLContext.getInstance(&quot;SSL&quot;);\n            ALL_CERT_TRUST_SSLCONTEXT.init(null, ALL_CERT_TRUST_MANAGER, new SecureRandom());\n        } catch (Exception e) {\n            log.error(&quot;Error disabling SSL verification&quot;);\n            log.error(e.getMessage(), e);\n        }\n    }\n    \n    \n    private boolean disableSslVerification = false;\n    \n    public CustomClientHttpRequestFactory(int connectTimeout, int readTimeout, boolean disableSslVerification) {\n        this.setConnectTimeout(connectTimeout);\n        this.setReadTimeout(readTimeout);\n        this.disableSslVerification = disableSslVerification;\n    }\n    \n    @Override\n    protected void prepareConnection(HttpURLConnection connection, String httpMethod) throws IOException {\n        if (disableSslVerification &amp;&amp; ALL_CERT_TRUST_SSLCONTEXT != null &amp;&amp; connection instanceof HttpsURLConnection) {\n            ((HttpsURLConnection) connection).setHostnameVerifier(PROMISCUOUS_VERIFIER);\n            ((HttpsURLConnection) connection).setSSLSocketFactory(ALL_CERT_TRUST_SSLCONTEXT.getSocketFactory());\n        }\n        super.prepareConnection(connection, httpMethod);\n    }\n    \n}\n</code></pre>\n<p>Then, when you instance a RestTemplate object, use this:</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate(new CustomClientHttpRequestFactory(connectTimeout, readTimeout, disableSslVerification));\n</code></pre>\n<p>with <strong>disableSslVerification</strong> parameter as <em>true</em>.</p>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668774260,"creation_date":1668774260,"answer_id":74489654,"question_id":23504819,"body_markdown":"I want to share, at least for myself, my code based on other answers.\r\n\r\n```java\r\n// Spring Boot 2.7.5 / Java 11\r\n@PostConstruct\r\nprivate void onPostConstruct() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n    // http://www.chrispad.com/2019/02/disable-certificate-verification-using.html\r\n    var sslContext = SSLContexts.custom().loadTrustMaterial((c, at) -&gt; true).build();\r\n    var socketFactory = new SSLConnectionSocketFactory(sslContext, (h, s) -&gt; true);\r\n    var httpClient = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\r\n    var requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n    requestFactory.setHttpClient(httpClient);\r\n    template = templateBuilder.requestFactory(() -&gt; requestFactory).build();\r\n}\r\n\r\nprivate final RestTemplateBuilder templateBuilder;\r\n\r\nprivate RestTemplate template;:\r\n```","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>I want to share, at least for myself, my code based on other answers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Spring Boot 2.7.5 / Java 11\n@PostConstruct\nprivate void onPostConstruct() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n    // http://www.chrispad.com/2019/02/disable-certificate-verification-using.html\n    var sslContext = SSLContexts.custom().loadTrustMaterial((c, at) -&gt; true).build();\n    var socketFactory = new SSLConnectionSocketFactory(sslContext, (h, s) -&gt; true);\n    var httpClient = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\n    var requestFactory = new HttpComponentsClientHttpRequestFactory();\n    requestFactory.setHttpClient(httpClient);\n    template = templateBuilder.requestFactory(() -&gt; requestFactory).build();\n}\n\nprivate final RestTemplateBuilder templateBuilder;\n\nprivate RestTemplate template;:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4873394,"reputation":713,"user_id":3929197,"accept_rate":56,"display_name":"Mahmoud Sabri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678695491,"creation_date":1678695491,"answer_id":75719404,"question_id":23504819,"body_markdown":"    \t\t    private static void disableSslVerification() {\r\n\t\t        try\r\n\t\t        {\r\n\t\t            // Create a trust manager that does not validate certificate chains\r\n\t\t            TrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\r\n\t\t                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n\t\t                    return null;\r\n\t\t                }\r\n\t\t                public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n\t\t                }\r\n\t\t                public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n\t\t                }\r\n\t\t            }\r\n\t\t            };\r\n\r\n\t\t            // Install the all-trusting trust manager\r\n\t\t            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n\t\t            sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n\t\t            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n\t\t            // Create all-trusting host name verifier\r\n\t\t            HostnameVerifier allHostsValid = new HostnameVerifier() {\r\n\t\t                public boolean verify(String hostname, SSLSession session) {\r\n\t\t                    return true;\r\n\t\t                }\r\n\t\t            };\r\n\r\n\t\t            // Install the all-trusting host verifier\r\n\t\t            HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\r\n\t\t        } catch (NoSuchAlgorithmException e) {\r\n\t\t            e.printStackTrace();\r\n\t\t        } catch (KeyManagementException e) {\r\n\t\t            e.printStackTrace();\r\n\t\t        }\r\n\t\t        }","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<pre><code>            private static void disableSslVerification() {\n            try\n            {\n                // Create a trust manager that does not validate certificate chains\n                TrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return null;\n                    }\n                    public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                    }\n                    public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                    }\n                }\n                };\n\n                // Install the all-trusting trust manager\n                SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n                sc.init(null, trustAllCerts, new java.security.SecureRandom());\n                HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n                // Create all-trusting host name verifier\n                HostnameVerifier allHostsValid = new HostnameVerifier() {\n                    public boolean verify(String hostname, SSLSession session) {\n                        return true;\n                    }\n                };\n\n                // Install the all-trusting host verifier\n                HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\n            } catch (NoSuchAlgorithmException e) {\n                e.printStackTrace();\n            } catch (KeyManagementException e) {\n                e.printStackTrace();\n            }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1008461,"reputation":520,"user_id":1021554,"display_name":"MNos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698335296,"creation_date":1698137640,"answer_id":77350705,"question_id":23504819,"body_markdown":"In Apache HttpClient 5, `SSLSocketFactory` should be set on the `ConnectionManager`. This is the updated version of @Debasis-Mishra&#39;s answer: \r\n\r\n    @Bean\r\n    @Qualifier(&quot;trust-all-certs&quot;)\r\n    public RestTemplate getTrustingRestTemplate() {\r\n        try {\r\n            TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n            HostnameVerifier hostnameVerifier = (s, sslSession) -&gt; true;\r\n            SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\r\n            SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, hostnameVerifier);\r\n            HttpClientConnectionManager connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\r\n                    .setSSLSocketFactory(csf).build();\r\n            CloseableHttpClient httpClient = HttpClients.custom().setConnectionManager(connectionManager).build();\r\n            HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n            requestFactory.setHttpClient(httpClient);\r\n\r\n            return new RestTemplate(requestFactory);\r\n        } catch (NoSuchAlgorithmException | KeyManagementException | KeyStoreException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>In Apache HttpClient 5, <code>SSLSocketFactory</code> should be set on the <code>ConnectionManager</code>. This is the updated version of @Debasis-Mishra's answer:</p>\n<pre><code>@Bean\n@Qualifier(&quot;trust-all-certs&quot;)\npublic RestTemplate getTrustingRestTemplate() {\n    try {\n        TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n        HostnameVerifier hostnameVerifier = (s, sslSession) -&gt; true;\n        SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\n        SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, hostnameVerifier);\n        HttpClientConnectionManager connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\n                .setSSLSocketFactory(csf).build();\n        CloseableHttpClient httpClient = HttpClients.custom().setConnectionManager(connectionManager).build();\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n        requestFactory.setHttpClient(httpClient);\n\n        return new RestTemplate(requestFactory);\n    } catch (NoSuchAlgorithmException | KeyManagementException | KeyStoreException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208093,"favorite_count":0,"down_vote_count":1,"up_vote_count":79,"accepted_answer_id":24491820,"answer_count":13,"score":78,"last_activity_date":1698335296,"creation_date":1399411622,"question_id":23504819,"body_markdown":"I am trying to write an integration test where our test launches an embedded HTTPS server using [Simple](http://www.simpleframework.org/). I [created a self-signed certificate using `keytool`](https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-using-java-keytool.html) and am able to access the server using a browser (specifically Chrome, and I do get a warning about the self-signed certificate).\r\n\r\nHowever, when I try to connect using [Spring RestTemplate](http://docs.spring.io/spring/docs/4.0.4.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html), I get a [ResourceAccessException](http://docs.spring.io/spring/docs/4.0.4.RELEASE/javadoc-api/org/springframework/web/client/ResourceAccessException.html): \r\n\r\n\torg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://localhost:8088&quot;:sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\t\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:557)\r\n\t\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:502)\r\n\t\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:444)\r\n\t\tat net.initech.DummySslServer.shouldConnect(DummySslServer.java:119)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\t\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\t\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\t\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\t\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\t\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\t\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n\t\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n\t\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\t\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n\t\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n\t\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n\t\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n\t\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n\t\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\t\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\t\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n\t\tat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\r\n\t\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:74)\r\n\t\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:211)\r\n\t\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:67)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n\tCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\t\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n\t\tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1917)\r\n\t\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:301)\r\n\t\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:295)\r\n\t\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1369)\r\n\t\tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:156)\r\n\t\tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:925)\r\n\t\tat sun.security.ssl.Handshaker.process_record(Handshaker.java:860)\r\n\t\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1043)\r\n\t\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1343)\r\n\t\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1371)\r\n\t\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1355)\r\n\t\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\r\n\t\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\t\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\r\n\t\tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)\r\n\t\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n\t\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:52)\r\n\t\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:541)\r\n\t\t... 33 more\r\n\tCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\t\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\r\n\t\tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\r\n\t\tat sun.security.validator.Validator.validate(Validator.java:260)\r\n\t\tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\r\n\t\tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\r\n\t\tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\r\n\t\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1351)\r\n\t\t... 47 more\r\n\tCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\t\tat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:145)\r\n\t\tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:131)\r\n\t\tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n\t\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\r\n\t\t... 53 more\r\n\r\nFrom [other questions](https://stackoverflow.com/questions/4072585/disabling-ssl-certificate-validation-in-spring-resttemplate) and [blog](http://www.jroller.com/jurberg/entry/using_a_hostnameverifier_with_spring) [posts](http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching) I&#39;ve seen the advice to replace the [`HostnameVerifier`]() with something like \r\n\r\n    private static final HostnameVerifier PROMISCUOUS_VERIFIER = ( s, sslSession ) -&gt; true;\r\n\r\nAnd I&#39;ve set it both globally and on the `RestTemplate` itself:\r\n\r\n    HttpsURLConnection.setDefaultHostnameVerifier( PROMISCUOUS_VERIFIER );\r\n\r\n...and on the `RestTemplate` itself:\r\n\r\n\tfinal RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.setRequestFactory( new SimpleClientHttpRequestFactory() {\r\n        @Override\r\n        protected void prepareConnection(HttpURLConnection connection, String httpMethod) throws IOException {\r\n            if(connection instanceof HttpsURLConnection ){\r\n                ((HttpsURLConnection) connection).setHostnameVerifier(PROMISCUOUS_VERIFIER);\r\n            }\r\n            super.prepareConnection(connection, httpMethod);\r\n        }\r\n    });\r\n\r\nYet, I am still getting the above error. How can I get around it? \r\n\r\n1. Installing the certificate locally _outside_ of the unit test is _not_ an option as then it would need to get installed manually on every dev machine and build server and would cause an avalanche of red tape.\r\n2. We need SSL since we are testing a library that sits on top of `RestTemplate` and that we are configuring it correctly.\r\n\r\nI am using Java 8 (but could use 7) and Spring 4.0.3 .\r\n    ","title":"How to disable SSL certificate checking with Spring RestTemplate?","body":"<p>I am trying to write an integration test where our test launches an embedded HTTPS server using <a href=\"http://www.simpleframework.org/\" rel=\"noreferrer\">Simple</a>. I <a href=\"https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-using-java-keytool.html\" rel=\"noreferrer\">created a self-signed certificate using <code>keytool</code></a> and am able to access the server using a browser (specifically Chrome, and I do get a warning about the self-signed certificate).</p>\n\n<p>However, when I try to connect using <a href=\"http://docs.spring.io/spring/docs/4.0.4.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\">Spring RestTemplate</a>, I get a <a href=\"http://docs.spring.io/spring/docs/4.0.4.RELEASE/javadoc-api/org/springframework/web/client/ResourceAccessException.html\" rel=\"noreferrer\">ResourceAccessException</a>: </p>\n\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on GET request for \"https://localhost:8088\":sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:557)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:502)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:444)\n    at net.initech.DummySslServer.shouldConnect(DummySslServer.java:119)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:160)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:74)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:211)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:67)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1917)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:301)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:295)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1369)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:156)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:925)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:860)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1043)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1343)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1371)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1355)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:52)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:541)\n    ... 33 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\n    at sun.security.validator.Validator.validate(Validator.java:260)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1351)\n    ... 47 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:145)\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:131)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\n    ... 53 more\n</code></pre>\n\n<p>From <a href=\"https://stackoverflow.com/questions/4072585/disabling-ssl-certificate-validation-in-spring-resttemplate\">other questions</a> and <a href=\"http://www.jroller.com/jurberg/entry/using_a_hostnameverifier_with_spring\" rel=\"noreferrer\">blog</a> <a href=\"http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching\" rel=\"noreferrer\">posts</a> I've seen the advice to replace the <code>HostnameVerifier</code> with something like </p>\n\n<pre><code>private static final HostnameVerifier PROMISCUOUS_VERIFIER = ( s, sslSession ) -&gt; true;\n</code></pre>\n\n<p>And I've set it both globally and on the <code>RestTemplate</code> itself:</p>\n\n<pre><code>HttpsURLConnection.setDefaultHostnameVerifier( PROMISCUOUS_VERIFIER );\n</code></pre>\n\n<p>...and on the <code>RestTemplate</code> itself:</p>\n\n<pre><code>final RestTemplate restTemplate = new RestTemplate();\nrestTemplate.setRequestFactory( new SimpleClientHttpRequestFactory() {\n    @Override\n    protected void prepareConnection(HttpURLConnection connection, String httpMethod) throws IOException {\n        if(connection instanceof HttpsURLConnection ){\n            ((HttpsURLConnection) connection).setHostnameVerifier(PROMISCUOUS_VERIFIER);\n        }\n        super.prepareConnection(connection, httpMethod);\n    }\n});\n</code></pre>\n\n<p>Yet, I am still getting the above error. How can I get around it? </p>\n\n<ol>\n<li>Installing the certificate locally <em>outside</em> of the unit test is <em>not</em> an option as then it would need to get installed manually on every dev machine and build server and would cause an avalanche of red tape.</li>\n<li>We need SSL since we are testing a library that sits on top of <code>RestTemplate</code> and that we are configuring it correctly.</li>\n</ol>\n\n<p>I am using Java 8 (but could use 7) and Spring 4.0.3 .</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":2968613,"reputation":88,"user_id":2521233,"display_name":"Fadman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1592940320,"creation_date":1592940320,"answer_id":62542322,"question_id":62542229,"body_markdown":"I think the issue you have here is having both the recyclerview and the fragment as match_parent for both width and height. A way I think you can do that is by wrapping the containerview which holds the recyclerview and the fragment in a framelayout and making the containerview to be gone when you click on any of the cards in the recyclerview.","title":"call fragments when clicking RecyclerView item and show them both in the same activity","body":"<p>I think the issue you have here is having both the recyclerview and the fragment as match_parent for both width and height. A way I think you can do that is by wrapping the containerview which holds the recyclerview and the fragment in a framelayout and making the containerview to be gone when you click on any of the cards in the recyclerview.</p>\n"},{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698334873,"creation_date":1698334873,"answer_id":77368478,"question_id":62542229,"body_markdown":"    Try this\r\n\r\n    &lt;fragment\r\n        android:name=&quot;com.diamcom.blue.StoneCodeFragment&quot;\r\n        android:id=&quot;@+id/fragment_place&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:visibility=&quot;gone&quot;&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    public class mainSearch extends AppCompatActivity {\r\n        private RecyclerView recyclerView;\r\n        private StoneCodeFragment stoneCodeFragment;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main_search);\r\n    \r\n            // Initialize your RecyclerView and adapter here\r\n            recyclerView = findViewById(R.id.recyclerView);\r\n            MyAdapter adapter = new MyAdapter(/* ... */);\r\n            recyclerView.setAdapter(adapter);\r\n    \r\n            // Initialize your StoneCodeFragment\r\n            stoneCodeFragment = (StoneCodeFragment) getSupportFragmentManager().findFragmentById(R.id.fragment_place);\r\n    \r\n            // Set a click listener for your RecyclerView items\r\n            recyclerView.addOnItemTouchListener(new RecyclerTouchListener(this, recyclerView, new ClickListener() {\r\n                @Override\r\n                public void onClick(View view, int position) {\r\n                    // Handle the item click here\r\n                    // Show the fragment\r\n                    showFragment();\r\n                }\r\n    \r\n                @Override\r\n                public void onLongClick(View view, int position) {\r\n                    // Handle long click if needed\r\n                }\r\n            }));\r\n        }\r\n    \r\n        // Method to show the fragment\r\n        private void showFragment() {\r\n            if (stoneCodeFragment != null) {\r\n                stoneCodeFragment.getView().setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"call fragments when clicking RecyclerView item and show them both in the same activity","body":"<pre><code>Try this\n\n&lt;fragment\n    android:name=&quot;com.diamcom.blue.StoneCodeFragment&quot;\n    android:id=&quot;@+id/fragment_place&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:visibility=&quot;gone&quot;&gt;\n&lt;/fragment&gt;\n\npublic class mainSearch extends AppCompatActivity {\n    private RecyclerView recyclerView;\n    private StoneCodeFragment stoneCodeFragment;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main_search);\n\n        // Initialize your RecyclerView and adapter here\n        recyclerView = findViewById(R.id.recyclerView);\n        MyAdapter adapter = new MyAdapter(/* ... */);\n        recyclerView.setAdapter(adapter);\n\n        // Initialize your StoneCodeFragment\n        stoneCodeFragment = (StoneCodeFragment) getSupportFragmentManager().findFragmentById(R.id.fragment_place);\n\n        // Set a click listener for your RecyclerView items\n        recyclerView.addOnItemTouchListener(new RecyclerTouchListener(this, recyclerView, new ClickListener() {\n            @Override\n            public void onClick(View view, int position) {\n                // Handle the item click here\n                // Show the fragment\n                showFragment();\n            }\n\n            @Override\n            public void onLongClick(View view, int position) {\n                // Handle long click if needed\n            }\n        }));\n    }\n\n    // Method to show the fragment\n    private void showFragment() {\n        if (stoneCodeFragment != null) {\n            stoneCodeFragment.getView().setVisibility(View.VISIBLE);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5076619,"reputation":107,"user_id":4073819,"display_name":"amnon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62542322,"answer_count":2,"score":6,"last_activity_date":1698334873,"creation_date":1592939966,"question_id":62542229,"body_markdown":"Since I only changed from buttons to RecyclerView (and it worked just fine with the buttons), I know my java code is working fine, so now I face a problem because clicking a cards in the RecyclerView calls the fragment with the FragmentManager, but not showing it.\r\nHere is my activity.xml code.\r\n\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.mainSearch&quot;\r\n        android:background=&quot;#f2f2f2&quot;&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/recyclerView&quot;\r\n            android:orientation=&quot;horizontal&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;fragment\r\n        android:name=&quot;com.diamcom.blue.StoneCodeFragment&quot;\r\n        android:id=&quot;@+id/fragment_place&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;/fragment&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\nI wonder what am I doing wrong ?","title":"call fragments when clicking RecyclerView item and show them both in the same activity","body":"<p>Since I only changed from buttons to RecyclerView (and it worked just fine with the buttons), I know my java code is working fine, so now I face a problem because clicking a cards in the RecyclerView calls the fragment with the FragmentManager, but not showing it.\nHere is my activity.xml code.</p>\n<pre>&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;.mainSearch&quot;\n        android:background=&quot;#f2f2f2&quot;&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:id=&quot;@+id/recyclerView&quot;\n            android:orientation=&quot;horizontal&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;fragment\n        android:name=&quot;com.diamcom.blue.StoneCodeFragment&quot;\n        android:id=&quot;@+id/fragment_place&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;/fragment&gt;\n&lt;/LinearLayout&gt;\n</pre>\n<p>I wonder what am I doing wrong ?</p>\n"},{"tags":["java","spring-boot","kotlin","spring-security"],"comments":[{"owner":{"account_id":27186746,"reputation":31,"user_id":20721100,"display_name":"Jan Kohnert"},"score":0,"creation_date":1670499852,"post_id":74729765,"comment_id":131891888,"body_markdown":"Addition:`CsrfFilter.equalsConstantTime()` gets expected=&quot;4567ba8a-65a7-4366-90bc-ea30dd560d61&quot;, actual=&quot;Ii6AujkmK2h2QeR7kcHHIjyLvN1SzbK4G6KNgzBSeLyr5tDoFhu2jVtHEwlbd9EapuzzEQq9keRir9GVfsO-s1Q2TYqbgubZ&quot; in my example, this is shown in the screenshot.","body":"Addition:<code>CsrfFilter.equalsConstantTime()</code> gets expected=&quot;4567ba8a-65a7-4366-90bc-ea30dd560d61&quot;, actual=&quot;Ii6AujkmK2h2QeR7kcHHIjyLvN1SzbK4G6KNgzBSeLyr5tDoFhu2&zwnj;&#8203;jVtHEwlbd9EapuzzEQq9&zwnj;&#8203;keRir9GVfsO-s1Q2TYqb&zwnj;&#8203;gubZ&quot; in my example, this is shown in the screenshot."}],"answers":[{"tags":[],"owner":{"account_id":17324701,"reputation":223,"user_id":12549190,"display_name":"jinseok.oh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698334491,"creation_date":1698334491,"answer_id":77368421,"question_id":74729765,"body_markdown":"Currently `SecurityMockMvcRequestPostProcessors.csrf`(`with(csrf)`) doesn&#39;t support for `XorCsrfTokenRequestAttributeHandler`\r\n\r\nIf you want to test, make &quot;/csrf&quot; endpoint and testing like this\r\n\r\n```\r\nMvcResult mvcResult = this.mockMvc.perform(get(&quot;/csrf&quot;)).andReturn();\r\nCookie cookie = mvcResult.getResponse().getCookie(&quot;XSRF-TOKEN&quot;);\r\nthis.mockMvc.perform(post(&quot;/&quot;).header(&quot;X-XSRF-TOKEN&quot;, cookie.getValue()).cookie(cookie))\r\n\t\t.andExpect(status().is2xxSuccessful())\r\n```\r\n\r\nHere is github issue link of spring security\r\n- https://github.com/spring-projects/spring-security/issues/12826\r\n- https://github.com/spring-projects/spring-security/issues/12774","title":"CSRF in Tests stopped working with Spring Boot 3 and Spring Security 6","body":"<p>Currently <code>SecurityMockMvcRequestPostProcessors.csrf</code>(<code>with(csrf)</code>) doesn't support for <code>XorCsrfTokenRequestAttributeHandler</code></p>\n<p>If you want to test, make &quot;/csrf&quot; endpoint and testing like this</p>\n<pre><code>MvcResult mvcResult = this.mockMvc.perform(get(&quot;/csrf&quot;)).andReturn();\nCookie cookie = mvcResult.getResponse().getCookie(&quot;XSRF-TOKEN&quot;);\nthis.mockMvc.perform(post(&quot;/&quot;).header(&quot;X-XSRF-TOKEN&quot;, cookie.getValue()).cookie(cookie))\n        .andExpect(status().is2xxSuccessful())\n</code></pre>\n<p>Here is github issue link of spring security</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-security/issues/12826\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/12826</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-security/issues/12774\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/12774</a></li>\n</ul>\n"}],"owner":{"account_id":27186746,"reputation":31,"user_id":20721100,"display_name":"Jan Kohnert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1857,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698334491,"creation_date":1670499698,"question_id":74729765,"body_markdown":"We got the problem described [here](https://stackoverflow.com/questions/74447118/csrf-protection-not-working-with-spring-security-6) and used the solution [linked there and provided by Spring](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/exploits.html#_i_am_using_angularjs_or_another_javascript_framework).\r\n\r\nThe solution fixes our end-to-end using WebClient and a filter function, but unfortunately introduces Problems with our REST-controller unit tests, that stop working.\r\n\r\nThe relevant cecurity configuration using the documented answer:\r\n```\r\n// Enable CSRF security\r\nhttp.csrf { csrfConfigurer -&gt;\r\n    // see https://docs.spring.io/spring-security/reference/5.8/migration/servlet/exploits.html#_i_am_using_angularjs_or_another_javascript_framework\r\n    val tokenRepository = CookieCsrfTokenRepository.withHttpOnlyFalse()\r\n    val delegate = XorCsrfTokenRequestAttributeHandler()\r\n    // set the name of the attribute the CsrfToken will be populated on\r\n    delegate.setCsrfRequestAttributeName(&quot;_csrf&quot;)\r\n    // Use only the handle() method of XorCsrfTokenRequestAttributeHandler and the\r\n    // default implementation of resolveCsrfTokenValue() from CsrfTokenRequestHandler\r\n    val requestHandler = CsrfTokenRequestHandler(delegate::handle)\r\n\r\n    csrfConfigurer.csrfTokenRepository(tokenRepository)\r\n    csrfConfigurer.csrfTokenRequestHandler(requestHandler)\r\n\r\n}\r\n```\r\n\r\nThis configuration fixes our end-to-end-tests using a WebClient with the FilterFunction:\r\n```\r\noverride fun filter(request: ClientRequest, next: ExchangeFunction): Mono&lt;ClientResponse&gt; =\r\n    next.exchange(request)\r\n        .flatMap { response: ClientResponse -&gt;\r\n            if (response.statusCode().is4xxClientError) {\r\n                val csrfCookie = response.cookies().getFirst(&quot;XSRF-TOKEN&quot;)\r\n                if (csrfCookie != null) {\r\n                    val retryRequest: ClientRequest = ClientRequest.from(request)\r\n                        .headers { httpHeaders -&gt; httpHeaders.set(&quot;X-XSRF-TOKEN&quot;, csrfCookie.value) }\r\n                        .cookies { cookies -&gt; cookies.add(&quot;XSRF-TOKEN&quot;, csrfCookie.value) }\r\n                        .build()\r\n                    return@flatMap next.exchange(retryRequest)\r\n                }\r\n            }\r\n            Mono.just(response)\r\n        }\r\n```\r\n\r\nThe failing tests look like this:\r\n```\r\n@Test\r\nfun `create tender with copyFrom null should succeed and return 201 and the uuid`() {\r\n    mockMvc\r\n        .perform(\r\n            post(&quot;/api/my/endpoint&quot;)\r\n                .param(&quot;title&quot;, &quot;Angebot 1&quot;)\r\n                .param(&quot;copyFrom&quot;, null)\r\n                .with(user(tendererTestUsers[0]))\r\n                .with(csrf())\r\n        )\r\n        .andExpectAll(\r\n            status().isCreated,\r\n            content().contentTypeCompatibleWith(MediaType.APPLICATION_JSON),\r\n            jsonPath(&quot;$&quot;, `is`(notNullValue()))\r\n        )\r\n```\r\n\r\n\r\n\r\nDebugging leads to a mismatching CSRF-Token provided as shown in [this screenshot](https://i.stack.imgur.com/5RUJp.png). Most likely we need to update the test&#39;s csrf configuration; anyone any clue on how to do that?\r\n\r\nUsing the pre-Spring-Boot-3 CSRF security configuration makes the mock-Tests work again, but then the end-to-end-tests fail...","title":"CSRF in Tests stopped working with Spring Boot 3 and Spring Security 6","body":"<p>We got the problem described <a href=\"https://stackoverflow.com/questions/74447118/csrf-protection-not-working-with-spring-security-6\">here</a> and used the solution <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/exploits.html#_i_am_using_angularjs_or_another_javascript_framework\" rel=\"nofollow noreferrer\">linked there and provided by Spring</a>.</p>\n<p>The solution fixes our end-to-end using WebClient and a filter function, but unfortunately introduces Problems with our REST-controller unit tests, that stop working.</p>\n<p>The relevant cecurity configuration using the documented answer:</p>\n<pre><code>// Enable CSRF security\nhttp.csrf { csrfConfigurer -&gt;\n    // see https://docs.spring.io/spring-security/reference/5.8/migration/servlet/exploits.html#_i_am_using_angularjs_or_another_javascript_framework\n    val tokenRepository = CookieCsrfTokenRepository.withHttpOnlyFalse()\n    val delegate = XorCsrfTokenRequestAttributeHandler()\n    // set the name of the attribute the CsrfToken will be populated on\n    delegate.setCsrfRequestAttributeName(&quot;_csrf&quot;)\n    // Use only the handle() method of XorCsrfTokenRequestAttributeHandler and the\n    // default implementation of resolveCsrfTokenValue() from CsrfTokenRequestHandler\n    val requestHandler = CsrfTokenRequestHandler(delegate::handle)\n\n    csrfConfigurer.csrfTokenRepository(tokenRepository)\n    csrfConfigurer.csrfTokenRequestHandler(requestHandler)\n\n}\n</code></pre>\n<p>This configuration fixes our end-to-end-tests using a WebClient with the FilterFunction:</p>\n<pre><code>override fun filter(request: ClientRequest, next: ExchangeFunction): Mono&lt;ClientResponse&gt; =\n    next.exchange(request)\n        .flatMap { response: ClientResponse -&gt;\n            if (response.statusCode().is4xxClientError) {\n                val csrfCookie = response.cookies().getFirst(&quot;XSRF-TOKEN&quot;)\n                if (csrfCookie != null) {\n                    val retryRequest: ClientRequest = ClientRequest.from(request)\n                        .headers { httpHeaders -&gt; httpHeaders.set(&quot;X-XSRF-TOKEN&quot;, csrfCookie.value) }\n                        .cookies { cookies -&gt; cookies.add(&quot;XSRF-TOKEN&quot;, csrfCookie.value) }\n                        .build()\n                    return@flatMap next.exchange(retryRequest)\n                }\n            }\n            Mono.just(response)\n        }\n</code></pre>\n<p>The failing tests look like this:</p>\n<pre><code>@Test\nfun `create tender with copyFrom null should succeed and return 201 and the uuid`() {\n    mockMvc\n        .perform(\n            post(&quot;/api/my/endpoint&quot;)\n                .param(&quot;title&quot;, &quot;Angebot 1&quot;)\n                .param(&quot;copyFrom&quot;, null)\n                .with(user(tendererTestUsers[0]))\n                .with(csrf())\n        )\n        .andExpectAll(\n            status().isCreated,\n            content().contentTypeCompatibleWith(MediaType.APPLICATION_JSON),\n            jsonPath(&quot;$&quot;, `is`(notNullValue()))\n        )\n</code></pre>\n<p>Debugging leads to a mismatching CSRF-Token provided as shown in <a href=\"https://i.stack.imgur.com/5RUJp.png\" rel=\"nofollow noreferrer\">this screenshot</a>. Most likely we need to update the test's csrf configuration; anyone any clue on how to do that?</p>\n<p>Using the pre-Spring-Boot-3 CSRF security configuration makes the mock-Tests work again, but then the end-to-end-tests fail...</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689482287,"creation_date":1689482287,"answer_id":76696693,"question_id":76694136,"body_markdown":"I would modify your longProcess and make it synchronous, but make the call to `globalCall` the part that&#39;s async.  Also, I&#39;d make it return a CompletableFuture that I can monitor from where I call it.\r\n\r\n    public void longProcess(){\r\n\t\tCompletableFuture&lt;Boolean&gt; completableFuture = new CompletableFuture&lt;&gt;();\r\n\t\treportService.report(&quot;STARTED&quot;);\r\n\r\n\t\tExecutors.newCachedThreadPool().submit(() -&gt; {\r\n\t\t\tcompletableFuture.completeAsync(() -&gt; {\r\n\t\t\t\treportService.report(&quot;PROCESSING&quot;);\r\n\r\n\t\t\t\t// Trigger my long process \r\n                globalService.globalCall();\r\n\r\n\t\t\t\treportService.report(&quot;FINISHED&quot;);\r\n\r\n\t            // mark the future as finished\r\n\t\t\t\treturn completableFuture.complete(true);\r\n\t\t\t});\r\n\t\t});\r\n    }\r\n\r\nYou would call it just as you were, but you&#39;ll get back a `CompletableFuture` that you can query if you want, but you&#39;ll have to do that in another thread, or else you&#39;d be blocking.\r\n\r\nYour call would look like this, identical to how you have it.  I added a means to monitor the future on the last call to give you an idea of how you can monitor it.  If you do, you&#39;d want to run that block in its own thread otherwise, you&#39;ll be blocking.\r\n\r\n    public void globalCall(){\r\n      seerviceOne.doSomething();\r\n      serviceTwo.doSomething();\r\n\r\n      CompletableFuture serviceThreeFuture = serviceThree.doSomething();\r\n      // check the future every second to see if it&#39;s done, \r\n      while (!serviceThreeFuture.isDone()) {\r\n        try {\r\n\t\t\tThread.sleep(1000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n        }\r\n\r\n        reportService.report(&quot;STILL RUNNING&quot;);\r\n      }\r\n    }\r\n\r\nI would also recommend that you create an ExecutorService bean and autowire it so that you don&#39;t have to always call `Executors.newCachedThreadPool()`.\r\n\r\n    @Bean\r\n\tpublic ExecutorService threadPoolExecutor() {\r\n\t\treturn Executors.newCachedThreadPool();\r\n\t}\r\n\r\nUse the autowired `ExecutorService` in place of `Executors.newCachedThreadPool()`\r\n\r\n    ...\r\n    @Autowired private ExcutorService executorService;\r\n\r\n    executorService.submit(() -&gt; {\r\n    ...","title":"Spring boot report the execution status of @Async Method","body":"<p>I would modify your longProcess and make it synchronous, but make the call to <code>globalCall</code> the part that's async.  Also, I'd make it return a CompletableFuture that I can monitor from where I call it.</p>\n<pre><code>public void longProcess(){\n    CompletableFuture&lt;Boolean&gt; completableFuture = new CompletableFuture&lt;&gt;();\n    reportService.report(&quot;STARTED&quot;);\n\n    Executors.newCachedThreadPool().submit(() -&gt; {\n        completableFuture.completeAsync(() -&gt; {\n            reportService.report(&quot;PROCESSING&quot;);\n\n            // Trigger my long process \n            globalService.globalCall();\n\n            reportService.report(&quot;FINISHED&quot;);\n\n            // mark the future as finished\n            return completableFuture.complete(true);\n        });\n    });\n}\n</code></pre>\n<p>You would call it just as you were, but you'll get back a <code>CompletableFuture</code> that you can query if you want, but you'll have to do that in another thread, or else you'd be blocking.</p>\n<p>Your call would look like this, identical to how you have it.  I added a means to monitor the future on the last call to give you an idea of how you can monitor it.  If you do, you'd want to run that block in its own thread otherwise, you'll be blocking.</p>\n<pre><code>public void globalCall(){\n  seerviceOne.doSomething();\n  serviceTwo.doSomething();\n\n  CompletableFuture serviceThreeFuture = serviceThree.doSomething();\n  // check the future every second to see if it's done, \n  while (!serviceThreeFuture.isDone()) {\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n\n    reportService.report(&quot;STILL RUNNING&quot;);\n  }\n}\n</code></pre>\n<p>I would also recommend that you create an ExecutorService bean and autowire it so that you don't have to always call <code>Executors.newCachedThreadPool()</code>.</p>\n<pre><code>@Bean\npublic ExecutorService threadPoolExecutor() {\n    return Executors.newCachedThreadPool();\n}\n</code></pre>\n<p>Use the autowired <code>ExecutorService</code> in place of <code>Executors.newCachedThreadPool()</code></p>\n<pre><code>...\n@Autowired private ExcutorService executorService;\n\nexecutorService.submit(() -&gt; {\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12656005,"reputation":61,"user_id":9198523,"display_name":"Rafa J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698334475,"creation_date":1698334475,"answer_id":77368420,"question_id":76694136,"body_markdown":"[@lane.maxwell][1] give me the idea with his answer, so thank you. I was looking for a way to monitor the download of a file from a remote server to my server and then to client frontend. Also I needed to avoid timeout given that the whole process begins with an ajax call. I share my code in case it is useful to anyone:\r\n\r\n```\r\n//javascript functions\r\nlet intervalId;\r\n$(&quot;#modalDownloadButton&quot;).click(function(e) {    \r\n     e.preventDefault();\r\n     var data = $(&quot;#modalData&quot;).val();\r\n        \r\n     $.ajax({\r\n         type: &#39;GET&#39;,\r\n         url: &#39;/index/descarga2&#39;,\r\n         headers: {  &#39;Access-Control-Allow-Origin&#39;: &#39;http://localhost:3001/&#39; },\r\n         data: {data_to_server: data },            \r\n         crossDomain: true,\r\n         success: function(response) {\r\n             var msgRes = response;                \r\n             intervalId = setInterval(getFileStatus,8000,filename);\r\n         },\r\n         error: function(jqXHR, textStatus,errorThrown) {\r\n             alert(&#39;Error: &#39; + jqXHR.status + &#39; - &#39; +textStatus +&#39; - &#39; +errorThrown );\r\n         }\r\n     });\r\n });\r\n\r\n\r\nfunction getFileStatus(filename) {\r\n    $.ajax({\r\n        type: &#39;GET&#39;,\r\n        url: &#39;/index/getFileStatus&#39;,\r\n        headers: {  &#39;Access-Control-Allow-Origin&#39;: &#39;http://localhost:3001/&#39; },\r\n        data: {asyncOperationId: filename },\r\n        crossDomain: true,\r\n        success: function(response) {\r\n            var msgRes = response;    \r\n            var code = msgRes.split(&quot;;&quot;)[0];\r\n            var message = msgRes.split(&quot;;&quot;)[1];\r\n            if(code==&quot;0&quot;){\r\n                $(&quot;#loader-message&quot;).empty();\r\n                $(&quot;#loader-message&quot;).html(&quot;&lt;p&gt;&quot;+message+&quot;&lt;/p&gt;&quot;);\r\n            } else if (code==&quot;9&quot;) { //error\r\n               clearInterval(intervalId);\r\n               intervalId = null;\r\n               alert(message);\r\n            } else if (code==&quot;1&quot;) {\r\n                clearInterval(intervalId);\r\n                intervalId = null;\r\n                getFileFromServer(filename);\r\n            }\r\n\r\n        },\r\n        error: function(jqXHR, textStatus,errorThrown) {\r\n            alert(&#39;Error: &#39; + jqXHR.status + &#39; - &#39; +textStatus +&#39; - &#39; +errorThrown );\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction getFileFromServer(filename) {       \r\n    $.ajax({\r\n        type: &#39;GET&#39;,\r\n        url: &#39;/index/getFileFromServer&#39;,\r\n        headers: {  &#39;Access-Control-Allow-Origin&#39;: &#39;http://localhost:3001/&#39; },\r\n        data: {filename: filename },\r\n        crossDomain: true,\r\n        dataType: &#39;binary&#39;,\r\n        success: function(response) {\r\n            var byteArray = response;\r\n            var loadingScreen = $(&quot;#loader-wrapper&quot;);\r\n            loadingScreen.css(&quot;display&quot;,&quot;none&quot;);\r\n            const blob = new Blob([byteArray], { type: &#39;video/mp4&#39; });\r\n            const downloadUrl = window.URL.createObjectURL(blob);\r\n            const a = document.createElement(&quot;a&quot;);\r\n            a.href = downloadUrl;\r\n            a.download = filename;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            URL.revokeObjectURL(downloadUrl);\r\n        },\r\n        error: function(jqXHR, textStatus,errorThrown) {\r\n            alert(&#39;Error: &#39; + jqXHR.status + &#39; - &#39; +textStatus +&#39; - &#39; +errorThrown );\r\n        }\r\n    });\r\n}\r\n\r\n```\r\n\r\nSpring/Java\r\n```\r\n// /index/descarga2\r\n// returns ResponseEntity&lt;String&gt;\r\nlaunchAsyncProcess(requestUri,json,filename);\r\nsetTaskStatus(1);\r\nString msg = &quot;Petici&#243;n lanzada. Esperando respuesta.&quot;;\r\nlog.info(msg);\r\nreturn ResponseEntity.ok()\r\n\t\t.contentType(MediaType.TEXT_PLAIN)\r\n\t\t.contentLength(msg.length())\r\n\t\t.body(msg);\r\n\r\n\r\npublic void launchAsyncProcess(String uri, String json, String filename) {\r\n    CompletableFuture&lt;Boolean&gt; completableFuture = new CompletableFuture&lt;&gt;();\r\n\t//started\r\n\t//async call\t\r\n\tExecutors.newCachedThreadPool().submit(() -&gt; {\r\n\t\tcompletableFuture.completeAsync(()-&gt; {\r\n\t\t\tsetTaskStatus(2); //processing\r\n            //calling the download process async\r\n\t\t\trequestFileForDownload(uri,json,filename);\r\n\t\t\tsetTaskStatus(3); //finish\r\n\t\t\treturn completableFuture.complete(true);\r\n\t\t});\r\n\t});\r\n}\r\n```\r\nThe first ajax request launches the backend process that retrieves the info and calls the download method asynchronously. The response is the initial message of the process and also launches the monitor. When the monitor receives the completion value, the file has been downloaded and can be retrieved from the server, so the last ajax request is launched to accomplish this.\r\n\r\n  [1]: https://stackoverflow.com/users/888580/lane-maxwell","title":"Spring boot report the execution status of @Async Method","body":"<p><a href=\"https://stackoverflow.com/users/888580/lane-maxwell\">@lane.maxwell</a> give me the idea with his answer, so thank you. I was looking for a way to monitor the download of a file from a remote server to my server and then to client frontend. Also I needed to avoid timeout given that the whole process begins with an ajax call. I share my code in case it is useful to anyone:</p>\n<pre><code>//javascript functions\nlet intervalId;\n$(&quot;#modalDownloadButton&quot;).click(function(e) {    \n     e.preventDefault();\n     var data = $(&quot;#modalData&quot;).val();\n        \n     $.ajax({\n         type: 'GET',\n         url: '/index/descarga2',\n         headers: {  'Access-Control-Allow-Origin': 'http://localhost:3001/' },\n         data: {data_to_server: data },            \n         crossDomain: true,\n         success: function(response) {\n             var msgRes = response;                \n             intervalId = setInterval(getFileStatus,8000,filename);\n         },\n         error: function(jqXHR, textStatus,errorThrown) {\n             alert('Error: ' + jqXHR.status + ' - ' +textStatus +' - ' +errorThrown );\n         }\n     });\n });\n\n\nfunction getFileStatus(filename) {\n    $.ajax({\n        type: 'GET',\n        url: '/index/getFileStatus',\n        headers: {  'Access-Control-Allow-Origin': 'http://localhost:3001/' },\n        data: {asyncOperationId: filename },\n        crossDomain: true,\n        success: function(response) {\n            var msgRes = response;    \n            var code = msgRes.split(&quot;;&quot;)[0];\n            var message = msgRes.split(&quot;;&quot;)[1];\n            if(code==&quot;0&quot;){\n                $(&quot;#loader-message&quot;).empty();\n                $(&quot;#loader-message&quot;).html(&quot;&lt;p&gt;&quot;+message+&quot;&lt;/p&gt;&quot;);\n            } else if (code==&quot;9&quot;) { //error\n               clearInterval(intervalId);\n               intervalId = null;\n               alert(message);\n            } else if (code==&quot;1&quot;) {\n                clearInterval(intervalId);\n                intervalId = null;\n                getFileFromServer(filename);\n            }\n\n        },\n        error: function(jqXHR, textStatus,errorThrown) {\n            alert('Error: ' + jqXHR.status + ' - ' +textStatus +' - ' +errorThrown );\n        }\n    });\n}\n\n\nfunction getFileFromServer(filename) {       \n    $.ajax({\n        type: 'GET',\n        url: '/index/getFileFromServer',\n        headers: {  'Access-Control-Allow-Origin': 'http://localhost:3001/' },\n        data: {filename: filename },\n        crossDomain: true,\n        dataType: 'binary',\n        success: function(response) {\n            var byteArray = response;\n            var loadingScreen = $(&quot;#loader-wrapper&quot;);\n            loadingScreen.css(&quot;display&quot;,&quot;none&quot;);\n            const blob = new Blob([byteArray], { type: 'video/mp4' });\n            const downloadUrl = window.URL.createObjectURL(blob);\n            const a = document.createElement(&quot;a&quot;);\n            a.href = downloadUrl;\n            a.download = filename;\n            document.body.appendChild(a);\n            a.click();\n            URL.revokeObjectURL(downloadUrl);\n        },\n        error: function(jqXHR, textStatus,errorThrown) {\n            alert('Error: ' + jqXHR.status + ' - ' +textStatus +' - ' +errorThrown );\n        }\n    });\n}\n\n</code></pre>\n<p>Spring/Java</p>\n<pre><code>// /index/descarga2\n// returns ResponseEntity&lt;String&gt;\nlaunchAsyncProcess(requestUri,json,filename);\nsetTaskStatus(1);\nString msg = &quot;Petición lanzada. Esperando respuesta.&quot;;\nlog.info(msg);\nreturn ResponseEntity.ok()\n        .contentType(MediaType.TEXT_PLAIN)\n        .contentLength(msg.length())\n        .body(msg);\n\n\npublic void launchAsyncProcess(String uri, String json, String filename) {\n    CompletableFuture&lt;Boolean&gt; completableFuture = new CompletableFuture&lt;&gt;();\n    //started\n    //async call    \n    Executors.newCachedThreadPool().submit(() -&gt; {\n        completableFuture.completeAsync(()-&gt; {\n            setTaskStatus(2); //processing\n            //calling the download process async\n            requestFileForDownload(uri,json,filename);\n            setTaskStatus(3); //finish\n            return completableFuture.complete(true);\n        });\n    });\n}\n</code></pre>\n<p>The first ajax request launches the backend process that retrieves the info and calls the download method asynchronously. The response is the initial message of the process and also launches the monitor. When the monitor receives the completion value, the file has been downloaded and can be retrieved from the server, so the last ajax request is launched to accomplish this.</p>\n"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76696693,"answer_count":2,"score":0,"last_activity_date":1698334475,"creation_date":1689429923,"question_id":76694136,"body_markdown":"I&#39;m working in a spring-boot project and I have a long-running-task, that I trigger in a @Async method.\r\n\r\n    public void globalCall(){\r\n\r\n      serviceOne.doSomething();\r\n      serviceTwo.doSomething();\r\n      serviceThree.doSomething();\r\n\r\n    }\r\n\r\nand this is my async call :\r\n\r\n    @Async\r\n    public void longProcess(){\r\n        //persist the status in the DB , i have a GET API to get the value from DB\r\n       reportService.report(&quot;STARTED&quot;);\r\n\r\n       // Trigger my long process \r\n       globalService.globalCall();\r\n    }\r\n\r\nmy issue is that I don&#39;t know at which moment I have to call `reportService.report(&quot;PROCESSING&quot;);`  when my `longProcess()` is still running ... ? the same case when i have to call `reportService.report(&quot;FINISHED&quot;);` when my `longProcess()` is finished. \r\ndo you have any idea to adjust my code in order to catch these events?\r\n\r\nRegards.","title":"Spring boot report the execution status of @Async Method","body":"<p>I'm working in a spring-boot project and I have a long-running-task, that I trigger in a @Async method.</p>\n<pre><code>public void globalCall(){\n\n  serviceOne.doSomething();\n  serviceTwo.doSomething();\n  serviceThree.doSomething();\n\n}\n</code></pre>\n<p>and this is my async call :</p>\n<pre><code>@Async\npublic void longProcess(){\n    //persist the status in the DB , i have a GET API to get the value from DB\n   reportService.report(&quot;STARTED&quot;);\n\n   // Trigger my long process \n   globalService.globalCall();\n}\n</code></pre>\n<p>my issue is that I don't know at which moment I have to call <code>reportService.report(&quot;PROCESSING&quot;);</code>  when my <code>longProcess()</code> is still running ... ? the same case when i have to call <code>reportService.report(&quot;FINISHED&quot;);</code> when my <code>longProcess()</code> is finished.\ndo you have any idea to adjust my code in order to catch these events?</p>\n<p>Regards.</p>\n"},{"tags":["java","floating-point","jvm","precision"],"comments":[{"owner":{"account_id":11683,"reputation":1438131,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1698310338,"post_id":77365470,"comment_id":136389923,"body_markdown":"It feels entirely possible to me that the implementation of `average` (or streams in general) changed between versions. I would try to reproduce the problem without any other APIs - just with plain `double` operations.","body":"It feels entirely possible to me that the implementation of <code>average</code> (or streams in general) changed between versions. I would try to reproduce the problem without any other APIs - just with plain <code>double</code> operations."},{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1698341123,"post_id":77365470,"comment_id":136396429,"body_markdown":"Interesting that of 12 different addition orders, the results 39.739999999999995... (3 of 12) and 39.740000000000002...  (9 of 12) occur.","body":"Interesting that of 12 different addition orders, the results 39.739999999999995... (3 of 12) and 39.740000000000002...  (9 of 12) occur."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1698324056,"creation_date":1698324056,"answer_id":77367104,"question_id":77365470,"body_markdown":"The relevant issue is [JDK-8214761: Bug in parallel Kahan summation implementation][JDK-8214761]\r\n\r\nSince it is mentioned in this bug report that `DoubleSummaryStatistics` is affected as well, we can construct an example that eliminates all other influences:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n      DoubleSummaryStatistics s = new DoubleSummaryStatistics();\r\n      s.accept(27.19);\r\n      s.accept(18.97);\r\n      s.accept(6.44);\r\n      s.accept(106.36);\r\n      System.out.println(System.getProperty(&quot;java.version&quot;)+&quot;: &quot;+s.getAverage());\r\n    }\r\n}\r\n```\r\nwhich I used to produce\r\n\r\n```none\r\n1.8.0_162: 39.74000000000001\r\n```\r\n\r\n```none\r\n17: 39.74000000000001\r\n```\r\n(with the release version of Java&#160;17)\r\n\r\nand\r\n\r\n```none\r\n17.0.2: 39.739999999999995\r\n```\r\n\r\nwhich matches the version of the [backport of the fix].\r\n\r\nGenerally, [the contract of the method] says that the result does not have to match the result of just adding the values and dividing by the size. There’s the implementation’s freedom to provide an error correction but it’s also important to keep in mind that floating point addition is not strictly associative but we have to treat it as associative to be able to support parallel processing.\r\n\r\n---\r\n\r\nWe may even verify that the change is an improvement:\r\n\r\n```java\r\nDoubleSummaryStatistics s = new DoubleSummaryStatistics();\r\ns.accept(27.19);\r\ns.accept(18.97);\r\ns.accept(6.44);\r\ns.accept(106.36);\r\ndouble average = s.getAverage();\r\nSystem.out.println(System.getProperty(&quot;java.version&quot;) + &quot;: &quot; + average);\r\n\r\nBigDecimal d = new BigDecimal(&quot;27.19&quot;);\r\nd = d.add(new BigDecimal(&quot;18.97&quot;));\r\nd = d.add(new BigDecimal(&quot;6.44&quot;));\r\nd = d.add(new BigDecimal(&quot;106.36&quot;));\r\n\r\nBigDecimal realAverage = d.divide(BigDecimal.valueOf(4), MathContext.UNLIMITED);\r\nSystem.out.println(&quot;actual: &quot; + realAverage\r\n        + &quot;, error: &quot; + realAverage.subtract(BigDecimal.valueOf(average)).abs());\r\n```\r\n\r\nwhich prints, e.g.\r\n\r\n```none\r\n1.8.0_162: 39.74000000000001\r\nactual: 39.74, error: 1E-14\r\n```\r\n```none\r\n17.0.2: 39.739999999999995\r\nactual: 39.74, error: 5E-15\r\n```\r\n\r\nNote that this is the error of the decimal representations as printed. If you want to know how close the actual `double` representation is to the correct value, you have to replace `BigDecimal.valueOf(average)` with `new BigDecimal(average)`. Then, the difference between the errors is a bit less, however, the new algorithm is closer to the correct value for both.\r\n\r\n[JDK-8214761]: https://bugs.openjdk.org/browse/JDK-8214761\r\n[backport of the fix]: https://bugs.openjdk.org/browse/JDK-8274015\r\n[the contract of the method]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/DoubleStream.html#average()","title":"Java 17 vs Java 8 double representation","body":"<p>The relevant issue is <a href=\"https://bugs.openjdk.org/browse/JDK-8214761\" rel=\"noreferrer\">JDK-8214761: Bug in parallel Kahan summation implementation</a></p>\n<p>Since it is mentioned in this bug report that <code>DoubleSummaryStatistics</code> is affected as well, we can construct an example that eliminates all other influences:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n      DoubleSummaryStatistics s = new DoubleSummaryStatistics();\n      s.accept(27.19);\n      s.accept(18.97);\n      s.accept(6.44);\n      s.accept(106.36);\n      System.out.println(System.getProperty(&quot;java.version&quot;)+&quot;: &quot;+s.getAverage());\n    }\n}\n</code></pre>\n<p>which I used to produce</p>\n<pre class=\"lang-none prettyprint-override\"><code>1.8.0_162: 39.74000000000001\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>17: 39.74000000000001\n</code></pre>\n<p>(with the release version of Java 17)</p>\n<p>and</p>\n<pre class=\"lang-none prettyprint-override\"><code>17.0.2: 39.739999999999995\n</code></pre>\n<p>which matches the version of the <a href=\"https://bugs.openjdk.org/browse/JDK-8274015\" rel=\"noreferrer\">backport of the fix</a>.</p>\n<p>Generally, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/DoubleStream.html#average()\" rel=\"noreferrer\">the contract of the method</a> says that the result does not have to match the result of just adding the values and dividing by the size. There’s the implementation’s freedom to provide an error correction but it’s also important to keep in mind that floating point addition is not strictly associative but we have to treat it as associative to be able to support parallel processing.</p>\n<hr />\n<p>We may even verify that the change is an improvement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DoubleSummaryStatistics s = new DoubleSummaryStatistics();\ns.accept(27.19);\ns.accept(18.97);\ns.accept(6.44);\ns.accept(106.36);\ndouble average = s.getAverage();\nSystem.out.println(System.getProperty(&quot;java.version&quot;) + &quot;: &quot; + average);\n\nBigDecimal d = new BigDecimal(&quot;27.19&quot;);\nd = d.add(new BigDecimal(&quot;18.97&quot;));\nd = d.add(new BigDecimal(&quot;6.44&quot;));\nd = d.add(new BigDecimal(&quot;106.36&quot;));\n\nBigDecimal realAverage = d.divide(BigDecimal.valueOf(4), MathContext.UNLIMITED);\nSystem.out.println(&quot;actual: &quot; + realAverage\n        + &quot;, error: &quot; + realAverage.subtract(BigDecimal.valueOf(average)).abs());\n</code></pre>\n<p>which prints, e.g.</p>\n<pre class=\"lang-none prettyprint-override\"><code>1.8.0_162: 39.74000000000001\nactual: 39.74, error: 1E-14\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>17.0.2: 39.739999999999995\nactual: 39.74, error: 5E-15\n</code></pre>\n<p>Note that this is the error of the decimal representations as printed. If you want to know how close the actual <code>double</code> representation is to the correct value, you have to replace <code>BigDecimal.valueOf(average)</code> with <code>new BigDecimal(average)</code>. Then, the difference between the errors is a bit less, however, the new algorithm is closer to the correct value for both.</p>\n"}],"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":77367104,"answer_count":1,"score":18,"last_activity_date":1698334131,"creation_date":1698310077,"question_id":77365470,"body_markdown":"What is the reason of the difference of the same values when doing average between 2 different JVM&#39;s (Java 8 and Java 17)?\r\n\r\nIs that because the floating point? Or has something else changed between 2 versions?\r\n\r\nJava 17\r\n\r\n````java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;Double&gt; amountList = List.of(27.19, 18.97, 6.44, 106.36);\r\n\r\n        System.out.println(&quot;JAVA 17 result: &quot; + amountList.stream().mapToDouble(x -&gt; x).average().orElseThrow());\r\n\r\n    }\r\n}\r\n````\r\nresult: 39.739999999999995\r\n\r\nJava 8\r\n\r\n````java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;Double&gt; amountList = Arrays.asList(27.19, 18.97, 6.44, 106.36);\r\n\r\n        System.out.println(&quot;JAVA 8 result: &quot; + amountList.stream().mapToDouble(x -&gt; x).average().orElse(0.0));\r\n    }\r\n}\r\n````\r\n\r\nresult: 39.74000000000001\r\n","title":"Java 17 vs Java 8 double representation","body":"<p>What is the reason of the difference of the same values when doing average between 2 different JVM's (Java 8 and Java 17)?</p>\n<p>Is that because the floating point? Or has something else changed between 2 versions?</p>\n<p>Java 17</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n\n        List&lt;Double&gt; amountList = List.of(27.19, 18.97, 6.44, 106.36);\n\n        System.out.println(&quot;JAVA 17 result: &quot; + amountList.stream().mapToDouble(x -&gt; x).average().orElseThrow());\n\n    }\n}\n</code></pre>\n<p>result: 39.739999999999995</p>\n<p>Java 8</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n\n        List&lt;Double&gt; amountList = Arrays.asList(27.19, 18.97, 6.44, 106.36);\n\n        System.out.println(&quot;JAVA 8 result: &quot; + amountList.stream().mapToDouble(x -&gt; x).average().orElse(0.0));\n    }\n}\n</code></pre>\n<p>result: 39.74000000000001</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9986,"page":98,"page_size":100}
