{"items":[{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701073644,"post_id":77555439,"comment_id":136725102,"body_markdown":"Related: [Are there out of the box solutions for persisting a whole object graph by its node?](https://stackoverflow.com/questions/77523406/are-there-out-of-the-box-solutions-for-persisting-a-whole-object-graph-by-its-no)","body":"Related: <a href=\"https://stackoverflow.com/questions/77523406/are-there-out-of-the-box-solutions-for-persisting-a-whole-object-graph-by-its-no\">Are there out of the box solutions for persisting a whole object graph by its node?</a>"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701083947,"post_id":77555439,"comment_id":136726860,"body_markdown":"You can drop a comment, &quot;Dude, you&#39;re on the wrong track, here&#39;s what you need to do instead&quot;. It would be appreciated too. I really need feedback","body":"You can drop a comment, &quot;Dude, you&#39;re on the wrong track, here&#39;s what you need to do instead&quot;. It would be appreciated too. I really need feedback"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701096280,"post_id":77555439,"comment_id":136729164,"body_markdown":"This isn&#39;t a great post for stack overflow as there is far too much effort to debug your code, and warning that it isn&#39;t very readable is certainly a deterrent - people are more willing to read and help if you run the code and show the errors, and maybe narrow down issues to one specific problem. Id suggest you start small and build up or you&#39;ll be overwhelmed with small problems and get to a point where fixing one may cause others that aren&#39;t noticed right away, and those willing to help will be as well.","body":"This isn&#39;t a great post for stack overflow as there is far too much effort to debug your code, and warning that it isn&#39;t very readable is certainly a deterrent - people are more willing to read and help if you run the code and show the errors, and maybe narrow down issues to one specific problem. Id suggest you start small and build up or you&#39;ll be overwhelmed with small problems and get to a point where fixing one may cause others that aren&#39;t noticed right away, and those willing to help will be as well."}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701086478,"creation_date":1701073539,"question_id":77555439,"body_markdown":"`@Sql` scripts are error-prone and not OOP. I want my tests to be rid of them. This would be perfect:\r\n```java\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Import(value = BasicPersister.class)\r\nclass CardRepositoryTest {\r\n    @Autowired\r\n    private CardRepository cardRepository;\r\n    private FieldInspector fieldInspector;\r\n    private DataGenerator dataGenerator;\r\n    @Autowired\r\n    private Persister persister;\r\n    private Card expectedCard;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        dataGenerator = new BasicDataGenerator();\r\n        expectedCard = dataGenerator.generateRandomCard();\r\n        persister.persistGraph(expectedCard);\r\n    }\r\n\r\n    @Test\r\n    void testSomething() {\r\n    // it&#39;s an MRE, let leave it like that for now\r\n    }\r\n}\r\n```\r\n`DataGenerator` implementation is out of scope of this question. The general idea is:\r\n```java\r\npublic class BasicDataGenerator implements DataGenerator {\r\n    private static final Faker faker = new Faker();\r\n    @Override\r\n    public Card generateRandomCard() {\r\n        Card card = Card.builder()\r\n                .id(UUID.randomUUID())\r\n                .cardNumber(getRandomLongAsString())\r\n                .holderName(faker.name().fullName())\r\n                .expirationDate(getRandomFutureLocalDate())\r\n                .paymentSystem(getRandomEnumConstant(PaymentSystem.class))\r\n                .cardBalance(getRandomBigDecimal())\r\n                .cardStatus(getRandomEnumConstant(CardStatus.class))\r\n                .transactionLimit(getRandomBigDecimal())\r\n                .deliveryPoint(faker.address().fullAddress())\r\n                .isDigitalWallet(getRandomBoolean())\r\n                .isVirtual(getRandomBoolean())\r\n                .coBrand(faker.company().name())\r\n                .cardAlias(faker.funnyName().name())\r\n                .build();\r\n        Account account = generateRandomAccountFor(card);\r\n        card.setAccount(account);\r\n        return card;\r\n    }\r\n\r\n// ...\r\n```\r\nLet&#39;s make it simpler and also simplify the graph. Simplified `DataGenerator`:\r\n```java\r\npublic class SimplifiedDataGenerator implements DataGenerator {\r\n\r\n    @Override\r\n    public Card generateRandomCard() {\r\n        Card card = Card.builder()\r\n                .id(UUID.randomUUID())\r\n                .build();\r\n        Account account = generateRandomAccountFor(card);\r\n        card.setAccount(account);\r\n        return card;\r\n    }\r\n\r\n    @Override\r\n    public Account generateRandomAccountFor(Card card) {\r\n        Account account = Account.builder()\r\n                .id(UUID.randomUUID())\r\n                .cards(List.of(card))\r\n                .build();\r\n        PaymentSchedule paymentSchedule = generateRandomPaymentScheduleFor(account);\r\n        Agreement agreement = generateRandomAgreementFor(account);\r\n        Credit credit = generateRandomCreditFor(agreement, account);\r\n        account.setPaymentSchedules(List.of(paymentSchedule));\r\n        account.setCredit(credit);\r\n        card.setAccount(account);\r\n        return account;\r\n    }\r\n\r\n    @Override\r\n    public Agreement generateRandomAgreementFor(Account account) {\r\n        Agreement agreement = Agreement.builder()\r\n                .id(UUID.randomUUID())\r\n                .build();\r\n        Credit credit = generateRandomCreditFor(agreement, account);\r\n        agreement.setCredit(credit);\r\n        account.setCredit(credit);\r\n        return agreement;\r\n    }\r\n\r\n    @Override\r\n    public PaymentSchedule generateRandomPaymentScheduleFor(Account account) {\r\n        PaymentSchedule paymentSchedule = PaymentSchedule.builder()\r\n                .id(UUID.randomUUID())\r\n                .account(account)\r\n                .build();\r\n        account.setPaymentSchedules(new ArrayList&lt;&gt;(List.of(paymentSchedule)));\r\n        return paymentSchedule;\r\n    }\r\n\r\n    @Override\r\n    public Credit generateRandomCreditFor(Agreement agreement, Account account) {\r\n        Credit credit = Credit.builder()\r\n                .id(UUID.randomUUID())\r\n                .account(account)\r\n                .agreement(agreement)\r\n                .build();\r\n        agreement.setCredit(credit);\r\n        account.setCredit(credit);\r\n        return credit;\r\n    }\r\n\r\n    @Override\r\n    public CreditOrder generateRandomCreditOrder() {\r\n        return CreditOrder.builder()\r\n                .id(UUID.randomUUID())\r\n                .product(generateRandomProduct())\r\n                .build();\r\n    }\r\n\r\n    @Override\r\n    public Product generateRandomProduct() {\r\n        return Product.builder()\r\n                .id(new Random().nextInt(100))\r\n                .build();\r\n    }\r\n}\r\n```\r\nThe simplified graph:\r\n```java\r\n/* I&#39;ll include these class annotations only for \r\nthe first entity to keep it short */\r\n\r\n@Entity\r\n@Table(name = &quot;card&quot;)\r\n@Getter\r\n@Setter(AccessLevel.PUBLIC)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Card {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Account account;\r\n}\r\n```\r\n```java\r\npublic class Account {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Credit credit;\r\n\r\n    @OneToMany(mappedBy = &quot;account&quot;)\r\n    private List&lt;Card&gt; cards;\r\n\r\n    @OneToMany(mappedBy = &quot;account&quot;)\r\n    private List&lt;PaymentSchedule&gt; paymentSchedules;\r\n}\r\n```\r\n```java\r\npublic class PaymentSchedule {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;account_id&quot;)\r\n    private Account account;\r\n}\r\n```\r\n```java\r\npublic class Credit {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(mappedBy = &quot;credit&quot;)\r\n    private Account account;\r\n\r\n    @OneToOne(mappedBy = &quot;credit&quot;)\r\n    private Agreement agreement;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private CreditOrder creditOrder;\r\n}\r\n```\r\n```java\r\npublic class Agreement {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Credit credit;\r\n}\r\n```\r\n```java\r\npublic class CreditOrder {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n}\r\n```\r\n```java\r\npublic class Product implements Serializable { // I have no idea why it implements Serializable\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n    \r\n    // it doesn&#39;t have any association fields\r\n}\r\n```\r\nSo let&#39;s get to my `Persister` implementation. My priorities were:\r\n1. I want to persist a whole graph by any graph node (hence it&#39;s generic)\r\n2. I want my API to be tolerant to whether cascade configuration is properly set up (as in `@ManyToOne(cascade = ...`)\r\n\r\nI warn you, it&#39;s not very readable. The general idea is &quot;deeply&quot; counting foreign keys (foreign keys of entities referenced by foreign keys are counted too), prioritizing entities for persistence (those that have more keys have lower priority, persisted later), then finding a `Repository` and a method, and then invoking it on each entity. Consider the code below a draft. It doesn&#39;t work yet:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class BasicPersister implements Persister {\r\n    private final List&lt;Repository&lt;?, ?&gt;&gt; repositories;\r\n    private final Map&lt;Object, Integer&gt; foreignKeyMap = new HashMap&lt;&gt;();\r\n    private final List&lt;Object&gt; processedObjects = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public &lt;T&gt; void persistGraph(T graphNode) {\r\n        if (graphNode == null) {\r\n            return;\r\n        }\r\n        TreeSet&lt;Object&gt; sortedEntities = sortGraphNodes(graphNode);\r\n        persistInOrder(sortedEntities);\r\n    }\r\n\r\n    private TreeSet&lt;Object&gt; sortGraphNodes(Object graphNode) {\r\n        countForeignKeys(graphNode);\r\n        TreeSet&lt;Object&gt; set = new TreeSet&lt;&gt;(Comparator.comparingInt(foreignKeyMap::get));\r\n        set.addAll(foreignKeyMap.keySet());\r\n        return set;\r\n    }\r\n\r\n    private void countForeignKeys(Object graphNode) {\r\n        if (processedObjects.contains(graphNode)) {\r\n            return;\r\n        }\r\n        int foreignKeyCount = 0;\r\n        List&lt;Field&gt; relationshipFields = new ArrayList&lt;&gt;();\r\n        for (Field field : graphNode.getClass().getDeclaredFields()) {\r\n            if (hasRelationshipAnnotation(field)) {\r\n                relationshipFields.add(field);\r\n            }\r\n        }\r\n        processedObjects.add(graphNode);\r\n        for (Field relationshipField : relationshipFields) {\r\n            relationshipField.setAccessible(true);\r\n            Object fieldValue = ReflectionUtils.getField(relationshipField, graphNode);\r\n            if (fieldValue != null) {\r\n                if (!(fieldValue instanceof Collection)) {\r\n                    countForeignKeys(fieldValue);\r\n                    if (relationshipField.getAnnotation(JoinColumn.class) != null) {\r\n                        foreignKeyCount = 1 + foreignKeyMap.get(fieldValue);\r\n                    }\r\n                } else if (!((Collection&lt;?&gt;) fieldValue).isEmpty()) {\r\n                    ((Collection&lt;?&gt;) fieldValue).forEach(this::countForeignKeys);\r\n                    if (relationshipField.getAnnotation(JoinColumn.class) != null) {\r\n                        foreignKeyCount = 1 + foreignKeyMap.get(\r\n                                ((Collection&lt;?&gt;) fieldValue).stream().findAny().orElseThrow()\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        foreignKeyMap.put(graphNode, foreignKeyCount);\r\n    }\r\n\r\n    private boolean hasRelationshipAnnotation(Field field) {\r\n        List&lt;Class&lt;? extends Annotation&gt;&gt; relationshipAnnotations = List.of(\r\n                OneToOne.class, OneToMany.class, ManyToOne.class, ManyToMany.class\r\n        );\r\n        return Arrays.stream(field.getAnnotations())\r\n                .map(Annotation::annotationType)\r\n                .anyMatch(relationshipAnnotations::contains);\r\n    }\r\n\r\n    private void persistInOrder(TreeSet&lt;Object&gt; sortedEntities) {\r\n        for (Object entity : sortedEntities) {\r\n            Repository&lt;?, ?&gt; matchingRepository = null;\r\n            for (Repository&lt;?, ?&gt; repository : repositories) {\r\n                String repositoryName = repository.getClass().getInterfaces()[0].getName();\r\n                if (isMatchingRepository(repository, entity)) {\r\n                    matchingRepository = repository;\r\n                    break;\r\n                }\r\n            }\r\n            assert matchingRepository != null;\r\n            Method matchingSaveMethod = ReflectionUtils.findMethod(matchingRepository.getClass(), &quot;save&quot;, Object.class);\r\n            assert matchingSaveMethod != null;\r\n            Object invocationResult = null;\r\n            try { // it fails here\r\n                invocationResult = ReflectionUtils.invokeMethod(matchingSaveMethod, matchingRepository, entity);\r\n            } catch (Exception ignored) {\r\n                System.out.println(); // dummy statement to stop a debugger and analyze the exception\r\n            }\r\n            assert invocationResult != null;\r\n            List&lt;Field&gt; idFields = findIdFields(invocationResult);\r\n            for (Field idField : idFields) {\r\n                idField.setAccessible(true);\r\n                Object newIdValue = ReflectionUtils.getField(idField, invocationResult);\r\n                ReflectionUtils.setField(idField, entity, newIdValue);\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean isMatchingRepository(Repository&lt;?, ?&gt; repository, Object entity) {\r\n        return AbstractRepositoryMetadata.getMetadata(repository.getClass().getInterfaces()[0])\r\n                .getDomainType()\r\n                .equals(entity.getClass());\r\n    }\r\n\r\n    private List&lt;Field&gt; findIdFields(Object entity) {\r\n        return Arrays.stream(entity.getClass().getDeclaredFields())\r\n                .filter(field -&gt; field.getAnnotation(Id.class) != null)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\nCan I get this monstrosity work? How?\r\n\r\n","title":"Can I ever get my Persister work? (it&#39;s intended to persist a graph by a graph node)","body":"<p><code>@Sql</code> scripts are error-prone and not OOP. I want my tests to be rid of them. This would be perfect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@Import(value = BasicPersister.class)\nclass CardRepositoryTest {\n    @Autowired\n    private CardRepository cardRepository;\n    private FieldInspector fieldInspector;\n    private DataGenerator dataGenerator;\n    @Autowired\n    private Persister persister;\n    private Card expectedCard;\n\n    @BeforeEach\n    void setUp() {\n        dataGenerator = new BasicDataGenerator();\n        expectedCard = dataGenerator.generateRandomCard();\n        persister.persistGraph(expectedCard);\n    }\n\n    @Test\n    void testSomething() {\n    // it's an MRE, let leave it like that for now\n    }\n}\n</code></pre>\n<p><code>DataGenerator</code> implementation is out of scope of this question. The general idea is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BasicDataGenerator implements DataGenerator {\n    private static final Faker faker = new Faker();\n    @Override\n    public Card generateRandomCard() {\n        Card card = Card.builder()\n                .id(UUID.randomUUID())\n                .cardNumber(getRandomLongAsString())\n                .holderName(faker.name().fullName())\n                .expirationDate(getRandomFutureLocalDate())\n                .paymentSystem(getRandomEnumConstant(PaymentSystem.class))\n                .cardBalance(getRandomBigDecimal())\n                .cardStatus(getRandomEnumConstant(CardStatus.class))\n                .transactionLimit(getRandomBigDecimal())\n                .deliveryPoint(faker.address().fullAddress())\n                .isDigitalWallet(getRandomBoolean())\n                .isVirtual(getRandomBoolean())\n                .coBrand(faker.company().name())\n                .cardAlias(faker.funnyName().name())\n                .build();\n        Account account = generateRandomAccountFor(card);\n        card.setAccount(account);\n        return card;\n    }\n\n// ...\n</code></pre>\n<p>Let's make it simpler and also simplify the graph. Simplified <code>DataGenerator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimplifiedDataGenerator implements DataGenerator {\n\n    @Override\n    public Card generateRandomCard() {\n        Card card = Card.builder()\n                .id(UUID.randomUUID())\n                .build();\n        Account account = generateRandomAccountFor(card);\n        card.setAccount(account);\n        return card;\n    }\n\n    @Override\n    public Account generateRandomAccountFor(Card card) {\n        Account account = Account.builder()\n                .id(UUID.randomUUID())\n                .cards(List.of(card))\n                .build();\n        PaymentSchedule paymentSchedule = generateRandomPaymentScheduleFor(account);\n        Agreement agreement = generateRandomAgreementFor(account);\n        Credit credit = generateRandomCreditFor(agreement, account);\n        account.setPaymentSchedules(List.of(paymentSchedule));\n        account.setCredit(credit);\n        card.setAccount(account);\n        return account;\n    }\n\n    @Override\n    public Agreement generateRandomAgreementFor(Account account) {\n        Agreement agreement = Agreement.builder()\n                .id(UUID.randomUUID())\n                .build();\n        Credit credit = generateRandomCreditFor(agreement, account);\n        agreement.setCredit(credit);\n        account.setCredit(credit);\n        return agreement;\n    }\n\n    @Override\n    public PaymentSchedule generateRandomPaymentScheduleFor(Account account) {\n        PaymentSchedule paymentSchedule = PaymentSchedule.builder()\n                .id(UUID.randomUUID())\n                .account(account)\n                .build();\n        account.setPaymentSchedules(new ArrayList&lt;&gt;(List.of(paymentSchedule)));\n        return paymentSchedule;\n    }\n\n    @Override\n    public Credit generateRandomCreditFor(Agreement agreement, Account account) {\n        Credit credit = Credit.builder()\n                .id(UUID.randomUUID())\n                .account(account)\n                .agreement(agreement)\n                .build();\n        agreement.setCredit(credit);\n        account.setCredit(credit);\n        return credit;\n    }\n\n    @Override\n    public CreditOrder generateRandomCreditOrder() {\n        return CreditOrder.builder()\n                .id(UUID.randomUUID())\n                .product(generateRandomProduct())\n                .build();\n    }\n\n    @Override\n    public Product generateRandomProduct() {\n        return Product.builder()\n                .id(new Random().nextInt(100))\n                .build();\n    }\n}\n</code></pre>\n<p>The simplified graph:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* I'll include these class annotations only for \nthe first entity to keep it short */\n\n@Entity\n@Table(name = &quot;card&quot;)\n@Getter\n@Setter(AccessLevel.PUBLIC)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Card {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Account account;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Account {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Credit credit;\n\n    @OneToMany(mappedBy = &quot;account&quot;)\n    private List&lt;Card&gt; cards;\n\n    @OneToMany(mappedBy = &quot;account&quot;)\n    private List&lt;PaymentSchedule&gt; paymentSchedules;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PaymentSchedule {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;account_id&quot;)\n    private Account account;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Credit {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToOne(mappedBy = &quot;credit&quot;)\n    private Account account;\n\n    @OneToOne(mappedBy = &quot;credit&quot;)\n    private Agreement agreement;\n\n    @OneToOne\n    @JoinColumn(name = &quot;order_id&quot;)\n    private CreditOrder creditOrder;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Agreement {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Credit credit;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CreditOrder {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Product implements Serializable { // I have no idea why it implements Serializable\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    \n    // it doesn't have any association fields\n}\n</code></pre>\n<p>So let's get to my <code>Persister</code> implementation. My priorities were:</p>\n<ol>\n<li>I want to persist a whole graph by any graph node (hence it's generic)</li>\n<li>I want my API to be tolerant to whether cascade configuration is properly set up (as in <code>@ManyToOne(cascade = ...</code>)</li>\n</ol>\n<p>I warn you, it's not very readable. The general idea is &quot;deeply&quot; counting foreign keys (foreign keys of entities referenced by foreign keys are counted too), prioritizing entities for persistence (those that have more keys have lower priority, persisted later), then finding a <code>Repository</code> and a method, and then invoking it on each entity. Consider the code below a draft. It doesn't work yet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class BasicPersister implements Persister {\n    private final List&lt;Repository&lt;?, ?&gt;&gt; repositories;\n    private final Map&lt;Object, Integer&gt; foreignKeyMap = new HashMap&lt;&gt;();\n    private final List&lt;Object&gt; processedObjects = new ArrayList&lt;&gt;();\n\n    @Override\n    public &lt;T&gt; void persistGraph(T graphNode) {\n        if (graphNode == null) {\n            return;\n        }\n        TreeSet&lt;Object&gt; sortedEntities = sortGraphNodes(graphNode);\n        persistInOrder(sortedEntities);\n    }\n\n    private TreeSet&lt;Object&gt; sortGraphNodes(Object graphNode) {\n        countForeignKeys(graphNode);\n        TreeSet&lt;Object&gt; set = new TreeSet&lt;&gt;(Comparator.comparingInt(foreignKeyMap::get));\n        set.addAll(foreignKeyMap.keySet());\n        return set;\n    }\n\n    private void countForeignKeys(Object graphNode) {\n        if (processedObjects.contains(graphNode)) {\n            return;\n        }\n        int foreignKeyCount = 0;\n        List&lt;Field&gt; relationshipFields = new ArrayList&lt;&gt;();\n        for (Field field : graphNode.getClass().getDeclaredFields()) {\n            if (hasRelationshipAnnotation(field)) {\n                relationshipFields.add(field);\n            }\n        }\n        processedObjects.add(graphNode);\n        for (Field relationshipField : relationshipFields) {\n            relationshipField.setAccessible(true);\n            Object fieldValue = ReflectionUtils.getField(relationshipField, graphNode);\n            if (fieldValue != null) {\n                if (!(fieldValue instanceof Collection)) {\n                    countForeignKeys(fieldValue);\n                    if (relationshipField.getAnnotation(JoinColumn.class) != null) {\n                        foreignKeyCount = 1 + foreignKeyMap.get(fieldValue);\n                    }\n                } else if (!((Collection&lt;?&gt;) fieldValue).isEmpty()) {\n                    ((Collection&lt;?&gt;) fieldValue).forEach(this::countForeignKeys);\n                    if (relationshipField.getAnnotation(JoinColumn.class) != null) {\n                        foreignKeyCount = 1 + foreignKeyMap.get(\n                                ((Collection&lt;?&gt;) fieldValue).stream().findAny().orElseThrow()\n                        );\n                    }\n                }\n            }\n        }\n        foreignKeyMap.put(graphNode, foreignKeyCount);\n    }\n\n    private boolean hasRelationshipAnnotation(Field field) {\n        List&lt;Class&lt;? extends Annotation&gt;&gt; relationshipAnnotations = List.of(\n                OneToOne.class, OneToMany.class, ManyToOne.class, ManyToMany.class\n        );\n        return Arrays.stream(field.getAnnotations())\n                .map(Annotation::annotationType)\n                .anyMatch(relationshipAnnotations::contains);\n    }\n\n    private void persistInOrder(TreeSet&lt;Object&gt; sortedEntities) {\n        for (Object entity : sortedEntities) {\n            Repository&lt;?, ?&gt; matchingRepository = null;\n            for (Repository&lt;?, ?&gt; repository : repositories) {\n                String repositoryName = repository.getClass().getInterfaces()[0].getName();\n                if (isMatchingRepository(repository, entity)) {\n                    matchingRepository = repository;\n                    break;\n                }\n            }\n            assert matchingRepository != null;\n            Method matchingSaveMethod = ReflectionUtils.findMethod(matchingRepository.getClass(), &quot;save&quot;, Object.class);\n            assert matchingSaveMethod != null;\n            Object invocationResult = null;\n            try { // it fails here\n                invocationResult = ReflectionUtils.invokeMethod(matchingSaveMethod, matchingRepository, entity);\n            } catch (Exception ignored) {\n                System.out.println(); // dummy statement to stop a debugger and analyze the exception\n            }\n            assert invocationResult != null;\n            List&lt;Field&gt; idFields = findIdFields(invocationResult);\n            for (Field idField : idFields) {\n                idField.setAccessible(true);\n                Object newIdValue = ReflectionUtils.getField(idField, invocationResult);\n                ReflectionUtils.setField(idField, entity, newIdValue);\n            }\n        }\n    }\n\n    private boolean isMatchingRepository(Repository&lt;?, ?&gt; repository, Object entity) {\n        return AbstractRepositoryMetadata.getMetadata(repository.getClass().getInterfaces()[0])\n                .getDomainType()\n                .equals(entity.getClass());\n    }\n\n    private List&lt;Field&gt; findIdFields(Object entity) {\n        return Arrays.stream(entity.getClass().getDeclaredFields())\n                .filter(field -&gt; field.getAnnotation(Id.class) != null)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>Can I get this monstrosity work? How?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701085609,"creation_date":1701037051,"answer_id":77553686,"question_id":77553610,"body_markdown":"I&#39;m not sure you can use this level of nested queries.\r\n\r\nI&#39;d try to go with something like :\r\n```java\r\n@Query(value = &quot;DELETE FROM Employee e WHERE e.department.id IN (SELECT d.id from Departement d where d.companyBranch.id = :companyBranchId&quot;))\r\n```\r\n\r\nThat&#39;s the kind of query you would normally do in plain sql.\r\n","title":"Exception when i am trying to execute delete @Query","body":"<p>I'm not sure you can use this level of nested queries.</p>\n<p>I'd try to go with something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;DELETE FROM Employee e WHERE e.department.id IN (SELECT d.id from Departement d where d.companyBranch.id = :companyBranchId&quot;))\n</code></pre>\n<p>That's the kind of query you would normally do in plain sql.</p>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77553686,"answer_count":1,"score":0,"last_activity_date":1701085609,"creation_date":1701035320,"question_id":77553610,"body_markdown":"I am trying to execute this @Query in my EmployeeRepository class\r\n\r\n        @Modifying\r\n        @Query(value = &quot;DELETE FROM Employee e WHERE e.department.companyBranch.id = :companyBranchId&quot;)\r\n        void deleteAllByCompanyBranchId(@Param(&quot;companyBranchId&quot;) Long companyBranchId);\r\n\r\nBut I am getting this exception\r\n\r\n    Column &quot;D1_0.COMPANY_BRANCH_ID&quot; not found; SQL statement:\r\n    delete from employee where d1_0.company_branch_id=? [42122-214]] [delete from employee where d1_0.company_branch_id=?]; SQL [delete from employee where d1_0.company_branch_id=?]] with root cause\r\n    \r\n    org.h2.jdbc.JdbcSQLSyntaxErrorException: Столбец &quot;D1_0.COMPANY_BRANCH_ID&quot; не найден\r\n    Column &quot;D1_0.COMPANY_BRANCH_ID&quot; not found; SQL statement:\r\n    delete from employee where d1_0.company_branch_id=? [42122-214]\r\n\r\nI think it is somehow connected to JPQL conventions, but I am not sure. By looking at my exception I can say that the query is trying to find the `COMPANY_BRANCH_ID` field in `EMPLOYEE` table, but I am not sure about it.\r\n\r\nThis is my entity classes:\r\n\r\nEmployee:\r\n\r\n    @Entity\r\n    @Table(name = &quot;EMPLOYEE&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Employee {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;DEPARTMENT_ID&quot;, nullable = false)\r\n        private Department department;\r\n    }\r\n\r\nDepartment\r\n\r\n    @Entity\r\n    @Table(name = &quot;DEPARTMENT&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Department {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;, nullable = false)\r\n        private CompanyBranch companyBranch;\r\n    }\r\n\r\nCompanyBranch\r\n\r\n    @Entity\r\n    @Table(name = &quot;COMPANY_BRANCH&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class CompanyBranch {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    }\r\n\r\n","title":"Exception when i am trying to execute delete @Query","body":"<p>I am trying to execute this @Query in my EmployeeRepository class</p>\n<pre><code>    @Modifying\n    @Query(value = &quot;DELETE FROM Employee e WHERE e.department.companyBranch.id = :companyBranchId&quot;)\n    void deleteAllByCompanyBranchId(@Param(&quot;companyBranchId&quot;) Long companyBranchId);\n</code></pre>\n<p>But I am getting this exception</p>\n<pre><code>Column &quot;D1_0.COMPANY_BRANCH_ID&quot; not found; SQL statement:\ndelete from employee where d1_0.company_branch_id=? [42122-214]] [delete from employee where d1_0.company_branch_id=?]; SQL [delete from employee where d1_0.company_branch_id=?]] with root cause\n\norg.h2.jdbc.JdbcSQLSyntaxErrorException: Столбец &quot;D1_0.COMPANY_BRANCH_ID&quot; не найден\nColumn &quot;D1_0.COMPANY_BRANCH_ID&quot; not found; SQL statement:\ndelete from employee where d1_0.company_branch_id=? [42122-214]\n</code></pre>\n<p>I think it is somehow connected to JPQL conventions, but I am not sure. By looking at my exception I can say that the query is trying to find the <code>COMPANY_BRANCH_ID</code> field in <code>EMPLOYEE</code> table, but I am not sure about it.</p>\n<p>This is my entity classes:</p>\n<p>Employee:</p>\n<pre><code>@Entity\n@Table(name = &quot;EMPLOYEE&quot;)\n@Getter\n@Setter\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;DEPARTMENT_ID&quot;, nullable = false)\n    private Department department;\n}\n</code></pre>\n<p>Department</p>\n<pre><code>@Entity\n@Table(name = &quot;DEPARTMENT&quot;)\n@Getter\n@Setter\npublic class Department {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;, nullable = false)\n    private CompanyBranch companyBranch;\n}\n</code></pre>\n<p>CompanyBranch</p>\n<pre><code>@Entity\n@Table(name = &quot;COMPANY_BRANCH&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CompanyBranch {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n}\n</code></pre>\n"},{"tags":["java","numeric","exp"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1701074623,"post_id":77555495,"comment_id":136725248,"body_markdown":"Which Java version did you use? Since Java 17 the strict behaviour is the standard behaviour, and `Math` and `StrictMath` do exactly the same since Java 17 (`Math` calls the equivalent function in `StrictMath`). Though `Math.exp` may be intrinsified, which can cloud that assessment","body":"Which Java version did you use? Since Java 17 the strict behaviour is the standard behaviour, and <code>Math</code> and <code>StrictMath</code> do exactly the same since Java 17 (<code>Math</code> calls the equivalent function in <code>StrictMath</code>). Though <code>Math.exp</code> may be intrinsified, which can cloud that assessment"},{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701080314,"post_id":77555495,"comment_id":136726284,"body_markdown":"I think the interfaces and the javadocs have not changed in the past Java versions. It is also not a problem that Math.exp can be intrinsified, as its error is explicitly stated in the interface. I am also not sure if really all Java implementations delegate to StrictMath. However, if they do, the StrictMath implementation must of course provide the same error guarantee.","body":"I think the interfaces and the javadocs have not changed in the past Java versions. It is also not a problem that Math.exp can be intrinsified, as its error is explicitly stated in the interface. I am also not sure if really all Java implementations delegate to StrictMath. However, if they do, the StrictMath implementation must of course provide the same error guarantee."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701080414,"post_id":77555495,"comment_id":136726304,"body_markdown":"Again, since Java 17, there is only the strict behaviour. See [JEP 306: Restore Always-Strict Floating-Point Semantics](https://openjdk.org/jeps/306), as far as I&#39;m aware that also means that `Math` and `StrictMath` should now always produce the exact same result.","body":"Again, since Java 17, there is only the strict behaviour. See <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEP 306: Restore Always-Strict Floating-Point Semantics</a>, as far as I&#39;m aware that also means that <code>Math</code> and <code>StrictMath</code> should now always produce the exact same result."},{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701081021,"post_id":77555495,"comment_id":136726407,"body_markdown":"I am currently using Java 11. I know about the strict behavior of Java 17 which makes the strictfp keyword obsolete. However, I have not yet found anything that states the equivalence of Math and StrictMath.","body":"I am currently using Java 11. I know about the strict behavior of Java 17 which makes the strictfp keyword obsolete. However, I have not yet found anything that states the equivalence of Math and StrictMath."},{"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"score":0,"creation_date":1701100395,"post_id":77555495,"comment_id":136730147,"body_markdown":"As Stephen C pointed out below, there is no reason to assume that `Math` and `StrictMath` will give the same result in Java 17.","body":"As Stephen C pointed out below, there is no reason to assume that <code>Math</code> and <code>StrictMath</code> will give the same result in Java 17."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701157831,"post_id":77555495,"comment_id":136737271,"body_markdown":"Given the implementation of `Math.exp` by default calls `StrictMath.exp`, I think it is safe to assume that it fulfills the requirements, otherwise `Math.exp` calling it would break its own contract.","body":"Given the implementation of <code>Math.exp</code> by default calls <code>StrictMath.exp</code>, I think it is safe to assume that it fulfills the requirements, otherwise <code>Math.exp</code> calling it would break its own contract."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701085585,"creation_date":1701083144,"answer_id":77556405,"question_id":77555495,"body_markdown":"&gt; Does the combination of all this information really imply that `StrictMath.exp` has the same error guarantee as `Math.exp`?\r\n\r\nOn the face of it&lt;sup&gt;1&lt;/sup&gt;, the error guarantee is the same; i.e. it is less than 1 ulp.  But that isn&#39;t the same as saying that the error is the same!\r\n\r\nThe point of using `StrictMath` was not to guarantee that the error was the absolute minimum possible.  Rather, the point was to guarantee *reproducible* results, independent of programming language, hardware implementation and so on.\r\n\r\nAnd the flip-side is that the `Math` methods are (still&lt;sup&gt;2&lt;/sup&gt;) not specified to produce bit-for-bit identical results to their `StrictMath` equivalents.  As the [javadoc][1] in Java 17 states:\r\n\r\n&gt; *&quot;Unlike some of the numeric methods of class `StrictMath`, all implementations of the equivalent functions of class `Math` are not defined to return the bit-for-bit same results. This relaxation permits better-performing implementations **where strict reproducibility is not required**.&quot;* \r\n\r\n---------------------\r\n\r\n&gt; However, I have not yet found anything that states the equivalence of `Math` and `StrictMath`.\r\n\r\nI don&#39;t think they are guaranteed to be equivalent: not in any version of Java.  Indeed, that would *contradict* the above javadoc quote. \r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - This is based on the text that you quoted in your question.&lt;br&gt;\r\n2 - While all floating point arithmetic operations in Java 17 and later have `strictfp` semantics (see [JEP 306][2]), this doesn&#39;t automatically extend to `Math`.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\r\n  [2]: https://openjdk.org/jeps/306","title":"Does the same error guarantee of Java&#39;s Math.exp also apply to StrictMath.exp?","body":"<blockquote>\n<p>Does the combination of all this information really imply that <code>StrictMath.exp</code> has the same error guarantee as <code>Math.exp</code>?</p>\n</blockquote>\n<p>On the face of it<sup>1</sup>, the error guarantee is the same; i.e. it is less than 1 ulp.  But that isn't the same as saying that the error is the same!</p>\n<p>The point of using <code>StrictMath</code> was not to guarantee that the error was the absolute minimum possible.  Rather, the point was to guarantee <em>reproducible</em> results, independent of programming language, hardware implementation and so on.</p>\n<p>And the flip-side is that the <code>Math</code> methods are (still<sup>2</sup>) not specified to produce bit-for-bit identical results to their <code>StrictMath</code> equivalents.  As the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\">javadoc</a> in Java 17 states:</p>\n<blockquote>\n<p><em>&quot;Unlike some of the numeric methods of class <code>StrictMath</code>, all implementations of the equivalent functions of class <code>Math</code> are not defined to return the bit-for-bit same results. This relaxation permits better-performing implementations <strong>where strict reproducibility is not required</strong>.&quot;</em></p>\n</blockquote>\n<hr />\n<blockquote>\n<p>However, I have not yet found anything that states the equivalence of <code>Math</code> and <code>StrictMath</code>.</p>\n</blockquote>\n<p>I don't think they are guaranteed to be equivalent: not in any version of Java.  Indeed, that would <em>contradict</em> the above javadoc quote.</p>\n<hr />\n<p><sup>1 - This is based on the text that you quoted in your question.<br>\n2 - While all floating point arithmetic operations in Java 17 and later have <code>strictfp</code> semantics (see <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEP 306</a>), this doesn't automatically extend to <code>Math</code>.</sup></p>\n"}],"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77556405,"answer_count":1,"score":1,"last_activity_date":1701085585,"creation_date":1701074294,"question_id":77555495,"body_markdown":"In Java, I need to compute `(int)Math.exp(x)` in a platform independent way. To achieve platform independency, I have to use StrictMath instead: `(int)StrictMath.exp(x)`. Unfortunately, my measurements have shown that `StrictMath.exp` is significantly slower than `Math.exp`.\r\n\r\nTherefore, I had the idea to compute `y = Math.exp(x)` first. [The interface of `Math.exp`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#exp(double)) states that\r\n\r\n&gt; The computed result must be within 1 ulp of the exact result. Results must be semi-monotonic.\r\n\r\nSo, if `(int)(Math.nextDown(y)) == (int)(Math.nextUp(y))`, I can use `(int)y` as result. Only in the very rare case that `(int)(StrictMath.nextDown(y)) != (int)(StrictMath.nextUp(y))` (the result is expected to be in the `int` range), I need to additionally evaluate `(int)StrictMath.exp(x)`. \r\n\r\nThis strategy would be correct if `StrictMath.exp` had the same error guarantees as `Math.exp`.\r\nUnfortunately, a corresponding statement is missing in the [`StrictMath.exp` interface](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StrictMath.html#exp(double)). [The javadoc of StrictMath](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StrictMath.html) just says\r\n\r\n&gt; To help ensure portability of Java programs, the definitions of some of the numeric functions in this package require that they produce the same results as certain published algorithms. These algorithms are available from the well-known network library netlib as the package &quot;Freely Distributable Math Library,&quot; fdlibm. These algorithms, which are written in the C programming language, are then to be understood as executed with all floating-point operations following the rules of Java floating-point arithmetic.\r\n&gt;\r\n&gt; The Java math library is defined with respect to fdlibm version 5.3. Where fdlibm provides more than one definition for a function (such as acos), use the &quot;IEEE 754 core function&quot; version (residing in a file whose name begins with the letter e). The methods which require fdlibm semantics are sin, cos, tan, asin, acos, atan, exp, log, log10, cbrt, atan2, pow, sinh, cosh, tanh, hypot, expm1, and log1p.\r\n\r\nFurthermore, the interface of the [exp function in the fdlibm library](https://www.netlib.org/fdlibm/e_exp.c) says that \r\n\r\n&gt; Accuracy: according to an error analysis, the error is always less than 1 ulp (unit in the last place).\r\n\r\nDoes the combination of all this information really imply that `StrictMath.exp` has the same error guarantee as `Math.exp`? Only a 100% guarantee would allow me to do the optimization described above.","title":"Does the same error guarantee of Java&#39;s Math.exp also apply to StrictMath.exp?","body":"<p>In Java, I need to compute <code>(int)Math.exp(x)</code> in a platform independent way. To achieve platform independency, I have to use StrictMath instead: <code>(int)StrictMath.exp(x)</code>. Unfortunately, my measurements have shown that <code>StrictMath.exp</code> is significantly slower than <code>Math.exp</code>.</p>\n<p>Therefore, I had the idea to compute <code>y = Math.exp(x)</code> first. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#exp(double)\" rel=\"nofollow noreferrer\">The interface of <code>Math.exp</code></a> states that</p>\n<blockquote>\n<p>The computed result must be within 1 ulp of the exact result. Results must be semi-monotonic.</p>\n</blockquote>\n<p>So, if <code>(int)(Math.nextDown(y)) == (int)(Math.nextUp(y))</code>, I can use <code>(int)y</code> as result. Only in the very rare case that <code>(int)(StrictMath.nextDown(y)) != (int)(StrictMath.nextUp(y))</code> (the result is expected to be in the <code>int</code> range), I need to additionally evaluate <code>(int)StrictMath.exp(x)</code>.</p>\n<p>This strategy would be correct if <code>StrictMath.exp</code> had the same error guarantees as <code>Math.exp</code>.\nUnfortunately, a corresponding statement is missing in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StrictMath.html#exp(double)\" rel=\"nofollow noreferrer\"><code>StrictMath.exp</code> interface</a>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StrictMath.html\" rel=\"nofollow noreferrer\">The javadoc of StrictMath</a> just says</p>\n<blockquote>\n<p>To help ensure portability of Java programs, the definitions of some of the numeric functions in this package require that they produce the same results as certain published algorithms. These algorithms are available from the well-known network library netlib as the package &quot;Freely Distributable Math Library,&quot; fdlibm. These algorithms, which are written in the C programming language, are then to be understood as executed with all floating-point operations following the rules of Java floating-point arithmetic.</p>\n<p>The Java math library is defined with respect to fdlibm version 5.3. Where fdlibm provides more than one definition for a function (such as acos), use the &quot;IEEE 754 core function&quot; version (residing in a file whose name begins with the letter e). The methods which require fdlibm semantics are sin, cos, tan, asin, acos, atan, exp, log, log10, cbrt, atan2, pow, sinh, cosh, tanh, hypot, expm1, and log1p.</p>\n</blockquote>\n<p>Furthermore, the interface of the <a href=\"https://www.netlib.org/fdlibm/e_exp.c\" rel=\"nofollow noreferrer\">exp function in the fdlibm library</a> says that</p>\n<blockquote>\n<p>Accuracy: according to an error analysis, the error is always less than 1 ulp (unit in the last place).</p>\n</blockquote>\n<p>Does the combination of all this information really imply that <code>StrictMath.exp</code> has the same error guarantee as <code>Math.exp</code>? Only a 100% guarantee would allow me to do the optimization described above.</p>\n"},{"tags":["java","date","format","java-time","java-10"],"comments":[{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1524408772,"post_id":49967139,"comment_id":86950178,"body_markdown":"It was a bug in Java 8: https://bugs.openjdk.java.net/browse/JDK-8031085. But it should be fixed in Java 9, so seeing it in Java 10 is surprising.","body":"It was a bug in Java 8: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8031085\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8031085</a>. But it should be fixed in Java 9, so seeing it in Java 10 is surprising."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1524408775,"post_id":49967139,"comment_id":86950181,"body_markdown":"It seems the parser is fine, otherwise it would not print anything at all, other than a parse error. Your problem seems to be in the default format for printing a `LocalDateTime`. You should format your print as well.","body":"It seems the parser is fine, otherwise it would not print anything at all, other than a parse error. Your problem seems to be in the default format for printing a <code>LocalDateTime</code>. You should format your print as well."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1524409065,"post_id":49967139,"comment_id":86950286,"body_markdown":"Your code executes just fine on my Java 9.","body":"Your code executes just fine on my Java 9."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524409097,"post_id":49967139,"comment_id":86950299,"body_markdown":"@OleV.V. I&#39;m using Java 10 it return `2018-03-01T09:16`","body":"@OleV.V. I&#39;m using Java 10 it return <code>2018-03-01T09:16</code>"},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1524463177,"post_id":49967139,"comment_id":86964415,"body_markdown":"I get the same result on both Java 9 and 10, @YCF_L. It is also the result that I expected. BTW, mynameisJeFF, what makes you think you have a problem? `2018-03-01T09:16:00.000` is ISO 8601, but so is `2018-03-01T09:16`, so any API that accepts the former, I would expect it to accept the latter too. Try and see if you’re not all fine.","body":"I get the same result on both Java 9 and 10, @YCF_L. It is also the result that I expected. BTW, mynameisJeFF, what makes you think you have a problem? <code>2018-03-01T09:16:00.000</code> is ISO 8601, but so is <code>2018-03-01T09:16</code>, so any API that accepts the former, I would expect it to accept the latter too. Try and see if you’re not all fine."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524467740,"post_id":49967139,"comment_id":86966581,"body_markdown":"@OleV.V. why `20180301091600001` return `2018-03-01T09:16:00.001` but `20180301091600000` return `2018-03-01T00:00` why its not return `2018-03-01T00:00:00.000`","body":"@OleV.V. why <code>20180301091600001</code> return <code>2018-03-01T09:16:00.001</code> but <code>20180301091600000</code> return <code>2018-03-01T00:00</code> why its not return <code>2018-03-01T00:00:00.000</code>"},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1524467899,"post_id":49967139,"comment_id":86966677,"body_markdown":"@YCF_L For brevity, I suppose (I didn’t design it). In `2018-03-01T00:00` it’s understood that the seconds and fraction of seconds are 0, so printing them is not needed. I think [Basil Bourque’s answer](https://stackoverflow.com/a/49971698/5772882) explains. BTW and for comparison, if you wanted to print the full precision of the `LocalDateTime` object, you would need `2018-03-01T00:00:00.000000000`.","body":"@YCF_L For brevity, I suppose (I didn’t design it). In <code>2018-03-01T00:00</code> it’s understood that the seconds and fraction of seconds are 0, so printing them is not needed. I think <a href=\"https://stackoverflow.com/a/49971698/5772882\">Basil Bourque’s answer</a> explains. BTW and for comparison, if you wanted to print the full precision of the <code>LocalDateTime</code> object, you would need <code>2018-03-01T00:00:00.000000000</code>."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1524468139,"post_id":49967139,"comment_id":86966812,"body_markdown":"@YCF_L Also remember that the `LocalDateTime` object doesn’t know (doesn’t remember) which string it was parsed from. It just holds a date and a time of day (with nanoseconds precision).","body":"@YCF_L Also remember that the <code>LocalDateTime</code> object doesn’t know (doesn’t remember) which string it was parsed from. It just holds a date and a time of day (with nanoseconds precision)."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1524468287,"post_id":49967139,"comment_id":86966891,"body_markdown":"@OleV.V. ok I agree it is not a bug, but the OP want to get `2018-03-01T09:16:00.000` instead of `2018-03-01T09:16` so I think my solution is correct no?","body":"@OleV.V. ok I agree it is not a bug, but the OP want to get <code>2018-03-01T09:16:00.000</code> instead of <code>2018-03-01T09:16</code> so I think my solution is correct no?"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1524468843,"creation_date":1524408840,"answer_id":49967274,"question_id":49967139,"body_markdown":"I&#39;m not sure why it&#39;s not work, &lt;s&gt;it seems it is a **bug** because&lt;/s&gt; when I use :\n\n    20180301091600001        result is      2018-03-01T09:16:00.001\n    ----------------^                       -----------------^^^^^^\n\nAlso another test :\n\n    2018030100000000         result is      2018-03-01T00:00\n    --------^^^-----                        -----------^^^^^^^^^^^\n\nIt seems that the parser ignore the **seconds** and **millisecond** when it is zero, why?\n\nThe full explanation **why?**, is in the answer of [Basil Bourque][1].\n\n---\n\n# Solution\n \nHere is a quick fix where you can use another formatter like this :\n\n    var result = LocalDateTime.parse(&quot;20180301091600000&quot;, dtformatter)\n                    .format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss:SSS&quot;));\n\n**Output**\n\n    2018-03-01T09:16:00:000\n\n\n  [1]: https://stackoverflow.com/a/49971698/5558072","title":"Java: DateTimeFormatter fail to parse time string when seconds and milliseconds are all 0s?","body":"<p>I'm not sure why it's not work, <s>it seems it is a <strong>bug</strong> because</s> when I use :</p>\n<pre><code>20180301091600001        result is      2018-03-01T09:16:00.001\n----------------^                       -----------------^^^^^^\n</code></pre>\n<p>Also another test :</p>\n<pre><code>2018030100000000         result is      2018-03-01T00:00\n--------^^^-----                        -----------^^^^^^^^^^^\n</code></pre>\n<p>It seems that the parser ignore the <strong>seconds</strong> and <strong>millisecond</strong> when it is zero, why?</p>\n<p>The full explanation <strong>why?</strong>, is in the answer of <a href=\"https://stackoverflow.com/a/49971698/5558072\">Basil Bourque</a>.</p>\n<hr />\n<h1>Solution</h1>\n<p>Here is a quick fix where you can use another formatter like this :</p>\n<pre><code>var result = LocalDateTime.parse(&quot;20180301091600000&quot;, dtformatter)\n                .format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss:SSS&quot;));\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>2018-03-01T09:16:00:000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524475252,"creation_date":1524439987,"answer_id":49971698,"question_id":49967139,"body_markdown":"# tl;dr\r\n\r\n&gt; where the seconds and millseconds are 00000 and this is when the parser fails\r\n\r\nNo, the parser succeeds. Your issue is with *generating* a String, not parsing.\r\n\r\nThe default `DateTimeFormatter` suppresses zero values in seconds and fractional second, [as documented][1].\r\n\r\n# Feature, not a bug\r\n\r\nYour problem is not in the parsing, but in the generating of a string *after* parsing. Keep in mind that the textual representation of a date-time object is distinct and separate from the object. In other words, a date-time object does not have a “format”. \r\n\r\n&gt;[String] --&gt; `parse` --&gt; [LocalDateTime] --&gt; `toString` --&gt; [String]\r\n\r\nThe documentation for [`LocalDateTime::toString`](https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()) clearly says that the shortest possible formatting variation will be used when encountering zero values in the least-significant parts. To quote:\r\n\r\n\r\n&gt;The output will be one of the following ISO-8601 formats:\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS\r\n\r\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS\r\n\r\n&gt;The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.\r\n\r\n## Examples\r\n\r\nRegarding two examples shown in [the accepted Answer by YCF_L][2]…\r\n\r\n&gt;20180301091600001        result is      2018-03-01T09:16:00.001\r\n\r\nIn that example, the least-significant part (millisecond) has a non-zero value, so it is represented in the result.\r\n\r\n&gt;2018030100000000         result is      2018-03-01T00:00\r\n\r\nIn that example, the least significant parts of hour, minute, second, milliseconds, microseconds, and nanoseconds are all zero. So their display is suppressed, except for hours and minutes as the documentation promises that year-minute is always displayed. \r\n\r\nSo both of your examples work as documented; feature, not a bug.\r\n\r\n\r\n# Solution\r\n\r\nThe solution is to not use the default formatter provided in the `toString` method. Instead, use another formatter. For example, use the same custom formatter you defined for parsing.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;yyyyMMddHHmmssSSS&quot; );\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;20180301091600000&quot; , f );\r\n\r\n    String outputDefault = ldt.toString();\r\n    String outputCustom = ldt.format( f );\r\n\r\nDump to console.\r\n\r\n    System.out.println( &quot;outputDefault: &quot; + outputDefault );\r\n    System.out.println( &quot;outputCustom: &quot; + outputCustom );\r\n\r\n&gt;outputDefault: 2018-03-01T09:16\r\n\r\n&gt;outputCustom: 20180301091600000\r\n\r\nThe Question asks:\r\n\r\n&gt;How can I fix it to make it print 2018-03-01T09:16:00.000 instead of 2018-03-01T09:16 ?\r\n\r\nSpecify a custom formatter instead of the default formatter.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss:SSS&quot;) ; \r\n    String output = ldt.format( f ) ;\r\n\r\nBut keep in mind your generated String will suppress display of any microseconds or nanoseconds in the `LocalDateTime` object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()\r\n  [2]: https://stackoverflow.com/a/49967274/642706","title":"Java: DateTimeFormatter fail to parse time string when seconds and milliseconds are all 0s?","body":"<h1>tl;dr</h1>\n\n<blockquote>\n  <p>where the seconds and millseconds are 00000 and this is when the parser fails</p>\n</blockquote>\n\n<p>No, the parser succeeds. Your issue is with <em>generating</em> a String, not parsing.</p>\n\n<p>The default <code>DateTimeFormatter</code> suppresses zero values in seconds and fractional second, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()\" rel=\"nofollow noreferrer\">as documented</a>.</p>\n\n<h1>Feature, not a bug</h1>\n\n<p>Your problem is not in the parsing, but in the generating of a string <em>after</em> parsing. Keep in mind that the textual representation of a date-time object is distinct and separate from the object. In other words, a date-time object does not have a “format”. </p>\n\n<blockquote>\n  <p>[String] --> <code>parse</code> --> [LocalDateTime] --> <code>toString</code> --> [String]</p>\n</blockquote>\n\n<p>The documentation for <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()\" rel=\"nofollow noreferrer\"><code>LocalDateTime::toString</code></a> clearly says that the shortest possible formatting variation will be used when encountering zero values in the least-significant parts. To quote:</p>\n\n<blockquote>\n  <p>The output will be one of the following ISO-8601 formats:</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm:ss</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm:ss.SSS</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm:ss.SSSSSS</p>\n  \n  <p>uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSS</p>\n  \n  <p>The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.</p>\n</blockquote>\n\n<h2>Examples</h2>\n\n<p>Regarding two examples shown in <a href=\"https://stackoverflow.com/a/49967274/642706\">the accepted Answer by YCF_L</a>…</p>\n\n<blockquote>\n  <p>20180301091600001        result is      2018-03-01T09:16:00.001</p>\n</blockquote>\n\n<p>In that example, the least-significant part (millisecond) has a non-zero value, so it is represented in the result.</p>\n\n<blockquote>\n  <p>2018030100000000         result is      2018-03-01T00:00</p>\n</blockquote>\n\n<p>In that example, the least significant parts of hour, minute, second, milliseconds, microseconds, and nanoseconds are all zero. So their display is suppressed, except for hours and minutes as the documentation promises that year-minute is always displayed. </p>\n\n<p>So both of your examples work as documented; feature, not a bug.</p>\n\n<h1>Solution</h1>\n\n<p>The solution is to not use the default formatter provided in the <code>toString</code> method. Instead, use another formatter. For example, use the same custom formatter you defined for parsing.</p>\n\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( \"yyyyMMddHHmmssSSS\" );\nLocalDateTime ldt = LocalDateTime.parse( \"20180301091600000\" , f );\n\nString outputDefault = ldt.toString();\nString outputCustom = ldt.format( f );\n</code></pre>\n\n<p>Dump to console.</p>\n\n<pre><code>System.out.println( \"outputDefault: \" + outputDefault );\nSystem.out.println( \"outputCustom: \" + outputCustom );\n</code></pre>\n\n<blockquote>\n  <p>outputDefault: 2018-03-01T09:16</p>\n  \n  <p>outputCustom: 20180301091600000</p>\n</blockquote>\n\n<p>The Question asks:</p>\n\n<blockquote>\n  <p>How can I fix it to make it print 2018-03-01T09:16:00.000 instead of 2018-03-01T09:16 ?</p>\n</blockquote>\n\n<p>Specify a custom formatter instead of the default formatter.</p>\n\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss:SSS\") ; \nString output = ldt.format( f ) ;\n</code></pre>\n\n<p>But keep in mind your generated String will suppress display of any microseconds or nanoseconds in the <code>LocalDateTime</code> object.</p>\n"},{"tags":[],"owner":{"account_id":3444158,"reputation":2729,"user_id":2885340,"accept_rate":23,"display_name":"Ankur Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701085088,"creation_date":1701085088,"answer_id":77556588,"question_id":49967139,"body_markdown":"@BasilBourque I have a further query on you above answer\r\n\r\nI have a date &quot;2023-12-10T00:00:00.000&quot; when we parse this in OffsetDateTime \r\nThe parsed OffsetDateTime object never have second and nanoseconds. can we somehow add seconds and nanos into OffsetDateTime object as well? \r\nPlease see the attached code snippet and debug info\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    private fun parse3(date:String) {\r\n        val ldt: LocalDateTime = LocalDateTime.parse(&quot;2023-12-10T00:00:00.000&quot;, df)\r\n        val odt = OffsetDateTime.of(ldt, ZoneOffset.of(&quot;+07:00&quot;))\r\n        val outputDefault = odt.toString()\r\n        val outputCustom = odt.format(df)\r\n\r\n        println( &quot;outputDefault: &quot; + outputDefault)\r\n        println( &quot;outputCustom: &quot; + outputCustom)\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1g2Wj.png","title":"Java: DateTimeFormatter fail to parse time string when seconds and milliseconds are all 0s?","body":"<p>@BasilBourque I have a further query on you above answer</p>\n<p>I have a date &quot;2023-12-10T00:00:00.000&quot; when we parse this in OffsetDateTime\nThe parsed OffsetDateTime object never have second and nanoseconds. can we somehow add seconds and nanos into OffsetDateTime object as well?\nPlease see the attached code snippet and debug info</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>private fun parse3(date:String) {\n    val ldt: LocalDateTime = LocalDateTime.parse(\"2023-12-10T00:00:00.000\", df)\n    val odt = OffsetDateTime.of(ldt, ZoneOffset.of(\"+07:00\"))\n    val outputDefault = odt.toString()\n    val outputCustom = odt.format(df)\n\n    println( \"outputDefault: \" + outputDefault)\n    println( \"outputCustom: \" + outputCustom)\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://i.stack.imgur.com/1g2Wj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1g2Wj.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2065553,"reputation":4113,"user_id":1841131,"accept_rate":67,"display_name":"mynameisJEFF"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4374,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49967274,"answer_count":3,"score":8,"last_activity_date":1701085088,"creation_date":1524408039,"question_id":49967139,"body_markdown":"Basically, I am using the following code to parse string as LocalDateTime, which works fine most of the time. \r\n\r\n    DateTimeFormatter dtformatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmssSSS&quot;);\r\n\r\n\t\t    \r\nHowever, I encounter cases where the seconds and millseconds are `00000` and this is when the parser fails and print a `LocalDateTime` `2018-03-01T09:16` instead of `2018-03-01T09:16:00.000`.\r\n\r\n    System.out.println(LocalDateTime.parse(&quot;20180301091600000&quot;,dtformatter));\r\n\r\n(Note that in my code, I have to parse string as `LocalDateTime`, do some comparison and then at the end, print `LocalDateTime` to csv)\r\n\r\nHow can I fix it to make it print `2018-03-01T09:16:00.000` instead of `2018-03-01T09:16` ?\r\n\r\nFYI, I am using jdk10.\r\n","title":"Java: DateTimeFormatter fail to parse time string when seconds and milliseconds are all 0s?","body":"<p>Basically, I am using the following code to parse string as LocalDateTime, which works fine most of the time. </p>\n\n<pre><code>DateTimeFormatter dtformatter = DateTimeFormatter.ofPattern(\"yyyyMMddHHmmssSSS\");\n</code></pre>\n\n<p>However, I encounter cases where the seconds and millseconds are <code>00000</code> and this is when the parser fails and print a <code>LocalDateTime</code> <code>2018-03-01T09:16</code> instead of <code>2018-03-01T09:16:00.000</code>.</p>\n\n<pre><code>System.out.println(LocalDateTime.parse(\"20180301091600000\",dtformatter));\n</code></pre>\n\n<p>(Note that in my code, I have to parse string as <code>LocalDateTime</code>, do some comparison and then at the end, print <code>LocalDateTime</code> to csv)</p>\n\n<p>How can I fix it to make it print <code>2018-03-01T09:16:00.000</code> instead of <code>2018-03-01T09:16</code> ?</p>\n\n<p>FYI, I am using jdk10.</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","z-index"],"comments":[{"owner":{"account_id":1642711,"reputation":19832,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1701085422,"post_id":77556567,"comment_id":136727084,"body_markdown":"Is it actually added or is it simply made visible?","body":"Is it actually added or is it simply made visible?"},{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":1,"creation_date":1701085706,"post_id":77556567,"comment_id":136727129,"body_markdown":"Can you provide the code of your layout?","body":"Can you provide the code of your layout?"},{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1701086726,"post_id":77556567,"comment_id":136727312,"body_markdown":"@Ivo It&#39;s actually added","body":"@Ivo It&#39;s actually added"},{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1701086752,"post_id":77556567,"comment_id":136727316,"body_markdown":"@MikhailGuliaev sorry, due to some constraits, can&#39;t provide the code","body":"@MikhailGuliaev sorry, due to some constraits, can&#39;t provide the code"},{"owner":{"account_id":25285238,"reputation":405,"user_id":19112370,"display_name":"Harshali"},"score":1,"creation_date":1701090394,"post_id":77556567,"comment_id":136727967,"body_markdown":"@Jatinguglani, Without XML code and knowing layout properties it&#39;s hard to tell what&#39;s the solution.","body":"@Jatinguglani, Without XML code and knowing layout properties it&#39;s hard to tell what&#39;s the solution."}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1701084879,"creation_date":1701084879,"question_id":77556567,"body_markdown":"I have programatically created the following layout using absolute positioning:-\r\n \r\n[![enter image description here][1]][1]\r\n\r\nWhen user enters 3 or more characters in the EditView (TextEdit: 107), a Selection List(RecyclerView) will appear below the Editview. \r\nBut the button is overlapping the RecyclerView as shown:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UVpKwl.png\r\n  [2]: https://i.stack.imgur.com/sHrvSl.png\r\n\r\nNow, According the my understanding if the position of views overlaps then they appears in in the order they have been generated i.e. added to the parent view. So acc. to that RecyclerView that&#39;s added to the RelativeLayout at last should have overlapped the button and the button should be hidden below it. but that&#39;s not happening, could someone explain the reason behind this? ","title":"Previously created view(Button) is overlapping the newly generated View(RecyclerView)","body":"<p>I have programatically created the following layout using absolute positioning:-</p>\n<p><a href=\"https://i.stack.imgur.com/UVpKwl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UVpKwl.png\" alt=\"enter image description here\" /></a></p>\n<p>When user enters 3 or more characters in the EditView (TextEdit: 107), a Selection List(RecyclerView) will appear below the Editview.\nBut the button is overlapping the RecyclerView as shown:-</p>\n<p><a href=\"https://i.stack.imgur.com/sHrvSl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sHrvSl.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, According the my understanding if the position of views overlaps then they appears in in the order they have been generated i.e. added to the parent view. So acc. to that RecyclerView that's added to the RelativeLayout at last should have overlapped the button and the button should be hidden below it. but that's not happening, could someone explain the reason behind this?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1701085262,"post_id":77556542,"comment_id":136727062,"body_markdown":"Those are milliseconds. The difference of them tells you how many milliseconds there are between start and end. 1,000 ms is one second, 60 seconds is one minute, 60 minutes is one hour, 24 hours is one day and 7 days is a week. So, the difference between these two values divided by (7*24*60*60*1000) should give you the number of weeks between the two.","body":"Those are milliseconds. The difference of them tells you how many milliseconds there are between start and end. 1,000 ms is one second, 60 seconds is one minute, 60 minutes is one hour, 24 hours is one day and 7 days is a week. So, the difference between these two values divided by (7*24*60*60*1000) should give you the number of weeks between the two."},{"owner":{"account_id":19409314,"reputation":1,"user_id":14194027,"display_name":"Pranav Girwalkar"},"score":0,"creation_date":1701094293,"post_id":77556542,"comment_id":136728708,"body_markdown":"I don&#39;t want number of weeks in between, I want week wise seconds","body":"I don&#39;t want number of weeks in between, I want week wise seconds"},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1701171509,"post_id":77556542,"comment_id":136739679,"body_markdown":"Can you explain what week wise seconds are?","body":"Can you explain what week wise seconds are?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1701184792,"post_id":77556542,"comment_id":136742262,"body_markdown":"@vatbub I think he wants a breakdown by week of how many seconds there are between the two instants. Something like what he showed on his example that I now understand (Week 48 = X seconds, Week 49 seconds = Y seconds etc.)","body":"@vatbub I think he wants a breakdown by week of how many seconds there are between the two instants. Something like what he showed on his example that I now understand (Week 48 = X seconds, Week 49 seconds = Y seconds etc.)"},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1701208986,"post_id":77556542,"comment_id":136746583,"body_markdown":"Ok, then the next question: What are `startEpoch` and `endEpoch`? Is it unix time? Is it something else? And if you are right @MatteoNNZ , wouldn&#39;t that then just be 7*24*60*60 for all whole weeks plus how many seconds are in the starting and in the ending week?","body":"Ok, then the next question: What are <code>startEpoch</code> and <code>endEpoch</code>? Is it unix time? Is it something else? And if you are right @MatteoNNZ , wouldn&#39;t that then just be 7*24*60*60 for all whole weeks plus how many seconds are in the starting and in the ending week?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1701212213,"post_id":77556542,"comment_id":136747039,"body_markdown":"@vatbub I think what he needs to do is: 1) determine in which week (of the year, I guess?) fall the start and end dates; 2) identify the beginning of each week; 3) split the total seconds between end and start into those buckets.","body":"@vatbub I think what he needs to do is: 1) determine in which week (of the year, I guess?) fall the start and end dates; 2) identify the beginning of each week; 3) split the total seconds between end and start into those buckets."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1701250746,"post_id":77556542,"comment_id":136751277,"body_markdown":"That sounds reasonable, but either way, we need confirmation from @PranavGirwalkar , otherwise this is all guesswork :)","body":"That sounds reasonable, but either way, we need confirmation from @PranavGirwalkar , otherwise this is all guesswork :)"},{"owner":{"account_id":19409314,"reputation":1,"user_id":14194027,"display_name":"Pranav Girwalkar"},"score":0,"creation_date":1701260063,"post_id":77556542,"comment_id":136753051,"body_markdown":"Yes, @MatteoNNZ you are right, you elaborated my problem exactly. startEpoch and endEpoch are Unix times.","body":"Yes, @MatteoNNZ you are right, you elaborated my problem exactly. startEpoch and endEpoch are Unix times."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1701260130,"post_id":77556542,"comment_id":136753068,"body_markdown":"@PranavGirwalkar you should try to write some code yourself and then ask for help if you&#39;re stuck on a specific issue. In my comment I gave you some tips of how you may split your problem into sub-problems and try to implement them.","body":"@PranavGirwalkar you should try to write some code yourself and then ask for help if you&#39;re stuck on a specific issue. In my comment I gave you some tips of how you may split your problem into sub-problems and try to implement them."},{"owner":{"account_id":19409314,"reputation":1,"user_id":14194027,"display_name":"Pranav Girwalkar"},"score":0,"creation_date":1701269859,"post_id":77556542,"comment_id":136755077,"body_markdown":"@MatteoNNZ sure, actually I&#39;m trying it in parallel. Thank you &#128591;","body":"@MatteoNNZ sure, actually I&#39;m trying it in parallel. Thank you 🙏"}],"owner":{"account_id":19409314,"reputation":1,"user_id":14194027,"display_name":"Pranav Girwalkar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701084648,"creation_date":1701084648,"question_id":77556542,"body_markdown":"I&#39;ve an input of 2 epoch dates and I want to calculate week wise duration between this time frame\r\nfor example:\r\nInput:\r\nlong startEpoch = 1701054000;\r\nlong endEpoch = 1701054000;\r\n\r\nExpected output:\r\nW48 - X seconds\r\nW49 - Y seconds\r\nW50 - Z seconds \r\nand so on\r\n\r\nI don&#39;t know, where to start","title":"how to calculate Week wise duration in seconds between two epoch times in java?","body":"<p>I've an input of 2 epoch dates and I want to calculate week wise duration between this time frame\nfor example:\nInput:\nlong startEpoch = 1701054000;\nlong endEpoch = 1701054000;</p>\n<p>Expected output:\nW48 - X seconds\nW49 - Y seconds\nW50 - Z seconds\nand so on</p>\n<p>I don't know, where to start</p>\n"},{"tags":["java","android","android-billing","play-billing-library"],"answers":[{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701082857,"creation_date":1701082857,"answer_id":77556370,"question_id":77553433,"body_markdown":"Check Acknowledgment Status Before Processing:\r\n\r\n    @Override\r\n    public void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\r\n        for (PurchaseInfo purchaseInfo : purchases) {\r\n            String purchasedProduct = purchaseInfo.getProduct();\r\n            if (!isPro() &amp;&amp; purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n                if (!billingConnector.isPurchasedItemAcknowledged(purchaseInfo)) {\r\n                    // here is the code of purchase processing\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAlso move the acknowledgment logic from the onPurchaseAcknowledged method to the onPurchasedProductsFetched method. This might be helpful.\r\n\r\n\r\n    @Override\r\n    public void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\r\n        for (PurchaseInfo purchaseInfo : purchases) {\r\n            String purchasedProduct = purchaseInfo.getProduct();\r\n            if (!isPro() &amp;&amp; purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n                // here is the code of purchase processing\r\n                handlePurchase(purchaseInfo);\r\n            }\r\n        }\r\n    }\r\n    \r\n    private void handlePurchase(PurchaseInfo purchaseInfo) {\r\n        String acknowledgedProduct = purchaseInfo.getProduct();\r\n        if (acknowledgedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n            Toast.makeText(InfoController.this, &quot;The purchase was successfully made.&quot;, Toast.LENGTH_SHORT).show();\r\n            setProUser(true);\r\n            upgradeButton.setEnabled(false);\r\n            upgradeButton.setText(&quot;User is Pro&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Android Studio Java - In app purchase bugs/issue","body":"<p>Check Acknowledgment Status Before Processing:</p>\n<pre><code>@Override\npublic void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\n    for (PurchaseInfo purchaseInfo : purchases) {\n        String purchasedProduct = purchaseInfo.getProduct();\n        if (!isPro() &amp;&amp; purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n            if (!billingConnector.isPurchasedItemAcknowledged(purchaseInfo)) {\n                // here is the code of purchase processing\n            }\n        }\n    }\n}\n</code></pre>\n<p>Also move the acknowledgment logic from the onPurchaseAcknowledged method to the onPurchasedProductsFetched method. This might be helpful.</p>\n<pre><code>@Override\npublic void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\n    for (PurchaseInfo purchaseInfo : purchases) {\n        String purchasedProduct = purchaseInfo.getProduct();\n        if (!isPro() &amp;&amp; purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n            // here is the code of purchase processing\n            handlePurchase(purchaseInfo);\n        }\n    }\n}\n\nprivate void handlePurchase(PurchaseInfo purchaseInfo) {\n    String acknowledgedProduct = purchaseInfo.getProduct();\n    if (acknowledgedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n        Toast.makeText(InfoController.this, &quot;The purchase was successfully made.&quot;, Toast.LENGTH_SHORT).show();\n        setProUser(true);\n        upgradeButton.setEnabled(false);\n        upgradeButton.setText(&quot;User is Pro&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28627688,"reputation":11,"user_id":21919351,"display_name":"Alexandra Nicole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701084648,"creation_date":1701031536,"question_id":77553433,"body_markdown":"In my app I am adding In App Purchase using [this][1] library.\r\n\r\nThis is what my activity code looks like:\r\n    \r\n    public class InfoController extends AppCompatActivity {\r\n    \r\n        private static final String PREFS_NAME = &quot;TEST_MyPrefsFile&quot;;\r\n    \r\n        private static final String FIRST_TIME_KEY = &quot;TEST_isFirstLaunch&quot;;\r\n    \r\n        private static final String IS_PRO_KEY = &quot;TEST_isPro&quot;;\r\n        private boolean isPro() {\r\n            SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n            return preferences.getBoolean(IS_PRO_KEY, false);\r\n        }\r\n    \r\n        private void setProUser(boolean isPro) {\r\n            SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = preferences.edit();\r\n            editor.putBoolean(IS_PRO_KEY, isPro);\r\n            editor.apply();\r\n        }\r\n    \r\n        private Button upgradeButton;\r\n    \r\n        String base64String = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\n    \r\n        private BillingConnector billingConnector;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_info);\r\n    \r\n            upgradeButton = findViewById(R.id.upgradeButton);\r\n    \r\n            if (!isPro()) {\r\n                upgradeButton.setText(&quot;Click here to upgrade to Pro&quot;);\r\n                initializeBillingClient();\r\n            } else {\r\n                upgradeButton.setEnabled(false);\r\n                upgradeButton.setText(&quot;User is Pro&quot;);\r\n            }\r\n        }\r\n    \r\n    \r\n        private void initializeBillingClient() {\r\n            List&lt;String&gt; nonConsumableIds = new ArrayList&lt;&gt;();\r\n            nonConsumableIds.add(&quot;com.xxxx.pro&quot;);  // Replace with your actual non-consumable product ID\r\n    \r\n            billingConnector = new BillingConnector(this, base64String)\r\n                    .setNonConsumableIds(nonConsumableIds)\r\n                    .autoAcknowledge()\r\n                    .enableLogging()\r\n                    .connect();\r\n    \r\n            billingConnector.setBillingEventListener(new BillingEventListener() {\r\n                @Override\r\n                public void onProductsFetched(@NonNull List&lt;ProductInfo&gt; productDetails) {\r\n    \r\n                }\r\n    \r\n                //this IS the listener in which we can restore previous purchases.\r\n                // Code will execute on InfoController.java appear. If pro is already purchased, unlock pro features.\r\n                @Override\r\n                public void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\r\n                    String purchasedProduct;\r\n                    boolean isAcknowledged;\r\n    \r\n                    for (PurchaseInfo purchaseInfo : purchases) {\r\n                        purchasedProduct = purchaseInfo.getProduct();\r\n                        isAcknowledged = purchaseInfo.isAcknowledged();\r\n    \r\n                        if (!isPro()) {\r\n                            if (purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n                                if (isAcknowledged) {\r\n    \r\n                                    // CustomToast.makeText(InfoController.this, &quot;The previous purchase was successfully restored.&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                                    // setProUser(true);\r\n    \r\n                                    Toast.makeText(InfoController.this, &quot;isAcknowledged&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                //this IS NOT the listener in which we&#39;ll give user entitlement for purchases (see ReadMe.md why)\r\n                @Override\r\n                public void onProductsPurchased(@NonNull List&lt;PurchaseInfo&gt; purchases) {\r\n    \r\n                }\r\n    \r\n                //this IS the listener in which we&#39;ll give user entitlement for purchases (the ReadMe.md explains why)\r\n                @Override\r\n                public void onPurchaseAcknowledged(@NonNull PurchaseInfo purchase) {\r\n                    String acknowledgedProduct = purchase.getProduct();\r\n    \r\n                    if (acknowledgedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\r\n    \r\n                        Toast.makeText(InfoController.this, &quot;The purchase was successfully made.&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                        setProUser(true);\r\n    \r\n                        upgradeButton.setEnabled(false);\r\n                        upgradeButton.setText(&quot;User is Pro&quot;);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onPurchaseConsumed(@NonNull PurchaseInfo purchase) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onBillingError(@NonNull BillingConnector billingConnector, @NonNull BillingResponse response) {\r\n                    switch (response.getErrorType()) {\r\n                        case ACKNOWLEDGE_WARNING:\r\n                            //this response will be triggered when the purchase is still PENDING\r\n                            CustomToast.makeText(InfoController.this, &quot;The transaction is still pending. Please come back later to receive the purchase!&quot;, Toast.LENGTH_SHORT).show();\r\n                            break;\r\n                        case BILLING_UNAVAILABLE:\r\n                        case SERVICE_UNAVAILABLE:\r\n                            CustomToast.makeText(InfoController.this, &quot;Billing is unavailable at the moment. Check your internet connection!&quot;, Toast.LENGTH_SHORT).show();\r\n                            break;\r\n                        case ERROR:\r\n                            CustomToast.makeText(InfoController.this, &quot;Something happened, the transaction was canceled!&quot;, Toast.LENGTH_SHORT).show();\r\n                            break;\r\n                        case ITEM_ALREADY_OWNED:\r\n                            Toast.makeText(InfoController.this, &quot;The purchase has already been made.&quot;, Toast.LENGTH_SHORT).show();\r\n                            setProUser(true);\r\n                            upgradeButton.setEnabled(false);\r\n                            upgradeButton.setText(&quot;User is Pro&quot;);\r\n                                break;\r\n                        case ITEM_NOT_OWNED:\r\n                            //TODO - failure to consume since item is not owned\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void onUpgradeButtonClick(View view) {\r\n            billingConnector.purchase(InfoController.this, &quot;com.xxxx.pro&quot;);\r\n        }\r\n    }\r\n\r\nWhen I am testing in app purchase I am using promo codes (since I do not have a card connected to my account).\r\n\r\nSo when I open up this activity, nothing shows up. I press the `upgradeButton`, the upgrade prompt pops up, I select promo code and type in the promo code, click next and it tells me that the price is 0 and I press confirm. After this, the purchase prompt window just closes and nothing happens. No Toast message shows up, the upgradeButton text still says: `Click here to upgrade to Pro`.\r\n\r\nIf I now close the app, open it back up and go to the InfoController (this activity), the Toast message `isAcknowledged` shows up.\r\n\r\nSo my question is: How come nothing happens after the purchase is done, but when I open up the activity again after the purchase, it shows `isAcknowledged`?\r\n\r\n\r\n  [1]: https://github.com/moisoni97/google-inapp-billing","title":"Android Studio Java - In app purchase bugs/issue","body":"<p>In my app I am adding In App Purchase using <a href=\"https://github.com/moisoni97/google-inapp-billing\" rel=\"nofollow noreferrer\">this</a> library.</p>\n<p>This is what my activity code looks like:</p>\n<pre><code>public class InfoController extends AppCompatActivity {\n\n    private static final String PREFS_NAME = &quot;TEST_MyPrefsFile&quot;;\n\n    private static final String FIRST_TIME_KEY = &quot;TEST_isFirstLaunch&quot;;\n\n    private static final String IS_PRO_KEY = &quot;TEST_isPro&quot;;\n    private boolean isPro() {\n        SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\n        return preferences.getBoolean(IS_PRO_KEY, false);\n    }\n\n    private void setProUser(boolean isPro) {\n        SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = preferences.edit();\n        editor.putBoolean(IS_PRO_KEY, isPro);\n        editor.apply();\n    }\n\n    private Button upgradeButton;\n\n    String base64String = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\n\n    private BillingConnector billingConnector;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_info);\n\n        upgradeButton = findViewById(R.id.upgradeButton);\n\n        if (!isPro()) {\n            upgradeButton.setText(&quot;Click here to upgrade to Pro&quot;);\n            initializeBillingClient();\n        } else {\n            upgradeButton.setEnabled(false);\n            upgradeButton.setText(&quot;User is Pro&quot;);\n        }\n    }\n\n\n    private void initializeBillingClient() {\n        List&lt;String&gt; nonConsumableIds = new ArrayList&lt;&gt;();\n        nonConsumableIds.add(&quot;com.xxxx.pro&quot;);  // Replace with your actual non-consumable product ID\n\n        billingConnector = new BillingConnector(this, base64String)\n                .setNonConsumableIds(nonConsumableIds)\n                .autoAcknowledge()\n                .enableLogging()\n                .connect();\n\n        billingConnector.setBillingEventListener(new BillingEventListener() {\n            @Override\n            public void onProductsFetched(@NonNull List&lt;ProductInfo&gt; productDetails) {\n\n            }\n\n            //this IS the listener in which we can restore previous purchases.\n            // Code will execute on InfoController.java appear. If pro is already purchased, unlock pro features.\n            @Override\n            public void onPurchasedProductsFetched(@NonNull ProductType productType, @NonNull List&lt;PurchaseInfo&gt; purchases) {\n                String purchasedProduct;\n                boolean isAcknowledged;\n\n                for (PurchaseInfo purchaseInfo : purchases) {\n                    purchasedProduct = purchaseInfo.getProduct();\n                    isAcknowledged = purchaseInfo.isAcknowledged();\n\n                    if (!isPro()) {\n                        if (purchasedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n                            if (isAcknowledged) {\n\n                                // CustomToast.makeText(InfoController.this, &quot;The previous purchase was successfully restored.&quot;, Toast.LENGTH_SHORT).show();\n\n                                // setProUser(true);\n\n                                Toast.makeText(InfoController.this, &quot;isAcknowledged&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }\n                }\n            }\n\n            //this IS NOT the listener in which we'll give user entitlement for purchases (see ReadMe.md why)\n            @Override\n            public void onProductsPurchased(@NonNull List&lt;PurchaseInfo&gt; purchases) {\n\n            }\n\n            //this IS the listener in which we'll give user entitlement for purchases (the ReadMe.md explains why)\n            @Override\n            public void onPurchaseAcknowledged(@NonNull PurchaseInfo purchase) {\n                String acknowledgedProduct = purchase.getProduct();\n\n                if (acknowledgedProduct.equalsIgnoreCase(&quot;com.xxxx.pro&quot;)) {\n\n                    Toast.makeText(InfoController.this, &quot;The purchase was successfully made.&quot;, Toast.LENGTH_SHORT).show();\n\n                    setProUser(true);\n\n                    upgradeButton.setEnabled(false);\n                    upgradeButton.setText(&quot;User is Pro&quot;);\n                }\n            }\n\n            @Override\n            public void onPurchaseConsumed(@NonNull PurchaseInfo purchase) {\n\n            }\n\n            @Override\n            public void onBillingError(@NonNull BillingConnector billingConnector, @NonNull BillingResponse response) {\n                switch (response.getErrorType()) {\n                    case ACKNOWLEDGE_WARNING:\n                        //this response will be triggered when the purchase is still PENDING\n                        CustomToast.makeText(InfoController.this, &quot;The transaction is still pending. Please come back later to receive the purchase!&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case BILLING_UNAVAILABLE:\n                    case SERVICE_UNAVAILABLE:\n                        CustomToast.makeText(InfoController.this, &quot;Billing is unavailable at the moment. Check your internet connection!&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case ERROR:\n                        CustomToast.makeText(InfoController.this, &quot;Something happened, the transaction was canceled!&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case ITEM_ALREADY_OWNED:\n                        Toast.makeText(InfoController.this, &quot;The purchase has already been made.&quot;, Toast.LENGTH_SHORT).show();\n                        setProUser(true);\n                        upgradeButton.setEnabled(false);\n                        upgradeButton.setText(&quot;User is Pro&quot;);\n                            break;\n                    case ITEM_NOT_OWNED:\n                        //TODO - failure to consume since item is not owned\n                        break;\n                }\n            }\n        });\n    }\n\n    public void onUpgradeButtonClick(View view) {\n        billingConnector.purchase(InfoController.this, &quot;com.xxxx.pro&quot;);\n    }\n}\n</code></pre>\n<p>When I am testing in app purchase I am using promo codes (since I do not have a card connected to my account).</p>\n<p>So when I open up this activity, nothing shows up. I press the <code>upgradeButton</code>, the upgrade prompt pops up, I select promo code and type in the promo code, click next and it tells me that the price is 0 and I press confirm. After this, the purchase prompt window just closes and nothing happens. No Toast message shows up, the upgradeButton text still says: <code>Click here to upgrade to Pro</code>.</p>\n<p>If I now close the app, open it back up and go to the InfoController (this activity), the Toast message <code>isAcknowledged</code> shows up.</p>\n<p>So my question is: How come nothing happens after the purchase is done, but when I open up the activity again after the purchase, it shows <code>isAcknowledged</code>?</p>\n"},{"tags":["java","android","cordova","timertask"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1701085216,"post_id":77556533,"comment_id":136727054,"body_markdown":"Nothing glaringly wrong with the code, it should execute every 5 seconds as expected. Could `callbackContext.sendPluginResult()` throw an exception? I can&#39;t think of anything else disrupting the task.","body":"Nothing glaringly wrong with the code, it should execute every 5 seconds as expected. Could <code>callbackContext.sendPluginResult()</code> throw an exception? I can&#39;t think of anything else disrupting the task."},{"owner":{"account_id":1305423,"reputation":6357,"user_id":1254512,"accept_rate":73,"display_name":"Fustigador"},"score":0,"creation_date":1701085555,"post_id":77556533,"comment_id":136727104,"body_markdown":"I am scratching my head...can&#39;t find why is not working.","body":"I am scratching my head...can&#39;t find why is not working."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1701087475,"post_id":77556533,"comment_id":136727437,"body_markdown":"Try printing a message instead of sending a plugin result. Its possible that might be causing an issue.","body":"Try printing a message instead of sending a plugin result. Its possible that might be causing an issue."},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1701097538,"post_id":77556533,"comment_id":136729422,"body_markdown":"The behavior would be expected if `sendPluginResult` or one of the other calls in the `run()` method do not return (block execution). The timer will wait for the first TimerTask to finish before the second is executed, even if it is already time to execute it.","body":"The behavior would be expected if <code>sendPluginResult</code> or one of the other calls in the <code>run()</code> method do not return (block execution). The timer will wait for the first TimerTask to finish before the second is executed, even if it is already time to execute it."}],"owner":{"account_id":1305423,"reputation":6357,"user_id":1254512,"accept_rate":73,"display_name":"Fustigador"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701084541,"creation_date":1701084541,"question_id":77556533,"body_markdown":"I need to return the result of a recurring code to Cordova. The code is this:\r\n\r\n    private void startAsking() {\r\n\r\n        t = new Timer();\r\n        t.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                \r\n                    callbackContext.sendPluginResult(new PluginResult(PluginResult.Status.OK, &quot;OK&quot;));\r\n                \r\n\r\n            }\r\n        }, 0, 5000);\r\n\r\n    }\r\n\r\nThis code should run every 5 seconds, if I am not mistaken, but is only sent once to Cordova. Am I doing something wrong?","title":"TimerTask only returns once","body":"<p>I need to return the result of a recurring code to Cordova. The code is this:</p>\n<pre><code>private void startAsking() {\n\n    t = new Timer();\n    t.schedule(new TimerTask() {\n        @Override\n        public void run() {\n            \n                callbackContext.sendPluginResult(new PluginResult(PluginResult.Status.OK, &quot;OK&quot;));\n            \n\n        }\n    }, 0, 5000);\n\n}\n</code></pre>\n<p>This code should run every 5 seconds, if I am not mistaken, but is only sent once to Cordova. Am I doing something wrong?</p>\n"},{"tags":["java","android","kotlin","multi-module","kotlin-java-interop"],"comments":[{"owner":{"account_id":23390934,"reputation":11,"user_id":17455594,"display_name":"Seong"},"score":0,"creation_date":1701084835,"post_id":77556515,"comment_id":136727002,"body_markdown":"In fact, I have some interface implements `LifecycleOwner` (simply call Foo). Few days ago, I converted `AFragment extends Fragment implements Foo` to kotlin code. And then `AFragment` warns like avobe. Since my project has dependencies for &#39;androidx.lifecycle:lifecycle-common:2.5.0&#39; and &#39;androidx.lifecycle:lifecycle-common:2.6.1&#39; both.","body":"In fact, I have some interface implements <code>LifecycleOwner</code> (simply call Foo). Few days ago, I converted <code>AFragment extends Fragment implements Foo</code> to kotlin code. And then <code>AFragment</code> warns like avobe. Since my project has dependencies for &#39;androidx.lifecycle:lifecycle-common:2.5.0&#39; and &#39;androidx.lifecycle:lifecycle-common:2.6.1&#39; both."}],"owner":{"account_id":23390934,"reputation":11,"user_id":17455594,"display_name":"Seong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701084354,"creation_date":1701084354,"question_id":77556515,"body_markdown":"This is sample code for multi-module project of mine.\r\n\r\nModule A\r\n```java\r\n// Test.java\r\npackage com.test\r\n\r\npublic interface Test {\r\n  @NonNull\r\n  String getTestName();\r\n}\r\n```\r\n\r\nModule B\r\n```kotlin\r\n// Test.kt\r\npackage com.test\r\n\r\ninterface Test {\r\n  val testName: String\r\n}\r\n```\r\n```java\r\n// ATest.java\r\npackage com.test.impl\r\n\r\npublic class ATest implements Test {\r\n  @NonNull\r\n  @Override\r\n  public String getTestName() {\r\n    return &quot;It`s ATest&quot;;\r\n  }\r\n}\r\n```\r\n```kotlin\r\n// BTest.kt\r\npackage com.test.impl\r\n\r\ninterface BTest : Test\r\n```\r\n```\r\n// FinalTest.kt\r\npackage com.test.impl\r\n\r\nclass FinalTest : ATest(), BTest\r\n```\r\n\r\nFor `FinalTest`, IDE warns that `Class &#39;FinalTest&#39; is not abstract and does not implement abstract member public abstract val testName: String defined in com.test.impl.BTest`. But it works without compliation error. What should I do to remove that waring.\r\n\r\n&gt; I know a simple way is remove Test in Module A. But, assume there is some reason, so that we can&#39;t edit ATest or Test in Module A\r\n\r\nI want use `FinalTest` without warning","title":"(AndroidStudio)Fix not Implemented exception when using Java and Kotlin in multi-module project","body":"<p>This is sample code for multi-module project of mine.</p>\n<p>Module A</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Test.java\npackage com.test\n\npublic interface Test {\n  @NonNull\n  String getTestName();\n}\n</code></pre>\n<p>Module B</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Test.kt\npackage com.test\n\ninterface Test {\n  val testName: String\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// ATest.java\npackage com.test.impl\n\npublic class ATest implements Test {\n  @NonNull\n  @Override\n  public String getTestName() {\n    return &quot;It`s ATest&quot;;\n  }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// BTest.kt\npackage com.test.impl\n\ninterface BTest : Test\n</code></pre>\n<pre><code>// FinalTest.kt\npackage com.test.impl\n\nclass FinalTest : ATest(), BTest\n</code></pre>\n<p>For <code>FinalTest</code>, IDE warns that <code>Class 'FinalTest' is not abstract and does not implement abstract member public abstract val testName: String defined in com.test.impl.BTest</code>. But it works without compliation error. What should I do to remove that waring.</p>\n<blockquote>\n<p>I know a simple way is remove Test in Module A. But, assume there is some reason, so that we can't edit ATest or Test in Module A</p>\n</blockquote>\n<p>I want use <code>FinalTest</code> without warning</p>\n"},{"tags":["java","soap","digital-signature","x509certificate","soap-client"],"owner":{"account_id":12696165,"reputation":27,"user_id":9224530,"display_name":"Michele Raso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701084348,"creation_date":1700818054,"question_id":77542043,"body_markdown":"hello i am developing a service for a SOAP call with x509 authentication and i need to sign the body and timestamp, but i can&#39;t get it to work java side while in SoapUI it does.\r\n\r\n\r\nThe error (with java code) is SSF_API_SIGNER_ERORS A signing opration not be performed or failed\r\n\r\n\r\nthe configuration in soapUi is this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HXtLp.png\r\n\r\nwhile my signature code is this\r\n\r\n\r\n          private void createDetachedSignature(SOAPElement signatureElement, PrivateKey privateKey, SOAPElement securityTokenReference, SOAPBody soapBody, SOAPElement timestamp) throws Exception {\r\n            \r\n            \r\n                String providerName = System.getProperty\r\n                        (&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\r\n                XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;,\r\n                        (Provider) Class.forName(providerName).newInstance());\r\n            \r\n            \r\n                //Digest method\r\n                javax.xml.crypto.dsig.DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null);\r\n                ArrayList&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\r\n            \r\n            \r\n                //Transform\r\n                Transform envTransform = xmlSignatureFactory.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;, (TransformParameterSpec) null);\r\n                transformList.add(envTransform);\r\n            \r\n            \r\n                //References\r\n            \r\n                ArrayList&lt;Reference&gt; refList = new ArrayList&lt;Reference&gt;();\r\n                Reference refTS = xmlSignatureFactory.newReference(&quot;#TS&quot;+UUID, digestMethod, transformList, null, null);\r\n                Reference refBody = xmlSignatureFactory.newReference(&quot;#Body&quot;+UUID, digestMethod, transformList, null, null);\r\n            \r\n            \r\n                refList.add(refBody);\r\n                refList.add(refTS);\r\n            \r\n            \r\n                javax.xml.crypto.dsig.CanonicalizationMethod cm = xmlSignatureFactory.newCanonicalizationMethod(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,\r\n                        (C14NMethodParameterSpec) null);\r\n            \r\n                javax.xml.crypto.dsig.SignatureMethod sm = xmlSignatureFactory.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, null);\r\n                SignedInfo signedInfo = xmlSignatureFactory.newSignedInfo(cm, sm, refList);\r\n            \r\n                signatureElement.setAttribute(&quot;Id&quot;, &quot;SIG&quot; + UUID);\r\n            \r\n                DOMSignContext signContext = new DOMSignContext(privateKey, signatureElement);\r\n                signContext.setDefaultNamespacePrefix(&quot;ds&quot;);\r\n                signContext.putNamespacePrefix(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;ds&quot;);\r\n            \r\n            \r\n                //These are required for new Java versions\r\n                signContext.setIdAttributeNS\r\n                        (soapBody,\r\n                                &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\r\n            \r\n            \r\n                signContext.setIdAttributeNS\r\n                        (timestamp,\r\n                                &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\r\n            \r\n            \r\n                KeyInfoFactory keyFactory = KeyInfoFactory.getInstance();\r\n                DOMStructure domKeyInfo = new DOMStructure(securityTokenReference);\r\n                javax.xml.crypto.dsig.keyinfo.KeyInfo keyInfo = keyFactory.newKeyInfo(java.util.Collections.singletonList(domKeyInfo));\r\n                if (securityTokenReference instanceof Element) {\r\n                    Element keyInfoElement = (Element) securityTokenReference;\r\n                    keyInfoElement.setAttribute(&quot;Id&quot;, &quot;KI&quot; + UUID);\r\n                }\r\n                javax.xml.crypto.dsig.XMLSignature signature = xmlSignatureFactory.newXMLSignature(signedInfo, keyInfo);\r\n                signContext.setBaseURI(&quot;&quot;);\r\n            \r\n            \r\n                signature.sign(signContext);\r\n                String signatureValue = getSignatureValueAsString(signatureElement);\r\n                System.out.println(&quot;Signature Value: &quot; + signatureValue);\r\n            \r\n            \r\n                Element canonicalizationMethodElement = (Element) signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;CanonicalizationMethod&quot;).item(0);\r\n                addInclusiveNamespaces(canonicalizationMethodElement, &quot;soapenv urn&quot;);\r\n            \r\n                NodeList referenceNodes = signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Reference&quot;);\r\n                for (int i = 0; i &lt; referenceNodes.getLength(); i++) {\r\n                    Element referenceElement = (Element) referenceNodes.item(i);\r\n                    Element transformsElement = (Element) referenceElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transforms&quot;).item(0);\r\n                    Element transformElement = (Element) transformsElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transform&quot;).item(0);\r\n            \r\n                    addInclusiveNamespaces(transformElement, &quot;wsse soapenv urn&quot;);\r\n                }\r\n            \r\n            \r\n            }\r\n\r\nI tried to compare the two requests and now I attach them to you\r\n\r\n\r\nSOAP UI REQUEST \r\n\r\n            &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n            xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\r\n            &lt;soapenv:Header&gt;\r\n                &lt;wsse:Security\r\n                    xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n                    &lt;wsse:BinarySecurityToken\r\n                        EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\r\n                        wsu:Id=&quot;X509-8C92EF6DC231D5F4321700816423308691&quot;&gt;\r\n                        MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn/DANBgkqhkiG...........&lt;/wsse:BinarySecurityToken&gt;\r\n                    &lt;wsu:Timestamp wsu:Id=&quot;TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\r\n                        &lt;wsu:Created&gt;2023-11-24T09:00:23Z&lt;/wsu:Created&gt;\r\n                        &lt;wsu:Expires&gt;2024-02-15T17:00:23Z&lt;/wsu:Expires&gt;\r\n                    &lt;/wsu:Timestamp&gt;\r\n                    &lt;ds:Signature Id=&quot;SIG-8C92EF6DC231D5F4321700816423348695&quot;\r\n                        xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                        &lt;ds:SignedInfo&gt;\r\n                            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                &lt;ec:InclusiveNamespaces PrefixList=&quot;soapenv urn&quot;\r\n                                    xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                            &lt;/ds:CanonicalizationMethod&gt;\r\n                            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n                            &lt;ds:Reference URI=&quot;#TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\r\n                                &lt;ds:Transforms&gt;\r\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                        &lt;ec:InclusiveNamespaces PrefixList=&quot;wsse soapenv urn&quot;\r\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                                    &lt;/ds:Transform&gt;\r\n                                &lt;/ds:Transforms&gt;\r\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                &lt;ds:DigestValue&gt;7KhZ1yTPuNhQ7OtTn32HcJQQ04U=&lt;/ds:DigestValue&gt;\r\n                            &lt;/ds:Reference&gt;\r\n                            &lt;ds:Reference URI=&quot;#id-8C92EF6DC231D5F4321700816423308694&quot;&gt;\r\n                                &lt;ds:Transforms&gt;\r\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                        &lt;ec:InclusiveNamespaces PrefixList=&quot;&quot;\r\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                                    &lt;/ds:Transform&gt;\r\n                                &lt;/ds:Transforms&gt;\r\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                &lt;ds:DigestValue&gt;t5f22r+WwrehIN/rbI7EFwLq7tM=&lt;/ds:DigestValue&gt;\r\n                            &lt;/ds:Reference&gt;\r\n                        &lt;/ds:SignedInfo&gt;\r\n                        &lt;ds:SignatureValue&gt;\r\n                            KRttsmdFmqCRQyTmo6/Cgs1Vj8EZ1y9YbObETjtcvhNQUBRny7tIKZE3bH4TwR69L2x0MsosaAcefeuT/OkowAa............&lt;/ds:SignatureValue&gt;\r\n                        &lt;ds:KeyInfo Id=&quot;KI-8C92EF6DC231D5F4321700816423308692&quot;&gt;\r\n                            &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-8C92EF6DC231D5F4321700816423308693&quot;&gt;\r\n                                &lt;wsse:Reference URI=&quot;#X509-8C92EF6DC231D5F4321700816423308691&quot;\r\n                                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\r\n                            &lt;/wsse:SecurityTokenReference&gt;\r\n                        &lt;/ds:KeyInfo&gt;\r\n                    &lt;/ds:Signature&gt;\r\n                &lt;/wsse:Security&gt;\r\n            &lt;/soapenv:Header&gt;\r\n            &lt;soapenv:Body wsu:Id=&quot;id-8C92EF6DC231D5F4321700816423308694&quot;\r\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n                &lt;urn:SCHEMA_CC&gt;\r\n                    &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\r\n                &lt;/urn:SCHEMA_CC&gt;\r\n            &lt;/soapenv:Body&gt;\r\n        &lt;/soapenv:Envelope&gt;\r\n\r\n\r\nMy request java \r\n\r\n \r\n\r\n                &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n                xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\r\n                &lt;soapenv:Header&gt;\r\n                    &lt;wsse:Security\r\n                        xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                        xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                        Id=&quot;SIG-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                        &lt;wsu:Timestamp wsu:Id=&quot;TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                            &lt;wsu:Created&gt;2023-11-24T08:18:32Z&lt;/wsu:Created&gt;\r\n                            &lt;wsu:Expires&gt;2023-11-24T08:19:02Z&lt;/wsu:Expires&gt;\r\n                        &lt;/wsu:Timestamp&gt;\r\n                        &lt;wsse:BinarySecurityToken\r\n                            EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n                            ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\r\n                            wsu:Id=&quot;X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                            MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn..........&lt;/wsse:BinarySecurityToken&gt;\r\n                        &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                            &lt;ds:SignedInfo&gt;\r\n                                &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                    &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                        PrefixList=&quot;soapenv urn&quot; /&gt;\r\n                                &lt;/ds:CanonicalizationMethod&gt;\r\n                                &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n                                &lt;ds:Reference URI=&quot;#Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                                    &lt;ds:Transforms&gt;\r\n                                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                            &lt;ec:InclusiveNamespaces\r\n                                                xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                                PrefixList=&quot;wsse soapenv urn&quot; /&gt;\r\n                                        &lt;/ds:Transform&gt;\r\n                                    &lt;/ds:Transforms&gt;\r\n                                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                    &lt;ds:DigestValue&gt;qOQ+Nv9QAe63RePMKZkCfn2a8xI=&lt;/ds:DigestValue&gt;\r\n                                &lt;/ds:Reference&gt;\r\n                                &lt;ds:Reference URI=&quot;#TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                                    &lt;ds:Transforms&gt;\r\n                                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                            &lt;ec:InclusiveNamespaces\r\n                                                xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                                PrefixList=&quot;wsse soapenv urn&quot; /&gt;\r\n                                        &lt;/ds:Transform&gt;\r\n                                    &lt;/ds:Transforms&gt;\r\n                                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                    &lt;ds:DigestValue&gt;grbt4GpvYhKKUaetcW2HHMm91Mw=&lt;/ds:DigestValue&gt;\r\n                                &lt;/ds:Reference&gt;\r\n                            &lt;/ds:SignedInfo&gt;\r\n                            &lt;ds:SignatureValue&gt;agesPe4aOZPE9m1aI17MDz+oE5V7YNk7ox6q1WvmHWjd7EdH4XdqVq62dMnqkE2RRbI5TafX1qnK&amp;#13;\r\n                                udGLnMFcZu/gIYMUYmZ1RrwO6y39tLDWii8hEIZMYj/jIzAqi6d1jXh8GOjtmflYnIsRnidFgokV&amp;#13;\r\n                                /fgoMn7c548QlvEPyCokgFlS/aF4OF5uKqnb/yJ2ilRbeJBlG9QCO5rEUGmgeZ0untABzP+w76yg&amp;#13;\r\n                                PTkPaDTC8UHDQsG4XWMTYL+dyGfnHpYdqz5v+4BI53KfG0V7eqbdCZj9dzYN2MEel1NrgqQP2uQ8&amp;#13;\r\n                                .........&lt;/ds:SignatureValue&gt;\r\n                            &lt;ds:KeyInfo&gt;\r\n                                &lt;wsse:SecurityTokenReference Id=&quot;KI-1B1352404FC17AFA99AD1B962FA2A67E&quot;\r\n                                    wsu:Id=&quot;STR-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                                    &lt;wsse:Reference URI=&quot;#X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;\r\n                                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\r\n                                &lt;/wsse:SecurityTokenReference&gt;\r\n                            &lt;/ds:KeyInfo&gt;\r\n                        &lt;/ds:Signature&gt;\r\n                    &lt;/wsse:Security&gt;\r\n                &lt;/soapenv:Header&gt;\r\n                &lt;soapenv:Body\r\n                    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                    wsu:Id=&quot;Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                    &lt;urn:GET_SCHEMA_CC xmlns:urn=&quot;http://www.example.com/urn&quot;&gt;\r\n                            &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\r\n                    \r\n                    &lt;/urn:GET_SCHEMA_CC&gt;\r\n                &lt;/soapenv:Body&gt;\r\n            &lt;/soapenv:Envelope&gt;\r\n\r\nThe way to put the certificate in the securityBinaryToken seems correct to me, while the signature I don&#39;t know if it is the correct way to do it.\r\n\r\n","title":"SOAP x509 signature and digest","body":"<p>hello i am developing a service for a SOAP call with x509 authentication and i need to sign the body and timestamp, but i can't get it to work java side while in SoapUI it does.</p>\n<p>The error (with java code) is SSF_API_SIGNER_ERORS A signing opration not be performed or failed</p>\n<p>the configuration in soapUi is this</p>\n<p><a href=\"https://i.stack.imgur.com/HXtLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HXtLp.png\" alt=\"enter image description here\" /></a></p>\n<p>while my signature code is this</p>\n<pre><code>      private void createDetachedSignature(SOAPElement signatureElement, PrivateKey privateKey, SOAPElement securityTokenReference, SOAPBody soapBody, SOAPElement timestamp) throws Exception {\n        \n        \n            String providerName = System.getProperty\n                    (&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\n            XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;,\n                    (Provider) Class.forName(providerName).newInstance());\n        \n        \n            //Digest method\n            javax.xml.crypto.dsig.DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null);\n            ArrayList&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\n        \n        \n            //Transform\n            Transform envTransform = xmlSignatureFactory.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;, (TransformParameterSpec) null);\n            transformList.add(envTransform);\n        \n        \n            //References\n        \n            ArrayList&lt;Reference&gt; refList = new ArrayList&lt;Reference&gt;();\n            Reference refTS = xmlSignatureFactory.newReference(&quot;#TS&quot;+UUID, digestMethod, transformList, null, null);\n            Reference refBody = xmlSignatureFactory.newReference(&quot;#Body&quot;+UUID, digestMethod, transformList, null, null);\n        \n        \n            refList.add(refBody);\n            refList.add(refTS);\n        \n        \n            javax.xml.crypto.dsig.CanonicalizationMethod cm = xmlSignatureFactory.newCanonicalizationMethod(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,\n                    (C14NMethodParameterSpec) null);\n        \n            javax.xml.crypto.dsig.SignatureMethod sm = xmlSignatureFactory.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, null);\n            SignedInfo signedInfo = xmlSignatureFactory.newSignedInfo(cm, sm, refList);\n        \n            signatureElement.setAttribute(&quot;Id&quot;, &quot;SIG&quot; + UUID);\n        \n            DOMSignContext signContext = new DOMSignContext(privateKey, signatureElement);\n            signContext.setDefaultNamespacePrefix(&quot;ds&quot;);\n            signContext.putNamespacePrefix(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;ds&quot;);\n        \n        \n            //These are required for new Java versions\n            signContext.setIdAttributeNS\n                    (soapBody,\n                            &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\n        \n        \n            signContext.setIdAttributeNS\n                    (timestamp,\n                            &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\n        \n        \n            KeyInfoFactory keyFactory = KeyInfoFactory.getInstance();\n            DOMStructure domKeyInfo = new DOMStructure(securityTokenReference);\n            javax.xml.crypto.dsig.keyinfo.KeyInfo keyInfo = keyFactory.newKeyInfo(java.util.Collections.singletonList(domKeyInfo));\n            if (securityTokenReference instanceof Element) {\n                Element keyInfoElement = (Element) securityTokenReference;\n                keyInfoElement.setAttribute(&quot;Id&quot;, &quot;KI&quot; + UUID);\n            }\n            javax.xml.crypto.dsig.XMLSignature signature = xmlSignatureFactory.newXMLSignature(signedInfo, keyInfo);\n            signContext.setBaseURI(&quot;&quot;);\n        \n        \n            signature.sign(signContext);\n            String signatureValue = getSignatureValueAsString(signatureElement);\n            System.out.println(&quot;Signature Value: &quot; + signatureValue);\n        \n        \n            Element canonicalizationMethodElement = (Element) signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;CanonicalizationMethod&quot;).item(0);\n            addInclusiveNamespaces(canonicalizationMethodElement, &quot;soapenv urn&quot;);\n        \n            NodeList referenceNodes = signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Reference&quot;);\n            for (int i = 0; i &lt; referenceNodes.getLength(); i++) {\n                Element referenceElement = (Element) referenceNodes.item(i);\n                Element transformsElement = (Element) referenceElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transforms&quot;).item(0);\n                Element transformElement = (Element) transformsElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transform&quot;).item(0);\n        \n                addInclusiveNamespaces(transformElement, &quot;wsse soapenv urn&quot;);\n            }\n        \n        \n        }\n</code></pre>\n<p>I tried to compare the two requests and now I attach them to you</p>\n<p>SOAP UI REQUEST</p>\n<pre><code>        &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n        xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\n        &lt;soapenv:Header&gt;\n            &lt;wsse:Security\n                xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\n                &lt;wsse:BinarySecurityToken\n                    EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\n                    wsu:Id=&quot;X509-8C92EF6DC231D5F4321700816423308691&quot;&gt;\n                    MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn/DANBgkqhkiG...........&lt;/wsse:BinarySecurityToken&gt;\n                &lt;wsu:Timestamp wsu:Id=&quot;TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\n                    &lt;wsu:Created&gt;2023-11-24T09:00:23Z&lt;/wsu:Created&gt;\n                    &lt;wsu:Expires&gt;2024-02-15T17:00:23Z&lt;/wsu:Expires&gt;\n                &lt;/wsu:Timestamp&gt;\n                &lt;ds:Signature Id=&quot;SIG-8C92EF6DC231D5F4321700816423348695&quot;\n                    xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n                    &lt;ds:SignedInfo&gt;\n                        &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                            &lt;ec:InclusiveNamespaces PrefixList=&quot;soapenv urn&quot;\n                                xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                        &lt;/ds:CanonicalizationMethod&gt;\n                        &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\n                        &lt;ds:Reference URI=&quot;#TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\n                            &lt;ds:Transforms&gt;\n                                &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                    &lt;ec:InclusiveNamespaces PrefixList=&quot;wsse soapenv urn&quot;\n                                        xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                                &lt;/ds:Transform&gt;\n                            &lt;/ds:Transforms&gt;\n                            &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                            &lt;ds:DigestValue&gt;7KhZ1yTPuNhQ7OtTn32HcJQQ04U=&lt;/ds:DigestValue&gt;\n                        &lt;/ds:Reference&gt;\n                        &lt;ds:Reference URI=&quot;#id-8C92EF6DC231D5F4321700816423308694&quot;&gt;\n                            &lt;ds:Transforms&gt;\n                                &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                    &lt;ec:InclusiveNamespaces PrefixList=&quot;&quot;\n                                        xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                                &lt;/ds:Transform&gt;\n                            &lt;/ds:Transforms&gt;\n                            &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                            &lt;ds:DigestValue&gt;t5f22r+WwrehIN/rbI7EFwLq7tM=&lt;/ds:DigestValue&gt;\n                        &lt;/ds:Reference&gt;\n                    &lt;/ds:SignedInfo&gt;\n                    &lt;ds:SignatureValue&gt;\n                        KRttsmdFmqCRQyTmo6/Cgs1Vj8EZ1y9YbObETjtcvhNQUBRny7tIKZE3bH4TwR69L2x0MsosaAcefeuT/OkowAa............&lt;/ds:SignatureValue&gt;\n                    &lt;ds:KeyInfo Id=&quot;KI-8C92EF6DC231D5F4321700816423308692&quot;&gt;\n                        &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-8C92EF6DC231D5F4321700816423308693&quot;&gt;\n                            &lt;wsse:Reference URI=&quot;#X509-8C92EF6DC231D5F4321700816423308691&quot;\n                                ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\n                        &lt;/wsse:SecurityTokenReference&gt;\n                    &lt;/ds:KeyInfo&gt;\n                &lt;/ds:Signature&gt;\n            &lt;/wsse:Security&gt;\n        &lt;/soapenv:Header&gt;\n        &lt;soapenv:Body wsu:Id=&quot;id-8C92EF6DC231D5F4321700816423308694&quot;\n            xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\n            &lt;urn:SCHEMA_CC&gt;\n                &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\n            &lt;/urn:SCHEMA_CC&gt;\n        &lt;/soapenv:Body&gt;\n    &lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>My request java</p>\n<pre><code>            &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n            xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\n            &lt;soapenv:Header&gt;\n                &lt;wsse:Security\n                    xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n                    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n                    Id=&quot;SIG-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                    &lt;wsu:Timestamp wsu:Id=&quot;TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                        &lt;wsu:Created&gt;2023-11-24T08:18:32Z&lt;/wsu:Created&gt;\n                        &lt;wsu:Expires&gt;2023-11-24T08:19:02Z&lt;/wsu:Expires&gt;\n                    &lt;/wsu:Timestamp&gt;\n                    &lt;wsse:BinarySecurityToken\n                        EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\n                        wsu:Id=&quot;X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                        MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn..........&lt;/wsse:BinarySecurityToken&gt;\n                    &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n                        &lt;ds:SignedInfo&gt;\n                            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                    PrefixList=&quot;soapenv urn&quot; /&gt;\n                            &lt;/ds:CanonicalizationMethod&gt;\n                            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\n                            &lt;ds:Reference URI=&quot;#Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                                &lt;ds:Transforms&gt;\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                        &lt;ec:InclusiveNamespaces\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                            PrefixList=&quot;wsse soapenv urn&quot; /&gt;\n                                    &lt;/ds:Transform&gt;\n                                &lt;/ds:Transforms&gt;\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                                &lt;ds:DigestValue&gt;qOQ+Nv9QAe63RePMKZkCfn2a8xI=&lt;/ds:DigestValue&gt;\n                            &lt;/ds:Reference&gt;\n                            &lt;ds:Reference URI=&quot;#TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                                &lt;ds:Transforms&gt;\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                        &lt;ec:InclusiveNamespaces\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                            PrefixList=&quot;wsse soapenv urn&quot; /&gt;\n                                    &lt;/ds:Transform&gt;\n                                &lt;/ds:Transforms&gt;\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                                &lt;ds:DigestValue&gt;grbt4GpvYhKKUaetcW2HHMm91Mw=&lt;/ds:DigestValue&gt;\n                            &lt;/ds:Reference&gt;\n                        &lt;/ds:SignedInfo&gt;\n                        &lt;ds:SignatureValue&gt;agesPe4aOZPE9m1aI17MDz+oE5V7YNk7ox6q1WvmHWjd7EdH4XdqVq62dMnqkE2RRbI5TafX1qnK&amp;#13;\n                            udGLnMFcZu/gIYMUYmZ1RrwO6y39tLDWii8hEIZMYj/jIzAqi6d1jXh8GOjtmflYnIsRnidFgokV&amp;#13;\n                            /fgoMn7c548QlvEPyCokgFlS/aF4OF5uKqnb/yJ2ilRbeJBlG9QCO5rEUGmgeZ0untABzP+w76yg&amp;#13;\n                            PTkPaDTC8UHDQsG4XWMTYL+dyGfnHpYdqz5v+4BI53KfG0V7eqbdCZj9dzYN2MEel1NrgqQP2uQ8&amp;#13;\n                            .........&lt;/ds:SignatureValue&gt;\n                        &lt;ds:KeyInfo&gt;\n                            &lt;wsse:SecurityTokenReference Id=&quot;KI-1B1352404FC17AFA99AD1B962FA2A67E&quot;\n                                wsu:Id=&quot;STR-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                                &lt;wsse:Reference URI=&quot;#X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;\n                                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\n                            &lt;/wsse:SecurityTokenReference&gt;\n                        &lt;/ds:KeyInfo&gt;\n                    &lt;/ds:Signature&gt;\n                &lt;/wsse:Security&gt;\n            &lt;/soapenv:Header&gt;\n            &lt;soapenv:Body\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n                wsu:Id=&quot;Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                &lt;urn:GET_SCHEMA_CC xmlns:urn=&quot;http://www.example.com/urn&quot;&gt;\n                        &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\n                \n                &lt;/urn:GET_SCHEMA_CC&gt;\n            &lt;/soapenv:Body&gt;\n        &lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>The way to put the certificate in the securityBinaryToken seems correct to me, while the signature I don't know if it is the correct way to do it.</p>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":233979,"reputation":851,"user_id":499837,"accept_rate":60,"display_name":"bornander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700589909,"creation_date":1700589909,"answer_id":77525021,"question_id":77489393,"body_markdown":"You can use &#39;createLineGrid&#39; on `ModelBuilder` to create a grid that (unless you rotate it) extends in the **X-Z** plane.\r\n\r\nFor example:\r\n\r\n    grid = modelBuilder.createLineGrid(\r\n\t   32, 32, 10.0f, 10.0f, \r\n\t\tnew Material(ColorAttribute.createDiffuse(Color.RED)), \r\n\t\tVertexAttributes.Usage.Position | VertexAttributes.Usage.Normal);\r\n\r\n    gridInstance = new ModelInstance(grid);\r\n\r\nWhere `grid` is a `Model` and `gridInstance` is a `ModelInstance`.\r\nThen you just have to include a `render` call to your `ModelBatch`:\r\n\r\n    modelBatch.render(gridInstance);\r\n\r\nDoing that on you code yields this render:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can customize how many grid lines and their spacing to fit your need.\r\n\r\n  [1]: https://i.stack.imgur.com/STmef.png","title":"Debug grid for libgdx","body":"<p>You can use 'createLineGrid' on <code>ModelBuilder</code> to create a grid that (unless you rotate it) extends in the <strong>X-Z</strong> plane.</p>\n<p>For example:</p>\n<pre><code>grid = modelBuilder.createLineGrid(\n   32, 32, 10.0f, 10.0f, \n    new Material(ColorAttribute.createDiffuse(Color.RED)), \n    VertexAttributes.Usage.Position | VertexAttributes.Usage.Normal);\n\ngridInstance = new ModelInstance(grid);\n</code></pre>\n<p>Where <code>grid</code> is a <code>Model</code> and <code>gridInstance</code> is a <code>ModelInstance</code>.\nThen you just have to include a <code>render</code> call to your <code>ModelBatch</code>:</p>\n<pre><code>modelBatch.render(gridInstance);\n</code></pre>\n<p>Doing that on you code yields this render:</p>\n<p><a href=\"https://i.stack.imgur.com/STmef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/STmef.png\" alt=\"enter image description here\" /></a></p>\n<p>You can customize how many grid lines and their spacing to fit your need.</p>\n"},{"tags":[],"owner":{"account_id":3314914,"reputation":3432,"user_id":2787507,"accept_rate":23,"display_name":"nutella_eater"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701083951,"creation_date":1701083951,"answer_id":77556477,"question_id":77489393,"body_markdown":"After a little bit of seraching, I found this amazing list of examples for libgdx, including grid with axis: \r\n\r\n    private void createAxes() {\r\n            final float GRID_MIN = -viewPortWidth;\r\n            final float GRID_MAX = viewPortWidth;\r\n            final float GRID_STEP = viewPortWidth / 10;\r\n    \r\n            ModelBuilder modelBuilder = new ModelBuilder();\r\n            modelBuilder.begin();\r\n            MeshPartBuilder builder = modelBuilder.part(&quot;grid&quot;, GL20.GL_LINES, Usage.Position | Usage.ColorUnpacked, new Material());\r\n            builder.setColor(Color.LIGHT_GRAY);\r\n            for (float t = GRID_MIN; t &lt;= GRID_MAX; t += GRID_STEP) {\r\n                builder.line(t, 0, GRID_MIN, t, 0, GRID_MAX);\r\n                builder.line(GRID_MIN, 0, t, GRID_MAX, 0, t);\r\n            }\r\n            builder = modelBuilder.part(&quot;axes&quot;, GL20.GL_LINES, Usage.Position | Usage.ColorUnpacked, new Material());\r\n            builder.setColor(Color.RED);\r\n            builder.line(0, 0, 0, 100, 0, 0);\r\n            builder.setColor(Color.GREEN);\r\n            builder.line(0, 0, 0, 0, 100, 0);\r\n            builder.setColor(Color.BLUE);\r\n            builder.line(0, 0, 0, 0, 0, 100);\r\n            Model axesModel = modelBuilder.end();\r\n            models.add(axesModel);\r\n            ModelInstance instance = new ModelInstance(axesModel);\r\n            instances.add(instance);\r\n        }\r\n\r\n\r\nAnd here is an example how to use it: https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/g3d/BaseG3dTest.java\r\n","title":"Debug grid for libgdx","body":"<p>After a little bit of seraching, I found this amazing list of examples for libgdx, including grid with axis:</p>\n<pre><code>private void createAxes() {\n        final float GRID_MIN = -viewPortWidth;\n        final float GRID_MAX = viewPortWidth;\n        final float GRID_STEP = viewPortWidth / 10;\n\n        ModelBuilder modelBuilder = new ModelBuilder();\n        modelBuilder.begin();\n        MeshPartBuilder builder = modelBuilder.part(&quot;grid&quot;, GL20.GL_LINES, Usage.Position | Usage.ColorUnpacked, new Material());\n        builder.setColor(Color.LIGHT_GRAY);\n        for (float t = GRID_MIN; t &lt;= GRID_MAX; t += GRID_STEP) {\n            builder.line(t, 0, GRID_MIN, t, 0, GRID_MAX);\n            builder.line(GRID_MIN, 0, t, GRID_MAX, 0, t);\n        }\n        builder = modelBuilder.part(&quot;axes&quot;, GL20.GL_LINES, Usage.Position | Usage.ColorUnpacked, new Material());\n        builder.setColor(Color.RED);\n        builder.line(0, 0, 0, 100, 0, 0);\n        builder.setColor(Color.GREEN);\n        builder.line(0, 0, 0, 0, 100, 0);\n        builder.setColor(Color.BLUE);\n        builder.line(0, 0, 0, 0, 0, 100);\n        Model axesModel = modelBuilder.end();\n        models.add(axesModel);\n        ModelInstance instance = new ModelInstance(axesModel);\n        instances.add(instance);\n    }\n</code></pre>\n<p>And here is an example how to use it: <a href=\"https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/g3d/BaseG3dTest.java\" rel=\"nofollow noreferrer\">https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/g3d/BaseG3dTest.java</a></p>\n"}],"owner":{"account_id":3314914,"reputation":3432,"user_id":2787507,"accept_rate":23,"display_name":"nutella_eater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77556477,"answer_count":2,"score":1,"last_activity_date":1701083951,"creation_date":1700065550,"question_id":77489393,"body_markdown":"Can I somehow draw a 3d grid in my libgdx app, so I can zoom in and out of this grid in order to see what is going on with my application? \r\nFor example, I&#39;m trying to create a simple sphere, that should be in the middle of the screen, but it is not, and it is squished or somethig.\r\n\r\n\r\nI want to know, where my camera is and what is the camera&#39;s view angle, all inside the scene. Here is the code, because stackoverflow asks for the code.\r\n\r\n    @Override\r\n        public void create() {\r\n            modelBatch = new ModelBatch();\r\n            environment = new Environment();\r\n            environment.set(new ColorAttribute(ColorAttribute.AmbientLight, 0.4f, 0.4f, 0.4f, 1f));\r\n            environment.add(new DirectionalLight().set(0.8f, 0.8f, 0.8f, 10f, 10f, 20f));\r\n    \r\n            cam = new PerspectiveCamera(67, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\r\n            cam.position.set(150f, -9f, 200f);\r\n            cam.lookAt(0, 0, 0);\r\n            cam.near = 1f;\r\n            cam.far = 300f;\r\n            cam.update();\r\n    \r\n    \r\n            ModelBuilder modelBuilder = new ModelBuilder();\r\n            model = modelBuilder.createSphere(120f, 120f, 120, 32, 32,\r\n                    new Material(ColorAttribute.createDiffuse(Color.GREEN)),\r\n                    VertexAttributes.Usage.Position | VertexAttributes.Usage.Normal);\r\n            instance = new ModelInstance(model);\r\n            instance.transform.set(new Vector3(100, 100, 0), new Quaternion());\r\n        }\r\n\r\n\r\nCan I do that?\r\n","title":"Debug grid for libgdx","body":"<p>Can I somehow draw a 3d grid in my libgdx app, so I can zoom in and out of this grid in order to see what is going on with my application?\nFor example, I'm trying to create a simple sphere, that should be in the middle of the screen, but it is not, and it is squished or somethig.</p>\n<p>I want to know, where my camera is and what is the camera's view angle, all inside the scene. Here is the code, because stackoverflow asks for the code.</p>\n<pre><code>@Override\n    public void create() {\n        modelBatch = new ModelBatch();\n        environment = new Environment();\n        environment.set(new ColorAttribute(ColorAttribute.AmbientLight, 0.4f, 0.4f, 0.4f, 1f));\n        environment.add(new DirectionalLight().set(0.8f, 0.8f, 0.8f, 10f, 10f, 20f));\n\n        cam = new PerspectiveCamera(67, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\n        cam.position.set(150f, -9f, 200f);\n        cam.lookAt(0, 0, 0);\n        cam.near = 1f;\n        cam.far = 300f;\n        cam.update();\n\n\n        ModelBuilder modelBuilder = new ModelBuilder();\n        model = modelBuilder.createSphere(120f, 120f, 120, 32, 32,\n                new Material(ColorAttribute.createDiffuse(Color.GREEN)),\n                VertexAttributes.Usage.Position | VertexAttributes.Usage.Normal);\n        instance = new ModelInstance(model);\n        instance.transform.set(new Vector3(100, 100, 0), new Quaternion());\n    }\n</code></pre>\n<p>Can I do that?</p>\n"},{"tags":["java","jdbc","resultset","sql"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":6,"creation_date":1415007519,"post_id":26711383,"comment_id":42014050,"body_markdown":"You need `value = rs.getString(1);`","body":"You need <code>value = rs.getString(1);</code>"},{"owner":{"account_id":927123,"reputation":644,"user_id":2368545,"accept_rate":90,"display_name":"Frank"},"score":6,"creation_date":1415007626,"post_id":26711383,"comment_id":42014106,"body_markdown":"And change `while(rs.next())` to `if(rs.next())` since you only need one value.","body":"And change <code>while(rs.next())</code> to <code>if(rs.next())</code> since you only need one value."},{"owner":{"account_id":6140702,"reputation":51,"user_id":4788217,"display_name":"p01nt3r"},"score":1,"creation_date":1554215588,"post_id":26711383,"comment_id":97664900,"body_markdown":"You should use try with resources when possible (https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).\nThis would eliminate the finally block from your code.","body":"You should use try with resources when possible (<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a>). This would eliminate the finally block from your code."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415007507,"creation_date":1415007507,"answer_id":26711421,"question_id":26711383,"body_markdown":"Change :\r\n\r\n    value = rs.toString();\r\n\r\nTo: \r\n\r\n    value = rs.getString(1);\r\n\r\nrs.toString returns the result of the `toString` method of the Object `ResultSet`.\r\n`rs.getString(1)` gives you the first parameter of the resultset as a `String`.","title":"Getting one value from SQL select statement in Java","body":"<p>Change :</p>\n\n<pre><code>value = rs.toString();\n</code></pre>\n\n<p>To: </p>\n\n<pre><code>value = rs.getString(1);\n</code></pre>\n\n<p>rs.toString returns the result of the <code>toString</code> method of the Object <code>ResultSet</code>.\n<code>rs.getString(1)</code> gives you the first parameter of the resultset as a <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1415007559,"creation_date":1415007559,"answer_id":26711433,"question_id":26711383,"body_markdown":"Use `rs.getInt(1)` or `rs.getString(1)` to retrieve the actual value from the `ResultSet`. Then read a JDBC tutorial.","title":"Getting one value from SQL select statement in Java","body":"<p>Use <code>rs.getInt(1)</code> or <code>rs.getString(1)</code> to retrieve the actual value from the <code>ResultSet</code>. Then read a JDBC tutorial.</p>\n"},{"tags":[],"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1701083765,"creation_date":1415007614,"answer_id":26711448,"question_id":26711383,"body_markdown":"&gt; Right now, for the `println` I&#39;m getting a &quot;`com.mysql.jdbc.JDBC4ResultSet@1e72cae`&quot;\r\n\r\nis because you return the `ResultSet` object here , `value = rs.toString();`\r\n\r\n\r\nFrom [docs](http://docs.oracle.com/javase/tutorial/jdbc/basics/retrieving.html),\r\n\r\n&gt; A ResultSet object is a table of data representing a database result\r\n&gt; set, which is usually generated by executing a statement that queries\r\n&gt; the database\r\n&gt; \r\n&gt; \r\n&gt; You access the data in a ResultSet object through a cursor. Note that\r\n&gt; this cursor is not a database cursor. This cursor is a pointer that\r\n&gt; points to one row of data in the ResultSet. Initially, the cursor is\r\n&gt; positioned before the first row. The method ResultSet.next moves the\r\n&gt; cursor to the next row. This method returns false if the cursor is\r\n&gt; positioned after the last row. This method repeatedly calls the\r\n&gt; ResultSet.next method with a while loop to iterate through all the\r\n&gt; data in the ResultSet.\r\n\r\nYou should tell the result set to get the value from the column ,\r\n\r\n    value = rs.getString(1);\r\n\r\nthrough index\r\n\r\n    value = rs.getString(&quot;itemNo&quot;);\r\n\r\nor through column name \r\n\r\n\r\n","title":"Getting one value from SQL select statement in Java","body":"<blockquote>\n<p>Right now, for the <code>println</code> I'm getting a &quot;<code>com.mysql.jdbc.JDBC4ResultSet@1e72cae</code>&quot;</p>\n</blockquote>\n<p>is because you return the <code>ResultSet</code> object here , <code>value = rs.toString();</code></p>\n<p>From <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/retrieving.html\" rel=\"nofollow noreferrer\">docs</a>,</p>\n<blockquote>\n<p>A ResultSet object is a table of data representing a database result\nset, which is usually generated by executing a statement that queries\nthe database</p>\n<p>You access the data in a ResultSet object through a cursor. Note that\nthis cursor is not a database cursor. This cursor is a pointer that\npoints to one row of data in the ResultSet. Initially, the cursor is\npositioned before the first row. The method ResultSet.next moves the\ncursor to the next row. This method returns false if the cursor is\npositioned after the last row. This method repeatedly calls the\nResultSet.next method with a while loop to iterate through all the\ndata in the ResultSet.</p>\n</blockquote>\n<p>You should tell the result set to get the value from the column ,</p>\n<pre><code>value = rs.getString(1);\n</code></pre>\n<p>through index</p>\n<pre><code>value = rs.getString(&quot;itemNo&quot;);\n</code></pre>\n<p>or through column name</p>\n"},{"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504755609,"creation_date":1415007620,"answer_id":26711449,"question_id":26711383,"body_markdown":"You need to change\r\n\r\n\r\n    while (rs.next())\r\n        value = rs.toString();\r\n\r\nto\r\n\r\n     while (rs.next())\r\n        value = rs.getString(&quot;itemNo&quot;);","title":"Getting one value from SQL select statement in Java","body":"<p>You need to change</p>\n\n<pre><code>while (rs.next())\n    value = rs.toString();\n</code></pre>\n\n<p>to</p>\n\n<pre><code> while (rs.next())\n    value = rs.getString(\"itemNo\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5052435,"reputation":1826,"user_id":4056574,"accept_rate":60,"display_name":"AsSiDe"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1415007642,"creation_date":1415007642,"answer_id":26711456,"question_id":26711383,"body_markdown":"Try This:\r\n\r\n    private String viewValue(Connection con, String command) throws SQLException \r\n    {\r\n        String value = null;\r\n        Statement stmt = null;\r\n\r\n        try \r\n        {\r\n            stmt = con.createStatement();\r\n            ResultSet rs = stmt.executeQuery(command);\r\n\r\n            while (rs.next())\r\n                value = rs.getString(1);\r\n        } \r\n\r\n        catch (SQLException e ) \r\n        {\r\n            e.printStackTrace();\r\n        } \r\n\r\n        finally\r\n        {\r\n            if (stmt != \r\n            null) { stmt.close(); }\r\n        }\r\n\r\n        return value;\r\n\r\n    }","title":"Getting one value from SQL select statement in Java","body":"<p>Try This:</p>\n\n<pre><code>private String viewValue(Connection con, String command) throws SQLException \n{\n    String value = null;\n    Statement stmt = null;\n\n    try \n    {\n        stmt = con.createStatement();\n        ResultSet rs = stmt.executeQuery(command);\n\n        while (rs.next())\n            value = rs.getString(1);\n    } \n\n    catch (SQLException e ) \n    {\n        e.printStackTrace();\n    } \n\n    finally\n    {\n        if (stmt != \n        null) { stmt.close(); }\n    }\n\n    return value;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6849819,"reputation":31,"user_id":5267300,"display_name":"sonal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504755571,"creation_date":1440573081,"answer_id":32220100,"question_id":26711383,"body_markdown":"change it to \r\n\r\n    if(rs.next())\r\n\r\nand\r\n\r\n    rs.getString(&quot;itemNo&quot;);\r\n\r\nworks !!!\r\n\r\n","title":"Getting one value from SQL select statement in Java","body":"<p>change it to </p>\n\n<pre><code>if(rs.next())\n</code></pre>\n\n<p>and</p>\n\n<pre><code>rs.getString(\"itemNo\");\n</code></pre>\n\n<p>works !!!</p>\n"}],"owner":{"account_id":346338,"reputation":170,"user_id":679805,"accept_rate":100,"display_name":"Tsar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85850,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":26711448,"answer_count":6,"score":8,"last_activity_date":1701083765,"creation_date":1415007352,"question_id":26711383,"body_markdown":"I&#39;m trying to return a value from a select statement. Its only one value because the value I&#39;m returning is from the primary key column. \r\n\r\nThe SQL statement is `SELECT itemNo FROM item WHERE itemName = &#39;astringvalue&#39;;`\r\n\r\nMy method for getting the value looks like this:\r\n\r\n    private String viewValue(Connection con, String command) throws SQLException \r\n \t    {\r\n \t        String value = null;\r\n \t        Statement stmt = null;\r\n\r\n \t        try \r\n \t        {\r\n \t            stmt = con.createStatement();\r\n \t            ResultSet rs = stmt.executeQuery(command);\r\n \t            \r\n \t            while (rs.next())\r\n \t            \tvalue = rs.toString();\r\n \t        } \r\n\r\n \t        catch (SQLException e ) \r\n \t        {\r\n \t            e.printStackTrace();\r\n \t        } \r\n\r\n \t        finally\r\n \t        {\r\n \t            if (stmt != \r\n \t            null) { stmt.close(); }\r\n \t        }\r\n\r\n \t        return value;\r\n\r\n \t    }\r\n\r\n\r\nI do have a `getConnection()` method too.\r\n\r\nHere is what im using to call the `viewValue`method:\r\n\r\n    if((action.getSource() == btnSave) ||(action.getSource() == btnSavePrint) )\r\n\t\t\t{\r\n \t\t    \tString findItemNoCommand = &quot;SELECT itemNo FROM `item` WHERE itemName = &#39;&quot; + itemList.getSelectedItem() + &quot;&#39;&quot;;\r\n \t\t    \t\r\n \t\t    \ttry \r\n \t            {\r\n \t                itemNo = viewValue(conn, findItemNoCommand);\r\n \t            }\r\n \t            catch (SQLException e) \r\n \t            {\r\n \t                e.printStackTrace();\r\n \t            }\r\n\r\n \t            System.out.println(itemNo);\r\n\t\t\t}\r\nThe code above was written for a `ButtonHandler`\r\n\r\nRight now, for the `println` I&#39;m getting a &quot;`com.mysql.jdbc.JDBC4ResultSet@1e72cae`&quot; .. I don&#39;t understand how it is so.. but I&#39;m assuming that ResultSet is the wrong choice here. \r\n\r\nMy question is.. what can i use there that can work?\r\n\r\nAny help or clue as to what im doing wrong is much appreciated. ","title":"Getting one value from SQL select statement in Java","body":"<p>I'm trying to return a value from a select statement. Its only one value because the value I'm returning is from the primary key column. </p>\n\n<p>The SQL statement is <code>SELECT itemNo FROM item WHERE itemName = 'astringvalue';</code></p>\n\n<p>My method for getting the value looks like this:</p>\n\n<pre><code>private String viewValue(Connection con, String command) throws SQLException \n    {\n        String value = null;\n        Statement stmt = null;\n\n        try \n        {\n            stmt = con.createStatement();\n            ResultSet rs = stmt.executeQuery(command);\n\n            while (rs.next())\n                value = rs.toString();\n        } \n\n        catch (SQLException e ) \n        {\n            e.printStackTrace();\n        } \n\n        finally\n        {\n            if (stmt != \n            null) { stmt.close(); }\n        }\n\n        return value;\n\n    }\n</code></pre>\n\n<p>I do have a <code>getConnection()</code> method too.</p>\n\n<p>Here is what im using to call the <code>viewValue</code>method:</p>\n\n<pre><code>if((action.getSource() == btnSave) ||(action.getSource() == btnSavePrint) )\n        {\n            String findItemNoCommand = \"SELECT itemNo FROM `item` WHERE itemName = '\" + itemList.getSelectedItem() + \"'\";\n\n            try \n            {\n                itemNo = viewValue(conn, findItemNoCommand);\n            }\n            catch (SQLException e) \n            {\n                e.printStackTrace();\n            }\n\n            System.out.println(itemNo);\n        }\n</code></pre>\n\n<p>The code above was written for a <code>ButtonHandler</code></p>\n\n<p>Right now, for the <code>println</code> I'm getting a \"<code>com.mysql.jdbc.JDBC4ResultSet@1e72cae</code>\" .. I don't understand how it is so.. but I'm assuming that ResultSet is the wrong choice here. </p>\n\n<p>My question is.. what can i use there that can work?</p>\n\n<p>Any help or clue as to what im doing wrong is much appreciated. </p>\n"},{"tags":["java","android","c++","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1701085150,"post_id":77556356,"comment_id":136727046,"body_markdown":"This is a common gotcha: only the main thread has the correct class loader set up.","body":"This is a common gotcha: only the main thread has the correct class loader set up."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701175967,"post_id":77556356,"comment_id":136740473,"body_markdown":"What Java exception is thrown?","body":"What Java exception is thrown?"}],"owner":{"account_id":30002912,"reputation":1,"user_id":22992486,"display_name":"Jonny Nightingale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701085345,"answer_count":0,"score":0,"last_activity_date":1701083575,"creation_date":1701082743,"question_id":77556356,"body_markdown":"I am writing an Android appliction and am using JNI to call Java functions from C++. The following code works as expected, retrieving a reference to a static Java method and then calling it.\r\n```cpp\r\n_JNIEnv *env = g_globalJniEnv;\r\njclass clazz = env-&gt;FindClass( &quot;com/company/ClassName&quot; );\r\njmethodID method = env-&gt;GetStaticMethodID( clazz, &quot;methodName&quot;, &quot;()V&quot; );\r\nenv-&gt;CallStaticVoidMethod( clazz, method );\r\n```\r\nHowever when I try to do the same thing on a `std::thread` the call to `FindClass` is returning NULL.\r\n```cpp\r\nstd::thread callMethod( [] {\r\n    JNIEnv *env;\r\n    g_jvm-&gt;AttachCurrentThread( &amp;env, NULL );\r\n    jclass clazz = env-&gt;FindClass( &quot;com/company/ClassName&quot; );\r\n    jmethodID method = env-&gt;GetStaticMethodID( clazz, &quot;methodName&quot;, &quot;()V&quot; );\r\n    env-&gt;CallStaticVoidMethod( clazz, method );\r\n    g_jvm-&gt;DetachCurrentThread();\r\n} );\r\ncallMethod.detach();\r\n```\r\nIs there something missing from my implementation?","title":"JNI call to FindClass returns null when run on a new thread","body":"<p>I am writing an Android appliction and am using JNI to call Java functions from C++. The following code works as expected, retrieving a reference to a static Java method and then calling it.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>_JNIEnv *env = g_globalJniEnv;\njclass clazz = env-&gt;FindClass( &quot;com/company/ClassName&quot; );\njmethodID method = env-&gt;GetStaticMethodID( clazz, &quot;methodName&quot;, &quot;()V&quot; );\nenv-&gt;CallStaticVoidMethod( clazz, method );\n</code></pre>\n<p>However when I try to do the same thing on a <code>std::thread</code> the call to <code>FindClass</code> is returning NULL.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>std::thread callMethod( [] {\n    JNIEnv *env;\n    g_jvm-&gt;AttachCurrentThread( &amp;env, NULL );\n    jclass clazz = env-&gt;FindClass( &quot;com/company/ClassName&quot; );\n    jmethodID method = env-&gt;GetStaticMethodID( clazz, &quot;methodName&quot;, &quot;()V&quot; );\n    env-&gt;CallStaticVoidMethod( clazz, method );\n    g_jvm-&gt;DetachCurrentThread();\n} );\ncallMethod.detach();\n</code></pre>\n<p>Is there something missing from my implementation?</p>\n"},{"tags":["java","file-io","io"],"comments":[{"owner":{"account_id":219702,"reputation":13051,"user_id":476747,"accept_rate":97,"display_name":"Mudassir"},"score":0,"creation_date":1298982743,"post_id":5154529,"comment_id":5786777,"body_markdown":"Are you using some IDE (Eclipse, NetBeans, etc.)?","body":"Are you using some IDE (Eclipse, NetBeans, etc.)?"},{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1298982871,"post_id":5154529,"comment_id":5786805,"body_markdown":"@Nishant: perhaps I am a bit naive but what does that fact say about this question?","body":"@Nishant: perhaps I am a bit naive but what does that fact say about this question?"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1298982959,"post_id":5154529,"comment_id":5786819,"body_markdown":"Please give a *lot* more context... read http://tinyurl.com/so-hints","body":"Please give a <i>lot</i> more context... read <a href=\"http://tinyurl.com/so-hints\" rel=\"nofollow noreferrer\">tinyurl.com/so-hints</a>"}],"answers":[{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1701083496,"creation_date":1298982963,"answer_id":5154592,"question_id":5154529,"body_markdown":"If the current directory of the application. If e.g. you create a File by using \r\n\r\n    new FileOutputStream(&quot;myfile&quot;)\r\n\r\nthen it is created in the &quot;current&quot; directory, which can be retrieved by calling \r\n\r\n    System.getProperty(&quot;user.dir&quot;);\r\n\r\nHowever if you change the current directory by calling native methods (very unlikely!), the property is not updated. It can be seen as the initial current directory of the application.\r\n\r\nIf you start your Java app in a batch file, and doubleclick on the link to it, the current directory will be the directory where the batch file resided, but this can be changed in the link.\r\n\r\nIf you start your Java app from the command line, you already know the directory you are in.\r\n\r\nIf you start your Java app from the IDE, the current directory is usually the project root, but this can usually be configured in the launch configuration.\r\n\r\n**UPDATE 2017-08:**\r\n\r\nYou could also always find the current correct location with:\r\n\r\n    new File(&quot;.&quot;).getAbsolutePath()","title":"In Java, what is the default location for newly created files?","body":"<p>If the current directory of the application. If e.g. you create a File by using</p>\n<pre><code>new FileOutputStream(&quot;myfile&quot;)\n</code></pre>\n<p>then it is created in the &quot;current&quot; directory, which can be retrieved by calling</p>\n<pre><code>System.getProperty(&quot;user.dir&quot;);\n</code></pre>\n<p>However if you change the current directory by calling native methods (very unlikely!), the property is not updated. It can be seen as the initial current directory of the application.</p>\n<p>If you start your Java app in a batch file, and doubleclick on the link to it, the current directory will be the directory where the batch file resided, but this can be changed in the link.</p>\n<p>If you start your Java app from the command line, you already know the directory you are in.</p>\n<p>If you start your Java app from the IDE, the current directory is usually the project root, but this can usually be configured in the launch configuration.</p>\n<p><strong>UPDATE 2017-08:</strong></p>\n<p>You could also always find the current correct location with:</p>\n<pre><code>new File(&quot;.&quot;).getAbsolutePath()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1471714855,"creation_date":1471710311,"answer_id":39056340,"question_id":5154529,"body_markdown":"Hoping you are using eclipse or net beans ide.The newly created files will be stored in the project workspace based on how you create the file.\r\nEg  you can create a file by\r\n1) using createfilename \r\n2)by using file FileOutputStream,FileWriter,PrintWriter etc.","title":"In Java, what is the default location for newly created files?","body":"<p>Hoping you are using eclipse or net beans ide.The newly created files will be stored in the project workspace based on how you create the file.\nEg  you can create a file by\n1) using createfilename \n2)by using file FileOutputStream,FileWriter,PrintWriter etc.</p>\n"}],"owner":{"account_id":250007,"reputation":2229,"user_id":526443,"accept_rate":44,"display_name":"abhishek kumar gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61591,"favorite_count":0,"down_vote_count":3,"up_vote_count":27,"accepted_answer_id":5154592,"answer_count":2,"score":24,"last_activity_date":1701083496,"creation_date":1298982589,"question_id":5154529,"body_markdown":"In Java, what is the default location for newly created files?","title":"In Java, what is the default location for newly created files?","body":"<p>In Java, what is the default location for newly created files?</p>\n"},{"tags":["java","vaadin","hilla"],"answers":[{"tags":[],"owner":{"account_id":99531,"reputation":126,"user_id":268793,"display_name":"Luciano Vernaschi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701083054,"creation_date":1701083054,"answer_id":77556392,"question_id":77551620,"body_markdown":"You can get more details about the issue by setting a more detailed log level in `application.properties`, for example:\r\n```\r\nlogging.level.dev.hilla=trace\r\n```\r\nBut it seems that Maven cannot be found, and I see that the application you&#39;re trying to run misses the Maven Wrapper.\r\n\r\nEither add the wrapper to the application or make sure your local Maven is available on PATH.","title":"Hilla app launch error. No valid executable found","body":"<p>You can get more details about the issue by setting a more detailed log level in <code>application.properties</code>, for example:</p>\n<pre><code>logging.level.dev.hilla=trace\n</code></pre>\n<p>But it seems that Maven cannot be found, and I see that the application you're trying to run misses the Maven Wrapper.</p>\n<p>Either add the wrapper to the application or make sure your local Maven is available on PATH.</p>\n"}],"owner":{"account_id":5087990,"reputation":518,"user_id":4081901,"display_name":"Amit Tamrakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77556392,"answer_count":1,"score":-2,"last_activity_date":1701083054,"creation_date":1701000977,"question_id":77551620,"body_markdown":"Trying to launch the hilla app and getting below error message:\r\n\r\nI am trying to launch the application from this github repo: https://github.com/marcushellberg/customer-support-agent\r\n\r\n```\r\ndev.hilla.engine.commandrunner.CommandNotFoundException: No valid executable found\r\n\tat dev.hilla.engine.commandrunner.CommandRunner.lambda$run$0(CommandRunner.java:72) ~[engine-core-2.2.0.jar:na]\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]\r\n\tat dev.hilla.engine.commandrunner.CommandRunner.run(CommandRunner.java:72) ~[engine-core-2.2.0.jar:na]\r\n\tat dev.hilla.internal.AbstractTaskEndpointGenerator.prepareEngineConfiguration(AbstractTaskEndpointGenerator.java:87) ~[engine-runtime-2.2.0.jar:na]\r\n\tat dev.hilla.internal.AbstractTaskEndpointGenerator.getEngineConfiguration(AbstractTaskEndpointGenerator.java:59) ~[engine-runtime-2.2.0.jar:na]\r\n\tat dev.hilla.internal.TaskGenerateOpenAPIImpl.execute(TaskGenerateOpenAPIImpl.java:67) ~[engine-runtime-2.2.0.jar:na]\r\n\tat com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:312) ~[flow-server-24.1.11.jar:24.1.11]\r\n\tat com.vaadin.base.devserver.startup.DevModeInitializer.runNodeTasks(DevModeInitializer.java:352) ~[vaadin-dev-server-24.1.11.jar:na]\r\n\tat com.vaadin.base.devserver.startup.DevModeInitializer.lambda$initDevModeHandler$0(DevModeInitializer.java:293) ~[vaadin-dev-server-24.1.11.jar:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[na:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]```","title":"Hilla app launch error. No valid executable found","body":"<p>Trying to launch the hilla app and getting below error message:</p>\n<p>I am trying to launch the application from this github repo: <a href=\"https://github.com/marcushellberg/customer-support-agent\" rel=\"nofollow noreferrer\">https://github.com/marcushellberg/customer-support-agent</a></p>\n<pre><code>dev.hilla.engine.commandrunner.CommandNotFoundException: No valid executable found\n    at dev.hilla.engine.commandrunner.CommandRunner.lambda$run$0(CommandRunner.java:72) ~[engine-core-2.2.0.jar:na]\n    at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]\n    at dev.hilla.engine.commandrunner.CommandRunner.run(CommandRunner.java:72) ~[engine-core-2.2.0.jar:na]\n    at dev.hilla.internal.AbstractTaskEndpointGenerator.prepareEngineConfiguration(AbstractTaskEndpointGenerator.java:87) ~[engine-runtime-2.2.0.jar:na]\n    at dev.hilla.internal.AbstractTaskEndpointGenerator.getEngineConfiguration(AbstractTaskEndpointGenerator.java:59) ~[engine-runtime-2.2.0.jar:na]\n    at dev.hilla.internal.TaskGenerateOpenAPIImpl.execute(TaskGenerateOpenAPIImpl.java:67) ~[engine-runtime-2.2.0.jar:na]\n    at com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:312) ~[flow-server-24.1.11.jar:24.1.11]\n    at com.vaadin.base.devserver.startup.DevModeInitializer.runNodeTasks(DevModeInitializer.java:352) ~[vaadin-dev-server-24.1.11.jar:na]\n    at com.vaadin.base.devserver.startup.DevModeInitializer.lambda$initDevModeHandler$0(DevModeInitializer.java:293) ~[vaadin-dev-server-24.1.11.jar:na]\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]```\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":1744250,"reputation":6709,"user_id":1594817,"accept_rate":69,"display_name":"Vinay Veluri"},"score":1,"creation_date":1408953096,"post_id":25481330,"comment_id":39768376,"body_markdown":"Add jar file containing `org.hibernate.dialect.MYSQLDialect`...","body":"Add jar file containing <code>org.hibernate.dialect.MYSQLDialect</code>..."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1408953170,"post_id":25481330,"comment_id":39768410,"body_markdown":"Which hibernate version do you use?","body":"Which hibernate version do you use?"},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1408953173,"post_id":25481330,"comment_id":39768411,"body_markdown":"Hibernate needs a driver in order to be able to connect to MySQL. As Hibernate cannot contain the drivers for every databases, you need to give it yourself.","body":"Hibernate needs a driver in order to be able to connect to MySQL. As Hibernate cannot contain the drivers for every databases, you need to give it yourself."},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953234,"post_id":25481330,"comment_id":39768444,"body_markdown":"its there .. I followed the above video tutorial","body":"its there .. I followed the above video tutorial"},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953279,"post_id":25481330,"comment_id":39768463,"body_markdown":"@Jens its 3.6.4 same as in video tutorial","body":"@Jens its 3.6.4 same as in video tutorial"},{"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"score":0,"creation_date":1408953303,"post_id":25481330,"comment_id":39768475,"body_markdown":"`MYSQLDialect` is in `hibernate-core`. Check your classpath.","body":"<code>MYSQLDialect</code> is in <code>hibernate-core</code>. Check your classpath."},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953368,"post_id":25481330,"comment_id":39768500,"body_markdown":"@ArnaudDenoyelle You mean mysql driver right, I have given mysql-connector-java-5.1.7.jar file","body":"@ArnaudDenoyelle You mean mysql driver right, I have given mysql-connector-java-5.1.7.jar file"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1408953443,"post_id":25481330,"comment_id":39768532,"body_markdown":"@Raghu And you run it from eclipse?","body":"@Raghu And you run it from eclipse?"},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953459,"post_id":25481330,"comment_id":39768539,"body_markdown":"@AndersR.Bystrup yes in my classpath its in hibernate3.jar file under package `com.hibernate.dialect`","body":"@AndersR.Bystrup yes in my classpath its in hibernate3.jar file under package <code>com.hibernate.dialect</code>"},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953480,"post_id":25481330,"comment_id":39768547,"body_markdown":"@Jens yes from eclipse.","body":"@Jens yes from eclipse."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1408953596,"post_id":25481330,"comment_id":39768595,"body_markdown":"@Raghu and your run configuration uses the buildpath of your project?","body":"@Raghu and your run configuration uses the buildpath of your project?"},{"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"score":0,"creation_date":1408953653,"post_id":25481330,"comment_id":39768622,"body_markdown":"@Jens Sorry I didnt get you.","body":"@Jens Sorry I didnt get you."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1408953806,"post_id":25481330,"comment_id":39768687,"body_markdown":"@Raghu if you call &quot;run&quot; you run the project with a configuration that can be different from the buildpath. Look if the jar is in &quot;eun Configurations..&quot; --&gt; &quot;your launcher&quot; --&gt;&quot;Classpath&quot;","body":"@Raghu if you call &quot;run&quot; you run the project with a configuration that can be different from the buildpath. Look if the jar is in &quot;eun Configurations..&quot; --&gt; &quot;your launcher&quot; --&gt;&quot;Classpath&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1590401881,"creation_date":1408953694,"answer_id":25481489,"question_id":25481330,"body_markdown":"The answer is in the question. You&#39;ve found `MySQLDialect` in your jar files, but your configuration file tries to use `MYSQLDialect`. Java is case-sensitive.\r\n\r\nTry changing to below\r\n\r\n\r\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\n","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>The answer is in the question. You've found <code>MySQLDialect</code> in your jar files, but your configuration file tries to use <code>MYSQLDialect</code>. Java is case-sensitive.</p>\n\n<p>Try changing to below</p>\n\n<pre><code>&lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268400,"reputation":624,"user_id":557143,"display_name":"Hemant Nagpal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1414217456,"creation_date":1414217456,"answer_id":26559787,"question_id":25481330,"body_markdown":"If you are using a property file, then make sure there is no space at the end of the line.\r\n\r\n    hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>If you are using a property file, then make sure there is no space at the end of the line.</p>\n\n<pre><code>hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27728146,"reputation":1,"user_id":21167246,"display_name":"ajay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676031342,"creation_date":1675793015,"answer_id":75377295,"question_id":25481330,"body_markdown":"If you are using \r\n```\r\n&lt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\r\n```\r\nsimply remove `8` from there \r\n```\r\n&lt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n```","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>If you are using</p>\n<pre><code>&lt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\n</code></pre>\n<p>simply remove <code>8</code> from there</p>\n<pre><code>&lt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6790121,"reputation":11,"user_id":5227561,"display_name":"Manushi M Jani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701082928,"creation_date":1701082928,"answer_id":77556376,"question_id":25481330,"body_markdown":"I was getting a similar error :\r\n\r\n```\r\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MySQL5Dialect] as strategy [org.hibernate.dialect.Dialect]\r\n\tat ...\r\norg.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:105)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:129)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\t... 106 common frames omitted\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.MySQL5Dialect]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:126)\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150)\r\n\t... 116 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.dialect.MySQL5Dialect\r\n```\r\n\r\nI resolved it buy simply removing 5 from org.hibernate.dialect.MySQL5Dialect, and it worked like a charm.\r\n\r\nHere is the code block : \r\n\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    properties:\r\n      hibernate:\r\n        dialect: &quot;org.hibernate.dialect.MySQL5Dialect&quot;\r\n```\r\n\r\nSolution : Remove only &#39;5&#39; from MySQL5Dialect.","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>I was getting a similar error :</p>\n<pre><code>Caused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MySQL5Dialect] as strategy [org.hibernate.dialect.Dialect]\n    at ...\norg.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:105)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:129)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    ... 106 common frames omitted\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.MySQL5Dialect]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:126)\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150)\n    ... 116 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p>I resolved it buy simply removing 5 from org.hibernate.dialect.MySQL5Dialect, and it worked like a charm.</p>\n<p>Here is the code block :</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        dialect: &quot;org.hibernate.dialect.MySQL5Dialect&quot;\n</code></pre>\n<p>Solution : Remove only '5' from MySQL5Dialect.</p>\n"}],"owner":{"account_id":4841358,"reputation":1324,"user_id":3906304,"accept_rate":47,"display_name":"Raghu"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41275,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25481489,"answer_count":4,"score":3,"last_activity_date":1701082928,"creation_date":1408953035,"question_id":25481330,"body_markdown":"I am very new to hibernate so I am practicing by seeing video tutorial. The link I am following is,\r\n\r\nhttps://www.youtube.com/watch?v=FFMOZY4z6bE&amp;list=PL4AFF701184976B25&amp;index=5\r\n\r\nIt is simple java project in eclipse. Here I use mysql Data base. Here is my Hibernate.cfg.xml file,\r\n\r\n&lt;!-- Database connection settings --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernatedb&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n\r\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\n        &lt;!-- SQL dialect --&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MYSQLDialect&lt;/property&gt;\r\n\r\n        &lt;!-- Disable the second-level cache  --&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n\r\n        &lt;!-- Echo all executed SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\r\n        &lt;!-- Names the annotated entity class --&gt;\r\n        &lt;mapping class=&quot;com.***.dto.UserDetails&quot;/&gt;\r\n\r\nI am getting this kind of error ,\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Exception in thread &quot;main&quot; org.hibernate.HibernateException: Dialect class not found:   org.hibernate.dialect.MYSQLDialect\r\n\tat org.hibernate.dialect.resolver.DialectFactory.constructDialect(DialectFactory.java:159)\r\n\tat org.hibernate.dialect.resolver.DialectFactory.buildDialect(DialectFactory.java:99)\r\n\tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:117)\r\n\tat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2863)\r\n\tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2859)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1870)\r\n\tat com.aurodisplay.hibernate.HibernateTest.main(HibernateTest.java:17)\r\n    Caused by: java.lang.ClassNotFoundException: org.hibernate.dialect.MYSQLDialect\r\n\tat java.net.URLClassLoader$1.run(Unknown Source)\r\n\tat java.net.URLClassLoader$1.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Unknown Source)\r\n\tat org.hibernate.util.ReflectHelper.classForName(ReflectHelper.java:192)\r\n\tat org.hibernate.dialect.resolver.DialectFactory.constructDialect(DialectFactory.java:156)\r\n\r\nCan any one help me in this.","title":"How to resolve &quot;Dialect class not found: org.hibernate.dialect.MYSQLDialect&quot; Exception?","body":"<p>I am very new to hibernate so I am practicing by seeing video tutorial. The link I am following is,</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=FFMOZY4z6bE&amp;list=PL4AFF701184976B25&amp;index=5\" rel=\"nofollow\">https://www.youtube.com/watch?v=FFMOZY4z6bE&amp;list=PL4AFF701184976B25&amp;index=5</a></p>\n\n<p>It is simple java project in eclipse. Here I use mysql Data base. Here is my Hibernate.cfg.xml file,</p>\n\n<p>\n        com.mysql.jdbc.Driver\n        jdbc:mysql://localhost:3306/hibernatedb\n        root\n        root</p>\n\n<pre><code>    &lt;!-- JDBC connection pool (use the built-in) --&gt;\n    &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n    &lt;!-- SQL dialect --&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MYSQLDialect&lt;/property&gt;\n\n    &lt;!-- Disable the second-level cache  --&gt;\n    &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n    &lt;!-- Echo all executed SQL to stdout --&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n    &lt;!-- Drop and re-create the database schema on startup --&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n    &lt;!-- Names the annotated entity class --&gt;\n    &lt;mapping class=\"com.***.dto.UserDetails\"/&gt;\n</code></pre>\n\n<p>I am getting this kind of error ,</p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread \"main\" org.hibernate.HibernateException: Dialect class not found:   org.hibernate.dialect.MYSQLDialect\nat org.hibernate.dialect.resolver.DialectFactory.constructDialect(DialectFactory.java:159)\nat org.hibernate.dialect.resolver.DialectFactory.buildDialect(DialectFactory.java:99)\nat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:117)\nat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2863)\nat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2859)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1870)\nat com.aurodisplay.hibernate.HibernateTest.main(HibernateTest.java:17)\nCaused by: java.lang.ClassNotFoundException: org.hibernate.dialect.MYSQLDialect\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Unknown Source)\nat org.hibernate.util.ReflectHelper.classForName(ReflectHelper.java:192)\nat org.hibernate.dialect.resolver.DialectFactory.constructDialect(DialectFactory.java:156)\n</code></pre>\n\n<p>Can any one help me in this.</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632585035,"post_id":69327728,"comment_id":122535185,"body_markdown":"In general, it is harder to determine what something _is_ than to determine what something _is not_. For example, a file without a class extension isn&#39;t a Java class; a file without the Java class magic number (0xcafebabe) isn&#39;t a Java class etc. You can only really determine that it *is* a Java class by attempting to load it with Java.","body":"In general, it is harder to determine what something <i>is</i> than to determine what something <i>is not</i>. For example, a file without a class extension isn&#39;t a Java class; a file without the Java class magic number (0xcafebabe) isn&#39;t a Java class etc. You can only really determine that it <i>is</i> a Java class by attempting to load it with Java."},{"owner":{"account_id":21586295,"reputation":39,"user_id":16198800,"display_name":"Arkady"},"score":1,"creation_date":1632586600,"post_id":69327728,"comment_id":122535591,"body_markdown":"I can use the Class.forName (...) method, but if the specified file is not a class, an error will occur.\nI don&#39;t know what to do better.","body":"I can use the Class.forName (...) method, but if the specified file is not a class, an error will occur. I don&#39;t know what to do better."},{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1701083121,"post_id":69327728,"comment_id":136726751,"body_markdown":"You can always catch the exception that happens when you load it and if you do, you&#39;ll know it&#39;s not a Java class (or a malformed one or one missing its dependency or ...). Note that loading unknown/untrusted Java classes is probably not a good idea security-wise.","body":"You can always catch the exception that happens when you load it and if you do, you&#39;ll know it&#39;s not a Java class (or a malformed one or one missing its dependency or ...). Note that loading unknown/untrusted Java classes is probably not a good idea security-wise."}],"answers":[{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701082657,"creation_date":1701082657,"answer_id":77556346,"question_id":69327728,"body_markdown":"All Java files start with the magic number 0xCAFEBABE, so this should do the trick\r\n\r\n```\r\n        InputStream is = new FileInputStream(outFile);\r\n        byte[] magicNumber = new byte[4];\r\n        is.read(magicNumber);\r\n        is.close();\r\n\r\n        Arrays.equals(new byte[]{(byte) 0xca, (byte) 0xfe, (byte) 0xba, (byte) 0xbe}, magicNumber);\r\n```    ","title":"How to check if File is a Java class","body":"<p>All Java files start with the magic number 0xCAFEBABE, so this should do the trick</p>\n<pre><code>        InputStream is = new FileInputStream(outFile);\n        byte[] magicNumber = new byte[4];\n        is.read(magicNumber);\n        is.close();\n\n        Arrays.equals(new byte[]{(byte) 0xca, (byte) 0xfe, (byte) 0xba, (byte) 0xbe}, magicNumber);\n</code></pre>\n"}],"owner":{"account_id":21586295,"reputation":39,"user_id":16198800,"display_name":"Arkady"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701082657,"creation_date":1632584831,"question_id":69327728,"body_markdown":"I have a `java.io.File` class with a link to a resource. I want to check if this file is a Java class.\r\nIt is possible to check the file extension... BUT this method does not suit me, since anyone can create a file with the .class extension, but logically the file itself will not be a Java class.","title":"How to check if File is a Java class","body":"<p>I have a <code>java.io.File</code> class with a link to a resource. I want to check if this file is a Java class.\nIt is possible to check the file extension... BUT this method does not suit me, since anyone can create a file with the .class extension, but logically the file itself will not be a Java class.</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":19448538,"reputation":189,"user_id":14225495,"display_name":"Gordon from Blumberg"},"score":0,"creation_date":1601906940,"post_id":64209922,"comment_id":113543862,"body_markdown":"What is the error message?","body":"What is the error message?"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1601961827,"post_id":64209922,"comment_id":113561027,"body_markdown":"Hi, There is no error message. f.delete() returns false and the file was not deleted.","body":"Hi, There is no error message. f.delete() returns false and the file was not deleted."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1601962991,"post_id":64209922,"comment_id":113561337,"body_markdown":"@Abra - That won&#39;t help.  `pdfReader `won&#39;t be set to anything if `new PdfReader` throws, which I assume is what you&#39;re thinking.  I don&#39;t see any way for `pdfReader` to be set to a value and yet `pdfReader.close()` not be called.","body":"@Abra - That won&#39;t help.  <code>pdfReader </code>won&#39;t be set to anything if <code>new PdfReader</code> throws, which I assume is what you&#39;re thinking.  I don&#39;t see any way for <code>pdfReader</code> to be set to a value and yet <code>pdfReader.close()</code> not be called."},{"owner":{"account_id":19448538,"reputation":189,"user_id":14225495,"display_name":"Gordon from Blumberg"},"score":0,"creation_date":1601977314,"post_id":64209922,"comment_id":113566977,"body_markdown":"Try to use the `Files.delete(path)` method instead. This one throws exception with message if can not delete a file. It will give you a clue what is going wrong.","body":"Try to use the <code>Files.delete(path)</code> method instead. This one throws exception with message if can not delete a file. It will give you a clue what is going wrong."},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":1,"creation_date":1601989997,"post_id":64209922,"comment_id":113572764,"body_markdown":"Hi, It says that the process can not access the file because it&#39;s used by an other process. The file is only used by the PdfReader... by the way when i use a different consturctor e.g. the one with the inputstream or a byte[] than the file can be deleted. (but then it&#39;s not partial loaded.)","body":"Hi, It says that the process can not access the file because it&#39;s used by an other process. The file is only used by the PdfReader... by the way when i use a different consturctor e.g. the one with the inputstream or a byte[] than the file can be deleted. (but then it&#39;s not partial loaded.)"}],"answers":[{"tags":[],"owner":{"account_id":1533946,"reputation":944,"user_id":1430463,"accept_rate":80,"display_name":"Valeriane"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701081977,"creation_date":1701081977,"answer_id":77556268,"question_id":64209922,"body_markdown":"Do not use path, but InputStream\r\n\r\n        try(InputStream is = new FileInputStream(f)) {\r\n            PdfReader pdfReader = new PdfReader(is);\r\n            pdfReader.close();\r\n        }","title":"File can&#39;t be deleted after it was opened by Itext PdfReader","body":"<p>Do not use path, but InputStream</p>\n<pre><code>    try(InputStream is = new FileInputStream(f)) {\n        PdfReader pdfReader = new PdfReader(is);\n        pdfReader.close();\n    }\n</code></pre>\n"}],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1701081977,"creation_date":1601905617,"question_id":64209922,"body_markdown":"The following test code fails when f.delete() is called. Any idea why `PdfReader#close()` does not work properly? I need partial reading. I&#39;m using Itext library version 5.5.13 with openjdk 11 on a windows 10 machine.\r\n\r\n```java\r\n    @Test\r\n    public void test() throws IOException {\r\n        File f = new File(&quot;d:\\\\EmptyPdf.pdf&quot;);\r\n        try {\r\n            PdfReader pdfReader = new PdfReader(f.getAbsolutePath(), null, true);\r\n            pdfReader.close();\r\n        } finally {\r\n            Assert.assertTrue(f.delete());\r\n        }\r\n    }\r\n```\r\n\r\nThanks for your help.","title":"File can&#39;t be deleted after it was opened by Itext PdfReader","body":"<p>The following test code fails when f.delete() is called. Any idea why <code>PdfReader#close()</code> does not work properly? I need partial reading. I'm using Itext library version 5.5.13 with openjdk 11 on a windows 10 machine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test() throws IOException {\n        File f = new File(&quot;d:\\\\EmptyPdf.pdf&quot;);\n        try {\n            PdfReader pdfReader = new PdfReader(f.getAbsolutePath(), null, true);\n            pdfReader.close();\n        } finally {\n            Assert.assertTrue(f.delete());\n        }\n    }\n</code></pre>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":5,"creation_date":1701081880,"post_id":77556196,"comment_id":136726538,"body_markdown":"As presented, the controller has no endpoints","body":"As presented, the controller has no endpoints"},{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1701081962,"post_id":77556196,"comment_id":136726553,"body_markdown":"Add a method to your controller with for example a `@GetMapping` annotation that returns the data you want the web service to return.","body":"Add a method to your controller with for example a <code>@GetMapping</code> annotation that returns the data you want the web service to return."},{"owner":{"account_id":1461576,"reputation":9255,"user_id":1375753,"display_name":"Ofir Winegarten"},"score":0,"creation_date":1701084850,"post_id":77556196,"comment_id":136727006,"body_markdown":"Which endpoint are you calling? i dont see any defined on your controller.","body":"Which endpoint are you calling? i dont see any defined on your controller."}],"owner":{"account_id":29999601,"reputation":1,"user_id":22989971,"display_name":"yousfi marwen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701081709,"creation_date":1701081219,"question_id":77556196,"body_markdown":"When I call the endpoint, I receive a 404 error. The problem may be that the annotation SpringBootApplication cannot find the controller.      \r\n\r\nFor information I use spring-boot 3.2 and IDE intellij.  \r\n```\r\n@SpringBootApplication\r\npublic class TaskManagementApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TaskManagementApplication.class, args);\r\n    }\r\n}\r\n```\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n}\r\n```\r\n[project structure ](https://i.stack.imgur.com/zKsBh.png)\r\n\r\nI tried this, but it didn&#39;t work.\r\n```\r\n@SpringBootApplication(scanBasePackages = {&quot;com.other.packages&quot;,&quot;com.other&quot;})\r\n```","title":"Spring boot 3 endpoint 404","body":"<p>When I call the endpoint, I receive a 404 error. The problem may be that the annotation SpringBootApplication cannot find the controller.</p>\n<p>For information I use spring-boot 3.2 and IDE intellij.</p>\n<pre><code>@SpringBootApplication\npublic class TaskManagementApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TaskManagementApplication.class, args);\n    }\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zKsBh.png\" rel=\"nofollow noreferrer\">project structure </a></p>\n<p>I tried this, but it didn't work.</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.other.packages&quot;,&quot;com.other&quot;})\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701080084,"post_id":77541216,"comment_id":136726252,"body_markdown":"The fact that you have that messy excludes and manual includes makes me believe you are mxing wrong versions. You should have a spring cloud dependency import and now versions or excludes for anything else.","body":"The fact that you have that messy excludes and manual includes makes me believe you are mxing wrong versions. You should have a spring cloud dependency import and now versions or excludes for anything else."}],"owner":{"account_id":24068880,"reputation":1,"user_id":20652402,"display_name":"bb-bb-1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701081624,"creation_date":1700808846,"question_id":77541216,"body_markdown":"Below is my *application.properties*:\r\n\r\n```lang-none\r\nspring.profiles.active=test\r\nmodule.name=abc\r\n\r\n# Logging levels across packages (optional)\r\nlogging.level.root=WARN\r\n\r\nspring.cloud.config.import-check.enabled=false\r\n```\r\n\r\nI have these dependency in my [POM][1] file:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt; \r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;-org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.4&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.4&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-commons --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut still I am getting this error:\r\n\r\n```lang-xml\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nNo spring.config.import property has been defined\r\n\r\nAction:\r\n\r\nAdd a spring.config.import=configserver: property to your configuration.\r\n\r\nIf configuration is not required add spring.config.import=optional:configserver: instead.\r\nTo disable this check, set spring.cloud.config.enabled=false or\r\nspring.cloud.config.import-check.enabled=false.\r\n\r\norg.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\r\n\r\n\tat org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:79)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\r\n\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:375)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:333)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)\r\n\r\n```\r\n\r\nAs you can see, I have already added the `config(spring.cloud.config.import-check.enabled=false)` in my *application.properties*, but I am still getting the issue, can anyone please suggest what should I do?\r\n\r\nFYI, I tried the below stuff as well:\r\n\r\n1. adding spring.cloud.config.enabled=false\r\n2. adding spring.config.import=optional:configserver:\r\n\r\nBut none of these were helpful.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n","title":"Even though property is set but still this issue No spring.config.import property has been defined","body":"<p>Below is my <em>application.properties</em>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.profiles.active=test\nmodule.name=abc\n\n# Logging levels across packages (optional)\nlogging.level.root=WARN\n\nspring.cloud.config.import-check.enabled=false\n</code></pre>\n<p>I have these dependency in my <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt; \n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;-org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-commons --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But still I am getting this error:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nNo spring.config.import property has been defined\n\nAction:\n\nAdd a spring.config.import=configserver: property to your configuration.\n\nIf configuration is not required add spring.config.import=optional:configserver: instead.\nTo disable this check, set spring.cloud.config.enabled=false or\nspring.cloud.config.import-check.enabled=false.\n\norg.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\n\n    at org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:79)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:375)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:333)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)\n\n</code></pre>\n<p>As you can see, I have already added the <code>config(spring.cloud.config.import-check.enabled=false)</code> in my <em>application.properties</em>, but I am still getting the issue, can anyone please suggest what should I do?</p>\n<p>FYI, I tried the below stuff as well:</p>\n<ol>\n<li>adding spring.cloud.config.enabled=false</li>\n<li>adding spring.config.import=optional:configserver:</li>\n</ol>\n<p>But none of these were helpful.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701082456,"post_id":77556239,"comment_id":136726637,"body_markdown":"`which approach should be used at what scenario` - form submit sends a request (mostly post) to the server, while 302 redirection is a response (to a request), they are not interchangeable.","body":"<code>which approach should be used at what scenario</code> - form submit sends a request (mostly post) to the server, while 302 redirection is a response (to a request), they are not interchangeable."}],"owner":{"account_id":7849206,"reputation":900,"user_id":5933194,"accept_rate":33,"display_name":"rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701081578,"creation_date":1701081578,"question_id":77556239,"body_markdown":"want to understand what is the difference between a form submit by creating a jsp page in Spring and doing a 302 API redirect\r\n\r\nfor example I can create a get or post API redirect by redirecting to other url \r\n\t\t \r\n\r\n    httpServletResponse.setHeader(&quot;Location&quot;, fun.generateEnrolURL());\r\n    httpServletResponse.setStatus(302);\r\n\r\n \r\n\r\nsimilarly I can create a get api with return type ModelAndView and in the jsp create submit \r\n\r\n    &lt;script&gt;\r\n        $(document).ready(function () {\r\n            $(&quot;body&quot;).append(&#39;&lt;form method=&quot;post&quot; action=&quot;&#39; + &#39;${endPoint}&#39; + &#39;&quot; id=&quot;superMan&quot;&gt;&lt;/form&gt;&#39;);\r\n            $(&quot;#superMan&quot;).append(&#39;&lt;input type=&quot;hidden&quot; name=&quot;SITE&quot; value=&quot;&#39; + &#39;${abc.site}&#39; + &#39;&quot;/&gt;\r\n    \t\t&lt;input type=&quot;hidden&quot; name=&quot;LANGUAGE&quot; value=&quot;&#39; + &#39;${abc.language}&#39; + &#39;&quot;/&gt;\r\n            $(&quot;#superMan&quot;).submit();\r\n        });\r\n    &lt;/script&gt;\r\n\r\n\r\nsince both of these can redirect to another page which approach should be used at what scenario ","title":"Difference between form submit and 302 redirection in spring","body":"<p>want to understand what is the difference between a form submit by creating a jsp page in Spring and doing a 302 API redirect</p>\n<p>for example I can create a get or post API redirect by redirecting to other url</p>\n<pre><code>httpServletResponse.setHeader(&quot;Location&quot;, fun.generateEnrolURL());\nhttpServletResponse.setStatus(302);\n</code></pre>\n<p>similarly I can create a get api with return type ModelAndView and in the jsp create submit</p>\n<pre><code>&lt;script&gt;\n    $(document).ready(function () {\n        $(&quot;body&quot;).append('&lt;form method=&quot;post&quot; action=&quot;' + '${endPoint}' + '&quot; id=&quot;superMan&quot;&gt;&lt;/form&gt;');\n        $(&quot;#superMan&quot;).append('&lt;input type=&quot;hidden&quot; name=&quot;SITE&quot; value=&quot;' + '${abc.site}' + '&quot;/&gt;\n        &lt;input type=&quot;hidden&quot; name=&quot;LANGUAGE&quot; value=&quot;' + '${abc.language}' + '&quot;/&gt;\n        $(&quot;#superMan&quot;).submit();\n    });\n&lt;/script&gt;\n</code></pre>\n<p>since both of these can redirect to another page which approach should be used at what scenario</p>\n"},{"tags":["java","hashmap","binary-tree","subtree"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":3,"creation_date":1701081576,"post_id":77556195,"comment_id":136726500,"body_markdown":"If `m` doesn&#39;t contain any mapping for `str`, `m.get(str)` will return `null`. That would cause `NPE` when auto unboxing in `m.get(str)==1`","body":"If <code>m</code> doesn&#39;t contain any mapping for <code>str</code>, <code>m.get(str)</code> will return <code>null</code>. That would cause <code>NPE</code> when auto unboxing in <code>m.get(str)==1</code>"}],"owner":{"account_id":29206625,"reputation":1,"user_id":22375581,"display_name":"Flame Kaizer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701082413,"answer_count":0,"score":-1,"last_activity_date":1701081218,"creation_date":1701081218,"question_id":77556195,"body_markdown":"We have a binary tree, find all duplicate subtrees. For each duplicate subtree, we only need to return the root node of any one of them. Two trees are duplicates if they have the same structure with the same node values.\r\n\r\ni tried below code. i expected to return - &quot;4 2&quot; but code is giving null pointer exception at line 30. i traversed the tree in inorder traversal. Stored each subtree in hashmap &#39;m&#39; in the form of string &#39;str&#39; and then updating their value by 1. if a subtree is encountered again then i print the root of that subtree and then update its value by one in hashmap. \r\n\r\n```\r\n// A java program to find all duplicate subtrees \r\n// in a binary tree.\r\nimport java.util.HashMap;\r\npublic class Duplicate_subtress {\r\n\r\n\t/* A binary tree node has data, pointer to\r\n\tleft child and a pointer to right child */\r\n\tstatic HashMap&lt;String, Integer&gt; m;\r\n\tstatic class Node {\r\n\t\tint data;\r\n\t\tNode left;\r\n\t\tNode right;\r\n\t\tNode(int data){\r\n\t\t\tthis.data = data;\r\n\t\t\tleft = null;\r\n\t\t\tright = null;\r\n\t\t}\r\n\t}\r\n\tstatic String inorder(Node node)\r\n\t{\r\n\t\tif (node == null)\r\n\t\t\treturn &quot;&quot;;\r\n\t\r\n\t\tString str = &quot;(&quot;;\r\n\t\tstr += inorder(node.left);\r\n\t\tstr += Integer.toString(node.data);\r\n\t\tstr += inorder(node.right);\r\n\t\tstr += &quot;)&quot;;\r\n\t\t\r\n\t\tif ( m.get(str)==1 ) // line 30\r\n\t\t\tSystem.out.print( node.data + &quot; &quot;);\r\n\t\r\n\t\tif (m.containsKey(str))\r\n\t\t\tm.put(str, m.get(str) + 1);\r\n\t\telse\r\n\t\t\tm.put(str, 1);\r\n\t\t\r\n\t\t\r\n\t\treturn str;\r\n\t}\r\n\t\r\n\t// Wrapper over inorder()\r\n\tstatic void printAllDups(Node root)\r\n\t{\r\n\t\tm = new HashMap&lt;&gt;();\r\n\t\tinorder(root);\r\n\t} \r\n\t// Driver code\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tNode root = null;\r\n\t\troot = new Node(1);\r\n\t\troot.left = new Node(2);\r\n\t\troot.right = new Node(3);\r\n\t\troot.left.left = new Node(4);\r\n\t\troot.right.left = new Node(2);\r\n\t\troot.right.left.left = new Node(4);\r\n\t\troot.right.right = new Node(4);\r\n\t\tprintAllDups(root);\r\n\t}\r\n}\r\n\r\n \r\n```","title":"why am i getting java.lang.NullPointerException at line 30?","body":"<p>We have a binary tree, find all duplicate subtrees. For each duplicate subtree, we only need to return the root node of any one of them. Two trees are duplicates if they have the same structure with the same node values.</p>\n<p>i tried below code. i expected to return - &quot;4 2&quot; but code is giving null pointer exception at line 30. i traversed the tree in inorder traversal. Stored each subtree in hashmap 'm' in the form of string 'str' and then updating their value by 1. if a subtree is encountered again then i print the root of that subtree and then update its value by one in hashmap.</p>\n<pre><code>// A java program to find all duplicate subtrees \n// in a binary tree.\nimport java.util.HashMap;\npublic class Duplicate_subtress {\n\n    /* A binary tree node has data, pointer to\n    left child and a pointer to right child */\n    static HashMap&lt;String, Integer&gt; m;\n    static class Node {\n        int data;\n        Node left;\n        Node right;\n        Node(int data){\n            this.data = data;\n            left = null;\n            right = null;\n        }\n    }\n    static String inorder(Node node)\n    {\n        if (node == null)\n            return &quot;&quot;;\n    \n        String str = &quot;(&quot;;\n        str += inorder(node.left);\n        str += Integer.toString(node.data);\n        str += inorder(node.right);\n        str += &quot;)&quot;;\n        \n        if ( m.get(str)==1 ) // line 30\n            System.out.print( node.data + &quot; &quot;);\n    \n        if (m.containsKey(str))\n            m.put(str, m.get(str) + 1);\n        else\n            m.put(str, 1);\n        \n        \n        return str;\n    }\n    \n    // Wrapper over inorder()\n    static void printAllDups(Node root)\n    {\n        m = new HashMap&lt;&gt;();\n        inorder(root);\n    } \n    // Driver code\n    public static void main(String args[])\n    {\n        Node root = null;\n        root = new Node(1);\n        root.left = new Node(2);\n        root.right = new Node(3);\n        root.left.left = new Node(4);\n        root.right.left = new Node(2);\n        root.right.left.left = new Node(4);\n        root.right.right = new Node(4);\n        printAllDups(root);\n    }\n}\n\n \n</code></pre>\n"},{"tags":["java","windows","jboss","ejb-3.0","wildfly-10"],"owner":{"account_id":1293086,"reputation":277,"user_id":1244794,"accept_rate":60,"display_name":"Shrikant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701081116,"creation_date":1701063351,"question_id":77554704,"body_markdown":"I am trying to deploy an ear on Wildfly server using standalone.bat executable in standalone/deployment. I have added required configuration in standalone.xml file but when deploying I get following error. Is there anything that I am missing here?\r\nSame error occurs when I try to deploy ear using admin console.\r\n\r\n    ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;my-rest-service-ear-1.0-SNAPSHOT.ear&quot;)]) - failure description: {\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.ejb.pool-config.StrictMaxPool&quot;],\r\n\r\nHere is my standalone.xml config for the same:\r\n\r\n    &lt;session-bean&gt;\r\n                &lt;stateless&gt;\r\n                    &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\r\n\t\t\t\t\t&lt;bean-instance-pool-ref pool-name=&quot;slsb-strict-max-pool&quot;/&gt;\r\n                &lt;/stateless&gt;\r\n                &lt;stateful default-access-timeout=&quot;5000&quot; cache-ref=&quot;simple&quot; passivation-disabled-cache-ref=&quot;simple&quot;/&gt;\r\n                &lt;singleton default-access-timeout=&quot;5000&quot;/&gt;\r\n            &lt;/session-bean&gt;\r\n            &lt;pools&gt;\r\n                &lt;bean-instance-pools&gt;\r\n                    &lt;strict-max-pool name=&quot;mdb-strict-max-pool&quot; max-pool-size=&quot;20&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\r\n                    &lt;strict-max-pool name=&quot;slsb-strict-max-pool&quot; max-pool-size=&quot;20&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\r\n                &lt;/bean-instance-pools&gt;\r\n            &lt;/pools&gt;\r\n\r\nAny help would be much appreciated, thank you!","title":"Wildfly/JBoss error - Required services that are not installed jboss.ejb.pool-config.StrictMaxPool","body":"<p>I am trying to deploy an ear on Wildfly server using standalone.bat executable in standalone/deployment. I have added required configuration in standalone.xml file but when deploying I get following error. Is there anything that I am missing here?\nSame error occurs when I try to deploy ear using admin console.</p>\n<pre><code>ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;my-rest-service-ear-1.0-SNAPSHOT.ear&quot;)]) - failure description: {\n&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.ejb.pool-config.StrictMaxPool&quot;],\n</code></pre>\n<p>Here is my standalone.xml config for the same:</p>\n<pre><code>&lt;session-bean&gt;\n            &lt;stateless&gt;\n                &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\n                &lt;bean-instance-pool-ref pool-name=&quot;slsb-strict-max-pool&quot;/&gt;\n            &lt;/stateless&gt;\n            &lt;stateful default-access-timeout=&quot;5000&quot; cache-ref=&quot;simple&quot; passivation-disabled-cache-ref=&quot;simple&quot;/&gt;\n            &lt;singleton default-access-timeout=&quot;5000&quot;/&gt;\n        &lt;/session-bean&gt;\n        &lt;pools&gt;\n            &lt;bean-instance-pools&gt;\n                &lt;strict-max-pool name=&quot;mdb-strict-max-pool&quot; max-pool-size=&quot;20&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\n                &lt;strict-max-pool name=&quot;slsb-strict-max-pool&quot; max-pool-size=&quot;20&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\n            &lt;/bean-instance-pools&gt;\n        &lt;/pools&gt;\n</code></pre>\n<p>Any help would be much appreciated, thank you!</p>\n"},{"tags":["java","flyway","nosql"],"comments":[{"owner":{"account_id":1114067,"reputation":196771,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1423559845,"post_id":28427460,"comment_id":45187284,"body_markdown":"I think that Fyway&#39;s documentation is clear enogh. How would you even migrate the schema of a schemaless database?","body":"I think that Fyway&#39;s documentation is clear enogh. How would you even migrate the schema of a schemaless database?"},{"owner":{"account_id":2337074,"reputation":660,"user_id":2049151,"accept_rate":40,"display_name":"maurocchi"},"score":0,"creation_date":1423565168,"post_id":28427460,"comment_id":45190356,"body_markdown":"In your opinion data in a schemaless database cannot change their form during the lifetime of an application?","body":"In your opinion data in a schemaless database cannot change their form during the lifetime of an application?"},{"owner":{"account_id":1114067,"reputation":196771,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1423566205,"post_id":28427460,"comment_id":45190905,"body_markdown":"This is not a matter of opinion. Schemaless databases do not have schemas and Flyway is first and foremost about schema migration. Additionally it is a tool which assumes JDBC as the connectivity API. JDBC assumes SQL as the database conversation language. All this is quite clear from Flyway&#39;s documentation, along with an exhaustive list of all the databases it supports.","body":"This is not a matter of opinion. Schemaless databases do not have schemas and Flyway is first and foremost about schema migration. Additionally it is a tool which assumes JDBC as the connectivity API. JDBC assumes SQL as the database conversation language. All this is quite clear from Flyway&#39;s documentation, along with an exhaustive list of all the databases it supports."}],"answers":[{"tags":[],"owner":{"account_id":142616,"reputation":34832,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423645786,"creation_date":1423645786,"answer_id":28450365,"question_id":28427460,"body_markdown":"There is no explicit support at this time. What you can however do is use Flyway in combination with both a relational and a NoSQL db. Flyway would then keep its metadata table in the relational DB and you would write Java migrations to migrate the NoSQL datastore.","title":"Is it possible use Flyway to perform NoSQL migrations?","body":"<p>There is no explicit support at this time. What you can however do is use Flyway in combination with both a relational and a NoSQL db. Flyway would then keep its metadata table in the relational DB and you would write Java migrations to migrate the NoSQL datastore.</p>\n"},{"tags":[],"owner":{"account_id":1136251,"reputation":11,"user_id":1121273,"display_name":"Worawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564924302,"creation_date":1564924302,"answer_id":57346849,"question_id":28427460,"body_markdown":"An alternative to flyway for MongoDB migration is Monjam (https://github.com/oun/monjam). It has gradle plugin to run the migration. You can write migration in java or js script.","title":"Is it possible use Flyway to perform NoSQL migrations?","body":"<p>An alternative to flyway for MongoDB migration is Monjam (<a href=\"https://github.com/oun/monjam\" rel=\"nofollow noreferrer\">https://github.com/oun/monjam</a>). It has gradle plugin to run the migration. You can write migration in java or js script.</p>\n"},{"tags":[],"owner":{"account_id":29717286,"reputation":76,"user_id":22775506,"display_name":"Adam Britt -Flyway PM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701081040,"creation_date":1701081040,"answer_id":77556175,"question_id":28427460,"body_markdown":"It is now possible to use Flyway to perform NoSQL Migrations and is not just designed for relational databases. Migrations can be written using JavaScript and can run in Flyway using Flyway &#39;migrate&#39; command for MongoDB. The MongoDB support is available in any version after v10.1.0. Other NoSQL Databases are going to be added in the future to Flyway such as Cassandra and Redis.","title":"Is it possible use Flyway to perform NoSQL migrations?","body":"<p>It is now possible to use Flyway to perform NoSQL Migrations and is not just designed for relational databases. Migrations can be written using JavaScript and can run in Flyway using Flyway 'migrate' command for MongoDB. The MongoDB support is available in any version after v10.1.0. Other NoSQL Databases are going to be added in the future to Flyway such as Cassandra and Redis.</p>\n"}],"owner":{"account_id":2337074,"reputation":660,"user_id":2049151,"accept_rate":40,"display_name":"maurocchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12711,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1701081040,"creation_date":1423558394,"question_id":28427460,"body_markdown":"[Flyway](http://flywaydb.org/) can be configured to execute migrations on a NoSQL database (i.e. via Java API) or it is designed only for relational databases?","title":"Is it possible use Flyway to perform NoSQL migrations?","body":"<p><a href=\"http://flywaydb.org/\" rel=\"noreferrer\">Flyway</a> can be configured to execute migrations on a NoSQL database (i.e. via Java API) or it is designed only for relational databases?</p>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":5,"creation_date":1348923658,"post_id":12652896,"comment_id":17067856,"body_markdown":"Google asking for **genercis**","body":"Google asking for <b>genercis</b>"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701082473,"post_id":12652896,"comment_id":136726641,"body_markdown":"This is not legal syntax. Post the real code.","body":"This is not legal syntax. Post the real code."}],"answers":[{"tags":[],"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1348942660,"creation_date":1348924244,"answer_id":12652960,"question_id":12652896,"body_markdown":"`ClassA&lt;ClassB&gt;` Stands for `ClassA` that is using *generics* - one of java features \r\n\r\n`public class interface Set` \r\n\r\n this means that `Set` will be somewhat related to some other type (`E`). Set is holder for some objects. If you declare it as `Set&lt;String&gt;` you can put there only Strings, or something casted to String. That&#39;s the use of `&lt;E&gt;` here. \r\n\r\n`public class SocreManager extends ValueSortedMap` \r\n\r\nSocreManager is wrapper for `ValueSortedMap` it can add some new methods to `ValueSortedMap` but it also can add noting to it, and be used only as class name beautifier. If you add none features to SocreManager, than you will have everything the same as in `ValueSortedMap` but with shorter and simpler name - `SocreManager`. But looking at this name tells me that I will contain something more then just methods from super class. \r\n\r\n\r\n  ","title":"Cannot understand Java class definition","body":"<p><code>ClassA&lt;ClassB&gt;</code> Stands for <code>ClassA</code> that is using <em>generics</em> - one of java features </p>\n\n<p><code>public class interface Set</code> </p>\n\n<p>this means that <code>Set</code> will be somewhat related to some other type (<code>E</code>). Set is holder for some objects. If you declare it as <code>Set&lt;String&gt;</code> you can put there only Strings, or something casted to String. That's the use of <code>&lt;E&gt;</code> here. </p>\n\n<p><code>public class SocreManager extends ValueSortedMap</code> </p>\n\n<p>SocreManager is wrapper for <code>ValueSortedMap</code> it can add some new methods to <code>ValueSortedMap</code> but it also can add noting to it, and be used only as class name beautifier. If you add none features to SocreManager, than you will have everything the same as in <code>ValueSortedMap</code> but with shorter and simpler name - <code>SocreManager</code>. But looking at this name tells me that I will contain something more then just methods from super class. </p>\n"}],"owner":{"account_id":1351232,"reputation":3,"user_id":1290784,"display_name":"user1290784"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":12652960,"answer_count":1,"score":-1,"last_activity_date":1701080208,"creation_date":1348923539,"question_id":12652896,"body_markdown":"I have a problem with some Java coding. I saw this coding while I&#39;m studying Java and cannot understand it...\r\nBelow are some examples:\r\n\r\n    public class interface Set&lt;E&gt;\r\n\r\n    public class SocreManager extends ValueSortedMap&lt;String,Integer&gt;\r\n\r\nThe things that i cannot understand is the things inside the &lt;&gt; (in this example E and String,Integer ) \r\nWhat this &lt;&gt; mean?\r\nI Googled and I still cannot find a answer.","title":"Cannot understand Java class definition","body":"<p>I have a problem with some Java coding. I saw this coding while I'm studying Java and cannot understand it...\nBelow are some examples:</p>\n<pre><code>public class interface Set&lt;E&gt;\n\npublic class SocreManager extends ValueSortedMap&lt;String,Integer&gt;\n</code></pre>\n<p>The things that i cannot understand is the things inside the &lt;&gt; (in this example E and String,Integer )\nWhat this &lt;&gt; mean?\nI Googled and I still cannot find a answer.</p>\n"},{"tags":["java","arrays","spring","jsp","el"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1408388498,"post_id":25370235,"comment_id":39561239,"body_markdown":"share code that is not working for you for clear picture.","body":"share code that is not working for you for clear picture."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1408388520,"post_id":25370235,"comment_id":39561250,"body_markdown":"How do you want to use it?","body":"How do you want to use it?"}],"answers":[{"tags":[],"owner":{"account_id":3062553,"reputation":9128,"user_id":3347384,"accept_rate":36,"display_name":"cchantep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408389223,"creation_date":1408389223,"answer_id":25370460,"question_id":25370235,"body_markdown":"You can use scriptlet to use vanilla Java, in JSP1.x with `&lt;% /* Java */ %&gt;` block, in JSP2 with something like:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;jsp:scriptlet&gt;&lt;![CDATA[\r\n    pageContext.setAttribute(&quot;myArray&quot;, new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; });\r\n    ]]&gt;&lt;/jsp:scriptlet&gt;\r\n\r\n    &lt;!-- so then ... --&gt;\r\n    ${myArray} &lt;!-- or ... --&gt;\r\n    &lt;c:forEach items=&quot;${myArray}&quot; var=&quot;str&quot;&gt;\r\n      &lt;p&gt;${str}&lt;/p&gt;\r\n    &lt;/c:forEach&gt;","title":"Array literals in JSP Expression Language?","body":"<p>You can use scriptlet to use vanilla Java, in JSP1.x with <code>&lt;% /* Java */ %&gt;</code> block, in JSP2 with something like:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jsp:scriptlet&gt;&lt;![CDATA[\npageContext.setAttribute(\"myArray\", new String[] { \"a\", \"b\", \"c\" });\n]]&gt;&lt;/jsp:scriptlet&gt;\n\n&lt;!-- so then ... --&gt;\n${myArray} &lt;!-- or ... --&gt;\n&lt;c:forEach items=\"${myArray}\" var=\"str\"&gt;\n  &lt;p&gt;${str}&lt;/p&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1408394241,"creation_date":1408393040,"answer_id":25371376,"question_id":25370235,"body_markdown":"You could hack it together in a scriptlet-less way with a little help of maps, `&lt;jsp:useBean&gt;` and EL 2.2.\r\n\r\n&lt;!-- language: xhtml --&gt;\r\n\r\n    &lt;jsp:useBean id=&quot;map&quot; class=&quot;java.util.LinkedHashMap&quot; /&gt;\r\n    &lt;c:set target=&quot;${map}&quot; property=&quot;url&quot; value=&quot;${mk.url}&quot; /&gt;\r\n    &lt;c:set target=&quot;${map}&quot; property=&quot;otherUrl&quot; value=&quot;${mk.otherUrl}&quot; /&gt;\r\n    &lt;c:set target=&quot;${map}&quot; property=&quot;differentUrl&quot; value=&quot;${mk.differentUrl}&quot; /&gt;\r\n    &lt;c:set var=&quot;array&quot; value=&quot;${map.values().toArray()}&quot; /&gt;\r\n    \r\n    &lt;c:forEach items=&quot;${array}&quot; var=&quot;item&quot;&gt;\r\n    \t${item}&lt;br/&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nIf your environment doesn&#39;t support EL 2.2, just stick to map and access it via the map.\r\n\r\n&lt;!-- language: xhtml --&gt;\r\n\r\n    &lt;c:forEach items=&quot;${map}&quot; var=&quot;entry&quot;&gt;\r\n    \t${entry.value}&lt;br/&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nNoted should be that your underlying problem is bigger. You shouldn&#39;t be manipulating the model directly in the view. The controller is responsible for that. You should be altering the model in such way so that it&#39;s exactly what the view expects. E.g. by adding a property, or by letting the controller do the job.","title":"Array literals in JSP Expression Language?","body":"<p>You could hack it together in a scriptlet-less way with a little help of maps, <code>&lt;jsp:useBean&gt;</code> and EL 2.2.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;jsp:useBean id=\"map\" class=\"java.util.LinkedHashMap\" /&gt;\n&lt;c:set target=\"${map}\" property=\"url\" value=\"${mk.url}\" /&gt;\n&lt;c:set target=\"${map}\" property=\"otherUrl\" value=\"${mk.otherUrl}\" /&gt;\n&lt;c:set target=\"${map}\" property=\"differentUrl\" value=\"${mk.differentUrl}\" /&gt;\n&lt;c:set var=\"array\" value=\"${map.values().toArray()}\" /&gt;\n\n&lt;c:forEach items=\"${array}\" var=\"item\"&gt;\n    ${item}&lt;br/&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>If your environment doesn't support EL 2.2, just stick to map and access it via the map.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;c:forEach items=\"${map}\" var=\"entry\"&gt;\n    ${entry.value}&lt;br/&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>Noted should be that your underlying problem is bigger. You shouldn't be manipulating the model directly in the view. The controller is responsible for that. You should be altering the model in such way so that it's exactly what the view expects. E.g. by adding a property, or by letting the controller do the job.</p>\n"},{"tags":[],"owner":{"account_id":4304566,"reputation":11,"user_id":3517325,"display_name":"user3517325"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701079607,"creation_date":1701079562,"answer_id":77556036,"question_id":25370235,"body_markdown":"fn:split does it for strings.\r\nLike for tag\r\n```\r\n&lt;tag extraParams=&quot;${fn:split(&#39;_target1,book&#39;, &#39;,&#39;)}&quot; /&gt;\r\n```","title":"Array literals in JSP Expression Language?","body":"<p>fn:split does it for strings.\nLike for tag</p>\n<pre><code>&lt;tag extraParams=&quot;${fn:split('_target1,book', ',')}&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25371376,"answer_count":3,"score":0,"last_activity_date":1701079607,"creation_date":1408388365,"question_id":25370235,"body_markdown":"I&#39;ve been able to do Array literals in Thymeleaf&#39;s expression language before (using...OGNL?...I think...).  Now I am using Spring/JSP.  Do the JSP or Spring Expression Languages support Array Literals?  I can&#39;t find any reference to them.\r\n\r\n\r\n**UPDATE:**\r\nThis is basically what I&#39;m trying to do:\r\n\r\n\t&lt;c:set var=&quot;myUrls&quot; value=&quot;${new String[] {\r\n\t\tmk:getUrl(),\r\n\t\tmk:getOtherUrl(),\r\n\t\tmk:getDifferentUrl()\r\n    }}&quot; /&gt;\r\n","title":"Array literals in JSP Expression Language?","body":"<p>I've been able to do Array literals in Thymeleaf's expression language before (using...OGNL?...I think...).  Now I am using Spring/JSP.  Do the JSP or Spring Expression Languages support Array Literals?  I can't find any reference to them.</p>\n\n<p><strong>UPDATE:</strong>\nThis is basically what I'm trying to do:</p>\n\n<pre><code>&lt;c:set var=\"myUrls\" value=\"${new String[] {\n    mk:getUrl(),\n    mk:getOtherUrl(),\n    mk:getDifferentUrl()\n}}\" /&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5438949,"reputation":1699,"user_id":4327527,"accept_rate":86,"display_name":"Milkmaid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701079360,"creation_date":1701076848,"answer_id":77555746,"question_id":77554940,"body_markdown":"&quot;Job Post Table does not have a List applications field&quot; &lt; that is correct in 1:N relationship.\r\n\r\n&gt;     JobPosting &quot;owns many&quot; Application \r\n&gt;     Many Application belong to &quot;one&quot; JobPosting\r\n\r\nIn database that is represented as a column (**id**) in ***applications*** table.\r\nJPA then load all related applications with special query/(queries).\r\n\r\nI would also recommend to have a look on FetchType which tells whether the list will be load directly when loading JobPosting or after you use *get method*. The default type as well as behavior depends on the particular implementation of JPA.\r\n\r\n    EAGER\r\n    Defines that data must be eagerly fetched.\r\n    LAZY\r\n    Defines that data can be lazily fetched.\r\n\r\n","title":"List&lt;type&gt; applications is not listed in postgres. Java, spring boot, jpa, hibernate","body":"<p>&quot;Job Post Table does not have a List applications field&quot; &lt; that is correct in 1:N relationship.</p>\n<blockquote>\n<pre><code>JobPosting &quot;owns many&quot; Application \nMany Application belong to &quot;one&quot; JobPosting\n</code></pre>\n</blockquote>\n<p>In database that is represented as a column (<strong>id</strong>) in <em><strong>applications</strong></em> table.\nJPA then load all related applications with special query/(queries).</p>\n<p>I would also recommend to have a look on FetchType which tells whether the list will be load directly when loading JobPosting or after you use <em>get method</em>. The default type as well as behavior depends on the particular implementation of JPA.</p>\n<pre><code>EAGER\nDefines that data must be eagerly fetched.\nLAZY\nDefines that data can be lazily fetched.\n</code></pre>\n"}],"owner":{"account_id":30001356,"reputation":1,"user_id":22991279,"display_name":"kratos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701086117,"answer_count":1,"score":0,"last_activity_date":1701079360,"creation_date":1701067273,"question_id":77554940,"body_markdown":"I&#39;m not familiar with using hibernate as much as I should be. I am able to Create a Job Post, I am also able to Send in an application for that. However, there seems to not be a connection between the two. The database has a &quot;jobs_id&quot; field, but the Job Post Table does not have a List&lt;Application&gt; applications field. I have done so many different combinations of code to figure this out and asked gpt 4 for help to no avail. See when I do a GET on postman for the candidates for the Job Post. Nothing shows up.\r\n\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;applications&quot;, uniqueConstraints = {\r\n    @UniqueConstraint(columnNames = {&quot;email&quot;, &quot;jobs_id&quot;})})\r\n\r\n    public class Application {\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;jobs_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @JsonBackReference\r\n    private JobPosting jobPosting;\r\n\r\n\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;jobs&quot;)\r\n    public class JobPosting {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;jobPosting&quot;, cascade = CascadeType.ALL)\r\n    @JsonManagedReference\r\n    private List&lt;Application&gt; applications = new ArrayList&lt;&gt;();\r\n\r\n\r\nThe Above code is the part that is not showing up in postgres. I saw another post on stackoverflow that faced a similar issue to this. But was not able to find a solution to my problem.\r\n\r\n","title":"List&lt;type&gt; applications is not listed in postgres. Java, spring boot, jpa, hibernate","body":"<p>I'm not familiar with using hibernate as much as I should be. I am able to Create a Job Post, I am also able to Send in an application for that. However, there seems to not be a connection between the two. The database has a &quot;jobs_id&quot; field, but the Job Post Table does not have a List applications field. I have done so many different combinations of code to figure this out and asked gpt 4 for help to no avail. See when I do a GET on postman for the candidates for the Job Post. Nothing shows up.</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;applications&quot;, uniqueConstraints = {\n@UniqueConstraint(columnNames = {&quot;email&quot;, &quot;jobs_id&quot;})})\n\npublic class Application {\n\n@ManyToOne\n@JoinColumn(name = &quot;jobs_id&quot;, referencedColumnName = &quot;id&quot;)\n@JsonBackReference\nprivate JobPosting jobPosting;\n\n\n\n@Data\n@Entity\n@Table(name = &quot;jobs&quot;)\npublic class JobPosting {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n\n\n@OneToMany(mappedBy = &quot;jobPosting&quot;, cascade = CascadeType.ALL)\n@JsonManagedReference\nprivate List&lt;Application&gt; applications = new ArrayList&lt;&gt;();\n</code></pre>\n<p>The Above code is the part that is not showing up in postgres. I saw another post on stackoverflow that faced a similar issue to this. But was not able to find a solution to my problem.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701078764,"post_id":77555898,"comment_id":136726019,"body_markdown":"You need the datasource to initialze it. YOu now, indirectly, have a dependency of the datasource on the datasource.","body":"You need the datasource to initialze it. YOu now, indirectly, have a dependency of the datasource on the datasource."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1701078903,"post_id":77555898,"comment_id":136726039,"body_markdown":"Do you mean i have to remove `@DependsOnDatabaseInitialization`","body":"Do you mean i have to remove <code>@DependsOnDatabaseInitialization</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701078974,"post_id":77555898,"comment_id":136726059,"body_markdown":"Yes, from the datasource. The `dataSourceScriptDatabaseInitializer` needs the `DataSource` but the `DataSource` now depends on the `dataSourceScriptDatabaseInitializer`, thus a cycle. But why do you have this configuraiton at all if you are using Spring Boot? Spring Boot will automatically configure the datasource and entitymanager for you already? Also you shouldn&#39;t be using a `validationQuery` JDBC4+ have better means which are automatically used.","body":"Yes, from the datasource. The <code>dataSourceScriptDatabaseInitializer</code> needs the <code>DataSource</code> but the <code>DataSource</code> now depends on the <code>dataSourceScriptDatabaseInitializer</code>, thus a cycle. But why do you have this configuraiton at all if you are using Spring Boot? Spring Boot will automatically configure the datasource and entitymanager for you already? Also you shouldn&#39;t be using a <code>validationQuery</code> JDBC4+ have better means which are automatically used."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1701079141,"post_id":77555898,"comment_id":136726088,"body_markdown":"Thanks for your. Its existing code and working fine with the Springboot2.7..2 ,now with Latest Springboot release its started failing. Any example you can share how datasource can be configure in latest release.","body":"Thanks for your. Its existing code and working fine with the Springboot2.7..2 ,now with Latest Springboot release its started failing. Any example you can share how datasource can be configure in latest release."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701079400,"post_id":77555898,"comment_id":136726129,"body_markdown":"You shouldn&#39;t have that code but just use `spring.datasource` properties. Remove that annotation from the method will make it work. Next I would work on removing code you don&#39;t actually need that Spring Boot already provides through auto configuration.","body":"You shouldn&#39;t have that code but just use <code>spring.datasource</code> properties. Remove that annotation from the method will make it work. Next I would work on removing code you don&#39;t actually need that Spring Boot already provides through auto configuration."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1701081003,"post_id":77555898,"comment_id":136726400,"body_markdown":"Removing the `@DependsOnDatabaseInitialization` now throwing this exception `Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument` and in details `Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider`","body":"Removing the <code>@DependsOnDatabaseInitialization</code> now throwing this exception <code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument</code> and in details <code>Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersist&zwnj;&#8203;enceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701081648,"post_id":77555898,"comment_id":136726511,"body_markdown":"You removed it from where? And as stated I would remove those beans and create the proper configuration in your `application.properties` or `yaml`. Next to that the error you now have feels like you are also mixing incompatible versions of Hiberate with Spring (the fact that you have all those beans makes me wonder what you have in your dependencies...).","body":"You removed it from where? And as stated I would remove those beans and create the proper configuration in your <code>application.properties</code> or <code>yaml</code>. Next to that the error you now have feels like you are also mixing incompatible versions of Hiberate with Spring (the fact that you have all those beans makes me wonder what you have in your dependencies...)."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1701090408,"post_id":77555898,"comment_id":136727969,"body_markdown":"I am using `Springboot3.2.0,spring-orm-6.1.1,jakarata-persitance-api-3.1.0,hibernate-core-6.3.1`","body":"I am using <code>Springboot3.2.0,spring-orm-6.1.1,jakarata-persitance-api-3.1&zwnj;&#8203;.0,hibernate-core-6.&zwnj;&#8203;3.1</code>"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701078330,"creation_date":1701078330,"question_id":77555898,"body_markdown":"In my existing code base when i am migrating from Springboot2.7.2 to Springboot3.2.0 and java8 to java17 .Spring-boot application failing with the error.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    The dependencies of some of the beans in the application context form a cycle:\r\n    \r\n       webSecurityConfig (field private &lt;PackageName&gt;.WebSecurityConfig.securityService)\r\n          ↓\r\n       securityService (field private &lt;PackageName&gt;.SecurityService.authenticationService)\r\n          ↓\r\n       authenticationService (field private &lt;PackageName&gt;.AuthenticationService.systemParameterService)\r\n          ↓\r\n       systemInitialService defined in file [C:\\&lt;PackageName&gt;\\SystemInitialService.class]\r\n          ↓\r\n       userRepository1 defined in &lt;PackageName&gt;.UserRepository1 defined in @EnableJpaRepositories declared on WsApplication\r\n          ↓\r\n       jpaSharedEM_entityManagerFactory\r\n    ┌─────┐\r\n    |  dataSourceScriptDatabaseInitializer defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]\r\n    └─────┘\r\n    \r\n     \r\n    Action:\r\n    \r\n    Despite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\r\n\r\nIf i removed the `@DependsOnDatabaseInitialization` annotation ,this issue will not appear again.\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class DatabaseConfig {\r\n    \r\n      private Properties hibernateProperties() {\r\n            Properties properties = new Properties();\r\n            properties.put(HIBERNATE_DIALECT, dialectMapping.get(dbType));\r\n            properties.put(HIBERNATE_JDBC_BATCH_SIZE, 20);\r\n            properties.put(HIBERNATE_JDBC_FATCH_SIZE, 20);\r\n            properties.put(HIBERNATE_GLOBALLY_QUOTED_IDENTIFIERS, false);\r\n            properties.put(HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS, true);\r\n            properties.put(HIBERNATE_CACHE_USE_SECOND_LEVEL_CACHE, false);\r\n            properties.put(HIBERNATE_CACHE_USE_QUERY_CACHE, false);\r\n            properties.put(JAVAX_PERSISTENCE_SHARED_CACHE_MODE, SharedCacheMode.ENABLE_SELECTIVE);\r\n    \r\n            if ((dbType).equalsIgnoreCase(Constants.Database.PSQL)) {\r\n                dbSchema = StringUtils.isBlank(dbSchema) ? dbUsername : dbSchema;\r\n                properties.put(HIBERNATE_DEFAULT_SCHEMA, dbSchema);\r\n            }\r\n            return properties;\r\n        }\r\n    \r\n        @Bean\r\n        @DependsOnDatabaseInitialization\r\n        public DataSource dataSource() {\r\n            DataSource ds = new DataSource();\r\n            ds.setDriverClassName(driverMapping.get(dbType));\r\n            ds.setUrl(dbUrl);\r\n            ds.setUsername(dbUsername);\r\n            ds.setPassword(decryptPassword(dbPassword));\r\n            ds.setInitialSize(initialSize);\r\n            ds.setMaxActive(maxActive);\r\n            ds.setMaxIdle(maxIdle);\r\n            ds.setMinIdle(minIdle);\r\n            ds.setTestWhileIdle(testWhileIdle);\r\n            ds.setMinEvictableIdleTimeMillis(minEvictableIdleTimeMillis);\r\n            ds.setTimeBetweenEvictionRunsMillis(timeBetweenEvicRunsMillis);\r\n            ds.setTestOnBorrow(testOnBorrow);\r\n            if(StringUtils.isNotBlank(validationQuery)){\r\n                ds.setValidationQuery(validationQuery);\r\n            }else if (dbType.equalsIgnoreCase(Constants.Database.ORACLE)){\r\n                ds.setValidationQuery(&quot;SELECT 1 FROM DUAL&quot;);\r\n            } else {\r\n                ds.setValidationQuery(&quot;SELECT 1&quot;);\r\n            }\r\n            ds.setValidationInterval(validationInterval);\r\n    \r\n            ds.setRemoveAbandoned(removeAbandoned);\r\n            ds.setRemoveAbandonedTimeout(removeAbandonedTimeOut);\r\n            ds.setMaxAge(maxAge);\r\n            ds.setLogValidationErrors(logValidationErrors);\r\n    \r\n            return ds;\r\n        }\r\n    \r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\r\n            entityManagerFactory.setDataSource(dataSource());\r\n            entityManagerFactory.setPackagesToScan(&quot;com.comptel&quot;);\r\n            entityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n            entityManagerFactory.setJpaProperties(hibernateProperties());\r\n            entityManagerFactory.setSharedCacheMode(SharedCacheMode.ALL);\r\n            return entityManagerFactory;\r\n        }\r\n    \r\n        @Bean\r\n        @DependsOnDatabaseInitialization\r\n        public JpaTransactionManager transactionManager(LocalContainerEntityManagerFactoryBean entityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory.getObject());\r\n            return transactionManager;\r\n        }\r\n    }\r\n\r\nthen it will start throwing \r\n\r\n&gt; defined in @EnableJpaRepositories declared on WsApplication: Cannot\r\n&gt; resolve reference to bean &#39;jpaSharedEM_entityManagerFactory&#39; while\r\n&gt; setting bean property &#39;entityManager&#39; Caused by:\r\n&gt; java.lang.IncompatibleClassChangeError: Class\r\n&gt; org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider\r\n&gt; does not implement the requested interface\r\n&gt; jakarta.persistence.spi.PersistenceProvider\r\n\r\nWhile i am using jakarta*. libraries in place of javax*.","title":"SpringBoot : @DependsOnDatabaseInitialization throwing Cicular Dependecy Exception","body":"<p>In my existing code base when i am migrating from Springboot2.7.2 to Springboot3.2.0 and java8 to java17 .Spring-boot application failing with the error.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n   webSecurityConfig (field private &lt;PackageName&gt;.WebSecurityConfig.securityService)\n      ↓\n   securityService (field private &lt;PackageName&gt;.SecurityService.authenticationService)\n      ↓\n   authenticationService (field private &lt;PackageName&gt;.AuthenticationService.systemParameterService)\n      ↓\n   systemInitialService defined in file [C:\\&lt;PackageName&gt;\\SystemInitialService.class]\n      ↓\n   userRepository1 defined in &lt;PackageName&gt;.UserRepository1 defined in @EnableJpaRepositories declared on WsApplication\n      ↓\n   jpaSharedEM_entityManagerFactory\n┌─────┐\n|  dataSourceScriptDatabaseInitializer defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]\n└─────┘\n\n \nAction:\n\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\n</code></pre>\n<p>If i removed the <code>@DependsOnDatabaseInitialization</code> annotation ,this issue will not appear again.</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class DatabaseConfig {\n\n  private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(HIBERNATE_DIALECT, dialectMapping.get(dbType));\n        properties.put(HIBERNATE_JDBC_BATCH_SIZE, 20);\n        properties.put(HIBERNATE_JDBC_FATCH_SIZE, 20);\n        properties.put(HIBERNATE_GLOBALLY_QUOTED_IDENTIFIERS, false);\n        properties.put(HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS, true);\n        properties.put(HIBERNATE_CACHE_USE_SECOND_LEVEL_CACHE, false);\n        properties.put(HIBERNATE_CACHE_USE_QUERY_CACHE, false);\n        properties.put(JAVAX_PERSISTENCE_SHARED_CACHE_MODE, SharedCacheMode.ENABLE_SELECTIVE);\n\n        if ((dbType).equalsIgnoreCase(Constants.Database.PSQL)) {\n            dbSchema = StringUtils.isBlank(dbSchema) ? dbUsername : dbSchema;\n            properties.put(HIBERNATE_DEFAULT_SCHEMA, dbSchema);\n        }\n        return properties;\n    }\n\n    @Bean\n    @DependsOnDatabaseInitialization\n    public DataSource dataSource() {\n        DataSource ds = new DataSource();\n        ds.setDriverClassName(driverMapping.get(dbType));\n        ds.setUrl(dbUrl);\n        ds.setUsername(dbUsername);\n        ds.setPassword(decryptPassword(dbPassword));\n        ds.setInitialSize(initialSize);\n        ds.setMaxActive(maxActive);\n        ds.setMaxIdle(maxIdle);\n        ds.setMinIdle(minIdle);\n        ds.setTestWhileIdle(testWhileIdle);\n        ds.setMinEvictableIdleTimeMillis(minEvictableIdleTimeMillis);\n        ds.setTimeBetweenEvictionRunsMillis(timeBetweenEvicRunsMillis);\n        ds.setTestOnBorrow(testOnBorrow);\n        if(StringUtils.isNotBlank(validationQuery)){\n            ds.setValidationQuery(validationQuery);\n        }else if (dbType.equalsIgnoreCase(Constants.Database.ORACLE)){\n            ds.setValidationQuery(&quot;SELECT 1 FROM DUAL&quot;);\n        } else {\n            ds.setValidationQuery(&quot;SELECT 1&quot;);\n        }\n        ds.setValidationInterval(validationInterval);\n\n        ds.setRemoveAbandoned(removeAbandoned);\n        ds.setRemoveAbandonedTimeout(removeAbandonedTimeOut);\n        ds.setMaxAge(maxAge);\n        ds.setLogValidationErrors(logValidationErrors);\n\n        return ds;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactory.setDataSource(dataSource());\n        entityManagerFactory.setPackagesToScan(&quot;com.comptel&quot;);\n        entityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        entityManagerFactory.setJpaProperties(hibernateProperties());\n        entityManagerFactory.setSharedCacheMode(SharedCacheMode.ALL);\n        return entityManagerFactory;\n    }\n\n    @Bean\n    @DependsOnDatabaseInitialization\n    public JpaTransactionManager transactionManager(LocalContainerEntityManagerFactoryBean entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory.getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>then it will start throwing</p>\n<blockquote>\n<p>defined in @EnableJpaRepositories declared on WsApplication: Cannot\nresolve reference to bean 'jpaSharedEM_entityManagerFactory' while\nsetting bean property 'entityManager' Caused by:\njava.lang.IncompatibleClassChangeError: Class\norg.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider\ndoes not implement the requested interface\njakarta.persistence.spi.PersistenceProvider</p>\n</blockquote>\n<p>While i am using jakarta*. libraries in place of javax*.</p>\n"},{"tags":["java","android","google-cloud-firestore","material-design","android-jetpack-compose-material3"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1701078805,"post_id":77555875,"comment_id":136726029,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":26899499,"reputation":1,"user_id":20476883,"display_name":"Li&#39;s hideout"},"score":0,"creation_date":1701416678,"post_id":77555875,"comment_id":136775320,"body_markdown":"@AlexMamo sorry, what I meant to ask is how can I listen to the typed string onto search bar. Seems like my ```searchView.getEditText().addTextChangedListener(new TextWatcher()``` is not working","body":"@AlexMamo sorry, what I meant to ask is how can I listen to the typed string onto search bar. Seems like my <code>searchView.getEditText().addTextChangedListener(new TextWatcher()</code> is not working"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1701436144,"post_id":77555875,"comment_id":136778422,"body_markdown":"&quot;is not working&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?","body":"&quot;is not working&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?"}],"owner":{"account_id":26899499,"reputation":1,"user_id":20476883,"display_name":"Li&#39;s hideout"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701078089,"creation_date":1701078089,"question_id":77555875,"body_markdown":"I&#39;ve tried to connect the Material Design Component Search Bar component into my Android Studio, but I have difficulties doing so.\r\n\r\n- Firstly, I&#39;m not sure whether `searchView.getEditText().setOnEditorActionListener` let me listen to the current typed string in the search Bar.\r\n\r\n- Secondly, I want to know how I can correctly display the list of results I put in a HashMap called ``` `searchResults ``` within the method ``` `updateSearchResultUI ```  .If the implementation is wrong, please correct me.\r\n\r\nonCreateView method in my fragment\r\n\r\n```\r\n@Override\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                         Bundle savedInstanceState) {\r\n    View view =inflater.inflate(R.layout.fragment_home_page, container, false);\r\n\r\n\r\n    //INSTANTIATE FIRESTORE\r\n    Firestore=FirebaseFirestore.getInstance();\r\n\r\n\r\n    //SEARCH BAR DECLARATION\r\n    searchBar=(SearchBar) view.findViewById(R.id.search_bar);\r\n    searchView=(SearchView)view.findViewById(R.id.search_view);\r\n\r\n    searchView.getEditText().setOnEditorActionListener(\r\n            (v, actionId, event) -&gt; {\r\n                searchBar.setText(searchView.getText());\r\n                searchView.getEditText().addTextChangedListener(new TextWatcher() {\r\n                    @Override\r\n                    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\r\n                    @Override\r\n                    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\r\n                    @Override\r\n                    public void afterTextChanged(Editable editable) {\r\n                        String searchText = editable.toString();\r\n                        performSearch(searchText, view);\r\n                    }\r\n                });\r\n                return false;\r\n            });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return view;\r\n}\r\n```\r\n\r\nperformSearch() method to search string currently typed in searchbar inside Firestore\r\n\r\n```\r\n\r\nprivate void performSearch(String searchText, View view) {\r\n    CollectionReference usersRef = Firestore.collection(&quot;Users&quot;);\r\n\r\n    Query query = usersRef.whereEqualTo(&quot;username&quot;, searchText);\r\n\r\n    query.get().addOnCompleteListener(task -&gt; {\r\n        if (task.isSuccessful()) {\r\n            List&lt;Map&lt;String, Object&gt;&gt; searchResults = new ArrayList&lt;&gt;();  // Directly work with Map\r\n\r\n            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                Map&lt;String, Object&gt; userData = document.getData();\r\n                searchResults.add(userData);\r\n            }\r\n\r\n            updateSearchResultUI(searchResults, view);\r\n\r\n            // Update your UI with searchResults\r\n        } else {\r\n            // Handle errors\r\n            Log.e(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nupdateSearchResultUI() to update the list of results from Firestore onto a List, then to update in SearchView UI\r\n\r\n```\r\npublic void updateSearchResultUI(List&lt;Map&lt;String, Object&gt;&gt; searchResults, View view) {\r\n    ListView listView = view.findViewById(R.id.listView);\r\n\r\n    // Create a list of strings to store the usernames\r\n    List&lt;String&gt; usernames = new ArrayList&lt;&gt;();\r\n\r\n    // Iterate through each search result map\r\n    for (Map&lt;String, Object&gt; result : searchResults) {\r\n        // Assuming &quot;username&quot; is the key for the username in the map\r\n        String username = (String) result.get(&quot;username&quot;);\r\n\r\n        // Add the username to the list\r\n        if (username != null) {\r\n            usernames.add(username);\r\n        }\r\n    }\r\n\r\n    // Create an ArrayAdapter to bind the data to the ListView\r\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(view.getContext(), android.R.layout.simple_list_item_1, usernames);\r\n\r\n    // Set the adapter to the ListView\r\n    listView.setAdapter(adapter);\r\n}\r\n```\r\n\r\nI&#39;m new in using Android Material Components, and I wish that I could get any help on how I can display my Firestore results seamlessly onto my UI. Thank you very much for your help.","title":"How can I listen to MDC search bar typed-in String, in order to display results onto SearchView UI?","body":"<p>I've tried to connect the Material Design Component Search Bar component into my Android Studio, but I have difficulties doing so.</p>\n<ul>\n<li><p>Firstly, I'm not sure whether <code>searchView.getEditText().setOnEditorActionListener</code> let me listen to the current typed string in the search Bar.</p>\n</li>\n<li><p>Secondly, I want to know how I can correctly display the list of results I put in a HashMap called <code>`searchResults</code> within the method <code>`updateSearchResultUI</code>  .If the implementation is wrong, please correct me.</p>\n</li>\n</ul>\n<p>onCreateView method in my fragment</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View view =inflater.inflate(R.layout.fragment_home_page, container, false);\n\n\n    //INSTANTIATE FIRESTORE\n    Firestore=FirebaseFirestore.getInstance();\n\n\n    //SEARCH BAR DECLARATION\n    searchBar=(SearchBar) view.findViewById(R.id.search_bar);\n    searchView=(SearchView)view.findViewById(R.id.search_view);\n\n    searchView.getEditText().setOnEditorActionListener(\n            (v, actionId, event) -&gt; {\n                searchBar.setText(searchView.getText());\n                searchView.getEditText().addTextChangedListener(new TextWatcher() {\n                    @Override\n                    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\n                    @Override\n                    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\n                    @Override\n                    public void afterTextChanged(Editable editable) {\n                        String searchText = editable.toString();\n                        performSearch(searchText, view);\n                    }\n                });\n                return false;\n            });\n\n\n\n\n\n\n\n    return view;\n}\n</code></pre>\n<p>performSearch() method to search string currently typed in searchbar inside Firestore</p>\n<pre><code>\nprivate void performSearch(String searchText, View view) {\n    CollectionReference usersRef = Firestore.collection(&quot;Users&quot;);\n\n    Query query = usersRef.whereEqualTo(&quot;username&quot;, searchText);\n\n    query.get().addOnCompleteListener(task -&gt; {\n        if (task.isSuccessful()) {\n            List&lt;Map&lt;String, Object&gt;&gt; searchResults = new ArrayList&lt;&gt;();  // Directly work with Map\n\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                Map&lt;String, Object&gt; userData = document.getData();\n                searchResults.add(userData);\n            }\n\n            updateSearchResultUI(searchResults, view);\n\n            // Update your UI with searchResults\n        } else {\n            // Handle errors\n            Log.e(TAG, &quot;Error getting documents: &quot;, task.getException());\n        }\n    });\n}\n</code></pre>\n<p>updateSearchResultUI() to update the list of results from Firestore onto a List, then to update in SearchView UI</p>\n<pre><code>public void updateSearchResultUI(List&lt;Map&lt;String, Object&gt;&gt; searchResults, View view) {\n    ListView listView = view.findViewById(R.id.listView);\n\n    // Create a list of strings to store the usernames\n    List&lt;String&gt; usernames = new ArrayList&lt;&gt;();\n\n    // Iterate through each search result map\n    for (Map&lt;String, Object&gt; result : searchResults) {\n        // Assuming &quot;username&quot; is the key for the username in the map\n        String username = (String) result.get(&quot;username&quot;);\n\n        // Add the username to the list\n        if (username != null) {\n            usernames.add(username);\n        }\n    }\n\n    // Create an ArrayAdapter to bind the data to the ListView\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(view.getContext(), android.R.layout.simple_list_item_1, usernames);\n\n    // Set the adapter to the ListView\n    listView.setAdapter(adapter);\n}\n</code></pre>\n<p>I'm new in using Android Material Components, and I wish that I could get any help on how I can display my Firestore results seamlessly onto my UI. Thank you very much for your help.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700778369,"post_id":77539435,"comment_id":136698670,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700835396,"post_id":77539435,"comment_id":136705111,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo"},{"owner":{"account_id":29538162,"reputation":1,"user_id":22637398,"display_name":"Kitlolz012"},"score":0,"creation_date":1700852635,"post_id":77539435,"comment_id":136707543,"body_markdown":"@AlexMamo image file does not exist at uri but that said image is already in my firebase realtime database and already display in my application","body":"@AlexMamo image file does not exist at uri but that said image is already in my firebase realtime database and already display in my application"}],"answers":[{"tags":[],"owner":{"account_id":30000833,"reputation":1,"user_id":22990866,"display_name":"Lalaji ghoyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701061662,"creation_date":1701061662,"answer_id":77554621,"question_id":77539435,"body_markdown":"You&#39;re updating various fields such as name, address, etc. and also handling the upload of images to Firebase Storage.\r\n\r\n - Ensure that the fileExists() method is working as expected. If the imageUri is coming from the gallery or camera, it might not represent a local file path directly. You may need to handle different types of Uri schemes, such as content:// and file://.\r\n\r\n- The code uses a CountDownLatch to wait for all image uploads to complete. While this approach works, you might want to explore using Firebase&#39;s Tasks.whenAllComplete() or Tasks.whenAllSuccess() for a more streamlined way to handle multiple asynchronous tasks.\r\n\r\nPlease try this to might it solve your problem. Thanks.","title":"image file does not exist at uri","body":"<p>You're updating various fields such as name, address, etc. and also handling the upload of images to Firebase Storage.</p>\n<ul>\n<li><p>Ensure that the fileExists() method is working as expected. If the imageUri is coming from the gallery or camera, it might not represent a local file path directly. You may need to handle different types of Uri schemes, such as content:// and file://.</p>\n</li>\n<li><p>The code uses a CountDownLatch to wait for all image uploads to complete. While this approach works, you might want to explore using Firebase's Tasks.whenAllComplete() or Tasks.whenAllSuccess() for a more streamlined way to handle multiple asynchronous tasks.</p>\n</li>\n</ul>\n<p>Please try this to might it solve your problem. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701078082,"creation_date":1701078082,"answer_id":77555874,"question_id":77539435,"body_markdown":"Add additional logging statements to trace the flow of execution and identify where the code might be failing.\r\n\r\n    Log.d(TAG, &quot;Checking file existence for Uri: &quot; + imageUri.toString());\r\n    if (fileExists(imageUri)) {\r\n        Log.d(TAG, &quot;File exists. Proceeding with upload.&quot;);\r\n        // your ccode\r\n    } else {\r\n        Log.e(TAG, &quot;Image file does not exist at Uri: &quot; + imageUri.toString());\r\n     \r\n\r\n   latch.countDown();\r\n}\r\n\r\n\r\nalso check the existence of a file like this:\r\n\r\n    private boolean fileExists(Uri uri) {\r\n        if (uri != null) {\r\n            try (InputStream inputStream = getContentResolver().openInputStream(uri)) {\r\n                return inputStream != null;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\nFinally, make sure that your Firebase Storage rules allow read and write operations.\r\n\r\n","title":"image file does not exist at uri","body":"<p>Add additional logging statements to trace the flow of execution and identify where the code might be failing.</p>\n<pre><code>Log.d(TAG, &quot;Checking file existence for Uri: &quot; + imageUri.toString());\nif (fileExists(imageUri)) {\n    Log.d(TAG, &quot;File exists. Proceeding with upload.&quot;);\n    // your ccode\n} else {\n    Log.e(TAG, &quot;Image file does not exist at Uri: &quot; + imageUri.toString());\n \n</code></pre>\n<p>latch.countDown();\n}</p>\n<p>also check the existence of a file like this:</p>\n<pre><code>private boolean fileExists(Uri uri) {\n    if (uri != null) {\n        try (InputStream inputStream = getContentResolver().openInputStream(uri)) {\n            return inputStream != null;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Finally, make sure that your Firebase Storage rules allow read and write operations.</p>\n"}],"owner":{"account_id":29538162,"reputation":1,"user_id":22637398,"display_name":"Kitlolz012"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701078082,"creation_date":1700770534,"question_id":77539435,"body_markdown":"The issue i am facing is that the image that it is saying not exist is the one that&#39;s already in the app or display on the app also it&#39;s already in the firebase realtime database\r\n\r\nThe code are:\r\n\r\n\r\n```\r\n\r\n\r\n private void update(String hotelName, String hotelAddress, String hotelDescription, List&lt;Uri&gt; imageUris, String hotelContact,\r\n\r\n                        String hotelEmail, List&lt;String&gt; roomTypes, String cancellationPolicy, String hotelId, String amenitiesHotel,\r\n\r\n                        String gcashNumber, String gcashName, String reservationFee, double latitude, double longitude) {\r\n\r\n        DatabaseReference hotelsRef = databaseReference.child(&quot;hotels&quot;);\r\n\r\n        Query query = hotelsRef.orderByChild(&quot;user_id&quot;).equalTo(userId);\r\n\r\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n\r\n            @Override\r\n\r\n            public void onDataChange(@NonNull com.google.firebase.database.DataSnapshot dataSnapshot) {\r\n\r\n                if (dataSnapshot.exists()) {\r\n\r\n                    for (com.google.firebase.database.DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\r\n\r\n                        String hotelId = childSnapshot.getKey();\r\n\r\n                        DatabaseReference hotelRef = hotelsRef.child(hotelId);\r\n\r\n                        hotelRef.child(&quot;name&quot;).setValue(hotelName);\r\n\r\n                        hotelRef.child(&quot;address&quot;).setValue(hotelAddress);\r\n\r\n                        hotelRef.child(&quot;description&quot;).setValue(hotelDescription);\r\n\r\n                        hotelRef.child(&quot;contact&quot;).setValue(hotelContact);\r\n\r\n                        hotelRef.child(&quot;email&quot;).setValue(hotelEmail);\r\n\r\n                        hotelRef.child(&quot;cancellationPolicy&quot;).setValue(cancellationPolicy);\r\n\r\n                        hotelRef.child(&quot;amenities&quot;).setValue(amenitiesHotel);\r\n\r\n                        hotelRef.child(&quot;gcashNumber&quot;).setValue(gcashNumber);\r\n\r\n                        hotelRef.child(&quot;gcashName&quot;).setValue(gcashName);\r\n\r\n                        hotelRef.child(&quot;reservationFee&quot;).setValue(reservationFee);\r\n\r\n                        hotelRef.child(&quot;latitude&quot;).setValue(latitude);\r\n\r\n                        hotelRef.child(&quot;longitude&quot;).setValue(longitude);\r\n\r\n                        saveRoomTypes(hotelId, roomTypes);\r\n\r\n                        if (!imageUris.isEmpty()) {\r\n\r\n                            List&lt;String&gt; imageUrls = new ArrayList&lt;&gt;();\r\n\r\n                            AtomicInteger uploadCount = new AtomicInteger(0);\r\n\r\n                            // Use a CountDownLatch to wait for all uploads to complete\r\n\r\n                            CountDownLatch latch = new CountDownLatch(imageUris.size());\r\n\r\n                            for (int i = 0; i &lt; imageUris.size(); i++) {\r\n\r\n                                Uri imageUri = imageUris.get(i);\r\n\r\n                                if (imageUri != null) {\r\n\r\n                                    // Check if the file exists before attempting to upload\r\n\r\n                                    if (fileExists(imageUri)) {\r\n\r\n                                        StorageReference imageRef = storageReference.child(&quot;hotel_images/&quot; + hotelId + &quot;/image&quot; + (i + 1));\r\n\r\n                                        UploadTask uploadTask = imageRef.putFile(imageUri);\r\n\r\n                                        uploadTask.addOnSuccessListener(taskSnapshot -&gt; {\r\n\r\n                                            imageRef.getDownloadUrl().addOnSuccessListener(downloadUri -&gt; {\r\n\r\n                                                String imageUrl = downloadUri.toString();\r\n\r\n                                                imageUrls.add(imageUrl);\r\n\r\n                                                if (uploadCount.incrementAndGet() == imageUris.size()) {\r\n\r\n                                                    // All images uploaded, update the database\r\n\r\n                                                    save(hotelId, imageUrls, hotelName, hotelAddress, hotelDescription, hotelContact,\r\n\r\n                                                            hotelEmail, roomTypes, cancellationPolicy, amenitiesHotel, gcashNumber, gcashName, reservationFee, latitude, longitude);\r\n\r\n                                                    // Release the latch when all uploads are complete\r\n\r\n                                                    latch.countDown();\r\n\r\n                                                }\r\n\r\n                                            }).addOnFailureListener(e -&gt; {\r\n\r\n                                                Log.e(&quot;image upload&quot;, &quot;Firebase Storage Error: &quot; + e.getMessage());\r\n\r\n                                                latch.countDown(); // Release the latch even if there&#39;s an error\r\n\r\n                                            });\r\n\r\n                                        }).addOnFailureListener(e -&gt; {\r\n\r\n                                            Log.e(&quot;image upload&quot;, &quot;Error during upload: &quot; + e.getMessage());\r\n\r\n                                            latch.countDown(); // Release the latch even if there&#39;s an error\r\n\r\n                                        });\r\n\r\n                                    } else {\r\n\r\n                                        Log.e(TAG, &quot;Image file does not exist at Uri: &quot; + imageUri.toString());\r\n\r\n                                        latch.countDown(); // Release the latch in case of file not found\r\n\r\n                                    }\r\n\r\n                                } else {\r\n\r\n                                    Log.e(TAG, &quot;ImageUri is null. Handle this case accordingly.&quot;);\r\n\r\n                                    latch.countDown(); // Release the latch in case of null Uri\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                            try {\r\n\r\n                                // Wait for all uploads to complete before proceeding\r\n\r\n                                latch.await();\r\n\r\n                            } catch (InterruptedException e) {\r\n\r\n                                e.printStackTrace();\r\n\r\n                            }\r\n\r\n                        } else {\r\n\r\n                            // If no images, update the database directly\r\n\r\n                            save(hotelId, null, hotelName, hotelAddress, hotelDescription, hotelContact,\r\n\r\n                                    hotelEmail, roomTypes, cancellationPolicy, amenitiesHotel, gcashNumber, gcashName, reservationFee, latitude, longitude);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                Log.e(&quot;update&quot;, &quot;error&quot; + databaseError.getMessage());\r\n\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    \r\n\r\n    // Function to check if a file exists at the given Uri\r\n\r\n    private boolean fileExists(Uri uri) {\r\n\r\n        if (uri != null) {\r\n\r\n            File file = new File(uri.getPath());\r\n\r\n            return file.exists();\r\n\r\n        }\r\n\r\n        return false;\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI already check the rules etc..\r\n\r\nAlso if I upload the the second or more images it&#39;s not updating or its not going to the storage or realtime database.\r\nThankyou","title":"image file does not exist at uri","body":"<p>The issue i am facing is that the image that it is saying not exist is the one that's already in the app or display on the app also it's already in the firebase realtime database</p>\n<p>The code are:</p>\n<pre><code>\n\n private void update(String hotelName, String hotelAddress, String hotelDescription, List&lt;Uri&gt; imageUris, String hotelContact,\n\n                        String hotelEmail, List&lt;String&gt; roomTypes, String cancellationPolicy, String hotelId, String amenitiesHotel,\n\n                        String gcashNumber, String gcashName, String reservationFee, double latitude, double longitude) {\n\n        DatabaseReference hotelsRef = databaseReference.child(&quot;hotels&quot;);\n\n        Query query = hotelsRef.orderByChild(&quot;user_id&quot;).equalTo(userId);\n\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\n\n            @Override\n\n            public void onDataChange(@NonNull com.google.firebase.database.DataSnapshot dataSnapshot) {\n\n                if (dataSnapshot.exists()) {\n\n                    for (com.google.firebase.database.DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\n\n                        String hotelId = childSnapshot.getKey();\n\n                        DatabaseReference hotelRef = hotelsRef.child(hotelId);\n\n                        hotelRef.child(&quot;name&quot;).setValue(hotelName);\n\n                        hotelRef.child(&quot;address&quot;).setValue(hotelAddress);\n\n                        hotelRef.child(&quot;description&quot;).setValue(hotelDescription);\n\n                        hotelRef.child(&quot;contact&quot;).setValue(hotelContact);\n\n                        hotelRef.child(&quot;email&quot;).setValue(hotelEmail);\n\n                        hotelRef.child(&quot;cancellationPolicy&quot;).setValue(cancellationPolicy);\n\n                        hotelRef.child(&quot;amenities&quot;).setValue(amenitiesHotel);\n\n                        hotelRef.child(&quot;gcashNumber&quot;).setValue(gcashNumber);\n\n                        hotelRef.child(&quot;gcashName&quot;).setValue(gcashName);\n\n                        hotelRef.child(&quot;reservationFee&quot;).setValue(reservationFee);\n\n                        hotelRef.child(&quot;latitude&quot;).setValue(latitude);\n\n                        hotelRef.child(&quot;longitude&quot;).setValue(longitude);\n\n                        saveRoomTypes(hotelId, roomTypes);\n\n                        if (!imageUris.isEmpty()) {\n\n                            List&lt;String&gt; imageUrls = new ArrayList&lt;&gt;();\n\n                            AtomicInteger uploadCount = new AtomicInteger(0);\n\n                            // Use a CountDownLatch to wait for all uploads to complete\n\n                            CountDownLatch latch = new CountDownLatch(imageUris.size());\n\n                            for (int i = 0; i &lt; imageUris.size(); i++) {\n\n                                Uri imageUri = imageUris.get(i);\n\n                                if (imageUri != null) {\n\n                                    // Check if the file exists before attempting to upload\n\n                                    if (fileExists(imageUri)) {\n\n                                        StorageReference imageRef = storageReference.child(&quot;hotel_images/&quot; + hotelId + &quot;/image&quot; + (i + 1));\n\n                                        UploadTask uploadTask = imageRef.putFile(imageUri);\n\n                                        uploadTask.addOnSuccessListener(taskSnapshot -&gt; {\n\n                                            imageRef.getDownloadUrl().addOnSuccessListener(downloadUri -&gt; {\n\n                                                String imageUrl = downloadUri.toString();\n\n                                                imageUrls.add(imageUrl);\n\n                                                if (uploadCount.incrementAndGet() == imageUris.size()) {\n\n                                                    // All images uploaded, update the database\n\n                                                    save(hotelId, imageUrls, hotelName, hotelAddress, hotelDescription, hotelContact,\n\n                                                            hotelEmail, roomTypes, cancellationPolicy, amenitiesHotel, gcashNumber, gcashName, reservationFee, latitude, longitude);\n\n                                                    // Release the latch when all uploads are complete\n\n                                                    latch.countDown();\n\n                                                }\n\n                                            }).addOnFailureListener(e -&gt; {\n\n                                                Log.e(&quot;image upload&quot;, &quot;Firebase Storage Error: &quot; + e.getMessage());\n\n                                                latch.countDown(); // Release the latch even if there's an error\n\n                                            });\n\n                                        }).addOnFailureListener(e -&gt; {\n\n                                            Log.e(&quot;image upload&quot;, &quot;Error during upload: &quot; + e.getMessage());\n\n                                            latch.countDown(); // Release the latch even if there's an error\n\n                                        });\n\n                                    } else {\n\n                                        Log.e(TAG, &quot;Image file does not exist at Uri: &quot; + imageUri.toString());\n\n                                        latch.countDown(); // Release the latch in case of file not found\n\n                                    }\n\n                                } else {\n\n                                    Log.e(TAG, &quot;ImageUri is null. Handle this case accordingly.&quot;);\n\n                                    latch.countDown(); // Release the latch in case of null Uri\n\n                                }\n\n                            }\n\n                            try {\n\n                                // Wait for all uploads to complete before proceeding\n\n                                latch.await();\n\n                            } catch (InterruptedException e) {\n\n                                e.printStackTrace();\n\n                            }\n\n                        } else {\n\n                            // If no images, update the database directly\n\n                            save(hotelId, null, hotelName, hotelAddress, hotelDescription, hotelContact,\n\n                                    hotelEmail, roomTypes, cancellationPolicy, amenitiesHotel, gcashNumber, gcashName, reservationFee, latitude, longitude);\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n            @Override\n\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                Log.e(&quot;update&quot;, &quot;error&quot; + databaseError.getMessage());\n\n            }\n\n        });\n\n    }\n\n    \n\n    // Function to check if a file exists at the given Uri\n\n    private boolean fileExists(Uri uri) {\n\n        if (uri != null) {\n\n            File file = new File(uri.getPath());\n\n            return file.exists();\n\n        }\n\n        return false;\n\n    }\n</code></pre>\n<p>I already check the rules etc..</p>\n<p>Also if I upload the the second or more images it's not updating or its not going to the storage or realtime database.\nThankyou</p>\n"},{"tags":["java","selenium-webdriver","selenium-firefoxdriver"],"owner":{"account_id":30002272,"reputation":1,"user_id":22991994,"display_name":"ANMOL KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701076548,"creation_date":1701076548,"question_id":77555708,"body_markdown":"here is the snippet of the code which is causing problem.\r\n\r\n```\r\n        //list of trains after clicking on the search button\r\n        List&lt;WebElement&gt; listOfTrains = driver.findElements(By.xpath(&quot;//div[@class=&#39;form-group no-pad col-xs-12 bull-back border-all&#39;]&quot;));\r\n\r\n        //filtering the specific train you want to book\r\n        WebElement desiredTrain=listOfTrains.stream()\r\n                                            .filter(train-&gt;train.findElement(By.xpath(&quot;//div[@class=&#39;col-sm-5 col-xs-11 train-heading&#39;]/strong&quot;))\r\n                                            .getText()\r\n                                            .contains(&quot;AADR VANDEBHARAT (22448)&quot;))\r\n                                            .findFirst()\r\n                                            .orElse(null);\r\n```\r\n\r\nIn above case, &#39;AADR VANDEBHARAT (22448)&#39; is the first WebElement in the list of WebElements (listOfTrains). listOfTrains has already 38 WebElements in it, which are the different trains appeared after clicking on search button.\r\n\r\nThe **main problem** is that, when choosing first element of the list (viz., the div containing &#39;AADR VANDEBHARAT (22448)&#39;), it&#39;s working fine, and I&#39;m able to automate till payment page. But the thing turns south, when I choose train other than the first one (like &#39;SVDK VANDEBHARAT (22440)&#39;). It&#39;ll give me the NullPointerException. I&#39;ve attached some images for your reference.\r\n\r\n[NullPointerException](https://i.stack.imgur.com/wVz2m.png) \r\n\r\n[IRCTC webpage](https://i.stack.imgur.com/5sAwg.png)","title":"Trying to automate the IRCTC site but facing NullPointerException while filtering the train from the search results","body":"<p>here is the snippet of the code which is causing problem.</p>\n<pre><code>        //list of trains after clicking on the search button\n        List&lt;WebElement&gt; listOfTrains = driver.findElements(By.xpath(&quot;//div[@class='form-group no-pad col-xs-12 bull-back border-all']&quot;));\n\n        //filtering the specific train you want to book\n        WebElement desiredTrain=listOfTrains.stream()\n                                            .filter(train-&gt;train.findElement(By.xpath(&quot;//div[@class='col-sm-5 col-xs-11 train-heading']/strong&quot;))\n                                            .getText()\n                                            .contains(&quot;AADR VANDEBHARAT (22448)&quot;))\n                                            .findFirst()\n                                            .orElse(null);\n</code></pre>\n<p>In above case, 'AADR VANDEBHARAT (22448)' is the first WebElement in the list of WebElements (listOfTrains). listOfTrains has already 38 WebElements in it, which are the different trains appeared after clicking on search button.</p>\n<p>The <strong>main problem</strong> is that, when choosing first element of the list (viz., the div containing 'AADR VANDEBHARAT (22448)'), it's working fine, and I'm able to automate till payment page. But the thing turns south, when I choose train other than the first one (like 'SVDK VANDEBHARAT (22440)'). It'll give me the NullPointerException. I've attached some images for your reference.</p>\n<p><a href=\"https://i.stack.imgur.com/wVz2m.png\" rel=\"nofollow noreferrer\">NullPointerException</a></p>\n<p><a href=\"https://i.stack.imgur.com/5sAwg.png\" rel=\"nofollow noreferrer\">IRCTC webpage</a></p>\n"},{"tags":["java","oracle","spring-boot","driver"],"comments":[{"owner":{"account_id":4209497,"reputation":2852,"user_id":3447603,"accept_rate":80,"display_name":"Pijotrek"},"score":1,"creation_date":1548150478,"post_id":54305348,"comment_id":95430582,"body_markdown":"You need the OJDBC driver","body":"You need the OJDBC driver"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1548225783,"post_id":54305348,"comment_id":95461699,"body_markdown":"Check my answer on `spring.datasource.driver.class=oracle.jdbc.driver.OracleDriver` it should be `driver.class-name`","body":"Check my answer on <code>spring.datasource.driver.class=oracle.jdbc.driver.OracleDriv&zwnj;&#8203;er</code> it should be <code>driver.class-name</code>"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":2,"creation_date":1558330099,"post_id":54305348,"comment_id":99050258,"body_markdown":"@Dhanushka - If the issue fixed, please select correct answer. It might be useful for others. Cheers","body":"@Dhanushka - If the issue fixed, please select correct answer. It might be useful for others. Cheers"}],"answers":[{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548150432,"creation_date":1548150432,"answer_id":54305392,"question_id":54305348,"body_markdown":"You need to download Oracle JDBC driver jar file and add it into your classpath in order for your application to load `oracle.jdbc.OracleDriver` class.\r\n\r\nDriver can be downloaded from [here][1].\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/apps-tech/jdbc-10201-088211.html","title":"How to connect to oracle database using spring boot","body":"<p>You need to download Oracle JDBC driver jar file and add it into your classpath in order for your application to load <code>oracle.jdbc.OracleDriver</code> class.</p>\n\n<p>Driver can be downloaded from <a href=\"https://www.oracle.com/technetwork/apps-tech/jdbc-10201-088211.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1548225745,"creation_date":1548150847,"answer_id":54305510,"question_id":54305348,"body_markdown":"Maven dependency: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n            &lt;version&gt;12.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t\r\napplication.yml file : \r\n\r\n    # Oracle settings\r\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe\r\n    spring.datasource.username=system\r\n    spring.datasource.password=password\r\n    spring.datasource.driver.class-name=oracle.jdbc.OracleDriver\r\n\r\n**Note** : **driver.class-name**\r\n\r\nSometimes you may need to add `spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect` to application.yml file (for Oracle 10).\r\n","title":"How to connect to oracle database using spring boot","body":"<p>Maven dependency: </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n        &lt;version&gt;12.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>application.yml file : </p>\n\n<pre><code># Oracle settings\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe\nspring.datasource.username=system\nspring.datasource.password=password\nspring.datasource.driver.class-name=oracle.jdbc.OracleDriver\n</code></pre>\n\n<p><strong>Note</strong> : <strong>driver.class-name</strong></p>\n\n<p>Sometimes you may need to add <code>spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect</code> to application.yml file (for Oracle 10).</p>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548206278,"creation_date":1548206278,"answer_id":54318725,"question_id":54305348,"body_markdown":"You can check if the [SpringBoot app][1] example helps. \r\n\r\n\r\n  [1]: https://github.com/oracle/oracle-db-examples/tree/master/java/jdbc/SpringBootApp/src","title":"How to connect to oracle database using spring boot","body":"<p>You can check if the <a href=\"https://github.com/oracle/oracle-db-examples/tree/master/java/jdbc/SpringBootApp/src\" rel=\"nofollow noreferrer\">SpringBoot app</a> example helps. </p>\n"},{"tags":[],"owner":{"account_id":16500264,"reputation":289,"user_id":11921751,"display_name":"Abdullah Imran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565692896,"creation_date":1565691824,"answer_id":57475781,"question_id":54305348,"body_markdown":"Add below dependency and repository in the pom\r\n    \r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n            &lt;version&gt;11.2.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    &lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t\t&lt;id&gt;codelds&lt;/id&gt;\r\n    \t\t&lt;url&gt;https://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n       &lt;/repositories&gt;\r\n    \r\nAlso add the following properties in the application.properties\r\n    \r\n        spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n        spring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe(SID)\r\n        spring.datasource.username=system\r\n        spring.datasource.password=pw","title":"How to connect to oracle database using spring boot","body":"<p>Add below dependency and repository in the pom</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n        &lt;version&gt;11.2.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;codelds&lt;/id&gt;\n        &lt;url&gt;https://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;\n    &lt;/repository&gt;\n   &lt;/repositories&gt;\n</code></pre>\n\n<p>Also add the following properties in the application.properties</p>\n\n<pre><code>    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe(SID)\n    spring.datasource.username=system\n    spring.datasource.password=pw\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16955930,"reputation":11,"user_id":12264329,"display_name":"user12264329"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571854339,"creation_date":1571847406,"answer_id":58527155,"question_id":54305348,"body_markdown":"Update the db driver in the file `Application.yml` to\r\n\r\n    spring.datasource.driver-class-name=oracle.jdbc.**driver**.OracleDriver or spring.datasource.driver-class-name=oracle.jdbc.OracleDriver","title":"How to connect to oracle database using spring boot","body":"<p>Update the db driver in the file <code>Application.yml</code> to</p>\n\n<pre><code>spring.datasource.driver-class-name=oracle.jdbc.**driver**.OracleDriver or spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19503564,"reputation":311,"user_id":14269062,"display_name":"Ritunjay kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636721482,"creation_date":1636716323,"answer_id":69942191,"question_id":54305348,"body_markdown":"For Oracle DB,\r\n  \r\nMaven settings:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n        &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nProperties settings:\r\n        \r\n    spring.datasource.url=jdbc:oracle:thin:@172.16.10.12:1521/orcl11\r\n    spring.datasource.username=[username]\r\n    spring.datasource.password=[password]\r\n   \r\nDon&#39;t use\r\n\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n\r\n","title":"How to connect to oracle database using spring boot","body":"<p>For Oracle DB,</p>\n<p>Maven settings:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n    &lt;version&gt;19.3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Properties settings:</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@172.16.10.12:1521/orcl11\nspring.datasource.username=[username]\nspring.datasource.password=[password]\n</code></pre>\n<p>Don't use</p>\n<pre><code>spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23286604,"reputation":1,"user_id":17369346,"display_name":"priyansh490"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655095621,"creation_date":1655095621,"answer_id":72597864,"question_id":54305348,"body_markdown":" - You just need to add these two dependencies in your `pom.xml` file and it will work fine.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n","title":"How to connect to oracle database using spring boot","body":"<ul>\n<li><p>You just need to add these two dependencies in your <code>pom.xml</code> file and it will work fine.</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n     &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n     &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n     &lt;scope&gt;runtime&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25417607,"reputation":3,"user_id":19224225,"display_name":"Amit Kumar Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671717394,"creation_date":1671717394,"answer_id":74889518,"question_id":54305348,"body_markdown":"**Use this configuration in Application.properties.**\r\n\r\n  \r\n\r\n     spring.jpa.show-sql=true\r\n\r\n    spring.h2.console.enabled=true\r\n    \r\n    #Using SID\r\n    spring.datasource.url= jdbc:oracle:thin:@localhost:1521:ORCL\r\n    spring.datasource.username=SYSTEM\t\r\n    spring.datasource.password=SYSTEM\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n    \r\n    #hibernate configs\r\n    spring.jpa.database-platform=org.hibernate.dialect.OracleDialect\r\n    spring.jpa.hibernate.ddl-auto= update \r\n\r\nCaution: \r\n1. org.hibernate.dialect.Oracle10gDialect has been deprecated.\r\n2. You need to check  { jdbc:oracle:thin:@localhost:1521:ORCL} if the last part of this DATABASE URL is {ORCL} OR {XE}. SEE THE ATTACHED SCREENSHOT.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bsVqG.png\r\n\r\n","title":"How to connect to oracle database using spring boot","body":"<p><strong>Use this configuration in Application.properties.</strong></p>\n<pre><code> spring.jpa.show-sql=true\n\nspring.h2.console.enabled=true\n\n#Using SID\nspring.datasource.url= jdbc:oracle:thin:@localhost:1521:ORCL\nspring.datasource.username=SYSTEM   \nspring.datasource.password=SYSTEM\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n\n#hibernate configs\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect\nspring.jpa.hibernate.ddl-auto= update \n</code></pre>\n<p>Caution:</p>\n<ol>\n<li>org.hibernate.dialect.Oracle10gDialect has been deprecated.</li>\n<li>You need to check  { jdbc:oracle:thin:@localhost:1521:ORCL} if the last part of this DATABASE URL is {ORCL} OR {XE}. SEE THE ATTACHED SCREENSHOT.\n<a href=\"https://i.stack.imgur.com/bsVqG.png\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16351408,"reputation":123,"user_id":11813982,"display_name":"Shrip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701076538,"creation_date":1701076538,"answer_id":77555706,"question_id":54305348,"body_markdown":"I used `implementation &#39;com.oracle:ojdbc7:12.1.0.2.0` gradle dependency. \r\n\r\nAdded below in the application.properties. \r\n\r\n```\r\n#hibernate configs\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.Oracle10gDialect\r\n\r\n# database details\r\nspring.datasource.url=jdbc:oracle:thin:@//&lt;host&gt;:&lt;port&gt;/&lt;database&gt;\r\nspring.datasource.username=&lt;username&gt;\r\nspring.datasource.password=&lt;password&gt;\r\nspring.datasource.driver.class-name=oracle.jdbc.OracleDriver\r\n```\r\n\r\nYou can use different `OracleDialect` if its not working for you. \r\n\r\nFor me above code is working without any issue.","title":"How to connect to oracle database using spring boot","body":"<p>I used <code>implementation 'com.oracle:ojdbc7:12.1.0.2.0</code> gradle dependency.</p>\n<p>Added below in the application.properties.</p>\n<pre><code>#hibernate configs\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.Oracle10gDialect\n\n# database details\nspring.datasource.url=jdbc:oracle:thin:@//&lt;host&gt;:&lt;port&gt;/&lt;database&gt;\nspring.datasource.username=&lt;username&gt;\nspring.datasource.password=&lt;password&gt;\nspring.datasource.driver.class-name=oracle.jdbc.OracleDriver\n</code></pre>\n<p>You can use different <code>OracleDialect</code> if its not working for you.</p>\n<p>For me above code is working without any issue.</p>\n"}],"owner":{"account_id":8008499,"reputation":225,"user_id":6041068,"display_name":"Dhanushka Sampath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67465,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":9,"score":6,"last_activity_date":1701076538,"creation_date":1548150291,"question_id":54305348,"body_markdown":"I&#39;m working with Spring Boot application and trying to access an Oracle database. Although it was successfully built, it gives the error below when I am trying to deploy in Kubernetes.\r\n\r\nI changed the `application.properties` file and `pom.xml` file with below configurations:\r\n\r\n**Application.yml**\r\n\r\n     spring.datasource.url=jdbc:oracle:thin:@&lt;IP&gt;:1521:orcl\r\n     spring.datasource.username=&lt;username&gt;\r\n     spring.datasource.password=&lt;password&gt;\r\n     spring.datasource.driver.class=oracle.jdbc.driver.OracleDriver\r\n\r\n**POM file**\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\r\n**Exception**\r\n\r\n&gt;   \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n     Description:\r\n     Failed to bind properties under &#39;&#39; to com.zaxxer.hikari.HikariDataSource:\r\n         Property: driverclassname\r\n        Value: oracle.jdbc.OracleDriver\r\n        Origin: &quot;driverClassName&quot; from property source &quot;source&quot;\r\n        Reason: Failed to load driver class oracle.jdbc.OracleDriver in either of \r\n                HikariConfig class loader or Thread context classloader\r\n     Action:\r\n     Update your application&#39;s configuration   \r\n\r\n","title":"How to connect to oracle database using spring boot","body":"<p>I'm working with Spring Boot application and trying to access an Oracle database. Although it was successfully built, it gives the error below when I am trying to deploy in Kubernetes.</p>\n\n<p>I changed the <code>application.properties</code> file and <code>pom.xml</code> file with below configurations:</p>\n\n<p><strong>Application.yml</strong></p>\n\n<pre><code> spring.datasource.url=jdbc:oracle:thin:@&lt;IP&gt;:1521:orcl\n spring.datasource.username=&lt;username&gt;\n spring.datasource.password=&lt;password&gt;\n spring.datasource.driver.class=oracle.jdbc.driver.OracleDriver\n</code></pre>\n\n<p><strong>POM file</strong></p>\n\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<blockquote>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n Description:\n Failed to bind properties under '' to com.zaxxer.hikari.HikariDataSource:\n     Property: driverclassname\n    Value: oracle.jdbc.OracleDriver\n    Origin: \"driverClassName\" from property source \"source\"\n    Reason: Failed to load driver class oracle.jdbc.OracleDriver in either of \n            HikariConfig class loader or Thread context classloader\n Action:\n Update your application's configuration   \n</code></pre>\n</blockquote>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701078872,"post_id":77555687,"comment_id":136726037,"body_markdown":"Remove the surefire plugin (spring boot already has this). Remove the `version` for the `spring-boot-maven-plugin` it will be managed by Spring BOot (and currently you are mixing versions of Spring Boot).","body":"Remove the surefire plugin (spring boot already has this). Remove the <code>version</code> for the <code>spring-boot-maven-plugin</code> it will be managed by Spring BOot (and currently you are mixing versions of Spring Boot)."},{"owner":{"account_id":29323477,"reputation":1,"user_id":22466545,"display_name":"yiranng"},"score":0,"creation_date":1701083930,"post_id":77555687,"comment_id":136726855,"body_markdown":"okay, thank you I will try this!!","body":"okay, thank you I will try this!!"}],"owner":{"account_id":29323477,"reputation":1,"user_id":22466545,"display_name":"yiranng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701076343,"creation_date":1701076343,"question_id":77555687,"body_markdown":"I am working with springboot, and I get this error. Have been fixing this for hours but I still cannot find the solution. The error shows when I try to `mvn clean install`,\r\n\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0:test (default-test) on project mdb-spring-boot:\r\n```\r\n\r\nand when I try to mvn spring-boot:run, this error shows\r\n\r\n\r\n```\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.2:run (default-cli) on project mdb-spring-boot: Application finished with exit code: 1 -&gt; [Help 1]\r\n```\r\n\r\n\r\n\r\nthis is my `pom.xml`\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mdb-spring-boot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;mdb-spring-boot&lt;/name&gt;\r\n\t&lt;description&gt;Spring boot mongodb&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n        &lt;version&gt;4.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nthanks a lot!!\r\n\r\n\r\n&gt; I have searched a lot of solutions here, but nothing fixes my error. ","title":"MAVEN - Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.2:run (default-cli)","body":"<p>I am working with springboot, and I get this error. Have been fixing this for hours but I still cannot find the solution. The error shows when I try to <code>mvn clean install</code>,</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0:test (default-test) on project mdb-spring-boot:\n</code></pre>\n<p>and when I try to mvn spring-boot:run, this error shows</p>\n<pre><code>[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.2:run (default-cli) on project mdb-spring-boot: Application finished with exit code: 1 -&gt; [Help 1]\n</code></pre>\n<p>this is my <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mdb-spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mdb-spring-boot&lt;/name&gt;\n    &lt;description&gt;Spring boot mongodb&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;version&gt;4.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.2&lt;/version&gt;\n            &lt;/plugin&gt;\n             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>thanks a lot!!</p>\n<blockquote>\n<p>I have searched a lot of solutions here, but nothing fixes my error.</p>\n</blockquote>\n"},{"tags":["java","json","spring-boot","jwt-simple"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":3,"creation_date":1661428578,"post_id":73486900,"comment_id":129773164,"body_markdown":"Usually when methods are deprecated the documentation contains an explanation of why this is the case and what alternative approach you should take.","body":"Usually when methods are deprecated the documentation contains an explanation of why this is the case and what alternative approach you should take."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1661439433,"post_id":73486900,"comment_id":129777895,"body_markdown":"Please don&#39;t post images of code or errors; see [ask]","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":4614845,"reputation":281,"user_id":3741723,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1668896353,"creation_date":1664205200,"answer_id":73856251,"question_id":73486900,"body_markdown":"Take a look at this [documentation][1]. You might want to do something like this.\r\n\r\n    Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt);\r\n\r\n\r\n  [1]: https://github.com/jwtk/jjwt#jws-create-key","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>Take a look at this <a href=\"https://github.com/jwtk/jjwt#jws-create-key\" rel=\"noreferrer\">documentation</a>. You might want to do something like this.</p>\n<pre><code>Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25967173,"reputation":61,"user_id":19682964,"display_name":"Carl Hyslop"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1676806087,"creation_date":1676806073,"answer_id":75499799,"question_id":73486900,"body_markdown":"Charles answer solves one problem, but there are two deprecated methods here: parser() and setSigningKey().  In order to avoid both deprecations, the following code is required:\r\n\r\n    SecretKey secret = Keys.hmacShaKeyFor(Decoders.BASE64.decode(key));\r\n    Jwts.parserBuilder().setSigningKey(secret).build().parseClaimsJws(jwt);\r\n\r\nYou can read more about this at https://github.com/jwtk/jjwt#jws-create-key","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>Charles answer solves one problem, but there are two deprecated methods here: parser() and setSigningKey().  In order to avoid both deprecations, the following code is required:</p>\n<pre><code>SecretKey secret = Keys.hmacShaKeyFor(Decoders.BASE64.decode(key));\nJwts.parserBuilder().setSigningKey(secret).build().parseClaimsJws(jwt);\n</code></pre>\n<p>You can read more about this at <a href=\"https://github.com/jwtk/jjwt#jws-create-key\" rel=\"noreferrer\">https://github.com/jwtk/jjwt#jws-create-key</a></p>\n"},{"tags":[],"owner":{"account_id":1473411,"reputation":650,"user_id":1384404,"accept_rate":50,"display_name":"Kimo_do"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701075960,"creation_date":1698919697,"answer_id":77408683,"question_id":73486900,"body_markdown":"Since 0.12.0 to get all claims from Token (also to validate it):\r\n\r\n```java\r\nprivate Claims getAllClaimsFromToken(String token) {\r\n\treturn Jwts.parser()\r\n\t\t.verifyWith(getPublicSigningKey())\r\n\t\t.build()\r\n\t\t.parseSignedClaims(token)\r\n\t\t.getPayload();\r\n}\r\n```","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>Since 0.12.0 to get all claims from Token (also to validate it):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Claims getAllClaimsFromToken(String token) {\n    return Jwts.parser()\n        .verifyWith(getPublicSigningKey())\n        .build()\n        .parseSignedClaims(token)\n        .getPayload();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5877843,"reputation":455,"user_id":4628201,"accept_rate":50,"display_name":"Avijit Biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699010262,"creation_date":1699009677,"answer_id":77416184,"question_id":73486900,"body_markdown":"I got the same type of problem while using current latest version 0.12.3 \r\nSo the below code solves the problem.\r\n\r\n`Jwts.parser().setSigningKey(key).build().parseClaimsJws(jwt);`\r\n\r\nWhen you call `parser()`method from Jwts class it will return an instance of `JwtParserBuilder`.\r\nSo, to create an instance of `JwtParser` you need to call `build()` method.\r\n\r\n","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>I got the same type of problem while using current latest version 0.12.3\nSo the below code solves the problem.</p>\n<p><code>Jwts.parser().setSigningKey(key).build().parseClaimsJws(jwt);</code></p>\n<p>When you call <code>parser()</code>method from Jwts class it will return an instance of <code>JwtParserBuilder</code>.\nSo, to create an instance of <code>JwtParser</code> you need to call <code>build()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":8239654,"reputation":1247,"user_id":6197662,"display_name":"Ramon J."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699355026,"creation_date":1699355026,"answer_id":77437682,"question_id":73486900,"body_markdown":"Change this:\r\n```\r\nJwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt);\r\n```\r\n\r\nFor that:\r\n```\r\nJwts.parser().verifyWith(key).build().parseSignedClaims(jwt);\r\n```\r\n","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>Change this:</p>\n<pre><code>Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt);\n</code></pre>\n<p>For that:</p>\n<pre><code>Jwts.parser().verifyWith(key).build().parseSignedClaims(jwt);\n</code></pre>\n"}],"owner":{"account_id":21843131,"reputation":61,"user_id":16136385,"display_name":"Md Esadulhaq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14376,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":5,"score":4,"last_activity_date":1701075960,"creation_date":1661427956,"question_id":73486900,"body_markdown":"This is the error I am facing in here:\r\n\r\n[![This is the error I am facing in here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f0Pxb.png\r\n\r\n```java\r\npublic boolean validateToken(String jwt){\r\n    Jwts.parser().setSigningKey(key).parseClaimsJws(jwt);\r\n    return true;\r\n}\r\n```","title":"How to fix parser() is deprecated and setSigningKey(java.security.Key) is deprecated?","body":"<p>This is the error I am facing in here:</p>\n<p><a href=\"https://i.stack.imgur.com/f0Pxb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f0Pxb.png\" alt=\"This is the error I am facing in here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean validateToken(String jwt){\n    Jwts.parser().setSigningKey(key).parseClaimsJws(jwt);\n    return true;\n}\n</code></pre>\n"},{"tags":["java","spring-cloud","spring-kafka","spring-cloud-stream"],"owner":{"account_id":3529467,"reputation":375,"user_id":2949496,"accept_rate":78,"display_name":"Karthik Suresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701075416,"creation_date":1701075416,"question_id":77555604,"body_markdown":"There is main funtional flow for intra day processing and which is processed via kafka-streams binder.\n\nAs a peripheral, when an API is invoked within the application. A message should be pushed to a topic.\n\nhow can I achieve this.\nsince, either of the binders can be used\nbinder-kafka or binder-kafka-streams\n\n\nhave tried stream bridge but can only use of the binder","title":"How to publish to a separate topic In a spring cloud streams?","body":"<p>There is main funtional flow for intra day processing and which is processed via kafka-streams binder.</p>\n<p>As a peripheral, when an API is invoked within the application. A message should be pushed to a topic.</p>\n<p>how can I achieve this.\nsince, either of the binders can be used\nbinder-kafka or binder-kafka-streams</p>\n<p>have tried stream bridge but can only use of the binder</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":22882718,"reputation":56,"user_id":17024100,"display_name":"eskabetxe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701075410,"creation_date":1701075410,"answer_id":77555602,"question_id":77540049,"body_markdown":"You could try this:\r\n\r\n1- Create your test config file (flink-config.yaml) with\r\n\r\n    ## S3 config\r\n    s3.access-key: test\r\n    s3.secret-key: test\r\n    s3.endpoint: http://awslocal:4566\r\n    s3.endpoint.region: us-east-1\r\n    s3.path.style.access: true\r\n\r\n2- Load this configuration with\r\n\r\n    import org.apache.flink.configuration.Configuration;\r\n    import org.apache.flink.configuration.GlobalConfiguration;\r\n    import org.apache.flink.core.fs.FileSystem;\r\n    import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\n    \r\n    Configuration loadedConfig = GlobalConfiguration.loadConfiguration(&quot;directory/where/is/flinkconfig&quot;);\r\n    FileSystem.initialize(config, null);\r\n    StreamExecutionEnvironment environment = StreamExecutionEnvironment.createLocalEnvironmentWithWebUI(loadedConfig);\r\n\r\n\r\nThe important part is `FileSystem.initialize(config, null);`\r\n\r\n","title":"How can I pass AWS Configs to Flink&#39;s flink-s3-fs-hadoop plugin in local tests?","body":"<p>You could try this:</p>\n<p>1- Create your test config file (flink-config.yaml) with</p>\n<pre><code>## S3 config\ns3.access-key: test\ns3.secret-key: test\ns3.endpoint: http://awslocal:4566\ns3.endpoint.region: us-east-1\ns3.path.style.access: true\n</code></pre>\n<p>2- Load this configuration with</p>\n<pre><code>import org.apache.flink.configuration.Configuration;\nimport org.apache.flink.configuration.GlobalConfiguration;\nimport org.apache.flink.core.fs.FileSystem;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n\nConfiguration loadedConfig = GlobalConfiguration.loadConfiguration(&quot;directory/where/is/flinkconfig&quot;);\nFileSystem.initialize(config, null);\nStreamExecutionEnvironment environment = StreamExecutionEnvironment.createLocalEnvironmentWithWebUI(loadedConfig);\n</code></pre>\n<p>The important part is <code>FileSystem.initialize(config, null);</code></p>\n"}],"owner":{"account_id":15232707,"reputation":226,"user_id":10991366,"display_name":"r_g_s_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77555602,"answer_count":1,"score":0,"last_activity_date":1701075410,"creation_date":1700782435,"question_id":77540049,"body_markdown":"**Problem Summary**\r\n\r\n - I am trying to run a local integration test for my flink app, which reads parquet files from AWS s3, does some transformations, and writes the output back to s3; I am using the below:\r\n    - Flink&#39;s parquet format for the source: https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/formats/parquet/\r\n    - localstack/testcontainers to spin up a local s3 on localhost\r\n    - junit5 to run my tests\r\n    - Flink minicluster to run my app during the test\r\n    - IntelliJ IDEA\r\n    - Flink version 1.17.0, maven, and java 11\r\n - Because the flink app interacts with s3 (I believe the parquet format above requires it), I have `flink-s3-fs-hadoop` as a test dependency in my project\r\n - **The issue**: \r\n    - There seems to be no way to pass all required AWS configs to the S3 client that the `flink-s3-fs-hadoop` plugin uses\r\n    - Due to the above, a local test using Flink &amp; AWS s3 is not currently possible; I run into `AmazonS3Exception 403 Forbidden` when my source tries to read the parquet files that I put in localstack s3\r\n    - The AWS configs I need to pass are below:\r\n       - s3.access-key\r\n       - s3.secret-key\r\n       - s3.endpoint\r\n       - s3.endpoint.region\r\n       - s3.path.style.access\r\n- Note: the application works in &quot;prod&quot; because it runs on EMR; it&#39;s just locally that this issue occurs\r\n\r\n**What I Have Tried**\r\n1.  Adding AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_ENDPOINT_URL, and AWS_REGION as environment variables (IntelliJ run configurations)\r\n    - Before I set these I was getting an error that the access key and secret key could not be found, so I believe these were able to get picked up (makes sense given https://hadoop.apache.org/docs/stable/hadoop-aws/tools/hadoop-aws/index.html#Authenticating_via_the_AWS_Environment_Variables) \r\n    - The other environment variables are not getting picked up; I confirmed by running my app in debug mode and looking at the AmazonS3 client params\r\n\r\n2.  Adding a `conf/flink-conf.yaml` under my test resources folder and setting the following environment variable `FLINK_CONF_DIR=src/test/resources/conf`\r\n    -  It seemed that Flink could find the file, but it did not pass any of the values to the plugin\r\n\r\n3.  Creating a local execution environment with the aws configs specified (see code below)\r\n```\r\n        Properties props = new Properties();\r\n        props.put(&quot;s3.access-key&quot;, &quot;test&quot;);\r\n        props.put(&quot;s3.secret-key&quot;,  &quot;test&quot;);\r\n        props.put(&quot;s3.endpoint&quot;, &quot;http://localstack:4566&quot;);\r\n        props.put(&quot;s3.endpoint.region&quot;, &quot;us-east-1&quot;);\r\n        props.put(&quot;s3.path.style.access&quot;, &quot;true&quot;);\r\n        Configuration configuration = ConfigurationUtils.createConfiguration(props);\r\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment(16, configuration);\r\n```\r\n4.  I spun up a Flink cluster (jobmanager + taskmanager) locally using docker-compose, added the AWS configs as k,v pairs within the FLINK_PROPERTIES environment variable (which then appends to the flink-conf), enabled the `flink-s3-fs-hadoop` plugin, and confirmed that the flink app works correctly when submitted to this cluster (i.e. this confirmed that the app works when the configs are added and available to the plugin)\r\n     - Note: even though this way works, it is not good enough for my use-case; I need to be able to run a test within an automated test suite like Junit\r\n```\r\nservices:\r\n  localstack:\r\n    container_name: &quot;awslocal&quot;\r\n    image: localstack/localstack:1.4.0\r\n    ports:\r\n      - &quot;127.0.0.1:4510-4559:4510-4559&quot;\r\n      - &quot;127.0.0.1:4566:4566&quot;\r\n      - &quot;127.0.0.1:4571:4571&quot;\r\n    environment:\r\n      - SERVICES=s3\r\n      - DEBUG=1\r\n      - LS_LOG=trace\r\n      - AWS_ACCESS_KEY_ID=test\r\n      - AWS_SECRET_ACCESS_KEY=test\r\n      - AWS_DEFAULT_REGION=us-east-1\r\n      - HOST_TMP_FOLDER=${TMPDIR:-/tmp/}localstack\r\n      - DOCKER_HOST=unix:///var/run/docker.sock\r\n    volumes:\r\n      - &quot;${TMPDIR:-/tmp}/localstack:/var/lib/localstack&quot;\r\n      - &quot;/var/run/docker.sock:/var/run/docker.sock&quot;\r\n  jobmanager:\r\n    container_name: &quot;jobmanager&quot;\r\n    image: flink:1.17.0-java11\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    command: jobmanager\r\n    environment:\r\n      - |\r\n        FLINK_PROPERTIES=\r\n        jobmanager.rpc.address: jobmanager\r\n        s3.access-key: test\r\n        s3.secret-key: test\r\n        s3.endpoint: http://awslocal:4566\r\n        s3.endpoint.region: us-east-1\r\n        s3.path.style.access: true\r\n      - ENABLE_BUILT_IN_PLUGINS=flink-s3-fs-hadoop-1.17.0.jar\r\n    volumes:\r\n      - /Users/myname/IdeaProjects/my-flink-app/target:/opt/flink/usrlib\r\n  taskmanager:\r\n    container_name: &quot;taskmanager&quot;\r\n    image: flink:1.17.0-java11\r\n    depends_on:\r\n      - jobmanager\r\n    command: taskmanager\r\n    environment:\r\n      - |\r\n        FLINK_PROPERTIES=\r\n        jobmanager.rpc.address: jobmanager\r\n        taskmanager.numberOfTaskSlots: 2\r\n        s3.access-key: test\r\n        s3.secret-key: test\r\n        s3.endpoint: http://awslocal:4566\r\n        s3.endpoint.region: us-east-1\r\n        s3.path.style.access: true\r\n      - ENABLE_BUILT_IN_PLUGINS=flink-s3-fs-hadoop-1.17.0.jar\r\n```\r\n","title":"How can I pass AWS Configs to Flink&#39;s flink-s3-fs-hadoop plugin in local tests?","body":"<p><strong>Problem Summary</strong></p>\n<ul>\n<li>I am trying to run a local integration test for my flink app, which reads parquet files from AWS s3, does some transformations, and writes the output back to s3; I am using the below:\n<ul>\n<li>Flink's parquet format for the source: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/formats/parquet/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/formats/parquet/</a></li>\n<li>localstack/testcontainers to spin up a local s3 on localhost</li>\n<li>junit5 to run my tests</li>\n<li>Flink minicluster to run my app during the test</li>\n<li>IntelliJ IDEA</li>\n<li>Flink version 1.17.0, maven, and java 11</li>\n</ul>\n</li>\n<li>Because the flink app interacts with s3 (I believe the parquet format above requires it), I have <code>flink-s3-fs-hadoop</code> as a test dependency in my project</li>\n<li><strong>The issue</strong>:\n<ul>\n<li>There seems to be no way to pass all required AWS configs to the S3 client that the <code>flink-s3-fs-hadoop</code> plugin uses</li>\n<li>Due to the above, a local test using Flink &amp; AWS s3 is not currently possible; I run into <code>AmazonS3Exception 403 Forbidden</code> when my source tries to read the parquet files that I put in localstack s3</li>\n<li>The AWS configs I need to pass are below:\n<ul>\n<li>s3.access-key</li>\n<li>s3.secret-key</li>\n<li>s3.endpoint</li>\n<li>s3.endpoint.region</li>\n<li>s3.path.style.access</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Note: the application works in &quot;prod&quot; because it runs on EMR; it's just locally that this issue occurs</li>\n</ul>\n<p><strong>What I Have Tried</strong></p>\n<ol>\n<li><p>Adding AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_ENDPOINT_URL, and AWS_REGION as environment variables (IntelliJ run configurations)</p>\n<ul>\n<li>Before I set these I was getting an error that the access key and secret key could not be found, so I believe these were able to get picked up (makes sense given <a href=\"https://hadoop.apache.org/docs/stable/hadoop-aws/tools/hadoop-aws/index.html#Authenticating_via_the_AWS_Environment_Variables\" rel=\"nofollow noreferrer\">https://hadoop.apache.org/docs/stable/hadoop-aws/tools/hadoop-aws/index.html#Authenticating_via_the_AWS_Environment_Variables</a>)</li>\n<li>The other environment variables are not getting picked up; I confirmed by running my app in debug mode and looking at the AmazonS3 client params</li>\n</ul>\n</li>\n<li><p>Adding a <code>conf/flink-conf.yaml</code> under my test resources folder and setting the following environment variable <code>FLINK_CONF_DIR=src/test/resources/conf</code></p>\n<ul>\n<li>It seemed that Flink could find the file, but it did not pass any of the values to the plugin</li>\n</ul>\n</li>\n<li><p>Creating a local execution environment with the aws configs specified (see code below)</p>\n</li>\n</ol>\n<pre><code>        Properties props = new Properties();\n        props.put(&quot;s3.access-key&quot;, &quot;test&quot;);\n        props.put(&quot;s3.secret-key&quot;,  &quot;test&quot;);\n        props.put(&quot;s3.endpoint&quot;, &quot;http://localstack:4566&quot;);\n        props.put(&quot;s3.endpoint.region&quot;, &quot;us-east-1&quot;);\n        props.put(&quot;s3.path.style.access&quot;, &quot;true&quot;);\n        Configuration configuration = ConfigurationUtils.createConfiguration(props);\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment(16, configuration);\n</code></pre>\n<ol start=\"4\">\n<li>I spun up a Flink cluster (jobmanager + taskmanager) locally using docker-compose, added the AWS configs as k,v pairs within the FLINK_PROPERTIES environment variable (which then appends to the flink-conf), enabled the <code>flink-s3-fs-hadoop</code> plugin, and confirmed that the flink app works correctly when submitted to this cluster (i.e. this confirmed that the app works when the configs are added and available to the plugin)\n<ul>\n<li>Note: even though this way works, it is not good enough for my use-case; I need to be able to run a test within an automated test suite like Junit</li>\n</ul>\n</li>\n</ol>\n<pre><code>services:\n  localstack:\n    container_name: &quot;awslocal&quot;\n    image: localstack/localstack:1.4.0\n    ports:\n      - &quot;127.0.0.1:4510-4559:4510-4559&quot;\n      - &quot;127.0.0.1:4566:4566&quot;\n      - &quot;127.0.0.1:4571:4571&quot;\n    environment:\n      - SERVICES=s3\n      - DEBUG=1\n      - LS_LOG=trace\n      - AWS_ACCESS_KEY_ID=test\n      - AWS_SECRET_ACCESS_KEY=test\n      - AWS_DEFAULT_REGION=us-east-1\n      - HOST_TMP_FOLDER=${TMPDIR:-/tmp/}localstack\n      - DOCKER_HOST=unix:///var/run/docker.sock\n    volumes:\n      - &quot;${TMPDIR:-/tmp}/localstack:/var/lib/localstack&quot;\n      - &quot;/var/run/docker.sock:/var/run/docker.sock&quot;\n  jobmanager:\n    container_name: &quot;jobmanager&quot;\n    image: flink:1.17.0-java11\n    ports:\n      - &quot;8081:8081&quot;\n    command: jobmanager\n    environment:\n      - |\n        FLINK_PROPERTIES=\n        jobmanager.rpc.address: jobmanager\n        s3.access-key: test\n        s3.secret-key: test\n        s3.endpoint: http://awslocal:4566\n        s3.endpoint.region: us-east-1\n        s3.path.style.access: true\n      - ENABLE_BUILT_IN_PLUGINS=flink-s3-fs-hadoop-1.17.0.jar\n    volumes:\n      - /Users/myname/IdeaProjects/my-flink-app/target:/opt/flink/usrlib\n  taskmanager:\n    container_name: &quot;taskmanager&quot;\n    image: flink:1.17.0-java11\n    depends_on:\n      - jobmanager\n    command: taskmanager\n    environment:\n      - |\n        FLINK_PROPERTIES=\n        jobmanager.rpc.address: jobmanager\n        taskmanager.numberOfTaskSlots: 2\n        s3.access-key: test\n        s3.secret-key: test\n        s3.endpoint: http://awslocal:4566\n        s3.endpoint.region: us-east-1\n        s3.path.style.access: true\n      - ENABLE_BUILT_IN_PLUGINS=flink-s3-fs-hadoop-1.17.0.jar\n</code></pre>\n"},{"tags":["java","c#","xml","xsd","xsd-1.1"],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107190,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1587233831,"creation_date":1587233831,"answer_id":61294027,"question_id":61293382,"body_markdown":"Correct, .NET supports XSD 1.0, not XSD 1.1.  You can use [Xerces to validate XML against XSD 1.1 in Java][1], but there are no free libraries that support XSD 1.1 on .NET.\r\n\r\nTo validate XML using XSD 1.1 on .NET, you&#39;ll need a commercial license for Saxon EE (full product) or EE-V (validation package).  Note that a Saxon license will allow you to use the library on both .NET and Java platforms.  See Saxonica&#39;s [product page][2], [feature matrix][3], and [licensing][4] for further details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20819060/xml-validation-against-xsd-1-1-with-xerces-in-java\r\n  [2]: http://www.saxonica.com/products/products.xml\r\n  [3]: http://www.saxonica.com/products/feature-matrix-10.xml\r\n  [4]: http://www.saxonica.com/license/license.xml","title":"XSD 1.1 validation for both Java and .NET C#?","body":"<p>Correct, .NET supports XSD 1.0, not XSD 1.1.  You can use <a href=\"https://stackoverflow.com/questions/20819060/xml-validation-against-xsd-1-1-with-xerces-in-java\">Xerces to validate XML against XSD 1.1 in Java</a>, but there are no free libraries that support XSD 1.1 on .NET.</p>\n\n<p>To validate XML using XSD 1.1 on .NET, you'll need a commercial license for Saxon EE (full product) or EE-V (validation package).  Note that a Saxon license will allow you to use the library on both .NET and Java platforms.  See Saxonica's <a href=\"http://www.saxonica.com/products/products.xml\" rel=\"noreferrer\">product page</a>, <a href=\"http://www.saxonica.com/products/feature-matrix-10.xml\" rel=\"noreferrer\">feature matrix</a>, and <a href=\"http://www.saxonica.com/license/license.xml\" rel=\"noreferrer\">licensing</a> for further details.</p>\n"},{"tags":[],"owner":{"account_id":4932450,"reputation":41,"user_id":5317766,"display_name":"patrick fogarty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701074200,"creation_date":1701074200,"answer_id":77555488,"question_id":61293382,"body_markdown":"I am late to this question because it has taken me years to find a solution for .Net that didn&#39;t cost anything, which was a condition for me though not for this question. The link provided by kjhughes covers the first half of the question, performing validation in Java.\r\n\r\nBelow I am using the excellent [IKVM project][1] to reference xerces2-j directly to handle the .Net side of the question. I am using the download, [Xerces-J-bin.2.12.2-xml-schema-1.1.zip][2].\r\n\r\n\r\nThe solution requires four jar files from xerces, which are kept in the subfolder named &#39;include&#39; in this project folder.\r\n 1. cupv10k-runtime.jar\r\n 2. org.eclipse.wst.xml.xpath2.processor_1.2.1.jar\r\n 3. xercesImpl.jar\r\n 4. xml-apis.jar\r\n\r\nThen this must be added to the project file for IKVM to do its thing.\r\n\r\n    &lt;ItemGroup&gt;\r\n\t  &lt;PackageReference Include=&quot;IKVM&quot; Version=&quot;8.7.1&quot; /&gt;\r\n\t&lt;/ItemGroup&gt;\r\n\r\n\t&lt;ItemGroup&gt;\r\n\t\t&lt;IkvmReference Include=&quot;include\\org.eclipse.wst.xml.xpath2.processor_1.2.1.jar&quot;&gt;\r\n\t\t\t&lt;AssemblyName&gt;eclipse-xpath2&lt;/AssemblyName&gt;\r\n\t\t\t&lt;AssemblyVersion&gt;1.2.1.0&lt;/AssemblyVersion&gt;\r\n\t\t\t&lt;AssemblyFileVersion&gt;1.2.1.0&lt;/AssemblyFileVersion&gt;\r\n\t\t&lt;/IkvmReference&gt;\r\n\t\t&lt;IkvmReference Include=&quot;include\\cupv10k-runtime.jar&quot;&gt;\r\n\t\t\t&lt;AssemblyName&gt;cup-runtime&lt;/AssemblyName&gt;\r\n\t\t\t&lt;AssemblyVersion&gt;0.10.0&lt;/AssemblyVersion&gt;\r\n\t\t\t&lt;AssemblyFileVersion&gt;0.10.0&lt;/AssemblyFileVersion&gt;\r\n\t\t&lt;/IkvmReference&gt;\r\n\t\t&lt;IkvmReference Include=&quot;include\\xml-apis.jar&quot;&gt;\r\n\t\t\t&lt;AssemblyName&gt;xml-apis&lt;/AssemblyName&gt;\r\n\t\t\t&lt;AssemblyVersion&gt;1.7.0&lt;/AssemblyVersion&gt;\r\n\t\t\t&lt;AssemblyFileVersion&gt;1.7.0&lt;/AssemblyFileVersion&gt;\r\n\t\t&lt;/IkvmReference&gt;\r\n\t\t&lt;IkvmReference Include=&quot;include\\xercesImpl.jar&quot;&gt;\r\n\t\t\t&lt;AssemblyName&gt;xerces&lt;/AssemblyName&gt;\r\n\t\t\t&lt;AssemblyVersion&gt;2.12.2.0&lt;/AssemblyVersion&gt;\r\n\t\t\t&lt;AssemblyFileVersion&gt;2.12.2.0&lt;/AssemblyFileVersion&gt;\r\n\t\t\t&lt;References&gt;include/cupv10k-runtime.jar;include/org.eclipse.wst.xml.xpath2.processor_1.2.1.jar;include/xml-apis.jar&lt;/References&gt;\r\n\t\t&lt;/IkvmReference&gt;\r\n\t&lt;/ItemGroup&gt;\r\n\r\nThen this simple program.cs will validate xml properly.\r\n\r\n    using javax.xml.transform;\r\n    using javax.xml.transform.stream;\r\n    using jio = java.io;\r\n    using javax.xml.validation;\r\n    using org.apache.xerces.impl;\r\n    using org.xml.sax;\r\n    using System.Reflection;\r\n    internal class Program\r\n    {\r\n    \tstatic void Main(string[] args)\r\n    \t{\r\n    \t\tikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;eclipse-xpath2&quot;));\r\n    \t\tikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;cup-runtime&quot;));\r\n    \t\tikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;xml-apis&quot;));\r\n    \t\tikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;xerces&quot;));\r\n    \t\t\r\n    \t\tjio.File schemaLocation = new jio.File(&quot;/path/to/some.xsd&quot;);\r\n    \t\tjio.File xmlFile\t\t= new jio.File(&quot;/path/to/some.xml&quot;);\r\n    \r\n    \t\tSource xsdSource = new StreamSource(schemaLocation);\r\n    \t\tSource xmlSource = new StreamSource(xmlFile);\r\n    \r\n    \t\tSchemaFactory factory = SchemaFactory.newInstance(Constants.W3C_XML_SCHEMA11_NS_URI);\r\n    \t\tSchema schema = factory.newSchema(xsdSource);\r\n    \t\tValidator validator = schema.newValidator();\r\n    \r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tvalidator.validate(xmlSource);\r\n    \t\t\tConsole.WriteLine(xmlFile.getName() + &quot; is valid.&quot;);\r\n    \t\t}\r\n    \t\tcatch (SAXException ex)\r\n    \t\t{\r\n    \t\t\tConsole.WriteLine(xmlFile.getName() + &quot; is not valid because &quot;);\r\n    \t\t\tConsole.WriteLine(ex.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://github.com/ikvmnet/ikvm\r\n  [2]: https://dlcdn.apache.org//xerces/j/binaries/Xerces-J-bin.2.12.2-xml-schema-1.1.zip","title":"XSD 1.1 validation for both Java and .NET C#?","body":"<p>I am late to this question because it has taken me years to find a solution for .Net that didn't cost anything, which was a condition for me though not for this question. The link provided by kjhughes covers the first half of the question, performing validation in Java.</p>\n<p>Below I am using the excellent <a href=\"https://github.com/ikvmnet/ikvm\" rel=\"nofollow noreferrer\">IKVM project</a> to reference xerces2-j directly to handle the .Net side of the question. I am using the download, <a href=\"https://dlcdn.apache.org//xerces/j/binaries/Xerces-J-bin.2.12.2-xml-schema-1.1.zip\" rel=\"nofollow noreferrer\">Xerces-J-bin.2.12.2-xml-schema-1.1.zip</a>.</p>\n<p>The solution requires four jar files from xerces, which are kept in the subfolder named 'include' in this project folder.</p>\n<ol>\n<li>cupv10k-runtime.jar</li>\n<li>org.eclipse.wst.xml.xpath2.processor_1.2.1.jar</li>\n<li>xercesImpl.jar</li>\n<li>xml-apis.jar</li>\n</ol>\n<p>Then this must be added to the project file for IKVM to do its thing.</p>\n<pre><code>&lt;ItemGroup&gt;\n  &lt;PackageReference Include=&quot;IKVM&quot; Version=&quot;8.7.1&quot; /&gt;\n&lt;/ItemGroup&gt;\n\n&lt;ItemGroup&gt;\n    &lt;IkvmReference Include=&quot;include\\org.eclipse.wst.xml.xpath2.processor_1.2.1.jar&quot;&gt;\n        &lt;AssemblyName&gt;eclipse-xpath2&lt;/AssemblyName&gt;\n        &lt;AssemblyVersion&gt;1.2.1.0&lt;/AssemblyVersion&gt;\n        &lt;AssemblyFileVersion&gt;1.2.1.0&lt;/AssemblyFileVersion&gt;\n    &lt;/IkvmReference&gt;\n    &lt;IkvmReference Include=&quot;include\\cupv10k-runtime.jar&quot;&gt;\n        &lt;AssemblyName&gt;cup-runtime&lt;/AssemblyName&gt;\n        &lt;AssemblyVersion&gt;0.10.0&lt;/AssemblyVersion&gt;\n        &lt;AssemblyFileVersion&gt;0.10.0&lt;/AssemblyFileVersion&gt;\n    &lt;/IkvmReference&gt;\n    &lt;IkvmReference Include=&quot;include\\xml-apis.jar&quot;&gt;\n        &lt;AssemblyName&gt;xml-apis&lt;/AssemblyName&gt;\n        &lt;AssemblyVersion&gt;1.7.0&lt;/AssemblyVersion&gt;\n        &lt;AssemblyFileVersion&gt;1.7.0&lt;/AssemblyFileVersion&gt;\n    &lt;/IkvmReference&gt;\n    &lt;IkvmReference Include=&quot;include\\xercesImpl.jar&quot;&gt;\n        &lt;AssemblyName&gt;xerces&lt;/AssemblyName&gt;\n        &lt;AssemblyVersion&gt;2.12.2.0&lt;/AssemblyVersion&gt;\n        &lt;AssemblyFileVersion&gt;2.12.2.0&lt;/AssemblyFileVersion&gt;\n        &lt;References&gt;include/cupv10k-runtime.jar;include/org.eclipse.wst.xml.xpath2.processor_1.2.1.jar;include/xml-apis.jar&lt;/References&gt;\n    &lt;/IkvmReference&gt;\n&lt;/ItemGroup&gt;\n</code></pre>\n<p>Then this simple program.cs will validate xml properly.</p>\n<pre><code>using javax.xml.transform;\nusing javax.xml.transform.stream;\nusing jio = java.io;\nusing javax.xml.validation;\nusing org.apache.xerces.impl;\nusing org.xml.sax;\nusing System.Reflection;\ninternal class Program\n{\n    static void Main(string[] args)\n    {\n        ikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;eclipse-xpath2&quot;));\n        ikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;cup-runtime&quot;));\n        ikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;xml-apis&quot;));\n        ikvm.runtime.Startup.addBootClassPathAssembly(Assembly.Load(&quot;xerces&quot;));\n        \n        jio.File schemaLocation = new jio.File(&quot;/path/to/some.xsd&quot;);\n        jio.File xmlFile        = new jio.File(&quot;/path/to/some.xml&quot;);\n\n        Source xsdSource = new StreamSource(schemaLocation);\n        Source xmlSource = new StreamSource(xmlFile);\n\n        SchemaFactory factory = SchemaFactory.newInstance(Constants.W3C_XML_SCHEMA11_NS_URI);\n        Schema schema = factory.newSchema(xsdSource);\n        Validator validator = schema.newValidator();\n\n\n        try\n        {\n            validator.validate(xmlSource);\n            Console.WriteLine(xmlFile.getName() + &quot; is valid.&quot;);\n        }\n        catch (SAXException ex)\n        {\n            Console.WriteLine(xmlFile.getName() + &quot; is not valid because &quot;);\n            Console.WriteLine(ex.getMessage());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3976799,"reputation":103,"user_id":3985913,"accept_rate":0,"display_name":"Sumthg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61294027,"answer_count":2,"score":4,"last_activity_date":1701074200,"creation_date":1587230946,"question_id":61293382,"body_markdown":"I have an XSD with schema version 1.1, and I want to validate an XML against it programmatically via .NET and Java.\r\n\r\nIn .NET I use `XmlSchemaSet` class to validate XML against XSD, but it throws the following exception:\r\n\r\n&gt; `System.Xml.Schema.XmlSchemaException: The &#39;http://www.w3.org/2001/XMLSchema:assert&#39; element is not supported in this context.\r\n\r\nSo I guess .NET still supports XSD 1.0 and doesn&#39;t support XSD 1.1 ?","title":"XSD 1.1 validation for both Java and .NET C#?","body":"<p>I have an XSD with schema version 1.1, and I want to validate an XML against it programmatically via .NET and Java.</p>\n\n<p>In .NET I use <code>XmlSchemaSet</code> class to validate XML against XSD, but it throws the following exception:</p>\n\n<blockquote>\n  <p>`System.Xml.Schema.XmlSchemaException: The '<a href=\"http://www.w3.org/2001/XMLSchema:assert\" rel=\"nofollow noreferrer\">http://www.w3.org/2001/XMLSchema:assert</a>' element is not supported in this context.</p>\n</blockquote>\n\n<p>So I guess .NET still supports XSD 1.0 and doesn't support XSD 1.1 ?</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701074140,"creation_date":1519551898,"answer_id":48972176,"question_id":48960620,"body_markdown":"Controls are not contained in the cells but hovers in the drawing layer over the sheet as shapes and only are anchored to the cells. So the cell may be null (because of no content in it) although a shape hovers over it and is anchored to it.\r\n\r\nMoreover there are two different kinds of controls possible. There are form controls and `ActiveX` controls. The states of `ActiveX` controls are stored in binary code parts `activeX1.bin` and thus  getting the state of them is very hard.\r\n\r\nIn earlier `Excel` versions (2007 for example) the anchor informations of all controls are stored in `/xl/drawings/vmlDrawing1.vml` only. Later versions are storing them in default drawing and within \r\n\r\n    &lt;controls&gt;\r\n     &lt;mc:AlternateContent&gt;\r\n      ...\r\n     &lt;/mc:AlternateContent&gt;\r\n    &lt;/controls&gt;\r\n\r\nparts in the sheet `XML` too. Fortunately there is also `/xl/drawings/vmlDrawing1.vml` for backwards compatibility. \r\n\r\nThe following code does parsing the  `/xl/drawings/vmlDrawing1.vml` to get the control which is possible anchored to a cell. If found, it gets this control and if this control is a form control and **not** a `ActiveX` control, then it also can get it&#39;s state. For `ActiveX` controls it gets only the information, that a &quot;Pict&quot; is anchored to this cell.\r\n\r\nExcel:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCode:\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    import org.apache.poi.POIXMLDocumentPart;\r\n    \r\n    import org.apache.poi.util.Units;\r\n    \r\n    import org.apache.xmlbeans.XmlCursor;\r\n    import org.apache.xmlbeans.XmlObject;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    class ReadExcelXSSFControls {\r\n    \r\n     public ReadExcelXSSFControls() throws Exception {\r\n      XSSFWorkbook wb  = (XSSFWorkbook)WorkbookFactory.create(new FileInputStream(&quot;ExcelWithControls.xlsx&quot;));\r\n    \r\n      Sheet sheet = wb.getSheetAt(0);\r\n      for (Row row : sheet) {\r\n       for (int c = 0; c &lt; 2; c++) {\r\n        Cell cell = row.getCell(c);\r\n        if (row.getRowNum() == 0) {\r\n         System.out.print(cell + &quot;\\t&quot;);\r\n        } else {\r\n         if (c == 0) {\r\n          System.out.print(cell + &quot;\\t&quot;);\r\n         } else if (c == 1) {\r\n          if (cell == null) cell = row.createCell(c);\r\n          Control contol = getControlAt((XSSFCell)cell);\r\n          System.out.print(contol);     \r\n         }\r\n        }\r\n       }\r\n       System.out.println();\r\n      }\r\n    \r\n      wb.close();\r\n     }\r\n    \r\n     private Control getControlAt(XSSFCell cell) throws Exception {\r\n      XSSFSheet sheet = cell.getSheet();\r\n      Row row =  cell.getRow();\r\n      int r = row.getRowNum();\r\n      int c = cell.getColumnIndex();\r\n    \r\n      int drheight = (int)Math.round(sheet.getDefaultRowHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\r\n      int rheight = (int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\r\n      row = null;\r\n      if(r &gt; 0) row = sheet.getRow(r-1);\r\n      int rheightbefore = (row!=null)?(int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI):drheight;\r\n      row = sheet.getRow(r+1);\r\n      int rheightafter = (row!=null)?(int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI):drheight;\r\n    \r\n      String name = null;\r\n      String objectType = null;\r\n      String checked = null;\r\n    \r\n      XmlCursor xmlcursor = null;\r\n      if (sheet.getCTWorksheet().getLegacyDrawing() != null) {\r\n       String legacyDrawingId = sheet.getCTWorksheet().getLegacyDrawing().getId();\r\n       POIXMLDocumentPart part = sheet.getRelationById(legacyDrawingId);\r\n       XmlObject xmlDrawing = XmlObject.Factory.parse(part.getPackagePart().getInputStream());\r\n       xmlcursor = xmlDrawing.newCursor();\r\n       QName qnameClientData = new QName(&quot;urn:schemas-microsoft-com:office:excel&quot;, &quot;ClientData&quot;, &quot;x&quot;);\r\n       QName qnameAnchor = new QName(&quot;urn:schemas-microsoft-com:office:excel&quot;, &quot;Anchor&quot;, &quot;x&quot;);\r\n       boolean controlFound = false;\r\n       while (xmlcursor.hasNextToken()) {\r\n        XmlCursor.TokenType tokentype = xmlcursor.toNextToken();\r\n        if (tokentype.isStart()) {\r\n         if (qnameClientData.equals(xmlcursor.getName())) {\r\n          controlFound = true;\r\n          XmlObject clientdata = xmlcursor.getObject();\r\n          XmlObject[] xmlchecked = clientdata.selectPath(&quot;declare namespace x=&#39;urn:schemas-microsoft-com:office:excel&#39; x:Checked&quot;);\r\n          if (xmlchecked.length &gt; 0) {\r\n           checked = &quot;Checked&quot;;\r\n          } else {\r\n           checked = &quot;Not checked&quot;;\r\n          }\r\n          while (xmlcursor.hasNextToken()) {\r\n           tokentype = xmlcursor.toNextToken(); \r\n           if (tokentype.isAttr()) {\r\n            if (new QName(&quot;ObjectType&quot;).equals(xmlcursor.getName())) {\r\n             objectType = xmlcursor.getTextValue();\r\n             name = objectType + &quot; in row &quot; + (r+1);\r\n            } \r\n           } else {\r\n            break;\r\n           }\r\n          }\r\n         } else if (qnameAnchor.equals(xmlcursor.getName()) &amp;&amp; controlFound) {\r\n          controlFound = false;\r\n          String anchorContent = xmlcursor.getTextValue().trim();\r\n          String[] anchorparts = anchorContent.split(&quot;,&quot;);\r\n          int fromCol = Integer.parseInt(anchorparts[0].trim());\r\n          int fromColDx = Integer.parseInt(anchorparts[1].trim());\r\n          int fromRow = Integer.parseInt(anchorparts[2].trim());\r\n          int fromRowDy = Integer.parseInt(anchorparts[3].trim());\r\n          int toCol = Integer.parseInt(anchorparts[4].trim());\r\n          int toColDx = Integer.parseInt(anchorparts[5].trim());\r\n          int toRow = Integer.parseInt(anchorparts[6].trim());\r\n          int toRowDy = Integer.parseInt(anchorparts[7].trim());\r\n    \r\n          if (fromCol == c /*needs only starting into the column*/\r\n           &amp;&amp; (fromRow == r || (fromRow == r-1 &amp;&amp; fromRowDy &gt; rheightbefore/2f)) \r\n           &amp;&amp; (toRow == r || (toRow == r+1 &amp;&amp; toRowDy &lt; rheightafter/2f))) {\r\n    //System.out.print(fromCol + &quot;:&quot; +fromColDx + &quot;:&quot; + fromRow + &quot;:&quot; + fromRowDy + &quot;:&quot; + toCol + &quot;:&quot; + toColDx + &quot;:&quot; + toRow + &quot;:&quot; + toRowDy);\r\n           break;\r\n          }\r\n         } \r\n        } \r\n       }\r\n      }\r\n    \r\n      if (xmlcursor!=null &amp;&amp; xmlcursor.hasNextToken()) \r\n       return new Control(name, objectType, checked, r, c);\r\n    \r\n      return new Control(&quot;Not found&quot;, &quot;unknown&quot;, &quot;undefined&quot;, r, c); \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      ReadExcelXSSFControls o = new ReadExcelXSSFControls();\r\n     }\r\n    \r\n     private class Control {\r\n      private String name;\r\n      private String objectType;\r\n      private String checked;\r\n      private int row;\r\n      private int col;\r\n      public Control(String name, String objectType, String checked, int row, int col) {\r\n       this.name = name;\r\n       this.objectType = objectType;\r\n       this.checked = checked;\r\n       this.row = row;\r\n       this.col= col;\r\n      }\r\n      public String getName() {\r\n       return this.name;\r\n      }\r\n      public String getObjectType() {\r\n       return this.objectType;\r\n      }\r\n      public String getChecked() {\r\n       return this.checked;\r\n      }\r\n      public int getRow() {\r\n       return this.row;\r\n      }\r\n      public int getCol() {\r\n       return this.col;\r\n      }\r\n      public String toString() {\r\n       return this.name + &quot;:r/c:&quot; +row+ &quot;/&quot; + col + &quot;:&quot; + this.checked;\r\n      }\r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n    axel@arichter:~/Dokumente/JAVA/poi/poi-3.17$ java -cp .:./*:./lib/*:./ooxml-lib/* ReadExcelXSSFControls \r\n    Product\t Status\t\r\n    a\t     Checkbox in row 2:r/c:1/1:Checked\r\n    b\t     Not found:r/c:2/1:undefined\r\n    c\t     Checkbox in row 4:r/c:3/1:Not checked\r\n    d\t     Checkbox in row 5:r/c:4/1:Checked\r\n    e\t     Radio in row 6:r/c:5/1:Checked\r\n    f\t     Not found:r/c:6/1:undefined\r\n    g\t     Not found:r/c:7/1:undefined\r\n    e\t     Checkbox in row 9:r/c:8/1:Checked\r\n    f\t     Not found:r/c:9/1:undefined\r\n    h\t     Radio in row 11:r/c:10/1:Not checked\r\n    ActiveX\t Pict in row 14:r/c:13/1:Not checked\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/inHIo.png\r\n\r\n_____________________________________________________________________\r\n\r\nSince Apache POI version 5 it is:\r\n\r\n    ...\r\n    //import org.apache.poi.POIXMLDocumentPart;\r\n    import org.apache.poi.ooxml.POIXMLDocumentPart;\r\n    ...\r\n\r\n\r\n","title":"How to get the checkbox value selected from excel sheet","body":"<p>Controls are not contained in the cells but hovers in the drawing layer over the sheet as shapes and only are anchored to the cells. So the cell may be null (because of no content in it) although a shape hovers over it and is anchored to it.</p>\n<p>Moreover there are two different kinds of controls possible. There are form controls and <code>ActiveX</code> controls. The states of <code>ActiveX</code> controls are stored in binary code parts <code>activeX1.bin</code> and thus  getting the state of them is very hard.</p>\n<p>In earlier <code>Excel</code> versions (2007 for example) the anchor informations of all controls are stored in <code>/xl/drawings/vmlDrawing1.vml</code> only. Later versions are storing them in default drawing and within</p>\n<pre><code>&lt;controls&gt;\n &lt;mc:AlternateContent&gt;\n  ...\n &lt;/mc:AlternateContent&gt;\n&lt;/controls&gt;\n</code></pre>\n<p>parts in the sheet <code>XML</code> too. Fortunately there is also <code>/xl/drawings/vmlDrawing1.vml</code> for backwards compatibility.</p>\n<p>The following code does parsing the  <code>/xl/drawings/vmlDrawing1.vml</code> to get the control which is possible anchored to a cell. If found, it gets this control and if this control is a form control and <strong>not</strong> a <code>ActiveX</code> control, then it also can get it's state. For <code>ActiveX</code> controls it gets only the information, that a &quot;Pict&quot; is anchored to this cell.</p>\n<p>Excel:</p>\n<p><a href=\"https://i.stack.imgur.com/inHIo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/inHIo.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\n\nimport org.apache.poi.POIXMLDocumentPart;\n\nimport org.apache.poi.util.Units;\n\nimport org.apache.xmlbeans.XmlCursor;\nimport org.apache.xmlbeans.XmlObject;\n\nimport javax.xml.namespace.QName;\n\nclass ReadExcelXSSFControls {\n\n public ReadExcelXSSFControls() throws Exception {\n  XSSFWorkbook wb  = (XSSFWorkbook)WorkbookFactory.create(new FileInputStream(&quot;ExcelWithControls.xlsx&quot;));\n\n  Sheet sheet = wb.getSheetAt(0);\n  for (Row row : sheet) {\n   for (int c = 0; c &lt; 2; c++) {\n    Cell cell = row.getCell(c);\n    if (row.getRowNum() == 0) {\n     System.out.print(cell + &quot;\\t&quot;);\n    } else {\n     if (c == 0) {\n      System.out.print(cell + &quot;\\t&quot;);\n     } else if (c == 1) {\n      if (cell == null) cell = row.createCell(c);\n      Control contol = getControlAt((XSSFCell)cell);\n      System.out.print(contol);     \n     }\n    }\n   }\n   System.out.println();\n  }\n\n  wb.close();\n }\n\n private Control getControlAt(XSSFCell cell) throws Exception {\n  XSSFSheet sheet = cell.getSheet();\n  Row row =  cell.getRow();\n  int r = row.getRowNum();\n  int c = cell.getColumnIndex();\n\n  int drheight = (int)Math.round(sheet.getDefaultRowHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\n  int rheight = (int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\n  row = null;\n  if(r &gt; 0) row = sheet.getRow(r-1);\n  int rheightbefore = (row!=null)?(int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI):drheight;\n  row = sheet.getRow(r+1);\n  int rheightafter = (row!=null)?(int)Math.round(row.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI):drheight;\n\n  String name = null;\n  String objectType = null;\n  String checked = null;\n\n  XmlCursor xmlcursor = null;\n  if (sheet.getCTWorksheet().getLegacyDrawing() != null) {\n   String legacyDrawingId = sheet.getCTWorksheet().getLegacyDrawing().getId();\n   POIXMLDocumentPart part = sheet.getRelationById(legacyDrawingId);\n   XmlObject xmlDrawing = XmlObject.Factory.parse(part.getPackagePart().getInputStream());\n   xmlcursor = xmlDrawing.newCursor();\n   QName qnameClientData = new QName(&quot;urn:schemas-microsoft-com:office:excel&quot;, &quot;ClientData&quot;, &quot;x&quot;);\n   QName qnameAnchor = new QName(&quot;urn:schemas-microsoft-com:office:excel&quot;, &quot;Anchor&quot;, &quot;x&quot;);\n   boolean controlFound = false;\n   while (xmlcursor.hasNextToken()) {\n    XmlCursor.TokenType tokentype = xmlcursor.toNextToken();\n    if (tokentype.isStart()) {\n     if (qnameClientData.equals(xmlcursor.getName())) {\n      controlFound = true;\n      XmlObject clientdata = xmlcursor.getObject();\n      XmlObject[] xmlchecked = clientdata.selectPath(&quot;declare namespace x='urn:schemas-microsoft-com:office:excel' x:Checked&quot;);\n      if (xmlchecked.length &gt; 0) {\n       checked = &quot;Checked&quot;;\n      } else {\n       checked = &quot;Not checked&quot;;\n      }\n      while (xmlcursor.hasNextToken()) {\n       tokentype = xmlcursor.toNextToken(); \n       if (tokentype.isAttr()) {\n        if (new QName(&quot;ObjectType&quot;).equals(xmlcursor.getName())) {\n         objectType = xmlcursor.getTextValue();\n         name = objectType + &quot; in row &quot; + (r+1);\n        } \n       } else {\n        break;\n       }\n      }\n     } else if (qnameAnchor.equals(xmlcursor.getName()) &amp;&amp; controlFound) {\n      controlFound = false;\n      String anchorContent = xmlcursor.getTextValue().trim();\n      String[] anchorparts = anchorContent.split(&quot;,&quot;);\n      int fromCol = Integer.parseInt(anchorparts[0].trim());\n      int fromColDx = Integer.parseInt(anchorparts[1].trim());\n      int fromRow = Integer.parseInt(anchorparts[2].trim());\n      int fromRowDy = Integer.parseInt(anchorparts[3].trim());\n      int toCol = Integer.parseInt(anchorparts[4].trim());\n      int toColDx = Integer.parseInt(anchorparts[5].trim());\n      int toRow = Integer.parseInt(anchorparts[6].trim());\n      int toRowDy = Integer.parseInt(anchorparts[7].trim());\n\n      if (fromCol == c /*needs only starting into the column*/\n       &amp;&amp; (fromRow == r || (fromRow == r-1 &amp;&amp; fromRowDy &gt; rheightbefore/2f)) \n       &amp;&amp; (toRow == r || (toRow == r+1 &amp;&amp; toRowDy &lt; rheightafter/2f))) {\n//System.out.print(fromCol + &quot;:&quot; +fromColDx + &quot;:&quot; + fromRow + &quot;:&quot; + fromRowDy + &quot;:&quot; + toCol + &quot;:&quot; + toColDx + &quot;:&quot; + toRow + &quot;:&quot; + toRowDy);\n       break;\n      }\n     } \n    } \n   }\n  }\n\n  if (xmlcursor!=null &amp;&amp; xmlcursor.hasNextToken()) \n   return new Control(name, objectType, checked, r, c);\n\n  return new Control(&quot;Not found&quot;, &quot;unknown&quot;, &quot;undefined&quot;, r, c); \n }\n\n public static void main(String[] args) throws Exception {\n  ReadExcelXSSFControls o = new ReadExcelXSSFControls();\n }\n\n private class Control {\n  private String name;\n  private String objectType;\n  private String checked;\n  private int row;\n  private int col;\n  public Control(String name, String objectType, String checked, int row, int col) {\n   this.name = name;\n   this.objectType = objectType;\n   this.checked = checked;\n   this.row = row;\n   this.col= col;\n  }\n  public String getName() {\n   return this.name;\n  }\n  public String getObjectType() {\n   return this.objectType;\n  }\n  public String getChecked() {\n   return this.checked;\n  }\n  public int getRow() {\n   return this.row;\n  }\n  public int getCol() {\n   return this.col;\n  }\n  public String toString() {\n   return this.name + &quot;:r/c:&quot; +row+ &quot;/&quot; + col + &quot;:&quot; + this.checked;\n  }\n }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>axel@arichter:~/Dokumente/JAVA/poi/poi-3.17$ java -cp .:./*:./lib/*:./ooxml-lib/* ReadExcelXSSFControls \nProduct  Status \na        Checkbox in row 2:r/c:1/1:Checked\nb        Not found:r/c:2/1:undefined\nc        Checkbox in row 4:r/c:3/1:Not checked\nd        Checkbox in row 5:r/c:4/1:Checked\ne        Radio in row 6:r/c:5/1:Checked\nf        Not found:r/c:6/1:undefined\ng        Not found:r/c:7/1:undefined\ne        Checkbox in row 9:r/c:8/1:Checked\nf        Not found:r/c:9/1:undefined\nh        Radio in row 11:r/c:10/1:Not checked\nActiveX  Pict in row 14:r/c:13/1:Not checked\n</code></pre>\n<hr />\n<p>Since Apache POI version 5 it is:</p>\n<pre><code>...\n//import org.apache.poi.POIXMLDocumentPart;\nimport org.apache.poi.ooxml.POIXMLDocumentPart;\n...\n</code></pre>\n"}],"owner":{"account_id":12133038,"reputation":39,"user_id":8859337,"display_name":"Ram Veladri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3545,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1701074140,"creation_date":1519458624,"question_id":48960620,"body_markdown":"I am working on a task related to reading an excel which contains radio buttons and checkbox using Java, I have tried a lot but can&#39;t move further on this, when I am trying to read the data of cell containing Checkbox it is returning a null value.\r\n\r\n[![enter image description here] [1]][1]\r\n\r\nCan someone please help with this.\r\n\r\n  [1]: https://i.stack.imgur.com/TYIhn.png","title":"How to get the checkbox value selected from excel sheet","body":"<p>I am working on a task related to reading an excel which contains radio buttons and checkbox using Java, I have tried a lot but can't move further on this, when I am trying to read the data of cell containing Checkbox it is returning a null value.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TYIhn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TYIhn.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can someone please help with this.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700253698,"post_id":77503129,"comment_id":136636211,"body_markdown":"It is not clear what you are asking. Please read [How to Ask](https://stackoverflow.com/help/how-to-ask) and improve the question.","body":"It is not clear what you are asking. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> and improve the question."}],"answers":[{"tags":[],"owner":{"account_id":11712095,"reputation":102,"user_id":8574917,"display_name":"Micah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701073604,"creation_date":1701073604,"answer_id":77555445,"question_id":77503129,"body_markdown":"Finally, I found solution only using reflection\r\n\r\n```\r\npublic abstract class SoqTask extends DefaultTask {\r\n    @Input\r\n    public abstract Property&lt;File&gt; getOutputDir();\r\n    @Input\r\n    public abstract ListProperty&lt;URL&gt; getInputUrls();\r\n    @Input\r\n    public abstract Property&lt;String&gt; getSerializerFileName();\r\n\r\n    @TaskAction\r\n    public void generate() {\r\n        URL[] urls = getInputUrls().get().toArray(new URL[0]);\r\n        try (URLClassLoader urlClassLoader = new URLClassLoader(urls)) {\r\n            Class&lt;?&gt; factoryClass =\r\n                    urlClassLoader.loadClass(&quot;my.org.GoodRecordFactory&quot;);\r\n            Method getInstanceMethod = factoryClass.getMethod(&quot;instance&quot;);\r\n            Object recordSerializer = getInstanceMethod.invoke(factoryClass);\r\n            Objects.requireNonNull(recordSerializer);\r\n\r\n            Class&lt;?&gt; serializerUtils =\r\n                    urlClassLoader.loadClass(&quot;my.org.Util&quot;);\r\n            Method serializeMethod = Arrays.stream(serializerUtils.getMethods())\r\n                    .filter(e -&gt; &quot;serialize&quot;.equals(e.getName()))\r\n                    .findFirst().orElseThrow(RuntimeException::new);\r\n            byte[] serializedBytes = (byte[]) serializeMethod.invoke(serializerUtils, recordSerializer);\r\n            \r\n            File outputFile = new File(getOutputDir().get(), getSerializerFileName().get());\r\n            try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n                outputStream.write(serializedBytes);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nand in gradle using:\r\n\r\n```\r\nimport one.ids.gradle.SoqTask\r\ntasks.register(&quot;oqTask&quot;, SoqTask) {\r\n    dependsOn(serverJava)\r\n    inputUrls = (sourceSets.server.output.getClassesDirs() + sourceSets.server.runtimeClasspath.files)\r\n            .collect(f -&gt; f.toURI().toURL() as URL)\r\n    outputDir = sourceSets.server.java.destinationDirectory.get().asFile\r\n    serializerFileName = &quot;serializer.bin&quot;\r\n}\r\n```\r\n\r\n\r\n","title":"How to use source code inside gradle task for create file and then make jar with all of them?","body":"<p>Finally, I found solution only using reflection</p>\n<pre><code>public abstract class SoqTask extends DefaultTask {\n    @Input\n    public abstract Property&lt;File&gt; getOutputDir();\n    @Input\n    public abstract ListProperty&lt;URL&gt; getInputUrls();\n    @Input\n    public abstract Property&lt;String&gt; getSerializerFileName();\n\n    @TaskAction\n    public void generate() {\n        URL[] urls = getInputUrls().get().toArray(new URL[0]);\n        try (URLClassLoader urlClassLoader = new URLClassLoader(urls)) {\n            Class&lt;?&gt; factoryClass =\n                    urlClassLoader.loadClass(&quot;my.org.GoodRecordFactory&quot;);\n            Method getInstanceMethod = factoryClass.getMethod(&quot;instance&quot;);\n            Object recordSerializer = getInstanceMethod.invoke(factoryClass);\n            Objects.requireNonNull(recordSerializer);\n\n            Class&lt;?&gt; serializerUtils =\n                    urlClassLoader.loadClass(&quot;my.org.Util&quot;);\n            Method serializeMethod = Arrays.stream(serializerUtils.getMethods())\n                    .filter(e -&gt; &quot;serialize&quot;.equals(e.getName()))\n                    .findFirst().orElseThrow(RuntimeException::new);\n            byte[] serializedBytes = (byte[]) serializeMethod.invoke(serializerUtils, recordSerializer);\n            \n            File outputFile = new File(getOutputDir().get(), getSerializerFileName().get());\n            try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n                outputStream.write(serializedBytes);\n            }\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>and in gradle using:</p>\n<pre><code>import one.ids.gradle.SoqTask\ntasks.register(&quot;oqTask&quot;, SoqTask) {\n    dependsOn(serverJava)\n    inputUrls = (sourceSets.server.output.getClassesDirs() + sourceSets.server.runtimeClasspath.files)\n            .collect(f -&gt; f.toURI().toURL() as URL)\n    outputDir = sourceSets.server.java.destinationDirectory.get().asFile\n    serializerFileName = &quot;serializer.bin&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":11712095,"reputation":102,"user_id":8574917,"display_name":"Micah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701073604,"creation_date":1700237898,"question_id":77503129,"body_markdown":"I have task in projectRoot/buildSrc\r\n\r\n```\r\npackage myapp.gradle;\r\n\r\nimport myapp.Utils;\r\nimport myapp.GoodRecord;\r\nimport myapp.GoodRecordFactory;\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.gradle.api.DefaultTask;\r\nimport org.gradle.api.tasks.TaskAction;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class SoqTask extends DefaultTask {\r\n    private File saveToDir;\r\n\r\n    public void setSaveToDir(File saveToDir) {\r\n        this.saveToDir = saveToDir;\r\n    }\r\n    @TaskAction\r\n    public void run() {\r\n        try {\r\n            GoodRecord instance = GoodRecordFactory.instance();\r\n            byte[] serialize = Utils.serialize(instance);\r\n            FileUtils.writeByteArrayToFile(new File(saveToDir, &quot;goodrecord.bin&quot;), serialize);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbut SoqTask doesn&#39;t have access for necessary imported classes. \r\n\r\nHow to use project code for create the file and then build it together in one jar?","title":"How to use source code inside gradle task for create file and then make jar with all of them?","body":"<p>I have task in projectRoot/buildSrc</p>\n<pre><code>package myapp.gradle;\n\nimport myapp.Utils;\nimport myapp.GoodRecord;\nimport myapp.GoodRecordFactory;\nimport org.apache.commons.io.FileUtils;\nimport org.gradle.api.DefaultTask;\nimport org.gradle.api.tasks.TaskAction;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class SoqTask extends DefaultTask {\n    private File saveToDir;\n\n    public void setSaveToDir(File saveToDir) {\n        this.saveToDir = saveToDir;\n    }\n    @TaskAction\n    public void run() {\n        try {\n            GoodRecord instance = GoodRecordFactory.instance();\n            byte[] serialize = Utils.serialize(instance);\n            FileUtils.writeByteArrayToFile(new File(saveToDir, &quot;goodrecord.bin&quot;), serialize);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>but SoqTask doesn't have access for necessary imported classes.</p>\n<p>How to use project code for create the file and then build it together in one jar?</p>\n"},{"tags":["java","elasticsearch","hibernate-search","hibernate-search-6"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701073297,"creation_date":1701073297,"answer_id":77555419,"question_id":77552121,"body_markdown":"You can [target multiple fields explicitly](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-simpleQueryString-multiple-fields) when you define your predicate:\r\n\r\n\r\n```java\r\nSearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\r\n        .where(f -&gt; f.simpleQueryString()\r\n                .fields(&quot;employee_key&quot;, &quot;first_name&quot;, &quot;addresses.address_key&quot;)\r\n                .matching(queryString))\r\n        .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\r\n```\r\n\r\nThere is no option to just target &quot;all text fields&quot; at the moment; see https://hibernate.atlassian.net/browse/HSEARCH-3926 .\r\n\r\n---\r\n\r\n\r\nAlso, just to be clear, the simple-query-string syntax does not support explicitly referring to fields in the query string.\r\n\r\nIn this example:\r\n\r\n```java\r\nf.simpleQueryString().fields(&quot;addresses.address_key&quot;)\r\n        .matching(&quot;addresses.address_key:123&quot;)\r\n```\r\n\r\n... the &quot;addresses.address_key:&quot; prefix in the searched string (&quot;addresses.address_key:123&quot;) has not particular meaning and will just be interpreted as terms to be found in the document.\r\n\r\nYou might as well have written it like this:\r\n\r\n\r\n```java\r\nf.simpleQueryString().fields(&quot;addresses.address_key&quot;)\r\n        .matching(&quot;addresses.address_key 123&quot;)\r\n```\r\n\r\nBut really, I think what you want is this:\r\n\r\n\r\n```java\r\nf.simpleQueryString().fields(&quot;addresses.address_key&quot;)\r\n        .matching(&quot;123&quot;)\r\n```","title":"How to search in all fields of indexed entities in ElasticSeacrch using hibernateSearch 6","body":"<p>You can <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-simpleQueryString-multiple-fields\" rel=\"nofollow noreferrer\">target multiple fields explicitly</a> when you define your predicate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\n        .where(f -&gt; f.simpleQueryString()\n                .fields(&quot;employee_key&quot;, &quot;first_name&quot;, &quot;addresses.address_key&quot;)\n                .matching(queryString))\n        .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\n</code></pre>\n<p>There is no option to just target &quot;all text fields&quot; at the moment; see <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-3926\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HSEARCH-3926</a> .</p>\n<hr />\n<p>Also, just to be clear, the simple-query-string syntax does not support explicitly referring to fields in the query string.</p>\n<p>In this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f.simpleQueryString().fields(&quot;addresses.address_key&quot;)\n        .matching(&quot;addresses.address_key:123&quot;)\n</code></pre>\n<p>... the &quot;addresses.address_key:&quot; prefix in the searched string (&quot;addresses.address_key:123&quot;) has not particular meaning and will just be interpreted as terms to be found in the document.</p>\n<p>You might as well have written it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f.simpleQueryString().fields(&quot;addresses.address_key&quot;)\n        .matching(&quot;addresses.address_key 123&quot;)\n</code></pre>\n<p>But really, I think what you want is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f.simpleQueryString().fields(&quot;addresses.address_key&quot;)\n        .matching(&quot;123&quot;)\n</code></pre>\n"}],"owner":{"account_id":3074142,"reputation":991,"user_id":2603985,"accept_rate":41,"display_name":"javaguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701073297,"creation_date":1701009591,"question_id":77552121,"body_markdown":"   \r\nI have following method which searches in ElasticSearch using Hibernate Search API. I pass queryString value as &quot;addresses.address_key:123&quot; which searches in addresses.address_key as mentioned in fields(addresses.address_key).\r\n\r\nHow can I make this method take any input in queryString, for example: first_name:john\r\nand make it search in all FullTextFields.\r\n\r\nElasticSearch version: 8.10\r\nHibernateSearch version: 6.2.2\r\n\r\n    public Page&lt;Employee&gt; searchEmployee(String queryString) {\r\n           try {\r\n                SearchSession searchSession = Search.session(entityManager);\r\n    \r\n                SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\r\n                        .extension(ElasticsearchExtension.get())\r\n                        .where(f -&gt; f.simpleQueryString().fields(&quot;addresses.address_key&quot;).matching(queryString))\r\n                        .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\r\n    \r\n                Page&lt;Employee&gt; pageResult = new PageImpl&lt;&gt;(searchResult.hits(), page, searchResult.total().hitCount());\r\n                return pageResult;\r\n            } catch (SearchException pe) {\r\n               throw pe;\r\n            }\r\n    }\r\n\r\nEntity classes which are indexed:\r\n\r\n    @Indexed(index = &quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n      @FullTextField(name = &quot;employee_key&quot;)\r\n      private String employeeKey;\r\n    \r\n      @FullTextField(name = &quot;first_name&quot;)\r\n      private String firstName;\r\n    \t\r\n      @IndexedEmbedded(includeEmbeddedObjectId = true, includeDepth = 2)\r\n      private Address addresses;\r\n    }\r\n    \r\n    public class Address {\r\n    \t\r\n      @FullTextField(name = &quot;address_key&quot;)\r\n      private String addressKey;\r\n    \r\n      @FullTextField(name = &quot;street_name&quot;)\r\n      private String streetName;\r\n    \r\n    } ","title":"How to search in all fields of indexed entities in ElasticSeacrch using hibernateSearch 6","body":"<p>I have following method which searches in ElasticSearch using Hibernate Search API. I pass queryString value as &quot;addresses.address_key:123&quot; which searches in addresses.address_key as mentioned in fields(addresses.address_key).</p>\n<p>How can I make this method take any input in queryString, for example: first_name:john\nand make it search in all FullTextFields.</p>\n<p>ElasticSearch version: 8.10\nHibernateSearch version: 6.2.2</p>\n<pre><code>public Page&lt;Employee&gt; searchEmployee(String queryString) {\n       try {\n            SearchSession searchSession = Search.session(entityManager);\n\n            SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\n                    .extension(ElasticsearchExtension.get())\n                    .where(f -&gt; f.simpleQueryString().fields(&quot;addresses.address_key&quot;).matching(queryString))\n                    .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\n\n            Page&lt;Employee&gt; pageResult = new PageImpl&lt;&gt;(searchResult.hits(), page, searchResult.total().hitCount());\n            return pageResult;\n        } catch (SearchException pe) {\n           throw pe;\n        }\n}\n</code></pre>\n<p>Entity classes which are indexed:</p>\n<pre><code>@Indexed(index = &quot;employee&quot;)\npublic class Employee {\n\n  @FullTextField(name = &quot;employee_key&quot;)\n  private String employeeKey;\n\n  @FullTextField(name = &quot;first_name&quot;)\n  private String firstName;\n    \n  @IndexedEmbedded(includeEmbeddedObjectId = true, includeDepth = 2)\n  private Address addresses;\n}\n\npublic class Address {\n    \n  @FullTextField(name = &quot;address_key&quot;)\n  private String addressKey;\n\n  @FullTextField(name = &quot;street_name&quot;)\n  private String streetName;\n\n} \n</code></pre>\n"},{"tags":["java","spring","graphql","spring-graphql"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1700576226,"post_id":77523076,"comment_id":136669820,"body_markdown":"Could you share the error you&#39;re getting?","body":"Could you share the error you&#39;re getting?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700638210,"post_id":77523076,"comment_id":136677803,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":19828591,"reputation":11,"user_id":14523664,"display_name":"SwimmingHigh"},"score":0,"creation_date":1700648550,"post_id":77523076,"comment_id":136679529,"body_markdown":"@BrianClozel, I&#39;ve added the error message. Could you please check again?","body":"@BrianClozel, I&#39;ve added the error message. Could you please check again?"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1700834278,"post_id":77523076,"comment_id":136704898,"body_markdown":"I can&#39;t reproduce this problem with Spring Boot 2.7.18. Can you create a sample application that shows the problem?","body":"I can&#39;t reproduce this problem with Spring Boot 2.7.18. Can you create a sample application that shows the problem?"},{"owner":{"account_id":19828591,"reputation":11,"user_id":14523664,"display_name":"SwimmingHigh"},"score":0,"creation_date":1701074319,"post_id":77523076,"comment_id":136725197,"body_markdown":"@BrianClozel I should&#39;ve posted the entire related code, but couldn&#39;t due to some reasons. I&#39;ve found the solution, and hope you can confirm it too. Thanks for your time.","body":"@BrianClozel I should&#39;ve posted the entire related code, but couldn&#39;t due to some reasons. I&#39;ve found the solution, and hope you can confirm it too. Thanks for your time."}],"answers":[{"tags":[],"owner":{"account_id":19828591,"reputation":11,"user_id":14523664,"display_name":"SwimmingHigh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701073264,"creation_date":1701073264,"answer_id":77555416,"question_id":77523076,"body_markdown":"**TLDR:**\r\nMatch the name of your object in the GraphQL schema to your Java class (along with case sensitivity), and you&#39;ll have a working code. \r\n\r\n---\r\nI solved the error I was getting. \r\nApparently, for the normal GraphQL queries, it doesn&#39;t matter if the name of your entity in the GraphQL schema, as well as the Java class, is the same or not. \r\n\r\nHowever, when you create a union with the same entities, the names in the GraphQL schema and Java class must match with case sensitivity. \r\n\r\nBasically, if you have an object Address, and you make the GraphQL schema like this:\r\n\r\n    type address{\r\n    .....\r\n    }\r\n\r\nand the Java Object like this:\r\n\r\n    Class Address{\r\n    ....\r\n    }\r\n\r\na simple GraphQL query like this would still work:\r\n\r\n    type Query{\r\n       getAddress: address\r\n    }\r\n\r\nHowever, if you create a union of the Tables as I did, it&#39;ll throw an error.  \r\n\r\nThe following code won&#39;t work and will throw the error that I had been receiving. \r\n\r\n   \r\n\r\n    type Query{ \r\n       getData: [Tables]\r\n    }\r\n    \r\n    type address{\r\n       .....\r\n    }\r\n        \r\n    union Tables = address | identifier\r\n\r\n**You need the name of your object in the GraphQL schema and the Java class to be exactly the same (along with case sensitivity).**\r\nI changed &#39;address&#39; to &#39;Address&#39; in the GraphQL schema, and voila!!\r\n\r\n**The final code that worked is as follows:**\r\n\r\nJava class:\r\n\r\n    Class Address{\r\n    ....\r\n    }\r\n\r\nGraphQL schema:\r\n\r\n    type Address{\r\n        .....\r\n    }\r\n\r\n    type Query{ \r\n       getData: [Tables]\r\n    }\r\n        \r\n    union Tables = Address | Identifier\r\n","title":"How to implement union in spring-graphql? I get error that I&#39;m requesting object but its rather a &#39;graphql.schema.GraphQLUnionType&#39;","body":"<p><strong>TLDR:</strong>\nMatch the name of your object in the GraphQL schema to your Java class (along with case sensitivity), and you'll have a working code.</p>\n<hr />\n<p>I solved the error I was getting.\nApparently, for the normal GraphQL queries, it doesn't matter if the name of your entity in the GraphQL schema, as well as the Java class, is the same or not.</p>\n<p>However, when you create a union with the same entities, the names in the GraphQL schema and Java class must match with case sensitivity.</p>\n<p>Basically, if you have an object Address, and you make the GraphQL schema like this:</p>\n<pre><code>type address{\n.....\n}\n</code></pre>\n<p>and the Java Object like this:</p>\n<pre><code>Class Address{\n....\n}\n</code></pre>\n<p>a simple GraphQL query like this would still work:</p>\n<pre><code>type Query{\n   getAddress: address\n}\n</code></pre>\n<p>However, if you create a union of the Tables as I did, it'll throw an error.</p>\n<p>The following code won't work and will throw the error that I had been receiving.</p>\n<pre><code>type Query{ \n   getData: [Tables]\n}\n\ntype address{\n   .....\n}\n    \nunion Tables = address | identifier\n</code></pre>\n<p><strong>You need the name of your object in the GraphQL schema and the Java class to be exactly the same (along with case sensitivity).</strong>\nI changed 'address' to 'Address' in the GraphQL schema, and voila!!</p>\n<p><strong>The final code that worked is as follows:</strong></p>\n<p>Java class:</p>\n<pre><code>Class Address{\n....\n}\n</code></pre>\n<p>GraphQL schema:</p>\n<pre><code>type Address{\n    .....\n}\n\ntype Query{ \n   getData: [Tables]\n}\n    \nunion Tables = Address | Identifier\n</code></pre>\n"}],"owner":{"account_id":19828591,"reputation":11,"user_id":14523664,"display_name":"SwimmingHigh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77555416,"answer_count":1,"score":0,"last_activity_date":1701073264,"creation_date":1700572055,"question_id":77523076,"body_markdown":"I wanted to create a union named Tables, that holds all the other tables and the user can request the table accordingly.\r\nI get the error:\r\nYou have asked for named object type &#39;Tables&#39;, but it&#39;s not an object type but rather a &#39;graphql.schema.GraphQLUnionType&#39;\r\n\r\n\r\nHere is my graphql schema:\r\n\r\n```\r\ntype Query{ \r\n  getData: [Tables]\r\n}\r\nunion Tables = address | identifier\r\n```\r\nMy query is a simple one: \r\n```\r\nquery allData{ \r\n getData{ \r\n  __typename \r\n } \r\n}\r\n```\r\n\r\nMy Java method looks like this:\r\n```\r\n@QueryMapping \r\npublic List getData() { \r\n return List.of(new Address());\r\n}\r\n```\r\n\r\nHere is the error I&#39;m receiving:\r\n\r\n```\r\nERROR 14724 - [nio-8880-exec-1] o.a.c.c.[. [. [/].[dispatcherServlet] : Servlet.service() for servlet\r\n[dispatcherServlet] threw exception\r\n\r\njava.util.concurrent.CompletionException Create breakpoint: graphql.AssertException: You have asked for named object type &#39;Tables&#39; but its not an object type but rather a &#39;graphql.schema.GraphQLUnionType&#39;\r\n\r\nat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331) ~[na:na]\r\n\r\nat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346) ~[na:na] at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete (CompletableFuture.java:870) ~[na:na]\r\n\r\njava.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883) -[na:na]\r\n\r\nat at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251) ~[na:na]\r\n\r\nat graphql.execution.Execution.executeoperation(Execution.java:174) ~[graphql-java-18.5.jar:na]\r\n\r\nat graphql.execution.Execution.execute(Execution.java:105) -[graphql-java-18.5.jar:na]\r\n\r\nat graphql.GraphQL.execute(GraphQL.java:641) [graphql-java-18.5.jar:na]\r\n\r\nat graphql.GraphQL.LambdasparseValidateAndExecute$11(GraphQL.java:561) -[graphql-java-18.5.jar:na] at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1106)-[na:na]\r\n\r\nat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2235)-[na:na]\r\n\r\nat graphql.GraphQL.parseValidateAndExecute(GraphQL.java:556) -[graphql-java-18.5.jar:na] at graphql.GraphQL.executeAsync(Graphq.java:524) [graphql-java-18.5.jar:na]\r\n\r\nat org.springframework.graphql.execution.DefaultExecutionGraphql.Service.Lambda$execute$2(DefaultExecution@nave -[spring-graphql-1.0.6.jar:1.0.6]\r\n\r\nat reactor.core.publisher.MonoDeferContextual.subscribe(MongDeferContextual.java:47) -[ reactor-core-3.4.33.jar:3.4.33]\r\n```\r\n\r\nI saw some implementations and this should work, but throws an error in my case. \r\n\r\n**My Classes Address and Identifier are Hibernate Entities**. \r\n\r\nI simply wanted to create a generic controller that can serve as an entry point for all the tables. \r\nI thought union would do the job, what can I do in this case? ","title":"How to implement union in spring-graphql? I get error that I&#39;m requesting object but its rather a &#39;graphql.schema.GraphQLUnionType&#39;","body":"<p>I wanted to create a union named Tables, that holds all the other tables and the user can request the table accordingly.\nI get the error:\nYou have asked for named object type 'Tables', but it's not an object type but rather a 'graphql.schema.GraphQLUnionType'</p>\n<p>Here is my graphql schema:</p>\n<pre><code>type Query{ \n  getData: [Tables]\n}\nunion Tables = address | identifier\n</code></pre>\n<p>My query is a simple one:</p>\n<pre><code>query allData{ \n getData{ \n  __typename \n } \n}\n</code></pre>\n<p>My Java method looks like this:</p>\n<pre><code>@QueryMapping \npublic List getData() { \n return List.of(new Address());\n}\n</code></pre>\n<p>Here is the error I'm receiving:</p>\n<pre><code>ERROR 14724 - [nio-8880-exec-1] o.a.c.c.[. [. [/].[dispatcherServlet] : Servlet.service() for servlet\n[dispatcherServlet] threw exception\n\njava.util.concurrent.CompletionException Create breakpoint: graphql.AssertException: You have asked for named object type 'Tables' but its not an object type but rather a 'graphql.schema.GraphQLUnionType'\n\nat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331) ~[na:na]\n\nat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346) ~[na:na] at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete (CompletableFuture.java:870) ~[na:na]\n\njava.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883) -[na:na]\n\nat at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251) ~[na:na]\n\nat graphql.execution.Execution.executeoperation(Execution.java:174) ~[graphql-java-18.5.jar:na]\n\nat graphql.execution.Execution.execute(Execution.java:105) -[graphql-java-18.5.jar:na]\n\nat graphql.GraphQL.execute(GraphQL.java:641) [graphql-java-18.5.jar:na]\n\nat graphql.GraphQL.LambdasparseValidateAndExecute$11(GraphQL.java:561) -[graphql-java-18.5.jar:na] at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1106)-[na:na]\n\nat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2235)-[na:na]\n\nat graphql.GraphQL.parseValidateAndExecute(GraphQL.java:556) -[graphql-java-18.5.jar:na] at graphql.GraphQL.executeAsync(Graphq.java:524) [graphql-java-18.5.jar:na]\n\nat org.springframework.graphql.execution.DefaultExecutionGraphql.Service.Lambda$execute$2(DefaultExecution@nave -[spring-graphql-1.0.6.jar:1.0.6]\n\nat reactor.core.publisher.MonoDeferContextual.subscribe(MongDeferContextual.java:47) -[ reactor-core-3.4.33.jar:3.4.33]\n</code></pre>\n<p>I saw some implementations and this should work, but throws an error in my case.</p>\n<p><strong>My Classes Address and Identifier are Hibernate Entities</strong>.</p>\n<p>I simply wanted to create a generic controller that can serve as an entry point for all the tables.\nI thought union would do the job, what can I do in this case?</p>\n"},{"tags":["java","elasticsearch","hibernate-search","hibernate-search-6"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701072653,"creation_date":1701072653,"answer_id":77555357,"question_id":77553472,"body_markdown":"Hibernate Search expects that you&#39;d pass the query itself without the wrapper JSON object. See an example [here][1]. So in your case you should pass a:\r\n\r\n```json\r\n{\r\n   &quot;query_string&quot;:{\r\n      &quot;fields&quot;:[\r\n         &quot;addresses.address_key&quot;\r\n      ],\r\n      &quot;query&quot;:&quot;3g5g36ee-45b0-4636-79fe-9aaf446b7ab6&quot;\r\n   }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-extensions-elasticsearch-from-json","title":"named_object_not_found_exception while querying ElasticSearch","body":"<p>Hibernate Search expects that you'd pass the query itself without the wrapper JSON object. See an example <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-dsl-predicate-extensions-elasticsearch-from-json\" rel=\"nofollow noreferrer\">here</a>. So in your case you should pass a:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;query_string&quot;:{\n      &quot;fields&quot;:[\n         &quot;addresses.address_key&quot;\n      ],\n      &quot;query&quot;:&quot;3g5g36ee-45b0-4636-79fe-9aaf446b7ab6&quot;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":3074142,"reputation":991,"user_id":2603985,"accept_rate":41,"display_name":"javaguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77555357,"answer_count":1,"score":0,"last_activity_date":1701072653,"creation_date":1701032226,"question_id":77553472,"body_markdown":"I am trying to query ElasticSearch using hibernateSearh 6. Following is the Json query which is sent to ElasticSearch. It looks fine as per documentation here : https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html\r\n\r\n    {&quot;query&quot;:{&quot;query_string&quot;:{&quot;fields&quot;:[&quot;addresses.address_key&quot;],&quot;query&quot;:&quot;3g5g36ee-45b0-4636-79fe-9aaf446b7ab6&quot;}}}\r\n\r\nHowver, getting following Exception with message:\r\n\r\n    org.hibernate.search.util.common.SearchException: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\r\n    Request: POST /employee-read/_search with parameters {from=0, size=10, track_total_hits=true}\r\n    Response: 400 &#39;Bad Request&#39; from &#39;http://localhost:9200&#39; with body \r\n    {\r\n      &quot;error&quot;: {\r\n        &quot;root_cause&quot;: [\r\n          {\r\n            &quot;type&quot;: &quot;parsing_exception&quot;,\r\n            &quot;reason&quot;: &quot;unknown query [query]&quot;,\r\n            &quot;line&quot;: 1,\r\n            &quot;col&quot;: 19\r\n          }\r\n        ],\r\n        &quot;type&quot;: &quot;parsing_exception&quot;,\r\n        &quot;reason&quot;: &quot;unknown query [query]&quot;,\r\n        &quot;line&quot;: 1,\r\n        &quot;col&quot;: 19,\r\n        &quot;caused_by&quot;: {\r\n          &quot;type&quot;: &quot;named_object_not_found_exception&quot;,\r\n          &quot;reason&quot;: &quot;[1:19] unknown field [query]&quot;\r\n        }\r\n      },\r\n      &quot;status&quot;: 400\r\n    }\r\n\r\n\r\nHere are the entities:\r\n\r\n    @Indexed(index = &quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n      @FullTextField(name = &quot;employee_key&quot;)\r\n      private String employeeKey;\r\n    \r\n      @FullTextField(name = &quot;first_name&quot;)\r\n      private String firstName;\r\n        \r\n      @IndexedEmbedded(includeEmbeddedObjectId = true, includeDepth = 2)\r\n      private Address addresses;\r\n    }\r\n    \r\n    public class Address {\r\n        \r\n      @FullTextField(name = &quot;address_key&quot;)\r\n      private String addressKey;\r\n    \r\n      @FullTextField(name = &quot;street_name&quot;)\r\n      private String streetName;\r\n    \r\n    } \r\n\r\nand following is the code to fetch data from Elastic where predicateFunction is: `(ElasticsearchSearchPredicateFactory f) -&gt;  f.fromJson(queryJson)`\r\n\r\n    SearchSession searchSession = Search.session(entityManager);\r\n    \r\n                SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\r\n                        .extension(ElasticsearchExtension.get())\r\n                        .where(searchPredicateFactory -&gt; {\r\n                            return predicateFunction.apply(searchPredicateFactory);\r\n                        })\r\n                        .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\r\n\r\n","title":"named_object_not_found_exception while querying ElasticSearch","body":"<p>I am trying to query ElasticSearch using hibernateSearh 6. Following is the Json query which is sent to ElasticSearch. It looks fine as per documentation here : <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html</a></p>\n<pre><code>{&quot;query&quot;:{&quot;query_string&quot;:{&quot;fields&quot;:[&quot;addresses.address_key&quot;],&quot;query&quot;:&quot;3g5g36ee-45b0-4636-79fe-9aaf446b7ab6&quot;}}}\n</code></pre>\n<p>Howver, getting following Exception with message:</p>\n<pre><code>org.hibernate.search.util.common.SearchException: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\nRequest: POST /employee-read/_search with parameters {from=0, size=10, track_total_hits=true}\nResponse: 400 'Bad Request' from 'http://localhost:9200' with body \n{\n  &quot;error&quot;: {\n    &quot;root_cause&quot;: [\n      {\n        &quot;type&quot;: &quot;parsing_exception&quot;,\n        &quot;reason&quot;: &quot;unknown query [query]&quot;,\n        &quot;line&quot;: 1,\n        &quot;col&quot;: 19\n      }\n    ],\n    &quot;type&quot;: &quot;parsing_exception&quot;,\n    &quot;reason&quot;: &quot;unknown query [query]&quot;,\n    &quot;line&quot;: 1,\n    &quot;col&quot;: 19,\n    &quot;caused_by&quot;: {\n      &quot;type&quot;: &quot;named_object_not_found_exception&quot;,\n      &quot;reason&quot;: &quot;[1:19] unknown field [query]&quot;\n    }\n  },\n  &quot;status&quot;: 400\n}\n</code></pre>\n<p>Here are the entities:</p>\n<pre><code>@Indexed(index = &quot;employee&quot;)\npublic class Employee {\n\n  @FullTextField(name = &quot;employee_key&quot;)\n  private String employeeKey;\n\n  @FullTextField(name = &quot;first_name&quot;)\n  private String firstName;\n    \n  @IndexedEmbedded(includeEmbeddedObjectId = true, includeDepth = 2)\n  private Address addresses;\n}\n\npublic class Address {\n    \n  @FullTextField(name = &quot;address_key&quot;)\n  private String addressKey;\n\n  @FullTextField(name = &quot;street_name&quot;)\n  private String streetName;\n\n} \n</code></pre>\n<p>and following is the code to fetch data from Elastic where predicateFunction is: <code>(ElasticsearchSearchPredicateFactory f) -&gt;  f.fromJson(queryJson)</code></p>\n<pre><code>SearchSession searchSession = Search.session(entityManager);\n\n            SearchResult&lt;Employee&gt; searchResult = searchSession.search(Employee.class)\n                    .extension(ElasticsearchExtension.get())\n                    .where(searchPredicateFactory -&gt; {\n                        return predicateFunction.apply(searchPredicateFactory);\n                    })\n                    .fetch(Math.toIntExact(page.getOffset()), page.getPageSize());\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":9132122,"reputation":3607,"user_id":6793312,"accept_rate":50,"display_name":"Moshe Arad"},"score":0,"creation_date":1492371901,"post_id":43435637,"comment_id":73939600,"body_markdown":"Which dependencies manager are you using?","body":"Which dependencies manager are you using?"},{"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"score":0,"creation_date":1492372554,"post_id":43435637,"comment_id":73939816,"body_markdown":"I figured it out I used the wrong dependencies we must use mongo-java-driver-2.10.1 dependencies. Thanks for the suggestion","body":"I figured it out I used the wrong dependencies we must use mongo-java-driver-2.10.1 dependencies. Thanks for the suggestion"},{"owner":{"account_id":9132122,"reputation":3607,"user_id":6793312,"accept_rate":50,"display_name":"Moshe Arad"},"score":0,"creation_date":1492372617,"post_id":43435637,"comment_id":73939839,"body_markdown":"Cheers, a vote up will be nice @Akshay Naik","body":"Cheers, a vote up will be nice @Akshay Naik"}],"answers":[{"tags":[],"owner":{"account_id":6623825,"reputation":373,"user_id":5114663,"display_name":"Vasudeva Krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501769126,"creation_date":1501760769,"answer_id":45483255,"question_id":43435637,"body_markdown":"Adding:\r\n\r\n    # mongo-java-driver-3.4.2.jar \r\n    # mongob-driver-3.4.2\r\n\r\nto my `Web-content &gt; WEB-INF &gt; lib` folder in Eclipse Luna solved my problem. Use the latest driver available, the ones listed are the latest at the time of posting this.","title":"MongoClient cannot be resolved to a type","body":"<p>Adding:</p>\n\n<pre><code># mongo-java-driver-3.4.2.jar \n# mongob-driver-3.4.2\n</code></pre>\n\n<p>to my <code>Web-content &gt; WEB-INF &gt; lib</code> folder in Eclipse Luna solved my problem. Use the latest driver available, the ones listed are the latest at the time of posting this.</p>\n"},{"tags":[],"owner":{"account_id":10212086,"reputation":169,"user_id":7538871,"accept_rate":0,"display_name":"Krishna Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539588212,"creation_date":1539588212,"answer_id":52811612,"question_id":43435637,"body_markdown":"I think `MongoDatabase` class file not available in the `mongodb-driver-3.8.0-beta3` jar file. That is why you are unable to import it. You can use stable version `3.7.1 of mongo jar`. MongoDatabase class is available in stable version. Source : [mvnrepository.com/artifact/org.mongodb/mongo-java-driver/3.7.1][1]\r\n\r\n\r\n  [1]: http://I%20think%20MongoDatabase%20class%20file%20not%20available%20in%20the%20mongodb-driver-3.8.0-beta3%20jar%20file.%20That%20is%20why%20you%20are%20unable%20to%20import%20it.%20You%20can%20use%20stable%20version%203.7.1%20of%20mongo%20jar.%20MongoDatabase%20class%20is%20available%20in%20stable%20version.%20Source%20:%20mvnrepository.com/artifact/org.mongodb/mongo-java-driver/3.7.1","title":"MongoClient cannot be resolved to a type","body":"<p>I think <code>MongoDatabase</code> class file not available in the <code>mongodb-driver-3.8.0-beta3</code> jar file. That is why you are unable to import it. You can use stable version <code>3.7.1 of mongo jar</code>. MongoDatabase class is available in stable version. Source : <a href=\"http://I%20think%20MongoDatabase%20class%20file%20not%20available%20in%20the%20mongodb-driver-3.8.0-beta3%20jar%20file.%20That%20is%20why%20you%20are%20unable%20to%20import%20it.%20You%20can%20use%20stable%20version%203.7.1%20of%20mongo%20jar.%20MongoDatabase%20class%20is%20available%20in%20stable%20version.%20Source%20:%20mvnrepository.com/artifact/org.mongodb/mongo-java-driver/3.7.1\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.mongodb/mongo-java-driver/3.7.1</a></p>\n"}],"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10723,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701072400,"creation_date":1492334012,"question_id":43435637,"body_markdown":"I am new to MongoDB and I want to establish connection with my mongod server.\r\nBut I get the error `MongoClient cannot be resolved to a type` I have included external Jar into my project but still cannot fix the error\r\n\r\nHere is my code I think there is no error in my code but I have included wrong JAR file in my project\r\n\r\n    import com.mongodb.*;\r\n    import java.util.concurrent.locks.Lock;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n\r\n    public class Dining {\r\n\r\n    public static void main(String[] args) {\r\n    Lock forks[] = new ReentrantLock[5];\r\n    \r\n    try {\r\n\t\tMongoClient mongoClient = new  MongoClient(&quot;mongo&quot;);\r\n\t\tSystem.out.println(&quot;Connection to mongodb successful.&quot;);\r\n\t\tDB db = mongoClient.getDB( &quot;mydb&quot; );\r\n\t\tSystem.out.println(&quot;Database &#39;mydb&#39; created.&quot;);\r\n\t\tDBCollection coll = db.createCollection(&quot;mycol&quot;, null);\r\n\t\tSystem.out.println(&quot;Collection &#39;mycol&#39; created.&quot;);\r\n\t} catch (Exception e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n    \r\n       for(int i = 0; i&lt;5; i++){\r\n        forks[i] = new ReentrantLock(); \r\n    }\r\n\r\n    Thread p1 = new Thread(new Philosopher(forks[4], forks[0], &quot;first&quot;));\r\n    Thread p2 = new Thread(new Philosopher(forks[0], forks[1], &quot;second&quot;));\r\n    Thread p3 = new Thread(new Philosopher(forks[1], forks[2], &quot;third&quot;));\r\n    Thread p4 = new Thread(new Philosopher(forks[2], forks[3], &quot;fourth&quot;));\r\n    Thread p5 = new Thread(new Philosopher(forks[3], forks[4], &quot;fifth&quot;));\r\n\r\n    p1.start();\r\n    p2.start();\r\n    p3.start();\r\n    p4.start();\r\n    p5.start(); \r\n\r\n\r\n    }\r\n    }\r\n\r\n    class Philosopher implements Runnable {\r\n    Lock leftFork = new ReentrantLock();\r\n    Lock rightFork = new ReentrantLock();\r\n    String name;\r\n\r\n\r\n    public Philosopher(Lock leftFork, Lock rightFork, String name) {\r\n    this.leftFork = leftFork;\r\n    this.rightFork = rightFork;\r\n    this.name = name; \r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n\ttry {\r\n    think(name);\r\n\teat(leftFork, rightFork, name); \r\n\t} catch (Exception e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n    }\r\n\r\n    private void eat(Lock leftFork, Lock rightFork, String name) throws Exception{\r\n    leftFork.lock();\r\n    rightFork.lock();\r\n    try\r\n    {\r\n    MongoClient mongoClient = new MongoClient(&quot;localhost&quot;);\r\n    DB db = mongoClient.getDB( &quot;mydb&quot; );\r\n    DBCollection coll = db.getCollection(&quot;mycol&quot;);\r\n\r\n    System.out.println(name + &quot; eating...&quot;);\r\n    BasicDBObject doc1 = new BasicDBObject(name , &quot; eating...&quot;);\r\n    coll.insert(doc1);\r\n\r\n        Thread.sleep(1000);\r\n    } catch (Exception e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    } \r\n    finally{\r\n        System.out.println(name + &quot; done eating and now thinking...&quot;);\r\n        MongoClient mongoClient = new MongoClient(&quot;localhost&quot;);\r\n        DB db = mongoClient.getDB( &quot;mydb&quot; );\r\n\t\tDBCollection coll = db.getCollection(&quot;mycol&quot;);\r\n\t\tBasicDBObject doc2 = new BasicDBObject(name , &quot; done eating and now thinking...&quot;);\r\n\t\tcoll.insert(doc2);\r\n        leftFork.unlock();\r\n        rightFork.unlock(); \r\n    }\r\n    }\r\n\r\n    public void think(String name) throws Exception{\r\n\ttry\r\n    {\r\n    MongoClient mongoClient = new MongoClient(&quot;localhost&quot;);\r\n    DB db = mongoClient.getDB( &quot;mydb&quot; );\r\n    DBCollection coll = db.getCollection(&quot;mycol&quot;);\r\n    System.out.println(name + &quot; thinking...&quot;);\r\n    BasicDBObject doc = new BasicDBObject(name , &quot; thinking...&quot;);\r\n    coll.insert(doc);\r\n        Thread.sleep(1000);\r\n    } catch (InterruptedException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    } \r\n    }\r\n\r\n    }","title":"MongoClient cannot be resolved to a type","body":"<p>I am new to MongoDB and I want to establish connection with my mongod server.\nBut I get the error <code>MongoClient cannot be resolved to a type</code> I have included external Jar into my project but still cannot fix the error</p>\n\n<p>Here is my code I think there is no error in my code but I have included wrong JAR file in my project</p>\n\n<pre><code>import com.mongodb.*;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class Dining {\n\npublic static void main(String[] args) {\nLock forks[] = new ReentrantLock[5];\n\ntry {\n    MongoClient mongoClient = new  MongoClient(\"mongo\");\n    System.out.println(\"Connection to mongodb successful.\");\n    DB db = mongoClient.getDB( \"mydb\" );\n    System.out.println(\"Database 'mydb' created.\");\n    DBCollection coll = db.createCollection(\"mycol\", null);\n    System.out.println(\"Collection 'mycol' created.\");\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n\n   for(int i = 0; i&lt;5; i++){\n    forks[i] = new ReentrantLock(); \n}\n\nThread p1 = new Thread(new Philosopher(forks[4], forks[0], \"first\"));\nThread p2 = new Thread(new Philosopher(forks[0], forks[1], \"second\"));\nThread p3 = new Thread(new Philosopher(forks[1], forks[2], \"third\"));\nThread p4 = new Thread(new Philosopher(forks[2], forks[3], \"fourth\"));\nThread p5 = new Thread(new Philosopher(forks[3], forks[4], \"fifth\"));\n\np1.start();\np2.start();\np3.start();\np4.start();\np5.start(); \n\n\n}\n}\n\nclass Philosopher implements Runnable {\nLock leftFork = new ReentrantLock();\nLock rightFork = new ReentrantLock();\nString name;\n\n\npublic Philosopher(Lock leftFork, Lock rightFork, String name) {\nthis.leftFork = leftFork;\nthis.rightFork = rightFork;\nthis.name = name; \n}\n\n@Override\npublic void run() {\ntry {\nthink(name);\neat(leftFork, rightFork, name); \n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n}\n\nprivate void eat(Lock leftFork, Lock rightFork, String name) throws Exception{\nleftFork.lock();\nrightFork.lock();\ntry\n{\nMongoClient mongoClient = new MongoClient(\"localhost\");\nDB db = mongoClient.getDB( \"mydb\" );\nDBCollection coll = db.getCollection(\"mycol\");\n\nSystem.out.println(name + \" eating...\");\nBasicDBObject doc1 = new BasicDBObject(name , \" eating...\");\ncoll.insert(doc1);\n\n    Thread.sleep(1000);\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} \nfinally{\n    System.out.println(name + \" done eating and now thinking...\");\n    MongoClient mongoClient = new MongoClient(\"localhost\");\n    DB db = mongoClient.getDB( \"mydb\" );\n    DBCollection coll = db.getCollection(\"mycol\");\n    BasicDBObject doc2 = new BasicDBObject(name , \" done eating and now thinking...\");\n    coll.insert(doc2);\n    leftFork.unlock();\n    rightFork.unlock(); \n}\n}\n\npublic void think(String name) throws Exception{\ntry\n{\nMongoClient mongoClient = new MongoClient(\"localhost\");\nDB db = mongoClient.getDB( \"mydb\" );\nDBCollection coll = db.getCollection(\"mycol\");\nSystem.out.println(name + \" thinking...\");\nBasicDBObject doc = new BasicDBObject(name , \" thinking...\");\ncoll.insert(doc);\n    Thread.sleep(1000);\n} catch (InterruptedException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} \n}\n\n}\n</code></pre>\n"},{"tags":["java","android","arrays","json","sketchware"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701036083,"creation_date":1701036083,"answer_id":77553643,"question_id":77553467,"body_markdown":"If you know the _JSON_ _values_, you can be explicit.\r\n\r\nHere is an example, where _s_ is the _String_.\r\n\r\n```java\r\nGson g = new Gson();\r\nMap&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; m\r\n    = g.&lt;Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt;fromJson(s, Map.class);\r\n\r\nSystem.out.println(m);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{user=[{id=string, address=string, contact=string, name=string, description=string, image_url=}], next=string}\r\n```\r\n\r\nIf not, define the _type-parameter_ as _Object_, and cast the _Map_ _value_.\r\n\r\n```java\r\nGson g = new Gson();\r\nMap&lt;String, Object&gt; m = g.&lt;Map&lt;String, Object&gt;&gt;fromJson(s, Map.class);\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nList&lt;Map&lt;String, Object&gt;&gt; users = (List&lt;Map&lt;String, Object&gt;&gt;) m.get(&quot;user&quot;);\r\nSystem.out.println(users);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[{id=string, address=string, contact=string, name=string, description=string, image_url=}]\r\n```","title":"BEGIN_ARRAY but was STRING at line 1 column 1 java android sketchware","body":"<p>If you know the <em>JSON</em> <em>values</em>, you can be explicit.</p>\n<p>Here is an example, where <em>s</em> is the <em>String</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson g = new Gson();\nMap&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; m\n    = g.&lt;Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt;fromJson(s, Map.class);\n\nSystem.out.println(m);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{user=[{id=string, address=string, contact=string, name=string, description=string, image_url=}], next=string}\n</code></pre>\n<p>If not, define the <em>type-parameter</em> as <em>Object</em>, and cast the <em>Map</em> <em>value</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson g = new Gson();\nMap&lt;String, Object&gt; m = g.&lt;Map&lt;String, Object&gt;&gt;fromJson(s, Map.class);\n\n@SuppressWarnings(&quot;unchecked&quot;)\nList&lt;Map&lt;String, Object&gt;&gt; users = (List&lt;Map&lt;String, Object&gt;&gt;) m.get(&quot;user&quot;);\nSystem.out.println(users);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{id=string, address=string, contact=string, name=string, description=string, image_url=}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17589845,"reputation":276,"user_id":12761938,"display_name":"Oyindamola Gideon Olarewaju"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701037198,"creation_date":1701036580,"answer_id":77553664,"question_id":77553467,"body_markdown":"The warning is there, Array was expected but found string, please show your response model for more context. \r\nFrom your json response model class or model data class, user should be an array like below. \r\n\r\n   For Kotlin\r\n   \r\n\r\n    data class Data (\r\n\r\n     @SerializedName(&quot;user&quot; ) var user : ArrayList&lt;User&gt; = arrayListOf(),\r\n     @SerializedName(&quot;next&quot; ) var next : String?         = null\r\n\r\n     )\r\n\r\n\r\n    data class User (\r\n      @SerializedName(&quot;id&quot;          ) var id          : String? = null,\r\n      @SerializedName(&quot;address&quot;     ) var address     : String? = null,\r\n      @SerializedName(&quot;contact&quot;     ) var contact     : String? = null,\r\n      @SerializedName(&quot;name&quot;        ) var name        : String? = null,\r\n      @SerializedName(&quot;description&quot; ) var description : String? = null,\r\n      @SerializedName(&quot;image_url&quot;   ) var imageUrl    : String? = null\r\n    )\r\n\r\n\r\nJava Should be:\r\n\r\n     public class Data{\r\n      public ArrayList&lt;User&gt; user;\r\n      public String next;\r\n     }\r\n\r\n     public class User{\r\n      public String id;\r\n      public String address;\r\n      public String contact;\r\n      public String name;\r\n      public String description;\r\n      public String image_url;\r\n     }\r\n\r\n","title":"BEGIN_ARRAY but was STRING at line 1 column 1 java android sketchware","body":"<p>The warning is there, Array was expected but found string, please show your response model for more context.\nFrom your json response model class or model data class, user should be an array like below.</p>\n<p>For Kotlin</p>\n<pre><code>data class Data (\n\n @SerializedName(&quot;user&quot; ) var user : ArrayList&lt;User&gt; = arrayListOf(),\n @SerializedName(&quot;next&quot; ) var next : String?         = null\n\n )\n\n\ndata class User (\n  @SerializedName(&quot;id&quot;          ) var id          : String? = null,\n  @SerializedName(&quot;address&quot;     ) var address     : String? = null,\n  @SerializedName(&quot;contact&quot;     ) var contact     : String? = null,\n  @SerializedName(&quot;name&quot;        ) var name        : String? = null,\n  @SerializedName(&quot;description&quot; ) var description : String? = null,\n  @SerializedName(&quot;image_url&quot;   ) var imageUrl    : String? = null\n)\n</code></pre>\n<p>Java Should be:</p>\n<pre><code> public class Data{\n  public ArrayList&lt;User&gt; user;\n  public String next;\n }\n\n public class User{\n  public String id;\n  public String address;\n  public String contact;\n  public String name;\n  public String description;\n  public String image_url;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701071981,"creation_date":1701071981,"answer_id":77555306,"question_id":77553467,"body_markdown":"Try your code this way:\r\n\r\n\r\n    try {\r\n        JSONObject jsonResponse = new JSONObject(_response);\r\n    \r\n        JSONArray userArray = jsonResponse.getJSONArray(&quot;user&quot;);\r\n        \r\n        card_list = new Gson().fromJson(userArray.toString(), new TypeToken&lt;List&lt;Map&lt;String, String&gt;&gt;&gt;(){}.getType());\r\n    \r\n        if (card_list.size() &gt; 5) {\r\n            recyclerview1.setAdapter(new Recyclerview1Adapter(card_list));\r\n        } else {\r\n            SketchwareUtil.showMessage(getApplicationContext(), &quot;Not enough data for RecyclerView&quot;);\r\n        }\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n        SketchwareUtil.showMessage(getApplicationContext(), &quot;Error parsing JSON&quot;);\r\n    }\r\n\r\n","title":"BEGIN_ARRAY but was STRING at line 1 column 1 java android sketchware","body":"<p>Try your code this way:</p>\n<pre><code>try {\n    JSONObject jsonResponse = new JSONObject(_response);\n\n    JSONArray userArray = jsonResponse.getJSONArray(&quot;user&quot;);\n    \n    card_list = new Gson().fromJson(userArray.toString(), new TypeToken&lt;List&lt;Map&lt;String, String&gt;&gt;&gt;(){}.getType());\n\n    if (card_list.size() &gt; 5) {\n        recyclerview1.setAdapter(new Recyclerview1Adapter(card_list));\n    } else {\n        SketchwareUtil.showMessage(getApplicationContext(), &quot;Not enough data for RecyclerView&quot;);\n    }\n} catch (JSONException e) {\n    e.printStackTrace();\n    SketchwareUtil.showMessage(getApplicationContext(), &quot;Error parsing JSON&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":29998958,"reputation":3,"user_id":22989514,"display_name":"inshanity ina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77555306,"answer_count":3,"score":0,"last_activity_date":1701071981,"creation_date":1701032091,"question_id":77553467,"body_markdown":"OnResponse code :\r\n\r\n\r\n&lt;pre&gt;card_list = new Gson().fromJson(_response, new TypeToken&lt;ArrayList&lt;HashMap&lt;String, Object&gt;&gt;&gt;(){}.getType());\r\n\r\n\r\nif (card_list.size() &gt; 5) {\r\n\r\n\trecyclerview1.setAdapter(new Recyclerview1Adapter(card_list));\r\n\r\n}else{\r\n\r\nSketchwareUtil.showMessage(getApplicationContext(), _response);\r\n\r\n}&lt;/pre&gt;\r\n\r\nJson 200 Result like :\r\n\r\n\r\n\r\n&lt;pre&gt;{\r\n\r\n  &quot;user&quot;: [\r\n\r\n    {\r\n\r\n      &quot;id&quot;: &quot;string&quot;,\r\n\r\n      &quot;address&quot;: &quot;string&quot;,\r\n\r\n      &quot;contact&quot;: &quot;string&quot;,\r\n\r\n      &quot;name&quot;: &quot;string&quot;,\r\n\r\n      &quot;description&quot;: &quot;string&quot;,\r\n\r\n      &quot;image_url&quot;: &quot;&quot;\r\n\r\n    },{...},{...}\r\n\r\n  ],\r\n\r\n  &quot;next&quot;: &quot;string&quot;\r\n\r\n}&lt;/pre&gt;\r\n\r\nBut have the error when opening an activity :\r\n\r\nBEGIN_ARRAY but was STRING at line 1 column 1\r\n\r\nPlease help me solve the code to retrieve json array to listmap for recyclerview in java android or sketchware","title":"BEGIN_ARRAY but was STRING at line 1 column 1 java android sketchware","body":"<p>OnResponse code :</p>\n<pre>card_list = new Gson().fromJson(_response, new TypeToken>>(){}.getType());\n\n\nif (card_list.size() > 5) {\n\n    recyclerview1.setAdapter(new Recyclerview1Adapter(card_list));\n\n}else{\n\nSketchwareUtil.showMessage(getApplicationContext(), _response);\n\n}</pre>\n<p>Json 200 Result like :</p>\n<pre>{\n\n  \"user\": [\n\n    {\n\n      \"id\": \"string\",\n\n      \"address\": \"string\",\n\n      \"contact\": \"string\",\n\n      \"name\": \"string\",\n\n      \"description\": \"string\",\n\n      \"image_url\": \"\"\n\n    },{...},{...}\n\n  ],\n\n  \"next\": \"string\"\n\n}</pre>\n<p>But have the error when opening an activity :</p>\n<p>BEGIN_ARRAY but was STRING at line 1 column 1</p>\n<p>Please help me solve the code to retrieve json array to listmap for recyclerview in java android or sketchware</p>\n"},{"tags":["java","intellij-idea","testcase","sonarlint-intellij"],"comments":[{"owner":{"account_id":4079887,"reputation":546,"user_id":3350632,"accept_rate":57,"display_name":"Vaibhav_Sharma"},"score":0,"creation_date":1574255824,"post_id":50036502,"comment_id":104166229,"body_markdown":"I believe it not possible as per standards defined by the makers of this plugin. It is not advisable also. https://community.sonarsource.com/t/sonarlint-and-sonarqube-analysis-on-automation-test-scripts/910","body":"I believe it not possible as per standards defined by the makers of this plugin. It is not advisable also. <a href=\"https://community.sonarsource.com/t/sonarlint-and-sonarqube-analysis-on-automation-test-scripts/910\" rel=\"nofollow noreferrer\">community.sonarsource.com/t/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22205107,"reputation":19,"user_id":16445140,"display_name":"Long Nguyễn Văn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701071849,"creation_date":1701071849,"answer_id":77555297,"question_id":50036502,"body_markdown":"Just change the test/java folder to &quot;Source Root&quot; as follows.\r\nThen restart or disable then enable SonarLint.\r\nI tried it and it works fine.\r\n\r\n[![make folder test to Source][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4PvUC.png","title":"How to analyse Testcases from src/test/java folder using sonarlint in intellij","body":"<p>Just change the test/java folder to &quot;Source Root&quot; as follows.\nThen restart or disable then enable SonarLint.\nI tried it and it works fine.</p>\n<p><a href=\"https://i.stack.imgur.com/4PvUC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4PvUC.png\" alt=\"make folder test to Source\" /></a></p>\n"}],"owner":{"account_id":5444686,"reputation":384,"user_id":5527977,"display_name":"Diptman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701071849,"creation_date":1524725276,"question_id":50036502,"body_markdown":"How to use `sonarlint` for analyzing testcases? I have found similar thing in sonar cube `sonar.test.inclusions` as property but couldn&#39;t find anything similar in `sonarlint &gt; intellij.`\r\n\r\nFolder I need to analyse: `src/test/java`\r\n\r\n**Work around:**\r\n\r\n\r\n----------\r\n Renaming test folder worked for me.I changed test to test1. Is there proper way/steps I can follow and can analyse testcases? ","title":"How to analyse Testcases from src/test/java folder using sonarlint in intellij","body":"<p>How to use <code>sonarlint</code> for analyzing testcases? I have found similar thing in sonar cube <code>sonar.test.inclusions</code> as property but couldn't find anything similar in <code>sonarlint &gt; intellij.</code></p>\n\n<p>Folder I need to analyse: <code>src/test/java</code></p>\n\n<p><strong>Work around:</strong></p>\n\n<hr>\n\n<p>Renaming test folder worked for me.I changed test to test1. Is there proper way/steps I can follow and can analyse testcases? </p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699199171,"creation_date":1699199171,"answer_id":77426590,"question_id":77426497,"body_markdown":"Based on your information that you provide I can suggest you to do something like next one approach.\r\n\r\nIn `MemberEntity` create a Constructor that match your requirements about fields.\r\n\r\n    public class MemberEntity {\r\n         \r\n         //fields\r\n           ...\r\n          public MemberEntity(String password, String refreshToken) {\r\n            this.password = password;\r\n            this.refreshToken = refreshToken;\r\n          }\r\n    }\r\n\r\nTo know if the query is a native one it cannot use framework features as(DTO Projection) or anything else and based on it the query now should be as next one.\r\n\r\n      @Query(value = &quot;SELECT new com.project.myProject.member.domain.entity.MemberEntity(m.password, m.refreshToken) FROM MemberEntity m WHERE m.id = :memberId &quot;)\r\n      MemberEntity findByMemberId(@Param(&quot;memberId&quot;) String memberId);\r\n\r\nAnd I should fix your current problem.\r\n\r\n","title":"Is there any way to select specific columns and make them entity without creating any interface or DTO class?","body":"<p>Based on your information that you provide I can suggest you to do something like next one approach.</p>\n<p>In <code>MemberEntity</code> create a Constructor that match your requirements about fields.</p>\n<pre><code>public class MemberEntity {\n     \n     //fields\n       ...\n      public MemberEntity(String password, String refreshToken) {\n        this.password = password;\n        this.refreshToken = refreshToken;\n      }\n}\n</code></pre>\n<p>To know if the query is a native one it cannot use framework features as(DTO Projection) or anything else and based on it the query now should be as next one.</p>\n<pre><code>  @Query(value = &quot;SELECT new com.project.myProject.member.domain.entity.MemberEntity(m.password, m.refreshToken) FROM MemberEntity m WHERE m.id = :memberId &quot;)\n  MemberEntity findByMemberId(@Param(&quot;memberId&quot;) String memberId);\n</code></pre>\n<p>And I should fix your current problem.</p>\n"},{"tags":[],"owner":{"account_id":29231405,"reputation":1,"user_id":22395035,"display_name":"kush parsaniya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701071327,"creation_date":1701071327,"answer_id":77555245,"question_id":77426497,"body_markdown":"if You want to select some specific column as response than \r\nYou Can try using @JsonIgnore(on field you dont want) or @JsonIgnoreProperties (class level) but it filters response for all beans if you want custom(dynamic) filter for differnt bean than use @JsonFilter &lt;br /&gt;\r\nYou can Search for this anotation and how to use it.","title":"Is there any way to select specific columns and make them entity without creating any interface or DTO class?","body":"<p>if You want to select some specific column as response than\nYou Can try using @JsonIgnore(on field you dont want) or @JsonIgnoreProperties (class level) but it filters response for all beans if you want custom(dynamic) filter for differnt bean than use @JsonFilter <br />\nYou can Search for this anotation and how to use it.</p>\n"}],"owner":{"account_id":21128754,"reputation":3,"user_id":15533575,"display_name":"TakeMeH0ME"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77426590,"answer_count":2,"score":0,"last_activity_date":1701071327,"creation_date":1699197366,"question_id":77426497,"body_markdown":"I would like to select only some specific columns from the table. And I want to receive the result as an entity without creating any interface or DTO to projection.\r\n\r\nHere&#39;s my entity and query\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;member&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class MemberEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;member_num&quot;)\r\n    private Integer memberNum;\r\n\r\n    @Column(name = &quot;member_id&quot;)\r\n    private String id;\r\n\r\n    @Column(name = &quot;member_password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;member_name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;member_email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;member_phone&quot;)\r\n    private String phone;\r\n\r\n    @Column(name = &quot;member_student_num&quot;)\r\n    private String studentNum;\r\n\r\n    @Column(name = &quot;member_type&quot;)\r\n    private String type;\r\n\r\n    @Column(name = &quot;member_refresh_token&quot;)\r\n    private String refreshToken;\r\n\r\n    @Column(name = &quot;member_dormitory&quot;)\r\n    private Integer dormitoryNum;\r\n}\r\n```\r\n\r\n```\r\n@Query(value = &quot;SELECT new com.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.member_refresh_token,) FROM myProject.member as m WHERE m.member_id = :memberId&quot;, nativeQuery = true)\r\n    MemberEntity findByMemberId(@Param(&quot;memberId&quot;) String memberId);\r\n```\r\n\r\nWhen I run this query an error occurs.\r\n\r\n&gt; 2023-11-05T22:55:32.027+09:00 ERROR 58940 --- \\[ main\\] o.h.engine.jdbc.spi.SqlExceptionHelper : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.me&#39; at line 1\r\n&gt;\r\n&gt; org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL \\[SELECT new com.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.member_refresh_token,) FROM myProject.member as m WHERE m.member_id = ?\\] \\[You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.me&#39; at line 1\\] \\[n/a\\]; SQL \\[n/a\\]\r\n\r\nHere&#39;s what I&#39;ve tried\r\n\r\n1. Replace @NoArgsConstructor, @AllArgsConstructor to @RequiredArgsConstructor in MemberEntity Class\r\n2. change **&quot;new com.project.myProject.member.domain.entity.MemberEntity(, , m.member_password, , , , , , m.member_refresh_token, )&quot;** to **&quot;new com.project.myProject.member.domain.entity.MemberEntity(m.member_password, m.member_refresh_token)&quot;** in query","title":"Is there any way to select specific columns and make them entity without creating any interface or DTO class?","body":"<p>I would like to select only some specific columns from the table. And I want to receive the result as an entity without creating any interface or DTO to projection.</p>\n<p>Here's my entity and query</p>\n<pre><code>@Getter\n@Setter\n@Table(name = &quot;member&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class MemberEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;member_num&quot;)\n    private Integer memberNum;\n\n    @Column(name = &quot;member_id&quot;)\n    private String id;\n\n    @Column(name = &quot;member_password&quot;)\n    private String password;\n\n    @Column(name = &quot;member_name&quot;)\n    private String name;\n\n    @Column(name = &quot;member_email&quot;)\n    private String email;\n\n    @Column(name = &quot;member_phone&quot;)\n    private String phone;\n\n    @Column(name = &quot;member_student_num&quot;)\n    private String studentNum;\n\n    @Column(name = &quot;member_type&quot;)\n    private String type;\n\n    @Column(name = &quot;member_refresh_token&quot;)\n    private String refreshToken;\n\n    @Column(name = &quot;member_dormitory&quot;)\n    private Integer dormitoryNum;\n}\n</code></pre>\n<pre><code>@Query(value = &quot;SELECT new com.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.member_refresh_token,) FROM myProject.member as m WHERE m.member_id = :memberId&quot;, nativeQuery = true)\n    MemberEntity findByMemberId(@Param(&quot;memberId&quot;) String memberId);\n</code></pre>\n<p>When I run this query an error occurs.</p>\n<blockquote>\n<p>2023-11-05T22:55:32.027+09:00 ERROR 58940 --- [ main] o.h.engine.jdbc.spi.SqlExceptionHelper : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.me' at line 1</p>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT new com.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.member_refresh_token,) FROM myProject.member as m WHERE m.member_id = ?] [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.project.myProject.member.domain.entity.MemberEntity(,,m.member_password,,,,,,m.me' at line 1] [n/a]; SQL [n/a]</p>\n</blockquote>\n<p>Here's what I've tried</p>\n<ol>\n<li>Replace @NoArgsConstructor, @AllArgsConstructor to @RequiredArgsConstructor in MemberEntity Class</li>\n<li>change <strong>&quot;new com.project.myProject.member.domain.entity.MemberEntity(, , m.member_password, , , , , , m.member_refresh_token, )&quot;</strong> to <strong>&quot;new com.project.myProject.member.domain.entity.MemberEntity(m.member_password, m.member_refresh_token)&quot;</strong> in query</li>\n</ol>\n"},{"tags":["java","java-stream","string-formatting"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701087197,"post_id":77554522,"comment_id":136727391,"body_markdown":"The meaning of a string is determined by the way you use it. In this specific example, the string is passed as first argument to [`replaceAll`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)) which expects a regex pattern string. But note that this entire method can be shorted to `return text.replaceAll(&quot;(?m) *([&quot; + String.join(&quot;&quot;, commentSymbols) + &quot;].*)?$&quot;, &quot;&quot;);` which does not use the `format` method, showing that this method is not relevant here (and probably the most abused method ever).","body":"The meaning of a string is determined by the way you use it. In this specific example, the string is passed as first argument to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceAll</code></a> which expects a regex pattern string. But note that this entire method can be shorted to <code>return text.replaceAll(&quot;(?m) *([&quot; + String.join(&quot;&quot;, commentSymbols) + &quot;].*)?$&quot;, &quot;&quot;);</code> which does not use the <code>format</code> method, showing that this method is not relevant here (and probably the most abused method ever)."}],"answers":[{"tags":[],"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701061853,"creation_date":1701061853,"answer_id":77554627,"question_id":77554522,"body_markdown":"It helps to break down the steps in the code.  There is a lot in that example packed into a small space.\r\n\r\nThe `x -&gt; x.replaceAll( pattern, &quot;&quot; )` expression is calling the `replaceAll` method on a string named `x`.  If you look at that method definition, you will see how the regular expression, `[ ]*([#!].*)?$`, is used.  Yes, that regular expression is being passed in as a String.\r\n\r\nAnd, yes, if you hard-code the same string and pass it to `replaceAll` it will produce the same result.\r\n\r\nThe `Arrays.stream()` call is using minimal syntax to iterate over the elements of the array `commentSymbols`.  If you look up the `Collectors.joining()` method call, you will find that concatenates all of the strings it is fed.  So if you input 2 strings, `&quot;a&quot;` and `&quot;b&quot;`, it will end up producing a single String, `&quot;ab&quot;`.\r\n\r\nThen the return value of `Arrays.stream()` is passed to `String.format` where the `%s` in the first, format, argument is replaced with that value.","title":"Is a formatted string still a string? Is it still printable, or it is just a bunch of rules?","body":"<p>It helps to break down the steps in the code.  There is a lot in that example packed into a small space.</p>\n<p>The <code>x -&gt; x.replaceAll( pattern, &quot;&quot; )</code> expression is calling the <code>replaceAll</code> method on a string named <code>x</code>.  If you look at that method definition, you will see how the regular expression, <code>[ ]*([#!].*)?$</code>, is used.  Yes, that regular expression is being passed in as a String.</p>\n<p>And, yes, if you hard-code the same string and pass it to <code>replaceAll</code> it will produce the same result.</p>\n<p>The <code>Arrays.stream()</code> call is using minimal syntax to iterate over the elements of the array <code>commentSymbols</code>.  If you look up the <code>Collectors.joining()</code> method call, you will find that concatenates all of the strings it is fed.  So if you input 2 strings, <code>&quot;a&quot;</code> and <code>&quot;b&quot;</code>, it will end up producing a single String, <code>&quot;ab&quot;</code>.</p>\n<p>Then the return value of <code>Arrays.stream()</code> is passed to <code>String.format</code> where the <code>%s</code> in the first, format, argument is replaced with that value.</p>\n"},{"tags":[],"owner":{"account_id":18989040,"reputation":9,"user_id":13858712,"display_name":"Minsu Kim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701070666,"creation_date":1701062369,"answer_id":77554652,"question_id":77554522,"body_markdown":"Yes, the two patterns you provided are functionally equivalent. Both patterns, `[ ]*([%s].*)?$ and [ ]*([#!].*)?$`, serve the same purpose in the context of the stripComments method. They are designed to match and remove any characters following the specified comment symbols (`#` and `!` in this case) until the end of the line.\r\n\r\nThe `%s` in the first pattern is a placeholder for the characters in the commentSymbols array, and when you substitute it with actual values using String.format, it becomes `[ ]*([#!].*)?$`, which is the same as the second pattern.\r\n\r\nSo, both patterns are equivalent and will produce the same result when used in the `stripComments` method for the given input.","title":"Is a formatted string still a string? Is it still printable, or it is just a bunch of rules?","body":"<p>Yes, the two patterns you provided are functionally equivalent. Both patterns, <code>[ ]*([%s].*)?$ and [ ]*([#!].*)?$</code>, serve the same purpose in the context of the stripComments method. They are designed to match and remove any characters following the specified comment symbols (<code>#</code> and <code>!</code> in this case) until the end of the line.</p>\n<p>The <code>%s</code> in the first pattern is a placeholder for the characters in the commentSymbols array, and when you substitute it with actual values using String.format, it becomes <code>[ ]*([#!].*)?$</code>, which is the same as the second pattern.</p>\n<p>So, both patterns are equivalent and will produce the same result when used in the <code>stripComments</code> method for the given input.</p>\n"}],"owner":{"account_id":30000651,"reputation":11,"user_id":22990729,"display_name":"RockBottom1114"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701070824,"creation_date":1701058963,"question_id":77554522,"body_markdown":"I am looking at other code on a Java practice. Here is his code:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class StripComments {\r\n\r\n\tpublic static String stripComments(String text, String[] commentSymbols) {\r\n\t\tString pattern = String.format(\r\n\t\t\t\t&quot;[ ]*([%s].*)?$&quot;,\r\n\t\t\t\tArrays.stream( commentSymbols ).collect( Collectors.joining() )\r\n\t\t);\r\n\t\treturn Arrays.stream( text.split( &quot;\\n&quot; ) )\r\n\t\t\t\t.map( x -&gt; x.replaceAll( pattern, &quot;&quot; ) )\r\n\t\t\t\t.collect( Collectors.joining( &quot;\\n&quot; ) );\r\n\t}\r\n\r\n}\r\n```\r\nIn his code, the pattern is representing something after whatever in the commentSymbols, right? If I decide to print the pattern right after the string creation, what would the pattern be like? If pattern is a printable string, why in the later sentence we can use it to filter out the sentence we want to delete?\r\n\r\nI used debug mode and it showed pattern looks like this `&quot;[ ]*([#!].*)?$&quot;` while the inputs are `(&quot;apples, pears # and bananas\\ngrapes\\nbananas !apples&quot;, new String[]{&quot;#&quot;, &quot;!&quot;})`. Does this string have any meaning? If I just initialize a new string and assign this value `&quot;[ ]*([#!].*)?$&quot;` to it, would it work same?","title":"Is a formatted string still a string? Is it still printable, or it is just a bunch of rules?","body":"<p>I am looking at other code on a Java practice. Here is his code:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class StripComments {\n\n    public static String stripComments(String text, String[] commentSymbols) {\n        String pattern = String.format(\n                &quot;[ ]*([%s].*)?$&quot;,\n                Arrays.stream( commentSymbols ).collect( Collectors.joining() )\n        );\n        return Arrays.stream( text.split( &quot;\\n&quot; ) )\n                .map( x -&gt; x.replaceAll( pattern, &quot;&quot; ) )\n                .collect( Collectors.joining( &quot;\\n&quot; ) );\n    }\n\n}\n</code></pre>\n<p>In his code, the pattern is representing something after whatever in the commentSymbols, right? If I decide to print the pattern right after the string creation, what would the pattern be like? If pattern is a printable string, why in the later sentence we can use it to filter out the sentence we want to delete?</p>\n<p>I used debug mode and it showed pattern looks like this <code>&quot;[ ]*([#!].*)?$&quot;</code> while the inputs are <code>(&quot;apples, pears # and bananas\\ngrapes\\nbananas !apples&quot;, new String[]{&quot;#&quot;, &quot;!&quot;})</code>. Does this string have any meaning? If I just initialize a new string and assign this value <code>&quot;[ ]*([#!].*)?$&quot;</code> to it, would it work same?</p>\n"},{"tags":["java","android","arrays"],"comments":[{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1700979413,"post_id":77550641,"comment_id":136716921,"body_markdown":"put the whole generation code in a try catch so you what is the error since it ain&#39;t provided in the post.","body":"put the whole generation code in a try catch so you what is the error since it ain&#39;t provided in the post."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1700979454,"post_id":77550641,"comment_id":136716926,"body_markdown":"you sure int has enough space ?","body":"you sure int has enough space ?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700979460,"post_id":77550641,"comment_id":136716927,"body_markdown":"What is the maximum possible value of an `int`? How many digits in that max number?","body":"What is the maximum possible value of an <code>int</code>? How many digits in that max number?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700979539,"post_id":77550641,"comment_id":136716930,"body_markdown":"[`Integer.MAX_VALUE`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE)","body":"<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE\" rel=\"nofollow noreferrer\"><code>Integer.MAX_VALUE</code></a>"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700979784,"post_id":77550641,"comment_id":136716943,"body_markdown":"See this code: https://ideone.com/AwxQ35","body":"See this code: <a href=\"https://ideone.com/AwxQ35\" rel=\"nofollow noreferrer\">ideone.com/AwxQ35</a>"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700979808,"post_id":77550641,"comment_id":136716944,"body_markdown":"In Logcat following error show me   java.lang.NumberFormatException: For input string: &quot;03336241441&quot;","body":"In Logcat following error show me   java.lang.NumberFormatException: For input string: &quot;03336241441&quot;"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700980045,"post_id":77550641,"comment_id":136716959,"body_markdown":"int max value is up to 10 .(2147483647)","body":"int max value is up to 10 .(2147483647)"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700980101,"post_id":77550641,"comment_id":136716961,"body_markdown":"What substitutes can be used instead of int?","body":"What substitutes can be used instead of int?"},{"owner":{"account_id":1085259,"reputation":78304,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1700980254,"post_id":77550641,"comment_id":136716968,"body_markdown":"`long` would work well.  You&#39;ll need to write `Long.parseLong` instead of `Integer.parseInt`.","body":"<code>long</code> would work well.  You&#39;ll need to write <code>Long.parseLong</code> instead of <code>Integer.parseInt</code>."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1700981600,"post_id":77550641,"comment_id":136717043,"body_markdown":"for (long i = value1; i &lt;= value2; i++) {\n                list.add(String.format(&quot;%011d&quot;, i));","body":"for (long i = value1; i &lt;= value2; i++) {                 list.add(String.format(&quot;%011d&quot;, i));"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700982118,"post_id":77550641,"comment_id":136717077,"body_markdown":"anybody have solution for this.  Long Using is also useless .","body":"anybody have solution for this.  Long Using is also useless ."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700982803,"post_id":77550641,"comment_id":136717123,"body_markdown":"Isn&#39;t there a bigint ? And how would a list be able to host so many strings?","body":"Isn&#39;t there a bigint ? And how would a list be able to host so many strings?"},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700982861,"post_id":77550641,"comment_id":136717129,"body_markdown":"I have made the following changes in the code. This time also the value contains 11 characters such as 03336241441 but the answer is coming in 10 digits and the leading zero has been removed( such as 3336241441) for(Long i = (Long) value1; i&lt;=value2; i++){","body":"I have made the following changes in the code. This time also the value contains 11 characters such as 03336241441 but the answer is coming in 10 digits and the leading zero has been removed( such as 3336241441) for(Long i = (Long) value1; i&lt;=value2; i++){"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700983571,"post_id":77550641,"comment_id":136717166,"body_markdown":"With value1=0 and value2=10000000 you will put only ten million values in a list. Any use for that?","body":"With value1=0 and value2=10000000 you will put only ten million values in a list. Any use for that?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700983717,"post_id":77550641,"comment_id":136717173,"body_markdown":"Any child can tell you the next value of 543234789456783453. It&quot;s pretty easy to write some code that does the same and comes up with 543234789456783454.","body":"Any child can tell you the next value of 543234789456783453. It&quot;s pretty easy to write some code that does the same and comes up with 543234789456783454."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700984030,"post_id":77550641,"comment_id":136717206,"body_markdown":"Also any child can add up 543234789456783453 and 3234789456783. It wil just write them below each other on a piece of paper and start at the right adding up two digits. You can write code to do the same.","body":"Also any child can add up 543234789456783453 and 3234789456783. It wil just write them below each other on a piece of paper and start at the right adding up two digits. You can write code to do the same."},{"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"score":0,"creation_date":1700984755,"post_id":77550641,"comment_id":136717252,"body_markdown":"There is some work in my office in which sometimes I have to prepare a list of mobile numbers of users and you know that some countries have 10 digit mobile numbers and some have 11 digits etc.","body":"There is some work in my office in which sometimes I have to prepare a list of mobile numbers of users and you know that some countries have 10 digit mobile numbers and some have 11 digits etc."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1700983186,"creation_date":1700983186,"answer_id":77550798,"question_id":77550641,"body_markdown":"This is a totally broken idea for how to code this.  You&#39;re creating an array that can be every number that&#39;s 11 digits long.  That&#39;s 11 billion items.  Even if every object only takes up 8 bytes (4 for the value, 4 for the reference.  And it will be more than that in reality), that&#39;s 88 billion bytes, or approximately 9.5 GB.  That will never fit in memory, you&#39;re going OOM WAY before that.\r\n\r\nThere&#39;s ways to do this.  Your adapter doesn&#39;t need to have an array of every item in it, since it&#39;s one continuous range it only needs the start and end index and can calculate the value of each index from the start index and offset.  But having a list of every value is not ever going to work.","title":"How to generate serial numbers up to a specified range of 11 digits?","body":"<p>This is a totally broken idea for how to code this.  You're creating an array that can be every number that's 11 digits long.  That's 11 billion items.  Even if every object only takes up 8 bytes (4 for the value, 4 for the reference.  And it will be more than that in reality), that's 88 billion bytes, or approximately 9.5 GB.  That will never fit in memory, you're going OOM WAY before that.</p>\n<p>There's ways to do this.  Your adapter doesn't need to have an array of every item in it, since it's one continuous range it only needs the start and end index and can calculate the value of each index from the start index and offset.  But having a list of every value is not ever going to work.</p>\n"},{"tags":[],"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701069956,"creation_date":1700987854,"answer_id":77550989,"question_id":77550641,"body_markdown":"I have solved the solution that I needed by myself and with the help of all of you. I am presenting it here so that someone else can get information about it. Anyway, thank you all from the bottom of my heart۔\r\n\r\n```java\r\nbtngenerate.setOnClickListener(new View.OnClickListener() {\r\n\t@SuppressLint(&quot;DefaultLocale&quot;)\r\n\t@Override\r\n\tpublic void onClick(View view) {\r\n\t\ttry {\r\n\t\t\tlong value1;\r\n\t\t\tlong value2;\r\n\t\t\tvalue1 = Long.parseLong(txtfirst.getText().toString());\r\n\t\t\tvalue2 = Long.parseLong(txtsecond.getText().toString());\r\n\r\n\t\t\tfor(Long i = (Long) value1; i&lt;=value2; i++) {\r\n\t\t\t\tlist.add(String.format(&quot;%011d&quot;, i));\r\n\t\t\t\tli.setAdapter(arrayAdapter);\r\n\t\t\t}\r\n\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n});","title":"How to generate serial numbers up to a specified range of 11 digits?","body":"<p>I have solved the solution that I needed by myself and with the help of all of you. I am presenting it here so that someone else can get information about it. Anyway, thank you all from the bottom of my heart۔</p>\n<pre class=\"lang-java prettyprint-override\"><code>btngenerate.setOnClickListener(new View.OnClickListener() {\n    @SuppressLint(&quot;DefaultLocale&quot;)\n    @Override\n    public void onClick(View view) {\n        try {\n            long value1;\n            long value2;\n            value1 = Long.parseLong(txtfirst.getText().toString());\n            value2 = Long.parseLong(txtsecond.getText().toString());\n\n            for(Long i = (Long) value1; i&lt;=value2; i++) {\n                list.add(String.format(&quot;%011d&quot;, i));\n                li.setAdapter(arrayAdapter);\n            }\n\n        } catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701042750,"creation_date":1701042444,"answer_id":77553917,"question_id":77550641,"body_markdown":"In _Java_, the _[int](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_ _data-type_ utilizes a _32-bit_ _[container](https://en.wikipedia.org/wiki/Call_stack)_, reserving a bit for a signum, when negative.\\\r\nThe maximum value, would be _2&lt;sup&gt; 31&lt;/sup&gt; &amp;minus; 1_, or _2,147,483,647_.\\\r\n_[Integer (Java SE 21 &amp;amp; JDK 21) &amp;ndash; MAX_VALUE](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE)_.\r\n\r\nThe typical solution here, is to use the _[BigInteger](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigInteger.html)_ _class_, which provides an unlimited accuracy.\r\n\r\nHere is an example.\r\n\r\n```java\r\nList&lt;String&gt; generate(String a, String b) {\r\n    BigInteger x = new BigInteger(a), y = new BigInteger(b), i = x;\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    int w = Math.max(a.length(), b.length());\r\n    String f = &quot;%0&quot; + w + &quot;d&quot;;\r\n    while (i.compareTo(y) &lt;= 0) {\r\n        list.add(f.formatted(i));\r\n        i = i.add(BigInteger.ONE);\r\n    }\r\n    return list;\r\n}\r\n```\r\n\r\nAnd, here is an example usage.\r\n\r\n```java\r\nfor (String s : generate(&quot;03336241441&quot;, &quot;03336241450&quot;))\r\n    System.out.println(s);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n03336241441\r\n03336241442\r\n03336241443\r\n03336241444\r\n03336241445\r\n03336241446\r\n03336241447\r\n03336241448\r\n03336241449\r\n03336241450\r\n```","title":"How to generate serial numbers up to a specified range of 11 digits?","body":"<p>In <em>Java</em>, the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">int</a></em> <em>data-type</em> utilizes a <em>32-bit</em> <em><a href=\"https://en.wikipedia.org/wiki/Call_stack\" rel=\"nofollow noreferrer\">container</a></em>, reserving a bit for a signum, when negative.<br />\nThe maximum value, would be <em>2<sup> 31</sup> − 1</em>, or <em>2,147,483,647</em>.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE\" rel=\"nofollow noreferrer\">Integer (Java SE 21 &amp; JDK 21) – MAX_VALUE</a></em>.</p>\n<p>The typical solution here, is to use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a></em> <em>class</em>, which provides an unlimited accuracy.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; generate(String a, String b) {\n    BigInteger x = new BigInteger(a), y = new BigInteger(b), i = x;\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    int w = Math.max(a.length(), b.length());\n    String f = &quot;%0&quot; + w + &quot;d&quot;;\n    while (i.compareTo(y) &lt;= 0) {\n        list.add(f.formatted(i));\n        i = i.add(BigInteger.ONE);\n    }\n    return list;\n}\n</code></pre>\n<p>And, here is an example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String s : generate(&quot;03336241441&quot;, &quot;03336241450&quot;))\n    System.out.println(s);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>03336241441\n03336241442\n03336241443\n03336241444\n03336241445\n03336241446\n03336241447\n03336241448\n03336241449\n03336241450\n</code></pre>\n"}],"owner":{"account_id":29755489,"reputation":31,"user_id":22804287,"display_name":"Maria"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77550989,"answer_count":3,"score":2,"last_activity_date":1701069956,"creation_date":1700978793,"question_id":77550641,"body_markdown":"I am using the given code to generate a serial number into Listview up to a specific range of 11 digits. Up to ten digits, the serial is generated like 0333624140 to 0333624160 (such as 0333624140,0333624141,0333624142,0333624143 etc.), but if we change the required value to 11 digits like 03336241441 to 03336241450 then the app crashes.\r\n\r\n    btngenerate.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            int value1;\r\n            int value2;\r\n            value1 = Integer.parseInt(txtfirst.getText().toString());\r\n            value2 = Integer.parseInt(txtsecond.getText().toString());\r\n            for(int i=value1;i&lt;=value2;i++){\r\n                list.add(&quot;&quot;+i);\r\n                li.setAdapter(arrayAdapter);\r\n            }\r\n\r\n        }\r\n    });","title":"How to generate serial numbers up to a specified range of 11 digits?","body":"<p>I am using the given code to generate a serial number into Listview up to a specific range of 11 digits. Up to ten digits, the serial is generated like 0333624140 to 0333624160 (such as 0333624140,0333624141,0333624142,0333624143 etc.), but if we change the required value to 11 digits like 03336241441 to 03336241450 then the app crashes.</p>\n<pre><code>btngenerate.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        int value1;\n        int value2;\n        value1 = Integer.parseInt(txtfirst.getText().toString());\n        value2 = Integer.parseInt(txtsecond.getText().toString());\n        for(int i=value1;i&lt;=value2;i++){\n            list.add(&quot;&quot;+i);\n            li.setAdapter(arrayAdapter);\n        }\n\n    }\n});\n</code></pre>\n"},{"tags":["java","json","rest","jersey"],"comments":[{"owner":{"account_id":29432,"reputation":2651,"user_id":79505,"accept_rate":64,"display_name":"Kees Kist"},"score":0,"creation_date":1364916847,"post_id":15767973,"comment_id":22412986,"body_markdown":"Sorry, I messed up the sample code while anonymizing it. Fixing it now.","body":"Sorry, I messed up the sample code while anonymizing it. Fixing it now."}],"answers":[{"tags":[],"owner":{"account_id":2285285,"reputation":805,"user_id":2009411,"display_name":"Kim D."},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1368261526,"creation_date":1368258692,"answer_id":16495032,"question_id":15767973,"body_markdown":"I had the same &quot;info&quot; message as well. I didn&#39;t manage to fix it (yet) for basic java types (Boolean, String...) but for my own custom classes if I add the @XmlRootElement annotation and a default no-param constructor the message dissapears.\r\n\r\nDigging into jersey source code I noticed the class &quot;WadlGeneratorJAXBGrammarGenerator&quot; the following code :\r\n\r\n    Object parameterClassInstance = null;\r\n    try {\r\n        Constructor&lt;?&gt; defaultConstructor = type.getDeclaredConstructor();\r\n        defaultConstructor.setAccessible(true);\r\n        parameterClassInstance = defaultConstructor.newInstance();\r\n    } catch (InstantiationException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (IllegalAccessException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (IllegalArgumentException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (InvocationTargetException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (SecurityException ex) {\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    } catch (NoSuchMethodException ex) {\r\n        //getting here for Boolean/String and some other primitive data type\r\n        LOGGER.log(Level.FINE, null, ex);\r\n    }\r\n        \r\n    if (parameterClassInstance==null) {\r\n        return null;\r\n    }\r\n\r\n\r\nSo basically there is no default constructor for String, Boolean and few others then it throws a NoSuchMethodException therefore it return nulls and log the info message.\r\n\r\nSo still no idea why it happens but in my case the solution was to disable the wadl generation since I was not using it.\r\nJust add the following param to your web.xml\r\n\r\n      &lt;init-param&gt;\r\n             &lt;param-name&gt;com.sun.jersey.config.feature.DisableWADL&lt;/param-name&gt;\r\n             &lt;param-value&gt;true&lt;/param-value&gt;\r\n         &lt;/init-param&gt;","title":"Jersey: what does &quot;couldn&#39;t find grammar element&quot; mean?","body":"<p>I had the same \"info\" message as well. I didn't manage to fix it (yet) for basic java types (Boolean, String...) but for my own custom classes if I add the @XmlRootElement annotation and a default no-param constructor the message dissapears.</p>\n\n<p>Digging into jersey source code I noticed the class \"WadlGeneratorJAXBGrammarGenerator\" the following code :</p>\n\n<pre><code>Object parameterClassInstance = null;\ntry {\n    Constructor&lt;?&gt; defaultConstructor = type.getDeclaredConstructor();\n    defaultConstructor.setAccessible(true);\n    parameterClassInstance = defaultConstructor.newInstance();\n} catch (InstantiationException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (IllegalAccessException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (IllegalArgumentException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (InvocationTargetException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (SecurityException ex) {\n    LOGGER.log(Level.FINE, null, ex);\n} catch (NoSuchMethodException ex) {\n    //getting here for Boolean/String and some other primitive data type\n    LOGGER.log(Level.FINE, null, ex);\n}\n\nif (parameterClassInstance==null) {\n    return null;\n}\n</code></pre>\n\n<p>So basically there is no default constructor for String, Boolean and few others then it throws a NoSuchMethodException therefore it return nulls and log the info message.</p>\n\n<p>So still no idea why it happens but in my case the solution was to disable the wadl generation since I was not using it.\nJust add the following param to your web.xml</p>\n\n<pre><code>  &lt;init-param&gt;\n         &lt;param-name&gt;com.sun.jersey.config.feature.DisableWADL&lt;/param-name&gt;\n         &lt;param-value&gt;true&lt;/param-value&gt;\n     &lt;/init-param&gt;\n</code></pre>\n"}],"owner":{"account_id":29432,"reputation":2651,"user_id":79505,"accept_rate":64,"display_name":"Kees Kist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14971,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":16495032,"answer_count":1,"score":9,"last_activity_date":1701069906,"creation_date":1364916196,"question_id":15767973,"body_markdown":"After upgrading Jersey from version 1.15 to 1.17 it started to log the following messages:\r\n\r\n    Apr 2, 2013 5:13:06 PM com.sun.jersey.server.wadl.generators.AbstractWadlGeneratorGrammarGenerator attachTypes\r\n    INFO: Couldn&#39;t find grammar element for class java.lang.String\r\n\r\nAn example of a service that produces such a message:\r\n\r\n    @GET\r\n    @Path(&quot;/bla/{a}&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    public String doStuff(@PathParam(&quot;a&quot;) String a) {\r\n        return a;\r\n    }\r\n\r\nMy first impression would be to consider this an error message, purely based on the way the message is phrased (&quot;couldn&#39;t find&quot;). However, it&#39;s logged at a level of INFO, and it doesn&#39;t seem to have any effects in practice since all services continue to work. \r\n\r\nSo my question is whether these log messages indicate a (potential) problem with the way we are configuring or using Jersey. Since it didn&#39;t happen with the previous version I already checked the release notes, but didn&#39;t find anything related.","title":"Jersey: what does &quot;couldn&#39;t find grammar element&quot; mean?","body":"<p>After upgrading Jersey from version 1.15 to 1.17 it started to log the following messages:</p>\n\n<pre><code>Apr 2, 2013 5:13:06 PM com.sun.jersey.server.wadl.generators.AbstractWadlGeneratorGrammarGenerator attachTypes\nINFO: Couldn't find grammar element for class java.lang.String\n</code></pre>\n\n<p>An example of a service that produces such a message:</p>\n\n<pre><code>@GET\n@Path(\"/bla/{a}\")\n@Produces(\"application/json\")\npublic String doStuff(@PathParam(\"a\") String a) {\n    return a;\n}\n</code></pre>\n\n<p>My first impression would be to consider this an error message, purely based on the way the message is phrased (\"couldn't find\"). However, it's logged at a level of INFO, and it doesn't seem to have any effects in practice since all services continue to work. </p>\n\n<p>So my question is whether these log messages indicate a (potential) problem with the way we are configuring or using Jersey. Since it didn't happen with the previous version I already checked the release notes, but didn't find anything related.</p>\n"},{"tags":["java","maven","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":16326832,"reputation":1,"user_id":11791201,"display_name":"metaxiii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701069812,"creation_date":1701025009,"answer_id":77553057,"question_id":77284916,"body_markdown":"This warning can be safely ignore : you can manage to not show this error anymore with a simple configuration tag and adding a default profile inside \r\nlike : \r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;default-compile&lt;/id&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t&lt;compilerArg&gt;\r\n                        -Amapstruct.defaultComponentModel=spring\r\n\t\t\t\t\t&lt;/compilerArg&gt;\r\n\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nHowever you&#39;ll get another issue when testing, some mappers will not be implementated without the package stage from maven.\r\nMy advice is to simply ignore this warning","title":"The option mapstruct.defaultComponentModel is not being recognized","body":"<p>This warning can be safely ignore : you can manage to not show this error anymore with a simple configuration tag and adding a default profile inside\nlike :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-compile&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;compilerArgs&gt;\n                    &lt;compilerArg&gt;\n                        -Amapstruct.defaultComponentModel=spring\n                    &lt;/compilerArg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>However you'll get another issue when testing, some mappers will not be implementated without the package stage from maven.\nMy advice is to simply ignore this warning</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701069812,"creation_date":1697167935,"question_id":77284916,"body_markdown":"I have this configuration in my `pom.xml` file:\r\n```xml\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;\r\n&lt;!-- more pom code --&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.6.6&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;\r\n                            -Amapstruct.defaultComponentModel=spring\r\n                        &lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nBut I still get the warning during building `java: The following options were not recognized by any processor: &#39;[mapstruct.defaultComponentModel]&#39;`\r\n\r\nI believe my configuration follows the [Mapstruct documentation][1]\r\n\r\nWhy is the option not recognized?\r\n\r\n[This question][2] doesn&#39;t appear to be helpful\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/\r\n  [2]: https://stackoverflow.com/questions/74853001/warning-the-following-options-were-not-recognized-by-any-processor-for-mapstr","title":"The option mapstruct.defaultComponentModel is not being recognized","body":"<p>I have this configuration in my <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;\n&lt;!-- more pom code --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n                            &lt;version&gt;2.6.6&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;\n                            -Amapstruct.defaultComponentModel=spring\n                        &lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>But I still get the warning during building <code>java: The following options were not recognized by any processor: '[mapstruct.defaultComponentModel]'</code></p>\n<p>I believe my configuration follows the <a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"nofollow noreferrer\">Mapstruct documentation</a></p>\n<p>Why is the option not recognized?</p>\n<p><a href=\"https://stackoverflow.com/questions/74853001/warning-the-following-options-were-not-recognized-by-any-processor-for-mapstr\">This question</a> doesn't appear to be helpful</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1124247,"reputation":608,"user_id":1111895,"display_name":"Helder Magalh&#227;es"},"score":0,"creation_date":1701172931,"post_id":77554125,"comment_id":136739930,"body_markdown":"The root cause seems to be around MIME type, for which your infrastructure is not prepared to handle Excel files. See https://stackoverflow.com/a/1964182/1111895","body":"The root cause seems to be around MIME type, for which your infrastructure is not prepared to handle Excel files. See <a href=\"https://stackoverflow.com/a/1964182/1111895\">stackoverflow.com/a/1964182/1111895</a>"}],"answers":[{"tags":[],"owner":{"account_id":18663230,"reputation":1,"user_id":13603902,"display_name":"Timothy-cc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701069588,"creation_date":1701048647,"answer_id":77554128,"question_id":77554125,"body_markdown":"I tried to solve the problem and found that some of the reasons for the problem were the response logic of the whole package of my system, so I also returned the success and failure logic after downloading the file. But it doesn&#39;t support\r\n\r\n\r\n\r\n---\r\n\r\n\r\n&#127822;Solution: Add a converter！it does work and solves the problem！\r\n\r\n**Here is a reference code:**\r\n\r\n\r\n```java\r\n@Override\r\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\r\n\tWebMvcConfigurer.super.configureMessageConverters(converters);\r\n           \r\n\tFastJsonHttpMessageConverter convert = new FastJsonHttpMessageConverter();\r\n           \r\n\tFastJsonConfig config = new FastJsonConfig();\r\n            \r\n\tconfig.setSerializerFeatures(SerializerFeature.PrettyFormat,\r\n\tSerializerFeature.WriteNullStringAsEmpty,\r\n\tSerializerFeature.WriteNullNumberAsZero,\r\n\tSerializerFeature.WriteNullListAsEmpty,\r\n\tSerializerFeature.WriteNullBooleanAsFalse,\r\n\tSerializerFeature.WriteMapNullValue,\r\n                  \r\n\tSerializerFeature.DisableCircularReferenceDetect);\r\n\tconfig.setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\tconfig.setCharset(Charset.forName(&quot;UTF-8&quot;));\r\n\tconvert.setFastJsonConfig(config);\r\n\tconvert.setSupportedMediaTypes(getSupportedMediaTypes());\r\n\tconverters.add(convert);\r\n}\r\n\r\npublic List&lt;MediaType&gt; getSupportedMediaTypes() {\r\n\r\n\tList&lt;MediaType&gt; supportedMediaTypes = new ArrayList&lt;&gt;();\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_JSON);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_JSON_UTF8);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_ATOM_XML);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_FORM_URLENCODED);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_OCTET_STREAM);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_PDF);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_RSS_XML);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_XHTML_XML);\r\n\tsupportedMediaTypes.add(MediaType.APPLICATION_XML);\r\n\tsupportedMediaTypes.add(MediaType.IMAGE_GIF);\r\n\tsupportedMediaTypes.add(MediaType.IMAGE_JPEG);\r\n\tsupportedMediaTypes.add(MediaType.IMAGE_PNG);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_EVENT_STREAM);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_HTML);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_MARKDOWN);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_PLAIN);\r\n\tsupportedMediaTypes.add(MediaType.TEXT_XML);\r\n\tsupportedMediaTypes.add(MediaType.ALL);\r\n\treturn supportedMediaTypes;\r\n}\r\n```\r\n","title":"How to solve &quot; No converter for XXX with preset Content-Type ‘application/octet-stream；charset=UTF-8‘ &quot;","body":"<p>I tried to solve the problem and found that some of the reasons for the problem were the response logic of the whole package of my system, so I also returned the success and failure logic after downloading the file. But it doesn't support</p>\n<hr />\n<p>🍎Solution: Add a converter！it does work and solves the problem！</p>\n<p><strong>Here is a reference code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n\n    WebMvcConfigurer.super.configureMessageConverters(converters);\n           \n    FastJsonHttpMessageConverter convert = new FastJsonHttpMessageConverter();\n           \n    FastJsonConfig config = new FastJsonConfig();\n            \n    config.setSerializerFeatures(SerializerFeature.PrettyFormat,\n    SerializerFeature.WriteNullStringAsEmpty,\n    SerializerFeature.WriteNullNumberAsZero,\n    SerializerFeature.WriteNullListAsEmpty,\n    SerializerFeature.WriteNullBooleanAsFalse,\n    SerializerFeature.WriteMapNullValue,\n                  \n    SerializerFeature.DisableCircularReferenceDetect);\n    config.setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    config.setCharset(Charset.forName(&quot;UTF-8&quot;));\n    convert.setFastJsonConfig(config);\n    convert.setSupportedMediaTypes(getSupportedMediaTypes());\n    converters.add(convert);\n}\n\npublic List&lt;MediaType&gt; getSupportedMediaTypes() {\n\n    List&lt;MediaType&gt; supportedMediaTypes = new ArrayList&lt;&gt;();\n    supportedMediaTypes.add(MediaType.APPLICATION_JSON);\n    supportedMediaTypes.add(MediaType.APPLICATION_JSON_UTF8);\n    supportedMediaTypes.add(MediaType.APPLICATION_ATOM_XML);\n    supportedMediaTypes.add(MediaType.APPLICATION_FORM_URLENCODED);\n    supportedMediaTypes.add(MediaType.APPLICATION_OCTET_STREAM);\n    supportedMediaTypes.add(MediaType.APPLICATION_PDF);\n    supportedMediaTypes.add(MediaType.APPLICATION_RSS_XML);\n    supportedMediaTypes.add(MediaType.APPLICATION_XHTML_XML);\n    supportedMediaTypes.add(MediaType.APPLICATION_XML);\n    supportedMediaTypes.add(MediaType.IMAGE_GIF);\n    supportedMediaTypes.add(MediaType.IMAGE_JPEG);\n    supportedMediaTypes.add(MediaType.IMAGE_PNG);\n    supportedMediaTypes.add(MediaType.TEXT_EVENT_STREAM);\n    supportedMediaTypes.add(MediaType.TEXT_HTML);\n    supportedMediaTypes.add(MediaType.TEXT_MARKDOWN);\n    supportedMediaTypes.add(MediaType.TEXT_PLAIN);\n    supportedMediaTypes.add(MediaType.TEXT_XML);\n    supportedMediaTypes.add(MediaType.ALL);\n    return supportedMediaTypes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29843989,"reputation":1,"user_id":22871483,"display_name":"Liu ShuoZhen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701054721,"creation_date":1701054006,"answer_id":77554309,"question_id":77554125,"body_markdown":"You set the response Content-Type to application/octet-stream,\r\nBut what you responded to was a custom object ResultBean. Spring tried to convert the ResultBean object into a response body in application/octet-stream format, but did not find a suitable converter, so it threw an HttpMessageNotWritableException. \r\n\r\n    @GetMapping(&quot;/common/download&quot;)\r\n    public void download(HttpServletResponse httpServletReesponse){\r\n    \ttry {\r\n    \t\t// ... download\r\n    \t} catch (Exception e){\r\n    \r\n    \t\te.printStackTrace();\r\n    \t\thttpServletResponse.reset();\r\n    \t\tResultBean&lt;T&gt; result = new ResultBean&lt;&gt;(HttpSStatus.ERROR, e.getM\r\n    \t\tString str = JSON.toJSONString(result);\r\n    \t\tServletUtils.renderString(httpServletResponse, str)\r\n    \t}\r\n    }\r\n    public static void renderString(HttpServletResponsse response, String str){\r\n        \t\ttry {\r\n        \t\t\tresponse.setStatus(200);\r\n        \t\t\tresponse.setContentType(&quot;application/json&quot;);\r\n        \t\t\tresponse.setCharacterEncoding(&quot;utf-8&quot;);\r\n        \t\t\tresponse.getWriter().print(string);\r\n        \t\t} catch (IOException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t}\r\n    }\r\n\r\n","title":"How to solve &quot; No converter for XXX with preset Content-Type ‘application/octet-stream；charset=UTF-8‘ &quot;","body":"<p>You set the response Content-Type to application/octet-stream,\nBut what you responded to was a custom object ResultBean. Spring tried to convert the ResultBean object into a response body in application/octet-stream format, but did not find a suitable converter, so it threw an HttpMessageNotWritableException.</p>\n<pre><code>@GetMapping(&quot;/common/download&quot;)\npublic void download(HttpServletResponse httpServletReesponse){\n    try {\n        // ... download\n    } catch (Exception e){\n\n        e.printStackTrace();\n        httpServletResponse.reset();\n        ResultBean&lt;T&gt; result = new ResultBean&lt;&gt;(HttpSStatus.ERROR, e.getM\n        String str = JSON.toJSONString(result);\n        ServletUtils.renderString(httpServletResponse, str)\n    }\n}\npublic static void renderString(HttpServletResponsse response, String str){\n            try {\n                response.setStatus(200);\n                response.setContentType(&quot;application/json&quot;);\n                response.setCharacterEncoding(&quot;utf-8&quot;);\n                response.getWriter().print(string);\n            } catch (IOException e) {\n                e.printStackTrace();\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":18663230,"reputation":1,"user_id":13603902,"display_name":"Timothy-cc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701069588,"creation_date":1701048575,"question_id":77554125,"body_markdown":"When I encapsulated the interface logic for downloading excel in the background, the response returned success after the file stream was closed, but the background reported an error\r\n\r\n\r\nI ran into a problem when I tried to use a tool or library with the following error message: \r\n\r\n&gt; No converter for XXX with preset Content-Type &#39;application/octet-stream; charset=UTF-8&#39;\r\n\r\nI&#39;m trying to do some kind of conversion or processing operation, but I can&#39;t find a suitable converter. The error appears to be content-type related and specifies &quot;application/octet-stream; charset=UTF-8&quot; as the default content type.\r\n\r\nHow to solve this problem so that I can successfully complete the operation? What tool or library am I using? Do I need to configure or add specific converters? Are there other possible solutions?\r\n\r\nPlease provide detailed steps and sample code so that I can better understand and try to solve this problem. Thank you!\r\n\r\n\r\nError message:\r\n```\r\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.foxconn.common.beans.ResultBean] with preset Content-Type &#39;application/octet-stream&#39;\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:299)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181)\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n```\r\nWhen I encapsulated the interface logic for downloading excel in the background, the response returned success after the file stream was closed, but the background reported an error","title":"How to solve &quot; No converter for XXX with preset Content-Type ‘application/octet-stream；charset=UTF-8‘ &quot;","body":"<p>When I encapsulated the interface logic for downloading excel in the background, the response returned success after the file stream was closed, but the background reported an error</p>\n<p>I ran into a problem when I tried to use a tool or library with the following error message:</p>\n<blockquote>\n<p>No converter for XXX with preset Content-Type 'application/octet-stream; charset=UTF-8'</p>\n</blockquote>\n<p>I'm trying to do some kind of conversion or processing operation, but I can't find a suitable converter. The error appears to be content-type related and specifies &quot;application/octet-stream; charset=UTF-8&quot; as the default content type.</p>\n<p>How to solve this problem so that I can successfully complete the operation? What tool or library am I using? Do I need to configure or add specific converters? Are there other possible solutions?</p>\n<p>Please provide detailed steps and sample code so that I can better understand and try to solve this problem. Thank you!</p>\n<p>Error message:</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.foxconn.common.beans.ResultBean] with preset Content-Type 'application/octet-stream'\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:299)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n</code></pre>\n<p>When I encapsulated the interface logic for downloading excel in the background, the response returned success after the file stream was closed, but the background reported an error</p>\n"},{"tags":["java","database","performance","rocksdb","column-family"],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657503300,"creation_date":1657503300,"answer_id":72932966,"question_id":72899986,"body_markdown":"Are all gets slow or only the first one? There isn&#39;t much you can do as they are just virtual dataspaces\r\n\r\nThe only alternative is to not use column families and prefix your keys with the column family name","title":"How to implement ColumnFamilies in RocksDB in Java?","body":"<p>Are all gets slow or only the first one? There isn't much you can do as they are just virtual dataspaces</p>\n<p>The only alternative is to not use column families and prefix your keys with the column family name</p>\n"}],"owner":{"account_id":18162045,"reputation":13,"user_id":13213289,"display_name":"Awdsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701069285,"creation_date":1657205540,"question_id":72899986,"body_markdown":"I am trying to use column families in RocksDB through java binding.\r\n\r\n```\r\nRocksDB.loadLibrary();\r\n\t\tString threat = &quot;threat_data&quot;;\r\n\t\tString ipRange = &quot;ip_range&quot;;\r\n\t\toptions = new DBOptions();\r\n\t    options.setCreateIfMissing(true);\r\n\t    options.setCreateMissingColumnFamilies(true);\r\n\t    ColumnFamilyOptions cfOpts = new ColumnFamilyOptions().optimizeUniversalStyleCompaction();\r\n\t\tList cfDescriptors = Arrays.asList(\r\n                new ColumnFamilyDescriptor(RocksDB.DEFAULT_COLUMN_FAMILY, cfOpts),\r\n                new ColumnFamilyDescriptor(threat.getBytes(), cfOpts),\r\n                new ColumnFamilyDescriptor(ipRange.getBytes(),cfOpts)\r\n        );\r\n\t\tList&lt;ColumnFamilyHandle&gt; cfHandles = new ArrayList&lt;&gt;();\r\n\t\trocksDb = RocksDB.open(options, new File(&quot;/tmp/benchmark&quot;, &quot;rockdb-threat-detection.db&quot;).getAbsolutePath(),cfDescriptors,cfHandles);\r\n\t\t\r\n\t\tcfHandleThreat = (ColumnFamilyHandle) ((List) cfHandles.stream().filter(x -&gt; {\r\n            try {\r\n\t\t\t\treturn (new String(x.getName())).equals(threat);\r\n\t\t\t} catch (RocksDBException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn false;\r\n        }).collect(Collectors.toList())).get(0);\r\n\t\t\r\n\t\tcfHandleIp = (ColumnFamilyHandle) ((List) cfHandles.stream().filter(x -&gt; {\r\n            try {\r\n\t\t\t\treturn (new String(x.getName())).equals(ipRange);\r\n\t\t\t} catch (RocksDBException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn false;\r\n        }).collect(Collectors.toList())).get(0);\r\n```\r\nI am creating 2 column families threat_data and ip_range. But if trying to read from using get() function, the performance hits low.\r\n\r\n```\r\nmapThreat.get(ipToLong(&quot;157.49.194.173&quot;))\r\n```\r\n\r\nThe performance between using columnfamilies and not using them changes drastically. Is there anything I am doing wrong or How should I improve performance?\r\n","title":"How to implement ColumnFamilies in RocksDB in Java?","body":"<p>I am trying to use column families in RocksDB through java binding.</p>\n<pre><code>RocksDB.loadLibrary();\n        String threat = &quot;threat_data&quot;;\n        String ipRange = &quot;ip_range&quot;;\n        options = new DBOptions();\n        options.setCreateIfMissing(true);\n        options.setCreateMissingColumnFamilies(true);\n        ColumnFamilyOptions cfOpts = new ColumnFamilyOptions().optimizeUniversalStyleCompaction();\n        List cfDescriptors = Arrays.asList(\n                new ColumnFamilyDescriptor(RocksDB.DEFAULT_COLUMN_FAMILY, cfOpts),\n                new ColumnFamilyDescriptor(threat.getBytes(), cfOpts),\n                new ColumnFamilyDescriptor(ipRange.getBytes(),cfOpts)\n        );\n        List&lt;ColumnFamilyHandle&gt; cfHandles = new ArrayList&lt;&gt;();\n        rocksDb = RocksDB.open(options, new File(&quot;/tmp/benchmark&quot;, &quot;rockdb-threat-detection.db&quot;).getAbsolutePath(),cfDescriptors,cfHandles);\n        \n        cfHandleThreat = (ColumnFamilyHandle) ((List) cfHandles.stream().filter(x -&gt; {\n            try {\n                return (new String(x.getName())).equals(threat);\n            } catch (RocksDBException e) {\n                e.printStackTrace();\n            }\n            return false;\n        }).collect(Collectors.toList())).get(0);\n        \n        cfHandleIp = (ColumnFamilyHandle) ((List) cfHandles.stream().filter(x -&gt; {\n            try {\n                return (new String(x.getName())).equals(ipRange);\n            } catch (RocksDBException e) {\n                e.printStackTrace();\n            }\n            return false;\n        }).collect(Collectors.toList())).get(0);\n</code></pre>\n<p>I am creating 2 column families threat_data and ip_range. But if trying to read from using get() function, the performance hits low.</p>\n<pre><code>mapThreat.get(ipToLong(&quot;157.49.194.173&quot;))\n</code></pre>\n<p>The performance between using columnfamilies and not using them changes drastically. Is there anything I am doing wrong or How should I improve performance?</p>\n"},{"tags":["java","android","xml","xml-parsing"],"comments":[{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":0,"creation_date":1357075499,"post_id":14114328,"comment_id":19533117,"body_markdown":"Is it static content?  You could convert it to JSON (there are converters online and a number of text editors that will do the job).  For regular data, JSON is much faster.","body":"Is it static content?  You could convert it to JSON (there are converters online and a number of text editors that will do the job).  For regular data, JSON is much faster."},{"owner":{"account_id":1986529,"reputation":645,"user_id":1781589,"accept_rate":48,"display_name":"Mr. Spock"},"score":0,"creation_date":1357077788,"post_id":14114328,"comment_id":19533676,"body_markdown":"Unfortunately no, it is NOT static - it&#39;s changed a couple times a week as more messages are recorded. What you suggest IS interesting, though. Since it changes so infrequently I COULD convert it periodically, but that just adds something else to the mix I have to deal with. Good info and I&#39;ll take what you have recommended into consideration.","body":"Unfortunately no, it is NOT static - it&#39;s changed a couple times a week as more messages are recorded. What you suggest IS interesting, though. Since it changes so infrequently I COULD convert it periodically, but that just adds something else to the mix I have to deal with. Good info and I&#39;ll take what you have recommended into consideration."},{"owner":{"account_id":15024,"reputation":4414,"user_id":31325,"accept_rate":49,"display_name":"baash05"},"score":0,"creation_date":1384995612,"post_id":14114328,"comment_id":29966634,"body_markdown":"to the end to end (wish it was json) bit.  What if you wrote a piggyback server app.  I&#39;ve done this for my apps when the source content was nuts.  My app hits a service that hits the actual destination.  Loaded it up on heroku (free) and it was all good.","body":"to the end to end (wish it was json) bit.  What if you wrote a piggyback server app.  I&#39;ve done this for my apps when the source content was nuts.  My app hits a service that hits the actual destination.  Loaded it up on heroku (free) and it was all good."}],"answers":[{"tags":[],"owner":{"account_id":1063646,"reputation":31628,"user_id":1064728,"accept_rate":77,"display_name":"Jave"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357075820,"creation_date":1357075820,"answer_id":14114398,"question_id":14114328,"body_markdown":"Use [vtd-xml][1].\r\n\r\n[Here are some benchmarks.][2]\r\n\r\nAlso, the emulator is extremely slow, so try it on a real device and you will likely see great improvements.\r\n\r\n\r\n  [1]: http://vtd-xml.sourceforge.net/\r\n  [2]: http://vtd-xml.sourceforge.net/benchmark1.html","title":"How Can I Speed Up Android XML Parsing?","body":"<p>Use <a href=\"http://vtd-xml.sourceforge.net/\" rel=\"nofollow\">vtd-xml</a>.</p>\n\n<p><a href=\"http://vtd-xml.sourceforge.net/benchmark1.html\" rel=\"nofollow\">Here are some benchmarks.</a></p>\n\n<p>Also, the emulator is extremely slow, so try it on a real device and you will likely see great improvements.</p>\n"},{"tags":[],"owner":{"account_id":3089512,"reputation":1693,"user_id":2615957,"display_name":"Maksym Kalin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701069259,"creation_date":1428594528,"answer_id":29543194,"question_id":14114328,"body_markdown":"I agree with **Jave&#39;s**  answer. The best choice is [VTD-XML library][1]\r\nThis example demonstrate how you can use this library.\r\n\r\nXML file:\r\n\r\n     &lt;database name=&quot;products&quot;&gt;\r\n            &lt;table name=&quot;category&quot;&gt;\r\n                &lt;column name=&quot;catId&quot;&gt;20&lt;/column&gt;\r\n                &lt;column name=&quot;catName&quot;&gt;Fruit&lt;/column&gt;\r\n            &lt;/table&gt;\r\n            &lt;table name=&quot;category&quot;&gt;\r\n                &lt;column name=&quot;catId&quot;&gt;31&lt;/column&gt;\r\n                &lt;column name=&quot;catName&quot;&gt;Vegetables&lt;/column&gt;\r\n            &lt;/table&gt;\r\n            &lt;table name=&quot;category&quot;&gt;\r\n                &lt;column name=&quot;catId&quot;&gt;45&lt;/column&gt;\r\n                &lt;column name=&quot;catName&quot;&gt;Rice&lt;/column&gt;\r\n            &lt;/table&gt;\r\n            &lt;table name=&quot;category&quot;&gt;\r\n                &lt;column name=&quot;catId&quot;&gt;50&lt;/column&gt;\r\n                &lt;column name=&quot;catName&quot;&gt;Potatoes&lt;/column&gt;\r\n            &lt;/table&gt;\r\n    &lt;/database&gt;\r\n\r\n\r\nSource code example:\r\n\r\n    import com.ximpleware.AutoPilot;\r\n    import com.ximpleware.VTDGen;\r\n    import com.ximpleware.VTDNav;\r\n    \r\n    \r\n    String fileName = &quot;products.xml&quot;;\r\n    \r\n    VTDGen vg = new VTDGen();\r\n    \r\n    if (vg.parseFile(fileName, true)) {\r\n    \r\n    \t VTDNav vn = vg.getNav();\r\n         AutoPilot table = new AutoPilot(vn);\r\n         table.selectXPath(&quot;database/table&quot;);\r\n    \r\n         while (table.iterate()) {\r\n         \tString tableName = vn.toString(vn.getAttrVal(&quot;name&quot;));\r\n            \r\n            if (tableName.equals(&quot;category&quot;)) {\r\n            \tAutoPilot column = new AutoPilot(vn);\r\n                column.selectElement(&quot;column&quot;);\r\n    \r\n                while (column.iterate()) {\r\n                \t String text = vn.toNormalizedString(vn.getText());\r\n                     String name = vn.toString(vn.getAttrVal(&quot;name&quot;));\r\n    \t\t\t     \r\n    \t\t\t     if (name.equals(&quot;catId&quot;)) {\r\n                        Log.d(&quot;Category ID = &quot; + text);\r\n                     } else if (name.equals(&quot;catName&quot;)) {\r\n                        Log.d(&quot;Category Name = &quot; + text);\r\n                     } \r\n                     \r\n                }\r\n            }\r\n         }\r\n    }\r\n\r\n  [1]: http://vtd-xml.sourceforge.net/\r\n\r\n\r\nit works for me and hope it helps you.","title":"How Can I Speed Up Android XML Parsing?","body":"<p>I agree with <strong>Jave's</strong>  answer. The best choice is <a href=\"http://vtd-xml.sourceforge.net/\" rel=\"nofollow noreferrer\">VTD-XML library</a>\nThis example demonstrate how you can use this library.</p>\n<p>XML file:</p>\n<pre><code> &lt;database name=&quot;products&quot;&gt;\n        &lt;table name=&quot;category&quot;&gt;\n            &lt;column name=&quot;catId&quot;&gt;20&lt;/column&gt;\n            &lt;column name=&quot;catName&quot;&gt;Fruit&lt;/column&gt;\n        &lt;/table&gt;\n        &lt;table name=&quot;category&quot;&gt;\n            &lt;column name=&quot;catId&quot;&gt;31&lt;/column&gt;\n            &lt;column name=&quot;catName&quot;&gt;Vegetables&lt;/column&gt;\n        &lt;/table&gt;\n        &lt;table name=&quot;category&quot;&gt;\n            &lt;column name=&quot;catId&quot;&gt;45&lt;/column&gt;\n            &lt;column name=&quot;catName&quot;&gt;Rice&lt;/column&gt;\n        &lt;/table&gt;\n        &lt;table name=&quot;category&quot;&gt;\n            &lt;column name=&quot;catId&quot;&gt;50&lt;/column&gt;\n            &lt;column name=&quot;catName&quot;&gt;Potatoes&lt;/column&gt;\n        &lt;/table&gt;\n&lt;/database&gt;\n</code></pre>\n<p>Source code example:</p>\n<pre><code>import com.ximpleware.AutoPilot;\nimport com.ximpleware.VTDGen;\nimport com.ximpleware.VTDNav;\n\n\nString fileName = &quot;products.xml&quot;;\n\nVTDGen vg = new VTDGen();\n\nif (vg.parseFile(fileName, true)) {\n\n     VTDNav vn = vg.getNav();\n     AutoPilot table = new AutoPilot(vn);\n     table.selectXPath(&quot;database/table&quot;);\n\n     while (table.iterate()) {\n        String tableName = vn.toString(vn.getAttrVal(&quot;name&quot;));\n        \n        if (tableName.equals(&quot;category&quot;)) {\n            AutoPilot column = new AutoPilot(vn);\n            column.selectElement(&quot;column&quot;);\n\n            while (column.iterate()) {\n                 String text = vn.toNormalizedString(vn.getText());\n                 String name = vn.toString(vn.getAttrVal(&quot;name&quot;));\n                 \n                 if (name.equals(&quot;catId&quot;)) {\n                    Log.d(&quot;Category ID = &quot; + text);\n                 } else if (name.equals(&quot;catName&quot;)) {\n                    Log.d(&quot;Category Name = &quot; + text);\n                 } \n                 \n            }\n        }\n     }\n}\n</code></pre>\n<p>it works for me and hope it helps you.</p>\n"}],"owner":{"account_id":1986529,"reputation":645,"user_id":1781589,"accept_rate":48,"display_name":"Mr. Spock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":14114398,"answer_count":2,"score":5,"last_activity_date":1701069259,"creation_date":1357075177,"question_id":14114328,"body_markdown":"Good afternoon (depending on where you live)!\r\n\r\nI&#39;m fairly new to Android development and I&#39;m currently working on moving the functionality from an existing iOS app to Android. Part of this functionality is to parse a &quot;large&quot; (~13,000 line) RSS XML file that contains about 500 entries. I&#39;ve spent anywhere from 10-15 hours researching XML parsing on Android AND trying out the major XML parsers: DOM, SAX, and Pull-parsing. Here are my results, running within&#39; the emulator on my box (32-bit Windows Vista, 2.2 GHz Dual CPU, 3 GB RAM):\r\n\r\nSAX: ~6:00 minutes\r\n\r\nPull-Parsing: ~4:00 minutes\r\n\r\nDOM: Greater than 4:00 minutes, but didn&#39;t time it when I had that implementation coded.\r\n\r\nI also tried this RSS Reader from github, but it took &gt;10:00 minutes:\r\n\r\nhttps://github.com/matshofman/Android-RSS-Reader-Library\r\n\r\nThe implementations for the SAX, PP, and DOM were all taken from stackoverflow.com threads, so I feel fairly confident that I didn&#39;t do anything non-standard in them (though, I&#39;m not ruling that out). I&#39;ve decided to appeal to a larger, more experienced, crowd to get some ideas of what else I can try.\r\n\r\nI don&#39;t have any control over the format of the file. If I was implementing this end-to-end, I would just write a Web Service that did all the heavy-lifting on the server and then sent down a small, compact, JSON-serialized list. Instead, I have the 13K line file. :)\r\n\r\nAny insight into what I can do? It seems to be a fairly common problem, but most responses just say to try one of the different main XML parsers. In my case, I&#39;ve tried all three and even the fastest seems way too slow.\r\n\r\nWhat am I doing wrong? Are there any normal &quot;newbie&quot; problems that people usually encounter when doing XML parsing over the network on Android???\r\n\r\nThank you in advance for any help you can provide!","title":"How Can I Speed Up Android XML Parsing?","body":"<p>Good afternoon (depending on where you live)!</p>\n\n<p>I'm fairly new to Android development and I'm currently working on moving the functionality from an existing iOS app to Android. Part of this functionality is to parse a \"large\" (~13,000 line) RSS XML file that contains about 500 entries. I've spent anywhere from 10-15 hours researching XML parsing on Android AND trying out the major XML parsers: DOM, SAX, and Pull-parsing. Here are my results, running within' the emulator on my box (32-bit Windows Vista, 2.2 GHz Dual CPU, 3 GB RAM):</p>\n\n<p>SAX: ~6:00 minutes</p>\n\n<p>Pull-Parsing: ~4:00 minutes</p>\n\n<p>DOM: Greater than 4:00 minutes, but didn't time it when I had that implementation coded.</p>\n\n<p>I also tried this RSS Reader from github, but it took >10:00 minutes:</p>\n\n<p><a href=\"https://github.com/matshofman/Android-RSS-Reader-Library\" rel=\"noreferrer\">https://github.com/matshofman/Android-RSS-Reader-Library</a></p>\n\n<p>The implementations for the SAX, PP, and DOM were all taken from stackoverflow.com threads, so I feel fairly confident that I didn't do anything non-standard in them (though, I'm not ruling that out). I've decided to appeal to a larger, more experienced, crowd to get some ideas of what else I can try.</p>\n\n<p>I don't have any control over the format of the file. If I was implementing this end-to-end, I would just write a Web Service that did all the heavy-lifting on the server and then sent down a small, compact, JSON-serialized list. Instead, I have the 13K line file. :)</p>\n\n<p>Any insight into what I can do? It seems to be a fairly common problem, but most responses just say to try one of the different main XML parsers. In my case, I've tried all three and even the fastest seems way too slow.</p>\n\n<p>What am I doing wrong? Are there any normal \"newbie\" problems that people usually encounter when doing XML parsing over the network on Android???</p>\n\n<p>Thank you in advance for any help you can provide!</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":7782111,"reputation":571,"user_id":5888214,"display_name":"Dani R"},"score":1,"creation_date":1563873798,"post_id":54563331,"comment_id":100835741,"body_markdown":"Possible duplicate of [Selenium Web Driver: Extracted Chrome Browser logs are incomplete](https://stackoverflow.com/questions/57146129/selenium-web-driver-extracted-chrome-browser-logs-are-incomplete)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/57146129/selenium-web-driver-extracted-chrome-browser-logs-are-incomplete\">Selenium Web Driver: Extracted Chrome Browser logs are incomplete</a>"}],"answers":[{"tags":[],"owner":{"account_id":13638490,"reputation":1041,"user_id":9838946,"display_name":"Timothy T."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549528682,"creation_date":1549527915,"answer_id":54569048,"question_id":54563331,"body_markdown":"From the documentation (http://chromedriver.chromium.org/logging): \r\n&gt; By default ChromeDriver logs only warnings/errors to stderr. When debugging issues, it is helpful to enable more verbose logging.\r\n\r\nAlso from documentation:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.logfile&quot;, &quot;D:\\\\chromedriver.log&quot;);\r\n    System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);\r\n\r\nHope that works. \r\n\r\n\r\n**Alternative Option**\r\n\r\nYou could try the following if the above doesn&#39;t work, this time using the `ChromeOptions` object instead:\r\n    \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setArguments(&quot;--log-level=1&quot;);\r\n\r\nor from (https://www.chromium.org/for-testers/enable-logging)\r\n\r\n&gt; To enable logging, launch Chrome with these command line flags:\r\n&gt; --enable-logging --v=1\r\n\r\nWhich translates into:\r\n\r\n    options.setArguments(&quot;--enable-logging --v=1&quot;);","title":"How to get Chrome browser console log [INFO] entries with Selenium","body":"<p>From the documentation (<a href=\"http://chromedriver.chromium.org/logging\" rel=\"nofollow noreferrer\">http://chromedriver.chromium.org/logging</a>): </p>\n\n<blockquote>\n  <p>By default ChromeDriver logs only warnings/errors to stderr. When debugging issues, it is helpful to enable more verbose logging.</p>\n</blockquote>\n\n<p>Also from documentation:</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.logfile\", \"D:\\\\chromedriver.log\");\nSystem.setProperty(\"webdriver.chrome.verboseLogging\", \"true\");\n</code></pre>\n\n<p>Hope that works. </p>\n\n<p><strong>Alternative Option</strong></p>\n\n<p>You could try the following if the above doesn't work, this time using the <code>ChromeOptions</code> object instead:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.setArguments(\"--log-level=1\");\n</code></pre>\n\n<p>or from (<a href=\"https://www.chromium.org/for-testers/enable-logging\" rel=\"nofollow noreferrer\">https://www.chromium.org/for-testers/enable-logging</a>)</p>\n\n<blockquote>\n  <p>To enable logging, launch Chrome with these command line flags:\n  --enable-logging --v=1</p>\n</blockquote>\n\n<p>Which translates into:</p>\n\n<pre><code>options.setArguments(\"--enable-logging --v=1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15281028,"reputation":211,"user_id":11025423,"display_name":"ciconq"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1549532528,"creation_date":1549532528,"answer_id":54570357,"question_id":54563331,"body_markdown":"thank you for your answer but unfortunately none of them worked for me, I have managed to come up with a solution for my issue using:\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setCapability(ChromeOptions.CAPABILITY, getCap());\r\n        WebDriver driver = new ChromeDriver(options);\r\n\r\nAlongside with the custom made method:\r\n\r\n    private static DesiredCapabilities getCap() {\r\n        DesiredCapabilities caps = DesiredCapabilities.chrome();\r\n        LoggingPreferences logPrefs = new LoggingPreferences();\r\n        logPrefs.enable(LogType.PERFORMANCE, Level.INFO);\r\n        logPrefs.enable(LogType.PROFILER, Level.INFO);\r\n        logPrefs.enable(LogType.BROWSER, Level.INFO);\r\n        logPrefs.enable(LogType.CLIENT, Level.INFO);\r\n        logPrefs.enable(LogType.DRIVER, Level.INFO);\r\n        logPrefs.enable(LogType.SERVER, Level.INFO);\r\n        caps.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\r\n        return caps;\r\n    }\r\n\r\nAnd finally had to make a filter method as the Selenium one was not working properly for me and was returning all of the entries:\r\n\r\n    private static List&lt;LogEntry&gt; filterLog(LogEntries entries) {\r\n        List&lt;LogEntry&gt; logs = new ArrayList&lt;&gt;();\r\n        for (LogEntry entry : entries) {\r\n            if(entry.getLevel().toString().equals(INFO)) {\r\n                logs.add(entry);\r\n            }\r\n        }\r\n        return logs;\r\n    }\r\n\r\n            ","title":"How to get Chrome browser console log [INFO] entries with Selenium","body":"<p>thank you for your answer but unfortunately none of them worked for me, I have managed to come up with a solution for my issue using:</p>\n\n<pre><code>    ChromeOptions options = new ChromeOptions();\n    options.setCapability(ChromeOptions.CAPABILITY, getCap());\n    WebDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>Alongside with the custom made method:</p>\n\n<pre><code>private static DesiredCapabilities getCap() {\n    DesiredCapabilities caps = DesiredCapabilities.chrome();\n    LoggingPreferences logPrefs = new LoggingPreferences();\n    logPrefs.enable(LogType.PERFORMANCE, Level.INFO);\n    logPrefs.enable(LogType.PROFILER, Level.INFO);\n    logPrefs.enable(LogType.BROWSER, Level.INFO);\n    logPrefs.enable(LogType.CLIENT, Level.INFO);\n    logPrefs.enable(LogType.DRIVER, Level.INFO);\n    logPrefs.enable(LogType.SERVER, Level.INFO);\n    caps.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\n    return caps;\n}\n</code></pre>\n\n<p>And finally had to make a filter method as the Selenium one was not working properly for me and was returning all of the entries:</p>\n\n<pre><code>private static List&lt;LogEntry&gt; filterLog(LogEntries entries) {\n    List&lt;LogEntry&gt; logs = new ArrayList&lt;&gt;();\n    for (LogEntry entry : entries) {\n        if(entry.getLevel().toString().equals(INFO)) {\n            logs.add(entry);\n        }\n    }\n    return logs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18298189,"reputation":1,"user_id":13323648,"display_name":"Arbetraryday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701068034,"creation_date":1701067946,"answer_id":77554986,"question_id":54563331,"body_markdown":"For anyone doing this using chrome.Options\r\n\r\nSimply set the capability:\r\n\r\n    options = Options()\r\n    options.set_capability(&#39;goog:loggingPrefs&#39;, { &#39;browser&#39;:&#39;ALL&#39; })\r\n\r\n\r\nTo use the logs:\r\n\r\n    logs = driver.get_log(&quot;browser&quot;)\r\n    for log in logs:\r\n        print(log)\r\n","title":"How to get Chrome browser console log [INFO] entries with Selenium","body":"<p>For anyone doing this using chrome.Options</p>\n<p>Simply set the capability:</p>\n<pre><code>options = Options()\noptions.set_capability('goog:loggingPrefs', { 'browser':'ALL' })\n</code></pre>\n<p>To use the logs:</p>\n<pre><code>logs = driver.get_log(&quot;browser&quot;)\nfor log in logs:\n    print(log)\n</code></pre>\n"}],"owner":{"account_id":15281028,"reputation":211,"user_id":11025423,"display_name":"ciconq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16675,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54570357,"answer_count":3,"score":8,"last_activity_date":1701068034,"creation_date":1549490947,"question_id":54563331,"body_markdown":"I am having issues getting chrome browser console log [INFO] entries with Selenium and the only Level type of entries I am getting are the errors(WARNING, SEVERE).\r\n\r\nIs there any way to get anything different than the error entries as I need to get the [INFO] entries and assert based on their content, I have read recently that Selenium is able to return entries only for errors is that accurate?\r\n\r\n\r\nWould really appreciate any information given,\r\nthank you for your attention and time!\r\n\r\n","title":"How to get Chrome browser console log [INFO] entries with Selenium","body":"<p>I am having issues getting chrome browser console log [INFO] entries with Selenium and the only Level type of entries I am getting are the errors(WARNING, SEVERE).</p>\n\n<p>Is there any way to get anything different than the error entries as I need to get the [INFO] entries and assert based on their content, I have read recently that Selenium is able to return entries only for errors is that accurate?</p>\n\n<p>Would really appreciate any information given,\nthank you for your attention and time!</p>\n"},{"tags":["java","temporal","temporal-workflow"],"comments":[{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1701098765,"post_id":77554961,"comment_id":136729752,"body_markdown":"I&#39;m having a lot of difficulty understanding your question as it currently stand.","body":"I&#39;m having a lot of difficulty understanding your question as it currently stand."},{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1701098801,"post_id":77554961,"comment_id":136729760,"body_markdown":"Do I understand correctly that you mean the following: &quot;I&#39;m writing a Temporal Workflow using the Java SDK. In my Workflow code, I have some Promise object, on which I call `.get()` to await for that promise completion. Q1: Will this block the Worker&#39;s main thread until the promise resolves? Q2: Will this cause resource usage (for example: threads, memory or CPU) on the worker machine until that Promise resolves? Q3: Will the Worker be able to fall into some kind of sleep mode until the Promise resolves?&quot;","body":"Do I understand correctly that you mean the following: &quot;I&#39;m writing a Temporal Workflow using the Java SDK. In my Workflow code, I have some Promise object, on which I call <code>.get()</code> to await for that promise completion. Q1: Will this block the Worker&#39;s main thread until the promise resolves? Q2: Will this cause resource usage (for example: threads, memory or CPU) on the worker machine until that Promise resolves? Q3: Will the Worker be able to fall into some kind of sleep mode until the Promise resolves?&quot;"},{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1701100414,"post_id":77554961,"comment_id":136730150,"body_markdown":"If my understanding of your question is not correct, please reformulate your question by yourself. You may want to use some automated tool to translate your question from your own language to English.","body":"If my understanding of your question is not correct, please reformulate your question by yourself. You may want to use some automated tool to translate your question from your own language to English."},{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1701101207,"post_id":77554961,"comment_id":136730334,"body_markdown":"Also, get a look at advices given on [this page](https://meta.stackoverflow.com/questions/291362/advice-for-non-native-english-speakers). In particular, **avoid politeness constructs**. They are not required (this is a help site and people expect you to ask for help), and makes your question confusing. For example, you use the word &quot;query&quot; twice in your question... Is your question specifically about sending a query to a workflow?","body":"Also, get a look at advices given on <a href=\"https://meta.stackoverflow.com/questions/291362/advice-for-non-native-english-speakers\">this page</a>. In particular, <b>avoid politeness constructs</b>. They are not required (this is a help site and people expect you to ask for help), and makes your question confusing. For example, you use the word &quot;query&quot; twice in your question... Is your question specifically about sending a query to a workflow?"}],"owner":{"account_id":9558737,"reputation":16,"user_id":7212163,"display_name":"Kachida"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701067603,"creation_date":1701067603,"question_id":77554961,"body_markdown":"SDK : Temporal Java SDK\r\n\r\n\r\nIn the workflow code, we&#39;re trying to resolve the promise with get() method call, since its blocking call, i&#39;ve below queries team, can you please clarify on this -\r\n\r\nwhether the workflow worker&#39;s main thread will be blocked or will it initiate new thread and resolve that promise.\r\nwhether the workflow worker will get into sleep mode and it will get invoked when promise gets resolved.\r\n\r\nIn high level, we understand that get() method will block the main workflow thread.","title":"Temporal : Query on Promise with get() method call","body":"<p>SDK : Temporal Java SDK</p>\n<p>In the workflow code, we're trying to resolve the promise with get() method call, since its blocking call, i've below queries team, can you please clarify on this -</p>\n<p>whether the workflow worker's main thread will be blocked or will it initiate new thread and resolve that promise.\nwhether the workflow worker will get into sleep mode and it will get invoked when promise gets resolved.</p>\n<p>In high level, we understand that get() method will block the main workflow thread.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"score":1,"creation_date":1675066965,"post_id":75281727,"comment_id":132840561,"body_markdown":"in the Query you wrote, I see no &quot;order by&quot;. Does Spring adds this by its own?","body":"in the Query you wrote, I see no &quot;order by&quot;. Does Spring adds this by its own?"},{"owner":{"account_id":14352417,"reputation":171,"user_id":10367451,"display_name":"JohnnySmith88"},"score":0,"creation_date":1675067069,"post_id":75281727,"comment_id":132840594,"body_markdown":"yes, it adds it by its own, I&#39;ve enabled spring.jpa.show-sql=true and can see it. it generates my sql then just adds that order by","body":"yes, it adds it by its own, I&#39;ve enabled spring.jpa.show-sql=true and can see it. it generates my sql then just adds that order by"},{"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"score":0,"creation_date":1675067575,"post_id":75281727,"comment_id":132840724,"body_markdown":"I&#39;m not sure, but I believe that is always done for native queries. Could you write instead a non-native query? Something like @Query(value = &quot;SELECT * FROM  Treatments INNER JOIN Animals ON Treatments.animal_id = Animals.animal_id WHERE Animals.owner_id = :ownerId AND Treatments.enddate &gt; curdate()&quot;)\n        Page&lt;Treatments&gt; findAll(@Param(&quot;ownerId&quot;) Optional&lt;Owner&gt; owner, Pageable pageable);","body":"I&#39;m not sure, but I believe that is always done for native queries. Could you write instead a non-native query? Something like @Query(value = &quot;SELECT * FROM  Treatments INNER JOIN Animals ON Treatments.animal_id = Animals.animal_id WHERE Animals.owner_id = :ownerId AND Treatments.enddate &gt; curdate()&quot;)         Page&lt;Treatments&gt; findAll(@Param(&quot;ownerId&quot;) Optional&lt;Owner&gt; owner, Pageable pageable);"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1675069324,"post_id":75281727,"comment_id":132841219,"body_markdown":"It seems like it somehow interprets &quot;INNER&quot; as an alias to the table name &quot;Treatments&quot;. You don&#39;t have an explicit alias for that table, so perhaps adding one would help the interpreter? I.e. change the query to &quot;SELECT * FROM  Treatments as t INNER JOIN...&quot;","body":"It seems like it somehow interprets &quot;INNER&quot; as an alias to the table name &quot;Treatments&quot;. You don&#39;t have an explicit alias for that table, so perhaps adding one would help the interpreter? I.e. change the query to &quot;SELECT * FROM  Treatments as t INNER JOIN...&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675067565,"creation_date":1675067565,"answer_id":75281856,"question_id":75281727,"body_markdown":"I suppose Spring modifies your query because you use `Page` as the return type. When you use a native query together with `Page`, you should add a `countQuery`, see [Spring Documentation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native","title":"Spring Boot unknown column &#39;INNER. &#39; in order clause","body":"<p>I suppose Spring modifies your query because you use <code>Page</code> as the return type. When you use a native query together with <code>Page</code>, you should add a <code>countQuery</code>, see <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native\" rel=\"nofollow noreferrer\">Spring Documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":12174696,"reputation":515,"user_id":8888136,"display_name":"Diep Gepa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701066890,"creation_date":1700979076,"answer_id":77550659,"question_id":75281727,"body_markdown":"My version spring boot: 2.3.12.RELEASE\r\n\r\nDefine exactly which columns need to be selected and redefine column name again(`SELECT Treatments.animal_id AS animal_id,..`). Trust me, don&#39;t missing `AS`\r\n\r\nNot working with `SELECT Treatments.animal_id,..` OR `SELECT Treatments.animal_id animal_id,..`\r\n\r\nYou need this native query:\r\n```sql\r\nSELECT Treatments.animal_id AS animal_id, Treatments.enddate AS enddate, Animals.owner_id AS owner_id\r\nFROM  Treatments INNER JOIN Animals\r\nON Treatments.animal_id = Animals.animal_id\r\nWHERE Animals.owner_id = ?1 AND Treatments.enddate &gt; curdate()\r\n```\r\n\r\nOr:\r\n```sql\r\nSELECT m.* FROM (\r\n\tSELECT a.animal_id AS animal_id, a.enddate AS enddate, b.owner_id AS owner_id\r\n\tFROM  Treatments a INNER JOIN Animals b ON a.animal_id = b.animal_id\r\n) AS m WHERE owner_id = ?1 AND enddate &gt; curdate()\r\n```","title":"Spring Boot unknown column &#39;INNER. &#39; in order clause","body":"<p>My version spring boot: 2.3.12.RELEASE</p>\n<p>Define exactly which columns need to be selected and redefine column name again(<code>SELECT Treatments.animal_id AS animal_id,..</code>). Trust me, don't missing <code>AS</code></p>\n<p>Not working with <code>SELECT Treatments.animal_id,..</code> OR <code>SELECT Treatments.animal_id animal_id,..</code></p>\n<p>You need this native query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT Treatments.animal_id AS animal_id, Treatments.enddate AS enddate, Animals.owner_id AS owner_id\nFROM  Treatments INNER JOIN Animals\nON Treatments.animal_id = Animals.animal_id\nWHERE Animals.owner_id = ?1 AND Treatments.enddate &gt; curdate()\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT m.* FROM (\n    SELECT a.animal_id AS animal_id, a.enddate AS enddate, b.owner_id AS owner_id\n    FROM  Treatments a INNER JOIN Animals b ON a.animal_id = b.animal_id\n) AS m WHERE owner_id = ?1 AND enddate &gt; curdate()\n</code></pre>\n"}],"owner":{"account_id":14352417,"reputation":171,"user_id":10367451,"display_name":"JohnnySmith88"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75281856,"answer_count":2,"score":1,"last_activity_date":1701066890,"creation_date":1675066735,"question_id":75281727,"body_markdown":"I am using Spring Data JPA to get data from a MySQL database. I have this function adnotated with @Query in a repository\r\n\r\n    @Query(value = &quot;SELECT * FROM  Treatments INNER JOIN Animals ON Treatments.animal_id = Animals.animal_id WHERE Animals.owner_id = ?1 AND Treatments.enddate &gt; curdate()&quot;, nativeQuery = true)\r\n        \tPage&lt;Treatments&gt; findAll(@Param(&quot;ownerId&quot;) Optional&lt;Owner&gt; owner, Pageable pageable);\r\n\r\nSpring generates the SQL as it is, then adds `order by INNER.startdate asc limit ?`\r\nAnd then it throws this error \r\n`Unknown column &#39;INNER.startdate&#39; in &#39;order clause&#39;`\r\nWhy is this happening? I tried adding an orderby clause myself but it will just add its own orderby clause anyway and throw the error. The query works inside MySql.","title":"Spring Boot unknown column &#39;INNER. &#39; in order clause","body":"<p>I am using Spring Data JPA to get data from a MySQL database. I have this function adnotated with @Query in a repository</p>\n<pre><code>@Query(value = &quot;SELECT * FROM  Treatments INNER JOIN Animals ON Treatments.animal_id = Animals.animal_id WHERE Animals.owner_id = ?1 AND Treatments.enddate &gt; curdate()&quot;, nativeQuery = true)\n        Page&lt;Treatments&gt; findAll(@Param(&quot;ownerId&quot;) Optional&lt;Owner&gt; owner, Pageable pageable);\n</code></pre>\n<p>Spring generates the SQL as it is, then adds <code>order by INNER.startdate asc limit ?</code>\nAnd then it throws this error\n<code>Unknown column 'INNER.startdate' in 'order clause'</code>\nWhy is this happening? I tried adding an orderby clause myself but it will just add its own orderby clause anyway and throw the error. The query works inside MySql.</p>\n"},{"tags":["java","class","sealed-class","java-17","java-sealed-type"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":7,"creation_date":1631860282,"post_id":69218585,"comment_id":122341222,"body_markdown":"Just a few days ago, [this article](https://www.techwell.com/techwell-insights/2021/09/sealed-classes-java-17) was released about this very topic. It may give you an idea about `sealed` classes.","body":"Just a few days ago, <a href=\"https://www.techwell.com/techwell-insights/2021/09/sealed-classes-java-17\" rel=\"nofollow noreferrer\">this article</a> was released about this very topic. It may give you an idea about <code>sealed</code> classes."},{"owner":{"account_id":3040236,"reputation":101,"user_id":2577463,"display_name":"Doug Warren"},"score":3,"creation_date":1631892790,"post_id":69218585,"comment_id":122354884,"body_markdown":"To paraphrase Douglas Adams: &quot;In the beginning [inheritance] was [invented].\nThis has made a lot of people very angry and been widely regarded as a bad move.&quot;","body":"To paraphrase Douglas Adams: &quot;In the beginning [inheritance] was [invented]. This has made a lot of people very angry and been widely regarded as a bad move.&quot;"},{"owner":{"account_id":1416522,"reputation":91334,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1631911068,"post_id":69218585,"comment_id":122360729,"body_markdown":"Here&#39;s a more authoritative article: https://www.infoq.com/articles/java-sealed-classes/","body":"Here&#39;s a more authoritative article: <a href=\"https://www.infoq.com/articles/java-sealed-classes/\" rel=\"nofollow noreferrer\">infoq.com/articles/java-sealed-classes</a>"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1698262296,"post_id":69218585,"comment_id":136384472,"body_markdown":"Re *&quot;In the beginning...&quot;*: [A clip](https://www.youtube.com/watch?v=UuCqeg4zV_o&amp;t=1m10s) (at 1 min 10 secs).","body":"Re <i>&quot;In the beginning...&quot;</i>: <a href=\"https://www.youtube.com/watch?v=UuCqeg4zV_o&amp;t=1m10s\" rel=\"nofollow noreferrer\">A clip</a> (at 1 min 10 secs)."}],"answers":[{"tags":[],"owner":{"account_id":3549814,"reputation":640,"user_id":2964951,"display_name":"JDTheOne"},"down_vote_count":3,"up_vote_count":48,"is_accepted":true,"score":45,"last_activity_date":1669030077,"creation_date":1631860187,"answer_id":69218715,"question_id":69218585,"body_markdown":"[You can follow this link for examples.](https://www.baeldung.com/java-sealed-classes-interfaces)\r\n\r\nIn short sealed classes gives you the control of which models, classes etc. that can implement or extend that class/interface.\r\n\r\nExample from the link:\r\n\r\n    public sealed interface Service permits Car, Truck {\r\n\r\n        int getMaxServiceIntervalInMonths();\r\n\r\n        default int getMaxDistanceBetweenServicesInKilometers() {\r\n            return 100000;\r\n        }\r\n    }\r\n\r\nThis interface only permits Car and Truck to implement it.","title":"What are sealed classes in Java 17?","body":"<p><a href=\"https://www.baeldung.com/java-sealed-classes-interfaces\" rel=\"noreferrer\">You can follow this link for examples.</a></p>\n<p>In short sealed classes gives you the control of which models, classes etc. that can implement or extend that class/interface.</p>\n<p>Example from the link:</p>\n<pre><code>public sealed interface Service permits Car, Truck {\n\n    int getMaxServiceIntervalInMonths();\n\n    default int getMaxDistanceBetweenServicesInKilometers() {\n        return 100000;\n    }\n}\n</code></pre>\n<p>This interface only permits Car and Truck to implement it.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1638279629,"creation_date":1631965293,"answer_id":69234315,"question_id":69218585,"body_markdown":"The [JEP 409][1] explains it as\r\n\r\n&gt; A sealed class or interface can be extended or implemented only by\r\n&gt; those classes and interfaces permitted to do so.\r\n\r\nA more practical explanation is the following:\r\n\r\n***The situation in the past was:***\r\n * You could not restrict an interface being extended by another interface\r\n * You could not constraint which classes where able to implement a specific interface.\r\n * You had to declare a class as final in order to not be extended by another class. This way no class could extend the declared final class. This was black or white approach.\r\n\r\n***The current situation with sealed keyword is:***\r\n * You can now restrict an interface being extended by other interfaces and make a rule for only some specific interfaces which will be allowed to extend it. \r\n\r\n    Example: \r\n    \r\n       public sealed interface MotherInterface permits ChildInterfacePermitted {}\r\n     \r\n       //Has to be declared either as sealed or non-sealed\r\n       public non-sealed interface ChildInterfacePermitted extends MotherInterface {}  \r\n\r\n       public interface AnotherChildInterface extends MotherInterface {} \r\n       //compiler error! It is not included in the permits of mother inteface\r\n\r\n * You can now create an interface and select only specific classes that are allowed\r\n to implement that interface. All other classes are not allowed to implement it.\r\n\r\n      Example: \r\n    \r\n        public sealed interface MotherInterface permits ImplementationClass1 {} \r\n         \r\n        //Has to be declared either as final or as sealed or as non-sealed\r\n        public final class ImplementationClass1 implements MotherInterface {} \r\n\r\n        public class ImplementationClass2 implements MotherInterface {} \r\n        //compiler error! It is not included in the permits of mother inteface\r\n\r\n * You can now restrict a class being extended (same as before with final) but you can now allow some specific classes to extend it. So now you have more control as before the keyword final was absolute restricting every class from extending the declared final class\r\n\r\n    Example: \r\n    \r\n       public sealed class MotherClass permits ChildClass1 {}\r\n\r\n       //Has to be declared either as final or as sealed or as non-sealed\r\n       public non-sealed class ChildClass1 extends MotherClass {} \r\n\r\n        public class ChildClass2 extends MotherClass {} \r\n        //compiler error! It is not included in the permits of MotherClass\r\n\r\n\r\n***Important notes:***\r\n----------------------\r\n\r\n* The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, to the same package.\r\n\r\n    Example: \r\n    \r\n    Let&#39;s say that we have the same unnamed module and the following packages\r\n         \r\n        -packageA\r\n           -Implementationclass1.java\r\n        -packageB\r\n           -MotherClass.java\r\n\r\n    or  \r\n\r\n         -root\r\n            -MotherClass.java\r\n            -packageA\r\n               -Implementationclass1.java\r\n        \r\n\r\n  You will get the error *Class is not allowed to extend sealed class from another package*. So if you have an unnamed module all participating classes and interfaces for the sealed function must be placed exactly on the same package.\r\n* Every permitted subclass must directly extend the sealed class.\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/409","title":"What are sealed classes in Java 17?","body":"<p>The <a href=\"http://openjdk.java.net/jeps/409\" rel=\"noreferrer\">JEP 409</a> explains it as</p>\n<blockquote>\n<p>A sealed class or interface can be extended or implemented only by\nthose classes and interfaces permitted to do so.</p>\n</blockquote>\n<p>A more practical explanation is the following:</p>\n<p><em><strong>The situation in the past was:</strong></em></p>\n<ul>\n<li>You could not restrict an interface being extended by another interface</li>\n<li>You could not constraint which classes where able to implement a specific interface.</li>\n<li>You had to declare a class as final in order to not be extended by another class. This way no class could extend the declared final class. This was black or white approach.</li>\n</ul>\n<p><em><strong>The current situation with sealed keyword is:</strong></em></p>\n<ul>\n<li><p>You can now restrict an interface being extended by other interfaces and make a rule for only some specific interfaces which will be allowed to extend it.</p>\n<p>Example:</p>\n<pre><code>public sealed interface MotherInterface permits ChildInterfacePermitted {}\n\n//Has to be declared either as sealed or non-sealed\npublic non-sealed interface ChildInterfacePermitted extends MotherInterface {}  \n\npublic interface AnotherChildInterface extends MotherInterface {} \n//compiler error! It is not included in the permits of mother inteface\n</code></pre>\n</li>\n<li><p>You can now create an interface and select only specific classes that are allowed\nto implement that interface. All other classes are not allowed to implement it.</p>\n<p>Example:</p>\n<pre><code> public sealed interface MotherInterface permits ImplementationClass1 {} \n\n //Has to be declared either as final or as sealed or as non-sealed\n public final class ImplementationClass1 implements MotherInterface {} \n\n public class ImplementationClass2 implements MotherInterface {} \n //compiler error! It is not included in the permits of mother inteface\n</code></pre>\n</li>\n<li><p>You can now restrict a class being extended (same as before with final) but you can now allow some specific classes to extend it. So now you have more control as before the keyword final was absolute restricting every class from extending the declared final class</p>\n<p>Example:</p>\n<pre><code>public sealed class MotherClass permits ChildClass1 {}\n\n//Has to be declared either as final or as sealed or as non-sealed\npublic non-sealed class ChildClass1 extends MotherClass {} \n\n public class ChildClass2 extends MotherClass {} \n //compiler error! It is not included in the permits of MotherClass\n</code></pre>\n</li>\n</ul>\n<h2><em><strong>Important notes:</strong></em></h2>\n<ul>\n<li><p>The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, to the same package.</p>\n<p>Example:</p>\n<p>Let's say that we have the same unnamed module and the following packages</p>\n<pre><code>  -packageA\n     -Implementationclass1.java\n  -packageB\n     -MotherClass.java\n</code></pre>\n<p>or</p>\n<pre><code>   -root\n      -MotherClass.java\n      -packageA\n         -Implementationclass1.java\n</code></pre>\n<p>You will get the error <em>Class is not allowed to extend sealed class from another package</em>. So if you have an unnamed module all participating classes and interfaces for the sealed function must be placed exactly on the same package.</p>\n</li>\n<li><p>Every permitted subclass must directly extend the sealed class.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636166288,"creation_date":1636166288,"answer_id":69861052,"question_id":69218585,"body_markdown":"As per this [documentation][1], Sealed classes and interfaces restrict which other classes or interfaces may extend or implement them. It is more of a declarative way to restrict the use of a superclass rather than using access modifiers.\r\n\r\nIn Java, a class can be final so no other classes can subclass it. If a class is not final, then it is open to all other classes to support code reusability. Doing so would raise data modeling concerns.\r\n\r\nThe below NumberSystem class is open to all classes, so any subclass can extend it. What if you want to restrict this NumberSystem to a fixed set of subclasses (Binary, Decimal, Octal, and HexaDecimal)?. It means you don’t want any other arbitrary class to extend this NumberSystem class.\r\n\r\n    class NumberSystem { ... }\r\n    final class Binary extends NumberSystem { ... }\r\n    final class Decimal extends NumberSystem { ... }\r\n    final class Octal extends NumberSystem { ... }\r\n    final class HexaDecimal extends NumberSystem { ... }\r\n\r\nUsing sealed class, you can achieve it by controlling the subclasses that can extend it and prevent any other arbitrary class from doing so.\r\n\r\n\r\n  [1]: https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/","title":"What are sealed classes in Java 17?","body":"<p>As per this <a href=\"https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/\" rel=\"nofollow noreferrer\">documentation</a>, Sealed classes and interfaces restrict which other classes or interfaces may extend or implement them. It is more of a declarative way to restrict the use of a superclass rather than using access modifiers.</p>\n<p>In Java, a class can be final so no other classes can subclass it. If a class is not final, then it is open to all other classes to support code reusability. Doing so would raise data modeling concerns.</p>\n<p>The below NumberSystem class is open to all classes, so any subclass can extend it. What if you want to restrict this NumberSystem to a fixed set of subclasses (Binary, Decimal, Octal, and HexaDecimal)?. It means you don’t want any other arbitrary class to extend this NumberSystem class.</p>\n<pre><code>class NumberSystem { ... }\nfinal class Binary extends NumberSystem { ... }\nfinal class Decimal extends NumberSystem { ... }\nfinal class Octal extends NumberSystem { ... }\nfinal class HexaDecimal extends NumberSystem { ... }\n</code></pre>\n<p>Using sealed class, you can achieve it by controlling the subclasses that can extend it and prevent any other arbitrary class from doing so.</p>\n"},{"tags":[],"owner":{"account_id":5612578,"reputation":65,"user_id":4785682,"accept_rate":100,"display_name":"Naveen K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645025465,"creation_date":1642520888,"answer_id":70758473,"question_id":69218585,"body_markdown":"All `sealed` java classes or interfaces must use `permits` keyword. For example:\r\n\r\nParent.class:\r\n\r\n```java\r\npublic sealed class Parent permits Child1, Child2 {\r\n  void parentMethod() {\r\n    System.out.println(&quot;from a sealed parent class &quot;);\r\n  }\r\n}\r\n```\r\n\r\nChild1.java:\r\n\r\n```java\r\npublic final class Child1 extends Parent {\r\n  public static void main(String[] args) {\r\n    Child1 obj = new Child1();\r\n    obj.parentMethod();\r\n  }\r\n}\r\n```\r\n\r\nChild2.java:\r\n\r\n```java\r\npublic final class Child2 extends Parent {\r\n  public static void main(String[] args) {\r\n    Child2 obj = new Child2();\r\n    obj.parentMethod();\r\n  }\r\n}\r\n```\r\n\r\nChild3.java\r\n\r\n```java\r\npublic final class Child3 extends Parent {\r\n  public static void main(String[] args) {\r\n    Child3 obj = new Child3();\r\n    obj.parentMethod();\r\n  }\r\n}\r\n```\r\n\r\nThis `Child3` class code will throw a compile-time error saying\r\nThe type Child3 extending a sealed class Parent should be a permitted subtype of Parent (`permits Child3`, just like `Child1` and `Child2`).","title":"What are sealed classes in Java 17?","body":"<p>All <code>sealed</code> java classes or interfaces must use <code>permits</code> keyword. For example:</p>\n<p>Parent.class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed class Parent permits Child1, Child2 {\n  void parentMethod() {\n    System.out.println(&quot;from a sealed parent class &quot;);\n  }\n}\n</code></pre>\n<p>Child1.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Child1 extends Parent {\n  public static void main(String[] args) {\n    Child1 obj = new Child1();\n    obj.parentMethod();\n  }\n}\n</code></pre>\n<p>Child2.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Child2 extends Parent {\n  public static void main(String[] args) {\n    Child2 obj = new Child2();\n    obj.parentMethod();\n  }\n}\n</code></pre>\n<p>Child3.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Child3 extends Parent {\n  public static void main(String[] args) {\n    Child3 obj = new Child3();\n    obj.parentMethod();\n  }\n}\n</code></pre>\n<p>This <code>Child3</code> class code will throw a compile-time error saying\nThe type Child3 extending a sealed class Parent should be a permitted subtype of Parent (<code>permits Child3</code>, just like <code>Child1</code> and <code>Child2</code>).</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660282270,"creation_date":1660282270,"answer_id":73329618,"question_id":69218585,"body_markdown":"**Sealed classes**\r\n\r\nA sealed class is a constraint that permits only given classes to implement it. These permitted classes must explicitly extend the sealed class and also have one of the  `sealed`, `non-sealed`, or `final` modifiers. The feature is delivered as of java 17 ([JEP 409](https://openjdk.org/jeps/409)) and was available as a preview longer before (Java 15).\r\n\r\n```\r\nsealed interface IdentificationDocument permits IdCard, Passport, DrivingLicence { }\r\n```\r\n```\r\nfinal class IdCard implements IdentificationDocument { }\r\nfinal class Passport implements IdentificationDocument { }\r\nnon-sealed class DrivingLicence implements IdentificationDocument { }\r\nclass InternationalDrivingPermit extends DrivingLicence {}\r\n```\r\n\r\n**Usage with pattern matching**\r\n\r\nI find this new feature awesome in conjunction with pattern matching introduced as a preview as of Java 17 ([JEP 406](https://openjdk.org/jeps/406))!\r\n\r\nThe permitted class restriction assures all the subclasses are known in compile time. Using the `switch` expressions ([JEP 361](https://openjdk.org/jeps/361) as of Java 14) the compiler requires either to list **all** the permitted classes or use the `default` keyword for the remaining ones. Consider the following example using the classes above:\r\n\r\n\r\n```\r\nfinal String code = switch(identificationDocument) {\r\n\tcase IdCard idCard -&gt; &quot;I&quot;;\r\n\tcase Passport passport -&gt; &quot;P&quot;;\r\n};\r\n```\r\nThe compiler upon `javac Application.java --enable-preview -source 17` results in an error:\r\n&gt; ```\r\n&gt; Application.java:9: error: the switch expression does not cover all possible input values\r\n&gt;                 final String code = switch(identificationDocument) {\r\n&gt;                                     ^\r\n&gt; Note: Application.java uses preview features of Java SE 17.\r\n&gt; Note: Recompile with -Xlint:preview for details.\r\n&gt; 1 error\r\n&gt; ```\r\n\r\nOnce all permitted classes or the `default` keyword are used, the compilation is successful:\r\n\r\n```\r\nfinal String code = switch(identificationDocument) {\r\n\tcase IdCard idCard -&gt; &quot;I&quot;;\r\n\tcase Passport passport -&gt; &quot;P&quot;;\r\n\tcase DrivingLicence drivingLicence -&gt; &quot;D&quot;;\r\n};\r\n```","title":"What are sealed classes in Java 17?","body":"<p><strong>Sealed classes</strong></p>\n<p>A sealed class is a constraint that permits only given classes to implement it. These permitted classes must explicitly extend the sealed class and also have one of the  <code>sealed</code>, <code>non-sealed</code>, or <code>final</code> modifiers. The feature is delivered as of java 17 (<a href=\"https://openjdk.org/jeps/409\" rel=\"nofollow noreferrer\">JEP 409</a>) and was available as a preview longer before (Java 15).</p>\n<pre><code>sealed interface IdentificationDocument permits IdCard, Passport, DrivingLicence { }\n</code></pre>\n<pre><code>final class IdCard implements IdentificationDocument { }\nfinal class Passport implements IdentificationDocument { }\nnon-sealed class DrivingLicence implements IdentificationDocument { }\nclass InternationalDrivingPermit extends DrivingLicence {}\n</code></pre>\n<p><strong>Usage with pattern matching</strong></p>\n<p>I find this new feature awesome in conjunction with pattern matching introduced as a preview as of Java 17 (<a href=\"https://openjdk.org/jeps/406\" rel=\"nofollow noreferrer\">JEP 406</a>)!</p>\n<p>The permitted class restriction assures all the subclasses are known in compile time. Using the <code>switch</code> expressions (<a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">JEP 361</a> as of Java 14) the compiler requires either to list <strong>all</strong> the permitted classes or use the <code>default</code> keyword for the remaining ones. Consider the following example using the classes above:</p>\n<pre><code>final String code = switch(identificationDocument) {\n    case IdCard idCard -&gt; &quot;I&quot;;\n    case Passport passport -&gt; &quot;P&quot;;\n};\n</code></pre>\n<p>The compiler upon <code>javac Application.java --enable-preview -source 17</code> results in an error:</p>\n<blockquote>\n<pre><code>Application.java:9: error: the switch expression does not cover all possible input values\n                final String code = switch(identificationDocument) {\n                                    ^\nNote: Application.java uses preview features of Java SE 17.\nNote: Recompile with -Xlint:preview for details.\n1 error\n</code></pre>\n</blockquote>\n<p>Once all permitted classes or the <code>default</code> keyword are used, the compilation is successful:</p>\n<pre><code>final String code = switch(identificationDocument) {\n    case IdCard idCard -&gt; &quot;I&quot;;\n    case Passport passport -&gt; &quot;P&quot;;\n    case DrivingLicence drivingLicence -&gt; &quot;D&quot;;\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665138544,"creation_date":1665138544,"answer_id":73985785,"question_id":69218585,"body_markdown":"Sealed classes is an addition to the Java language giving a class author a fine-grained control over which classes can extend it. Before, you could either allow everyone to inherit your class or disallow it completely (using &quot;final&quot;). It also works for interfaces.\r\n\r\nAdditionally, it&#39;s a prerequisite for the pattern matching feature because all descendants are known during compilation.\r\n\r\nAs usual, there is a downside - sealed classes and interfaces can&#39;t be mocked / faked which is a testing impediment.","title":"What are sealed classes in Java 17?","body":"<p>Sealed classes is an addition to the Java language giving a class author a fine-grained control over which classes can extend it. Before, you could either allow everyone to inherit your class or disallow it completely (using &quot;final&quot;). It also works for interfaces.</p>\n<p>Additionally, it's a prerequisite for the pattern matching feature because all descendants are known during compilation.</p>\n<p>As usual, there is a downside - sealed classes and interfaces can't be mocked / faked which is a testing impediment.</p>\n"},{"tags":[],"owner":{"account_id":13365877,"reputation":11,"user_id":9646171,"display_name":"Pritam Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688997909,"creation_date":1688997909,"answer_id":76654554,"question_id":69218585,"body_markdown":"Sealed Classes: Sealed classes are a feature that allows developers to control the extent to which other classes can inherit from them. By declaring a class as sealed, you can specify which other classes are allowed to subclass it. This feature enhances encapsulation and provides more control over class hierarchies and extensions.\r\nhttps://java-speed.blogspot.com/2023/07/what-is-sealed-classes-in-java-17.html","title":"What are sealed classes in Java 17?","body":"<p>Sealed Classes: Sealed classes are a feature that allows developers to control the extent to which other classes can inherit from them. By declaring a class as sealed, you can specify which other classes are allowed to subclass it. This feature enhances encapsulation and provides more control over class hierarchies and extensions.\n<a href=\"https://java-speed.blogspot.com/2023/07/what-is-sealed-classes-in-java-17.html\" rel=\"nofollow noreferrer\">https://java-speed.blogspot.com/2023/07/what-is-sealed-classes-in-java-17.html</a></p>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701066587,"creation_date":1701016070,"answer_id":77552520,"question_id":69218585,"body_markdown":"## What Are Sealed Classes in Java?\r\n\r\nThe `final` modifier can be considered a strong form of sealing, where extension/implementation is prohibited **completely**. \r\n\r\nConceptually: `final` = `sealed` + an empty `permits` clause.\r\n\r\nUnlike `final` which completely prohibits extension/implementation. \r\nA `Sealed` `class`/`interface` restrict which other classes or interfaces may extend or implement them. \r\n\r\n---\r\n\r\n## History \r\n\r\n 1. Sealed Classes were proposed by JEP 360 and delivered in JDK 15 as a\r\n    preview feature.  \r\n 2. They were proposed again, with refinements, by JEP 397 and delivered\r\n    in JDK 16 as a preview feature. \r\n 3. This JEP proposes to finalize Sealed\r\n    Classes in JDK 17, with no changes from JDK 16.\r\n\r\n## Goals\r\n\r\n - Allow the author of a class or interface to control which code is\r\n   responsible for implementing it.\r\n   \r\n   \r\n - Provide a more declarative way than access modifiers to restrict the\r\n   use of a superclass.\r\n\r\n## Description\r\n\r\n 1. A class/interface is sealed by applying the `sealed` modifier to its declaration. \r\n 2. Then, after any extends and implements clauses, the `permits` clause specifies the classes that are permitted to extend the sealed class. \r\n\r\n    #### Example \r\n    For example, the following declaration of `Loan` specifies permitted `UnsecuredLoan`, `SecuredLoan` subclasses:\r\n    \r\n      ```java\r\n      sealed interface Loan permits UnsecuredLoan,SecuredLoan{}\r\n\r\n      final class UnsecuredLoan implements Loan {}\r\n\r\n      record SecuredLoan() implements Loan{}\r\n      ```\r\n    \r\n\r\n### Benefits Of Sealed Class With Pattern Matching\r\n\r\nUsing Pattern Matching, instead of inspecting an instance of a sealed class with *if-else* chains, we can use a `switch` enhanced with type test patterns. \r\n\r\nThis will allow the Java compiler to check all the permitted classes are covered for us.\r\n\r\nFor example, consider this code:\r\n\r\n```java\r\nvoid checkLoanType(Loan loan) {\r\n    if (loan instanceof UnsecuredLoan unsecuredLoan) {\r\n//    something\r\n    } else if (loan instanceof SecuredLoan securedLoan) {\r\n//     something\r\n    }\r\n}\r\n```\r\n\r\n**The Java compiler cannot ensure that the instanceof tests cover all the permitted subclasses of Loan.** Thus, no compile-time error message would be issued if any instanceof Loan was omitted.\r\n\r\nIn contrast, using a pattern matching `switch` expression, the compiler can confirm that every permitted subclass of Loan is covered. **The compiler will, moreover, issue an error message if any of the cases are missing**:\r\n\r\n```java\r\nvoid checkLoanType(Loan loan) {\r\n     switch (loan) { \r\n       case SecuredLoan securedLoan -&gt; {} //generated by compiler.\r\n       case UnsecuredLoan unsecuredLoan -&gt; {} //generated by compiler.\r\n     }\r\n}\r\n```\r\n\r\nReference:\r\n[JEP 360: Sealed Classes][1]\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/360","title":"What are sealed classes in Java 17?","body":"<h2>What Are Sealed Classes in Java?</h2>\n<p>The <code>final</code> modifier can be considered a strong form of sealing, where extension/implementation is prohibited <strong>completely</strong>.</p>\n<p>Conceptually: <code>final</code> = <code>sealed</code> + an empty <code>permits</code> clause.</p>\n<p>Unlike <code>final</code> which completely prohibits extension/implementation.\nA <code>Sealed</code> <code>class</code>/<code>interface</code> restrict which other classes or interfaces may extend or implement them.</p>\n<hr />\n<h2>History</h2>\n<ol>\n<li>Sealed Classes were proposed by JEP 360 and delivered in JDK 15 as a\npreview feature.</li>\n<li>They were proposed again, with refinements, by JEP 397 and delivered\nin JDK 16 as a preview feature.</li>\n<li>This JEP proposes to finalize Sealed\nClasses in JDK 17, with no changes from JDK 16.</li>\n</ol>\n<h2>Goals</h2>\n<ul>\n<li><p>Allow the author of a class or interface to control which code is\nresponsible for implementing it.</p>\n</li>\n<li><p>Provide a more declarative way than access modifiers to restrict the\nuse of a superclass.</p>\n</li>\n</ul>\n<h2>Description</h2>\n<ol>\n<li><p>A class/interface is sealed by applying the <code>sealed</code> modifier to its declaration.</p>\n</li>\n<li><p>Then, after any extends and implements clauses, the <code>permits</code> clause specifies the classes that are permitted to extend the sealed class.</p>\n<h4>Example</h4>\n<p>For example, the following declaration of <code>Loan</code> specifies permitted <code>UnsecuredLoan</code>, <code>SecuredLoan</code> subclasses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sealed interface Loan permits UnsecuredLoan,SecuredLoan{}\n\nfinal class UnsecuredLoan implements Loan {}\n\nrecord SecuredLoan() implements Loan{}\n</code></pre>\n</li>\n</ol>\n<h3>Benefits Of Sealed Class With Pattern Matching</h3>\n<p>Using Pattern Matching, instead of inspecting an instance of a sealed class with <em>if-else</em> chains, we can use a <code>switch</code> enhanced with type test patterns.</p>\n<p>This will allow the Java compiler to check all the permitted classes are covered for us.</p>\n<p>For example, consider this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void checkLoanType(Loan loan) {\n    if (loan instanceof UnsecuredLoan unsecuredLoan) {\n//    something\n    } else if (loan instanceof SecuredLoan securedLoan) {\n//     something\n    }\n}\n</code></pre>\n<p><strong>The Java compiler cannot ensure that the instanceof tests cover all the permitted subclasses of Loan.</strong> Thus, no compile-time error message would be issued if any instanceof Loan was omitted.</p>\n<p>In contrast, using a pattern matching <code>switch</code> expression, the compiler can confirm that every permitted subclass of Loan is covered. <strong>The compiler will, moreover, issue an error message if any of the cases are missing</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void checkLoanType(Loan loan) {\n     switch (loan) { \n       case SecuredLoan securedLoan -&gt; {} //generated by compiler.\n       case UnsecuredLoan unsecuredLoan -&gt; {} //generated by compiler.\n     }\n}\n</code></pre>\n<p>Reference:\n<a href=\"https://openjdk.org/jeps/360\" rel=\"nofollow noreferrer\">JEP 360: Sealed Classes</a></p>\n"}],"owner":{"display_name":"user16411474"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37432,"favorite_count":0,"down_vote_count":7,"up_vote_count":64,"accepted_answer_id":69218715,"answer_count":8,"score":57,"last_activity_date":1701066587,"creation_date":1631859507,"question_id":69218585,"body_markdown":"Today, I updated my Java version from 16 to 17, and I found that `sealed` classes is a new feature in it. I think it can be declared like this:\r\n\r\n    public sealed class Main permits AClass, AnotherClass {\r\n    }\r\n\r\nBut, what is the use of sealed classes in Java? \r\n\r\nI also knew that it was a *preview* feature in [JDK 15][1].\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_15","title":"What are sealed classes in Java 17?","body":"<p>Today, I updated my Java version from 16 to 17, and I found that <code>sealed</code> classes is a new feature in it. I think it can be declared like this:</p>\n<pre><code>public sealed class Main permits AClass, AnotherClass {\n}\n</code></pre>\n<p>But, what is the use of sealed classes in Java?</p>\n<p>I also knew that it was a <em>preview</em> feature in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_15\" rel=\"nofollow noreferrer\">JDK 15</a>.</p>\n"},{"tags":["java","directory","java-io","java-nio"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":178,"is_accepted":true,"score":178,"last_activity_date":1277188331,"creation_date":1277188331,"answer_id":3090789,"question_id":3090761,"body_markdown":"Have you tried this?\r\n\r\n    file.getParentFile().mkdirs();\r\n    file.createNewFile();\r\n\r\nI don&#39;t know of a *single* method call that will do this, but it&#39;s pretty easy as two statements.","title":"How to create a new file together with missing parent directories?","body":"<p>Have you tried this?</p>\n\n<pre><code>file.getParentFile().mkdirs();\nfile.createNewFile();\n</code></pre>\n\n<p>I don't know of a <em>single</em> method call that will do this, but it's pretty easy as two statements.</p>\n"},{"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1416564582,"creation_date":1416563777,"answer_id":27058578,"question_id":3090761,"body_markdown":"Jon&#39;s answer works if you are certain that the path string with which you are creating a file includes parent directories, i.e. if you are certain that the path is of the form `&lt;parent-dir&gt;/&lt;file-name&gt;`.\r\n\r\nIf it does not, i.e. it is a relative path of the form `&lt;file-name&gt;`, then `getParentFile()` will return `null`.\r\n\r\nE.g.\r\n\r\n    File f = new File(&quot;dir/text.txt&quot;);\r\n    f.getParentFile().mkdirs();     // works fine because the path includes a parent directory.\r\n\r\n    File f = new File(&quot;text.txt&quot;);\r\n    f.getParentFile().mkdirs();     // throws NullPointerException because the parent file is unknown, i.e. `null`.\r\n\r\nSo if your file path may or may not include parent directories, you are safer with the following code:\r\n\r\n    File f = new File(filename);\r\n    if (f.getParentFile() != null) {\r\n      f.getParentFile().mkdirs();\r\n    }\r\n    f.createNewFile();","title":"How to create a new file together with missing parent directories?","body":"<p>Jon's answer works if you are certain that the path string with which you are creating a file includes parent directories, i.e. if you are certain that the path is of the form <code>&lt;parent-dir&gt;/&lt;file-name&gt;</code>.</p>\n\n<p>If it does not, i.e. it is a relative path of the form <code>&lt;file-name&gt;</code>, then <code>getParentFile()</code> will return <code>null</code>.</p>\n\n<p>E.g.</p>\n\n<pre><code>File f = new File(\"dir/text.txt\");\nf.getParentFile().mkdirs();     // works fine because the path includes a parent directory.\n\nFile f = new File(\"text.txt\");\nf.getParentFile().mkdirs();     // throws NullPointerException because the parent file is unknown, i.e. `null`.\n</code></pre>\n\n<p>So if your file path may or may not include parent directories, you are safer with the following code:</p>\n\n<pre><code>File f = new File(filename);\nif (f.getParentFile() != null) {\n  f.getParentFile().mkdirs();\n}\nf.createNewFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449182,"reputation":1521,"user_id":843828,"display_name":"Ted"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1554960527,"creation_date":1554960527,"answer_id":55625317,"question_id":3090761,"body_markdown":"As of java7, you can also use NIO2 API:\r\n\r\n    void createFile() throws IOException {\r\n        Path fp = Paths.get(&quot;dir1/dir2/newfile.txt&quot;);\r\n        Files.createDirectories(fp.getParent());\r\n        Files.createFile(fp);\r\n    }\r\n\r\n","title":"How to create a new file together with missing parent directories?","body":"<p>As of java7, you can also use NIO2 API:</p>\n\n<pre><code>void createFile() throws IOException {\n    Path fp = Paths.get(\"dir1/dir2/newfile.txt\");\n    Files.createDirectories(fp.getParent());\n    Files.createFile(fp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701065950,"creation_date":1690551351,"answer_id":76788323,"question_id":3090761,"body_markdown":"Searching for a Kotlin solution this generally-titled question pops up.  \r\nSo, for Kotlin 1.9.0 and newer there is a new [`createParentDirectories()`][1] method on `Path` class:\r\n\r\n```kotlin\r\nPath(&quot;my/path/to/file.txt&quot;).createParentDirectories()\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io.path/java.nio.file.-path/create-parent-directories.html","title":"How to create a new file together with missing parent directories?","body":"<p>Searching for a Kotlin solution this generally-titled question pops up.<br />\nSo, for Kotlin 1.9.0 and newer there is a new <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io.path/java.nio.file.-path/create-parent-directories.html\" rel=\"nofollow noreferrer\"><code>createParentDirectories()</code></a> method on <code>Path</code> class:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Path(&quot;my/path/to/file.txt&quot;).createParentDirectories()\n</code></pre>\n"}],"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56589,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":3090789,"answer_count":4,"score":120,"last_activity_date":1701065950,"creation_date":1277188041,"question_id":3090761,"body_markdown":"When using \r\n\r\n```java\r\nfile.createNewFile();\r\n```\r\n\r\nI get the following exception\r\n\r\n    java.io.IOException: Parent directory of file does not exist: /.../pkg/databases/mydb\r\n\r\nI am wondering is there a createNewFile that creates the missing parent directories?\r\n","title":"How to create a new file together with missing parent directories?","body":"<p>When using</p>\n<pre class=\"lang-java prettyprint-override\"><code>file.createNewFile();\n</code></pre>\n<p>I get the following exception</p>\n<pre><code>java.io.IOException: Parent directory of file does not exist: /.../pkg/databases/mydb\n</code></pre>\n<p>I am wondering is there a createNewFile that creates the missing parent directories?</p>\n"},{"tags":["java","android","encryption","rsa"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701065569,"creation_date":1508358958,"answer_id":46818820,"question_id":46818580,"body_markdown":"What you generate is a key *pair* for Java. The public and private keys of the key pair *always share the same modulus*: the calculations are performed within that domain.\r\n\r\nWhat is kept secure is not the modulus but the private exponent and - generally also available - the parameters required to perform the fast exponentiation using the Chinese Remainder Theorem (CRT). These are basically the parameters such as prime P and Q used to calculate the private key and indeed the modulus.\r\n\r\nActually, you can use the modulus to determine that the key *pair* is unique as each key pair should have a unique modulus. This way you can also check if the public key and private key are part of the same pair - without doing signature generation / verification.\r\n\r\n---\r\n\r\nThe private exponent and the CRT parameters are of course not printed; the modulus is enough to identify the private key and you would not want to destroy the security of the private key by printing them out.\r\n\r\nIf you want to see the private exponent and CRT parameters, then *cast* your private key to [`RSAPrivateCrtKey`](https://docs.oracle.com/javase/7/docs/api/java/security/interfaces/RSAPrivateCrtKey.html) and use the getters of that class. If you just need the private exponent then casting to `RSAPrivateKey` would be less error prone. It would be a good idea to first check the type of the variable before casting unless you are OK with possible `ClassCastException`. In general the software generators will create a `RSAPrivateCrtKey` although the use of CRT parameters doesn&#39;t seem to be explicitly specified.\r\n\r\nNote that only software based keys will probably have the getters return information so be aware that trying to get to the private parameters you may have to deal with runtime exceptions if the keys may be stored in a hardware device such as a smart card or HSM.","title":"Generated RSA Public and Private key modulus are the same in Java/Android","body":"<p>What you generate is a key <em>pair</em> for Java. The public and private keys of the key pair <em>always share the same modulus</em>: the calculations are performed within that domain.</p>\n<p>What is kept secure is not the modulus but the private exponent and - generally also available - the parameters required to perform the fast exponentiation using the Chinese Remainder Theorem (CRT). These are basically the parameters such as prime P and Q used to calculate the private key and indeed the modulus.</p>\n<p>Actually, you can use the modulus to determine that the key <em>pair</em> is unique as each key pair should have a unique modulus. This way you can also check if the public key and private key are part of the same pair - without doing signature generation / verification.</p>\n<hr />\n<p>The private exponent and the CRT parameters are of course not printed; the modulus is enough to identify the private key and you would not want to destroy the security of the private key by printing them out.</p>\n<p>If you want to see the private exponent and CRT parameters, then <em>cast</em> your private key to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/interfaces/RSAPrivateCrtKey.html\" rel=\"nofollow noreferrer\"><code>RSAPrivateCrtKey</code></a> and use the getters of that class. If you just need the private exponent then casting to <code>RSAPrivateKey</code> would be less error prone. It would be a good idea to first check the type of the variable before casting unless you are OK with possible <code>ClassCastException</code>. In general the software generators will create a <code>RSAPrivateCrtKey</code> although the use of CRT parameters doesn't seem to be explicitly specified.</p>\n<p>Note that only software based keys will probably have the getters return information so be aware that trying to get to the private parameters you may have to deal with runtime exceptions if the keys may be stored in a hardware device such as a smart card or HSM.</p>\n"}],"owner":{"account_id":10536984,"reputation":15,"user_id":7764538,"display_name":"Duenytz Sierra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46818820,"answer_count":1,"score":1,"last_activity_date":1701065569,"creation_date":1508357993,"question_id":46818580,"body_markdown":"I&#39;m a newbie in Cryptography, and probably I&#39;m asking a dumb question but I have been unable to find an answer to this. I&#39;m generating the RSA keys in Java in an POC Android project. My purpose is to encrypt the user password with the public key and decrypt it with the private key in the server, also applying this will allow me the keep the password in the device in a more secure way (encrypted) to then use it automatically when fingerprint auth is used. I&#39;m generating the keys with the regular Java method:\r\n\r\n    KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    keyGen.initialize(1024);\r\n    KeyPair key = keyGen.generateKeyPair();\r\n    PublicKey publicKey = key.getPublic();\r\n    PrivateKey privateKey = key.getPrivate();\r\n\r\nThen I just log both keys to the Android Studio Logcat this way:\r\n\r\n    Log.e(TAG, &quot;Public key: &quot; + publicKey);\r\n    Log.e(TAG, &quot;Private key: &quot; + privateKey);\r\n\r\n...and this is what I get logged:\r\n\r\n    10-18 15:27:17.570 22426-22426/cliu.tutorialcrypto E/AsymmetricAlgorithmRSA: Public key: OpenSSLRSAPublicKey{modulus=c1312eb5c24da9577dd40263cec233b8be40ed227b81df3c442363f1dfd5364e9e2ba96d4dd7c1011d2633d6603beb1a483b75b8af8a87b10ebe918729b6afe95893d5c93b3f99727785110f2373d20ced8bfe2421c9c682ee737c60a7c6199be3d2e7e4687d69cedc50965b8cebc4445cdfe7a13a7df5eda6a6d4304d057505,publicExponent=10001}\r\n    10-18 15:27:17.570 22426-22426/cliu.tutorialcrypto E/AsymmetricAlgorithmRSA: Private key: OpenSSLRSAPrivateCrtKey{modulus=c1312eb5c24da9577dd40263cec233b8be40ed227b81df3c442363f1dfd5364e9e2ba96d4dd7c1011d2633d6603beb1a483b75b8af8a87b10ebe918729b6afe95893d5c93b3f99727785110f2373d20ced8bfe2421c9c682ee737c60a7c6199be3d2e7e4687d69cedc50965b8cebc4445cdfe7a13a7df5eda6a6d4304d057505,publicExponent=10001}\r\n\r\n\r\nQuestion: Why both modulus in the generated keys are equal? I assume this is not secure enough since just having the public key modulus someone could easily come up with the private key, right?\r\n","title":"Generated RSA Public and Private key modulus are the same in Java/Android","body":"<p>I'm a newbie in Cryptography, and probably I'm asking a dumb question but I have been unable to find an answer to this. I'm generating the RSA keys in Java in an POC Android project. My purpose is to encrypt the user password with the public key and decrypt it with the private key in the server, also applying this will allow me the keep the password in the device in a more secure way (encrypted) to then use it automatically when fingerprint auth is used. I'm generating the keys with the regular Java method:</p>\n\n<pre><code>KeyPairGenerator keyGen = KeyPairGenerator.getInstance(\"RSA\");\nkeyGen.initialize(1024);\nKeyPair key = keyGen.generateKeyPair();\nPublicKey publicKey = key.getPublic();\nPrivateKey privateKey = key.getPrivate();\n</code></pre>\n\n<p>Then I just log both keys to the Android Studio Logcat this way:</p>\n\n<pre><code>Log.e(TAG, \"Public key: \" + publicKey);\nLog.e(TAG, \"Private key: \" + privateKey);\n</code></pre>\n\n<p>...and this is what I get logged:</p>\n\n<pre><code>10-18 15:27:17.570 22426-22426/cliu.tutorialcrypto E/AsymmetricAlgorithmRSA: Public key: OpenSSLRSAPublicKey{modulus=c1312eb5c24da9577dd40263cec233b8be40ed227b81df3c442363f1dfd5364e9e2ba96d4dd7c1011d2633d6603beb1a483b75b8af8a87b10ebe918729b6afe95893d5c93b3f99727785110f2373d20ced8bfe2421c9c682ee737c60a7c6199be3d2e7e4687d69cedc50965b8cebc4445cdfe7a13a7df5eda6a6d4304d057505,publicExponent=10001}\n10-18 15:27:17.570 22426-22426/cliu.tutorialcrypto E/AsymmetricAlgorithmRSA: Private key: OpenSSLRSAPrivateCrtKey{modulus=c1312eb5c24da9577dd40263cec233b8be40ed227b81df3c442363f1dfd5364e9e2ba96d4dd7c1011d2633d6603beb1a483b75b8af8a87b10ebe918729b6afe95893d5c93b3f99727785110f2373d20ced8bfe2421c9c682ee737c60a7c6199be3d2e7e4687d69cedc50965b8cebc4445cdfe7a13a7df5eda6a6d4304d057505,publicExponent=10001}\n</code></pre>\n\n<p>Question: Why both modulus in the generated keys are equal? I assume this is not secure enough since just having the public key modulus someone could easily come up with the private key, right?</p>\n"},{"tags":["java","apache-spark","bigdata"],"comments":[{"owner":{"account_id":7520274,"reputation":1589,"user_id":5712410,"accept_rate":55,"display_name":"Marko Avlijaš"},"score":0,"creation_date":1493708827,"post_id":43731967,"comment_id":74507067,"body_markdown":"Welcome to StackOverflow. Please see here [how to format code](https://stackoverflow.com/editing-help)","body":"Welcome to StackOverflow. Please see here <a href=\"https://stackoverflow.com/editing-help\">how to format code</a>"},{"owner":{"account_id":2638897,"reputation":7820,"user_id":2282988,"accept_rate":50,"display_name":"Sandeep Singh"},"score":0,"creation_date":1493714753,"post_id":43731967,"comment_id":74510246,"body_markdown":"Can you provide your code ?","body":"Can you provide your code ?"},{"owner":{"account_id":10809526,"reputation":61,"user_id":7950527,"display_name":"arpit bhatnagar"},"score":0,"creation_date":1493876426,"post_id":43731967,"comment_id":74590174,"body_markdown":"i have updated my code in correct format. Please check","body":"i have updated my code in correct format. Please check"},{"owner":{"account_id":10320319,"reputation":126,"user_id":7613426,"display_name":"Germ&#225;n Aquino"},"score":0,"creation_date":1495890408,"post_id":43731967,"comment_id":75445133,"body_markdown":"I run into the same issue just by exiting spark-shell, or by running any of the examples. It is not a permission issue because I also tried specifying a different working dir with --conf spark.local.dir. If anyone has a solution, please share.","body":"I run into the same issue just by exiting spark-shell, or by running any of the examples. It is not a permission issue because I also tried specifying a different working dir with --conf spark.local.dir. If anyone has a solution, please share."}],"answers":[{"tags":[],"owner":{"account_id":12642748,"reputation":1,"user_id":9189618,"display_name":"user9189618"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515441364,"creation_date":1515440191,"answer_id":48156996,"question_id":43731967,"body_markdown":"this is probably because you are instantiating the SparkContext without a SPARK_HOME or HUPA_HOME that allows the program to find winutils.exe in the bin directory. I found that when I went from \r\n\r\n    SparkConf conf = new SparkConf();\r\n    JavaSparkContext sc = new JavaSparkContext(conf);\r\n\r\nto\r\n\r\n    JavaSparkContext sc = new JavaSparkContext(&quot;local[*], &quot;programname&quot;, \r\n    System.getenv(&quot;SPARK_HOME&quot;), System.getenv(&quot;JARS&quot;));\r\n\r\nthe error went away. ","title":"Spark failed to delete temp directory","body":"<p>this is probably because you are instantiating the SparkContext without a SPARK_HOME or HUPA_HOME that allows the program to find winutils.exe in the bin directory. I found that when I went from </p>\n\n<pre><code>SparkConf conf = new SparkConf();\nJavaSparkContext sc = new JavaSparkContext(conf);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>JavaSparkContext sc = new JavaSparkContext(\"local[*], \"programname\", \nSystem.getenv(\"SPARK_HOME\"), System.getenv(\"JARS\"));\n</code></pre>\n\n<p>the error went away. </p>\n"},{"tags":[],"owner":{"account_id":3165718,"reputation":109,"user_id":2675788,"display_name":"Shambhu Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544695251,"creation_date":1544695251,"answer_id":53759242,"question_id":43731967,"body_markdown":"I believed, you are trying to execute program without setting up user variables HADOOP_HOME or SPARK_LOCAL_DIRS.\r\nI had same issued, resolved it by creating variables e.g HADOOP_HOME-&gt; C:\\Hadoop, SPARK_LOCAL_DIRS-&gt;C:\\tmp\\spark  ","title":"Spark failed to delete temp directory","body":"<p>I believed, you are trying to execute program without setting up user variables HADOOP_HOME or SPARK_LOCAL_DIRS.\nI had same issued, resolved it by creating variables e.g HADOOP_HOME-> C:\\Hadoop, SPARK_LOCAL_DIRS->C:\\tmp\\spark  </p>\n"}],"owner":{"account_id":10809526,"reputation":61,"user_id":7950527,"display_name":"arpit bhatnagar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8417,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1701065246,"creation_date":1493708506,"question_id":43731967,"body_markdown":"I am trying to submit spark program from cmd in windows 10 with below mentioned command:\r\n\r\n    spark-submit --class abc.Main --master local[2] C:\\Users\\arpitbh\\Desktop\\AmdocsIDE\\workspace\\Line_Count_Spark\\target\\Line_Count_Spark-0.0.1-SNAPSHOT.jar\r\n\r\nbut after running this i am getting error:\r\n\r\n    17/05/02 11:56:57 INFO ShutdownHookManager: Deleting directory C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\r\n    17/05/02 11:56:57 ERROR ShutdownHookManager: Exception while deleting Spark temp dir: C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\r\n    java.io.IOException: Failed to delete: C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\r\n            at org.apache.spark.util.Utils$.deleteRecursively(Utils.scala:1010)\r\n            at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:65)\r\n            at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:62)\r\n            at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\r\n            at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)\r\n            at org.apache.spark.util.ShutdownHookManager$$anonfun$1.apply$mcV$sp(ShutdownHookManager.scala:62)\r\n            at org.apache.spark.util.SparkShutdownHook.run(ShutdownHookManager.scala:216)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:1951)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply$mcV$sp(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:188)\r\n            at scala.util.Try$.apply(Try.scala:192)\r\n            at org.apache.spark.util.SparkShutdownHookManager.runAll(ShutdownHookManager.scala:188)\r\n            at org.apache.spark.util.SparkShutdownHookManager$$anon$2.run(ShutdownHookManager.scala:178)\r\n            at org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\r\n\r\n\r\nI have also checked JIRA of apache spark, This defect has been marked solved but no solution is mentioned. Please help.\r\n\r\n\r\n    package abc;\r\n    \r\n    import org.apache.spark.SparkConf;\r\n    import org.apache.spark.api.java.JavaRDD;\r\n    import org.apache.spark.api.java.JavaSparkContext;\r\n    \r\n    \r\n    public class Main {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tSparkConf conf =new SparkConf().setAppName(&quot;Line_Count&quot;).setMaster(&quot;local[2]&quot;);\r\n    \t\tJavaSparkContext ctx= new JavaSparkContext(conf);\r\n    \t\t\r\n    \t\tJavaRDD&lt;String&gt; textLoadRDD = ctx.textFile(&quot;C:/spark/README.md&quot;);\r\n    \t\tSystem.out.println(textLoadRDD.count());\r\n    \t\tSystem.getProperty(&quot;java.io.tmpdir&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Spark failed to delete temp directory","body":"<p>I am trying to submit spark program from cmd in windows 10 with below mentioned command:</p>\n\n<pre><code>spark-submit --class abc.Main --master local[2] C:\\Users\\arpitbh\\Desktop\\AmdocsIDE\\workspace\\Line_Count_Spark\\target\\Line_Count_Spark-0.0.1-SNAPSHOT.jar\n</code></pre>\n\n<p>but after running this i am getting error:</p>\n\n<pre><code>17/05/02 11:56:57 INFO ShutdownHookManager: Deleting directory C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\n17/05/02 11:56:57 ERROR ShutdownHookManager: Exception while deleting Spark temp dir: C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\njava.io.IOException: Failed to delete: C:\\Users\\arpitbh\\AppData\\Local\\Temp\\spark-03f14dbe-1802-40ca-906c-af8de0f462f9\n        at org.apache.spark.util.Utils$.deleteRecursively(Utils.scala:1010)\n        at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:65)\n        at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:62)\n        at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\n        at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)\n        at org.apache.spark.util.ShutdownHookManager$$anonfun$1.apply$mcV$sp(ShutdownHookManager.scala:62)\n        at org.apache.spark.util.SparkShutdownHook.run(ShutdownHookManager.scala:216)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:1951)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply$mcV$sp(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:188)\n        at scala.util.Try$.apply(Try.scala:192)\n        at org.apache.spark.util.SparkShutdownHookManager.runAll(ShutdownHookManager.scala:188)\n        at org.apache.spark.util.SparkShutdownHookManager$$anon$2.run(ShutdownHookManager.scala:178)\n        at org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\n</code></pre>\n\n<p>I have also checked JIRA of apache spark, This defect has been marked solved but no solution is mentioned. Please help.</p>\n\n<pre><code>package abc;\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaRDD;\nimport org.apache.spark.api.java.JavaSparkContext;\n\n\npublic class Main {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        SparkConf conf =new SparkConf().setAppName(\"Line_Count\").setMaster(\"local[2]\");\n        JavaSparkContext ctx= new JavaSparkContext(conf);\n\n        JavaRDD&lt;String&gt; textLoadRDD = ctx.textFile(\"C:/spark/README.md\");\n        System.out.println(textLoadRDD.count());\n        System.getProperty(\"java.io.tmpdir\");\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":9141547,"reputation":573,"user_id":6799230,"display_name":"Pierre Janineh"},"score":0,"creation_date":1701094536,"post_id":77554769,"comment_id":136728760,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking. &quot;Code is not getting called&quot; is too broad. be specific, please.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking. &quot;Code is not getting called&quot; is too broad. be specific, please."}],"owner":{"account_id":30001065,"reputation":1,"user_id":22991046,"display_name":"Gaurav Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701064628,"creation_date":1701064628,"question_id":77554769,"body_markdown":"I am having following code, which is not being called, I tried it debugging it, but the code is not getting called in any way.\r\n\r\n    private Mono&lt;ServerResponse&gt; validateRequestData(ServerRequest serverRequest)\r\n    {\r\n     return serverRequest.bodyToMono(this.validationClass)\r\n      .flatMap(body -&gt; {\r\n       Errors errors = new BeanPropertyBindingResult(body,this.validationClass.getName());\r\n       this.validator.validate(body, errors);\r\n       if (!errors.getAllErrors().isEmpty()) {\r\n       return onValidationErrors(errors, body, serverRequest);\r\n    }\r\n      return Mono.empty();\r\n     });\r\n   }\r\n\r\n\r\n\r\nAnything I am missing in this? \r\n\r\nPlease guide,\r\nRegards,\r\nGaurav\r\n\r\nI tried debugging it, this code is actually meant for validating the Server Request from the POST call from postman.","title":"webflux bodyToMono code block not getting called","body":"<p>I am having following code, which is not being called, I tried it debugging it, but the code is not getting called in any way.</p>\n<pre><code>private Mono&lt;ServerResponse&gt; validateRequestData(ServerRequest serverRequest)\n{\n return serverRequest.bodyToMono(this.validationClass)\n  .flatMap(body -&gt; {\n   Errors errors = new BeanPropertyBindingResult(body,this.validationClass.getName());\n   this.validator.validate(body, errors);\n   if (!errors.getAllErrors().isEmpty()) {\n   return onValidationErrors(errors, body, serverRequest);\n}\n  return Mono.empty();\n });\n</code></pre>\n<p>}</p>\n<p>Anything I am missing in this?</p>\n<p>Please guide,\nRegards,\nGaurav</p>\n<p>I tried debugging it, this code is actually meant for validating the Server Request from the POST call from postman.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":19696870,"reputation":1,"user_id":14420602,"display_name":"Somanath Goudar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701063132,"creation_date":1701063132,"answer_id":77554697,"question_id":76658826,"body_markdown":"I was facing the same issue.\r\n\r\n**I fixed this by doing the following**\r\n\r\n 1. Reduced my java SDK version to 1.8 (File -&gt; Project Structure)\r\n 2. Edited source, target properties to 1.8","title":"BeanDefinitionStoreException: Failed to read candidate component class : Unsupported class file major version 64","body":"<p>I was facing the same issue.</p>\n<p><strong>I fixed this by doing the following</strong></p>\n<ol>\n<li>Reduced my java SDK version to 1.8 (File -&gt; Project Structure)</li>\n<li>Edited source, target properties to 1.8</li>\n</ol>\n"}],"owner":{"account_id":25455169,"reputation":173,"user_id":19255938,"display_name":"Shashank Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701063132,"creation_date":1689051579,"question_id":76658826,"body_markdown":"When I was creating a component and scanning it in XML, the following error was thrown\r\n```\r\nBeanDefinitionStoreException: Failed to read candidate component class : nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n```\r\nI am currently using Java 20 with the spring-context version of 5.3.14 and IntelliJ IDE. The error keeps happening even if I upgrade or downgrade the spring-context version.\r\n\r\nEverything is properly working when I am defining a bean and its property in XML, the error occurs when using the @Component.\r\n\r\nThis is the class where I am creating the component.\r\n\r\n```\r\npackage com.javaLearn;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Doctor  implements Staff{\r\n    public void assist() {\r\n        System.out.println(&quot;Doctor is assisting&quot;);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my XML file.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n\r\n    &lt;!--    Search for all the components in this package   --&gt;\r\n    &lt;context:component-scan base-package=&quot;com.javaLearn&quot;&gt; &lt;/context:component-scan&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nThe entire error description\r\n```\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n\tat org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\r\n\tat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\r\n\tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\r\n\tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:514)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:394)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:337)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:305)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:133)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:637)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:522)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n\tat com.javaLearn.Main.main(Main.java:15)\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:61)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:50)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\r\n\t... 25 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:195)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:176)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:162)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:283)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:58)\r\n\t... 29 more\r\n```\r\n\r\n","title":"BeanDefinitionStoreException: Failed to read candidate component class : Unsupported class file major version 64","body":"<p>When I was creating a component and scanning it in XML, the following error was thrown</p>\n<pre><code>BeanDefinitionStoreException: Failed to read candidate component class : nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n</code></pre>\n<p>I am currently using Java 20 with the spring-context version of 5.3.14 and IntelliJ IDE. The error keeps happening even if I upgrade or downgrade the spring-context version.</p>\n<p>Everything is properly working when I am defining a bean and its property in XML, the error occurs when using the @Component.</p>\n<p>This is the class where I am creating the component.</p>\n<pre><code>package com.javaLearn;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Doctor  implements Staff{\n    public void assist() {\n        System.out.println(&quot;Doctor is assisting&quot;);\n    }\n\n}\n\n</code></pre>\n<p>This is my XML file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;!--    Search for all the components in this package   --&gt;\n    &lt;context:component-scan base-package=&quot;com.javaLearn&quot;&gt; &lt;/context:component-scan&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>The entire error description</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:514)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:394)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:337)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:305)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:133)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:637)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:522)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\n    at com.javaLearn.Main.main(Main.java:15)\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [E:\\JavaLearn\\SpringFrameworkDemo\\target\\classes\\com\\javaLearn\\Doctor.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:61)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:50)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\n    ... 25 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:195)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:176)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:162)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:283)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:58)\n    ... 29 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-test"],"answers":[{"tags":[],"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701062610,"creation_date":1701062610,"answer_id":77554667,"question_id":77554605,"body_markdown":"If those factories are a compile-time dependency for `A` then it won&#39;t be possible to exclude them only at test time for `B`.  However, if they are not needed at compile time, but only at runtime, then you may be able to use the `runtime` scope for those dependencies to solve the problem.\r\n\r\nWith that said, I personally avoid this type of grey-box testing.  Here&#39;s a link to a blog that may help: https://github.com/savoirtech/black-box-system-test.\r\n","title":"Exclude spring.factories dependencies for Spring Boot test","body":"<p>If those factories are a compile-time dependency for <code>A</code> then it won't be possible to exclude them only at test time for <code>B</code>.  However, if they are not needed at compile time, but only at runtime, then you may be able to use the <code>runtime</code> scope for those dependencies to solve the problem.</p>\n<p>With that said, I personally avoid this type of grey-box testing.  Here's a link to a blog that may help: <a href=\"https://github.com/savoirtech/black-box-system-test\" rel=\"nofollow noreferrer\">https://github.com/savoirtech/black-box-system-test</a>.</p>\n"}],"owner":{"account_id":24235896,"reputation":9,"user_id":18189028,"display_name":"Sakshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701062610,"creation_date":1701061342,"question_id":77554605,"body_markdown":"There is one parent project A and the project which is using A&#39;s dependencies let&#39;s called it as B.\r\nEverything is working fine except testcases. I am using SpringBootTest which is fetching all the dependencies from spring.factories of project A. I want to disable these dependencies for project B for testcases but need it to run project B.\r\nThe spring.factories file present in META-INF of project A contains - \r\n\r\n    1. org.springframework.cloud.bootstrap.BootstrapConfiguration\r\n    2. org.springframework.boot.autoconfigure.EnableAutoConfiguration\r\n    3. org.springframework.boot.env.EnvironmentPostProcessor.\r\n\r\nEach with packages of project A.\r\n\r\n\r\nI tried using Import annotation and passed my own configuration. ConponentScan annotation with project B base package. But nothing really helped. ","title":"Exclude spring.factories dependencies for Spring Boot test","body":"<p>There is one parent project A and the project which is using A's dependencies let's called it as B.\nEverything is working fine except testcases. I am using SpringBootTest which is fetching all the dependencies from spring.factories of project A. I want to disable these dependencies for project B for testcases but need it to run project B.\nThe spring.factories file present in META-INF of project A contains -</p>\n<pre><code>1. org.springframework.cloud.bootstrap.BootstrapConfiguration\n2. org.springframework.boot.autoconfigure.EnableAutoConfiguration\n3. org.springframework.boot.env.EnvironmentPostProcessor.\n</code></pre>\n<p>Each with packages of project A.</p>\n<p>I tried using Import annotation and passed my own configuration. ConponentScan annotation with project B base package. But nothing really helped.</p>\n"},{"tags":["java","spring-boot","gradle","lombok","querydsl"],"owner":{"account_id":26249263,"reputation":21,"user_id":20039263,"display_name":"Vandit Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701061728,"creation_date":1701061728,"question_id":77554623,"body_markdown":"This question has been shown up on stackoverflow for multiple times, but it doesn&#39;t solve my issue, I am using Java 17 with queryDSL 5.0 and Spring boot 3.2.0 with lombok 1.18.30 and gradle 7.4.1 distribution.\r\n\r\nThe annotation processing is such that it generates the QClasses for the Java POJOs, but the gradle build causes the issue stating that\r\n`Attempt to recreate a file for type com.example.project.domain.QXXXXX`\r\n\r\nThe entire stack trace via build --debug appears to be a such \r\n\r\n```\r\nException is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:compileJava&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:56)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\r\n\tat org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:232)\r\n\tat org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:52)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:67)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:41)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:66)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:52)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:279)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:165)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:146)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor499.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:204)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:83)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n```\r\n\r\n\r\nI understand the due files are getting created multiple times, but I am not sure which task is causes the duplicate creation of the same QClasses.\r\n\r\n\r\nHereby I am attaching the build.gradle for your reference\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.2.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;com.ewerk.gradle.plugins.querydsl&#39; version &#39;1.0.10&#39;\r\n    id &quot;io.freefair.lombok&quot; version &quot;8.4&quot;\r\n}\r\n\r\ngroup = &#39;com.speed&#39;\r\nversion = &#39;0.0.1&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\n\r\nrepositories {\r\n    maven {\r\n        url &quot;https://plugins.gradle.org/m2/&quot;\r\n    }\r\n    mavenCentral()\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\nconfigurations {\r\n    querydsl.extendsFrom implementation, compileClasspath\r\n}\r\n\r\ncompileQuerydsl {\r\n    options.annotationProcessorPath = configurations.querydsl\r\n}\r\n\r\nquerydsl {\r\n    library = &#39;com.querydsl:querydsl-apt:5.0.0&#39;\r\n    jpa = true\r\n}\r\n\r\nafterEvaluate {\r\n    project.tasks.compileQuerydsl.options.compilerArgs = [\r\n            &quot;-proc:only&quot;,\r\n            &quot;-processor&quot;, project.querydsl.processors() +\r\n                    &#39;,lombok.launch.AnnotationProcessorHider$AnnotationProcessor&#39;\r\n    ]\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.hibernate:hibernate-core:6.2.13.Final&#39;\r\n    implementation &#39;com.mysql:mysql-connector-j:8.2.0&#39;\r\n    implementation &#39;org.json:json:20231013&#39;\r\n    implementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n    annotationProcessor &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n    annotationProcessor &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\njar {\r\n    enabled = false\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src/main/java&#39;, &#39;src/querydsl/java&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n","title":"QClasses not generated for Entities with Java 17","body":"<p>This question has been shown up on stackoverflow for multiple times, but it doesn't solve my issue, I am using Java 17 with queryDSL 5.0 and Spring boot 3.2.0 with lombok 1.18.30 and gradle 7.4.1 distribution.</p>\n<p>The annotation processing is such that it generates the QClasses for the Java POJOs, but the gradle build causes the issue stating that\n<code>Attempt to recreate a file for type com.example.project.domain.QXXXXX</code></p>\n<p>The entire stack trace via build --debug appears to be a such</p>\n<pre><code>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileJava'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:56)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\n    at org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\n    at org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:232)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:52)\n    at org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:67)\n    at org.gradle.api.internal.tasks.compile.incremental.SelectiveCompiler.execute(SelectiveCompiler.java:41)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:66)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:52)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:279)\n    at org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:165)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:146)\n    at jdk.internal.reflect.GeneratedMethodAccessor499.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:204)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:83)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n</code></pre>\n<p>I understand the due files are getting created multiple times, but I am not sure which task is causes the duplicate creation of the same QClasses.</p>\n<p>Hereby I am attaching the build.gradle for your reference</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.2.0'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'com.ewerk.gradle.plugins.querydsl' version '1.0.10'\n    id &quot;io.freefair.lombok&quot; version &quot;8.4&quot;\n}\n\ngroup = 'com.speed'\nversion = '0.0.1'\nsourceCompatibility = '17'\n\n\nrepositories {\n    maven {\n        url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n    mavenCentral()\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\nconfigurations {\n    querydsl.extendsFrom implementation, compileClasspath\n}\n\ncompileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n}\n\nquerydsl {\n    library = 'com.querydsl:querydsl-apt:5.0.0'\n    jpa = true\n}\n\nafterEvaluate {\n    project.tasks.compileQuerydsl.options.compilerArgs = [\n            &quot;-proc:only&quot;,\n            &quot;-processor&quot;, project.querydsl.processors() +\n                    ',lombok.launch.AnnotationProcessorHider$AnnotationProcessor'\n    ]\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.hibernate:hibernate-core:6.2.13.Final'\n    implementation 'com.mysql:mysql-connector-j:8.2.0'\n    implementation 'org.json:json:20231013'\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n    annotationProcessor 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n    annotationProcessor 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\njar {\n    enabled = false\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java', 'src/querydsl/java']\n        }\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701079130,"post_id":77554568,"comment_id":136726083,"body_markdown":"Can you please reduce that to a [mcve]?","body":"Can you please reduce that to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701060395,"creation_date":1701060395,"question_id":77554568,"body_markdown":"My project is currently working properly in spring-boot version 3.0.6 with Hibernate 6.1.7.\r\n\r\nSince the release of spring-boot 3.1, which upgrade Hibernate to 6.2.2 (issue still present with spring-boot 3.2 and hibernate 6.3.1), the application is failing at start up because hibernate don&#39;t generate some COUNT request correctly from the JPQL.\r\n\r\nWe use postgresQL 15\r\n\r\nI get the following error :\r\n\r\n    org.hibernate.query.SyntaxException: At 1:28 and token &#39;as&#39;, no viable alternative at input &#39;SELECT count(DISTINCT f.id *as fooId, .....]\r\n\tat org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:108) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]\r\n\r\nThe COUNT query is not specified and is automatically generated by hibernate for the following method :\r\n\r\n    @Query(&quot;&quot;&quot;\r\n    SELECT DISTINCT\r\n        qr.id as fooId,\r\n        MAX(c.name) as fooGroupName,\r\n        MAX(d.lastUpdatedDate) as fooDate,\r\n        MAX(l.startDepartureDate) as fooSecondDate,\r\n        MAX(d.destination.code) as destination,\r\n        MAX(d.origin.code) as origin,\r\n        f.type as fooType,\r\n        f.status as fooStatus\r\n    FROM FooEntity f\r\n        JOIN f.fooUser u\r\n        JOIN f.fooDetails d\r\n        JOIN f.fooCategory c\r\n        JOIN d.fooLines l\r\n        JOIN f.userCompany uc\r\n    WHERE\r\n        d.status IN (:fooDetailStatuses)\r\n        AND f.status IN (:fooStatuses)\r\n        AND (:source = &#39;ALL&#39; OR f.source = :source)\r\n        AND (:fromDate IS NULL OR cast(l.fromDate as String) &gt;= :fromDate)\r\n        AND (:toDate IS NULL OR cast(l.toDate as String) &lt;= :toDate)\r\n        AND (:#{#origins.size} = 0 OR d.origin.code IN :origins)\r\n        AND (:#{#destinations.size} = 0 OR d.destination.code IN :destinations)\r\n        AND (:#{#brands.size} = 0 OR d.brands.code IN :brands)\r\n        AND c.level = 1\r\n        AND (:#{#categories.size} = 0 OR c.id IN :categories)\r\n    GROUP BY f.id, f.type, f.status\r\n    &quot;&quot;&quot;)\r\n        Page&lt;Map&lt;String, Object&gt;&gt; findPaginatedId(Pageable pageable, String source, \r\n                                              @Param(&quot;fooDetailStatuses&quot;) List&lt;FooDetailStatus&gt; fooDetailStatuses,\r\n                                              @Param(&quot;fooStatuses&quot;) List&lt;FooStatus&gt; fooStatuses,\r\n                                              String fromDate, String toDate, List&lt;String&gt; origins, List&lt;String&gt; destinations, List&lt;String&gt; brands, List&lt;Integer&gt; categories);\r\n\r\nI didn&#39;t find anything on the hibernate documentation that would indicate that my request is not valid.\r\n\r\n\r\n","title":"Spring-boot 3.1.0+ / Hibernate 6.2+ - Unable to generate the COUNT query from JPQL","body":"<p>My project is currently working properly in spring-boot version 3.0.6 with Hibernate 6.1.7.</p>\n<p>Since the release of spring-boot 3.1, which upgrade Hibernate to 6.2.2 (issue still present with spring-boot 3.2 and hibernate 6.3.1), the application is failing at start up because hibernate don't generate some COUNT request correctly from the JPQL.</p>\n<p>We use postgresQL 15</p>\n<p>I get the following error :</p>\n<pre><code>org.hibernate.query.SyntaxException: At 1:28 and token 'as', no viable alternative at input 'SELECT count(DISTINCT f.id *as fooId, .....]\nat org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:108) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]\n</code></pre>\n<p>The COUNT query is not specified and is automatically generated by hibernate for the following method :</p>\n<pre><code>@Query(&quot;&quot;&quot;\nSELECT DISTINCT\n    qr.id as fooId,\n    MAX(c.name) as fooGroupName,\n    MAX(d.lastUpdatedDate) as fooDate,\n    MAX(l.startDepartureDate) as fooSecondDate,\n    MAX(d.destination.code) as destination,\n    MAX(d.origin.code) as origin,\n    f.type as fooType,\n    f.status as fooStatus\nFROM FooEntity f\n    JOIN f.fooUser u\n    JOIN f.fooDetails d\n    JOIN f.fooCategory c\n    JOIN d.fooLines l\n    JOIN f.userCompany uc\nWHERE\n    d.status IN (:fooDetailStatuses)\n    AND f.status IN (:fooStatuses)\n    AND (:source = 'ALL' OR f.source = :source)\n    AND (:fromDate IS NULL OR cast(l.fromDate as String) &gt;= :fromDate)\n    AND (:toDate IS NULL OR cast(l.toDate as String) &lt;= :toDate)\n    AND (:#{#origins.size} = 0 OR d.origin.code IN :origins)\n    AND (:#{#destinations.size} = 0 OR d.destination.code IN :destinations)\n    AND (:#{#brands.size} = 0 OR d.brands.code IN :brands)\n    AND c.level = 1\n    AND (:#{#categories.size} = 0 OR c.id IN :categories)\nGROUP BY f.id, f.type, f.status\n&quot;&quot;&quot;)\n    Page&lt;Map&lt;String, Object&gt;&gt; findPaginatedId(Pageable pageable, String source, \n                                          @Param(&quot;fooDetailStatuses&quot;) List&lt;FooDetailStatus&gt; fooDetailStatuses,\n                                          @Param(&quot;fooStatuses&quot;) List&lt;FooStatus&gt; fooStatuses,\n                                          String fromDate, String toDate, List&lt;String&gt; origins, List&lt;String&gt; destinations, List&lt;String&gt; brands, List&lt;Integer&gt; categories);\n</code></pre>\n<p>I didn't find anything on the hibernate documentation that would indicate that my request is not valid.</p>\n"},{"tags":["javascript","java","ajax","spring-boot"],"comments":[{"owner":{"account_id":8180710,"reputation":578,"user_id":6158032,"display_name":"Joel Garcia Nu&#241;o"},"score":0,"creation_date":1701063731,"post_id":77554426,"comment_id":136723989,"body_markdown":"Did you try to return instance new ResponseEntity&lt;&gt;(&quot;Custom message&quot;, HttpStatus.BAD_REQUEST) ? Modifying the header http status &gt; 400","body":"Did you try to return instance new ResponseEntity&lt;&gt;(&quot;Custom message&quot;, HttpStatus.BAD_REQUEST) ? Modifying the header http status &gt; 400"}],"owner":{"account_id":15726555,"reputation":527,"user_id":11348034,"display_name":"Meera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701057305,"creation_date":1701056766,"question_id":77554426,"body_markdown":"jsp \r\n```lang-html\r\n&lt;button\r\n  type=&quot;submit&quot;\r\n  id=&quot;btn_load&quot;\r\n  value=&quot;Search&quot;\r\n  class=&quot;btn btn-primary&quot;\r\n&gt;Generate I-618&lt;/button&gt;\r\n```\r\njs\r\n```lang-js\r\n$(&quot;#btn_load&quot;).click(function (e) {\r\n  event.preventDefault();\r\n  form = $(&quot;#bookList&quot;);\r\n  var post_url = form.attr(&quot;action&quot;);\r\n  let form_data = form.serialize();\r\n\r\n  $.ajax({\r\n    url: post_url,\r\n    type: &quot;POST&quot;,\r\n    data: form_data,\r\n    success: function (data, textStatus, jqX) {\r\n      // Create a Blob from the data\r\n      var blob = new Blob([data], { type: &quot;text/plain&quot; });\r\n\r\n      // Create a link element\r\n      var link = document.createElement(&quot;a&quot;);\r\n\r\n      // Set the download attribute and create a URL for the file\r\n      link.download = &quot;your_filename.txt&quot;;\r\n      link.href = window.URL.createObjectURL(blob);\r\n\r\n      // Append the link to the document\r\n      document.body.appendChild(link);\r\n\r\n      // Trigger a click on the link to initiate the download\r\n      link.click();\r\n\r\n      // Remove the link from the document\r\n      document.body.removeChild(link);\r\n      $(&quot;.alert.alert-danger&quot;).text(&quot;Alert:success&quot;);\r\n    },\r\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\r\n      // Handle errors by Displaying a message to user????\r\n      $(&quot;.alert.alert-danger&quot;).text(&quot;Alert: Failure&quot;);\r\n    },\r\n  });\r\n});\r\n```\r\n\r\njava\r\n```lang-java\r\n@RequestMapping(value = &quot;/book.htm&quot;)\r\npublic ResponseEntity&lt;InputStreamResource&gt; bookselection(\r\n        @ModelAttribute(&quot;books&quot;) Books book, Model model,\r\n        HttpServletRequest request, BindingResult result) {\r\n    List&lt;InputStreamResource&gt; listStream = new ArrayList&lt;InputStreamResource&gt;();\r\n    String fileName = &quot;book.txt&quot;\r\n    if (CollectionUtils.isNotEmpty(bookList)) {\r\n        File file = File.createTempFile(fileName, &quot;.txt&quot;);\r\n        FileWriter interfaceFileWriter = new FileWriter(file);\r\n        BufferedWriter interfaceBufferedWriter = new BufferedWriter(interfaceFileWriter);\r\n        //write to file\r\n        for (Book list : bookList) {\r\n        interfaceBufferedWriter.write(list.getDelimitedRecord(delimiter, nullValue));\r\n        }\r\n        interfaceBufferedWriter.close();\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n        headers.setContentDispositionFormData(fileName + &quot;.txt&quot;, fileName + &quot;.txt&quot;);\r\n\r\n        InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\r\n        if (file != null &amp;&amp; file.exists()) {\r\n            listStream.add(resource);\r\n            return ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN).headers(headers).body(resource);\r\n        }\r\n    }\r\n    return null; //HOW TO RETURN ERROR STRING OR OBJECT??\r\n}\r\n```\r\nif there is an error in Java code while writing to file, I would like return error string. Since the method returns `ResponseEntity&lt;InputStreamResource&gt;`, how do I handle sending error message from java to ajax. \r\n\r\n- How to return error message/error object from java ??\r\n- How to read error Ajax &quot;error:&quot; that was returned by server??\r\n\r\n\r\n\r\n","title":"AJAX callback for file download including error handling","body":"<p>jsp</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button\n  type=&quot;submit&quot;\n  id=&quot;btn_load&quot;\n  value=&quot;Search&quot;\n  class=&quot;btn btn-primary&quot;\n&gt;Generate I-618&lt;/button&gt;\n</code></pre>\n<p>js</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(&quot;#btn_load&quot;).click(function (e) {\n  event.preventDefault();\n  form = $(&quot;#bookList&quot;);\n  var post_url = form.attr(&quot;action&quot;);\n  let form_data = form.serialize();\n\n  $.ajax({\n    url: post_url,\n    type: &quot;POST&quot;,\n    data: form_data,\n    success: function (data, textStatus, jqX) {\n      // Create a Blob from the data\n      var blob = new Blob([data], { type: &quot;text/plain&quot; });\n\n      // Create a link element\n      var link = document.createElement(&quot;a&quot;);\n\n      // Set the download attribute and create a URL for the file\n      link.download = &quot;your_filename.txt&quot;;\n      link.href = window.URL.createObjectURL(blob);\n\n      // Append the link to the document\n      document.body.appendChild(link);\n\n      // Trigger a click on the link to initiate the download\n      link.click();\n\n      // Remove the link from the document\n      document.body.removeChild(link);\n      $(&quot;.alert.alert-danger&quot;).text(&quot;Alert:success&quot;);\n    },\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\n      // Handle errors by Displaying a message to user????\n      $(&quot;.alert.alert-danger&quot;).text(&quot;Alert: Failure&quot;);\n    },\n  });\n});\n</code></pre>\n<p>java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/book.htm&quot;)\npublic ResponseEntity&lt;InputStreamResource&gt; bookselection(\n        @ModelAttribute(&quot;books&quot;) Books book, Model model,\n        HttpServletRequest request, BindingResult result) {\n    List&lt;InputStreamResource&gt; listStream = new ArrayList&lt;InputStreamResource&gt;();\n    String fileName = &quot;book.txt&quot;\n    if (CollectionUtils.isNotEmpty(bookList)) {\n        File file = File.createTempFile(fileName, &quot;.txt&quot;);\n        FileWriter interfaceFileWriter = new FileWriter(file);\n        BufferedWriter interfaceBufferedWriter = new BufferedWriter(interfaceFileWriter);\n        //write to file\n        for (Book list : bookList) {\n        interfaceBufferedWriter.write(list.getDelimitedRecord(delimiter, nullValue));\n        }\n        interfaceBufferedWriter.close();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\n        headers.setContentDispositionFormData(fileName + &quot;.txt&quot;, fileName + &quot;.txt&quot;);\n\n        InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\n        if (file != null &amp;&amp; file.exists()) {\n            listStream.add(resource);\n            return ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN).headers(headers).body(resource);\n        }\n    }\n    return null; //HOW TO RETURN ERROR STRING OR OBJECT??\n}\n</code></pre>\n<p>if there is an error in Java code while writing to file, I would like return error string. Since the method returns <code>ResponseEntity&lt;InputStreamResource&gt;</code>, how do I handle sending error message from java to ajax.</p>\n<ul>\n<li>How to return error message/error object from java ??</li>\n<li>How to read error Ajax &quot;error:&quot; that was returned by server??</li>\n</ul>\n"},{"tags":["java","intellij-idea","compilation","bytecode"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1701046634,"post_id":77554025,"comment_id":136722868,"body_markdown":"From the [FernFlower](https://github.com/fesh0r/fernflower) GitHub: _&quot;Fernflower is the first actually working analytical decompiler for Java and probably for a high-level programming language in general. ***Naturally it is still under development, please send your bug reports and improvement suggestions to the issue tracker.***&quot;_","body":"From the <a href=\"https://github.com/fesh0r/fernflower\" rel=\"nofollow noreferrer\">FernFlower</a> GitHub: <i>&quot;Fernflower is the first actually working analytical decompiler for Java and probably for a high-level programming language in general. <b>*Naturally it is still under development, please send your bug reports and improvement suggestions to the issue tracker.*</b>&quot;</i>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701047367,"post_id":77554025,"comment_id":136722919,"body_markdown":"what discrepancy are you referring to? That the generated java code, called &quot;**.class file**&quot;, 2nd snippet above, is different than the &quot;**original .java file**&quot;? Or do you mean the difference between the 2nd snippet (&quot;**.class file**&quot;) and the last snippet, &quot;**show bytecode result**&quot;? || Mind that what is called &quot;**.class file**&quot; above is actually the decompiled code, not the real .class file content (aka bytecode); neither is the last one, called &quot;**show bytecode result**&quot;, is not *just* the bytecode  - it is some representation of bytecode, augmented with additional information","body":"what discrepancy are you referring to? That the generated java code, called &quot;<b>.class file</b>&quot;, 2nd snippet above, is different than the &quot;<b>original .java file</b>&quot;? Or do you mean the difference between the 2nd snippet (&quot;<b>.class file</b>&quot;) and the last snippet, &quot;<b>show bytecode result</b>&quot;? || Mind that what is called &quot;<b>.class file</b>&quot; above is actually the decompiled code, not the real .class file content (aka bytecode); neither is the last one, called &quot;<b>show bytecode result</b>&quot;, is not <i>just</i> the bytecode  - it is some representation of bytecode, augmented with additional information"},{"owner":{"account_id":29999796,"reputation":3,"user_id":22990097,"display_name":"Person239183218930"},"score":0,"creation_date":1701047547,"post_id":77554025,"comment_id":136722934,"body_markdown":"This refers to the discrepancy between the class file and show bytecode results.","body":"This refers to the discrepancy between the class file and show bytecode results."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1701047679,"post_id":77554025,"comment_id":136722943,"body_markdown":"well, as already written, the 2nd one is not showing bytecode, but as its header states: &quot;*Source code recreated from a .class file*&quot;. While the last one is, as explained in first answer, showing bytecode in a more readable form (kind of disassembled)","body":"well, as already written, the 2nd one is not showing bytecode, but as its header states: &quot;<i>Source code recreated from a .class file</i>&quot;. While the last one is, as explained in first answer, showing bytecode in a more readable form (kind of disassembled)"}],"answers":[{"tags":[],"owner":{"account_id":14261458,"reputation":535,"user_id":10302104,"display_name":"smallpepperz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701046883,"creation_date":1701046546,"answer_id":77554050,"question_id":77554025,"body_markdown":"What you&#39;re referring to as the `.class` file is actually, as the FernFlower comment explains, recreated source code. The `.class` file was run through a decompiler that attempts to convert the bytecode back into its original source code.\r\n\r\nThe &quot;show bytecode result&quot; code that you pasted is just a readable representation of the contents of the file","title":"Why is there a mismatch between show bytecode and class file?","body":"<p>What you're referring to as the <code>.class</code> file is actually, as the FernFlower comment explains, recreated source code. The <code>.class</code> file was run through a decompiler that attempts to convert the bytecode back into its original source code.</p>\n<p>The &quot;show bytecode result&quot; code that you pasted is just a readable representation of the contents of the file</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701057220,"creation_date":1701049559,"answer_id":77554160,"question_id":77554025,"body_markdown":"&gt; Why is there a discrepancy between the two?\r\n\r\nIf you are asking why there is a discrepancy between &quot;.class file&quot; and &quot;show bytecode result&quot;, that is because they are showing different things:\r\n\r\n  - the former shows the decompiler&#39;s attempt to reconstruct source code from the bytecodes.\r\n  - the latter shows a disassembly of the bytecodes; i.e. the bytecodes rendered as (an approximation to) bytecode assembly language.  This is designed for people who want to&lt;sup&gt;1&lt;/sup&gt; **read the bytecodes** output by the Java compiler with the aid of the JVM spec.\r\n\r\nIf you are asking why &quot;original .java file&quot; and &quot;.class file&quot; are different, they are (once again) showing different things.\r\n\r\n  - the former shows the Java source code that you wrote\r\n  - the latter shows *reconstructed* Java code, that was generated by the decompiler.  Basically, the original code was compiled to bytecodes, and then it was *decompiled* back to Java source code.  This code may or may not be correct&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\n----------------------\r\n\r\nIn this case, the decompiled code is different to the original.  It looks like the decompiler was not able to reconstruct the constructor for the `enum` and its `private int` variable.  That is a *limitation* of the decompiler that Intellij is using.  I imagine that that limitation *could* be fixed&lt;sup&gt;3&lt;/sup&gt;.  However decompilers limitations are inherent, and can&#39;t be fixed.  These include:\r\n\r\n  - Decompilers cannot reconstruct the original code layout, javadocs, comments and so forth that are not present in the &quot;.class&quot; file.\r\n  - If two different Java source constructs compile to the same bytecodes, the decompiler can&#39;t tell which one was used originally.\r\n  - Bytecode obfuscators, deliberately do things to the bytecodes to make it harder to reconstruct valid Java source code ... let alone code that is readable. \r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - This is not as useful as you might think.  The &quot;problem&quot; is that bytecodes are (deliberately) not optimized.  Instead the JIT compiler will (eventually) compile + optimize the bytecodes to native code.  Often the transformations performed by the JIT compiler are pretty radical; e.g. inlining methods, optimizing away unnecessary loops, and so on.  This means that supposed performance insights you might get from reading the bytecodes are (at best) unreliable.&lt;br&gt;\r\n2 - It may not be functionally identical to the original code.  Indeed, it may not even be valid Java source code.  There are various reasons for this.&lt;br&gt;\r\n3 - ... if someone is willing to put in the work.  Indeed, it is possible that the problem is already addressed in a (hypothetical) more recent version of the decompiler.&lt;/sup&gt;\r\n","title":"Why is there a mismatch between show bytecode and class file?","body":"<blockquote>\n<p>Why is there a discrepancy between the two?</p>\n</blockquote>\n<p>If you are asking why there is a discrepancy between &quot;.class file&quot; and &quot;show bytecode result&quot;, that is because they are showing different things:</p>\n<ul>\n<li>the former shows the decompiler's attempt to reconstruct source code from the bytecodes.</li>\n<li>the latter shows a disassembly of the bytecodes; i.e. the bytecodes rendered as (an approximation to) bytecode assembly language.  This is designed for people who want to<sup>1</sup> <strong>read the bytecodes</strong> output by the Java compiler with the aid of the JVM spec.</li>\n</ul>\n<p>If you are asking why &quot;original .java file&quot; and &quot;.class file&quot; are different, they are (once again) showing different things.</p>\n<ul>\n<li>the former shows the Java source code that you wrote</li>\n<li>the latter shows <em>reconstructed</em> Java code, that was generated by the decompiler.  Basically, the original code was compiled to bytecodes, and then it was <em>decompiled</em> back to Java source code.  This code may or may not be correct<sup>2</sup>.</li>\n</ul>\n<hr />\n<p>In this case, the decompiled code is different to the original.  It looks like the decompiler was not able to reconstruct the constructor for the <code>enum</code> and its <code>private int</code> variable.  That is a <em>limitation</em> of the decompiler that Intellij is using.  I imagine that that limitation <em>could</em> be fixed<sup>3</sup>.  However decompilers limitations are inherent, and can't be fixed.  These include:</p>\n<ul>\n<li>Decompilers cannot reconstruct the original code layout, javadocs, comments and so forth that are not present in the &quot;.class&quot; file.</li>\n<li>If two different Java source constructs compile to the same bytecodes, the decompiler can't tell which one was used originally.</li>\n<li>Bytecode obfuscators, deliberately do things to the bytecodes to make it harder to reconstruct valid Java source code ... let alone code that is readable.</li>\n</ul>\n<hr />\n<p><sup>1 - This is not as useful as you might think.  The &quot;problem&quot; is that bytecodes are (deliberately) not optimized.  Instead the JIT compiler will (eventually) compile + optimize the bytecodes to native code.  Often the transformations performed by the JIT compiler are pretty radical; e.g. inlining methods, optimizing away unnecessary loops, and so on.  This means that supposed performance insights you might get from reading the bytecodes are (at best) unreliable.<br>\n2 - It may not be functionally identical to the original code.  Indeed, it may not even be valid Java source code.  There are various reasons for this.<br>\n3 - ... if someone is willing to put in the work.  Indeed, it is possible that the problem is already addressed in a (hypothetical) more recent version of the decompiler.</sup></p>\n"}],"owner":{"account_id":29999796,"reputation":3,"user_id":22990097,"display_name":"Person239183218930"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1701057220,"creation_date":1701045809,"question_id":77554025,"body_markdown":"## original .java file\r\n\r\n```java\r\npublic enum Fruit {\r\n    ORANGE(1), APPLE(2);\r\n    private final int i;\r\n    Fruit(int i){\r\n        this.i=i;\r\n    }\r\n}\r\n\r\n```\r\n\r\n## .class file\r\n\r\n```java\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npublic enum Fruit {\r\n    ORANGE,\r\n    APPLE;\r\n\r\n    private Fruit() {\r\n    }\r\n}\r\n\r\n```\r\n\r\n## show bytecode result \r\n\r\n```java\r\n// class version 61.0 (61)\r\n// access flags 0x4031\r\n// signature Ljava/lang/Enum&lt;LFruit;&gt;;\r\n// declaration: Fruit extends java.lang.Enum&lt;Fruit&gt;\r\npublic final enum Fruit extends java/lang/Enum {\r\n\r\n  // compiled from: Fruit.java\r\n\r\n  // access flags 0x4019\r\n  public final static enum LFruit; ORANGE\r\n\r\n  // access flags 0x4019\r\n  public final static enum LFruit; APPLE\r\n\r\n  // access flags 0x12\r\n  private final I i\r\n\r\n  // access flags 0x101A\r\n  private final static synthetic [LFruit; $VALUES\r\n\r\n  // access flags 0x9\r\n  public static values()[LFruit;\r\n   L0\r\n    LINENUMBER 1 L0\r\n    GETSTATIC Fruit.$VALUES : [LFruit;\r\n    INVOKEVIRTUAL [LFruit;.clone ()Ljava/lang/Object;\r\n    CHECKCAST [LFruit;\r\n    ARETURN\r\n    MAXSTACK = 1\r\n    MAXLOCALS = 0\r\n\r\n  // access flags 0x9\r\n  public static valueOf(Ljava/lang/String;)LFruit;\r\n   L0\r\n    LINENUMBER 1 L0\r\n    LDC LFruit;.class\r\n    ALOAD 0\r\n    INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\r\n    CHECKCAST Fruit\r\n    ARETURN\r\n   L1\r\n    LOCALVARIABLE name Ljava/lang/String; L0 L1 0\r\n    MAXSTACK = 2\r\n    MAXLOCALS = 1\r\n\r\n  // access flags 0x2\r\n  // signature (I)V\r\n  // declaration: void &lt;init&gt;(int)\r\n  private &lt;init&gt;(Ljava/lang/String;II)V\r\n   L0\r\n    LINENUMBER 4 L0\r\n    ALOAD 0\r\n    ALOAD 1\r\n    ILOAD 2\r\n    INVOKESPECIAL java/lang/Enum.&lt;init&gt; (Ljava/lang/String;I)V\r\n   L1\r\n    LINENUMBER 5 L1\r\n    ALOAD 0\r\n    ILOAD 3\r\n    PUTFIELD Fruit.i : I\r\n   L2\r\n    LINENUMBER 6 L2\r\n    RETURN\r\n   L3\r\n    LOCALVARIABLE this LFruit; L0 L3 0\r\n    LOCALVARIABLE i I L0 L3 3\r\n    MAXSTACK = 3\r\n    MAXLOCALS = 4\r\n\r\n  // access flags 0x100A\r\n  private static synthetic $values()[LFruit;\r\n   L0\r\n    LINENUMBER 1 L0\r\n    ICONST_2\r\n    ANEWARRAY Fruit\r\n    DUP\r\n    ICONST_0\r\n    GETSTATIC Fruit.ORANGE : LFruit;\r\n    AASTORE\r\n    DUP\r\n    ICONST_1\r\n    GETSTATIC Fruit.APPLE : LFruit;\r\n    AASTORE\r\n    ARETURN\r\n    MAXSTACK = 4\r\n    MAXLOCALS = 0\r\n\r\n  // access flags 0x8\r\n  static &lt;clinit&gt;()V\r\n   L0\r\n    LINENUMBER 2 L0\r\n    NEW Fruit\r\n    DUP\r\n    LDC &quot;ORANGE&quot;\r\n    ICONST_0\r\n    ICONST_1\r\n    INVOKESPECIAL Fruit.&lt;init&gt; (Ljava/lang/String;II)V\r\n    PUTSTATIC Fruit.ORANGE : LFruit;\r\n    NEW Fruit\r\n    DUP\r\n    LDC &quot;APPLE&quot;\r\n    ICONST_1\r\n    ICONST_2\r\n    INVOKESPECIAL Fruit.&lt;init&gt; (Ljava/lang/String;II)V\r\n    PUTSTATIC Fruit.APPLE : LFruit;\r\n   L1\r\n    LINENUMBER 1 L1\r\n    INVOKESTATIC Fruit.$values ()[LFruit;\r\n    PUTSTATIC Fruit.$VALUES : [LFruit;\r\n    RETURN\r\n    MAXSTACK = 5\r\n    MAXLOCALS = 0\r\n}\r\n\r\n```\r\n\r\nWhy is there a mismatch between show bytecode and class file?\r\n\r\n\r\nI looked into how to proceed with the Decompile process in intellij, but I couldn&#39;t find any official reference.\r\n\r\nI believe the result of show bytecode is not the raw ByteCode. This is because the raw bytecode is not human-readable.\r\n\r\nSo, as a result of Show bytecode, the decompiled version of the class file is both in processed form. Why is there a discrepancy between the two?\r\n\r\n(I also heard that class files are composed of bytecode)\r\n\r\nIs this a problem caused by a difference between the decompilation process and the show bytecode process, and the latter being more resilient of the two? (guess)","title":"Why is there a mismatch between show bytecode and class file?","body":"<h2>original .java file</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Fruit {\n    ORANGE(1), APPLE(2);\n    private final int i;\n    Fruit(int i){\n        this.i=i;\n    }\n}\n\n</code></pre>\n<h2>.class file</h2>\n<pre class=\"lang-java prettyprint-override\"><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npublic enum Fruit {\n    ORANGE,\n    APPLE;\n\n    private Fruit() {\n    }\n}\n\n</code></pre>\n<h2>show bytecode result</h2>\n<pre class=\"lang-java prettyprint-override\"><code>// class version 61.0 (61)\n// access flags 0x4031\n// signature Ljava/lang/Enum&lt;LFruit;&gt;;\n// declaration: Fruit extends java.lang.Enum&lt;Fruit&gt;\npublic final enum Fruit extends java/lang/Enum {\n\n  // compiled from: Fruit.java\n\n  // access flags 0x4019\n  public final static enum LFruit; ORANGE\n\n  // access flags 0x4019\n  public final static enum LFruit; APPLE\n\n  // access flags 0x12\n  private final I i\n\n  // access flags 0x101A\n  private final static synthetic [LFruit; $VALUES\n\n  // access flags 0x9\n  public static values()[LFruit;\n   L0\n    LINENUMBER 1 L0\n    GETSTATIC Fruit.$VALUES : [LFruit;\n    INVOKEVIRTUAL [LFruit;.clone ()Ljava/lang/Object;\n    CHECKCAST [LFruit;\n    ARETURN\n    MAXSTACK = 1\n    MAXLOCALS = 0\n\n  // access flags 0x9\n  public static valueOf(Ljava/lang/String;)LFruit;\n   L0\n    LINENUMBER 1 L0\n    LDC LFruit;.class\n    ALOAD 0\n    INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\n    CHECKCAST Fruit\n    ARETURN\n   L1\n    LOCALVARIABLE name Ljava/lang/String; L0 L1 0\n    MAXSTACK = 2\n    MAXLOCALS = 1\n\n  // access flags 0x2\n  // signature (I)V\n  // declaration: void &lt;init&gt;(int)\n  private &lt;init&gt;(Ljava/lang/String;II)V\n   L0\n    LINENUMBER 4 L0\n    ALOAD 0\n    ALOAD 1\n    ILOAD 2\n    INVOKESPECIAL java/lang/Enum.&lt;init&gt; (Ljava/lang/String;I)V\n   L1\n    LINENUMBER 5 L1\n    ALOAD 0\n    ILOAD 3\n    PUTFIELD Fruit.i : I\n   L2\n    LINENUMBER 6 L2\n    RETURN\n   L3\n    LOCALVARIABLE this LFruit; L0 L3 0\n    LOCALVARIABLE i I L0 L3 3\n    MAXSTACK = 3\n    MAXLOCALS = 4\n\n  // access flags 0x100A\n  private static synthetic $values()[LFruit;\n   L0\n    LINENUMBER 1 L0\n    ICONST_2\n    ANEWARRAY Fruit\n    DUP\n    ICONST_0\n    GETSTATIC Fruit.ORANGE : LFruit;\n    AASTORE\n    DUP\n    ICONST_1\n    GETSTATIC Fruit.APPLE : LFruit;\n    AASTORE\n    ARETURN\n    MAXSTACK = 4\n    MAXLOCALS = 0\n\n  // access flags 0x8\n  static &lt;clinit&gt;()V\n   L0\n    LINENUMBER 2 L0\n    NEW Fruit\n    DUP\n    LDC &quot;ORANGE&quot;\n    ICONST_0\n    ICONST_1\n    INVOKESPECIAL Fruit.&lt;init&gt; (Ljava/lang/String;II)V\n    PUTSTATIC Fruit.ORANGE : LFruit;\n    NEW Fruit\n    DUP\n    LDC &quot;APPLE&quot;\n    ICONST_1\n    ICONST_2\n    INVOKESPECIAL Fruit.&lt;init&gt; (Ljava/lang/String;II)V\n    PUTSTATIC Fruit.APPLE : LFruit;\n   L1\n    LINENUMBER 1 L1\n    INVOKESTATIC Fruit.$values ()[LFruit;\n    PUTSTATIC Fruit.$VALUES : [LFruit;\n    RETURN\n    MAXSTACK = 5\n    MAXLOCALS = 0\n}\n\n</code></pre>\n<p>Why is there a mismatch between show bytecode and class file?</p>\n<p>I looked into how to proceed with the Decompile process in intellij, but I couldn't find any official reference.</p>\n<p>I believe the result of show bytecode is not the raw ByteCode. This is because the raw bytecode is not human-readable.</p>\n<p>So, as a result of Show bytecode, the decompiled version of the class file is both in processed form. Why is there a discrepancy between the two?</p>\n<p>(I also heard that class files are composed of bytecode)</p>\n<p>Is this a problem caused by a difference between the decompilation process and the show bytecode process, and the latter being more resilient of the two? (guess)</p>\n"},{"tags":["java","database","swing","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701018628,"post_id":77552555,"comment_id":136720268,"body_markdown":"You&#39;re not &quot;updating&quot; afaics. Where is the method `upload_data` called?","body":"You&#39;re not &quot;updating&quot; afaics. Where is the method <code>upload_data</code> called?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1701018724,"post_id":77552555,"comment_id":136720280,"body_markdown":"It&#39;s odd that TableData extends JFrame, shouldn&#39;t it be just a data-container? Are you sure that the connection is referencing the same JTable, that you have in your PanelForm?","body":"It&#39;s odd that TableData extends JFrame, shouldn&#39;t it be just a data-container? Are you sure that the connection is referencing the same JTable, that you have in your PanelForm?"},{"owner":{"account_id":22517525,"reputation":3,"user_id":19230297,"display_name":"pyChris"},"score":0,"creation_date":1701019268,"post_id":77552555,"comment_id":136720348,"body_markdown":"the `upload_data` method is used to upload data in the database, I use the `get_data` method, to get data from database. @ValerijDobler I&#39;m not sure about that, I think that is the problem, but I don&#39;t know how to solve it.","body":"the <code>upload_data</code> method is used to upload data in the database, I use the <code>get_data</code> method, to get data from database. @ValerijDobler I&#39;m not sure about that, I think that is the problem, but I don&#39;t know how to solve it."},{"owner":{"account_id":22517525,"reputation":3,"user_id":19230297,"display_name":"pyChris"},"score":0,"creation_date":1701019963,"post_id":77552555,"comment_id":136720448,"body_markdown":"yes, I have deleted some not relevant object and I uploaded the code about visible component","body":"yes, I have deleted some not relevant object and I uploaded the code about visible component"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701020529,"post_id":77552555,"comment_id":136720523,"body_markdown":"What you posted is incomplete. Nothing has added `TableData` to anything here so as far as we&#39;re concerned, you shouldn&#39;t see *anything*","body":"What you posted is incomplete. Nothing has added <code>TableData</code> to anything here so as far as we&#39;re concerned, you shouldn&#39;t see <i>anything</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1701021207,"post_id":77552555,"comment_id":136720594,"body_markdown":"You have two separate and unconnected instances of `TableData`. The one you display is *not* the one owned by the connection-bound class, so will do nothing","body":"You have two separate and unconnected instances of <code>TableData</code>. The one you display is <i>not</i> the one owned by the connection-bound class, so will do nothing"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701021217,"post_id":77552555,"comment_id":136720597,"body_markdown":"As @user85421 has requested, please create and post your [mre] with this question. You are asking about code that runs but that misbehaves, and the best way for us to figure out why is to have working code that reproduces the problem. This is not a request for the entire program but rather for a new small program. Please read or re-read the link. Comment if you have any questions about the construct.","body":"As @user85421 has requested, please create and post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with this question. You are asking about code that runs but that misbehaves, and the best way for us to figure out why is to have working code that reproduces the problem. This is not a request for the entire program but rather for a new small program. Please read or re-read the link. Comment if you have any questions about the construct."},{"owner":{"account_id":22517525,"reputation":3,"user_id":19230297,"display_name":"pyChris"},"score":0,"creation_date":1701021511,"post_id":77552555,"comment_id":136720623,"body_markdown":"@g00se how can I connect the two instances of TableData? Sorry, but I&#39;m still a novice","body":"@g00se how can I connect the two instances of TableData? Sorry, but I&#39;m still a novice"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1701022753,"post_id":77552555,"comment_id":136720753,"body_markdown":"You don&#39;t want to connect them. You need to get rid of one of them. I think your shortest route for now is to get rid of `ConnectionDB` but to incorporate its code into `TableData`. Make sure you only create *one* instance of that class. Every query should close all db objects","body":"You don&#39;t want to connect them. You need to get rid of one of them. I think your shortest route for now is to get rid of <code>ConnectionDB</code> but to incorporate its code into <code>TableData</code>. Make sure you only create <i>one</i> instance of that class. Every query should close all db objects"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1701028092,"post_id":77552555,"comment_id":136721317,"body_markdown":"1. You might want to investigate concepts like dependency injection and the observer pattern.  2. Your `ConnectionDB` should be generating a data model.  This would then be either be wrapped in or update a `TableModel` which would be attached to the `JTable` itself","body":"1. You might want to investigate concepts like dependency injection and the observer pattern.  2. Your <code>ConnectionDB</code> should be generating a data model.  This would then be either be wrapped in or update a <code>TableModel</code> which would be attached to the <code>JTable</code> itself"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701057175,"creation_date":1701057175,"answer_id":77554442,"question_id":77552555,"body_markdown":"So immediately, you&#39;re creating multiple instances of `TableData`....\r\n\r\n    public class ConnectionDB {\r\n        //...\r\n        TableData tableData = new TableData();\r\n\r\n    public class HomePage extends JFrame {\r\n        private PanelForm panelForm;\r\n        private TableData tableData;\r\n        HomePage(){\r\n            //..\r\n            tableData = new TableData();\r\n\r\nNeither of these two instances have anything to do with each other, so updating one will not update the other.\r\n\r\nThis suggests that you need to spend some more time researching concepts like\r\n\r\n* [Dependency injection](https://www.google.com/search?q=java+dependency+injection&amp;oq=java+dependency+injection)\r\n* [Single Responsibility Principle](https://www.google.com/search?q=java+single+responsibility+principle)\r\n* [Model-View-Controller](https://www.google.com/search?q=java+model+view+controller)\r\n\r\nLet&#39;s start with, you&#39;re using an Object Oriented language, this means, you should be trying to describe your data more as &quot;objects&quot; rather then a lose connection of elements in an array.\r\n\r\nLet&#39;s start with a &quot;book&quot; concept...\r\n\r\n    public interface Book {\r\n        public String getTitle();\r\n        public String getAuthor();\r\n        public int getPrice();\r\n    }\r\n\r\nI like `interface`s they free your code from changes which might occur at an implementation level, should you need to shift your data source from say something like a local database to a web API.\r\n\r\nHaving said that, we&#39;re still going to need a concrete implement...\r\n\r\n    public class DefaultBook implements Book {\r\n        private String title;\r\n        private String author;\r\n        private int price;\r\n\r\n        public DefaultBook(String title, String author, int price) {\r\n            this.title = title;\r\n            this.author = author;\r\n            this.price = price;\r\n        }\r\n        \r\n        @Override\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        @Override\r\n        public String getAuthor() {\r\n            return author;\r\n        }\r\n\r\n        @Override\r\n        public int getPrice() {\r\n            return price;\r\n        }\r\n    }\r\n\r\nI might be tempted to also inject that the records database key into an implementation, but that&#39;s details you can address later.\r\n\r\nNext, lets take a look at the `ConnectionDB`...\r\n\r\n    public class ConnectionDB {\r\n        //...\r\n        public void upload_data(String titolo, String autore, int prezzo){\r\n            try{\r\n                Connection con = DriverManager.getConnection(url, user, password);\r\n                Statement statement = con.createStatement();\r\n                String query = &quot;insert into libri(titolo, autore, prezzo)&quot; +\r\n                               &quot;values (&#39;&quot;+titolo+&quot;&#39;,&#39;&quot;+autore+&quot;&#39;,&#39;&quot;+prezzo+&quot;&#39;)&quot;;\r\n                statement.executeUpdate(query);\r\n                System.out.println(&quot;success&quot;);\r\n            }\r\n            catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nThis is not only inefficient and slow, it&#39;s also dangerous.\r\n\r\nCreate a new instance of the `Connection` each time is slow and you&#39;re leaving yourself open to [sql injection](https://www.google.com/search?q=java+sql+injection) attacks.  You&#39;re also not closing any of the resources, which could mean that the connection will keep them open, degrading the performance of your database.\r\n\r\nStart by taking a look at [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) and [Using Prepared Statements](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html).\r\n\r\nInstead, you should be making use of dependency injection to pass in a reference to the `Connection`.  This resolves the class of the responsibility of creating the connection, allow you to create what ever connection you need to what ever database you want.\r\n\r\n    public class ConnectionDB {\r\n        private Connection connection;\r\n\r\n        public ConnectionDB(Connection connction) {\r\n            this.connection = connction;\r\n        }\r\n\r\n        protected Connection getConnection() {\r\n            return connection;\r\n        }\r\n\r\n        public void uploadData(Book book) throws SQLException {\r\n            try(PreparedStatement statement = getConnection().prepareStatement(&quot;insert into libri(titolo, autore, prezzo) values (?, ?, ?)&quot;)) {\r\n                statement.setString(1, book.getTitle());\r\n                statement.setString(2, book.getAuthor());\r\n                statement.setInt(3, book.getPrice());\r\n                statement.executeUpdate();\r\n                System.out.println(&quot;success&quot;);\r\n            }\r\n        }\r\n\r\n        public List&lt;Book&gt; getData() throws SQLException {\r\n            List&lt;Book&gt; books = new ArrayList&lt;&gt;(32);\r\n            try (Statement statement = getConnection().createStatement()) {\r\n                ResultSet resultSet = statement.executeQuery(&quot;select titolo, autore, prezzo from libri&quot;);\r\n                while (resultSet.next()) {\r\n                    String title = resultSet.getString(1);\r\n                    String author = resultSet.getString(2);\r\n                    int price = resultSet.getInt(3);\r\n                    \r\n                    books.add(new DefaultBook(title, author, price));\r\n                }\r\n            }\r\n            return books;\r\n        }\r\n    }\r\n\r\nYou will note that `getData` returns a `List` of `Book`s, this is important, as it removes any implementation details that previously existed.  The `ConnectionDB` doesn&#39;t care how you might use the data, only that when requested, it will return a `List` of data for you.\r\n\r\nAlso note, I&#39;m not consuming the errors.  Error management (beyond cleaning up the resources) isn&#39;t this classes responsibility, the caller will want to know when something goes wrong.\r\n\r\nOkay, let&#39;s move onto the UI by stating with how you would model the data from `ConnectionDB` for the UI.\r\n\r\nI would, personally, create a custom `TableModel` which could take a `List` of `Book`s and model it as I needed, for example...\r\n\r\n    public class BookTableModel extends AbstractTableModel {\r\n        private List&lt;Book&gt; books;\r\n        private String[] columnNames = new String[] {\r\n            &quot;Title&quot;, &quot;Author&quot;, &quot;Price&quot;\r\n        };\r\n\r\n        public BookTableModel(List&lt;Book&gt; books) {\r\n            this.books = books;\r\n        }\r\n\r\n        public List&lt;Book&gt; getBooks() {\r\n            return books;\r\n        }\r\n        \r\n        @Override\r\n        public int getRowCount() {\r\n            return getBooks().size();\r\n        }\r\n\r\n        @Override\r\n        public int getColumnCount() {\r\n            return columnNames.length;\r\n        }\r\n\r\n        @Override\r\n        public String getColumnName(int column) {\r\n            return columnNames[column];\r\n        }\r\n\r\n        @Override\r\n        public Object getValueAt(int rowIndex, int columnIndex) {\r\n            Book book = getBooks().get(rowIndex);\r\n            switch (columnIndex) {\r\n                case 0: return book.getTitle();\r\n                case 1: return book.getAuthor();\r\n                case 2: return book.getPrice();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n            switch (columnIndex) {\r\n                case 0: return String.class;\r\n                case 1: return String.class;\r\n                case 2: return Integer.class;\r\n            }\r\n            return Object.class;\r\n        }        \r\n    }\r\n\r\nThis is important, because I could use a `ListModel` instead if I wanted to!  Same data, different presentation!\r\n\r\n    public class BookTable extends JPanel {\r\n        private JTable table;\r\n        \r\n        public BookTable(BookTableModel model) {\r\n            setLayout(new BorderLayout());\r\n            table = new JTable(model);\r\n            add(new JScrollPane(table));\r\n        }\r\n\r\n        protected JTable getTable() {\r\n            return table;\r\n        }\r\n\r\n        public BookTableModel getModel() {\r\n            return (BookTableModel) getTable().getModel();\r\n        }\r\n\r\n        public void setModel(BookTableModel model) {\r\n            getTable().setModel(model);\r\n        }\r\n    }\r\n\r\nNow, unless my UI was suitably complex, I might not seperate the table management to a seperate class, instead, I might just do something like...\r\n\r\n    public class BookPane extends JPanel {\r\n        private ConnectionDB connectionDB;\r\n        \r\n        private JTable bookTable;\r\n\r\n        public BookPane(ConnectionDB connectionDB) {\r\n            this.connectionDB = connectionDB;\r\n            setLayout(new BorderLayout());\r\n            \r\n            // You could add a empty constructor to the\r\n            // BookTableModel to make this a bit easier\r\n            bookTable = new JTable(new BookTableModel(new ArrayList&lt;&gt;()));\r\n            \r\n            add(new JScrollPane(bookTable));\r\n            \r\n            JButton loadButton = new JButton(&quot;Load&quot;);\r\n            loadButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    try {\r\n                        List&lt;Book&gt; data = getConnectionDB().getData();\r\n                        // You could just replace the `List` managed by\r\n                        // BookTableModel, but this is just simpler\r\n                        getBookTable().setModel(new BookTableModel(data));\r\n                    } catch (SQLException ex) {\r\n                        ex.printStackTrace();\r\n                        JOptionPane.showMessageDialog(BookPane.this, &quot;Failed to load data&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public ConnectionDB getConnectionDB() {\r\n            return connectionDB;\r\n        }\r\n\r\n        protected JTable getBookTable() {\r\n            return bookTable;\r\n        }               \r\n    }\r\n\r\nSo, how does this all tie together?  Well, maybe something like...\r\n\r\n    Connection connection = ...; // Create an instance of a Connection for your database\r\n    ConnectionDB connectionDB = new ConnectionDB(connection);\r\n\r\n    EventQueue.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            JFrame frame = new JFrame();\r\n            frame.add(new BookPane(connectionDB));\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    });\r\n","title":"How to update a Jtable?","body":"<p>So immediately, you're creating multiple instances of <code>TableData</code>....</p>\n<pre><code>public class ConnectionDB {\n    //...\n    TableData tableData = new TableData();\n\npublic class HomePage extends JFrame {\n    private PanelForm panelForm;\n    private TableData tableData;\n    HomePage(){\n        //..\n        tableData = new TableData();\n</code></pre>\n<p>Neither of these two instances have anything to do with each other, so updating one will not update the other.</p>\n<p>This suggests that you need to spend some more time researching concepts like</p>\n<ul>\n<li><a href=\"https://www.google.com/search?q=java+dependency+injection&amp;oq=java+dependency+injection\" rel=\"nofollow noreferrer\">Dependency injection</a></li>\n<li><a href=\"https://www.google.com/search?q=java+single+responsibility+principle\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a></li>\n<li><a href=\"https://www.google.com/search?q=java+model+view+controller\" rel=\"nofollow noreferrer\">Model-View-Controller</a></li>\n</ul>\n<p>Let's start with, you're using an Object Oriented language, this means, you should be trying to describe your data more as &quot;objects&quot; rather then a lose connection of elements in an array.</p>\n<p>Let's start with a &quot;book&quot; concept...</p>\n<pre><code>public interface Book {\n    public String getTitle();\n    public String getAuthor();\n    public int getPrice();\n}\n</code></pre>\n<p>I like <code>interface</code>s they free your code from changes which might occur at an implementation level, should you need to shift your data source from say something like a local database to a web API.</p>\n<p>Having said that, we're still going to need a concrete implement...</p>\n<pre><code>public class DefaultBook implements Book {\n    private String title;\n    private String author;\n    private int price;\n\n    public DefaultBook(String title, String author, int price) {\n        this.title = title;\n        this.author = author;\n        this.price = price;\n    }\n    \n    @Override\n    public String getTitle() {\n        return title;\n    }\n\n    @Override\n    public String getAuthor() {\n        return author;\n    }\n\n    @Override\n    public int getPrice() {\n        return price;\n    }\n}\n</code></pre>\n<p>I might be tempted to also inject that the records database key into an implementation, but that's details you can address later.</p>\n<p>Next, lets take a look at the <code>ConnectionDB</code>...</p>\n<pre><code>public class ConnectionDB {\n    //...\n    public void upload_data(String titolo, String autore, int prezzo){\n        try{\n            Connection con = DriverManager.getConnection(url, user, password);\n            Statement statement = con.createStatement();\n            String query = &quot;insert into libri(titolo, autore, prezzo)&quot; +\n                           &quot;values ('&quot;+titolo+&quot;','&quot;+autore+&quot;','&quot;+prezzo+&quot;')&quot;;\n            statement.executeUpdate(query);\n            System.out.println(&quot;success&quot;);\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>This is not only inefficient and slow, it's also dangerous.</p>\n<p>Create a new instance of the <code>Connection</code> each time is slow and you're leaving yourself open to <a href=\"https://www.google.com/search?q=java+sql+injection\" rel=\"nofollow noreferrer\">sql injection</a> attacks.  You're also not closing any of the resources, which could mean that the connection will keep them open, degrading the performance of your database.</p>\n<p>Start by taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a> and <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">Using Prepared Statements</a>.</p>\n<p>Instead, you should be making use of dependency injection to pass in a reference to the <code>Connection</code>.  This resolves the class of the responsibility of creating the connection, allow you to create what ever connection you need to what ever database you want.</p>\n<pre><code>public class ConnectionDB {\n    private Connection connection;\n\n    public ConnectionDB(Connection connction) {\n        this.connection = connction;\n    }\n\n    protected Connection getConnection() {\n        return connection;\n    }\n\n    public void uploadData(Book book) throws SQLException {\n        try(PreparedStatement statement = getConnection().prepareStatement(&quot;insert into libri(titolo, autore, prezzo) values (?, ?, ?)&quot;)) {\n            statement.setString(1, book.getTitle());\n            statement.setString(2, book.getAuthor());\n            statement.setInt(3, book.getPrice());\n            statement.executeUpdate();\n            System.out.println(&quot;success&quot;);\n        }\n    }\n\n    public List&lt;Book&gt; getData() throws SQLException {\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;(32);\n        try (Statement statement = getConnection().createStatement()) {\n            ResultSet resultSet = statement.executeQuery(&quot;select titolo, autore, prezzo from libri&quot;);\n            while (resultSet.next()) {\n                String title = resultSet.getString(1);\n                String author = resultSet.getString(2);\n                int price = resultSet.getInt(3);\n                \n                books.add(new DefaultBook(title, author, price));\n            }\n        }\n        return books;\n    }\n}\n</code></pre>\n<p>You will note that <code>getData</code> returns a <code>List</code> of <code>Book</code>s, this is important, as it removes any implementation details that previously existed.  The <code>ConnectionDB</code> doesn't care how you might use the data, only that when requested, it will return a <code>List</code> of data for you.</p>\n<p>Also note, I'm not consuming the errors.  Error management (beyond cleaning up the resources) isn't this classes responsibility, the caller will want to know when something goes wrong.</p>\n<p>Okay, let's move onto the UI by stating with how you would model the data from <code>ConnectionDB</code> for the UI.</p>\n<p>I would, personally, create a custom <code>TableModel</code> which could take a <code>List</code> of <code>Book</code>s and model it as I needed, for example...</p>\n<pre><code>public class BookTableModel extends AbstractTableModel {\n    private List&lt;Book&gt; books;\n    private String[] columnNames = new String[] {\n        &quot;Title&quot;, &quot;Author&quot;, &quot;Price&quot;\n    };\n\n    public BookTableModel(List&lt;Book&gt; books) {\n        this.books = books;\n    }\n\n    public List&lt;Book&gt; getBooks() {\n        return books;\n    }\n    \n    @Override\n    public int getRowCount() {\n        return getBooks().size();\n    }\n\n    @Override\n    public int getColumnCount() {\n        return columnNames.length;\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        return columnNames[column];\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Book book = getBooks().get(rowIndex);\n        switch (columnIndex) {\n            case 0: return book.getTitle();\n            case 1: return book.getAuthor();\n            case 2: return book.getPrice();\n        }\n        return null;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        switch (columnIndex) {\n            case 0: return String.class;\n            case 1: return String.class;\n            case 2: return Integer.class;\n        }\n        return Object.class;\n    }        \n}\n</code></pre>\n<p>This is important, because I could use a <code>ListModel</code> instead if I wanted to!  Same data, different presentation!</p>\n<pre><code>public class BookTable extends JPanel {\n    private JTable table;\n    \n    public BookTable(BookTableModel model) {\n        setLayout(new BorderLayout());\n        table = new JTable(model);\n        add(new JScrollPane(table));\n    }\n\n    protected JTable getTable() {\n        return table;\n    }\n\n    public BookTableModel getModel() {\n        return (BookTableModel) getTable().getModel();\n    }\n\n    public void setModel(BookTableModel model) {\n        getTable().setModel(model);\n    }\n}\n</code></pre>\n<p>Now, unless my UI was suitably complex, I might not seperate the table management to a seperate class, instead, I might just do something like...</p>\n<pre><code>public class BookPane extends JPanel {\n    private ConnectionDB connectionDB;\n    \n    private JTable bookTable;\n\n    public BookPane(ConnectionDB connectionDB) {\n        this.connectionDB = connectionDB;\n        setLayout(new BorderLayout());\n        \n        // You could add a empty constructor to the\n        // BookTableModel to make this a bit easier\n        bookTable = new JTable(new BookTableModel(new ArrayList&lt;&gt;()));\n        \n        add(new JScrollPane(bookTable));\n        \n        JButton loadButton = new JButton(&quot;Load&quot;);\n        loadButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    List&lt;Book&gt; data = getConnectionDB().getData();\n                    // You could just replace the `List` managed by\n                    // BookTableModel, but this is just simpler\n                    getBookTable().setModel(new BookTableModel(data));\n                } catch (SQLException ex) {\n                    ex.printStackTrace();\n                    JOptionPane.showMessageDialog(BookPane.this, &quot;Failed to load data&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            }\n        });\n    }\n\n    public ConnectionDB getConnectionDB() {\n        return connectionDB;\n    }\n\n    protected JTable getBookTable() {\n        return bookTable;\n    }               \n}\n</code></pre>\n<p>So, how does this all tie together?  Well, maybe something like...</p>\n<pre><code>Connection connection = ...; // Create an instance of a Connection for your database\nConnectionDB connectionDB = new ConnectionDB(connection);\n\nEventQueue.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n        frame.add(new BookPane(connectionDB));\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":22517525,"reputation":3,"user_id":19230297,"display_name":"pyChris"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77554442,"answer_count":1,"score":0,"last_activity_date":1701057175,"creation_date":1701016494,"question_id":77552555,"body_markdown":"I created a java swing application, which takes data from a database, and displays it in a JTable. I&#39;m currently just trying to view all the data in my database. But when I click the button to send the query to the database and view the obtained data on the jtable, the table does not update. This is my code:\r\n\r\n``` TableData.java``` \r\n``` import com.mysql.cj.xdevapi.Table;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.awt.*;\r\n\r\npublic class TableData extends JPanel {\r\n    private JTable table;\r\n    private DefaultTableModel model;\r\n    private final Object Column[] = {&quot;id&quot;, &quot;titolo&quot;, &quot;autore&quot;, &quot;prezzo&quot;};\r\n    TableData(){\r\n        model = new DefaultTableModel();\r\n        table = new JTable(model);\r\n        model.setColumnIdentifiers(Column);\r\n        setLayout(new BorderLayout());\r\n        add(new JScrollPane(table), BorderLayout.CENTER);\r\n    }\r\n    public void updateTable(Object row[]){\r\n        model.addRow(row);\r\n    }\r\n}\r\n``` \r\n\r\n``` ConnectionDB.java``` \r\n\r\n``` import java.sql.Connection;\r\nimport java.sql.Statement;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\n\r\npublic class ConnectionDB {\r\n    private String url = &quot;jdbc:mysql://localhost:4444/database_name&quot;;\r\n    private String user = &quot;root&quot;;\r\n    private String password = &quot;password&quot;;\r\n    TableData tableData = new TableData();\r\n    //id titolo autore prezzo\r\n    public void upload_data(String titolo, String autore, int prezzo){\r\n        try{\r\n            Connection con = DriverManager.getConnection(url, user, password);\r\n            Statement statement = con.createStatement();\r\n            String query = &quot;insert into libri(titolo, autore, prezzo)&quot; +\r\n                           &quot;values (&#39;&quot;+titolo+&quot;&#39;,&#39;&quot;+autore+&quot;&#39;,&#39;&quot;+prezzo+&quot;&#39;)&quot;;\r\n            statement.executeUpdate(query);\r\n            System.out.println(&quot;success&quot;);\r\n        }\r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public void get_data(){\r\n        Object row[] = new Object[4];\r\n        try{\r\n            Connection conn = DriverManager.getConnection(url, user, password);\r\n            Statement statement = conn.createStatement();\r\n            ResultSet resultSet = statement.executeQuery(&quot;select * from libri&quot;);\r\n            while(resultSet.next()){\r\n                for(int i = 1; i&lt;=4; i++){\r\n                    row[i-1] = resultSet.getString(i);\r\n                }\r\n                tableData.updateTable(row);\r\n            }\r\n        }\r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n``` \r\n``` PanelForm.java``` \r\n``` import javax.swing.*;\r\nimport javax.swing.border.Border;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.jar.JarEntry;\r\n\r\npublic class PanelForm extends JPanel {\r\n    ....somebutton.....\r\n    ConnectionDB conn = new ConnectionDB();\r\n\r\n    ....some board....\r\n        buttonVisualizza.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                conn.get_data();\r\n            }\r\n        });\r\n    }\r\n}\r\n``` \r\nThis is my ```HomePage.java ``` \r\n```import javax.swing.*;\r\nimport javax.swing.text.AbstractDocument;\r\nimport java.awt.*;\r\n\r\npublic class HomePage extends JFrame {\r\n    private PanelForm panelForm;\r\n    private TableData tableData;\r\n    HomePage(){\r\n        super(&quot;Home&quot;);\r\n        setSize(800,500);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setLocation(200,200);\r\n        setLayout(new BorderLayout());\r\n\r\n        panelForm = new PanelForm();\r\n        tableData = new TableData();\r\n        add(panelForm, BorderLayout.LINE_START);\r\n        add(tableData, BorderLayout.CENTER);\r\n        setVisible(true);\r\n\r\n    }\r\n}\r\n ``` \r\nI have already tried to reload the model, and this command: ``` model.fireTableDataChanged();``` \r\n","title":"How to update a Jtable?","body":"<p>I created a java swing application, which takes data from a database, and displays it in a JTable. I'm currently just trying to view all the data in my database. But when I click the button to send the query to the database and view the obtained data on the jtable, the table does not update. This is my code:</p>\n<p><code> TableData.java</code></p>\n<pre><code>\nimport javax.swing.*;\nimport javax.swing.border.Border;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.*;\n\npublic class TableData extends JPanel {\n    private JTable table;\n    private DefaultTableModel model;\n    private final Object Column[] = {&quot;id&quot;, &quot;titolo&quot;, &quot;autore&quot;, &quot;prezzo&quot;};\n    TableData(){\n        model = new DefaultTableModel();\n        table = new JTable(model);\n        model.setColumnIdentifiers(Column);\n        setLayout(new BorderLayout());\n        add(new JScrollPane(table), BorderLayout.CENTER);\n    }\n    public void updateTable(Object row[]){\n        model.addRow(row);\n    }\n}\n</code></pre>\n<p><code> ConnectionDB.java</code></p>\n<pre><code>import java.sql.Statement;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\n\npublic class ConnectionDB {\n    private String url = &quot;jdbc:mysql://localhost:4444/database_name&quot;;\n    private String user = &quot;root&quot;;\n    private String password = &quot;password&quot;;\n    TableData tableData = new TableData();\n    //id titolo autore prezzo\n    public void upload_data(String titolo, String autore, int prezzo){\n        try{\n            Connection con = DriverManager.getConnection(url, user, password);\n            Statement statement = con.createStatement();\n            String query = &quot;insert into libri(titolo, autore, prezzo)&quot; +\n                           &quot;values ('&quot;+titolo+&quot;','&quot;+autore+&quot;','&quot;+prezzo+&quot;')&quot;;\n            statement.executeUpdate(query);\n            System.out.println(&quot;success&quot;);\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n    public void get_data(){\n        Object row[] = new Object[4];\n        try{\n            Connection conn = DriverManager.getConnection(url, user, password);\n            Statement statement = conn.createStatement();\n            ResultSet resultSet = statement.executeQuery(&quot;select * from libri&quot;);\n            while(resultSet.next()){\n                for(int i = 1; i&lt;=4; i++){\n                    row[i-1] = resultSet.getString(i);\n                }\n                tableData.updateTable(row);\n            }\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><code> PanelForm.java</code></p>\n<pre><code>import javax.swing.border.Border;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.jar.JarEntry;\n\npublic class PanelForm extends JPanel {\n    ....somebutton.....\n    ConnectionDB conn = new ConnectionDB();\n\n    ....some board....\n        buttonVisualizza.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                conn.get_data();\n            }\n        });\n    }\n}\n</code></pre>\n<p>This is my <code>HomePage.java </code></p>\n<pre><code>import javax.swing.text.AbstractDocument;\nimport java.awt.*;\n\npublic class HomePage extends JFrame {\n    private PanelForm panelForm;\n    private TableData tableData;\n    HomePage(){\n        super(&quot;Home&quot;);\n        setSize(800,500);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLocation(200,200);\n        setLayout(new BorderLayout());\n\n        panelForm = new PanelForm();\n        tableData = new TableData();\n        add(panelForm, BorderLayout.LINE_START);\n        add(tableData, BorderLayout.CENTER);\n        setVisible(true);\n\n    }\n}\n</code></pre>\n<p>I have already tried to reload the model, and this command: <code> model.fireTableDataChanged();</code></p>\n"},{"tags":["java","azure","intune"],"comments":[{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1700930936,"post_id":77547136,"comment_id":136713489,"body_markdown":"Hi @Burdarper you are trying to execute all uninstall commands at once using `cmd /c &quot;$Deinstallcommands&quot;` . However, you should iterate over each uninstall command separately.","body":"Hi @Burdarper you are trying to execute all uninstall commands at once using <code>cmd &#47;c &quot;$Deinstallcommands&quot;</code> . However, you should iterate over each uninstall command separately."},{"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"score":1,"creation_date":1700990515,"post_id":77547136,"comment_id":136717641,"body_markdown":"Hello Suresh,\nthank you for your answer. @SureshChikkam\n\nI guess this is what ForEach is already doing:\n\nwrite-Output $Deinstallcommands is :\n\n\nMsiExec.exe /x{71324AE4-039E-4CA4-87B4-2F64180391F0}\nMsiExec.exe /x{4A03706F-666A-4037-7777-5F2748764D10}\n\n\nWrite-output $IdentifyingNumber after foreach only shows the first entry so this is already correct in my opinion:\n\nIf I copy&amp;paste the $Deinstallcommands output manually in CMD is works and asks me whether I want to deinstall.","body":"Hello Suresh, thank you for your answer. @SureshChikkam  I guess this is what ForEach is already doing:  write-Output $Deinstallcommands is :   MsiExec.exe /x{71324AE4-039E-4CA4-87B4-2F64180391F0} MsiExec.exe /x{4A03706F-666A-4037-7777-5F2748764D10}   Write-output $IdentifyingNumber after foreach only shows the first entry so this is already correct in my opinion:  If I copy&amp;paste the $Deinstallcommands output manually in CMD is works and asks me whether I want to deinstall."},{"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"score":0,"creation_date":1700990521,"post_id":77547136,"comment_id":136717643,"body_markdown":"If it is done through &amp;cmd /c via powershell like in my case it prompts me with wrong msiexec command spelling like described before.","body":"If it is done through &amp;cmd /c via powershell like in my case it prompts me with wrong msiexec command spelling like described before."},{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1700991714,"post_id":77547136,"comment_id":136717742,"body_markdown":"Use this cmdlet `Start-Process` to execute the `msiexec.exe` command with the appropriate arguments.\n\n`Start-Process -FilePath &quot;$env:SystemRoot\\system32\\msiexec.exe&quot; -ArgumentList &quot;/x $IdentifyingNumber /quiet&quot; -Wait -PassThru`","body":"Use this cmdlet <code>Start-Process</code> to execute the <code>msiexec.exe</code> command with the appropriate arguments.  <code>Start-Process -FilePath &quot;$env:SystemRoot\\system32\\msiexec.exe&quot; -ArgumentList &quot;&#47;x $IdentifyingNumber &#47;quiet&quot; -Wait -PassThru</code>"}],"answers":[{"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701056793,"creation_date":1701056793,"answer_id":77554428,"question_id":77547136,"body_markdown":"&gt;`ForEach($IdentifyingNumber in $Deinstallcommands) {&amp; cmd /c &quot;$Deinstallcommands&quot;}`\r\n\r\n- Actually, the loop in the remediation script seems to be incorrect, and you are using the entire array of `IdentifyingNumber` for each iteration.\r\n\r\n```powershell\r\n# Detection\r\n$MSICode = Get-WmiObject Win32_Product -Filter &quot;name like &#39;Java%&#39; AND vendor like &#39;Oracle%&#39;&quot; | Select-Object -ExpandProperty IdentifyingNumber\r\n\r\nif ($MSICode -eq $null) {\r\n    Write-Host &quot;Oracle Java installations not found&quot;\r\n    Exit 0\r\n} else {\r\n    Write-Host &quot;Oracle Java installations found&quot;\r\n    Exit 1\r\n}\r\n\r\n# Remediation\r\nforeach ($IdentifyingNumber in $MSICode) {\r\n    $DeinstallCommand = &quot;MsiExec.exe /x $IdentifyingNumber /qn&quot;\r\n    Write-Host &quot;Running: $DeinstallCommand&quot;\r\n    Start-Process -FilePath &quot;cmd.exe&quot; -ArgumentList &quot;/c $DeinstallCommand&quot; -Wait\r\n}\r\n\r\nWrite-Host &quot;Oracle Java uninstallation complete&quot;\r\nExit 0\r\n```\r\n\r\n- `Get-WmiObject`, which is a more modern and PowerShell-native way of retrieving WMI information and `Select-Object -ExpandProperty IdentifyingNumber` to extract the IdentifyingNumber from the WMI query resu\tlt.\r\n\r\n- I modified the loop to use each individual `IdentifyingNumber` in the uninstallation command and added `/qn` to the `MsiExec.exe` command for silent uninstallation (no user interface).\r\n\r\n![enter image description here](https://i.imgur.com/9Fd2dr4.png)","title":"Create remediation script for deinstalling oracle java on every azure-managed client","body":"<blockquote>\n<p><code>ForEach($IdentifyingNumber in $Deinstallcommands) {&amp; cmd /c &quot;$Deinstallcommands&quot;}</code></p>\n</blockquote>\n<ul>\n<li>Actually, the loop in the remediation script seems to be incorrect, and you are using the entire array of <code>IdentifyingNumber</code> for each iteration.</li>\n</ul>\n<pre><code># Detection\n$MSICode = Get-WmiObject Win32_Product -Filter &quot;name like 'Java%' AND vendor like 'Oracle%'&quot; | Select-Object -ExpandProperty IdentifyingNumber\n\nif ($MSICode -eq $null) {\n    Write-Host &quot;Oracle Java installations not found&quot;\n    Exit 0\n} else {\n    Write-Host &quot;Oracle Java installations found&quot;\n    Exit 1\n}\n\n# Remediation\nforeach ($IdentifyingNumber in $MSICode) {\n    $DeinstallCommand = &quot;MsiExec.exe /x $IdentifyingNumber /qn&quot;\n    Write-Host &quot;Running: $DeinstallCommand&quot;\n    Start-Process -FilePath &quot;cmd.exe&quot; -ArgumentList &quot;/c $DeinstallCommand&quot; -Wait\n}\n\nWrite-Host &quot;Oracle Java uninstallation complete&quot;\nExit 0\n</code></pre>\n<ul>\n<li><p><code>Get-WmiObject</code>, which is a more modern and PowerShell-native way of retrieving WMI information and <code>Select-Object -ExpandProperty IdentifyingNumber</code> to extract the IdentifyingNumber from the WMI query resu    lt.</p>\n</li>\n<li><p>I modified the loop to use each individual <code>IdentifyingNumber</code> in the uninstallation command and added <code>/qn</code> to the <code>MsiExec.exe</code> command for silent uninstallation (no user interface).</p>\n</li>\n</ul>\n<p><img src=\"https://i.imgur.com/9Fd2dr4.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29988743,"reputation":11,"user_id":22981943,"display_name":"Burdarper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701056793,"creation_date":1700900481,"question_id":77547136,"body_markdown":"while silently reading here for half an eternity, now comes the point where I&#180;d like to ask a question.\r\n\r\nWe have been carved out from a big company lately and one of the endless things we have to solve is caring for sw-licensing.\r\n\r\nHowever in this process it turned out that oracle is not a software company having at least a slight interest in senseful co-existing but a plain mafia-gang. \r\nSo after a few meetings with those self-righteous mobsters I just quitted and promised to wipe and extinct their SW from each server/client in order to not step in their criminal-licensing-traps.\r\nWhile we already got rid of all oracleDBs, oracle java is still a problem also because employees keep installing it here and there not caring for consequences. (worldwide ~7500clients azure-managed).\r\n\r\nSo I want to come up with an remediation script looking for oracle java periodicly and deleting it.\r\n\r\nWhile detection is working I cannot figure out why remediation is not working; So after two days of struggling around (I&#180;m quite new to remediation methods and not a pro in powershell ) I&#180;d like to know how you would do it:\r\n\r\n\r\nDetection (works)\r\n\r\n```\r\n$MSICode = gwmi Win32_Product -filter &quot;name like &#39;Java%&#39; AND vendor like &#39;Oracle%&#39;&quot; | select IdentifyingNumber\r\n\r\nif ($MSICode -eq $null){\r\n    Write-Host &quot;oracle java installations not found&quot;\r\n    Exit 0\r\n}else{\r\n    Write-Host &quot;oracle java installations found&quot;\r\n    Exit 1\r\n}\r\n```\r\n\r\n\r\nRemediation (Always prompts me with msiexec error asking for the right syntax while &quot;write-Output $Deinstallcommands&quot; shows the right values\r\n\r\n```\r\n$MSICode = gwmi Win32_Product -filter &quot;name like &#39;Java%&#39; AND vendor like &#39;Oracle%&#39;&quot; | select IdentifyingNumber\r\n\r\n# Variable &quot;Deinstallcommands&quot; bereinigt die MSICode Variable ( + silent deinstall ) sodass sie wie cmd ausgef&#252;hrt werden kann.\r\n\r\n$Deinstallcommands = $MSICode.IdentifyingNumber -replace &quot;{&quot;,&quot;MsiExec.exe /x{&quot;\r\n\r\n# Alle Deinstallcommands ausf&#252;hren\r\n \r\n#write-Output $Deinstallcommands\r\n\r\nForEach($IdentifyingNumber in $Deinstallcommands) {&amp; cmd /c &quot;$Deinstallcommands&quot;}\r\n```\r\n\r\n\r\nLooking forward to your replies\r\n\r\n","title":"Create remediation script for deinstalling oracle java on every azure-managed client","body":"<p>while silently reading here for half an eternity, now comes the point where I´d like to ask a question.</p>\n<p>We have been carved out from a big company lately and one of the endless things we have to solve is caring for sw-licensing.</p>\n<p>However in this process it turned out that oracle is not a software company having at least a slight interest in senseful co-existing but a plain mafia-gang.\nSo after a few meetings with those self-righteous mobsters I just quitted and promised to wipe and extinct their SW from each server/client in order to not step in their criminal-licensing-traps.\nWhile we already got rid of all oracleDBs, oracle java is still a problem also because employees keep installing it here and there not caring for consequences. (worldwide ~7500clients azure-managed).</p>\n<p>So I want to come up with an remediation script looking for oracle java periodicly and deleting it.</p>\n<p>While detection is working I cannot figure out why remediation is not working; So after two days of struggling around (I´m quite new to remediation methods and not a pro in powershell ) I´d like to know how you would do it:</p>\n<p>Detection (works)</p>\n<pre><code>$MSICode = gwmi Win32_Product -filter &quot;name like 'Java%' AND vendor like 'Oracle%'&quot; | select IdentifyingNumber\n\nif ($MSICode -eq $null){\n    Write-Host &quot;oracle java installations not found&quot;\n    Exit 0\n}else{\n    Write-Host &quot;oracle java installations found&quot;\n    Exit 1\n}\n</code></pre>\n<p>Remediation (Always prompts me with msiexec error asking for the right syntax while &quot;write-Output $Deinstallcommands&quot; shows the right values</p>\n<pre><code>$MSICode = gwmi Win32_Product -filter &quot;name like 'Java%' AND vendor like 'Oracle%'&quot; | select IdentifyingNumber\n\n# Variable &quot;Deinstallcommands&quot; bereinigt die MSICode Variable ( + silent deinstall ) sodass sie wie cmd ausgeführt werden kann.\n\n$Deinstallcommands = $MSICode.IdentifyingNumber -replace &quot;{&quot;,&quot;MsiExec.exe /x{&quot;\n\n# Alle Deinstallcommands ausführen\n \n#write-Output $Deinstallcommands\n\nForEach($IdentifyingNumber in $Deinstallcommands) {&amp; cmd /c &quot;$Deinstallcommands&quot;}\n</code></pre>\n<p>Looking forward to your replies</p>\n"},{"tags":["java","ajax"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1701053930,"post_id":77554295,"comment_id":136723360,"body_markdown":"how about opening the url using `window.open` while the server giving `application/octet-stream` as mime type?","body":"how about opening the url using <code>window.open</code> while the server giving <code>application&#47;octet-stream</code> as mime type?"}],"answers":[{"tags":[],"owner":{"account_id":29849205,"reputation":683,"user_id":22875510,"display_name":"Adrid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701053895,"creation_date":1701053895,"answer_id":77554305,"question_id":77554295,"body_markdown":"To trigger an automatic download of a file in response to an AJAX call, you can dynamically create a link with the download attribute and trigger a click on that link. Here&#39;s how you can modify your success callback to achieve this:\r\n\r\n    $(&quot;#btn_load&quot;).click(function (e) {\r\n      event.preventDefault();\r\n      form = $(&quot;#bookList&quot;);\r\n      var post_url = form.attr(&quot;action&quot;);\r\n      let form_data = form.serialize();\r\n\r\n      $.ajax({\r\n        url: post_url,\r\n        type: &quot;POST&quot;,\r\n        data: form_data,\r\n        success: function (data, textStatus, jqX) {\r\n          // Create a Blob from the data\r\n          var blob = new Blob([data], { type: &quot;text/plain&quot; });\r\n\r\n          // Create a link element\r\n          var link = document.createElement(&quot;a&quot;);\r\n\r\n          // Set the download attribute and create a URL for the file\r\n          link.download = &quot;your_filename.txt&quot;;\r\n          link.href = window.URL.createObjectURL(blob);\r\n\r\n          // Append the link to the document\r\n          document.body.appendChild(link);\r\n\r\n          // Trigger a click on the link to initiate the download\r\n          link.click();\r\n\r\n          // Remove the link from the document\r\n          document.body.removeChild(link);\r\n        },\r\n        error: function (XMLHttpRequest, textStatus, errorThrown) {\r\n          // Handle errors\r\n        },\r\n      });\r\n    });\r\n\r\n\r\nThis code creates a `Blob` from the data received in the AJAX response, creates a link element, sets the `download` attribute and a URL for the file, appends the link to the document, triggers a click on the link, and finally removes the link from the document.\r\n\r\nMake sure to replace `&#39;your_filename.txt&#39;` with the desired filename for the downloaded file.","title":"AJAX call back to download file by browser","body":"<p>To trigger an automatic download of a file in response to an AJAX call, you can dynamically create a link with the download attribute and trigger a click on that link. Here's how you can modify your success callback to achieve this:</p>\n<pre><code>$(&quot;#btn_load&quot;).click(function (e) {\n  event.preventDefault();\n  form = $(&quot;#bookList&quot;);\n  var post_url = form.attr(&quot;action&quot;);\n  let form_data = form.serialize();\n\n  $.ajax({\n    url: post_url,\n    type: &quot;POST&quot;,\n    data: form_data,\n    success: function (data, textStatus, jqX) {\n      // Create a Blob from the data\n      var blob = new Blob([data], { type: &quot;text/plain&quot; });\n\n      // Create a link element\n      var link = document.createElement(&quot;a&quot;);\n\n      // Set the download attribute and create a URL for the file\n      link.download = &quot;your_filename.txt&quot;;\n      link.href = window.URL.createObjectURL(blob);\n\n      // Append the link to the document\n      document.body.appendChild(link);\n\n      // Trigger a click on the link to initiate the download\n      link.click();\n\n      // Remove the link from the document\n      document.body.removeChild(link);\n    },\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\n      // Handle errors\n    },\n  });\n});\n</code></pre>\n<p>This code creates a <code>Blob</code> from the data received in the AJAX response, creates a link element, sets the <code>download</code> attribute and a URL for the file, appends the link to the document, triggers a click on the link, and finally removes the link from the document.</p>\n<p>Make sure to replace <code>'your_filename.txt'</code> with the desired filename for the downloaded file.</p>\n"}],"owner":{"account_id":15726555,"reputation":527,"user_id":11348034,"display_name":"Meera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77554305,"answer_count":1,"score":0,"last_activity_date":1701054618,"creation_date":1701053635,"question_id":77554295,"body_markdown":"When user clicks the button, there is ajax calls to server. The server returns a text file. \r\nI would like browser to download the file automatically.\r\n\r\n    .jsp button\r\n    &lt;button type=&quot;submit&quot; id=&quot;btn_load&quot; value=&quot;Search&quot; class=&quot;btn btn-primary&quot;&gt;Generate I-618&lt;/button&gt;\r\n    \r\n    .js file - when button is click \r\n    $(&quot;#btn_load&quot;).click(function(e) {\r\n    \t \t\tevent.preventDefault(); \r\n                form = $(&#39;#bookList&#39;);\r\n                var post_url = form.attr(&quot;action&quot;); \r\n                let form_data = form.serialize();  \r\n                 $.ajax({\r\n                    url: post_url,\r\n                    type: &quot;POST&quot;,\r\n                    data: form_data,\r\n                    success: function(data, textStatus, jqX) {\r\n                    \t// **data is a .txt file. HOW TO TELL BROWSER TO DOWNLOAD THE .TXT FILE ?**\r\n                        console.log(data); //print the data from the file\r\n                    },\r\n                    error: function(XMLHttpRequest, textStatus,  errorThrown) {\r\n                    }\r\n                });\r\n    \t});\r\n    });\r\n\r\njava: function returns a .text file that would like to download from browser when user click the button\r\n\r\n\t@RequestMapping(value = &quot;/book.htm&quot;)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; bookselection(\r\n\t\t\t@ModelAttribute(&quot;books&quot;) Books book, Model model,\r\n\t\t\tHttpServletRequest request, BindingResult result) {\r\n\t\tList&lt;InputStreamResource&gt; listStream = new ArrayList&lt;InputStreamResource&gt;();\r\n\t\tString fileName = &quot;book.txt&quot;\r\n\t\tif (CollectionUtils.isNotEmpty(bookList)) {\r\n\t\t\tFile file = File.createTempFile(fileName, &quot;.txt&quot;);\r\n\t\t\tFileWriter interfaceFileWriter = new FileWriter(file);\r\n\t\t\tBufferedWriter interfaceBufferedWriter = new BufferedWriter(interfaceFileWriter);\r\n\t\t\t//write to file\r\n\t\t\tfor (Book list : bookList) {\r\n\t\t\tinterfaceBufferedWriter.write(list.getDelimitedRecord(delimiter, nullValue));\r\n\t\t\t}\r\n\t\t\tinterfaceBufferedWriter.close();\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n\t\t\theaders.setContentDispositionFormData(fileName + &quot;.txt&quot;, fileName + &quot;.txt&quot;);\r\n\r\n\t\t\tInputStreamResource resource = new InputStreamResource(new FileInputStream(file));\r\n\t\t\tif (file != null &amp;&amp; file.exists()) {\r\n\t\t\t\tlistStream.add(resource);\r\n\t\t\t\treturn ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN).headers(headers).body(resource);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\r\nHow to tell browser to download the file automatically which is ajax response (data)?\r\n","title":"AJAX call back to download file by browser","body":"<p>When user clicks the button, there is ajax calls to server. The server returns a text file.\nI would like browser to download the file automatically.</p>\n<pre><code>.jsp button\n&lt;button type=&quot;submit&quot; id=&quot;btn_load&quot; value=&quot;Search&quot; class=&quot;btn btn-primary&quot;&gt;Generate I-618&lt;/button&gt;\n\n.js file - when button is click \n$(&quot;#btn_load&quot;).click(function(e) {\n            event.preventDefault(); \n            form = $('#bookList');\n            var post_url = form.attr(&quot;action&quot;); \n            let form_data = form.serialize();  \n             $.ajax({\n                url: post_url,\n                type: &quot;POST&quot;,\n                data: form_data,\n                success: function(data, textStatus, jqX) {\n                    // **data is a .txt file. HOW TO TELL BROWSER TO DOWNLOAD THE .TXT FILE ?**\n                    console.log(data); //print the data from the file\n                },\n                error: function(XMLHttpRequest, textStatus,  errorThrown) {\n                }\n            });\n    });\n});\n</code></pre>\n<p>java: function returns a .text file that would like to download from browser when user click the button</p>\n<pre><code>@RequestMapping(value = &quot;/book.htm&quot;)\npublic ResponseEntity&lt;InputStreamResource&gt; bookselection(\n        @ModelAttribute(&quot;books&quot;) Books book, Model model,\n        HttpServletRequest request, BindingResult result) {\n    List&lt;InputStreamResource&gt; listStream = new ArrayList&lt;InputStreamResource&gt;();\n    String fileName = &quot;book.txt&quot;\n    if (CollectionUtils.isNotEmpty(bookList)) {\n        File file = File.createTempFile(fileName, &quot;.txt&quot;);\n        FileWriter interfaceFileWriter = new FileWriter(file);\n        BufferedWriter interfaceBufferedWriter = new BufferedWriter(interfaceFileWriter);\n        //write to file\n        for (Book list : bookList) {\n        interfaceBufferedWriter.write(list.getDelimitedRecord(delimiter, nullValue));\n        }\n        interfaceBufferedWriter.close();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\n        headers.setContentDispositionFormData(fileName + &quot;.txt&quot;, fileName + &quot;.txt&quot;);\n\n        InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\n        if (file != null &amp;&amp; file.exists()) {\n            listStream.add(resource);\n            return ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN).headers(headers).body(resource);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>How to tell browser to download the file automatically which is ajax response (data)?</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701096964,"post_id":77554313,"comment_id":136729302,"body_markdown":"Have the answers to the question, of which this was judged to be a duplicate, solved the problem? If not, can you, please, edit the question to explain why they didn&#39;t help?","body":"Have the answers to the question, of which this was judged to be a duplicate, solved the problem? If not, can you, please, edit the question to explain why they didn&#39;t help?"}],"owner":{"account_id":22211564,"reputation":109,"user_id":16450641,"display_name":"Brendan R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701054521,"answer_count":0,"score":-1,"last_activity_date":1701054437,"creation_date":1701054117,"question_id":77554313,"body_markdown":"I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?\r\n```java\r\ndouble[] list1 = {1, 2, 3, 4};\r\n\r\n// later:\r\ndouble[] list2 = list1[0:2] //?\r\n````\r\nIn the example above, I want `list2` to be a sublist of 0 to 2 (`{1, 2}`).\r\nIs this possible? Or should I switch to using ArrayLists `sublist` method? I am trying to avoid this.\r\n\r\nI am trying to avoid ArrayLists, because I am using a library that requires an argument to be a `double[]` list.","title":"Get Sublist of Java List, Without Creating a New List?","body":"<p>I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] list1 = {1, 2, 3, 4};\n\n// later:\ndouble[] list2 = list1[0:2] //?\n</code></pre>\n<p>In the example above, I want <code>list2</code> to be a sublist of 0 to 2 (<code>{1, 2}</code>).\nIs this possible? Or should I switch to using ArrayLists <code>sublist</code> method? I am trying to avoid this.</p>\n<p>I am trying to avoid ArrayLists, because I am using a library that requires an argument to be a <code>double[]</code> list.</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1701054483,"post_id":77554315,"comment_id":136723397,"body_markdown":"Java is not Python, so that&#39;s not a list. It&#39;s an array. If you don&#39;t want to use (`Array`)`List`s, and you don&#39;t want to create a new array and populate that, I&#39;m afraid you&#39;re out of options.","body":"Java is not Python, so that&#39;s not a list. It&#39;s an array. If you don&#39;t want to use (<code>Array</code>)<code>List</code>s, and you don&#39;t want to create a new array and populate that, I&#39;m afraid you&#39;re out of options."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701057066,"post_id":77554315,"comment_id":136723554,"body_markdown":"No, but you could implement one for read-only.  But if you want read and write but share structures, you will want to look at https://en.wikipedia.org/wiki/Persistent_data_structure","body":"No, but you could implement one for read-only.  But if you want read and write but share structures, you will want to look at <a href=\"https://en.wikipedia.org/wiki/Persistent_data_structure\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Persistent_data_structure</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701096322,"post_id":77554315,"comment_id":136729170,"body_markdown":"I suggest comments be at https://stackoverflow.com/questions/77554313/get-sublist-of-java-list-without-creating-a-new-list , which was closed for being a duplicate of an already existing question with answers.  (This was closed because it is a duplicate of that question.)","body":"I suggest comments be at <a href=\"https://stackoverflow.com/questions/77554313/get-sublist-of-java-list-without-creating-a-new-list\" title=\"get sublist of java list without creating a new list\">stackoverflow.com/questions/77554313/&hellip;</a> , which was closed for being a duplicate of an already existing question with answers.  (This was closed because it is a duplicate of that question.)"}],"owner":{"account_id":22211564,"reputation":109,"user_id":16450641,"display_name":"Brendan R."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701054462,"answer_count":0,"score":0,"last_activity_date":1701054124,"creation_date":1701054124,"question_id":77554315,"body_markdown":"I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?\r\n```java\r\ndouble[] list1 = {1, 2, 3, 4};\r\n\r\n// later:\r\ndouble[] list2 = list1[0:2] //?\r\n````\r\nIn the example above, I want `list2` to be a sublist of 0 to 2 (`{1, 2}`).\r\nIs this possible? Or should I switch to using ArrayLists `sublist` method? I am trying to avoid this.\r\n\r\nI am trying to avoid ArrayLists, because I am using a library that requires an argument to be a `double[]` list.","title":"Get Sublist of Java List, Without Creating a New List?","body":"<p>I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] list1 = {1, 2, 3, 4};\n\n// later:\ndouble[] list2 = list1[0:2] //?\n</code></pre>\n<p>In the example above, I want <code>list2</code> to be a sublist of 0 to 2 (<code>{1, 2}</code>).\nIs this possible? Or should I switch to using ArrayLists <code>sublist</code> method? I am trying to avoid this.</p>\n<p>I am trying to avoid ArrayLists, because I am using a library that requires an argument to be a <code>double[]</code> list.</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701096349,"post_id":77554312,"comment_id":136729176,"body_markdown":"I suggest comments be at https://stackoverflow.com/questions/77554313/get-sublist-of-java-list-without-creating-a-new-list , which was closed for being a duplicate of an already existing question with answers.  (This was closed because it is a duplicate of that question.)","body":"I suggest comments be at <a href=\"https://stackoverflow.com/questions/77554313/get-sublist-of-java-list-without-creating-a-new-list\" title=\"get sublist of java list without creating a new list\">stackoverflow.com/questions/77554313/&hellip;</a> , which was closed for being a duplicate of an already existing question with answers.  (This was closed because it is a duplicate of that question.)"}],"owner":{"account_id":22211564,"reputation":109,"user_id":16450641,"display_name":"Brendan R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701054471,"answer_count":0,"score":-1,"last_activity_date":1701054109,"creation_date":1701054109,"question_id":77554312,"body_markdown":"I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?\r\n```java\r\ndouble[] list1 = {1, 2, 3, 4};\r\n\r\n// later:\r\ndouble[] list2 = list1[0:2] //?\r\n````\r\nIn the example above, I want `list2` to be a sublist of 0 to 2 (`{1, 2}`).\r\nIs this possible? Or should I switch to using ArrayLists `sublist` method? I am trying to avoid this.\r\n\r\nI am trying to avoid ArrayLists, because I am using a library that requires an argument to be a `double[]` list.","title":"Get Sublist of Java List, Without Creating a New List?","body":"<p>I have a list in Java, and I need to get a sublist of it. I am trying to avoid creating a new list and populating that, is it possible to create a list that is at the same point in memory, just shorter?</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] list1 = {1, 2, 3, 4};\n\n// later:\ndouble[] list2 = list1[0:2] //?\n</code></pre>\n<p>In the example above, I want <code>list2</code> to be a sublist of 0 to 2 (<code>{1, 2}</code>).\nIs this possible? Or should I switch to using ArrayLists <code>sublist</code> method? I am trying to avoid this.</p>\n<p>I am trying to avoid ArrayLists, because I am using a library that requires an argument to be a <code>double[]</code> list.</p>\n"},{"tags":["java","pageobjects"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1701045563,"post_id":77553866,"comment_id":136722787,"body_markdown":"`data1` and `data2` are local variables inside the `testData` method.  `TestData.data1`  refers to a static member of class `TestData`.  These are two completely different things.","body":"<code>data1</code> and <code>data2</code> are local variables inside the <code>testData</code> method.  <code>TestData.data1</code>  refers to a static member of class <code>TestData</code>.  These are two completely different things."}],"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701053630,"creation_date":1701041131,"question_id":77553866,"body_markdown":"I wanted to use testdata from excel file with page object model here is the code:\r\n`TestData.java`\r\n\r\n```\r\npublic class TestData {\r\n\r\n\tpublic void testData() throws Exception {\r\n\t\t\r\n        String filePath = &quot;C:\\\\eclipes\\\\testdata\\\\testdata.xlsx&quot;;\r\n        FileInputStream fis = new FileInputStream(filePath);\r\n        XSSFWorkbook workbook = new XSSFWorkbook(fis);\r\n        \r\n        //get cell data\r\n        XSSFCell data1 = workbook.getSheetAt(0).getRow(1).getCell(0); //A2  \r\n        XSSFCell data2 = workbook.getSheetAt(0).getRow(2).getCell(0); //B2\r\n\r\n\r\n```\r\n\r\nin my `Test.java` file\r\n\r\n```\r\npublic class TestSample extends BaseClass {\r\n\t\r\n\t@Test\r\n    public void tc_01() throws Exception {\r\n    \r\n    String excelData1 = TestData.data1;\r\n    }\r\n\r\n```\r\n\r\nAm I missing something?   \r\nTestData class does not return the data1 value.\r\nor should I need to initialize data1 and 2 in TestData class?","title":"how to use test data from excel file with page object model in java appium","body":"<p>I wanted to use testdata from excel file with page object model here is the code:\n<code>TestData.java</code></p>\n<pre><code>public class TestData {\n\n    public void testData() throws Exception {\n        \n        String filePath = &quot;C:\\\\eclipes\\\\testdata\\\\testdata.xlsx&quot;;\n        FileInputStream fis = new FileInputStream(filePath);\n        XSSFWorkbook workbook = new XSSFWorkbook(fis);\n        \n        //get cell data\n        XSSFCell data1 = workbook.getSheetAt(0).getRow(1).getCell(0); //A2  \n        XSSFCell data2 = workbook.getSheetAt(0).getRow(2).getCell(0); //B2\n\n\n</code></pre>\n<p>in my <code>Test.java</code> file</p>\n<pre><code>public class TestSample extends BaseClass {\n    \n    @Test\n    public void tc_01() throws Exception {\n    \n    String excelData1 = TestData.data1;\n    }\n\n</code></pre>\n<p>Am I missing something?<br />\nTestData class does not return the data1 value.\nor should I need to initialize data1 and 2 in TestData class?</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701053768,"post_id":77554271,"comment_id":136723357,"body_markdown":"&quot;I can use the included annotations to limit the runtime of the script&quot; to which annotations are your referring? Provide the example in your code. Note that the page for the [groovy-sandbox source](https://github.com/jenkinsci/groovy-sandbox) says it is deprecated, it is insecure and should not be used. Not sure how are you using because your code misses the imports. Provide a https://stackoverflow.com/help/minimal-reproducible-example","body":"&quot;I can use the included annotations to limit the runtime of the script&quot; to which annotations are your referring? Provide the example in your code. Note that the page for the <a href=\"https://github.com/jenkinsci/groovy-sandbox\" rel=\"nofollow noreferrer\">groovy-sandbox source</a> says it is deprecated, it is insecure and should not be used. Not sure how are you using because your code misses the imports. Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":25576483,"reputation":1,"user_id":19355837,"display_name":"Fate"},"score":0,"creation_date":1701062977,"post_id":77554271,"comment_id":136723906,"body_markdown":"I only use &#39;groovy-sandbox &#39; to do some code-level restrictions, such as restricting the file manipulation class &#39;java.io.File&#39; to irrelevant time restrictions.\nThe time restriction annotation I&#39;m talking about is reflected in this code &#39;config.addCompilationCustomizers(new ASTTransformationCustomizer(Collections.singletonMap(&quot;value&quot;, maxCpuTime), TimedInterrupt.class));&#39;, the sample code has.\nThe annotation is &#39;groovy.transform.TimedInterrupt&#39;.","body":"I only use &#39;groovy-sandbox &#39; to do some code-level restrictions, such as restricting the file manipulation class &#39;java.io.File&#39; to irrelevant time restrictions. The time restriction annotation I&#39;m talking about is reflected in this code &#39;config.addCompilationCustomizers(new ASTTransformationCustomizer(Collections.singletonMap(&quot;value&quot;&zwnj;&#8203;, maxCpuTime), TimedInterrupt.class));&#39;, the sample code has. The annotation is &#39;groovy.transform.TimedInterrupt&#39;."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701079226,"post_id":77554271,"comment_id":136726096,"body_markdown":"Please add the details to the question.","body":"Please add the details to the question."},{"owner":{"account_id":25576483,"reputation":1,"user_id":19355837,"display_name":"Fate"},"score":0,"creation_date":1701137382,"post_id":77554271,"comment_id":136735443,"body_markdown":"Here is my sample code &#39;public class GroovyTest {\n    public static void main(String[] args) throws Exception {   \n        String groovy = &quot; def call(int a,int b) { &quot; +\n                &quot;   return a + b &quot; +\n                &quot;}&quot;;\n \n        GroovyClassLoader loader = new GroovyClassLoader();\n        Class scriptClass = loader.parseClass(groovy);\n        GroovyObject scriptInstance = (GroovyObject)         scriptClass.newInstance();\n        result = scriptInstance.invokeMethod(&quot;call&quot;,new Object[] {1,2});\n        System.out.println(&quot;Groovy result=&quot; + result);\n    }\n}&#39;,","body":"Here is my sample code &#39;public class GroovyTest {     public static void main(String[] args) throws Exception {            String groovy = &quot; def call(int a,int b) { &quot; +                 &quot;   return a + b &quot; +                 &quot;}&quot;;           GroovyClassLoader loader = new GroovyClassLoader();         Class scriptClass = loader.parseClass(groovy);         GroovyObject scriptInstance = (GroovyObject)         scriptClass.newInstance();         result = scriptInstance.invokeMethod(&quot;call&quot;,new Object[] {1,2});         System.out.println(&quot;Groovy result=&quot; + result);     } }&#39;,"},{"owner":{"account_id":25576483,"reputation":1,"user_id":19355837,"display_name":"Fate"},"score":0,"creation_date":1701137450,"post_id":77554271,"comment_id":136735450,"body_markdown":"Close the script if it uses too much memory while it is running.Calling methods may result in a high memory footprint due to the script code written","body":"Close the script if it uses too much memory while it is running.Calling methods may result in a high memory footprint due to the script code written"}],"owner":{"account_id":25576483,"reputation":1,"user_id":19355837,"display_name":"Fate"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701052935,"creation_date":1701052935,"question_id":77554271,"body_markdown":"In using the Groovy executor for Java, I need to limit the script execution time and the memory size of the variables in the groovy objects.\r\nHere is my part code,The groovy object here is groovy.lang.GroovyObject\r\n\r\n```\r\n        final ImportCustomizer imports = new ImportCustomizer();\r\n        imports.addImports(concatArrays(DEFAULT_IMPORTS, importClasses));\r\n        imports.addStarImports(concatArrays(DEFAULT_STAR_IMPORTS, starImports));\r\n\r\n        final SecureASTCustomizer secure = new SecureASTCustomizer();\r\n        secure.setClosuresAllowed(true);\r\n        secure.setIndirectImportCheckEnabled(true);\r\n\r\n        secure.setTokensBlacklist(concatList(new Integer[0], TOKEN_BLACK_LIST));\r\n\r\n        final CompilerConfiguration config = new CompilerConfiguration();\r\n        config.addCompilationCustomizers(imports, secure);\r\n        if (maxCpuTime &gt; 0) {\r\n            config.addCompilationCustomizers(new ASTTransformationCustomizer(Collections.singletonMap(&quot;value&quot;, maxCpuTime), TimedInterrupt.class));\r\n        }\r\n        config.addCompilationCustomizers(new SandboxTransformer());\r\n        new SandboxInterceptor().register();\r\n\r\n        loader = new GroovyClassLoader(Thread.currentThread().getContextClassLoader(), config);\r\n        Class&lt;?&gt; clazz = loader.parseClass(scriptBuilder.toString());\r\n        groovy = (GroovyObject) clazz.newInstance();\r\n        for (Map.Entry&lt;String, Object&gt; prop : scriptProperties.entrySet()) {\r\n            groovy.setProperty(prop.getKey(), prop.getValue());\r\n        }\r\n```\r\n\r\nThe maven dependencies I referenced are as follows:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.kohsuke&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;groovy-sandbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nI can use the included annotations to limit the runtime of the script, but I don&#39;t know how to limit the memory.I put external custom variables into the script via &#39;groovy.setProperty(prop.getKey(), prop.getValue());&#39; and the script runs to set the value, even an infinite loop to set values.\r\n\r\n\r\nWhat I want is to just terminate the script when the memory reaches a specified threshold, just like the &#39;TimedInterrupt&#39; annotation above, and when the specified time is exceeded, it will &#39;TimeoutException&#39;.","title":"How to Go About Limiting Memory Usage, Java&#39;s Groovy Executor","body":"<p>In using the Groovy executor for Java, I need to limit the script execution time and the memory size of the variables in the groovy objects.\nHere is my part code,The groovy object here is groovy.lang.GroovyObject</p>\n<pre><code>        final ImportCustomizer imports = new ImportCustomizer();\n        imports.addImports(concatArrays(DEFAULT_IMPORTS, importClasses));\n        imports.addStarImports(concatArrays(DEFAULT_STAR_IMPORTS, starImports));\n\n        final SecureASTCustomizer secure = new SecureASTCustomizer();\n        secure.setClosuresAllowed(true);\n        secure.setIndirectImportCheckEnabled(true);\n\n        secure.setTokensBlacklist(concatList(new Integer[0], TOKEN_BLACK_LIST));\n\n        final CompilerConfiguration config = new CompilerConfiguration();\n        config.addCompilationCustomizers(imports, secure);\n        if (maxCpuTime &gt; 0) {\n            config.addCompilationCustomizers(new ASTTransformationCustomizer(Collections.singletonMap(&quot;value&quot;, maxCpuTime), TimedInterrupt.class));\n        }\n        config.addCompilationCustomizers(new SandboxTransformer());\n        new SandboxInterceptor().register();\n\n        loader = new GroovyClassLoader(Thread.currentThread().getContextClassLoader(), config);\n        Class&lt;?&gt; clazz = loader.parseClass(scriptBuilder.toString());\n        groovy = (GroovyObject) clazz.newInstance();\n        for (Map.Entry&lt;String, Object&gt; prop : scriptProperties.entrySet()) {\n            groovy.setProperty(prop.getKey(), prop.getValue());\n        }\n</code></pre>\n<p>The maven dependencies I referenced are as follows:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kohsuke&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-sandbox&lt;/artifactId&gt;\n            &lt;version&gt;1.19&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I can use the included annotations to limit the runtime of the script, but I don't know how to limit the memory.I put external custom variables into the script via 'groovy.setProperty(prop.getKey(), prop.getValue());' and the script runs to set the value, even an infinite loop to set values.</p>\n<p>What I want is to just terminate the script when the memory reaches a specified threshold, just like the 'TimedInterrupt' annotation above, and when the specified time is exceeded, it will 'TimeoutException'.</p>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":9176481,"reputation":1069,"user_id":6821936,"display_name":"Uday Chauhan"},"score":0,"creation_date":1630307969,"post_id":68980093,"comment_id":121911134,"body_markdown":"Try to execute the query in mongo shell and see if result is coming or not. Then move to spring.","body":"Try to execute the query in mongo shell and see if result is coming or not. Then move to spring."},{"owner":{"account_id":1979243,"reputation":5103,"user_id":1817435,"accept_rate":67,"display_name":"Viraj"},"score":0,"creation_date":1630308260,"post_id":68980093,"comment_id":121911239,"body_markdown":"Thank you @UdayChauhan. I have tried and result is coming.","body":"Thank you @UdayChauhan. I have tried and result is coming."},{"owner":{"account_id":9176481,"reputation":1069,"user_id":6821936,"display_name":"Uday Chauhan"},"score":1,"creation_date":1630308445,"post_id":68980093,"comment_id":121911320,"body_markdown":"there is typo &#39;state&#39; can u correct and check","body":"there is typo &#39;state&#39; can u correct and check"},{"owner":{"account_id":7672771,"reputation":158,"user_id":5814464,"display_name":"sreekesh.s"},"score":0,"creation_date":1679472418,"post_id":68980093,"comment_id":133726288,"body_markdown":"Have you got answer for this @vi","body":"Have you got answer for this @vi"}],"answers":[{"tags":[],"owner":{"account_id":3673564,"reputation":325,"user_id":3060131,"accept_rate":50,"display_name":"Parikshit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701047126,"creation_date":1701044043,"answer_id":77553979,"question_id":68980093,"body_markdown":"try escaping the dollar sign in the query\r\n\r\n    @Query(&quot;{&#39;employerId&#39; : ?0,  &#39;state&#39; : { \\$in: ?1 } &quot;)\r\n    Page&lt;T&gt; findByEmployerIdAndStates(Pageable pageable, String employerId, final List&lt;String&gt; states);","title":"How to use mongodb in query in spring data @Query annotation","body":"<p>try escaping the dollar sign in the query</p>\n<pre><code>@Query(&quot;{'employerId' : ?0,  'state' : { \\$in: ?1 } &quot;)\nPage&lt;T&gt; findByEmployerIdAndStates(Pageable pageable, String employerId, final List&lt;String&gt; states);\n</code></pre>\n"}],"owner":{"account_id":1979243,"reputation":5103,"user_id":1817435,"accept_rate":67,"display_name":"Viraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701047126,"creation_date":1630306967,"question_id":68980093,"body_markdown":"In my project I am trying to execute mongodb `in` using spring data `@Query` annotation as follows.\r\n\r\n\r\n    @Query(&quot;{&#39;employerId&#39; : ?0,  &#39;state&#39; : { $in: ?1 } &quot;)\r\n    Page&lt;T&gt; findByEmployerIdAndStates(Pageable pageable, String employerId, final List&lt;String&gt; states);\r\n\r\nWith this i&#39;m trying to execute query like below\r\n\r\n    {&#39;employerId&#39; : &#39;367bdb30-e42b-4269-95e3-3c95e236c3da&#39;, &#39;state&#39; : { $in: [&#39;abc&#39;,&#39;test&#39;]}}\r\n\r\nHowever I&#39;m getting empty data set from spring repository even though query has data. Is above correct ? I could not found sample on this.\r\n","title":"How to use mongodb in query in spring data @Query annotation","body":"<p>In my project I am trying to execute mongodb <code>in</code> using spring data <code>@Query</code> annotation as follows.</p>\n<pre><code>@Query(&quot;{'employerId' : ?0,  'state' : { $in: ?1 } &quot;)\nPage&lt;T&gt; findByEmployerIdAndStates(Pageable pageable, String employerId, final List&lt;String&gt; states);\n</code></pre>\n<p>With this i'm trying to execute query like below</p>\n<pre><code>{'employerId' : '367bdb30-e42b-4269-95e3-3c95e236c3da', 'state' : { $in: ['abc','test']}}\n</code></pre>\n<p>However I'm getting empty data set from spring repository even though query has data. Is above correct ? I could not found sample on this.</p>\n"},{"tags":["java","eclipse","spring","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"score":2,"creation_date":1429515197,"post_id":29713200,"comment_id":47616625,"body_markdown":"I downloaded the project from the link that you provided. I did `mvn clean install` and then selected **Run on server** in eclipse. The server started successfully and displayed the **Click On This Link to reproduce the ERROR** page. When I clicked on the link, it displayed a page with text **If you can see this text, then the ERROR has been resolved.**. Please let me know if I am missing something here.","body":"I downloaded the project from the link that you provided. I did <code>mvn clean install</code> and then selected <b>Run on server</b> in eclipse. The server started successfully and displayed the <b>Click On This Link to reproduce the ERROR</b> page. When I clicked on the link, it displayed a page with text <b>If you can see this text, then the ERROR has been resolved.</b>. Please let me know if I am missing something here."},{"owner":{"account_id":2903210,"reputation":1422,"user_id":2489334,"accept_rate":94,"display_name":"Thomas Eizinger"},"score":0,"creation_date":1429516408,"post_id":29713200,"comment_id":47617278,"body_markdown":"I have successfully started the project using IntelliJ without any modifications to the code.\nHowever, a ClassDefNotError is usally the result of some runtime dependencies not being picked up when assembling the war-file. Check if all necessary libraries are packed into the war file.","body":"I have successfully started the project using IntelliJ without any modifications to the code. However, a ClassDefNotError is usally the result of some runtime dependencies not being picked up when assembling the war-file. Check if all necessary libraries are packed into the war file."},{"owner":{"account_id":183320,"reputation":1243,"user_id":418615,"accept_rate":20,"display_name":"Kafkaesque"},"score":0,"creation_date":1429526270,"post_id":29713200,"comment_id":47623374,"body_markdown":"I was also able to run it without modification in Eclipse with &quot;run on server&quot;. I used/assumed tomcat 7, since you didn&#39;t specify. You could look into several possible directions: You have numerous spring version &quot;conflicts&quot;. You&#39;re managing the depencency between major versions (3 vs 4). Since it&#39;s a classpath issue, maybe there are non standard libs in the shared/common directories? That shouldn&#39;t really be a a problem though, so I suspect Eclipse is at fault.","body":"I was also able to run it without modification in Eclipse with &quot;run on server&quot;. I used/assumed tomcat 7, since you didn&#39;t specify. You could look into several possible directions: You have numerous spring version &quot;conflicts&quot;. You&#39;re managing the depencency between major versions (3 vs 4). Since it&#39;s a classpath issue, maybe there are non standard libs in the shared/common directories? That shouldn&#39;t really be a a problem though, so I suspect Eclipse is at fault."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1429544648,"post_id":29713200,"comment_id":47636951,"body_markdown":"@Mithun Oddly, turning off my devbox and then restarting the next day resolved the problem. However, before I posted, `project clean`, `mvn update projects`, and `mvn download sources` did not fix the problem, no matter now many times I tried. Since yours is the first and most logical solution, I would be happy to mark yours as the answer if you choose to submit it. Thank you.  I will remember `mvn clean install` in the future. Can you please explain why `mvn clean install` works when the others do not? What is `mvn clean install` doing with this specific `pom.xml`?","body":"@Mithun Oddly, turning off my devbox and then restarting the next day resolved the problem. However, before I posted, <code>project clean</code>, <code>mvn update projects</code>, and <code>mvn download sources</code> did not fix the problem, no matter now many times I tried. Since yours is the first and most logical solution, I would be happy to mark yours as the answer if you choose to submit it. Thank you.  I will remember <code>mvn clean install</code> in the future. Can you please explain why <code>mvn clean install</code> works when the others do not? What is <code>mvn clean install</code> doing with this specific <code>pom.xml</code>?"}],"answers":[{"tags":[],"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1429546704,"creation_date":1429522934,"answer_id":29744326,"question_id":29713200,"body_markdown":"There are a couple of things I always kept remembering while developing webapps with Eclipse\r\n\r\n 1. any change on the file system outside Eclipse, sometimes even when running maven build, is not automatically picked up. Right click -&gt; refresh on the project does it\r\n 2. tomcat publishing works *shady*, as in sometimes it doesn&#39;t either publish all the necessary resources or correctly cleanup the previous deploy, and I couldn&#39;t figure out why. It could be related to [windows locking files][1] but I had this happening while using [`antiJARLocking=true` or `antiResourceLocking=true`][2] so I&#39;m not 100% sure\r\n\r\nAnyway, when this used to happen in my project, I&#39;d do the following which usually fixed it:\r\n\r\n - stop tomcat\r\n - refresh, clean &amp; build the project\r\n - do a clean publish towards tomcat\r\n - start tomcat\r\n\r\n**EDIT**\r\n\r\nWhen it happens again, you can check out what files have been deployed by looking (by default) in the workspace under `metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps`. You can check this path to see if it&#39;s locked with [Process Explorer to see if the files were locked with CTRL+F][3] or with a similar tool of your choice.\r\n\r\n\r\n  [1]: https://confluence.sakaiproject.org/display/BOOT/Avoiding+JAR+and+file+locking+under+Windows\r\n  [2]: http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Standard%20Implementation\r\n  [3]: https://superuser.com/questions/13291/how-do-i-delete-a-locked-file","title":"Tomcat won&#39;t start from within Eclipse after stripping project","body":"<p>There are a couple of things I always kept remembering while developing webapps with Eclipse</p>\n\n<ol>\n<li>any change on the file system outside Eclipse, sometimes even when running maven build, is not automatically picked up. Right click -> refresh on the project does it</li>\n<li>tomcat publishing works <em>shady</em>, as in sometimes it doesn't either publish all the necessary resources or correctly cleanup the previous deploy, and I couldn't figure out why. It could be related to <a href=\"https://confluence.sakaiproject.org/display/BOOT/Avoiding+JAR+and+file+locking+under+Windows\" rel=\"nofollow noreferrer\">windows locking files</a> but I had this happening while using <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Standard%20Implementation\" rel=\"nofollow noreferrer\"><code>antiJARLocking=true</code> or <code>antiResourceLocking=true</code></a> so I'm not 100% sure</li>\n</ol>\n\n<p>Anyway, when this used to happen in my project, I'd do the following which usually fixed it:</p>\n\n<ul>\n<li>stop tomcat</li>\n<li>refresh, clean &amp; build the project</li>\n<li>do a clean publish towards tomcat</li>\n<li>start tomcat</li>\n</ul>\n\n<p><strong>EDIT</strong></p>\n\n<p>When it happens again, you can check out what files have been deployed by looking (by default) in the workspace under <code>metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps</code>. You can check this path to see if it's locked with <a href=\"https://superuser.com/questions/13291/how-do-i-delete-a-locked-file\">Process Explorer to see if the files were locked with CTRL+F</a> or with a similar tool of your choice.</p>\n"},{"tags":[],"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1429550690,"creation_date":1429550690,"answer_id":29754400,"question_id":29713200,"body_markdown":"Please run `mvn clean install` before running the project in the server. `clean` makes sure that all the files generated from the previous build are deleted and `install` makes sure that the generated archive file is put into your local repository\r\n\r\nI downloaded the project from the link that you provided. I did `mvn clean install` and then selected `Run on server` in eclipse. \r\n\r\nThe server started successfully and displayed the **Click On This Link to reproduce the ERROR** page. When I clicked on the link, it displayed a page with text **If you can see this text, then the ERROR has been resolved**. \r\n\r\n","title":"Tomcat won&#39;t start from within Eclipse after stripping project","body":"<p>Please run <code>mvn clean install</code> before running the project in the server. <code>clean</code> makes sure that all the files generated from the previous build are deleted and <code>install</code> makes sure that the generated archive file is put into your local repository</p>\n\n<p>I downloaded the project from the link that you provided. I did <code>mvn clean install</code> and then selected <code>Run on server</code> in eclipse. </p>\n\n<p>The server started successfully and displayed the <strong>Click On This Link to reproduce the ERROR</strong> page. When I clicked on the link, it displayed a page with text <strong>If you can see this text, then the ERROR has been resolved</strong>. </p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6937,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1701172037,"accepted_answer_id":29754400,"answer_count":2,"score":1,"last_activity_date":1701046943,"creation_date":1429333921,"question_id":29713200,"body_markdown":"I have been stripping down a Spring MVC Eclipse/Maven project to get a bare minimal example of certain functionality, but the process of stripping out files has resulted in an error that causes Tomcat not to launch. \r\n\r\nHow can I resolve this error so that Tomcat will launch and the app can run in a web browser from within Eclipse?\r\n  \r\nI have not made changes to server.xml, or to any of the other Tomcat config files.  I was able to launch tomcat and run this project numerous times during the strip down process, so I think the problem has to do with something missing from the project.  **Other projects in the workspace are able to `Run As...Run on server` successfully**, thus pointing the cause of the problem to something inside this project.  However, the one line in `server.xml` that refers to this project is:  \r\n  \r\n    &lt;Context docBase=&quot;NoClassDefFoundError&quot; path=&quot;/NoClassDefFoundError&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:NoClassDefFoundError&quot;/&gt;&lt;/Host&gt;\r\n  \r\nThe complete stack trace of the error is:  \r\n  \r\n    Apr 17, 2015 9:30:50 PM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/NoClassDefFoundError]]\r\n        at java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        at java.util.concurrent.FutureTask.get(FutureTask.java:188)\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:917)\r\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:868)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component  [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/NoClassDefFoundError]]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n        ... 6 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/core/io/Resource\r\n        at java.lang.Class.getDeclaredFields0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredFields(Class.java:2499)\r\n        at java.lang.Class.getDeclaredFields(Class.java:1811)\r\n        at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:106)\r\n        at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:256)\r\n        at org.apache.catalina.startup.WebAnnotationSet.loadApplicationListenerAnnotations(WebAnnotationSet.java:86)\r\n        at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:63)\r\n        at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:334)\r\n        at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:774)\r\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:305)\r\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\r\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5095)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        ... 6 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.core.io.Resource\r\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1295)\r\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1147)\r\n        ... 20 more\r\n  \r\n    Apr 17, 2015 9:30:50 PM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Apr 17, 2015 9:30:50 PM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n        at java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        at java.util.concurrent.FutureTask.get(FutureTask.java:188)\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:917)\r\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:439)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:760)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:625)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:925)\r\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:868)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        ... 6 more\r\n  \r\n    Apr 17, 2015 9:30:50 PM org.apache.catalina.startup.Catalina start\r\n    SEVERE: The required Server component failed to start so Tomcat is unable to start.\r\n    org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:625)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:760)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        ... 7 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:439)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        ... 9 more\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:925)\r\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        ... 11 more\r\n  \r\n    Apr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Apr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Apr 17, 2015 9:30:50 PM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service Catalina\r\n    Apr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Apr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol destroy\r\n    SEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    java.lang.NullPointerException\r\n        at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:307)\r\n        at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:482)\r\n        at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:795)\r\n        at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:531)\r\n        at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:588)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:850)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n  \r\n    Apr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Apr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol destroy\r\n    SEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    java.lang.NullPointerException\r\n        at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:307)\r\n        at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:482)\r\n        at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:795)\r\n        at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:531)\r\n        at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:588)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:850)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n  \r\n    Apr 17, 2015 9:30:50 PM org.apache.catalina.deploy.NamingResourcesImpl cleanUp\r\n    WARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/NoClassDefFoundError]] so no cleanup was performed for that container\r\n    javax.naming.NamingException: No naming context bound to this class loader\r\n        at org.apache.naming.ContextBindings.getClassLoader(ContextBindings.java:258)\r\n        at org.apache.catalina.deploy.NamingResourcesImpl.cleanUp(NamingResourcesImpl.java:992)\r\n        at org.apache.catalina.deploy.NamingResourcesImpl.stopInternal(NamingResourcesImpl.java:975)\r\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\r\n        at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5427)\r\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:272)\r\n        at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:841)\r\n        at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1014)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:841)\r\n        at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1014)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:603)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:850)\r\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n  ","title":"Tomcat won&#39;t start from within Eclipse after stripping project","body":"<p>I have been stripping down a Spring MVC Eclipse/Maven project to get a bare minimal example of certain functionality, but the process of stripping out files has resulted in an error that causes Tomcat not to launch.</p>\n<p>How can I resolve this error so that Tomcat will launch and the app can run in a web browser from within Eclipse?</p>\n<p>I have not made changes to server.xml, or to any of the other Tomcat config files.  I was able to launch tomcat and run this project numerous times during the strip down process, so I think the problem has to do with something missing from the project.  <strong>Other projects in the workspace are able to <code>Run As...Run on server</code> successfully</strong>, thus pointing the cause of the problem to something inside this project.  However, the one line in <code>server.xml</code> that refers to this project is:</p>\n<pre><code>&lt;Context docBase=&quot;NoClassDefFoundError&quot; path=&quot;/NoClassDefFoundError&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:NoClassDefFoundError&quot;/&gt;&lt;/Host&gt;\n</code></pre>\n<p>The complete stack trace of the error is:</p>\n<pre><code>Apr 17, 2015 9:30:50 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/NoClassDefFoundError]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:188)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:917)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:868)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component  [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/NoClassDefFoundError]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    ... 6 more\nCaused by: java.lang.NoClassDefFoundError: org/springframework/core/io/Resource\n    at java.lang.Class.getDeclaredFields0(Native Method)\n    at java.lang.Class.privateGetDeclaredFields(Class.java:2499)\n    at java.lang.Class.getDeclaredFields(Class.java:1811)\n    at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:106)\n    at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:256)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationListenerAnnotations(WebAnnotationSet.java:86)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:63)\n    at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:334)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:774)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:305)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5095)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.io.Resource\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1295)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1147)\n    ... 20 more\n\nApr 17, 2015 9:30:50 PM org.apache.jasper.servlet.TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nApr 17, 2015 9:30:50 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:188)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:917)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:439)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:760)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:625)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:925)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:868)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\n\nApr 17, 2015 9:30:50 PM org.apache.catalina.startup.Catalina start\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:625)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:760)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:439)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:925)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 11 more\n\nApr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\nApr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [&quot;ajp-nio-8009&quot;]\nApr 17, 2015 9:30:50 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service Catalina\nApr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\nApr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol destroy\nSEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;http-nio-8080&quot;]\njava.lang.NullPointerException\n    at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:307)\n    at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:482)\n    at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:795)\n    at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:531)\n    at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:588)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:850)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n\nApr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [&quot;ajp-nio-8009&quot;]\nApr 17, 2015 9:30:50 PM org.apache.coyote.AbstractProtocol destroy\nSEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]\njava.lang.NullPointerException\n    at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:307)\n    at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:482)\n    at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:795)\n    at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:531)\n    at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:588)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:850)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n\nApr 17, 2015 9:30:50 PM org.apache.catalina.deploy.NamingResourcesImpl cleanUp\nWARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/NoClassDefFoundError]] so no cleanup was performed for that container\njavax.naming.NamingException: No naming context bound to this class loader\n    at org.apache.naming.ContextBindings.getClassLoader(ContextBindings.java:258)\n    at org.apache.catalina.deploy.NamingResourcesImpl.cleanUp(NamingResourcesImpl.java:992)\n    at org.apache.catalina.deploy.NamingResourcesImpl.stopInternal(NamingResourcesImpl.java:975)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5427)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:272)\n    at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:841)\n    at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1014)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:841)\n    at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1014)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:603)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:850)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n</code></pre>\n"},{"tags":["java","selenium","testng"],"comments":[{"owner":{"account_id":1776955,"reputation":787,"user_id":1620562,"accept_rate":57,"display_name":"skandigraun"},"score":1,"creation_date":1537905778,"post_id":52505791,"comment_id":91952263,"body_markdown":"Actually you created one class variable already: `protected static WebDriver driver;` - you can do the same with any other variables, e.g. `private static String submitMessage = &quot;submitMessage&quot;;` at the start, and then use the variable anywhere in the class.","body":"Actually you created one class variable already: <code>protected static WebDriver driver;</code> - you can do the same with any other variables, e.g. <code>private static String submitMessage = &quot;submitMessage&quot;;</code> at the start, and then use the variable anywhere in the class."},{"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"score":0,"creation_date":1537941968,"post_id":52505791,"comment_id":91961800,"body_markdown":"Please google page object model.","body":"Please google page object model."}],"answers":[{"tags":[],"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1537938459,"creation_date":1537938459,"answer_id":52510292,"question_id":52505791,"body_markdown":"*You can do it with **By declaration(POM Way)**, that is to declare it single time and call multiple times. Its applicable for same class and other class also. You can access it in other class by Public declaration.*\r\n\r\n    public class FormValidation {\r\n      protected static WebDriver driver;\r\n    \r\n      By errorField = By.xpath(&quot;//*[@id=\\&quot;center_column\\&quot;]/div/ol/li&quot;);\r\n      By sendButton = By.id(&quot;submitMessage&quot;);\r\n      By email = By.id(&quot;email&quot;);\r\n    \r\n    \r\n      @BeforeTest()\r\n      public void beforeTest() {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://chromedriver.exe&quot;);\r\n      }\r\n    \r\n      @Test(priority = 0)\r\n      public void blankFormTest() {\r\n        driver = new ChromeDriver();\r\n        driver.get(&quot;http://automationpractice.com/index.php?controller=contact&quot;);\r\n    \r\n        WebElement SendButton = driver.findElement(sendButton);\r\n        SendButton.click();\r\n        WebElement ErrorField = driver.findElement(errorField);\r\n        {\r\n          Assert.assertEquals(ErrorField.getText(), &quot;Invalid email address.&quot;);\r\n    \r\n        }\r\n      }\r\n    \r\n      @Test(priority = 1)\r\n      public void correctEmailonly() {\r\n        WebElement Email = driver.findElement(email);\r\n        Email.sendKeys(&quot;kasiatrzaska@o2.pl&quot;);\r\n        WebElement SendButton = driver.findElement(sendButton);\r\n        SendButton.click();\r\n        WebElement ErrorField = driver.findElement(errorField);\r\n        {\r\n          Assert.assertEquals(ErrorField.getText(), &quot;The message cannot be blank.&quot;);\r\n        }    \r\n      }\r\n\r\n    }","title":"How to declare global variables using TestNG/Selenium/Java?","body":"<p><em>You can do it with <strong>By declaration(POM Way)</strong>, that is to declare it single time and call multiple times. Its applicable for same class and other class also. You can access it in other class by Public declaration.</em></p>\n\n<pre><code>public class FormValidation {\n  protected static WebDriver driver;\n\n  By errorField = By.xpath(\"//*[@id=\\\"center_column\\\"]/div/ol/li\");\n  By sendButton = By.id(\"submitMessage\");\n  By email = By.id(\"email\");\n\n\n  @BeforeTest()\n  public void beforeTest() {\n    System.setProperty(\"webdriver.chrome.driver\", \"C://chromedriver.exe\");\n  }\n\n  @Test(priority = 0)\n  public void blankFormTest() {\n    driver = new ChromeDriver();\n    driver.get(\"http://automationpractice.com/index.php?controller=contact\");\n\n    WebElement SendButton = driver.findElement(sendButton);\n    SendButton.click();\n    WebElement ErrorField = driver.findElement(errorField);\n    {\n      Assert.assertEquals(ErrorField.getText(), \"Invalid email address.\");\n\n    }\n  }\n\n  @Test(priority = 1)\n  public void correctEmailonly() {\n    WebElement Email = driver.findElement(email);\n    Email.sendKeys(\"kasiatrzaska@o2.pl\");\n    WebElement SendButton = driver.findElement(sendButton);\n    SendButton.click();\n    WebElement ErrorField = driver.findElement(errorField);\n    {\n      Assert.assertEquals(ErrorField.getText(), \"The message cannot be blank.\");\n    }    \n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14418391,"reputation":1,"user_id":10415190,"display_name":"Kasia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701046895,"creation_date":1537905290,"question_id":52505791,"body_markdown":"I am totally new in automated testing.\r\nFor practice purposes, I want to create tests for the contact form in Selenium with TestNG. [This is the page] [1] I am using for practice. I created several test cases but I am not sure how to declare variables that I will be calling later on (in the same class). The code is below, I would like to declare &#39;Email&#39;, &#39;ErrorField&#39; and &#39;SendButton&#39; - all suggestions are much appreciated since I tried several ways and I am getting errors.\r\n\r\n\r\n    public class FormValidation {\r\n      protected static WebDriver driver;\r\n    \r\n      @BeforeTest()\r\n      public void beforeTest() {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://chromedriver.exe&quot;);\r\n      }\r\n    \r\n      @Test(priority = 0)\r\n      public void blankFormTest() {\r\n        driver = new ChromeDriver();\r\n        driver.get(&quot;http://automationpractice.com/index.php?controller=contact&quot;);\r\n    \r\n        WebElement SendButton = driver.findElement(By.id(&quot;submitMessage&quot;));\r\n        SendButton.click();\r\n        WebElement ErrorField = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;center_column\\&quot;]/div/ol/li&quot;));\r\n        {\r\n          Assert.assertEquals(ErrorField.getText(), &quot;Invalid email address.&quot;);\r\n    \r\n        }\r\n      }\r\n    \r\n      @Test(priority = 1)\r\n      public void correctEmailonly() {\r\n        WebElement Email = driver.findElement(By.id(&quot;email&quot;));\r\n        Email.sendKeys(&quot;kasiatrzaska@o2.pl&quot;);\r\n        WebElement SendButton = driver.findElement(By.id(&quot;submitMessage&quot;));\r\n        SendButton.click();\r\n        WebElement ErrorField = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;center_column\\&quot;]/div/ol/li&quot;));\r\n        {\r\n          Assert.assertEquals(ErrorField.getText(), &quot;The message cannot be blank.&quot;);\r\n        }\r\n    \r\n      }\r\n    }\r\n\r\n  [1]: http://automationpractice.com/index.php","title":"How to declare global variables using TestNG/Selenium/Java?","body":"<p>I am totally new in automated testing.\nFor practice purposes, I want to create tests for the contact form in Selenium with TestNG. <a href=\"http://automationpractice.com/index.php\" rel=\"nofollow noreferrer\">This is the page</a> I am using for practice. I created several test cases but I am not sure how to declare variables that I will be calling later on (in the same class). The code is below, I would like to declare 'Email', 'ErrorField' and 'SendButton' - all suggestions are much appreciated since I tried several ways and I am getting errors.</p>\n\n<pre><code>public class FormValidation {\n  protected static WebDriver driver;\n\n  @BeforeTest()\n  public void beforeTest() {\n    System.setProperty(\"webdriver.chrome.driver\", \"C://chromedriver.exe\");\n  }\n\n  @Test(priority = 0)\n  public void blankFormTest() {\n    driver = new ChromeDriver();\n    driver.get(\"http://automationpractice.com/index.php?controller=contact\");\n\n    WebElement SendButton = driver.findElement(By.id(\"submitMessage\"));\n    SendButton.click();\n    WebElement ErrorField = driver.findElement(By.xpath(\"//*[@id=\\\"center_column\\\"]/div/ol/li\"));\n    {\n      Assert.assertEquals(ErrorField.getText(), \"Invalid email address.\");\n\n    }\n  }\n\n  @Test(priority = 1)\n  public void correctEmailonly() {\n    WebElement Email = driver.findElement(By.id(\"email\"));\n    Email.sendKeys(\"kasiatrzaska@o2.pl\");\n    WebElement SendButton = driver.findElement(By.id(\"submitMessage\"));\n    SendButton.click();\n    WebElement ErrorField = driver.findElement(By.xpath(\"//*[@id=\\\"center_column\\\"]/div/ol/li\"));\n    {\n      Assert.assertEquals(ErrorField.getText(), \"The message cannot be blank.\");\n    }\n\n  }\n}\n</code></pre>\n"},{"tags":["java","awtrobot"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1597542043,"post_id":63432218,"comment_id":112165892,"body_markdown":"How do you know the pixel color is &quot;WHITE&quot;? There are different shades of white that can be displayed in an image. Did you display the value of both objects you are comparing?","body":"How do you know the pixel color is &quot;WHITE&quot;? There are different shades of white that can be displayed in an image. Did you display the value of both objects you are comparing?"},{"owner":{"account_id":19305327,"reputation":1,"user_id":14112267,"display_name":"nakyong"},"score":0,"creation_date":1597706126,"post_id":63432218,"comment_id":112215991,"body_markdown":"yeah I tried using the getPixelColor on it in a diff tab","body":"yeah I tried using the getPixelColor on it in a diff tab"}],"answers":[{"tags":[],"owner":{"account_id":19286785,"reputation":5,"user_id":14097609,"display_name":"Kici33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597540679,"creation_date":1597540679,"answer_id":63432261,"question_id":63432218,"body_markdown":"    var color = robot.getPixelColor(1802, 762);\r\nYou should put here Color instead of var\r\n\r\n    Color color = robot.getPixelColor(1802, 762);","title":"Java robot.getPixelColor if else statement not working","body":"<pre><code>var color = robot.getPixelColor(1802, 762);\n</code></pre>\n<p>You should put here Color instead of var</p>\n<pre><code>Color color = robot.getPixelColor(1802, 762);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7970339,"reputation":155,"user_id":6015274,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597543831,"creation_date":1597543831,"answer_id":63432485,"question_id":63432218,"body_markdown":"the var type is used heavily in javascript because it is a dynamic typed language. Java is a statically typed language, so it is not always a good idea to use it in most situation since it reduce readability. The var type has only been introduced in Java 10. you can only use var type in a few situation.\r\n\r\nIt will work with \r\n\r\nvar a = &quot;a string&quot;\r\nvar b = 2\r\n\r\nHowever it might not work with\r\n\r\nvar c = new object()\r\n\r\nThe reason is that the java compiler doesn&#39;t know at first what is the type of the value at the right hand side. It would work on Javascript but not in Java since it is a type-safe language.\r\n\r\nThus changing var to the correct type like Color would be wise. Also, I have noticed that your for-loop functionality will go forever. Was that your intention? if not, I&#39;ll suggest maybe double check your loop counter or your conditional statement.\r\n\r\n","title":"Java robot.getPixelColor if else statement not working","body":"<p>the var type is used heavily in javascript because it is a dynamic typed language. Java is a statically typed language, so it is not always a good idea to use it in most situation since it reduce readability. The var type has only been introduced in Java 10. you can only use var type in a few situation.</p>\n<p>It will work with</p>\n<p>var a = &quot;a string&quot;\nvar b = 2</p>\n<p>However it might not work with</p>\n<p>var c = new object()</p>\n<p>The reason is that the java compiler doesn't know at first what is the type of the value at the right hand side. It would work on Javascript but not in Java since it is a type-safe language.</p>\n<p>Thus changing var to the correct type like Color would be wise. Also, I have noticed that your for-loop functionality will go forever. Was that your intention? if not, I'll suggest maybe double check your loop counter or your conditional statement.</p>\n"}],"owner":{"account_id":19305327,"reputation":1,"user_id":14112267,"display_name":"nakyong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701045838,"creation_date":1597540187,"question_id":63432218,"body_markdown":"I am new to java and was wondering why my if(){}else{} statement wasn&#39;t working properly. Can anyone explain why?\r\nFor more context I was trying to make an auto clicker type thing that also moves the mouse to different spots to solve a rudimentary puzzle. \r\n\r\nThis is what I have so far \r\n\r\n\r\n    import java.awt*;\r\n    import java.awt.event.InputEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.Color;\r\n\r\n    class main {\r\n\r\n\r\n        public static void main (String[] args) throws Exception {\r\n            Robot robot = new Robot();\r\n            robot.mouseMove(1681, 679); \r\n            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n            robot.delay(10);\r\n            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n            robot.delay(1000);\r\n            for (int i = 2; i &gt;= 1; i++) {\r\n                robot.delay(3000);\r\n                var color = robot.getPixelColor(1802, 762);\r\n                if (color == Color.white) {\r\n                    robot.mouseMove(1700, 679); \r\n                    robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.delay(10);\r\n                    robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.delay(5000);\r\n                    robot.mouseMove(1700, 679);\r\n                    robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.delay(100);//click delay\r\n                    robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.mouseMove(1569, 973);\r\n                    robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.delay(100);\r\n                    robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.delay(200);\r\n                    robot.mouseMove(1142, 729);\r\n                    robot.delay(1500);\r\n                    robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.delay(100);\r\n                    robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.delay(3000);\r\n                    robot.mouseWheel(10);\r\n                    robot.mouseMove(391, 822);\r\n                    robot.delay(500);\r\n                    robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.delay(100);\r\n                    robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n                } else {\r\n                    robot.mouseMove(1681, 679); \r\n                    robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.delay(10);\r\n                    robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n                    robot.keyPress(KeyEvent.VK_CONTROL);\r\n                    robot.keyPress(KeyEvent.VK_R);\r\n                    robot.keyRelease(KeyEvent.VK_CONTROL);\r\n                    robot.keyRelease(KeyEvent.VK_R);\r\n                    robot.delay(10000);\r\n                }\r\n\r\n            }\r\n        }\r\n        }\r\n","title":"Java robot.getPixelColor if else statement not working","body":"<p>I am new to java and was wondering why my if(){}else{} statement wasn't working properly. Can anyone explain why?\nFor more context I was trying to make an auto clicker type thing that also moves the mouse to different spots to solve a rudimentary puzzle.</p>\n<p>This is what I have so far</p>\n<pre><code>import java.awt*;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.Color;\n\nclass main {\n\n\n    public static void main (String[] args) throws Exception {\n        Robot robot = new Robot();\n        robot.mouseMove(1681, 679); \n        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n        robot.delay(10);\n        robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n        robot.delay(1000);\n        for (int i = 2; i &gt;= 1; i++) {\n            robot.delay(3000);\n            var color = robot.getPixelColor(1802, 762);\n            if (color == Color.white) {\n                robot.mouseMove(1700, 679); \n                robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(10);\n                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(5000);\n                robot.mouseMove(1700, 679);\n                robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(100);//click delay\n                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n                robot.mouseMove(1569, 973);\n                robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(100);\n                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(200);\n                robot.mouseMove(1142, 729);\n                robot.delay(1500);\n                robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(100);\n                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(3000);\n                robot.mouseWheel(10);\n                robot.mouseMove(391, 822);\n                robot.delay(500);\n                robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(100);\n                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n            } else {\n                robot.mouseMove(1681, 679); \n                robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(10);\n                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n                robot.keyPress(KeyEvent.VK_CONTROL);\n                robot.keyPress(KeyEvent.VK_R);\n                robot.keyRelease(KeyEvent.VK_CONTROL);\n                robot.keyRelease(KeyEvent.VK_R);\n                robot.delay(10000);\n            }\n\n        }\n    }\n    }\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","datetimeformatter"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1701037230,"post_id":77553562,"comment_id":136722191,"body_markdown":"Are new elements added after that constructor initialization?  If no, then only reading from the Map would be thread safe.","body":"Are new elements added after that constructor initialization?  If no, then only reading from the Map would be thread safe."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701041074,"creation_date":1701037467,"answer_id":77553706,"question_id":77553562,"body_markdown":"# tl;dr\r\n\r\nIf your intent is a single instance, pre-populated, and unmodified, then the following code should be thread-safe. \r\n\r\nIf `final` and unmodifiable, you can provide direct access to the map, if that is helpful in your code situation.\r\n\r\n```java\r\npublic class DateService\r\n{\r\n    // Member fields.\r\n    public final Map&lt; String, DateTimeFormatter &gt; formatsByPurpose;\r\n    \r\n    // Constructor\r\n    public DateService( … )\r\n    {\r\n        this.formatsByPurpose = \r\n                Map.of(\r\n                        &quot;gui&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                        &quot;print&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                        &quot;json&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                        &quot;html&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                );\r\n        …\r\n    }\r\n}\r\n```\r\n\r\nIf you intend to have only a single map created, but may modify its contents, then perhaps this code. \r\n\r\nWe use `Map.of` here for its convenient literals-syntax, but pass it to a constructor for another map. \r\n\r\nNotice that we define the member field as `ConcurrentMap` to advertise to the reader its thread-safety, and to double-check our code to ensure we assign only an object that implements `ConcurrentMap`.\r\n\r\n```java\r\npublic class DateService\r\n{\r\n    // Member fields.\r\n    public final ConcurrentMap&lt; String, DateTimeFormatter &gt; formatsByPurpose;\r\n    \r\n    // Constructor\r\n    public DateService( … )\r\n    {\r\n        Map&lt; String , DateTimeFormatter &gt; map = \r\n                Map.of(\r\n                        &quot;gui&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                        &quot;print&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                        &quot;json&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                        &quot;html&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                );\r\n        this.formatsByPurpose = new ConcurrentHashMap&lt;&gt;( map ) ;\r\n        …\r\n    }\r\n}\r\n```\r\n\r\nIf you intend to possibly replace the entire map with another map object, then use [`AtomicReference`][1] (or, alternatively, mark it `volatile`).\r\n\r\nNotice the `…Ref` added to the member field name to remind the reader of it being an atomic reference, meaning it takes us one step away from the payload we actually care about (the map).\r\n\r\nWe mark the atomic reference as `final` to prevent our member field from ever being assigned to any other `AtomicReference` object. So the payload (the map object’s reference) may be changed out, but its container (the `AtomicReference` object) remains fixed.\r\n\r\n```java\r\npublic class DateService\r\n{\r\n    // Member fields.\r\n    public final AtomicReference&lt; ConcurrentMap&lt; String, DateTimeFormatter &gt; &gt; formatsByPurposeRef = new AtomicReference&lt;&gt;() ;\r\n    \r\n    // Constructor\r\n    public DateService( … )\r\n    {\r\n        ConcurrentMap&lt; String , DateTimeFormatter &gt; map = \r\n                Map.of(\r\n                        &quot;gui&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                        &quot;print&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                        &quot;json&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                        &quot;html&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\r\n                );\r\n        this.formatsByPurposeRef.set( new ConcurrentHashMap&lt;&gt;( map ) ) ;\r\n        …\r\n    }\r\n}\r\n```\r\n\r\nTo modify the map stored away inside an atomic reference, go through the atomic.\r\n\r\n```java\r\nmyDateService.formatsByPurposeRef.get().remove( &quot;html&quot; ) ;  // Optionally capture the returned (and now removed) `DateTimeFormatter` object.\r\n```\r\n\r\nCaveat: All that code is untested, off the top of my head.\r\n\r\n# Details\r\n\r\nRegarding [thread-safety][2], two considerations:\r\n\r\n - `DateTimeFormatter` objects themselves are guaranteed by the the Javadoc to be thread-safe. Being immutable contributes towards being thread-safe. To quote the Javadoc: ***Implementation Requirements:** This class is immutable and thread-safe.*\r\n - Any `Map` implementation that you (a) populate ahead of usage, and (b) do not modify (no puts, no removes), is thread-safe for retrieval. \r\n\r\nSo key part here, which you did not explain, is your intention to (a) modify or not modify the map, and (b) replace or not replace the map.\r\n\r\n - If you might possibly modify the map, be sure to use a thread-safe implementation of `Map`. The `HashMap` implementation is *not* thread-safe under possibly modified. Use a `Map` class that implements [`ConcurrentMap`][3]. Java comes bundled with two such implementations: `ConcurrentHashMap` &amp; `ConcurrentSkipListMap`. You may find third-party ones, perhaps in *Eclipse Collections* and/or *Google Guava*.\r\n - If you intend to *not* modify the map, use an implementation that is [unmodifiable][4]. Then, no thread-safety worries.\r\n\r\n\r\n&gt; Should I make it `ConcurrentHashMap`\r\n\r\nOnly if you intend to modify the elements of the map.\r\n\r\n&gt; Should I make it … volatile\r\n\r\nNot if you instantiate (once, and only once) and populate before any possible usage. I personally prefer this approach. Instantiating &amp; populating in a constructor is one good way to do this. \r\n\r\nIf your intention is to instantiate a single `Map` object, and keep it unmodifiable, then two tips:\r\n\r\n - Mark the `Map` field as `final` to ensure that another map object’s reference is never assigned to that variable. \r\n - Use `Map.of` or `Map.copyOf` to ensure your map cannot be modified. \r\n\r\nIf you intend to switch out one map object for another during runtime, then you definitely have an &quot;visibility&quot; issue. In that case, you can either (a) mark the field `volatile` or (b) use an `AtomicReference` variable to hold the current map object’s reference. I personally prefer the latter because I like how `Atomic…` screams out to the reader that we are protecting a resource under concurrent access. Having to use the `Atomic…` methods everywhere keeps us aware of being in a multi-threaded situation. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\r\n  [2]: https://en.wikipedia.org/wiki/Thread_safety\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html#unmodifiable","title":"Should I use a thread-safe map implementation with DateTimeFormatter?","body":"<h1>tl;dr</h1>\n<p>If your intent is a single instance, pre-populated, and unmodified, then the following code should be thread-safe.</p>\n<p>If <code>final</code> and unmodifiable, you can provide direct access to the map, if that is helpful in your code situation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateService\n{\n    // Member fields.\n    public final Map&lt; String, DateTimeFormatter &gt; formatsByPurpose;\n    \n    // Constructor\n    public DateService( … )\n    {\n        this.formatsByPurpose = \n                Map.of(\n                        &quot;gui&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                        &quot;print&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                        &quot;json&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                        &quot;html&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                );\n        …\n    }\n}\n</code></pre>\n<p>If you intend to have only a single map created, but may modify its contents, then perhaps this code.</p>\n<p>We use <code>Map.of</code> here for its convenient literals-syntax, but pass it to a constructor for another map.</p>\n<p>Notice that we define the member field as <code>ConcurrentMap</code> to advertise to the reader its thread-safety, and to double-check our code to ensure we assign only an object that implements <code>ConcurrentMap</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateService\n{\n    // Member fields.\n    public final ConcurrentMap&lt; String, DateTimeFormatter &gt; formatsByPurpose;\n    \n    // Constructor\n    public DateService( … )\n    {\n        Map&lt; String , DateTimeFormatter &gt; map = \n                Map.of(\n                        &quot;gui&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                        &quot;print&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                        &quot;json&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                        &quot;html&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                );\n        this.formatsByPurpose = new ConcurrentHashMap&lt;&gt;( map ) ;\n        …\n    }\n}\n</code></pre>\n<p>If you intend to possibly replace the entire map with another map object, then use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a> (or, alternatively, mark it <code>volatile</code>).</p>\n<p>Notice the <code>…Ref</code> added to the member field name to remind the reader of it being an atomic reference, meaning it takes us one step away from the payload we actually care about (the map).</p>\n<p>We mark the atomic reference as <code>final</code> to prevent our member field from ever being assigned to any other <code>AtomicReference</code> object. So the payload (the map object’s reference) may be changed out, but its container (the <code>AtomicReference</code> object) remains fixed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateService\n{\n    // Member fields.\n    public final AtomicReference&lt; ConcurrentMap&lt; String, DateTimeFormatter &gt; &gt; formatsByPurposeRef = new AtomicReference&lt;&gt;() ;\n    \n    // Constructor\n    public DateService( … )\n    {\n        ConcurrentMap&lt; String , DateTimeFormatter &gt; map = \n                Map.of(\n                        &quot;gui&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                        &quot;print&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                        &quot;json&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                        &quot;html&quot; , DateTimeFormatter.of( … ).withLocale( … ) ,\n                );\n        this.formatsByPurposeRef.set( new ConcurrentHashMap&lt;&gt;( map ) ) ;\n        …\n    }\n}\n</code></pre>\n<p>To modify the map stored away inside an atomic reference, go through the atomic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>myDateService.formatsByPurposeRef.get().remove( &quot;html&quot; ) ;  // Optionally capture the returned (and now removed) `DateTimeFormatter` object.\n</code></pre>\n<p>Caveat: All that code is untested, off the top of my head.</p>\n<h1>Details</h1>\n<p>Regarding <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safety</a>, two considerations:</p>\n<ul>\n<li><code>DateTimeFormatter</code> objects themselves are guaranteed by the the Javadoc to be thread-safe. Being immutable contributes towards being thread-safe. To quote the Javadoc: <em><strong>Implementation Requirements:</strong> This class is immutable and thread-safe.</em></li>\n<li>Any <code>Map</code> implementation that you (a) populate ahead of usage, and (b) do not modify (no puts, no removes), is thread-safe for retrieval.</li>\n</ul>\n<p>So key part here, which you did not explain, is your intention to (a) modify or not modify the map, and (b) replace or not replace the map.</p>\n<ul>\n<li>If you might possibly modify the map, be sure to use a thread-safe implementation of <code>Map</code>. The <code>HashMap</code> implementation is <em>not</em> thread-safe under possibly modified. Use a <code>Map</code> class that implements <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentMap</code></a>. Java comes bundled with two such implementations: <code>ConcurrentHashMap</code> &amp; <code>ConcurrentSkipListMap</code>. You may find third-party ones, perhaps in <em>Eclipse Collections</em> and/or <em>Google Guava</em>.</li>\n<li>If you intend to <em>not</em> modify the map, use an implementation that is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable</a>. Then, no thread-safety worries.</li>\n</ul>\n<blockquote>\n<p>Should I make it <code>ConcurrentHashMap</code></p>\n</blockquote>\n<p>Only if you intend to modify the elements of the map.</p>\n<blockquote>\n<p>Should I make it … volatile</p>\n</blockquote>\n<p>Not if you instantiate (once, and only once) and populate before any possible usage. I personally prefer this approach. Instantiating &amp; populating in a constructor is one good way to do this.</p>\n<p>If your intention is to instantiate a single <code>Map</code> object, and keep it unmodifiable, then two tips:</p>\n<ul>\n<li>Mark the <code>Map</code> field as <code>final</code> to ensure that another map object’s reference is never assigned to that variable.</li>\n<li>Use <code>Map.of</code> or <code>Map.copyOf</code> to ensure your map cannot be modified.</li>\n</ul>\n<p>If you intend to switch out one map object for another during runtime, then you definitely have an &quot;visibility&quot; issue. In that case, you can either (a) mark the field <code>volatile</code> or (b) use an <code>AtomicReference</code> variable to hold the current map object’s reference. I personally prefer the latter because I like how <code>Atomic…</code> screams out to the reader that we are protecting a resource under concurrent access. Having to use the <code>Atomic…</code> methods everywhere keeps us aware of being in a multi-threaded situation.</p>\n"}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701041074,"creation_date":1701034476,"question_id":77553562,"body_markdown":"Please help me figure it out, I think I&#39;m confused. I have a class contains HashMap&lt;String, DateTimeFormatter&gt; that is populated when the application starts.\r\n```\r\npublic class DateService{\r\n   private final Map&lt;String, DateTimeFormatter&gt; map;\r\n   public PeopleService(String pattern){\r\n     map = new HashMap&lt;String, DateTimeFormatter&gt;();\r\n     map.put(pattern, DateTimeFormatter.ofPattern(pattern)); //it is only test example\r\n   }\r\n}\r\n```\r\nShould I make it `ConcurrentHashMap` or `volatile` to convert the date into multiple threads?\r\n\r\nA similar question if I want to use `List&lt;DateTimeFormatter&gt;`  to convert dates in multiple threads","title":"Should I use a thread-safe map implementation with DateTimeFormatter?","body":"<p>Please help me figure it out, I think I'm confused. I have a class contains HashMap&lt;String, DateTimeFormatter&gt; that is populated when the application starts.</p>\n<pre><code>public class DateService{\n   private final Map&lt;String, DateTimeFormatter&gt; map;\n   public PeopleService(String pattern){\n     map = new HashMap&lt;String, DateTimeFormatter&gt;();\n     map.put(pattern, DateTimeFormatter.ofPattern(pattern)); //it is only test example\n   }\n}\n</code></pre>\n<p>Should I make it <code>ConcurrentHashMap</code> or <code>volatile</code> to convert the date into multiple threads?</p>\n<p>A similar question if I want to use <code>List&lt;DateTimeFormatter&gt;</code>  to convert dates in multiple threads</p>\n"},{"tags":["java","android","sqlite"],"owner":{"account_id":29929802,"reputation":1,"user_id":22989924,"display_name":"Nikita "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701040558,"creation_date":1701040558,"question_id":77553829,"body_markdown":"I am reaching out regarding an issue that I have encountered in my development process. When attempting to open the local database /data/data/com.example.handwritingfontconverter/databases/SettingsDB, I receive the following error:\r\n\r\n\r\n\r\n```\r\nCan&#39;t open offline database `/data/data/com.example.handwritingfontconverter/databases/SettingsDB`: Device &#39;Pixel_XL_API_28 emulator-5554&#39; not found.\r\n```\r\n\r\n\r\n\r\nI seek your assistance in understanding and resolving this issue. There might be internal problems or conflicts that you can help address. I am prepared to provide additional data, logs, or any other information to facilitate the resolution of this situation.\r\n\r\nMy emulated Pixel XL API 28 system with the specified name &#39;emulator-5554&#39; is connected and fully loaded. I have confirmed this using the adb devices command and also tracked the connection to the process with the identifier 6816.","title":"Request for Assistance: Database Access Issue on Emulated Device","body":"<p>I am reaching out regarding an issue that I have encountered in my development process. When attempting to open the local database /data/data/com.example.handwritingfontconverter/databases/SettingsDB, I receive the following error:</p>\n<pre><code>Can't open offline database `/data/data/com.example.handwritingfontconverter/databases/SettingsDB`: Device 'Pixel_XL_API_28 emulator-5554' not found.\n</code></pre>\n<p>I seek your assistance in understanding and resolving this issue. There might be internal problems or conflicts that you can help address. I am prepared to provide additional data, logs, or any other information to facilitate the resolution of this situation.</p>\n<p>My emulated Pixel XL API 28 system with the specified name 'emulator-5554' is connected and fully loaded. I have confirmed this using the adb devices command and also tracked the connection to the process with the identifier 6816.</p>\n"},{"tags":["java","docker","apache-flink","amazon-emr","flink-sql"],"answers":[{"tags":[],"owner":{"account_id":5289973,"reputation":1378,"user_id":4222853,"display_name":"Jaehyeon Kim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701039343,"creation_date":1700799748,"answer_id":77540711,"question_id":77539526,"body_markdown":"I checked `sql-client.sh` further and it writes to `/mnt/tmp` rather than `/tmp`. Creating the temporary directory before hand fixed the issue and I created a custom Docker image by adding the following.\r\n\r\n```\r\nRUN mkdir -p /mnt/tmp\r\n```\r\n\r\nIt would affect not only the SQL client but also other places where `getAvailablePort()` is applied. Therefore it&#39;s necessary to update the Docker image.","title":"Fail to start Flink SQL client on EMR on EKS docker image","body":"<p>I checked <code>sql-client.sh</code> further and it writes to <code>/mnt/tmp</code> rather than <code>/tmp</code>. Creating the temporary directory before hand fixed the issue and I created a custom Docker image by adding the following.</p>\n<pre><code>RUN mkdir -p /mnt/tmp\n</code></pre>\n<p>It would affect not only the SQL client but also other places where <code>getAvailablePort()</code> is applied. Therefore it's necessary to update the Docker image.</p>\n"}],"owner":{"account_id":5289973,"reputation":1378,"user_id":4222853,"display_name":"Jaehyeon Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701039343,"creation_date":1700771837,"question_id":77539526,"body_markdown":"I&#39;m playing with the Flink docker image of EMR on EKS - *public.ecr.aws/emr-on-eks/flink/emr-6.15.0-flink:latest*. When I try to start the SQL client, I see the following error. (I don&#39;t see this error when I use the official flink image.)\r\n\r\n```\r\n06:33:00.495 [main] ERROR org.apache.flink.table.client.SqlClient - SQL Client must stop. Unexpected exception. This is a bug. Please consider filing an issue.\r\njava.lang.RuntimeException: Could not find a free permitted port on the machine.\r\n        at org.apache.flink.util.NetUtils.getAvailablePort(NetUtils.java:177) ~[flink-dist-1.17.1-amzn-1.jar:1.17.1-amzn-1]\r\n        at org.apache.flink.table.client.SqlClient$EmbeddedGateway.create(SqlClient.java:257) ~[flink-sql-client-1.17.1-amzn-1.jar:1.17.1-amzn-1]\r\n        at org.apache.flink.table.client.SqlClient.start(SqlClient.java:108) ~[flink-sql-client-1.17.1-amzn-1.jar:1.17.1-amzn-1]\r\n        at org.apache.flink.table.client.SqlClient.startClient(SqlClient.java:228) [flink-sql-client-1.17.1-amzn-1.jar:1.17.1-amzn-1]\r\n        at org.apache.flink.table.client.SqlClient.main(SqlClient.java:179) [flink-sql-client-1.17.1-amzn-1.jar:1.17.1-amzn-1]\r\nException in thread &quot;main&quot; org.apache.flink.table.client.SqlClientException: Unexpected exception. This is a bug. Please consider filing an issue.\r\n        at org.apache.flink.table.client.SqlClient.startClient(SqlClient.java:242)\r\n        at org.apache.flink.table.client.SqlClient.main(SqlClient.java:179)\r\nCaused by: java.lang.RuntimeException: Could not find a free permitted port on the machine.\r\n        at org.apache.flink.util.NetUtils.getAvailablePort(NetUtils.java:177)\r\n        at org.apache.flink.table.client.SqlClient$EmbeddedGateway.create(SqlClient.java:257)\r\n        at org.apache.flink.table.client.SqlClient.start(SqlClient.java:108)\r\n        at org.apache.flink.table.client.SqlClient.startClient(SqlClient.java:228)\r\n        ... 1 more\r\n```\r\n\r\nIt looks to be caused by the `getAvailablePort()` of the *NetUtils* class (*NetUtils.java*).\r\n\r\n```java\r\npublic static Port getAvailablePort() {\r\n\tfor (int i = 0; i &lt; 50; i++) {\r\n\t\ttry (ServerSocket serverSocket = new ServerSocket(0)) {\r\n\t\t\tint port = serverSocket.getLocalPort();\r\n\t\t\tif (port != 0) {\r\n\t\t\t\tFileLock fileLock = new FileLock(NetUtils.class.getName() + port);\r\n\t\t\t\tif (fileLock.tryLock()) {\r\n\t\t\t\t\treturn new Port(port, fileLock);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfileLock.unlockAndDestroy();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException ignored) {\r\n\t\t}\r\n\t}\r\n\r\n\tthrow new RuntimeException(&quot;Could not find a free permitted port on the machine.&quot;);\r\n}\r\n```\r\n\r\nI see a related Jira ticket (https://issues.apache.org/jira/browse/FLINK-28613) and it seems to be resolved by changing file permission. However it doesn&#39;t work for me. Basically I&#39;m not sure why it fails to do FileLock on the `/tmp` folder.\r\n\r\nCould you please inform me how I may be able to fix it?\r\n\r\nThanks!","title":"Fail to start Flink SQL client on EMR on EKS docker image","body":"<p>I'm playing with the Flink docker image of EMR on EKS - <em>public.ecr.aws/emr-on-eks/flink/emr-6.15.0-flink:latest</em>. When I try to start the SQL client, I see the following error. (I don't see this error when I use the official flink image.)</p>\n<pre><code>06:33:00.495 [main] ERROR org.apache.flink.table.client.SqlClient - SQL Client must stop. Unexpected exception. This is a bug. Please consider filing an issue.\njava.lang.RuntimeException: Could not find a free permitted port on the machine.\n        at org.apache.flink.util.NetUtils.getAvailablePort(NetUtils.java:177) ~[flink-dist-1.17.1-amzn-1.jar:1.17.1-amzn-1]\n        at org.apache.flink.table.client.SqlClient$EmbeddedGateway.create(SqlClient.java:257) ~[flink-sql-client-1.17.1-amzn-1.jar:1.17.1-amzn-1]\n        at org.apache.flink.table.client.SqlClient.start(SqlClient.java:108) ~[flink-sql-client-1.17.1-amzn-1.jar:1.17.1-amzn-1]\n        at org.apache.flink.table.client.SqlClient.startClient(SqlClient.java:228) [flink-sql-client-1.17.1-amzn-1.jar:1.17.1-amzn-1]\n        at org.apache.flink.table.client.SqlClient.main(SqlClient.java:179) [flink-sql-client-1.17.1-amzn-1.jar:1.17.1-amzn-1]\nException in thread &quot;main&quot; org.apache.flink.table.client.SqlClientException: Unexpected exception. This is a bug. Please consider filing an issue.\n        at org.apache.flink.table.client.SqlClient.startClient(SqlClient.java:242)\n        at org.apache.flink.table.client.SqlClient.main(SqlClient.java:179)\nCaused by: java.lang.RuntimeException: Could not find a free permitted port on the machine.\n        at org.apache.flink.util.NetUtils.getAvailablePort(NetUtils.java:177)\n        at org.apache.flink.table.client.SqlClient$EmbeddedGateway.create(SqlClient.java:257)\n        at org.apache.flink.table.client.SqlClient.start(SqlClient.java:108)\n        at org.apache.flink.table.client.SqlClient.startClient(SqlClient.java:228)\n        ... 1 more\n</code></pre>\n<p>It looks to be caused by the <code>getAvailablePort()</code> of the <em>NetUtils</em> class (<em>NetUtils.java</em>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Port getAvailablePort() {\n    for (int i = 0; i &lt; 50; i++) {\n        try (ServerSocket serverSocket = new ServerSocket(0)) {\n            int port = serverSocket.getLocalPort();\n            if (port != 0) {\n                FileLock fileLock = new FileLock(NetUtils.class.getName() + port);\n                if (fileLock.tryLock()) {\n                    return new Port(port, fileLock);\n                } else {\n                    fileLock.unlockAndDestroy();\n                }\n            }\n        } catch (IOException ignored) {\n        }\n    }\n\n    throw new RuntimeException(&quot;Could not find a free permitted port on the machine.&quot;);\n}\n</code></pre>\n<p>I see a related Jira ticket (<a href=\"https://issues.apache.org/jira/browse/FLINK-28613\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/FLINK-28613</a>) and it seems to be resolved by changing file permission. However it doesn't work for me. Basically I'm not sure why it fails to do FileLock on the <code>/tmp</code> folder.</p>\n<p>Could you please inform me how I may be able to fix it?</p>\n<p>Thanks!</p>\n"},{"tags":["java","break"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1531696971,"post_id":51352927,"comment_id":89678416,"body_markdown":"IMHO &quot;labels&quot; should be avoided - if you find yourself in a situation you think you need to labels, then your design is wrong and you should go back and rethink it until you don&#39;t see the need for labels","body":"IMHO &quot;labels&quot; should be avoided - if you find yourself in a situation you think you need to labels, then your design is wrong and you should go back and rethink it until you don&#39;t see the need for labels"},{"owner":{"account_id":13508159,"reputation":2421,"user_id":9745452,"display_name":"Coder-Man"},"score":1,"creation_date":1531697282,"post_id":51352927,"comment_id":89678458,"body_markdown":"@MadProgrammer I am preparing for the oracle certified associate exam, it doesn&#39;t care about best practices.","body":"@MadProgrammer I am preparing for the oracle certified associate exam, it doesn&#39;t care about best practices."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1701038960,"creation_date":1531697798,"answer_id":51353002,"question_id":51352927,"body_markdown":"&gt; How do you use the label statement in Java?\r\n\r\nIt isn&#39;t a statement. It is an optional attribute of an executable statement.\r\n\r\n&gt; According to the java book I am reading right now, you can use labels with the following types of statements ...\r\n\r\nYour book is wrong. According to the [Java Language Specification #14.7](https://docs.oracle.com/javase/specs/jls/se10/html/jls-14.html#jls-14.7), *any* statement can have a label. However they can only be *referenced* by `break` statements, which in turn can only appear inside `switch, while, do,` or `for` statements (#14.15), or by `continue` statements, which in turn can only appear inside `while, do,` or `for` statements (#14.15).\r\n\r\n&gt; what are some useful examples of using them with the other kind of statements, like expressions, assignments, return statements and throw statements?\r\n\r\nThere aren&#39;t any.","title":"How do you use the label statement in java?","body":"<blockquote>\n<p>How do you use the label statement in Java?</p>\n</blockquote>\n<p>It isn't a statement. It is an optional attribute of an executable statement.</p>\n<blockquote>\n<p>According to the java book I am reading right now, you can use labels with the following types of statements ...</p>\n</blockquote>\n<p>Your book is wrong. According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-14.html#jls-14.7\" rel=\"nofollow noreferrer\">Java Language Specification #14.7</a>, <em>any</em> statement can have a label. However they can only be <em>referenced</em> by <code>break</code> statements, which in turn can only appear inside <code>switch, while, do,</code> or <code>for</code> statements (#14.15), or by <code>continue</code> statements, which in turn can only appear inside <code>while, do,</code> or <code>for</code> statements (#14.15).</p>\n<blockquote>\n<p>what are some useful examples of using them with the other kind of statements, like expressions, assignments, return statements and throw statements?</p>\n</blockquote>\n<p>There aren't any.</p>\n"},{"tags":[],"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1531697864,"creation_date":1531697864,"answer_id":51353009,"question_id":51352927,"body_markdown":"There is no such thing as a useful example of label use. Apparently you are well aware of useless examples.\r\n\r\nThere is no such thing as a label use that add anything new compared to not have the label at all, when the label is not before a code block. The language chose to allow it, but using this permission is without visible effects.","title":"How do you use the label statement in java?","body":"<p>There is no such thing as a useful example of label use. Apparently you are well aware of useless examples.</p>\n\n<p>There is no such thing as a label use that add anything new compared to not have the label at all, when the label is not before a code block. The language chose to allow it, but using this permission is without visible effects.</p>\n"},{"tags":[],"owner":{"account_id":25055884,"reputation":1,"user_id":18911269,"display_name":"Anurag Vattipalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673193408,"creation_date":1673193408,"answer_id":75049217,"question_id":51352927,"body_markdown":"In a nested loop, for example, if you create a label for the outer loop, you can use a label statement to break out of the outer loop even if you are currently inside the inner loop. Look at my example.\r\n\r\n    OUTER_LOOP: for (int i = 0; i &lt; 10; i++) {\r\n                 System.out.print(i + &quot; &quot;);\r\n        INNER_LOOP: for (int j = 0; j &lt; 10; j++) {\r\n                     System.out.print(j);\r\n                     break OUTER_LOOP;\r\n        }\r\n        }","title":"How do you use the label statement in java?","body":"<p>In a nested loop, for example, if you create a label for the outer loop, you can use a label statement to break out of the outer loop even if you are currently inside the inner loop. Look at my example.</p>\n<pre><code>OUTER_LOOP: for (int i = 0; i &lt; 10; i++) {\n             System.out.print(i + &quot; &quot;);\n    INNER_LOOP: for (int j = 0; j &lt; 10; j++) {\n                 System.out.print(j);\n                 break OUTER_LOOP;\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":13508159,"reputation":2421,"user_id":9745452,"display_name":"Coder-Man"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":51353002,"answer_count":3,"score":2,"last_activity_date":1701038960,"creation_date":1531696844,"question_id":51352927,"body_markdown":"According to the java book I am reading right now, you can use labels with the following types of statements:\r\n\r\n - A code block defined using {}\r\n - All looping statements (for, enhanced for, while, do-while)\r\n - Conditional constructs (if and switch)\r\n - Expressions\r\n - Assignments\r\n - return statements\r\n - try blocks\r\n - throw statements\r\n\r\nI understand how to use them with constructs that have curly braces but what are some useful examples of using them with the other kind of statements, like expressions, assignments, return statements and throw statements?","title":"How do you use the label statement in java?","body":"<p>According to the java book I am reading right now, you can use labels with the following types of statements:</p>\n\n<ul>\n<li>A code block defined using {}</li>\n<li>All looping statements (for, enhanced for, while, do-while)</li>\n<li>Conditional constructs (if and switch)</li>\n<li>Expressions</li>\n<li>Assignments</li>\n<li>return statements</li>\n<li>try blocks</li>\n<li>throw statements</li>\n</ul>\n\n<p>I understand how to use them with constructs that have curly braces but what are some useful examples of using them with the other kind of statements, like expressions, assignments, return statements and throw statements?</p>\n"},{"tags":["java","eclipse","audio"],"comments":[{"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"score":0,"creation_date":1701039755,"post_id":77553635,"comment_id":136722392,"body_markdown":"I added String[] args to main and was able to run your code without errors with an example .wav file I found online. Maybe you have an issue with your set up in your IDE? Try looking at \n\nhttps://stackoverflow.com/questions/49520858/error-occurred-during-initialization-of-boot-layer-findexception-module-not-fou\nDoes it run if you put a test print out and remove all your code?","body":"I added String[] args to main and was able to run your code without errors with an example .wav file I found online. Maybe you have an issue with your set up in your IDE? Try looking at   <a href=\"https://stackoverflow.com/questions/49520858/error-occurred-during-initialization-of-boot-layer-findexception-module-not-fou\" title=\"error occurred during initialization of boot layer findexception module not fou\">stackoverflow.com/questions/49520858/&hellip;</a> Does it run if you put a test print out and remove all your code?"},{"owner":{"account_id":27703208,"reputation":9,"user_id":21147408,"display_name":"mimi"},"score":0,"creation_date":1701072803,"post_id":77553635,"comment_id":136724984,"body_markdown":"Yes, if I try to run another code, it works, and I also added String[] args but I still have the same problem","body":"Yes, if I try to run another code, it works, and I also added String[] args but I still have the same problem"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1701096526,"post_id":77553635,"comment_id":136729208,"body_markdown":"Your question still shows the broken main method. Please fix it. The error message `Package jdk.internal.jimage.decompressor in both module java.base and module jrt.fs` indicates that your project or launch configuration is broken. Please show what you have in _Project &gt; Properties: Java Build Path_ tab _Libraries_ and in the launch configuration in the tabs _Arguments_ and _Dependencies_.","body":"Your question still shows the broken main method. Please fix it. The error message <code>Package jdk.internal.jimage.decompressor in both module java.base and module jrt.fs</code> indicates that your project or launch configuration is broken. Please show what you have in <i>Project &gt; Properties: Java Build Path</i> tab <i>Libraries</i> and in the launch configuration in the tabs <i>Arguments</i> and <i>Dependencies</i>."}],"owner":{"account_id":27703208,"reputation":9,"user_id":21147408,"display_name":"mimi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701038693,"creation_date":1701035873,"question_id":77553635,"body_markdown":"I am trying to play a wav sound on java on eclipse, and for that, I use javax.sound.sampled, here is the code I wrote for that :\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\nimport javax.sound.sampled.*;\r\n\r\npublic class Son {\r\n\tpublic static void main() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tFile file= new File(&quot;Hotlanta-Track-Tribe.wav&quot;);\r\n\t\tAudioInputStream audioStream= AudioSystem.getAudioInputStream(file);\r\n\t\tClip clip= AudioSystem.getClip();\r\n\t\tclip.open(audioStream);\r\n\t\tclip.start();\r\n\t\tString response= scanner.next();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nthe error I get is : Error occurred during initialization of boot layer\r\njava.lang.LayerInstantiationException: Package jdk.internal.jimage.decompressor in both module java.base and module jrt.fs\r\n\r\n\r\nCan someone help?","title":"error while trying to play a sound using javax.sound.sampled on eclipse","body":"<p>I am trying to play a wav sound on java on eclipse, and for that, I use javax.sound.sampled, here is the code I wrote for that :</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.Scanner;\n\nimport javax.sound.sampled.*;\n\npublic class Son {\n    public static void main() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n        Scanner scanner = new Scanner(System.in);\n        File file= new File(&quot;Hotlanta-Track-Tribe.wav&quot;);\n        AudioInputStream audioStream= AudioSystem.getAudioInputStream(file);\n        Clip clip= AudioSystem.getClip();\n        clip.open(audioStream);\n        clip.start();\n        String response= scanner.next();\n    }\n}\n\n</code></pre>\n<p>the error I get is : Error occurred during initialization of boot layer\njava.lang.LayerInstantiationException: Package jdk.internal.jimage.decompressor in both module java.base and module jrt.fs</p>\n<p>Can someone help?</p>\n"},{"tags":["java","performance","excel","apache-poi","autosize"],"comments":[{"owner":{"account_id":3148532,"reputation":8619,"user_id":2662489,"accept_rate":88,"display_name":"developerwjk"},"score":1,"creation_date":1380031929,"post_id":18983203,"comment_id":28041633,"body_markdown":"sheet.autoSizeColumn(i, false) might be a little faster","body":"sheet.autoSizeColumn(i, false) might be a little faster"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1380050800,"post_id":18983203,"comment_id":28053077,"body_markdown":"It&#39;s slow because it has to calculate the width of that cell in every row of your document. Any chance you could change your logic so you write the first few rows, size based on just those, then add the rest of the rows in later?","body":"It&#39;s slow because it has to calculate the width of that cell in every row of your document. Any chance you could change your logic so you write the first few rows, size based on just those, then add the rest of the rows in later?"},{"owner":{"account_id":2819793,"reputation":959,"user_id":2423796,"display_name":"antken"},"score":0,"creation_date":1380118289,"post_id":18983203,"comment_id":28081057,"body_markdown":"@developerwjk absolutely agree, according the source code of the poi library, it iterates through all merged regions every time it calculates the width of every single cell","body":"@developerwjk absolutely agree, according the source code of the poi library, it iterates through all merged regions every time it calculates the width of every single cell"},{"owner":{"account_id":2819793,"reputation":959,"user_id":2423796,"display_name":"antken"},"score":1,"creation_date":1380118393,"post_id":18983203,"comment_id":28081136,"body_markdown":"@Gagravarr unfortunately it was not possible in this case, because large cells could come in any row later on","body":"@Gagravarr unfortunately it was not possible in this case, because large cells could come in any row later on"}],"answers":[{"tags":[],"owner":{"account_id":2819793,"reputation":959,"user_id":2423796,"display_name":"antken"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1480374328,"creation_date":1380118189,"answer_id":19007294,"question_id":18983203,"body_markdown":"Solution which worked for me:&lt;br&gt;\r\n\r\nIt was possible to avoid merged regions, so I could iterate through the other cells and finally autosize to the largest cell like this:\r\n\r\n    int width = ((int)(maxNumCharacters * 1.14388)) * 256;\r\n\tsheet.setColumnWidth(i, width);\r\nwhere 1.14388 is a max character width of the &quot;Serif&quot; font and 256 font units. &lt;br&gt;\r\n\r\nPerformance of autosizing improved from 10 minutes to 6 seconds.","title":"How to speed up autosizing columns in apache POI?","body":"<p>Solution which worked for me:<br></p>\n\n<p>It was possible to avoid merged regions, so I could iterate through the other cells and finally autosize to the largest cell like this:</p>\n\n<pre><code>int width = ((int)(maxNumCharacters * 1.14388)) * 256;\nsheet.setColumnWidth(i, width);\n</code></pre>\n\n<p>where 1.14388 is a max character width of the \"Serif\" font and 256 font units. <br></p>\n\n<p>Performance of autosizing improved from 10 minutes to 6 seconds.</p>\n"},{"tags":[],"owner":{"account_id":18006417,"reputation":29,"user_id":13087091,"display_name":"Vladimir Shcherbukhin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1584604758,"creation_date":1584604758,"answer_id":60753003,"question_id":18983203,"body_markdown":"The **autoSizeColumn** function itself works not perfect and some columns width not exactly fit the data inside. So, I found some solution that works for me.\r\n\r\n1. To avoid crazy calculations let give that to autoSizeColumn() function:\r\n```\r\n   sheet.autoSizeColumn(&lt;columnIndex&gt;);\r\n```\r\n2. Now, our column autosized by library but we wont to add a little bit more to the current column width to make table looks fine:\r\n```  \r\n   // get autosized column width\r\n   int currentColumnWidth = sheet.getColumnWidth(&lt;columnIndex&gt;);\r\n   \r\n   // add custom value to the current width and apply it to column\r\n   sheet.setColumnWidth(&lt;columnIndex&gt;, (currentColumnWidth + 2500));\r\n```\r\n3. The full function could looks like:\r\n```\r\n   public void autoSizeColumns(Workbook workbook) {\r\n        int numberOfSheets = workbook.getNumberOfSheets();\r\n        for (int i = 0; i &lt; numberOfSheets; i++) {\r\n            Sheet sheet = workbook.getSheetAt(i);\r\n            if (sheet.getPhysicalNumberOfRows() &gt; 0) {\r\n                Row row = sheet.getRow(sheet.getFirstRowNum());\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n                    int columnIndex = cell.getColumnIndex();\r\n                    sheet.autoSizeColumn(columnIndex);\r\n                    int currentColumnWidth = sheet.getColumnWidth(columnIndex);\r\n                    sheet.setColumnWidth(columnIndex, (currentColumnWidth + 2500));\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nP.S. Thanks [Ondrej Kvasnovsky](https://stackoverflow.com/users/931428/ondrej-kvasnovsky) for the function https://stackoverflow.com/a/35324693/13087091","title":"How to speed up autosizing columns in apache POI?","body":"<p>The <strong>autoSizeColumn</strong> function itself works not perfect and some columns width not exactly fit the data inside. So, I found some solution that works for me.</p>\n\n<ol>\n<li>To avoid crazy calculations let give that to autoSizeColumn() function:</li>\n</ol>\n\n<pre><code>   sheet.autoSizeColumn(&lt;columnIndex&gt;);\n</code></pre>\n\n<ol start=\"2\">\n<li>Now, our column autosized by library but we wont to add a little bit more to the current column width to make table looks fine:</li>\n</ol>\n\n<pre><code>   // get autosized column width\n   int currentColumnWidth = sheet.getColumnWidth(&lt;columnIndex&gt;);\n\n   // add custom value to the current width and apply it to column\n   sheet.setColumnWidth(&lt;columnIndex&gt;, (currentColumnWidth + 2500));\n</code></pre>\n\n<ol start=\"3\">\n<li>The full function could looks like:</li>\n</ol>\n\n<pre><code>   public void autoSizeColumns(Workbook workbook) {\n        int numberOfSheets = workbook.getNumberOfSheets();\n        for (int i = 0; i &lt; numberOfSheets; i++) {\n            Sheet sheet = workbook.getSheetAt(i);\n            if (sheet.getPhysicalNumberOfRows() &gt; 0) {\n                Row row = sheet.getRow(sheet.getFirstRowNum());\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n                while (cellIterator.hasNext()) {\n                    Cell cell = cellIterator.next();\n                    int columnIndex = cell.getColumnIndex();\n                    sheet.autoSizeColumn(columnIndex);\n                    int currentColumnWidth = sheet.getColumnWidth(columnIndex);\n                    sheet.setColumnWidth(columnIndex, (currentColumnWidth + 2500));\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>P.S. Thanks <a href=\"https://stackoverflow.com/users/931428/ondrej-kvasnovsky\">Ondrej Kvasnovsky</a> for the function <a href=\"https://stackoverflow.com/a/35324693/13087091\">https://stackoverflow.com/a/35324693/13087091</a></p>\n"},{"tags":[],"owner":{"account_id":18179826,"reputation":1213,"user_id":13227834,"display_name":"Jakub Słowikowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662043614,"creation_date":1662043614,"answer_id":73571342,"question_id":18983203,"body_markdown":"The `autosizeColumn()` function very slow and unneficient. Even authors of apache POI mentioned in docs, that:\r\n&gt; This process can be relatively slow on large sheets, ...\r\n\r\nCalculating and setting the cell&#39;s width manually is way faster - in my case I reduced the time from *~25,000ms* to *~1-5ms*.\r\n\r\nThis is how to achieve it (I was basing on [Vladimir Shcherbukhin&#39;s][1] answer:\r\n\r\n    Workbook workbook = new XSSFWorkbook();\r\n    Sheet sheet = workbook.createSheet();\r\n    final int[] maxNumCharactersInColumns = new int[headers.length]; // maximum number of characters in columns. Necessary to calculate the cell width in most efficient way. sheet.autoSizeColumn(...) is very slow.\r\n\r\n    Row headersRow = sheet.createRow(0);\r\n    CellStyle headerStyle = createHeadersStyle(workbook); // createHeadersStyle() is my own function. Create headers style if you want\r\n\r\n    for (int i = 0; i &lt; headers.length; i++) { // create headers\r\n            Cell headerCell = headersRow.createCell(i, CELL_TYPE_STRING);\r\n            headerCell.setCellValue(headers[i]);\r\n            headerCell.setCellStyle(headerStyle);\r\n\r\n            int length = headers[i].length();\r\n            if (maxNumCharactersInColumns[i] &lt; length) { // adjust the columns width\r\n                maxNumCharactersInColumns[i] = length + 2; // you can add +2 if you have filtering enabled on your headers\r\n            }\r\n    }\r\n\r\n    int rowIndex = 1;\r\n        for (List&lt;Object&gt; rowValues : rows) {\r\n            Row row = sheet.createRow(rowIndex);\r\n\r\n            int columnIndex = 0;\r\n            for (Object value : rowValues) {\r\n                Cell cell = createRowCell(row, value, columnIndex); // createRowCell() is my own function.\r\n\r\n                int length;\r\n                if (cell.getCellType() == Cell.CELL_TYPE_STRING) {\r\n                    String cellValue = cell.getStringCellValue();\r\n\r\n                    // this is quite important part. In some excel spreadsheet you can have a values with line-breaks. It&#39;ll be cool to handle that scenario :)\r\n                    String[] arr = cellValue.split(&quot;\\n&quot;); // if cell contains complex value with line breaks, calculate only the longest line\r\n                    length = Arrays.stream(arr).map(String::length).max(Integer::compareTo).get();\r\n                } else {\r\n                    length = value != null ? value.toString().length() : 0;\r\n                }\r\n\r\n                if (maxNumCharactersInColumns[columnIndex] &lt; length) { // if the current cell value is the longest one, save it to an array\r\n                    maxNumCharactersInColumns[columnIndex] = length;\r\n                }\r\n\r\n                columnIndex++;\r\n            }\r\n            rowIndex++;\r\n        }\r\n\r\n        for (int i = 0; i &lt; headers.length; i++) {\r\n            int width = (int) (maxNumCharactersInColumns[i] * 1.45f) * 256; // 1.45f &lt;- you can change this value\r\n            sheet.setColumnWidth(i, Math.min(width, MAX_CELL_WIDTH)); // &lt;- set calculated cell width\r\n        }\r\n\r\n        sheet.setAutoFilter(new CellRangeAddress(0, 0, 0, headers.length - 1));\r\n\r\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n        workbook.write(output);\r\n        workbook.close();\r\n\r\n  [1]: https://stackoverflow.com/users/13087091/vladimir-shcherbukhin","title":"How to speed up autosizing columns in apache POI?","body":"<p>The <code>autosizeColumn()</code> function very slow and unneficient. Even authors of apache POI mentioned in docs, that:</p>\n<blockquote>\n<p>This process can be relatively slow on large sheets, ...</p>\n</blockquote>\n<p>Calculating and setting the cell's width manually is way faster - in my case I reduced the time from <em>~25,000ms</em> to <em>~1-5ms</em>.</p>\n<p>This is how to achieve it (I was basing on <a href=\"https://stackoverflow.com/users/13087091/vladimir-shcherbukhin\">Vladimir Shcherbukhin's</a> answer:</p>\n<pre><code>Workbook workbook = new XSSFWorkbook();\nSheet sheet = workbook.createSheet();\nfinal int[] maxNumCharactersInColumns = new int[headers.length]; // maximum number of characters in columns. Necessary to calculate the cell width in most efficient way. sheet.autoSizeColumn(...) is very slow.\n\nRow headersRow = sheet.createRow(0);\nCellStyle headerStyle = createHeadersStyle(workbook); // createHeadersStyle() is my own function. Create headers style if you want\n\nfor (int i = 0; i &lt; headers.length; i++) { // create headers\n        Cell headerCell = headersRow.createCell(i, CELL_TYPE_STRING);\n        headerCell.setCellValue(headers[i]);\n        headerCell.setCellStyle(headerStyle);\n\n        int length = headers[i].length();\n        if (maxNumCharactersInColumns[i] &lt; length) { // adjust the columns width\n            maxNumCharactersInColumns[i] = length + 2; // you can add +2 if you have filtering enabled on your headers\n        }\n}\n\nint rowIndex = 1;\n    for (List&lt;Object&gt; rowValues : rows) {\n        Row row = sheet.createRow(rowIndex);\n\n        int columnIndex = 0;\n        for (Object value : rowValues) {\n            Cell cell = createRowCell(row, value, columnIndex); // createRowCell() is my own function.\n\n            int length;\n            if (cell.getCellType() == Cell.CELL_TYPE_STRING) {\n                String cellValue = cell.getStringCellValue();\n\n                // this is quite important part. In some excel spreadsheet you can have a values with line-breaks. It'll be cool to handle that scenario :)\n                String[] arr = cellValue.split(&quot;\\n&quot;); // if cell contains complex value with line breaks, calculate only the longest line\n                length = Arrays.stream(arr).map(String::length).max(Integer::compareTo).get();\n            } else {\n                length = value != null ? value.toString().length() : 0;\n            }\n\n            if (maxNumCharactersInColumns[columnIndex] &lt; length) { // if the current cell value is the longest one, save it to an array\n                maxNumCharactersInColumns[columnIndex] = length;\n            }\n\n            columnIndex++;\n        }\n        rowIndex++;\n    }\n\n    for (int i = 0; i &lt; headers.length; i++) {\n        int width = (int) (maxNumCharactersInColumns[i] * 1.45f) * 256; // 1.45f &lt;- you can change this value\n        sheet.setColumnWidth(i, Math.min(width, MAX_CELL_WIDTH)); // &lt;- set calculated cell width\n    }\n\n    sheet.setAutoFilter(new CellRangeAddress(0, 0, 0, headers.length - 1));\n\n    ByteArrayOutputStream output = new ByteArrayOutputStream();\n    workbook.write(output);\n    workbook.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11694787,"reputation":69,"user_id":8561769,"display_name":"Erich13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672915664,"creation_date":1672914915,"answer_id":75017098,"question_id":18983203,"body_markdown":"Unfortunately I don&#39;t have enough reputations yet to add comments in answers. So here some annotations:\r\n\r\n - When using `Row row = sheet.getRow(sheet.getFirstRowNum());` be shure, this row contains at least a value in the last column. Otherwise the cellIterator will end too early, i.e. if a subsequent row has a value in this column, this column will not be autosized. This problem is bypassed if `row`contains the headers (names of the columns). Or explicit use a known header row, e.g.&lt;br/&gt;\r\n```\r\n    int indexOfHeaderRow = ...;\r\n    ...\r\n    Row row = sheet.getRow(indexOfHeaderRow);\r\n```\r\n - [Jakub Słowikowski][1]&lt;br/&gt;\r\n`sheet.setColumnWidth(i, Math.min(width, MAX_CELL_WIDTH)); // &lt;- set calculated cellwidth`&lt;br/&gt;\r\nI&#39;m not shure about this line because there is no information about content of MAX_CELL_WIDTH - perhaps overall maximum? So I used instead:&lt;br/&gt;\r\n`sheet.setColumnWidth(i, Math.max(width, 2048));` &lt;br/&gt;\r\n2048 seams to be the default width? This value prevents extremely narrow widths for empty columns.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/13227834/jakub-s%C5%82owikowski","title":"How to speed up autosizing columns in apache POI?","body":"<p>Unfortunately I don't have enough reputations yet to add comments in answers. So here some annotations:</p>\n<ul>\n<li>When using <code>Row row = sheet.getRow(sheet.getFirstRowNum());</code> be shure, this row contains at least a value in the last column. Otherwise the cellIterator will end too early, i.e. if a subsequent row has a value in this column, this column will not be autosized. This problem is bypassed if <code>row</code>contains the headers (names of the columns). Or explicit use a known header row, e.g.<br/></li>\n</ul>\n<pre><code>    int indexOfHeaderRow = ...;\n    ...\n    Row row = sheet.getRow(indexOfHeaderRow);\n</code></pre>\n<ul>\n<li><a href=\"https://stackoverflow.com/users/13227834/jakub-s%C5%82owikowski\">Jakub Słowikowski</a><br/>\n<code>sheet.setColumnWidth(i, Math.min(width, MAX_CELL_WIDTH)); // &lt;- set calculated cellwidth</code><br/>\nI'm not shure about this line because there is no information about content of MAX_CELL_WIDTH - perhaps overall maximum? So I used instead:<br/>\n<code>sheet.setColumnWidth(i, Math.max(width, 2048));</code> <br/>\n2048 seams to be the default width? This value prevents extremely narrow widths for empty columns.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20452579,"reputation":26,"user_id":15007011,"display_name":"Rjelinek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701038388,"creation_date":1701037196,"answer_id":77553692,"question_id":18983203,"body_markdown":"The biggest problem of XSSFSheet I encountered is that it doesn&#39;t have a funcion to return all values of specific column, you have to iterate all by row, so when you specify column, it actually iterates over all rows and columns. That probably where the slowness comes from\r\nI made my own implementation where it iterates over all columns and rows only onece, and then change the columns specified in `listOfColumns`, I also added `maxWidth` for cases where you work with long texts, so you don&#39;t end up with crazy widths. It would probably be good idea to add implementation for font width as `Zz&#39;Rot` have in his implementation   \r\n```\r\nprivate static void autoSizeColumns(XSSFSheet sheet, Integer maxWidth, List&lt;Integer&gt; listOfColumns) {\r\n\tHashMap&lt;Integer,Integer&gt; sizesArray = new HashMap&lt;&gt;();\r\n\tfor (Row row : sheet) {\r\n\t\tfor (Cell cell : row) {\r\n\t\t\tint column = cell.getColumnIndex();\r\n\t\t\tint oldMaxSize = Optional.ofNullable(sizesArray.get(column)).orElse(0);\r\n\t\t\tint newMaxSize = switch (cell.getCellType()) {\r\n\t\t\t\tcase STRING,FORMULA -&gt;\r\n\t\t\t\t\t\tMath.max(oldMaxSize, cell.getStringCellValue().length());\r\n\t\t\t\tcase NUMERIC -&gt;\r\n\t\t\t\t\t\tMath.max(oldMaxSize, Double.toString(cell.getNumericCellValue()).length());\r\n\t\t\t\tcase BOOLEAN -&gt;\r\n\t\t\t\t\t\tMath.max(oldMaxSize, Boolean.toString(cell.getBooleanCellValue()).length());\r\n\t\t\t\tcase ERROR -&gt;\r\n\t\t\t\t\t\tMath.max(oldMaxSize, Byte.toString(cell.getErrorCellValue()).length());\r\n\t\t\t\tdefault -&gt;\r\n\t\t\t\t\t\toldMaxSize;\r\n\t\t\t};\r\n\t\t\tif(oldMaxSize != newMaxSize)\r\n\t\t\t\tsizesArray.put(column, newMaxSize);\r\n\t\t}\r\n\t}\r\n\tif(listOfColumns == null){\r\n\t\tfor (int i = 0; i &lt; sizesArray.size(); i++) {\r\n\t\t\tint width = sizesArray.get(i) * 256;\r\n\t\t\tif (maxWidth != null &amp;&amp; width &gt; maxWidth) {\r\n\t\t\t\twidth = maxWidth;\r\n\t\t\t}\r\n\t\t\tsheet.setColumnWidth(i, width);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\tfor (Integer column : listOfColumns) {\r\n\t\tInteger size = sizesArray.get(column);\r\n\t\tint width = sizesArray.get(size) * 256;\r\n\t\tif (maxWidth != null &amp;&amp; width &gt; maxWidth) {\r\n\t\t\twidth = maxWidth;\r\n\t\t}\r\n\t\tsheet.setColumnWidth(column, width);\r\n\t}\r\n}","title":"How to speed up autosizing columns in apache POI?","body":"<p>The biggest problem of XSSFSheet I encountered is that it doesn't have a funcion to return all values of specific column, you have to iterate all by row, so when you specify column, it actually iterates over all rows and columns. That probably where the slowness comes from\nI made my own implementation where it iterates over all columns and rows only onece, and then change the columns specified in <code>listOfColumns</code>, I also added <code>maxWidth</code> for cases where you work with long texts, so you don't end up with crazy widths. It would probably be good idea to add implementation for font width as <code>Zz'Rot</code> have in his implementation</p>\n<pre><code>private static void autoSizeColumns(XSSFSheet sheet, Integer maxWidth, List&lt;Integer&gt; listOfColumns) {\n    HashMap&lt;Integer,Integer&gt; sizesArray = new HashMap&lt;&gt;();\n    for (Row row : sheet) {\n        for (Cell cell : row) {\n            int column = cell.getColumnIndex();\n            int oldMaxSize = Optional.ofNullable(sizesArray.get(column)).orElse(0);\n            int newMaxSize = switch (cell.getCellType()) {\n                case STRING,FORMULA -&gt;\n                        Math.max(oldMaxSize, cell.getStringCellValue().length());\n                case NUMERIC -&gt;\n                        Math.max(oldMaxSize, Double.toString(cell.getNumericCellValue()).length());\n                case BOOLEAN -&gt;\n                        Math.max(oldMaxSize, Boolean.toString(cell.getBooleanCellValue()).length());\n                case ERROR -&gt;\n                        Math.max(oldMaxSize, Byte.toString(cell.getErrorCellValue()).length());\n                default -&gt;\n                        oldMaxSize;\n            };\n            if(oldMaxSize != newMaxSize)\n                sizesArray.put(column, newMaxSize);\n        }\n    }\n    if(listOfColumns == null){\n        for (int i = 0; i &lt; sizesArray.size(); i++) {\n            int width = sizesArray.get(i) * 256;\n            if (maxWidth != null &amp;&amp; width &gt; maxWidth) {\n                width = maxWidth;\n            }\n            sheet.setColumnWidth(i, width);\n        }\n        return;\n    }\n    for (Integer column : listOfColumns) {\n        Integer size = sizesArray.get(column);\n        int width = sizesArray.get(size) * 256;\n        if (maxWidth != null &amp;&amp; width &gt; maxWidth) {\n            width = maxWidth;\n        }\n        sheet.setColumnWidth(column, width);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2819793,"reputation":959,"user_id":2423796,"display_name":"antken"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38285,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":19007294,"answer_count":5,"score":33,"last_activity_date":1701038388,"creation_date":1380029853,"question_id":18983203,"body_markdown":"I use the following code in order to autosize columns in my spreadsheet:\r\n\r\n    for (int i = 0; i &lt; columns.size(); i++) {\r\n\t   sheet.autoSizeColumn(i, true);\r\n\t   sheet.setColumnWidth(i, sheet.getColumnWidth(i) + 600);\r\n\t}\r\n\r\nThe problem is it takes more than 10 minutes to autosize each column in case of large spreadsheets with more than 3000 rows. It goes very fast for small documents though. Is there anything which could help autosizing to work faster? ","title":"How to speed up autosizing columns in apache POI?","body":"<p>I use the following code in order to autosize columns in my spreadsheet:</p>\n\n<pre><code>for (int i = 0; i &lt; columns.size(); i++) {\n   sheet.autoSizeColumn(i, true);\n   sheet.setColumnWidth(i, sheet.getColumnWidth(i) + 600);\n}\n</code></pre>\n\n<p>The problem is it takes more than 10 minutes to autosize each column in case of large spreadsheets with more than 3000 rows. It goes very fast for small documents though. Is there anything which could help autosizing to work faster? </p>\n"},{"tags":["java","maven","google-cloud-platform","google-secret-manager"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1701076661,"post_id":77553648,"comment_id":136725632,"body_markdown":"It should work out of the box. Can you share your code and not only your dependency management?","body":"It should work out of the box. Can you share your code and not only your dependency management?"}],"owner":{"account_id":16425630,"reputation":55,"user_id":14330199,"display_name":"Phillip Ng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701037341,"creation_date":1701036238,"question_id":77553648,"body_markdown":"I want to add the Google Cloud Platform to my Java application (https://cloud.google.com/secret-manager/docs/reference/libraries). I added dependencies to my `pom.xml` file as instructed:\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;26.23.0&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n```\r\n\r\nAnd added the module to my `module-info.java` file:\r\n```\r\nrequires google.cloud.secretmanager;\r\n```\r\n\r\nIssue #1: Type Not Accessible Error\r\n\r\nWhen I import classes, as instructed:\r\n```\r\nimport com.google.cloud.secretmanager.v1.AccessSecretVersionResponse;\r\nimport com.google.cloud.secretmanager.v1.ProjectName;\r\nimport com.google.cloud.secretmanager.v1.Replication;\r\nimport com.google.cloud.secretmanager.v1.Secret;\r\nimport com.google.cloud.secretmanager.v1.SecretManagerServiceClient; //works\r\nimport com.google.cloud.secretmanager.v1.SecretPayload;\r\nimport com.google.cloud.secretmanager.v1.SecretVersion;\r\nimport com.google.protobuf.ByteString;\r\n```\r\nOnly the `import com.google.cloud.secretmanager.v1.SecretManagerServiceClient;` imports successfully, all of the other classes do not, giving me error: `The type com.google.cloud.secretmanager.v1.ListSecretsRequest is not accessible)`. \r\n\r\nIssue #2: ClassNotFoundException \r\n\r\nAs I tried to compile the code, using the VSCode debugger\r\n\r\n```\r\n&#39;C:\\Program Files\\Microsoft\\jdk-21.0.1.12-hotspot\\bin\\java.exe&#39; &#39;-agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:63218&#39; &#39;@C:\\Users\\phill\\AppData\\Local\\Temp\\cp_4rjb4t8mfd73pngxbgeub8e7.argfile&#39; &#39;-m&#39; &#39;NTagJavaSampleApp/com.sample.ntag.Main&#39;\r\n```\r\n\r\nIt started giving me compilation errors, such as:\r\n```\r\nCaused by: java.lang.Error: Unresolved compilation problems:\r\n        The type com.google.api.gax.core.BackgroundResource cannot be resolved. It is indirectly referenced from required type com.google.cloud.secretmanager.v1.SecretManagerServiceClient\r\n        The resource type SecretManagerServiceClient does not implement java.lang.AutoCloseable\r\n```\r\n\r\nWhich prompted me to install:\r\n```\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nAnd add: \r\n```\r\nrequires gax;\r\n```\r\n\r\nAnd gave the error:\r\n```\r\njava.lang.ClassNotFoundException: com.google.cloud.secretmanager.v1.ListSecretsRequest\r\n```\r\nIssue #3: Multiple Module Error\r\n\r\nIt turns out, the `google.cloud.secretmanager-2.24.0.jar` file contains the `com.google.cloud.secretmanager.v1.SecretManagerServiceClient` class (which is needed for the initializing the client), but not the `com.google.cloud.secretmanager.v1.ListSecretsRequest` class, which also declares the package `package com.google.cloud.secretmanager.v1` but is found in the `proto-google-cloud-secretmanager-v1-2.24.0.jar` file. \r\n\r\nSo, I installed that (https://mvnrepository.com/artifact/com.google.api.grpc/proto-google-cloud-secretmanager-v1):\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;proto-google-cloud-secretmanager-v1&lt;/artifactId&gt;\r\n    &lt;version&gt;2.23.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd added it:\r\n```\r\nrequires proto.google.cloud.secretmanager.v1;\r\n```\r\n\r\nBut now, when I try to import from any class from `com.google.cloud.secretmanager.v1`, (such as to initialize the client: import com.google.cloud.secretmanager.v1.SecretManagerServiceClient;\r\n), it gives the error `The package com.google.cloud.secretmanager.v1 is accessible from more than one module: google.cloud.secretmanager, proto.google.cloud.secretmanager.v1Java(8390063)`. I feel like it&#39;s trying to take me through a web of &quot;inner dependencies&quot;, accessing deeply nested libraries that should only be called on by higher libraries. However, I&#39;m having trouble importing the right classes, since the packages are dispersed between multiple jar files.\r\n\r\nFYI, I went down the rabbit hole of these errors, and ended up installing:\r\n```\r\n&lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;proto-google-common-protos&lt;/artifactId&gt;\r\n    &lt;version&gt;2.28.0&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n  &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\r\n  &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n  &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\r\n  &lt;version&gt;6.0.53&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd adding:\r\n```\r\n    requires com.google.api.apicommon;\r\n    requires protobuf.java;\r\n    requires grpc.protobuf;\r\n    requires grpc.stub;\r\n    requires annotations.api;\r\n    requires gax;\r\n    requires gax.grpc;\r\n``` \r\n\r\nBut I doubt that&#39;s the right way of doing it. ","title":"Java Maven: Configuring GCP Secret Manager. Type Not Accessible Error, Multiple Module Error, and ClassNotFoundException","body":"<p>I want to add the Google Cloud Platform to my Java application (<a href=\"https://cloud.google.com/secret-manager/docs/reference/libraries\" rel=\"nofollow noreferrer\">https://cloud.google.com/secret-manager/docs/reference/libraries</a>). I added dependencies to my <code>pom.xml</code> file as instructed:</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n      &lt;version&gt;26.23.0&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>And added the module to my <code>module-info.java</code> file:</p>\n<pre><code>requires google.cloud.secretmanager;\n</code></pre>\n<p>Issue #1: Type Not Accessible Error</p>\n<p>When I import classes, as instructed:</p>\n<pre><code>import com.google.cloud.secretmanager.v1.AccessSecretVersionResponse;\nimport com.google.cloud.secretmanager.v1.ProjectName;\nimport com.google.cloud.secretmanager.v1.Replication;\nimport com.google.cloud.secretmanager.v1.Secret;\nimport com.google.cloud.secretmanager.v1.SecretManagerServiceClient; //works\nimport com.google.cloud.secretmanager.v1.SecretPayload;\nimport com.google.cloud.secretmanager.v1.SecretVersion;\nimport com.google.protobuf.ByteString;\n</code></pre>\n<p>Only the <code>import com.google.cloud.secretmanager.v1.SecretManagerServiceClient;</code> imports successfully, all of the other classes do not, giving me error: <code>The type com.google.cloud.secretmanager.v1.ListSecretsRequest is not accessible)</code>.</p>\n<p>Issue #2: ClassNotFoundException</p>\n<p>As I tried to compile the code, using the VSCode debugger</p>\n<pre><code>'C:\\Program Files\\Microsoft\\jdk-21.0.1.12-hotspot\\bin\\java.exe' '-agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:63218' '@C:\\Users\\phill\\AppData\\Local\\Temp\\cp_4rjb4t8mfd73pngxbgeub8e7.argfile' '-m' 'NTagJavaSampleApp/com.sample.ntag.Main'\n</code></pre>\n<p>It started giving me compilation errors, such as:</p>\n<pre><code>Caused by: java.lang.Error: Unresolved compilation problems:\n        The type com.google.api.gax.core.BackgroundResource cannot be resolved. It is indirectly referenced from required type com.google.cloud.secretmanager.v1.SecretManagerServiceClient\n        The resource type SecretManagerServiceClient does not implement java.lang.AutoCloseable\n</code></pre>\n<p>Which prompted me to install:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And add:</p>\n<pre><code>requires gax;\n</code></pre>\n<p>And gave the error:</p>\n<pre><code>java.lang.ClassNotFoundException: com.google.cloud.secretmanager.v1.ListSecretsRequest\n</code></pre>\n<p>Issue #3: Multiple Module Error</p>\n<p>It turns out, the <code>google.cloud.secretmanager-2.24.0.jar</code> file contains the <code>com.google.cloud.secretmanager.v1.SecretManagerServiceClient</code> class (which is needed for the initializing the client), but not the <code>com.google.cloud.secretmanager.v1.ListSecretsRequest</code> class, which also declares the package <code>package com.google.cloud.secretmanager.v1</code> but is found in the <code>proto-google-cloud-secretmanager-v1-2.24.0.jar</code> file.</p>\n<p>So, I installed that (<a href=\"https://mvnrepository.com/artifact/com.google.api.grpc/proto-google-cloud-secretmanager-v1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.api.grpc/proto-google-cloud-secretmanager-v1</a>):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;proto-google-cloud-secretmanager-v1&lt;/artifactId&gt;\n    &lt;version&gt;2.23.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And added it:</p>\n<pre><code>requires proto.google.cloud.secretmanager.v1;\n</code></pre>\n<p>But now, when I try to import from any class from <code>com.google.cloud.secretmanager.v1</code>, (such as to initialize the client: import com.google.cloud.secretmanager.v1.SecretManagerServiceClient;\n), it gives the error <code>The package com.google.cloud.secretmanager.v1 is accessible from more than one module: google.cloud.secretmanager, proto.google.cloud.secretmanager.v1Java(8390063)</code>. I feel like it's trying to take me through a web of &quot;inner dependencies&quot;, accessing deeply nested libraries that should only be called on by higher libraries. However, I'm having trouble importing the right classes, since the packages are dispersed between multiple jar files.</p>\n<p>FYI, I went down the rabbit hole of these errors, and ended up installing:</p>\n<pre><code>&lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;proto-google-common-protos&lt;/artifactId&gt;\n    &lt;version&gt;2.28.0&lt;/version&gt;\n   &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n    &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n    &lt;artifactId&gt;gax&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\n  &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n  &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\n  &lt;version&gt;6.0.53&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And adding:</p>\n<pre><code>    requires com.google.api.apicommon;\n    requires protobuf.java;\n    requires grpc.protobuf;\n    requires grpc.stub;\n    requires annotations.api;\n    requires gax;\n    requires gax.grpc;\n</code></pre>\n<p>But I doubt that's the right way of doing it.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1701030384,"post_id":77553358,"comment_id":136721568,"body_markdown":"An object is an &quot;*unordered collection of zero or more name/value pairs&quot;*, while an array is &quot;*an ordered sequence of zero or more values&quot;*. The question is unclear. Do you want the field of the object to have a fixed order (this is not possible according to  RFC 7159), or do you want the elements in the array to have a fixed order (this is possible according to RFC 7159)? Please [edit] the post and clarify.","body":"An object is an &quot;<i>unordered collection of zero or more name/value pairs&quot;</i>, while an array is &quot;<i>an ordered sequence of zero or more values&quot;</i>. The question is unclear. Do you want the field of the object to have a fixed order (this is not possible according to  RFC 7159), or do you want the elements in the array to have a fixed order (this is possible according to RFC 7159)? Please <a href=\"https://stackoverflow.com/posts/77553358/edit\">edit</a> the post and clarify."},{"owner":{"account_id":29998839,"reputation":1,"user_id":22989423,"display_name":"DrCip"},"score":0,"creation_date":1701030563,"post_id":77553358,"comment_id":136721588,"body_markdown":"@Turing85 Thanks for the feedback, I will edit the post with an example.","body":"@Turing85 Thanks for the feedback, I will edit the post with an example."},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1701031688,"post_id":77553358,"comment_id":136721694,"body_markdown":"Depending on the order of fields of a json object is highly discouraged since [RFC 7159 (`datatracker.ietf.org`)](https://datatracker.ietf.org/doc/html/rfc7159/) explicitly says that field in an object are unordered. Why do you want/need to order the fields?","body":"Depending on the order of fields of a json object is highly discouraged since <a href=\"https://datatracker.ietf.org/doc/html/rfc7159/\" rel=\"nofollow noreferrer\">RFC 7159 (<code>datatracker.ietf.org</code>)</a> explicitly says that field in an object are unordered. Why do you want/need to order the fields?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701043626,"post_id":77553358,"comment_id":136722660,"body_markdown":"@Turing85, that&#39;s an _[RFC](https://en.wikipedia.org/wiki/Request_for_Comments)_.","body":"@Turing85, that&#39;s an <i><a href=\"https://en.wikipedia.org/wiki/Request_for_Comments\" rel=\"nofollow noreferrer\">RFC</a></i>."},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701045494,"post_id":77553358,"comment_id":136722779,"body_markdown":"@Reilas I know. I wrote &quot;RFC&quot;. Your point?","body":"@Reilas I know. I wrote &quot;RFC&quot;. Your point?"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701046206,"post_id":77553358,"comment_id":136722830,"body_markdown":"For completion: RFC 7159 is obsolted by [RFC 8259 (`datatracker.ietf.org`)](https://datatracker.ietf.org/doc/html/rfc8259). The two sentences I mentioned earlier are still present in RFC 8259.","body":"For completion: RFC 7159 is obsolted by <a href=\"https://datatracker.ietf.org/doc/html/rfc8259\" rel=\"nofollow noreferrer\">RFC 8259 (<code>datatracker.ietf.org</code>)</a>. The two sentences I mentioned earlier are still present in RFC 8259."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701036979,"creation_date":1701036979,"answer_id":77553684,"question_id":77553358,"body_markdown":"&gt; _&quot;... The idea is to create a .json file with the books in a particular order ...\\\r\n&gt;\\\r\n&gt; ... Meaning that the pair of keys/values would be displayed in the same order as the order they are put into the JSONObject. ...&quot;_\r\n\r\nIf you have no objection with using _[Gson](https://en.wikipedia.org/wiki/Gson)_, here is an example.\r\n\r\n```java\r\nGson g = new GsonBuilder().setPrettyPrinting().create();\r\nrecord Book(String id, String name, String author, String available, String isbn) { }\r\nList&lt;Book&gt; books = new ArrayList&lt;&gt;() {{\r\n    add(new Book(&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;));\r\n    add(new Book(&quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;));\r\n    add(new Book(&quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;));\r\n}};\r\nString s = g.toJson(books, List.class);\r\n```\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;a&quot;,\r\n    &quot;name&quot;: &quot;a&quot;,\r\n    &quot;author&quot;: &quot;a&quot;,\r\n    &quot;available&quot;: &quot;a&quot;,\r\n    &quot;isbn&quot;: &quot;a&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;b&quot;,\r\n    &quot;name&quot;: &quot;b&quot;,\r\n    &quot;author&quot;: &quot;b&quot;,\r\n    &quot;available&quot;: &quot;b&quot;,\r\n    &quot;isbn&quot;: &quot;b&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;c&quot;,\r\n    &quot;name&quot;: &quot;c&quot;,\r\n    &quot;author&quot;: &quot;c&quot;,\r\n    &quot;available&quot;: &quot;c&quot;,\r\n    &quot;isbn&quot;: &quot;c&quot;\r\n  }\r\n]\r\n```","title":"How to keep JSONArray elements in the same order as the class in Java?","body":"<blockquote>\n<p><em>&quot;... The idea is to create a .json file with the books in a particular order ...<br />\n<br />\n... Meaning that the pair of keys/values would be displayed in the same order as the order they are put into the JSONObject. ...&quot;</em></p>\n</blockquote>\n<p>If you have no objection with using <em><a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a></em>, here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson g = new GsonBuilder().setPrettyPrinting().create();\nrecord Book(String id, String name, String author, String available, String isbn) { }\nList&lt;Book&gt; books = new ArrayList&lt;&gt;() {{\n    add(new Book(&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;));\n    add(new Book(&quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;));\n    add(new Book(&quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;));\n}};\nString s = g.toJson(books, List.class);\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;a&quot;,\n    &quot;name&quot;: &quot;a&quot;,\n    &quot;author&quot;: &quot;a&quot;,\n    &quot;available&quot;: &quot;a&quot;,\n    &quot;isbn&quot;: &quot;a&quot;\n  },\n  {\n    &quot;id&quot;: &quot;b&quot;,\n    &quot;name&quot;: &quot;b&quot;,\n    &quot;author&quot;: &quot;b&quot;,\n    &quot;available&quot;: &quot;b&quot;,\n    &quot;isbn&quot;: &quot;b&quot;\n  },\n  {\n    &quot;id&quot;: &quot;c&quot;,\n    &quot;name&quot;: &quot;c&quot;,\n    &quot;author&quot;: &quot;c&quot;,\n    &quot;available&quot;: &quot;c&quot;,\n    &quot;isbn&quot;: &quot;c&quot;\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":29998839,"reputation":1,"user_id":22989423,"display_name":"DrCip"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701036979,"creation_date":1701030004,"question_id":77553358,"body_markdown":"I have the following snippet of code, where I take the books from the ArrayList booksList and put their values in a JSONObject, which then goes in a JSONArray. The idea is to create a .json file with the books in a particular order, specified by me:\r\n\r\n\r\n```\r\n JSONArray JSONbookList = new JSONArray();\r\n\t\tCollections.sort(booksList);\r\n\t\t//JSONbookList = new JSONArray(booksList); \r\n\t\tfor (Book book : booksList) {\r\n\t\t    JSONObject bookJson = new JSONObject();\r\n\t\t    bookJson.put(&quot;ID&quot;, book.getBookID().trim());\r\n\t\t    bookJson.put(&quot;Name&quot;, book.getBookName().trim().replace(&quot;\\n        &quot;, &quot; &quot;));\r\n\t\t    bookJson.put(&quot;ISBN&quot;, book.getBookISBN().trim());\r\n\t\t    bookJson.put(&quot;AuthorID&quot;, book.getBookAuthor().trim());\r\n\t\t    bookJson.put(&quot;Disp&quot;, book.getBookDisp().trim());\r\n\t\t    JSONbookList.put(bookJson);\r\n\t\t    \r\n\t\t}\r\n```\r\nthis is the book class for reference:\r\n\r\n```\r\npackage p2;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class Book implements Serializable , Comparable&lt;Book&gt;{\r\n\r\n    private String identificador;\r\n    private String nombre;\r\n    private String autor;\r\n    private String disponible;\r\n    private String ISBN;\r\n\r\n    public Book (String id, String name, String aut, String disp, String isbn) {\r\n\tthis.identificador = id;\r\n\tthis.nombre = name;\r\n\tthis.autor = aut;\r\n\tthis.disponible = disp;\r\n\tthis.ISBN = isbn;\r\n    }\r\n    \r\n    public Book getBook(String bookId) {\r\n\tif (this.identificador.equals(bookId)) {\r\n\t    return this;\r\n\t}\r\n\telse {\r\n\t    return null;\r\n\t}\r\n    }\r\n\r\n    //Getters\r\n    \r\n    public String getBookID () {\r\n\treturn this.identificador;\r\n    }\r\n\r\n    public String getBookName () {\r\n\treturn this.nombre;\r\n    }\r\n\r\n    public String getBookAuthor () {\r\n\treturn this.autor;\r\n    }\r\n\r\n    public String getBookDisp () {\r\n\treturn this.disponible;\r\n    }\r\n\r\n    public String getBookISBN () {\r\n\treturn this.ISBN;\r\n    }\r\n\r\n    //Setters\r\n    \r\n    public void setBookID (String id) {\r\n\tthis.identificador = id;\r\n    }\r\n\r\n    public void setBookName (String name) {\r\n\tthis.nombre = name;\r\n    }\r\n\r\n    public void setBookAuthor (String aut) {\r\n\tthis.autor = aut;\r\n    }\r\n\r\n    public void setBookDisp (String disp) {\r\n\tthis.disponible = disp;\r\n    }\r\n\r\n    public void setBookISBN (String isbn) {\r\n\tthis.ISBN = isbn;\r\n    }\r\n\r\n   public int compareTo(Book libro) {\r\n    String id1 = this.identificador;\r\n    String id2 = libro.identificador;\r\n    //Comparar alfabeticamente\r\n    return id1.compareTo(id2);\r\n}\r\n\r\n\r\n    public String toString() {\r\n\treturn &quot;Book{&quot; +\r\n\t    &quot;identificador=&#39;&quot; + identificador + &#39;\\&#39;&#39; +\r\n\t    &quot;, nombre=&#39;&quot; + nombre + &#39;\\&#39;&#39; +\r\n\t    &quot;, autor=&#39;&quot; + autor + &#39;\\&#39;&#39; +\r\n\t    &quot;, disponible=&#39;&quot; + disponible + &#39;\\&#39;&#39; +\r\n\t    &quot;, ISBN=&#39;&quot; + ISBN + &#39;\\&#39;&#39; +\r\n\t    &#39;}&#39;;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nIdeally, the JSONObject would keep the same order of attributes as the class, or atleast, the order in which im putting them in, but it seems to use an arbitrary order. Now, if I&#39;m not mistaken, this is intended behaviour from the JSONObject class, but apparently, the JSONArray class should keep the order of values, but how can I use a JSONArray without a JSONObject? \r\n\r\nFor example, here is one of the books as it is displayed in the json file:\r\n\r\n    {&quot;Disp&quot;:&quot;no&quot;,&quot;AuthorID&quot;:&quot;4&quot;,&quot;ISBN&quot;:&quot;9781427900792&quot;,&quot;ID&quot;:&quot;104&quot;,&quot;Name&quot;:&quot;Los ba&#241;os de Argel&quot;},\r\n\r\nThe desired output would be \r\n\r\n    {&quot;id&quot;:&quot;104&quot;,&quot;Name&quot;:&quot;Los ba&#241;os de Argel&quot;,&quot;AuthorID&quot;:&quot;4&quot;,&quot;Disp&quot;:&quot;no&quot;,&quot;ISBN&quot;:&quot;9781427900792&quot;}\r\n\r\n Meaning that the pair of keys/values would be displayed in the same order as the order they are put into the JSONObject. Using a JSONObject is not mandatory necessarily, but it seems like the only way to work with JSONArrays, and the output does need to be a JSONArray/.json file.\r\n\r\nThis is a small part of an assignment so alternatives like the Jackson library are out of the question.\r\n\r\n\r\n\r\n\r\nI have also tried putting the Book Objects into a LinkedHashMap but it doesn&#39;t seem to work like that, the JSONObject will always disorganize them, since it uses a regular HashMap if I&#39;m not mistaken, so it gave the same result as the ArrayList, meaning that the class that I use to store my objects doesn&#39;t seem to matter.","title":"How to keep JSONArray elements in the same order as the class in Java?","body":"<p>I have the following snippet of code, where I take the books from the ArrayList booksList and put their values in a JSONObject, which then goes in a JSONArray. The idea is to create a .json file with the books in a particular order, specified by me:</p>\n<pre><code> JSONArray JSONbookList = new JSONArray();\n        Collections.sort(booksList);\n        //JSONbookList = new JSONArray(booksList); \n        for (Book book : booksList) {\n            JSONObject bookJson = new JSONObject();\n            bookJson.put(&quot;ID&quot;, book.getBookID().trim());\n            bookJson.put(&quot;Name&quot;, book.getBookName().trim().replace(&quot;\\n        &quot;, &quot; &quot;));\n            bookJson.put(&quot;ISBN&quot;, book.getBookISBN().trim());\n            bookJson.put(&quot;AuthorID&quot;, book.getBookAuthor().trim());\n            bookJson.put(&quot;Disp&quot;, book.getBookDisp().trim());\n            JSONbookList.put(bookJson);\n            \n        }\n</code></pre>\n<p>this is the book class for reference:</p>\n<pre><code>package p2;\n\nimport java.io.Serializable;\n\npublic class Book implements Serializable , Comparable&lt;Book&gt;{\n\n    private String identificador;\n    private String nombre;\n    private String autor;\n    private String disponible;\n    private String ISBN;\n\n    public Book (String id, String name, String aut, String disp, String isbn) {\n    this.identificador = id;\n    this.nombre = name;\n    this.autor = aut;\n    this.disponible = disp;\n    this.ISBN = isbn;\n    }\n    \n    public Book getBook(String bookId) {\n    if (this.identificador.equals(bookId)) {\n        return this;\n    }\n    else {\n        return null;\n    }\n    }\n\n    //Getters\n    \n    public String getBookID () {\n    return this.identificador;\n    }\n\n    public String getBookName () {\n    return this.nombre;\n    }\n\n    public String getBookAuthor () {\n    return this.autor;\n    }\n\n    public String getBookDisp () {\n    return this.disponible;\n    }\n\n    public String getBookISBN () {\n    return this.ISBN;\n    }\n\n    //Setters\n    \n    public void setBookID (String id) {\n    this.identificador = id;\n    }\n\n    public void setBookName (String name) {\n    this.nombre = name;\n    }\n\n    public void setBookAuthor (String aut) {\n    this.autor = aut;\n    }\n\n    public void setBookDisp (String disp) {\n    this.disponible = disp;\n    }\n\n    public void setBookISBN (String isbn) {\n    this.ISBN = isbn;\n    }\n\n   public int compareTo(Book libro) {\n    String id1 = this.identificador;\n    String id2 = libro.identificador;\n    //Comparar alfabeticamente\n    return id1.compareTo(id2);\n}\n\n\n    public String toString() {\n    return &quot;Book{&quot; +\n        &quot;identificador='&quot; + identificador + '\\'' +\n        &quot;, nombre='&quot; + nombre + '\\'' +\n        &quot;, autor='&quot; + autor + '\\'' +\n        &quot;, disponible='&quot; + disponible + '\\'' +\n        &quot;, ISBN='&quot; + ISBN + '\\'' +\n        '}';\n    }\n    \n}\n</code></pre>\n<p>Ideally, the JSONObject would keep the same order of attributes as the class, or atleast, the order in which im putting them in, but it seems to use an arbitrary order. Now, if I'm not mistaken, this is intended behaviour from the JSONObject class, but apparently, the JSONArray class should keep the order of values, but how can I use a JSONArray without a JSONObject?</p>\n<p>For example, here is one of the books as it is displayed in the json file:</p>\n<pre><code>{&quot;Disp&quot;:&quot;no&quot;,&quot;AuthorID&quot;:&quot;4&quot;,&quot;ISBN&quot;:&quot;9781427900792&quot;,&quot;ID&quot;:&quot;104&quot;,&quot;Name&quot;:&quot;Los baños de Argel&quot;},\n</code></pre>\n<p>The desired output would be</p>\n<pre><code>{&quot;id&quot;:&quot;104&quot;,&quot;Name&quot;:&quot;Los baños de Argel&quot;,&quot;AuthorID&quot;:&quot;4&quot;,&quot;Disp&quot;:&quot;no&quot;,&quot;ISBN&quot;:&quot;9781427900792&quot;}\n</code></pre>\n<p>Meaning that the pair of keys/values would be displayed in the same order as the order they are put into the JSONObject. Using a JSONObject is not mandatory necessarily, but it seems like the only way to work with JSONArrays, and the output does need to be a JSONArray/.json file.</p>\n<p>This is a small part of an assignment so alternatives like the Jackson library are out of the question.</p>\n<p>I have also tried putting the Book Objects into a LinkedHashMap but it doesn't seem to work like that, the JSONObject will always disorganize them, since it uses a regular HashMap if I'm not mistaken, so it gave the same result as the ArrayList, meaning that the class that I use to store my objects doesn't seem to matter.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":9149689,"reputation":316,"user_id":6804703,"display_name":"a.yekimov"},"score":2,"creation_date":1552793000,"post_id":55203533,"comment_id":97144009,"body_markdown":"I think it&#39;s due to your sequence `SEQ_LOJA_DOCUMENTO` is in its initial state. It generates ID = 1 on persist, which is getting collide with rows you inserted by hands.","body":"I think it&#39;s due to your sequence <code>SEQ_LOJA_DOCUMENTO</code> is in its initial state. It generates ID = 1 on persist, which is getting collide with rows you inserted by hands."},{"owner":{"account_id":12025758,"reputation":93,"user_id":8797762,"display_name":"EduMarques29"},"score":0,"creation_date":1552793437,"post_id":55203533,"comment_id":97144067,"body_markdown":"Thanks for the answer a.yekimov. Yes, from what I could understand, that&#39;s it. But how do I do to hibernate automatically get the number of items added to the table, generate the next id and save in that new id?","body":"Thanks for the answer a.yekimov. Yes, from what I could understand, that&#39;s it. But how do I do to hibernate automatically get the number of items added to the table, generate the next id and save in that new id?"},{"owner":{"account_id":9149689,"reputation":316,"user_id":6804703,"display_name":"a.yekimov"},"score":1,"creation_date":1552793727,"post_id":55203533,"comment_id":97144095,"body_markdown":"I suggest to modify your sql script to increment the sequence, after you inserted rows. I don&#39;t know the way to tell to hibernate that its IDs generator is out of sync. It may be reasonable big value, say 10k or 100k to not calculate inserted rows.","body":"I suggest to modify your sql script to increment the sequence, after you inserted rows. I don&#39;t know the way to tell to hibernate that its IDs generator is out of sync. It may be reasonable big value, say 10k or 100k to not calculate inserted rows."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1552795400,"post_id":55203533,"comment_id":97144288,"body_markdown":"You&#39;re using Spring already; any specific reason you&#39;re not using Spring Data? Also, (1) use constructor injection instead of field injection and (2) `novo`, `remover`, and `alterar` are redundant (that&#39;s the purpose of using `@DeleteMapping`; treat the URI as the ID of the resource and use the plain one for operations on an existing object and just `/` for your POST).","body":"You&#39;re using Spring already; any specific reason you&#39;re not using Spring Data? Also, (1) use constructor injection instead of field injection and (2) <code>novo</code>, <code>remover</code>, and <code>alterar</code> are redundant (that&#39;s the purpose of using <code>@DeleteMapping</code>; treat the URI as the ID of the resource and use the plain one for operations on an existing object and just <code>&#47;</code> for your POST)."},{"owner":{"account_id":12025758,"reputation":93,"user_id":8797762,"display_name":"EduMarques29"},"score":0,"creation_date":1552795855,"post_id":55203533,"comment_id":97144326,"body_markdown":"Chrylis, thanks for your comment, I&#39;m learnig spring framework (Concepts and Methods), after that, I will use Spring Data. In this first step I want to use just Spring. Could you please describe your item 1 better? How to do it? Or a link for consultation?","body":"Chrylis, thanks for your comment, I&#39;m learnig spring framework (Concepts and Methods), after that, I will use Spring Data. In this first step I want to use just Spring. Could you please describe your item 1 better? How to do it? Or a link for consultation?"}],"answers":[{"tags":[],"owner":{"account_id":16735950,"reputation":437,"user_id":12097072,"display_name":"stoneshishang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632858876,"creation_date":1632858561,"answer_id":69367714,"question_id":55203533,"body_markdown":"For me, I have encountered exactly same error. I had answered the same problem in [Here](https://stackoverflow.com/a/69367655/12097072).\r\n\r\n**TLDR:**\r\n\r\nTo resolve this issue pass primary key column value as unique and not NULL. just simply add `NOT NULL UNIQUE` at the end of your DDL.","title":"Unique index or primary key violation when persist a new element","body":"<p>For me, I have encountered exactly same error. I had answered the same problem in <a href=\"https://stackoverflow.com/a/69367655/12097072\">Here</a>.</p>\n<p><strong>TLDR:</strong></p>\n<p>To resolve this issue pass primary key column value as unique and not NULL. just simply add <code>NOT NULL UNIQUE</code> at the end of your DDL.</p>\n"}],"owner":{"account_id":12025758,"reputation":93,"user_id":8797762,"display_name":"EduMarques29"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15245,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1701036090,"creation_date":1552792627,"question_id":55203533,"body_markdown":"I am creating an application and when saving a new item I get the following error:\r\n\r\n    2019-03-17 00:05:09 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505\r\n    2019-03-17 00:05:09 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: &quot;PUBLIC.PRIMARY_KEY_3 ON PUBLIC.LOJA_DOCUMENTO(ID_DOCUMENTO) VALUES 1&quot;; SQL statement:\r\n    /* insert br.com.odin.loja.backend.model.Documento */ insert into loja_documento (codigo_documento, descricao_documento, id_pessoa, valor_documento, id_documento) values (?, ?, ?, ?, ?) [23505-198]\r\n    2019-03-17 00:05:09 ERROR o.h.i.ExceptionMapperStandardImpl - HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]\r\n    2019-03-17 00:05:09 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PUBLIC.PRIMARY_KEY_3 ON PUBLIC.LOJA_DOCUMENTO(ID_DOCUMENTO) VALUES 1&quot;; SQL statement:\r\n    /* insert br.com.odin.loja.backend.model.Documento */ insert into loja_documento (codigo_documento, descricao_documento, id_pessoa, valor_documento, id_documento) values (?, ?, ?, ?, ?) [23505-198]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n    org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.PRIMARY_KEY_3 ON PUBLIC.LOJA_DOCUMENTO(ID_DOCUMENTO) VALUES 1&quot;; SQL statement:\r\n    /* insert br.com.odin.loja.backend.model.Documento */ insert into loja_documento (codigo_documento, descricao_documento, id_pessoa, valor_documento, id_documento) values (?, ?, ?, ?, ?) [23505-198]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:457) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:427) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:103) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:220) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:196) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:703) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.command.dml.Insert.insertRows(Insert.java:180) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.command.dml.Insert.update(Insert.java:132) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.command.CommandContainer.update(CommandContainer.java:133) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.command.Command.executeUpdate(Command.java:267) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:200) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:154) ~[h2-1.4.198.jar:1.4.198]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-3.2.0.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-3.2.0.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3171) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3686) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:90) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:532) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:533) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat br.com.odin.loja.backend.service.DocumentoService$$EnhancerBySpringCGLIB$$25558288.save(&lt;generated&gt;) ~[classes/:na]\r\n    \tat br.com.odin.loja.backend.controller.DocumentoController.save(DocumentoController.java:43) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_201]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_201]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_201]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_201]\r\n\r\nMy Model Class Documento.Java\r\n\r\n    package br.com.odin.loja.backend.model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.SequenceGenerator;\r\n    import javax.persistence.Table;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    @Entity\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @Table(name = &quot;loja_documento&quot;)\r\n    public class Documento {\r\n    \r\n    \t// Attributes\r\n    \t@Id\r\n    \t@Column(name = &quot;ID_DOCUMENTO&quot;, nullable = false, precision = 3, scale = 0)\r\n    \t@GeneratedValue(generator = &quot;seq_generator&quot;, strategy = GenerationType.SEQUENCE)\r\n    \t@SequenceGenerator(name=&quot;seq_generator&quot;, sequenceName = &quot;SEQ_LOJA_DOCUMENTO&quot;, allocationSize=1)\r\n    \tprivate Integer id;\r\n    \r\n    \t@Column(name = &quot;CODIGO_DOCUMENTO&quot;, nullable = false, length = 25)\r\n    \tprivate String codigo;\r\n    \r\n    \t@Column(name = &quot;DESCRICAO_DOCUMENTO&quot;, nullable = false, length = 25)\r\n    \tprivate String descricao;\r\n    \r\n    \t@Column(name = &quot;VALOR_DOCUMENTO&quot;, nullable = false, length = 25)\r\n    \tprivate String valor;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    \t@JoinColumn(name = &quot;ID_PESSOA&quot;)\r\n    \t@JsonIgnoreProperties(value = &quot;documentos&quot;, allowSetters = true)\r\n    \tprivate Pessoa pessoa;\r\n    \r\n    \t// Constructors\r\n    \r\n    \t// Getters &amp; Setters\r\n    \tpublic Integer getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getCodigo() {\r\n    \t\treturn codigo;\r\n    \t}\r\n    \r\n    \tpublic void setCodigo(String codigo) {\r\n    \t\tthis.codigo = codigo;\r\n    \t}\r\n    \r\n    \tpublic String getDescricao() {\r\n    \t\treturn descricao;\r\n    \t}\r\n    \r\n    \tpublic void setDescricao(String descricao) {\r\n    \t\tthis.descricao = descricao;\r\n    \t}\r\n    \r\n    \tpublic String getValor() {\r\n    \t\treturn valor;\r\n    \t}\r\n    \r\n    \tpublic void setValor(String valor) {\r\n    \t\tthis.valor = valor;\r\n    \t}\r\n    \r\n    \tpublic Pessoa getPessoa() {\r\n    \t\treturn pessoa;\r\n    \t}\r\n    \r\n    \tpublic void setPessoa(Pessoa pessoa) {\r\n    \t\tthis.pessoa = pessoa;\r\n    \t}\r\n    \r\n    \t// Methods\r\n    \r\n    }\r\n\r\nMy Repository DocumentoRepository.Java\r\n\r\n    package br.com.odin.loja.backend.repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.TypedQuery;\r\n    import javax.persistence.criteria.CriteriaBuilder;\r\n    import javax.persistence.criteria.CriteriaQuery;\r\n    import javax.persistence.criteria.Root;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import br.com.odin.loja.backend.model.Documento;\r\n    import br.com.odin.loja.backend.model.Pessoa;\r\n    \r\n    @Repository\r\n    public class DocumentoRepository {\r\n    \r\n    \t// Attributes\r\n    \t@Autowired\r\n    \tprivate EntityManager entityManager;\r\n    \t\r\n    \t// Methods\r\n    \tpublic Documento save(Documento documento) {\r\n    \t\tentityManager.persist(documento);\r\n    \t\treturn documento;\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Documento&gt; findAll() {\r\n    \t\treturn entityManager.createQuery(&quot;from Documento&quot;).getResultList();\r\n    \t}\r\n    \t\r\n    \tpublic Documento findById(Integer id) {\r\n    \t\treturn entityManager.find(Documento.class, id);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Documento&gt; findByTipo(String tipoSearch) {\r\n    \r\n    \t\tCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    \t\tCriteriaQuery&lt;Documento&gt; criteriaQuery = criteriaBuilder.createQuery(Documento.class);\r\n    \t\tRoot&lt;Documento&gt; documento = criteriaQuery.from(Documento.class);\r\n    \t\tTypedQuery&lt;Documento&gt; typedQuery;\r\n    \t\t\r\n    \t\tcriteriaQuery.where(\r\n    \t\t\t\tcriteriaBuilder.like(\r\n    \t\t\t\t\t\tdocumento.&lt;String&gt;get(&quot;codigo&quot;), &quot;%&quot; + tipoSearch + &quot;%&quot;));\r\n    \t\t\r\n    \t\ttypedQuery = entityManager.createQuery(criteriaQuery);\r\n    \t\t\r\n    \t\treturn typedQuery.getResultList();\r\n    \t}\r\n    \t\r\n    \tpublic Boolean removeById(Integer id) {\r\n    \t\tDocumento documento = this.findById(id);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tentityManager.remove(documento);\r\n    \t\t\treturn true;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic Documento update(Documento documento) {\r\n    \t\treturn entityManager.merge(documento);\r\n    \t}\r\n    }\r\n\r\nMy Service DocumentoService.Java\r\n\r\n    package br.com.odin.loja.backend.service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.transaction.Transactional;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import br.com.odin.loja.backend.exception.DocumentoInvalidoException;\r\n    import br.com.odin.loja.backend.model.Documento;\r\n    import br.com.odin.loja.backend.model.Pessoa;\r\n    import br.com.odin.loja.backend.repository.DocumentoRepository;\r\n    \r\n    @Service\t\t\t\t// Expoe a classe como um servi&#231;o do spring \r\n    @Transactional\t\t\t// Marca a classe com gerenciamento de transa&#231;&#245;es (SPRING)\r\n    public class DocumentoService {\r\n    \r\n    \t// Attributes\r\n    \t@Autowired\r\n    \tprivate DocumentoRepository documentoRepository;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate PessoaService pessoaService;\r\n    \t\r\n    \t// General Methods\r\n    \tprivate void validateRg(String rg) throws DocumentoInvalidoException {\r\n    \t\t\r\n    \t\tif (rg.length() &lt; 9) {\r\n    \t\t\tthrow new DocumentoInvalidoException(&quot;N&#250;mero de caracteres inv&#225;lidos! Favor verificar.&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (rg.contains(&quot;-&quot;) || rg.contains(&quot;.&quot;)) {\r\n    \t\t\tthrow new DocumentoInvalidoException(&quot;Digite o CPF sem pontua&#231;&#227;o ou tra&#231;o! Favor verificar.&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (rg.length() &gt; 9) {\r\n    \t\t\tthrow new DocumentoInvalidoException(&quot;N&#250;mero de caracteres inv&#225;lidos! Favor verificar.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void validateCpf(String cpf) throws DocumentoInvalidoException {\r\n    \t\t\r\n    \t\tif (cpf.length() &lt; 11) {\r\n    \t\t\tthrow new DocumentoInvalidoException(&quot;N&#250;mero de caracteres inv&#225;lidos! Favor verificar.&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (cpf.contains(&quot;-&quot;) || cpf.contains(&quot;.&quot;)) {\r\n    \t\t\tthrow new DocumentoInvalidoException(&quot;Digite o CPF sem pontua&#231;&#227;o ou tra&#231;o! Favor verificar.&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (cpf.length() &gt; 11) {\r\n    \t\t\tthrow new DocumentoInvalidoException(&quot;N&#250;mero de caracteres inv&#225;lidos! Favor verificar.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic String getFilterProperty(String filter) {\r\n    \t\tif (filter != null) {\r\n    \t\t\treturn filter.substring(0, filter.indexOf(&quot;=&quot;));\t\r\n    \t\t}\r\n    \t\treturn &quot;default&quot;;\r\n    \t}\r\n    \t\r\n    \tpublic String getFilterValue(String filter) {\r\n    \t\treturn filter.substring(filter.indexOf(&quot;=&quot;) + 1, filter.length());\r\n    \t}\r\n    \t\r\n    \t// API Methods\r\n    \tpublic List&lt;Documento&gt; find(String filter){\r\n    \t\t\r\n    \t\tswitch (getFilterProperty(filter)) {\r\n    \t\t\t\r\n    \t\t\tcase &quot;tipo&quot;:\r\n    \t\t\t\treturn findByTipo(getFilterValue(filter));\r\n    \t\t\t\t\r\n    \t\t\tcase &quot;id&quot;:\r\n    \t\t\t\tDocumento documentoResult = findById(Integer.parseInt(getFilterValue(filter)));\r\n    \t\t\t\tList&lt;Documento&gt; listDocumento = new ArrayList&lt;Documento&gt;();\r\n    \t\t\t\tlistDocumento.add(documentoResult);\r\n    \t\t\t\treturn listDocumento;\r\n    \t\t\t\t\r\n    \t\t\tdefault:\r\n    \t\t\t\treturn findAll();\t\t\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic Documento findById(Integer id) {\r\n    \t\treturn documentoRepository.findById(id);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Documento&gt; findByTipo(String tipoSearch) {\r\n    \t\treturn documentoRepository.findByTipo(tipoSearch);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Documento&gt; findAll() {\r\n    \t\treturn documentoRepository.findAll();\r\n    \t}\r\n    \t\r\n    \tpublic Documento save(Documento documento) throws DocumentoInvalidoException{\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tif (documento.getCodigo().equals(&quot;RG&quot;)) {\r\n    \t\t\t\tvalidateRg(documento.getValor());\t\r\n    \t\t\t} \r\n    \t\t\t\r\n    \t\t\tif (documento.getCodigo().equals(&quot;CPF&quot;)) {\r\n    \t\t\t\tvalidateCpf(documento.getValor());\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tPessoa pessoa = pessoaService.findById(documento.getPessoa().getId());\r\n    \t\t\tpessoa.setDocumentos(null);\r\n    \t\t\tdocumento.getPessoa().setId(pessoa.getId());\r\n    \t\t\treturn documentoRepository.save(documento);\r\n    \t\t} catch (DocumentoInvalidoException exception) {\r\n    \t\t\tSystem.out.println(&quot;Error message: &quot; + exception.getMessage());\r\n    \t\t\tthrow new DocumentoInvalidoException(exception.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic Boolean removeById(Integer id) {\r\n    \t\treturn documentoRepository.removeById(id);\r\n    \t}\r\n    \t\r\n    \tpublic Documento update(Documento documentoAlterado, Integer id) {\r\n    \t\tdocumentoAlterado.setId(id);\r\n    \t\treturn documentoRepository.update(documentoAlterado);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nMy Controller DocumentoController.Java\r\n\r\n    package br.com.odin.loja.backend.controller;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import br.com.odin.loja.backend.exception.DocumentoInvalidoException;\r\n    import br.com.odin.loja.backend.model.Documento;\r\n    import br.com.odin.loja.backend.model.Pessoa;\r\n    import br.com.odin.loja.backend.service.DocumentoService;\r\n    import br.com.odin.loja.backend.service.PessoaService;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/documentos&quot;)\r\n    public class DocumentoController {\r\n    \r\n    \t//Attributes\r\n    \t@Autowired\r\n    \tprivate DocumentoService documentoService;\r\n    \t\r\n    \t// API Methods\r\n    \t@GetMapping(&quot;&quot;)\r\n    \tpublic List&lt;Documento&gt; find(@RequestParam(value=&quot;filter&quot;, required = false) String filter) {\r\n    \t\tList&lt;Documento&gt; documentoList = documentoService.find(filter);\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; documentoList.size(); i++) {\r\n    \t\t\tdocumentoList.get(i).getPessoa().setDocumentos(null);\t\r\n    \t\t}\r\n    \t\treturn documentoList;\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/novo&quot;)\r\n    \tpublic Documento save(@RequestBody Documento documento) throws DocumentoInvalidoException {\r\n    \t\treturn documentoService.save(documento);\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/{id}&quot;)\r\n    \tpublic Documento findById(@PathVariable(&quot;id&quot;) Integer id) {\r\n    \t\treturn documentoService.findById(id);\r\n    \t}\r\n    \t\r\n    \t@DeleteMapping(&quot;/{id}/remover&quot;)\r\n    \tpublic Boolean remove(@PathVariable(&quot;id&quot;) Integer id) {\r\n    \t\treturn documentoService.removeById(id);\r\n    \t}\r\n    \t\r\n    \t@PutMapping(&quot;/{id}/alterar&quot;)\r\n    \tpublic Documento update (@PathVariable(&quot;id&quot;) Integer id, @RequestBody Documento documento) {\r\n    \t\treturn documentoService.update(documento, id);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI&#39;m using h2 database and have some data save in database \r\n\r\ndb.sql\r\n\r\n    -- Pessoas\r\n    \r\n    INSERT INTO LOJA_PESSOA (id_pessoa, nome_pessoa) VALUES (1, &#39;Teste 1&#39;);\r\n    INSERT INTO LOJA_PESSOA (id_pessoa, nome_pessoa) VALUES (2, &#39;Teste 2&#39;);\r\n    INSERT INTO LOJA_PESSOA (id_pessoa, nome_pessoa) VALUES (3, &#39;Teste 3&#39;);\r\n    \r\n    -- Documentos\r\n    \r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (1, &#39;CPF&#39;, &#39;CPF&#39;, &#39;99988877766&#39;, 1);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (2, &#39;RG&#39;, &#39;RG&#39;, &#39;998887776&#39;, 1);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (3, &#39;CPF&#39;, &#39;CPF&#39;, &#39;11122233344&#39;, 2);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (4, &#39;RG&#39;, &#39;RG&#39;, &#39;112223334&#39;, 2);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (5, &#39;CPF&#39;, &#39;CPF&#39;, &#39;98765432199&#39;, 3);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (6, &#39;RG&#39;, &#39;RG&#39;, &#39;987654321&#39;, 3);\r\n\r\n**Update**\r\n\r\n\r\nAs I read the comments and analyzed my data.sql I solved the problem by changing the sql date so that it uses the sequence generated by the database. \r\nThe new data.sql:\r\n\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, &#39;CPF&#39;, &#39;CPF&#39;, &#39;99988877766&#39;, 1);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, &#39;RG&#39;, &#39;RG&#39;, &#39;998887776&#39;, 1);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, &#39;CPF&#39;, &#39;CPF&#39;, &#39;11122233344&#39;, 2);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, &#39;RG&#39;, &#39;RG&#39;, &#39;112223334&#39;, 2);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, &#39;CPF&#39;, &#39;CPF&#39;, &#39;98765432199&#39;, 3);\r\n    INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, &#39;RG&#39;, &#39;RG&#39;, &#39;987654321&#39;, 3);","title":"Unique index or primary key violation when persist a new element","body":"<p>I am creating an application and when saving a new item I get the following error:</p>\n\n<pre><code>2019-03-17 00:05:09 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505\n2019-03-17 00:05:09 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: \"PUBLIC.PRIMARY_KEY_3 ON PUBLIC.LOJA_DOCUMENTO(ID_DOCUMENTO) VALUES 1\"; SQL statement:\n/* insert br.com.odin.loja.backend.model.Documento */ insert into loja_documento (codigo_documento, descricao_documento, id_pessoa, valor_documento, id_documento) values (?, ?, ?, ?, ?) [23505-198]\n2019-03-17 00:05:09 ERROR o.h.i.ExceptionMapperStandardImpl - HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]\n2019-03-17 00:05:09 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [\"PUBLIC.PRIMARY_KEY_3 ON PUBLIC.LOJA_DOCUMENTO(ID_DOCUMENTO) VALUES 1\"; SQL statement:\n/* insert br.com.odin.loja.backend.model.Documento */ insert into loja_documento (codigo_documento, descricao_documento, id_pessoa, valor_documento, id_documento) values (?, ?, ?, ?, ?) [23505-198]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \"PUBLIC.PRIMARY_KEY_3 ON PUBLIC.LOJA_DOCUMENTO(ID_DOCUMENTO) VALUES 1\"; SQL statement:\n/* insert br.com.odin.loja.backend.model.Documento */ insert into loja_documento (codigo_documento, descricao_documento, id_pessoa, valor_documento, id_documento) values (?, ?, ?, ?, ?) [23505-198]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:457) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:427) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:103) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:220) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:196) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.mvstore.db.MVTable.addRow(MVTable.java:703) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.command.dml.Insert.insertRows(Insert.java:180) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.command.dml.Insert.update(Insert.java:132) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.command.CommandContainer.update(CommandContainer.java:133) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.command.Command.executeUpdate(Command.java:267) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:200) ~[h2-1.4.198.jar:1.4.198]\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:154) ~[h2-1.4.198.jar:1.4.198]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-3.2.0.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3171) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3686) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:90) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:532) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:533) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at br.com.odin.loja.backend.service.DocumentoService$$EnhancerBySpringCGLIB$$25558288.save(&lt;generated&gt;) ~[classes/:na]\n    at br.com.odin.loja.backend.controller.DocumentoController.save(DocumentoController.java:43) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_201]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_201]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_201]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_201]\n</code></pre>\n\n<p>My Model Class Documento.Java</p>\n\n<pre><code>package br.com.odin.loja.backend.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@Entity\n@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n@Table(name = \"loja_documento\")\npublic class Documento {\n\n    // Attributes\n    @Id\n    @Column(name = \"ID_DOCUMENTO\", nullable = false, precision = 3, scale = 0)\n    @GeneratedValue(generator = \"seq_generator\", strategy = GenerationType.SEQUENCE)\n    @SequenceGenerator(name=\"seq_generator\", sequenceName = \"SEQ_LOJA_DOCUMENTO\", allocationSize=1)\n    private Integer id;\n\n    @Column(name = \"CODIGO_DOCUMENTO\", nullable = false, length = 25)\n    private String codigo;\n\n    @Column(name = \"DESCRICAO_DOCUMENTO\", nullable = false, length = 25)\n    private String descricao;\n\n    @Column(name = \"VALOR_DOCUMENTO\", nullable = false, length = 25)\n    private String valor;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = \"ID_PESSOA\")\n    @JsonIgnoreProperties(value = \"documentos\", allowSetters = true)\n    private Pessoa pessoa;\n\n    // Constructors\n\n    // Getters &amp; Setters\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getCodigo() {\n        return codigo;\n    }\n\n    public void setCodigo(String codigo) {\n        this.codigo = codigo;\n    }\n\n    public String getDescricao() {\n        return descricao;\n    }\n\n    public void setDescricao(String descricao) {\n        this.descricao = descricao;\n    }\n\n    public String getValor() {\n        return valor;\n    }\n\n    public void setValor(String valor) {\n        this.valor = valor;\n    }\n\n    public Pessoa getPessoa() {\n        return pessoa;\n    }\n\n    public void setPessoa(Pessoa pessoa) {\n        this.pessoa = pessoa;\n    }\n\n    // Methods\n\n}\n</code></pre>\n\n<p>My Repository DocumentoRepository.Java</p>\n\n<pre><code>package br.com.odin.loja.backend.repository;\n\nimport java.util.List;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.TypedQuery;\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Root;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport br.com.odin.loja.backend.model.Documento;\nimport br.com.odin.loja.backend.model.Pessoa;\n\n@Repository\npublic class DocumentoRepository {\n\n    // Attributes\n    @Autowired\n    private EntityManager entityManager;\n\n    // Methods\n    public Documento save(Documento documento) {\n        entityManager.persist(documento);\n        return documento;\n    }\n\n    public List&lt;Documento&gt; findAll() {\n        return entityManager.createQuery(\"from Documento\").getResultList();\n    }\n\n    public Documento findById(Integer id) {\n        return entityManager.find(Documento.class, id);\n    }\n\n    public List&lt;Documento&gt; findByTipo(String tipoSearch) {\n\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;Documento&gt; criteriaQuery = criteriaBuilder.createQuery(Documento.class);\n        Root&lt;Documento&gt; documento = criteriaQuery.from(Documento.class);\n        TypedQuery&lt;Documento&gt; typedQuery;\n\n        criteriaQuery.where(\n                criteriaBuilder.like(\n                        documento.&lt;String&gt;get(\"codigo\"), \"%\" + tipoSearch + \"%\"));\n\n        typedQuery = entityManager.createQuery(criteriaQuery);\n\n        return typedQuery.getResultList();\n    }\n\n    public Boolean removeById(Integer id) {\n        Documento documento = this.findById(id);\n\n        try {\n            entityManager.remove(documento);\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    public Documento update(Documento documento) {\n        return entityManager.merge(documento);\n    }\n}\n</code></pre>\n\n<p>My Service DocumentoService.Java</p>\n\n<pre><code>package br.com.odin.loja.backend.service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.transaction.Transactional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport br.com.odin.loja.backend.exception.DocumentoInvalidoException;\nimport br.com.odin.loja.backend.model.Documento;\nimport br.com.odin.loja.backend.model.Pessoa;\nimport br.com.odin.loja.backend.repository.DocumentoRepository;\n\n@Service                // Expoe a classe como um serviço do spring \n@Transactional          // Marca a classe com gerenciamento de transações (SPRING)\npublic class DocumentoService {\n\n    // Attributes\n    @Autowired\n    private DocumentoRepository documentoRepository;\n\n    @Autowired\n    private PessoaService pessoaService;\n\n    // General Methods\n    private void validateRg(String rg) throws DocumentoInvalidoException {\n\n        if (rg.length() &lt; 9) {\n            throw new DocumentoInvalidoException(\"Número de caracteres inválidos! Favor verificar.\");\n        }\n\n        if (rg.contains(\"-\") || rg.contains(\".\")) {\n            throw new DocumentoInvalidoException(\"Digite o CPF sem pontuação ou traço! Favor verificar.\");\n        }\n\n        if (rg.length() &gt; 9) {\n            throw new DocumentoInvalidoException(\"Número de caracteres inválidos! Favor verificar.\");\n        }\n    }\n\n    private void validateCpf(String cpf) throws DocumentoInvalidoException {\n\n        if (cpf.length() &lt; 11) {\n            throw new DocumentoInvalidoException(\"Número de caracteres inválidos! Favor verificar.\");\n        }\n\n        if (cpf.contains(\"-\") || cpf.contains(\".\")) {\n            throw new DocumentoInvalidoException(\"Digite o CPF sem pontuação ou traço! Favor verificar.\");\n        }\n\n        if (cpf.length() &gt; 11) {\n            throw new DocumentoInvalidoException(\"Número de caracteres inválidos! Favor verificar.\");\n        }\n    }\n\n\n    public String getFilterProperty(String filter) {\n        if (filter != null) {\n            return filter.substring(0, filter.indexOf(\"=\"));    \n        }\n        return \"default\";\n    }\n\n    public String getFilterValue(String filter) {\n        return filter.substring(filter.indexOf(\"=\") + 1, filter.length());\n    }\n\n    // API Methods\n    public List&lt;Documento&gt; find(String filter){\n\n        switch (getFilterProperty(filter)) {\n\n            case \"tipo\":\n                return findByTipo(getFilterValue(filter));\n\n            case \"id\":\n                Documento documentoResult = findById(Integer.parseInt(getFilterValue(filter)));\n                List&lt;Documento&gt; listDocumento = new ArrayList&lt;Documento&gt;();\n                listDocumento.add(documentoResult);\n                return listDocumento;\n\n            default:\n                return findAll();       \n        }\n    }\n\n    public Documento findById(Integer id) {\n        return documentoRepository.findById(id);\n    }\n\n    public List&lt;Documento&gt; findByTipo(String tipoSearch) {\n        return documentoRepository.findByTipo(tipoSearch);\n    }\n\n    public List&lt;Documento&gt; findAll() {\n        return documentoRepository.findAll();\n    }\n\n    public Documento save(Documento documento) throws DocumentoInvalidoException{\n        try {\n\n            if (documento.getCodigo().equals(\"RG\")) {\n                validateRg(documento.getValor());   \n            } \n\n            if (documento.getCodigo().equals(\"CPF\")) {\n                validateCpf(documento.getValor());\n            }\n\n            Pessoa pessoa = pessoaService.findById(documento.getPessoa().getId());\n            pessoa.setDocumentos(null);\n            documento.getPessoa().setId(pessoa.getId());\n            return documentoRepository.save(documento);\n        } catch (DocumentoInvalidoException exception) {\n            System.out.println(\"Error message: \" + exception.getMessage());\n            throw new DocumentoInvalidoException(exception.getMessage());\n        }\n    }\n\n    public Boolean removeById(Integer id) {\n        return documentoRepository.removeById(id);\n    }\n\n    public Documento update(Documento documentoAlterado, Integer id) {\n        documentoAlterado.setId(id);\n        return documentoRepository.update(documentoAlterado);\n    }\n\n}\n</code></pre>\n\n<p>My Controller DocumentoController.Java</p>\n\n<pre><code>package br.com.odin.loja.backend.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport br.com.odin.loja.backend.exception.DocumentoInvalidoException;\nimport br.com.odin.loja.backend.model.Documento;\nimport br.com.odin.loja.backend.model.Pessoa;\nimport br.com.odin.loja.backend.service.DocumentoService;\nimport br.com.odin.loja.backend.service.PessoaService;\n\n@RestController\n@RequestMapping(\"/documentos\")\npublic class DocumentoController {\n\n    //Attributes\n    @Autowired\n    private DocumentoService documentoService;\n\n    // API Methods\n    @GetMapping(\"\")\n    public List&lt;Documento&gt; find(@RequestParam(value=\"filter\", required = false) String filter) {\n        List&lt;Documento&gt; documentoList = documentoService.find(filter);\n\n        for(int i = 0; i &lt; documentoList.size(); i++) {\n            documentoList.get(i).getPessoa().setDocumentos(null);   \n        }\n        return documentoList;\n    }\n\n    @PostMapping(\"/novo\")\n    public Documento save(@RequestBody Documento documento) throws DocumentoInvalidoException {\n        return documentoService.save(documento);\n    }\n\n    @GetMapping(\"/{id}\")\n    public Documento findById(@PathVariable(\"id\") Integer id) {\n        return documentoService.findById(id);\n    }\n\n    @DeleteMapping(\"/{id}/remover\")\n    public Boolean remove(@PathVariable(\"id\") Integer id) {\n        return documentoService.removeById(id);\n    }\n\n    @PutMapping(\"/{id}/alterar\")\n    public Documento update (@PathVariable(\"id\") Integer id, @RequestBody Documento documento) {\n        return documentoService.update(documento, id);\n    }\n\n}\n</code></pre>\n\n<p>I'm using h2 database and have some data save in database </p>\n\n<p>db.sql</p>\n\n<pre><code>-- Pessoas\n\nINSERT INTO LOJA_PESSOA (id_pessoa, nome_pessoa) VALUES (1, 'Teste 1');\nINSERT INTO LOJA_PESSOA (id_pessoa, nome_pessoa) VALUES (2, 'Teste 2');\nINSERT INTO LOJA_PESSOA (id_pessoa, nome_pessoa) VALUES (3, 'Teste 3');\n\n-- Documentos\n\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (1, 'CPF', 'CPF', '99988877766', 1);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (2, 'RG', 'RG', '998887776', 1);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (3, 'CPF', 'CPF', '11122233344', 2);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (4, 'RG', 'RG', '112223334', 2);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (5, 'CPF', 'CPF', '98765432199', 3);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (6, 'RG', 'RG', '987654321', 3);\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>As I read the comments and analyzed my data.sql I solved the problem by changing the sql date so that it uses the sequence generated by the database. \nThe new data.sql:</p>\n\n<pre><code>INSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, 'CPF', 'CPF', '99988877766', 1);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, 'RG', 'RG', '998887776', 1);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, 'CPF', 'CPF', '11122233344', 2);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, 'RG', 'RG', '112223334', 2);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, 'CPF', 'CPF', '98765432199', 3);\nINSERT INTO LOJA_DOCUMENTO (id_documento, codigo_documento, descricao_documento, valor_documento, id_pessoa) VALUES (SEQ_LOJA_DOCUMENTO.nextval, 'RG', 'RG', '987654321', 3);\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-vision"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1701076562,"post_id":77552798,"comment_id":136725614,"body_markdown":"How do you define your storage client bean?","body":"How do you define your storage client bean?"}],"owner":{"account_id":28613893,"reputation":1,"user_id":21908331,"display_name":"Chanmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701035576,"creation_date":1701020602,"question_id":77552798,"body_markdown":"I&#39;m trying to apply google cloud vision api to my project, but I can&#39;t start application with my code.\r\nPlease help me.\r\n\r\n``` yaml\r\nspring:\r\n  cloud:\r\n    gcp:\r\n      project-id: [projectId]\r\n      credentials:\r\n        location: classpath:[credentialfilename].json\r\n```\r\n\r\n``` gradle\r\ndependencies {\r\n    // Google vision api\r\n    implementation &#39;org.springframework.cloud:spring-cloud-gcp-starter-vision&#39;\r\n}\r\n\r\next {\r\n    set(&#39;springCloudVersion&#39;, &quot;2021.0.1&quot;)\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &#39;org.springframework.cloud:spring-cloud-gcp-dependencies:1.2.8.RELEASE&#39;\r\n        mavenBom &#39;org.springframework.boot:spring-boot-dependencies:2.7.10&#39;\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    }\r\n}\r\n```\r\n\r\n``` java\r\npackage com.wakeUpTogetUp.togetUp.api.mission.service;\r\n\r\nimport com.google.cloud.vision.v1.AnnotateImageResponse;\r\nimport com.google.cloud.vision.v1.FaceAnnotation;\r\nimport com.google.cloud.vision.v1.Feature.Type;\r\nimport com.wakeUpTogetUp.togetUp.utils.ResourceConverter;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.cloud.gcp.vision.CloudVisionTemplate;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class GoogleVisionService {\r\n    private final CloudVisionTemplate cloudVisionTemplate;\r\n\r\n    public List&lt;FaceAnnotation&gt; getFaceRecognitionResult(MultipartFile file) throws IOException {\r\n        AnnotateImageResponse response =\r\n                this.cloudVisionTemplate.analyzeImage(\r\n                        ResourceConverter.convertMultipartFileToResource(file),\r\n                        Type.FACE_DETECTION);\r\n\r\n        return response.getFaceAnnotationsList();\r\n    }\r\n}\r\n```\r\n\r\nWhen I start my application, the error message below appear.\r\n\r\n``` text\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of method documentOcrTemplate in org.springframework.cloud.gcp.autoconfigure.vision.CloudVisionAutoConfiguration$VisionOcrConfiguration required a bean of type &#39;com.google.cloud.storage.Storage&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.google.cloud.storage.Storage&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nAnd when I create the GoogleStoreConfig and run the application,\r\n\r\n``` text\r\n2023-11-27 02:37:41.409 ERROR 31988 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;storage&#39; defined in class path resource [com/wakeUpTogetUp/togetUp/config/GoogleStorageConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.storage.Storage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.ExceptionInInitializerError\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat com.wakeUpTogetUp.togetUp.TogetUpApplication.main(TogetUpApplication.java:21)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.storage.Storage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.ExceptionInInitializerError\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.ExceptionInInitializerError: null\r\n\tat com.google.api.services.storage.Storage$Builder.build(Storage.java:11194)\r\n\tat com.google.cloud.storage.spi.v1.HttpStorageRpc.&lt;init&gt;(HttpStorageRpc.java:121)\r\n\tat com.google.cloud.storage.StorageOptions$DefaultStorageRpcFactory.create(StorageOptions.java:55)\r\n\tat com.google.cloud.storage.StorageOptions$DefaultStorageRpcFactory.create(StorageOptions.java:49)\r\n\tat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:561)\r\n\tat com.google.cloud.storage.StorageOptions.getStorageRpcV1(StorageOptions.java:121)\r\n\tat com.google.cloud.storage.StorageImpl.&lt;init&gt;(StorageImpl.java:124)\r\n\tat com.google.cloud.storage.StorageOptions$DefaultStorageFactory.create(StorageOptions.java:45)\r\n\tat com.google.cloud.storage.StorageOptions$DefaultStorageFactory.create(StorageOptions.java:39)\r\n\tat com.google.cloud.ServiceOptions.getService(ServiceOptions.java:541)\r\n\tat com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig.storage(GoogleStorageConfig.java:12)\r\n\tat com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087.CGLIB$storage$0(&lt;generated&gt;)\r\n\tat com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087$$FastClassBySpringCGLIB$$16164cfd.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087.storage(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 25 common frames omitted\r\nCaused by: java.lang.IllegalStateException: You are currently running with version 2.2.0 of google-api-client. You need at least version 1.31.1 of google-api-client to run version 1.31.0 of the Cloud Storage JSON API library.\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:532)\r\n\tat com.google.api.client.util.Preconditions.checkState(Preconditions.java:113)\r\n\tat com.google.api.services.storage.Storage.&lt;clinit&gt;(Storage.java:44)\r\n\t... 46 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nand when I change the version of google-api-client to 1.31.0,\r\n\r\n``` text\r\n2023-11-27 02:39:22.143 ERROR 32272 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;documentOcrTemplate&#39; defined in class path resource [org/springframework/cloud/gcp/autoconfigure/vision/CloudVisionAutoConfiguration$VisionOcrConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.gcp.vision.DocumentOcrTemplate] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1f89ab83]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat com.wakeUpTogetUp.togetUp.TogetUpApplication.main(TogetUpApplication.java:21)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.gcp.vision.DocumentOcrTemplate] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1f89ab83]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n\tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:388)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:335)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/cloud/gcp/storage/GoogleStorageLocation\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n\t... 26 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.cloud.gcp.storage.GoogleStorageLocation\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 30 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nthis appear. I think I can&#39;t traceback anymore. I want help desperately. Thank you for reading.","title":"Problem during setup google gcp vision api","body":"<p>I'm trying to apply google cloud vision api to my project, but I can't start application with my code.\nPlease help me.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gcp:\n      project-id: [projectId]\n      credentials:\n        location: classpath:[credentialfilename].json\n</code></pre>\n<pre><code>dependencies {\n    // Google vision api\n    implementation 'org.springframework.cloud:spring-cloud-gcp-starter-vision'\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.1&quot;)\n}\n\ndependencyManagement {\n    imports {\n        mavenBom 'org.springframework.cloud:spring-cloud-gcp-dependencies:1.2.8.RELEASE'\n        mavenBom 'org.springframework.boot:spring-boot-dependencies:2.7.10'\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.wakeUpTogetUp.togetUp.api.mission.service;\n\nimport com.google.cloud.vision.v1.AnnotateImageResponse;\nimport com.google.cloud.vision.v1.FaceAnnotation;\nimport com.google.cloud.vision.v1.Feature.Type;\nimport com.wakeUpTogetUp.togetUp.utils.ResourceConverter;\nimport java.io.IOException;\nimport java.util.List;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.cloud.gcp.vision.CloudVisionTemplate;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\n@Service\n@RequiredArgsConstructor\npublic class GoogleVisionService {\n    private final CloudVisionTemplate cloudVisionTemplate;\n\n    public List&lt;FaceAnnotation&gt; getFaceRecognitionResult(MultipartFile file) throws IOException {\n        AnnotateImageResponse response =\n                this.cloudVisionTemplate.analyzeImage(\n                        ResourceConverter.convertMultipartFileToResource(file),\n                        Type.FACE_DETECTION);\n\n        return response.getFaceAnnotationsList();\n    }\n}\n</code></pre>\n<p>When I start my application, the error message below appear.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of method documentOcrTemplate in org.springframework.cloud.gcp.autoconfigure.vision.CloudVisionAutoConfiguration$VisionOcrConfiguration required a bean of type 'com.google.cloud.storage.Storage' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.google.cloud.storage.Storage' in your configuration.\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>And when I create the GoogleStoreConfig and run the application,</p>\n<pre><code>2023-11-27 02:37:41.409 ERROR 31988 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'storage' defined in class path resource [com/wakeUpTogetUp/togetUp/config/GoogleStorageConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.storage.Storage]: Factory method 'storage' threw exception; nested exception is java.lang.ExceptionInInitializerError\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.wakeUpTogetUp.togetUp.TogetUpApplication.main(TogetUpApplication.java:21)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.storage.Storage]: Factory method 'storage' threw exception; nested exception is java.lang.ExceptionInInitializerError\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 24 common frames omitted\nCaused by: java.lang.ExceptionInInitializerError: null\n    at com.google.api.services.storage.Storage$Builder.build(Storage.java:11194)\n    at com.google.cloud.storage.spi.v1.HttpStorageRpc.&lt;init&gt;(HttpStorageRpc.java:121)\n    at com.google.cloud.storage.StorageOptions$DefaultStorageRpcFactory.create(StorageOptions.java:55)\n    at com.google.cloud.storage.StorageOptions$DefaultStorageRpcFactory.create(StorageOptions.java:49)\n    at com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:561)\n    at com.google.cloud.storage.StorageOptions.getStorageRpcV1(StorageOptions.java:121)\n    at com.google.cloud.storage.StorageImpl.&lt;init&gt;(StorageImpl.java:124)\n    at com.google.cloud.storage.StorageOptions$DefaultStorageFactory.create(StorageOptions.java:45)\n    at com.google.cloud.storage.StorageOptions$DefaultStorageFactory.create(StorageOptions.java:39)\n    at com.google.cloud.ServiceOptions.getService(ServiceOptions.java:541)\n    at com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig.storage(GoogleStorageConfig.java:12)\n    at com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087.CGLIB$storage$0(&lt;generated&gt;)\n    at com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087$$FastClassBySpringCGLIB$$16164cfd.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087.storage(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 25 common frames omitted\nCaused by: java.lang.IllegalStateException: You are currently running with version 2.2.0 of google-api-client. You need at least version 1.31.1 of google-api-client to run version 1.31.0 of the Cloud Storage JSON API library.\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:532)\n    at com.google.api.client.util.Preconditions.checkState(Preconditions.java:113)\n    at com.google.api.services.storage.Storage.&lt;clinit&gt;(Storage.java:44)\n    ... 46 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>and when I change the version of google-api-client to 1.31.0,</p>\n<pre><code>2023-11-27 02:39:22.143 ERROR 32272 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'documentOcrTemplate' defined in class path resource [org/springframework/cloud/gcp/autoconfigure/vision/CloudVisionAutoConfiguration$VisionOcrConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.gcp.vision.DocumentOcrTemplate] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1f89ab83]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.wakeUpTogetUp.togetUp.TogetUpApplication.main(TogetUpApplication.java:21)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.gcp.vision.DocumentOcrTemplate] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1f89ab83]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:388)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:335)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    ... 20 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/cloud/gcp/storage/GoogleStorageLocation\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n    ... 26 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.cloud.gcp.storage.GoogleStorageLocation\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 30 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>this appear. I think I can't traceback anymore. I want help desperately. Thank you for reading.</p>\n"},{"tags":["java","arrays","string","for-loop"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700945257,"post_id":77549536,"comment_id":136714941,"body_markdown":"Additionally update _sample_ from within the loop.","body":"Additionally update <i>sample</i> from within the loop."},{"owner":{"account_id":29992673,"reputation":17,"user_id":22984918,"display_name":"SAMSON JACK"},"score":0,"creation_date":1700945677,"post_id":77549536,"comment_id":136715001,"body_markdown":"How to update? @Reilas","body":"How to update? @Reilas"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700950407,"post_id":77549536,"comment_id":136715389,"body_markdown":"There is no link between `String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];` and subsequent changes to the value of `m`.","body":"There is no link between <code>String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];</code> and subsequent changes to the value of <code>m</code>."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":2,"creation_date":1700952016,"post_id":77549536,"comment_id":136715495,"body_markdown":"The problem seems to indicate a misunderstanding of the nature of [&#39;assignment&#39;](https://en.wikipedia.org/wiki/Assignment_(computer_science)) in imperative programming.","body":"The problem seems to indicate a misunderstanding of the nature of <a href=\"https://en.wikipedia.org/wiki/Assignment_(computer_science)\" rel=\"nofollow noreferrer\">&#39;assignment&#39;</a> in imperative programming."}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700948376,"creation_date":1700946255,"answer_id":77549587,"question_id":77549536,"body_markdown":"Everything is fine with the variable `m`. The problem is that your string variable `sample` is not only declared, but also assigned outside the loop and never updated. Why do you expect it to change it&#39;s value? It always has the value that was assigned to it: &quot;Checking if this works 1&quot;, because `m` was 0 at the moment of assignment and the value that you got from the array was &quot;1&quot;.\r\n\r\nIn order to get the desired behaviour you should change your code in the following way:\r\n```\r\nString sample = &quot;&quot;;\r\n\r\nfor (i = 0; i &lt; num; i++) {\r\n    sample = &quot;Checking if this works&quot; + &quot; &quot; + m_id[m]; // update the value\r\n    System.out.println(sample);\r\n    m = m + 1;\r\n}\r\n``` \r\n\r\nYou also can do it like that:\r\n```\r\nString pattern = &quot;Checking if this works %s&quot;;\r\n\r\nfor (int i = 0; i &lt; num; i++) {\r\n    System.out.println(String.format(pattern, m_id[m]));\r\n    m = m + 1;\r\n}\r\n```","title":"The value of the variable &quot;m&quot; is not getting updated when i am trying to print the string which is declared outside the loop","body":"<p>Everything is fine with the variable <code>m</code>. The problem is that your string variable <code>sample</code> is not only declared, but also assigned outside the loop and never updated. Why do you expect it to change it's value? It always has the value that was assigned to it: &quot;Checking if this works 1&quot;, because <code>m</code> was 0 at the moment of assignment and the value that you got from the array was &quot;1&quot;.</p>\n<p>In order to get the desired behaviour you should change your code in the following way:</p>\n<pre><code>String sample = &quot;&quot;;\n\nfor (i = 0; i &lt; num; i++) {\n    sample = &quot;Checking if this works&quot; + &quot; &quot; + m_id[m]; // update the value\n    System.out.println(sample);\n    m = m + 1;\n}\n</code></pre>\n<p>You also can do it like that:</p>\n<pre><code>String pattern = &quot;Checking if this works %s&quot;;\n\nfor (int i = 0; i &lt; num; i++) {\n    System.out.println(String.format(pattern, m_id[m]));\n    m = m + 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18825199,"reputation":11,"user_id":13730282,"display_name":"Tonarose Ait Oubel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701034698,"creation_date":1700949893,"answer_id":77549726,"question_id":77549536,"body_markdown":"Replace this section :\r\n\r\n    String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];    \r\n    for (i=0; i&lt;num; i++) \r\n    {\r\n        m=m+1;\r\n        System.out.println(sample);\r\n    }\r\n\r\nby this :\r\n\r\n    String sample = &quot;Checking if this works&quot; +&quot; &quot;; \r\n    for (i=0; i&lt;num; i++) \r\n    {\r\n        System.out.println(sample+m_id[m]);\r\n        m=m+1;\r\n       \r\n    }\r\n\r\nand also make your class public.","title":"The value of the variable &quot;m&quot; is not getting updated when i am trying to print the string which is declared outside the loop","body":"<p>Replace this section :</p>\n<pre><code>String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];    \nfor (i=0; i&lt;num; i++) \n{\n    m=m+1;\n    System.out.println(sample);\n}\n</code></pre>\n<p>by this :</p>\n<pre><code>String sample = &quot;Checking if this works&quot; +&quot; &quot;; \nfor (i=0; i&lt;num; i++) \n{\n    System.out.println(sample+m_id[m]);\n    m=m+1;\n   \n}\n</code></pre>\n<p>and also make your class public.</p>\n"}],"owner":{"account_id":29992673,"reputation":17,"user_id":22984918,"display_name":"SAMSON JACK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1701034698,"creation_date":1700945047,"question_id":77549536,"body_markdown":"This is the code I&#39;m trying to execute:\r\n\r\n```\r\nclass test {\r\n    public static void main(String[] args) {\r\n    int num = 5;\r\n\tvar i = 0;\r\n\tint m = 0;\r\n\tString[] m_id = {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;};\r\n\tString sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];\r\n\t\r\n\tfor\t(i=0; i&lt;num; i++) \r\n\t{\r\n\t\tm=m+1;\r\n\t    System.out.println(sample);\r\n\t}\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\nI am getting the output as:\r\n\r\nChecking if this works 1  \r\nChecking if this works 1  \r\nChecking if this works 1  \r\nChecking if this works 1  \r\nChecking if this works 1\r\n\r\nInstead i need :\r\n\r\nChecking if this works 1  \r\nChecking if this works 2  \r\nChecking if this works 3  \r\nChecking if this works 4  \r\nChecking if this works 5\r\n","title":"The value of the variable &quot;m&quot; is not getting updated when i am trying to print the string which is declared outside the loop","body":"<p>This is the code I'm trying to execute:</p>\n<pre><code>class test {\n    public static void main(String[] args) {\n    int num = 5;\n    var i = 0;\n    int m = 0;\n    String[] m_id = {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;};\n    String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];\n    \n    for (i=0; i&lt;num; i++) \n    {\n        m=m+1;\n        System.out.println(sample);\n    }\n  }\n}\n</code></pre>\n<p>I am getting the output as:</p>\n<p>Checking if this works 1<br />\nChecking if this works 1<br />\nChecking if this works 1<br />\nChecking if this works 1<br />\nChecking if this works 1</p>\n<p>Instead i need :</p>\n<p>Checking if this works 1<br />\nChecking if this works 2<br />\nChecking if this works 3<br />\nChecking if this works 4<br />\nChecking if this works 5</p>\n"},{"tags":["java","swing","event-dispatch-thread"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1701034927,"post_id":77553573,"comment_id":136721987,"body_markdown":"The only time I see it present `false` is when you close the dialog and seems to be part of the tear workflow, either of Swing or the JVM","body":"The only time I see it present <code>false</code> is when you close the dialog and seems to be part of the tear workflow, either of Swing or the JVM"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701105109,"post_id":77553573,"comment_id":136731107,"body_markdown":"Just try `if(!SwingUtilities.isEventDispatchThread()) Thread.dumpStack();`","body":"Just try <code>if(!SwingUtilities.isEventDispatchThread()) Thread.dumpStack();</code>"},{"owner":{"account_id":1388368,"reputation":470,"user_id":1319809,"accept_rate":8,"display_name":"Jack Straub"},"score":0,"creation_date":1701106685,"post_id":77553573,"comment_id":136731384,"body_markdown":"@MadProgrammer I definitely see false immediately after executing pack(), and before pushing Close. I am using JDK 17 on Windows 11 Pro.","body":"@MadProgrammer I definitely see false immediately after executing pack(), and before pushing Close. I am using JDK 17 on Windows 11 Pro."},{"owner":{"account_id":1388368,"reputation":470,"user_id":1319809,"accept_rate":8,"display_name":"Jack Straub"},"score":0,"creation_date":1701107218,"post_id":77553573,"comment_id":136731476,"body_markdown":"@Holger Thanks for the suggestion. I also printed out the thread name, which is AWT-Windows when isEventDispatchThread is false, and AWT-EventQueue-0 every other time. The stack trace starts with WToolkit.java (java.desktop/sun.awt.windows.WToolkit.run(WToolkit.java:365)).","body":"@Holger Thanks for the suggestion. I also printed out the thread name, which is AWT-Windows when isEventDispatchThread is false, and AWT-EventQueue-0 every other time. The stack trace starts with WToolkit.java (java.desktop/sun.awt.windows.WToolkit.run(WToolkit.java:365&zwnj;&#8203;))."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701114216,"post_id":77553573,"comment_id":136732659,"body_markdown":"@JackStraub Java 17.0.3.1 on MacOS - seems to be a platform specific issue","body":"@JackStraub Java 17.0.3.1 on MacOS - seems to be a platform specific issue"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701157506,"post_id":77553573,"comment_id":136737218,"body_markdown":"That’s an AWT toolkit specific thread, for processing native events.","body":"That’s an AWT toolkit specific thread, for processing native events."}],"owner":{"account_id":1388368,"reputation":470,"user_id":1319809,"accept_rate":8,"display_name":"Jack Straub"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701034664,"creation_date":1701034664,"question_id":77553573,"body_markdown":"I am building a JDialog on the EDT. As soon as I call pack() the JDialog&#39;s isVisible method is called several times. The first time it&#39;s called SwingUtilities.isEventDispatchThread() returns false. Why is that? Sample program follows.\r\n\r\n    public class EDTTest extends JDialog\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            SwingUtilities.invokeLater( () -&gt; {\r\n                EDTTest  dialog  = new EDTTest();\r\n                dialog.buildGUI();\r\n            });\r\n        }\r\n        \r\n        private void buildGUI()\r\n        {\r\n            JButton button  = new JButton( &quot;Exit&quot; );\r\n            JPanel  panel   = new JPanel();\r\n            \r\n            button.addActionListener( e -&gt; System.exit( 0 ) );\r\n            panel.add( button );\r\n            setContentPane( panel );\r\n            System.out.println( &quot;Packing&quot; );\r\n            pack();\r\n            setVisible( true );\r\n        }\r\n        \r\n        @Override\r\n        public boolean isVisible()\r\n        {\r\n            System.out.println( SwingUtilities.isEventDispatchThread() );\r\n            boolean isVis   = super.isVisible();\r\n            return isVis;\r\n        }\r\n    }","title":"JDialog.isVisible() Not Executing on Event Dispatch Thread When it Should Be?","body":"<p>I am building a JDialog on the EDT. As soon as I call pack() the JDialog's isVisible method is called several times. The first time it's called SwingUtilities.isEventDispatchThread() returns false. Why is that? Sample program follows.</p>\n<pre><code>public class EDTTest extends JDialog\n{\n    public static void main(String[] args)\n    {\n        SwingUtilities.invokeLater( () -&gt; {\n            EDTTest  dialog  = new EDTTest();\n            dialog.buildGUI();\n        });\n    }\n    \n    private void buildGUI()\n    {\n        JButton button  = new JButton( &quot;Exit&quot; );\n        JPanel  panel   = new JPanel();\n        \n        button.addActionListener( e -&gt; System.exit( 0 ) );\n        panel.add( button );\n        setContentPane( panel );\n        System.out.println( &quot;Packing&quot; );\n        pack();\n        setVisible( true );\n    }\n    \n    @Override\n    public boolean isVisible()\n    {\n        System.out.println( SwingUtilities.isEventDispatchThread() );\n        boolean isVis   = super.isVisible();\n        return isVis;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","rest","jersey","jax-rs"],"comments":[{"owner":{"account_id":5726427,"reputation":78,"user_id":4548949,"display_name":"Lakshmi"},"score":1,"creation_date":1523514338,"post_id":29136404,"comment_id":86593677,"body_markdown":"This really helped me to fix the issue if your not using maven\nhttps://stackoverflow.com/questions/30423776/post-to-jersey-rest-service-getting-error-415-unsupported-media-type/30424031#30424031","body":"This really helped me to fix the issue if your not using maven <a href=\"https://stackoverflow.com/questions/30423776/post-to-jersey-rest-service-getting-error-415-unsupported-media-type/30424031#30424031\" title=\"post to jersey rest service getting error 415 unsupported media type\">stackoverflow.com/questions/30423776/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1438741225,"creation_date":1426737135,"answer_id":29136934,"question_id":29136404,"body_markdown":"You have `jackson-jaxrs-json-provider` which is a start..\r\n\r\n**But...**\r\n\r\nthat artifact is still dependent on Jacskon itself, which includes all these artifacts\r\n\r\n![enter image description here][1]\r\n\r\nThat&#39;s why we use Maven&lt;sup&gt;[**1**]&lt;/sup&gt; (so we don&#39;t have to worry about this kind of thing :-). So go find these. \r\n\r\nThen just add the package to the web.xml, and it should work\r\n\r\n    &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n    &lt;param-value&gt;\r\n        com.jersey.jaxb,\r\n        com.fasterxml.jackson.jaxrs.json\r\n    &lt;/param-value&gt;\r\n\r\n  [1]: http://i.stack.imgur.com/1fKwi.png\r\n\r\n----\r\n\r\n&lt;sub&gt;**1.** Maven dependency&lt;/sub&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;sub&gt;Or use the below Jersey &quot;wrapper&quot; for the above dependency. It will register the Jackson providers (so we don&#39;t need to explicitly register like above), and the Jackson exception mappers, and start from version 2.17, provides support for [Entity Data Filtering][2].&lt;/sub&gt;\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;sub&gt;**Note:** The fact that we don&#39;t have to register anything with the above dependency, is made possible through the [Auto-discovery feature][3] of Jersey. If we for some reason disable the auto-discovery, you will want to explicitly register the `JacksonFeature`.&lt;/sub&gt;\r\n\r\n[2]: https://jersey.java.net/documentation/latest/entity-filtering.html\r\n[3]: https://jersey.java.net/documentation/latest/deployment.html#deployment.autodiscoverable\r\n\r\n","title":"SEVERE: MessageBodyWriter not found for media type=application/json, type=class com.jersey.jaxb.Todo, genericType=class com.jersey.jaxb.Todo","body":"<p>You have <code>jackson-jaxrs-json-provider</code> which is a start..</p>\n\n<p><strong>But...</strong></p>\n\n<p>that artifact is still dependent on Jacskon itself, which includes all these artifacts</p>\n\n<p><img src=\"https://i.stack.imgur.com/1fKwi.png\" alt=\"enter image description here\"></p>\n\n<p>That's why we use Maven<sup>[<strong>1</strong>]</sup> (so we don't have to worry about this kind of thing :-). So go find these. </p>\n\n<p>Then just add the package to the web.xml, and it should work</p>\n\n<pre><code>&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n&lt;param-value&gt;\n    com.jersey.jaxb,\n    com.fasterxml.jackson.jaxrs.json\n&lt;/param-value&gt;\n</code></pre>\n\n<hr>\n\n<p><sub><strong>1.</strong> Maven dependency</sub></p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n  &lt;version&gt;2.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><sub>Or use the below Jersey \"wrapper\" for the above dependency. It will register the Jackson providers (so we don't need to explicitly register like above), and the Jackson exception mappers, and start from version 2.17, provides support for <a href=\"https://jersey.java.net/documentation/latest/entity-filtering.html\" rel=\"noreferrer\">Entity Data Filtering</a>.</sub></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;version&gt;${jersey2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><sub><strong>Note:</strong> The fact that we don't have to register anything with the above dependency, is made possible through the <a href=\"https://jersey.java.net/documentation/latest/deployment.html#deployment.autodiscoverable\" rel=\"noreferrer\">Auto-discovery feature</a> of Jersey. If we for some reason disable the auto-discovery, you will want to explicitly register the <code>JacksonFeature</code>.</sub></p>\n"},{"tags":[],"owner":{"account_id":404159,"reputation":1545,"user_id":1316060,"accept_rate":48,"display_name":"Milson"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1437068228,"creation_date":1437068228,"answer_id":31460964,"question_id":29136404,"body_markdown":"The solution may be to make ensure that the model classes have a no-argument constructor.\r\n\r\nAnd add this dependency on your pom.XML:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"SEVERE: MessageBodyWriter not found for media type=application/json, type=class com.jersey.jaxb.Todo, genericType=class com.jersey.jaxb.Todo","body":"<p>The solution may be to make ensure that the model classes have a no-argument constructor.</p>\n\n<p>And add this dependency on your pom.XML:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6118156,"reputation":121,"user_id":4772507,"display_name":"Vimalesh Valiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468652380,"creation_date":1468652380,"answer_id":38408676,"question_id":29136404,"body_markdown":"\r\n1. Update Library Jax-RS 2.0 and Jersey 2.5.1(JAX-RS-RI) only\r\n2. Return Bean object(todo) not response because while auto generating json or xml it response create issue.","title":"SEVERE: MessageBodyWriter not found for media type=application/json, type=class com.jersey.jaxb.Todo, genericType=class com.jersey.jaxb.Todo","body":"<ol>\n<li>Update Library Jax-RS 2.0 and Jersey 2.5.1(JAX-RS-RI) only</li>\n<li>Return Bean object(todo) not response because while auto generating json or xml it response create issue.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9086895,"reputation":1116,"user_id":6764504,"display_name":"Chandan Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701033491,"creation_date":1488650808,"answer_id":42599454,"question_id":29136404,"body_markdown":"If you already have the jersey-media-moxy dependency added into your pom.xml. Make sure your entity class has the default constructor.\r\nI got this issue when I introduced a parametrized constructor in the model class. Adding the default constructor again worked for me.\r\n","title":"SEVERE: MessageBodyWriter not found for media type=application/json, type=class com.jersey.jaxb.Todo, genericType=class com.jersey.jaxb.Todo","body":"<p>If you already have the jersey-media-moxy dependency added into your pom.xml. Make sure your entity class has the default constructor.\nI got this issue when I introduced a parametrized constructor in the model class. Adding the default constructor again worked for me.</p>\n"},{"tags":[],"owner":{"account_id":10966925,"reputation":91,"user_id":8058412,"display_name":"zelli79"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1495615930,"creation_date":1495615930,"answer_id":44153502,"question_id":29136404,"body_markdown":"I had the same issue, i solved it by addind a empty constructor to the class\r\n\r\n\r\n    public SandBoxClass(){} //-&gt; solved the issue**\r\n\r\n    public SandBoxClass(Integer arg1, Integer arg2) {\r\n\t\t\tthis.arg1=arg1;\r\n\t\t\tthis.arg2=arg2;\r\n    }\r\n\t\r\n\t\r\n","title":"SEVERE: MessageBodyWriter not found for media type=application/json, type=class com.jersey.jaxb.Todo, genericType=class com.jersey.jaxb.Todo","body":"<p>I had the same issue, i solved it by addind a empty constructor to the class</p>\n\n<pre><code>public SandBoxClass(){} //-&gt; solved the issue**\n\npublic SandBoxClass(Integer arg1, Integer arg2) {\n        this.arg1=arg1;\n        this.arg2=arg2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3318408,"reputation":1719,"user_id":2790141,"display_name":"Ernestas Kardzys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570617286,"creation_date":1570617286,"answer_id":58302219,"question_id":29136404,"body_markdown":"As for me, it helped to register `JacksonFeature`:\r\n\r\n    public class App extends ResourceConfig {\r\n       public App() {\r\n           packages(&quot;info.ernestas.simplerest&quot;);\r\n           register(new JacksonFeature()); // This magical line helped\r\n       }\r\n    }","title":"SEVERE: MessageBodyWriter not found for media type=application/json, type=class com.jersey.jaxb.Todo, genericType=class com.jersey.jaxb.Todo","body":"<p>As for me, it helped to register <code>JacksonFeature</code>:</p>\n\n<pre><code>public class App extends ResourceConfig {\n   public App() {\n       packages(\"info.ernestas.simplerest\");\n       register(new JacksonFeature()); // This magical line helped\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17912802,"reputation":887,"user_id":13014509,"display_name":"jawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663274627,"creation_date":1663274627,"answer_id":73737228,"question_id":29136404,"body_markdown":"Answered here: https://stackoverflow.com/questions/20762109/obtaining-messagebodywriter-not-found-for-media-type-application-json-trying-t\r\n\r\nAs stated above:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nFor me I also had to add:\r\n\r\n\tClientConfig config = new ClientConfig();\r\n\t\tconfig.register(JacksonJsonProvider.class);\r\n\t\treturn ClientBuilder.newClient(config)","title":"SEVERE: MessageBodyWriter not found for media type=application/json, type=class com.jersey.jaxb.Todo, genericType=class com.jersey.jaxb.Todo","body":"<p>Answered here: <a href=\"https://stackoverflow.com/questions/20762109/obtaining-messagebodywriter-not-found-for-media-type-application-json-trying-t\">Obtaining &quot;MessageBodyWriter not found for media type=application/json&quot; trying to send JSON object through JAX-RS web service</a></p>\n<p>As stated above:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For me I also had to add:</p>\n<pre><code>ClientConfig config = new ClientConfig();\n    config.register(JacksonJsonProvider.class);\n    return ClientBuilder.newClient(config)\n</code></pre>\n"}],"owner":{"account_id":2522625,"reputation":1607,"user_id":2192683,"accept_rate":62,"display_name":"Raj Hassani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81074,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":29136934,"answer_count":7,"score":35,"last_activity_date":1701033491,"creation_date":1426733385,"question_id":29136404,"body_markdown":"I am trying to create a RESTful web-service and I created one but I am getting a \r\n\r\n&gt; MessageBodyWriter not found for media type=application/json error\r\n\r\n \r\n\r\nMy `Todo` class:\r\n                    \r\n    package com.jersey.jaxb;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    import org.pojomatic.Pojomatic;\r\n    import org.pojomatic.annotations.AutoProperty;\r\n    \r\n    @XmlRootElement\r\n    @XmlType(name = &quot;todo&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @AutoProperty\r\n    public class Todo {\r\n    \r\n    \t@XmlElement(name = &quot;summary&quot;)\r\n    \tprivate final String summary;\r\n    \r\n    \t@XmlElement(name = &quot;description&quot;)\r\n    \tprivate final String description;\r\n    \r\n    \tpublic String getSummary() {\r\n    \t\treturn summary;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic Todo() {\r\n    \t\tthis(new Builder());    \r\n    \t}\r\n    \r\n    \tpublic Todo(Builder builder) {\r\n    \t\tthis.summary = builder.summary;\r\n    \t\tthis.description = builder.description;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object o) {\r\n    \t\treturn Pojomatic.equals(this, o);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn Pojomatic.hashCode(this);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn Pojomatic.toString(this);\r\n    \t}\r\n    \r\n    \tpublic static class Builder {\r\n    \t\tprivate String description;\r\n    \t\tprivate String summary;\r\n    \r\n    \t\tpublic Builder summary(String summary) {\r\n    \t\t\tthis.summary = summary;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder description(String description) {\r\n    \t\t\tthis.description = description;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Todo build() {\r\n    \t\t\treturn new Todo(this);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n  \r\nAnd my Resource:-  \r\n       \r\n    package com.jersey.jaxb;\r\n\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.GET;\r\n\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.core.Response.Status;\r\n\r\n    @Path(&quot;/todo&quot;)\r\n    public class TodoResource {\r\n\r\n\t    @GET\r\n\t    @Produces(MediaType.APPLICATION_JSON)\r\n\t    public Response getTodo(){\r\n\t\t    Todo todo = new Todo.Builder().description(&quot;My Todo Object&quot;).summary(&quot;Created&quot;).build();\r\n\t\t    return Response.status(Status.OK).entity(todo).build();\r\n\t    }\r\n\t\r\n    }\r\n  \r\nMy web.xml:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n         \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n    &lt;welcome-file-list&gt;\r\n      &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n      &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n      &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n      &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n      &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n      &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n    &lt;display-name&gt;MyFirstWebService&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n       &lt;init-param&gt;\r\n         &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n         &lt;param-value&gt;com.jersey.jaxb&lt;/param-value&gt;\r\n       &lt;/init-param&gt;\r\n       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n  \r\n    &lt;/web-app&gt;  \r\n  \r\nMy Libraries:\r\n       \r\n    aopalliance-repackaged-2.4.0-b10.jar\r\n    asm-debug-all-5.0.2.jar\r\n    hk2-api-2.4.0-b10.jar\r\n    hk2-locator-2.4.0-b10.jar\r\n    hk2-utils-2.4.0-b10.jar\r\n    jackson-jaxrs-json-provider-2.2.3.jar\r\n    javassist-3.18.1-GA.jar\r\n    javax.annotation-api-1.2.jar\r\n    javax.inject-2.4.0-b10.jar\r\n    javax.servlet-api-3.0.1.jar\r\n    javax.ws.rs-api-2.0.1.jar\r\n    jaxb-api-2.2.7.jar\r\n    jersey-client.jar\r\n    jersey-common.jar\r\n    jersey-container-servlet.jar\r\n    jersey-container-servlet-core.jar\r\n    jersey-guava-2.17.jar\r\n    jersey-media-jaxb.jar\r\n    jersey-server.jar\r\n    org.osgi.core-4.2.0.jar\r\n    osgi-resource-locator-1.0.1.jar\r\n    persistence-api-1.0.jar\r\n    validation-api-1.1.0.Final.jar\r\n  \r\nWhen I run this application on Tomcat server and run this : \r\nhttp://localhost:8080/MyFirstWebService/rest/todo  \r\n\r\n  I get the error:\r\n\r\n&gt; SEVERE: MessageBodyWriter not found for media type=application/json,\r\n&gt; type=class com.jersey.jaxb.Todo, genericType=class\r\n&gt; com.jersey.jaxb.Todo.\r\n","title":"SEVERE: MessageBodyWriter not found for media type=application/json, type=class com.jersey.jaxb.Todo, genericType=class com.jersey.jaxb.Todo","body":"<p>I am trying to create a RESTful web-service and I created one but I am getting a </p>\n\n<blockquote>\n  <p>MessageBodyWriter not found for media type=application/json error</p>\n</blockquote>\n\n<p>My <code>Todo</code> class:</p>\n\n<pre><code>package com.jersey.jaxb;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\nimport org.pojomatic.Pojomatic;\nimport org.pojomatic.annotations.AutoProperty;\n\n@XmlRootElement\n@XmlType(name = \"todo\")\n@XmlAccessorType(XmlAccessType.FIELD)\n@AutoProperty\npublic class Todo {\n\n    @XmlElement(name = \"summary\")\n    private final String summary;\n\n    @XmlElement(name = \"description\")\n    private final String description;\n\n    public String getSummary() {\n        return summary;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public Todo() {\n        this(new Builder());    \n    }\n\n    public Todo(Builder builder) {\n        this.summary = builder.summary;\n        this.description = builder.description;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        return Pojomatic.equals(this, o);\n    }\n\n    @Override\n    public int hashCode() {\n        return Pojomatic.hashCode(this);\n    }\n\n    @Override\n    public String toString() {\n        return Pojomatic.toString(this);\n    }\n\n    public static class Builder {\n        private String description;\n        private String summary;\n\n        public Builder summary(String summary) {\n            this.summary = summary;\n            return this;\n        }\n\n        public Builder description(String description) {\n            this.description = description;\n            return this;\n        }\n\n        public Todo build() {\n            return new Todo(this);\n        }\n    }\n}\n</code></pre>\n\n<p>And my Resource:-  </p>\n\n<pre><code>package com.jersey.jaxb;\n\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.GET;\n\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\n\n@Path(\"/todo\")\npublic class TodoResource {\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getTodo(){\n        Todo todo = new Todo.Builder().description(\"My Todo Object\").summary(\"Created\").build();\n        return Response.status(Status.OK).entity(todo).build();\n    }\n\n}\n</code></pre>\n\n<p>My web.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"       xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" id=\"WebApp_ID\" version=\"2.5\"&gt;\n&lt;welcome-file-list&gt;\n  &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n  &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n  &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n  &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n  &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n&lt;display-name&gt;MyFirstWebService&lt;/display-name&gt;\n&lt;servlet&gt;\n  &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n   &lt;init-param&gt;\n     &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n     &lt;param-value&gt;com.jersey.jaxb&lt;/param-value&gt;\n   &lt;/init-param&gt;\n   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;  \n</code></pre>\n\n<p>My Libraries:</p>\n\n<pre><code>aopalliance-repackaged-2.4.0-b10.jar\nasm-debug-all-5.0.2.jar\nhk2-api-2.4.0-b10.jar\nhk2-locator-2.4.0-b10.jar\nhk2-utils-2.4.0-b10.jar\njackson-jaxrs-json-provider-2.2.3.jar\njavassist-3.18.1-GA.jar\njavax.annotation-api-1.2.jar\njavax.inject-2.4.0-b10.jar\njavax.servlet-api-3.0.1.jar\njavax.ws.rs-api-2.0.1.jar\njaxb-api-2.2.7.jar\njersey-client.jar\njersey-common.jar\njersey-container-servlet.jar\njersey-container-servlet-core.jar\njersey-guava-2.17.jar\njersey-media-jaxb.jar\njersey-server.jar\norg.osgi.core-4.2.0.jar\nosgi-resource-locator-1.0.1.jar\npersistence-api-1.0.jar\nvalidation-api-1.1.0.Final.jar\n</code></pre>\n\n<p>When I run this application on Tomcat server and run this : \n<a href=\"http://localhost:8080/MyFirstWebService/rest/todo\" rel=\"noreferrer\">http://localhost:8080/MyFirstWebService/rest/todo</a>  </p>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>SEVERE: MessageBodyWriter not found for media type=application/json,\n  type=class com.jersey.jaxb.Todo, genericType=class\n  com.jersey.jaxb.Todo.</p>\n</blockquote>\n"},{"tags":["java","file","symfony","web-services","codenameone"],"comments":[{"owner":{"account_id":5365232,"reputation":8254,"user_id":4275413,"display_name":"Jakumi"},"score":1,"creation_date":1557002834,"post_id":55985637,"comment_id":98622291,"body_markdown":"Possible duplicate of [Java Post request with form data](https://stackoverflow.com/questions/45687553/java-post-request-with-form-data) have a look at that. when submitting files, php isn&#39;t very tolerant when it comes to form encoding. in all cases, see what arrives in your symfony app (postman vs. java app)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/45687553/java-post-request-with-form-data\">Java Post request with form data</a> have a look at that. when submitting files, php isn&#39;t very tolerant when it comes to form encoding. in all cases, see what arrives in your symfony app (postman vs. java app)"},{"owner":{"account_id":12288009,"reputation":163,"user_id":8966543,"display_name":"Omar Krichen"},"score":0,"creation_date":1557005571,"post_id":55985637,"comment_id":98622851,"body_markdown":"thank you for your answer. These are only with String parameter, but i wanna an Image","body":"thank you for your answer. These are only with String parameter, but i wanna an Image"},{"owner":{"account_id":5365232,"reputation":8254,"user_id":4275413,"display_name":"Jakumi"},"score":0,"creation_date":1557005751,"post_id":55985637,"comment_id":98622899,"body_markdown":"that&#39;s what I was saying. when you want to upload a file, and the webserver is running php, it&#39;ll only accept the file, when you send it with the right form-encoding (since the file is still part of a form submission, since you effectively fake a html form submission) see https://www.php.net/manual/en/features.file-upload.post-method.php for some glorious examples, the second note on that page however, is relevant..","body":"that&#39;s what I was saying. when you want to upload a file, and the webserver is running php, it&#39;ll only accept the file, when you send it with the right form-encoding (since the file is still part of a form submission, since you effectively fake a html form submission) see <a href=\"https://www.php.net/manual/en/features.file-upload.post-method.php\" rel=\"nofollow noreferrer\">php.net/manual/en/features.file-upload.post-method.php</a> for some glorious examples, the second note on that page however, is relevant.."}],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557197501,"creation_date":1557197501,"answer_id":56014887,"question_id":55985637,"body_markdown":"Try the x-www-url-form-encoded. If that works then use `MultipartRequest` to submit binary data to the server. It implicitly handles form encode submission for you. If something doesn&#39;t work use the network monitor tool in Codename One to inspect the outgoing request/response which often provide helpful information about the process.\r\n\r\nThis isn&#39;t correct:\r\n\r\n    ConnectionRequest con = new ConnectionRequest();\r\n    con.setUrl(&quot;http://localhost/PIDEV/web/app_dev.php/Api/produit/ajout?nomImage=&quot;+image);\r\n    NetworkManager.getInstance().addToQueueAndWait(con);\r\n\r\nYou&#39;re submitting a URL using the `GET` style argument passing. You need to submit the date of the image and not the image itself. You need to use `addArgument()` or `addData()` etc. to include the content in the request.","title":"How to POST File to an URL in Java CodeName One?","body":"<p>Try the x-www-url-form-encoded. If that works then use <code>MultipartRequest</code> to submit binary data to the server. It implicitly handles form encode submission for you. If something doesn't work use the network monitor tool in Codename One to inspect the outgoing request/response which often provide helpful information about the process.</p>\n\n<p>This isn't correct:</p>\n\n<pre><code>ConnectionRequest con = new ConnectionRequest();\ncon.setUrl(\"http://localhost/PIDEV/web/app_dev.php/Api/produit/ajout?nomImage=\"+image);\nNetworkManager.getInstance().addToQueueAndWait(con);\n</code></pre>\n\n<p>You're submitting a URL using the <code>GET</code> style argument passing. You need to submit the date of the image and not the image itself. You need to use <code>addArgument()</code> or <code>addData()</code> etc. to include the content in the request.</p>\n"},{"tags":[],"owner":{"account_id":12288009,"reputation":163,"user_id":8966543,"display_name":"Omar Krichen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1557221323,"creation_date":1557221323,"answer_id":56019537,"question_id":55985637,"body_markdown":"i resolved the problem, i modified the &quot; Java Code &quot;: \r\n        \r\n        MultipartRequest cr = new MultipartRequest();\r\n        cr.setUrl(&quot;http://localhost/PIDEV/web/app_dev.php/Api/produit/ajout&quot;);\r\n        cr.setPost(true);\r\n        String mime = &quot;image/png&quot;;\r\n        try {\r\n            cr.addData(&quot;file&quot;, filePath, mime);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        String fichernom = System.currentTimeMillis() + &quot;.png&quot;;\r\n        cr.setFilename(&quot;file&quot;, fichernom);\r\n\r\n        InfiniteProgress prog = new InfiniteProgress();\r\n        Dialog dlg = prog.showInifiniteBlocking();\r\n        cr.setDisposeOnCompletion(dlg);\r\n        NetworkManager.getInstance().addToQueueAndWait(cr);","title":"How to POST File to an URL in Java CodeName One?","body":"<p>i resolved the problem, i modified the \" Java Code \": </p>\n\n<pre><code>    MultipartRequest cr = new MultipartRequest();\n    cr.setUrl(\"http://localhost/PIDEV/web/app_dev.php/Api/produit/ajout\");\n    cr.setPost(true);\n    String mime = \"image/png\";\n    try {\n        cr.addData(\"file\", filePath, mime);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    String fichernom = System.currentTimeMillis() + \".png\";\n    cr.setFilename(\"file\", fichernom);\n\n    InfiniteProgress prog = new InfiniteProgress();\n    Dialog dlg = prog.showInifiniteBlocking();\n    cr.setDisposeOnCompletion(dlg);\n    NetworkManager.getInstance().addToQueueAndWait(cr);\n</code></pre>\n"}],"owner":{"account_id":12288009,"reputation":163,"user_id":8966543,"display_name":"Omar Krichen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56019537,"answer_count":2,"score":1,"last_activity_date":1701033294,"creation_date":1556994574,"question_id":55985637,"body_markdown":"I want to upload an image in java and copied in a directory with WebService in Symfony.\r\n\r\nI tried it with Postman and it worked but when i did it in Java, it didn&#39;t work, I don&#39;t know how to pass a file like parameter in the Url request.\r\n\r\nPlease help me to find a solution\r\n\r\nSymfony code:\r\n\r\n        $file = $request-&gt;files-&gt;get(&#39;nomImage&#39;);\r\n        $status = array(&#39;status&#39; =&gt; &quot;success&quot;,&quot;fileUploaded&quot; =&gt; false);\r\n\r\n        // If a file was uploaded\r\n        if(!is_null($file)){\r\n            // generate a random name for the file but keep the extension\r\n            $filename = uniqid().&quot;.&quot;.$file-&gt;getClientOriginalExtension();\r\n            $path = &quot;C:\\wamp64\\www\\pidev\\web\\uploads\\images&quot;;\r\n            $file-&gt;move($path,$filename); // move the file to a path\r\n            $status = array(&#39;status&#39; =&gt; &quot;success&quot;,&quot;fileUploaded&quot; =&gt; true);\r\n        }\r\n\r\n        return new JsonResponse($status);\r\n\r\nPostman screenshot: I sent the URL with Postman and add the image in body with nomImage like key and the image like value and it worked\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KMO64.png\r\n\r\n\r\nJava Code:\r\nThis code is to connect to the URL and i wanted to get the image like file in the URL like in Postman\r\n\r\n        public void ajoutProduit(File image)\r\n        {\r\n        ConnectionRequest con = new ConnectionRequest();\r\n        con.setUrl(&quot;http://localhost/PIDEV/web/app_dev.php/Api/produit/ajout?nomImage=&quot;+image);\r\n        NetworkManager.getInstance().addToQueueAndWait(con);\r\n        }\r\n\r\nThis is my form and the uploading of the image and execute the Copy of the image which it didn&#39;t work\r\n \r\n    public class AjoutProduit {\r\n\r\n\r\n    private Form fAjout = new Form(&quot;&quot;, new BoxLayout(BoxLayout.Y_AXIS));\r\n    public AjoutProduit() {    \r\n        \r\n        TextField nomProduit = new TextField(&quot;&quot;, &quot;Nom du produit&quot;);\r\n        TextField descProduit = new TextField(&quot;&quot;, &quot;Description du produit&quot;);\r\n        ComboBox&lt;String&gt; opProduit = new ComboBox&lt;&gt;(\r\n                &quot;&quot;,\r\n                &quot;echanger&quot;,\r\n                &quot;donner&quot;,\r\n                &quot;recycler&quot;,\r\n                &quot;reparer&quot;\r\n        );\r\n\r\n        final String[] jobPic = new String[1];\r\n        Label jobIcon = new Label();\r\n\r\n        Button image = new Button(&quot;Ajouter une image &quot;);\r\n        final String[] image_name = {&quot;&quot;};\r\n        final String[] pathToBeStored={&quot;&quot;};\r\n\r\n        /////////////////////Upload Image\r\n        image.addActionListener((ActionEvent actionEvent) -&gt; {\r\n        Display.getInstance().openGallery(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent ev) {\r\n                if (ev != null &amp;&amp; ev.getSource() != null) {\r\n                    String filePath = (String) ev.getSource();\r\n                    int fileNameIndex = filePath.lastIndexOf(&quot;/&quot;) + 1;\r\n                    String fileName = filePath.substring(fileNameIndex);\r\n                    Image img = null;\r\n                    try {\r\n                        img = Image.createImage(FileSystemStorage.getInstance().openInputStream(filePath));\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    image_name[0] = System.currentTimeMillis() + &quot;.jpg&quot;;\r\n                    jobIcon.setIcon(img);\r\n                    System.out.println(filePath);\r\n                    System.out.println(image_name[0]);\r\n\r\n                    try {\r\n                             pathToBeStored[0] = FileSystemStorage.getInstance().getAppHomePath()+ image_name[0];\r\n                            OutputStream os = FileSystemStorage.getInstance().openOutputStream(pathToBeStored[0]);\r\n                            ImageIO.getImageIO().save(img, os, ImageIO.FORMAT_JPEG, 0.9f);\r\n                            os.close();\r\n                        }\r\n                        catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                }\r\n            }\r\n        }, Display.GALLERY_IMAGE);});\r\n\r\n\r\n\r\n                ////////////Copied with URL Symfony\r\n                Button myButton = new Button(&quot;Valider&quot;);\r\n                myButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent actionEvent) {\r\n                        ServiceProduit sp = new ServiceProduit();\r\n                        ServiceEchange se  = new ServiceEchange();\r\n                        String path = &quot;C:/Users/omark/.cn1/&quot;+image_name[0];\r\n                       File file = new File(path);\r\n                       sp.ajoutProduit(file);\r\n                         \r\n\r\n                    }\r\n                });\r\n\r\n\r\n        fAjout.addAll(nomProduit,descProduit,opProduit,jobIcon,myButton,image);\r\n        fAjout.show();\r\n\r\n    }","title":"How to POST File to an URL in Java CodeName One?","body":"<p>I want to upload an image in java and copied in a directory with WebService in Symfony.</p>\n<p>I tried it with Postman and it worked but when i did it in Java, it didn't work, I don't know how to pass a file like parameter in the Url request.</p>\n<p>Please help me to find a solution</p>\n<p>Symfony code:</p>\n<pre><code>    $file = $request-&gt;files-&gt;get('nomImage');\n    $status = array('status' =&gt; &quot;success&quot;,&quot;fileUploaded&quot; =&gt; false);\n\n    // If a file was uploaded\n    if(!is_null($file)){\n        // generate a random name for the file but keep the extension\n        $filename = uniqid().&quot;.&quot;.$file-&gt;getClientOriginalExtension();\n        $path = &quot;C:\\wamp64\\www\\pidev\\web\\uploads\\images&quot;;\n        $file-&gt;move($path,$filename); // move the file to a path\n        $status = array('status' =&gt; &quot;success&quot;,&quot;fileUploaded&quot; =&gt; true);\n    }\n\n    return new JsonResponse($status);\n</code></pre>\n<p>Postman screenshot: I sent the URL with Postman and add the image in body with nomImage like key and the image like value and it worked</p>\n<p><a href=\"https://i.stack.imgur.com/KMO64.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KMO64.png\" alt=\"enter image description here\" /></a></p>\n<p>Java Code:\nThis code is to connect to the URL and i wanted to get the image like file in the URL like in Postman</p>\n<pre><code>    public void ajoutProduit(File image)\n    {\n    ConnectionRequest con = new ConnectionRequest();\n    con.setUrl(&quot;http://localhost/PIDEV/web/app_dev.php/Api/produit/ajout?nomImage=&quot;+image);\n    NetworkManager.getInstance().addToQueueAndWait(con);\n    }\n</code></pre>\n<p>This is my form and the uploading of the image and execute the Copy of the image which it didn't work</p>\n<pre><code>public class AjoutProduit {\n\n\nprivate Form fAjout = new Form(&quot;&quot;, new BoxLayout(BoxLayout.Y_AXIS));\npublic AjoutProduit() {    \n    \n    TextField nomProduit = new TextField(&quot;&quot;, &quot;Nom du produit&quot;);\n    TextField descProduit = new TextField(&quot;&quot;, &quot;Description du produit&quot;);\n    ComboBox&lt;String&gt; opProduit = new ComboBox&lt;&gt;(\n            &quot;&quot;,\n            &quot;echanger&quot;,\n            &quot;donner&quot;,\n            &quot;recycler&quot;,\n            &quot;reparer&quot;\n    );\n\n    final String[] jobPic = new String[1];\n    Label jobIcon = new Label();\n\n    Button image = new Button(&quot;Ajouter une image &quot;);\n    final String[] image_name = {&quot;&quot;};\n    final String[] pathToBeStored={&quot;&quot;};\n\n    /////////////////////Upload Image\n    image.addActionListener((ActionEvent actionEvent) -&gt; {\n    Display.getInstance().openGallery(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent ev) {\n            if (ev != null &amp;&amp; ev.getSource() != null) {\n                String filePath = (String) ev.getSource();\n                int fileNameIndex = filePath.lastIndexOf(&quot;/&quot;) + 1;\n                String fileName = filePath.substring(fileNameIndex);\n                Image img = null;\n                try {\n                    img = Image.createImage(FileSystemStorage.getInstance().openInputStream(filePath));\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                image_name[0] = System.currentTimeMillis() + &quot;.jpg&quot;;\n                jobIcon.setIcon(img);\n                System.out.println(filePath);\n                System.out.println(image_name[0]);\n\n                try {\n                         pathToBeStored[0] = FileSystemStorage.getInstance().getAppHomePath()+ image_name[0];\n                        OutputStream os = FileSystemStorage.getInstance().openOutputStream(pathToBeStored[0]);\n                        ImageIO.getImageIO().save(img, os, ImageIO.FORMAT_JPEG, 0.9f);\n                        os.close();\n                    }\n                    catch (Exception e) {\n                        e.printStackTrace();\n                    }\n            }\n        }\n    }, Display.GALLERY_IMAGE);});\n\n\n\n            ////////////Copied with URL Symfony\n            Button myButton = new Button(&quot;Valider&quot;);\n            myButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent actionEvent) {\n                    ServiceProduit sp = new ServiceProduit();\n                    ServiceEchange se  = new ServiceEchange();\n                    String path = &quot;C:/Users/omark/.cn1/&quot;+image_name[0];\n                   File file = new File(path);\n                   sp.ajoutProduit(file);\n                     \n\n                }\n            });\n\n\n    fAjout.addAll(nomProduit,descProduit,opProduit,jobIcon,myButton,image);\n    fAjout.show();\n\n}\n</code></pre>\n"},{"tags":["java","static-import"],"comments":[{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":4,"creation_date":1343926042,"post_id":11782076,"comment_id":15649807,"body_markdown":"Please post the code that generates this message -- both the import statement and the field(s) being imported.","body":"Please post the code that generates this message -- both the import statement and the field(s) being imported."}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1562874424,"creation_date":1343926349,"answer_id":11782202,"question_id":11782076,"body_markdown":"My guess is that Eclipse and buildr are using either different Java compiler versions or different compiler flags. There&#39;s a bug in the Java 7 compiler ([bug ID: 715906][1]) that generates this error when you statically import specific fields. The work-around is to use a wildcard static import. So instead of:\r\n\r\n    import static pkg.Class.staticField;\r\n\r\ndo this:\r\n\r\n    import static pkg.Class.*;\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=7159016","title":"static import only from classes and interfaces","body":"<p>My guess is that Eclipse and buildr are using either different Java compiler versions or different compiler flags. There's a bug in the Java 7 compiler (<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7159016\" rel=\"nofollow noreferrer\">bug ID: 715906</a>) that generates this error when you statically import specific fields. The work-around is to use a wildcard static import. So instead of:</p>\n<pre><code>import static pkg.Class.staticField;\n</code></pre>\n<p>do this:</p>\n<pre><code>import static pkg.Class.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145161,"reputation":4373,"user_id":354767,"accept_rate":71,"display_name":"Collin Peters"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1384363549,"creation_date":1384363549,"answer_id":19960377,"question_id":11782076,"body_markdown":"Late answer but I just got a similar issue and figured it out. I&#39;ll post in case it helps anyone else who finds this page...\r\n\r\nI got a similar error when, after a big merge and refactor, I accidentally put a test class into src/main/java instead of src/test/java. Since the JUnit dependency was scope=tests, it didn&#39;t work in pure maven. Maybe you are having the same issue","title":"static import only from classes and interfaces","body":"<p>Late answer but I just got a similar issue and figured it out. I'll post in case it helps anyone else who finds this page...</p>\n\n<p>I got a similar error when, after a big merge and refactor, I accidentally put a test class into src/main/java instead of src/test/java. Since the JUnit dependency was scope=tests, it didn't work in pure maven. Maybe you are having the same issue</p>\n"},{"tags":[],"owner":{"account_id":990928,"reputation":15154,"user_id":1008278,"accept_rate":67,"display_name":"VenomVendor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534667355,"creation_date":1534667355,"answer_id":51915862,"question_id":11782076,"body_markdown":"I accidentally set `test` directory as source. And Test sources were considered as source files.\r\n\r\n    sourceSets.main.java.srcDirs &#39;src&#39;\r\n\r\n| -- src&lt;br&gt;\r\n&amp;emsp;&amp;emsp;| -- main&lt;br&gt;\r\n&amp;emsp;&amp;emsp;| -- test\r\n\r\nFix:\r\n\r\n    sourceSets.main.java.srcDirs &#39;src/main&#39;\r\n\r\n\r\n","title":"static import only from classes and interfaces","body":"<p>I accidentally set <code>test</code> directory as source. And Test sources were considered as source files.</p>\n\n<pre><code>sourceSets.main.java.srcDirs 'src'\n</code></pre>\n\n<p>| -- src<br>\n&emsp;&emsp;| -- main<br>\n&emsp;&emsp;| -- test</p>\n\n<p>Fix:</p>\n\n<pre><code>sourceSets.main.java.srcDirs 'src/main'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13986603,"reputation":103,"user_id":10101554,"display_name":"M Watson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1542222234,"creation_date":1542222234,"answer_id":53307113,"question_id":11782076,"body_markdown":"I also had this error and my issue turned out to be a wayward static import of a junit 4 package in my test source file.\r\n\r\nI had the following:\r\n\r\n    import static org.junit.Assert.fail;\r\n    import static org.junit.jupiter.api.Assertions.assertArrayEquals;\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.junit.jupiter.api.Assertions.assertThrows;\r\n    import static org.junit.jupiter.api.Assertions.assertTimeout;\r\n\r\nI removed the `import static org.junit.Assert.fail;` (no idea how I managed to get that in there in the first place) and all is now working.\r\n\r\n","title":"static import only from classes and interfaces","body":"<p>I also had this error and my issue turned out to be a wayward static import of a junit 4 package in my test source file.</p>\n\n<p>I had the following:</p>\n\n<pre><code>import static org.junit.Assert.fail;\nimport static org.junit.jupiter.api.Assertions.assertArrayEquals;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\nimport static org.junit.jupiter.api.Assertions.assertTimeout;\n</code></pre>\n\n<p>I removed the <code>import static org.junit.Assert.fail;</code> (no idea how I managed to get that in there in the first place) and all is now working.</p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674639766,"creation_date":1674639766,"answer_id":75232082,"question_id":11782076,"body_markdown":"Some how same solution mentioned by @m-watson\r\n\r\nI have replaced \r\n\r\n    import static org.junit.Assert.assertThrows;\r\n\r\nWith \r\n\r\n    import static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\nand it worked","title":"static import only from classes and interfaces","body":"<p>Some how same solution mentioned by @m-watson</p>\n<p>I have replaced</p>\n<pre><code>import static org.junit.Assert.assertThrows;\n</code></pre>\n<p>With</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertThrows;\n</code></pre>\n<p>and it worked</p>\n"},{"tags":[],"owner":{"account_id":311307,"reputation":11224,"user_id":624814,"accept_rate":79,"display_name":"SMBiggs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680038405,"creation_date":1680038405,"answer_id":75871169,"question_id":11782076,"body_markdown":"This is not the most likely cause, but did the trick for me.  I&#39;ve seen this error message that was caused from cached data that wasn&#39;t removed properly during code changes (like moving constants from one file to another).\r\n\r\nIn this case, simply clean the project and rebuild it from scratch.  This will take away stale cached data that&#39;s causing this compile error.","title":"static import only from classes and interfaces","body":"<p>This is not the most likely cause, but did the trick for me.  I've seen this error message that was caused from cached data that wasn't removed properly during code changes (like moving constants from one file to another).</p>\n<p>In this case, simply clean the project and rebuild it from scratch.  This will take away stale cached data that's causing this compile error.</p>\n"},{"tags":[],"owner":{"account_id":23215210,"reputation":11,"user_id":17308211,"display_name":"Rahul B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701032830,"creation_date":1700631043,"answer_id":77527514,"question_id":11782076,"body_markdown":"In my case, I have two packages in VSCode and I was importing a method from a different package in another package class. \r\n\r\nYou can see it in the pics attached.\r\n\r\nNow this import statement \r\n\r\n    import static Packages.B.Message.message;\r\n\r\nis working fine in IntelliJ idea as it is an IDE, but VSCode uses CLI so we need to do this.\r\n\r\nGo to your root directory (in my case it was `Object-oriented_Programming`) and then run these commands:\r\n\r\n    javac -cp . Packages/A/Greeting.java\r\n    java -cp . Packages.A.Greeting\r\n\r\nThis is just an example: you need to write the path of your directory and file.\r\n\r\nThe cause of error was that because of this import statement we need to include the path of this import on compile time, which was missing.\r\n\r\n[![][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/9YZbL.png\r\n","title":"static import only from classes and interfaces","body":"<p>In my case, I have two packages in VSCode and I was importing a method from a different package in another package class.</p>\n<p>You can see it in the pics attached.</p>\n<p>Now this import statement</p>\n<pre><code>import static Packages.B.Message.message;\n</code></pre>\n<p>is working fine in IntelliJ idea as it is an IDE, but VSCode uses CLI so we need to do this.</p>\n<p>Go to your root directory (in my case it was <code>Object-oriented_Programming</code>) and then run these commands:</p>\n<pre><code>javac -cp . Packages/A/Greeting.java\njava -cp . Packages.A.Greeting\n</code></pre>\n<p>This is just an example: you need to write the path of your directory and file.</p>\n<p>The cause of error was that because of this import statement we need to include the path of this import on compile time, which was missing.</p>\n<p><a href=\"https://i.stack.imgur.com/9YZbL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9YZbL.png\" alt=\"\" /></a></p>\n"}],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44394,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":7,"score":32,"last_activity_date":1701032830,"creation_date":1343925823,"question_id":11782076,"body_markdown":"My code compiles fine in Eclipse, but when I try to compile from the commandline (via our ruby-based buildr system), I get this error message:\r\n\r\n    static import only from classes and interfaces\r\n\r\nSuggesting that static import of public static fields is not permitted.  What should I look for to help diagnose this problem?  How can I fix it?\r\n\r\n**Update:**\r\nper @Ted&#39;s request, the constant declaration in the referenced file:\r\n\r\n    public static final String NULL = &quot;&lt;NULL&gt;&quot;;\r\n\r\nand the (bowdlerized) reference in the referring file:\r\n\r\n    import static my.path.MyClass.NULL;\r\n\r\n","title":"static import only from classes and interfaces","body":"<p>My code compiles fine in Eclipse, but when I try to compile from the commandline (via our ruby-based buildr system), I get this error message:</p>\n\n<pre><code>static import only from classes and interfaces\n</code></pre>\n\n<p>Suggesting that static import of public static fields is not permitted.  What should I look for to help diagnose this problem?  How can I fix it?</p>\n\n<p><strong>Update:</strong>\nper @Ted's request, the constant declaration in the referenced file:</p>\n\n<pre><code>public static final String NULL = \"&lt;NULL&gt;\";\n</code></pre>\n\n<p>and the (bowdlerized) reference in the referring file:</p>\n\n<pre><code>import static my.path.MyClass.NULL;\n</code></pre>\n"},{"tags":["java","android-recyclerview","rss","uri","flickr"],"owner":{"account_id":20421025,"reputation":87,"user_id":14982006,"display_name":"Onur Serbes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701028780,"creation_date":1614526017,"question_id":66410666,"body_markdown":"Hello guys ım trying to create a Flickr app with using RSS feed and showing it from the RecylerView. I can download the data ( ı can see the links ex. in the log cat) but cant see them in the RecyclerView\r\nI don&#39;t have any error on my logcat. \r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements GetFlickrJsonData.OnDataAvailable {\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    private FlickrRecyclerViewAdapter mFlickrRecyclerViewAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        Log.d(TAG, &quot;onCreate: starts&quot;);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        mFlickrRecyclerViewAdapter = new FlickrRecyclerViewAdapter(this, new ArrayList&lt;&gt;());\r\n        recyclerView.setAdapter(mFlickrRecyclerViewAdapter);\r\n\r\ntags=android,nougat,sdk&amp;tagmode=any&amp;format=json&amp;nojsoncallback=1&quot;);\r\n        Log.d(TAG, &quot;onCreate: ends&quot;);\r\n\r\n\r\n\r\n\r\n        Log.d(TAG, &quot;onCreate: ends&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        Log.d(TAG, &quot;onResume: starts&quot;);\r\n        super.onResume();\r\n        GetFlickrJsonData getFlickrJsonData = new GetFlickrJsonData(&quot;https://api.flickr.com/services/feeds/photos_public.gne&quot;,&quot;en-us&quot;,true,this);\r\n      \r\n        getFlickrJsonData.execute(&quot;android, nougat&quot;);\r\n        Log.d(TAG, &quot;onResume: ends&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        \r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        Log.d(TAG, &quot;onCreateOptionsMenu returned: &quot; + true);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        \r\n        int id = item.getItemId();\r\n\r\n     \r\n        if (id == R.id.action_settings) {\r\n            return true;\r\n        }\r\n        Log.d(TAG, &quot;onOptionsItemSelected() returned: returned&quot;);\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n\r\n    public void onDataAvailable(List&lt;Photo&gt; data, DownloadStatus status) {\r\n    Log.d(TAG, &quot;onDataAvailable: starts&quot;);\r\n    if (status == DownloadStatus.OK) {\r\n        mFlickrRecyclerViewAdapter.loadNewData(data);\r\n    } else {\r\n        // download or processing failed\r\n        Log.e(TAG, &quot;onDataAvailable failed with status &quot; + status);\r\n    }\r\n    Log.d(TAG, &quot;onDataAvailable: ends&quot;);\r\n\r\n    }\r\n}\r\n\r\nclass FlickrRecyclerViewAdapter extends RecyclerView.Adapter&lt;FlickrRecyclerViewAdapter.FlickrImageViewHolder&gt; {\r\n    private static final String TAG = &quot;FlickrRecyclerViewAdapt&quot;;\r\n    private List&lt;Photo&gt; mPhotoList;\r\n    private Context mContext;\r\n\r\n    public FlickrRecyclerViewAdapter(Context context, List&lt;Photo&gt; photoList) {\r\n        mContext = context;\r\n        mPhotoList = photoList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public FlickrImageViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        //Called by the layout manager when it needs a new view\r\n        Log.d(TAG, &quot;onCreateViewHolder: new view requested&quot;);\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.browse, parent, false);\r\n        return new FlickrImageViewHolder(view);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull FlickrImageViewHolder holder, int position) {\r\n        //Called by the layout manager when it wants new data in an existing row\r\n        Photo photoItem = mPhotoList.get(position);\r\n        Log.d(TAG, &quot;onBindViewHolder: &quot; + photoItem.getTitle() + &quot; --&gt; &quot;+position );\r\n        Picasso.get().load(photoItem.getImage())\r\n                .error(R.drawable.placeholder2)\r\n                .placeholder(R.drawable.placeholder2)\r\n                .into(holder.thumbnail);\r\n\r\n        holder.title.setText(photoItem.getTitle());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        Log.d(TAG, &quot;getItemCount: called&quot;);\r\n        return ((mPhotoList != null) &amp;&amp; (mPhotoList.size() != 0) ? mPhotoList.size() : 0);\r\n\r\n    }\r\n\r\n    void loadNewData (List&lt;Photo&gt; newPhotos){\r\n        mPhotoList = newPhotos;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public Photo getPhoto(int position){\r\n        return ((mPhotoList != null) &amp;&amp; (mPhotoList.size() != 0) ? mPhotoList.get(position) : null);\r\n    }\r\n\r\n    static class FlickrImageViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private static final String TAG = &quot;FlickrImageViewHolder&quot;;\r\n\r\n        ImageView thumbnail = null;\r\n        TextView title = null;\r\n\r\n        public FlickrImageViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            Log.d(TAG, &quot;FlickrImageViewHolder: starts&quot;);\r\n            this.thumbnail =(ImageView) itemView.findViewById(R.id.thumbnail);\r\n            this.title = (TextView) itemView.findViewById(R.id.titleText);\r\n        }\r\n    }\r\n}\r\n\r\n[![This is my logcat][1]][1]\r\n[![This is my logcat][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Oxp5.png\r\n  [2]: https://i.stack.imgur.com/aC6C9.png","title":"Downloading data but can&#39;t display on the RecyclerView","body":"<p>Hello guys ım trying to create a Flickr app with using RSS feed and showing it from the RecylerView. I can download the data ( ı can see the links ex. in the log cat) but cant see them in the RecyclerView\nI don't have any error on my logcat.</p>\n<p>public class MainActivity extends AppCompatActivity implements GetFlickrJsonData.OnDataAvailable {\nprivate static final String TAG = &quot;MainActivity&quot;;\nprivate FlickrRecyclerViewAdapter mFlickrRecyclerViewAdapter;</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    Log.d(TAG, &quot;onCreate: starts&quot;);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    mFlickrRecyclerViewAdapter = new FlickrRecyclerViewAdapter(this, new ArrayList&lt;&gt;());\n    recyclerView.setAdapter(mFlickrRecyclerViewAdapter);\n</code></pre>\n<p>tags=android,nougat,sdk&amp;tagmode=any&amp;format=json&amp;nojsoncallback=1&quot;);\nLog.d(TAG, &quot;onCreate: ends&quot;);</p>\n<pre><code>    Log.d(TAG, &quot;onCreate: ends&quot;);\n}\n\n@Override\nprotected void onResume() {\n    Log.d(TAG, &quot;onResume: starts&quot;);\n    super.onResume();\n    GetFlickrJsonData getFlickrJsonData = new GetFlickrJsonData(&quot;https://api.flickr.com/services/feeds/photos_public.gne&quot;,&quot;en-us&quot;,true,this);\n  \n    getFlickrJsonData.execute(&quot;android, nougat&quot;);\n    Log.d(TAG, &quot;onResume: ends&quot;);\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    \n    getMenuInflater().inflate(R.menu.menu_main, menu);\n    Log.d(TAG, &quot;onCreateOptionsMenu returned: &quot; + true);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    \n    int id = item.getItemId();\n\n \n    if (id == R.id.action_settings) {\n        return true;\n    }\n    Log.d(TAG, &quot;onOptionsItemSelected() returned: returned&quot;);\n\n    return super.onOptionsItemSelected(item);\n}\n\n@Override\n\npublic void onDataAvailable(List&lt;Photo&gt; data, DownloadStatus status) {\nLog.d(TAG, &quot;onDataAvailable: starts&quot;);\nif (status == DownloadStatus.OK) {\n    mFlickrRecyclerViewAdapter.loadNewData(data);\n} else {\n    // download or processing failed\n    Log.e(TAG, &quot;onDataAvailable failed with status &quot; + status);\n}\nLog.d(TAG, &quot;onDataAvailable: ends&quot;);\n\n}\n</code></pre>\n<p>}</p>\n<p>class FlickrRecyclerViewAdapter extends RecyclerView.Adapter&lt;FlickrRecyclerViewAdapter.FlickrImageViewHolder&gt; {\nprivate static final String TAG = &quot;FlickrRecyclerViewAdapt&quot;;\nprivate List mPhotoList;\nprivate Context mContext;</p>\n<pre><code>public FlickrRecyclerViewAdapter(Context context, List&lt;Photo&gt; photoList) {\n    mContext = context;\n    mPhotoList = photoList;\n}\n\n@NonNull\n@Override\npublic FlickrImageViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    //Called by the layout manager when it needs a new view\n    Log.d(TAG, &quot;onCreateViewHolder: new view requested&quot;);\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.browse, parent, false);\n    return new FlickrImageViewHolder(view);\n\n}\n\n@Override\npublic void onBindViewHolder(@NonNull FlickrImageViewHolder holder, int position) {\n    //Called by the layout manager when it wants new data in an existing row\n    Photo photoItem = mPhotoList.get(position);\n    Log.d(TAG, &quot;onBindViewHolder: &quot; + photoItem.getTitle() + &quot; --&gt; &quot;+position );\n    Picasso.get().load(photoItem.getImage())\n            .error(R.drawable.placeholder2)\n            .placeholder(R.drawable.placeholder2)\n            .into(holder.thumbnail);\n\n    holder.title.setText(photoItem.getTitle());\n\n}\n\n@Override\npublic int getItemCount() {\n    Log.d(TAG, &quot;getItemCount: called&quot;);\n    return ((mPhotoList != null) &amp;&amp; (mPhotoList.size() != 0) ? mPhotoList.size() : 0);\n\n}\n\nvoid loadNewData (List&lt;Photo&gt; newPhotos){\n    mPhotoList = newPhotos;\n    notifyDataSetChanged();\n}\n\npublic Photo getPhoto(int position){\n    return ((mPhotoList != null) &amp;&amp; (mPhotoList.size() != 0) ? mPhotoList.get(position) : null);\n}\n\nstatic class FlickrImageViewHolder extends RecyclerView.ViewHolder {\n\n    private static final String TAG = &quot;FlickrImageViewHolder&quot;;\n\n    ImageView thumbnail = null;\n    TextView title = null;\n\n    public FlickrImageViewHolder(@NonNull View itemView) {\n        super(itemView);\n        Log.d(TAG, &quot;FlickrImageViewHolder: starts&quot;);\n        this.thumbnail =(ImageView) itemView.findViewById(R.id.thumbnail);\n        this.title = (TextView) itemView.findViewById(R.id.titleText);\n    }\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/1Oxp5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Oxp5.png\" alt=\"This is my logcat\" /></a>\n<a href=\"https://i.stack.imgur.com/aC6C9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aC6C9.png\" alt=\"This is my logcat\" /></a></p>\n"},{"tags":["java","swing","jtextarea"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1368403345,"post_id":16513213,"comment_id":23708181,"body_markdown":"Please show your code for an already programmed `JButton` or two that populate your `JTextArea`.","body":"Please show your code for an already programmed <code>JButton</code> or two that populate your <code>JTextArea</code>."},{"owner":{"account_id":2489319,"reputation":669,"user_id":2446363,"accept_rate":65,"display_name":"hasherr"},"score":0,"creation_date":1368403504,"post_id":16513213,"comment_id":23708213,"body_markdown":"@PM77-1 I don&#39;t actually have access to the code as of now, but I will put the code up in a few hours, when I have access to the code.","body":"@PM77-1 I don&#39;t actually have access to the code as of now, but I will put the code up in a few hours, when I have access to the code."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1368419355,"post_id":16513213,"comment_id":23710800,"body_markdown":"For better help sooner, post an [SSCCE](http://sscce.org/).","body":"For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368403346,"creation_date":1368403346,"answer_id":16513241,"question_id":16513213,"body_markdown":"Take a look at [`Document`](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/Document.html).\r\n\r\nEvery text component in Swing has a `Document` model which controls the state of the text (and where applicable, the attributes and structure).\r\n\r\nYou can use the `JTextArea`&#39;s `Document` to remove characters directly.\r\n\r\nSomething like...\r\n\r\n    Document doc = textArea.getDocument();\r\n    doc.remove(doc.getLength() - 2, 1);","title":"I need a way to manipulate the last character in a JTextArea (by deleting it)","body":"<p>Take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/Document.html\" rel=\"nofollow\"><code>Document</code></a>.</p>\n\n<p>Every text component in Swing has a <code>Document</code> model which controls the state of the text (and where applicable, the attributes and structure).</p>\n\n<p>You can use the <code>JTextArea</code>'s <code>Document</code> to remove characters directly.</p>\n\n<p>Something like...</p>\n\n<pre><code>Document doc = textArea.getDocument();\ndoc.remove(doc.getLength() - 2, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2148799,"reputation":13,"user_id":1905761,"display_name":"Mahmoud Habib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368403921,"creation_date":1368403921,"answer_id":16513306,"question_id":16513213,"body_markdown":"You can substring method from string \r\n\r\n    String text = textArea.getText();\r\n    textArea.setText(text.subString(0, text.length() - 1);\r\n","title":"I need a way to manipulate the last character in a JTextArea (by deleting it)","body":"<p>You can substring method from string </p>\n\n<pre><code>String text = textArea.getText();\ntextArea.setText(text.subString(0, text.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29990564,"reputation":1,"user_id":22983360,"display_name":"Ksish Isjaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701028611,"creation_date":1700920558,"answer_id":77548126,"question_id":16513213,"body_markdown":"Remove last line from `JtextArea`\r\n```\r\nJtextArea.setText(JtextArea.getText().substring(0,JtextArea.getText().lastIndexOf(&quot;\\n&quot;)));\r\n```\r\n\r\n","title":"I need a way to manipulate the last character in a JTextArea (by deleting it)","body":"<p>Remove last line from <code>JtextArea</code></p>\n<pre><code>JtextArea.setText(JtextArea.getText().substring(0,JtextArea.getText().lastIndexOf(&quot;\\n&quot;)));\n</code></pre>\n"}],"owner":{"account_id":2489319,"reputation":669,"user_id":2446363,"accept_rate":65,"display_name":"hasherr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2817,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701028611,"creation_date":1368403057,"question_id":16513213,"body_markdown":"I have a JTextArea that I can fill with text using JButtons. I want a JButton that I can use a backspace without using the Robot class or the backspace key, but just by clicking the button on the screen with my mouse. How do I manipulate the text using `public void actionPerformed(ActionEvent e) {` of a JTextArea using this button, by using a self-created backspace key? Let me know if you have any questions or are confused on what I&#39;m asking. ","title":"I need a way to manipulate the last character in a JTextArea (by deleting it)","body":"<p>I have a JTextArea that I can fill with text using JButtons. I want a JButton that I can use a backspace without using the Robot class or the backspace key, but just by clicking the button on the screen with my mouse. How do I manipulate the text using <code>public void actionPerformed(ActionEvent e) {</code> of a JTextArea using this button, by using a self-created backspace key? Let me know if you have any questions or are confused on what I'm asking. </p>\n"},{"tags":["java","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700842787,"creation_date":1700842787,"answer_id":77544459,"question_id":77544429,"body_markdown":"If it&#39;s only a couple of methods, I wouldn&#39;t overthink it, and just hardcode the calls:\r\n\r\n```\r\npublic class MyClass {\r\n    public void subMethod1() {/* ... */}\r\n    public void subMethod2() {/* ... */}\r\n   \r\n    public void methodA() {\r\n        subMethod1();\r\n        subMethod2();\r\n    }\r\n\r\n    public void methodB() {\r\n        subMethod2();\r\n        subMethod1();\r\n    }\r\n}\r\n```\r\n\r\nOr, in other words - don&#39;t over-engineer where you don&#39;t have to.","title":"handle methods in a class calling shared sub-methods with varying order and frequency in Java/Kotlin","body":"<p>If it's only a couple of methods, I wouldn't overthink it, and just hardcode the calls:</p>\n<pre><code>public class MyClass {\n    public void subMethod1() {/* ... */}\n    public void subMethod2() {/* ... */}\n   \n    public void methodA() {\n        subMethod1();\n        subMethod2();\n    }\n\n    public void methodB() {\n        subMethod2();\n        subMethod1();\n    }\n}\n</code></pre>\n<p>Or, in other words - don't over-engineer where you don't have to.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701028441,"creation_date":1701028441,"answer_id":77553259,"question_id":77544429,"body_markdown":"I am not familiar and do not have an IDE with Java, but I  would like to share with idea how it is possible to run methods in order that you want. \r\n\r\nThe following code is using C# and I found a link how you can [imitate delegates in Java][1]. Basically, what you need is just an array where you add your references to your method in a desired order.\r\n\r\nSo the complete code would look like this.\r\n\r\n    public class MyClass\r\n    {\r\n        public void RunInYourOrder(IEnumerable&lt;Action&gt; someMethodsInYourDesiredOrder) \r\n        {\r\n            foreach (var method in someMethodsInYourDesiredOrder)\r\n            {\r\n                method?.Invoke();\r\n            }\r\n        }\r\n    \r\n        public void Method1() \r\n        {\r\n            Console.WriteLine(&quot;Method 1 is called&quot;);\r\n        }\r\n    \r\n        public void Method2()\r\n        {\r\n            Console.WriteLine(&quot;Method 2 is called&quot;);\r\n        }\r\n    }\r\n\r\nAnd code to run would look like this:\r\n\r\n    MyClass myClass= new MyClass();\r\n    List&lt;Action&gt; methodsToBeRun = new List&lt;Action&gt;()\r\n    { \r\n        () =&gt; myClass.Method2(),\r\n        () =&gt; myClass.Method1(),\r\n    };\r\n    myClass.RunInYourOrder(methodsToBeRun);\r\n\r\nOUTPUT:\r\n\r\n    Method 2 is called\r\n    Method 1 is called\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44912/java-delegates\r\n\r\n","title":"handle methods in a class calling shared sub-methods with varying order and frequency in Java/Kotlin","body":"<p>I am not familiar and do not have an IDE with Java, but I  would like to share with idea how it is possible to run methods in order that you want.</p>\n<p>The following code is using C# and I found a link how you can <a href=\"https://stackoverflow.com/questions/44912/java-delegates\">imitate delegates in Java</a>. Basically, what you need is just an array where you add your references to your method in a desired order.</p>\n<p>So the complete code would look like this.</p>\n<pre><code>public class MyClass\n{\n    public void RunInYourOrder(IEnumerable&lt;Action&gt; someMethodsInYourDesiredOrder) \n    {\n        foreach (var method in someMethodsInYourDesiredOrder)\n        {\n            method?.Invoke();\n        }\n    }\n\n    public void Method1() \n    {\n        Console.WriteLine(&quot;Method 1 is called&quot;);\n    }\n\n    public void Method2()\n    {\n        Console.WriteLine(&quot;Method 2 is called&quot;);\n    }\n}\n</code></pre>\n<p>And code to run would look like this:</p>\n<pre><code>MyClass myClass= new MyClass();\nList&lt;Action&gt; methodsToBeRun = new List&lt;Action&gt;()\n{ \n    () =&gt; myClass.Method2(),\n    () =&gt; myClass.Method1(),\n};\nmyClass.RunInYourOrder(methodsToBeRun);\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>Method 2 is called\nMethod 1 is called\n</code></pre>\n"}],"owner":{"account_id":28986638,"reputation":29,"user_id":22203324,"display_name":"abdel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1701028441,"creation_date":1700842309,"question_id":77544429,"body_markdown":"How can I implement multiple methods in a Java/Kotlin class that invoke the same sub-methods but in a different order, or sometimes a method calls more sub-methods than another? Is there a design pattern for this scenario?\r\n\r\n    \r\n\r\n                      +------------------+\r\n                      |   My Class       |\r\n                      +------------------+\r\n                               |\r\n                +--------------+--------------+\r\n                |                             |\r\n     +------------------+         +------------------+\r\n     | Method A         |         | Method B         |\r\n     +------------------+         +------------------+\r\n     | Call SubMethod 1 |         | Call SubMethod 2 |\r\n     | Call SubMethod 2 |         | Call SubMethod 1 |\r\n     | ...              |         | ...              |\r\n     +------------------+         +------------------+\r\n                    \r\n    \r\n      +------------------+         +------------------+\r\n      | SubMethod 1      |         | SubMethod 2      |\r\n      +------------------+         +------------------+\r\n      | Implementation   |         | Implementation   |\r\n      | ...              |         | ...              |\r\n      +------------------+         +------------------+\r\n\r\n\r\nI have a lot of methods to implement on the same class.","title":"handle methods in a class calling shared sub-methods with varying order and frequency in Java/Kotlin","body":"<p>How can I implement multiple methods in a Java/Kotlin class that invoke the same sub-methods but in a different order, or sometimes a method calls more sub-methods than another? Is there a design pattern for this scenario?</p>\n<pre><code>                  +------------------+\n                  |   My Class       |\n                  +------------------+\n                           |\n            +--------------+--------------+\n            |                             |\n +------------------+         +------------------+\n | Method A         |         | Method B         |\n +------------------+         +------------------+\n | Call SubMethod 1 |         | Call SubMethod 2 |\n | Call SubMethod 2 |         | Call SubMethod 1 |\n | ...              |         | ...              |\n +------------------+         +------------------+\n                \n\n  +------------------+         +------------------+\n  | SubMethod 1      |         | SubMethod 2      |\n  +------------------+         +------------------+\n  | Implementation   |         | Implementation   |\n  | ...              |         | ...              |\n  +------------------+         +------------------+\n</code></pre>\n<p>I have a lot of methods to implement on the same class.</p>\n"},{"tags":["java","oop","ide","shortcut"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1701024423,"post_id":77553021,"comment_id":136720957,"body_markdown":"If I remember correctly, Ctrl+1 brings up the quick fix.","body":"If I remember correctly, Ctrl+1 brings up the quick fix."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1701024627,"post_id":77553021,"comment_id":136720977,"body_markdown":"Use intelliJ from jetbrains","body":"Use intelliJ from jetbrains"},{"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"score":0,"creation_date":1701027315,"post_id":77553021,"comment_id":136721239,"body_markdown":"you can use (SHIFT + ALT + S) to generate getter/setter or constructor with fields or equals and hash code","body":"you can use (SHIFT + ALT + S) to generate getter/setter or constructor with fields or equals and hash code"}],"answers":[{"tags":[],"owner":{"account_id":9165395,"reputation":1,"user_id":6815235,"display_name":"Arthur B&#225;rbaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701027980,"creation_date":1701027488,"answer_id":77553199,"question_id":77553021,"body_markdown":"There&#39;s a couple options:\r\n - **Ctrl+1** -&gt; **Create getter and setter for &#39;*variable*&#39;...** like Robert said\r\n - **menu Source** -&gt; **Generate Getters and Setters...** (same as **Alt+S**, then **R**)\r\n - **Alt+Shift+S**, then **R**\r\n\r\n\r\n**Ctrl+1** is mostly used when you&#39;re generating just one (because it&#39;s used for many many other things as well), but the menu option is better when you&#39;re generating several at once.","title":"What is NetBeans&#39;s Ctrl+I shortcut equivalent in Eclipse?","body":"<p>There's a couple options:</p>\n<ul>\n<li><strong>Ctrl+1</strong> -&gt; <strong>Create getter and setter for '<em>variable</em>'...</strong> like Robert said</li>\n<li><strong>menu Source</strong> -&gt; <strong>Generate Getters and Setters...</strong> (same as <strong>Alt+S</strong>, then <strong>R</strong>)</li>\n<li><strong>Alt+Shift+S</strong>, then <strong>R</strong></li>\n</ul>\n<p><strong>Ctrl+1</strong> is mostly used when you're generating just one (because it's used for many many other things as well), but the menu option is better when you're generating several at once.</p>\n"}],"owner":{"account_id":29998422,"reputation":1,"user_id":22989122,"display_name":"Mateus Loki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1701027980,"creation_date":1701024324,"question_id":77553021,"body_markdown":"In the video that I&#39;m using to learn Java, I discovered that in NetBeans you can generate getter and setter methods using this shortcut, and I want to do it too, but I&#39;m using Eclipse.\r\n\r\nI tried googling it, but couldn&#39;t find it.","title":"What is NetBeans&#39;s Ctrl+I shortcut equivalent in Eclipse?","body":"<p>In the video that I'm using to learn Java, I discovered that in NetBeans you can generate getter and setter methods using this shortcut, and I want to do it too, but I'm using Eclipse.</p>\n<p>I tried googling it, but couldn't find it.</p>\n"},{"tags":["java","xml","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1701029333,"post_id":77553124,"comment_id":136721445,"body_markdown":"Ant don&#39;t use the Eclipse .classpath - you have to configure it separately in the Ant build.xml","body":"Ant don&#39;t use the Eclipse .classpath - you have to configure it separately in the Ant build.xml"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701029654,"post_id":77553124,"comment_id":136721476,"body_markdown":"If you are building with Ant to get that error why don&#39;t you share the Ant script?","body":"If you are building with Ant to get that error why don&#39;t you share the Ant script?"},{"owner":{"account_id":6156307,"reputation":33586,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1701078399,"post_id":77553124,"comment_id":136725960,"body_markdown":"See answer 4 to configure your project : https://stackoverflow.com/questions/3451378/how-to-run-javah-from-eclipse","body":"See answer 4 to configure your project : <a href=\"https://stackoverflow.com/questions/3451378/how-to-run-javah-from-eclipse\" title=\"how to run javah from eclipse\">stackoverflow.com/questions/3451378/&hellip;</a>"}],"owner":{"account_id":12108664,"reputation":21,"user_id":8846402,"display_name":"Milo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701027330,"creation_date":1701026151,"question_id":77553124,"body_markdown":"I have an external jar (commons-codec-1.15) that I have added to my projects &quot;lib&quot; folder and configured in my classpath that is not accessible. \r\n\r\nThis is the error message I get in console when I try to build with the build.xml file. Eclipse does not give me any errors.\r\n\r\n```\r\n:23: error: package org.apache.commons.codec.digest does not exist\r\nString test = org.apache.commons.codec.digest.DigestUtils.sha1Hex(&quot;test&quot;);\r\n```\r\n\r\nHere is my classpath for reference\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;var&quot; path=&quot;JRE_LIB&quot; sourcepath=&quot;JRE_SRC&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;C:/SoftLabs/SD/sd-lab-23-24/strava/Facebook_Server/bin&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin&quot; path=&quot;src&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/commons-codec-1.15.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n&lt;/classpath&gt;\r\n```\r\n\r\nI am coding in Eclipse Version: 2023-09 (4.29.0) with OpenJDK 17.0.8.1\r\n\r\nI have tried adding it to my classpath manually and through the buildpath configuration of eclipse. I have also tried Project -\\&gt; Clean.\r\n\r\nI know that the jar file is not corrupted because I am using it in another java project folder that is inside the same workspace with a near identical classpath. This jar seems to work in one project, but not the other. Both projects are ant builds with .xml files and only this project fails to build.","title":"Unavailable Classpath Jar File in Eclipse","body":"<p>I have an external jar (commons-codec-1.15) that I have added to my projects &quot;lib&quot; folder and configured in my classpath that is not accessible.</p>\n<p>This is the error message I get in console when I try to build with the build.xml file. Eclipse does not give me any errors.</p>\n<pre><code>:23: error: package org.apache.commons.codec.digest does not exist\nString test = org.apache.commons.codec.digest.DigestUtils.sha1Hex(&quot;test&quot;);\n</code></pre>\n<p>Here is my classpath for reference</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;var&quot; path=&quot;JRE_LIB&quot; sourcepath=&quot;JRE_SRC&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;C:/SoftLabs/SD/sd-lab-23-24/strava/Facebook_Server/bin&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/commons-codec-1.15.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>I am coding in Eclipse Version: 2023-09 (4.29.0) with OpenJDK 17.0.8.1</p>\n<p>I have tried adding it to my classpath manually and through the buildpath configuration of eclipse. I have also tried Project -&gt; Clean.</p>\n<p>I know that the jar file is not corrupted because I am using it in another java project folder that is inside the same workspace with a near identical classpath. This jar seems to work in one project, but not the other. Both projects are ant builds with .xml files and only this project fails to build.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1701038694,"post_id":77552126,"comment_id":136722311,"body_markdown":"Update the model, your `ObservableList`, and the view, your `TableView`, will update itself in response. If a problem remains, please [edit] your question to include a [mre] that illustrates the problem you encounter. See also [Why should I avoid using PropertyValueFactory in JavaFX?](https://stackoverflow.com/q/72437983/230513)","body":"Update the model, your <code>ObservableList</code>, and the view, your <code>TableView</code>, will update itself in response. If a problem remains, please <a href=\"https://stackoverflow.com/posts/77552126/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that illustrates the problem you encounter. See also <a href=\"https://stackoverflow.com/q/72437983/230513\">Why should I avoid using PropertyValueFactory in JavaFX?</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1701048750,"post_id":77552126,"comment_id":136723034,"body_markdown":"The recommended way to do this is to use a [MVC-type approach](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx). If you don’t want to do that, and want to keep the data in the controller, then you need to call `addQuestion(…)` on the actual controller.","body":"The recommended way to do this is to use a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC-type approach</a>. If you don’t want to do that, and want to keep the data in the controller, then you need to call <code>addQuestion(…)</code> on the actual controller."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1701049075,"post_id":77552126,"comment_id":136723055,"body_markdown":"Also note that your `updateTableView()` method doesn’t do what you want.  `showQuestions.getItems()` returns `questionList` (since you previously call `showQuestions.setItems(questionList)`), so `showQuestions.getItems().clear()` results both in `questionList` being empty and the table having no data to display. Then `showQuestions.getItems().addAll(questionList)` is a no-op (add no items to the list) and the table will be empty. The method is completely redundant anyway: remove it all all calls to it.","body":"Also note that your <code>updateTableView()</code> method doesn’t do what you want.  <code>showQuestions.getItems()</code> returns <code>questionList</code> (since you previously call <code>showQuestions.setItems(questionList)</code>), so <code>showQuestions.getItems().clear()</code> results both in <code>questionList</code> being empty and the table having no data to display. Then <code>showQuestions.getItems().addAll(questionList)</code> is a no-op (add no items to the list) and the table will be empty. The method is completely redundant anyway: remove it all all calls to it."},{"owner":{"account_id":26398197,"reputation":1,"user_id":20049013,"display_name":"A.K. Enoch"},"score":0,"creation_date":1701058887,"post_id":77552126,"comment_id":136723665,"body_markdown":"Maybe if I gave you the package you can take a look I guess? Here&#39;s the link to the package from my Google Drive:\n\nhttps://drive.google.com/file/d/1byC7ShScYWKRslLn2lm-fybWLKtosX25/view?usp=sharing","body":"Maybe if I gave you the package you can take a look I guess? Here&#39;s the link to the package from my Google Drive:  <a href=\"https://drive.google.com/file/d/1byC7ShScYWKRslLn2lm-fybWLKtosX25/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1byC7ShScYWKRslLn2lm-fybWLKtosX25/&hellip;</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1701081847,"post_id":77552126,"comment_id":136726534,"body_markdown":"What’s wrong with the suggestions I already made?","body":"What’s wrong with the suggestions I already made?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1701092761,"post_id":77552126,"comment_id":136728386,"body_markdown":"First, study the problem in isolation, perhaps using this related [example](https://stackoverflow.com/a/76497248/230513).","body":"First, study the problem in isolation, perhaps using this related <a href=\"https://stackoverflow.com/a/76497248/230513\">example</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1701098190,"post_id":77552126,"comment_id":136729584,"body_markdown":"It is (almost) always wrong to instantiate a class you are using as a controller for an FXML file. It is absolutely always wrong to instantiate fields that are annotated `@FXML`: the annotation explicitly says the fields are intended to be initialized by the `FXMLLoader`.","body":"It is (almost) always wrong to instantiate a class you are using as a controller for an FXML file. It is absolutely always wrong to instantiate fields that are annotated <code>@FXML</code>: the annotation explicitly says the fields are intended to be initialized by the <code>FXMLLoader</code>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1701106282,"post_id":77552126,"comment_id":136731311,"body_markdown":"@James_D&#39;s observation is examined in detail [here](https://stackoverflow.com/a/77546686/230513).","body":"@James_D&#39;s observation is examined in detail <a href=\"https://stackoverflow.com/a/77546686/230513\">here</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701128306,"post_id":77552126,"comment_id":136734567,"body_markdown":"*&quot;Here&#39;s the link to the package from my Google Drive&quot;* -&gt; That is not [the way this site is supposed to work](https://meta.stackoverflow.com/questions/359303/providing-a-github-url-in-questions).  Questions should be self-contained  - and it may require work to be able to do that and create a requested [mcve] or similar example, but, so be it.","body":"<i>&quot;Here&#39;s the link to the package from my Google Drive&quot;</i> -&gt; That is not <a href=\"https://meta.stackoverflow.com/questions/359303/providing-a-github-url-in-questions\">the way this site is supposed to work</a>.  Questions should be self-contained  - and it may require work to be able to do that and create a requested <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or similar example, but, so be it."}],"owner":{"account_id":26398197,"reputation":1,"user_id":20049013,"display_name":"A.K. Enoch"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701106858,"answer_count":0,"score":0,"last_activity_date":1701026743,"creation_date":1701009646,"question_id":77552126,"body_markdown":"How to makesure that my `TableView` updates with the questions I created, with `TableView` showing the row of the question. I want to make sure that my `OpenEndedController` file adds in the question I created in my survey creator, in which the `TableView` in my `SurveyCreator.java` file should display the row with the question ID and question `Type`, but somehow it doesn&#39;t work. May someone help analyze it?\r\n\r\nOpenEndedController.java file\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class OpenEndedController {\r\n    \r\n        @FXML\r\n        private TextArea AnswerField;\r\n    \r\n        @FXML\r\n        private Button ExitOE;\r\n    \r\n        @FXML\r\n        private TextField QuestionTitle;\r\n    \r\n        @FXML\r\n        private Button addToTable;\r\n    \r\n        @FXML\r\n        private TextField questionID;\r\n    \r\n        private String question;\r\n        private String id;\r\n        private String answer;\r\n        public SurveyCreator surveyCreator;\r\n    \r\n        // initialize surveyCreator\r\n        public OpenEndedController() {\r\n            this.surveyCreator = new SurveyCreator();\r\n        }\r\n    \r\n        @FXML\r\n        void addOpenEnded(ActionEvent event) throws IOException {\r\n            Main add = new Main();\r\n            try {\r\n                // Get values from UI components`\r\n                id = questionID.getText();\r\n                question = QuestionTitle.getText();\r\n                answer = AnswerField.getText();\r\n    \r\n                // Check if the title is not empty\r\n                if (question.isEmpty()) {\r\n                    showAlert(&quot;Error&quot;, &quot;Title cannot be empty.&quot;);\r\n                } else {\r\n                    // Create Open-Ended question using the Question class\r\n                    Question openEndedQuestion = new Question(id,&quot;Open-Ended&quot;, question, answer);\r\n                     // Assuming you have a setAnswer method in your Question class\r\n    \r\n                    // Add Open-Ended question to SurveyCreator\r\n                    if (surveyCreator != null) {\r\n                        surveyCreator.addQuestion(openEndedQuestion);\r\n                    } else {\r\n                        showAlert(&quot;Error&quot;, &quot;SurveyCreator instance is null. Cannot add question.&quot;);\r\n                        return;\r\n                    }\r\n    \r\n                    // Clear the input fields\r\n                    clearFields();\r\n    \r\n                    // Inform the user that the question was added\r\n                    showAlert(&quot;Success&quot;, &quot;Open-Ended question added successfully!&quot;);\r\n    \r\n                    // update tableview\r\n                    surveyCreator.updateTableView();\r\n    \r\n                    // return to survey creator\r\n                    add.changeScene(&quot;surveycreator.fxml&quot;);\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                showAlert(&quot;Error&quot;, &quot;Please enter a valid numeric ID.&quot;);\r\n            }\r\n        }\r\n    \r\n        @FXML\r\n        public void exitOpenEnded(ActionEvent event) throws IOException {\r\n            Main exit = new Main();\r\n            exit.changeScene(&quot;surveycreator.fxml&quot;);\r\n        }\r\n    \r\n        @FXML\r\n        public void getAnswer(ActionEvent event) {\r\n            AnswerField.getText();\r\n        }\r\n    \r\n        @FXML\r\n        public void getQuestionID(ActionEvent event) {\r\n            String id = questionID.getText();\r\n        }\r\n    \r\n        @FXML\r\n        public void getQuestionTitle(ActionEvent event)  {\r\n            QuestionTitle.getText();\r\n        }\r\n    \r\n    \r\n        private void showAlert(String title, String content) {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setTitle(title);\r\n            alert.setContentText(content);\r\n            alert.showAndWait();\r\n        }\r\n    \r\n        private void clearFields() {\r\n            questionID.clear();\r\n            QuestionTitle.clear();\r\n            AnswerField.clear();\r\n        }\r\n    }\r\n\r\nSurveyCreator.java file:\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.stage.FileChooser;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.*;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    \r\n    import static javafx.application.Application.launch;\r\n    \r\n    public class SurveyCreator implements Initializable {\r\n        FileChooser fileChooser = new FileChooser();\r\n        FXMLLoader loader = new FXMLLoader();\r\n        private String username;\r\n        private String textArea;\r\n    \r\n    \r\n        // Table\r\n        @FXML\r\n        public TableView&lt;Question&gt; showquestions;\r\n        private ObservableList&lt;Question&gt; questionList = FXCollections.observableArrayList();\r\n    \r\n        // Column\r\n        @FXML\r\n        public TableColumn&lt;Question, String&gt; ID;\r\n    \r\n        @FXML\r\n        public TableColumn&lt;Question, String&gt; Type;\r\n    \r\n    \r\n        @FXML\r\n        private Button surveycreatorDelete;\r\n    \r\n        @FXML\r\n        private Button surveycreatorEdit;\r\n    \r\n        @FXML\r\n        private Button surveycreatorExit;\r\n    \r\n        @FXML\r\n        private Button surveycreatorMCQ;\r\n    \r\n        @FXML\r\n        private Button surveycreatorOpenEnded;\r\n    \r\n        @FXML\r\n        private Button surveycreatorPublish;\r\n    \r\n        @FXML\r\n        private Button surveycreatorRating;\r\n    \r\n        @FXML\r\n        private Button surveycreatorSave;\r\n    \r\n        private Stage stage;\r\n    \r\n        private Question questionHandler = new Question();\r\n    \r\n        // update TableView\r\n        public void updateTableView() {\r\n            showquestions.getItems().clear();\r\n            showquestions.getItems().addAll(questionList);\r\n        }\r\n    \r\n    \r\n        // add question\r\n        public void addQuestion(Question question) {\r\n            questionHandler.create(question);\r\n            questionList.add(question);\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n        ObservableList&lt;Question&gt; list = FXCollections.observableArrayList();\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n            ID.setCellValueFactory(new PropertyValueFactory&lt;Question, String&gt;(&quot;ID&quot;));\r\n            Type.setCellValueFactory(new PropertyValueFactory&lt;Question, String&gt;(&quot;Type&quot;));\r\n        }\r\n    \r\n        // read question\r\n        public Question getQuestionById(String targetID) {\r\n            return questionHandler.read(targetID);\r\n        }\r\n    \r\n        // update question\r\n        public void updateQuestion(Question question) {\r\n            questionHandler.update(question);\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n        // delete question\r\n        public void deleteQuestion(String targetID) {\r\n            questionHandler.delete(targetID);\r\n            questionList.removeIf(q -&gt; q.getId().equals(targetID));\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n        // initialize\r\n        public SurveyCreator() {\r\n            this.showquestions = new TableView&lt;&gt;();\r\n            this.ID = new TableColumn&lt;&gt;();\r\n            this.Type = new TableColumn&lt;&gt;();\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n    \r\n        // load .csv file\r\n        public void loadSurvey(File surveyFile) {\r\n            try (BufferedReader reader = new BufferedReader(new FileReader(surveyFile))) {\r\n                String line;\r\n    \r\n                while ((line = reader.readLine()) != null) {\r\n    \r\n    \r\n                    String[] parts = line.split(&quot;,&quot;);\r\n    \r\n                    // create question object\r\n                    Question newQuestion = new Question(parts[0], parts[1], parts[2], parts[3]);\r\n                    showquestions.getItems().add(newQuestion);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void exitSurveyCreator(ActionEvent event) throws Exception {\r\n            Main e = new Main();\r\n    \r\n            // get usernames from login check\r\n            String adminUsername = LogIn.getAdminUsername();\r\n            String userUsername = LogIn.getUserUsername();\r\n    \r\n    \r\n            if (adminUsername != null &amp;&amp; adminUsername.equals(&quot;admin&quot;)) {\r\n                e.changeScene(&quot;adminpage.fxml&quot;);\r\n    \r\n            } else if (userUsername != null &amp;&amp; userUsername.equals(&quot;user&quot;)) {\r\n                e.changeScene(&quot;userpage.fxml&quot;);\r\n            }\r\n        }\r\n    \r\n        public void setDelete(ActionEvent event) throws Exception {\r\n            Question selectedQuestion = showquestions.getSelectionModel().getSelectedItem();\r\n    \r\n            // Check if item is selected\r\n            if (selectedQuestion == null) {\r\n               checkDelete(selectedQuestion.getId());\r\n            }\r\n        }\r\n    \r\n        private void checkDelete(String targetID) throws Exception {\r\n            questionList.removeIf(q -&gt; q.getId().equals(targetID));\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n        public void setEdit(ActionEvent event) throws Exception {\r\n            Question selectedQuestion = showquestions.getSelectionModel().getSelectedItem();\r\n    \r\n            // check if item is selected\r\n            if (selectedQuestion != null) {\r\n                navigateToScene(selectedQuestion);\r\n            }\r\n        }\r\n    \r\n        private void navigateToScene(Question question) throws Exception  {\r\n            // initialize variables\r\n            String Type = question.getType();\r\n            String id = question.getId();\r\n    \r\n            switch (Type) {\r\n                case &quot;MCQ&quot;:\r\n                    loader.setLocation(getClass().getResource(&quot;MCQ.fxml&quot;));\r\n                    break;\r\n                case &quot;Open-Ended&quot;:\r\n                    loader.setLocation(getClass().getResource(&quot;open_ended.fxml&quot;));\r\n                    break;\r\n                case &quot;Rating&quot;:\r\n                    loader.setLocation(getClass().getResource(&quot;rating.fxml&quot;));\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        public void setMCQ(ActionEvent event) throws Exception {\r\n            checkMCQ();\r\n        }\r\n    \r\n        private void checkMCQ() throws Exception {\r\n            Main MCQ = new Main();\r\n            MCQ.changeQuestion(&quot;MCQ.fxml&quot;);\r\n        }\r\n    \r\n        public void setOpenEnded(ActionEvent event) throws Exception {\r\n            openOpenEndedController();\r\n        }\r\n    \r\n        private void openOpenEndedController() throws Exception {\r\n            Main oe = new Main();\r\n            oe.changeQuestion(&quot;open_ended.fxml&quot;);\r\n        }\r\n    \r\n        public void setRating(ActionEvent event) throws Exception {\r\n            checkRating();\r\n        }\r\n    \r\n        private void checkRating() throws Exception {\r\n            Main Rating = new Main();\r\n            Rating.changeQuestion(&quot;rating.fxml&quot;);\r\n        }\r\n    \r\n        public void setSave(ActionEvent event) throws Exception {\r\n            Main s = new Main();\r\n    \r\n            // get usernames\r\n            String adminUsername = LogIn.getAdminUsername();\r\n            String userUsername = LogIn.getUserUsername();\r\n    \r\n            // Save questions to CSV\r\n            CSVHandler&lt;Question&gt; csvHandler = new CSVHandler&lt;&gt;(&quot;ID,Type,Title,Answer&quot;, &quot;,&quot;, &quot;\\n&quot;);\r\n            csvHandler.writeCSV(questionList, &quot;survey1.csv&quot;, false);\r\n    \r\n            // save in this format\r\n            fileChooser.setTitle(&quot;Save Survey&quot;);\r\n            fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;Java Files&quot;, &quot;*.java&quot;));\r\n    \r\n            // show save dialog\r\n            File selectedFile = fileChooser.showSaveDialog(null);\r\n    \r\n            // save function\r\n            if (selectedFile != null) {\r\n                try {\r\n                    FileWriter writer = new FileWriter(selectedFile);\r\n                    writer.write(&quot;public class Survey {/n/n}&quot;);\r\n    \r\n                    // feature to return to pages\r\n                    if (adminUsername!= null &amp;&amp; adminUsername.equals(&quot;admin&quot;)) {\r\n                        s.changeScene(&quot;adminpage.fxml&quot;);\r\n                        writer.close();\r\n                    }\r\n    \r\n                    else if (userUsername != null &amp;&amp; userUsername.equals(&quot;user&quot;)) {\r\n                        s.changeScene(&quot;userpage.fxml&quot;);\r\n                        writer.close();\r\n                    }\r\n                }\r\n    \r\n                catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) { launch(); }\r\n    \r\n    \r\n    }\r\n\r\nAnd for good measure, I have my UserPage.java file (basically a user interface for anyone who is logged in as a user, not admin)\r\n\r\nUserPage.java:\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Button;\r\n    import javafx.stage.FileChooser;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    import static javafx.application.Application.launch;\r\n    \r\n    public class UserPage {\r\n        @FXML\r\n        private Button logout;\r\n        @FXML\r\n        private Button addsurvey;\r\n        @FXML\r\n        private Button deletesurvey;\r\n        @FXML\r\n        private Button editsurvey;\r\n    \r\n        private static Stage stg;\r\n        FileChooser fileChooser= new FileChooser();\r\n        public void setLogout(ActionEvent event) throws IOException {\r\n            checkLogout();\r\n        }\r\n    \r\n        private void checkLogout() throws IOException {\r\n            Main m = new Main();\r\n            m.changeScene(&quot;logintest.fxml&quot;);\r\n        }\r\n    \r\n        // connected to a button in the userpage.fxml file\r\n        public void setAdd(ActionEvent event) throws IOException {\r\n            addSurvey();\r\n        }\r\n    \r\n        // the function to create a new survey file\r\n        private void addSurvey() {\r\n            // set directory of where to save the file\r\n            File defaultDirectory = new File(&quot;C:\\\\Users\\\\adruc\\\\IdeaProjects\\\\assignmentsurvey\\\\src\\\\main\\\\java\\\\com\\\\example\\\\Surveys&quot;);\r\n            fileChooser.setInitialDirectory(defaultDirectory);\r\n    \r\n            // set the upper title of the dialog\r\n            fileChooser.setTitle(&quot;Add File&quot;);\r\n    \r\n            // show open file dialog name the newly created file\r\n            fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;CSV Files&quot;, &quot;*.csv&quot;));\r\n            java.io.File selectedFile = fileChooser.showSaveDialog(null);\r\n    \r\n            if (selectedFile != null) {\r\n                // name the file\r\n                try {\r\n                    String fileName = selectedFile.getName();\r\n                    if (!fileName.endsWith(&quot;.csv&quot;)) {\r\n                        fileName += &quot;.csv&quot;;\r\n                    }\r\n                    FileWriter writer = new FileWriter(selectedFile.getParent() + &quot;/&quot; + fileName);\r\n                    writer.write(&quot;public class Survey {\\n\\n}&quot;);\r\n                    writer.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void setDelete(ActionEvent event) throws IOException {\r\n            deleteSurvey();\r\n        }\r\n    \r\n        private void deleteSurvey() throws IOException {\r\n            fileChooser.setTitle(&quot;Delete File&quot;);\r\n    \r\n            // show open file dialog\r\n            java.io.File selectedFile = fileChooser.showOpenDialog(stg);\r\n    \r\n            if (selectedFile != null) {\r\n                boolean result = selectedFile.delete();\r\n    \r\n                if (result) {\r\n                    Alert alert1 = new Alert(Alert.AlertType.CONFIRMATION);\r\n                    alert1.setTitle(&quot;File deleted&quot;);\r\n                    alert1.setHeaderText(&quot;Success!&quot;);\r\n                    alert1.setContentText(&quot;File has been successfully deleted.&quot;);\r\n    \r\n                }\r\n                else {\r\n                    Alert alert2 = new Alert(Alert.AlertType.ERROR);\r\n                    alert2.setTitle(&quot;Error&quot;);\r\n                    alert2.setHeaderText(&quot;Error&quot;);\r\n                    alert2.setContentText(&quot;There was an issue trying to delete the file.&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void setEdit(ActionEvent event) throws IOException {\r\n            editSurvey();\r\n        }\r\n    \r\n        private void editSurvey() throws IOException {\r\n            // set initial directory\r\n            File defaultDirectory = new File(&quot;C:\\\\Users\\\\adruc\\\\IdeaProjects\\\\assignmentsurvey\\\\src\\\\main\\\\java\\\\com\\\\example\\\\Surveys&quot;);\r\n            fileChooser.setInitialDirectory(defaultDirectory);\r\n            fileChooser.setTitle(&quot;Edit File&quot;);\r\n    \r\n            // show open dialog\r\n            fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;CSV Files&quot;, &quot;*.csv&quot;));\r\n            java.io.File selectedFile = fileChooser.showOpenDialog(null);\r\n    \r\n            // select the file\r\n            if (selectedFile != null) {\r\n                try {\r\n                    Main edit = new Main();\r\n                    edit.changeQuestion(&quot;surveycreator.fxml&quot;);\r\n                }\r\n                catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\nI do have some other files, such as Main.java:\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Objects;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        private static Stage stg;\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n            stg = primaryStage;\r\n            primaryStage.setResizable(false);\r\n            Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;logintest.fxml&quot;)));\r\n            primaryStage.setScene(new Scene(root, 600, 400));\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public void changeScene(String fxml) throws IOException {\r\n            Parent pane = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(fxml)));\r\n            stg.getScene().setRoot(pane);\r\n        }\r\n    \r\n        public void changeQuestion(String fxml) throws IOException {\r\n            Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(fxml)));\r\n            stg.setScene(new Scene(root, 900, 650));\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\nCSVHandler.java:\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.io.*;\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Modifier;\r\n    import java.util.*;\r\n    \r\n    \r\n    \r\n    public class CSVHandler &lt;T&gt;{\r\n        private String delimiter = &quot;,&quot;;\r\n        private String newline = &quot;\\n&quot;;\r\n        private String header;\r\n    \r\n        public CSVHandler(String header, String delimiter, String newline) {\r\n            this.header = header;\r\n            this.delimiter = delimiter;\r\n            this.newline = newline;\r\n        }\r\n    \r\n        public void writeCSV(List&lt;T&gt; data, String fileName, boolean append) {\r\n            FileWriter fileWriter = null;\r\n            try {\r\n                File file = new File(fileName);\r\n                fileWriter = new FileWriter(file, append);\r\n                if (!append) {\r\n                    fileWriter.append(header);\r\n                    fileWriter.append(newline);\r\n                }\r\n                for (T element : data) {\r\n                    // int rows = data.size();\r\n                    Field[] fields = element.getClass().getDeclaredFields();\r\n                    int discard = 0;\r\n                    for (Field f : fields) {\r\n                        // get rid of public var, which are shared variables\r\n                        if (Modifier.isPublic(f.getModifiers())) {\r\n                            discard += 1;\r\n                        }\r\n                    }\r\n                    int columns = fields.length - discard;\r\n                    int count = 0;\r\n                    for (Field f : fields) {\r\n                        // only list private variables internal to a class\r\n                        if (Modifier.isPrivate(f.getModifiers())) {\r\n                            count += 1;\r\n                            f.setAccessible(true);\r\n                            fileWriter.append(f.get(element).toString());\r\n                            if (count % columns != 0) {\r\n                                fileWriter.append(delimiter);\r\n                            }\r\n                        }\r\n                    }\r\n                    fileWriter.append(newline);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    fileWriter.flush();\r\n                    fileWriter.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public List&lt;T&gt; readCSV(String fileName, CSVParser&lt;T&gt; parser) {\r\n            BufferedReader bReader = null;\r\n            File file = new File(fileName);\r\n            List&lt;T&gt; data = new ArrayList&lt;&gt;();\r\n            if (file.exists()) {\r\n                try {\r\n                    String line = &quot;&quot;;\r\n                    bReader = new BufferedReader(new FileReader(file));\r\n                    bReader.readLine();\r\n    \r\n                    while ((line = bReader.readLine()) != null) {\r\n                        T element = parser.parseLine(line.split(delimiter));\r\n                        if (element != null)\r\n                            data.add(element);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        if (bReader != null)\r\n                            bReader.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            return data;\r\n        }\r\n    \r\n        public List&lt;UserDetails&gt; readJSON(String fileName, Class&lt;UserDetails[]&gt; clazz) {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            List&lt;UserDetails&gt; data = new ArrayList&lt;&gt;();\r\n            try {\r\n                File file = new File(fileName);\r\n                if (file.exists()) {\r\n                    data = Arrays.asList(mapper.readValue(file, clazz));\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return data;\r\n        }\r\n    }\r\n\r\n","title":"How to makesure that my TableView updates with the questions I created","body":"<p>How to makesure that my <code>TableView</code> updates with the questions I created, with <code>TableView</code> showing the row of the question. I want to make sure that my <code>OpenEndedController</code> file adds in the question I created in my survey creator, in which the <code>TableView</code> in my <code>SurveyCreator.java</code> file should display the row with the question ID and question <code>Type</code>, but somehow it doesn't work. May someone help analyze it?</p>\n<p>OpenEndedController.java file</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\n\nimport java.io.IOException;\n\npublic class OpenEndedController {\n\n    @FXML\n    private TextArea AnswerField;\n\n    @FXML\n    private Button ExitOE;\n\n    @FXML\n    private TextField QuestionTitle;\n\n    @FXML\n    private Button addToTable;\n\n    @FXML\n    private TextField questionID;\n\n    private String question;\n    private String id;\n    private String answer;\n    public SurveyCreator surveyCreator;\n\n    // initialize surveyCreator\n    public OpenEndedController() {\n        this.surveyCreator = new SurveyCreator();\n    }\n\n    @FXML\n    void addOpenEnded(ActionEvent event) throws IOException {\n        Main add = new Main();\n        try {\n            // Get values from UI components`\n            id = questionID.getText();\n            question = QuestionTitle.getText();\n            answer = AnswerField.getText();\n\n            // Check if the title is not empty\n            if (question.isEmpty()) {\n                showAlert(&quot;Error&quot;, &quot;Title cannot be empty.&quot;);\n            } else {\n                // Create Open-Ended question using the Question class\n                Question openEndedQuestion = new Question(id,&quot;Open-Ended&quot;, question, answer);\n                 // Assuming you have a setAnswer method in your Question class\n\n                // Add Open-Ended question to SurveyCreator\n                if (surveyCreator != null) {\n                    surveyCreator.addQuestion(openEndedQuestion);\n                } else {\n                    showAlert(&quot;Error&quot;, &quot;SurveyCreator instance is null. Cannot add question.&quot;);\n                    return;\n                }\n\n                // Clear the input fields\n                clearFields();\n\n                // Inform the user that the question was added\n                showAlert(&quot;Success&quot;, &quot;Open-Ended question added successfully!&quot;);\n\n                // update tableview\n                surveyCreator.updateTableView();\n\n                // return to survey creator\n                add.changeScene(&quot;surveycreator.fxml&quot;);\n            }\n        } catch (NumberFormatException e) {\n            showAlert(&quot;Error&quot;, &quot;Please enter a valid numeric ID.&quot;);\n        }\n    }\n\n    @FXML\n    public void exitOpenEnded(ActionEvent event) throws IOException {\n        Main exit = new Main();\n        exit.changeScene(&quot;surveycreator.fxml&quot;);\n    }\n\n    @FXML\n    public void getAnswer(ActionEvent event) {\n        AnswerField.getText();\n    }\n\n    @FXML\n    public void getQuestionID(ActionEvent event) {\n        String id = questionID.getText();\n    }\n\n    @FXML\n    public void getQuestionTitle(ActionEvent event)  {\n        QuestionTitle.getText();\n    }\n\n\n    private void showAlert(String title, String content) {\n        Alert alert = new Alert(Alert.AlertType.ERROR);\n        alert.setTitle(title);\n        alert.setContentText(content);\n        alert.showAndWait();\n    }\n\n    private void clearFields() {\n        questionID.clear();\n        QuestionTitle.clear();\n        AnswerField.clear();\n    }\n}\n</code></pre>\n<p>SurveyCreator.java file:</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\n\nimport java.io.*;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\n\nimport static javafx.application.Application.launch;\n\npublic class SurveyCreator implements Initializable {\n    FileChooser fileChooser = new FileChooser();\n    FXMLLoader loader = new FXMLLoader();\n    private String username;\n    private String textArea;\n\n\n    // Table\n    @FXML\n    public TableView&lt;Question&gt; showquestions;\n    private ObservableList&lt;Question&gt; questionList = FXCollections.observableArrayList();\n\n    // Column\n    @FXML\n    public TableColumn&lt;Question, String&gt; ID;\n\n    @FXML\n    public TableColumn&lt;Question, String&gt; Type;\n\n\n    @FXML\n    private Button surveycreatorDelete;\n\n    @FXML\n    private Button surveycreatorEdit;\n\n    @FXML\n    private Button surveycreatorExit;\n\n    @FXML\n    private Button surveycreatorMCQ;\n\n    @FXML\n    private Button surveycreatorOpenEnded;\n\n    @FXML\n    private Button surveycreatorPublish;\n\n    @FXML\n    private Button surveycreatorRating;\n\n    @FXML\n    private Button surveycreatorSave;\n\n    private Stage stage;\n\n    private Question questionHandler = new Question();\n\n    // update TableView\n    public void updateTableView() {\n        showquestions.getItems().clear();\n        showquestions.getItems().addAll(questionList);\n    }\n\n\n    // add question\n    public void addQuestion(Question question) {\n        questionHandler.create(question);\n        questionList.add(question);\n        showquestions.setItems(questionList);\n    }\n\n    ObservableList&lt;Question&gt; list = FXCollections.observableArrayList();\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        ID.setCellValueFactory(new PropertyValueFactory&lt;Question, String&gt;(&quot;ID&quot;));\n        Type.setCellValueFactory(new PropertyValueFactory&lt;Question, String&gt;(&quot;Type&quot;));\n    }\n\n    // read question\n    public Question getQuestionById(String targetID) {\n        return questionHandler.read(targetID);\n    }\n\n    // update question\n    public void updateQuestion(Question question) {\n        questionHandler.update(question);\n        showquestions.setItems(questionList);\n    }\n\n    // delete question\n    public void deleteQuestion(String targetID) {\n        questionHandler.delete(targetID);\n        questionList.removeIf(q -&gt; q.getId().equals(targetID));\n        showquestions.setItems(questionList);\n    }\n\n    // initialize\n    public SurveyCreator() {\n        this.showquestions = new TableView&lt;&gt;();\n        this.ID = new TableColumn&lt;&gt;();\n        this.Type = new TableColumn&lt;&gt;();\n        showquestions.setItems(questionList);\n    }\n\n\n    // load .csv file\n    public void loadSurvey(File surveyFile) {\n        try (BufferedReader reader = new BufferedReader(new FileReader(surveyFile))) {\n            String line;\n\n            while ((line = reader.readLine()) != null) {\n\n\n                String[] parts = line.split(&quot;,&quot;);\n\n                // create question object\n                Question newQuestion = new Question(parts[0], parts[1], parts[2], parts[3]);\n                showquestions.getItems().add(newQuestion);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public void exitSurveyCreator(ActionEvent event) throws Exception {\n        Main e = new Main();\n\n        // get usernames from login check\n        String adminUsername = LogIn.getAdminUsername();\n        String userUsername = LogIn.getUserUsername();\n\n\n        if (adminUsername != null &amp;&amp; adminUsername.equals(&quot;admin&quot;)) {\n            e.changeScene(&quot;adminpage.fxml&quot;);\n\n        } else if (userUsername != null &amp;&amp; userUsername.equals(&quot;user&quot;)) {\n            e.changeScene(&quot;userpage.fxml&quot;);\n        }\n    }\n\n    public void setDelete(ActionEvent event) throws Exception {\n        Question selectedQuestion = showquestions.getSelectionModel().getSelectedItem();\n\n        // Check if item is selected\n        if (selectedQuestion == null) {\n           checkDelete(selectedQuestion.getId());\n        }\n    }\n\n    private void checkDelete(String targetID) throws Exception {\n        questionList.removeIf(q -&gt; q.getId().equals(targetID));\n        showquestions.setItems(questionList);\n    }\n\n    public void setEdit(ActionEvent event) throws Exception {\n        Question selectedQuestion = showquestions.getSelectionModel().getSelectedItem();\n\n        // check if item is selected\n        if (selectedQuestion != null) {\n            navigateToScene(selectedQuestion);\n        }\n    }\n\n    private void navigateToScene(Question question) throws Exception  {\n        // initialize variables\n        String Type = question.getType();\n        String id = question.getId();\n\n        switch (Type) {\n            case &quot;MCQ&quot;:\n                loader.setLocation(getClass().getResource(&quot;MCQ.fxml&quot;));\n                break;\n            case &quot;Open-Ended&quot;:\n                loader.setLocation(getClass().getResource(&quot;open_ended.fxml&quot;));\n                break;\n            case &quot;Rating&quot;:\n                loader.setLocation(getClass().getResource(&quot;rating.fxml&quot;));\n                break;\n            default:\n                break;\n        }\n    }\n\n    public void setMCQ(ActionEvent event) throws Exception {\n        checkMCQ();\n    }\n\n    private void checkMCQ() throws Exception {\n        Main MCQ = new Main();\n        MCQ.changeQuestion(&quot;MCQ.fxml&quot;);\n    }\n\n    public void setOpenEnded(ActionEvent event) throws Exception {\n        openOpenEndedController();\n    }\n\n    private void openOpenEndedController() throws Exception {\n        Main oe = new Main();\n        oe.changeQuestion(&quot;open_ended.fxml&quot;);\n    }\n\n    public void setRating(ActionEvent event) throws Exception {\n        checkRating();\n    }\n\n    private void checkRating() throws Exception {\n        Main Rating = new Main();\n        Rating.changeQuestion(&quot;rating.fxml&quot;);\n    }\n\n    public void setSave(ActionEvent event) throws Exception {\n        Main s = new Main();\n\n        // get usernames\n        String adminUsername = LogIn.getAdminUsername();\n        String userUsername = LogIn.getUserUsername();\n\n        // Save questions to CSV\n        CSVHandler&lt;Question&gt; csvHandler = new CSVHandler&lt;&gt;(&quot;ID,Type,Title,Answer&quot;, &quot;,&quot;, &quot;\\n&quot;);\n        csvHandler.writeCSV(questionList, &quot;survey1.csv&quot;, false);\n\n        // save in this format\n        fileChooser.setTitle(&quot;Save Survey&quot;);\n        fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;Java Files&quot;, &quot;*.java&quot;));\n\n        // show save dialog\n        File selectedFile = fileChooser.showSaveDialog(null);\n\n        // save function\n        if (selectedFile != null) {\n            try {\n                FileWriter writer = new FileWriter(selectedFile);\n                writer.write(&quot;public class Survey {/n/n}&quot;);\n\n                // feature to return to pages\n                if (adminUsername!= null &amp;&amp; adminUsername.equals(&quot;admin&quot;)) {\n                    s.changeScene(&quot;adminpage.fxml&quot;);\n                    writer.close();\n                }\n\n                else if (userUsername != null &amp;&amp; userUsername.equals(&quot;user&quot;)) {\n                    s.changeScene(&quot;userpage.fxml&quot;);\n                    writer.close();\n                }\n            }\n\n            catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    public static void main(String[] args) { launch(); }\n\n\n}\n</code></pre>\n<p>And for good measure, I have my UserPage.java file (basically a user interface for anyone who is logged in as a user, not admin)</p>\n<p>UserPage.java:</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\nimport static javafx.application.Application.launch;\n\npublic class UserPage {\n    @FXML\n    private Button logout;\n    @FXML\n    private Button addsurvey;\n    @FXML\n    private Button deletesurvey;\n    @FXML\n    private Button editsurvey;\n\n    private static Stage stg;\n    FileChooser fileChooser= new FileChooser();\n    public void setLogout(ActionEvent event) throws IOException {\n        checkLogout();\n    }\n\n    private void checkLogout() throws IOException {\n        Main m = new Main();\n        m.changeScene(&quot;logintest.fxml&quot;);\n    }\n\n    // connected to a button in the userpage.fxml file\n    public void setAdd(ActionEvent event) throws IOException {\n        addSurvey();\n    }\n\n    // the function to create a new survey file\n    private void addSurvey() {\n        // set directory of where to save the file\n        File defaultDirectory = new File(&quot;C:\\\\Users\\\\adruc\\\\IdeaProjects\\\\assignmentsurvey\\\\src\\\\main\\\\java\\\\com\\\\example\\\\Surveys&quot;);\n        fileChooser.setInitialDirectory(defaultDirectory);\n\n        // set the upper title of the dialog\n        fileChooser.setTitle(&quot;Add File&quot;);\n\n        // show open file dialog name the newly created file\n        fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;CSV Files&quot;, &quot;*.csv&quot;));\n        java.io.File selectedFile = fileChooser.showSaveDialog(null);\n\n        if (selectedFile != null) {\n            // name the file\n            try {\n                String fileName = selectedFile.getName();\n                if (!fileName.endsWith(&quot;.csv&quot;)) {\n                    fileName += &quot;.csv&quot;;\n                }\n                FileWriter writer = new FileWriter(selectedFile.getParent() + &quot;/&quot; + fileName);\n                writer.write(&quot;public class Survey {\\n\\n}&quot;);\n                writer.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public void setDelete(ActionEvent event) throws IOException {\n        deleteSurvey();\n    }\n\n    private void deleteSurvey() throws IOException {\n        fileChooser.setTitle(&quot;Delete File&quot;);\n\n        // show open file dialog\n        java.io.File selectedFile = fileChooser.showOpenDialog(stg);\n\n        if (selectedFile != null) {\n            boolean result = selectedFile.delete();\n\n            if (result) {\n                Alert alert1 = new Alert(Alert.AlertType.CONFIRMATION);\n                alert1.setTitle(&quot;File deleted&quot;);\n                alert1.setHeaderText(&quot;Success!&quot;);\n                alert1.setContentText(&quot;File has been successfully deleted.&quot;);\n\n            }\n            else {\n                Alert alert2 = new Alert(Alert.AlertType.ERROR);\n                alert2.setTitle(&quot;Error&quot;);\n                alert2.setHeaderText(&quot;Error&quot;);\n                alert2.setContentText(&quot;There was an issue trying to delete the file.&quot;);\n            }\n        }\n    }\n\n    public void setEdit(ActionEvent event) throws IOException {\n        editSurvey();\n    }\n\n    private void editSurvey() throws IOException {\n        // set initial directory\n        File defaultDirectory = new File(&quot;C:\\\\Users\\\\adruc\\\\IdeaProjects\\\\assignmentsurvey\\\\src\\\\main\\\\java\\\\com\\\\example\\\\Surveys&quot;);\n        fileChooser.setInitialDirectory(defaultDirectory);\n        fileChooser.setTitle(&quot;Edit File&quot;);\n\n        // show open dialog\n        fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;CSV Files&quot;, &quot;*.csv&quot;));\n        java.io.File selectedFile = fileChooser.showOpenDialog(null);\n\n        // select the file\n        if (selectedFile != null) {\n            try {\n                Main edit = new Main();\n                edit.changeQuestion(&quot;surveycreator.fxml&quot;);\n            }\n            catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>I do have some other files, such as Main.java:</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class Main extends Application {\n\n    private static Stage stg;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        stg = primaryStage;\n        primaryStage.setResizable(false);\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;logintest.fxml&quot;)));\n        primaryStage.setScene(new Scene(root, 600, 400));\n        primaryStage.show();\n    }\n\n    public void changeScene(String fxml) throws IOException {\n        Parent pane = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(fxml)));\n        stg.getScene().setRoot(pane);\n    }\n\n    public void changeQuestion(String fxml) throws IOException {\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(fxml)));\n        stg.setScene(new Scene(root, 900, 650));\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>CSVHandler.java:</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.*;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\nimport java.util.*;\n\n\n\npublic class CSVHandler &lt;T&gt;{\n    private String delimiter = &quot;,&quot;;\n    private String newline = &quot;\\n&quot;;\n    private String header;\n\n    public CSVHandler(String header, String delimiter, String newline) {\n        this.header = header;\n        this.delimiter = delimiter;\n        this.newline = newline;\n    }\n\n    public void writeCSV(List&lt;T&gt; data, String fileName, boolean append) {\n        FileWriter fileWriter = null;\n        try {\n            File file = new File(fileName);\n            fileWriter = new FileWriter(file, append);\n            if (!append) {\n                fileWriter.append(header);\n                fileWriter.append(newline);\n            }\n            for (T element : data) {\n                // int rows = data.size();\n                Field[] fields = element.getClass().getDeclaredFields();\n                int discard = 0;\n                for (Field f : fields) {\n                    // get rid of public var, which are shared variables\n                    if (Modifier.isPublic(f.getModifiers())) {\n                        discard += 1;\n                    }\n                }\n                int columns = fields.length - discard;\n                int count = 0;\n                for (Field f : fields) {\n                    // only list private variables internal to a class\n                    if (Modifier.isPrivate(f.getModifiers())) {\n                        count += 1;\n                        f.setAccessible(true);\n                        fileWriter.append(f.get(element).toString());\n                        if (count % columns != 0) {\n                            fileWriter.append(delimiter);\n                        }\n                    }\n                }\n                fileWriter.append(newline);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                fileWriter.flush();\n                fileWriter.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public List&lt;T&gt; readCSV(String fileName, CSVParser&lt;T&gt; parser) {\n        BufferedReader bReader = null;\n        File file = new File(fileName);\n        List&lt;T&gt; data = new ArrayList&lt;&gt;();\n        if (file.exists()) {\n            try {\n                String line = &quot;&quot;;\n                bReader = new BufferedReader(new FileReader(file));\n                bReader.readLine();\n\n                while ((line = bReader.readLine()) != null) {\n                    T element = parser.parseLine(line.split(delimiter));\n                    if (element != null)\n                        data.add(element);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    if (bReader != null)\n                        bReader.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return data;\n    }\n\n    public List&lt;UserDetails&gt; readJSON(String fileName, Class&lt;UserDetails[]&gt; clazz) {\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;UserDetails&gt; data = new ArrayList&lt;&gt;();\n        try {\n            File file = new File(fileName);\n            if (file.exists()) {\n                data = Arrays.asList(mapper.readValue(file, clazz));\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return data;\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9825,"page":33,"page_size":100}
