{"items":[{"tags":["javascript","java","jquery","datatables"],"answers":[{"tags":[],"owner":{"account_id":23326164,"reputation":328,"user_id":17403311,"display_name":"Hetal N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700904268,"creation_date":1700904268,"answer_id":77547303,"question_id":58778094,"body_markdown":"I have checked your code and found that the script to convert the table rows to card view is missing...\r\n\r\nYou can add the code like as follows,\r\n\r\n    &#39;drawCallback&#39;: function (settings) {\r\n            var api = this.api();\r\n            var $table = $(api.table().node());\r\n            \r\n            if ($table.hasClass(&#39;cards&#39;)) {\r\n\r\n               // Create an array of labels containing all table headers\r\n               var labels = [];\r\n               $(&#39;thead th&#39;, $table).each(function () {\r\n                  labels.push($(this).text());\r\n               });\r\n\r\n               // Add data-label attribute to each cell\r\n               $(&#39;tbody tr&#39;, $table).each(function () {\r\n                  $(this).find(&#39;td&#39;).each(function (column) {\r\n                     $(this).attr(&#39;data-label&#39;, labels[column]);\r\n                  });\r\n               });\r\n\r\n               var max = 0;\r\n               $(&#39;tbody tr&#39;, $table).each(function () {\r\n                  max = Math.max($(this).height(), max);\r\n               }).height(max);\r\n\r\n            } else {\r\n               // Remove data-label attribute from each cell\r\n               $(&#39;tbody td&#39;, $table).each(function () {\r\n                  $(this).removeAttr(&#39;data-label&#39;);\r\n               });\r\n\r\n               $(&#39;tbody tr&#39;, $table).each(function () {\r\n                  $(this).height(&#39;auto&#39;);\r\n               });\r\n            }\r\n         }\r\n\r\nTo check this further in details check this [here][1]\r\n\r\nHope this helps...\r\n\r\n\r\n  [1]: https://jsfiddle.net/gyrocode/mo6eLak4/","title":"How do I display the DataTables as a Card View?","body":"<p>I have checked your code and found that the script to convert the table rows to card view is missing...</p>\n<p>You can add the code like as follows,</p>\n<pre><code>'drawCallback': function (settings) {\n        var api = this.api();\n        var $table = $(api.table().node());\n        \n        if ($table.hasClass('cards')) {\n\n           // Create an array of labels containing all table headers\n           var labels = [];\n           $('thead th', $table).each(function () {\n              labels.push($(this).text());\n           });\n\n           // Add data-label attribute to each cell\n           $('tbody tr', $table).each(function () {\n              $(this).find('td').each(function (column) {\n                 $(this).attr('data-label', labels[column]);\n              });\n           });\n\n           var max = 0;\n           $('tbody tr', $table).each(function () {\n              max = Math.max($(this).height(), max);\n           }).height(max);\n\n        } else {\n           // Remove data-label attribute from each cell\n           $('tbody td', $table).each(function () {\n              $(this).removeAttr('data-label');\n           });\n\n           $('tbody tr', $table).each(function () {\n              $(this).height('auto');\n           });\n        }\n     }\n</code></pre>\n<p>To check this further in details check this <a href=\"https://jsfiddle.net/gyrocode/mo6eLak4/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Hope this helps...</p>\n"}],"owner":{"account_id":4630516,"reputation":127,"user_id":3753175,"display_name":"Nic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4095,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700904268,"creation_date":1573292723,"question_id":58778094,"body_markdown":"I would want to display my DataTables into a Card View format but have no idea what to do.\n\nI have tried referring to these two websites on how to convert a DataTable into a card view but still couldn&#39;t get it to work.\n\n- https://ghsfha.org/datatables_cards_unique.html\n- http://web.archive.org/web/20170605170544/http://azguys.com/datatables/index.html\n\nCode:\n\n    &lt;head&gt;\n        &lt;script src=&quot;https://code.jquery.com/jquery-3.3.1.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.datatables.net/1.10.20/js/dataTables.jqueryui.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/dataTables.buttons.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/buttons.jqueryui.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/buttons.html5.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/buttons.print.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/buttons.colVis.min.js&quot;&gt;&lt;/script&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css&quot;&gt;&lt;/link&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/1.10.20/css/dataTables.jqueryui.min.css&quot;&gt;&lt;/link&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/buttons/1.6.0/css/buttons.jqueryui.min.css&quot;&gt;&lt;/link&gt;\n&lt;/head&gt;\n\n    &lt;style&gt;\n    .cards tbody img {\n        height: 100px;\n    }\n    .cards tbody tr {\n        float: left;\n        margin: 10px;\n        border: 1px solid #aaa;\n        box-shadow: 3px 3px 6px rgba(0,0,0,0.25);\n        background-color: white;\n    }\n    .cards tbody td {\n        display: block;\n        width: 330px;\n        overflow: hidden;\n        text-align: left;\n    }\n    &lt;/style&gt;\n\n    &lt;form id=&quot;myform&quot;&gt;\n\n    &lt;button id =&quot;btToggleDisplay&quot; class=&quot;btn btn-info&quot;&gt;CARD&lt;/button&gt;\n    &lt;table id=&quot;itineraryTable&quot; class=&quot;display&quot; style=&quot;width:100%&quot;&gt;&lt;/table&gt;\n    &lt;/form&gt;\n\n    &lt;script&gt;\n    \n    var itineraryTable = $(&#39;#itineraryTable&#39;).DataTable({\n        &#39;ajax&#39;: {\n            &quot;type&quot; : &quot;GET&quot;,\n        &quot;url&quot; : &quot;http://localhost:8080/Test-war/webresources/itinerary/getallitinerary&quot;,\n        &quot;dataSrc&quot;: &quot;&quot;\n    },\n    &#39;columns&#39;: [\n        {title : &quot;Caption&quot;, &quot;data&quot; : &quot;caption&quot;},\n        {title : &quot;Title&quot;, &quot;data&quot; : &quot;title&quot;},\n        {title : &quot;Duration&quot;, &quot;data&quot; : &quot;duration&quot;},\n        {title : &quot;Start Date&quot;, &quot;data&quot; : &quot;startDate&quot;, &quot;render&quot; : function(data) {\n            var date = new Date(data);\n            var month = date.getMonth() + 1;\n            return (month.toString().length &gt; 1 ? month : &quot;0&quot; \n            + month) + &quot;/&quot; + date.getDate() + &quot;/&quot; + date.getFullYear();\n        }},\n        {title : &quot;End Date&quot;, &quot;data&quot; : &quot;endDate&quot;, &quot;render&quot; : function(data) {\n            var date = new Date(data);\n            var month = date.getMonth() + 1;\n            return (month.toString().length &gt; 1 ? month : &quot;0&quot; \n            + month) + &quot;/&quot; + date.getDate() + &quot;/&quot; + date.getFullYear();\n        }},\n        {title : &quot;Created Date&quot;, &quot;data&quot; : &quot;createdDate&quot; , &quot;render&quot; : function(data) {\n            var date = new Date(data);\n            var month = date.getMonth() + 1;\n            return (month.toString().length &gt; 1 ? month : &quot;0&quot; \n            + month) + &quot;/&quot; + date.getDate() + &quot;/&quot; + date.getFullYear();\n        }},\n    ],\n    });\n    &lt;/script&gt;\n\nI have tried to use the but couldn&#39;t get it to work. I need some advice on how am I able to use the `.toggleClass(&#39;cards&#39;)` in my codes above. Thank you.\n\n     $(&#39;#btToggleDisplay&#39;).on(&#39;click&#39;, function () {\n                $(&quot;#itineraryTable&quot;).toggleClass(&#39;cards&#39;)\n                $(&quot;#itineraryTable thead&quot;).toggle()\n            })\n\nHere is a picture of the current DataTable:\n![screenshot][1]\n\n  [1]: https://i.stack.imgur.com/1dVMa.png","title":"How do I display the DataTables as a Card View?","body":"<p>I would want to display my DataTables into a Card View format but have no idea what to do.</p>\n<p>I have tried referring to these two websites on how to convert a DataTable into a card view but still couldn't get it to work.</p>\n<ul>\n<li><a href=\"https://ghsfha.org/datatables_cards_unique.html\" rel=\"nofollow noreferrer\">https://ghsfha.org/datatables_cards_unique.html</a></li>\n<li><a href=\"http://web.archive.org/web/20170605170544/http://azguys.com/datatables/index.html\" rel=\"nofollow noreferrer\">http://web.archive.org/web/20170605170544/http://azguys.com/datatables/index.html</a></li>\n</ul>\n<p>Code:</p>\n<pre><code>&lt;head&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.3.1.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/1.10.20/js/dataTables.jqueryui.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/dataTables.buttons.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/buttons.jqueryui.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/buttons.html5.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/buttons.print.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/buttons/1.6.0/js/buttons.colVis.min.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css&quot;&gt;&lt;/link&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/1.10.20/css/dataTables.jqueryui.min.css&quot;&gt;&lt;/link&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/buttons/1.6.0/css/buttons.jqueryui.min.css&quot;&gt;&lt;/link&gt;\n</code></pre>\n\n<pre><code>&lt;style&gt;\n.cards tbody img {\n    height: 100px;\n}\n.cards tbody tr {\n    float: left;\n    margin: 10px;\n    border: 1px solid #aaa;\n    box-shadow: 3px 3px 6px rgba(0,0,0,0.25);\n    background-color: white;\n}\n.cards tbody td {\n    display: block;\n    width: 330px;\n    overflow: hidden;\n    text-align: left;\n}\n&lt;/style&gt;\n\n&lt;form id=&quot;myform&quot;&gt;\n\n&lt;button id =&quot;btToggleDisplay&quot; class=&quot;btn btn-info&quot;&gt;CARD&lt;/button&gt;\n&lt;table id=&quot;itineraryTable&quot; class=&quot;display&quot; style=&quot;width:100%&quot;&gt;&lt;/table&gt;\n&lt;/form&gt;\n\n&lt;script&gt;\n\nvar itineraryTable = $('#itineraryTable').DataTable({\n    'ajax': {\n        &quot;type&quot; : &quot;GET&quot;,\n    &quot;url&quot; : &quot;http://localhost:8080/Test-war/webresources/itinerary/getallitinerary&quot;,\n    &quot;dataSrc&quot;: &quot;&quot;\n},\n'columns': [\n    {title : &quot;Caption&quot;, &quot;data&quot; : &quot;caption&quot;},\n    {title : &quot;Title&quot;, &quot;data&quot; : &quot;title&quot;},\n    {title : &quot;Duration&quot;, &quot;data&quot; : &quot;duration&quot;},\n    {title : &quot;Start Date&quot;, &quot;data&quot; : &quot;startDate&quot;, &quot;render&quot; : function(data) {\n        var date = new Date(data);\n        var month = date.getMonth() + 1;\n        return (month.toString().length &gt; 1 ? month : &quot;0&quot; \n        + month) + &quot;/&quot; + date.getDate() + &quot;/&quot; + date.getFullYear();\n    }},\n    {title : &quot;End Date&quot;, &quot;data&quot; : &quot;endDate&quot;, &quot;render&quot; : function(data) {\n        var date = new Date(data);\n        var month = date.getMonth() + 1;\n        return (month.toString().length &gt; 1 ? month : &quot;0&quot; \n        + month) + &quot;/&quot; + date.getDate() + &quot;/&quot; + date.getFullYear();\n    }},\n    {title : &quot;Created Date&quot;, &quot;data&quot; : &quot;createdDate&quot; , &quot;render&quot; : function(data) {\n        var date = new Date(data);\n        var month = date.getMonth() + 1;\n        return (month.toString().length &gt; 1 ? month : &quot;0&quot; \n        + month) + &quot;/&quot; + date.getDate() + &quot;/&quot; + date.getFullYear();\n    }},\n],\n});\n&lt;/script&gt;\n</code></pre>\n<p>I have tried to use the but couldn't get it to work. I need some advice on how am I able to use the <code>.toggleClass('cards')</code> in my codes above. Thank you.</p>\n<pre><code> $('#btToggleDisplay').on('click', function () {\n            $(&quot;#itineraryTable&quot;).toggleClass('cards')\n            $(&quot;#itineraryTable thead&quot;).toggle()\n        })\n</code></pre>\n<p>Here is a picture of the current DataTable:\n<img src=\"https://i.stack.imgur.com/1dVMa.png\" alt=\"screenshot\" /></p>\n"},{"tags":["java","testng","testng.xml","testng-annotation-test"],"comments":[{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1701402686,"post_id":77547294,"comment_id":136774066,"body_markdown":"Can you please upload your sample project to github and share the link here? That way its easier to execute the code and see what is happening. I don&#39;t think TestNG honours classes from multiple modules. TestNG will be executed by the build tool (Gradle or Maven) for each of the modules. But I would like to see the sample project to confirm this theory","body":"Can you please upload your sample project to github and share the link here? That way its easier to execute the code and see what is happening. I don&#39;t think TestNG honours classes from multiple modules. TestNG will be executed by the build tool (Gradle or Maven) for each of the modules. But I would like to see the sample project to confirm this theory"}],"owner":{"account_id":8445681,"reputation":344,"user_id":6336443,"accept_rate":29,"display_name":"Somesh Dhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700904090,"creation_date":1700904090,"question_id":77547294,"body_markdown":"I have a simple java project which has 3 modules. In my testng.xml I have added packages of some of those modules as I want them to run along with my build. The first 2 modules contain tests and 3rd module contains a class that is supposed to contain the beforesuite method. The xml is as follows.\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Module1Cases&quot; verbose=&quot;2&quot; parallel=&quot;false&quot; thread-count=&quot;1&quot;&gt;\r\n        &lt;test name=&quot;SomeName&quot; parallel=&quot;false&quot;&gt;\r\n            &lt;packages&gt;\r\n                &lt;package name=&quot;com.module1.test&quot;/&gt;\r\n                &lt;package name=&quot;com.module2.test&quot;/&gt;\r\n                &lt;package name=&quot;com.module3.test&quot;/&gt;\r\n            &lt;/packages&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nWhen I run the xml from IDE, it takes effect properly(beforesuite method runs). However, when I run the build from the command line, I notice that testng.xml is not taking effect i.e. the beforesuite method does not run. Another such example, is when I comment the 3rd package in xml, in IDE the test cases from those modules do not run, but it still runs from the command line. Following is my root build.gradle file.\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;org.example&#39;\r\n    version = &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    subprojects {\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;jacoco&#39;\r\n        jacoco {\r\n            toolVersion = &quot;0.8.5&quot;\r\n            reportsDir = file(&quot;$buildDir/reports/jacoco&quot;)\r\n        }\r\n    \r\n        jacocoTestReport {\r\n            def coverageSourceDirs = [&#39;src/main/java/&#39;]\r\n            reports {\r\n                xml.enabled false\r\n                csv.enabled false\r\n                html.enabled true\r\n            }\r\n        }\r\n    \r\n    \r\n        // Define common configurations or dependencies for all subprojects if needed\r\n    \r\n        group = &#39;com.example&#39;  // Set the group for all subprojects\r\n        version = &#39;1.0&#39;        // Set the version for all subprojects\r\n    \r\n        test {\r\n            testLogging.showStandardStreams = true\r\n            testLogging.exceptionFormat = &#39;full&#39;\r\n            testLogging {\r\n                events &quot;standardOut&quot;, &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n            }\r\n            useTestNG(){\r\n                def testNgXmlFile = file(&#39;../testng.xml&#39;).absolutePath\r\n                println &quot;Using TestNG XML file: $testNgXmlFile&quot;\r\n                suites testNgXmlFile\r\n            }\r\n            finalizedBy jacocoTestReport\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.testng:testng:7.4.0&#39; // TestNG dependency\r\n    }\r\n\r\nWhile running the build from command line, I am also printing the resolved path of testng xml and that is correct.\r\n\r\n    Using TestNG XML file: C:\\CODE\\testng1\\testng.xml\r\n    Using TestNG XML file: C:\\CODE\\testng1\\testng.xml\r\n    Using TestNG XML file: C:\\CODE\\testng1\\testng.xml\r\n\r\nPlease let me know what I am missing here.","title":"Testng XML not taking effect when running from command line?","body":"<p>I have a simple java project which has 3 modules. In my testng.xml I have added packages of some of those modules as I want them to run along with my build. The first 2 modules contain tests and 3rd module contains a class that is supposed to contain the beforesuite method. The xml is as follows.</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Module1Cases&quot; verbose=&quot;2&quot; parallel=&quot;false&quot; thread-count=&quot;1&quot;&gt;\n    &lt;test name=&quot;SomeName&quot; parallel=&quot;false&quot;&gt;\n        &lt;packages&gt;\n            &lt;package name=&quot;com.module1.test&quot;/&gt;\n            &lt;package name=&quot;com.module2.test&quot;/&gt;\n            &lt;package name=&quot;com.module3.test&quot;/&gt;\n        &lt;/packages&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>When I run the xml from IDE, it takes effect properly(beforesuite method runs). However, when I run the build from the command line, I notice that testng.xml is not taking effect i.e. the beforesuite method does not run. Another such example, is when I comment the 3rd package in xml, in IDE the test cases from those modules do not run, but it still runs from the command line. Following is my root build.gradle file.</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup = 'org.example'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\nsubprojects {\n    apply plugin: 'java'\n    apply plugin: 'jacoco'\n    jacoco {\n        toolVersion = &quot;0.8.5&quot;\n        reportsDir = file(&quot;$buildDir/reports/jacoco&quot;)\n    }\n\n    jacocoTestReport {\n        def coverageSourceDirs = ['src/main/java/']\n        reports {\n            xml.enabled false\n            csv.enabled false\n            html.enabled true\n        }\n    }\n\n\n    // Define common configurations or dependencies for all subprojects if needed\n\n    group = 'com.example'  // Set the group for all subprojects\n    version = '1.0'        // Set the version for all subprojects\n\n    test {\n        testLogging.showStandardStreams = true\n        testLogging.exceptionFormat = 'full'\n        testLogging {\n            events &quot;standardOut&quot;, &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n        }\n        useTestNG(){\n            def testNgXmlFile = file('../testng.xml').absolutePath\n            println &quot;Using TestNG XML file: $testNgXmlFile&quot;\n            suites testNgXmlFile\n        }\n        finalizedBy jacocoTestReport\n    }\n}\n\ndependencies {\n    testImplementation 'org.testng:testng:7.4.0' // TestNG dependency\n}\n</code></pre>\n<p>While running the build from command line, I am also printing the resolved path of testng xml and that is correct.</p>\n<pre><code>Using TestNG XML file: C:\\CODE\\testng1\\testng.xml\nUsing TestNG XML file: C:\\CODE\\testng1\\testng.xml\nUsing TestNG XML file: C:\\CODE\\testng1\\testng.xml\n</code></pre>\n<p>Please let me know what I am missing here.</p>\n"},{"tags":["java","udp","udpclient"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700911841,"post_id":77547277,"comment_id":136711764,"body_markdown":"I would encourage you to try the concept with known working network tools first. For one thing, your network might not allow multicast","body":"I would encourage you to try the concept with known working network tools first. For one thing, your network might not allow multicast"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700929204,"post_id":77547277,"comment_id":136713304,"body_markdown":"Why are you using a reserved multicast address? Try another.","body":"Why are you using a reserved multicast address? Try another."}],"owner":{"account_id":26503111,"reputation":97,"user_id":20139720,"display_name":"BouhaaCode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700903837,"creation_date":1700903837,"question_id":77547277,"body_markdown":"I was trying to make a connection between two computers on the same network using UDP protcole.\r\n\r\nThe multicast is working with 2 terminals in the same computer but I can&#39;t access it from another computer in the same network .\r\n\r\nI sent the code to my friend which was sitting next to me , and he didn&#39;t receive the message from the multicast server. \r\n\r\nMy instructor told me that there is some trick to do for that kind of addresses (Multicast reserved ones) to be able to use it via another pc .\r\n\r\nThis is some of the code I&#39;m using but I&#39;m sure it&#39;s doing the job .\r\nIs there something to do in my machine or some lines of code to add ? \r\n\r\n    private static final String MULTICAST_ADDRESS = &quot;239.255.255.254&quot;;\r\n    private static final int MULTICAST_PORT = 9877;\r\n\r\n     // Multicast setup\r\n    multicastSocket = new MulticastSocket(MULTICAST_PORT);\r\n    InetAddress multicastGroup = InetAddress.getByName(MULTICAST_ADDRESS);\r\n    multicastSocket.joinGroup(multicastGroup);\r\n\r\n\r\n        private void sendMessage(String message) {\r\n        try {\r\n            // Unicast message to the selected user\r\n            int selectedIndex = connectedUsersList.getSelectedIndex();\r\n            if (selectedIndex != -1) {\r\n                String selectedUser = connectedUsersModel.getElementAt(selectedIndex);\r\n                String[] userInfo = selectedUser.split(&quot;:&quot;);\r\n                InetAddress selectedUserAddress = InetAddress.getByName(userInfo[0]);\r\n                int selectedUserPort = Integer.parseInt(userInfo[1]);\r\n\r\n                byte[] buffer = message.getBytes();\r\n                DatagramPacket packet = new DatagramPacket(buffer, buffer.length,\r\n                        selectedUserAddress, selectedUserPort);\r\n                socket.send(packet);\r\n\r\n                // Write the message in the box\r\n                appendMessage(message);\r\n            } else {\r\n                // Multicast message to the group\r\n                byte[] buffer = message.getBytes();\r\n                DatagramPacket packet = new DatagramPacket(buffer, buffer.length,\r\n                        serverAddress, SERVER_PORT);\r\n                socket.send(packet);\r\n\r\n                // Write the message in the box\r\n                appendMessage(message);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n   \r\n\r\n     private void receiveMulticastMessages() {\r\n        try {\r\n            byte[] receiveBuffer = new byte[1024];\r\n            while (true) {\r\n                DatagramPacket receivePacket = new DatagramPacket(receiveBuffer, receiveBuffer.length);\r\n                multicastSocket.receive(receivePacket);\r\n                String receivedMessage = new String(receivePacket.getData(), 0, receivePacket.getLength());\r\n                appendMessage(receivedMessage);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Connect to a Multicast Address in Java","body":"<p>I was trying to make a connection between two computers on the same network using UDP protcole.</p>\n<p>The multicast is working with 2 terminals in the same computer but I can't access it from another computer in the same network .</p>\n<p>I sent the code to my friend which was sitting next to me , and he didn't receive the message from the multicast server.</p>\n<p>My instructor told me that there is some trick to do for that kind of addresses (Multicast reserved ones) to be able to use it via another pc .</p>\n<p>This is some of the code I'm using but I'm sure it's doing the job .\nIs there something to do in my machine or some lines of code to add ?</p>\n<pre><code>private static final String MULTICAST_ADDRESS = &quot;239.255.255.254&quot;;\nprivate static final int MULTICAST_PORT = 9877;\n\n // Multicast setup\nmulticastSocket = new MulticastSocket(MULTICAST_PORT);\nInetAddress multicastGroup = InetAddress.getByName(MULTICAST_ADDRESS);\nmulticastSocket.joinGroup(multicastGroup);\n\n\n    private void sendMessage(String message) {\n    try {\n        // Unicast message to the selected user\n        int selectedIndex = connectedUsersList.getSelectedIndex();\n        if (selectedIndex != -1) {\n            String selectedUser = connectedUsersModel.getElementAt(selectedIndex);\n            String[] userInfo = selectedUser.split(&quot;:&quot;);\n            InetAddress selectedUserAddress = InetAddress.getByName(userInfo[0]);\n            int selectedUserPort = Integer.parseInt(userInfo[1]);\n\n            byte[] buffer = message.getBytes();\n            DatagramPacket packet = new DatagramPacket(buffer, buffer.length,\n                    selectedUserAddress, selectedUserPort);\n            socket.send(packet);\n\n            // Write the message in the box\n            appendMessage(message);\n        } else {\n            // Multicast message to the group\n            byte[] buffer = message.getBytes();\n            DatagramPacket packet = new DatagramPacket(buffer, buffer.length,\n                    serverAddress, SERVER_PORT);\n            socket.send(packet);\n\n            // Write the message in the box\n            appendMessage(message);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n\n\n private void receiveMulticastMessages() {\n    try {\n        byte[] receiveBuffer = new byte[1024];\n        while (true) {\n            DatagramPacket receivePacket = new DatagramPacket(receiveBuffer, receiveBuffer.length);\n            multicastSocket.receive(receivePacket);\n            String receivedMessage = new String(receivePacket.getData(), 0, receivePacket.getLength());\n            appendMessage(receivedMessage);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-service","alarmmanager"],"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700339755,"post_id":77508484,"comment_id":136643386,"body_markdown":"Sorry I didn&#39;t read the whole thing, but only top few lines and I have a question - why you are starting a foreground service ? if you are using alarm try to move the code from service to an alarm receiver, or just use WorkManager for periodic work","body":"Sorry I didn&#39;t read the whole thing, but only top few lines and I have a question - why you are starting a foreground service ? if you are using alarm try to move the code from service to an alarm receiver, or just use WorkManager for periodic work"},{"owner":{"account_id":18065618,"reputation":71,"user_id":13131594,"display_name":"Sidharth"},"score":0,"creation_date":1700393570,"post_id":77508484,"comment_id":136646743,"body_markdown":"the app is all about that foreground service and we need a way to schedule that service for a range of time, even when the app is not in the background.\nis there any other way to schedule a foreground service for like 2 AM to 4 AM (example time) ?","body":"the app is all about that foreground service and we need a way to schedule that service for a range of time, even when the app is not in the background. is there any other way to schedule a foreground service for like 2 AM to 4 AM (example time) ?"},{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1700572249,"post_id":77508484,"comment_id":136668949,"body_markdown":"Have you tried using an exact alarm instead of an inexact alarm? [The documentation specifically calls that out as an exemption from the background start restriction](https://developer.android.com/guide/components/foreground-services?hl=en#background-start-restriction-exemptions).","body":"Have you tried using an exact alarm instead of an inexact alarm? <a href=\"https://developer.android.com/guide/components/foreground-services?hl=en#background-start-restriction-exemptions\" rel=\"nofollow noreferrer\">The documentation specifically calls that out as an exemption from the background start restriction</a>."},{"owner":{"account_id":18065618,"reputation":71,"user_id":13131594,"display_name":"Sidharth"},"score":0,"creation_date":1701063483,"post_id":77508484,"comment_id":136723965,"body_markdown":"@CommonsWare, Tried Schedule_exact_alarm, works well on some devices, initiates foreground service even when the app isn&#39;t in the background. However, not functioning on my physical device vivo1915 (API 31).","body":"@CommonsWare, Tried Schedule_exact_alarm, works well on some devices, initiates foreground service even when the app isn&#39;t in the background. However, not functioning on my physical device vivo1915 (API 31)."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301696,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700570402,"creation_date":1700570402,"answer_id":77522894,"question_id":77508484,"body_markdown":"Your implementation of `AlarmManager` to schedule a foreground service is experiencing issues when the app is not actively running in the background. That is a common challenge in Android development due to various system restrictions, especially on newer Android versions.\r\n\r\nYou have:\r\n\r\n```bash\r\n+---------------------+      +---------------------------+      +---------------------------+\r\n| SettingActivity     |      | TimeBasedScheduler        |      | SocketManagerService      |\r\n| - setupForeground-  |      | - onReceive()             |      | - Foregrnd Service Logic  |\r\n|   ServiceAlarms()   |-----&gt;|   * START_SERVICE Action  |-----&gt;|                           |\r\n|                     |      |   * STOP_SERVICE Action   |      |                           |\r\n+---------------------+      +---------------------------+      +---------------------------+\r\n        |                                  |                            |\r\n        | Sets Alarms                      | Starts/Stops Foreground    |\r\n        | for START/STOP                   | Service based on           |\r\n        |                                  | received action            |\r\n        +----------------------------------+----------------------------+\r\n```\r\n\r\nI read in [Android / Background Work Overview](https://developer.android.com/guide/background)\r\n\r\n&gt; Alarms are a special use case that are not a part of background work. You should execute background work through the two solutions outlined above, coroutines and [`WorkManager`](https://developer.android.com/guide/background/persistent/configuration/custom-configuration).\r\n&gt;\r\n&gt; You should only use `AlarmManager` only for scheduling exact alarms such as alarm clocks or calendar events. When using `AlarmManager` to schedule background work, it wakes the device from Doze mode and its use can therefore have a negative impact on battery life and overall system health. Your app is responsible for such impacts.\r\n\r\nSee also &quot;[`WorkManager` vs `AlarmManager`, what to use depending on the case?](https://stackoverflow.com/q/56074384/6309)&quot;.\r\n\r\n\r\nSince [`WorkManager`](https://developer.android.com/topic/libraries/architecture/workmanager) is designed to be compatible with Doze mode and App Standby limitations, you could use [`OneTimeWorkRequest`](https://developer.android.com/reference/androidx/work/OneTimeWorkRequest) with [`setInitialDelay`](https://developer.android.com/reference/androidx/work/WorkRequest.Builder#setInitialDelay(java.time.Duration)) for scheduling.\r\n\r\n```java\r\npublic class TimeBasedScheduler extends Worker {\r\n\r\n    public TimeBasedScheduler(@NonNull Context context, @NonNull WorkerParameters workerParams) {\r\n        super(context, workerParams);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Result doWork() {\r\n        // Your service logic here\r\n        return Result.success();\r\n    }\r\n}\r\n```\r\n\r\nAnd to schedule this in your `SettingActivity`:\r\n\r\n```java\r\nprivate void scheduleWork() {\r\n    // Define constraints like network type, charging status, etc.\r\n    Constraints constraints = new Constraints.Builder()\r\n            .build();\r\n\r\n    // Schedule your work\r\n    OneTimeWorkRequest workRequest = new OneTimeWorkRequest.Builder(TimeBasedScheduler.class)\r\n            .setInitialDelay(1, TimeUnit.HOURS) // Set the delay as per your requirement\r\n            .setConstraints(constraints)\r\n            .build();\r\n\r\n    WorkManager.getInstance(this).enqueue(workRequest);\r\n}\r\n```\r\n\r\nNote: for API level 21 and above, [`JobScheduler`](https://developer.android.com/reference/android/app/job/JobScheduler) is an effective way to schedule jobs. Jobs can be set to persist across reboots and respect device idle states.","title":"Foreground Service Scheduling Issue: AlarmManager Fails to start Foreground Service When App is Not in the Background","body":"<p>Your implementation of <code>AlarmManager</code> to schedule a foreground service is experiencing issues when the app is not actively running in the background. That is a common challenge in Android development due to various system restrictions, especially on newer Android versions.</p>\n<p>You have:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>+---------------------+      +---------------------------+      +---------------------------+\n| SettingActivity     |      | TimeBasedScheduler        |      | SocketManagerService      |\n| - setupForeground-  |      | - onReceive()             |      | - Foregrnd Service Logic  |\n|   ServiceAlarms()   |-----&gt;|   * START_SERVICE Action  |-----&gt;|                           |\n|                     |      |   * STOP_SERVICE Action   |      |                           |\n+---------------------+      +---------------------------+      +---------------------------+\n        |                                  |                            |\n        | Sets Alarms                      | Starts/Stops Foreground    |\n        | for START/STOP                   | Service based on           |\n        |                                  | received action            |\n        +----------------------------------+----------------------------+\n</code></pre>\n<p>I read in <a href=\"https://developer.android.com/guide/background\" rel=\"nofollow noreferrer\">Android / Background Work Overview</a></p>\n<blockquote>\n<p>Alarms are a special use case that are not a part of background work. You should execute background work through the two solutions outlined above, coroutines and <a href=\"https://developer.android.com/guide/background/persistent/configuration/custom-configuration\" rel=\"nofollow noreferrer\"><code>WorkManager</code></a>.</p>\n<p>You should only use <code>AlarmManager</code> only for scheduling exact alarms such as alarm clocks or calendar events. When using <code>AlarmManager</code> to schedule background work, it wakes the device from Doze mode and its use can therefore have a negative impact on battery life and overall system health. Your app is responsible for such impacts.</p>\n</blockquote>\n<p>See also &quot;<a href=\"https://stackoverflow.com/q/56074384/6309\"><code>WorkManager</code> vs <code>AlarmManager</code>, what to use depending on the case?</a>&quot;.</p>\n<p>Since <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\"><code>WorkManager</code></a> is designed to be compatible with Doze mode and App Standby limitations, you could use <a href=\"https://developer.android.com/reference/androidx/work/OneTimeWorkRequest\" rel=\"nofollow noreferrer\"><code>OneTimeWorkRequest</code></a> with <a href=\"https://developer.android.com/reference/androidx/work/WorkRequest.Builder#setInitialDelay(java.time.Duration)\" rel=\"nofollow noreferrer\"><code>setInitialDelay</code></a> for scheduling.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimeBasedScheduler extends Worker {\n\n    public TimeBasedScheduler(@NonNull Context context, @NonNull WorkerParameters workerParams) {\n        super(context, workerParams);\n    }\n\n    @NonNull\n    @Override\n    public Result doWork() {\n        // Your service logic here\n        return Result.success();\n    }\n}\n</code></pre>\n<p>And to schedule this in your <code>SettingActivity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void scheduleWork() {\n    // Define constraints like network type, charging status, etc.\n    Constraints constraints = new Constraints.Builder()\n            .build();\n\n    // Schedule your work\n    OneTimeWorkRequest workRequest = new OneTimeWorkRequest.Builder(TimeBasedScheduler.class)\n            .setInitialDelay(1, TimeUnit.HOURS) // Set the delay as per your requirement\n            .setConstraints(constraints)\n            .build();\n\n    WorkManager.getInstance(this).enqueue(workRequest);\n}\n</code></pre>\n<p>Note: for API level 21 and above, <a href=\"https://developer.android.com/reference/android/app/job/JobScheduler\" rel=\"nofollow noreferrer\"><code>JobScheduler</code></a> is an effective way to schedule jobs. Jobs can be set to persist across reboots and respect device idle states.</p>\n"},{"tags":[],"owner":{"account_id":17925684,"reputation":141,"user_id":13024398,"display_name":"Ehsan Setayesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700902753,"creation_date":1700902753,"answer_id":77547227,"question_id":77508484,"body_markdown":"    try\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        alarmManager.setExactAndAllowWhileIdle(\r\n            AlarmManager.RTC_WAKEUP,\r\n            startCalendar.timeInMillis,\r\n            startPendingIntent\r\n        )\r\n    \r\n        alarmManager.setExactAndAllowWhileIdle(\r\n            AlarmManager.RTC_WAKEUP,\r\n            endCalendar.timeInMillis,\r\n            endPendingIntent\r\n        )\r\n    } else {\r\n        // For versions below M, use setExact\r\n        alarmManager.setExact(\r\n            AlarmManager.RTC_WAKEUP,\r\n            startCalendar.timeInMillis,\r\n            startPendingIntent\r\n        )\r\n    \r\n        alarmManager.setExact(\r\n            AlarmManager.RTC_WAKEUP,\r\n            endCalendar.timeInMillis,\r\n            endPendingIntent\r\n        )\r\n    }\r\n\r\n\r\nand use alarm manager with workmanager for intervals lower than 15 min for greater than 15 min use just workmanager and set your interval and start foreground service\r\n\r\n","title":"Foreground Service Scheduling Issue: AlarmManager Fails to start Foreground Service When App is Not in the Background","body":"<pre><code>try\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    alarmManager.setExactAndAllowWhileIdle(\n        AlarmManager.RTC_WAKEUP,\n        startCalendar.timeInMillis,\n        startPendingIntent\n    )\n\n    alarmManager.setExactAndAllowWhileIdle(\n        AlarmManager.RTC_WAKEUP,\n        endCalendar.timeInMillis,\n        endPendingIntent\n    )\n} else {\n    // For versions below M, use setExact\n    alarmManager.setExact(\n        AlarmManager.RTC_WAKEUP,\n        startCalendar.timeInMillis,\n        startPendingIntent\n    )\n\n    alarmManager.setExact(\n        AlarmManager.RTC_WAKEUP,\n        endCalendar.timeInMillis,\n        endPendingIntent\n    )\n}\n</code></pre>\n<p>and use alarm manager with workmanager for intervals lower than 15 min for greater than 15 min use just workmanager and set your interval and start foreground service</p>\n"}],"owner":{"account_id":18065618,"reputation":71,"user_id":13131594,"display_name":"Sidharth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77547227,"answer_count":2,"score":3,"last_activity_date":1700902753,"creation_date":1700337085,"question_id":77508484,"body_markdown":"I&#39;m encountering an issue with scheduling a foreground service using AlarmManager in my Android application. Despite setting up the code to trigger a foreground service at specific times using alarms, the alarms are unable to start foreground Service when the app is not in the background\r\n(it works fine when the app is in the foreground or in the background).\r\n\r\nI have a requirement in my app to execute a foreground service at a specific time range of the day. To achieve this, I&#39;m using AlarmManager to schedule the service to start and stop at the desired intervals.\r\n\r\n**and what are the different ways other than alarmManager, to schedule a foreground service**.\r\n\r\nTimeBasedScheduler Class:\r\n\r\n```\r\nclass TimeBasedScheduler : BroadcastReceiver() {\r\n    private val TAG = &quot;TimeBasedScheduler&quot;\r\n\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        val action = intent.action\r\n        Log.d(TAG, &quot;Received action: $action&quot;)\r\n\r\n        if (action != null) {\r\n            when (action) {\r\n                &quot;START_SERVICE&quot; -&gt; {\r\n                    Log.d(TAG, &quot;Initializing socket for START_SERVICE&quot;)\r\n                    initializeSocket(context)\r\n                    // Now execution is started and resumed\r\n                    LocalPrefrenceUtils.insertDataInBoolean(context, AppConstants.BACKGROUND_WORK_ALLOWED_KEY_FOR_LOCAL_PREFERENCE, true)\r\n                    LocalPrefrenceUtils.insertDataInBoolean(context, AppConstants.BACKGROUND_WORK_TEMPORARILY_PAUSED_KEY_FOR_LOCAL_PREFERENCE, false\r\n                    )\r\n                }\r\n                &quot;STOP_SERVICE&quot; -&gt; {\r\n                    Log.d(TAG, &quot;Stopping service for STOP_SERVICE&quot;)\r\n                    LocalPrefrenceUtils.insertDataInBoolean(\r\n                        context,\r\n                        AppConstants.BACKGROUND_WORK_TEMPORARILY_PAUSED_KEY_FOR_LOCAL_PREFERENCE,\r\n                        true\r\n                    )\r\n                    val stopIntent = Intent(context, SocketManagerService::class.java)\r\n                    context.stopService(stopIntent)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun initializeSocket(context: Context?) {\r\n        Log.d(TAG, &quot;Initializing socket&quot;)\r\n            val intent = Intent(context, SocketManagerService::class.java)\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                Log.d(TAG, &quot;Starting foreground service&quot;)\r\n                context?.startForegroundService(intent)\r\n            } else {\r\n                Log.d(TAG, &quot;Starting service&quot;)\r\n                context?.startService(intent)\r\n            }\r\n\r\n    }\r\n}\r\n```\r\n\r\nSettingActivity Class:\r\n\r\n```\r\nprivate fun setupForegroundServiceAlarms() {\r\n        val TAG = &quot;TaskBasedScheduler&quot;\r\n        // Get the start and end times from preferences\r\n        val startTime = LocalPrefrenceUtils.getStartTime(this)\r\n        val endTime = LocalPrefrenceUtils.getEndTime(this)\r\n\r\n        Log.d(TAG, &quot;Start Time: $startTime&quot;)\r\n        Log.d(TAG, &quot;End Time: $endTime&quot;)\r\n\r\n        // Calculate start and end times based on step sizes and special cases for value 48\r\n        val startHour = 7 // Starting hour (7:00 am)\r\n        val stepSizeMinutes = 30 // Step size in minutes\r\n\r\n        val startHourForAlarms = startHour + (stepSizeMinutes * startTime) / 60\r\n        val endHourForAlarms = if (endTime == 48) startHour + (stepSizeMinutes * endTime) / 60 - 1 else startHour + (stepSizeMinutes * endTime) / 60\r\n\r\n        val startMinute = (stepSizeMinutes * startTime) % 60\r\n        val endMinute = if (endTime == 48) ((stepSizeMinutes * endTime) % 60) - 1 else ((stepSizeMinutes * endTime) % 60)\r\n\r\n        // Set the Calendar instances for start and end times\r\n        val startCalendar = Calendar.getInstance().apply {\r\n            timeInMillis = System.currentTimeMillis()\r\n            set(Calendar.HOUR_OF_DAY, startHourForAlarms)\r\n            set(Calendar.MINUTE, startMinute)\r\n            set(Calendar.SECOND, 0)\r\n        }\r\n\r\n        val endCalendar = Calendar.getInstance().apply {\r\n            timeInMillis = System.currentTimeMillis()\r\n            set(Calendar.HOUR_OF_DAY, endHourForAlarms)\r\n            set(Calendar.MINUTE, endMinute)\r\n            set(Calendar.SECOND, 0)\r\n        }\r\n\r\n        Log.d(TAG, &quot;Start Calendar Time: ${startCalendar.time}&quot;)\r\n        Log.d(TAG, &quot;End Calendar Time: ${endCalendar.time}&quot;)\r\n\r\n        // Cancel previously set alarms\r\n        alarmManager.cancel(startPendingIntent)\r\n        alarmManager.cancel(endPendingIntent)\r\n\r\n        Log.d(TAG, &quot;Canceled previous alarms&quot;)\r\n\r\n        // Create intents for starting and stopping the service\r\n        val startIntent = Intent(this, TimeBasedScheduler::class.java).apply {\r\n            action = &quot;START_SERVICE&quot;\r\n        }\r\n        val endIntent = Intent(this, TimeBasedScheduler::class.java).apply {\r\n            action = &quot;STOP_SERVICE&quot;\r\n        }\r\n\r\n        // Create pending intents for start and end actions\r\n        startPendingIntent = PendingIntent.getBroadcast(this, 0, startIntent, PendingIntent.FLAG_IMMUTABLE)\r\n        endPendingIntent = PendingIntent.getBroadcast(this, 1, endIntent, PendingIntent.FLAG_IMMUTABLE)\r\n\r\n        Log.d(TAG, &quot;Created pending intents&quot;)\r\n\r\n        // Set alarms using AlarmManager for daily repetition\r\n        alarmManager.setInexactRepeating(\r\n            AlarmManager.RTC_WAKEUP,\r\n            startCalendar.timeInMillis,\r\n            AlarmManager.INTERVAL_DAY,\r\n            startPendingIntent\r\n        )\r\n\r\n        alarmManager.setInexactRepeating(\r\n            AlarmManager.RTC_WAKEUP,\r\n            endCalendar.timeInMillis,\r\n            AlarmManager.INTERVAL_DAY,\r\n            endPendingIntent\r\n        )\r\n\r\n        Log.d(TAG, &quot;Alarms set for start: ${startCalendar.time}, end: ${endCalendar.time}&quot;)\r\n    }\r\n\r\n```\r\n\r\nand manifest related code:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\r\n\r\n&lt;receiver android:name=&quot;.schedulers.TimeBasedScheduler&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;START_SERVICE&quot; /&gt;\r\n                &lt;action android:name=&quot;STOP_SERVICE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n```\r\n**works perfectly fine when the app is in the foreground or background:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Receiver when the app is in the foreground or background:**\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;ve checked the logs using Logcat, and it doesn&#39;t show any error messages related to alarms or the foreground service not starting.\r\n\r\n\r\nI&#39;m seeking guidance on why the alarms are not triggering the foreground service as expected. I&#39;d appreciate any insights, suggestions, or potential solutions to resolve this issue.\r\n\r\nThank you for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Ekis.png\r\n  [2]: https://i.stack.imgur.com/J0lzC.png","title":"Foreground Service Scheduling Issue: AlarmManager Fails to start Foreground Service When App is Not in the Background","body":"<p>I'm encountering an issue with scheduling a foreground service using AlarmManager in my Android application. Despite setting up the code to trigger a foreground service at specific times using alarms, the alarms are unable to start foreground Service when the app is not in the background\n(it works fine when the app is in the foreground or in the background).</p>\n<p>I have a requirement in my app to execute a foreground service at a specific time range of the day. To achieve this, I'm using AlarmManager to schedule the service to start and stop at the desired intervals.</p>\n<p><strong>and what are the different ways other than alarmManager, to schedule a foreground service</strong>.</p>\n<p>TimeBasedScheduler Class:</p>\n<pre><code>class TimeBasedScheduler : BroadcastReceiver() {\n    private val TAG = &quot;TimeBasedScheduler&quot;\n\n    override fun onReceive(context: Context, intent: Intent) {\n        val action = intent.action\n        Log.d(TAG, &quot;Received action: $action&quot;)\n\n        if (action != null) {\n            when (action) {\n                &quot;START_SERVICE&quot; -&gt; {\n                    Log.d(TAG, &quot;Initializing socket for START_SERVICE&quot;)\n                    initializeSocket(context)\n                    // Now execution is started and resumed\n                    LocalPrefrenceUtils.insertDataInBoolean(context, AppConstants.BACKGROUND_WORK_ALLOWED_KEY_FOR_LOCAL_PREFERENCE, true)\n                    LocalPrefrenceUtils.insertDataInBoolean(context, AppConstants.BACKGROUND_WORK_TEMPORARILY_PAUSED_KEY_FOR_LOCAL_PREFERENCE, false\n                    )\n                }\n                &quot;STOP_SERVICE&quot; -&gt; {\n                    Log.d(TAG, &quot;Stopping service for STOP_SERVICE&quot;)\n                    LocalPrefrenceUtils.insertDataInBoolean(\n                        context,\n                        AppConstants.BACKGROUND_WORK_TEMPORARILY_PAUSED_KEY_FOR_LOCAL_PREFERENCE,\n                        true\n                    )\n                    val stopIntent = Intent(context, SocketManagerService::class.java)\n                    context.stopService(stopIntent)\n                }\n            }\n        }\n    }\n\n    private fun initializeSocket(context: Context?) {\n        Log.d(TAG, &quot;Initializing socket&quot;)\n            val intent = Intent(context, SocketManagerService::class.java)\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                Log.d(TAG, &quot;Starting foreground service&quot;)\n                context?.startForegroundService(intent)\n            } else {\n                Log.d(TAG, &quot;Starting service&quot;)\n                context?.startService(intent)\n            }\n\n    }\n}\n</code></pre>\n<p>SettingActivity Class:</p>\n<pre><code>private fun setupForegroundServiceAlarms() {\n        val TAG = &quot;TaskBasedScheduler&quot;\n        // Get the start and end times from preferences\n        val startTime = LocalPrefrenceUtils.getStartTime(this)\n        val endTime = LocalPrefrenceUtils.getEndTime(this)\n\n        Log.d(TAG, &quot;Start Time: $startTime&quot;)\n        Log.d(TAG, &quot;End Time: $endTime&quot;)\n\n        // Calculate start and end times based on step sizes and special cases for value 48\n        val startHour = 7 // Starting hour (7:00 am)\n        val stepSizeMinutes = 30 // Step size in minutes\n\n        val startHourForAlarms = startHour + (stepSizeMinutes * startTime) / 60\n        val endHourForAlarms = if (endTime == 48) startHour + (stepSizeMinutes * endTime) / 60 - 1 else startHour + (stepSizeMinutes * endTime) / 60\n\n        val startMinute = (stepSizeMinutes * startTime) % 60\n        val endMinute = if (endTime == 48) ((stepSizeMinutes * endTime) % 60) - 1 else ((stepSizeMinutes * endTime) % 60)\n\n        // Set the Calendar instances for start and end times\n        val startCalendar = Calendar.getInstance().apply {\n            timeInMillis = System.currentTimeMillis()\n            set(Calendar.HOUR_OF_DAY, startHourForAlarms)\n            set(Calendar.MINUTE, startMinute)\n            set(Calendar.SECOND, 0)\n        }\n\n        val endCalendar = Calendar.getInstance().apply {\n            timeInMillis = System.currentTimeMillis()\n            set(Calendar.HOUR_OF_DAY, endHourForAlarms)\n            set(Calendar.MINUTE, endMinute)\n            set(Calendar.SECOND, 0)\n        }\n\n        Log.d(TAG, &quot;Start Calendar Time: ${startCalendar.time}&quot;)\n        Log.d(TAG, &quot;End Calendar Time: ${endCalendar.time}&quot;)\n\n        // Cancel previously set alarms\n        alarmManager.cancel(startPendingIntent)\n        alarmManager.cancel(endPendingIntent)\n\n        Log.d(TAG, &quot;Canceled previous alarms&quot;)\n\n        // Create intents for starting and stopping the service\n        val startIntent = Intent(this, TimeBasedScheduler::class.java).apply {\n            action = &quot;START_SERVICE&quot;\n        }\n        val endIntent = Intent(this, TimeBasedScheduler::class.java).apply {\n            action = &quot;STOP_SERVICE&quot;\n        }\n\n        // Create pending intents for start and end actions\n        startPendingIntent = PendingIntent.getBroadcast(this, 0, startIntent, PendingIntent.FLAG_IMMUTABLE)\n        endPendingIntent = PendingIntent.getBroadcast(this, 1, endIntent, PendingIntent.FLAG_IMMUTABLE)\n\n        Log.d(TAG, &quot;Created pending intents&quot;)\n\n        // Set alarms using AlarmManager for daily repetition\n        alarmManager.setInexactRepeating(\n            AlarmManager.RTC_WAKEUP,\n            startCalendar.timeInMillis,\n            AlarmManager.INTERVAL_DAY,\n            startPendingIntent\n        )\n\n        alarmManager.setInexactRepeating(\n            AlarmManager.RTC_WAKEUP,\n            endCalendar.timeInMillis,\n            AlarmManager.INTERVAL_DAY,\n            endPendingIntent\n        )\n\n        Log.d(TAG, &quot;Alarms set for start: ${startCalendar.time}, end: ${endCalendar.time}&quot;)\n    }\n\n</code></pre>\n<p>and manifest related code:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\n\n&lt;receiver android:name=&quot;.schedulers.TimeBasedScheduler&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;START_SERVICE&quot; /&gt;\n                &lt;action android:name=&quot;STOP_SERVICE&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n</code></pre>\n<p><strong>works perfectly fine when the app is in the foreground or background:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9Ekis.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Ekis.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Receiver when the app is in the foreground or background:</strong>\n<a href=\"https://i.stack.imgur.com/J0lzC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J0lzC.png\" alt=\"enter image description here\" /></a></p>\n<p>I've checked the logs using Logcat, and it doesn't show any error messages related to alarms or the foreground service not starting.</p>\n<p>I'm seeking guidance on why the alarms are not triggering the foreground service as expected. I'd appreciate any insights, suggestions, or potential solutions to resolve this issue.</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"owner":{"account_id":15022068,"reputation":49,"user_id":10843233,"display_name":"Reza Gholamzad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700902073,"creation_date":1700902073,"question_id":77547202,"body_markdown":"I use spring boot oauth2-client. after i get response from server with AuthorizationGrantType.PASSWORD, expireAt field is null in\r\nOAuth2AuthorizedClient.OAuth2RefreshToken, despite the fact that I have debugged the code and refresh_expires_in is in the additionalParameters of the OAuth2AccessTokenResponse but I can&#39;t see OAuth2AccessTokenResponse.\r\nhow do I get expireAt of refresh token?","title":"expireAt of OAuth2RefreshToken is null when use spring boot oauth2-client","body":"<p>I use spring boot oauth2-client. after i get response from server with AuthorizationGrantType.PASSWORD, expireAt field is null in\nOAuth2AuthorizedClient.OAuth2RefreshToken, despite the fact that I have debugged the code and refresh_expires_in is in the additionalParameters of the OAuth2AccessTokenResponse but I can't see OAuth2AccessTokenResponse.\nhow do I get expireAt of refresh token?</p>\n"},{"tags":["java","spring-boot","docker","graalvm"],"comments":[{"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"score":1,"creation_date":1700902795,"post_id":77547201,"comment_id":136711159,"body_markdown":"&quot;The error Exec format error means that the binary being executed is made for a different architecture than the environment currently booted.&quot;. You generally can&#39;t just copy an executable from the host into an image. Architectures have to match and any libraries it depends on have to be present.","body":"&quot;The error Exec format error means that the binary being executed is made for a different architecture than the environment currently booted.&quot;. You generally can&#39;t just copy an executable from the host into an image. Architectures have to match and any libraries it depends on have to be present."},{"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"score":0,"creation_date":1700903919,"post_id":77547201,"comment_id":136711234,"body_markdown":"Well that makes sense. Let me find out how can i build the image in the same place.","body":"Well that makes sense. Let me find out how can i build the image in the same place."}],"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700902024,"creation_date":1700902024,"question_id":77547201,"body_markdown":"I am unable to run GraalVM image on Docker,\r\n\r\nI am getting error:\r\n```\r\nexec ./legacy-server: exec format error\r\n```\r\n\r\n\r\nHere is the Dockerfile:\r\n```\r\nFROM alpine:latest\r\nCOPY target/legacy-server legacy-server\r\nENTRYPOINT [&quot;./legacy-server&quot;]\r\n```\r\n\r\nwhen I run locally via `./target/legacy-server` it works perfectly fine.\r\n\r\nHere is the PR with the changes: https://github.com/quiz-roulette/legacy-service/pull/1","title":"Unable to Run GraalVM image on Docker","body":"<p>I am unable to run GraalVM image on Docker,</p>\n<p>I am getting error:</p>\n<pre><code>exec ./legacy-server: exec format error\n</code></pre>\n<p>Here is the Dockerfile:</p>\n<pre><code>FROM alpine:latest\nCOPY target/legacy-server legacy-server\nENTRYPOINT [&quot;./legacy-server&quot;]\n</code></pre>\n<p>when I run locally via <code>./target/legacy-server</code> it works perfectly fine.</p>\n<p>Here is the PR with the changes: <a href=\"https://github.com/quiz-roulette/legacy-service/pull/1\" rel=\"nofollow noreferrer\">https://github.com/quiz-roulette/legacy-service/pull/1</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700900557,"post_id":77547124,"comment_id":136710986,"body_markdown":"`Settings -&gt; Apps -&gt; Default apps`. Then type `.java` in the text field under &quot;Set a default for a file type or link type&quot;. Finally, click on &quot;Choose a default&quot; (will be replaced by an app name if there is already a default app) and choose the app you would like to associate with `*.java` files.","body":"<code>Settings -&gt; Apps -&gt; Default apps</code>. Then type <code>.java</code> in the text field under &quot;Set a default for a file type or link type&quot;. Finally, click on &quot;Choose a default&quot; (will be replaced by an app name if there is already a default app) and choose the app you would like to associate with <code>*.java</code> files."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700900621,"post_id":77547124,"comment_id":136710990,"body_markdown":"This is a general OS question, not specific to Java and thus not about programming and therefor off-topic on this site. In any case, in Explorer, right-click on a .java-file, &quot;Open With&quot;, select &quot;Choose another app&quot; select the desired app or browse to it with the &quot;Choose an app on your PC&quot; and after doing so, click on button &quot;Always&quot;.","body":"This is a general OS question, not specific to Java and thus not about programming and therefor off-topic on this site. In any case, in Explorer, right-click on a .java-file, &quot;Open With&quot;, select &quot;Choose another app&quot; select the desired app or browse to it with the &quot;Choose an app on your PC&quot; and after doing so, click on button &quot;Always&quot;."}],"owner":{"account_id":29927066,"reputation":1,"user_id":22934868,"display_name":"ying"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700900729,"answer_count":0,"score":0,"last_activity_date":1700900601,"creation_date":1700900229,"question_id":77547124,"body_markdown":"It seems that we can&#39;t set default way of opening *.java file in the latest Windows 11 \r\n\r\nIn options of &quot;opening files&quot;, I can&#39;t see &quot;default&quot; option. I have also tried to change regedit table according to this note, but I can&#39;t find the directory https://blog.csdn.net/weixin_34379040/article/details/114218801\r\n\r\n","title":"how to set default way of opening *.java file in win11","body":"<p>It seems that we can't set default way of opening *.java file in the latest Windows 11</p>\n<p>In options of &quot;opening files&quot;, I can't see &quot;default&quot; option. I have also tried to change regedit table according to this note, but I can't find the directory <a href=\"https://blog.csdn.net/weixin_34379040/article/details/114218801\" rel=\"nofollow noreferrer\">https://blog.csdn.net/weixin_34379040/article/details/114218801</a></p>\n"},{"tags":["python","java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":25722040,"reputation":197,"user_id":19478929,"display_name":"justin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665201314,"creation_date":1665201314,"answer_id":73994252,"question_id":73993542,"body_markdown":"I am using another automation lib and development tool, but it only support python now, not like selenium webdriver way, it can operate the user&#39;s browser, for your question, it&#39;s easy to do it in the following way:\r\n\r\n    from clicknium import clicknium as cc\r\n    \r\n    if not cc.chrome.extension.is_installed():\r\n        cc.chrome.extension.install_or_update()\r\n    \r\n    tab = cc.chrome.open(&quot;https://www.bing.com&quot;, userdata_folder_mode=&#39;custom&#39;, userdata_folder_path=&quot;C:\\\\Users\\\\test\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data\\\\Profile 19&quot;)","title":"how can i launch chrome using selenium webdriver in Java not as a guest but as my chrome profile?","body":"<p>I am using another automation lib and development tool, but it only support python now, not like selenium webdriver way, it can operate the user's browser, for your question, it's easy to do it in the following way:</p>\n<pre><code>from clicknium import clicknium as cc\n\nif not cc.chrome.extension.is_installed():\n    cc.chrome.extension.install_or_update()\n\ntab = cc.chrome.open(&quot;https://www.bing.com&quot;, userdata_folder_mode='custom', userdata_folder_path=&quot;C:\\\\Users\\\\test\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data\\\\Profile 19&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29962583,"reputation":51,"user_id":22961895,"display_name":"Michael James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700900186,"creation_date":1700900186,"answer_id":77547123,"question_id":73993542,"body_markdown":"**I tried this approach, and it is working for me. Before running the program, you should close the current Chrome browser**\r\n\r\n    package selenium1Basics;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    public class BaseTests{\r\n    public static void main(String[] args) throws InterruptedException{\r\n        \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;drivers\\\\chromedriver.exe&quot;);\r\n        \tChromeOptions options = new ChromeOptions();\r\n        \toptions.addArguments(&quot;profile-directory=Profile 4&quot;);\r\n        \toptions.addArguments(&quot;user-data-dir=C:\\\\Users\\\\USER\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data&quot;);\r\n        \tWebDriver driver= new ChromeDriver(options);\r\n        \tdriver.manage().window().maximize();\r\n        \tdriver.get(&quot;https://www.testassist.dev/&quot;);\r\n        \tdriver.findElement(By.xpath(&quot;//a[@class=&#39;button-7 w-button&#39;]&quot;)).click();\r\n        \tThread.sleep(5000);\r\n        }\r\n    }\r\n\r\n\r\n","title":"how can i launch chrome using selenium webdriver in Java not as a guest but as my chrome profile?","body":"<p><strong>I tried this approach, and it is working for me. Before running the program, you should close the current Chrome browser</strong></p>\n<pre><code>package selenium1Basics;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class BaseTests{\npublic static void main(String[] args) throws InterruptedException{\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;drivers\\\\chromedriver.exe&quot;);\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;profile-directory=Profile 4&quot;);\n        options.addArguments(&quot;user-data-dir=C:\\\\Users\\\\USER\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data&quot;);\n        WebDriver driver= new ChromeDriver(options);\n        driver.manage().window().maximize();\n        driver.get(&quot;https://www.testassist.dev/&quot;);\n        driver.findElement(By.xpath(&quot;//a[@class='button-7 w-button']&quot;)).click();\n        Thread.sleep(5000);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26560278,"reputation":13,"user_id":20188235,"display_name":"smbm smbm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700900186,"creation_date":1665188128,"question_id":73993542,"body_markdown":"I&#39;m sorry, in Java, I want to load a page with Chrome browser through Selenium web driver, but when I do this, Chrome enters with profile as guest. But I want to enter the Chrome browser through the profiles I had installed before and I have a Google account. I looked for all the answers on the stackoveflow site and did them all, but none of them worked. For example, one of these is  \r\n\r\n   \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    ChromeOptions options=new ChromeOptions();\r\n\r\n    options.addArguments(&quot;user-data dir=C:\\\\Users\\\\Remi\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\Profile 1&quot;);\r\n\r\n    options.addArguments(&quot;profile-directory=Profile 1&quot;);\r\n\r\n    options.addArguments(&quot;--disable-extensions&quot;);\r\n\r\n    WebDriver driver =new ChromeDriver(options);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  \r\n I&#39;m really tired, I gave up and ran the program. Please, a hero, answer me and solve my problem. i worked on this one week but nothing happend and chrome still pop up as a guest i am really tried","title":"how can i launch chrome using selenium webdriver in Java not as a guest but as my chrome profile?","body":"<p>I'm sorry, in Java, I want to load a page with Chrome browser through Selenium web driver, but when I do this, Chrome enters with profile as guest. But I want to enter the Chrome browser through the profiles I had installed before and I have a Google account. I looked for all the answers on the stackoveflow site and did them all, but none of them worked. For example, one of these is</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>ChromeOptions options=new ChromeOptions();\n\noptions.addArguments(\"user-data dir=C:\\\\Users\\\\Remi\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\Profile 1\");\n\noptions.addArguments(\"profile-directory=Profile 1\");\n\noptions.addArguments(\"--disable-extensions\");\n\nWebDriver driver =new ChromeDriver(options);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm really tired, I gave up and ran the program. Please, a hero, answer me and solve my problem. i worked on this one week but nothing happend and chrome still pop up as a guest i am really tried</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":29966013,"reputation":36,"user_id":22964569,"display_name":"GladToHelp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700654136,"creation_date":1700654101,"answer_id":77529739,"question_id":77527020,"body_markdown":"Both `doOnComplete()` and the third argument of `subscribe()` are used to perform actions when a Flux or Mono completes, but there are some differences in their use cases.\r\n\r\n1. `doOnComplete()`:\r\ndoOnComplete() is an operator that allows you to perform a side effect (an action) when the sequence is completed successfully (i.e., without errors).\r\nIt doesn&#39;t affect the termination signal itself; it&#39;s purely for side effects.\r\nIt is often used for logging, resource cleanup, or any other action you want to take when the Flux or Mono completes successfully.\r\n\r\n2. Subscribe Callback (third argument of `subscribe()`):\r\nThe third argument of the subscribe() method is a callback that is invoked when the sequence is completed, **whether it completes with data or with an error.**\r\nIt is called after onNext() and onError() callbacks.\r\nIt is suitable for actions that need to be taken after the whole sequence is completed, regardless of whether it completed with data or with an error.\r\n\r\nIn your example, both `doOnComplete()` and the third argument of subscribe() are logging messages when the stream is completed. If you want to perform an action specifically when the sequence completes successfully, you can use `doOnComplete()`. If you want an action to be taken regardless of success or error, you can use the third argument of `subscribe()`.","title":"Difference between doOnComplete() and the third argument of subscribe() in Project Reactor","body":"<p>Both <code>doOnComplete()</code> and the third argument of <code>subscribe()</code> are used to perform actions when a Flux or Mono completes, but there are some differences in their use cases.</p>\n<ol>\n<li><p><code>doOnComplete()</code>:\ndoOnComplete() is an operator that allows you to perform a side effect (an action) when the sequence is completed successfully (i.e., without errors).\nIt doesn't affect the termination signal itself; it's purely for side effects.\nIt is often used for logging, resource cleanup, or any other action you want to take when the Flux or Mono completes successfully.</p>\n</li>\n<li><p>Subscribe Callback (third argument of <code>subscribe()</code>):\nThe third argument of the subscribe() method is a callback that is invoked when the sequence is completed, <strong>whether it completes with data or with an error.</strong>\nIt is called after onNext() and onError() callbacks.\nIt is suitable for actions that need to be taken after the whole sequence is completed, regardless of whether it completed with data or with an error.</p>\n</li>\n</ol>\n<p>In your example, both <code>doOnComplete()</code> and the third argument of subscribe() are logging messages when the stream is completed. If you want to perform an action specifically when the sequence completes successfully, you can use <code>doOnComplete()</code>. If you want an action to be taken regardless of success or error, you can use the third argument of <code>subscribe()</code>.</p>\n"},{"tags":[],"owner":{"account_id":29962364,"reputation":13,"user_id":22961724,"display_name":"superpil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700899842,"creation_date":1700899842,"answer_id":77547107,"question_id":77527020,"body_markdown":"As per my understanding, doOnComplete should be invoked upon successful completion, while the Subscribe Callback should be triggered regardless of whether the sequence completes with an error or successfully.\r\n\r\nHowever, when I ran the following example:\r\n```java\r\nFlux.just(1, 3, 0)\r\n    .map(data -&gt; data / 0)\r\n    .doOnComplete(() -&gt; log.info(&quot;[DoOnComplete!]&quot;))\r\n    .subscribe(\r\n        data -&gt; log.info(&quot;[data] : {}&quot;, data),\r\n        error -&gt; log.info(&quot;[Error] error - {} &quot;, error.getMessage()),\r\n        () -&gt; log.info(&quot;[Complete]&quot;)\r\n    );\r\n```\r\nI observed that if an error occurs (e.g., division by zero), the Subscribe Callback is not invoked. This seems to contradict my understanding.\r\n\r\nCould someone please clarify why the Subscribe Callback (third argument of subscribe) is not being called in the case of an error, and how this behavior aligns with the expected behavior of Reactor operators?\r\n\r\nThank you.","title":"Difference between doOnComplete() and the third argument of subscribe() in Project Reactor","body":"<p>As per my understanding, doOnComplete should be invoked upon successful completion, while the Subscribe Callback should be triggered regardless of whether the sequence completes with an error or successfully.</p>\n<p>However, when I ran the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(1, 3, 0)\n    .map(data -&gt; data / 0)\n    .doOnComplete(() -&gt; log.info(&quot;[DoOnComplete!]&quot;))\n    .subscribe(\n        data -&gt; log.info(&quot;[data] : {}&quot;, data),\n        error -&gt; log.info(&quot;[Error] error - {} &quot;, error.getMessage()),\n        () -&gt; log.info(&quot;[Complete]&quot;)\n    );\n</code></pre>\n<p>I observed that if an error occurs (e.g., division by zero), the Subscribe Callback is not invoked. This seems to contradict my understanding.</p>\n<p>Could someone please clarify why the Subscribe Callback (third argument of subscribe) is not being called in the case of an error, and how this behavior aligns with the expected behavior of Reactor operators?</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":29962364,"reputation":13,"user_id":22961724,"display_name":"superpil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77529739,"answer_count":2,"score":1,"last_activity_date":1700899842,"creation_date":1700620021,"question_id":77527020,"body_markdown":"Im currently working with Project Reactor and Ive come across a scenario where Im not sure whether to use doOnComplete() or the third argument of subscribe(). Both seem to be called when the Publisher emits a completion signal, but I suspect there are some differences between them.\r\n\r\nHeres a sample of the code Im working with:\r\n\r\n```java\r\nFlux.range(1, 10)\r\n    .doOnComplete(() -&gt; log.info(&quot;[Complete]&quot;))\r\n    .subscribe(\r\n        data -&gt; log.info(&quot;[data] : {}&quot;, data),\r\n        error -&gt; log.info(&quot;[error] : {}&quot;, error.getMessage()),\r\n        () -&gt; log.info(&quot;[Subscribe Complete]&quot;)\r\n    );\r\n```\r\n\r\nIn this code, both doOnComplete() and the third argument of subscribe() are logging a message when the stream is completed. However, Im not sure when to use one over the other.\r\n\r\nThank you in advance for your help!","title":"Difference between doOnComplete() and the third argument of subscribe() in Project Reactor","body":"<p>Im currently working with Project Reactor and Ive come across a scenario where Im not sure whether to use doOnComplete() or the third argument of subscribe(). Both seem to be called when the Publisher emits a completion signal, but I suspect there are some differences between them.</p>\n<p>Heres a sample of the code Im working with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.range(1, 10)\n    .doOnComplete(() -&gt; log.info(&quot;[Complete]&quot;))\n    .subscribe(\n        data -&gt; log.info(&quot;[data] : {}&quot;, data),\n        error -&gt; log.info(&quot;[error] : {}&quot;, error.getMessage()),\n        () -&gt; log.info(&quot;[Subscribe Complete]&quot;)\n    );\n</code></pre>\n<p>In this code, both doOnComplete() and the third argument of subscribe() are logging a message when the stream is completed. However, Im not sure when to use one over the other.</p>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","arrays","function"],"comments":[{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1700899704,"post_id":77546941,"comment_id":136710914,"body_markdown":"Do not tag this as `dsa`.  The `dsa` tag is for `Digital Signature Algorithm`.","body":"Do not tag this as <code>dsa</code>.  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700929027,"post_id":77546941,"comment_id":136713280,"body_markdown":"From _leetcode_, &quot;... The final sorted array should not be returned by the function, but instead be stored inside the array nums1. To accommodate this, nums1 has a length of m + n ...&quot;.","body":"From <i>leetcode</i>, &quot;... The final sorted array should not be returned by the function, but instead be stored inside the array nums1. To accommodate this, nums1 has a length of m + n ...&quot;."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700931298,"post_id":77546941,"comment_id":136713532,"body_markdown":"You failed to let us know about a requirement: The result of the merge *must* be in `nums1`. See https://leetcode.com/problems/merge-sorted-array/","body":"You failed to let us know about a requirement: The result of the merge <i>must</i> be in <code>nums1</code>. See <a href=\"https://leetcode.com/problems/merge-sorted-array/\" rel=\"nofollow noreferrer\">leetcode.com/problems/merge-sorted-array</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700931690,"post_id":77546941,"comment_id":136713583,"body_markdown":"Using an intermediate array to hold the results of the merge and then copying the intermediate to `nums1` is the easiest way to meet the requirement that the result is to be in the `nums1` argument. `nums1 = result;` won&#39;t work because Java is pass by value : `nums1` is a *local* reference variable. In the `Solution.merge` method, changing the Object it points to will not change what the reference that was used as an argument in the calling program points to.","body":"Using an intermediate array to hold the results of the merge and then copying the intermediate to <code>nums1</code> is the easiest way to meet the requirement that the result is to be in the <code>nums1</code> argument. <code>nums1 = result;</code> won&#39;t work because Java is pass by value : <code>nums1</code> is a <i>local</i> reference variable. In the <code>Solution.merge</code> method, changing the Object it points to will not change what the reference that was used as an argument in the calling program points to."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700932484,"post_id":77546941,"comment_id":136713673,"body_markdown":"I don&#39;t  understand this part of your question:  *&quot;I tried to print the result array directly but its not working it is showing time exceeded&quot;*.   If you are asking for help in that area, *&quot;it is not working&quot;* doesn&#39;t tell us anything. And, we need context for *&quot;it is showing time exceeded&quot;*.","body":"I don&#39;t  understand this part of your question:  <i>&quot;I tried to print the result array directly but its not working it is showing time exceeded&quot;</i>.   If you are asking for help in that area, <i>&quot;it is not working&quot;</i> doesn&#39;t tell us anything. And, we need context for <i>&quot;it is showing time exceeded&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700895981,"creation_date":1700895981,"answer_id":77546951,"question_id":77546941,"body_markdown":"Refer the below code :\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n            int[] array1 = {1, 3, 5, 7};\r\n            int[] array2 = {2, 4, 6, 8, 10};\r\n    \r\n            int[] mergedArray = mergeArrays(array1, array2);\r\n    \r\n            // Print the merged array\r\n            for (int element : mergedArray) {\r\n                System.out.print(element + &quot; &quot;);\r\n            }\t\r\n    \t}\r\n    \t\r\n    \tpublic static int[] mergeArrays(int[] array1, int[] array2) {\r\n            int size1 = array1.length;\r\n            int size2 = array2.length;\r\n            int[] mergedArray = new int[size1 + size2];\r\n    \r\n            int i = 0, j = 0, k = 0;\r\n    \r\n            // Merge arrays while elements are present in both arrays\r\n            while (i &lt; size1 &amp;&amp; j &lt; size2) {\r\n                if (array1[i] &lt; array2[j]) {\r\n                    mergedArray[k++] = array1[i++];\r\n                } else {\r\n                    mergedArray[k++] = array2[j++];\r\n                }\r\n            }\r\n    \r\n            // If there are remaining elements in array1, add them to the result array\r\n            while (i &lt; size1) {\r\n                mergedArray[k++] = array1[i++];\r\n            }\r\n    \r\n            // If there are remaining elements in array2, add them to the result array\r\n            while (j &lt; size2) {\r\n                mergedArray[k++] = array2[j++];\r\n            }\r\n    \r\n            return mergedArray;\r\n        }\r\n    }\r\n\r\n\r\n&gt; Refer the working sample [here][1]\r\n\r\n\r\n  [1]: https://onlinegdb.com/O2HAPFN6M","title":"merging 2 arrays in ascending order (leetcode)","body":"<p>Refer the below code :</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        int[] array1 = {1, 3, 5, 7};\n        int[] array2 = {2, 4, 6, 8, 10};\n\n        int[] mergedArray = mergeArrays(array1, array2);\n\n        // Print the merged array\n        for (int element : mergedArray) {\n            System.out.print(element + &quot; &quot;);\n        }   \n    }\n    \n    public static int[] mergeArrays(int[] array1, int[] array2) {\n        int size1 = array1.length;\n        int size2 = array2.length;\n        int[] mergedArray = new int[size1 + size2];\n\n        int i = 0, j = 0, k = 0;\n\n        // Merge arrays while elements are present in both arrays\n        while (i &lt; size1 &amp;&amp; j &lt; size2) {\n            if (array1[i] &lt; array2[j]) {\n                mergedArray[k++] = array1[i++];\n            } else {\n                mergedArray[k++] = array2[j++];\n            }\n        }\n\n        // If there are remaining elements in array1, add them to the result array\n        while (i &lt; size1) {\n            mergedArray[k++] = array1[i++];\n        }\n\n        // If there are remaining elements in array2, add them to the result array\n        while (j &lt; size2) {\n            mergedArray[k++] = array2[j++];\n        }\n\n        return mergedArray;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Refer the working sample <a href=\"https://onlinegdb.com/O2HAPFN6M\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n"}],"owner":{"account_id":29988343,"reputation":9,"user_id":22981647,"display_name":"shivam0277"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700899709,"creation_date":1700895641,"question_id":77546941,"body_markdown":"```\r\nclass Solution{\r\npublic static void merge(int[] nums1, int m, int[] nums2, int n) {\r\n    int[] result = new int[m + n];\r\n    int i = 0, j = 0, k = 0;\r\n    while (i &lt; m &amp;&amp; j &lt; n) {\r\n        if (nums1[i] &lt; nums2[j]) {\r\n            result[k++] = nums1[i++];\r\n        } else {\r\n            result[k++] = nums2[j++];\r\n        }\r\n    }\r\n    while (i &lt; m) {\r\n        result[k++] = nums1[i++];\r\n    }\r\n    while (j &lt; n) {\r\n        result[k++] = nums2[j++];\r\n    }\r\n    System.arraycopy(result, 0, nums1, 0, m + n);\r\n  }\r\n}\r\n```\r\n\r\nwhy do i have to copy the result array in nums1 ?\r\nAnd is there any better alternative for this ?\r\n\r\nI tried to print the result array directly but its not working it is showing time exceeded.\r\n","title":"merging 2 arrays in ascending order (leetcode)","body":"<pre><code>class Solution{\npublic static void merge(int[] nums1, int m, int[] nums2, int n) {\n    int[] result = new int[m + n];\n    int i = 0, j = 0, k = 0;\n    while (i &lt; m &amp;&amp; j &lt; n) {\n        if (nums1[i] &lt; nums2[j]) {\n            result[k++] = nums1[i++];\n        } else {\n            result[k++] = nums2[j++];\n        }\n    }\n    while (i &lt; m) {\n        result[k++] = nums1[i++];\n    }\n    while (j &lt; n) {\n        result[k++] = nums2[j++];\n    }\n    System.arraycopy(result, 0, nums1, 0, m + n);\n  }\n}\n</code></pre>\n<p>why do i have to copy the result array in nums1 ?\nAnd is there any better alternative for this ?</p>\n<p>I tried to print the result array directly but its not working it is showing time exceeded.</p>\n"},{"tags":["java","sqlite","date","prepared-statement","between"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700843646,"creation_date":1700816813,"answer_id":77541913,"question_id":77541578,"body_markdown":"The `?` placeholders in your query are replaced by the parameters `julianday(&#39;2023-11-01&#39;)` and `julianday(&#39;2023-11-31&#39;)` like this:\r\n\r\n    SELECT * FROM produccion \r\n    WHERE julianday(dia) BETWEEN &#39;julianday(&#39;2023-11-01&#39;)&#39; AND &#39;julianday(&#39;2023-11-31&#39;)&#39;;\r\n\r\n(with the single quotes properly escaped) because you pass them as strings.&lt;br/&gt;\r\n\r\nInstead you should write the query:\r\n\r\n    SELECT * FROM produccion \r\n    WHERE julianday(dia) BETWEEN julianday(?) AND julianday(?);\r\n\r\nand pass the parameters `&#39;2023-11-01&#39;` and `&#39;2023-11-30&#39;` (not `&#39;2023-11-31&#39;` because there are only 30 days in November).&lt;br/&gt;\r\n\r\nBut, why do you use `julianday()` in your query?&lt;br/&gt;\r\nIf your dates are properly formated as `YYYY-MM-DD` it is simpler to write the query like this:\r\n\r\n    SELECT * FROM produccion \r\n    WHERE dia BETWEEN ? AND ?;\r\n\r\nEdit by @PabloIglesias: I will clarify here as the coment with the solution is not visible by default and this leads to solution but can be missunderstood.\r\n\r\nIn order to pass a SQL parameter as `&#39;2023-11-01&#39;` when using putString, we should use `putString(&quot;2023-11-01&quot;)` and not `putString(&quot;&#39;2023-11-01&#39;&quot;)` as the method automatically includes the &#39;, and was the original mistake made.","title":"Cannot get results Between dates in SQLite using Java PreparedStatement","body":"<p>The <code>?</code> placeholders in your query are replaced by the parameters <code>julianday('2023-11-01')</code> and <code>julianday('2023-11-31')</code> like this:</p>\n<pre><code>SELECT * FROM produccion \nWHERE julianday(dia) BETWEEN 'julianday('2023-11-01')' AND 'julianday('2023-11-31')';\n</code></pre>\n<p>(with the single quotes properly escaped) because you pass them as strings.<br/></p>\n<p>Instead you should write the query:</p>\n<pre><code>SELECT * FROM produccion \nWHERE julianday(dia) BETWEEN julianday(?) AND julianday(?);\n</code></pre>\n<p>and pass the parameters <code>'2023-11-01'</code> and <code>'2023-11-30'</code> (not <code>'2023-11-31'</code> because there are only 30 days in November).<br/></p>\n<p>But, why do you use <code>julianday()</code> in your query?<br/>\nIf your dates are properly formated as <code>YYYY-MM-DD</code> it is simpler to write the query like this:</p>\n<pre><code>SELECT * FROM produccion \nWHERE dia BETWEEN ? AND ?;\n</code></pre>\n<p>Edit by @PabloIglesias: I will clarify here as the coment with the solution is not visible by default and this leads to solution but can be missunderstood.</p>\n<p>In order to pass a SQL parameter as <code>'2023-11-01'</code> when using putString, we should use <code>putString(&quot;2023-11-01&quot;)</code> and not <code>putString(&quot;'2023-11-01'&quot;)</code> as the method automatically includes the ', and was the original mistake made.</p>\n"}],"owner":{"account_id":27131619,"reputation":17,"user_id":20673756,"display_name":"Pablo Iglesias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77541913,"answer_count":1,"score":1,"last_activity_date":1700898365,"creation_date":1700813616,"question_id":77541578,"body_markdown":"I have been trying to get data from a table &#39;produccion&#39; that has a date field called &#39;dia&#39; using a between statement.\r\n\r\nThe SQL sentence I was aimig for is:\r\n\r\n`SELECT * FROM produccion WHERE julianday(dia) BETWEEN julianday(&#39;2023-11-01&#39;) AND julianday(&#39;2023-11-31&#39;);`\r\n\r\nThe java code is quite hard to read, as I tried making the code valid for everything. I have enforced foreign keys on, but I am not going outside of the table so it should not matter.\r\n\r\n```\r\n\tprivate ResultSet resultado;\r\n\tprivate PreparedStatement prepSentencia;\r\n\r\n\tpublic ResultSet pedirDatos (String[] campos, String tabla, String[][] join, String[] condicionColumna, Object[] condicionValor, String operador, String orden) throws SQLException {\r\n\r\n\t\tString select = &quot;SELECT &quot;;\r\n\t\tresultado=null;\r\n\r\n\t\tif (campos != null &amp;&amp; tabla !=null) {\r\n\t\t\tfor (int x=0; x&lt;campos.length;x++) {\r\n\t\t\t\tselect = select + campos[x];\r\n\t\t\t\tif (x+1&lt;campos.length)\r\n\t\t\t\t\tselect = select + &quot;, &quot;;\r\n\t\t\t}\r\n\t\t\tselect = select + &quot; FROM &quot;+tabla;\r\n\t\t\tif (join != null) {\r\n\t\t\t\tfor (int tupla=0; tupla&lt;join.length; tupla++) {\r\n\t\t\t\t\tselect = select + &quot; INNER JOIN &quot; + join[tupla][0] + &quot; ON &quot;+ tabla + &quot;.&quot; + join[tupla][1] + &quot; = &quot; + join[tupla][0] + &quot;.&quot; + join[tupla][2];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// This is the where part\r\n\t\t\tif (condicionColumna!=null) {\r\n\t\t\t\tselect = select + &quot; WHERE &quot; ;\r\n\t\t\t\tfor (int i =0; i&lt;condicionColumna.length;i++) {\r\n\t\t\t\t\t// Usual where\r\n\t\t\t\t\tif (condicionColumna[i] != &quot;&quot; &amp;&amp; condicionColumna.length==condicionValor.length)\r\n\t\t\t\t\t\tselect = select + condicionColumna[i]+&quot; = ? &quot;;\r\n\t\t\t\t\t// Between code goes trough here\r\n\t\t\t\t\telse if (condicionColumna[i] != &quot;&quot; &amp;&amp; condicionColumna.length==1 &amp;&amp; condicionValor.length==2)\r\n\t\t\t\t\t\tselect = select+ condicionColumna[i]+&quot; BETWEEN julianday(?) AND julianday(?) &quot;;\r\n\t\t\t\t\t// Verifico si hay m&#225;s rotaciones y a&#241;ado el and o el OR\r\n\t\t\t\t\tif (((i+1)&lt;condicionColumna.length))\r\n\t\t\t\t\t\tselect = select + &quot; &quot;+operador+&quot; &quot;;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Checks for orders\r\n\t\t\tif (!(orden==null || orden==&quot;&quot;))\r\n\t\t\t\tselect = select + &quot; ORDER BY ? &quot;;\r\n\t\t\t// Create the sentence\r\n\t\t\tprepSentencia = conexion.prepareStatement(select+&quot;;&quot;, PreparedStatement.RETURN_GENERATED_KEYS);\r\n\t\t\t\r\n\t\t\t// Fill the data\r\n\t\t\tif (condicionValor!=null ) {\r\n\t\t\t\tfor (int i =0; i&lt;condicionValor.length;i++) {\r\n\t\t\t\t\tif (condicionValor[i] != &quot;&quot;)\r\n\t\t\t\t\t\tprepSentencia.setObject((i+1),condicionValor[i]);\r\n\t\t\t\t\tif (((i+1)==condicionValor.length) &amp;&amp; !(orden==null || orden==&quot;&quot;))\r\n\t\t\t\t\t\tprepSentencia.setString(i+2,orden);\r\n\t\t\t\t}\r\n\t\t\t} else if (!(orden==null || orden==&quot;&quot;))\r\n\t\t\t\tprepSentencia.setString(1,orden);\r\n\t\t\tresultado = prepSentencia.executeQuery();\r\n\t\t}\r\n\t\telse\r\n\t\t\tthrow new SQLException (&quot;I need input data&quot;);\r\n\t\treturn resultado;\r\n\t}\r\n```\r\n\r\nData input:\r\n\r\n`pedirDatos(new String[] {&quot;*&quot;}, &quot;produccion&quot;,null,new String[] {&quot;julianday(dia)&quot;},new String[] {&quot;&#39;2023-11-01&#39;&quot;,&quot;&#39;2023-11-31&#39;&quot;},&quot;AND&quot;,null); `\r\n\r\nThe table is formed before with a statement as:\r\n\r\n```\r\nregularstatement.execute(&quot;CREATE TABLE IF NOT EXISTS produccion(\\n&quot;\r\n\t\t+ &quot;\tid_produccion INTEGER PRIMARY KEY,\\n&quot;\r\n\t\t+ &quot;\tdia TEXT NOT NULL,\\n&quot;\r\n\t\t+ &quot;\thora TEXT NOT NULL,\\n&quot;\r\n\t\t+ &quot;\tcantidad REAL NOT NULL,\\n&quot;\r\n\t\t+ &quot;\tnum_animales INTEGER NOT NULL,\\n&quot;\r\n\t\t+ &quot;\tmedia_por_animal INTEGER,\\n&quot;\r\n\t\t+ &quot;\tincidencias TEXT \\n&quot;\r\n\t\t+ &quot;);&quot;);\r\n```\r\n\r\nI know there is date field in SQLite, so i made it text.\r\n\r\nI was debugging and I found that the program goes properly trough all the code, and debugging the resultset contains the stmt part with this info:\r\n\r\nSELECT * FROM produccion WHERE julianday(dia, &#39;utc&#39;) BETWEEN julianday(?) AND julianday(?) ; \r\nparameters=[&#39;2023-11-01&#39;, &#39;2023-11-31&#39;]\r\n\r\nI have verified that i have two rows in the table with the date 2023-11-17\r\n\r\nSo it seems that I am inyecting the data properly in the prepared statement, and I feel like the sentence is correct. I have no idea why i am not getting results as I have been using this with success in the rest of the program.\r\n\r\nI have also tried using julianday(data,&#39;utc&#39;), strftime(), date() and using direclty the dates. I looked at https://sqlite.org/lang_datefunc.html and could not make it work.\r\n\r\nWhat kills me, is that using an online viewer (https://inloop.github.io/sqlite-viewer/) i can make the SQL work, but when running java it returns no data when it should.\r\n\r\nEdit: to clarify, I started having this problem when I tried `SELECT * FROM &#39;produccion&#39; WHERE dia BETWEEN &#39;2023-11-01&#39; AND &#39;2023-11-30&#39;` and did not work. \r\n\r\nEdit2: corrected julianday as forpas commented. Still no data returned.\r\nAdded proof that there is data in the database file \r\n[link to image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Us31d.png","title":"Cannot get results Between dates in SQLite using Java PreparedStatement","body":"<p>I have been trying to get data from a table 'produccion' that has a date field called 'dia' using a between statement.</p>\n<p>The SQL sentence I was aimig for is:</p>\n<p><code>SELECT * FROM produccion WHERE julianday(dia) BETWEEN julianday('2023-11-01') AND julianday('2023-11-31');</code></p>\n<p>The java code is quite hard to read, as I tried making the code valid for everything. I have enforced foreign keys on, but I am not going outside of the table so it should not matter.</p>\n<pre><code>    private ResultSet resultado;\n    private PreparedStatement prepSentencia;\n\n    public ResultSet pedirDatos (String[] campos, String tabla, String[][] join, String[] condicionColumna, Object[] condicionValor, String operador, String orden) throws SQLException {\n\n        String select = &quot;SELECT &quot;;\n        resultado=null;\n\n        if (campos != null &amp;&amp; tabla !=null) {\n            for (int x=0; x&lt;campos.length;x++) {\n                select = select + campos[x];\n                if (x+1&lt;campos.length)\n                    select = select + &quot;, &quot;;\n            }\n            select = select + &quot; FROM &quot;+tabla;\n            if (join != null) {\n                for (int tupla=0; tupla&lt;join.length; tupla++) {\n                    select = select + &quot; INNER JOIN &quot; + join[tupla][0] + &quot; ON &quot;+ tabla + &quot;.&quot; + join[tupla][1] + &quot; = &quot; + join[tupla][0] + &quot;.&quot; + join[tupla][2];\n                }\n            }\n            // This is the where part\n            if (condicionColumna!=null) {\n                select = select + &quot; WHERE &quot; ;\n                for (int i =0; i&lt;condicionColumna.length;i++) {\n                    // Usual where\n                    if (condicionColumna[i] != &quot;&quot; &amp;&amp; condicionColumna.length==condicionValor.length)\n                        select = select + condicionColumna[i]+&quot; = ? &quot;;\n                    // Between code goes trough here\n                    else if (condicionColumna[i] != &quot;&quot; &amp;&amp; condicionColumna.length==1 &amp;&amp; condicionValor.length==2)\n                        select = select+ condicionColumna[i]+&quot; BETWEEN julianday(?) AND julianday(?) &quot;;\n                    // Verifico si hay ms rotaciones y aado el and o el OR\n                    if (((i+1)&lt;condicionColumna.length))\n                        select = select + &quot; &quot;+operador+&quot; &quot;;\n                }\n            }\n\n            // Checks for orders\n            if (!(orden==null || orden==&quot;&quot;))\n                select = select + &quot; ORDER BY ? &quot;;\n            // Create the sentence\n            prepSentencia = conexion.prepareStatement(select+&quot;;&quot;, PreparedStatement.RETURN_GENERATED_KEYS);\n            \n            // Fill the data\n            if (condicionValor!=null ) {\n                for (int i =0; i&lt;condicionValor.length;i++) {\n                    if (condicionValor[i] != &quot;&quot;)\n                        prepSentencia.setObject((i+1),condicionValor[i]);\n                    if (((i+1)==condicionValor.length) &amp;&amp; !(orden==null || orden==&quot;&quot;))\n                        prepSentencia.setString(i+2,orden);\n                }\n            } else if (!(orden==null || orden==&quot;&quot;))\n                prepSentencia.setString(1,orden);\n            resultado = prepSentencia.executeQuery();\n        }\n        else\n            throw new SQLException (&quot;I need input data&quot;);\n        return resultado;\n    }\n</code></pre>\n<p>Data input:</p>\n<p><code>pedirDatos(new String[] {&quot;*&quot;}, &quot;produccion&quot;,null,new String[] {&quot;julianday(dia)&quot;},new String[] {&quot;'2023-11-01'&quot;,&quot;'2023-11-31'&quot;},&quot;AND&quot;,null); </code></p>\n<p>The table is formed before with a statement as:</p>\n<pre><code>regularstatement.execute(&quot;CREATE TABLE IF NOT EXISTS produccion(\\n&quot;\n        + &quot; id_produccion INTEGER PRIMARY KEY,\\n&quot;\n        + &quot; dia TEXT NOT NULL,\\n&quot;\n        + &quot; hora TEXT NOT NULL,\\n&quot;\n        + &quot; cantidad REAL NOT NULL,\\n&quot;\n        + &quot; num_animales INTEGER NOT NULL,\\n&quot;\n        + &quot; media_por_animal INTEGER,\\n&quot;\n        + &quot; incidencias TEXT \\n&quot;\n        + &quot;);&quot;);\n</code></pre>\n<p>I know there is date field in SQLite, so i made it text.</p>\n<p>I was debugging and I found that the program goes properly trough all the code, and debugging the resultset contains the stmt part with this info:</p>\n<p>SELECT * FROM produccion WHERE julianday(dia, 'utc') BETWEEN julianday(?) AND julianday(?) ;\nparameters=['2023-11-01', '2023-11-31']</p>\n<p>I have verified that i have two rows in the table with the date 2023-11-17</p>\n<p>So it seems that I am inyecting the data properly in the prepared statement, and I feel like the sentence is correct. I have no idea why i am not getting results as I have been using this with success in the rest of the program.</p>\n<p>I have also tried using julianday(data,'utc'), strftime(), date() and using direclty the dates. I looked at <a href=\"https://sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\">https://sqlite.org/lang_datefunc.html</a> and could not make it work.</p>\n<p>What kills me, is that using an online viewer (<a href=\"https://inloop.github.io/sqlite-viewer/\" rel=\"nofollow noreferrer\">https://inloop.github.io/sqlite-viewer/</a>) i can make the SQL work, but when running java it returns no data when it should.</p>\n<p>Edit: to clarify, I started having this problem when I tried <code>SELECT * FROM 'produccion' WHERE dia BETWEEN '2023-11-01' AND '2023-11-30'</code> and did not work.</p>\n<p>Edit2: corrected julianday as forpas commented. Still no data returned.\nAdded proof that there is data in the database file\n<a href=\"https://i.stack.imgur.com/Us31d.png\" rel=\"nofollow noreferrer\">link to image</a></p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":1329041,"reputation":3040,"user_id":1273298,"accept_rate":77,"display_name":"VPK"},"score":0,"creation_date":1486106563,"post_id":42018694,"comment_id":71211984,"body_markdown":"Do you want to insert value of Array element as single String in column `con`?","body":"Do you want to insert value of Array element as single String in column <code>con</code>?"}],"answers":[{"tags":[],"owner":{"account_id":21550338,"reputation":1,"user_id":15886551,"display_name":"MirrorX_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620730864,"creation_date":1620728231,"answer_id":67484760,"question_id":42018694,"body_markdown":"Iam using this way to insert data into my SQL from Java using MySQL Connector 8.0.23.jar\r\n\r\nFirst the array:\r\n\r\n    Connection conexion = null;\r\n\tStatement instr = null;\r\n\tResultSet contenido = null;\r\n\tpublic static String datosEnviar [][] = \r\n\t\t{\t{&quot;Tierra&quot;,\t&quot;Rocoso&quot;,\t&quot;6371&quot;},\r\n\t\t\t{&quot;Jupiter&quot;,\t&quot;Gaseoso&quot;,\t&quot;71492&quot;},\r\n\t\t\t{&quot;Urano&quot;,\t&quot;Helado&quot;,\t&quot;28709&quot;},\r\n\t\t\t{&quot;Mercurio&quot;,\t&quot;Rocoso&quot;,\t&quot;2440&quot;},\r\n\t\t};\r\n\r\nSecond the way i insert data into MySQL.\r\n\r\n    public void Insertar()\r\n\t{\tString comando = &quot;insert into tablaPiramides (id, planeta, tipo, radio)&quot;\r\n\t\t\t\t\t\t+&quot; values (?,?,?,?)&quot;;\r\n\t\tResultSetMetaData datos;\r\n\t\t@SuppressWarnings(&quot;unused&quot;)\r\n\t\tint nc=0;\r\n\t\ttry {\r\n\t\t\tdatos = contenido.getMetaData();\r\n\t\t\tnc = datos.getColumnCount();\r\n\t\t} catch (SQLException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\tPreparedStatement declaracion;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tdeclaracion = conexion.prepareStatement(comando);\r\n\t\t\tfor (int nId=1; nId&lt;=4; nId++) {\r\n\t\t\t\tdeclaracion.setInt(1, nId);\r\n\t\t\t\t\r\n\t\t\t\tfor (int c=0; c&lt;3; c++) {\r\n\t\t\t\t\tdeclaracion.setString(c+2, datosEnviar[nId-1][c]);\r\n\t\t\t\t} declaracion.executeUpdate();\r\n\t\t\t}\r\n\t\t\t//declaracion.execute();\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nI hope it can help you in the second method, iam using a double for one for ids, and a second f for insert data each column `declaracion.setString(c+2, datosEnviar[nId-1][c]);`","title":"How to insert array values in Mysql database using java","body":"<p>Iam using this way to insert data into my SQL from Java using MySQL Connector 8.0.23.jar</p>\n<p>First the array:</p>\n<pre><code>Connection conexion = null;\nStatement instr = null;\nResultSet contenido = null;\npublic static String datosEnviar [][] = \n    {   {&quot;Tierra&quot;,  &quot;Rocoso&quot;,   &quot;6371&quot;},\n        {&quot;Jupiter&quot;, &quot;Gaseoso&quot;,  &quot;71492&quot;},\n        {&quot;Urano&quot;,   &quot;Helado&quot;,   &quot;28709&quot;},\n        {&quot;Mercurio&quot;,    &quot;Rocoso&quot;,   &quot;2440&quot;},\n    };\n</code></pre>\n<p>Second the way i insert data into MySQL.</p>\n<pre><code>public void Insertar()\n{   String comando = &quot;insert into tablaPiramides (id, planeta, tipo, radio)&quot;\n                    +&quot; values (?,?,?,?)&quot;;\n    ResultSetMetaData datos;\n    @SuppressWarnings(&quot;unused&quot;)\n    int nc=0;\n    try {\n        datos = contenido.getMetaData();\n        nc = datos.getColumnCount();\n    } catch (SQLException e1) {\n        e1.printStackTrace();\n    }\n    PreparedStatement declaracion;\n    \n    try {\n        declaracion = conexion.prepareStatement(comando);\n        for (int nId=1; nId&lt;=4; nId++) {\n            declaracion.setInt(1, nId);\n            \n            for (int c=0; c&lt;3; c++) {\n                declaracion.setString(c+2, datosEnviar[nId-1][c]);\n            } declaracion.executeUpdate();\n        }\n        //declaracion.execute();\n        \n        \n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I hope it can help you in the second method, iam using a double for one for ids, and a second f for insert data each column <code>declaracion.setString(c+2, datosEnviar[nId-1][c]);</code></p>\n"},{"tags":[],"owner":{"account_id":29974852,"reputation":9,"user_id":22971337,"display_name":"Min Yul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700897102,"creation_date":1700897102,"answer_id":77546995,"question_id":42018694,"body_markdown":"To insert an array of strings into a single field in a MySQL database using Java, you need to convert the array into a format that MySQL can store in a single field. MySQL doesn&#39;t support storing arrays directly, so you typically need to convert the array into a string representation. One common method is to join the array elements into a single string, with a delimiter separating each element.\r\n\r\n```\r\nString[] content = {&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;};\r\nString joinedContent = String.join(&quot;,&quot;, content); // Joining array elements with a comma\r\n\r\nString query = &quot;INSERT INTO CHAR_ARRAY_TABLE(id, cont) VALUES(?, ?)&quot;;\r\n\r\npreparedStatement = connection.prepareStatement(query);\r\npreparedStatement.setInt(1, row_id_name);\r\npreparedStatement.setString(2, joinedContent); // Set the joined string\r\nint count = preparedStatement.executeUpdate();\r\nSystem.out.println(count + &quot; records inserted&quot;);\r\n```","title":"How to insert array values in Mysql database using java","body":"<p>To insert an array of strings into a single field in a MySQL database using Java, you need to convert the array into a format that MySQL can store in a single field. MySQL doesn't support storing arrays directly, so you typically need to convert the array into a string representation. One common method is to join the array elements into a single string, with a delimiter separating each element.</p>\n<pre><code>String[] content = {&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;};\nString joinedContent = String.join(&quot;,&quot;, content); // Joining array elements with a comma\n\nString query = &quot;INSERT INTO CHAR_ARRAY_TABLE(id, cont) VALUES(?, ?)&quot;;\n\npreparedStatement = connection.prepareStatement(query);\npreparedStatement.setInt(1, row_id_name);\npreparedStatement.setString(2, joinedContent); // Set the joined string\nint count = preparedStatement.executeUpdate();\nSystem.out.println(count + &quot; records inserted&quot;);\n</code></pre>\n"}],"owner":{"account_id":4612586,"reputation":1,"user_id":3740194,"display_name":"user3740194"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700897102,"creation_date":1486105982,"question_id":42018694,"body_markdown":"What i want insert these values in one field of mysql database :          \r\n\r\n    String[] content = {&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;};\r\n    aArray\r\n    ...?//how can i write the code here..help me \r\n    \r\n    \r\n    String query = &quot;insert into CHAR_ARRAY_TABLE(id, cont) values(?,?)&quot;;\r\n    \r\n    preparedStatement = connection.prepareStatement(query);\r\n    \r\n    preparedStatement.setInt(1, row_id_name);\r\n    preparedStatement.setArray(2, aArray);\r\n    int count = preparedStatement.executeUpdate();\r\n    System.out.println(count + &quot; inserted&quot;);\r\n\t\t","title":"How to insert array values in Mysql database using java","body":"<p>What i want insert these values in one field of mysql database :          </p>\n\n<pre><code>String[] content = {\"a1\", \"a2\", \"a3\", \"a4\"};\naArray\n...?//how can i write the code here..help me \n\n\nString query = \"insert into CHAR_ARRAY_TABLE(id, cont) values(?,?)\";\n\npreparedStatement = connection.prepareStatement(query);\n\npreparedStatement.setInt(1, row_id_name);\npreparedStatement.setArray(2, aArray);\nint count = preparedStatement.executeUpdate();\nSystem.out.println(count + \" inserted\");\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jpa","flyway"],"comments":[{"owner":{"account_id":2659309,"reputation":1083,"user_id":2299362,"display_name":"Pipetus"},"score":0,"creation_date":1592707079,"post_id":62491429,"comment_id":110519942,"body_markdown":"What about the line that reads `Caused by: org.flywaydb.core.internal.license.FlywayEditionUpgradeRequiredException: Flyway Pro Edition or MariaDB upgrade required: MariaDB 10.1 is no longer supported by Flyway Community Edition, but still supported by Flyway Pro Edition.`","body":"What about the line that reads <code>Caused by: org.flywaydb.core.internal.license.FlywayEditionUpgradeRequi&zwnj;&#8203;redException: Flyway Pro Edition or MariaDB upgrade required: MariaDB 10.1 is no longer supported by Flyway Community Edition, but still supported by Flyway Pro Edition.</code>"}],"answers":[{"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592686030,"creation_date":1592686030,"answer_id":62491474,"question_id":62491429,"body_markdown":"The exception says &quot;MariaDB 10.1 is no longer supported&quot;. Use newer version of Maria DB, e.g. the current version 10.5.3, and corresponding version of JDBC driver for it.\r\n","title":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException:","body":"<p>The exception says &quot;MariaDB 10.1 is no longer supported&quot;. Use newer version of Maria DB, e.g. the current version 10.5.3, and corresponding version of JDBC driver for it.</p>\n"},{"tags":[],"owner":{"account_id":29717286,"reputation":76,"user_id":22775506,"display_name":"Adam Britt -Flyway PM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700896502,"creation_date":1697899446,"answer_id":77336487,"question_id":62491429,"body_markdown":"This restriction is no longer in place from Flyway version 10 (October 2023). We have updated Flyway so that it works with ALL supported database versions, so if you upgrade to version 10 you can access all supported versions of MariaDB. \r\n\r\nThe community version of Flyway now works with All versions of MariaDB. \r\n","title":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException:","body":"<p>This restriction is no longer in place from Flyway version 10 (October 2023). We have updated Flyway so that it works with ALL supported database versions, so if you upgrade to version 10 you can access all supported versions of MariaDB.</p>\n<p>The community version of Flyway now works with All versions of MariaDB.</p>\n"}],"owner":{"account_id":14533323,"reputation":21,"user_id":10497541,"display_name":"marwen hanzouli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4486,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700896502,"creation_date":1592685737,"question_id":62491429,"body_markdown":"I m trying to run my project Spring boot with mysql and flyway\r\n\r\nMy environement:\r\n\r\n - Linux 18.04 \r\n - Java 1.8.0_201\r\n - Spring boot and this my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mhanzouli&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tutorial&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;tutorial&lt;/name&gt;\r\n\t&lt;description&gt;Test Swagger/Actuator/Log4j2/Flyway&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:mysql://localhost:3306/tutorial_bd?useSSL=false&amp;serverTimezone=UTC&amp;useLegacyDatetimeCode=false\r\n        username: root\r\n        password:\r\n      jpa:\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: validate\r\n          naming-strategy: org.hibernate.cfg.ImprovedNamingStrategy\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n      flyway:\r\n        url: jdbc:mysql://localhost:3306/tutorial_bd\r\n        user: &quot;root&quot;\r\n        password:\r\n        baselineOnMigrate: true\r\n        check-location: true\r\n        locations: classpath:db/migration\r\n        enabled: true\r\n\r\nV1__init.sql\r\n\r\n    CREATE TABLE users (\r\n      id bigint(20) NOT NULL AUTO_INCREMENT,\r\n      username varchar(100) NOT NULL,\r\n      first_name varchar(50) NOT NULL,\r\n      last_name varchar(50) DEFAULT NULL,\r\n      PRIMARY KEY (id),\r\n      UNIQUE KEY UK_username (username)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\nUser.java\r\n\r\n    package com.mhanzouli.tutorial.domain;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotBlank\r\n        @Column(unique = true)\r\n        @Size(min = 1, max = 100)\r\n        private String username;\r\n    \r\n        @NotBlank\r\n        @Size(max = 50)\r\n        private String firstName;\r\n    \r\n        @Size(max = 50)\r\n        private String lastName;\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    }\r\n\r\n[this is my project structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CWdj0.png\r\n\r\n\r\nAnd when i execute \r\n\r\n    mvn spring-boot:run\r\n\r\ni got this error\r\n\r\n    2020-06-20 21:19:54.540  INFO 13594 --- [           main] c.m.tutorial.TutorialApplication         : Starting TutorialApplication on marwen with PID 13594 (/home/marwen/Bureau/projects/tutorial/target/classes started by marwen in /home/marwen/Bureau/projects/tutorial)\r\n    2020-06-20 21:19:54.543  INFO 13594 --- [           main] c.m.tutorial.TutorialApplication         : No active profile set, falling back to default profiles: default\r\n    2020-06-20 21:19:55.337  INFO 13594 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.\r\n    2020-06-20 21:19:55.364  INFO 13594 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19ms. Found 0 JPA repository interfaces.\r\n    2020-06-20 21:19:55.962  INFO 13594 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2020-06-20 21:19:55.971  INFO 13594 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2020-06-20 21:19:55.971  INFO 13594 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]\r\n    2020-06-20 21:19:56.045  INFO 13594 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2020-06-20 21:19:56.046  INFO 13594 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1452 ms\r\n    2020-06-20 21:19:56.196  INFO 13594 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 6.4.4 by Redgate\r\n    2020-06-20 21:19:56.310  INFO 13594 --- [           main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:mysql://localhost:3306/tutorial_bd (MySQL 5.5)\r\n    2020-06-20 21:19:56.366  WARN 13594 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.license.FlywayEditionUpgradeRequiredException: Flyway Pro Edition or MariaDB upgrade required: MariaDB 10.1 is no longer supported by Flyway Community Edition, but still supported by Flyway Pro Edition.\r\n    2020-06-20 21:19:56.369  INFO 13594 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2020-06-20 21:19:56.382  INFO 13594 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2020-06-20 21:19:56.392 ERROR 13594 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.license.FlywayEditionUpgradeRequiredException: Flyway Pro Edition or MariaDB upgrade required: MariaDB 10.1 is no longer supported by Flyway Community Edition, but still supported by Flyway Pro Edition.\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n            at com.mhanzouli.tutorial.TutorialApplication.main(TutorialApplication.java:10) [classes/:na]\r\n    Caused by: org.flywaydb.core.internal.license.FlywayEditionUpgradeRequiredException: Flyway Pro Edition or MariaDB upgrade required: MariaDB 10.1 is no longer supported by Flyway Community Edition, but still supported by Flyway Pro Edition.\r\n            at org.flywaydb.core.internal.database.base.Database.ensureDatabaseNotOlderThanOtherwiseRecommendUpgradeToFlywayEdition(Database.java:173) ~[flyway-core-6.4.4.jar:na]\r\n            at org.flywaydb.core.internal.database.mysql.MySQLDatabase.ensureSupported(MySQLDatabase.java:287) ~[flyway-core-6.4.4.jar:na]\r\n            at org.flywaydb.core.Flyway.execute(Flyway.java:514) ~[flyway-core-6.4.4.jar:na]\r\n            at org.flywaydb.core.Flyway.migrate(Flyway.java:159) ~[flyway-core-6.4.4.jar:na]\r\n            at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:65) ~[spring-boot-autoconfigure-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n            ... 19 common frames omitted\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  10.089 s\r\n    [INFO] Finished at: 2020-06-20T21:19:56+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.1.RELEASE:run (default-cli) on project tutorial: Application finished with exit code: 1 -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n","title":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException:","body":"<p>I m trying to run my project Spring boot with mysql and flyway</p>\n<p>My environement:</p>\n<ul>\n<li><p>Linux 18.04</p>\n</li>\n<li><p>Java 1.8.0_201</p>\n</li>\n<li><p>Spring boot and this my pom.xml</p>\n \n</li>\n</ul>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.3.1.RELEASE\n \n\ncom.mhanzouli\ntutorial\n0.0.1-SNAPSHOT\ntutorial\nTest Swagger/Actuator/Log4j2/Flyway</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>application.yml</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/tutorial_bd?useSSL=false&amp;serverTimezone=UTC&amp;useLegacyDatetimeCode=false\n    username: root\n    password:\n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: validate\n      naming-strategy: org.hibernate.cfg.ImprovedNamingStrategy\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n  flyway:\n    url: jdbc:mysql://localhost:3306/tutorial_bd\n    user: &quot;root&quot;\n    password:\n    baselineOnMigrate: true\n    check-location: true\n    locations: classpath:db/migration\n    enabled: true\n</code></pre>\n<p>V1__init.sql</p>\n<pre><code>CREATE TABLE users (\n  id bigint(20) NOT NULL AUTO_INCREMENT,\n  username varchar(100) NOT NULL,\n  first_name varchar(50) NOT NULL,\n  last_name varchar(50) DEFAULT NULL,\n  PRIMARY KEY (id),\n  UNIQUE KEY UK_username (username)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n<p>User.java</p>\n<pre><code>package com.mhanzouli.tutorial.domain;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    @Column(unique = true)\n    @Size(min = 1, max = 100)\n    private String username;\n\n    @NotBlank\n    @Size(max = 50)\n    private String firstName;\n\n    @Size(max = 50)\n    private String lastName;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CWdj0.png\" rel=\"nofollow noreferrer\">this is my project structure</a></p>\n<p>And when i execute</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>i got this error</p>\n<pre><code>2020-06-20 21:19:54.540  INFO 13594 --- [           main] c.m.tutorial.TutorialApplication         : Starting TutorialApplication on marwen with PID 13594 (/home/marwen/Bureau/projects/tutorial/target/classes started by marwen in /home/marwen/Bureau/projects/tutorial)\n2020-06-20 21:19:54.543  INFO 13594 --- [           main] c.m.tutorial.TutorialApplication         : No active profile set, falling back to default profiles: default\n2020-06-20 21:19:55.337  INFO 13594 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.\n2020-06-20 21:19:55.364  INFO 13594 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19ms. Found 0 JPA repository interfaces.\n2020-06-20 21:19:55.962  INFO 13594 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-06-20 21:19:55.971  INFO 13594 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-06-20 21:19:55.971  INFO 13594 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]\n2020-06-20 21:19:56.045  INFO 13594 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-06-20 21:19:56.046  INFO 13594 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1452 ms\n2020-06-20 21:19:56.196  INFO 13594 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 6.4.4 by Redgate\n2020-06-20 21:19:56.310  INFO 13594 --- [           main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:mysql://localhost:3306/tutorial_bd (MySQL 5.5)\n2020-06-20 21:19:56.366  WARN 13594 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.license.FlywayEditionUpgradeRequiredException: Flyway Pro Edition or MariaDB upgrade required: MariaDB 10.1 is no longer supported by Flyway Community Edition, but still supported by Flyway Pro Edition.\n2020-06-20 21:19:56.369  INFO 13594 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2020-06-20 21:19:56.382  INFO 13594 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2020-06-20 21:19:56.392 ERROR 13594 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.license.FlywayEditionUpgradeRequiredException: Flyway Pro Edition or MariaDB upgrade required: MariaDB 10.1 is no longer supported by Flyway Community Edition, but still supported by Flyway Pro Edition.\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n        at com.mhanzouli.tutorial.TutorialApplication.main(TutorialApplication.java:10) [classes/:na]\nCaused by: org.flywaydb.core.internal.license.FlywayEditionUpgradeRequiredException: Flyway Pro Edition or MariaDB upgrade required: MariaDB 10.1 is no longer supported by Flyway Community Edition, but still supported by Flyway Pro Edition.\n        at org.flywaydb.core.internal.database.base.Database.ensureDatabaseNotOlderThanOtherwiseRecommendUpgradeToFlywayEdition(Database.java:173) ~[flyway-core-6.4.4.jar:na]\n        at org.flywaydb.core.internal.database.mysql.MySQLDatabase.ensureSupported(MySQLDatabase.java:287) ~[flyway-core-6.4.4.jar:na]\n        at org.flywaydb.core.Flyway.execute(Flyway.java:514) ~[flyway-core-6.4.4.jar:na]\n        at org.flywaydb.core.Flyway.migrate(Flyway.java:159) ~[flyway-core-6.4.4.jar:na]\n        at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:65) ~[spring-boot-autoconfigure-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n        ... 19 common frames omitted\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  10.089 s\n[INFO] Finished at: 2020-06-20T21:19:56+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.1.RELEASE:run (default-cli) on project tutorial: Application finished with exit code: 1 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":29974852,"reputation":9,"user_id":22971337,"display_name":"Min Yul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700896387,"creation_date":1700896387,"question_id":77546960,"body_markdown":"I&#39;m currently using Java&#39;s record keyword for creating Data Transfer Objects (DTOs) in my application, specifically for handling POST request data.\r\n\r\nI&#39;ve chosen to use record for its conciseness and immutability, but I&#39;m curious to learn more about the other benefits it may offer. Additionally, I&#39;d like to know if using record in this context (as a Request DTO for POST data) is appropriate and effective.\r\n\r\nFurthermore, are there any other use cases or scenarios where leveraging the record keyword would be particularly advantageous? I&#39;m interested in exploring different ways to effectively utilize this feature in Java.\r\n\r\n\r\n```\r\npublic record BookRegistrationRequest(\r\n        String title,\r\n        String author\r\n) {\r\n\r\n    public Book toDomain() {\r\n        return new Book(title, author);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@PostMapping\r\npublic ResponseDto&lt;Void&gt; registerBook(\r\n        @RequestBody final BookRegistrationRequest bookRegistrationRequest) {\r\n    bookFacade.registerBook(bookRegistrationRequest);\r\n    return ResponseDto.ok();\r\n}\r\n```\r\n\r\nI implemented a BookRegistrationRequest record as a DTO for handling POST requests. My expectation was that this implementation would simplify the code and provide a clear structure for data transfer.\r\n\r\nThank you for your insights!","title":"What are the advantages of using the record keyword in Java, especially for DTOs like BookRegistrationRequest? ( main text example )","body":"<p>I'm currently using Java's record keyword for creating Data Transfer Objects (DTOs) in my application, specifically for handling POST request data.</p>\n<p>I've chosen to use record for its conciseness and immutability, but I'm curious to learn more about the other benefits it may offer. Additionally, I'd like to know if using record in this context (as a Request DTO for POST data) is appropriate and effective.</p>\n<p>Furthermore, are there any other use cases or scenarios where leveraging the record keyword would be particularly advantageous? I'm interested in exploring different ways to effectively utilize this feature in Java.</p>\n<pre><code>public record BookRegistrationRequest(\n        String title,\n        String author\n) {\n\n    public Book toDomain() {\n        return new Book(title, author);\n    }\n}\n</code></pre>\n<pre><code>@PostMapping\npublic ResponseDto&lt;Void&gt; registerBook(\n        @RequestBody final BookRegistrationRequest bookRegistrationRequest) {\n    bookFacade.registerBook(bookRegistrationRequest);\n    return ResponseDto.ok();\n}\n</code></pre>\n<p>I implemented a BookRegistrationRequest record as a DTO for handling POST requests. My expectation was that this implementation would simplify the code and provide a clear structure for data transfer.</p>\n<p>Thank you for your insights!</p>\n"},{"tags":["java","eclipse","spring","hibernate","maven"],"answers":[{"tags":[],"owner":{"account_id":1497894,"reputation":1018,"user_id":1403418,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429540590,"creation_date":1429540590,"answer_id":29750855,"question_id":29750745,"body_markdown":"You&#39;re missing a Hibernate library - looks like Hibernate 4 provides this.  ","title":"Eclipse&amp;Maven - The import org.hibernate.boot.cannot be resolved","body":"<p>You're missing a Hibernate library - looks like Hibernate 4 provides this.  </p>\n"},{"tags":[],"owner":{"account_id":1638661,"reputation":2399,"user_id":1511531,"display_name":"Semih Eker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429540998,"creation_date":1429540998,"answer_id":29751040,"question_id":29750745,"body_markdown":"It could be because of the broken classpath;\r\n\r\n    Package explorer &gt; Plug-in tools &gt; Update classpath.\r\n\r\nOr your Hibernate jar is not well extracted from the zip file. For controll, from `Project Explorer` try to expand your Hibernate jar. If you can&#39;t expand probably it&#39;s corrupted. Try to add jar again.","title":"Eclipse&amp;Maven - The import org.hibernate.boot.cannot be resolved","body":"<p>It could be because of the broken classpath;</p>\n\n<pre><code>Package explorer &gt; Plug-in tools &gt; Update classpath.\n</code></pre>\n\n<p>Or your Hibernate jar is not well extracted from the zip file. For controll, from <code>Project Explorer</code> try to expand your Hibernate jar. If you can't expand probably it's corrupted. Try to add jar again.</p>\n"}],"owner":{"account_id":5841659,"reputation":260,"user_id":4603056,"accept_rate":63,"display_name":"oddly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700895950,"creation_date":1429540348,"question_id":29750745,"body_markdown":"I am building an Maven&amp;Spring&amp;Hibernate&amp;JSF project on Eclipse.While compiling the program I have \r\n\r\n&gt;StandardServiceRegistryBuilder cannot be resolved to a type&lt;br&gt;\r\n&gt;The import org.hibernate.boot.cannot be resolved\r\n\r\nerrors.\r\n\r\nMain class is as follows:\r\n\r\n    package com.test;\r\n\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.hibernate.cfg.Configuration;\r\n\r\n    import com.hibernate.data.Person;\r\n\r\n    public class Main {\r\n\tpublic static void main(String [] args){\r\n\t\t\r\n\t\tConfiguration configuration = new Configuration();\r\n        System.out.println(&quot;CFG and hbm files loaded successfully.&quot;);//just to test\r\n        \r\n        configuration.configure(&quot;hibernate.cfg.xml&quot;);\r\n        \r\n        SessionFactory factory = configuration.buildSessionFactory(new StandardServiceRegistryBuilder().configure().build());\r\n        \r\n        Session session = factory.openSession();\r\n        \r\n        Transaction tx = session.getTransaction();\r\n        tx.begin();\r\n        System.out.println(&quot;Transaction began&quot;);//just to test\r\n        \r\n        Person newPerson = new Person();\r\n        newPerson.setFirstName(&quot;aa&quot;);\r\n        newPerson.setLastName(&quot;bbb&quot;);\r\n        newPerson.setGender(&quot;Male&quot;);\r\n        newPerson.setAge(2);\r\n        \r\n        session.save(newPerson);\r\n        session.flush();\r\n        \r\n        tx.commit();\r\n        session.close();\r\n        System.out.println(&quot;aaa&quot;);//just to test\r\n    \r\n\t}\r\n    }\r\npom.xml file is as follows:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0  http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;Spring-Hibernate-JSF-MySQL-Example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Spring-Hibernate-JSF-MySQL-Example&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n    &lt;!-- Generic properties --&gt;\r\n     &lt;java.version&gt;1.6&lt;/java.version&gt;\r\n     &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n     &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;!-- Spring --&gt;\r\n        &lt;spring-framework.version&gt;4.1.6.RELEASE&lt;/spring-framework.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;mainClass&gt;com.test.Main&lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n          &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n             &lt;mainClass&gt;com.test.Main&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n       &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;prime-repo&lt;/id&gt;\r\n            &lt;name&gt;PrimeFaces Maven Repository&lt;/name&gt;\r\n            &lt;url&gt;http://repository.primefaces.org&lt;/url&gt;\r\n            &lt;layout&gt;default&lt;/layout&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.0&lt;/version&gt;\r\n\t &lt;/dependency&gt;\r\n\t &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;blitzer&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.10&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.1.9&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.18.1-GA&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2.12&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.10&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.10&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.6.8.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"Eclipse&amp;Maven - The import org.hibernate.boot.cannot be resolved","body":"<p>I am building an Maven&amp;Spring&amp;Hibernate&amp;JSF project on Eclipse.While compiling the program I have </p>\n\n<blockquote>\n  <p>StandardServiceRegistryBuilder cannot be resolved to a type<br>\n  The import org.hibernate.boot.cannot be resolved</p>\n</blockquote>\n\n<p>errors.</p>\n\n<p>Main class is as follows:</p>\n\n<pre><code>package com.test;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\n\nimport com.hibernate.data.Person;\n\npublic class Main {\npublic static void main(String [] args){\n\n    Configuration configuration = new Configuration();\n    System.out.println(\"CFG and hbm files loaded successfully.\");//just to test\n\n    configuration.configure(\"hibernate.cfg.xml\");\n\n    SessionFactory factory = configuration.buildSessionFactory(new StandardServiceRegistryBuilder().configure().build());\n\n    Session session = factory.openSession();\n\n    Transaction tx = session.getTransaction();\n    tx.begin();\n    System.out.println(\"Transaction began\");//just to test\n\n    Person newPerson = new Person();\n    newPerson.setFirstName(\"aa\");\n    newPerson.setLastName(\"bbb\");\n    newPerson.setGender(\"Male\");\n    newPerson.setAge(2);\n\n    session.save(newPerson);\n    session.flush();\n\n    tx.commit();\n    session.close();\n    System.out.println(\"aaa\");//just to test\n\n}\n}\n</code></pre>\n\n<p>pom.xml file is as follows:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0  http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;Spring-Hibernate-JSF-MySQL-Example&lt;/groupId&gt;\n&lt;artifactId&gt;Spring-Hibernate-JSF-MySQL-Example&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;properties&gt;\n&lt;!-- Generic properties --&gt;\n &lt;java.version&gt;1.6&lt;/java.version&gt;\n &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;!-- Spring --&gt;\n    &lt;spring-framework.version&gt;4.1.6.RELEASE&lt;/spring-framework.version&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.8&lt;/source&gt;\n      &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt;com.test.Main&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n      &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n         &lt;mainClass&gt;com.test.Main&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n   &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;prime-repo&lt;/id&gt;\n        &lt;name&gt;PrimeFaces Maven Repository&lt;/name&gt;\n        &lt;url&gt;http://repository.primefaces.org&lt;/url&gt;\n        &lt;layout&gt;default&lt;/layout&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n    &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n    &lt;version&gt;5.0&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;\n    &lt;artifactId&gt;blitzer&lt;/artifactId&gt;\n    &lt;version&gt;1.0.10&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.18.1-GA&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n    &lt;artifactId&gt;jta&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;type&gt;maven-plugin&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.12&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n    &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n    &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2.10&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n    &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.2.10&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;3.6.8.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","windows","visual-studio-2017","vtk"],"owner":{"account_id":29987728,"reputation":1,"user_id":22981183,"display_name":"Rey de Vaqueiros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700894746,"creation_date":1700887136,"question_id":77546668,"body_markdown":"I am building VTK 7.1.1 on a Windows machine using cmake and Visual Studio 15 (2017) for use in a java project. The java version I am using is jdk_12.0.2.\r\n\r\nI follow this procedure: https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build_windows_vs.md\r\n\r\nI use cmake-gui (version 3.23.2) to configure and generate the Visual Studio solution to build VTK. Since I want to build the java libraries (vtk*.jar and the dlls, including various vtk*java.dlls), I turn on the following flags: Module_vtkWrappingJava, VTK_WRAP_JAVA. In addition, I also turn on VTK_USE_CXX11_FEATURES.\r\n\r\nBoth the ALL_BUILD and INSTALL builds are reported as successful by Visual Studio, with all successes and no failed builds for any of the items.\r\n\r\nThe vtk 7.1.1 source code has some java examples, including a few to display a cone and manipulate. When I try to compile and run, for the example, Examples\\Tutorial\\Step1\\Java\\Cone.java from the examples packaged with vtk 7.1.1, it fails due to some missing dlls. Cone.java loads the following dlls in the static block:\r\n    \r\n```\r\nSystem.loadLibrary(&quot;vtkCommonJava&quot;);\r\nSystem.loadLibrary(&quot;vtkFilteringJava&quot;);\r\nSystem.loadLibrary(&quot;vtkIOJava&quot;);\r\nSystem.loadLibrary(&quot;vtkImagingJava&quot;);\r\nSystem.loadLibrary(&quot;vtkGraphicsJava&quot;);\r\nSystem.loadLibrary(&quot;vtkRenderingJava&quot;);\r\n```\r\n\r\nI see all of these dlls are missing in the build or the installation folder. Under the installation folder, I see vtk-7.1.jar and vtk-7.1-natives-Windows-AMD64.jar. There is also a natives-Windows-AMD64 folder that contains nearly 200 dlls, including msvcp140*.dll and a lot of vtk*.dlls. But i do not see vtkCommonJava.dll, vtkFilteringJava.dll, vtkIOJava.dll, vtkImagingJava.dll, vtkGraphicsJava.dll and vtkRenderingJava.dll, which are required by the example Cona.java packed with the vtk7.1.1 source code. I also see a bin and a lib folder but both these folders only contain a vtkLocalExample.lib and a vtkLocalExampleJava.lib. \r\n\r\nAre these missing dlls supposed to be built by the building process in Visual Studio?. If so, are there any flags I should turn on in cmake-gui (to generate the Visual Studio project) that I am not turning on?\r\n\r\nOr are these dlls supposed to come from somewhere else I need to download?\r\n\r\nOr is this not the procedure to build vtk with java wrapping?.\r\n\r\nI searched online including on stackoverflow, but couldn&#39;t find anything related to these missing dlls. If this is covered in a previous thread here, can you point me to it?\r\n\r\nWhen configuring the Visual Studio project for building vtk 7.1.1. using cmake-gui, these are the flags I turned on iteratively until I saw a cmake Window without any red items. Then I clicked on Generate to create the vtk project and then used Visual Studio 15 (2017) community edition to build.\r\n\r\nBUILD_EXAMPLES, \r\nBUILD_TESTING, \r\nCMAKE_CXX_MP_FLAG, \r\nModule_vtkWrappingJava, \r\nVTK_USE_CXX11_FEATURES, \r\nVTK_WRAP_JAVA, \r\nVTK_USE_LARGE_DATA, \r\nVTK_JAVA_INSTALL, \r\nVTK_JAVA_SOURCE_VERSION: 1.8, \r\nVTK_JAVA_TARGET_VERSION: 1.8 \r\n\r\nAt the end of the successful build process, I expected to find vtk*.jar and the dlls to use vtk in java projects. I couldn&#39;t run all the packaged java examples and so I am wondering where I went wrong in the build process.\r\n\r\nThanks!","title":"Missing dlls after building VTK on Windows","body":"<p>I am building VTK 7.1.1 on a Windows machine using cmake and Visual Studio 15 (2017) for use in a java project. The java version I am using is jdk_12.0.2.</p>\n<p>I follow this procedure: <a href=\"https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build_windows_vs.md\" rel=\"nofollow noreferrer\">https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build_windows_vs.md</a></p>\n<p>I use cmake-gui (version 3.23.2) to configure and generate the Visual Studio solution to build VTK. Since I want to build the java libraries (vtk*.jar and the dlls, including various vtk*java.dlls), I turn on the following flags: Module_vtkWrappingJava, VTK_WRAP_JAVA. In addition, I also turn on VTK_USE_CXX11_FEATURES.</p>\n<p>Both the ALL_BUILD and INSTALL builds are reported as successful by Visual Studio, with all successes and no failed builds for any of the items.</p>\n<p>The vtk 7.1.1 source code has some java examples, including a few to display a cone and manipulate. When I try to compile and run, for the example, Examples\\Tutorial\\Step1\\Java\\Cone.java from the examples packaged with vtk 7.1.1, it fails due to some missing dlls. Cone.java loads the following dlls in the static block:</p>\n<pre><code>System.loadLibrary(&quot;vtkCommonJava&quot;);\nSystem.loadLibrary(&quot;vtkFilteringJava&quot;);\nSystem.loadLibrary(&quot;vtkIOJava&quot;);\nSystem.loadLibrary(&quot;vtkImagingJava&quot;);\nSystem.loadLibrary(&quot;vtkGraphicsJava&quot;);\nSystem.loadLibrary(&quot;vtkRenderingJava&quot;);\n</code></pre>\n<p>I see all of these dlls are missing in the build or the installation folder. Under the installation folder, I see vtk-7.1.jar and vtk-7.1-natives-Windows-AMD64.jar. There is also a natives-Windows-AMD64 folder that contains nearly 200 dlls, including msvcp140*.dll and a lot of vtk*.dlls. But i do not see vtkCommonJava.dll, vtkFilteringJava.dll, vtkIOJava.dll, vtkImagingJava.dll, vtkGraphicsJava.dll and vtkRenderingJava.dll, which are required by the example Cona.java packed with the vtk7.1.1 source code. I also see a bin and a lib folder but both these folders only contain a vtkLocalExample.lib and a vtkLocalExampleJava.lib.</p>\n<p>Are these missing dlls supposed to be built by the building process in Visual Studio?. If so, are there any flags I should turn on in cmake-gui (to generate the Visual Studio project) that I am not turning on?</p>\n<p>Or are these dlls supposed to come from somewhere else I need to download?</p>\n<p>Or is this not the procedure to build vtk with java wrapping?.</p>\n<p>I searched online including on stackoverflow, but couldn't find anything related to these missing dlls. If this is covered in a previous thread here, can you point me to it?</p>\n<p>When configuring the Visual Studio project for building vtk 7.1.1. using cmake-gui, these are the flags I turned on iteratively until I saw a cmake Window without any red items. Then I clicked on Generate to create the vtk project and then used Visual Studio 15 (2017) community edition to build.</p>\n<p>BUILD_EXAMPLES,\nBUILD_TESTING,\nCMAKE_CXX_MP_FLAG,\nModule_vtkWrappingJava,\nVTK_USE_CXX11_FEATURES,\nVTK_WRAP_JAVA,\nVTK_USE_LARGE_DATA,\nVTK_JAVA_INSTALL,\nVTK_JAVA_SOURCE_VERSION: 1.8,\nVTK_JAVA_TARGET_VERSION: 1.8</p>\n<p>At the end of the successful build process, I expected to find vtk*.jar and the dlls to use vtk in java projects. I couldn't run all the packaged java examples and so I am wondering where I went wrong in the build process.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","wifi","wifi-direct"],"answers":[{"tags":[],"owner":{"account_id":5707824,"reputation":779,"user_id":4510763,"accept_rate":50,"display_name":"Ben Cheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448041288,"creation_date":1448041288,"answer_id":33832865,"question_id":24682161,"body_markdown":"I think it is very similar question of https://stackoverflow.com/questions/15869578/java-wifi-api\r\n\r\nWireless network cards differ greatly among manufacturer and version. \r\n\r\nIf you would like to integrate with the wifi network cards with java, you could try JNI. ","title":"how access and use PC Direct WiFi in Java?","body":"<p>I think it is very similar question of <a href=\"https://stackoverflow.com/questions/15869578/java-wifi-api\">Java - Wifi API</a></p>\n\n<p>Wireless network cards differ greatly among manufacturer and version. </p>\n\n<p>If you would like to integrate with the wifi network cards with java, you could try JNI. </p>\n"}],"owner":{"account_id":3804198,"reputation":489,"user_id":3157047,"accept_rate":29,"display_name":"user3157047"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2501,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1700894578,"creation_date":1405011003,"question_id":24682161,"body_markdown":"I have searched a lot to find an API or a Code for Java to access and use WiFi Direct. But there is nothing about it.\r\n\r\nWhy all new Wireless adapters support WiFi Direct but the programming languages do not support it well?\r\n\r\nP/S:\r\n\r\n1. I have checked and my wireless adapter supports WiFi Direct.\r\n2. I want to write a code to send a message through WiFi Direct from an Android device to a PC. (It is a project and I have to use Direct WiFi. Do not offer other approaches please.)\r\n\r\nhttp://msdn.microsoft.com/en-us/library/ie/windows.devices.wifidirect.wifidirectdevice?cs-save-lang=1&amp;cs-lang=cpp#code-snippet-1","title":"how access and use PC Direct WiFi in Java?","body":"<p>I have searched a lot to find an API or a Code for Java to access and use WiFi Direct. But there is nothing about it.</p>\n\n<p>Why all new Wireless adapters support WiFi Direct but the programming languages do not support it well?</p>\n\n<p>P/S:</p>\n\n<ol>\n<li>I have checked and my wireless adapter supports WiFi Direct.</li>\n<li>I want to write a code to send a message through WiFi Direct from an Android device to a PC. (It is a project and I have to use Direct WiFi. Do not offer other approaches please.)</li>\n</ol>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/ie/windows.devices.wifidirect.wifidirectdevice?cs-save-lang=1&amp;cs-lang=cpp#code-snippet-1\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ie/windows.devices.wifidirect.wifidirectdevice?cs-save-lang=1&amp;cs-lang=cpp#code-snippet-1</a></p>\n"},{"tags":["java","android","android-studio","wifi","android-wifi"],"comments":[{"owner":{"account_id":2900748,"reputation":4538,"user_id":2487517,"accept_rate":57,"display_name":"Tibrogargan"},"score":0,"creation_date":1471662450,"post_id":39050022,"comment_id":65449653,"body_markdown":"I guess you view WIFI being disabled in much the same way that most telemarketers view the &quot;do not call&quot; list.","body":"I guess you view WIFI being disabled in much the same way that most telemarketers view the &quot;do not call&quot; list."}],"answers":[{"tags":[],"owner":{"account_id":1399021,"reputation":1,"user_id":1328136,"display_name":"root_node"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472756454,"creation_date":1472755295,"answer_id":39278733,"question_id":39050022,"body_markdown":"After your app detect beacon from BLE\r\n\r\n - Turn ON/Enable Wifi, if its off. \r\n - Disable all other network configuration except the one which has your &quot;Wi-fi SSID&quot;. You should use the networkId to identify the configuration. API to disable configuration is https://developer.android.com/reference/android/net/wifi/WifiManager.html#disableNetwork(int) OR you can disable all other configuration while enabling your network using https://developer.android.com/reference/android/net/wifi/WifiManager.html#enableNetwork()\r\n\r\n - You will be connected to your SSID if its available.\r\n\r\nAs a well behaved app, you should re-enable all the network configuration before the app exits.","title":"Connect to particular wifi in Android using Android library when wifi was disabled in phone","body":"<p>After your app detect beacon from BLE</p>\n\n<ul>\n<li>Turn ON/Enable Wifi, if its off. </li>\n<li><p>Disable all other network configuration except the one which has your \"Wi-fi SSID\". You should use the networkId to identify the configuration. API to disable configuration is <a href=\"https://developer.android.com/reference/android/net/wifi/WifiManager.html#disableNetwork(int)\" rel=\"nofollow\">https://developer.android.com/reference/android/net/wifi/WifiManager.html#disableNetwork(int)</a> OR you can disable all other configuration while enabling your network using <a href=\"https://developer.android.com/reference/android/net/wifi/WifiManager.html#enableNetwork()\" rel=\"nofollow\">https://developer.android.com/reference/android/net/wifi/WifiManager.html#enableNetwork()</a></p></li>\n<li><p>You will be connected to your SSID if its available.</p></li>\n</ul>\n\n<p>As a well behaved app, you should re-enable all the network configuration before the app exits.</p>\n"}],"owner":{"account_id":5932799,"reputation":31,"user_id":4666766,"accept_rate":0,"display_name":"Awadhesh Maurya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700893792,"creation_date":1471661767,"question_id":39050022,"body_markdown":"I am working on Android application which involves connecting a particular WiFi SSID without password. Whenever user enters in the premises app detect a specific beacon via BLE. After that app try to connect a WiFi programmed in app code using WifiManager.\r\nHere I am facing some issue:\r\n1) If WiFi already disabled in phone - App enables WiFi and try to connect to already configured WiFi (may be alphabetic order). In this case it may connect another WiFi which is available and configured in phone instead of connection to my SSID.\r\n\r\n2) If WiFi enabled in phone: If WiFi already enabled App reconnect to my SSID which is correct.\r\n\r\n3) WiFi disabled and my SSID is not configured in phone. It wont connect to WiFi.\r\n\r\nCases 1 and 3 really headache. How I am doing in program please see the code:\r\n\r\n\t// wifi\r\n\tWifiManager wifiManager= (WifiManager) getSystemService(Context.WIFI_SERVICE);\r\n\t// setup a wifi configuration\r\n\tWifiConfiguration wc= new WifiConfiguration();\r\n\twc.SSID = &quot;\\&quot;mySSID\\&quot;&quot;;\r\n\t\r\n\twc.status = WifiConfiguration.Status.ENABLED;\r\n\ttry {\r\n\tThread.sleep(1000);\r\n\t} catch (InterruptedException e) {}\r\n\r\n\twc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\r\n\twc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\r\n\twc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);\r\n\twc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\r\n\twc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\r\n\twc.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\r\n\t// connect to and enable the connection\r\n\r\n\tint netId = wifiManager.addNetwork(wc);\r\n\twifiManager.enableNetwork(netId, true);\r\n\twifiManager.setWifiEnabled(true);\r\n\twifiManager.reconnect();\r\n\r\n","title":"Connect to particular wifi in Android using Android library when wifi was disabled in phone","body":"<p>I am working on Android application which involves connecting a particular WiFi SSID without password. Whenever user enters in the premises app detect a specific beacon via BLE. After that app try to connect a WiFi programmed in app code using WifiManager.\nHere I am facing some issue:\n1) If WiFi already disabled in phone - App enables WiFi and try to connect to already configured WiFi (may be alphabetic order). In this case it may connect another WiFi which is available and configured in phone instead of connection to my SSID.</p>\n\n<p>2) If WiFi enabled in phone: If WiFi already enabled App reconnect to my SSID which is correct.</p>\n\n<p>3) WiFi disabled and my SSID is not configured in phone. It wont connect to WiFi.</p>\n\n<p>Cases 1 and 3 really headache. How I am doing in program please see the code:</p>\n\n<pre><code>// wifi\nWifiManager wifiManager= (WifiManager) getSystemService(Context.WIFI_SERVICE);\n// setup a wifi configuration\nWifiConfiguration wc= new WifiConfiguration();\nwc.SSID = \"\\\"mySSID\\\"\";\n\nwc.status = WifiConfiguration.Status.ENABLED;\ntry {\nThread.sleep(1000);\n} catch (InterruptedException e) {}\n\nwc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\nwc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\nwc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);\nwc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\nwc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\nwc.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\n// connect to and enable the connection\n\nint netId = wifiManager.addNetwork(wc);\nwifiManager.enableNetwork(netId, true);\nwifiManager.setWifiEnabled(true);\nwifiManager.reconnect();\n</code></pre>\n"},{"tags":["java","android","httpurlconnection","comet"],"comments":[{"owner":{"account_id":938666,"reputation":16901,"user_id":967142,"display_name":"Jens"},"score":1,"creation_date":1328174175,"post_id":9109487,"comment_id":11444092,"body_markdown":"You probably need to increase the read timeout - since the message you receive explicitly states that the read timed out. Look [here](http://docs.oracle.com/javase/1.5.0/docs/api/java/net/URLConnection.html#setReadTimeout%28int%29) (for instance).","body":"You probably need to increase the read timeout - since the message you receive explicitly states that the read timed out. Look <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/URLConnection.html#setReadTimeout%28int%29\" rel=\"nofollow noreferrer\">here</a> (for instance)."},{"owner":{"account_id":84360,"reputation":4216,"user_id":235878,"accept_rate":72,"display_name":"Patrick"},"score":0,"creation_date":1328174502,"post_id":9109487,"comment_id":11444190,"body_markdown":"Yeah, I also think about it. But the default timeout value is 0, which means it should wait forever. From the log, it&#39;s indeed took longer than 50seconds to generate timeout (~5min).","body":"Yeah, I also think about it. But the default timeout value is 0, which means it should wait forever. From the log, it&#39;s indeed took longer than 50seconds to generate timeout (~5min)."},{"owner":{"account_id":84360,"reputation":4216,"user_id":235878,"accept_rate":72,"display_name":"Patrick"},"score":0,"creation_date":1328232618,"post_id":9109487,"comment_id":11463692,"body_markdown":"@Jens You&#39;re correct! Although the default timeout values were set to 0, I still need to set the timeout value manually. After I set them to 70000 (70sec), the program ran successfully. Oddly, the same code run on PC doesn&#39;t have these behavior and I didn&#39;t need to set the timeout value.","body":"@Jens You&#39;re correct! Although the default timeout values were set to 0, I still need to set the timeout value manually. After I set them to 70000 (70sec), the program ran successfully. Oddly, the same code run on PC doesn&#39;t have these behavior and I didn&#39;t need to set the timeout value."},{"owner":{"account_id":938666,"reputation":16901,"user_id":967142,"display_name":"Jens"},"score":1,"creation_date":1328255579,"post_id":9109487,"comment_id":11467542,"body_markdown":"Yup, Android doesn&#39;t always do what you expect it to.","body":"Yup, Android doesn&#39;t always do what you expect it to."}],"answers":[{"tags":[],"owner":{"account_id":84360,"reputation":4216,"user_id":235878,"accept_rate":72,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1328232858,"creation_date":1328232858,"answer_id":9122588,"question_id":9109487,"body_markdown":"Even though the timeout value was set to 0 by default (meaning wait infinitely), I found I still need to explicit set the timeout value in order to not raise IOException.\r\n\r\n    setConnectTimeout(70000);\r\n    setReadTimeout(70000);\r\n\r\nThis is only needed on android but not Windows...\r\n\r\n ","title":"HttpURLConnection timeout on long polling (comet) - android","body":"<p>Even though the timeout value was set to 0 by default (meaning wait infinitely), I found I still need to explicit set the timeout value in order to not raise IOException.</p>\n\n<pre><code>setConnectTimeout(70000);\nsetReadTimeout(70000);\n</code></pre>\n\n<p>This is only needed on android but not Windows...</p>\n"}],"owner":{"account_id":84360,"reputation":4216,"user_id":235878,"accept_rate":72,"display_name":"Patrick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9122588,"answer_count":1,"score":0,"last_activity_date":1700893646,"creation_date":1328173142,"question_id":9109487,"body_markdown":"I&#39;m trying to retrieve a json string from a comet URL link.\r\n\r\nHere is the API link: http://www.plurk.com/API#realtime\r\nHere is the description:\r\n\r\n&gt; You&#39;ll get an URL from /APP/Realtime/getUserChannel and you do GET requests to this URL to get new data. Your request will sleep for about 50 seconds before returning a response if there is no new data added to your channel. You won&#39;t get notifications on responses that the logged in user adds, but you will get notifications for new plurks. \r\n\r\nI was able to obtain the comet_server url and paste that to firefox and get the result manually. However, when I tried to get these json string in android, I only got timeout error.\r\n\r\n&gt; 01:48:51.698\t\tcom.net.xerothermic.plurk\tINFO\tPLURK\thttp://comet58.plurk.com:80/comet?channel=...&amp;offset=0\r\n&gt; \r\n01:53:43.680\t\tcom.net.xerothermic.plurk\tERROR\tPLURK\tHTTP con. get\r\n&gt; response error:Connection timed out\r\n\r\nHere is the code I used to retrieve the data.\r\n\r\n        URL url = new URL(urlString);\r\n        HttpURLConnection conn = null;\r\n        try\r\n        {\r\n            conn = (HttpURLConnection) url.openConnection();\r\n        }\r\n        catch (IOException ex)\r\n        {\r\n            Log.e(&quot;PLURK&quot;, &quot;HTTP con. open error:&quot; + ex.getMessage());\r\n            return &quot;&quot;;\r\n        }\r\n        try\r\n        {\r\n            conn.setRequestMethod(&quot;GET&quot;);\r\n        }\r\n        catch (ProtocolException ex)\r\n        {\r\n            Log.e(&quot;PLURK&quot;, &quot;HTTP con. set method error:&quot; + ex.getMessage());\r\n        }\r\n        try\r\n        {\r\n            return conn.getResponseMessage();\r\n        }\r\n        catch (IOException ex)\r\n        {\r\n            Log.e(&quot;PLURK&quot;, &quot;HTTP con. get response error:&quot; + ex.getMessage());\r\n            return &quot;&quot;;\r\n        }\r\n\r\nAny suggestion is much appreciated!\r\n\r\n**EDIT:** here is the output from a browser. Did I miss to set some properties? \r\n![enter image description here][1]\r\n \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/gtWSK.png","title":"HttpURLConnection timeout on long polling (comet) - android","body":"<p>I'm trying to retrieve a json string from a comet URL link.</p>\n\n<p>Here is the API link: <a href=\"http://www.plurk.com/API#realtime\" rel=\"nofollow noreferrer\">http://www.plurk.com/API#realtime</a>\nHere is the description:</p>\n\n<blockquote>\n  <p>You'll get an URL from /APP/Realtime/getUserChannel and you do GET requests to this URL to get new data. Your request will sleep for about 50 seconds before returning a response if there is no new data added to your channel. You won't get notifications on responses that the logged in user adds, but you will get notifications for new plurks. </p>\n</blockquote>\n\n<p>I was able to obtain the comet_server url and paste that to firefox and get the result manually. However, when I tried to get these json string in android, I only got timeout error.</p>\n\n<blockquote>\n  <p>01:48:51.698      com.net.xerothermic.plurk   INFO    PLURK   <a href=\"http://comet58.plurk.com:80/comet?channel=...&amp;offset=0\" rel=\"nofollow noreferrer\">http://comet58.plurk.com:80/comet?channel=...&amp;offset=0</a></p>\n  \n  <p>01:53:43.680        com.net.xerothermic.plurk   ERROR   PLURK   HTTP con. get\n  response error:Connection timed out</p>\n</blockquote>\n\n<p>Here is the code I used to retrieve the data.</p>\n\n<pre><code>    URL url = new URL(urlString);\n    HttpURLConnection conn = null;\n    try\n    {\n        conn = (HttpURLConnection) url.openConnection();\n    }\n    catch (IOException ex)\n    {\n        Log.e(\"PLURK\", \"HTTP con. open error:\" + ex.getMessage());\n        return \"\";\n    }\n    try\n    {\n        conn.setRequestMethod(\"GET\");\n    }\n    catch (ProtocolException ex)\n    {\n        Log.e(\"PLURK\", \"HTTP con. set method error:\" + ex.getMessage());\n    }\n    try\n    {\n        return conn.getResponseMessage();\n    }\n    catch (IOException ex)\n    {\n        Log.e(\"PLURK\", \"HTTP con. get response error:\" + ex.getMessage());\n        return \"\";\n    }\n</code></pre>\n\n<p>Any suggestion is much appreciated!</p>\n\n<p><strong>EDIT:</strong> here is the output from a browser. Did I miss to set some properties? \n<img src=\"https://i.stack.imgur.com/gtWSK.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-webflux","project-reactor","flux","buffering"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1700902209,"post_id":77545642,"comment_id":136711119,"body_markdown":"The behaviour in the first case is &quot;accidental&quot;. flatMap launches concurrently tasks, and break guarantee of ordering. It may very well have displayed 1 or 3 elements before failing, instead of 0. From your question, I think what you want is a **Transaction**. But Reactor itself does not offer any transaction operator. You will have to look at how your database driver (jdbc, r2dbc, jpa, jooq, etc.) manage transactions.","body":"The behaviour in the first case is &quot;accidental&quot;. flatMap launches concurrently tasks, and break guarantee of ordering. It may very well have displayed 1 or 3 elements before failing, instead of 0. From your question, I think what you want is a <b>Transaction</b>. But Reactor itself does not offer any transaction operator. You will have to look at how your database driver (jdbc, r2dbc, jpa, jooq, etc.) manage transactions."},{"owner":{"account_id":4760821,"reputation":133,"user_id":3848246,"accept_rate":75,"display_name":"user3848246"},"score":0,"creation_date":1700919324,"post_id":77545642,"comment_id":136712402,"body_markdown":"My db is DynamoDB and it has no transaction support in the way as relational databases have. TransactWriteItems is not an option in my case.","body":"My db is DynamoDB and it has no transaction support in the way as relational databases have. TransactWriteItems is not an option in my case."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":1,"creation_date":1700926209,"post_id":77545642,"comment_id":136712968,"body_markdown":"In the first case _buffer_ is the whole flux, and it stops with an error because the flux fails to complete. The second with two element buffer, it emits the first part, then it stops with the same error too. To me, both behave the same way, you just define a different number of elements until it stops.","body":"In the first case <i>buffer</i> is the whole flux, and it stops with an error because the flux fails to complete. The second with two element buffer, it emits the first part, then it stops with the same error too. To me, both behave the same way, you just define a different number of elements until it stops."}],"owner":{"account_id":4760821,"reputation":133,"user_id":3848246,"accept_rate":75,"display_name":"user3848246"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700893505,"creation_date":1700859642,"question_id":77545642,"body_markdown":"I have the following code which throws error and no flux elements is &quot;processed&quot; so printed on the screen:\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;Z&quot;, &quot;D&quot;)\r\n                .flatMap(Test::validate)\r\n                .collectList()\r\n                .subscribe(System.out::println);\r\n    }\r\n\r\n    private static Mono&lt;String&gt; validate(String s) {\r\n        return &quot;Z&quot;.equals(s) ? Mono.error(new RuntimeException(&quot;It&#39;s Z!&quot;)) : Mono.just(s);\r\n    }\r\n}\r\n```\r\nBut let&#39;s say I want to improve performance with buffering and change main method to:\r\n```\r\n    public static void main(String[] args) {\r\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;Z&quot;, &quot;D&quot;)\r\n                .flatMap(Test::validate)\r\n                .buffer(2)\r\n                .subscribe(System.out::println);\r\n    }\r\n```\r\nThis time error is thrown as well but 2 first elements belonging to first buffer are &quot;processed&quot; and displayed on the screen. **How to make program behaving like in the first case \r\n where no flux elements is processed and keep buffering?** This is ilustration of much more complex problem of mine. Introducing buffering gives big performance boost but if one element in the flux fails to validate, some elements are saved to the database while nothing should be saved.","title":"How to validate flux elements that are later buffered?","body":"<p>I have the following code which throws error and no flux elements is &quot;processed&quot; so printed on the screen:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;Z&quot;, &quot;D&quot;)\n                .flatMap(Test::validate)\n                .collectList()\n                .subscribe(System.out::println);\n    }\n\n    private static Mono&lt;String&gt; validate(String s) {\n        return &quot;Z&quot;.equals(s) ? Mono.error(new RuntimeException(&quot;It's Z!&quot;)) : Mono.just(s);\n    }\n}\n</code></pre>\n<p>But let's say I want to improve performance with buffering and change main method to:</p>\n<pre><code>    public static void main(String[] args) {\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;Z&quot;, &quot;D&quot;)\n                .flatMap(Test::validate)\n                .buffer(2)\n                .subscribe(System.out::println);\n    }\n</code></pre>\n<p>This time error is thrown as well but 2 first elements belonging to first buffer are &quot;processed&quot; and displayed on the screen. <strong>How to make program behaving like in the first case\nwhere no flux elements is processed and keep buffering?</strong> This is ilustration of much more complex problem of mine. Introducing buffering gives big performance boost but if one element in the flux fails to validate, some elements are saved to the database while nothing should be saved.</p>\n"},{"tags":["java","react-native","kotlin","gradle","react-native-safe-area-view"],"owner":{"account_id":24389121,"reputation":11,"user_id":18319360,"display_name":"slinkyt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700893411,"creation_date":1700893411,"question_id":77546863,"body_markdown":"I am attempting to assemble a react native project for android, and am repeatedly running into this issue:\r\n\r\n\r\n```\r\nWhat went wrong:\r\nExecution failed for task &#39;:react-native-safe-area-context:compileDebugKotlin&#39;.\r\n&gt; Inconsistent JVM-target compatibility detected for tasks &#39;compileDebugJavaWithJavac&#39; (1.8) and &#39;compileDebugKotlin&#39; (17).\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:react-native-safe-area-context:compileDebugKotlin&#39;.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)        \r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)        \r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:338)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:325)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:318)      \r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:304)      \r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:116)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:136)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:121)\r\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:35)\r\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\r\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\r\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)        \r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)        \r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\r\n        at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:172)\r\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n        at org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:185)\r\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n        at org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:185)\r\n        at org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:172)\r\n        at org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:209)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n        at org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:172)\r\n        at org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:47)\r\n        at org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:191)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: org.gradle.api.InvalidUserCodeException: Inconsistent JVM-target compatibility detected for tasks &#39;compileDebugJavaWithJavac&#39; (1.8) and &#39;compileDebugKotlin&#39; (17).\r\n```\r\n\r\nI was previously having this issue with other React Native packages prior to setting my kotlin version from 1.8 to 1.9.20. I believe this fixed the issue for other packages, but not this one. I do not understand why this package is still using kotlin gradle plugin 1.8 instead of 1.9.20. I am using Gradle 8.0.1 and jdk 17. Here is my android/build.gradle file:\r\n\r\n\r\n```\r\nbuildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;30.0.3&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 31\r\n        targetSdkVersion = 31\r\n        kotlinVersion = &quot;1.9.20&quot;\r\n    }\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url &#39;https://mvnrepository.com/artifact/com.android.tools.build/gradle&#39; }\r\n        maven { url &quot;https://maven.google.com&quot; }\r\n    }\r\n    dependencies {\r\n        classpath(&quot;com.android.tools.build:gradle:8.0.1&quot;)\r\n        classpath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.20&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenLocal()\r\n        maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../android&quot;))\r\n        }\r\n        maven {\r\n            // Android JSC is installed from npm\r\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;jsc-android/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../dist&quot;))\r\n        }\r\n        google()\r\n        mavenCentral()\r\n        jcenter()\r\n        maven { url &#39;https://www.jitpack.io&#39; }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nconfigurations.all {\r\n    resolutionStrategy {\r\n        force &#39;androidx.core:core-ktx:1.6.0&#39;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have added the kotlin-android plugin to my app/build.gradle file\r\n\r\n```\r\nplugins {\r\n    id &quot;com.android.application&quot;\r\n    id &quot;kotlin-android&quot;\r\n}\r\n```\r\nset source and target compatibility to Java version 17, set jvm toolchain to 17 for kotlin, and set the jvm target to 17 for kotlinOptions in the android block\r\n\r\n```\r\nandroid {\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n    compileSdkVersion 31\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n\r\n    kotlin {\r\n        jvmToolchain(17)\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = JavaVersion.VERSION_17\r\n    }\r\n    //...\r\n}\r\n```\r\nhoping to resolve this error, but unfortunately it is still occurring. I have tried looking into the other results that come up when I search this issue, but have not had any luck with them either. Any help would be much appreciated.\r\n\r\n","title":"JVM target compatibility issues for react-native-safe-area-context","body":"<p>I am attempting to assemble a react native project for android, and am repeatedly running into this issue:</p>\n<pre><code>What went wrong:\nExecution failed for task ':react-native-safe-area-context:compileDebugKotlin'.\n&gt; Inconsistent JVM-target compatibility detected for tasks 'compileDebugJavaWithJavac' (1.8) and 'compileDebugKotlin' (17).\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':react-native-safe-area-context:compileDebugKotlin'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)        \n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)        \n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:338)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:325)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:318)      \n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:304)      \n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n        at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:116)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:136)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:121)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:35)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)        \n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)        \n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:172)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\n        at org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:185)\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n        at org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:185)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:172)\n        at org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:209)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n        at org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:172)\n        at org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:47)\n        at org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:191)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: org.gradle.api.InvalidUserCodeException: Inconsistent JVM-target compatibility detected for tasks 'compileDebugJavaWithJavac' (1.8) and 'compileDebugKotlin' (17).\n</code></pre>\n<p>I was previously having this issue with other React Native packages prior to setting my kotlin version from 1.8 to 1.9.20. I believe this fixed the issue for other packages, but not this one. I do not understand why this package is still using kotlin gradle plugin 1.8 instead of 1.9.20. I am using Gradle 8.0.1 and jdk 17. Here is my android/build.gradle file:</p>\n<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;30.0.3&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 31\n        targetSdkVersion = 31\n        kotlinVersion = &quot;1.9.20&quot;\n    }\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://mvnrepository.com/artifact/com.android.tools.build/gradle' }\n        maven { url &quot;https://maven.google.com&quot; }\n    }\n    dependencies {\n        classpath(&quot;com.android.tools.build:gradle:8.0.1&quot;)\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.20'\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../android&quot;))\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('jsc-android/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../dist&quot;))\n        }\n        google()\n        mavenCentral()\n        jcenter()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations.all {\n    resolutionStrategy {\n        force 'androidx.core:core-ktx:1.6.0'\n    }\n}\n</code></pre>\n<p>I have added the kotlin-android plugin to my app/build.gradle file</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n}\n</code></pre>\n<p>set source and target compatibility to Java version 17, set jvm toolchain to 17 for kotlin, and set the jvm target to 17 for kotlinOptions in the android block</p>\n<pre><code>android {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    compileSdkVersion 31\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n\n    kotlin {\n        jvmToolchain(17)\n    }\n\n    kotlinOptions {\n        jvmTarget = JavaVersion.VERSION_17\n    }\n    //...\n}\n</code></pre>\n<p>hoping to resolve this error, but unfortunately it is still occurring. I have tried looking into the other results that come up when I search this issue, but have not had any luck with them either. Any help would be much appreciated.</p>\n"},{"tags":["java","spring-boot","oracle11g","xml-parsing","spring-jdbc"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1700898886,"post_id":77546058,"comment_id":136710832,"body_markdown":"What Java version are you using?","body":"What Java version are you using?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1700898942,"post_id":77546058,"comment_id":136710834,"body_markdown":"You have different versions in the title and the question itself, which one is it? 3.1.2 or 3.2.1?","body":"You have different versions in the title and the question itself, which one is it? 3.1.2 or 3.2.1?"}],"owner":{"account_id":27645387,"reputation":1,"user_id":21101405,"display_name":"rao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700893161,"creation_date":1700868138,"question_id":77546058,"body_markdown":"I am upgrading from java 8 to spring boot 3.1.2, java 17. I am able to build the application, but run time getting this error. what are the clues.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:121)\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150)\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\r\n        at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\r\n        at com.jpmc.cib.payments.psfxEmailNotification.processor.EmailNotificationJob.&lt;clinit&gt;(EmailNotificationJob.java:25)\r\nCaused by: java.lang.IllegalStateException: Unable to load cache item\r\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\r\n        at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:105)\r\n        at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:278)\r\n        at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n        at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n        at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n        at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n        ... 10 more\r\nCaused by: java.lang.NoSuchMethodError: &#39;void org.springframework.asm.Item.set(int, java.lang.String, java.lang.String, java.lang.String)&#39;\r\n        at org.springframework.asm.ClassWriter.newClassItem(ClassWriter.java:1110)\r\n        at org.springframework.asm.ClassWriter.newClass(ClassWriter.java:1131)\r\n        at org.springframework.asm.ClassWriter.visit(ClassWriter.java:669)\r\n        at org.springframework.asm.ClassVisitor.visit(ClassVisitor.java:121)\r\n        at org.springframework.cglib.core.DebuggingClassWriter.visit(DebuggingClassWriter.java:60)\r\n        at org.springframework.cglib.core.ClassEmitter.begin_class(ClassEmitter.java:83)\r\n        at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:249)\r\n        at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n        at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:312)\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:85)\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:83)\r\n        at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n        ... 17 more\r\n```\r\n\r\ndependency\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.springframework.asm&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ao9Xn.png","title":"getting issue unable to load cache item while upgrading java 8 to java17 with spring boot 3.2.1","body":"<p>I am upgrading from java 8 to spring boot 3.1.2, java 17. I am able to build the application, but run time getting this error. what are the clues.</p>\n<p><a href=\"https://i.stack.imgur.com/ao9Xn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ao9Xn.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:121)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\n        at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\n        at com.jpmc.cib.payments.psfxEmailNotification.processor.EmailNotificationJob.&lt;clinit&gt;(EmailNotificationJob.java:25)\nCaused by: java.lang.IllegalStateException: Unable to load cache item\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\n        at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:105)\n        at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:278)\n        at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n        at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\n        at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\n        at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n        ... 10 more\nCaused by: java.lang.NoSuchMethodError: 'void org.springframework.asm.Item.set(int, java.lang.String, java.lang.String, java.lang.String)'\n        at org.springframework.asm.ClassWriter.newClassItem(ClassWriter.java:1110)\n        at org.springframework.asm.ClassWriter.newClass(ClassWriter.java:1131)\n        at org.springframework.asm.ClassWriter.visit(ClassWriter.java:669)\n        at org.springframework.asm.ClassVisitor.visit(ClassVisitor.java:121)\n        at org.springframework.cglib.core.DebuggingClassWriter.visit(DebuggingClassWriter.java:60)\n        at org.springframework.cglib.core.ClassEmitter.begin_class(ClassEmitter.java:83)\n        at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:249)\n        at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n        at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:312)\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:85)\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:83)\n        at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n        ... 17 more\n</code></pre>\n<p>dependency</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;org.springframework.asm&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","collections","java-8","max"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700892957,"post_id":77101839,"comment_id":136710462,"body_markdown":"Your Question is not completely clear about wanting to examine subgroups of objects that share the same value in the `name` field.  Rewrite to be more explicit.","body":"Your Question is not completely clear about wanting to examine subgroups of objects that share the same value in the <code>name</code> field.  Rewrite to be more explicit."}],"answers":[{"tags":[],"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700891660,"creation_date":1694667740,"answer_id":77101901,"question_id":77101839,"body_markdown":"You want to collect your items into a Map, which will automatically resolve conflicts and provide a lambda function to reduce the values into your requirements: here, the highest quantity. The code should look like this:\r\n\r\n    List&lt;Item&gt; maxItems = itemList.stream()\r\n        .collect(Collectors.toMap(\r\n            Item::getName,\r\n            Function.identity(),\r\n            (item1, item2) -&gt; item1.getQuantity() &gt;= item2.getQuantity() ? item1 : item2\r\n        )).values();\r\n\r\nThe `.values()` extracts the List (from the Map) for all highest quantity items.","title":"how to get all the different elements with max quantity from a list of objects in java 8","body":"<p>You want to collect your items into a Map, which will automatically resolve conflicts and provide a lambda function to reduce the values into your requirements: here, the highest quantity. The code should look like this:</p>\n<pre><code>List&lt;Item&gt; maxItems = itemList.stream()\n    .collect(Collectors.toMap(\n        Item::getName,\n        Function.identity(),\n        (item1, item2) -&gt; item1.getQuantity() &gt;= item2.getQuantity() ? item1 : item2\n    )).values();\n</code></pre>\n<p>The <code>.values()</code> extracts the List (from the Map) for all highest quantity items.</p>\n"},{"tags":[],"owner":{"account_id":29120678,"reputation":301,"user_id":22308196,"display_name":"Beulah Evanjalin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694668045,"creation_date":1694668045,"answer_id":77101929,"question_id":77101839,"body_markdown":"Your approach filter items that have a quantity equal to the global maximum. But you want the maximum quantity for each item name right? So you should do something like the following. \r\n\r\n```\r\nList&lt;Item&gt; maxQuantityItems = itemList.stream()\r\n                .collect(Collectors.groupingBy(Item::getName))\r\n                .values()\r\n                .stream()\r\n                .map(items -&gt; items.stream().max(Comparator.comparingInt(Item::getQuantity)).orElse(null))\r\n                .collect(Collectors.toList());\r\n```\r\n\r\n","title":"how to get all the different elements with max quantity from a list of objects in java 8","body":"<p>Your approach filter items that have a quantity equal to the global maximum. But you want the maximum quantity for each item name right? So you should do something like the following.</p>\n<pre><code>List&lt;Item&gt; maxQuantityItems = itemList.stream()\n                .collect(Collectors.groupingBy(Item::getName))\n                .values()\n                .stream()\n                .map(items -&gt; items.stream().max(Comparator.comparingInt(Item::getQuantity)).orElse(null))\n                .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700892596,"creation_date":1694674462,"answer_id":77102459,"question_id":77101839,"body_markdown":"[`PriorityQueue`][1] is your friend:\r\n```java\r\npublic static Iterator&lt;Item&gt; sortByQuantityDesc(List&lt;Item&gt; items) {\r\n    Queue&lt;Item&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(Item::getQuantity).reversed());\r\n    queue.addAll(items);\r\n    return queue.iterator();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/PriorityQueue.html","title":"how to get all the different elements with max quantity from a list of objects in java 8","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><code>PriorityQueue</code></a> is your friend:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Iterator&lt;Item&gt; sortByQuantityDesc(List&lt;Item&gt; items) {\n    Queue&lt;Item&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(Item::getQuantity).reversed());\n    queue.addAll(items);\n    return queue.iterator();\n}\n</code></pre>\n"}],"owner":{"account_id":7770724,"reputation":48,"user_id":5880404,"display_name":"Rajib Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1700892596,"creation_date":1694666678,"question_id":77101839,"body_markdown":"I have a list of item. \r\n\r\n    class Item {\r\n      private String name;\r\n      private int quantity;\r\n\r\n    }\r\nThe List contains items like \r\n\r\n    List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\r\n    itemList.add(new Item(&quot;Item1&quot;, 5));\r\n    itemList.add(new Item(&quot;Item2&quot;, 10));\r\n    itemList.add(new Item(&quot;Item3&quot;, 10));\r\n    itemList.add(new Item(&quot;Item4&quot;, 7));\r\n    itemList.add(new Item(&quot;Item1&quot;, 15));\r\n    itemList.add(new Item(&quot;Item2&quot;, 16));\r\nThe output will be a list of items with max quantity like list of Item(&quot;Item1&quot;, 15), Item(&quot;Item2&quot;, 16), Item(&quot;Item3&quot;, 10), Item(&quot;Item4&quot;, 7).\r\n\r\nI tried but not getting the exact result.\r\n\r\n    List&lt;Item&gt; maxQuantityItems = itemList.stream()\r\n                .filter(item -&gt; item.getQuantity() == maxQuantity)\r\n                .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing(Item::getName))));\r\n\r\n\r\n ","title":"how to get all the different elements with max quantity from a list of objects in java 8","body":"<p>I have a list of item.</p>\n<pre><code>class Item {\n  private String name;\n  private int quantity;\n\n}\n</code></pre>\n<p>The List contains items like</p>\n<pre><code>List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\nitemList.add(new Item(&quot;Item1&quot;, 5));\nitemList.add(new Item(&quot;Item2&quot;, 10));\nitemList.add(new Item(&quot;Item3&quot;, 10));\nitemList.add(new Item(&quot;Item4&quot;, 7));\nitemList.add(new Item(&quot;Item1&quot;, 15));\nitemList.add(new Item(&quot;Item2&quot;, 16));\n</code></pre>\n<p>The output will be a list of items with max quantity like list of Item(&quot;Item1&quot;, 15), Item(&quot;Item2&quot;, 16), Item(&quot;Item3&quot;, 10), Item(&quot;Item4&quot;, 7).</p>\n<p>I tried but not getting the exact result.</p>\n<pre><code>List&lt;Item&gt; maxQuantityItems = itemList.stream()\n            .filter(item -&gt; item.getQuantity() == maxQuantity)\n            .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing(Item::getName))));\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"owner":{"account_id":29980082,"reputation":1,"user_id":22975283,"display_name":"mannam jayanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700888438,"creation_date":1700888438,"question_id":77546700,"body_markdown":"Gradle is not pulling the java files from sourcesets while running the build.Gradle it gets import statement errors in few classjava files that few import statements are referring to the classjava packages in moduleEJB and some symbol missing errors and few data type depreciation errors\r\n\r\nIt is a multi-module web application project \r\nMy project structure looks like this\r\n    Main project \r\n     |\r\n     |-moduleEar\r\n     |    build.gradle \r\n     |-moduleEJB\r\n     |    build.gradle\r\n     |-moduleWeb \r\n     |     build.gradle\r\n     |\r\n     &#39;setting.Gradle&#39;\r\n\r\nmodule web looks like \r\n     `moduleWeb\r\n      | \r\n      |-src\r\n      |   at/com\r\n      |         lea/web/cntrlls..\r\n      |         new/app/rest/..\r\n      |          Like this so many folders\r\n      |-lib         \r\n       |-build.gradle\r\n\r\nBut in eclipse the moduleWeb looks like when imported it\r\n    `Java Resources \r\n     |          \r\n       src\r\n          at.com.lea.web.cntrlls\r\n          at.com.lea.web.printers.cntrls\r\n              . . . . .  .\r\n          at.com.new.app.rest\r\n          at.com.new.app.rest\r\n              . . . . . . . . .\r\n          Like this so many packages `\r\n\r\nI think few of the classes are  have some dependency on moduleEJB\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\nI tried  in many ways\r\n     `sourceSets {\r\n      main{ \r\n        java{ \r\n          src = [src] \r\n          include **/*.java\r\n        }\r\n      resources {\r\n          src = [src] \r\n          include **/*.properties\r\n      }\r\n   }\r\n  }\r\nresources are pulling from Gradle but the java files are not able to pull\r\n\r\nAnd Also tried adding a dependency in dependencies block \r\nimplementation project(:moduleEJB)\r\n\r\nAnd add moduleEJB in the moduleWeb-&gt;build path-&gt;project-&gt;add\r\n\r\nAnd add dependency like implementation(dir: &quot;moduleEJB/ejbModule/at/com/&quot;, include: &quot;**/*.java&quot;)\r\n\r\n\r\nBut still getting the same errors\r\n","title":"build.gradle - Gradle is not able to pull the java files from source","body":"<p>Gradle is not pulling the java files from sourcesets while running the build.Gradle it gets import statement errors in few classjava files that few import statements are referring to the classjava packages in moduleEJB and some symbol missing errors and few data type depreciation errors</p>\n<p>It is a multi-module web application project\nMy project structure looks like this\nMain project\n|\n|-moduleEar\n|    build.gradle\n|-moduleEJB\n|    build.gradle\n|-moduleWeb\n|     build.gradle\n|\n'setting.Gradle'</p>\n<p>module web looks like\n`moduleWeb\n|\n|-src\n|   at/com\n|         lea/web/cntrlls..\n|         new/app/rest/..\n|          Like this so many folders\n|-lib<br />\n|-build.gradle</p>\n<p>But in eclipse the moduleWeb looks like when imported it\n<code>Java Resources  |           src at.com.lea.web.cntrlls at.com.lea.web.printers.cntrls . . . . .  . at.com.new.app.rest at.com.new.app.rest . . . . . . . . . Like this so many packages </code></p>\n<p>I think few of the classes are  have some dependency on moduleEJB</p>\n<p>I tried  in many ways\n`sourceSets {\nmain{\njava{\nsrc = [src]\ninclude <strong>/*.java\n}\nresources {\nsrc = [src]\ninclude </strong>/*.properties\n}\n}\n}\nresources are pulling from Gradle but the java files are not able to pull</p>\n<p>And Also tried adding a dependency in dependencies block\nimplementation project(:moduleEJB)</p>\n<p>And add moduleEJB in the moduleWeb-&gt;build path-&gt;project-&gt;add</p>\n<p>And add dependency like implementation(dir: &quot;moduleEJB/ejbModule/at/com/&quot;, include: &quot;**/*.java&quot;)</p>\n<p>But still getting the same errors</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1700891020,"post_id":77546638,"comment_id":136710369,"body_markdown":"Do you mean a multi-module project?","body":"Do you mean a multi-module project?"}],"owner":{"account_id":28937538,"reputation":1,"user_id":22164753,"display_name":"Carlos Orbergoso Loayza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700886265,"creation_date":1700886265,"question_id":77546638,"body_markdown":"I have this error when compiling a Multi project in gradle in the intellij editor, in Linux it works normally but in windows I have this error\r\n\r\n`Cannot locate tasks that match &#39;:maintenance-service:MaintenanceServiceApplication.main()&#39; as project &#39;maintenance-service&#39; not found in root project &#39;maintenance-service&#39;.\r\n\r\n* Try:\r\n&gt; Run gradle projects to get a list of available projects.\r\n&gt; For more on name expansion, please refer to https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:name_abbreviation in the Gradle documentation.\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\nBUILD FAILED in 943ms\r\n\r\n`\r\n\r\nI have tested it on a Linux operating system and it works normally but on Windows it gives me an error.","title":"Error when compiling project in Intellij Idea","body":"<p>I have this error when compiling a Multi project in gradle in the intellij editor, in Linux it works normally but in windows I have this error</p>\n<p>`Cannot locate tasks that match ':maintenance-service:MaintenanceServiceApplication.main()' as project 'maintenance-service' not found in root project 'maintenance-service'.</p>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run gradle projects to get a list of available projects.\nFor more on name expansion, please refer to <a href=\"https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:name_abbreviation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:name_abbreviation</a> in the Gradle documentation.\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\nGet more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>.\nBUILD FAILED in 943ms</p>\n</blockquote>\n<p>`</p>\n<p>I have tested it on a Linux operating system and it works normally but on Windows it gives me an error.</p>\n"},{"tags":["java","javafx","version"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1700883518,"post_id":77546542,"comment_id":136709977,"body_markdown":"*&quot;How would I change it from 61&quot;*  - recompile it using a Java 11 compiler.  *&quot;Why would it be that in the first place?&quot;* - because you compiled it using a Java 17 compiler!!  (If you are using an IDE ... make sure that you have Java 11 installed and that your IDE knows to use it for this project.  Details will be IDE specific ... and easily discoverable via the duplink or a a Google search.)","body":"<i>&quot;How would I change it from 61&quot;</i>  - recompile it using a Java 11 compiler.  <i>&quot;Why would it be that in the first place?&quot;</i> - because you compiled it using a Java 17 compiler!!  (If you are using an IDE ... make sure that you have Java 11 installed and that your IDE knows to use it for this project.  Details will be IDE specific ... and easily discoverable via the duplink or a a Google search.)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1700889594,"post_id":77546542,"comment_id":136710284,"body_markdown":"You didn&#39;t compile the code which isn&#39;t working in your environment. It isn&#39;t your code - it is the JavaFX SDK, so you don&#39;t need to compile it, but you do need to run it in the correct environment.  You are using JavaFX 21.  See the [openjfx.io](https://openjfx.io/openjfx-docs/#introduction) site for how to use it.  Including [&quot;Installing Java&quot;](https://openjfx.io/openjfx-docs/#install-java) -&gt; &quot;JavaFX 21 needs at least JDK 17.&quot; and [&quot;Run HelloWorld using JavaFX SDK&quot;](https://openjfx.io/openjfx-docs/#install-javafx), which provides an example of running a JavaFX app from the command line.","body":"You didn&#39;t compile the code which isn&#39;t working in your environment. It isn&#39;t your code - it is the JavaFX SDK, so you don&#39;t need to compile it, but you do need to run it in the correct environment.  You are using JavaFX 21.  See the <a href=\"https://openjfx.io/openjfx-docs/#introduction\" rel=\"nofollow noreferrer\">openjfx.io</a> site for how to use it.  Including <a href=\"https://openjfx.io/openjfx-docs/#install-java\" rel=\"nofollow noreferrer\">&quot;Installing Java&quot;</a> -&gt; &quot;JavaFX 21 needs at least JDK 17.&quot; and <a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">&quot;Run HelloWorld using JavaFX SDK&quot;</a>, which provides an example of running a JavaFX app from the command line."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1700890231,"post_id":77546542,"comment_id":136710321,"body_markdown":"Also `.java` is a source file.  You don&#39;t run source files in Java, (unless in the very rare case it is a [single file source code program](https://openjdk.org/jeps/330).  Instead you run class files.  To do that, you don&#39;t provide any extension to the name of the class you are trying to run.  Again, the openjfx documentation referenced provides an example: `java --module-path $PATH_TO_FX --add-modules javafx.controls HelloFX`.","body":"Also <code>.java</code> is a source file.  You don&#39;t run source files in Java, (unless in the very rare case it is a <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">single file source code program</a>.  Instead you run class files.  To do that, you don&#39;t provide any extension to the name of the class you are trying to run.  Again, the openjfx documentation referenced provides an example: <code>java --module-path $PATH_TO_FX --add-modules javafx.controls HelloFX</code>."}],"owner":{"account_id":29310790,"reputation":15,"user_id":22456614,"display_name":"AnonymousThankfulPerson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700883640,"answer_count":0,"score":0,"last_activity_date":1700882878,"creation_date":1700882878,"question_id":77546542,"body_markdown":"So I have been following this [post](https://stackoverflow.com/questions/62129569/how-to-run-javafx-application-from-command-line) to try and run a java file on command prompt. However, this error keeps coming up \r\n\r\n\r\n&gt;C:\\Users\\blued\\OneDrive\\Documents&gt;javac --module-path &quot;C:\\javafx-sdk-21.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml HangmanGUI.java\r\nerror: cannot access module-info\r\n  bad class file: C:\\javafx-sdk-21.0.1\\lib\\javafx.fxml.jar(/module-info.class)\r\n    class file has wrong version 61.0, should be 55.0\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\r\nerror: cannot access module-info\r\n  bad class file: C:\\javafx-sdk-21.0.1\\lib\\javafx.controls.jar(/module-info.class)\r\n    class file has wrong version 61.0, should be 55.0\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n2 errors\r\n\r\n&gt;C:\\Users\\blued\\OneDrive\\Documents&gt;java  --module-path &quot;C:\\javafx-sdk-21.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml HangmanGUI.java\r\nUnrecognized option: --module-path\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n[![image of error if that is more clear][1]][1]\r\n\r\n\r\nI&#39;ve never heard of a class file version before but I looked it up and saw this [post](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers)\r\n\r\nso apparently I should have class file version 55.0 because I have java 11 installed. That is what comes up when I check the version on command prompt. How would I change it from 61 and why would it be that in the first place? Thank you in advance. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GrL0z.png","title":"Error continues to pop up when trying to run a file with Javafx on command prompt about class file version?","body":"<p>So I have been following this <a href=\"https://stackoverflow.com/questions/62129569/how-to-run-javafx-application-from-command-line\">post</a> to try and run a java file on command prompt. However, this error keeps coming up</p>\n<blockquote>\n<p>C:\\Users\\blued\\OneDrive\\Documents&gt;javac --module-path &quot;C:\\javafx-sdk-21.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml HangmanGUI.java\nerror: cannot access module-info\nbad class file: C:\\javafx-sdk-21.0.1\\lib\\javafx.fxml.jar(/module-info.class)\nclass file has wrong version 61.0, should be 55.0\nPlease remove or make sure it appears in the correct subdirectory of the classpath.\nerror: cannot access module-info\nbad class file: C:\\javafx-sdk-21.0.1\\lib\\javafx.controls.jar(/module-info.class)\nclass file has wrong version 61.0, should be 55.0\nPlease remove or make sure it appears in the correct subdirectory of the classpath.\n2 errors</p>\n</blockquote>\n<blockquote>\n<p>C:\\Users\\blued\\OneDrive\\Documents&gt;java  --module-path &quot;C:\\javafx-sdk-21.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml HangmanGUI.java\nUnrecognized option: --module-path\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/GrL0z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GrL0z.png\" alt=\"image of error if that is more clear\" /></a></p>\n<p>I've never heard of a class file version before but I looked it up and saw this <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">post</a></p>\n<p>so apparently I should have class file version 55.0 because I have java 11 installed. That is what comes up when I check the version on command prompt. How would I change it from 61 and why would it be that in the first place? Thank you in advance.</p>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1331252882,"post_id":9619030,"comment_id":12218542,"body_markdown":"possible duplicate of [HttpClient and SSL](http://stackoverflow.com/questions/1828775/httpclient-and-ssl)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1828775/httpclient-and-ssl\">HttpClient and SSL</a>"},{"owner":{"account_id":1753416,"reputation":3533,"user_id":1601989,"accept_rate":56,"display_name":"DavidGamba"},"score":0,"creation_date":1403120138,"post_id":9619030,"comment_id":37540793,"body_markdown":"Odly enough I got this error when communicating between clustered servers that had no SSL problems individually. Once I properly set `domainname` in my RHEL servers the problem was gone. Hope it helps someone.","body":"Odly enough I got this error when communicating between clustered servers that had no SSL problems individually. Once I properly set <code>domainname</code> in my RHEL servers the problem was gone. Hope it helps someone."},{"owner":{"account_id":50774,"reputation":2588,"user_id":151503,"accept_rate":76,"display_name":"Redzarf"},"score":0,"creation_date":1464119652,"post_id":9619030,"comment_id":62350587,"body_markdown":"One other thing to check is that you have the latest version of Java - I was getting a similar error because of this.","body":"One other thing to check is that you have the latest version of Java - I was getting a similar error because of this."},{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":0,"creation_date":1523052916,"post_id":9619030,"comment_id":86416955,"body_markdown":"https://stackoverflow.com/questions/2893819/accept-servers-self-signed-ssl-certificate-in-java-client - also relevant and a fantastic answer.","body":"<a href=\"https://stackoverflow.com/questions/2893819/accept-servers-self-signed-ssl-certificate-in-java-client\" title=\"accept servers self signed ssl certificate in java client\">stackoverflow.com/questions/2893819/&hellip;</a> - also relevant and a fantastic answer."},{"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"score":0,"creation_date":1612269181,"post_id":9619030,"comment_id":116708682,"body_markdown":"First of all import you&#39;r crt file into {JAVA_HOME}/jre/security/cacerts, if you still faced with this exception, change you&#39;r jdk version. For example from jdk1.8.0_17 to jdk1.8.0_231","body":"First of all import you&#39;r crt file into {JAVA_HOME}/jre/security/cacerts, if you still faced with this exception, change you&#39;r jdk version. For example from jdk1.8.0_17 to jdk1.8.0_231"},{"owner":{"account_id":5938469,"reputation":889,"user_id":4670625,"accept_rate":67,"display_name":"David Marciel"},"score":0,"creation_date":1636461535,"post_id":9619030,"comment_id":123558234,"body_markdown":"I had this issue in windows, I found the answer here: https://stackoverflow.com/questions/41257366/import-windows-certificates-to-java","body":"I had this issue in windows, I found the answer here: <a href=\"https://stackoverflow.com/questions/41257366/import-windows-certificates-to-java\" title=\"import windows certificates to java\">stackoverflow.com/questions/41257366/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1302561,"reputation":7519,"user_id":1252186,"display_name":"SimonSez"},"down_vote_count":1,"up_vote_count":537,"is_accepted":true,"score":536,"last_activity_date":1637078768,"creation_date":1331218098,"answer_id":9619478,"question_id":9619030,"body_markdown":"You need to add the certificate for **App2** to the truststore file of the used **JVM** located at `$JAVA_HOME\\lib\\security\\cacerts`.\r\n\r\nFirst you can check if your certificate is already in the truststore by running the following command:\r\n`keytool -list -keystore &quot;$JAVA_HOME/jre/lib/security/cacerts&quot;` (you don&#39;t need to provide a password)\r\n\r\nIf your certificate is missing, you can get it by downloading it with your browser and add it to the truststore with the following command:\r\n\r\n    keytool -import -noprompt -trustcacerts -alias &lt;AliasName&gt; -file   &lt;certificate&gt; -keystore &lt;KeystoreFile&gt; -storepass &lt;Password&gt;\r\n\r\n**Example:**   \r\n\r\n    keytool -import -noprompt -trustcacerts -alias myFancyAlias -file /path/to/my/cert/myCert.cer -keystore /path/to/my/jdk/jre/lib/security/cacerts/keystore.jks -storepass changeit\r\n\r\nAfter import you can run the first command again to check if your certificate was added.\r\n\r\nSun/Oracle information can be found [here][1].\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>You need to add the certificate for <strong>App2</strong> to the truststore file of the used <strong>JVM</strong> located at <code>$JAVA_HOME\\lib\\security\\cacerts</code>.</p>\n<p>First you can check if your certificate is already in the truststore by running the following command:\n<code>keytool -list -keystore &quot;$JAVA_HOME/jre/lib/security/cacerts&quot;</code> (you don't need to provide a password)</p>\n<p>If your certificate is missing, you can get it by downloading it with your browser and add it to the truststore with the following command:</p>\n<pre><code>keytool -import -noprompt -trustcacerts -alias &lt;AliasName&gt; -file   &lt;certificate&gt; -keystore &lt;KeystoreFile&gt; -storepass &lt;Password&gt;\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>keytool -import -noprompt -trustcacerts -alias myFancyAlias -file /path/to/my/cert/myCert.cer -keystore /path/to/my/jdk/jre/lib/security/cacerts/keystore.jks -storepass changeit\n</code></pre>\n<p>After import you can run the first command again to check if your certificate was added.</p>\n<p>Sun/Oracle information can be found <a href=\"http://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1856813,"reputation":3135,"user_id":1682200,"accept_rate":51,"display_name":"NDeveloper"},"down_vote_count":2,"up_vote_count":243,"is_accepted":false,"score":241,"last_activity_date":1637225903,"creation_date":1348206645,"answer_id":12524960,"question_id":9619030,"body_markdown":"&gt;javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n When I got the error, I tried to Google out the meaning of the expression and I found, this issue occurs when a server changes their HTTPS SSL certificate, and our older version of java doesnt recognize the root certificate authority (CA).\r\n\r\n If you can access the HTTPS URL in your browser then it is possible to update Java to recognize the root CA.\r\n\r\n In your browser, go to the HTTPS URL that Java could not access. Click on the HTTPS certificate chain (there is lock icon in the Internet Explorer), click on the lock to view the certificate.\r\n\r\n Go to Details of the certificate and Copy to file. Copy it in **Base64 (.cer)** format. It will be saved on your Desktop.\r\n\r\n Install the certificate ignoring all the alerts.\r\n\r\n This is how I gathered the certificate information of the URL that I was trying to access.\r\n\r\nNow I had to make my java version to know about the certificate so that further it doesnt refuse to recognize the URL. In this respect I must mention that I googled out that root certificate information stays by default in JDKs  **\\jre\\lib\\security** location, and the default password to access is: **changeit.**\r\n\r\nTo view the cacerts information the following are the procedures to follow:\r\n\r\n Click on Start Button--&gt;Run\r\n\r\n Type cmd. The command prompt opens (you may need to open it as administrator).\r\n\r\n Go to your `Java/jreX/bin` directory\r\n\r\n Type the following\r\n\r\n    keytool -list -keystore D:\\Java\\jdk1.5.0_12\\jre\\lib\\security\\cacerts\r\n\r\nIt gives the list of the current certificates contained within the keystore. It looks something like this:\r\n\r\n\r\n    C:\\Documents and Settings\\NeelanjanaG&gt;keytool -list -keystore D:\\Java\\jdk1.5.0_12\\jre\\lib\\security\\cacerts\r\n    \r\n    Enter keystore password:  changeit\r\n    \r\n    Keystore type: jks\r\n    \r\n    Keystore provider: SUN\r\n    \r\n    Your keystore contains 44 entries\r\n    \r\n    verisignclass3g2ca, Mar 26, 2004, trustedCertEntry,\r\n    \r\n    Certificate fingerprint (MD5): A2:33:9B:4C:74:78:73:D4:6C:E7:C1:F3:8D:CB:5C:E9\r\n    \r\n    entrustclientca, Jan 9, 2003, trustedCertEntry,\r\n    \r\n    Certificate fingerprint (MD5): 0C:41:2F:13:5B:A0:54:F5:96:66:2D:7E:CD:0E:03:F4\r\n    \r\n    thawtepersonalbasicca, Feb 13, 1999, trustedCertEntry,\r\n    \r\n    Certificate fingerprint (MD5): E6:0B:D2:C9:CA:2D:88:DB:1A:71:0E:4B:78:EB:02:41\r\n    \r\n    addtrustclass1ca, May 1, 2006, trustedCertEntry,\r\n    \r\n    Certificate fingerprint (MD5): 1E:42:95:02:33:92:6B:B9:5F:C0:7F:DA:D6:B2:4B:FC\r\n    \r\n    verisignclass2g3ca, Mar 26, 2004, trustedCertEntry,\r\n    \r\n    Certificate fingerprint (MD5): F8:BE:C4:63:22:C9:A8:46:74:8B:B8:1D:1E:4A:2B:F6\r\n\r\n\r\n Now I had to include the previously installed certificate into the cacerts.\r\n\r\n For this the following is the procedure:\r\n\r\n\r\n    keytool -import -noprompt -trustcacerts -alias ALIASNAME -file FILENAME_OF_THE_INSTALLED_CERTIFICATE -keystore PATH_TO_CACERTS_FILE -storepass PASSWORD\r\n\r\nIf you are using Java 7:\r\n\r\n    keytool -importcert -trustcacerts -alias ALIASNAME -file PATH_TO_FILENAME_OF_THE_INSTALLED_CERTIFICATE -keystore PATH_TO_CACERTS_FILE -storepass changeit\r\n\r\n It will then add the certificate information into the cacert file.\r\n\r\nIt is the solution I found for the Exception mentioned above!!","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<blockquote>\n<p>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n</blockquote>\n<p> When I got the error, I tried to Google out the meaning of the expression and I found, this issue occurs when a server changes their HTTPS SSL certificate, and our older version of java doesnt recognize the root certificate authority (CA).</p>\n<p> If you can access the HTTPS URL in your browser then it is possible to update Java to recognize the root CA.</p>\n<p> In your browser, go to the HTTPS URL that Java could not access. Click on the HTTPS certificate chain (there is lock icon in the Internet Explorer), click on the lock to view the certificate.</p>\n<p> Go to Details of the certificate and Copy to file. Copy it in <strong>Base64 (.cer)</strong> format. It will be saved on your Desktop.</p>\n<p> Install the certificate ignoring all the alerts.</p>\n<p> This is how I gathered the certificate information of the URL that I was trying to access.</p>\n<p>Now I had to make my java version to know about the certificate so that further it doesnt refuse to recognize the URL. In this respect I must mention that I googled out that root certificate information stays by default in JDKs  <strong>\\jre\\lib\\security</strong> location, and the default password to access is: <strong>changeit.</strong></p>\n<p>To view the cacerts information the following are the procedures to follow:</p>\n<p> Click on Start Button--&gt;Run</p>\n<p> Type cmd. The command prompt opens (you may need to open it as administrator).</p>\n<p> Go to your <code>Java/jreX/bin</code> directory</p>\n<p> Type the following</p>\n<pre><code>keytool -list -keystore D:\\Java\\jdk1.5.0_12\\jre\\lib\\security\\cacerts\n</code></pre>\n<p>It gives the list of the current certificates contained within the keystore. It looks something like this:</p>\n<pre><code>C:\\Documents and Settings\\NeelanjanaG&gt;keytool -list -keystore D:\\Java\\jdk1.5.0_12\\jre\\lib\\security\\cacerts\n\nEnter keystore password:  changeit\n\nKeystore type: jks\n\nKeystore provider: SUN\n\nYour keystore contains 44 entries\n\nverisignclass3g2ca, Mar 26, 2004, trustedCertEntry,\n\nCertificate fingerprint (MD5): A2:33:9B:4C:74:78:73:D4:6C:E7:C1:F3:8D:CB:5C:E9\n\nentrustclientca, Jan 9, 2003, trustedCertEntry,\n\nCertificate fingerprint (MD5): 0C:41:2F:13:5B:A0:54:F5:96:66:2D:7E:CD:0E:03:F4\n\nthawtepersonalbasicca, Feb 13, 1999, trustedCertEntry,\n\nCertificate fingerprint (MD5): E6:0B:D2:C9:CA:2D:88:DB:1A:71:0E:4B:78:EB:02:41\n\naddtrustclass1ca, May 1, 2006, trustedCertEntry,\n\nCertificate fingerprint (MD5): 1E:42:95:02:33:92:6B:B9:5F:C0:7F:DA:D6:B2:4B:FC\n\nverisignclass2g3ca, Mar 26, 2004, trustedCertEntry,\n\nCertificate fingerprint (MD5): F8:BE:C4:63:22:C9:A8:46:74:8B:B8:1D:1E:4A:2B:F6\n</code></pre>\n<p> Now I had to include the previously installed certificate into the cacerts.</p>\n<p> For this the following is the procedure:</p>\n<pre><code>keytool -import -noprompt -trustcacerts -alias ALIASNAME -file FILENAME_OF_THE_INSTALLED_CERTIFICATE -keystore PATH_TO_CACERTS_FILE -storepass PASSWORD\n</code></pre>\n<p>If you are using Java 7:</p>\n<pre><code>keytool -importcert -trustcacerts -alias ALIASNAME -file PATH_TO_FILENAME_OF_THE_INSTALLED_CERTIFICATE -keystore PATH_TO_CACERTS_FILE -storepass changeit\n</code></pre>\n<p> It will then add the certificate information into the cacert file.</p>\n<p>It is the solution I found for the Exception mentioned above!!</p>\n"},{"tags":[],"owner":{"account_id":1485270,"reputation":1048,"user_id":1393681,"display_name":"mons droid"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1354807953,"creation_date":1354807953,"answer_id":13747000,"question_id":9619030,"body_markdown":"i wrote a small win32 (WinXP 32bit testet) stupid cmd (commandline) script which looks for all java versions in program files and adds a cert to them. \r\nThe Password needs to be the default &quot;changeit&quot; or change it yourself in the script :-)\r\n\r\n    @echo off\r\n\r\n    for /F  %%d in (&#39;dir /B %ProgramFiles%\\java&#39;) do (\r\n\t    %ProgramFiles%\\Java\\%%d\\bin\\keytool.exe -import -noprompt -trustcacerts -file some-exported-cert-saved-as.crt -keystore %ProgramFiles%\\Java\\%%d\\lib\\security\\cacerts -storepass changeit\r\n    )\r\n\r\n    pause","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>i wrote a small win32 (WinXP 32bit testet) stupid cmd (commandline) script which looks for all java versions in program files and adds a cert to them. \nThe Password needs to be the default \"changeit\" or change it yourself in the script :-)</p>\n\n<pre><code>@echo off\n\nfor /F  %%d in ('dir /B %ProgramFiles%\\java') do (\n    %ProgramFiles%\\Java\\%%d\\bin\\keytool.exe -import -noprompt -trustcacerts -file some-exported-cert-saved-as.crt -keystore %ProgramFiles%\\Java\\%%d\\lib\\security\\cacerts -storepass changeit\n)\n\npause\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228932,"reputation":23604,"user_id":491553,"accept_rate":45,"display_name":"Ryan Shillington"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1374869032,"creation_date":1374869032,"answer_id":17890083,"question_id":9619030,"body_markdown":"My cacerts file was totally empty.  I solved this by copying the cacerts file off my windows machine (that&#39;s using Oracle Java 7) and scp&#39;d it to my Linux box (OpenJDK).  \r\n\r\n    cd %JAVA_HOME%/jre/lib/security/\r\n    scp cacerts mylinuxmachin:/tmp\r\n\r\nand then on the linux machine\r\n\r\n    cp /tmp/cacerts /etc/ssl/certs/java/cacerts\r\n\r\nIt&#39;s worked great so far.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>My cacerts file was totally empty.  I solved this by copying the cacerts file off my windows machine (that's using Oracle Java 7) and scp'd it to my Linux box (OpenJDK).  </p>\n\n<pre><code>cd %JAVA_HOME%/jre/lib/security/\nscp cacerts mylinuxmachin:/tmp\n</code></pre>\n\n<p>and then on the linux machine</p>\n\n<pre><code>cp /tmp/cacerts /etc/ssl/certs/java/cacerts\n</code></pre>\n\n<p>It's worked great so far.</p>\n"},{"tags":[],"owner":{"account_id":3841147,"reputation":797,"user_id":3184171,"display_name":"oraclesoon"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1429604533,"creation_date":1402371507,"answer_id":24132430,"question_id":9619030,"body_markdown":"For Tomcat running on Ubuntu server, to find out which Java is being used, use &quot;ps -ef | grep tomcat&quot; command:\r\n\r\nSample:\r\n\r\n    /home/mcp01$ **ps -ef |grep tomcat**\r\n    tomcat7  28477     1  0 10:59 ?        00:00:18 **/usr/local/java/jdk1.7.0_15/bin/java** -Djava.util.logging.config.file=/var/lib/tomcat7/conf/logging.properties -Djava.awt.headless=true -Xmx512m -XX:+UseConcMarkSweepGC -Djava.net.preferIPv4Stack=true -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.endorsed.dirs=/usr/share/tomcat7/endorsed -classpath /usr/share/tomcat7/bin/bootstrap.jar:/usr/share/tomcat7/bin/tomcat-juli.jar -Dcatalina.base=/var/lib/tomcat7 -Dcatalina.home=/usr/share/tomcat7 -Djava.io.tmpdir=/tmp/tomcat7-tomcat7-tmp org.apache.catalina.startup.Bootstrap start\r\n    1005     28567 28131  0 11:34 pts/1    00:00:00 grep --color=auto tomcat\r\n\r\nThen, we can go in to: **cd /usr/local/java/jdk1.7.0_15/jre/lib/security**\r\n\r\nDefault **cacerts** file is located in here. Insert the untrusted certificate into it.\r\n","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>For Tomcat running on Ubuntu server, to find out which Java is being used, use \"ps -ef | grep tomcat\" command:</p>\n\n<p>Sample:</p>\n\n<pre><code>/home/mcp01$ **ps -ef |grep tomcat**\ntomcat7  28477     1  0 10:59 ?        00:00:18 **/usr/local/java/jdk1.7.0_15/bin/java** -Djava.util.logging.config.file=/var/lib/tomcat7/conf/logging.properties -Djava.awt.headless=true -Xmx512m -XX:+UseConcMarkSweepGC -Djava.net.preferIPv4Stack=true -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.endorsed.dirs=/usr/share/tomcat7/endorsed -classpath /usr/share/tomcat7/bin/bootstrap.jar:/usr/share/tomcat7/bin/tomcat-juli.jar -Dcatalina.base=/var/lib/tomcat7 -Dcatalina.home=/usr/share/tomcat7 -Djava.io.tmpdir=/tmp/tomcat7-tomcat7-tmp org.apache.catalina.startup.Bootstrap start\n1005     28567 28131  0 11:34 pts/1    00:00:00 grep --color=auto tomcat\n</code></pre>\n\n<p>Then, we can go in to: <strong>cd /usr/local/java/jdk1.7.0_15/jre/lib/security</strong></p>\n\n<p>Default <strong>cacerts</strong> file is located in here. Insert the untrusted certificate into it.</p>\n"},{"tags":[],"owner":{"account_id":3851954,"reputation":32862,"user_id":3191896,"accept_rate":100,"display_name":"Jossef Harush Kadouri"},"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1439907044,"creation_date":1439907044,"answer_id":32074827,"question_id":9619030,"body_markdown":"# How to work-it in Tomcat 7\nI wanted to support a self signed certificate in a Tomcat App but **the following snippet failed to work**\n\n\n    import java.io.DataOutputStream;\n    import java.net.HttpURLConnection;\n    import java.net.URL;\n    \n    public class HTTPSPlayground {\n        public static void main(String[] args) throws Exception {\n    \n            URL url = new URL(&quot;https:// ... .com&quot;);\n            HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n    \n            httpURLConnection.setRequestMethod(&quot;POST&quot;);\n            httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\n            httpURLConnection.setDoOutput(true);\n            DataOutputStream wr = new DataOutputStream(httpURLConnection.getOutputStream());\n    \n            String serializedMessage = &quot;{}&quot;;\n            wr.writeBytes(serializedMessage);\n            wr.flush();\n            wr.close();\n    \n            int responseCode = httpURLConnection.getResponseCode();\n            System.out.println(responseCode);\n        }\n    }\n\nthis is what solved my issue:\n\n\n## **1) Download the `.crt` file**\n\n    echo -n | openssl s_client -connect &lt;your domain&gt;:443 | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; ~/&lt;your domain&gt;.crt\n\n - replace `&lt;your domain&gt;` with your domain (e.g. `jossef.com`)\n\n\n## 2) Apply the `.crt` file in Java&#39;s `cacerts` certificate store\n\n    keytool -import -v -trustcacerts -alias &lt;your domain&gt; -file ~/&lt;your domain&gt;.crt -keystore &lt;JAVA HOME&gt;/jre/lib/security/cacerts -keypass changeit -storepass changeit\n\n\n - replace `&lt;your domain&gt;` with your domain (e.g. `jossef.com`)\n - replace `&lt;JAVA HOME&gt;` with your java home directory\n\n\n## 3) Hack it\n\nEven though iv&#39;e installed my certificate in `Java`&#39;s default certificate stores, **Tomcat ignores that** (seems like it&#39;s not configured to use Java&#39;s default certificate stores). \n\nTo hack this, add the following somewhere in your code:\n\n    String certificatesTrustStorePath = &quot;&lt;JAVA HOME&gt;/jre/lib/security/cacerts&quot;;\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, certificatesTrustStorePath);\n\n    // ...","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<h1>How to work-it in Tomcat 7</h1>\n<p>I wanted to support a self signed certificate in a Tomcat App but <strong>the following snippet failed to work</strong></p>\n<pre><code>import java.io.DataOutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class HTTPSPlayground {\n    public static void main(String[] args) throws Exception {\n\n        URL url = new URL(&quot;https:// ... .com&quot;);\n        HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n\n        httpURLConnection.setRequestMethod(&quot;POST&quot;);\n        httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\n        httpURLConnection.setDoOutput(true);\n        DataOutputStream wr = new DataOutputStream(httpURLConnection.getOutputStream());\n\n        String serializedMessage = &quot;{}&quot;;\n        wr.writeBytes(serializedMessage);\n        wr.flush();\n        wr.close();\n\n        int responseCode = httpURLConnection.getResponseCode();\n        System.out.println(responseCode);\n    }\n}\n</code></pre>\n<p>this is what solved my issue:</p>\n<h2><strong>1) Download the <code>.crt</code> file</strong></h2>\n<pre><code>echo -n | openssl s_client -connect &lt;your domain&gt;:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; ~/&lt;your domain&gt;.crt\n</code></pre>\n<ul>\n<li>replace <code>&lt;your domain&gt;</code> with your domain (e.g. <code>jossef.com</code>)</li>\n</ul>\n<h2>2) Apply the <code>.crt</code> file in Java's <code>cacerts</code> certificate store</h2>\n<pre><code>keytool -import -v -trustcacerts -alias &lt;your domain&gt; -file ~/&lt;your domain&gt;.crt -keystore &lt;JAVA HOME&gt;/jre/lib/security/cacerts -keypass changeit -storepass changeit\n</code></pre>\n<ul>\n<li>replace <code>&lt;your domain&gt;</code> with your domain (e.g. <code>jossef.com</code>)</li>\n<li>replace <code>&lt;JAVA HOME&gt;</code> with your java home directory</li>\n</ul>\n<h2>3) Hack it</h2>\n<p>Even though iv'e installed my certificate in <code>Java</code>'s default certificate stores, <strong>Tomcat ignores that</strong> (seems like it's not configured to use Java's default certificate stores).</p>\n<p>To hack this, add the following somewhere in your code:</p>\n<pre><code>String certificatesTrustStorePath = &quot;&lt;JAVA HOME&gt;/jre/lib/security/cacerts&quot;;\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, certificatesTrustStorePath);\n\n// ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8137156,"reputation":153,"user_id":6128451,"display_name":"Nubian"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1486736696,"creation_date":1486711825,"answer_id":42153814,"question_id":9619030,"body_markdown":"I have this problem too.\r\n\r\nI tried almost everything by adding the SSL cert to .keystore, but, it was not working with Java1_6_x.\r\nFor me it helped if we start using newer version of Java, Java1_8_x as JVM.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I have this problem too.</p>\n\n<p>I tried almost everything by adding the SSL cert to .keystore, but, it was not working with Java1_6_x.\nFor me it helped if we start using newer version of Java, Java1_8_x as JVM.</p>\n"},{"tags":[],"owner":{"account_id":3382073,"reputation":4591,"user_id":2838910,"accept_rate":57,"display_name":"Cedric Simon"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1512579360,"creation_date":1488767708,"answer_id":42616647,"question_id":9619030,"body_markdown":"Using Tomcat 7 under Linux, this did the trick.\r\n\r\n    String certificatesTrustStorePath = &quot;/etc/alternatives/jre/lib/security/cacerts&quot;;\r\n\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, certificatesTrustStorePath);\r\n\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\nUnder Linux, `$JAVA_HOME` is not always setup, but usually `/etc/alternatives/jre` points to `$JAVA_HOME/jre`","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>Using Tomcat 7 under Linux, this did the trick.</p>\n\n<pre><code>String certificatesTrustStorePath = \"/etc/alternatives/jre/lib/security/cacerts\";\nSystem.setProperty(\"javax.net.ssl.trustStore\", certificatesTrustStorePath);\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");\n</code></pre>\n\n<p>Under Linux, <code>$JAVA_HOME</code> is not always setup, but usually <code>/etc/alternatives/jre</code> points to <code>$JAVA_HOME/jre</code></p>\n"},{"tags":[],"owner":{"account_id":1707279,"reputation":1253,"user_id":1566091,"display_name":"YaDa"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1492957223,"creation_date":1492957223,"answer_id":43572322,"question_id":9619030,"body_markdown":"For me, this error appeared too while trying to connect to a process behind an NGINX reverse proxy which was handling the SSL. \r\n\r\nIt turned out the problem was a certificate without the entire certificate chain concatenated. \r\nWhen I added intermediate certs, the problem was solved.\r\n\r\nHope this helps.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>For me, this error appeared too while trying to connect to a process behind an NGINX reverse proxy which was handling the SSL. </p>\n\n<p>It turned out the problem was a certificate without the entire certificate chain concatenated. \nWhen I added intermediate certs, the problem was solved.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":304470,"reputation":1717,"user_id":613985,"accept_rate":67,"display_name":"Ali Ismayilov"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1514035118,"creation_date":1514035118,"answer_id":47952835,"question_id":9619030,"body_markdown":"Another reason could be an outdated version of JDK. I was using jdk version 1.8.0_60, simply updating to the latest version solved the certificate issue. ","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>Another reason could be an outdated version of JDK. I was using jdk version 1.8.0_60, simply updating to the latest version solved the certificate issue. </p>\n"},{"tags":[],"owner":{"account_id":5598693,"reputation":610,"user_id":4435552,"display_name":"Sandip S."},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1614105181,"creation_date":1526012960,"answer_id":50285016,"question_id":9619030,"body_markdown":"It is possible to disable SSL verification programmatically.  Works in a pinch for dev, but not recommended for production since you&#39;ll want to either use &quot;real&quot; SSL verification there or install and use your own trusted keys and then still use &quot;real&quot; SSL verification.\r\n\r\n Below code works for me:\r\n\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    public class TrustAnyTrustManager implements X509TrustManager {\r\n    \r\n      public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n      }\r\n    \r\n      public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n      }\r\n    \r\n      public X509Certificate[] getAcceptedIssuers() {\r\n        return null;\r\n      }\r\n    }\r\n\r\n-------------------------------------------------------------------------\r\n\r\n                 HttpsURLConnection conn = null;\r\n    \t\t\t URL url = new URL(serviceUrl);\r\n    \t\t\t conn = (HttpsURLConnection) url.openConnection();\r\n    \t\t\t SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);  \r\n                 sc.init(null, new TrustManager[]{new TrustAnyTrustManager()}, new java.security.SecureRandom());  \r\n                        // Create all-trusting host name verifier\r\n                 HostnameVerifier allHostsValid = new HostnameVerifier() {\r\n                   public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                  }\r\n                };\r\n                conn.setHostnameVerifier(allHostsValid);\r\n\r\nOr if you don&#39;t control the `Connection`s underneath, you can also override SSL verification globally for all connections https://stackoverflow.com/a/19542614/32453\r\n\r\nIf you are using Apache HTTPClient you must disable it &quot;differently&quot; (sadly): https://stackoverflow.com/a/2703233/32453","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>It is possible to disable SSL verification programmatically.  Works in a pinch for dev, but not recommended for production since you'll want to either use &quot;real&quot; SSL verification there or install and use your own trusted keys and then still use &quot;real&quot; SSL verification.</p>\n<p>Below code works for me:</p>\n<pre><code>import java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\nimport javax.net.ssl.X509TrustManager;\n\npublic class TrustAnyTrustManager implements X509TrustManager {\n\n  public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n  }\n\n  public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n  }\n\n  public X509Certificate[] getAcceptedIssuers() {\n    return null;\n  }\n}\n</code></pre>\n<hr />\n<pre><code>             HttpsURLConnection conn = null;\n             URL url = new URL(serviceUrl);\n             conn = (HttpsURLConnection) url.openConnection();\n             SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);  \n             sc.init(null, new TrustManager[]{new TrustAnyTrustManager()}, new java.security.SecureRandom());  \n                    // Create all-trusting host name verifier\n             HostnameVerifier allHostsValid = new HostnameVerifier() {\n               public boolean verify(String hostname, SSLSession session) {\n                return true;\n              }\n            };\n            conn.setHostnameVerifier(allHostsValid);\n</code></pre>\n<p>Or if you don't control the <code>Connection</code>s underneath, you can also override SSL verification globally for all connections <a href=\"https://stackoverflow.com/a/19542614/32453\">https://stackoverflow.com/a/19542614/32453</a></p>\n<p>If you are using Apache HTTPClient you must disable it &quot;differently&quot; (sadly): <a href=\"https://stackoverflow.com/a/2703233/32453\">https://stackoverflow.com/a/2703233/32453</a></p>\n"},{"tags":[],"owner":{"account_id":6983262,"reputation":2982,"user_id":5355272,"accept_rate":25,"display_name":"avp"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1532489615,"creation_date":1532489615,"answer_id":51510406,"question_id":9619030,"body_markdown":"I was using `jdk1.8.0_171` when I faced the same issue. I tried top 2 solutions here (adding a certificate using keytool and another solution which has a hack in it) but they didn&#39;t work for me.\r\n\r\nI upgraded my JDK to `1.8.0_181` and it worked like a charm.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I was using <code>jdk1.8.0_171</code> when I faced the same issue. I tried top 2 solutions here (adding a certificate using keytool and another solution which has a hack in it) but they didn't work for me.</p>\n\n<p>I upgraded my JDK to <code>1.8.0_181</code> and it worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1537888512,"creation_date":1537888512,"answer_id":52501530,"question_id":9619030,"body_markdown":"In my case the issue was that the webserver was only sending the certificate and the intermediate CA, not the root CA.\nAdding this JVM option solved the problem: `-Dcom.sun.security.enableAIAcaIssuers=true`\n\n&gt; Support for the caIssuers access method of the Authority Information Access extension is available. It is disabled by default for compatibility and can be enabled by setting the system property `com.sun.security.enableAIAcaIssuers` to the value true.\n&gt;\n&gt; If set to true, Sun&#39;s PKIX implementation of CertPathBuilder uses the information in a certificate&#39;s AIA extension (in addition to CertStores that are specified) to find the issuing CA certificate, provided it is a URI of type ldap, http, or ftp.\n\n[Source][1]\n\n\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/certpath/CertPathProgGuide.html#AIA","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>In my case the issue was that the webserver was only sending the certificate and the intermediate CA, not the root CA.\nAdding this JVM option solved the problem: <code>-Dcom.sun.security.enableAIAcaIssuers=true</code></p>\n<blockquote>\n<p>Support for the caIssuers access method of the Authority Information Access extension is available. It is disabled by default for compatibility and can be enabled by setting the system property <code>com.sun.security.enableAIAcaIssuers</code> to the value true.</p>\n<p>If set to true, Sun's PKIX implementation of CertPathBuilder uses the information in a certificate's AIA extension (in addition to CertStores that are specified) to find the issuing CA certificate, provided it is a URI of type ldap, http, or ftp.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/certpath/CertPathProgGuide.html#AIA\" rel=\"noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1551837934,"creation_date":1547463014,"answer_id":54180049,"question_id":9619030,"body_markdown":"for safety we should not use self signed certificates in our implementation. However, when it comes to development often we have to use trial environments which got self-signed certs. I tried to fix this issue programmatically in my code and I fail. However, by adding the cert to the jre trust-store fixed my issue. Please find below steps,\r\n\r\n 1. Download the site cert,\r\n\r\n - Using [Chrome][1] \r\n - Using [Firefox][2]\r\n\r\n 2. Copy the certificate(ex:cert_file.cer) into the directory $JAVA_HOME\\Jre\\Lib\\Security\r\n\r\n 3. Open CMD in Administrator and change the directory to $JAVA_HOME\\Jre\\Lib\\Security\r\n\r\n 4. Import the certificate to a trust store using below command,\r\n\r\n&gt; keytool -import -alias ca -file **cert_file.cer** -keystore cacerts\r\n&gt; -storepass changeit\r\n\r\n*If you got a error saying keytool is not recognizable please [refer this.][3]*\r\n\r\nType **yes** like below\r\n\r\n&gt; Trust this certificate: **[Yes]**\r\n\r\n \r\n\r\n5. Now try to run your code or access the URL programmatically using java.\r\n\r\n\r\n----------\r\n**Update**\r\n\r\nIf your app server is jboss try adding below system property\r\n\r\n    System.setProperty(&quot;org.jboss.security.ignoreHttpsHost&quot;,&quot;true&quot;);\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1wCoE8KX-vUM4RKc15wqsLnNWL9gTUJwp/view?usp=sharing\r\n  [2]: https://superuser.com/a/97203/358866\r\n  [3]: https://stackoverflow.com/a/14199969/3168721","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>for safety we should not use self signed certificates in our implementation. However, when it comes to development often we have to use trial environments which got self-signed certs. I tried to fix this issue programmatically in my code and I fail. However, by adding the cert to the jre trust-store fixed my issue. Please find below steps,</p>\n\n<ol>\n<li><p>Download the site cert,</p>\n\n<ul>\n<li>Using <a href=\"https://drive.google.com/file/d/1wCoE8KX-vUM4RKc15wqsLnNWL9gTUJwp/view?usp=sharing\" rel=\"nofollow noreferrer\">Chrome</a> </li>\n<li>Using <a href=\"https://superuser.com/a/97203/358866\">Firefox</a></li>\n</ul></li>\n<li><p>Copy the certificate(ex:cert_file.cer) into the directory $JAVA_HOME\\Jre\\Lib\\Security</p></li>\n<li><p>Open CMD in Administrator and change the directory to $JAVA_HOME\\Jre\\Lib\\Security</p></li>\n<li><p>Import the certificate to a trust store using below command,</p></li>\n</ol>\n\n<blockquote>\n  <p>keytool -import -alias ca -file <strong>cert_file.cer</strong> -keystore cacerts\n  -storepass changeit</p>\n</blockquote>\n\n<p><em>If you got a error saying keytool is not recognizable please <a href=\"https://stackoverflow.com/a/14199969/3168721\">refer this.</a></em></p>\n\n<p>Type <strong>yes</strong> like below</p>\n\n<blockquote>\n  <p>Trust this certificate: <strong>[Yes]</strong></p>\n</blockquote>\n\n<ol start=\"5\">\n<li>Now try to run your code or access the URL programmatically using java.</li>\n</ol>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>If your app server is jboss try adding below system property</p>\n\n<pre><code>System.setProperty(\"org.jboss.security.ignoreHttpsHost\",\"true\");\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":1540148,"reputation":1578,"user_id":1435014,"display_name":"Abhishek"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1557741503,"creation_date":1557741503,"answer_id":56109973,"question_id":9619030,"body_markdown":"For MacOS X below is the exact command worked for me where I had to try with double hypen in  &#39;importcert&#39; option which worked :\r\n\r\n    sudo keytool -importcert -file /PathTo/YourCertFileDownloadedFromBrowserLockIcon.crt -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/jre/lib/security/cacerts -alias &quot;Cert&quot; -storepass changeit","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>For MacOS X below is the exact command worked for me where I had to try with double hypen in  'importcert' option which worked :</p>\n\n<pre><code>sudo keytool -importcert -file /PathTo/YourCertFileDownloadedFromBrowserLockIcon.crt -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/jre/lib/security/cacerts -alias \"Cert\" -storepass changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2548486,"reputation":5030,"user_id":2212770,"accept_rate":86,"display_name":"Wirling"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570522092,"creation_date":1570522092,"answer_id":58282432,"question_id":9619030,"body_markdown":"I was having this problem with Android Studio when I&#39;m behind a proxy. I was using Crashlytics that tries to upload the mapping file during a build. \r\n\r\nI added the missing proxy certificate to the truststore located at \r\n`/Users/[username]/Documents/Android Studio.app/Contents/jre/jdk/Contents/Home/jre/lib/security/cacerts` \r\n\r\nwith the following command: `keytool -import -trustcacerts -keystore cacerts -storepass [password] -noprompt -alias [alias] -file [my_certificate_location]`\r\n\r\nfor example with the default truststore password\r\n`keytool -import -trustcacerts -keystore cacerts -storepass changeit -noprompt -alias myproxycert -file /Users/myname/Downloads/MyProxy.crt`","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I was having this problem with Android Studio when I'm behind a proxy. I was using Crashlytics that tries to upload the mapping file during a build. </p>\n\n<p>I added the missing proxy certificate to the truststore located at \n<code>/Users/[username]/Documents/Android Studio.app/Contents/jre/jdk/Contents/Home/jre/lib/security/cacerts</code> </p>\n\n<p>with the following command: <code>keytool -import -trustcacerts -keystore cacerts -storepass [password] -noprompt -alias [alias] -file [my_certificate_location]</code></p>\n\n<p>for example with the default truststore password\n<code>keytool -import -trustcacerts -keystore cacerts -storepass changeit -noprompt -alias myproxycert -file /Users/myname/Downloads/MyProxy.crt</code></p>\n"},{"tags":[],"owner":{"display_name":"user4837435"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1614010786,"creation_date":1571339168,"answer_id":58439244,"question_id":9619030,"body_markdown":"In a pinch, you can disable SSL entirely, or per connection (note this is not recommended for production!) see https://stackoverflow.com/a/19542614/32453\r\n","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>In a pinch, you can disable SSL entirely, or per connection (note this is not recommended for production!) see <a href=\"https://stackoverflow.com/a/19542614/32453\">https://stackoverflow.com/a/19542614/32453</a></p>\n"},{"tags":[],"owner":{"account_id":5702461,"reputation":1191,"user_id":4507034,"accept_rate":100,"display_name":"Radu Linu"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1700882173,"creation_date":1574939037,"answer_id":59087392,"question_id":9619030,"body_markdown":"I managed to solve the problem by importing the certification to my machine trusted certifications.\r\n\r\nSteps: \r\n\r\n1. Go to the URL (eg. `https://localhost:8443/yourpath`) where the certification is not working. \r\n2. Export the certification as described in the mentioned post.\r\n3. On your windows machine open: `Manage computer certificates`\r\n4. Go to `Trusted Root Certification Authorities` -&gt; `Certificates`\r\n5. Import here your `your_certification_name.cer` file.  ","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I managed to solve the problem by importing the certification to my machine trusted certifications.</p>\n<p>Steps:</p>\n<ol>\n<li>Go to the URL (eg. <code>https://localhost:8443/yourpath</code>) where the certification is not working.</li>\n<li>Export the certification as described in the mentioned post.</li>\n<li>On your windows machine open: <code>Manage computer certificates</code></li>\n<li>Go to <code>Trusted Root Certification Authorities</code> -&gt; <code>Certificates</code></li>\n<li>Import here your <code>your_certification_name.cer</code> file.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4363791,"reputation":31,"user_id":3560151,"display_name":"Harshavardhan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1577718595,"creation_date":1577718595,"answer_id":59532940,"question_id":9619030,"body_markdown":"Just a small hack. Update the URL in the file &quot;hudson.model.UpdateCenter.xml&quot; from https to http\r\n\r\n    &lt;?xml version=&#39;1.1&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;sites&gt;\r\n      &lt;site&gt;\r\n        &lt;id&gt;default&lt;/id&gt;\r\n        &lt;url&gt;http://updates.jenkins.io/update-center.json&lt;/url&gt;\r\n      &lt;/site&gt;\r\n    &lt;/sites&gt;\r\n\r\n","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>Just a small hack. Update the URL in the file \"hudson.model.UpdateCenter.xml\" from https to http</p>\n\n<pre><code>&lt;?xml version='1.1' encoding='UTF-8'?&gt;\n&lt;sites&gt;\n  &lt;site&gt;\n    &lt;id&gt;default&lt;/id&gt;\n    &lt;url&gt;http://updates.jenkins.io/update-center.json&lt;/url&gt;\n  &lt;/site&gt;\n&lt;/sites&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1238641,"reputation":10455,"user_id":1201725,"accept_rate":100,"display_name":"Bahadir Tasdemir"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1581331103,"creation_date":1581331103,"answer_id":60148613,"question_id":9619030,"body_markdown":"**DEPLOYABLE SOLUTION (Alpine Linux)**\r\n\r\nTo be able to fix this issue in our application environments, we have prepared Linux terminal commands as follows:\r\n\r\n    cd ~\r\n\r\nWill generate cert file in home directory.\r\n\r\n    apk add openssl\r\n\r\nThis command installs openssl in alpine Linux. You can find proper commands for other Linux distributions.\r\n\r\n    openssl s_client -connect &lt;host-dns-ssl-belongs&gt; &lt; /dev/null | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; public.crt\r\n\r\nGenerated the needed cert file.\r\n    \r\n    sudo $JAVA_HOME/bin/keytool -import -alias server_name -keystore $JAVA_HOME/lib/security/cacerts -file public.crt -storepass changeit -noprompt\r\n\r\nApplied the generated file to the JRE with the program &#39;keytool&#39;.\r\n\r\n**Note:** Please replace your DNS with `&lt;host-dns-ssl-belongs&gt;`\r\n\r\n**Note2:** Please gently note that `-noprompt` will not prompt the verification message (yes/no) and `-storepass changeit` parameter will disable password prompt and provide the needed password (default is &#39;changeit&#39;). These two properties will let you use those scripts in your application environments like building a Docker image.\r\n\r\n**Note3** If you are deploying your app via Docker, you can generate the secret file once and put it in your application project files. You won&#39;t need to generate it again and again.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p><strong>DEPLOYABLE SOLUTION (Alpine Linux)</strong></p>\n\n<p>To be able to fix this issue in our application environments, we have prepared Linux terminal commands as follows:</p>\n\n<pre><code>cd ~\n</code></pre>\n\n<p>Will generate cert file in home directory.</p>\n\n<pre><code>apk add openssl\n</code></pre>\n\n<p>This command installs openssl in alpine Linux. You can find proper commands for other Linux distributions.</p>\n\n<pre><code>openssl s_client -connect &lt;host-dns-ssl-belongs&gt; &lt; /dev/null | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; public.crt\n</code></pre>\n\n<p>Generated the needed cert file.</p>\n\n<pre><code>sudo $JAVA_HOME/bin/keytool -import -alias server_name -keystore $JAVA_HOME/lib/security/cacerts -file public.crt -storepass changeit -noprompt\n</code></pre>\n\n<p>Applied the generated file to the JRE with the program 'keytool'.</p>\n\n<p><strong>Note:</strong> Please replace your DNS with <code>&lt;host-dns-ssl-belongs&gt;</code></p>\n\n<p><strong>Note2:</strong> Please gently note that <code>-noprompt</code> will not prompt the verification message (yes/no) and <code>-storepass changeit</code> parameter will disable password prompt and provide the needed password (default is 'changeit'). These two properties will let you use those scripts in your application environments like building a Docker image.</p>\n\n<p><strong>Note3</strong> If you are deploying your app via Docker, you can generate the secret file once and put it in your application project files. You won't need to generate it again and again.</p>\n"},{"tags":[],"owner":{"account_id":8651168,"reputation":984,"user_id":6476809,"display_name":"Rock"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1585548302,"creation_date":1585548302,"answer_id":60924899,"question_id":9619030,"body_markdown":"I want to chime in since I have a QEMU environment where I have to download files in java. It turns out the `/etc/ssl/certs/java/cacerts` in QEMU does have problem because it does not match the `/etc/ssl/certs/java/cacerts` in the host environment. The host environment is behind a company proxy so the java cacerts is a customized version.\r\n\r\nIf you are using a QEMU environment, make sure the host system can access files first. For example you can try [this script](https://gist.github.com/yunqu/a324cfd436b7deef29788294e1e994be) on your host machine first to see. If the script runs just fine in host machine but not in QEMU, then you are having the same problem as me.\r\n\r\nTo solve this issue, I had to make a backup of the original file in QEMU, copy over the file in host environment to the QEMU chroot jail, and then java could download files normally in QEMU.\r\n\r\nA better solution would be mount the `/etc` into the QEMU environment; however I am not sure if other files will get impacted in this process. So I decided to use this ugly but easy work-around.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I want to chime in since I have a QEMU environment where I have to download files in java. It turns out the <code>/etc/ssl/certs/java/cacerts</code> in QEMU does have problem because it does not match the <code>/etc/ssl/certs/java/cacerts</code> in the host environment. The host environment is behind a company proxy so the java cacerts is a customized version.</p>\n\n<p>If you are using a QEMU environment, make sure the host system can access files first. For example you can try <a href=\"https://gist.github.com/yunqu/a324cfd436b7deef29788294e1e994be\" rel=\"nofollow noreferrer\">this script</a> on your host machine first to see. If the script runs just fine in host machine but not in QEMU, then you are having the same problem as me.</p>\n\n<p>To solve this issue, I had to make a backup of the original file in QEMU, copy over the file in host environment to the QEMU chroot jail, and then java could download files normally in QEMU.</p>\n\n<p>A better solution would be mount the <code>/etc</code> into the QEMU environment; however I am not sure if other files will get impacted in this process. So I decided to use this ugly but easy work-around.</p>\n"},{"tags":[],"owner":{"account_id":451585,"reputation":4900,"user_id":847553,"accept_rate":86,"display_name":"Dave Richardson"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1589902147,"creation_date":1589902147,"answer_id":61894817,"question_id":9619030,"body_markdown":"This seems as good a place as any to document another possible reason for the infamous PKIX error message. After spending far too long looking at the keystore and truststore contents and various java installation configs I realised that my issue was down to... a typo.\r\n\r\nThe typo meant that I was also using the keystore as the truststore. As my companies Root CA was not defined as a standalone cert in the keystore but only as part of a cert chain, and was not defined anywhere else (i.e. cacerts) I kept getting the PKIX error. \r\n\r\nAfter a failed release (this is prod config, it was ok elsewhere) and two days of head scratching I finally saw the typo, and now all is good.\r\n\r\nHope this helps someone.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>This seems as good a place as any to document another possible reason for the infamous PKIX error message. After spending far too long looking at the keystore and truststore contents and various java installation configs I realised that my issue was down to... a typo.</p>\n\n<p>The typo meant that I was also using the keystore as the truststore. As my companies Root CA was not defined as a standalone cert in the keystore but only as part of a cert chain, and was not defined anywhere else (i.e. cacerts) I kept getting the PKIX error. </p>\n\n<p>After a failed release (this is prod config, it was ok elsewhere) and two days of head scratching I finally saw the typo, and now all is good.</p>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":2478398,"reputation":61,"user_id":2158501,"display_name":"Sergio Alonso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607003203,"creation_date":1607003203,"answer_id":65127236,"question_id":9619030,"body_markdown":"My two cents:\r\nIn my case, cacerts was not a folder, but a file, and also it was presents on two paths\r\nAfter discover it, error disappeared after copy the .jks file over that file.\r\n\r\n    # locate cacerts    \r\n    /usr/java/jdk1.8.0_221-amd64/jre/lib/security/cacerts\r\n    /usr/java/jre1.8.0_221-amd64/lib/security/cacerts\r\n\r\nAfter backup them, I copy the .jks over.\r\n\r\n    cp /path_of_jks_file/file.jks /usr/java/jdk1.8.0_221-amd64/jre/lib/security/cacerts\r\n    cp /path_of_jks_file/file.jks /usr/java/jre1.8.0_221-amd64/lib/security/cacerts\r\n\r\nNote: this basic trick resolves this error on a Genexus project, in spite file.jks is also on the server.xml file of the Tomcat.\r\n\r\n","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>My two cents:\nIn my case, cacerts was not a folder, but a file, and also it was presents on two paths\nAfter discover it, error disappeared after copy the .jks file over that file.</p>\n<pre><code># locate cacerts    \n/usr/java/jdk1.8.0_221-amd64/jre/lib/security/cacerts\n/usr/java/jre1.8.0_221-amd64/lib/security/cacerts\n</code></pre>\n<p>After backup them, I copy the .jks over.</p>\n<pre><code>cp /path_of_jks_file/file.jks /usr/java/jdk1.8.0_221-amd64/jre/lib/security/cacerts\ncp /path_of_jks_file/file.jks /usr/java/jre1.8.0_221-amd64/lib/security/cacerts\n</code></pre>\n<p>Note: this basic trick resolves this error on a Genexus project, in spite file.jks is also on the server.xml file of the Tomcat.</p>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1609723388,"creation_date":1609723388,"answer_id":65556641,"question_id":9619030,"body_markdown":" - Make sure of your JVM location. There can be half a dozen JREs on\r\n   your system. Which one is your Tomcat really using? Anywhere inside\r\n   code running in your Tomcat, write\r\n   println(System.getProperty(&quot;java.home&quot;)). Note this location. In\r\n   &lt;java.home&gt;/lib/security/cacerts file are the certificates used by\r\n   your Tomcat. \r\n - Find the root certificate that is failing. This can be\r\n   found by turning on SSL debug using -Djavax.net.debug=all. Run your\r\n   app and note from console ssl logs the CA that is failing. Its url\r\n   will be available. In my case I was surprised to find that a proxy zscaler was the one which was failing, as it was actually proxying my calls, and returning its own CA certificate.\r\n - Paste url in browser. Certificate will get\r\n   downloaded. \r\n - Import this certificate into cacerts using keytool import.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<ul>\n<li>Make sure of your JVM location. There can be half a dozen JREs on\nyour system. Which one is your Tomcat really using? Anywhere inside\ncode running in your Tomcat, write\nprintln(System.getProperty(&quot;java.home&quot;)). Note this location. In\n&lt;java.home&gt;/lib/security/cacerts file are the certificates used by\nyour Tomcat.</li>\n<li>Find the root certificate that is failing. This can be\nfound by turning on SSL debug using -Djavax.net.debug=all. Run your\napp and note from console ssl logs the CA that is failing. Its url\nwill be available. In my case I was surprised to find that a proxy zscaler was the one which was failing, as it was actually proxying my calls, and returning its own CA certificate.</li>\n<li>Paste url in browser. Certificate will get\ndownloaded.</li>\n<li>Import this certificate into cacerts using keytool import.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4547409,"reputation":109,"user_id":3693534,"display_name":"milfar dean"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610645577,"creation_date":1610645577,"answer_id":65724012,"question_id":9619030,"body_markdown":"I ran into this issue while making REST calls from my app server running in AWS EC2. The following Steps fixed the issue for me.\r\n\r\n 1. curl -vs https://your_rest_path \r\n 2. echo | openssl s_client -connect your_domain:443 \r\n 3. sudo apt-get install ca-certificates\r\n\r\n\r\ncurl -vs https://your_rest_path will now work!","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I ran into this issue while making REST calls from my app server running in AWS EC2. The following Steps fixed the issue for me.</p>\n<ol>\n<li>curl -vs https://your_rest_path</li>\n<li>echo | openssl s_client -connect your_domain:443</li>\n<li>sudo apt-get install ca-certificates</li>\n</ol>\n<p>curl -vs https://your_rest_path will now work!</p>\n"},{"tags":[],"owner":{"account_id":9206079,"reputation":71,"user_id":6841308,"display_name":"espajava"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1616266100,"creation_date":1616266100,"answer_id":66725263,"question_id":9619030,"body_markdown":"I also have the same problem on Apache Tomcat/7.0.67 and Java JVM Version: 1.8.0_66-b18. With upgrading Java to JRE 1.8.0_241 and it seems that the issue was solved.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I also have the same problem on Apache Tomcat/7.0.67 and Java JVM Version: 1.8.0_66-b18. With upgrading Java to JRE 1.8.0_241 and it seems that the issue was solved.</p>\n"},{"tags":[],"owner":{"account_id":16130702,"reputation":111,"user_id":11644458,"display_name":"Sharan Toor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623110298,"creation_date":1623109948,"answer_id":67879874,"question_id":9619030,"body_markdown":"If you are  using JDK 11, the folder doesn&#39;t have JRE in it anymore.  The location for the certs is jdk-11.0.11/lib/security/cacerts.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>If you are  using JDK 11, the folder doesn't have JRE in it anymore.  The location for the certs is jdk-11.0.11/lib/security/cacerts.</p>\n"},{"tags":[],"owner":{"account_id":20865940,"reputation":61,"user_id":15326980,"display_name":"Ramin Udash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626856160,"creation_date":1626352022,"answer_id":68393826,"question_id":9619030,"body_markdown":"I am using flutter and  received this error out of nowhere. So, what basically happens is that the lines within your dependencies within `android/build.gradle` file such as:\r\n       \r\n```\r\n  classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n  classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n```\r\n\r\nrequire certification that the grade file downloads from the internet. But when there is something that&#39;s blocking the gradle to download those certificates, this is typically shown. \r\n\r\nI tried exporting the certificate and adding it manually but it didn&#39;t seem to work for me. What worked for me, after countless head scratches, was disabling the proxies from your network preferences. It was somewhere mentioned that disabling Charles Proxy would fix it but at that moment, I was clueless what Charles was and what proxy was. And in my case, I did not have the Charles proxy thing so I went on with finding the proxies in the network preferences settings in Mac( it could be found somewhere in network settings for Windows). I had Socks enabled within the proxy. I disabled it and then again rebuilt the gradle and TA-DAH!!! It worked butter smooth. \r\n\r\nThere are a few things to remember. If you build your project right after disabling proxy without closing the network preferences tab, the disable proxies won&#39;t work and it will show the same error. Also if you&#39;ve already built the project and you&#39;re running it again after disabling proxies, chances are it&#39;s gonna show the same error( could be due to IDE caches). How it worked for me: Restart the Mac, open a few tabs in the browser( for a few network calls), check the network preferences from system preferences&gt;&gt; wifi and disable proxies, close the system preferences app, and build the project.\r\n\r\n","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I am using flutter and  received this error out of nowhere. So, what basically happens is that the lines within your dependencies within <code>android/build.gradle</code> file such as:</p>\n<pre><code>  classpath 'com.android.tools.build:gradle:4.1.0'\n  classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n</code></pre>\n<p>require certification that the grade file downloads from the internet. But when there is something that's blocking the gradle to download those certificates, this is typically shown.</p>\n<p>I tried exporting the certificate and adding it manually but it didn't seem to work for me. What worked for me, after countless head scratches, was disabling the proxies from your network preferences. It was somewhere mentioned that disabling Charles Proxy would fix it but at that moment, I was clueless what Charles was and what proxy was. And in my case, I did not have the Charles proxy thing so I went on with finding the proxies in the network preferences settings in Mac( it could be found somewhere in network settings for Windows). I had Socks enabled within the proxy. I disabled it and then again rebuilt the gradle and TA-DAH!!! It worked butter smooth.</p>\n<p>There are a few things to remember. If you build your project right after disabling proxy without closing the network preferences tab, the disable proxies won't work and it will show the same error. Also if you've already built the project and you're running it again after disabling proxies, chances are it's gonna show the same error( could be due to IDE caches). How it worked for me: Restart the Mac, open a few tabs in the browser( for a few network calls), check the network preferences from system preferences&gt;&gt; wifi and disable proxies, close the system preferences app, and build the project.</p>\n"},{"tags":[],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1630147974,"creation_date":1630074212,"answer_id":68955046,"question_id":9619030,"body_markdown":"Watch out for great answer for @NDeveloper. I did copy-paste of course, changing the values and I was getting \r\n\r\n    Illegal option:  ?import\r\n\r\nI did checkout the hyphens and I saw that on that answer was the hyphen using the ASCII\r\n    \r\n     8211\r\n\r\nIf you are getting problems check that the ASCII code that did the trick for me was this code = 45\r\n\r\n    - 45\r\n\r\nMy code\r\n\r\n    keytool -import -noprompt -trustcacerts -alias Certificado -file &quot;C:\\Users\\JavIut\\Desktop\\Company\\Certificados\\Certificado.cer&quot; -keystore &quot;C:\\Program Files\\Java\\jdk1.8.0_121\\jre\\lib\\security\\cacerts&quot;\r\n","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>Watch out for great answer for @NDeveloper. I did copy-paste of course, changing the values and I was getting</p>\n<pre><code>Illegal option:  ?import\n</code></pre>\n<p>I did checkout the hyphens and I saw that on that answer was the hyphen using the ASCII</p>\n<pre><code> 8211\n</code></pre>\n<p>If you are getting problems check that the ASCII code that did the trick for me was this code = 45</p>\n<pre><code>- 45\n</code></pre>\n<p>My code</p>\n<pre><code>keytool -import -noprompt -trustcacerts -alias Certificado -file &quot;C:\\Users\\JavIut\\Desktop\\Company\\Certificados\\Certificado.cer&quot; -keystore &quot;C:\\Program Files\\Java\\jdk1.8.0_121\\jre\\lib\\security\\cacerts&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636979983,"creation_date":1636979983,"answer_id":69974545,"question_id":9619030,"body_markdown":"For OkHttpClient, this solution worked for me.\r\nIt might help someone using the library...\r\n\r\n```java\r\ntry {\r\n\r\n            String proxyHost = &quot;proxy_host&quot;;\r\n            String proxyUsername = &quot;proxy_username&quot;;\r\n            String proxyPassword = &quot;proxy_password&quot;;\r\n\r\n            Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyHost, &quot;port goes here&quot;));\r\n\r\n            // Create a trust manager that does not validate certificate chains\r\n            TrustManager[] trustAllCerts = new TrustManager[]{\r\n                new X509TrustManager() {\r\n                    @Override\r\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                        return new java.security.cert.X509Certificate[]{};\r\n                    }\r\n                    @Override\r\n                    public void checkClientTrusted(\r\n                            java.security.cert.X509Certificate[] certs, String authType) {\r\n                    }\r\n                    @Override\r\n                    public void checkServerTrusted(\r\n                            java.security.cert.X509Certificate[] certs, String authType) {\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Install the all-trusting trust manager\r\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            // Create an ssl socket factory with our all-trusting manager\r\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n            OkHttpClient client = new OkHttpClient().newBuilder()\r\n                    .sslSocketFactory(sslSocketFactory, (X509TrustManager) trustAllCerts[0])\r\n                    .hostnameVerifier((hostname, session) -&gt; true)\r\n                    .connectTimeout(timeout, TimeUnit.SECONDS)\r\n                    .proxy(proxy)\r\n                    .proxyAuthenticator((route, response) -&gt; {\r\n                        String credential = Credentials.basic(proxyUsername, proxyPassword);\r\n                        return response.request().newBuilder()\r\n                                .header(&quot;Proxy-Authorization&quot;, credential)\r\n                                .build();\r\n                    })\r\n                    .build();\r\n\r\n            MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n            RequestBody requestBody = RequestBody.create(payload, mediaType);\r\n\r\n            Request request = new Request.Builder()\r\n                    .url(url)\r\n                    .header(&quot;Authorization&quot;, &quot;authorization data goes here&quot;)\r\n                    .method(requestMethod, requestBody)\r\n                    .build();\r\n\r\n            Response response = client.newCall(request).execute();\r\n\r\n            resBody = response.body().string();\r\n\r\n            int responseCode = response.code();\r\n\r\n        } catch (Exception ex) {\r\n        }\r\n```","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>For OkHttpClient, this solution worked for me.\nIt might help someone using the library...</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n\n            String proxyHost = &quot;proxy_host&quot;;\n            String proxyUsername = &quot;proxy_username&quot;;\n            String proxyPassword = &quot;proxy_password&quot;;\n\n            Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyHost, &quot;port goes here&quot;));\n\n            // Create a trust manager that does not validate certificate chains\n            TrustManager[] trustAllCerts = new TrustManager[]{\n                new X509TrustManager() {\n                    @Override\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return new java.security.cert.X509Certificate[]{};\n                    }\n                    @Override\n                    public void checkClientTrusted(\n                            java.security.cert.X509Certificate[] certs, String authType) {\n                    }\n                    @Override\n                    public void checkServerTrusted(\n                            java.security.cert.X509Certificate[] certs, String authType) {\n                    }\n                }\n            };\n\n            // Install the all-trusting trust manager\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n            // Create an ssl socket factory with our all-trusting manager\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n            OkHttpClient client = new OkHttpClient().newBuilder()\n                    .sslSocketFactory(sslSocketFactory, (X509TrustManager) trustAllCerts[0])\n                    .hostnameVerifier((hostname, session) -&gt; true)\n                    .connectTimeout(timeout, TimeUnit.SECONDS)\n                    .proxy(proxy)\n                    .proxyAuthenticator((route, response) -&gt; {\n                        String credential = Credentials.basic(proxyUsername, proxyPassword);\n                        return response.request().newBuilder()\n                                .header(&quot;Proxy-Authorization&quot;, credential)\n                                .build();\n                    })\n                    .build();\n\n            MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n            RequestBody requestBody = RequestBody.create(payload, mediaType);\n\n            Request request = new Request.Builder()\n                    .url(url)\n                    .header(&quot;Authorization&quot;, &quot;authorization data goes here&quot;)\n                    .method(requestMethod, requestBody)\n                    .build();\n\n            Response response = client.newCall(request).execute();\n\n            resBody = response.body().string();\n\n            int responseCode = response.code();\n\n        } catch (Exception ex) {\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1792158,"reputation":700,"user_id":1632288,"accept_rate":67,"display_name":"Kendar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642694617,"creation_date":1642694617,"answer_id":70789493,"question_id":9619030,"body_markdown":"Looking on various certificates contents and the ones generated through the standard openssl procedure i noticed that the AutorityKeyIdentifier was set, for the openssl root certificate, to itself. Probably there is a way to overcome that...but i don&#39;t know it...\r\n\r\nThen i developed a small application with Java11 &amp; BouncyCastle to generate root certificates and keys, now on github: https://github.com/kendarorg/JavaCaCertGenerator \r\n\r\nThe root certificates generated with this tool DOES NOT CONTAINS the AuthorityKeyIdentifier and can be installed with keytool directly on the cacert store. When i create then the csr and the ext file with the domain names this will be validated against the cacert store containing the root.. and no more handshake exceptions!\r\n\r\nMay be the cacert does not allow a recursive AuthorityKeyIdentifier? I don&#39;know but i&#39;ll appreciate some review :)","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>Looking on various certificates contents and the ones generated through the standard openssl procedure i noticed that the AutorityKeyIdentifier was set, for the openssl root certificate, to itself. Probably there is a way to overcome that...but i don't know it...</p>\n<p>Then i developed a small application with Java11 &amp; BouncyCastle to generate root certificates and keys, now on github: <a href=\"https://github.com/kendarorg/JavaCaCertGenerator\" rel=\"nofollow noreferrer\">https://github.com/kendarorg/JavaCaCertGenerator</a></p>\n<p>The root certificates generated with this tool DOES NOT CONTAINS the AuthorityKeyIdentifier and can be installed with keytool directly on the cacert store. When i create then the csr and the ext file with the domain names this will be validated against the cacert store containing the root.. and no more handshake exceptions!</p>\n<p>May be the cacert does not allow a recursive AuthorityKeyIdentifier? I don'know but i'll appreciate some review :)</p>\n"},{"tags":[],"owner":{"account_id":16643533,"reputation":29,"user_id":12028387,"display_name":"R A U N A K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652501614,"creation_date":1652501614,"answer_id":72237299,"question_id":9619030,"body_markdown":"I was getting this error in Android Studio. SO i did this after a lot of research.\r\n\r\nPassword is changeit for cacert\r\n\r\nStep 1 : Open CMD as Administrator \r\n\r\nStep 2 : Type &quot;Powershell&quot;\r\n\r\nStep 3 : start-process powershell -verb runas\r\n\r\nStep 4 : Add all your Certificate in C:\\Program Files\\Android\\Android \r\nStudio\\jre\\lib\\security this location where cacert is available.\r\n\r\nStep 5 : Go to Keytool directory Set-Location -Path &quot;C:\\Program Files\\Android\\Android Studio\\jre\\bin&quot;\r\n\r\nStep 6 : run this command in powershell   .\\keytool -importcert -trustcacerts -alias GiveNameforyourcertificate -file &quot;C:\\Program Files\\Android\\Android Studio\\jre\\lib\\security\\Replace With Your Certificate name.cer&quot; -keystore cacerts\r\n\r\nStep 7 : If Error comes as Certificate added (Access denied) then create a D drive partition(https://www.diskpart.com/windows-10/how-to-create-d-drive-from-c-drive-in-windows-10-0725.html) or move you file to d drive then add certificate\r\n\r\nIf you kept your file in D drive then only execute this\r\n\r\nStep 8 : keytool -importcert -trustcacerts -alias Nameyourcertificate -file &quot;D:\\Certificatename.cer&quot; -keystore cacerts\r\n\r\nStep 9 : Check if certificate was added or not  using this command  .\\keytool -list -keystore cacerts","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I was getting this error in Android Studio. SO i did this after a lot of research.</p>\n<p>Password is changeit for cacert</p>\n<p>Step 1 : Open CMD as Administrator</p>\n<p>Step 2 : Type &quot;Powershell&quot;</p>\n<p>Step 3 : start-process powershell -verb runas</p>\n<p>Step 4 : Add all your Certificate in C:\\Program Files\\Android\\Android\nStudio\\jre\\lib\\security this location where cacert is available.</p>\n<p>Step 5 : Go to Keytool directory Set-Location -Path &quot;C:\\Program Files\\Android\\Android Studio\\jre\\bin&quot;</p>\n<p>Step 6 : run this command in powershell   .\\keytool -importcert -trustcacerts -alias GiveNameforyourcertificate -file &quot;C:\\Program Files\\Android\\Android Studio\\jre\\lib\\security\\Replace With Your Certificate name.cer&quot; -keystore cacerts</p>\n<p>Step 7 : If Error comes as Certificate added (Access denied) then create a D drive partition(<a href=\"https://www.diskpart.com/windows-10/how-to-create-d-drive-from-c-drive-in-windows-10-0725.html\" rel=\"nofollow noreferrer\">https://www.diskpart.com/windows-10/how-to-create-d-drive-from-c-drive-in-windows-10-0725.html</a>) or move you file to d drive then add certificate</p>\n<p>If you kept your file in D drive then only execute this</p>\n<p>Step 8 : keytool -importcert -trustcacerts -alias Nameyourcertificate -file &quot;D:\\Certificatename.cer&quot; -keystore cacerts</p>\n<p>Step 9 : Check if certificate was added or not  using this command  .\\keytool -list -keystore cacerts</p>\n"},{"tags":[],"owner":{"account_id":3286957,"reputation":29,"user_id":2766209,"display_name":"SrikanthM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672213396,"creation_date":1672160352,"answer_id":74932094,"question_id":9619030,"body_markdown":"We too had same issue and we did all following things.\r\n\r\n1. Reimported Server SSL certificates.\r\n2. Made sure weblogic is using the proper caecerts.\r\n\r\nFinally our weblogic enabled weblogic DEBUG mode and found there is &quot;NOT HANDSHAKED&quot; exception.\r\n\r\nReason we found is ,  client system is using jdk 1.6 and server is using higher jdk version ( 1.8) because of which there is some TLS version mismatch causing the issue.\r\n\r\nWeblogic team tweaked server configuration by adding following lines in server arguments.\r\n\r\n    -Djdk.tls.client.protocol=TLSv1.2 -DUseSunHttpHandler=true.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>We too had same issue and we did all following things.</p>\n<ol>\n<li>Reimported Server SSL certificates.</li>\n<li>Made sure weblogic is using the proper caecerts.</li>\n</ol>\n<p>Finally our weblogic enabled weblogic DEBUG mode and found there is &quot;NOT HANDSHAKED&quot; exception.</p>\n<p>Reason we found is ,  client system is using jdk 1.6 and server is using higher jdk version ( 1.8) because of which there is some TLS version mismatch causing the issue.</p>\n<p>Weblogic team tweaked server configuration by adding following lines in server arguments.</p>\n<pre><code>-Djdk.tls.client.protocol=TLSv1.2 -DUseSunHttpHandler=true.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16739370,"reputation":1021,"user_id":12099521,"display_name":"whitefang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682575906,"creation_date":1682575906,"answer_id":76117236,"question_id":9619030,"body_markdown":"I have been searching about similar problem, because I need to serve angular application on local domain like as example.com as securely. \r\n\r\nTo create certificate, \r\n\r\n    openssl req  -newkey rsa:2048 -x509 -nodes -keyout server.key -new -out server.crt  -config ./openssl-custom.cnf -sha256  -days 3650\r\n\r\nopenss-custom.cnf \r\n\r\n    [req]\r\n    default_bits = 2048\r\n    prompt = no\r\n    default_md = sha256\r\n    x509_extensions = v3_req\r\n    distinguished_name = dn\r\n    \r\n    [dn]\r\n    C = TR\r\n    ST = Ankara\r\n    L = Ankara\r\n    O = Example\r\n    OU = Angular\r\n    emailAddress = angular@example.com\r\n    CN = *.example.com\r\n    \r\n    [v3_req]\r\n    subjectAltName = @alt_names\r\n    \r\n    [alt_names]\r\n    DNS.1 = *.example.com\r\n\r\n\r\nEvenif I import this certificate to cacerts of the active jre, Spring boot application didn&#39;t work properly. And &quot;trustAnchor must be non empty&quot; error was throwed. Because jvm didn&#39;t contain my truststore. To solve this problem, truststore  should be given to jvm parameter.\r\n\r\nSet this parameters at spring boot side \r\n  \r\n\r\n    @Configuration\r\n    public class SSLConfig {\r\n        @Autowired\r\n        private Environment env;\r\n    \r\n        @PostConstruct\r\n        private void configureSSL() {\r\n          //load the &#39;javax.net.ssl.trustStore&#39; and\r\n          //&#39;javax.net.ssl.trustStorePassword&#39; from application.properties\r\n          System.setProperty(&quot;javax.net.ssl.trustStore&quot;, env.getProperty(&quot;server.ssl.trust-store&quot;)); \r\n          System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,env.getProperty(&quot;server.ssl.trust-store-password&quot;));\r\n        }\r\n    }\r\n    application.properties:\r\n    \r\n    server.ssl.trust-store: YOUR_TRUST_STORE_PATH\r\n    server.ssl.trust-store-password: YOUR_TRUST_STORE_PASSWORD\r\n\r\n\r\nor set jvm parameter when run java application\r\n\r\n    -Djavax.net.ssl.trustStore\r\n    -Djavax.net.ssl.trustStorePassword\r\n\r\n\r\n  \r\n","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I have been searching about similar problem, because I need to serve angular application on local domain like as example.com as securely.</p>\n<p>To create certificate,</p>\n<pre><code>openssl req  -newkey rsa:2048 -x509 -nodes -keyout server.key -new -out server.crt  -config ./openssl-custom.cnf -sha256  -days 3650\n</code></pre>\n<p>openss-custom.cnf</p>\n<pre><code>[req]\ndefault_bits = 2048\nprompt = no\ndefault_md = sha256\nx509_extensions = v3_req\ndistinguished_name = dn\n\n[dn]\nC = TR\nST = Ankara\nL = Ankara\nO = Example\nOU = Angular\nemailAddress = angular@example.com\nCN = *.example.com\n\n[v3_req]\nsubjectAltName = @alt_names\n\n[alt_names]\nDNS.1 = *.example.com\n</code></pre>\n<p>Evenif I import this certificate to cacerts of the active jre, Spring boot application didn't work properly. And &quot;trustAnchor must be non empty&quot; error was throwed. Because jvm didn't contain my truststore. To solve this problem, truststore  should be given to jvm parameter.</p>\n<p>Set this parameters at spring boot side</p>\n<pre><code>@Configuration\npublic class SSLConfig {\n    @Autowired\n    private Environment env;\n\n    @PostConstruct\n    private void configureSSL() {\n      //load the 'javax.net.ssl.trustStore' and\n      //'javax.net.ssl.trustStorePassword' from application.properties\n      System.setProperty(&quot;javax.net.ssl.trustStore&quot;, env.getProperty(&quot;server.ssl.trust-store&quot;)); \n      System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,env.getProperty(&quot;server.ssl.trust-store-password&quot;));\n    }\n}\napplication.properties:\n\nserver.ssl.trust-store: YOUR_TRUST_STORE_PATH\nserver.ssl.trust-store-password: YOUR_TRUST_STORE_PASSWORD\n</code></pre>\n<p>or set jvm parameter when run java application</p>\n<pre><code>-Djavax.net.ssl.trustStore\n-Djavax.net.ssl.trustStorePassword\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1618670,"reputation":1374,"user_id":1495703,"accept_rate":67,"display_name":"Harish Gyanani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684701010,"creation_date":1684701010,"answer_id":76301812,"question_id":9619030,"body_markdown":"In my case Charles Mac Os Proxy was the issue.&lt;br /&gt;\r\nSteps to resolve - \r\n1. If charles is activated/opened then go to &quot;Proxy&quot; menu, unselect &quot;Mac OS X Proxy&quot; option.\r\n2. Kill all java processes using &quot;Activity Monitor&quot; app and try again.","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>In my case Charles Mac Os Proxy was the issue.<br />\nSteps to resolve -</p>\n<ol>\n<li>If charles is activated/opened then go to &quot;Proxy&quot; menu, unselect &quot;Mac OS X Proxy&quot; option.</li>\n<li>Kill all java processes using &quot;Activity Monitor&quot; app and try again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1603708,"reputation":79,"user_id":1484228,"display_name":"Athlon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690827224,"creation_date":1690827224,"answer_id":76806168,"question_id":9619030,"body_markdown":"I ran into this issue today (same PKIX error) after setting up a brand new project and was completely confused since I had previously imported my security certificate for my organization using the steps outlined above.  In fact, project performing a similar function did not have this issue.\r\n\r\n**I realized that the version of the MS SQL JDBC library Gradle was grabbing was the newest one (12.2.0.jre8 as of this answer) and my other project was using version 8.4.1.jre8.  Once I specified the old version, I was up and running.**\r\n\r\nI realize this answer doesn&#39;t explain what about the new version is causing the issue but I&#39;m hoping it helps someone in a pinch.  I&#39;ve wasted a lot of time on this already.\r\n\r\nMy project is using Spring Boot, Gradle wrapper, Java 8, JPA and MS SQL Server.\r\n","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I ran into this issue today (same PKIX error) after setting up a brand new project and was completely confused since I had previously imported my security certificate for my organization using the steps outlined above.  In fact, project performing a similar function did not have this issue.</p>\n<p><strong>I realized that the version of the MS SQL JDBC library Gradle was grabbing was the newest one (12.2.0.jre8 as of this answer) and my other project was using version 8.4.1.jre8.  Once I specified the old version, I was up and running.</strong></p>\n<p>I realize this answer doesn't explain what about the new version is causing the issue but I'm hoping it helps someone in a pinch.  I've wasted a lot of time on this already.</p>\n<p>My project is using Spring Boot, Gradle wrapper, Java 8, JPA and MS SQL Server.</p>\n"},{"tags":[],"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698952915,"creation_date":1698952915,"answer_id":77412355,"question_id":9619030,"body_markdown":"I am running java code on Mac, Visual Code Studio. I tried all the options, the only thing that worked for me was replacing the alias with the website url. \r\n\r\nafter (worked)\r\n\r\n&gt;sudo keytool -import -noprompt -trustcacerts -alias **https://central.sonatype.com** -file &quot;&lt;path to my cer file&gt;&quot; -keystore &quot;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/lib/security/cacerts&quot;\r\n\r\nbefore\r\n\r\n&gt;sudo keytool -import -noprompt -trustcacerts -alias **CentralSonaType** -file &quot;&lt;path to my cer file&gt;&quot; -keystore &quot;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/lib/security/cacerts&quot;\r\n\r\n\r\nI created a launch configuration \r\n\r\n     &quot;vmArgs&quot;: [\r\n                    &quot;-Djavax.net.debug=ALL&quot;,\r\n                    &quot;-Djavax.net.ssl.keyStore=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/lib/security/cacerts&quot;,\r\n                    &quot;-Djavax.net.ssl.keyStorePassword=changeit&quot;,\r\n                    &quot;-Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/lib/security/cacerts&quot;, \r\n                    &quot;-Djavax.net.ssl.trustStorePassword=changeit&quot;\r\n      ]","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I am running java code on Mac, Visual Code Studio. I tried all the options, the only thing that worked for me was replacing the alias with the website url.</p>\n<p>after (worked)</p>\n<blockquote>\n<p>sudo keytool -import -noprompt -trustcacerts -alias <strong><a href=\"https://central.sonatype.com\" rel=\"nofollow noreferrer\">https://central.sonatype.com</a></strong> -file &quot;&quot; -keystore &quot;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/lib/security/cacerts&quot;</p>\n</blockquote>\n<p>before</p>\n<blockquote>\n<p>sudo keytool -import -noprompt -trustcacerts -alias <strong>CentralSonaType</strong> -file &quot;&quot; -keystore &quot;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/lib/security/cacerts&quot;</p>\n</blockquote>\n<p>I created a launch configuration</p>\n<pre><code> &quot;vmArgs&quot;: [\n                &quot;-Djavax.net.debug=ALL&quot;,\n                &quot;-Djavax.net.ssl.keyStore=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/lib/security/cacerts&quot;,\n                &quot;-Djavax.net.ssl.keyStorePassword=changeit&quot;,\n                &quot;-Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/lib/security/cacerts&quot;, \n                &quot;-Djavax.net.ssl.trustStorePassword=changeit&quot;\n  ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700882072,"creation_date":1700813767,"answer_id":77541597,"question_id":9619030,"body_markdown":"I would like to suggest a simple alternative based on [certificate ripper][1] which I have built myself. It extracts the server certificate and adds it the cacert truststore of the jdk. See below for the command.\r\n```\r\ncrip export jks -u=https://[HOST:[PORT] -d=$JAVA_HOME/jre/lib/security/cacerts\r\n```\r\n\r\nIn some cases you need to run it with sudo or admin rights. It is available for Windows, Mac and Linux. Binaries can be found here: [certificate ripper binaries][2]\r\n\r\n\r\n  [1]: https://github.com/Hakky54/certificate-ripper\r\n  [2]: https://github.com/Hakky54/certificate-ripper/releases","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p>I would like to suggest a simple alternative based on <a href=\"https://github.com/Hakky54/certificate-ripper\" rel=\"nofollow noreferrer\">certificate ripper</a> which I have built myself. It extracts the server certificate and adds it the cacert truststore of the jdk. See below for the command.</p>\n<pre><code>crip export jks -u=https://[HOST:[PORT] -d=$JAVA_HOME/jre/lib/security/cacerts\n</code></pre>\n<p>In some cases you need to run it with sudo or admin rights. It is available for Windows, Mac and Linux. Binaries can be found here: <a href=\"https://github.com/Hakky54/certificate-ripper/releases\" rel=\"nofollow noreferrer\">certificate ripper binaries</a></p>\n"}],"owner":{"account_id":422964,"reputation":33654,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2013645,"favorite_count":0,"down_vote_count":1,"up_vote_count":613,"accepted_answer_id":9619478,"answer_count":38,"score":612,"last_activity_date":1700882173,"creation_date":1331216234,"question_id":9619030,"body_markdown":"**Edit :** I tried to format the question and accepted answer in more presentable way at my [blog][1]. \r\n\r\n  [1]: https://tech-geek-passion.blogspot.com/2017/09/how-to-resolve-javaxnetsslsslhandshakee.html\r\n\r\nHere is the original issue.\r\n\r\nI am getting this error:\r\n\r\n\r\n&gt; detailed message sun.security.validator.ValidatorException: PKIX path\r\n&gt; building failed:   \r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path  to requested target\r\n&gt; \r\n&gt; cause javax.net.ssl.SSLHandshakeException:\r\n&gt; sun.security.validator.ValidatorException: PKIX path   building\r\n&gt; failed: sun.security.provider.certpath.SunCertPathBuilderException:\r\n&gt; unable to find valid certification path to requested target\r\n\r\nI am using Tomcat 6 as webserver. I have two HTTPS web applications installed on different Tomcats on different ports but on the same machine. Say App1 (port 8443) and  App2 (port 443). App1 connects to App2. When App1 connects to App2 I get the above error. I know this is a very common error so came across many solutions on different forums and sites. I have the below entry in `server.xml` of both Tomcats:\r\n\r\n\r\n    keystoreFile=&quot;c:/.keystore&quot; \r\n    keystorePass=&quot;changeit&quot;\r\n\r\n\r\nEvery site says the same reason that certificate given by app2 is not in the trusted store of app1 jvm. This seems to be true also when I tried to hit the same URL in IE browser, it works (with warming, There is a problem with this web site&#39;s security certificate. Here I say continue to this website). But when same URL is hit by Java client (in my case) I get the above error. So to put it in the truststore I tried these three options:\r\n\r\n### Option 1\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:/.keystore&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n\r\n### Option 2\r\n\r\nSetting below in environment variable\r\n\r\n    CATALINA_OPTS -- param name\r\n    -Djavax.net.ssl.trustStore=C:\\.keystore -Djavax.net.ssl.trustStorePassword=changeit ---param value\r\n\r\n\r\n### Option 3\r\n\r\nSetting below in environment variable\r\n\r\n    JAVA_OPTS -- param name\r\n    -Djavax.net.ssl.trustStore=C:\\.keystore -Djavax.net.ssl.trustStorePassword=changeit ---param value\r\n\r\n### Result\r\n\r\nBut nothing worked.\r\n\r\n**What at last worked** is executing the Java approach suggested in https://stackoverflow.com/questions/1828775/httpclient-and-ssl by Pascal Thivent i.e. executing the program InstallCert. \r\n\r\n**But this approach is fine for devbox setup but I can not use it at production environment.** \r\n\r\nI am wondering why three approaches mentioned above did not work when I have mentioned the same values in `server.xml` of App2 server and same values in truststore by setting\r\n \r\n`System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:/.keystore&quot;) and System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);`\r\n\r\nin App1 program.\r\n \r\nFor more information this is how I am making the connection:\r\n\r\n    URL url = new URL(urlStr);\r\n    \r\n    URLConnection conn = url.openConnection();\r\n    \r\n    if (conn instanceof HttpsURLConnection) {\r\n    \r\n      HttpsURLConnection conn1 = (HttpsURLConnection) url.openConnection();\r\n      \r\n      conn1.setHostnameVerifier(new HostnameVerifier() {\r\n        public boolean verify(String hostname, SSLSession session) {\r\n          return true;\r\n        }\r\n      });\r\n\r\n      reply.load(conn1.getInputStream());\r\n\r\n","title":"Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?","body":"<p><strong>Edit :</strong> I tried to format the question and accepted answer in more presentable way at my <a href=\"https://tech-geek-passion.blogspot.com/2017/09/how-to-resolve-javaxnetsslsslhandshakee.html\" rel=\"noreferrer\">blog</a>.</p>\n<p>Here is the original issue.</p>\n<p>I am getting this error:</p>\n<blockquote>\n<p>detailed message sun.security.validator.ValidatorException: PKIX path\nbuilding failed:<br />\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path  to requested target</p>\n<p>cause javax.net.ssl.SSLHandshakeException:\nsun.security.validator.ValidatorException: PKIX path   building\nfailed: sun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target</p>\n</blockquote>\n<p>I am using Tomcat 6 as webserver. I have two HTTPS web applications installed on different Tomcats on different ports but on the same machine. Say App1 (port 8443) and  App2 (port 443). App1 connects to App2. When App1 connects to App2 I get the above error. I know this is a very common error so came across many solutions on different forums and sites. I have the below entry in <code>server.xml</code> of both Tomcats:</p>\n<pre><code>keystoreFile=&quot;c:/.keystore&quot; \nkeystorePass=&quot;changeit&quot;\n</code></pre>\n<p>Every site says the same reason that certificate given by app2 is not in the trusted store of app1 jvm. This seems to be true also when I tried to hit the same URL in IE browser, it works (with warming, There is a problem with this web site's security certificate. Here I say continue to this website). But when same URL is hit by Java client (in my case) I get the above error. So to put it in the truststore I tried these three options:</p>\n<h3>Option 1</h3>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:/.keystore&quot;);\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\n</code></pre>\n<h3>Option 2</h3>\n<p>Setting below in environment variable</p>\n<pre><code>CATALINA_OPTS -- param name\n-Djavax.net.ssl.trustStore=C:\\.keystore -Djavax.net.ssl.trustStorePassword=changeit ---param value\n</code></pre>\n<h3>Option 3</h3>\n<p>Setting below in environment variable</p>\n<pre><code>JAVA_OPTS -- param name\n-Djavax.net.ssl.trustStore=C:\\.keystore -Djavax.net.ssl.trustStorePassword=changeit ---param value\n</code></pre>\n<h3>Result</h3>\n<p>But nothing worked.</p>\n<p><strong>What at last worked</strong> is executing the Java approach suggested in <a href=\"https://stackoverflow.com/questions/1828775/httpclient-and-ssl\">How to handle invalid SSL certificates with Apache HttpClient?</a> by Pascal Thivent i.e. executing the program InstallCert.</p>\n<p><strong>But this approach is fine for devbox setup but I can not use it at production environment.</strong></p>\n<p>I am wondering why three approaches mentioned above did not work when I have mentioned the same values in <code>server.xml</code> of App2 server and same values in truststore by setting</p>\n<p><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:/.keystore&quot;) and System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);</code></p>\n<p>in App1 program.</p>\n<p>For more information this is how I am making the connection:</p>\n<pre><code>URL url = new URL(urlStr);\n\nURLConnection conn = url.openConnection();\n\nif (conn instanceof HttpsURLConnection) {\n\n  HttpsURLConnection conn1 = (HttpsURLConnection) url.openConnection();\n  \n  conn1.setHostnameVerifier(new HostnameVerifier() {\n    public boolean verify(String hostname, SSLSession session) {\n      return true;\n    }\n  });\n\n  reply.load(conn1.getInputStream());\n</code></pre>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":1815974,"reputation":1458,"user_id":1651042,"accept_rate":50,"display_name":"MadTech"},"score":0,"creation_date":1368265594,"post_id":16495744,"comment_id":23676602,"body_markdown":"I think this will help you (http://stackoverflow.com/questions/15481382/how-to-send-form-field-value-to-a-rest-service-using-json-or-ajax)","body":"I think this will help you (<a href=\"http://stackoverflow.com/questions/15481382/how-to-send-form-field-value-to-a-rest-service-using-json-or-ajax\" title=\"how to send form field value to a rest service using json or ajax\">stackoverflow.com/questions/15481382/&hellip;</a>)"},{"owner":{"account_id":347037,"reputation":79648,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1368271562,"post_id":16495744,"comment_id":23677876,"body_markdown":"Why are you posting JSON to the server when it clearly expects url encoded form data?","body":"Why are you posting JSON to the server when it clearly expects url encoded form data?"}],"answers":[{"tags":[],"owner":{"account_id":422964,"reputation":33654,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1368266811,"creation_date":1368265790,"answer_id":16495835,"question_id":16495744,"body_markdown":"Go for jquery (as it provides many out of box features like serilaize the form parametrs to json)and use below code\r\n     \r\n    var frm = $(document.myform);\r\n    var data = JSON.stringify(frm.serializeArray());\r\n\r\n     or\r\n\r\n    var data = $(&#39;#yourForm).serializeArray();\r\n  \r\n see http://api.jquery.com/serializeArray/\r\n\r\n    var url = &#39;YourURL&#39;;\r\n\r\n    $.ajax({\r\n      url: url,\r\n      dataType: &#39;json&#39;,\r\n      data: data ,\r\n      type: &#39;POST&#39;,\r\n      success: function(data) {\r\n        \r\n      }\r\n     });","title":"How do i post form data as JSON format","body":"<p>Go for jquery (as it provides many out of box features like serilaize the form parametrs to json)and use below code</p>\n\n<pre><code>var frm = $(document.myform);\nvar data = JSON.stringify(frm.serializeArray());\n\n or\n\nvar data = $('#yourForm).serializeArray();\n</code></pre>\n\n<p>see <a href=\"http://api.jquery.com/serializeArray/\" rel=\"nofollow\">http://api.jquery.com/serializeArray/</a></p>\n\n<pre><code>var url = 'YourURL';\n\n$.ajax({\n  url: url,\n  dataType: 'json',\n  data: data ,\n  type: 'POST',\n  success: function(data) {\n\n  }\n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1357880,"reputation":8272,"user_id":1295905,"accept_rate":61,"display_name":"ebram khalil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368271384,"creation_date":1368266660,"answer_id":16495944,"question_id":16495744,"body_markdown":"I think you have to do 2 steps:\r\n\r\n 1. First is to convert your form contents into JS object(hard step).\r\n 2. Second convert your JS object into JSON format(easy step).\r\n\r\nYou just need to add more functionality to [jQuery serializeArray][1] to give us our required JS object:\r\n\r\n    $.fn.serializeObject = function()\r\n    {\r\n        var o = {};\r\n        var a = this.serializeArray();\r\n        $.each(a, function() {\r\n            if (o[this.name] !== undefined) {\r\n                if (!o[this.name].push) {\r\n                    o[this.name] = [o[this.name]];\r\n                }\r\n                o[this.name].push(this.value || &#39;&#39;);\r\n            } else {\r\n                o[this.name] = this.value || &#39;&#39;;\r\n            }\r\n        });\r\n        return o;\r\n    };\r\n\r\nThen use `JSON.stringify` function to convert the JS object into JSON format. You can find more info [here][2]\r\n\r\n  [1]: http://api.jquery.com/serializeArray/\r\n  [2]: https://stackoverflow.com/questions/1184624/convert-form-data-to-js-object-with-jquery/1186309#1186309","title":"How do i post form data as JSON format","body":"<p>I think you have to do 2 steps:</p>\n\n<ol>\n<li>First is to convert your form contents into JS object(hard step).</li>\n<li>Second convert your JS object into JSON format(easy step).</li>\n</ol>\n\n<p>You just need to add more functionality to <a href=\"http://api.jquery.com/serializeArray/\" rel=\"nofollow noreferrer\">jQuery serializeArray</a> to give us our required JS object:</p>\n\n<pre><code>$.fn.serializeObject = function()\n{\n    var o = {};\n    var a = this.serializeArray();\n    $.each(a, function() {\n        if (o[this.name] !== undefined) {\n            if (!o[this.name].push) {\n                o[this.name] = [o[this.name]];\n            }\n            o[this.name].push(this.value || '');\n        } else {\n            o[this.name] = this.value || '';\n        }\n    });\n    return o;\n};\n</code></pre>\n\n<p>Then use <code>JSON.stringify</code> function to convert the JS object into JSON format. You can find more info <a href=\"https://stackoverflow.com/questions/1184624/convert-form-data-to-js-object-with-jquery/1186309#1186309\">here</a></p>\n"}],"owner":{"account_id":2297644,"reputation":911,"user_id":2018737,"accept_rate":80,"display_name":"theyCallMeJun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700881540,"creation_date":1368265122,"question_id":16495744,"body_markdown":"Posting argument data from my form works perfectly but i need to post the same information using JSON. How can this be done.\r\nMy form looks like this.\r\n\r\n    \r\n\t&lt;form enctype=&quot;multipart/form-data&quot; method=&quot;post&quot; action=&quot;http://myrestfulservice.com/&quot;&gt;\r\n\t\t&lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;\r\n\t\t&lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;\r\n\t\t&lt;textarea name=&quot;about&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;\r\n\t\t&lt;input name=&quot;file&quot; type=&quot;file&quot;&gt;\r\n\t&lt;/form&gt;\r\n\r\n\r\nAnd my JSON string looks like this.\r\n\r\n    {\r\n\t&quot;name&quot;:&quot;Josh U&quot;,\r\n\t&quot;email&quot;:&quot;xxx@gmail.com&quot;,\r\n\t&quot;about&quot;:&quot;Get rich programming or die tryna be something else&quot;,\r\n\t&quot;file&quot;:&quot;@/home/josh/image.png&quot;\r\n    }\r\n\r\nI have tried  using that JSON string but i get the following \r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Failed : HTTP error code : 500\r\n\tat com.ijoshluisaac.restful.client.RESTFulClientPostUsingJavaHTTPClientLibrary.main(RESTFulClientPostUsingJavaHTTPClientLibrary.java:35)\r\n\r\nMy JAVA codes looks like this\r\n\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n\r\n      public class RESTFulClientPostUsingJavaHTTPClientLibrary {\r\n\t\r\n\t// JSON content to post\r\n\tprivate static final String JSON_OBJECT = &quot;{\\&quot;name\\&quot;:\\&quot;Josh U\\&quot;,\\&quot;email\\&quot;:\\&quot;xxx@gmail.com\\&quot;,\\&quot;about\\&quot;:\\&quot;Get rich programming or die tryna be something else\\&quot;,\\&quot;file\\&quot;:\\&quot;/home/josh/image.png\\&quot;}&quot;;\r\n    \r\n\t//Web services URLs\r\n\tprivate static final String URL_SR = &quot;http://myrestfulservice.com/&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\ttry {\r\n\t\t\tURL url = new URL(URL_SR);\r\n\t\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t\t\tconn.setDoOutput(true);\r\n\t\t\tconn.setRequestMethod(&quot;POST&quot;);\r\n\t\t\tconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n\t\t\t\r\n\t\t\tOutputStream os = conn.getOutputStream();\r\n\t\t\tos.write(JSON_OBJECT.getBytes());\r\n\t\t\tos.flush();\r\n\r\n\t\t\tif (conn.getResponseCode() != HttpURLConnection.HTTP_CREATED) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Failed : HTTP error code : &quot;\r\n\t\t\t\t\t\t+ conn.getResponseCode());\r\n\t\t\t}\r\n\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\t(conn.getInputStream())));\r\n\r\n\t\t\tString output;\r\n\t\t\tSystem.out.println(&quot;Successfully Executed RESTFul POST .... \\n&quot;);\r\n\t\t\twhile ((output = br.readLine()) != null) {\r\n\t\t\t\tSystem.out.println(output);\r\n\t\t\t}\r\n\r\n\t\t\tconn.disconnect();\r\n\r\n\t\t} catch (MalformedURLException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t} catch (IOException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n  \r\n","title":"How do i post form data as JSON format","body":"<p>Posting argument data from my form works perfectly but i need to post the same information using JSON. How can this be done.\nMy form looks like this.</p>\n\n<pre><code>&lt;form enctype=\"multipart/form-data\" method=\"post\" action=\"http://myrestfulservice.com/\"&gt;\n    &lt;input type=\"text\" name=\"name\"&gt;\n    &lt;input type=\"text\" name=\"email\"&gt;\n    &lt;textarea name=\"about\" rows=\"3\"&gt;&lt;/textarea&gt;\n    &lt;input name=\"file\" type=\"file\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And my JSON string looks like this.</p>\n\n<pre><code>{\n\"name\":\"Josh U\",\n\"email\":\"xxx@gmail.com\",\n\"about\":\"Get rich programming or die tryna be something else\",\n\"file\":\"@/home/josh/image.png\"\n}\n</code></pre>\n\n<p>I have tried  using that JSON string but i get the following </p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: Failed : HTTP error code : 500\nat com.ijoshluisaac.restful.client.RESTFulClientPostUsingJavaHTTPClientLibrary.main(RESTFulClientPostUsingJavaHTTPClientLibrary.java:35)\n</code></pre>\n\n<p>My JAVA codes looks like this</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n  public class RESTFulClientPostUsingJavaHTTPClientLibrary {\n\n// JSON content to post\nprivate static final String JSON_OBJECT = \"{\\\"name\\\":\\\"Josh U\\\",\\\"email\\\":\\\"xxx@gmail.com\\\",\\\"about\\\":\\\"Get rich programming or die tryna be something else\\\",\\\"file\\\":\\\"/home/josh/image.png\\\"}\";\n\n//Web services URLs\nprivate static final String URL_SR = \"http://myrestfulservice.com/\";\n\npublic static void main(String[] args) {\n\n    try {\n        URL url = new URL(URL_SR);\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n        conn.setDoOutput(true);\n        conn.setRequestMethod(\"POST\");\n        conn.setRequestProperty(\"Content-Type\", \"application/json\");\n\n\n        OutputStream os = conn.getOutputStream();\n        os.write(JSON_OBJECT.getBytes());\n        os.flush();\n\n        if (conn.getResponseCode() != HttpURLConnection.HTTP_CREATED) {\n            throw new RuntimeException(\"Failed : HTTP error code : \"\n                    + conn.getResponseCode());\n        }\n\n        BufferedReader br = new BufferedReader(new InputStreamReader(\n                (conn.getInputStream())));\n\n        String output;\n        System.out.println(\"Successfully Executed RESTFul POST .... \\n\");\n        while ((output = br.readLine()) != null) {\n            System.out.println(output);\n        }\n\n        conn.disconnect();\n\n    } catch (MalformedURLException e) {\n\n        e.printStackTrace();\n\n    } catch (IOException e) {\n\n        e.printStackTrace();\n\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","selenium-webdriver","webdriver","new-window"],"comments":[{"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"score":0,"creation_date":1496787661,"post_id":9588827,"comment_id":75801085,"body_markdown":"We can do the switch automatically  - check here for the advanced usage - http://www.testautomationguru.com/selenium-webdriver-automatic-switching-between-browser-windows-using-guice-method-interceptor/","body":"We can do the switch automatically  - check here for the advanced usage - <a href=\"http://www.testautomationguru.com/selenium-webdriver-automatic-switching-between-browser-windows-using-guice-method-interceptor/\" rel=\"nofollow noreferrer\">testautomationguru.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1303675,"reputation":21,"user_id":1253100,"display_name":"Breeze91"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1331062688,"creation_date":1331062688,"answer_id":9590624,"question_id":9588827,"body_markdown":"You could use: \r\n\r\n    driver.SwitchTo().Window(WindowName);\r\n\r\nWhere WindowName is a string representing the name of the window you want to switch focus to. Call this function again with the name of the original window to get back to it when you are done.","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>You could use: </p>\n\n<pre><code>driver.SwitchTo().Window(WindowName);\n</code></pre>\n\n<p>Where WindowName is a string representing the name of the window you want to switch focus to. Call this function again with the name of the original window to get back to it when you are done.</p>\n"},{"tags":[],"owner":{"account_id":1052575,"reputation":4456,"user_id":1056098,"display_name":"Surya"},"down_vote_count":2,"up_vote_count":133,"is_accepted":true,"score":131,"last_activity_date":1433840652,"creation_date":1331107181,"answer_id":9597714,"question_id":9588827,"body_markdown":"You can switch between windows as below:\r\n\r\n    // Store the current window handle\r\n    String winHandleBefore = driver.getWindowHandle();\r\n    \r\n    // Perform the click operation that opens new window\r\n    \r\n    // Switch to new window opened\r\n    for(String winHandle : driver.getWindowHandles()){\r\n        driver.switchTo().window(winHandle);\r\n    }\r\n    \r\n    // Perform the actions on new window\r\n    \r\n    // Close the new window, if that window no more required\r\n    driver.close();\r\n    \r\n    // Switch back to original browser (first window)\r\n    driver.switchTo().window(winHandleBefore);\r\n    \r\n    // Continue with original browser (first window)","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>You can switch between windows as below:</p>\n\n<pre><code>// Store the current window handle\nString winHandleBefore = driver.getWindowHandle();\n\n// Perform the click operation that opens new window\n\n// Switch to new window opened\nfor(String winHandle : driver.getWindowHandles()){\n    driver.switchTo().window(winHandle);\n}\n\n// Perform the actions on new window\n\n// Close the new window, if that window no more required\ndriver.close();\n\n// Switch back to original browser (first window)\ndriver.switchTo().window(winHandleBefore);\n\n// Continue with original browser (first window)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1478778,"reputation":1436,"user_id":1388554,"display_name":"StatusQuo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338586088,"creation_date":1338586088,"answer_id":10857576,"question_id":9588827,"body_markdown":"I use iterator and a while loop to store the various window handles and then switch back and forth.\r\n\r\n    //Click your link\r\n    driver.findElement(By.xpath(&quot;xpath&quot;)).click();\r\n    //Get all the window handles in a set\r\n    Set &lt;String&gt; handles =driver.getWindowHandles();\r\n    Iterator&lt;String&gt; it = handles.iterator();\r\n    //iterate through your windows\r\n    while (it.hasNext()){\r\n    String parent = it.next();\r\n    String newwin = it.next();\r\n    driver.switchTo().window(newwin);\r\n    //perform actions on new window\r\n    driver.close();\r\n    driver.switchTo().window(parent);\r\n    \t\t\t}","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>I use iterator and a while loop to store the various window handles and then switch back and forth.</p>\n\n<pre><code>//Click your link\ndriver.findElement(By.xpath(\"xpath\")).click();\n//Get all the window handles in a set\nSet &lt;String&gt; handles =driver.getWindowHandles();\nIterator&lt;String&gt; it = handles.iterator();\n//iterate through your windows\nwhile (it.hasNext()){\nString parent = it.next();\nString newwin = it.next();\ndriver.switchTo().window(newwin);\n//perform actions on new window\ndriver.close();\ndriver.switchTo().window(parent);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346491,"reputation":1068,"user_id":680048,"accept_rate":71,"display_name":"Invy"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1343730054,"creation_date":1343730054,"answer_id":11737968,"question_id":9588827,"body_markdown":"Surya, your way won&#39;t work, because of two reasons:\r\n\r\n 1. you can&#39;t close driver  during evaluation of test as **it will loose focus**, before switching to active element, and you&#39;ll get NoSuchWindowException.\r\n 2. if test are run on ChromeDriver you`ll get not a window, but tab on click in your application. As **SeleniumDriver can&#39;t act with tabs**, only switchs between windows, it hangs on click where new tab is being opening, and crashes on timeout. ","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>Surya, your way won't work, because of two reasons:</p>\n\n<ol>\n<li>you can't close driver  during evaluation of test as <strong>it will loose focus</strong>, before switching to active element, and you'll get NoSuchWindowException.</li>\n<li>if test are run on ChromeDriver you`ll get not a window, but tab on click in your application. As <strong>SeleniumDriver can't act with tabs</strong>, only switchs between windows, it hangs on click where new tab is being opening, and crashes on timeout. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2272649,"reputation":495,"user_id":1999663,"display_name":"Amarnath Rayudu"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1358846417,"creation_date":1358845397,"answer_id":14454826,"question_id":9588827,"body_markdown":"Just to add to the content ...\r\n\r\nTo go back to the main window(default window) .\r\n\r\nuse `driver.switchTo().defaultContent();`\r\n\r\n","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>Just to add to the content ...</p>\n\n<p>To go back to the main window(default window) .</p>\n\n<p>use <code>driver.switchTo().defaultContent();</code></p>\n"},{"tags":[],"owner":{"account_id":1601823,"reputation":20166,"user_id":1482709,"accept_rate":74,"display_name":"Prashanth Sams"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1399492154,"creation_date":1372076817,"answer_id":17275462,"question_id":9588827,"body_markdown":"This script helps you to switch over from a **Parent window** to a **Child window** and back cntrl to Parent window\r\n\r\n    String parentWindow = driver.getWindowHandle();\r\n    Set&lt;String&gt; handles =  driver.getWindowHandles();\r\n       for(String windowHandle  : handles)\r\n           {\r\n           if(!windowHandle.equals(parentWindow))\r\n              {\r\n              driver.switchTo().window(windowHandle);\r\n             &lt;!--Perform your operation here for new window--&gt;\r\n             driver.close(); //closing child window\r\n             driver.switchTo().window(parentWindow); //cntrl to parent window\r\n              }\r\n           }\r\n","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>This script helps you to switch over from a <strong>Parent window</strong> to a <strong>Child window</strong> and back cntrl to Parent window</p>\n\n<pre><code>String parentWindow = driver.getWindowHandle();\nSet&lt;String&gt; handles =  driver.getWindowHandles();\n   for(String windowHandle  : handles)\n       {\n       if(!windowHandle.equals(parentWindow))\n          {\n          driver.switchTo().window(windowHandle);\n         &lt;!--Perform your operation here for new window--&gt;\n         driver.close(); //closing child window\n         driver.switchTo().window(parentWindow); //cntrl to parent window\n          }\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1412597300,"creation_date":1412597300,"answer_id":26215928,"question_id":9588827,"body_markdown":"If you have more then one browser (using java 8)\r\n\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    public class TestLink {\r\n    \r\n      private static Set&lt;String&gt; windows;\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        WebDriver driver = new FirefoxDriver();\r\n        driver.get(&quot;file:///C:/Users/radler/Desktop/myLink.html&quot;);\r\n        setWindows(driver);\r\n        driver.findElement(By.xpath(&quot;//body/a&quot;)).click();\r\n        // get new window\r\n        String newWindow = getWindow(driver);\r\n        driver.switchTo().window(newWindow);\r\n    \r\n        // Perform the actions on new window\r\n        String text = driver.findElement(By.cssSelector(&quot;.active&quot;)).getText();\r\n        System.out.println(text);\r\n    \r\n        driver.close();\r\n        // Switch back\r\n        driver.switchTo().window(windows.iterator().next());\r\n    \r\n        \r\n        driver.findElement(By.xpath(&quot;//body/a&quot;)).click();\r\n    \r\n      }\r\n    \r\n      private static void setWindows(WebDriver driver) {\r\n        windows = new HashSet&lt;String&gt;();\r\n        driver.getWindowHandles().stream().forEach(n -&gt; windows.add(n));\r\n      }\r\n    \r\n      private static String getWindow(WebDriver driver) {\r\n        List&lt;String&gt; newWindow = driver.getWindowHandles().stream()\r\n            .filter(n -&gt; windows.contains(n) == false).collect(Collectors.toList());\r\n        System.out.println(newWindow.get(0));\r\n        return newWindow.get(0);\r\n      }\r\n    \r\n    }\r\n\r\n","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>If you have more then one browser (using java 8)</p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class TestLink {\n\n  private static Set&lt;String&gt; windows;\n\n  public static void main(String[] args) {\n\n    WebDriver driver = new FirefoxDriver();\n    driver.get(\"file:///C:/Users/radler/Desktop/myLink.html\");\n    setWindows(driver);\n    driver.findElement(By.xpath(\"//body/a\")).click();\n    // get new window\n    String newWindow = getWindow(driver);\n    driver.switchTo().window(newWindow);\n\n    // Perform the actions on new window\n    String text = driver.findElement(By.cssSelector(\".active\")).getText();\n    System.out.println(text);\n\n    driver.close();\n    // Switch back\n    driver.switchTo().window(windows.iterator().next());\n\n\n    driver.findElement(By.xpath(\"//body/a\")).click();\n\n  }\n\n  private static void setWindows(WebDriver driver) {\n    windows = new HashSet&lt;String&gt;();\n    driver.getWindowHandles().stream().forEach(n -&gt; windows.add(n));\n  }\n\n  private static String getWindow(WebDriver driver) {\n    List&lt;String&gt; newWindow = driver.getWindowHandles().stream()\n        .filter(n -&gt; windows.contains(n) == false).collect(Collectors.toList());\n    System.out.println(newWindow.get(0));\n    return newWindow.get(0);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1525572969,"creation_date":1502633250,"answer_id":45661220,"question_id":9588827,"body_markdown":"Modify registry for IE:\n-------------------------\n\n[![ie_x64_tabprocgrowth.png][1]][1]\n\n 1. HKEY_CURRENT_USER\\Software\\Microsoft\\Internet Explorer\\Main\n 2. Right-click  New  String Value  Value name: TabProcGrowth (create if not exist)\n 3. TabProcGrowth (right-click)  Modify...  Value data: 0\n\n**Source:** [Selenium WebDriver windows switching issue in Internet Explorer 8-10\n](https://stackoverflow.com/a/36760642/2806819)\n\nFor my case, IE began detecting new window handles after the registry edit.\n\nTaken from the MSDN Blog:\n-------------------------\n\n&gt; **Tab Process Growth :** Sets the rate at which IE creates New Tab processes.\n&gt;\n&gt; The &quot;Max-Number&quot; algorithm: This specifies the maximum number of tab processes that may be executed for a single isolation session for a single frame process at a specific mandatory integrity level (MIC). Relative values are:\n&gt;\n&gt; - TabProcGrowth=0 : tabs and frames run within the same process; frames are not unified across MIC levels.\n&gt; - TabProcGrowth =1: all tabs for a given frame process run in a single tab process for a given MIC level.\n&gt;\n&gt; **Source:** [Opening a New Tab may launch a New Process with Internet Explorer 8.0](https://blogs.msdn.microsoft.com/askie/2009/03/09/opening-a-new-tab-may-launch-a-new-process-with-internet-explorer-8-0/)\n\n----------\n\nInternet Options:\n-----------------\n\n - Security  Untick *Enable Protected Mode* for all zones (Internet,\n   Local intranet, Trusted sites, Restricted sites)\n - Advanced  Security  Untick *Enable Enhanced Protected Mode*\n\n----------\n\nCode:\n-----\n\n&gt; **Browser:** IE11 x64 (Zoom: 100%)&lt;br&gt;\n&gt; **OS:** Windows 7 x64&lt;br&gt;\n&gt; **Selenium:** 3.5.1&lt;br&gt;\n&gt; **WebDriver:** IEDriverServer x64 3.5.1\n\n    public static String openWindow(WebDriver driver, By by) throws IOException {\n    String parentHandle = driver.getWindowHandle(); // Save parent window\n    WebElement clickableElement = driver.findElement(by);\n    clickableElement.click(); // Open child window\n    WebDriverWait wait = new WebDriverWait(driver, 10); // Timeout in 10s\n    boolean isChildWindowOpen = wait.until(ExpectedConditions.numberOfWindowsToBe(2));\n    if (isChildWindowOpen) {\n        Set&lt;String&gt; handles = driver.getWindowHandles();\n        // Switch to child window\n        for (String handle : handles) {\n            driver.switchTo().window(handle);\n            if (!parentHandle.equals(handle)) {\n                break;\n            }\n        }\n        driver.manage().window().maximize();\n    }\n    return parentHandle; // Returns parent window if need to switch back\n    }\n    \n    \n    \n    /* How to use method */\n    String parentHandle = Selenium.openWindow(driver, by);\n    \n    // Do things in child window\n    driver.close();\n    \n    // Return to parent window\n    driver.switchTo().window(parentHandle);\n\nThe above code includes an if-check to make sure you are not switching to the parent window as [`Set&lt;T&gt;` has no guaranteed ordering in Java](https://stackoverflow.com/questions/10752753/java-set-retain-order). `WebDriverWait` appears to increase the chance of success as supported by below statement.\n\nQuoted from [Luke Inman-Semerau](https://www.linkedin.com/in/lukei): (Developer for Selenium)\n-------------------------------\n\n&gt; The browser may take time to acknowledge the new window, and you may\n&gt; be falling into your switchTo() loop before the popup window appears.\n&gt; \n&gt; You automatically assume that the last window returned by\n&gt; getWindowHandles() will be the last one opened. That&#39;s not necessarily\n&gt; true, as they are not guaranteed to be returned in any order.\n&gt;\n&gt; **Source:** [Unable to handle a popup in IE,control is not transferring to popup window](https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/6646#issuecomment-192154324)\n\n----------\n\nRelated Posts:\n--------------\n\n - [Selenium switching to new Tab in\n   IE](https://stackoverflow.com/questions/40014966/selenium-switching-to-new-tab-in-ie)\n - [How to open new tab in IE using selenium (java) and open a url in\n   that tab (not\n   window)](https://stackoverflow.com/questions/22820527/how-to-open-new-tab-in-ie-using-selenium-java-and-open-a-url-in-that-tab-not)\n\n  [1]: https://i.stack.imgur.com/efqMH.png\n\n","title":"How to switch to the new browser window, which opens after click on the button?","body":"<h2>Modify registry for IE:</h2>\n<p><a href=\"https://i.stack.imgur.com/efqMH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/efqMH.png\" alt=\"ie_x64_tabprocgrowth.png\" /></a></p>\n<ol>\n<li>HKEY_CURRENT_USER\\Software\\Microsoft\\Internet Explorer\\Main</li>\n<li>Right-click  New  String Value  Value name: TabProcGrowth (create if not exist)</li>\n<li>TabProcGrowth (right-click)  Modify...  Value data: 0</li>\n</ol>\n<p><strong>Source:</strong> <a href=\"https://stackoverflow.com/a/36760642/2806819\">Selenium WebDriver windows switching issue in Internet Explorer 8-10\n</a></p>\n<p>For my case, IE began detecting new window handles after the registry edit.</p>\n<h2>Taken from the MSDN Blog:</h2>\n<blockquote>\n<p><strong>Tab Process Growth :</strong> Sets the rate at which IE creates New Tab processes.</p>\n<p>The &quot;Max-Number&quot; algorithm: This specifies the maximum number of tab processes that may be executed for a single isolation session for a single frame process at a specific mandatory integrity level (MIC). Relative values are:</p>\n<ul>\n<li>TabProcGrowth=0 : tabs and frames run within the same process; frames are not unified across MIC levels.</li>\n<li>TabProcGrowth =1: all tabs for a given frame process run in a single tab process for a given MIC level.</li>\n</ul>\n<p><strong>Source:</strong> <a href=\"https://blogs.msdn.microsoft.com/askie/2009/03/09/opening-a-new-tab-may-launch-a-new-process-with-internet-explorer-8-0/\" rel=\"nofollow noreferrer\">Opening a New Tab may launch a New Process with Internet Explorer 8.0</a></p>\n</blockquote>\n<hr />\n<h2>Internet Options:</h2>\n<ul>\n<li>Security  Untick <em>Enable Protected Mode</em> for all zones (Internet,\nLocal intranet, Trusted sites, Restricted sites)</li>\n<li>Advanced  Security  Untick <em>Enable Enhanced Protected Mode</em></li>\n</ul>\n<hr />\n<h2>Code:</h2>\n<blockquote>\n<p><strong>Browser:</strong> IE11 x64 (Zoom: 100%)<br>\n<strong>OS:</strong> Windows 7 x64<br>\n<strong>Selenium:</strong> 3.5.1<br>\n<strong>WebDriver:</strong> IEDriverServer x64 3.5.1</p>\n</blockquote>\n<pre><code>public static String openWindow(WebDriver driver, By by) throws IOException {\nString parentHandle = driver.getWindowHandle(); // Save parent window\nWebElement clickableElement = driver.findElement(by);\nclickableElement.click(); // Open child window\nWebDriverWait wait = new WebDriverWait(driver, 10); // Timeout in 10s\nboolean isChildWindowOpen = wait.until(ExpectedConditions.numberOfWindowsToBe(2));\nif (isChildWindowOpen) {\n    Set&lt;String&gt; handles = driver.getWindowHandles();\n    // Switch to child window\n    for (String handle : handles) {\n        driver.switchTo().window(handle);\n        if (!parentHandle.equals(handle)) {\n            break;\n        }\n    }\n    driver.manage().window().maximize();\n}\nreturn parentHandle; // Returns parent window if need to switch back\n}\n\n\n\n/* How to use method */\nString parentHandle = Selenium.openWindow(driver, by);\n\n// Do things in child window\ndriver.close();\n\n// Return to parent window\ndriver.switchTo().window(parentHandle);\n</code></pre>\n<p>The above code includes an if-check to make sure you are not switching to the parent window as <a href=\"https://stackoverflow.com/questions/10752753/java-set-retain-order\"><code>Set&lt;T&gt;</code> has no guaranteed ordering in Java</a>. <code>WebDriverWait</code> appears to increase the chance of success as supported by below statement.</p>\n<h2>Quoted from <a href=\"https://www.linkedin.com/in/lukei\" rel=\"nofollow noreferrer\">Luke Inman-Semerau</a>: (Developer for Selenium)</h2>\n<blockquote>\n<p>The browser may take time to acknowledge the new window, and you may\nbe falling into your switchTo() loop before the popup window appears.</p>\n<p>You automatically assume that the last window returned by\ngetWindowHandles() will be the last one opened. That's not necessarily\ntrue, as they are not guaranteed to be returned in any order.</p>\n<p><strong>Source:</strong> <a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/6646#issuecomment-192154324\" rel=\"nofollow noreferrer\">Unable to handle a popup in IE,control is not transferring to popup window</a></p>\n</blockquote>\n<hr />\n<h2>Related Posts:</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40014966/selenium-switching-to-new-tab-in-ie\">Selenium switching to new Tab in\nIE</a></li>\n<li><a href=\"https://stackoverflow.com/questions/22820527/how-to-open-new-tab-in-ie-using-selenium-java-and-open-a-url-in-that-tab-not\">How to open new tab in IE using selenium (java) and open a url in\nthat tab (not\nwindow)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515575365,"creation_date":1515575365,"answer_id":48183786,"question_id":9588827,"body_markdown":"     main you can do :\r\n                \r\n     String mainTab = page.goToNewTab ();\r\n     //do what you want\r\n     page.backToMainPage(mainTab);  \r\n        \r\n     What you need to have in order to use the main   \r\n            \r\n            private static Set&lt;String&gt; windows;\r\n                \r\n                //get all open windows \r\n                //return current window\r\n                public String initWindows() {\r\n                    windows = new HashSet&lt;String&gt;();\r\n                    driver.getWindowHandles().stream().forEach(n -&gt;   windows.add(n));\r\n                    return driver.getWindowHandle();\r\n                }\r\n                \r\n                public String getNewWindow() {\r\n                    List&lt;String&gt; newWindow = driver.getWindowHandles().stream().filter(n -&gt; windows.contains(n) == false)\r\n                            .collect(Collectors.toList());\r\n                    logger.info(newWindow.get(0));\r\n                    return newWindow.get(0);\r\n                }\r\n                \r\n                \r\n                public String goToNewTab() {\r\n                    String startWindow = driver.initWindows();\r\n                    driver.findElement(By.cssSelector(&quot;XX&quot;)).click();\r\n                    String newWindow = driver.getNewWindow();\r\n                    driver.switchTo().window(newWindow);\r\n                    return startWindow;\r\n                }\r\n                \r\n                public void backToMainPage(String startWindow) {\r\n                    driver.close();\r\n                    driver.switchTo().window(startWindow);\r\n                }\r\n                \r\n               \r\n\r\n\r\n\r\n\r\n","title":"How to switch to the new browser window, which opens after click on the button?","body":"<pre><code> main you can do :\n\n String mainTab = page.goToNewTab ();\n //do what you want\n page.backToMainPage(mainTab);  \n\n What you need to have in order to use the main   \n\n        private static Set&lt;String&gt; windows;\n\n            //get all open windows \n            //return current window\n            public String initWindows() {\n                windows = new HashSet&lt;String&gt;();\n                driver.getWindowHandles().stream().forEach(n -&gt;   windows.add(n));\n                return driver.getWindowHandle();\n            }\n\n            public String getNewWindow() {\n                List&lt;String&gt; newWindow = driver.getWindowHandles().stream().filter(n -&gt; windows.contains(n) == false)\n                        .collect(Collectors.toList());\n                logger.info(newWindow.get(0));\n                return newWindow.get(0);\n            }\n\n\n            public String goToNewTab() {\n                String startWindow = driver.initWindows();\n                driver.findElement(By.cssSelector(\"XX\")).click();\n                String newWindow = driver.getNewWindow();\n                driver.switchTo().window(newWindow);\n                return startWindow;\n            }\n\n            public void backToMainPage(String startWindow) {\n                driver.close();\n                driver.switchTo().window(startWindow);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7828980,"reputation":945,"user_id":5919734,"display_name":"Dominic Giallombardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527386969,"creation_date":1527386625,"answer_id":50548456,"question_id":9588827,"body_markdown":"So the problem with a lot of these solutions is you&#39;re assuming the window appears instantly (nothing happens instantly, and things happen significantly less instantly in IE). Also you&#39;re assuming that there will only be one window prior to clicking the element, which is not always the case.  Also IE will not return the window handles in a predictable order.  So I would do the following.\r\n\r\n     public String clickAndSwitchWindow(WebElement elementToClick, Duration \r\n        timeToWaitForWindowToAppear) {\r\n        Set&lt;String&gt; priorHandles = _driver.getWindowHandles();\r\n\r\n        elementToClick.click();\r\n        try {\r\n            new WebDriverWait(_driver,\r\n                    timeToWaitForWindowToAppear.getSeconds()).until(\r\n                    d -&gt; {\r\n                        Set&lt;String&gt; newHandles = d.getWindowHandles();\r\n                        if (newHandles.size() &gt; priorHandles.size()) {\r\n                            for (String newHandle : newHandles) {\r\n                                if (!priorHandles.contains(newHandle)) {\r\n                                    d.switchTo().window(newHandle);\r\n                                    return true;\r\n                                }\r\n                            }\r\n                            return false;\r\n                        } else {\r\n                            return false;\r\n                        }\r\n\r\n                    });\r\n        } catch (Exception e) {\r\n            Logging.log_AndFail(&quot;Encountered error while switching to new window after clicking element &quot; + elementToClick.toString()\r\n                    + &quot; seeing error: \\n&quot; + e.getMessage());\r\n        }\r\n\r\n        return _driver.getWindowHandle();\r\n    }","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>So the problem with a lot of these solutions is you're assuming the window appears instantly (nothing happens instantly, and things happen significantly less instantly in IE). Also you're assuming that there will only be one window prior to clicking the element, which is not always the case.  Also IE will not return the window handles in a predictable order.  So I would do the following.</p>\n\n<pre><code> public String clickAndSwitchWindow(WebElement elementToClick, Duration \n    timeToWaitForWindowToAppear) {\n    Set&lt;String&gt; priorHandles = _driver.getWindowHandles();\n\n    elementToClick.click();\n    try {\n        new WebDriverWait(_driver,\n                timeToWaitForWindowToAppear.getSeconds()).until(\n                d -&gt; {\n                    Set&lt;String&gt; newHandles = d.getWindowHandles();\n                    if (newHandles.size() &gt; priorHandles.size()) {\n                        for (String newHandle : newHandles) {\n                            if (!priorHandles.contains(newHandle)) {\n                                d.switchTo().window(newHandle);\n                                return true;\n                            }\n                        }\n                        return false;\n                    } else {\n                        return false;\n                    }\n\n                });\n    } catch (Exception e) {\n        Logging.log_AndFail(\"Encountered error while switching to new window after clicking element \" + elementToClick.toString()\n                + \" seeing error: \\n\" + e.getMessage());\n    }\n\n    return _driver.getWindowHandle();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636437116,"creation_date":1636437116,"answer_id":69893394,"question_id":9588827,"body_markdown":"This feature works with Selenium 4 and later versions.\r\n\r\n    // Opens a new tab and switches to new tab\r\n    driver.switchTo().newWindow(WindowType.TAB);\r\n    \r\n    // Opens a new window and switches to new window\r\n    driver.switchTo().newWindow(WindowType.WINDOW);","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>This feature works with Selenium 4 and later versions.</p>\n<pre><code>// Opens a new tab and switches to new tab\ndriver.switchTo().newWindow(WindowType.TAB);\n\n// Opens a new window and switches to new window\ndriver.switchTo().newWindow(WindowType.WINDOW);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15496633,"reputation":3080,"user_id":11179336,"display_name":"Ajeet Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679287116,"creation_date":1679287116,"answer_id":75786621,"question_id":9588827,"body_markdown":"Here is the **Python** version, \r\n\r\n    #Store the current window handle\r\n    win_handle_before = driver.current_window_handle\r\n\r\n    #Perform the click operation that opens new window\r\n    \r\n\r\n    #Switch to new window opened\r\n    for win_handle in driver.window_handles:\r\n        driver.switch_to.window(win_handle)\r\n\r\n    #Perform the actions on new window\r\n    \r\n\r\n    #Close the new window, if that window no more required\r\n    driver.close()\r\n\r\n    #Switch back to the original browser (first window)\r\n    driver.switch_to.window(win_handle_before)\r\n    \r\n    #Continue with original browser (first window)\r\n","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>Here is the <strong>Python</strong> version,</p>\n<pre><code>#Store the current window handle\nwin_handle_before = driver.current_window_handle\n\n#Perform the click operation that opens new window\n\n\n#Switch to new window opened\nfor win_handle in driver.window_handles:\n    driver.switch_to.window(win_handle)\n\n#Perform the actions on new window\n\n\n#Close the new window, if that window no more required\ndriver.close()\n\n#Switch back to the original browser (first window)\ndriver.switch_to.window(win_handle_before)\n\n#Continue with original browser (first window)\n</code></pre>\n"}],"owner":{"account_id":1162121,"reputation":1887,"user_id":1141423,"accept_rate":79,"display_name":"Volodymyr  Prysiazhniuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460987,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":9597714,"answer_count":12,"score":96,"last_activity_date":1700876966,"creation_date":1331054977,"question_id":9588827,"body_markdown":"I have situation, when click on button opens the new browser window with search results.\r\n\r\nIs there any way to connect and focus to new opened browser window?\r\n\r\nAnd work with it, then return back to original (first) window.\r\n","title":"How to switch to the new browser window, which opens after click on the button?","body":"<p>I have situation, when click on button opens the new browser window with search results.</p>\n<p>Is there any way to connect and focus to new opened browser window?</p>\n<p>And work with it, then return back to original (first) window.</p>\n"},{"tags":["java","sql","database","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700876573,"creation_date":1700876573,"answer_id":77546364,"question_id":77534377,"body_markdown":"To get this to work I changed the query, keeping the `LEFT JOIN` but removing the `CASE` as that seemed to be causing the problems.  I am now evaluating the join in the `do while` loop to determine whether there is a connection between the two tables and if there is I am setting the `isConnected` flag to &#39;true&#39; and if there is not setting to &#39;false&#39;.  From here I add it into the `bandList` class object.\r\n\r\nHere is the adjusted query which now returns everything from the `bands` table and sets the flag `isConnected` when the `band_id` also exists within the `songs_bands` table for the `song_id` being investigated:\r\n```\r\npublic List&lt;BandInfo&gt; getAllBandsWithConnectionStatus(int songId) {\r\n    removeDuplicateSongBandPairs();\r\n    List&lt;BandInfo&gt; bandList = new ArrayList&lt;&gt;();\r\n    SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n\r\n    // Query to retrieve all bands with connection status for a specific song\r\n    String[] columns = {&quot;bands._id&quot;, &quot;bands.band_name&quot;, &quot;songs_bands.band_id AS isConnected&quot;};\r\n    String selection = null;  // No need for a WHERE clause\r\n    String[] selectionArgs = {String.valueOf(songId)};\r\n\r\n    Cursor cursor = db.query(\r\n            &quot;bands LEFT JOIN songs_bands ON bands._id = songs_bands.band_id AND songs_bands.song_id = ?&quot;,\r\n            columns,\r\n            selection,\r\n            selectionArgs,\r\n            null,\r\n            null,\r\n            null\r\n    );\r\n\r\n    if (cursor.moveToFirst()) {\r\n        int idColumnIndex = cursor.getColumnIndex(&quot;_id&quot;);\r\n        int nameColumnIndex = cursor.getColumnIndex(&quot;band_name&quot;);\r\n        int isConnectedColumnIndex = cursor.getColumnIndex(&quot;isConnected&quot;);\r\n\r\n        do {\r\n            int bandId = cursor.getInt(idColumnIndex);\r\n            String bandName = cursor.getString(nameColumnIndex);\r\n            int isConnected = 0;\r\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #564 - cursor.getString(isConnectedColumnIndex)&quot; + cursor.getString(isConnectedColumnIndex));\r\n            if (!cursor.isNull(isConnectedColumnIndex)) {\r\n                if (isConnectedColumnIndex &gt; 0) {\r\n                    isConnected = 1;\r\n                }\r\n                else {\r\n                    isConnected = 0;\r\n                }\r\n                Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #567 - cursor.getInt(isConnectedColumnIndex): &quot; + cursor.getInt(isConnectedColumnIndex));\r\n            }\r\n            BandInfo bandInfo = new BandInfo(bandId, bandName, isConnected == 1);\r\n            bandList.add(bandInfo);\r\n\r\n            // Log the band information\r\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #574 - BandInfo in list: &quot; + bandInfo.toString());\r\n        } while (cursor.moveToNext());\r\n    }\r\n    cursor.close();\r\n    return bandList;\r\n}\r\n```","title":"Retrieving all records with &#39;connection status&#39; using SQLite and Java","body":"<p>To get this to work I changed the query, keeping the <code>LEFT JOIN</code> but removing the <code>CASE</code> as that seemed to be causing the problems.  I am now evaluating the join in the <code>do while</code> loop to determine whether there is a connection between the two tables and if there is I am setting the <code>isConnected</code> flag to 'true' and if there is not setting to 'false'.  From here I add it into the <code>bandList</code> class object.</p>\n<p>Here is the adjusted query which now returns everything from the <code>bands</code> table and sets the flag <code>isConnected</code> when the <code>band_id</code> also exists within the <code>songs_bands</code> table for the <code>song_id</code> being investigated:</p>\n<pre><code>public List&lt;BandInfo&gt; getAllBandsWithConnectionStatus(int songId) {\n    removeDuplicateSongBandPairs();\n    List&lt;BandInfo&gt; bandList = new ArrayList&lt;&gt;();\n    SQLiteDatabase db = this.getReadableDatabase();\n\n\n    // Query to retrieve all bands with connection status for a specific song\n    String[] columns = {&quot;bands._id&quot;, &quot;bands.band_name&quot;, &quot;songs_bands.band_id AS isConnected&quot;};\n    String selection = null;  // No need for a WHERE clause\n    String[] selectionArgs = {String.valueOf(songId)};\n\n    Cursor cursor = db.query(\n            &quot;bands LEFT JOIN songs_bands ON bands._id = songs_bands.band_id AND songs_bands.song_id = ?&quot;,\n            columns,\n            selection,\n            selectionArgs,\n            null,\n            null,\n            null\n    );\n\n    if (cursor.moveToFirst()) {\n        int idColumnIndex = cursor.getColumnIndex(&quot;_id&quot;);\n        int nameColumnIndex = cursor.getColumnIndex(&quot;band_name&quot;);\n        int isConnectedColumnIndex = cursor.getColumnIndex(&quot;isConnected&quot;);\n\n        do {\n            int bandId = cursor.getInt(idColumnIndex);\n            String bandName = cursor.getString(nameColumnIndex);\n            int isConnected = 0;\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #564 - cursor.getString(isConnectedColumnIndex)&quot; + cursor.getString(isConnectedColumnIndex));\n            if (!cursor.isNull(isConnectedColumnIndex)) {\n                if (isConnectedColumnIndex &gt; 0) {\n                    isConnected = 1;\n                }\n                else {\n                    isConnected = 0;\n                }\n                Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #567 - cursor.getInt(isConnectedColumnIndex): &quot; + cursor.getInt(isConnectedColumnIndex));\n            }\n            BandInfo bandInfo = new BandInfo(bandId, bandName, isConnected == 1);\n            bandList.add(bandInfo);\n\n            // Log the band information\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #574 - BandInfo in list: &quot; + bandInfo.toString());\n        } while (cursor.moveToNext());\n    }\n    cursor.close();\n    return bandList;\n}\n</code></pre>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77546364,"answer_count":1,"score":0,"last_activity_date":1700876573,"creation_date":1700714220,"question_id":77534377,"body_markdown":"I&#39;m working on an Android application that utilizes a SQLite database to store and manage music data. I&#39;ve encountered an issue with a method in my `DatabaseHelper` class that aims to retrieve all bands associated with a specific song, along with their connection status.  So all band names (`band_name`) from the `bands` table should be returned and when the `band_id` is contained in the `songs_bands` table the boolean `isConnected` should be set to 1, otherwise the `isConnected` will be 0.  \r\n\r\nThe method receives an `int` value for the `songId` parameter and is expected to return a `List` of `BandInfo` objects. Each `BandInfo` object should contain the band&#39;s ID, name, and a boolean value indicating whether the band is connected to the specified song (`isConnected`).\r\n\r\nHere is the method from `DatabaseHelper`:\r\n```\r\n    public List&lt;BandInfo&gt; getAllBandsWithConnectionStatus(int songId) {\r\n        List&lt;BandInfo&gt; bandList = new ArrayList&lt;&gt;();\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        // Query to retrieve all bands with connection status for a specific song\r\n        String[] columns = {&quot;bands._id&quot;, &quot;bands.band_name&quot;, &quot;CASE WHEN songs_bands.band_id IS NULL THEN 0 ELSE 1 END AS is_connected&quot;};\r\n        String selection = &quot;songs_bands.song_id = ?&quot;;\r\n        String[] selectionArgs = {String.valueOf(songId)};\r\n\r\n        Cursor cursor = db.query(\r\n                &quot;bands LEFT JOIN songs_bands ON bands._id = songs_bands.band_id&quot;,\r\n                columns,\r\n                selection,\r\n                selectionArgs,\r\n                null,\r\n                null,\r\n                null\r\n        );\r\n\r\n        if (cursor.moveToFirst()) {\r\n            int idColumnIndex = cursor.getColumnIndex(&quot;_id&quot;);\r\n            int nameColumnIndex = cursor.getColumnIndex(&quot;band_name&quot;);\r\n            int isConnectedColumnIndex = cursor.getColumnIndex(&quot;is_connected&quot;);\r\n\r\n            do {\r\n                int bandId = cursor.getInt(idColumnIndex);\r\n                String bandName = cursor.getString(nameColumnIndex);\r\n                int isConnected = cursor.getInt(isConnectedColumnIndex);\r\n\r\n                BandInfo bandInfo = new BandInfo(bandId, bandName, isConnected == 1);\r\n                bandList.add(bandInfo);\r\n            } while (cursor.moveToNext());\r\n        }\r\n\r\n        cursor.close();\r\n        // Print the list of BandInfo objects before returning\r\n        for (BandInfo bandInfo : bandList) {\r\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) BandInfo in list: &quot; + bandInfo.toString());\r\n        }\r\n        return bandList;\r\n    }\r\n```\r\n\r\nThe problem arises when I execute this method. Instead of returning a complete List of `BandInfo` objects, the `bandList` only contains the connected bands. The non-connected bands are not included in the list.\r\n\r\nI&#39;ve tried modifying the query and checking for any potential errors in the code, but I haven&#39;t been able to resolve the issue. I&#39;m hoping to get some insights on how to correctly retrieve all bands, including those not connected to the specified song, and set their `isConnected` boolean accordingly.\r\n\r\nHere are the two tables used within this query - first the `bands`:\r\n```\r\n    private static final String SQL_CREATE_BANDS_TABLE =\r\n            &quot;CREATE TABLE &quot; + DatabaseContract.Bands.TABLE_NAME + &quot; (&quot; +\r\n                    DatabaseContract.Bands._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    DatabaseContract.Bands.COLUMN_BAND_NAME + &quot; TEXT NOT NULL, &quot; +\r\n                    DatabaseContract.Bands.COLUMN_BAND_DESCRIPTION + &quot; TEXT)&quot;;\r\n```\r\nand the `user_bands`:\r\n```\r\n    private static final String SQL_CREATE_USER_BANDS_TABLE =\r\n            &quot;CREATE TABLE &quot; + DatabaseContract.UserBands.TABLE_NAME + &quot; (&quot; +\r\n                    DatabaseContract.UserBands._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    DatabaseContract.UserBands.COLUMN_USER_ID + &quot; INTEGER, &quot; +\r\n                    DatabaseContract.UserBands.COLUMN_BAND_ID + &quot; INTEGER, &quot; +\r\n                    &quot;FOREIGN KEY (&quot; + DatabaseContract.UserBands.COLUMN_USER_ID + &quot;) REFERENCES &quot; +\r\n                    DatabaseContract.Users.TABLE_NAME + &quot;(&quot; + DatabaseContract.Users._ID + &quot;), &quot; +\r\n                    &quot;FOREIGN KEY (&quot; + DatabaseContract.UserBands.COLUMN_BAND_ID + &quot;) REFERENCES &quot; +\r\n                    DatabaseContract.Bands.TABLE_NAME + &quot;(&quot; + DatabaseContract.Bands._ID + &quot;))&quot;;\r\n```\r\nAny assistance would be greatly appreciated.","title":"Retrieving all records with &#39;connection status&#39; using SQLite and Java","body":"<p>I'm working on an Android application that utilizes a SQLite database to store and manage music data. I've encountered an issue with a method in my <code>DatabaseHelper</code> class that aims to retrieve all bands associated with a specific song, along with their connection status.  So all band names (<code>band_name</code>) from the <code>bands</code> table should be returned and when the <code>band_id</code> is contained in the <code>songs_bands</code> table the boolean <code>isConnected</code> should be set to 1, otherwise the <code>isConnected</code> will be 0.</p>\n<p>The method receives an <code>int</code> value for the <code>songId</code> parameter and is expected to return a <code>List</code> of <code>BandInfo</code> objects. Each <code>BandInfo</code> object should contain the band's ID, name, and a boolean value indicating whether the band is connected to the specified song (<code>isConnected</code>).</p>\n<p>Here is the method from <code>DatabaseHelper</code>:</p>\n<pre><code>    public List&lt;BandInfo&gt; getAllBandsWithConnectionStatus(int songId) {\n        List&lt;BandInfo&gt; bandList = new ArrayList&lt;&gt;();\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        // Query to retrieve all bands with connection status for a specific song\n        String[] columns = {&quot;bands._id&quot;, &quot;bands.band_name&quot;, &quot;CASE WHEN songs_bands.band_id IS NULL THEN 0 ELSE 1 END AS is_connected&quot;};\n        String selection = &quot;songs_bands.song_id = ?&quot;;\n        String[] selectionArgs = {String.valueOf(songId)};\n\n        Cursor cursor = db.query(\n                &quot;bands LEFT JOIN songs_bands ON bands._id = songs_bands.band_id&quot;,\n                columns,\n                selection,\n                selectionArgs,\n                null,\n                null,\n                null\n        );\n\n        if (cursor.moveToFirst()) {\n            int idColumnIndex = cursor.getColumnIndex(&quot;_id&quot;);\n            int nameColumnIndex = cursor.getColumnIndex(&quot;band_name&quot;);\n            int isConnectedColumnIndex = cursor.getColumnIndex(&quot;is_connected&quot;);\n\n            do {\n                int bandId = cursor.getInt(idColumnIndex);\n                String bandName = cursor.getString(nameColumnIndex);\n                int isConnected = cursor.getInt(isConnectedColumnIndex);\n\n                BandInfo bandInfo = new BandInfo(bandId, bandName, isConnected == 1);\n                bandList.add(bandInfo);\n            } while (cursor.moveToNext());\n        }\n\n        cursor.close();\n        // Print the list of BandInfo objects before returning\n        for (BandInfo bandInfo : bandList) {\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) BandInfo in list: &quot; + bandInfo.toString());\n        }\n        return bandList;\n    }\n</code></pre>\n<p>The problem arises when I execute this method. Instead of returning a complete List of <code>BandInfo</code> objects, the <code>bandList</code> only contains the connected bands. The non-connected bands are not included in the list.</p>\n<p>I've tried modifying the query and checking for any potential errors in the code, but I haven't been able to resolve the issue. I'm hoping to get some insights on how to correctly retrieve all bands, including those not connected to the specified song, and set their <code>isConnected</code> boolean accordingly.</p>\n<p>Here are the two tables used within this query - first the <code>bands</code>:</p>\n<pre><code>    private static final String SQL_CREATE_BANDS_TABLE =\n            &quot;CREATE TABLE &quot; + DatabaseContract.Bands.TABLE_NAME + &quot; (&quot; +\n                    DatabaseContract.Bands._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                    DatabaseContract.Bands.COLUMN_BAND_NAME + &quot; TEXT NOT NULL, &quot; +\n                    DatabaseContract.Bands.COLUMN_BAND_DESCRIPTION + &quot; TEXT)&quot;;\n</code></pre>\n<p>and the <code>user_bands</code>:</p>\n<pre><code>    private static final String SQL_CREATE_USER_BANDS_TABLE =\n            &quot;CREATE TABLE &quot; + DatabaseContract.UserBands.TABLE_NAME + &quot; (&quot; +\n                    DatabaseContract.UserBands._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                    DatabaseContract.UserBands.COLUMN_USER_ID + &quot; INTEGER, &quot; +\n                    DatabaseContract.UserBands.COLUMN_BAND_ID + &quot; INTEGER, &quot; +\n                    &quot;FOREIGN KEY (&quot; + DatabaseContract.UserBands.COLUMN_USER_ID + &quot;) REFERENCES &quot; +\n                    DatabaseContract.Users.TABLE_NAME + &quot;(&quot; + DatabaseContract.Users._ID + &quot;), &quot; +\n                    &quot;FOREIGN KEY (&quot; + DatabaseContract.UserBands.COLUMN_BAND_ID + &quot;) REFERENCES &quot; +\n                    DatabaseContract.Bands.TABLE_NAME + &quot;(&quot; + DatabaseContract.Bands._ID + &quot;))&quot;;\n</code></pre>\n<p>Any assistance would be greatly appreciated.</p>\n"},{"tags":["java","maven","mojo"],"answers":[{"tags":[],"owner":{"account_id":10858365,"reputation":729,"user_id":7983959,"display_name":"Ivan G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700875097,"creation_date":1700875097,"answer_id":77546326,"question_id":77546310,"body_markdown":"The field can be initialized with an empty string to avoid a null value at runtime, while still allowing the user to override it:\r\n\r\n```java\r\n    @Parameter\r\n    public String myParam = &quot;&quot;;\r\n```\r\n\r\nThe only caveat appears to be that this will not appear in documentation generated by the site plugin as a default value","title":"How to make a Maven plugin Mojo parameter&#39;s default value an empty string?","body":"<p>The field can be initialized with an empty string to avoid a null value at runtime, while still allowing the user to override it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Parameter\n    public String myParam = &quot;&quot;;\n</code></pre>\n<p>The only caveat appears to be that this will not appear in documentation generated by the site plugin as a default value</p>\n"}],"owner":{"account_id":10858365,"reputation":729,"user_id":7983959,"display_name":"Ivan G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700875097,"creation_date":1700874516,"question_id":77546310,"body_markdown":"How can a Maven plugin Mojo parameter be configured so that the default value is an empty String?\r\n\r\nThe `defaultValue` property of the `Parameter` annotation already defaults to `&quot;&quot;`, so configuring the parameter like `@Parameter(defaultValue = &quot;&quot;)` is equivalent to not configuring it at all.\r\n\r\nThis does not work and produces a null value at runtime:\r\n```java\r\n    @Parameter(defaultValue = &quot;&quot;)\r\n    public String myParam;\r\n```","title":"How to make a Maven plugin Mojo parameter&#39;s default value an empty string?","body":"<p>How can a Maven plugin Mojo parameter be configured so that the default value is an empty String?</p>\n<p>The <code>defaultValue</code> property of the <code>Parameter</code> annotation already defaults to <code>&quot;&quot;</code>, so configuring the parameter like <code>@Parameter(defaultValue = &quot;&quot;)</code> is equivalent to not configuring it at all.</p>\n<p>This does not work and produces a null value at runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Parameter(defaultValue = &quot;&quot;)\n    public String myParam;\n</code></pre>\n"},{"tags":["java","influxdb","flux-influxdb"],"owner":{"account_id":3516209,"reputation":561,"user_id":2939570,"accept_rate":82,"display_name":"dashambles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700874989,"creation_date":1700874989,"question_id":77546322,"body_markdown":"I am trying to figure out how influx is calculating the times returned from a flux query with an aggregateWindow.\r\n\r\nFor example: I am doing a pretty basic aggregateWindow(every: 300d, fn: mean). If I use a range with start 2019-03-30T14:35:34.932Z the first entry in the returned data has a time of 2019-04-14T00:00:00Z\r\n\r\nIt doesn&#39;t depend on the data. Even if I change to a year where there is no data in the first period it still return the same time (in that year, i.e. 2022-04-14).\r\n\r\nI can&#39;t find anything in the docs about this apart from a hint regarding using weeks &quot;Flux increments weeks from the Unix epoch, which was a Thursday.&quot;. Does this apply to all values &quot;every&quot;? I.e. are all windows being aligned to the epoch?\r\n\r\nHow would I go about implementing something similar in Java? ","title":"Influx - Flux aggregateWindow returned window times","body":"<p>I am trying to figure out how influx is calculating the times returned from a flux query with an aggregateWindow.</p>\n<p>For example: I am doing a pretty basic aggregateWindow(every: 300d, fn: mean). If I use a range with start 2019-03-30T14:35:34.932Z the first entry in the returned data has a time of 2019-04-14T00:00:00Z</p>\n<p>It doesn't depend on the data. Even if I change to a year where there is no data in the first period it still return the same time (in that year, i.e. 2022-04-14).</p>\n<p>I can't find anything in the docs about this apart from a hint regarding using weeks &quot;Flux increments weeks from the Unix epoch, which was a Thursday.&quot;. Does this apply to all values &quot;every&quot;? I.e. are all windows being aligned to the epoch?</p>\n<p>How would I go about implementing something similar in Java?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-asynctask"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573694,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700874283,"creation_date":1700873935,"answer_id":77546293,"question_id":77546277,"body_markdown":"Data is loaded from Firebase (and most modern cloud APIs) asynchronously, as it may take time before it&#39;s available. While the data is being loaded, your main code continues - to ensure the user can continue to use the app. Then when the data is loaded, your `onComplete` is called with that data. \r\n\r\nWhat this means in practice is that your `Base64.decode(foto.getBytes()...` gets called before `foto = snapshot1.child(&quot;profile&quot;).getValue(String.class);` ever runs. If you add some logging or set breakpoints and run in the debugger, you can most easily see this.\r\n\r\n---\r\n\r\nLet&#39;s add some logging to your code and see the result:\r\n\r\n    databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\r\n    Log.i(&quot;Firebase&quot;, &quot;Before calling addOnCompleteListener&quot;);\r\n    databaseReference.child(idLocation).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n            Log.i(&quot;Firebase&quot;, &quot;Inside onComplete&quot;);\r\n        }\r\n    });\r\n    Log.i(&quot;Firebase&quot;, &quot;After calling addOnCompleteListener&quot;);\r\n\r\nWhen you run the above code, you&#39;ll get this output:\r\n\r\n&gt; Before calling addOnCompleteListener\\\r\n&gt; After calling addOnCompleteListener\\\r\n&gt; Inside onComplete\r\n\r\nThis is probably not the output you expected, but it explains perfectly why your code doesn&#39;t work: by the time your `Base64.decode(foto.getBytes()` runs, the `foto` variable doesn&#39;t have any value yet.\r\n\r\n---\r\n\r\nTo avoid this problem, any code that needs the data from the database has to be inside the `onComplete`, be called from there, or be otherwise synchronized. For examples of how to do this (and much more information), see:\r\n\r\n* https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\r\n* https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\r\n\r\nThis also means that you can&#39;t return a view based on the data from the database from the `getInfoWindow` function; by the time the `` runs, the `return infoView;` runs the data from the database hasn&#39;t been loaded yet. If the caller must get the window, you&#39;ll need to pass in a custom callback, similar to the `OnCompleteListener` that you pass to Firebase. The first link in the list above has a good example of that too.","title":"Change value in a TextView after requests to firebase - Java Android studio","body":"<p>Data is loaded from Firebase (and most modern cloud APIs) asynchronously, as it may take time before it's available. While the data is being loaded, your main code continues - to ensure the user can continue to use the app. Then when the data is loaded, your <code>onComplete</code> is called with that data.</p>\n<p>What this means in practice is that your <code>Base64.decode(foto.getBytes()...</code> gets called before <code>foto = snapshot1.child(&quot;profile&quot;).getValue(String.class);</code> ever runs. If you add some logging or set breakpoints and run in the debugger, you can most easily see this.</p>\n<hr />\n<p>Let's add some logging to your code and see the result:</p>\n<pre><code>databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\nLog.i(&quot;Firebase&quot;, &quot;Before calling addOnCompleteListener&quot;);\ndatabaseReference.child(idLocation).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        Log.i(&quot;Firebase&quot;, &quot;Inside onComplete&quot;);\n    }\n});\nLog.i(&quot;Firebase&quot;, &quot;After calling addOnCompleteListener&quot;);\n</code></pre>\n<p>When you run the above code, you'll get this output:</p>\n<blockquote>\n<p>Before calling addOnCompleteListener<br />\nAfter calling addOnCompleteListener<br />\nInside onComplete</p>\n</blockquote>\n<p>This is probably not the output you expected, but it explains perfectly why your code doesn't work: by the time your <code>Base64.decode(foto.getBytes()</code> runs, the <code>foto</code> variable doesn't have any value yet.</p>\n<hr />\n<p>To avoid this problem, any code that needs the data from the database has to be inside the <code>onComplete</code>, be called from there, or be otherwise synchronized. For examples of how to do this (and much more information), see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\">Setting Singleton property value in Firebase Listener</a></li>\n</ul>\n<p>This also means that you can't return a view based on the data from the database from the <code>getInfoWindow</code> function; by the time the `` runs, the <code>return infoView;</code> runs the data from the database hasn't been loaded yet. If the caller must get the window, you'll need to pass in a custom callback, similar to the <code>OnCompleteListener</code> that you pass to Firebase. The first link in the list above has a good example of that too.</p>\n"}],"owner":{"account_id":29938468,"reputation":1,"user_id":22943609,"display_name":"Dp258"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700874283,"creation_date":1700873385,"question_id":77546277,"body_markdown":"I make two requests to the Firebase database, and then load the data into the XML. But it doesn&#39;t load them and just leaves the default, I suspect it&#39;s because I&#39;m not handling asynchronous requests properly in the fragment that Im working (GoogleMap.InfoWindowAdapter). Can anybody help me?\r\n\r\n\r\n```\r\npublic class MyInfoWindowAdapter implements GoogleMap.InfoWindowAdapter  {\r\n\r\n    Context context;\r\n    static String user, descripcion, username, foto;\r\n    DatabaseReference databaseReference, usersReference;\r\n    TextView title_mod,snipp_mod;\r\n    ImageView imagen_mod;\r\n\r\n    public MyInfoWindowAdapter(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n        @Override\r\n        public View getInfoWindow(@NonNull Marker marker) {\r\n            if (!marker.getTitle().toString().equals(&quot;Este es mi perfil&quot;)) {\r\n                View infoView = LayoutInflater.from(context).inflate(R.layout.custom_info, null);\r\n                title_mod = infoView.findViewById(R.id.title_mod);\r\n                snipp_mod = infoView.findViewById(R.id.snipp_mod);\r\n                imagen_mod = infoView.findViewById(R.id.imagen_mod);\r\n\r\n                LatLng posicionMarker = marker.getPosition();\r\n                String idLocation = String.valueOf(posicionMarker.latitude).replace(&quot;.&quot;, &quot;&quot;) + &quot;_&quot; + String.valueOf(posicionMarker.longitude).replace(&quot;.&quot;, &quot;&quot;);\r\n\r\n                databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\r\n                databaseReference.child(idLocation).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            DataSnapshot snapshot = task.getResult();\r\n                            descripcion = snapshot.child(&quot;descripcion&quot;).getValue(String.class);\r\n                            user = snapshot.child(&quot;user&quot;).getValue(String.class);\r\n\r\n                            usersReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n                            usersReference.child(user).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                                    if (task.isSuccessful()) {\r\n                                        DataSnapshot snapshot1 = task.getResult();\r\n                                        username = snapshot1.child(&quot;name&quot;).getValue(String.class);\r\n                                        if (snapshot1.hasChild(&quot;profile&quot;)) {\r\n                                            foto = snapshot1.child(&quot;profile&quot;).getValue(String.class);\r\n                                        } else {\r\n                                            foto = null;\r\n                                        }\r\n\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n                byte[] imageAsByte = Base64.decode(foto.getBytes(), Base64.DEFAULT);\r\n                Bitmap bitmap = BitmapFactory.decodeByteArray(imageAsByte, 0, imageAsByte.length);\r\n                imagen_mod.setImageBitmap(bitmap);\r\n\r\n                snipp_mod.setText(descripcion);\r\n                return infoView;\r\n            }\r\n}\r\n}\r\n```\r\n\r\n\r\nI was expecting the data to be loaded directly to the interface, but instead I just get the text by default. However, the second time I trigger the event, it does load the data.","title":"Change value in a TextView after requests to firebase - Java Android studio","body":"<p>I make two requests to the Firebase database, and then load the data into the XML. But it doesn't load them and just leaves the default, I suspect it's because I'm not handling asynchronous requests properly in the fragment that Im working (GoogleMap.InfoWindowAdapter). Can anybody help me?</p>\n<pre><code>public class MyInfoWindowAdapter implements GoogleMap.InfoWindowAdapter  {\n\n    Context context;\n    static String user, descripcion, username, foto;\n    DatabaseReference databaseReference, usersReference;\n    TextView title_mod,snipp_mod;\n    ImageView imagen_mod;\n\n    public MyInfoWindowAdapter(Context context) {\n        this.context = context;\n    }\n\n        @Override\n        public View getInfoWindow(@NonNull Marker marker) {\n            if (!marker.getTitle().toString().equals(&quot;Este es mi perfil&quot;)) {\n                View infoView = LayoutInflater.from(context).inflate(R.layout.custom_info, null);\n                title_mod = infoView.findViewById(R.id.title_mod);\n                snipp_mod = infoView.findViewById(R.id.snipp_mod);\n                imagen_mod = infoView.findViewById(R.id.imagen_mod);\n\n                LatLng posicionMarker = marker.getPosition();\n                String idLocation = String.valueOf(posicionMarker.latitude).replace(&quot;.&quot;, &quot;&quot;) + &quot;_&quot; + String.valueOf(posicionMarker.longitude).replace(&quot;.&quot;, &quot;&quot;);\n\n                databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\n                databaseReference.child(idLocation).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            DataSnapshot snapshot = task.getResult();\n                            descripcion = snapshot.child(&quot;descripcion&quot;).getValue(String.class);\n                            user = snapshot.child(&quot;user&quot;).getValue(String.class);\n\n                            usersReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n                            usersReference.child(user).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                                    if (task.isSuccessful()) {\n                                        DataSnapshot snapshot1 = task.getResult();\n                                        username = snapshot1.child(&quot;name&quot;).getValue(String.class);\n                                        if (snapshot1.hasChild(&quot;profile&quot;)) {\n                                            foto = snapshot1.child(&quot;profile&quot;).getValue(String.class);\n                                        } else {\n                                            foto = null;\n                                        }\n\n                                    }\n                                }\n                            });\n                        }\n                    }\n                });\n\n                byte[] imageAsByte = Base64.decode(foto.getBytes(), Base64.DEFAULT);\n                Bitmap bitmap = BitmapFactory.decodeByteArray(imageAsByte, 0, imageAsByte.length);\n                imagen_mod.setImageBitmap(bitmap);\n\n                snipp_mod.setText(descripcion);\n                return infoView;\n            }\n}\n}\n</code></pre>\n<p>I was expecting the data to be loaded directly to the interface, but instead I just get the text by default. However, the second time I trigger the event, it does load the data.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","oracle-sqldeveloper"],"comments":[{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1700863389,"post_id":77545823,"comment_id":136708688,"body_markdown":"Please don&#39;t post screenshots of your source code, cf. [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors).","body":"Please don&#39;t post screenshots of your source code, cf. <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a>."},{"owner":{"account_id":19194890,"reputation":65,"user_id":14023827,"display_name":"Simran Mhaske"},"score":0,"creation_date":1700864633,"post_id":77545823,"comment_id":136708788,"body_markdown":"I have added the source code, can you please check now?","body":"I have added the source code, can you please check now?"},{"owner":{"account_id":2509519,"reputation":9629,"user_id":2182349,"accept_rate":89,"display_name":"user2182349"},"score":0,"creation_date":1700869135,"post_id":77545823,"comment_id":136709077,"body_markdown":"I suggest you use the `.save()` method - https://www.baeldung.com/spring-data-crud-repository-save","body":"I suggest you use the <code>.save()</code> method - <a href=\"https://www.baeldung.com/spring-data-crud-repository-save\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-crud-repository-save</a>"}],"answers":[{"tags":[],"owner":{"account_id":29846055,"reputation":36,"user_id":22873114,"display_name":"Vignesh V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700873591,"creation_date":1700873591,"answer_id":77546286,"question_id":77545823,"body_markdown":"There is already a save() method in JpaRepository. You can make use of that in your service class.\r\n\r\n```\r\npublic class EmployeeServiceImpl implements EmployeeService{\r\n    \r\n    @Autowired\r\n    public EmployeeRepository employeeRepository;\r\n    \r\n    @Override\r\n    public Employee addEmployee(Employee emp) {\r\n        return employeeRepository.save(emp);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAlso, in your entity class, when you are using lombok, you just need to add @Data. This will include @Getters and @Setters, so you don&#39;t need to add the separately. So it would look like this:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;Employee&quot;)\r\npublic class Employee\r\n```\r\n\r\nAlso you should use @Controller and @Service instead of @Component. It specifies which layer the code is supposed to be in. ","title":"@Query annotation not working in Spring boot with Oracle database","body":"<p>There is already a save() method in JpaRepository. You can make use of that in your service class.</p>\n<pre><code>public class EmployeeServiceImpl implements EmployeeService{\n    \n    @Autowired\n    public EmployeeRepository employeeRepository;\n    \n    @Override\n    public Employee addEmployee(Employee emp) {\n        return employeeRepository.save(emp);\n    }\n}\n\n</code></pre>\n<p>Also, in your entity class, when you are using lombok, you just need to add @Data. This will include @Getters and @Setters, so you don't need to add the separately. So it would look like this:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;Employee&quot;)\npublic class Employee\n</code></pre>\n<p>Also you should use @Controller and @Service instead of @Component. It specifies which layer the code is supposed to be in.</p>\n"}],"owner":{"account_id":19194890,"reputation":65,"user_id":14023827,"display_name":"Simran Mhaske"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700873591,"creation_date":1700863131,"question_id":77545823,"body_markdown":"I am trying to execute an Insert statement but unfortunately, I am not able to save the data into the data base.\r\nMay be the @Query annotation here is not working correctly.\r\n\r\nbelow are my classes.\r\nController:\r\n\r\n    @Component\r\n    //@RequestMapping(&quot;/api/v1&quot;)\r\n    public class EmployeeControllerImpl implements EmployeeController{\r\n    \t@Autowired\r\n    \tpublic EmployeeService employeeService;\r\n    \t\r\n    \t@Override\r\n    \t@PostMapping(&quot;/addEmployee&quot;)\r\n    \tpublic Employee addEmployee(@RequestBody Employee emp) {\r\n    \t\treturn employeeService.addEmployee(emp);\r\n    \t\t}\r\n    \r\n    }\r\n\r\nService:\r\n\r\n    @Component\r\n    public class EmployeeServiceImpl implements EmployeeService{\r\n    \t\r\n    \t@Autowired\r\n    \tpublic EmployeeRepository employeeRepository;\r\n    \t\r\n    \t@Override\r\n    \tpublic Employee addEmployee(Employee emp) {\r\n    \t\r\n    \t\treturn employeeRepository.addEmployee(emp);\r\n    \t}\r\n    }\r\n\r\n\r\nRepository Interface:\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Integer &gt; {\r\n    \r\n    \t@Query(value = &quot;insert into employee (fname, lname, gender, age, contactNumber, empEmail, empPass) &quot;\r\n    \t\t\t+ &quot;VALUES (:fname, :lname, :gender, :age, :contactNumber, :empEmail, :empPass)&quot;, nativeQuery = true)\r\n    \tEmployee addEmployee(Employee emp );\r\n    }\r\n\r\n\r\n\r\nEmployee.java:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;Employee&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Employee {\r\n    \r\n    \t@Id\r\n        @Column(name = &quot;employee_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int empId;\r\n    \t@Column\r\n        private String fname;\r\n    \t@Column\r\n        private String lname;\r\n    \t@Column\r\n        private String gender;\r\n    \t@Column\r\n        private int age;\r\n    \t@Column\r\n        private String contactNumber;\r\n    \t@Column\r\n        private String empEmail;\r\n    \t@Column\r\n        private String empPass;\r\n    }\r\n\r\n\r\napplication.properties:\r\n\r\n    server.port:8082\r\n    \r\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1521/orcl\r\n    spring.datasource.username=system\r\n    spring.datasource.password=oracle\r\n    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.OracleDialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n\r\nProject structure:\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wiwfz.png\r\n  [2]: https://i.stack.imgur.com/7ozzE.png\r\n  [3]: https://i.stack.imgur.com/M7vSt.png\r\n  [4]: https://i.stack.imgur.com/d9MHG.png\r\n  [5]: https://i.stack.imgur.com/38bX3.png\r\n  [6]: https://i.stack.imgur.com/I3qVg.png\r\n","title":"@Query annotation not working in Spring boot with Oracle database","body":"<p>I am trying to execute an Insert statement but unfortunately, I am not able to save the data into the data base.\nMay be the @Query annotation here is not working correctly.</p>\n<p>below are my classes.\nController:</p>\n<pre><code>@Component\n//@RequestMapping(&quot;/api/v1&quot;)\npublic class EmployeeControllerImpl implements EmployeeController{\n    @Autowired\n    public EmployeeService employeeService;\n    \n    @Override\n    @PostMapping(&quot;/addEmployee&quot;)\n    public Employee addEmployee(@RequestBody Employee emp) {\n        return employeeService.addEmployee(emp);\n        }\n\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Component\npublic class EmployeeServiceImpl implements EmployeeService{\n    \n    @Autowired\n    public EmployeeRepository employeeRepository;\n    \n    @Override\n    public Employee addEmployee(Employee emp) {\n    \n        return employeeRepository.addEmployee(emp);\n    }\n}\n</code></pre>\n<p>Repository Interface:</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Integer &gt; {\n\n    @Query(value = &quot;insert into employee (fname, lname, gender, age, contactNumber, empEmail, empPass) &quot;\n            + &quot;VALUES (:fname, :lname, :gender, :age, :contactNumber, :empEmail, :empPass)&quot;, nativeQuery = true)\n    Employee addEmployee(Employee emp );\n}\n</code></pre>\n<p>Employee.java:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;Employee&quot;)\n@Getter\n@Setter\npublic class Employee {\n\n    @Id\n    @Column(name = &quot;employee_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int empId;\n    @Column\n    private String fname;\n    @Column\n    private String lname;\n    @Column\n    private String gender;\n    @Column\n    private int age;\n    @Column\n    private String contactNumber;\n    @Column\n    private String empEmail;\n    @Column\n    private String empPass;\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>server.port:8082\n\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521/orcl\nspring.datasource.username=system\nspring.datasource.password=oracle\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\n\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>Project structure:\n<a href=\"https://i.stack.imgur.com/I3qVg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I3qVg.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java.util.scanner","user-input"],"answers":[{"tags":[],"owner":{"account_id":2509519,"reputation":9629,"user_id":2182349,"accept_rate":89,"display_name":"user2182349"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700868893,"creation_date":1700868893,"answer_id":77546093,"question_id":77546055,"body_markdown":"Add a prompt method that returns a string\r\n\r\nCreate a `Scanner` as a field in the class\r\n\r\n    Scanner keyboard = new Scanner(System.in);\r\n\r\nCreate a method to display a prompt and return a string from the `Scanner`. You might need to add `static`.\r\n\r\n    public String prompt(String message) {\r\n        System.out.print(message + &quot;\\n&gt;&quot;);\r\n        return keyboard.nextLine();\r\n    }\r\n\r\nCall the method \r\n\r\n    String name = prompt(&quot;Enter your name&quot;);","title":"How do I add &quot;&gt;&quot; where I want the user to input text? (Java)","body":"<p>Add a prompt method that returns a string</p>\n<p>Create a <code>Scanner</code> as a field in the class</p>\n<pre><code>Scanner keyboard = new Scanner(System.in);\n</code></pre>\n<p>Create a method to display a prompt and return a string from the <code>Scanner</code>. You might need to add <code>static</code>.</p>\n<pre><code>public String prompt(String message) {\n    System.out.print(message + &quot;\\n&gt;&quot;);\n    return keyboard.nextLine();\n}\n</code></pre>\n<p>Call the method</p>\n<pre><code>String name = prompt(&quot;Enter your name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700872168,"creation_date":1700872168,"answer_id":77546235,"question_id":77546055,"body_markdown":"Delegate the process with a _[class](https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html)_.\r\n\r\n```java\r\nclass UI {\r\n    Scanner is;\r\n    PrintStream os;\r\n\r\n    UI(InputStream is, PrintStream os) {\r\n        this.is = new Scanner(is);\r\n        this.os = os;\r\n    }\r\n\r\n    String input(String s) {\r\n        os.printf(&quot;%s%n&gt; &quot;, s);\r\n        return is.nextLine();\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage.\r\n\r\n```java\r\nUI ui = new UI(System.in, System.out);\r\nString s = ui.input(&quot;what&#39;s your name&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nwhat&#39;s your name\r\n&gt; abc\r\n```","title":"How do I add &quot;&gt;&quot; where I want the user to input text? (Java)","body":"<p>Delegate the process with a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html\" rel=\"nofollow noreferrer\">class</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class UI {\n    Scanner is;\n    PrintStream os;\n\n    UI(InputStream is, PrintStream os) {\n        this.is = new Scanner(is);\n        this.os = os;\n    }\n\n    String input(String s) {\n        os.printf(&quot;%s%n&gt; &quot;, s);\n        return is.nextLine();\n    }\n}\n</code></pre>\n<p>Here is an example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UI ui = new UI(System.in, System.out);\nString s = ui.input(&quot;what's your name&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>what's your name\n&gt; abc\n</code></pre>\n"}],"owner":{"account_id":29986800,"reputation":1,"user_id":22980485,"display_name":"Jacob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700872168,"creation_date":1700868041,"question_id":77546055,"body_markdown":"If I have a System.out.println(&quot;what&#39;s your name&quot;), I want the next line to say &quot;&gt;&quot; so it makes it more obvious that it&#39;s the users turn to type something. \r\n\r\nSo far I&#39;ve just put &quot;\\n &gt; &quot; at the end of my question, and it works fine, but then I&#39;d have to do this every single time.","title":"How do I add &quot;&gt;&quot; where I want the user to input text? (Java)","body":"<p>If I have a System.out.println(&quot;what's your name&quot;), I want the next line to say &quot;&gt;&quot; so it makes it more obvious that it's the users turn to type something.</p>\n<p>So far I've just put &quot;\\n &gt; &quot; at the end of my question, and it works fine, but then I'd have to do this every single time.</p>\n"},{"tags":["java","xml","parsing","dom"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158110,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700872155,"creation_date":1700872155,"answer_id":77546233,"question_id":77546077,"body_markdown":"You are assigning the variable &quot;item&quot; to each item in turn in your loop, and its value on exit is therefore the last `item` element encountered.\r\n\r\nYou&#39;re not alone in using Java and DOM for this kind of application; it&#39;s a popular combination. But it&#39;s approaching 25 years old, and there are many better choices available. Even if it has to be Java, there are other APIs such as JDOM2 and XOM that are much friendlier to use. \r\n\r\nSaxon&#39;s tree navigation API (inspired by LINQ in the C# world) would look something like this:\r\n\r\n    XdmNode channel = document.getOutermostElement();\r\n    String title = channel.select(child(&quot;title&quot;)).asString();\r\n    System.out.println(title);\r\n    channel.select(child(&quot;item&quot;)).forEach(item -&gt; {\r\n       String subtitle = item.select(&quot;title&quot;).asString();\r\n       System.out.println(subtitle);\r\n    }\r\n\r\nwhich is a fraction of the length of the equivalent DOM code.\r\n\r\n[Disclaimer: Saxon is my company&#39;s product]\r\n\r\n\r\n\r\n","title":"Getting data from an XML document using DOM in Java","body":"<p>You are assigning the variable &quot;item&quot; to each item in turn in your loop, and its value on exit is therefore the last <code>item</code> element encountered.</p>\n<p>You're not alone in using Java and DOM for this kind of application; it's a popular combination. But it's approaching 25 years old, and there are many better choices available. Even if it has to be Java, there are other APIs such as JDOM2 and XOM that are much friendlier to use.</p>\n<p>Saxon's tree navigation API (inspired by LINQ in the C# world) would look something like this:</p>\n<pre><code>XdmNode channel = document.getOutermostElement();\nString title = channel.select(child(&quot;title&quot;)).asString();\nSystem.out.println(title);\nchannel.select(child(&quot;item&quot;)).forEach(item -&gt; {\n   String subtitle = item.select(&quot;title&quot;).asString();\n   System.out.println(subtitle);\n}\n</code></pre>\n<p>which is a fraction of the length of the equivalent DOM code.</p>\n<p>[Disclaimer: Saxon is my company's product]</p>\n"}],"owner":{"account_id":18844459,"reputation":5,"user_id":17542986,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700872155,"creation_date":1700868520,"question_id":77546077,"body_markdown":"I&#39;m trying to parse an XML file using DOM, but at the end only the last entry is output several times (in a loop). Tell me, please, what is the problem? (I&#39;m a beginner in Java)\r\n\r\nXML with approximately the following content:\r\n\r\n    &lt;channel&gt;\r\n    \t&lt;title&gt;www.google.com&lt;/title&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;title&gt;www.youtube.com&lt;/title&gt;\r\n    \t&lt;/item&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;title&gt;play.google.com&lt;/title&gt;\r\n    \t&lt;/item&gt;\r\n    \t...\r\n    &lt;/channel&gt;\r\n\r\nJava Code:\r\n\r\n        Node item = null;\r\n        NodeList channelList = document.getElementsByTagName(&quot;channel&quot;);\r\n        for (int i = 0; i &lt; channelList.getLength(); i++){\r\n\r\n            if (channelList.item(i).getNodeType() == Node.ELEMENT_NODE){\r\n                \r\n                NodeList channelListChild = channelList.item(i).getChildNodes();\r\n                for (int j = 0; j &lt; channelListChild.getLength(); j++){\r\n                    if (channelListChild.item(j).getNodeType() == Node.ELEMENT_NODE){\r\n\r\n                        switch (channelListChild.item(j).getNodeName()){\r\n                            case &quot;title&quot;:{\r\n                                String title = channelListChild.item(j).getTextContent();\r\n                                System.out.println(title);\r\n                                break;\r\n                            }\r\n                            case &quot;item&quot;:{\r\n                                item = channelListChild.item(j);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (item == null){\r\n            return;\r\n        }\r\n\r\n        String title = null;\r\n        NodeList itemList = item.getChildNodes();\r\n\r\n        for (int i = 0; i &lt; itemList.getLength(); i++){\r\n            if (itemList.item(i).getNodeType() == Node.ELEMENT_NODE){\r\n\r\n                switch (itemList.item(i).getNodeName()){\r\n                    case &quot;title&quot;:{\r\n                        title = itemList.item(i).getTextContent();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(title);\r\n        }\r\n        ","title":"Getting data from an XML document using DOM in Java","body":"<p>I'm trying to parse an XML file using DOM, but at the end only the last entry is output several times (in a loop). Tell me, please, what is the problem? (I'm a beginner in Java)</p>\n<p>XML with approximately the following content:</p>\n<pre><code>&lt;channel&gt;\n    &lt;title&gt;www.google.com&lt;/title&gt;\n    &lt;item&gt;\n        &lt;title&gt;www.youtube.com&lt;/title&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;title&gt;play.google.com&lt;/title&gt;\n    &lt;/item&gt;\n    ...\n&lt;/channel&gt;\n</code></pre>\n<p>Java Code:</p>\n<pre><code>    Node item = null;\n    NodeList channelList = document.getElementsByTagName(&quot;channel&quot;);\n    for (int i = 0; i &lt; channelList.getLength(); i++){\n\n        if (channelList.item(i).getNodeType() == Node.ELEMENT_NODE){\n            \n            NodeList channelListChild = channelList.item(i).getChildNodes();\n            for (int j = 0; j &lt; channelListChild.getLength(); j++){\n                if (channelListChild.item(j).getNodeType() == Node.ELEMENT_NODE){\n\n                    switch (channelListChild.item(j).getNodeName()){\n                        case &quot;title&quot;:{\n                            String title = channelListChild.item(j).getTextContent();\n                            System.out.println(title);\n                            break;\n                        }\n                        case &quot;item&quot;:{\n                            item = channelListChild.item(j);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    if (item == null){\n        return;\n    }\n\n    String title = null;\n    NodeList itemList = item.getChildNodes();\n\n    for (int i = 0; i &lt; itemList.getLength(); i++){\n        if (itemList.item(i).getNodeType() == Node.ELEMENT_NODE){\n\n            switch (itemList.item(i).getNodeName()){\n                case &quot;title&quot;:{\n                    title = itemList.item(i).getTextContent();\n                    break;\n                }\n            }\n        }\n        System.out.println(title);\n    }\n    \n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1613373021,"post_id":66199752,"comment_id":117044982,"body_markdown":"Looks like a wrong configuration in your `settings.xml`. Can you show it?","body":"Looks like a wrong configuration in your <code>settings.xml</code>. Can you show it?"}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613334247,"creation_date":1613334247,"answer_id":66199777,"question_id":66199752,"body_markdown":"try to use:\r\n\r\n    mvn clean package -U\r\n\r\nform description this key :\r\n\r\n    Forces a check for missing releases and updated snapshots on remote repositories\r\n\r\n","title":"Maven package issue locally?","body":"<p>try to use:</p>\n<pre><code>mvn clean package -U\n</code></pre>\n<p>form description this key :</p>\n<pre><code>Forces a check for missing releases and updated snapshots on remote repositories\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29923834,"reputation":1,"user_id":22932333,"display_name":"Mat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700871889,"creation_date":1700865951,"answer_id":77545960,"question_id":66199752,"body_markdown":"1. Navigate to your local Maven repository (`~/.m2/repository/`).\r\n\r\n2. Find the `com/fasterxml/jackson` directory within the repository.\r\n\r\n3. Manually delete the `jackson` directory.\r\n\r\n4. Run the Maven command with the update option to force an update:\r\n\r\n```bash\r\nmvn clean install -U\r\n```\r\n\r\nHope, this might work","title":"Maven package issue locally?","body":"<ol>\n<li><p>Navigate to your local Maven repository (<code>~/.m2/repository/</code>).</p>\n</li>\n<li><p>Find the <code>com/fasterxml/jackson</code> directory within the repository.</p>\n</li>\n<li><p>Manually delete the <code>jackson</code> directory.</p>\n</li>\n<li><p>Run the Maven command with the update option to force an update:</p>\n</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean install -U\n</code></pre>\n<p>Hope, this might work</p>\n"}],"owner":{"account_id":17576610,"reputation":1299,"user_id":12751228,"display_name":"john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700871889,"creation_date":1613334073,"question_id":66199752,"body_markdown":"I run mvn package and I get this error message:\r\n\r\n\r\n    [ERROR] Failed to execute goal on project gs-maven: Could not resolve dependencies for project DD2480-Group-15:gs-maven:jar:0.1.0: Failure to find com.fasterxml.jackson.core:jackson-databind:jar:3.6 in http://download.java.net/maven/2 was cached in the local repository, resolution will not be reattempted until the update interval of java.net2 has elapsed or updates are forced -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\nAnd below is my pom.xml file:\r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIt was working with Travis on Github, but it doesn&#39;t work locally?","title":"Maven package issue locally?","body":"<p>I run mvn package and I get this error message:</p>\n<pre><code>[ERROR] Failed to execute goal on project gs-maven: Could not resolve dependencies for project DD2480-Group-15:gs-maven:jar:0.1.0: Failure to find com.fasterxml.jackson.core:jackson-databind:jar:3.6 in http://download.java.net/maven/2 was cached in the local repository, resolution will not be reattempted until the update interval of java.net2 has elapsed or updates are forced -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n<p>And below is my pom.xml file:</p>\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It was working with Travis on Github, but it doesn't work locally?</p>\n"},{"tags":["java","android","utf-8"],"comments":[{"owner":{"account_id":3242958,"reputation":6768,"user_id":2735471,"display_name":"Neerajlal K"},"score":0,"creation_date":1475904129,"post_id":39928496,"comment_id":67141017,"body_markdown":"What should the decoded output look like?","body":"What should the decoded output look like?"},{"owner":{"account_id":2190216,"reputation":1196,"user_id":1937483,"accept_rate":73,"display_name":"Amr SubZero"},"score":0,"creation_date":1475904335,"post_id":39928496,"comment_id":67141048,"body_markdown":"Normal arabic string, e.g :   ","body":"Normal arabic string, e.g :   "},{"owner":{"account_id":3242958,"reputation":6768,"user_id":2735471,"display_name":"Neerajlal K"},"score":0,"creation_date":1475904492,"post_id":39928496,"comment_id":67141074,"body_markdown":"What is the output of the example given above? &quot;&quot;","body":"What is the output of the example given above? &quot;&quot;"},{"owner":{"account_id":2190216,"reputation":1196,"user_id":1937483,"accept_rate":73,"display_name":"Amr SubZero"},"score":0,"creation_date":1475905031,"post_id":39928496,"comment_id":67141180,"body_markdown":"Sorry what do you mean the output? and what example? in the question (the diamond question marks) or in the comment i posted above?","body":"Sorry what do you mean the output? and what example? in the question (the diamond question marks) or in the comment i posted above?"},{"owner":{"account_id":3242958,"reputation":6768,"user_id":2735471,"display_name":"Neerajlal K"},"score":0,"creation_date":1475905148,"post_id":39928496,"comment_id":67141199,"body_markdown":" = &quot;what in arabic&quot;?","body":" = &quot;what in arabic&quot;?"},{"owner":{"account_id":2190216,"reputation":1196,"user_id":1937483,"accept_rate":73,"display_name":"Amr SubZero"},"score":0,"creation_date":1475905675,"post_id":39928496,"comment_id":67141306,"body_markdown":"No, these three diamonds are an example, not a real string, unfortunetly i can&#39;t copy a text from my android app, can you explain why you need to know the question marks output?","body":"No, these three diamonds are an example, not a real string, unfortunetly i can&#39;t copy a text from my android app, can you explain why you need to know the question marks output?"}],"owner":{"account_id":2190216,"reputation":1196,"user_id":1937483,"accept_rate":73,"display_name":"Amr SubZero"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700871824,"creation_date":1475898739,"question_id":39928496,"body_markdown":"I&#39;m using an [API][1] that sends and receives raw bytes.\r\n\r\nBut i have problem with displaying the Arabic words that comes over the API, it&#39;s displaying like diamond question marks &quot;&quot;\r\n\r\nI&#39;ve tried to convert the string from and to **utf-8**.\r\n\r\nThis example returns question marks but not inside the black square &quot;??? ???&quot; :\r\n\r\n    String str = new String(originalStr.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);\r\n\r\nThis one returns empty string :\r\n\r\n    String str = new String(originalStr.getBytes(&quot;WINDOWS-1256&quot;), &quot;UTF-8&quot;);\r\n\r\n\r\nAnd this one also returns an empty string :\r\n\r\n    String str = new String(originalStr.getBytes(&quot;WINDOWS-1252&quot;), &quot;UTF-8&quot;);\r\n\r\nI&#39;ve succeded to display the Arabic words in PHP by converting from **cp1256** to **utf-8** :\r\n\r\n    echo iconv(&#39;cp1256&#39;, &#39;utf-8&#39;, $string);\r\n\r\nThe correct character encoding for Arabic is **cp1256**\r\n\r\nHow can i achieve that?\r\n\r\n  [1]: https://github.com/GideonLeGrange/mikrotik-java","title":"Android convert diamond question marks to UTF-8 Arabic string","body":"<p>I'm using an <a href=\"https://github.com/GideonLeGrange/mikrotik-java\" rel=\"nofollow\">API</a> that sends and receives raw bytes.</p>\n\n<p>But i have problem with displaying the Arabic words that comes over the API, it's displaying like diamond question marks \"\"</p>\n\n<p>I've tried to convert the string from and to <strong>utf-8</strong>.</p>\n\n<p>This example returns question marks but not inside the black square \"??? ???\" :</p>\n\n<pre><code>String str = new String(originalStr.getBytes(\"ISO-8859-1\"), \"UTF-8\");\n</code></pre>\n\n<p>This one returns empty string :</p>\n\n<pre><code>String str = new String(originalStr.getBytes(\"WINDOWS-1256\"), \"UTF-8\");\n</code></pre>\n\n<p>And this one also returns an empty string :</p>\n\n<pre><code>String str = new String(originalStr.getBytes(\"WINDOWS-1252\"), \"UTF-8\");\n</code></pre>\n\n<p>I've succeded to display the Arabic words in PHP by converting from <strong>cp1256</strong> to <strong>utf-8</strong> :</p>\n\n<pre><code>echo iconv('cp1256', 'utf-8', $string);\n</code></pre>\n\n<p>The correct character encoding for Arabic is <strong>cp1256</strong></p>\n\n<p>How can i achieve that?</p>\n"},{"tags":["java","weblogic","persistence","commit","openjpa"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1613398848,"post_id":66208880,"comment_id":117055811,"body_markdown":"Are you setting autocommit mode anywhere in the code ?","body":"Are you setting autocommit mode anywhere in the code ?"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1613399210,"post_id":66208880,"comment_id":117055970,"body_markdown":"Can you use @Transactional in the servlet ? Try again","body":"Can you use @Transactional in the servlet ? Try again"},{"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"score":1,"creation_date":1613400036,"post_id":66208880,"comment_id":117056375,"body_markdown":"no at all. I added github link in the post.","body":"no at all. I added github link in the post."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1613400086,"post_id":66208880,"comment_id":117056397,"body_markdown":"Use @Transactional on the serv1 and try again.","body":"Use @Transactional on the serv1 and try again."},{"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"score":0,"creation_date":1613400668,"post_id":66208880,"comment_id":117056685,"body_markdown":"I don&#39;t have access to cdi @Transactional in servlet but Ejb methods are transactional by default.","body":"I don&#39;t have access to cdi @Transactional in servlet but Ejb methods are transactional by default."}],"answers":[{"tags":[],"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1624632168,"creation_date":1613471001,"answer_id":66222574,"question_id":66208880,"body_markdown":"as [OpenJpa documentation Section&#160;2,  Integrating with the Transaction Manager  ](http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_enterprise_trans.html)\r\nsays, I should add `&lt;property name=&quot;openjpa.TransactionMode&quot; value=&quot;managed&quot;/&gt;` to persistence.xml.  \r\nBy this property, OpenJpa understands that should uses container&#39;s managed transaction.  \r\nIn case of weblogic, I do not need to configure &quot;openjpa.ManagedRuntime &quot; property.  \r\n and according to [Section&#160;2.1,  Managed and XA DataSources . ](http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_dbsetup_thirdparty.html#ref_guide_dbsetup_thirdparty_enlist)\r\n&quot;When using a managed DataSource, you should also configure a second unmanaged DataSource that OpenJPA can use to perform tasks that are independent of the global transaction. The most common of these tasks is updating the sequence table OpenJPA uses to generate unique primary key values for your datastore identity objects. &quot;  \r\nNote: If you do not set AutoStrategy id generation, and you created your database&#39;s schema and sequence before, and remove \r\n\r\n    &lt;property name=&quot;openjpa.jdbc.SynchronizeMappings&quot; value=&quot;buildSchema(ForeignKeys=true)&quot;/&gt; \r\n\r\nfrom your persistence.xml, You do not need to second none jta dataSource.\r\n\r\nSo, this is my persistence.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\n                http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n                version=&quot;2.0&quot;&gt;\r\n                \r\n                &lt;persistence-unit name=&quot;batch&quot; transaction-type=&quot;JTA&quot; &gt; \r\n        &lt;provider&gt;org.apache.openjpa.persistence.PersistenceProviderImpl &lt;/provider&gt;\r\n        &lt;jta-data-source&gt;jdbc/new&lt;/jta-data-source&gt;\r\n        &lt;class&gt;com.smartsoft.persistence.Person&lt;/class&gt;\r\n        &lt;validation-mode&gt;NONE&lt;/validation-mode&gt;\r\n          &lt;properties&gt;\r\n        &lt;property name=&quot;openjpa.jdbc.SynchronizeMappings&quot; value=&quot;buildSchema(ForeignKeys=true)&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.Log&quot; value=&quot;DefaultLevel=TRACE&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.TransactionMode&quot; value=&quot;managed&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.ConnectionFactoryMode &quot; value=&quot;managed&quot;/&gt;\r\n         &lt;property name=&quot;openjpa.Connection2UserName&quot; value=&quot;app&quot;/&gt;\r\n        &lt;property name=&quot;openjpa.Connection2Password&quot; value=&quot;app&quot;/&gt;\r\n        &lt;property name=&quot;openjpa.Connection2URL&quot; value=&quot;jdbc:derby://localhost:1527/testdb;create=false&quot;/&gt;\r\n        &lt;property name=&quot;openjpa.Connection2DriverName&quot; value=&quot;org.apache.derby.jdbc.ClientDriver&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n","title":"org.apache.openjpa.persistence.PersistenceException: Cannot set auto-commit mode when using distributed transactions","body":"<p>as <a href=\"http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_enterprise_trans.html\" rel=\"nofollow noreferrer\">OpenJpa documentation Section2,  Integrating with the Transaction Manager  </a>\nsays, I should add <code>&lt;property name=&quot;openjpa.TransactionMode&quot; value=&quot;managed&quot;/&gt;</code> to persistence.xml.<br />\nBy this property, OpenJpa understands that should uses container's managed transaction.<br />\nIn case of weblogic, I do not need to configure &quot;openjpa.ManagedRuntime &quot; property.<br />\nand according to <a href=\"http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_dbsetup_thirdparty.html#ref_guide_dbsetup_thirdparty_enlist\" rel=\"nofollow noreferrer\">Section2.1,  Managed and XA DataSources . </a>\n&quot;When using a managed DataSource, you should also configure a second unmanaged DataSource that OpenJPA can use to perform tasks that are independent of the global transaction. The most common of these tasks is updating the sequence table OpenJPA uses to generate unique primary key values for your datastore identity objects. &quot;<br />\nNote: If you do not set AutoStrategy id generation, and you created your database's schema and sequence before, and remove</p>\n<pre><code>&lt;property name=&quot;openjpa.jdbc.SynchronizeMappings&quot; value=&quot;buildSchema(ForeignKeys=true)&quot;/&gt; \n</code></pre>\n<p>from your persistence.xml, You do not need to second none jta dataSource.</p>\n<p>So, this is my persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\n            http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n            version=&quot;2.0&quot;&gt;\n            \n            &lt;persistence-unit name=&quot;batch&quot; transaction-type=&quot;JTA&quot; &gt; \n    &lt;provider&gt;org.apache.openjpa.persistence.PersistenceProviderImpl &lt;/provider&gt;\n    &lt;jta-data-source&gt;jdbc/new&lt;/jta-data-source&gt;\n    &lt;class&gt;com.smartsoft.persistence.Person&lt;/class&gt;\n    &lt;validation-mode&gt;NONE&lt;/validation-mode&gt;\n      &lt;properties&gt;\n    &lt;property name=&quot;openjpa.jdbc.SynchronizeMappings&quot; value=&quot;buildSchema(ForeignKeys=true)&quot;/&gt;\n      &lt;property name=&quot;openjpa.Log&quot; value=&quot;DefaultLevel=TRACE&quot;/&gt;\n      &lt;property name=&quot;openjpa.TransactionMode&quot; value=&quot;managed&quot;/&gt;\n      &lt;property name=&quot;openjpa.ConnectionFactoryMode &quot; value=&quot;managed&quot;/&gt;\n     &lt;property name=&quot;openjpa.Connection2UserName&quot; value=&quot;app&quot;/&gt;\n    &lt;property name=&quot;openjpa.Connection2Password&quot; value=&quot;app&quot;/&gt;\n    &lt;property name=&quot;openjpa.Connection2URL&quot; value=&quot;jdbc:derby://localhost:1527/testdb;create=false&quot;/&gt;\n    &lt;property name=&quot;openjpa.Connection2DriverName&quot; value=&quot;org.apache.derby.jdbc.ClientDriver&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"}],"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66222574,"answer_count":1,"score":1,"last_activity_date":1700871147,"creation_date":1613395366,"question_id":66208880,"body_markdown":"I setup simple java ee project and using jta transaction and using OpenJpa 2.4.2 as Jpa provider, maven 3.3, eclipse 2020-06, jdk 8U2002, weblogic 12.4.2 and java ee 6 and get this exception:\r\n\r\n    javax.ejb.EJBException: EJB Exception: : &lt;openjpa-2.4.2-r422266:1777108 nonfatal general error&gt; org.apache.openjpa.persistence.PersistenceException: Cannot set auto-commit mode when using distributed transactions\r\n    \tat org.apache.openjpa.jdbc.meta.MappingTool.record(MappingTool.java:571)\r\n    \tat org.apache.openjpa.jdbc.meta.MappingTool.record(MappingTool.java:467)\r\n    \tat org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.synchronizeMappings(JDBCBrokerFactory.java:160)\r\n    \tat org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.synchronizeMappings(JDBCBrokerFactory.java:164)\r\n    \tat org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.newBrokerImpl(JDBCBrokerFactory.java:122)\r\nand this is my persistence.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\n                http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n                version=&quot;2.0&quot;&gt;\r\n                \r\n                &lt;persistence-unit name=&quot;batch&quot; transaction-type=&quot;JTA&quot; &gt; \r\n        &lt;provider&gt;org.apache.openjpa.persistence.PersistenceProviderImpl &lt;/provider&gt;\r\n        &lt;jta-data-source&gt;jdbc/new&lt;/jta-data-source&gt;\r\n        &lt;class&gt;com.smartsoft.persistence.Person&lt;/class&gt;\r\n        &lt;validation-mode&gt;NONE&lt;/validation-mode&gt;\r\n          &lt;properties&gt;\r\n    &lt;property name=&quot;openjpa.DynamicEnhancementAgent&quot;  value=&quot;false&quot;/&gt;\r\n    &lt;property name=&quot;openjpa.RuntimeUnenhancedClasses&quot; value=&quot;unsupported&quot;/&gt;\r\n        &lt;property name=&quot;openjpa.jdbc.SynchronizeMappings&quot; value=&quot;buildSchema(ForeignKeys=true)&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.Log&quot; value=&quot;DefaultLevel=TRACE&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nI have a simple Entity class that has firstName and lastName and age fields and setter getter methods. and an Stateless Ejb class that injects EntityManager with @PersistenceContext  annotation and has save method that calls em.persist(Person) Then I inject this dao in a servlet and pass a person class to it.\r\n\r\nThis is my Weblogic.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\r\n                          &lt;wls:context-root&gt;persistence&lt;/wls:context-root&gt;\r\n                          &lt;wls:container-descriptor&gt;\r\n    &lt;wls:prefer-web-inf-classes&gt;true&lt;/wls:prefer-web-inf-classes&gt;                      \r\n                          &lt;/wls:container-descriptor&gt;\r\n    &lt;/wls:weblogic-web-app&gt;\r\n\r\nThis is my dao class:\r\n\r\n    @Stateless\r\n    public class PersonEjb {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n        private static final Logger logger =Logger.getLogger(&quot;PersonEjb&quot;);\r\n        public void save(Person person) {\r\n        \tentityManager.persist(person);\r\n        \tlogger.info(&quot;persisted&quot;);\r\n        }\r\n    }\r\n\r\nand This is servlet:\r\n\r\n    @WebServlet(&quot;/Serv1&quot;)\r\n    public class Serv1 extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t@EJB\r\n    \tprivate PersonEjb pe;\r\n        public Serv1() {\r\n            super();\r\n        }\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tPerson p = new Person();\r\n    \t\tp.setAge(25);\r\n    \t\tp.setFirstName(&quot;hamidreza&quot;);\r\n    \t\tp.setLastName(&quot;abroshan&quot;);\r\n    \t\tpe.save(p);\r\n    \t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n    \t}\r\n    \r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tdoGet(request, response);\r\n    \t}\r\n    }\r\n\r\nYou can download this project at [github](https://github.com/hamidrezaabroshan/simple-java-EE-project-with-weblogic-and-openJpa-.git).\r\n","title":"org.apache.openjpa.persistence.PersistenceException: Cannot set auto-commit mode when using distributed transactions","body":"<p>I setup simple java ee project and using jta transaction and using OpenJpa 2.4.2 as Jpa provider, maven 3.3, eclipse 2020-06, jdk 8U2002, weblogic 12.4.2 and java ee 6 and get this exception:</p>\n<pre><code>javax.ejb.EJBException: EJB Exception: : &lt;openjpa-2.4.2-r422266:1777108 nonfatal general error&gt; org.apache.openjpa.persistence.PersistenceException: Cannot set auto-commit mode when using distributed transactions\n    at org.apache.openjpa.jdbc.meta.MappingTool.record(MappingTool.java:571)\n    at org.apache.openjpa.jdbc.meta.MappingTool.record(MappingTool.java:467)\n    at org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.synchronizeMappings(JDBCBrokerFactory.java:160)\n    at org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.synchronizeMappings(JDBCBrokerFactory.java:164)\n    at org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.newBrokerImpl(JDBCBrokerFactory.java:122)\n</code></pre>\n<p>and this is my persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\n            http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n            version=&quot;2.0&quot;&gt;\n            \n            &lt;persistence-unit name=&quot;batch&quot; transaction-type=&quot;JTA&quot; &gt; \n    &lt;provider&gt;org.apache.openjpa.persistence.PersistenceProviderImpl &lt;/provider&gt;\n    &lt;jta-data-source&gt;jdbc/new&lt;/jta-data-source&gt;\n    &lt;class&gt;com.smartsoft.persistence.Person&lt;/class&gt;\n    &lt;validation-mode&gt;NONE&lt;/validation-mode&gt;\n      &lt;properties&gt;\n&lt;property name=&quot;openjpa.DynamicEnhancementAgent&quot;  value=&quot;false&quot;/&gt;\n&lt;property name=&quot;openjpa.RuntimeUnenhancedClasses&quot; value=&quot;unsupported&quot;/&gt;\n    &lt;property name=&quot;openjpa.jdbc.SynchronizeMappings&quot; value=&quot;buildSchema(ForeignKeys=true)&quot;/&gt;\n      &lt;property name=&quot;openjpa.Log&quot; value=&quot;DefaultLevel=TRACE&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I have a simple Entity class that has firstName and lastName and age fields and setter getter methods. and an Stateless Ejb class that injects EntityManager with @PersistenceContext  annotation and has save method that calls em.persist(Person) Then I inject this dao in a servlet and pass a person class to it.</p>\n<p>This is my Weblogic.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\n                      &lt;wls:context-root&gt;persistence&lt;/wls:context-root&gt;\n                      &lt;wls:container-descriptor&gt;\n&lt;wls:prefer-web-inf-classes&gt;true&lt;/wls:prefer-web-inf-classes&gt;                      \n                      &lt;/wls:container-descriptor&gt;\n&lt;/wls:weblogic-web-app&gt;\n</code></pre>\n<p>This is my dao class:</p>\n<pre><code>@Stateless\npublic class PersonEjb {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n    private static final Logger logger =Logger.getLogger(&quot;PersonEjb&quot;);\n    public void save(Person person) {\n        entityManager.persist(person);\n        logger.info(&quot;persisted&quot;);\n    }\n}\n</code></pre>\n<p>and This is servlet:</p>\n<pre><code>@WebServlet(&quot;/Serv1&quot;)\npublic class Serv1 extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    @EJB\n    private PersonEjb pe;\n    public Serv1() {\n        super();\n    }\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        Person p = new Person();\n        p.setAge(25);\n        p.setFirstName(&quot;hamidreza&quot;);\n        p.setLastName(&quot;abroshan&quot;);\n        pe.save(p);\n        response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doGet(request, response);\n    }\n}\n</code></pre>\n<p>You can download this project at <a href=\"https://github.com/hamidrezaabroshan/simple-java-EE-project-with-weblogic-and-openJpa-.git\" rel=\"nofollow noreferrer\">github</a>.</p>\n"},{"tags":["java","android","android-studio","maven"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700854595,"post_id":77545120,"comment_id":136707757,"body_markdown":"How have you configured the Java version to be used?","body":"How have you configured the Java version to be used?"},{"owner":{"account_id":16115791,"reputation":367,"user_id":11632959,"display_name":"dect"},"score":0,"creation_date":1700855170,"post_id":77545120,"comment_id":136707821,"body_markdown":"File &gt; Settings &gt; Build ... &gt; Build tools &gt; gradle &gt; gradle jdk\nIs that what you mean?","body":"File &gt; Settings &gt; Build ... &gt; Build tools &gt; gradle &gt; gradle jdk Is that what you mean?"},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700855378,"post_id":77545120,"comment_id":136707843,"body_markdown":"And in which terminal do you execute the Gradle command? The one inside Android Studio or a common terminal of your OS? Because the settings you make in Android Studio can only affect builds triggered by Android Studio.","body":"And in which terminal do you execute the Gradle command? The one inside Android Studio or a common terminal of your OS? Because the settings you make in Android Studio can only affect builds triggered by Android Studio."},{"owner":{"account_id":16115791,"reputation":367,"user_id":11632959,"display_name":"dect"},"score":0,"creation_date":1700855497,"post_id":77545120,"comment_id":136707863,"body_markdown":"android studio teminal","body":"android studio teminal"},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700855715,"post_id":77545120,"comment_id":136707890,"body_markdown":"I am not 100% sure but I would assume the JDK setting for Gradle should be effective for the terminal inside AS. Because the error should disappear when you use JDK 17. But you can make sure the configured JDK is used by executing the Gradle command by Ctrl+Return instead of just Return key. Then AS will execute it as run config and not the terminal.","body":"I am not 100% sure but I would assume the JDK setting for Gradle should be effective for the terminal inside AS. Because the error should disappear when you use JDK 17. But you can make sure the configured JDK is used by executing the Gradle command by Ctrl+Return instead of just Return key. Then AS will execute it as run config and not the terminal."},{"owner":{"account_id":16115791,"reputation":367,"user_id":11632959,"display_name":"dect"},"score":0,"creation_date":1700856117,"post_id":77545120,"comment_id":136707925,"body_markdown":"Crtl + return generates only the .pom","body":"Crtl + return generates only the .pom"},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700867810,"post_id":77545120,"comment_id":136709000,"body_markdown":"Please do not include the answer into your question. If you found the solution you can answer your own question, but please create a separate answer.","body":"Please do not include the answer into your question. If you found the solution you can answer your own question, but please create a separate answer."}],"answers":[{"tags":[],"owner":{"account_id":16115791,"reputation":367,"user_id":11632959,"display_name":"dect"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700869339,"creation_date":1700869339,"answer_id":77546111,"question_id":77545120,"body_markdown":"**FIXED**\r\n\r\nAfter some extra research I found out that I needed to add the following code to my build.gradle inside android tag:\r\n\r\n    publishing {\r\n        singleVariant(&quot;release&quot;) {\r\n            withSourcesJar()\r\n            withJavadocJar()\r\n        }\r\n    }","title":"Error while trying to publish to MavenLocal - Fixed","body":"<p><strong>FIXED</strong></p>\n<p>After some extra research I found out that I needed to add the following code to my build.gradle inside android tag:</p>\n<pre><code>publishing {\n    singleVariant(&quot;release&quot;) {\n        withSourcesJar()\n        withJavadocJar()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16115791,"reputation":367,"user_id":11632959,"display_name":"dect"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700869339,"creation_date":1700851175,"question_id":77545120,"body_markdown":"I&#39;m developing a library and I want to publish it to Maven Local for testing purposes...\r\n\r\nWhile running the command in the terminal:\r\n\r\n    ./gradlew publishToMavenLocal\r\nI get this error:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;wfe&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.2.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:8.1.2\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:8.1.2\r\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally\r\n, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.0&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\n\r\n```\r\n\r\nWhen trying to publish using tasks, it builds but only generates the .pom\r\n\r\n    Gradle &gt; wfe &gt; Tasks &gt; publishing &gt; publishToMavenLocal\r\n\r\nI&#39;ve searched and trying to set the JDK to 17 and 11 but didnt work... I&#39;m pretty newbie in this field of publishing to maven, so no idea what is happening...\r\n\r\nAnyway, thanks!\r\n\r\n**UPDATE - FIXED**\r\n\r\nAfter some extra research I found out that I needed to add the following code to my build.gradle inside android tag:\r\n```\r\npublishing {\r\n    singleVariant(&quot;release&quot;) {\r\n        withSourcesJar()\r\n        withJavadocJar()\r\n    }\r\n}\r\n```","title":"Error while trying to publish to MavenLocal - Fixed","body":"<p>I'm developing a library and I want to publish it to Maven Local for testing purposes...</p>\n<p>While running the command in the terminal:</p>\n<pre><code>./gradlew publishToMavenLocal\n</code></pre>\n<p>I get this error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'wfe'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.2.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:8.1.2\n         project : &gt; com.android.library:com.android.library.gradle.plugin:8.1.2\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally\n, as well as attribute 'org.gradle.plugin.api-version' with value '8.0' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:8.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:8.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:8.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:8.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n\n</code></pre>\n<p>When trying to publish using tasks, it builds but only generates the .pom</p>\n<pre><code>Gradle &gt; wfe &gt; Tasks &gt; publishing &gt; publishToMavenLocal\n</code></pre>\n<p>I've searched and trying to set the JDK to 17 and 11 but didnt work... I'm pretty newbie in this field of publishing to maven, so no idea what is happening...</p>\n<p>Anyway, thanks!</p>\n<p><strong>UPDATE - FIXED</strong></p>\n<p>After some extra research I found out that I needed to add the following code to my build.gradle inside android tag:</p>\n<pre><code>publishing {\n    singleVariant(&quot;release&quot;) {\n        withSourcesJar()\n        withJavadocJar()\n    }\n}\n</code></pre>\n"},{"tags":["java","client-server"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1700869195,"post_id":77545237,"comment_id":136709087,"body_markdown":"The issue here is clearly just the order of input/output operations on both the client and the server side. @Progman&#39;s answer contains good tips.","body":"The issue here is clearly just the order of input/output operations on both the client and the server side. @Progman&#39;s answer contains good tips."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700990428,"post_id":77545237,"comment_id":136717631,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700867701,"creation_date":1700867701,"answer_id":77546042,"question_id":77545237,"body_markdown":"You should check the chronological order of events at the server and client and when they read or write data. When a client is connected to the server, the server will send the string &quot;Would you like to play?&quot; via\r\n\r\n    output.println(&quot;Would you like to play?&quot;);    /* server */\r\n\r\nto the client. After that it will wait with\r\n\r\n    playing = input.readLine();                   /* server */\r\n\r\nfor any response from the client. On the client side it will read and print a message from the server with the line\r\n\r\n    System.out.println(input.readLine());        /* client */\r\n\r\nThe client will read and print the initial &quot;Would you like to play?&quot; message from the server. But after that, inside the `while()` loop, it will read for any *additional* data from the server with\r\n\r\n    System.out.println(input.readLine());       /* client */\r\n\r\nagain. Since the server is waiting for input from the client and not sending any data and the client is waiting for input from the server and not sending any data, both participants are waiting for input from the other side, but none of them are sending anything. This results in a deadlock.\r\n\r\nYou might want to add additional info/debug lines to check what the client and server are doing at which point in time. As an example you could write\r\n\r\n    System.out.println(&quot;[debug] Going to read data from the server&quot;);\r\n    System.out.println(input.readLine());\r\n    System.out.println(&quot;[debug] Read of data complete&quot;);\r\n\r\nand\r\n\r\n    System.out.println(&quot;[debug] Going to send the data &#39;&quot;+playing+&quot;&#39; to the server&quot;);\r\n    output.println(playing);\r\n    System.out.println(&quot;[debug] Send of data complete&quot;);\r\n\r\nThe solution to your problem might be as easy as removing the line \r\n\r\n    System.out.println(input.readLine());\r\n\r\nfrom above the `while` loop since you already read data inside the `while` loop","title":"Debugging a simple client and server program","body":"<p>You should check the chronological order of events at the server and client and when they read or write data. When a client is connected to the server, the server will send the string &quot;Would you like to play?&quot; via</p>\n<pre><code>output.println(&quot;Would you like to play?&quot;);    /* server */\n</code></pre>\n<p>to the client. After that it will wait with</p>\n<pre><code>playing = input.readLine();                   /* server */\n</code></pre>\n<p>for any response from the client. On the client side it will read and print a message from the server with the line</p>\n<pre><code>System.out.println(input.readLine());        /* client */\n</code></pre>\n<p>The client will read and print the initial &quot;Would you like to play?&quot; message from the server. But after that, inside the <code>while()</code> loop, it will read for any <em>additional</em> data from the server with</p>\n<pre><code>System.out.println(input.readLine());       /* client */\n</code></pre>\n<p>again. Since the server is waiting for input from the client and not sending any data and the client is waiting for input from the server and not sending any data, both participants are waiting for input from the other side, but none of them are sending anything. This results in a deadlock.</p>\n<p>You might want to add additional info/debug lines to check what the client and server are doing at which point in time. As an example you could write</p>\n<pre><code>System.out.println(&quot;[debug] Going to read data from the server&quot;);\nSystem.out.println(input.readLine());\nSystem.out.println(&quot;[debug] Read of data complete&quot;);\n</code></pre>\n<p>and</p>\n<pre><code>System.out.println(&quot;[debug] Going to send the data '&quot;+playing+&quot;' to the server&quot;);\noutput.println(playing);\nSystem.out.println(&quot;[debug] Send of data complete&quot;);\n</code></pre>\n<p>The solution to your problem might be as easy as removing the line</p>\n<pre><code>System.out.println(input.readLine());\n</code></pre>\n<p>from above the <code>while</code> loop since you already read data inside the <code>while</code> loop</p>\n"}],"owner":{"account_id":28610228,"reputation":1,"user_id":21905318,"display_name":"hunz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700868936,"creation_date":1700852944,"question_id":77545237,"body_markdown":"in the following code, i am implementing a basic server client dice game. however, the client scanner does not seem to be reading anything\r\n\r\nServerClass:\r\n\r\n    public class ServerClass {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            ServerSocket server = new ServerSocket(3300);\r\n            System.out.println(&quot;Server started on port &quot; + server.getLocalPort() + &quot; and &quot; + server.getInetAddress());\r\n    \r\n            while (true) {\r\n                Socket client = server.accept();\r\n    \r\n                ClientHandler clientHandle = new ClientHandler(client);\r\n                Thread thread = new Thread(clientHandle);\r\n                thread.start();\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\nClient class:\r\n\r\n    public class Client {\r\n    \r\n        public static void main(String[] args) throws UnknownHostException, IOException {\r\n    \r\n            Socket server = new Socket(&quot;localhost&quot;, 3300);\r\n            Scanner scanner = new Scanner(System.in);\r\n            BufferedReader input;\r\n            PrintWriter output;\r\n            int clientDice;\r\n            int serverDice;\r\n    \r\n            try {\r\n                input = new BufferedReader(new InputStreamReader(server.getInputStream()));\r\n                output = new PrintWriter(server.getOutputStream(), true);\r\n    \r\n                System.out.println(input.readLine());\r\n    \r\n                String playing = &quot;play&quot;;\r\n                while (&quot;play&quot;.equals(playing)) {\r\n                    System.out.println(input.readLine());\r\n                    playing = scanner.nextLine();\r\n                    output.println(playing);\r\n                    if (&quot;play&quot;.equals(playing)) {\r\n                        serverDice = Integer.parseInt(input.readLine());\r\n                        clientDice = new Random().nextInt(6);\r\n                        System.out.println(&quot;Client rolled &quot; + clientDice + &quot;. Server rolled &quot; + serverDice);\r\n                    } else {\r\n                        playing = &quot;exit&quot;;\r\n                    }\r\n                }\r\n                server.close();\r\n    \r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nClientHandler class:\r\n    \r\n    public class ClientHandler implements Runnable {\r\n        public Socket client;\r\n    \r\n        public ClientHandler(Socket client) {\r\n            this.client = client;\r\n        }\r\n    \r\n        public void run() {\r\n            Scanner scanner = new Scanner(System.in);\r\n            BufferedReader input;\r\n            PrintWriter output;\r\n            int serverDice;\r\n    \r\n            try {\r\n                input = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n                output = new PrintWriter(client.getOutputStream(), true);\r\n    \r\n                System.out.println(&quot;New client connected&quot;);\r\n                System.out.println(&quot;Server is ready to play&quot;);\r\n    \r\n                String playing = &quot;play&quot;;\r\n                while (&quot;play&quot;.equals(playing)) {\r\n                    output.println(&quot;Would you like to play?&quot;);\r\n                    playing = input.readLine();\r\n                    if (&quot;play&quot;.equals(playing)) {\r\n                        output.println(new Random().nextInt(6));\r\n                    }\r\n                }\r\n                client.close();\r\n    \r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\ni entered &quot;play&quot; nothing happened, it doesnt even recogonize the input","title":"Debugging a simple client and server program","body":"<p>in the following code, i am implementing a basic server client dice game. however, the client scanner does not seem to be reading anything</p>\n<p>ServerClass:</p>\n<pre><code>public class ServerClass {\n\n    public static void main(String[] args) throws IOException {\n\n        ServerSocket server = new ServerSocket(3300);\n        System.out.println(&quot;Server started on port &quot; + server.getLocalPort() + &quot; and &quot; + server.getInetAddress());\n\n        while (true) {\n            Socket client = server.accept();\n\n            ClientHandler clientHandle = new ClientHandler(client);\n            Thread thread = new Thread(clientHandle);\n            thread.start();\n        }\n    }\n}\n</code></pre>\n<p>Client class:</p>\n<pre><code>public class Client {\n\n    public static void main(String[] args) throws UnknownHostException, IOException {\n\n        Socket server = new Socket(&quot;localhost&quot;, 3300);\n        Scanner scanner = new Scanner(System.in);\n        BufferedReader input;\n        PrintWriter output;\n        int clientDice;\n        int serverDice;\n\n        try {\n            input = new BufferedReader(new InputStreamReader(server.getInputStream()));\n            output = new PrintWriter(server.getOutputStream(), true);\n\n            System.out.println(input.readLine());\n\n            String playing = &quot;play&quot;;\n            while (&quot;play&quot;.equals(playing)) {\n                System.out.println(input.readLine());\n                playing = scanner.nextLine();\n                output.println(playing);\n                if (&quot;play&quot;.equals(playing)) {\n                    serverDice = Integer.parseInt(input.readLine());\n                    clientDice = new Random().nextInt(6);\n                    System.out.println(&quot;Client rolled &quot; + clientDice + &quot;. Server rolled &quot; + serverDice);\n                } else {\n                    playing = &quot;exit&quot;;\n                }\n            }\n            server.close();\n\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>ClientHandler class:</p>\n<pre><code>public class ClientHandler implements Runnable {\n    public Socket client;\n\n    public ClientHandler(Socket client) {\n        this.client = client;\n    }\n\n    public void run() {\n        Scanner scanner = new Scanner(System.in);\n        BufferedReader input;\n        PrintWriter output;\n        int serverDice;\n\n        try {\n            input = new BufferedReader(new InputStreamReader(client.getInputStream()));\n            output = new PrintWriter(client.getOutputStream(), true);\n\n            System.out.println(&quot;New client connected&quot;);\n            System.out.println(&quot;Server is ready to play&quot;);\n\n            String playing = &quot;play&quot;;\n            while (&quot;play&quot;.equals(playing)) {\n                output.println(&quot;Would you like to play?&quot;);\n                playing = input.readLine();\n                if (&quot;play&quot;.equals(playing)) {\n                    output.println(new Random().nextInt(6));\n                }\n            }\n            client.close();\n\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>i entered &quot;play&quot; nothing happened, it doesnt even recogonize the input</p>\n"},{"tags":["java","comparison","versioning"],"comments":[{"owner":{"account_id":3015363,"reputation":502,"user_id":2557685,"accept_rate":67,"display_name":"machinateur"},"score":0,"creation_date":1436299597,"post_id":198431,"comment_id":50550441,"body_markdown":"Have you tried to just remove the dots and parse the resulting string as an integer? I&#39;m currently using something similar to the following: `String version = &quot;1.1.2&quot;.replace(&quot;.&quot;, &quot;&quot;);` `int number = Integer.parseInt(version); // = 112`. You could compare the number to another one and thus find the version that&#39;s more recent. Additionally you may check if the `version` string matches some certain pattern like `\\\\d+\\\\.\\\\d+\\\\.\\\\d` to make the result has at least 3 digits.","body":"Have you tried to just remove the dots and parse the resulting string as an integer? I&#39;m currently using something similar to the following: <code>String version = &quot;1.1.2&quot;.replace(&quot;.&quot;, &quot;&quot;);</code> <code>int number = Integer.parseInt(version); &#47;&#47; = 112</code>. You could compare the number to another one and thus find the version that&#39;s more recent. Additionally you may check if the <code>version</code> string matches some certain pattern like <code>\\\\d+\\\\.\\\\d+\\\\.\\\\d</code> to make the result has at least 3 digits."},{"owner":{"account_id":5978124,"reputation":10450,"user_id":4698242,"accept_rate":53,"display_name":"kojow7"},"score":8,"creation_date":1485582782,"post_id":198431,"comment_id":70995654,"body_markdown":"@RegisteredUser How would this work with something like this: 1.12.1 and 1.1.34 ?","body":"@RegisteredUser How would this work with something like this: 1.12.1 and 1.1.34 ?"},{"owner":{"account_id":3015363,"reputation":502,"user_id":2557685,"accept_rate":67,"display_name":"machinateur"},"score":0,"creation_date":1485590268,"post_id":198431,"comment_id":70997002,"body_markdown":"You would have to make sure each part has the same size in length. So to compare the two versions of your example they must be something like this: 1.12.01 and 1.01.34. In java you could achieve this by first splitting at the `.` character and the compare each elements length. Afterwards just put all elements into one string, then parse it as int and then compare it to the other version that has been converted the same way","body":"You would have to make sure each part has the same size in length. So to compare the two versions of your example they must be something like this: 1.12.01 and 1.01.34. In java you could achieve this by first splitting at the <code>.</code> character and the compare each elements length. Afterwards just put all elements into one string, then parse it as int and then compare it to the other version that has been converted the same way"},{"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"score":0,"creation_date":1536198380,"post_id":198431,"comment_id":91340328,"body_markdown":"Just wanted to share that this could be surprisingly short implemented in groovy https://stackoverflow.com/a/7737400/1195507","body":"Just wanted to share that this could be surprisingly short implemented in groovy <a href=\"https://stackoverflow.com/a/7737400/1195507\">stackoverflow.com/a/7737400/1195507</a>"}],"answers":[{"tags":[],"owner":{"account_id":5731,"reputation":11859,"user_id":9396,"accept_rate":81,"display_name":"gizmo"},"down_vote_count":8,"up_vote_count":77,"is_accepted":true,"score":69,"last_activity_date":1421076901,"creation_date":1223920643,"answer_id":198442,"question_id":198431,"body_markdown":"Tokenize the strings with the dot as delimiter and then compare the integer translation side by side, beginning from the left.","title":"How do you compare two version Strings in Java?","body":"<p>Tokenize the strings with the dot as delimiter and then compare the integer translation side by side, beginning from the left.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":3,"up_vote_count":55,"is_accepted":false,"score":52,"last_activity_date":1241725801,"creation_date":1241725801,"answer_id":836665,"question_id":198431,"body_markdown":"You need to normalise the version strings so they can be compared. Something like\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Main {\r\n        public static void main(String... args) {\r\n            compare(&quot;1.0&quot;, &quot;1.1&quot;);\r\n            compare(&quot;1.0.1&quot;, &quot;1.1&quot;);\r\n            compare(&quot;1.9&quot;, &quot;1.10&quot;);\r\n            compare(&quot;1.a&quot;, &quot;1.9&quot;);\r\n        }\r\n    \r\n        private static void compare(String v1, String v2) {\r\n            String s1 = normalisedVersion(v1);\r\n            String s2 = normalisedVersion(v2);\r\n            int cmp = s1.compareTo(s2);\r\n            String cmpStr = cmp &lt; 0 ? &quot;&lt;&quot; : cmp &gt; 0 ? &quot;&gt;&quot; : &quot;==&quot;;\r\n            System.out.printf(&quot;&#39;%s&#39; %s &#39;%s&#39;%n&quot;, v1, cmpStr, v2);\r\n        }\r\n    \r\n        public static String normalisedVersion(String version) {\r\n            return normalisedVersion(version, &quot;.&quot;, 4);\r\n        }\r\n    \r\n        public static String normalisedVersion(String version, String sep, int maxWidth) {\r\n            String[] split = Pattern.compile(sep, Pattern.LITERAL).split(version);\r\n            StringBuilder sb = new StringBuilder();\r\n            for (String s : split) {\r\n                sb.append(String.format(&quot;%&quot; + maxWidth + &#39;s&#39;, s));\r\n            }\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nPrints\r\n\r\n&gt;     &#39;1.0&#39; &lt; &#39;1.1&#39;\r\n&gt;     &#39;1.0.1&#39; &lt; &#39;1.1&#39;\r\n&gt;     &#39;1.9&#39; &lt; &#39;1.10&#39;\r\n&gt;     &#39;1.a&#39; &gt; &#39;1.9&#39;\r\n\r\n","title":"How do you compare two version Strings in Java?","body":"<p>You need to normalise the version strings so they can be compared. Something like</p>\n\n<pre><code>import java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String... args) {\n        compare(\"1.0\", \"1.1\");\n        compare(\"1.0.1\", \"1.1\");\n        compare(\"1.9\", \"1.10\");\n        compare(\"1.a\", \"1.9\");\n    }\n\n    private static void compare(String v1, String v2) {\n        String s1 = normalisedVersion(v1);\n        String s2 = normalisedVersion(v2);\n        int cmp = s1.compareTo(s2);\n        String cmpStr = cmp &lt; 0 ? \"&lt;\" : cmp &gt; 0 ? \"&gt;\" : \"==\";\n        System.out.printf(\"'%s' %s '%s'%n\", v1, cmpStr, v2);\n    }\n\n    public static String normalisedVersion(String version) {\n        return normalisedVersion(version, \".\", 4);\n    }\n\n    public static String normalisedVersion(String version, String sep, int maxWidth) {\n        String[] split = Pattern.compile(sep, Pattern.LITERAL).split(version);\n        StringBuilder sb = new StringBuilder();\n        for (String s : split) {\n            sb.append(String.format(\"%\" + maxWidth + 's', s));\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n\n<p>Prints</p>\n\n<blockquote>\n<pre><code>'1.0' &lt; '1.1'\n'1.0.1' &lt; '1.1'\n'1.9' &lt; '1.10'\n'1.a' &gt; '1.9'\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":87435,"reputation":2810,"user_id":242451,"accept_rate":80,"display_name":"Cenk Alti"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1263000814,"creation_date":1263000814,"answer_id":2031954,"question_id":198431,"body_markdown":"    public int compare(String v1, String v2) {\r\n    \t\tv1 = v1.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n    \t\tv2 = v2.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n    \t\tString[] a1 = v1.split(&quot;\\\\.&quot;);\r\n    \t\tString[] a2 = v2.split(&quot;\\\\.&quot;);\r\n    \t\tList&lt;String&gt; l1 = Arrays.asList(a1);\r\n    \t\tList&lt;String&gt; l2 = Arrays.asList(a2);\r\n    \r\n    \r\n    \t\tint i=0;\r\n    \t\twhile(true){\r\n    \t\t\tDouble d1 = null;\r\n    \t\t\tDouble d2 = null;\r\n    \r\n    \t\t\ttry{\r\n    \t\t\t\td1 = Double.parseDouble(l1.get(i));\r\n    \t\t\t}catch(IndexOutOfBoundsException e){\r\n    \t\t\t}\r\n    \r\n    \t\t\ttry{\r\n    \t\t\t\td2 = Double.parseDouble(l2.get(i));\r\n    \t\t\t}catch(IndexOutOfBoundsException e){\r\n    \t\t\t}\r\n    \t\r\n    \t\t\tif (d1 != null &amp;&amp; d2 != null) {\r\n    \t\t\t\tif (d1.doubleValue() &gt; d2.doubleValue()) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t} else if (d1.doubleValue() &lt; d2.doubleValue()) {\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t}\r\n    \t\t\t} else if (d2 == null &amp;&amp; d1 != null) {\r\n    \t\t\t\tif (d1.doubleValue() &gt; 0) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t}\r\n    \t\t\t} else if (d1 == null &amp;&amp; d2 != null) {\r\n    \t\t\t\tif (d2.doubleValue() &gt; 0) {\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}","title":"How do you compare two version Strings in Java?","body":"<pre><code>public int compare(String v1, String v2) {\n        v1 = v1.replaceAll(\"\\\\s\", \"\");\n        v2 = v2.replaceAll(\"\\\\s\", \"\");\n        String[] a1 = v1.split(\"\\\\.\");\n        String[] a2 = v2.split(\"\\\\.\");\n        List&lt;String&gt; l1 = Arrays.asList(a1);\n        List&lt;String&gt; l2 = Arrays.asList(a2);\n\n\n        int i=0;\n        while(true){\n            Double d1 = null;\n            Double d2 = null;\n\n            try{\n                d1 = Double.parseDouble(l1.get(i));\n            }catch(IndexOutOfBoundsException e){\n            }\n\n            try{\n                d2 = Double.parseDouble(l2.get(i));\n            }catch(IndexOutOfBoundsException e){\n            }\n\n            if (d1 != null &amp;&amp; d2 != null) {\n                if (d1.doubleValue() &gt; d2.doubleValue()) {\n                    return 1;\n                } else if (d1.doubleValue() &lt; d2.doubleValue()) {\n                    return -1;\n                }\n            } else if (d2 == null &amp;&amp; d1 != null) {\n                if (d1.doubleValue() &gt; 0) {\n                    return 1;\n                }\n            } else if (d1 == null &amp;&amp; d2 != null) {\n                if (d2.doubleValue() &gt; 0) {\n                    return -1;\n                }\n            } else {\n                break;\n            }\n            i++;\n        }\n        return 0;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93432,"reputation":15645,"user_id":255627,"accept_rate":94,"display_name":"Alex Dean"},"down_vote_count":1,"up_vote_count":121,"is_accepted":false,"score":120,"last_activity_date":1456418426,"creation_date":1310299335,"answer_id":6640972,"question_id":198431,"body_markdown":"It&#39;s really easy using Maven:\r\n\r\n    import org.apache.maven.artifact.versioning.DefaultArtifactVersion;\r\n\r\n    DefaultArtifactVersion minVersion = new DefaultArtifactVersion(&quot;1.0.1&quot;);\r\n    DefaultArtifactVersion maxVersion = new DefaultArtifactVersion(&quot;1.10&quot;);\r\n\r\n    DefaultArtifactVersion version = new DefaultArtifactVersion(&quot;1.11&quot;);\r\n\r\n    if (version.compareTo(minVersion) &lt; 0 || version.compareTo(maxVersion) &gt; 0) {\r\n        System.out.println(&quot;Sorry, your version is unsupported&quot;);\r\n    }\r\n\r\nYou can get the right dependency string for Maven Artifact from [this page][1]:\r\n\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.apache.maven/maven-artifact/3.0.3","title":"How do you compare two version Strings in Java?","body":"<p>It's really easy using Maven:</p>\n\n<pre><code>import org.apache.maven.artifact.versioning.DefaultArtifactVersion;\n\nDefaultArtifactVersion minVersion = new DefaultArtifactVersion(\"1.0.1\");\nDefaultArtifactVersion maxVersion = new DefaultArtifactVersion(\"1.10\");\n\nDefaultArtifactVersion version = new DefaultArtifactVersion(\"1.11\");\n\nif (version.compareTo(minVersion) &lt; 0 || version.compareTo(maxVersion) &gt; 0) {\n    System.out.println(\"Sorry, your version is unsupported\");\n}\n</code></pre>\n\n<p>You can get the right dependency string for Maven Artifact from <a href=\"http://mvnrepository.com/artifact/org.apache.maven/maven-artifact/3.0.3\" rel=\"noreferrer\">this page</a>:</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n&lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\n&lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11564,"reputation":87275,"user_id":22364,"accept_rate":100,"display_name":"Markus Jarderot"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1508508516,"creation_date":1333653375,"answer_id":10034633,"question_id":198431,"body_markdown":"    // VersionComparator.java\r\n    import java.util.Comparator;\r\n\r\n    public class VersionComparator implements Comparator {\r\n\r\n        public boolean equals(Object o1, Object o2) {\r\n            return compare(o1, o2) == 0;\r\n        }\r\n\r\n        public int compare(Object o1, Object o2) {\r\n            String version1 = (String) o1;\r\n            String version2 = (String) o2;\r\n\r\n            VersionTokenizer tokenizer1 = new VersionTokenizer(version1);\r\n            VersionTokenizer tokenizer2 = new VersionTokenizer(version2);\r\n\r\n            int number1 = 0, number2 = 0;\r\n            String suffix1 = &quot;&quot;, suffix2 = &quot;&quot;;\r\n\r\n            while (tokenizer1.MoveNext()) {\r\n                if (!tokenizer2.MoveNext()) {\r\n                    do {\r\n                        number1 = tokenizer1.getNumber();\r\n                        suffix1 = tokenizer1.getSuffix();\r\n                        if (number1 != 0 || suffix1.length() != 0) {\r\n                            // Version one is longer than number two, and non-zero\r\n                            return 1;\r\n                        }\r\n                    }\r\n                    while (tokenizer1.MoveNext());\r\n\r\n                    // Version one is longer than version two, but zero\r\n                    return 0;\r\n                }\r\n\r\n                number1 = tokenizer1.getNumber();\r\n                suffix1 = tokenizer1.getSuffix();\r\n                number2 = tokenizer2.getNumber();\r\n                suffix2 = tokenizer2.getSuffix();\r\n\r\n                if (number1 &lt; number2) {\r\n                    // Number one is less than number two\r\n                    return -1;\r\n                }\r\n                if (number1 &gt; number2) {\r\n                    // Number one is greater than number two\r\n                    return 1;\r\n                }\r\n\r\n                boolean empty1 = suffix1.length() == 0;\r\n                boolean empty2 = suffix2.length() == 0;\r\n\r\n                if (empty1 &amp;&amp; empty2) continue; // No suffixes\r\n                if (empty1) return 1; // First suffix is empty (1.2 &gt; 1.2b)\r\n                if (empty2) return -1; // Second suffix is empty (1.2a &lt; 1.2)\r\n\r\n                // Lexical comparison of suffixes\r\n                int result = suffix1.compareTo(suffix2);\r\n                if (result != 0) return result;\r\n\r\n            }\r\n            if (tokenizer2.MoveNext()) {\r\n                do {\r\n                    number2 = tokenizer2.getNumber();\r\n                    suffix2 = tokenizer2.getSuffix();\r\n                    if (number2 != 0 || suffix2.length() != 0) {\r\n                        // Version one is longer than version two, and non-zero\r\n                        return -1;\r\n                    }\r\n                }\r\n                while (tokenizer2.MoveNext());\r\n\r\n                // Version two is longer than version one, but zero\r\n                return 0;\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    // VersionTokenizer.java\r\n    public class VersionTokenizer {\r\n        private final String _versionString;\r\n        private final int _length;\r\n\r\n        private int _position;\r\n        private int _number;\r\n        private String _suffix;\r\n        private boolean _hasValue;\r\n\r\n        public int getNumber() {\r\n            return _number;\r\n        }\r\n\r\n        public String getSuffix() {\r\n            return _suffix;\r\n        }\r\n\r\n        public boolean hasValue() {\r\n            return _hasValue;\r\n        }\r\n\r\n        public VersionTokenizer(String versionString) {\r\n            if (versionString == null)\r\n                throw new IllegalArgumentException(&quot;versionString is null&quot;);\r\n                \r\n            _versionString = versionString;\r\n            _length = versionString.length();\r\n        }\r\n\r\n        public boolean MoveNext() {\r\n            _number = 0;\r\n            _suffix = &quot;&quot;;\r\n            _hasValue = false;\r\n\r\n            // No more characters\r\n            if (_position &gt;= _length)\r\n                return false;\r\n\r\n            _hasValue = true;\r\n            \r\n            while (_position &lt; _length) {\r\n                char c = _versionString.charAt(_position);\r\n                if (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;) break;\r\n                _number = _number * 10 + (c - &#39;0&#39;);\r\n                _position++;\r\n            }\r\n\r\n            int suffixStart = _position;\r\n\r\n            while (_position &lt; _length) {\r\n                char c = _versionString.charAt(_position);\r\n                if (c == &#39;.&#39;) break;\r\n                _position++;\r\n            }\r\n\r\n            _suffix = _versionString.substring(suffixStart, _position);\r\n            \r\n            if (_position &lt; _length) _position++;\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\n**Example:**\r\n\r\n\r\n    public class Main\r\n    {\r\n        private static VersionComparator cmp;\r\n\r\n        public static void main (String[] args)\r\n        {\r\n            cmp = new VersionComparator();\r\n            Test(new String[]{&quot;1.1.2&quot;, &quot;1.2&quot;, &quot;1.2.0&quot;, &quot;1.2.1&quot;, &quot;1.12&quot;});\r\n            Test(new String[]{&quot;1.3&quot;, &quot;1.3a&quot;, &quot;1.3b&quot;, &quot;1.3-SNAPSHOT&quot;});\r\n        }\r\n\r\n        private static void Test(String[] versions) {\r\n            for (int i = 0; i &lt; versions.length; i++) {\r\n                for (int j = i; j &lt; versions.length; j++) {\r\n                    Test(versions[i], versions[j]);\r\n                }\r\n            }\r\n        }\r\n\r\n        private static void Test(String v1, String v2) {\r\n            int result = cmp.compare(v1, v2);\r\n            String op = &quot;==&quot;;\r\n            if (result &lt; 0) op = &quot;&lt;&quot;;\r\n            if (result &gt; 0) op = &quot;&gt;&quot;;\r\n            System.out.printf(&quot;%s %s %s\\n&quot;, v1, op, v2);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n\r\n    1.1.2 == 1.1.2                ---&gt;  same length and value\r\n    1.1.2 &lt; 1.2                   ---&gt;  first number (1) less than second number (2) =&gt; -1\r\n    1.1.2 &lt; 1.2.0                 ---&gt;  first number (1) less than second number (2) =&gt; -1\r\n    1.1.2 &lt; 1.2.1                 ---&gt;  first number (1) less than second number (2) =&gt; -1\r\n    1.1.2 &lt; 1.12                  ---&gt;  first number (1) less than second number (12) =&gt; -1\r\n    1.2 == 1.2                    ---&gt;  same length and value\r\n    1.2 == 1.2.0                  ---&gt;  first shorter than second, but zero\r\n    1.2 &lt; 1.2.1                   ---&gt;  first shorter than second, and non-zero\r\n    1.2 &lt; 1.12                    ---&gt;  first number (2) less than second number (12) =&gt; -1\r\n    1.2.0 == 1.2.0                ---&gt;  same length and value\r\n    1.2.0 &lt; 1.2.1                 ---&gt;  first number (0) less than second number (1) =&gt; -1\r\n    1.2.0 &lt; 1.12                  ---&gt;  first number (2) less than second number (12) =&gt; -1\r\n    1.2.1 == 1.2.1                ---&gt;  same length and value\r\n    1.2.1 &lt; 1.12                  ---&gt;  first number (2) less than second number (12) =&gt; -1\r\n    1.12 == 1.12                  ---&gt;  same length and value\r\n\r\n    1.3 == 1.3                    ---&gt;  same length and value\r\n    1.3 &gt; 1.3a                    ---&gt;  first suffix (&#39;&#39;) is empty, but not second (&#39;a&#39;) =&gt; 1\r\n    1.3 &gt; 1.3b                    ---&gt;  first suffix (&#39;&#39;) is empty, but not second (&#39;b&#39;) =&gt; 1\r\n    1.3 &gt; 1.3-SNAPSHOT            ---&gt;  first suffix (&#39;&#39;) is empty, but not second (&#39;-SNAPSHOT&#39;) =&gt; 1\r\n    1.3a == 1.3a                  ---&gt;  same length and value\r\n    1.3a &lt; 1.3b                   ---&gt;  first suffix (&#39;a&#39;) compared to second suffix (&#39;b&#39;) =&gt; -1\r\n    1.3a &lt; 1.3-SNAPSHOT           ---&gt;  first suffix (&#39;a&#39;) compared to second suffix (&#39;-SNAPSHOT&#39;) =&gt; -1\r\n    1.3b == 1.3b                  ---&gt;  same length and value\r\n    1.3b &lt; 1.3-SNAPSHOT           ---&gt;  first suffix (&#39;b&#39;) compared to second suffix (&#39;-SNAPSHOT&#39;) =&gt; -1\r\n    1.3-SNAPSHOT == 1.3-SNAPSHOT  ---&gt;  same length and value\r\n","title":"How do you compare two version Strings in Java?","body":"<pre><code>// VersionComparator.java\nimport java.util.Comparator;\n\npublic class VersionComparator implements Comparator {\n\n    public boolean equals(Object o1, Object o2) {\n        return compare(o1, o2) == 0;\n    }\n\n    public int compare(Object o1, Object o2) {\n        String version1 = (String) o1;\n        String version2 = (String) o2;\n\n        VersionTokenizer tokenizer1 = new VersionTokenizer(version1);\n        VersionTokenizer tokenizer2 = new VersionTokenizer(version2);\n\n        int number1 = 0, number2 = 0;\n        String suffix1 = \"\", suffix2 = \"\";\n\n        while (tokenizer1.MoveNext()) {\n            if (!tokenizer2.MoveNext()) {\n                do {\n                    number1 = tokenizer1.getNumber();\n                    suffix1 = tokenizer1.getSuffix();\n                    if (number1 != 0 || suffix1.length() != 0) {\n                        // Version one is longer than number two, and non-zero\n                        return 1;\n                    }\n                }\n                while (tokenizer1.MoveNext());\n\n                // Version one is longer than version two, but zero\n                return 0;\n            }\n\n            number1 = tokenizer1.getNumber();\n            suffix1 = tokenizer1.getSuffix();\n            number2 = tokenizer2.getNumber();\n            suffix2 = tokenizer2.getSuffix();\n\n            if (number1 &lt; number2) {\n                // Number one is less than number two\n                return -1;\n            }\n            if (number1 &gt; number2) {\n                // Number one is greater than number two\n                return 1;\n            }\n\n            boolean empty1 = suffix1.length() == 0;\n            boolean empty2 = suffix2.length() == 0;\n\n            if (empty1 &amp;&amp; empty2) continue; // No suffixes\n            if (empty1) return 1; // First suffix is empty (1.2 &gt; 1.2b)\n            if (empty2) return -1; // Second suffix is empty (1.2a &lt; 1.2)\n\n            // Lexical comparison of suffixes\n            int result = suffix1.compareTo(suffix2);\n            if (result != 0) return result;\n\n        }\n        if (tokenizer2.MoveNext()) {\n            do {\n                number2 = tokenizer2.getNumber();\n                suffix2 = tokenizer2.getSuffix();\n                if (number2 != 0 || suffix2.length() != 0) {\n                    // Version one is longer than version two, and non-zero\n                    return -1;\n                }\n            }\n            while (tokenizer2.MoveNext());\n\n            // Version two is longer than version one, but zero\n            return 0;\n        }\n        return 0;\n    }\n}\n\n// VersionTokenizer.java\npublic class VersionTokenizer {\n    private final String _versionString;\n    private final int _length;\n\n    private int _position;\n    private int _number;\n    private String _suffix;\n    private boolean _hasValue;\n\n    public int getNumber() {\n        return _number;\n    }\n\n    public String getSuffix() {\n        return _suffix;\n    }\n\n    public boolean hasValue() {\n        return _hasValue;\n    }\n\n    public VersionTokenizer(String versionString) {\n        if (versionString == null)\n            throw new IllegalArgumentException(\"versionString is null\");\n\n        _versionString = versionString;\n        _length = versionString.length();\n    }\n\n    public boolean MoveNext() {\n        _number = 0;\n        _suffix = \"\";\n        _hasValue = false;\n\n        // No more characters\n        if (_position &gt;= _length)\n            return false;\n\n        _hasValue = true;\n\n        while (_position &lt; _length) {\n            char c = _versionString.charAt(_position);\n            if (c &lt; '0' || c &gt; '9') break;\n            _number = _number * 10 + (c - '0');\n            _position++;\n        }\n\n        int suffixStart = _position;\n\n        while (_position &lt; _length) {\n            char c = _versionString.charAt(_position);\n            if (c == '.') break;\n            _position++;\n        }\n\n        _suffix = _versionString.substring(suffixStart, _position);\n\n        if (_position &lt; _length) _position++;\n\n        return true;\n    }\n}\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>public class Main\n{\n    private static VersionComparator cmp;\n\n    public static void main (String[] args)\n    {\n        cmp = new VersionComparator();\n        Test(new String[]{\"1.1.2\", \"1.2\", \"1.2.0\", \"1.2.1\", \"1.12\"});\n        Test(new String[]{\"1.3\", \"1.3a\", \"1.3b\", \"1.3-SNAPSHOT\"});\n    }\n\n    private static void Test(String[] versions) {\n        for (int i = 0; i &lt; versions.length; i++) {\n            for (int j = i; j &lt; versions.length; j++) {\n                Test(versions[i], versions[j]);\n            }\n        }\n    }\n\n    private static void Test(String v1, String v2) {\n        int result = cmp.compare(v1, v2);\n        String op = \"==\";\n        if (result &lt; 0) op = \"&lt;\";\n        if (result &gt; 0) op = \"&gt;\";\n        System.out.printf(\"%s %s %s\\n\", v1, op, v2);\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1.1.2 == 1.1.2                ---&gt;  same length and value\n1.1.2 &lt; 1.2                   ---&gt;  first number (1) less than second number (2) =&gt; -1\n1.1.2 &lt; 1.2.0                 ---&gt;  first number (1) less than second number (2) =&gt; -1\n1.1.2 &lt; 1.2.1                 ---&gt;  first number (1) less than second number (2) =&gt; -1\n1.1.2 &lt; 1.12                  ---&gt;  first number (1) less than second number (12) =&gt; -1\n1.2 == 1.2                    ---&gt;  same length and value\n1.2 == 1.2.0                  ---&gt;  first shorter than second, but zero\n1.2 &lt; 1.2.1                   ---&gt;  first shorter than second, and non-zero\n1.2 &lt; 1.12                    ---&gt;  first number (2) less than second number (12) =&gt; -1\n1.2.0 == 1.2.0                ---&gt;  same length and value\n1.2.0 &lt; 1.2.1                 ---&gt;  first number (0) less than second number (1) =&gt; -1\n1.2.0 &lt; 1.12                  ---&gt;  first number (2) less than second number (12) =&gt; -1\n1.2.1 == 1.2.1                ---&gt;  same length and value\n1.2.1 &lt; 1.12                  ---&gt;  first number (2) less than second number (12) =&gt; -1\n1.12 == 1.12                  ---&gt;  same length and value\n\n1.3 == 1.3                    ---&gt;  same length and value\n1.3 &gt; 1.3a                    ---&gt;  first suffix ('') is empty, but not second ('a') =&gt; 1\n1.3 &gt; 1.3b                    ---&gt;  first suffix ('') is empty, but not second ('b') =&gt; 1\n1.3 &gt; 1.3-SNAPSHOT            ---&gt;  first suffix ('') is empty, but not second ('-SNAPSHOT') =&gt; 1\n1.3a == 1.3a                  ---&gt;  same length and value\n1.3a &lt; 1.3b                   ---&gt;  first suffix ('a') compared to second suffix ('b') =&gt; -1\n1.3a &lt; 1.3-SNAPSHOT           ---&gt;  first suffix ('a') compared to second suffix ('-SNAPSHOT') =&gt; -1\n1.3b == 1.3b                  ---&gt;  same length and value\n1.3b &lt; 1.3-SNAPSHOT           ---&gt;  first suffix ('b') compared to second suffix ('-SNAPSHOT') =&gt; -1\n1.3-SNAPSHOT == 1.3-SNAPSHOT  ---&gt;  same length and value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1553821,"reputation":5681,"user_id":1445568,"accept_rate":83,"display_name":"alex"},"down_vote_count":2,"up_vote_count":214,"is_accepted":false,"score":212,"last_activity_date":1459012567,"creation_date":1339626305,"answer_id":11024200,"question_id":198431,"body_markdown":"Another solution for this old post (for those that it might help) :\r\n\r\n    public class Version implements Comparable&lt;Version&gt; {\r\n    \t\r\n    \tprivate String version;\r\n    \t\r\n    \tpublic final String get() {\r\n    \t\treturn this.version;\r\n    \t}\r\n    \t\r\n    \tpublic Version(String version) {\r\n    \t\tif(version == null)\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Version can not be null&quot;);\r\n    \t\tif(!version.matches(&quot;[0-9]+(\\\\.[0-9]+)*&quot;))\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid version format&quot;);\r\n    \t\tthis.version = version;\r\n    \t}\r\n    \t\r\n    \t@Override public int compareTo(Version that) {\r\n    \t\tif(that == null)\r\n    \t\t\treturn 1;\r\n    \t\tString[] thisParts = this.get().split(&quot;\\\\.&quot;);\r\n    \t\tString[] thatParts = that.get().split(&quot;\\\\.&quot;);\r\n    \t\tint length = Math.max(thisParts.length, thatParts.length);\r\n    \t\tfor(int i = 0; i &lt; length; i++) {\r\n    \t\t\tint thisPart = i &lt; thisParts.length ?\r\n    \t\t\t\tInteger.parseInt(thisParts[i]) : 0;\r\n    \t\t\tint thatPart = i &lt; thatParts.length ?\r\n    \t\t\t\tInteger.parseInt(thatParts[i]) : 0;\r\n    \t\t\tif(thisPart &lt; thatPart)\r\n    \t\t\t\treturn -1;\r\n    \t\t\tif(thisPart &gt; thatPart)\r\n    \t\t\t\treturn 1;\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}\r\n    \t\r\n    \t@Override public boolean equals(Object that) {\r\n    \t\tif(this == that)\r\n    \t\t\treturn true;\r\n    \t\tif(that == null)\r\n    \t\t\treturn false;\r\n    \t\tif(this.getClass() != that.getClass())\r\n    \t\t\treturn false;\r\n    \t\treturn this.compareTo((Version) that) == 0;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n----------\r\n\r\n    Version a = new Version(&quot;1.1&quot;);\r\n    Version b = new Version(&quot;1.1.1&quot;);\r\n    a.compareTo(b) // return -1 (a&lt;b)\r\n    a.equals(b)    // return false\r\n    \r\n    Version a = new Version(&quot;2.0&quot;);\r\n    Version b = new Version(&quot;1.9.9&quot;);\r\n    a.compareTo(b) // return 1 (a&gt;b)\r\n    a.equals(b)    // return false\r\n    \r\n    Version a = new Version(&quot;1.0&quot;);\r\n    Version b = new Version(&quot;1&quot;);\r\n    a.compareTo(b) // return 0 (a=b)\r\n    a.equals(b)    // return true\r\n    \r\n    Version a = new Version(&quot;1&quot;);\r\n    Version b = null;\r\n    a.compareTo(b) // return 1 (a&gt;b)\r\n    a.equals(b)    // return false\r\n    \r\n    List&lt;Version&gt; versions = new ArrayList&lt;Version&gt;();\r\n    versions.add(new Version(&quot;2&quot;));\r\n    versions.add(new Version(&quot;1.0.5&quot;));\r\n    versions.add(new Version(&quot;1.01.0&quot;));\r\n    versions.add(new Version(&quot;1.00.1&quot;));\r\n    Collections.min(versions).get() // return min version\r\n    Collections.max(versions).get() // return max version\r\n    \r\n    // WARNING\r\n    Version a = new Version(&quot;2.06&quot;);\r\n    Version b = new Version(&quot;2.060&quot;);\r\n    a.equals(b)    // return false\r\n\r\n----------\r\n\r\nEdit:\r\n\r\n@daiscog: Thank you for your remark, this piece of code has been developed for the Android platform and as recommended by Google, the method &quot;matches&quot; check the entire string unlike Java that uses a regulatory pattern. ([Android documentation][1] - [JAVA documentation][2])\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/lang/String.html#matches%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#matches%28java.lang.String%29","title":"How do you compare two version Strings in Java?","body":"<p>Another solution for this old post (for those that it might help) :</p>\n\n<pre><code>public class Version implements Comparable&lt;Version&gt; {\n\n    private String version;\n\n    public final String get() {\n        return this.version;\n    }\n\n    public Version(String version) {\n        if(version == null)\n            throw new IllegalArgumentException(\"Version can not be null\");\n        if(!version.matches(\"[0-9]+(\\\\.[0-9]+)*\"))\n            throw new IllegalArgumentException(\"Invalid version format\");\n        this.version = version;\n    }\n\n    @Override public int compareTo(Version that) {\n        if(that == null)\n            return 1;\n        String[] thisParts = this.get().split(\"\\\\.\");\n        String[] thatParts = that.get().split(\"\\\\.\");\n        int length = Math.max(thisParts.length, thatParts.length);\n        for(int i = 0; i &lt; length; i++) {\n            int thisPart = i &lt; thisParts.length ?\n                Integer.parseInt(thisParts[i]) : 0;\n            int thatPart = i &lt; thatParts.length ?\n                Integer.parseInt(thatParts[i]) : 0;\n            if(thisPart &lt; thatPart)\n                return -1;\n            if(thisPart &gt; thatPart)\n                return 1;\n        }\n        return 0;\n    }\n\n    @Override public boolean equals(Object that) {\n        if(this == that)\n            return true;\n        if(that == null)\n            return false;\n        if(this.getClass() != that.getClass())\n            return false;\n        return this.compareTo((Version) that) == 0;\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>Version a = new Version(\"1.1\");\nVersion b = new Version(\"1.1.1\");\na.compareTo(b) // return -1 (a&lt;b)\na.equals(b)    // return false\n\nVersion a = new Version(\"2.0\");\nVersion b = new Version(\"1.9.9\");\na.compareTo(b) // return 1 (a&gt;b)\na.equals(b)    // return false\n\nVersion a = new Version(\"1.0\");\nVersion b = new Version(\"1\");\na.compareTo(b) // return 0 (a=b)\na.equals(b)    // return true\n\nVersion a = new Version(\"1\");\nVersion b = null;\na.compareTo(b) // return 1 (a&gt;b)\na.equals(b)    // return false\n\nList&lt;Version&gt; versions = new ArrayList&lt;Version&gt;();\nversions.add(new Version(\"2\"));\nversions.add(new Version(\"1.0.5\"));\nversions.add(new Version(\"1.01.0\"));\nversions.add(new Version(\"1.00.1\"));\nCollections.min(versions).get() // return min version\nCollections.max(versions).get() // return max version\n\n// WARNING\nVersion a = new Version(\"2.06\");\nVersion b = new Version(\"2.060\");\na.equals(b)    // return false\n</code></pre>\n\n<hr>\n\n<p>Edit:</p>\n\n<p>@daiscog: Thank you for your remark, this piece of code has been developed for the Android platform and as recommended by Google, the method \"matches\" check the entire string unlike Java that uses a regulatory pattern. (<a href=\"http://developer.android.com/reference/java/lang/String.html#matches%28java.lang.String%29\">Android documentation</a> - <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#matches%28java.lang.String%29\">JAVA documentation</a>)</p>\n"},{"tags":[],"owner":{"account_id":350565,"reputation":7641,"user_id":686540,"accept_rate":100,"display_name":"petrnohejl"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1488568145,"creation_date":1359490541,"answer_id":14591442,"question_id":198431,"body_markdown":"I created simple [**utility for comparing versions**][1] on **Android platform** using [**Semantic Versioning**][2] convention. So it works only for strings in format X.Y.Z (Major.Minor.Patch) where X, Y, and Z are non-negative integers. You can find it on my [GitHub][1].\r\n\r\nMethod *Version.compareVersions(String v1, String v2)* compares two version strings. It returns 0 if the versions are equal, 1 if version v1 is before version v2, -1 if version v1 is after version v2, -2 if version format is invalid.\r\n\r\n\r\n  [1]: https://github.com/petrnohejl/Alfonz/blob/master/alfonz-utility/src/main/java/org/alfonz/utility/VersionUtility.java\r\n  [2]: http://semver.org/","title":"How do you compare two version Strings in Java?","body":"<p>I created simple <a href=\"https://github.com/petrnohejl/Alfonz/blob/master/alfonz-utility/src/main/java/org/alfonz/utility/VersionUtility.java\" rel=\"nofollow noreferrer\"><strong>utility for comparing versions</strong></a> on <strong>Android platform</strong> using <a href=\"http://semver.org/\" rel=\"nofollow noreferrer\"><strong>Semantic Versioning</strong></a> convention. So it works only for strings in format X.Y.Z (Major.Minor.Patch) where X, Y, and Z are non-negative integers. You can find it on my <a href=\"https://github.com/petrnohejl/Alfonz/blob/master/alfonz-utility/src/main/java/org/alfonz/utility/VersionUtility.java\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n\n<p>Method <em>Version.compareVersions(String v1, String v2)</em> compares two version strings. It returns 0 if the versions are equal, 1 if version v1 is before version v2, -1 if version v1 is after version v2, -2 if version format is invalid.</p>\n"},{"tags":[],"owner":{"account_id":3195620,"reputation":656,"user_id":2698854,"display_name":"Ryszard Perkowski"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1415138116,"creation_date":1415138116,"answer_id":26745775,"question_id":198431,"body_markdown":"The best to reuse existing code,\r\ntake [Maven&#39;s ComparableVersion class][1]\r\n\r\nadvantages:\r\n\r\n  - Apache License, Version 2.0, \r\n  - tested, \r\n  - used (copied) in multiple projects like spring-security-core, jboss etc\r\n  - multiple [features][2]\r\n  - it&#39;s already a java.lang.Comparable\r\n  - just copy-paste that one class, no third-party dependencies\r\n  \r\nDon&#39;t include dependency to maven-artifact as that will pull various transitive dependencies\r\n\r\n  [1]: http://grepcode.com/file_/repo1.maven.org/maven2/org.apache.maven/maven-artifact/3.2.3/org/apache/maven/artifact/versioning/ComparableVersion.java/?v=source\r\n  [2]: https://maven.apache.org/ref/3.0.4/maven-artifact/apidocs/org/apache/maven/artifact/versioning/ComparableVersion.html\r\n ","title":"How do you compare two version Strings in Java?","body":"<p>The best to reuse existing code,\ntake <a href=\"http://grepcode.com/file_/repo1.maven.org/maven2/org.apache.maven/maven-artifact/3.2.3/org/apache/maven/artifact/versioning/ComparableVersion.java/?v=source\">Maven's ComparableVersion class</a></p>\n\n<p>advantages:</p>\n\n<ul>\n<li>Apache License, Version 2.0, </li>\n<li>tested, </li>\n<li>used (copied) in multiple projects like spring-security-core, jboss etc</li>\n<li>multiple <a href=\"https://maven.apache.org/ref/3.0.4/maven-artifact/apidocs/org/apache/maven/artifact/versioning/ComparableVersion.html\">features</a></li>\n<li>it's already a java.lang.Comparable</li>\n<li>just copy-paste that one class, no third-party dependencies</li>\n</ul>\n\n<p>Don't include dependency to maven-artifact as that will pull various transitive dependencies</p>\n"},{"tags":[],"owner":{"account_id":5383712,"reputation":37,"user_id":4288292,"display_name":"sfrizvi6"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1416846925,"creation_date":1416845714,"answer_id":27109234,"question_id":198431,"body_markdown":"    public class VersionComparator {\r\n    \r\n    \t/* loop through both version strings\r\n    \t * then loop through the inner string to computer the val of the int\r\n    \t * for each integer read, do num*10+&lt;integer read&gt;\r\n    \t * and stop when stumbling upon &#39;.&#39;\r\n    \t * When &#39;.&#39; is encountered...\r\n    \t * see if &#39;.&#39; is encountered for both strings\r\n    \t * if it is then compare num1 and num2 \r\n    \t * if num1 == num2... iterate over p1++, p2++\r\n    \t * else return (num1 &gt; num2) ? 1 : -1\r\n    \t * If both the string end then compare(num1, num2) return 0, 1, -1\r\n    \t * else loop through the longer string and \r\n    \t * verify if it only has trailing zeros\r\n    \t * If it only has trailing zeros then return 0\r\n    \t * else it is greater than the other string\r\n    \t */\r\n    \tpublic static int compareVersions(String v1, String v2) {\r\n    \t\tint num1 = 0;\r\n    \t\tint num2 = 0;\r\n    \t\tint p1 = 0;\r\n    \t\tint p2 = 0;\r\n    \r\n    \t\twhile (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length()) {\r\n    \t\t\tnum1 = Integer.parseInt(v1.charAt(p1) + &quot;&quot;);\r\n    \t\t\tnum2 = Integer.parseInt(v2.charAt(p2) + &quot;&quot;);\r\n    \t\t\tp1++;\r\n    \t\t\tp2++;\r\n    \r\n    \t\t\twhile (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length() &amp;&amp; v1.charAt(p1) != &#39;.&#39; &amp;&amp; v2.charAt(p2) != &#39;.&#39;) {\r\n    \t\t\t\tif (p1 &lt; v1.length()) num1 = num1 * 10 + Integer.parseInt(v1.charAt(p1) + &quot;&quot;);\r\n    \t\t\t\tif (p2 &lt; v2.length()) num2 = num2 * 10 + Integer.parseInt(v2.charAt(p2) + &quot;&quot;);\r\n    \t\t\t\tp1++;\r\n    \t\t\t\tp2++;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length() &amp;&amp; v1.charAt(p1) == &#39;.&#39; &amp;&amp; v2.charAt(p2) == &#39;.&#39;) {\r\n    \t\t\t\tif ((num1 ^ num2) == 0) {\r\n    \t\t\t\t\tp1++;\r\n    \t\t\t\t\tp2++;\r\n    \t\t\t\t}\r\n    \t\t\t\telse return (num1 &gt; num2) ? 1 : -1;\r\n    \t\t\t}\r\n    \t\t\telse if (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length() &amp;&amp; v1.charAt(p1) == &#39;.&#39;) return -1;\r\n    \t\t\telse if (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length() &amp;&amp; v2.charAt(p2) == &#39;.&#39;) return 1;\r\n    \t\t}\r\n    \r\n    \t\tif (p1 == v1.length() &amp;&amp; p2 == v2.length()) {\r\n    \t\t\tif ((num1 ^ num2) == 0) return 0;\r\n    \t\t\telse return (num1 &gt; num2) ? 1 : -1;\r\n    \t\t}\r\n    \t\telse if (p1 == v1.length()) {\r\n    \t\t\tif ((num1 ^ num2) == 0) {\r\n    \t\t\t\twhile (p2 &lt; v2.length()) {\r\n    \t\t\t\t\tif (v2.charAt(p2) != &#39;.&#39; &amp;&amp; v2.charAt(p2) != &#39;0&#39;) return -1;\r\n    \t\t\t\t\tp2++;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn 0;\r\n    \t\t\t}\r\n    \t\t\telse return (num1 &gt; num2) ? 1 : -1;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tif ((num1 ^ num2) == 0) {\r\n    \t\t\t\twhile (p1 &lt; v1.length()) {\r\n    \t\t\t\t\tif (v1.charAt(p1) != &#39;.&#39; &amp;&amp; v1.charAt(p1) != &#39;0&#39;) return 1;\r\n    \t\t\t\t\tp1++;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn 0;\r\n    \t\t\t}\r\n    \t\t\telse return (num1 &gt; num2) ? 1 : -1;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(compareVersions(&quot;11.23&quot;, &quot;11.21.1.0.0.1.0&quot;) ^ 1);\r\n    \t\tSystem.out.println(compareVersions(&quot;11.21.1.0.0.1.0&quot;, &quot;11.23&quot;) ^ -1);\r\n    \t\tSystem.out.println(compareVersions(&quot;11.23&quot;, &quot;11.23.0.0.0.1.0&quot;) ^ -1);\r\n    \t\tSystem.out.println(compareVersions(&quot;11.2&quot;, &quot;11.23&quot;) ^ -1);\r\n    \t\tSystem.out.println(compareVersions(&quot;11.23&quot;, &quot;11.21.1.0.0.1.0&quot;) ^ 1);\r\n    \t\tSystem.out.println(compareVersions(&quot;1.21.1.0.0.1.0&quot;, &quot;2.23&quot;) ^ -1);\r\n    \t\tSystem.out.println(compareVersions(&quot;11.23&quot;, &quot;11.21.1.0.0.1.0&quot;) ^ 1);\r\n    \t\tSystem.out.println(compareVersions(&quot;11.23.0.0.0.0.0&quot;, &quot;11.23&quot;) ^ 0);\r\n    \t\tSystem.out.println(compareVersions(&quot;11.23&quot;, &quot;11.21.1.0.0.1.0&quot;) ^ 1);\r\n    \t\tSystem.out.println(compareVersions(&quot;1.5.1.3&quot;, &quot;1.5.1.3.0&quot;) ^ 0);\r\n    \t\tSystem.out.println(compareVersions(&quot;1.5.1.4&quot;, &quot;1.5.1.3.0&quot;) ^ 1);\r\n    \t\tSystem.out.println(compareVersions(&quot;1.2.1.3&quot;, &quot;1.5.1.3.0&quot;) ^ -1);\r\n    \t\tSystem.out.println(compareVersions(&quot;1.2.1.3&quot;, &quot;1.22.1.3.0&quot;) ^ -1);\r\n    \t\tSystem.out.println(compareVersions(&quot;1.222.1.3&quot;, &quot;1.22.1.3.0&quot;) ^ 1);\r\n    \t}\r\n    }\r\n\r\n","title":"How do you compare two version Strings in Java?","body":"<pre><code>public class VersionComparator {\n\n    /* loop through both version strings\n     * then loop through the inner string to computer the val of the int\n     * for each integer read, do num*10+&lt;integer read&gt;\n     * and stop when stumbling upon '.'\n     * When '.' is encountered...\n     * see if '.' is encountered for both strings\n     * if it is then compare num1 and num2 \n     * if num1 == num2... iterate over p1++, p2++\n     * else return (num1 &gt; num2) ? 1 : -1\n     * If both the string end then compare(num1, num2) return 0, 1, -1\n     * else loop through the longer string and \n     * verify if it only has trailing zeros\n     * If it only has trailing zeros then return 0\n     * else it is greater than the other string\n     */\n    public static int compareVersions(String v1, String v2) {\n        int num1 = 0;\n        int num2 = 0;\n        int p1 = 0;\n        int p2 = 0;\n\n        while (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length()) {\n            num1 = Integer.parseInt(v1.charAt(p1) + \"\");\n            num2 = Integer.parseInt(v2.charAt(p2) + \"\");\n            p1++;\n            p2++;\n\n            while (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length() &amp;&amp; v1.charAt(p1) != '.' &amp;&amp; v2.charAt(p2) != '.') {\n                if (p1 &lt; v1.length()) num1 = num1 * 10 + Integer.parseInt(v1.charAt(p1) + \"\");\n                if (p2 &lt; v2.length()) num2 = num2 * 10 + Integer.parseInt(v2.charAt(p2) + \"\");\n                p1++;\n                p2++;\n            }\n\n            if (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length() &amp;&amp; v1.charAt(p1) == '.' &amp;&amp; v2.charAt(p2) == '.') {\n                if ((num1 ^ num2) == 0) {\n                    p1++;\n                    p2++;\n                }\n                else return (num1 &gt; num2) ? 1 : -1;\n            }\n            else if (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length() &amp;&amp; v1.charAt(p1) == '.') return -1;\n            else if (p1 &lt; v1.length() &amp;&amp; p2 &lt; v2.length() &amp;&amp; v2.charAt(p2) == '.') return 1;\n        }\n\n        if (p1 == v1.length() &amp;&amp; p2 == v2.length()) {\n            if ((num1 ^ num2) == 0) return 0;\n            else return (num1 &gt; num2) ? 1 : -1;\n        }\n        else if (p1 == v1.length()) {\n            if ((num1 ^ num2) == 0) {\n                while (p2 &lt; v2.length()) {\n                    if (v2.charAt(p2) != '.' &amp;&amp; v2.charAt(p2) != '0') return -1;\n                    p2++;\n                }\n                return 0;\n            }\n            else return (num1 &gt; num2) ? 1 : -1;\n        }\n        else {\n            if ((num1 ^ num2) == 0) {\n                while (p1 &lt; v1.length()) {\n                    if (v1.charAt(p1) != '.' &amp;&amp; v1.charAt(p1) != '0') return 1;\n                    p1++;\n                }\n                return 0;\n            }\n            else return (num1 &gt; num2) ? 1 : -1;\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(compareVersions(\"11.23\", \"11.21.1.0.0.1.0\") ^ 1);\n        System.out.println(compareVersions(\"11.21.1.0.0.1.0\", \"11.23\") ^ -1);\n        System.out.println(compareVersions(\"11.23\", \"11.23.0.0.0.1.0\") ^ -1);\n        System.out.println(compareVersions(\"11.2\", \"11.23\") ^ -1);\n        System.out.println(compareVersions(\"11.23\", \"11.21.1.0.0.1.0\") ^ 1);\n        System.out.println(compareVersions(\"1.21.1.0.0.1.0\", \"2.23\") ^ -1);\n        System.out.println(compareVersions(\"11.23\", \"11.21.1.0.0.1.0\") ^ 1);\n        System.out.println(compareVersions(\"11.23.0.0.0.0.0\", \"11.23\") ^ 0);\n        System.out.println(compareVersions(\"11.23\", \"11.21.1.0.0.1.0\") ^ 1);\n        System.out.println(compareVersions(\"1.5.1.3\", \"1.5.1.3.0\") ^ 0);\n        System.out.println(compareVersions(\"1.5.1.4\", \"1.5.1.3.0\") ^ 1);\n        System.out.println(compareVersions(\"1.2.1.3\", \"1.5.1.3.0\") ^ -1);\n        System.out.println(compareVersions(\"1.2.1.3\", \"1.22.1.3.0\") ^ -1);\n        System.out.println(compareVersions(\"1.222.1.3\", \"1.22.1.3.0\") ^ 1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1137492,"reputation":1822,"user_id":1122229,"accept_rate":56,"display_name":"Algorithmatic"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1453301490,"creation_date":1421008301,"answer_id":27891752,"question_id":198431,"body_markdown":"    public static int compareVersions(String version1, String version2){\r\n\t    \r\n    \tString[] levels1 = version1.split(&quot;\\\\.&quot;);\r\n\t\tString[] levels2 = version2.split(&quot;\\\\.&quot;);\r\n\t\t\r\n\t\tint length = Math.max(levels1.length, levels2.length);\r\n\t\tfor (int i = 0; i &lt; length; i++){\r\n\t\t\tInteger v1 = i &lt; levels1.length ? Integer.parseInt(levels1[i]) : 0;\r\n\t\t\tInteger v2 = i &lt; levels2.length ? Integer.parseInt(levels2[i]) : 0;\r\n\t\t\tint compare = v1.compareTo(v2);\r\n\t\t\tif (compare != 0){\r\n\t\t\t\treturn compare;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn 0;\r\n\t}","title":"How do you compare two version Strings in Java?","body":"<pre><code>public static int compareVersions(String version1, String version2){\n\n    String[] levels1 = version1.split(\"\\\\.\");\n    String[] levels2 = version2.split(\"\\\\.\");\n\n    int length = Math.max(levels1.length, levels2.length);\n    for (int i = 0; i &lt; length; i++){\n        Integer v1 = i &lt; levels1.length ? Integer.parseInt(levels1[i]) : 0;\n        Integer v2 = i &lt; levels2.length ? Integer.parseInt(levels2[i]) : 0;\n        int compare = v1.compareTo(v2);\n        if (compare != 0){\n            return compare;\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199829,"reputation":700,"user_id":445360,"display_name":"ballzak"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1435518468,"creation_date":1435518468,"answer_id":31103694,"question_id":198431,"body_markdown":"Here&#39;s an optimized implementation:\r\n\r\n    public static final Comparator&lt;CharSequence&gt; VERSION_ORDER = new Comparator&lt;CharSequence&gt;() {\r\n\r\n      @Override\r\n      public int compare (CharSequence lhs, CharSequence rhs) {\r\n        int ll = lhs.length(), rl = rhs.length(), lv = 0, rv = 0, li = 0, ri = 0;\r\n        char c;\r\n        do {\r\n          lv = rv = 0;\r\n          while (--ll &gt;= 0) {\r\n            c = lhs.charAt(li++);\r\n            if (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;)\r\n              break;\r\n            lv = lv*10 + c - &#39;0&#39;;\r\n          }\r\n          while (--rl &gt;= 0) {\r\n            c = rhs.charAt(ri++);\r\n            if (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;)\r\n              break;\r\n            rv = rv*10 + c - &#39;0&#39;;\r\n          }\r\n        } while (lv == rv &amp;&amp; (ll &gt;= 0 || rl &gt;= 0));\r\n        return lv - rv;\r\n      }\r\n\r\n    };\r\n\r\nResult:\r\n\r\n    &quot;0.1&quot; - &quot;1.0&quot; = -1\r\n    &quot;1.0&quot; - &quot;1.0&quot; = 0\r\n    &quot;1.0&quot; - &quot;1.0.0&quot; = 0\r\n    &quot;10&quot; - &quot;1.0&quot; = 9\r\n    &quot;3.7.6&quot; - &quot;3.7.11&quot; = -5\r\n    &quot;foobar&quot; - &quot;1.0&quot; = -1\r\n","title":"How do you compare two version Strings in Java?","body":"<p>Here's an optimized implementation:</p>\n\n<pre><code>public static final Comparator&lt;CharSequence&gt; VERSION_ORDER = new Comparator&lt;CharSequence&gt;() {\n\n  @Override\n  public int compare (CharSequence lhs, CharSequence rhs) {\n    int ll = lhs.length(), rl = rhs.length(), lv = 0, rv = 0, li = 0, ri = 0;\n    char c;\n    do {\n      lv = rv = 0;\n      while (--ll &gt;= 0) {\n        c = lhs.charAt(li++);\n        if (c &lt; '0' || c &gt; '9')\n          break;\n        lv = lv*10 + c - '0';\n      }\n      while (--rl &gt;= 0) {\n        c = rhs.charAt(ri++);\n        if (c &lt; '0' || c &gt; '9')\n          break;\n        rv = rv*10 + c - '0';\n      }\n    } while (lv == rv &amp;&amp; (ll &gt;= 0 || rl &gt;= 0));\n    return lv - rv;\n  }\n\n};\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>\"0.1\" - \"1.0\" = -1\n\"1.0\" - \"1.0\" = 0\n\"1.0\" - \"1.0.0\" = 0\n\"10\" - \"1.0\" = 9\n\"3.7.6\" - \"3.7.11\" = -5\n\"foobar\" - \"1.0\" = -1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1398031,"reputation":1577,"user_id":1327403,"display_name":"gorums"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1459873622,"creation_date":1459873622,"answer_id":36431997,"question_id":198431,"body_markdown":"This code try to resolve this type of comparison versions.\r\n\r\n&gt; Most of the version specifiers, like &gt;= 1.0, are self-explanatory. The\r\n&gt; specifier ~&gt; has a special meaning, best shown by example. ~&gt; 2.0.3 is\r\n&gt; identical to &gt;= 2.0.3 and &lt; 2.1. ~&gt; 2.1 is identical to &gt;= 2.1 and &lt;\r\n&gt; 3.0.\r\n\r\n    public static boolean apply(String cmpDeviceVersion, String reqDeviceVersion)\r\n    {\r\n        Boolean equal           = !cmpDeviceVersion.contains(&quot;&gt;&quot;) &amp;&amp; !cmpDeviceVersion.contains(&quot;&gt;=&quot;) &amp;&amp;\r\n                                  !cmpDeviceVersion.contains(&quot;&lt;&quot;) &amp;&amp; !cmpDeviceVersion.contains(&quot;&lt;=&quot;) &amp;&amp;\r\n                                  !cmpDeviceVersion.contains(&quot;~&gt;&quot;);\r\n\r\n        Boolean between         = cmpDeviceVersion.contains(&quot;~&gt;&quot;);\r\n        Boolean higher          = cmpDeviceVersion.contains(&quot;&gt;&quot;) &amp;&amp; !cmpDeviceVersion.contains(&quot;&gt;=&quot;) &amp;&amp; !cmpDeviceVersion.contains(&quot;~&gt;&quot;);\r\n        Boolean higherOrEqual   = cmpDeviceVersion.contains(&quot;&gt;=&quot;);\r\n\r\n        Boolean less            = cmpDeviceVersion.contains(&quot;&lt;&quot;) &amp;&amp; !cmpDeviceVersion.contains(&quot;&lt;=&quot;);\r\n        Boolean lessOrEqual     = cmpDeviceVersion.contains(&quot;&lt;=&quot;);\r\n\r\n        cmpDeviceVersion        = cmpDeviceVersion.replaceAll(&quot;[&lt;&gt;=~]&quot;, &quot;&quot;);\r\n        cmpDeviceVersion        = cmpDeviceVersion.trim();\r\n\r\n        String[] version        = cmpDeviceVersion.split(&quot;\\\\.&quot;);\r\n        String[] reqVersion     = reqDeviceVersion.split(&quot;\\\\.&quot;);\r\n\r\n        if(equal)\r\n        {\r\n            return isEqual(version, reqVersion);\r\n        }\r\n        else if(between)\r\n        {\r\n            return isBetween(version, reqVersion);\r\n        }\r\n        else if(higher)\r\n        {\r\n            return isHigher(version, reqVersion);\r\n        }\r\n        else if(higherOrEqual)\r\n        {\r\n            return isEqual(version, reqVersion) || isHigher(version, reqVersion);\r\n        }\r\n        else if(less)\r\n        {\r\n            return isLess(version, reqVersion);\r\n        }\r\n        else if(lessOrEqual)\r\n        {\r\n            return isEqual(version, reqVersion) || isLess(version, reqVersion);\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private static boolean isEqual(String[] version, String[] reqVersion)\r\n    {\r\n        String strVersion = StringUtils.join(version);\r\n        String strReqVersion = StringUtils.join(reqVersion);\r\n        if(version.length &gt; reqVersion.length)\r\n        {\r\n            Integer diff = version.length - reqVersion.length;\r\n            strReqVersion += StringUtils.repeat(&quot;.0&quot;, diff);\r\n        }\r\n        else if(reqVersion.length &gt; version.length)\r\n        {\r\n            Integer diff = reqVersion.length - version.length;\r\n            strVersion += StringUtils.repeat(&quot;.0&quot;, diff);\r\n        }\r\n\r\n        return strVersion.equals(strReqVersion);\r\n    }\r\n\r\n    private static boolean isHigher(String[] version, String[] reqVersion)\r\n    {\r\n        String strVersion = StringUtils.join(version);\r\n        String strReqVersion = StringUtils.join(reqVersion);\r\n        if(version.length &gt; reqVersion.length)\r\n        {\r\n            Integer diff = version.length - reqVersion.length;\r\n            strReqVersion += StringUtils.repeat(&quot;.0&quot;, diff);\r\n        }\r\n        else if(reqVersion.length &gt; version.length)\r\n        {\r\n            Integer diff = reqVersion.length - version.length;\r\n            strVersion += StringUtils.repeat(&quot;.0&quot;, diff);\r\n        }\r\n\r\n        return strReqVersion.compareTo(strVersion) &gt; 0;\r\n    }\r\n\r\n    private static boolean isLess(String[] version, String[] reqVersion)\r\n    {\r\n        String strVersion = StringUtils.join(version);\r\n        String strReqVersion = StringUtils.join(reqVersion);\r\n        if(version.length &gt; reqVersion.length)\r\n        {\r\n            Integer diff = version.length - reqVersion.length;\r\n            strReqVersion += StringUtils.repeat(&quot;.0&quot;, diff);\r\n        }\r\n        else if(reqVersion.length &gt; version.length)\r\n        {\r\n            Integer diff = reqVersion.length - version.length;\r\n            strVersion += StringUtils.repeat(&quot;.0&quot;, diff);\r\n        }\r\n\r\n        return strReqVersion.compareTo(strVersion) &lt; 0;\r\n    }\r\n\r\n    private static boolean isBetween(String[] version, String[] reqVersion)\r\n    {\r\n        return (isEqual(version, reqVersion) || isHigher(version, reqVersion)) &amp;&amp;\r\n                isLess(getNextVersion(version), reqVersion);\r\n    }\r\n\r\n    private static String[] getNextVersion(String[] version)\r\n    {\r\n        String[] nextVersion = new String[version.length];\r\n        for(int i = version.length - 1; i &gt;= 0 ; i--)\r\n        {\r\n            if(i == version.length - 1)\r\n            {\r\n                nextVersion[i] = &quot;0&quot;;\r\n            }\r\n            else if((i == version.length - 2) &amp;&amp; NumberUtils.isNumber(version[i]))\r\n            {\r\n                nextVersion[i] = String.valueOf(NumberUtils.toInt(version[i]) + 1);\r\n            }\r\n            else\r\n            {\r\n                nextVersion[i] = version[i];\r\n            }\r\n        }\r\n        return nextVersion;\r\n    }","title":"How do you compare two version Strings in Java?","body":"<p>This code try to resolve this type of comparison versions.</p>\n\n<blockquote>\n  <p>Most of the version specifiers, like >= 1.0, are self-explanatory. The\n  specifier ~> has a special meaning, best shown by example. ~> 2.0.3 is\n  identical to >= 2.0.3 and &lt; 2.1. ~> 2.1 is identical to >= 2.1 and &lt;\n  3.0.</p>\n</blockquote>\n\n<pre><code>public static boolean apply(String cmpDeviceVersion, String reqDeviceVersion)\n{\n    Boolean equal           = !cmpDeviceVersion.contains(\"&gt;\") &amp;&amp; !cmpDeviceVersion.contains(\"&gt;=\") &amp;&amp;\n                              !cmpDeviceVersion.contains(\"&lt;\") &amp;&amp; !cmpDeviceVersion.contains(\"&lt;=\") &amp;&amp;\n                              !cmpDeviceVersion.contains(\"~&gt;\");\n\n    Boolean between         = cmpDeviceVersion.contains(\"~&gt;\");\n    Boolean higher          = cmpDeviceVersion.contains(\"&gt;\") &amp;&amp; !cmpDeviceVersion.contains(\"&gt;=\") &amp;&amp; !cmpDeviceVersion.contains(\"~&gt;\");\n    Boolean higherOrEqual   = cmpDeviceVersion.contains(\"&gt;=\");\n\n    Boolean less            = cmpDeviceVersion.contains(\"&lt;\") &amp;&amp; !cmpDeviceVersion.contains(\"&lt;=\");\n    Boolean lessOrEqual     = cmpDeviceVersion.contains(\"&lt;=\");\n\n    cmpDeviceVersion        = cmpDeviceVersion.replaceAll(\"[&lt;&gt;=~]\", \"\");\n    cmpDeviceVersion        = cmpDeviceVersion.trim();\n\n    String[] version        = cmpDeviceVersion.split(\"\\\\.\");\n    String[] reqVersion     = reqDeviceVersion.split(\"\\\\.\");\n\n    if(equal)\n    {\n        return isEqual(version, reqVersion);\n    }\n    else if(between)\n    {\n        return isBetween(version, reqVersion);\n    }\n    else if(higher)\n    {\n        return isHigher(version, reqVersion);\n    }\n    else if(higherOrEqual)\n    {\n        return isEqual(version, reqVersion) || isHigher(version, reqVersion);\n    }\n    else if(less)\n    {\n        return isLess(version, reqVersion);\n    }\n    else if(lessOrEqual)\n    {\n        return isEqual(version, reqVersion) || isLess(version, reqVersion);\n    }\n\n    return false;\n}\n\nprivate static boolean isEqual(String[] version, String[] reqVersion)\n{\n    String strVersion = StringUtils.join(version);\n    String strReqVersion = StringUtils.join(reqVersion);\n    if(version.length &gt; reqVersion.length)\n    {\n        Integer diff = version.length - reqVersion.length;\n        strReqVersion += StringUtils.repeat(\".0\", diff);\n    }\n    else if(reqVersion.length &gt; version.length)\n    {\n        Integer diff = reqVersion.length - version.length;\n        strVersion += StringUtils.repeat(\".0\", diff);\n    }\n\n    return strVersion.equals(strReqVersion);\n}\n\nprivate static boolean isHigher(String[] version, String[] reqVersion)\n{\n    String strVersion = StringUtils.join(version);\n    String strReqVersion = StringUtils.join(reqVersion);\n    if(version.length &gt; reqVersion.length)\n    {\n        Integer diff = version.length - reqVersion.length;\n        strReqVersion += StringUtils.repeat(\".0\", diff);\n    }\n    else if(reqVersion.length &gt; version.length)\n    {\n        Integer diff = reqVersion.length - version.length;\n        strVersion += StringUtils.repeat(\".0\", diff);\n    }\n\n    return strReqVersion.compareTo(strVersion) &gt; 0;\n}\n\nprivate static boolean isLess(String[] version, String[] reqVersion)\n{\n    String strVersion = StringUtils.join(version);\n    String strReqVersion = StringUtils.join(reqVersion);\n    if(version.length &gt; reqVersion.length)\n    {\n        Integer diff = version.length - reqVersion.length;\n        strReqVersion += StringUtils.repeat(\".0\", diff);\n    }\n    else if(reqVersion.length &gt; version.length)\n    {\n        Integer diff = reqVersion.length - version.length;\n        strVersion += StringUtils.repeat(\".0\", diff);\n    }\n\n    return strReqVersion.compareTo(strVersion) &lt; 0;\n}\n\nprivate static boolean isBetween(String[] version, String[] reqVersion)\n{\n    return (isEqual(version, reqVersion) || isHigher(version, reqVersion)) &amp;&amp;\n            isLess(getNextVersion(version), reqVersion);\n}\n\nprivate static String[] getNextVersion(String[] version)\n{\n    String[] nextVersion = new String[version.length];\n    for(int i = version.length - 1; i &gt;= 0 ; i--)\n    {\n        if(i == version.length - 1)\n        {\n            nextVersion[i] = \"0\";\n        }\n        else if((i == version.length - 2) &amp;&amp; NumberUtils.isNumber(version[i]))\n        {\n            nextVersion[i] = String.valueOf(NumberUtils.toInt(version[i]) + 1);\n        }\n        else\n        {\n            nextVersion[i] = version[i];\n        }\n    }\n    return nextVersion;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464874747,"creation_date":1464874747,"answer_id":37593558,"question_id":198431,"body_markdown":"for my projects I use my commons-version library https://github.com/raydac/commons-version\r\nit contains two auxiliary classes - to parse version (parsed version can be compared with another version object because it is comparable one) and VersionValidator which allows to check version for some expression like `!=ide-1.1.1,&gt;idea-1.3.4-SNAPSHOT;&lt;1.2.3`","title":"How do you compare two version Strings in Java?","body":"<p>for my projects I use my commons-version library <a href=\"https://github.com/raydac/commons-version\" rel=\"nofollow\">https://github.com/raydac/commons-version</a>\nit contains two auxiliary classes - to parse version (parsed version can be compared with another version object because it is comparable one) and VersionValidator which allows to check version for some expression like <code>!=ide-1.1.1,&gt;idea-1.3.4-SNAPSHOT;&lt;1.2.3</code></p>\n"},{"tags":[],"owner":{"account_id":108774,"reputation":33374,"user_id":288568,"accept_rate":74,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1476716676,"creation_date":1476716676,"answer_id":40089814,"question_id":198431,"body_markdown":"Wondering why everybody assumes that the versions is only made up of integers - in my case it was not.\r\n\r\nWhy reinventing the wheel (assuming the version follows the Semver standard)\r\n\r\nFirst install https://github.com/vdurmont/semver4j via Maven\r\n\r\nThen use this library\r\n                  \r\n    Semver sem = new Semver(&quot;1.2.3&quot;);\r\n    sem.isGreaterThan(&quot;1.2.2&quot;); // true","title":"How do you compare two version Strings in Java?","body":"<p>Wondering why everybody assumes that the versions is only made up of integers - in my case it was not.</p>\n\n<p>Why reinventing the wheel (assuming the version follows the Semver standard)</p>\n\n<p>First install <a href=\"https://github.com/vdurmont/semver4j\" rel=\"noreferrer\">https://github.com/vdurmont/semver4j</a> via Maven</p>\n\n<p>Then use this library</p>\n\n<pre><code>Semver sem = new Semver(\"1.2.3\");\nsem.isGreaterThan(\"1.2.2\"); // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5501459,"reputation":4254,"user_id":4370675,"display_name":"Abhinav Puri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1483862666,"creation_date":1483862666,"answer_id":41530729,"question_id":198431,"body_markdown":"I liked the idea from @Peter Lawrey, And i extended it to further limits : \r\n\r\n        /**\r\n        * Normalize string array, \r\n        * Appends zeros if string from the array\r\n        * has length smaller than the maxLen.\r\n        **/\r\n        private String normalize(String[] split, int maxLen){\r\n    \t\tStringBuilder sb = new StringBuilder(&quot;&quot;);\r\n\t\t    for(String s : split) {\r\n\t\t        for(int i = 0; i&lt;maxLen-s.length(); i++) sb.append(&#39;0&#39;);\r\n\t\t        sb.append(s);\r\n\t\t    }\r\n\t\t    return sb.toString();\r\n    \t}\r\n    \t\r\n        /**\r\n        * Removes trailing zeros of the form &#39;.00.0...00&#39;\r\n        * (and does not remove zeros from, say, &#39;4.1.100&#39;)\r\n        **/\r\n    \tpublic String removeTrailingZeros(String s){\r\n    \t\tint i = s.length()-1;\r\n    \t\tint k = s.length()-1;\r\n    \t\twhile(i &gt;= 0 &amp;&amp; (s.charAt(i) == &#39;.&#39; || s.charAt(i) == &#39;0&#39;)){\r\n    \t\t  if(s.charAt(i) == &#39;.&#39;) k = i-1;\r\n    \t\t  i--;  \r\n    \t\t} \r\n    \t\treturn s.substring(0,k+1);\r\n    \t}\r\n    \t\r\n        /**\r\n        * Compares two versions(works for alphabets too),\r\n        * Returns 1 if v1 &gt; v2, returns 0 if v1 == v2,\r\n        * and returns -1 if v1 &lt; v2.\r\n        **/\r\n        public int compareVersion(String v1, String v2) {\r\n    \t\t\r\n            // Uncomment below two lines if for you, say, 4.1.0 is equal to 4.1\r\n            // v1 = removeTrailingZeros(v1);\r\n    \t\t// v2 = removeTrailingZeros(v2);\r\n\r\n    \t\tString[] splitv1 = v1.split(&quot;\\\\.&quot;);\r\n    \t\tString[] splitv2 = v2.split(&quot;\\\\.&quot;);\r\n            int maxLen = 0;\r\n    \t\tfor(String str : splitv1) maxLen = Math.max(maxLen, str.length());\r\n    \t\tfor(String str : splitv2) maxLen = Math.max(maxLen, str.length());\r\n    \t\tint cmp = normalize(splitv1, maxLen).compareTo(normalize(splitv2, maxLen));\r\n    \t\treturn cmp &gt; 0 ? 1 : (cmp &lt; 0 ? -1 : 0);\r\n        }\r\n\r\nHope it helps someone. It passed all test cases in interviewbit and leetcode (need to uncomment two lines in compareVersion function). \r\n\r\nEasily tested !","title":"How do you compare two version Strings in Java?","body":"<p>I liked the idea from @Peter Lawrey, And i extended it to further limits : </p>\n\n<pre><code>    /**\n    * Normalize string array, \n    * Appends zeros if string from the array\n    * has length smaller than the maxLen.\n    **/\n    private String normalize(String[] split, int maxLen){\n        StringBuilder sb = new StringBuilder(\"\");\n        for(String s : split) {\n            for(int i = 0; i&lt;maxLen-s.length(); i++) sb.append('0');\n            sb.append(s);\n        }\n        return sb.toString();\n    }\n\n    /**\n    * Removes trailing zeros of the form '.00.0...00'\n    * (and does not remove zeros from, say, '4.1.100')\n    **/\n    public String removeTrailingZeros(String s){\n        int i = s.length()-1;\n        int k = s.length()-1;\n        while(i &gt;= 0 &amp;&amp; (s.charAt(i) == '.' || s.charAt(i) == '0')){\n          if(s.charAt(i) == '.') k = i-1;\n          i--;  \n        } \n        return s.substring(0,k+1);\n    }\n\n    /**\n    * Compares two versions(works for alphabets too),\n    * Returns 1 if v1 &gt; v2, returns 0 if v1 == v2,\n    * and returns -1 if v1 &lt; v2.\n    **/\n    public int compareVersion(String v1, String v2) {\n\n        // Uncomment below two lines if for you, say, 4.1.0 is equal to 4.1\n        // v1 = removeTrailingZeros(v1);\n        // v2 = removeTrailingZeros(v2);\n\n        String[] splitv1 = v1.split(\"\\\\.\");\n        String[] splitv2 = v2.split(\"\\\\.\");\n        int maxLen = 0;\n        for(String str : splitv1) maxLen = Math.max(maxLen, str.length());\n        for(String str : splitv2) maxLen = Math.max(maxLen, str.length());\n        int cmp = normalize(splitv1, maxLen).compareTo(normalize(splitv2, maxLen));\n        return cmp &gt; 0 ? 1 : (cmp &lt; 0 ? -1 : 0);\n    }\n</code></pre>\n\n<p>Hope it helps someone. It passed all test cases in interviewbit and leetcode (need to uncomment two lines in compareVersion function). </p>\n\n<p>Easily tested !</p>\n"},{"tags":[],"owner":{"account_id":7880182,"reputation":2142,"user_id":5954472,"accept_rate":50,"display_name":"Arpan Sharma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488353612,"creation_date":1487397541,"answer_id":42311661,"question_id":198431,"body_markdown":" \r\n\r\nWrote a little function myself.Simpler Using Lists\r\n\r\n   \r\n    \r\n   \r\n\r\n     public static boolean checkVersionUpdate(String olderVerison, String newVersion) {\r\n            if (olderVerison.length() == 0 || newVersion.length() == 0) {\r\n                return false;\r\n            }\r\n            List&lt;String&gt; newVerList = Arrays.asList(newVersion.split(&quot;\\\\.&quot;));\r\n            List&lt;String&gt; oldVerList = Arrays.asList(olderVerison.split(&quot;\\\\.&quot;));\r\n    \r\n            int diff = newVerList.size() - oldVerList.size();\r\n            List&lt;String&gt; newList = new ArrayList&lt;&gt;();\r\n            if (diff &gt; 0) {\r\n                newList.addAll(oldVerList);\r\n                for (int i = 0; i &lt; diff; i++) {\r\n                    newList.add(&quot;0&quot;);\r\n                }\r\n                return examineArray(newList, newVerList, diff);\r\n            } else if (diff &lt; 0) {\r\n                newList.addAll(newVerList);\r\n                for (int i = 0; i &lt; -diff; i++) {\r\n                    newList.add(&quot;0&quot;);\r\n                }\r\n                return examineArray(oldVerList, newList, diff);\r\n            } else {\r\n                return examineArray(oldVerList, newVerList, diff);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static boolean examineArray(List&lt;String&gt; oldList, List&lt;String&gt; newList, int diff) {\r\n            boolean newVersionGreater = false;\r\n            for (int i = 0; i &lt; oldList.size(); i++) {\r\n                if (Integer.parseInt(newList.get(i)) &gt; Integer.parseInt(oldList.get(i))) {\r\n                    newVersionGreater = true;\r\n                    break;\r\n                } else if (Integer.parseInt(newList.get(i)) &lt; Integer.parseInt(oldList.get(i))) {\r\n                    newVersionGreater = false;\r\n                    break;\r\n                } else {\r\n                    newVersionGreater = diff &gt; 0;\r\n                }\r\n            }\r\n    \r\n            return newVersionGreater;\r\n        }\r\n\r\n","title":"How do you compare two version Strings in Java?","body":"<p>Wrote a little function myself.Simpler Using Lists</p>\n\n<pre><code> public static boolean checkVersionUpdate(String olderVerison, String newVersion) {\n        if (olderVerison.length() == 0 || newVersion.length() == 0) {\n            return false;\n        }\n        List&lt;String&gt; newVerList = Arrays.asList(newVersion.split(\"\\\\.\"));\n        List&lt;String&gt; oldVerList = Arrays.asList(olderVerison.split(\"\\\\.\"));\n\n        int diff = newVerList.size() - oldVerList.size();\n        List&lt;String&gt; newList = new ArrayList&lt;&gt;();\n        if (diff &gt; 0) {\n            newList.addAll(oldVerList);\n            for (int i = 0; i &lt; diff; i++) {\n                newList.add(\"0\");\n            }\n            return examineArray(newList, newVerList, diff);\n        } else if (diff &lt; 0) {\n            newList.addAll(newVerList);\n            for (int i = 0; i &lt; -diff; i++) {\n                newList.add(\"0\");\n            }\n            return examineArray(oldVerList, newList, diff);\n        } else {\n            return examineArray(oldVerList, newVerList, diff);\n        }\n\n    }\n\n    public static boolean examineArray(List&lt;String&gt; oldList, List&lt;String&gt; newList, int diff) {\n        boolean newVersionGreater = false;\n        for (int i = 0; i &lt; oldList.size(); i++) {\n            if (Integer.parseInt(newList.get(i)) &gt; Integer.parseInt(oldList.get(i))) {\n                newVersionGreater = true;\n                break;\n            } else if (Integer.parseInt(newList.get(i)) &lt; Integer.parseInt(oldList.get(i))) {\n                newVersionGreater = false;\n                break;\n            } else {\n                newVersionGreater = diff &gt; 0;\n            }\n        }\n\n        return newVersionGreater;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2746704,"reputation":411,"user_id":2366973,"display_name":"Stan Towianski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525544304,"creation_date":1525460443,"answer_id":50181582,"question_id":198431,"body_markdown":"    /**  \r\n     *  written by: Stan Towianski - May 2018 \r\n     * notes: I make assumption each of 3 version sections a.b.c is not longer then 4 digits: aaaa.bbbb.cccc-MODWORD1(-)modnum2\r\n     * 5.10.13-release-1 becomes 0000500100013.501     6.0-snapshot becomes 0000600000000.100\r\n     * MODWORD1 = -xyz/NotMatching, -SNAPSHOT, -ALPHA, -BETA, -RC, -RELEASE/nothing  return:  .0, .1, .2, .3, .4, .5\r\n     * modnum2 = up to 2 digit/chars second version\r\n     * */\r\n    public class VersionCk {\r\n    \r\n        private static boolean isVersionHigher( String baseVersion, String testVersion )\r\n            {\r\n            System.out.println( &quot;versionToComparable( baseVersion ) =&quot; + versionToComparable( baseVersion ) );\r\n            System.out.println( &quot;versionToComparable( testVersion ) =&quot; + versionToComparable( testVersion ) + &quot; is this higher ?&quot; );\r\n            return versionToComparable( testVersion ).compareTo( versionToComparable( baseVersion ) ) &gt; 0;\r\n            }\r\n    \r\n        //----  not worrying about += for something so small\r\n        private static String versionToComparable( String version )\r\n            {\r\n    //        System.out.println(&quot;version - &quot; + version);\r\n            String versionNum = version;\r\n            int at = version.indexOf( &#39;-&#39; );\r\n            if ( at &gt;= 0 )\r\n                versionNum = version.substring( 0, at );\r\n    \r\n            String[] numAr = versionNum.split( &quot;\\\\.&quot; );\r\n            String versionFormatted = &quot;0&quot;;\r\n            for ( String tmp : numAr )\r\n                {\r\n                versionFormatted += String.format( &quot;%4s&quot;, tmp ).replace(&#39; &#39;, &#39;0&#39;);\r\n                }\r\n            while ( versionFormatted.length() &lt; 12 )  // pad out to aaaa.bbbb.cccc\r\n                {\r\n                versionFormatted += &quot;0000&quot;;\r\n                }\r\n    //        System.out.println( &quot;converted min version =&quot; + versionFormatted + &quot;=   : &quot; + versionNum );\r\n            return versionFormatted + getVersionModifier( version, at );\r\n            }\r\n    \r\n        //----  use order low to high: -xyz, -SNAPSHOT, -ALPHA, -BETA, -RC, -RELEASE/nothing  returns: 0, 1, 2, 3, 4, 5\r\n        private static String getVersionModifier( String version, int at )\r\n            {\r\n    //        System.out.println(&quot;version - &quot; + version );\r\n            String[] wordModsAr = { &quot;-SNAPSHOT&quot;, &quot;-ALPHA&quot;, &quot;-BETA&quot;, &quot;-RC&quot;, &quot;-RELEASE&quot; };        \r\n            \r\n            if ( at &lt; 0 )\r\n                return &quot;.&quot; + wordModsAr.length + &quot;00&quot;;   // make nothing = RELEASE level\r\n            \r\n            int i = 1;\r\n            for ( String word : wordModsAr )\r\n                {\r\n                if ( ( at = version.toUpperCase().indexOf( word ) ) &gt; 0 )\r\n                    return &quot;.&quot; + i + getSecondVersionModifier( version.substring( at + word.length() ) );\r\n                i++;\r\n                }\r\n    \r\n            return &quot;.000&quot;;\r\n            }\r\n    \r\n        //----  add 2 chars for any number after first modifier.  -rc2 or -rc-2   returns 02\r\n        private static String getSecondVersionModifier( String version )\r\n            {\r\n            System.out.println( &quot;second modifier =&quot; + version + &quot;=&quot; );\r\n            Matcher m = Pattern.compile(&quot;(.*?)(\\\\d+).*&quot;).matcher( version );\r\n    //        if ( m.matches() )\r\n    //            System.out.println( &quot;match ? =&quot; + m.matches() + &quot;=   m.group(1) =&quot; + m.group(1) + &quot;=   m.group(2) =&quot; + m.group(2) + &quot;=   m.group(3) =&quot; + (m.groupCount() &gt;= 3 ? m.group(3) : &quot;x&quot;) );\r\n    //        else\r\n    //            System.out.println( &quot;No match&quot; );\r\n            return m.matches() ? String.format( &quot;%2s&quot;, m.group(2) ).replace(&#39; &#39;, &#39;0&#39;) : &quot;00&quot;;\r\n            }\r\n        \r\n        public static void main(String[] args) \r\n            {\r\n            checkVersion( &quot;3.10.0&quot;, &quot;3.4.0&quot;);\r\n            checkVersion( &quot;5.4.2&quot;, &quot;5.4.1&quot;);\r\n            checkVersion( &quot;5.4.4&quot;, &quot;5.4.5&quot;);\r\n            checkVersion( &quot;5.4.9&quot;, &quot;5.4.12&quot;);\r\n            checkVersion( &quot;5.9.222&quot;, &quot;5.10.12&quot;);\r\n            checkVersion( &quot;5.10.12&quot;, &quot;5.10.12&quot;);\r\n            checkVersion( &quot;5.10.13&quot;, &quot;5.10.14&quot;);\r\n            checkVersion( &quot;6.7.0&quot;, &quot;6.8&quot;);\r\n            checkVersion( &quot;6.7&quot;, &quot;2.7.0&quot;);\r\n            checkVersion( &quot;6&quot;, &quot;6.3.1&quot;);\r\n            checkVersion( &quot;4&quot;, &quot;4.0.0&quot;);\r\n            checkVersion( &quot;6.3.0&quot;, &quot;6&quot;);\r\n            checkVersion( &quot;5.10.12-Alpha&quot;, &quot;5.10.12-beTA&quot;);\r\n            checkVersion( &quot;5.10.13-release&quot;, &quot;5.10.14-beta&quot;);\r\n            checkVersion( &quot;6.7.0&quot;, &quot;6.8-snapshot&quot;);\r\n            checkVersion( &quot;6.7.1&quot;, &quot;6.7.0-release&quot;);\r\n            checkVersion( &quot;6-snapshot&quot;, &quot;6.0.0-beta&quot;);\r\n            checkVersion( &quot;6.0-snapshot&quot;, &quot;6.0.0-whatthe&quot;);\r\n            checkVersion( &quot;5.10.12-Alpha-1&quot;, &quot;5.10.12-alpha-2&quot;);\r\n            checkVersion( &quot;5.10.13-release-1&quot;, &quot;5.10.13-release2&quot;);\r\n            checkVersion( &quot;10-rc42&quot;, &quot;10.0.0-rc53&quot;);\r\n            }\r\n    \r\n        private static void checkVersion(String baseVersion, String testVersion) \r\n            {\r\n            System.out.println( &quot;baseVersion - &quot; + baseVersion );\r\n            System.out.println( &quot;testVersion - &quot; + testVersion );\r\n            System.out.println( &quot;isVersionHigher = &quot; + isVersionHigher( baseVersion, testVersion ) );\r\n            System.out.println( &quot;---------------&quot;);\r\n            }\r\n        \r\n        }\r\n\r\nsome output:\r\n\r\n    ---------------\r\n    baseVersion - 6.7\r\n    testVersion - 2.7.0\r\n    versionToComparable( baseVersion ) =0000600070000.500\r\n    versionToComparable( testVersion ) =0000200070000.500 is this higher ?\r\n    isVersionHigher = false\r\n    ---------------\r\n    baseVersion - 6\r\n    testVersion - 6.3.1\r\n    versionToComparable( baseVersion ) =0000600000000.500\r\n    versionToComparable( testVersion ) =0000600030001.500 is this higher ?\r\n    isVersionHigher = true\r\n    ---------------\r\n    baseVersion - 4\r\n    testVersion - 4.0.0\r\n    versionToComparable( baseVersion ) =0000400000000.500\r\n    versionToComparable( testVersion ) =0000400000000.500 is this higher ?\r\n    isVersionHigher = false\r\n    ---------------\r\n    baseVersion - 6.3.0\r\n    testVersion - 6\r\n    versionToComparable( baseVersion ) =0000600030000.500\r\n    versionToComparable( testVersion ) =0000600000000.500 is this higher ?\r\n    isVersionHigher = false\r\n    ---------------\r\n    baseVersion - 5.10.12-Alpha\r\n    testVersion - 5.10.12-beTA\r\n    second modifier ==\r\n    versionToComparable( baseVersion ) =0000500100012.200\r\n    second modifier ==\r\n    versionToComparable( testVersion ) =0000500100012.300 is this higher ?\r\n    second modifier ==\r\n    second modifier ==\r\n    isVersionHigher = true\r\n    ---------------\r\n    baseVersion - 5.10.13-release\r\n    testVersion - 5.10.14-beta\r\n    second modifier ==\r\n    versionToComparable( baseVersion ) =0000500100013.500\r\n    second modifier ==\r\n    versionToComparable( testVersion ) =0000500100014.300 is this higher ?\r\n    second modifier ==\r\n    second modifier ==\r\n    isVersionHigher = true\r\n    ---------------\r\n    baseVersion - 6.7.0\r\n    testVersion - 6.8-snapshot\r\n    versionToComparable( baseVersion ) =0000600070000.500\r\n    second modifier ==\r\n    versionToComparable( testVersion ) =0000600080000.100 is this higher ?\r\n    second modifier ==\r\n    isVersionHigher = true\r\n    ---------------\r\n    baseVersion - 6.7.1\r\n    testVersion - 6.7.0-release\r\n    versionToComparable( baseVersion ) =0000600070001.500\r\n    second modifier ==\r\n    versionToComparable( testVersion ) =0000600070000.500 is this higher ?\r\n    second modifier ==\r\n    isVersionHigher = false\r\n    ---------------\r\n    baseVersion - 6-snapshot\r\n    testVersion - 6.0.0-beta\r\n    second modifier ==\r\n    versionToComparable( baseVersion ) =0000600000000.100\r\n    second modifier ==\r\n    versionToComparable( testVersion ) =0000600000000.300 is this higher ?\r\n    second modifier ==\r\n    second modifier ==\r\n    isVersionHigher = true\r\n    ---------------\r\n    baseVersion - 6.0-snapshot\r\n    testVersion - 6.0.0-whatthe\r\n    second modifier ==\r\n    versionToComparable( baseVersion ) =0000600000000.100\r\n    versionToComparable( testVersion ) =0000600000000.000 is this higher ?\r\n    second modifier ==\r\n    isVersionHigher = false\r\n    ---------------\r\n    baseVersion - 5.10.12-Alpha-1\r\n    testVersion - 5.10.12-alpha-2\r\n    second modifier =-1=\r\n    versionToComparable( baseVersion ) =0000500100012.201\r\n    second modifier =-2=\r\n    versionToComparable( testVersion ) =0000500100012.202 is this higher ?\r\n    second modifier =-2=\r\n    second modifier =-1=\r\n    isVersionHigher = true\r\n    ---------------\r\n    baseVersion - 5.10.13-release-1\r\n    testVersion - 5.10.13-release2\r\n    second modifier =-1=\r\n    versionToComparable( baseVersion ) =0000500100013.501\r\n    second modifier =2=\r\n    versionToComparable( testVersion ) =0000500100013.502 is this higher ?\r\n    second modifier =2=\r\n    second modifier =-1=\r\n    isVersionHigher = true\r\n    ---------------\r\n    baseVersion - 10-rc42\r\n    testVersion - 10.0.0-rc53\r\n    second modifier =42=\r\n    versionToComparable( baseVersion ) =0001000000000.442\r\n    second modifier =53=\r\n    versionToComparable( testVersion ) =0001000000000.453 is this higher ?\r\n    second modifier =53=\r\n    second modifier =42=\r\n    isVersionHigher = true\r\n    ---------------","title":"How do you compare two version Strings in Java?","body":"<pre><code>/**  \n *  written by: Stan Towianski - May 2018 \n * notes: I make assumption each of 3 version sections a.b.c is not longer then 4 digits: aaaa.bbbb.cccc-MODWORD1(-)modnum2\n * 5.10.13-release-1 becomes 0000500100013.501     6.0-snapshot becomes 0000600000000.100\n * MODWORD1 = -xyz/NotMatching, -SNAPSHOT, -ALPHA, -BETA, -RC, -RELEASE/nothing  return:  .0, .1, .2, .3, .4, .5\n * modnum2 = up to 2 digit/chars second version\n * */\npublic class VersionCk {\n\n    private static boolean isVersionHigher( String baseVersion, String testVersion )\n        {\n        System.out.println( \"versionToComparable( baseVersion ) =\" + versionToComparable( baseVersion ) );\n        System.out.println( \"versionToComparable( testVersion ) =\" + versionToComparable( testVersion ) + \" is this higher ?\" );\n        return versionToComparable( testVersion ).compareTo( versionToComparable( baseVersion ) ) &gt; 0;\n        }\n\n    //----  not worrying about += for something so small\n    private static String versionToComparable( String version )\n        {\n//        System.out.println(\"version - \" + version);\n        String versionNum = version;\n        int at = version.indexOf( '-' );\n        if ( at &gt;= 0 )\n            versionNum = version.substring( 0, at );\n\n        String[] numAr = versionNum.split( \"\\\\.\" );\n        String versionFormatted = \"0\";\n        for ( String tmp : numAr )\n            {\n            versionFormatted += String.format( \"%4s\", tmp ).replace(' ', '0');\n            }\n        while ( versionFormatted.length() &lt; 12 )  // pad out to aaaa.bbbb.cccc\n            {\n            versionFormatted += \"0000\";\n            }\n//        System.out.println( \"converted min version =\" + versionFormatted + \"=   : \" + versionNum );\n        return versionFormatted + getVersionModifier( version, at );\n        }\n\n    //----  use order low to high: -xyz, -SNAPSHOT, -ALPHA, -BETA, -RC, -RELEASE/nothing  returns: 0, 1, 2, 3, 4, 5\n    private static String getVersionModifier( String version, int at )\n        {\n//        System.out.println(\"version - \" + version );\n        String[] wordModsAr = { \"-SNAPSHOT\", \"-ALPHA\", \"-BETA\", \"-RC\", \"-RELEASE\" };        \n\n        if ( at &lt; 0 )\n            return \".\" + wordModsAr.length + \"00\";   // make nothing = RELEASE level\n\n        int i = 1;\n        for ( String word : wordModsAr )\n            {\n            if ( ( at = version.toUpperCase().indexOf( word ) ) &gt; 0 )\n                return \".\" + i + getSecondVersionModifier( version.substring( at + word.length() ) );\n            i++;\n            }\n\n        return \".000\";\n        }\n\n    //----  add 2 chars for any number after first modifier.  -rc2 or -rc-2   returns 02\n    private static String getSecondVersionModifier( String version )\n        {\n        System.out.println( \"second modifier =\" + version + \"=\" );\n        Matcher m = Pattern.compile(\"(.*?)(\\\\d+).*\").matcher( version );\n//        if ( m.matches() )\n//            System.out.println( \"match ? =\" + m.matches() + \"=   m.group(1) =\" + m.group(1) + \"=   m.group(2) =\" + m.group(2) + \"=   m.group(3) =\" + (m.groupCount() &gt;= 3 ? m.group(3) : \"x\") );\n//        else\n//            System.out.println( \"No match\" );\n        return m.matches() ? String.format( \"%2s\", m.group(2) ).replace(' ', '0') : \"00\";\n        }\n\n    public static void main(String[] args) \n        {\n        checkVersion( \"3.10.0\", \"3.4.0\");\n        checkVersion( \"5.4.2\", \"5.4.1\");\n        checkVersion( \"5.4.4\", \"5.4.5\");\n        checkVersion( \"5.4.9\", \"5.4.12\");\n        checkVersion( \"5.9.222\", \"5.10.12\");\n        checkVersion( \"5.10.12\", \"5.10.12\");\n        checkVersion( \"5.10.13\", \"5.10.14\");\n        checkVersion( \"6.7.0\", \"6.8\");\n        checkVersion( \"6.7\", \"2.7.0\");\n        checkVersion( \"6\", \"6.3.1\");\n        checkVersion( \"4\", \"4.0.0\");\n        checkVersion( \"6.3.0\", \"6\");\n        checkVersion( \"5.10.12-Alpha\", \"5.10.12-beTA\");\n        checkVersion( \"5.10.13-release\", \"5.10.14-beta\");\n        checkVersion( \"6.7.0\", \"6.8-snapshot\");\n        checkVersion( \"6.7.1\", \"6.7.0-release\");\n        checkVersion( \"6-snapshot\", \"6.0.0-beta\");\n        checkVersion( \"6.0-snapshot\", \"6.0.0-whatthe\");\n        checkVersion( \"5.10.12-Alpha-1\", \"5.10.12-alpha-2\");\n        checkVersion( \"5.10.13-release-1\", \"5.10.13-release2\");\n        checkVersion( \"10-rc42\", \"10.0.0-rc53\");\n        }\n\n    private static void checkVersion(String baseVersion, String testVersion) \n        {\n        System.out.println( \"baseVersion - \" + baseVersion );\n        System.out.println( \"testVersion - \" + testVersion );\n        System.out.println( \"isVersionHigher = \" + isVersionHigher( baseVersion, testVersion ) );\n        System.out.println( \"---------------\");\n        }\n\n    }\n</code></pre>\n\n<p>some output:</p>\n\n<pre><code>---------------\nbaseVersion - 6.7\ntestVersion - 2.7.0\nversionToComparable( baseVersion ) =0000600070000.500\nversionToComparable( testVersion ) =0000200070000.500 is this higher ?\nisVersionHigher = false\n---------------\nbaseVersion - 6\ntestVersion - 6.3.1\nversionToComparable( baseVersion ) =0000600000000.500\nversionToComparable( testVersion ) =0000600030001.500 is this higher ?\nisVersionHigher = true\n---------------\nbaseVersion - 4\ntestVersion - 4.0.0\nversionToComparable( baseVersion ) =0000400000000.500\nversionToComparable( testVersion ) =0000400000000.500 is this higher ?\nisVersionHigher = false\n---------------\nbaseVersion - 6.3.0\ntestVersion - 6\nversionToComparable( baseVersion ) =0000600030000.500\nversionToComparable( testVersion ) =0000600000000.500 is this higher ?\nisVersionHigher = false\n---------------\nbaseVersion - 5.10.12-Alpha\ntestVersion - 5.10.12-beTA\nsecond modifier ==\nversionToComparable( baseVersion ) =0000500100012.200\nsecond modifier ==\nversionToComparable( testVersion ) =0000500100012.300 is this higher ?\nsecond modifier ==\nsecond modifier ==\nisVersionHigher = true\n---------------\nbaseVersion - 5.10.13-release\ntestVersion - 5.10.14-beta\nsecond modifier ==\nversionToComparable( baseVersion ) =0000500100013.500\nsecond modifier ==\nversionToComparable( testVersion ) =0000500100014.300 is this higher ?\nsecond modifier ==\nsecond modifier ==\nisVersionHigher = true\n---------------\nbaseVersion - 6.7.0\ntestVersion - 6.8-snapshot\nversionToComparable( baseVersion ) =0000600070000.500\nsecond modifier ==\nversionToComparable( testVersion ) =0000600080000.100 is this higher ?\nsecond modifier ==\nisVersionHigher = true\n---------------\nbaseVersion - 6.7.1\ntestVersion - 6.7.0-release\nversionToComparable( baseVersion ) =0000600070001.500\nsecond modifier ==\nversionToComparable( testVersion ) =0000600070000.500 is this higher ?\nsecond modifier ==\nisVersionHigher = false\n---------------\nbaseVersion - 6-snapshot\ntestVersion - 6.0.0-beta\nsecond modifier ==\nversionToComparable( baseVersion ) =0000600000000.100\nsecond modifier ==\nversionToComparable( testVersion ) =0000600000000.300 is this higher ?\nsecond modifier ==\nsecond modifier ==\nisVersionHigher = true\n---------------\nbaseVersion - 6.0-snapshot\ntestVersion - 6.0.0-whatthe\nsecond modifier ==\nversionToComparable( baseVersion ) =0000600000000.100\nversionToComparable( testVersion ) =0000600000000.000 is this higher ?\nsecond modifier ==\nisVersionHigher = false\n---------------\nbaseVersion - 5.10.12-Alpha-1\ntestVersion - 5.10.12-alpha-2\nsecond modifier =-1=\nversionToComparable( baseVersion ) =0000500100012.201\nsecond modifier =-2=\nversionToComparable( testVersion ) =0000500100012.202 is this higher ?\nsecond modifier =-2=\nsecond modifier =-1=\nisVersionHigher = true\n---------------\nbaseVersion - 5.10.13-release-1\ntestVersion - 5.10.13-release2\nsecond modifier =-1=\nversionToComparable( baseVersion ) =0000500100013.501\nsecond modifier =2=\nversionToComparable( testVersion ) =0000500100013.502 is this higher ?\nsecond modifier =2=\nsecond modifier =-1=\nisVersionHigher = true\n---------------\nbaseVersion - 10-rc42\ntestVersion - 10.0.0-rc53\nsecond modifier =42=\nversionToComparable( baseVersion ) =0001000000000.442\nsecond modifier =53=\nversionToComparable( testVersion ) =0001000000000.453 is this higher ?\nsecond modifier =53=\nsecond modifier =42=\nisVersionHigher = true\n---------------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3930604,"reputation":859,"user_id":3249355,"display_name":"Maciej Dzikowicki"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1545910809,"creation_date":1545910809,"answer_id":53944480,"question_id":198431,"body_markdown":"If you already have Jackson in your project, you can use `com.fasterxml.jackson.core.Version`:\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.core.Version;\r\n    import org.junit.Test;\r\n    \r\n    import static org.junit.Assert.assertTrue;\r\n    \r\n    public class VersionTest {\r\n    \r\n        @Test\r\n        public void shouldCompareVersion() {\r\n            Version version1 = new Version(1, 11, 1, null, null, null);\r\n            Version version2 = new Version(1, 12, 1, null, null, null);\r\n            assertTrue(version1.compareTo(version2) &lt; 0);\r\n        }\r\n    }\r\n","title":"How do you compare two version Strings in Java?","body":"<p>If you already have Jackson in your project, you can use <code>com.fasterxml.jackson.core.Version</code>:</p>\n\n<pre><code>import com.fasterxml.jackson.core.Version;\nimport org.junit.Test;\n\nimport static org.junit.Assert.assertTrue;\n\npublic class VersionTest {\n\n    @Test\n    public void shouldCompareVersion() {\n        Version version1 = new Version(1, 11, 1, null, null, null);\n        Version version2 = new Version(1, 12, 1, null, null, null);\n        assertTrue(version1.compareTo(version2) &lt; 0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572453263,"creation_date":1551875557,"answer_id":55023200,"question_id":198431,"body_markdown":"I wrote an Open Source Library called MgntUtils that has a utility that works with String versions. It correctly compares them, works with version ranges and so forth. Here is this library [javadoc][1] See methods `TextUtils.comapreVersions(...)`. It has been heavily used and well tested. Here is the [article][3] that describes the library and where to get it. It is available as [Maven artifact][4] and on the [github][5] (with sources and JavaDoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/\r\n  [2]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/TextUtils.html#compareVersions-java.lang.String-java.lang.String-\r\n  [3]: https://community.oracle.com/blogs/michaelgantman/2016/01/26/open-source-java-library-with-stacktrace-filtering-silent-string-parsing-and-version-comparison\r\n  [4]: https://search.maven.org/search?q=MgntUtils\r\n  [5]: https://github.com/michaelgantman/Mgnt","title":"How do you compare two version Strings in Java?","body":"<p>I wrote an Open Source Library called MgntUtils that has a utility that works with String versions. It correctly compares them, works with version ranges and so forth. Here is this library <a href=\"http://michaelgantman.github.io/Mgnt/docs/\" rel=\"nofollow noreferrer\">javadoc</a> See methods <code>TextUtils.comapreVersions(...)</code>. It has been heavily used and well tested. Here is the <a href=\"https://community.oracle.com/blogs/michaelgantman/2016/01/26/open-source-java-library-with-stacktrace-filtering-silent-string-parsing-and-version-comparison\" rel=\"nofollow noreferrer\">article</a> that describes the library and where to get it. It is available as <a href=\"https://search.maven.org/search?q=MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact</a> and on the <a href=\"https://github.com/michaelgantman/Mgnt\" rel=\"nofollow noreferrer\">github</a> (with sources and JavaDoc)</p>\n"},{"tags":[],"owner":{"account_id":5357413,"reputation":71,"user_id":4269728,"display_name":"ban"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552478056,"creation_date":1552478056,"answer_id":55141303,"question_id":198431,"body_markdown":"    public int CompareVersions(String version1, String version2)\r\n    {\r\n    \tString[] string1Vals = version1.split(&quot;\\\\.&quot;);\r\n    \tString[] string2Vals = version2.split(&quot;\\\\.&quot;);\r\n    \r\n    \tint length = Math.max(string1Vals.length, string2Vals.length);\r\n    \t\r\n    \tfor (int i = 0; i &lt; length; i++)\r\n    \t{\r\n    \t\tInteger v1 = (i &lt; string1Vals.length)?Integer.parseInt(string1Vals[i]):0;\r\n    \t\tInteger v2 = (i &lt; string2Vals.length)?Integer.parseInt(string2Vals[i]):0;\r\n    \t\t\r\n    \t\t//Making sure Version1 bigger than version2\r\n    \t\tif (v1 &gt; v2)\r\n    \t\t{\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \t\t//Making sure Version1 smaller than version2\r\n    \t\telse if(v1 &lt; v2)\r\n    \t\t{\r\n    \t\t\treturn -1;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t//Both are equal\r\n    \treturn 0;\r\n    }","title":"How do you compare two version Strings in Java?","body":"<pre><code>public int CompareVersions(String version1, String version2)\n{\n    String[] string1Vals = version1.split(\"\\\\.\");\n    String[] string2Vals = version2.split(\"\\\\.\");\n\n    int length = Math.max(string1Vals.length, string2Vals.length);\n\n    for (int i = 0; i &lt; length; i++)\n    {\n        Integer v1 = (i &lt; string1Vals.length)?Integer.parseInt(string1Vals[i]):0;\n        Integer v2 = (i &lt; string2Vals.length)?Integer.parseInt(string2Vals[i]):0;\n\n        //Making sure Version1 bigger than version2\n        if (v1 &gt; v2)\n        {\n            return 1;\n        }\n        //Making sure Version1 smaller than version2\n        else if(v1 &lt; v2)\n        {\n            return -1;\n        }\n    }\n\n    //Both are equal\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4501967,"reputation":4684,"user_id":3660290,"display_name":"G00fY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564837456,"creation_date":1564837456,"answer_id":57338571,"question_id":198431,"body_markdown":"I have written a small Java/Android library for comparing version numbers: https://github.com/G00fY2/version-compare\r\n\r\nWhat it basically does is this:\r\n\r\n      public int compareVersions(String versionA, String versionB) {\r\n        String[] versionTokensA = versionA.split(&quot;\\\\.&quot;);\r\n        String[] versionTokensB = versionB.split(&quot;\\\\.&quot;);\r\n        List&lt;Integer&gt; versionNumbersA = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; versionNumbersB = new ArrayList&lt;&gt;();\r\n    \r\n        for (String versionToken : versionTokensA) {\r\n          versionNumbersA.add(Integer.parseInt(versionToken));\r\n        }\r\n        for (String versionToken : versionTokensB) {\r\n          versionNumbersB.add(Integer.parseInt(versionToken));\r\n        }\r\n    \r\n        final int versionASize = versionNumbersA.size();\r\n        final int versionBSize = versionNumbersB.size();\r\n        int maxSize = Math.max(versionASize, versionBSize);\r\n    \r\n        for (int i = 0; i &lt; maxSize; i++) {\r\n          if ((i &lt; versionASize ? versionNumbersA.get(i) : 0) &gt; (i &lt; versionBSize ? versionNumbersB.get(i) : 0)) {\r\n            return 1;\r\n          } else if ((i &lt; versionASize ? versionNumbersA.get(i) : 0) &lt; (i &lt; versionBSize ? versionNumbersB.get(i) : 0)) {\r\n            return -1;\r\n          }\r\n        }\r\n        return 0;\r\n      }\r\n\r\nThis snippet doesn&#39;t offer any error checks or handling. Beside that my library also supports suffixes like &quot;1.2-rc&quot; &gt; &quot;1.2-beta&quot;.","title":"How do you compare two version Strings in Java?","body":"<p>I have written a small Java/Android library for comparing version numbers: <a href=\"https://github.com/G00fY2/version-compare\" rel=\"nofollow noreferrer\">https://github.com/G00fY2/version-compare</a></p>\n\n<p>What it basically does is this:</p>\n\n<pre><code>  public int compareVersions(String versionA, String versionB) {\n    String[] versionTokensA = versionA.split(\"\\\\.\");\n    String[] versionTokensB = versionB.split(\"\\\\.\");\n    List&lt;Integer&gt; versionNumbersA = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; versionNumbersB = new ArrayList&lt;&gt;();\n\n    for (String versionToken : versionTokensA) {\n      versionNumbersA.add(Integer.parseInt(versionToken));\n    }\n    for (String versionToken : versionTokensB) {\n      versionNumbersB.add(Integer.parseInt(versionToken));\n    }\n\n    final int versionASize = versionNumbersA.size();\n    final int versionBSize = versionNumbersB.size();\n    int maxSize = Math.max(versionASize, versionBSize);\n\n    for (int i = 0; i &lt; maxSize; i++) {\n      if ((i &lt; versionASize ? versionNumbersA.get(i) : 0) &gt; (i &lt; versionBSize ? versionNumbersB.get(i) : 0)) {\n        return 1;\n      } else if ((i &lt; versionASize ? versionNumbersA.get(i) : 0) &lt; (i &lt; versionBSize ? versionNumbersB.get(i) : 0)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n</code></pre>\n\n<p>This snippet doesn't offer any error checks or handling. Beside that my library also supports suffixes like \"1.2-rc\" > \"1.2-beta\".</p>\n"},{"tags":[],"owner":{"account_id":1580007,"reputation":13258,"user_id":1465553,"accept_rate":68,"display_name":"Saurav Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568268065,"creation_date":1568268065,"answer_id":57900552,"question_id":198431,"body_markdown":"Using Java 8 Stream to replace leading zeroes in components. This code passed all tests on [interviewbit.com][1]\r\n\r\n    public int compareVersion(String A, String B) {\r\n        List&lt;String&gt; strList1 = Arrays.stream(A.split(&quot;\\\\.&quot;))\r\n                                               .map(s -&gt; s.replaceAll(&quot;^0+(?!$)&quot;, &quot;&quot;))\r\n                                               .collect(Collectors.toList());\r\n        List&lt;String&gt; strList2 = Arrays.stream(B.split(&quot;\\\\.&quot;))\r\n                                               .map(s -&gt; s.replaceAll(&quot;^0+(?!$)&quot;, &quot;&quot;))\r\n                                               .collect(Collectors.toList());\r\n        int len1 = strList1.size();\r\n        int len2 = strList2.size();\r\n        int i = 0;\r\n        while(i &lt; len1 &amp;&amp; i &lt; len2){\r\n            if (strList1.get(i).length() &gt; strList2.get(i).length()) return 1;\r\n            if (strList1.get(i).length() &lt; strList2.get(i).length()) return -1;\r\n            int result = new Long(strList1.get(i)).compareTo(new Long(strList2.get(i)));\r\n            if (result != 0) return result;\r\n            i++;\r\n        }\r\n        while (i &lt; len1){\r\n            if (!strList1.get(i++).equals(&quot;0&quot;)) return 1;\r\n        }\r\n        while (i &lt; len2){\r\n            if (!strList2.get(i++).equals(&quot;0&quot;)) return -1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n\r\n  [1]: https://www.interviewbit.com/problems/compare-version-numbers/","title":"How do you compare two version Strings in Java?","body":"<p>Using Java 8 Stream to replace leading zeroes in components. This code passed all tests on <a href=\"https://www.interviewbit.com/problems/compare-version-numbers/\" rel=\"nofollow noreferrer\">interviewbit.com</a></p>\n\n<pre><code>public int compareVersion(String A, String B) {\n    List&lt;String&gt; strList1 = Arrays.stream(A.split(\"\\\\.\"))\n                                           .map(s -&gt; s.replaceAll(\"^0+(?!$)\", \"\"))\n                                           .collect(Collectors.toList());\n    List&lt;String&gt; strList2 = Arrays.stream(B.split(\"\\\\.\"))\n                                           .map(s -&gt; s.replaceAll(\"^0+(?!$)\", \"\"))\n                                           .collect(Collectors.toList());\n    int len1 = strList1.size();\n    int len2 = strList2.size();\n    int i = 0;\n    while(i &lt; len1 &amp;&amp; i &lt; len2){\n        if (strList1.get(i).length() &gt; strList2.get(i).length()) return 1;\n        if (strList1.get(i).length() &lt; strList2.get(i).length()) return -1;\n        int result = new Long(strList1.get(i)).compareTo(new Long(strList2.get(i)));\n        if (result != 0) return result;\n        i++;\n    }\n    while (i &lt; len1){\n        if (!strList1.get(i++).equals(\"0\")) return 1;\n    }\n    while (i &lt; len2){\n        if (!strList2.get(i++).equals(\"0\")) return -1;\n    }\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4166327,"reputation":379,"user_id":3415235,"display_name":"felixh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611714502,"creation_date":1573819678,"answer_id":58876745,"question_id":198431,"body_markdown":"Since no answer on this page handles mixed text well, I made my own version:\r\n\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nclass Main {\r\n    static double parseVersion(String v) {\r\n        if (v.isEmpty()) {\r\n            return 0;\r\n        }\r\n        Pattern p = Pattern.compile(&quot;^(\\\\D*)(\\\\d*)(\\\\D*)$&quot;);\r\n        Matcher m = p.matcher(v);\r\n        m.find();\r\n        if (m.group(2).isEmpty()) {\r\n            // v1.0.0.[preview]\r\n            return -1;\r\n        }\r\n        double i = Integer.parseInt(m.group(2));\r\n        if (!m.group(3).isEmpty()) {\r\n            // v1.0.[0b]\r\n            i -= 0.1;\r\n        }\r\n        return i;\r\n    }\r\n\r\n    public static int versionCompare(String str1, String str2) {\r\n        String[] v1 = str1.split(&quot;\\\\.&quot;);\r\n        String[] v2 = str2.split(&quot;\\\\.&quot;);\r\n        int i = 0;\r\n        for (; i &lt; v1.length &amp;&amp; i &lt; v2.length; i++) {\r\n            double iv1 = parseVersion(v1[i]);\r\n            double iv2 = parseVersion(v2[i]);\r\n\r\n            if (iv1 != iv2) {\r\n                return iv1 - iv2 &lt; 0 ? -1 : 1;\r\n            }\r\n        }\r\n        if (i &lt; v1.length) {\r\n            // &quot;1.0.1&quot;, &quot;1.0&quot;\r\n            double iv1 = parseVersion(v1[i]);\r\n            return iv1 &lt; 0 ? -1 : (int) Math.ceil(iv1);\r\n        }\r\n        if (i &lt; v2.length) {\r\n            double iv2 = parseVersion(v2[i]);\r\n            return -iv2 &lt; 0 ? -1 : (int) Math.ceil(iv2);\r\n        }\r\n        return 0;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;versionCompare(v1.0.0, 1.0.0)&quot;);\r\n        System.out.println(versionCompare(&quot;v1.0.0&quot;, &quot;1.0.0&quot;)); // 0\r\n\r\n        System.out.println(&quot;versionCompare(v1.0.0b, 1.0.0)&quot;);\r\n        System.out.println(versionCompare(&quot;v1.0.0b&quot;, &quot;1.0.0&quot;)); // -1\r\n\r\n        System.out.println(&quot;versionCompare(v1.0.0.preview, 1.0.0)&quot;);\r\n        System.out.println(versionCompare(&quot;v1.0.0.preview&quot;, &quot;1.0.0&quot;)); // -1\r\n\r\n        System.out.println(&quot;versionCompare(v1.0, 1.0.0)&quot;);\r\n        System.out.println(versionCompare(&quot;v1.0&quot;, &quot;1.0.0&quot;)); // 0\r\n\r\n        System.out.println(&quot;versionCompare(ver1.0, 1.0.1)&quot;);\r\n        System.out.println(versionCompare(&quot;ver1.0&quot;, &quot;1.0.1&quot;)); // -1\r\n    }\r\n}\r\n```\r\n\r\nIt still falls short on cases where you need to compare &quot;alpha&quot; with &quot;beta&quot; though.","title":"How do you compare two version Strings in Java?","body":"<p>Since no answer on this page handles mixed text well, I made my own version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Main {\n    static double parseVersion(String v) {\n        if (v.isEmpty()) {\n            return 0;\n        }\n        Pattern p = Pattern.compile(&quot;^(\\\\D*)(\\\\d*)(\\\\D*)$&quot;);\n        Matcher m = p.matcher(v);\n        m.find();\n        if (m.group(2).isEmpty()) {\n            // v1.0.0.[preview]\n            return -1;\n        }\n        double i = Integer.parseInt(m.group(2));\n        if (!m.group(3).isEmpty()) {\n            // v1.0.[0b]\n            i -= 0.1;\n        }\n        return i;\n    }\n\n    public static int versionCompare(String str1, String str2) {\n        String[] v1 = str1.split(&quot;\\\\.&quot;);\n        String[] v2 = str2.split(&quot;\\\\.&quot;);\n        int i = 0;\n        for (; i &lt; v1.length &amp;&amp; i &lt; v2.length; i++) {\n            double iv1 = parseVersion(v1[i]);\n            double iv2 = parseVersion(v2[i]);\n\n            if (iv1 != iv2) {\n                return iv1 - iv2 &lt; 0 ? -1 : 1;\n            }\n        }\n        if (i &lt; v1.length) {\n            // &quot;1.0.1&quot;, &quot;1.0&quot;\n            double iv1 = parseVersion(v1[i]);\n            return iv1 &lt; 0 ? -1 : (int) Math.ceil(iv1);\n        }\n        if (i &lt; v2.length) {\n            double iv2 = parseVersion(v2[i]);\n            return -iv2 &lt; 0 ? -1 : (int) Math.ceil(iv2);\n        }\n        return 0;\n    }\n\n\n    public static void main(String[] args) {\n        System.out.println(&quot;versionCompare(v1.0.0, 1.0.0)&quot;);\n        System.out.println(versionCompare(&quot;v1.0.0&quot;, &quot;1.0.0&quot;)); // 0\n\n        System.out.println(&quot;versionCompare(v1.0.0b, 1.0.0)&quot;);\n        System.out.println(versionCompare(&quot;v1.0.0b&quot;, &quot;1.0.0&quot;)); // -1\n\n        System.out.println(&quot;versionCompare(v1.0.0.preview, 1.0.0)&quot;);\n        System.out.println(versionCompare(&quot;v1.0.0.preview&quot;, &quot;1.0.0&quot;)); // -1\n\n        System.out.println(&quot;versionCompare(v1.0, 1.0.0)&quot;);\n        System.out.println(versionCompare(&quot;v1.0&quot;, &quot;1.0.0&quot;)); // 0\n\n        System.out.println(&quot;versionCompare(ver1.0, 1.0.1)&quot;);\n        System.out.println(versionCompare(&quot;ver1.0&quot;, &quot;1.0.1&quot;)); // -1\n    }\n}\n</code></pre>\n<p>It still falls short on cases where you need to compare &quot;alpha&quot; with &quot;beta&quot; though.</p>\n"},{"tags":[],"owner":{"account_id":11363430,"reputation":1926,"user_id":8331006,"accept_rate":100,"display_name":"BharathRao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575639368,"creation_date":1575639368,"answer_id":59214235,"question_id":198431,"body_markdown":"For someone who is going to show Force Update Alert based on version number I have a following Idea. This may be used when comparing the versions between Android Current App version and firebase remote config version. This is not exactly the answer for the question asked but this will help someone definitely.\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    public class Main\r\n    {\r\n      static String firebaseVersion = &quot;2.1.3&quot;; // or 2.1\r\n      static String appVersion = &quot;2.1.4&quot;;\r\n      static List&lt;String&gt; firebaseVersionArray;\r\n      static List&lt;String&gt; appVersionArray;\r\n      static boolean isNeedToShowAlert = false;\r\n      public static void main (String[]args)\r\n      {\r\n        System.out.println (&quot;Hello World&quot;);\r\n        firebaseVersionArray = new ArrayList&lt;String&gt;(Arrays.asList(firebaseVersion.split (&quot;\\\\.&quot;)));\r\n        appVersionArray = new ArrayList&lt;String&gt;(Arrays.asList(appVersion.split (&quot;\\\\.&quot;)));\r\n        if(appVersionArray.size() &lt; firebaseVersionArray.size()) {\r\n            appVersionArray.add(&quot;0&quot;);\r\n        }\r\n        if(firebaseVersionArray.size() &lt; appVersionArray.size()) {\r\n            firebaseVersionArray.add(&quot;0&quot;);\r\n        }\r\n        isNeedToShowAlert = needToShowAlert(); //Returns false\r\n        System.out.println (isNeedToShowAlert);\r\n    \r\n      }\r\n      static boolean needToShowAlert() {\r\n          boolean result = false;\r\n          for(int i = 0 ; i &lt; appVersionArray.size() ; i++) {\r\n              if (Integer.parseInt(appVersionArray.get(i)) == Integer.parseInt(firebaseVersionArray.get(i))) {\r\n                  continue;\r\n              } else if (Integer.parseInt(appVersionArray.get(i)) &gt; Integer.parseInt(firebaseVersionArray.get(i))){\r\n                 result = false;\r\n                 break;\r\n              } else if (Integer.parseInt(appVersionArray.get(i)) &lt; Integer.parseInt(firebaseVersionArray.get(i))) {\r\n                 result = true;\r\n                 break;  \r\n              }\r\n          }\r\n          return result;\r\n      }\r\n    }\r\n\r\nYou can run this code by copy pasting in \r\nhttps://www.onlinegdb.com/online_java_compiler","title":"How do you compare two version Strings in Java?","body":"<p>For someone who is going to show Force Update Alert based on version number I have a following Idea. This may be used when comparing the versions between Android Current App version and firebase remote config version. This is not exactly the answer for the question asked but this will help someone definitely.</p>\n\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Arrays;\npublic class Main\n{\n  static String firebaseVersion = \"2.1.3\"; // or 2.1\n  static String appVersion = \"2.1.4\";\n  static List&lt;String&gt; firebaseVersionArray;\n  static List&lt;String&gt; appVersionArray;\n  static boolean isNeedToShowAlert = false;\n  public static void main (String[]args)\n  {\n    System.out.println (\"Hello World\");\n    firebaseVersionArray = new ArrayList&lt;String&gt;(Arrays.asList(firebaseVersion.split (\"\\\\.\")));\n    appVersionArray = new ArrayList&lt;String&gt;(Arrays.asList(appVersion.split (\"\\\\.\")));\n    if(appVersionArray.size() &lt; firebaseVersionArray.size()) {\n        appVersionArray.add(\"0\");\n    }\n    if(firebaseVersionArray.size() &lt; appVersionArray.size()) {\n        firebaseVersionArray.add(\"0\");\n    }\n    isNeedToShowAlert = needToShowAlert(); //Returns false\n    System.out.println (isNeedToShowAlert);\n\n  }\n  static boolean needToShowAlert() {\n      boolean result = false;\n      for(int i = 0 ; i &lt; appVersionArray.size() ; i++) {\n          if (Integer.parseInt(appVersionArray.get(i)) == Integer.parseInt(firebaseVersionArray.get(i))) {\n              continue;\n          } else if (Integer.parseInt(appVersionArray.get(i)) &gt; Integer.parseInt(firebaseVersionArray.get(i))){\n             result = false;\n             break;\n          } else if (Integer.parseInt(appVersionArray.get(i)) &lt; Integer.parseInt(firebaseVersionArray.get(i))) {\n             result = true;\n             break;  \n          }\n      }\n      return result;\n  }\n}\n</code></pre>\n\n<p>You can run this code by copy pasting in \n<a href=\"https://www.onlinegdb.com/online_java_compiler\" rel=\"nofollow noreferrer\">https://www.onlinegdb.com/online_java_compiler</a></p>\n"},{"tags":[],"owner":{"account_id":9811220,"reputation":81,"user_id":7269334,"display_name":"Lakshmi Narayana Galla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579928972,"creation_date":1579928972,"answer_id":59906510,"question_id":198431,"body_markdown":"\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString version1 = &quot;1.0&quot;;\r\n\t\tString version2 = &quot;1.0.0&quot;;\r\n\t\tString[] version1_splits = version1.split(&quot;\\\\.&quot;);\r\n\t\tString[] version2_splits = version2.split(&quot;\\\\.&quot;);\r\n\t\tint length = version1_splits.length &gt;= version2_splits.length ? version1_splits.length : version2_splits.length;\r\n\t\tint i=0;\r\n\t\tfor(;i&lt;length;i++){\r\n\t\t\tint version1_int = getValue(version1_splits,i);\r\n\t\t\tint version2_int = getValue(version2_splits,i);\r\n\t\t\tif(version1_int &gt; version2_int){\r\n\t\t\t\tSystem.out.println(&quot;version1 &gt; version2&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if(version1_int &lt; version2_int){\r\n\t\t\t\tSystem.out.println(&quot;version2 &gt; version1&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(i == length-1)\r\n\t\t\t\tSystem.out.println(&quot;version1 = version2&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static int getValue(String[] version1_splits, int i) {\r\n\t\tint temp;\r\n\t\ttry{\r\n\t\t\ttemp = Integer.valueOf(version1_splits[i]);\r\n\t\t}\r\n\t\tcatch(IndexOutOfBoundsException e){\r\n\t\t\ttemp=0;\r\n\t\t}\r\n\t\t\r\n\t\treturn temp;\r\n\t}\r\n\r\n\r\n","title":"How do you compare two version Strings in Java?","body":"<pre><code>public static void main(String[] args) {\n\n    String version1 = \"1.0\";\n    String version2 = \"1.0.0\";\n    String[] version1_splits = version1.split(\"\\\\.\");\n    String[] version2_splits = version2.split(\"\\\\.\");\n    int length = version1_splits.length &gt;= version2_splits.length ? version1_splits.length : version2_splits.length;\n    int i=0;\n    for(;i&lt;length;i++){\n        int version1_int = getValue(version1_splits,i);\n        int version2_int = getValue(version2_splits,i);\n        if(version1_int &gt; version2_int){\n            System.out.println(\"version1 &gt; version2\");\n            break;\n        }\n        else if(version1_int &lt; version2_int){\n            System.out.println(\"version2 &gt; version1\");\n            break;\n        }\n        else{\n            if(i == length-1)\n            System.out.println(\"version1 = version2\");\n        }\n    }\n}\n\nprivate static int getValue(String[] version1_splits, int i) {\n    int temp;\n    try{\n        temp = Integer.valueOf(version1_splits[i]);\n    }\n    catch(IndexOutOfBoundsException e){\n        temp=0;\n    }\n\n    return temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15466105,"reputation":307,"user_id":11157397,"display_name":"Marcello C&#226;mara"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616605567,"creation_date":1587781531,"answer_id":61420225,"question_id":198431,"body_markdown":"I done it right now and asked myself, is it correct? Because I&#39;ve never found a cleanest solution before than mine:\r\n\r\nYou just need to split the string versions (&quot;1.0.0&quot;) like this example:\r\n\r\n    userVersion.split(&quot;\\\\.&quot;)\r\n\r\nThen you will have: {&quot;1&quot;, &quot;0&quot;, &quot;0&quot;}\r\n\r\nNow, using the method that I done:\r\n\r\n    isUpdateAvailable(userVersion.split(&quot;\\\\.&quot;), latestVersionSplit.split(&quot;\\\\.&quot;));\r\n\r\nMethod:\r\n\r\n    /**\r\n     * Compare two versions\r\n     *\r\n     * @param userVersionSplit   - User string array with major, minor and patch version from user (exemple: {&quot;5&quot;, &quot;2&quot;, &quot;70&quot;})\r\n     * @param latestVersionSplit - Latest string array with major, minor and patch version from api (example: {&quot;5&quot;, &quot;2&quot;, &quot;71&quot;})\r\n     * @return true if user version is smaller than latest version\r\n     */\r\n    public static boolean isUpdateAvailable(String[] userVersionSplit, String[] latestVersionSplit) {\r\n\r\n        try {\r\n            int majorUserVersion = Integer.parseInt(userVersionSplit[0]);\r\n            int minorUserVersion = Integer.parseInt(userVersionSplit[1]);\r\n            int patchUserVersion = Integer.parseInt(userVersionSplit[2]);\r\n\r\n            int majorLatestVersion = Integer.parseInt(latestVersionSplit[0]);\r\n            int minorLatestVersion = Integer.parseInt(latestVersionSplit[1]);\r\n            int patchLatestVersion = Integer.parseInt(latestVersionSplit[2]);\r\n\r\n            if (majorUserVersion &lt;= majorLatestVersion) {\r\n                if (majorUserVersion &lt; majorLatestVersion) {\r\n                    return true;\r\n                } else {\r\n                    if (minorUserVersion &lt;= minorLatestVersion) {\r\n                        if (minorUserVersion &lt; minorLatestVersion) {\r\n                            return true;\r\n                        } else {\r\n                            return patchUserVersion &lt; patchLatestVersion;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception ignored) {\r\n            // Will be throw only if the versions pattern is different from &quot;x.x.x&quot; format\r\n            // Will return false at the end\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\nWaiting for any feedback :)","title":"How do you compare two version Strings in Java?","body":"<p>I done it right now and asked myself, is it correct? Because I've never found a cleanest solution before than mine:</p>\n<p>You just need to split the string versions (&quot;1.0.0&quot;) like this example:</p>\n<pre><code>userVersion.split(&quot;\\\\.&quot;)\n</code></pre>\n<p>Then you will have: {&quot;1&quot;, &quot;0&quot;, &quot;0&quot;}</p>\n<p>Now, using the method that I done:</p>\n<pre><code>isUpdateAvailable(userVersion.split(&quot;\\\\.&quot;), latestVersionSplit.split(&quot;\\\\.&quot;));\n</code></pre>\n<p>Method:</p>\n<pre><code>/**\n * Compare two versions\n *\n * @param userVersionSplit   - User string array with major, minor and patch version from user (exemple: {&quot;5&quot;, &quot;2&quot;, &quot;70&quot;})\n * @param latestVersionSplit - Latest string array with major, minor and patch version from api (example: {&quot;5&quot;, &quot;2&quot;, &quot;71&quot;})\n * @return true if user version is smaller than latest version\n */\npublic static boolean isUpdateAvailable(String[] userVersionSplit, String[] latestVersionSplit) {\n\n    try {\n        int majorUserVersion = Integer.parseInt(userVersionSplit[0]);\n        int minorUserVersion = Integer.parseInt(userVersionSplit[1]);\n        int patchUserVersion = Integer.parseInt(userVersionSplit[2]);\n\n        int majorLatestVersion = Integer.parseInt(latestVersionSplit[0]);\n        int minorLatestVersion = Integer.parseInt(latestVersionSplit[1]);\n        int patchLatestVersion = Integer.parseInt(latestVersionSplit[2]);\n\n        if (majorUserVersion &lt;= majorLatestVersion) {\n            if (majorUserVersion &lt; majorLatestVersion) {\n                return true;\n            } else {\n                if (minorUserVersion &lt;= minorLatestVersion) {\n                    if (minorUserVersion &lt; minorLatestVersion) {\n                        return true;\n                    } else {\n                        return patchUserVersion &lt; patchLatestVersion;\n                    }\n                }\n            }\n        }\n    } catch (Exception ignored) {\n        // Will be throw only if the versions pattern is different from &quot;x.x.x&quot; format\n        // Will return false at the end\n    }\n\n    return false;\n}\n</code></pre>\n<p>Waiting for any feedback :)</p>\n"},{"tags":[],"owner":{"account_id":8469613,"reputation":2411,"user_id":6352712,"accept_rate":89,"display_name":"Serg Burlaka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589461273,"creation_date":1589454057,"answer_id":61795721,"question_id":198431,"body_markdown":"@alex&#39;s [post][1] on Kotlin\r\n\r\n   \r\n\r\n   \r\n\r\n \r\n\r\n    class Version(inputVersion: String) : Comparable&lt;Version&gt; {\r\n        \r\n            var version: String\r\n                private set\r\n        \r\n            override fun compareTo(other: Version) =\r\n                (split() to other.split()).let {(thisParts, thatParts)-&gt;\r\n                    val length = max(thisParts.size, thatParts.size)\r\n                    for (i in 0 until length) {\r\n                        val thisPart = if (i &lt; thisParts.size) thisParts[i].toInt() else 0\r\n                        val thatPart = if (i &lt; thatParts.size) thatParts[i].toInt() else 0\r\n                        if (thisPart &lt; thatPart) return -1\r\n                        if (thisPart &gt; thatPart) return 1\r\n                    }\r\n                     0\r\n                }\r\n        \r\n            init {\r\n                require(inputVersion.matches(&quot;[0-9]+(\\\\.[0-9]+)*&quot;.toRegex())) { &quot;Invalid version format&quot; }\r\n                version = inputVersion\r\n            }\r\n        }\r\n        \r\n        fun Version.split() = version.split(&quot;.&quot;).toTypedArray()\r\n\r\n\r\nusage:\r\n\r\n    Version(&quot;1.2.4&quot;).compareTo(Version(&quot;0.0.5&quot;)) //return 1\r\n\r\n  [1]: https://stackoverflow.com/a/11024200/6352712\r\n","title":"How do you compare two version Strings in Java?","body":"<p>@alex's <a href=\"https://stackoverflow.com/a/11024200/6352712\">post</a> on Kotlin</p>\n\n<pre><code>class Version(inputVersion: String) : Comparable&lt;Version&gt; {\n\n        var version: String\n            private set\n\n        override fun compareTo(other: Version) =\n            (split() to other.split()).let {(thisParts, thatParts)-&gt;\n                val length = max(thisParts.size, thatParts.size)\n                for (i in 0 until length) {\n                    val thisPart = if (i &lt; thisParts.size) thisParts[i].toInt() else 0\n                    val thatPart = if (i &lt; thatParts.size) thatParts[i].toInt() else 0\n                    if (thisPart &lt; thatPart) return -1\n                    if (thisPart &gt; thatPart) return 1\n                }\n                 0\n            }\n\n        init {\n            require(inputVersion.matches(\"[0-9]+(\\\\.[0-9]+)*\".toRegex())) { \"Invalid version format\" }\n            version = inputVersion\n        }\n    }\n\n    fun Version.split() = version.split(\".\").toTypedArray()\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>Version(\"1.2.4\").compareTo(Version(\"0.0.5\")) //return 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3123068,"reputation":4253,"user_id":2642478,"accept_rate":90,"display_name":"Alessandro Scarozza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594372699,"creation_date":1592908479,"answer_id":62532745,"question_id":198431,"body_markdown":"based on https://stackoverflow.com/a/27891752/2642478\r\n\r\n    class Version(private val value: String) : Comparable&lt;Version&gt; {\r\n        private val splitted by lazy { value.split(&quot;-&quot;).first().split(&quot;.&quot;).map { it.toIntOrNull() ?: 0 } }\r\n    \r\n        override fun compareTo(other: Version): Int {\r\n            for (i in 0 until maxOf(splitted.size, other.splitted.size)) {\r\n                val compare = splitted.getOrElse(i) { 0 }.compareTo(other.splitted.getOrElse(i) { 0 })\r\n                if (compare != 0)\r\n                    return compare\r\n            }\r\n            return 0\r\n        }\r\n    }\r\n\r\nyou can use like:\r\n\r\n        System.err.println(Version(&quot;1.0&quot;).compareTo( Version(&quot;1.0&quot;)))\r\n        System.err.println(Version(&quot;1.0&quot;) &lt; Version(&quot;1.1&quot;))\r\n        System.err.println(Version(&quot;1.10&quot;) &gt; Version(&quot;1.9&quot;))\r\n        System.err.println(Version(&quot;1.10.1&quot;) &gt; Version(&quot;1.10&quot;))\r\n        System.err.println(Version(&quot;0.0.1&quot;) &lt; Version(&quot;1&quot;))","title":"How do you compare two version Strings in Java?","body":"<p>based on <a href=\"https://stackoverflow.com/a/27891752/2642478\">https://stackoverflow.com/a/27891752/2642478</a></p>\n<pre><code>class Version(private val value: String) : Comparable&lt;Version&gt; {\n    private val splitted by lazy { value.split(&quot;-&quot;).first().split(&quot;.&quot;).map { it.toIntOrNull() ?: 0 } }\n\n    override fun compareTo(other: Version): Int {\n        for (i in 0 until maxOf(splitted.size, other.splitted.size)) {\n            val compare = splitted.getOrElse(i) { 0 }.compareTo(other.splitted.getOrElse(i) { 0 })\n            if (compare != 0)\n                return compare\n        }\n        return 0\n    }\n}\n</code></pre>\n<p>you can use like:</p>\n<pre><code>    System.err.println(Version(&quot;1.0&quot;).compareTo( Version(&quot;1.0&quot;)))\n    System.err.println(Version(&quot;1.0&quot;) &lt; Version(&quot;1.1&quot;))\n    System.err.println(Version(&quot;1.10&quot;) &gt; Version(&quot;1.9&quot;))\n    System.err.println(Version(&quot;1.10.1&quot;) &gt; Version(&quot;1.10&quot;))\n    System.err.println(Version(&quot;0.0.1&quot;) &lt; Version(&quot;1&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3314606,"reputation":49,"user_id":2787260,"display_name":"Artyom Deynega"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1602774557,"creation_date":1602774557,"answer_id":64374606,"question_id":198431,"body_markdown":"Maybe someone will be interested in my solution:\r\n\r\n````\r\nclass Version private constructor(private val versionString: String) : Comparable&lt;Version&gt; {\r\n\r\n    private val major: Int by lazy { versionString.split(&quot;.&quot;)[0].toInt() }\r\n\r\n    private val minor: Int by lazy { versionString.split(&quot;.&quot;)[1].toInt() }\r\n\r\n    private val patch: Int by lazy {\r\n        val splitArray = versionString.split(&quot;.&quot;)\r\n\r\n        if (splitArray.size == 3)\r\n            splitArray[2].toInt()\r\n        else\r\n            0\r\n    }\r\n\r\n    override fun compareTo(other: Version): Int {\r\n        return when {\r\n            major &gt; other.major -&gt; 1\r\n            major &lt; other.major -&gt; -1\r\n            minor &gt; other.minor -&gt; 1\r\n            minor &lt; other.minor -&gt; -1\r\n            patch &gt; other.patch -&gt; 1\r\n            patch &lt; other.patch -&gt; -1\r\n            else -&gt; 0\r\n        }\r\n    }\r\n\r\n    override fun equals(other: Any?): Boolean {\r\n        if (other == null || other !is Version) return false\r\n        return compareTo(other) == 0\r\n    }\r\n\r\n    override fun hashCode(): Int {\r\n        return major * minor * patch\r\n    }\r\n\r\n    companion object {\r\n        private fun doesContainsVersion(string: String): Boolean {\r\n            val versionArray = string.split(&quot;.&quot;)\r\n\r\n            return versionArray.size in 2..3\r\n                    &amp;&amp; versionArray[0].toIntOrNull() != null\r\n                    &amp;&amp; versionArray[1].toIntOrNull() != null\r\n                    &amp;&amp; (versionArray.size == 2 || versionArray[2].toIntOrNull() != null)\r\n        }\r\n\r\n        fun from(string: String): Version? {\r\n            return if (doesContainsVersion(string)) {\r\n                Version(string)\r\n            } else {\r\n                null\r\n            }\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nUsage:\r\n\r\n````\r\nval version1 = Version.from(&quot;3.2&quot;)\r\nval version2 = Version.from(&quot;3.2.1&quot;)\r\nversion1 &lt;= version2\r\n\r\n````\r\n","title":"How do you compare two version Strings in Java?","body":"<p>Maybe someone will be interested in my solution:</p>\n<pre><code>class Version private constructor(private val versionString: String) : Comparable&lt;Version&gt; {\n\n    private val major: Int by lazy { versionString.split(&quot;.&quot;)[0].toInt() }\n\n    private val minor: Int by lazy { versionString.split(&quot;.&quot;)[1].toInt() }\n\n    private val patch: Int by lazy {\n        val splitArray = versionString.split(&quot;.&quot;)\n\n        if (splitArray.size == 3)\n            splitArray[2].toInt()\n        else\n            0\n    }\n\n    override fun compareTo(other: Version): Int {\n        return when {\n            major &gt; other.major -&gt; 1\n            major &lt; other.major -&gt; -1\n            minor &gt; other.minor -&gt; 1\n            minor &lt; other.minor -&gt; -1\n            patch &gt; other.patch -&gt; 1\n            patch &lt; other.patch -&gt; -1\n            else -&gt; 0\n        }\n    }\n\n    override fun equals(other: Any?): Boolean {\n        if (other == null || other !is Version) return false\n        return compareTo(other) == 0\n    }\n\n    override fun hashCode(): Int {\n        return major * minor * patch\n    }\n\n    companion object {\n        private fun doesContainsVersion(string: String): Boolean {\n            val versionArray = string.split(&quot;.&quot;)\n\n            return versionArray.size in 2..3\n                    &amp;&amp; versionArray[0].toIntOrNull() != null\n                    &amp;&amp; versionArray[1].toIntOrNull() != null\n                    &amp;&amp; (versionArray.size == 2 || versionArray[2].toIntOrNull() != null)\n        }\n\n        fun from(string: String): Version? {\n            return if (doesContainsVersion(string)) {\n                Version(string)\n            } else {\n                null\n            }\n        }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val version1 = Version.from(&quot;3.2&quot;)\nval version2 = Version.from(&quot;3.2.1&quot;)\nversion1 &lt;= version2\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1628605295,"creation_date":1606753567,"answer_id":65077344,"question_id":198431,"body_markdown":"# Use Java 9&#39;s [own builtin `Version` class](https://docs.oracle.com/javase/9/docs/api/java/lang/module/ModuleDescriptor.Version.html)\r\n\r\n    import java.util.*;\r\n    import java.lang.module.ModuleDescriptor.Version;\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        var versions = Arrays.asList(\r\n          &quot;1.0.2&quot;,\r\n          &quot;1.0.0-beta.2&quot;,\r\n          &quot;1.0.0&quot;,\r\n          &quot;1.0.0-beta&quot;,\r\n          &quot;1.0.0-alpha.12&quot;,\r\n          &quot;1.0.0-beta.11&quot;,\r\n          &quot;1.0.1&quot;,\r\n          &quot;1.0.11&quot;,\r\n          &quot;1.0.0-rc.1&quot;,\r\n          &quot;1.0.0-alpha.1&quot;,\r\n          &quot;1.1.0&quot;,\r\n          &quot;1.0.0-alpha.beta&quot;,\r\n          &quot;1.11.0&quot;,\r\n          &quot;1.0.0-alpha.12.ab-c&quot;,\r\n          &quot;0.0.1&quot;,\r\n          &quot;1.2.1&quot;,\r\n          &quot;1.0.0-alpha&quot;,\r\n          &quot;1.0.0.1&quot;,  // Also works with a number of sections different than 3\r\n          &quot;1.0.0.2&quot;,\r\n          &quot;2&quot;,\r\n          &quot;10&quot;,\r\n          &quot;1.0.0.10&quot;\r\n        );\r\n        versions.stream()\r\n          .map(Version::parse)\r\n          .sorted()\r\n          .forEach(System.out::println);\r\n      }\r\n    }\r\n\r\n[Try it online!][TIO-ks65hpf0]\r\n\r\n[Java (JDK)]: http://jdk.java.net/\r\n[TIO-ks65hpf0]: https://tio.run/##dZI9b8JADIb3/AqLKVTlyNEN1AGp3cqE1KXq4CQXcnC5i@xLEKr47WkaUAkBJsuvH3/I9hZrnGzTXdPoonTkYdsKovLaiKdF0NcM2o0oXFoZJVadeVOckC69I/GpiLWziyAxyAwr1BZ@AoCyio1OgD361tROp1C0sXDtSdvN1zcgbXjcoQA1EtSnQgyvsCTCAwvkD80@7AiAkRSRmI2e@240iZXHG/UeNNTQlDkKeb@glNfy0JXDLEqEfNChL8vb2U7UcEL5kJQzgfEkuQSj4XyzB6MMxD8KYDqFpWEHe0c7hr32OSDYqogVgcuAVeK7o6Q6yxQp68HnaOHlulRvi/2FRjcto1EnjBens59PLtiTwiIcn2lRYBmeH2s@L5FY/Ye4fUuVXtDM0Tsmebg@sFeFcJVvM9oX88Z2XY7BsWl@AQ &quot;Java (JDK)  Try It Online&quot;\r\n\r\nOutput:\r\n\r\n````lang-text\r\n0.0.1\r\n1.0.0-alpha\r\n1.0.0-alpha.1\r\n1.0.0-alpha.12\r\n1.0.0-alpha.12.ab-c\r\n1.0.0-alpha.beta\r\n1.0.0-beta\r\n1.0.0-beta.2\r\n1.0.0-beta.11\r\n1.0.0-rc.1\r\n1.0.0\r\n1.0.0.1\r\n1.0.0.2\r\n1.0.0.10\r\n1.0.1\r\n1.0.2\r\n1.0.11\r\n1.1.0\r\n1.2.1\r\n1.11.0\r\n2\r\n10\r\n````","title":"How do you compare two version Strings in Java?","body":"<h1>Use Java 9's <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/module/ModuleDescriptor.Version.html\" rel=\"noreferrer\">own builtin <code>Version</code> class</a></h1>\n<pre><code>import java.util.*;\nimport java.lang.module.ModuleDescriptor.Version;\nclass Main {\n  public static void main(String[] args) {\n    var versions = Arrays.asList(\n      &quot;1.0.2&quot;,\n      &quot;1.0.0-beta.2&quot;,\n      &quot;1.0.0&quot;,\n      &quot;1.0.0-beta&quot;,\n      &quot;1.0.0-alpha.12&quot;,\n      &quot;1.0.0-beta.11&quot;,\n      &quot;1.0.1&quot;,\n      &quot;1.0.11&quot;,\n      &quot;1.0.0-rc.1&quot;,\n      &quot;1.0.0-alpha.1&quot;,\n      &quot;1.1.0&quot;,\n      &quot;1.0.0-alpha.beta&quot;,\n      &quot;1.11.0&quot;,\n      &quot;1.0.0-alpha.12.ab-c&quot;,\n      &quot;0.0.1&quot;,\n      &quot;1.2.1&quot;,\n      &quot;1.0.0-alpha&quot;,\n      &quot;1.0.0.1&quot;,  // Also works with a number of sections different than 3\n      &quot;1.0.0.2&quot;,\n      &quot;2&quot;,\n      &quot;10&quot;,\n      &quot;1.0.0.10&quot;\n    );\n    versions.stream()\n      .map(Version::parse)\n      .sorted()\n      .forEach(System.out::println);\n  }\n}\n</code></pre>\n<p><a href=\"https://tio.run/##dZI9b8JADIb3/AqLKVTlyNEN1AGp3cqE1KXq4CQXcnC5i@xLEKr47WkaUAkBJsuvH3/I9hZrnGzTXdPoonTkYdsKovLaiKdF0NcM2o0oXFoZJVadeVOckC69I/GpiLWziyAxyAwr1BZ@AoCyio1OgD361tROp1C0sXDtSdvN1zcgbXjcoQA1EtSnQgyvsCTCAwvkD80@7AiAkRSRmI2e@240iZXHG/UeNNTQlDkKeb@glNfy0JXDLEqEfNChL8vb2U7UcEL5kJQzgfEkuQSj4XyzB6MMxD8KYDqFpWEHe0c7hr32OSDYqogVgcuAVeK7o6Q6yxQp68HnaOHlulRvi/2FRjcto1EnjBens59PLtiTwiIcn2lRYBmeH2s@L5FY/Ye4fUuVXtDM0Tsmebg@sFeFcJVvM9oX88Z2XY7BsWl@AQ\" rel=\"noreferrer\" title=\"Java (JDK)  Try It Online\">Try it online!</a></p>\n<p>Output:</p>\n<pre class=\"lang-text prettyprint-override\"><code>0.0.1\n1.0.0-alpha\n1.0.0-alpha.1\n1.0.0-alpha.12\n1.0.0-alpha.12.ab-c\n1.0.0-alpha.beta\n1.0.0-beta\n1.0.0-beta.2\n1.0.0-beta.11\n1.0.0-rc.1\n1.0.0\n1.0.0.1\n1.0.0.2\n1.0.0.10\n1.0.1\n1.0.2\n1.0.11\n1.1.0\n1.2.1\n1.11.0\n2\n10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1425961,"reputation":770,"user_id":1349479,"display_name":"legendmohe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646212066,"creation_date":1646212066,"answer_id":71320022,"question_id":198431,"body_markdown":"kotlin:\r\n\r\n    @kotlin.jvm.Throws(InvalidParameterException::class)\r\n    fun String.versionCompare(remoteVersion: String?): Int {\r\n        val remote = remoteVersion?.splitToSequence(&quot;.&quot;)?.toList() ?: return 1\r\n        val local = this.splitToSequence(&quot;.&quot;).toList()\r\n    \r\n        if(local.filter { it.toIntOrNull() != null }.size != local.size) throw InvalidParameterException(&quot;version invalid: $this&quot;)\r\n        if(remote.filter { it.toIntOrNull() != null }.size != remote.size) throw InvalidParameterException(&quot;version invalid: $remoteVersion&quot;)\r\n    \r\n        val totalRange = 0 until kotlin.math.max(local.size, remote.size)\r\n        for (i in totalRange) {\r\n            if (i &lt; remote.size &amp;&amp; i &lt; local.size) {\r\n                val result = local[i].compareTo(remote[i])\r\n                if (result != 0) return result\r\n            } else (\r\n                return local.size.compareTo(remote.size)\r\n            )\r\n        }\r\n        return 0\r\n    }","title":"How do you compare two version Strings in Java?","body":"<p>kotlin:</p>\n<pre><code>@kotlin.jvm.Throws(InvalidParameterException::class)\nfun String.versionCompare(remoteVersion: String?): Int {\n    val remote = remoteVersion?.splitToSequence(&quot;.&quot;)?.toList() ?: return 1\n    val local = this.splitToSequence(&quot;.&quot;).toList()\n\n    if(local.filter { it.toIntOrNull() != null }.size != local.size) throw InvalidParameterException(&quot;version invalid: $this&quot;)\n    if(remote.filter { it.toIntOrNull() != null }.size != remote.size) throw InvalidParameterException(&quot;version invalid: $remoteVersion&quot;)\n\n    val totalRange = 0 until kotlin.math.max(local.size, remote.size)\n    for (i in totalRange) {\n        if (i &lt; remote.size &amp;&amp; i &lt; local.size) {\n            val result = local[i].compareTo(remote[i])\n            if (result != 0) return result\n        } else (\n            return local.size.compareTo(remote.size)\n        )\n    }\n    return 0\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283117,"reputation":802,"user_id":3131022,"display_name":"Romain DEQUIDT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696282267,"creation_date":1696024080,"answer_id":77204935,"question_id":198431,"body_markdown":"In kotlin (another language of the JVM), here is my simple implementation of the Version class:\r\n\r\n    data class Version(val major: Int, val minor: Int = 0, val patch: Int = 0): Comparable&lt;Version&gt; {\r\n\r\n        override fun compareTo(other: Version): Int {\r\n            return when {\r\n                major &gt; other.major -&gt; 1\r\n                major &lt; other.major -&gt; -1\r\n                minor &gt; other.minor -&gt; 1\r\n                minor &lt; other.minor -&gt; -1\r\n                patch &gt; other.patch -&gt; 1\r\n                patch &lt; other.patch -&gt; -1\r\n                else -&gt; 0\r\n            }\r\n        }\r\n\r\n        companion object {\r\n            fun from(string: String): Version? {\r\n                val versionArray = string.split(&quot;.&quot;)\r\n                if (versionArray.size in 1..3 &amp;&amp; versionArray.all { it.toIntOrNull() != null }) {\r\n                    val versionIntArray = (versionArray.map { it.toInt() } + listOf(0, 0)).zip(listOf(0, 0, 0), Int::plus)\r\n                    val (majorVersion, minorVersion, patchVersion) = versionIntArray.take(3)\r\n                    return Version(majorVersion, minorVersion, patchVersion)\r\n                }\r\n                return null\r\n            }\r\n        }\r\n    }\r\n\r\nwith the unit test:\r\n\r\n    @Test\r\n    fun version_sorting() {\r\n        var versions = listOf(\r\n            &quot;1.0.2&quot;,\r\n            &quot;1.0.0&quot;,\r\n            &quot;1.0.1&quot;,\r\n            &quot;1.0.11&quot;,\r\n            &quot;1.1.0&quot;,\r\n            &quot;1.11.0&quot;,\r\n            &quot;0.0.1&quot;,\r\n            &quot;1.2.1&quot;,\r\n            &quot;2&quot;,\r\n            &quot;10&quot;,\r\n        );\r\n        versions.map {from(it) }.sortedBy { it }.map { println(it)}\r\n    }\r\n\r\n","title":"How do you compare two version Strings in Java?","body":"<p>In kotlin (another language of the JVM), here is my simple implementation of the Version class:</p>\n<pre><code>data class Version(val major: Int, val minor: Int = 0, val patch: Int = 0): Comparable&lt;Version&gt; {\n\n    override fun compareTo(other: Version): Int {\n        return when {\n            major &gt; other.major -&gt; 1\n            major &lt; other.major -&gt; -1\n            minor &gt; other.minor -&gt; 1\n            minor &lt; other.minor -&gt; -1\n            patch &gt; other.patch -&gt; 1\n            patch &lt; other.patch -&gt; -1\n            else -&gt; 0\n        }\n    }\n\n    companion object {\n        fun from(string: String): Version? {\n            val versionArray = string.split(&quot;.&quot;)\n            if (versionArray.size in 1..3 &amp;&amp; versionArray.all { it.toIntOrNull() != null }) {\n                val versionIntArray = (versionArray.map { it.toInt() } + listOf(0, 0)).zip(listOf(0, 0, 0), Int::plus)\n                val (majorVersion, minorVersion, patchVersion) = versionIntArray.take(3)\n                return Version(majorVersion, minorVersion, patchVersion)\n            }\n            return null\n        }\n    }\n}\n</code></pre>\n<p>with the unit test:</p>\n<pre><code>@Test\nfun version_sorting() {\n    var versions = listOf(\n        &quot;1.0.2&quot;,\n        &quot;1.0.0&quot;,\n        &quot;1.0.1&quot;,\n        &quot;1.0.11&quot;,\n        &quot;1.1.0&quot;,\n        &quot;1.11.0&quot;,\n        &quot;0.0.1&quot;,\n        &quot;1.2.1&quot;,\n        &quot;2&quot;,\n        &quot;10&quot;,\n    );\n    versions.map {from(it) }.sortedBy { it }.map { println(it)}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11386546,"reputation":103,"user_id":8348138,"display_name":"baron1405"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700868612,"creation_date":1700868612,"answer_id":77546081,"question_id":198431,"body_markdown":"You can use the [versionparser][1] library. It can parse versions and version constraints expressed in a number of versioning schemes (e.g. Maven, Semantic, NPM, etc.). The resulting version objects are ordered and the version constraint objects support set operations (e.g. intersection).\r\n\r\n\r\n  [1]: https://github.com/cthing/versionparser","title":"How do you compare two version Strings in Java?","body":"<p>You can use the <a href=\"https://github.com/cthing/versionparser\" rel=\"nofollow noreferrer\">versionparser</a> library. It can parse versions and version constraints expressed in a number of versioning schemes (e.g. Maven, Semantic, NPM, etc.). The resulting version objects are ordered and the version constraint objects support set operations (e.g. intersection).</p>\n"}],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162902,"favorite_count":0,"down_vote_count":2,"up_vote_count":213,"accepted_answer_id":198442,"answer_count":33,"score":211,"last_activity_date":1700868612,"creation_date":1223920481,"question_id":198431,"body_markdown":"Is there a standard idiom for comparing version numbers?  I can&#39;t just use a straight String compareTo because I don&#39;t know yet what the maximum number of point releases there will be.  I need to compare the versions and have the following hold true:\r\n\r\n    1.0 &lt; 1.1\r\n    1.0.1 &lt; 1.1\r\n    1.9 &lt; 1.10","title":"How do you compare two version Strings in Java?","body":"<p>Is there a standard idiom for comparing version numbers?  I can't just use a straight String compareTo because I don't know yet what the maximum number of point releases there will be.  I need to compare the versions and have the following hold true:</p>\n\n<pre><code>1.0 &lt; 1.1\n1.0.1 &lt; 1.1\n1.9 &lt; 1.10\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9207185,"reputation":513,"user_id":6841952,"accept_rate":43,"display_name":"Kutti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700868178,"creation_date":1700868178,"answer_id":77546059,"question_id":77545605,"body_markdown":"1. Department deletion and employee status change\r\n\r\n   In my opinion, you should perform these operations in a single transaction \r\n   using @Transactional. That is, as you suggested.  When an error arises when \r\n   deleting a deparment, the transaction should be rolled back. \r\n\r\n2. Removing company branch and departments \r\n\r\n   I don&#39;t think so that @PreRemove is the best option. \r\n   I would simply in one transaction remove the company branch, all departments \r\n  from company branch and change the employee status using Repository and \r\n  Spring Data. I think this is a more readable solution.","title":"How to add some logic before removing entity without @PreRemove?","body":"<ol>\n<li><p>Department deletion and employee status change</p>\n<p>In my opinion, you should perform these operations in a single transaction\nusing @Transactional. That is, as you suggested.  When an error arises when\ndeleting a deparment, the transaction should be rolled back.</p>\n</li>\n<li><p>Removing company branch and departments</p>\n<p>I don't think so that @PreRemove is the best option.\nI would simply in one transaction remove the company branch, all departments\nfrom company branch and change the employee status using Repository and\nSpring Data. I think this is a more readable solution.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77546059,"answer_count":1,"score":0,"last_activity_date":1700868178,"creation_date":1700858906,"question_id":77545605,"body_markdown":"I found a problem in my project. A have those three entities: CompanyBranch, Department, Employee. Relationship between CompanyBranch and Departmen is One-To-Many, same with Department and Employee. Here my entity classes:\r\n\r\n    \r\n    @Entity\r\n    @Table(name = &quot;COMPANY_BRANCH&quot;, uniqueConstraints = {\r\n            @UniqueConstraint(name = &quot;AddressUniqueConstraint&quot;, columnNames = {&quot;COMPANY_BRANCH_CITY&quot;,\r\n                    &quot;COMPANY_BRANCH_ZIP_CODE&quot;, &quot;COMPANY_BRANCH_STREET&quot;, &quot;COMPANY_BRANCH_COUNTRY&quot;})\r\n    })\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class CompanyBranch {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @Convert(\r\n                converter = MoneyConverter.class\r\n        )\r\n        @Column(name = &quot;COMPANY_BRANCH_BUDGET&quot;, length = 63)\r\n        private Money budget;\r\n    \r\n        @Embedded\r\n        @NotNull\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;city&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\r\n                @AttributeOverride(name = &quot;zipCode&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\r\n                @AttributeOverride(name = &quot;street&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\r\n                @AttributeOverride(name = &quot;country&quot;,\r\n                column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\r\n        })\r\n        private Address companyBranchAddress;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;     &quot;)\r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                message = &quot;  !&quot;)\r\n        @Column(name = &quot;COMPANY_BRANCH_PHONE_NUMBER&quot;, unique = true)\r\n        private String phoneNumber;\r\n    }\r\n\r\nDepartment:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;DEPARTMENT&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Department {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;     !&quot;)\r\n        @Column(name = &quot;DEPARTMENT_NAME&quot;)\r\n        private String departmentName;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @Column(name = &quot;LAST_MODIFIED&quot;)\r\n        private Date lastModified;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;     &quot;)\r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                message = &quot;  !&quot;)\r\n        @Column(name = &quot;DEPARTMENT_PHONE_NUMBER&quot;, unique = true)\r\n        private String phoneNumber;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;, nullable = false)\r\n        private CompanyBranch companyBranch;\r\n    \r\n        @PrePersist\r\n        @PreUpdate\r\n        protected void setDefaultLastModified(){\r\n            lastModified = new Date();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nEmployee:\r\n\r\n\r\n    \r\n    @Entity\r\n    @Table(name = &quot;EMPLOYEE&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Employee {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Embedded\r\n        private Name name;\r\n    \r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                 message = &quot;  !&quot;)\r\n        @NotNull\r\n        @NotBlank(message = &quot;    !&quot;)\r\n        @Column(unique = true, name = &quot;PHONE_NUMBER&quot;)\r\n        private String phoneNumber;\r\n    \r\n        @Embedded\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;city&quot;,\r\n                    column = @Column(name = &quot;HOME_CITY&quot;)),\r\n                @AttributeOverride(name = &quot;zipCode&quot;,\r\n                    column = @Column(name = &quot;HOME_ZIP_CODE&quot;)),\r\n                @AttributeOverride(name = &quot;street&quot;,\r\n                    column = @Column(name = &quot;HOME_STREET&quot;)),\r\n                @AttributeOverride(name = &quot;country&quot;,\r\n                    column = @Column(name = &quot;HOME_COUNTRY&quot;))\r\n        })\r\n        private Address homeAddress;\r\n    \r\n        @Email(message = &quot;  !&quot;)\r\n        @NotNull\r\n        @Column(unique = true, name = &quot;EMAIL&quot;)\r\n        private String email;\r\n    \r\n        @Temporal(value = TemporalType.DATE)\r\n        @Column(name = &quot;EMPLOYMENT_DATE&quot;, updatable = false)\r\n        @CreationTimestamp\r\n        private Date employmentDate;\r\n    \r\n        @BatchSize(size = 4)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;EMPLOYEE_STATUS_ID&quot;)\r\n        private EmployeeStatus employeeStatus;\r\n    \r\n        @NotNull\r\n        @Convert(\r\n                converter = MoneyConverter.class\r\n        )\r\n        @Column(name = &quot;SALARY&quot;, length = 63)\r\n        private Money salary;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;DEPARTMENT_ID&quot;)\r\n        private Department department;\r\n    }\r\n\r\nWhen i am removing department, i want to also change status of each employee in this department, i wanted to do this with `@PreRemove` annotation, but I think it is not the best way to do so since EmployeeStatus is an entity class, so I need to inject spring logic inside the entity class. So this is the way I managed the problem:\r\n\r\n    @Modifying(clearAutomatically = true, flushAutomatically = true)\r\n        @Query(value = &quot;UPDATE Employee e SET e.employeeStatus = &quot; +\r\n                &quot;(SELECT es FROM EmployeeStatus es WHERE es.employeeStatus = &#39;FIRED&#39;), &quot; +\r\n                &quot;e.department = null &quot; +\r\n                &quot;WHERE e.department = :department&quot;)\r\n        void updateEmployeesStatusToFiredOnDelete(Department department);\r\n\r\nAnd here is method in Department service:\r\n\r\n    @Transactional\r\n        public void deleteDepartment(Department department) {\r\n            if (department == null)\r\n                throw new IllegalArgumentException(&quot;Illegal department for removal!&quot;);\r\n    \r\n            departmentRepository.updateEmployeesStatusToFiredOnDelete(department);\r\n            departmentRepository.delete(department);\r\n        }\r\n\r\nBut when I am removing company branch, I want also remove all departments inside it and employees statuses should be changed. As I already said, I dont think that `@PreRemove` can help me with this. I am thinking about creating a new `@Query` for company branch repository, but I think it is too inconvinient. Maybe there are some other solutions for solving this problem? Maybe I still can use `@PreRemove` here somehow?","title":"How to add some logic before removing entity without @PreRemove?","body":"<p>I found a problem in my project. A have those three entities: CompanyBranch, Department, Employee. Relationship between CompanyBranch and Departmen is One-To-Many, same with Department and Employee. Here my entity classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;COMPANY_BRANCH&quot;, uniqueConstraints = {\n        @UniqueConstraint(name = &quot;AddressUniqueConstraint&quot;, columnNames = {&quot;COMPANY_BRANCH_CITY&quot;,\n                &quot;COMPANY_BRANCH_ZIP_CODE&quot;, &quot;COMPANY_BRANCH_STREET&quot;, &quot;COMPANY_BRANCH_COUNTRY&quot;})\n})\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CompanyBranch {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @Convert(\n            converter = MoneyConverter.class\n    )\n    @Column(name = &quot;COMPANY_BRANCH_BUDGET&quot;, length = 63)\n    private Money budget;\n\n    @Embedded\n    @NotNull\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;city&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\n            @AttributeOverride(name = &quot;zipCode&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\n            @AttributeOverride(name = &quot;street&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\n            @AttributeOverride(name = &quot;country&quot;,\n            column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\n    })\n    private Address companyBranchAddress;\n\n    @NotNull\n    @NotBlank(message = &quot;     &quot;)\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n            message = &quot;  !&quot;)\n    @Column(name = &quot;COMPANY_BRANCH_PHONE_NUMBER&quot;, unique = true)\n    private String phoneNumber;\n}\n</code></pre>\n<p>Department:</p>\n<pre><code>@Entity\n@Table(name = &quot;DEPARTMENT&quot;)\n@Getter\n@Setter\npublic class Department {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @NotBlank(message = &quot;     !&quot;)\n    @Column(name = &quot;DEPARTMENT_NAME&quot;)\n    private String departmentName;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;LAST_MODIFIED&quot;)\n    private Date lastModified;\n\n    @NotNull\n    @NotBlank(message = &quot;     &quot;)\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n            message = &quot;  !&quot;)\n    @Column(name = &quot;DEPARTMENT_PHONE_NUMBER&quot;, unique = true)\n    private String phoneNumber;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;, nullable = false)\n    private CompanyBranch companyBranch;\n\n    @PrePersist\n    @PreUpdate\n    protected void setDefaultLastModified(){\n        lastModified = new Date();\n    }\n\n}\n</code></pre>\n<p>Employee:</p>\n<pre><code>@Entity\n@Table(name = &quot;EMPLOYEE&quot;)\n@Getter\n@Setter\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Embedded\n    private Name name;\n\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n             message = &quot;  !&quot;)\n    @NotNull\n    @NotBlank(message = &quot;    !&quot;)\n    @Column(unique = true, name = &quot;PHONE_NUMBER&quot;)\n    private String phoneNumber;\n\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;city&quot;,\n                column = @Column(name = &quot;HOME_CITY&quot;)),\n            @AttributeOverride(name = &quot;zipCode&quot;,\n                column = @Column(name = &quot;HOME_ZIP_CODE&quot;)),\n            @AttributeOverride(name = &quot;street&quot;,\n                column = @Column(name = &quot;HOME_STREET&quot;)),\n            @AttributeOverride(name = &quot;country&quot;,\n                column = @Column(name = &quot;HOME_COUNTRY&quot;))\n    })\n    private Address homeAddress;\n\n    @Email(message = &quot;  !&quot;)\n    @NotNull\n    @Column(unique = true, name = &quot;EMAIL&quot;)\n    private String email;\n\n    @Temporal(value = TemporalType.DATE)\n    @Column(name = &quot;EMPLOYMENT_DATE&quot;, updatable = false)\n    @CreationTimestamp\n    private Date employmentDate;\n\n    @BatchSize(size = 4)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;EMPLOYEE_STATUS_ID&quot;)\n    private EmployeeStatus employeeStatus;\n\n    @NotNull\n    @Convert(\n            converter = MoneyConverter.class\n    )\n    @Column(name = &quot;SALARY&quot;, length = 63)\n    private Money salary;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;DEPARTMENT_ID&quot;)\n    private Department department;\n}\n</code></pre>\n<p>When i am removing department, i want to also change status of each employee in this department, i wanted to do this with <code>@PreRemove</code> annotation, but I think it is not the best way to do so since EmployeeStatus is an entity class, so I need to inject spring logic inside the entity class. So this is the way I managed the problem:</p>\n<pre><code>@Modifying(clearAutomatically = true, flushAutomatically = true)\n    @Query(value = &quot;UPDATE Employee e SET e.employeeStatus = &quot; +\n            &quot;(SELECT es FROM EmployeeStatus es WHERE es.employeeStatus = 'FIRED'), &quot; +\n            &quot;e.department = null &quot; +\n            &quot;WHERE e.department = :department&quot;)\n    void updateEmployeesStatusToFiredOnDelete(Department department);\n</code></pre>\n<p>And here is method in Department service:</p>\n<pre><code>@Transactional\n    public void deleteDepartment(Department department) {\n        if (department == null)\n            throw new IllegalArgumentException(&quot;Illegal department for removal!&quot;);\n\n        departmentRepository.updateEmployeesStatusToFiredOnDelete(department);\n        departmentRepository.delete(department);\n    }\n</code></pre>\n<p>But when I am removing company branch, I want also remove all departments inside it and employees statuses should be changed. As I already said, I dont think that <code>@PreRemove</code> can help me with this. I am thinking about creating a new <code>@Query</code> for company branch repository, but I think it is too inconvinient. Maybe there are some other solutions for solving this problem? Maybe I still can use <code>@PreRemove</code> here somehow?</p>\n"},{"tags":["java","date","time","datediff","relative-time-span"],"comments":[{"owner":{"account_id":27889,"reputation":69046,"user_id":74022,"accept_rate":85,"display_name":"Brandon"},"score":1,"creation_date":1286227887,"post_id":3859288,"comment_id":4103502,"body_markdown":"See: http://stackoverflow.com/questions/11/how-do-i-calculate-relative-time It is C#, but I&#39;m sure you can convert it with little trouble.","body":"See: <a href=\"http://stackoverflow.com/questions/11/how-do-i-calculate-relative-time\" title=\"how do i calculate relative time\">stackoverflow.com/questions/11/how-do-i-calculate-relative-t&zwnj;&#8203;ime</a> It is C#, but I&#39;m sure you can convert it with little trouble."}],"answers":[{"tags":[],"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"down_vote_count":2,"up_vote_count":194,"is_accepted":true,"score":192,"last_activity_date":1480320947,"creation_date":1286227958,"answer_id":3859298,"question_id":3859288,"body_markdown":"Take a look at the [PrettyTime][1] library.\r\n\r\nIt&#39;s quite simple to use:\r\n\r\n    import org.ocpsoft.prettytime.PrettyTime;\r\n\r\n    PrettyTime p = new PrettyTime();\r\n    System.out.println(p.format(new Date()));\r\n    // prints &quot;moments ago&quot;\r\n\r\nYou can also pass in a locale for internationalized messages:\r\n\r\n    PrettyTime p = new PrettyTime(new Locale(&quot;fr&quot;));\r\n    System.out.println(p.format(new Date()));\r\n    // prints &quot;&#224; l&#39;instant&quot;\r\n\r\nAs noted in the comments, Android has this functionality built into the [`android.text.format.DateUtils`](http://developer.android.com/reference/android/text/format/DateUtils.html#getRelativeTimeSpanString%28long%29) class.\r\n\r\n  [1]: http://www.ocpsoft.org/prettytime/","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>Take a look at the <a href=\"http://www.ocpsoft.org/prettytime/\" rel=\"noreferrer\">PrettyTime</a> library.</p>\n\n<p>It's quite simple to use:</p>\n\n<pre><code>import org.ocpsoft.prettytime.PrettyTime;\n\nPrettyTime p = new PrettyTime();\nSystem.out.println(p.format(new Date()));\n// prints \"moments ago\"\n</code></pre>\n\n<p>You can also pass in a locale for internationalized messages:</p>\n\n<pre><code>PrettyTime p = new PrettyTime(new Locale(\"fr\"));\nSystem.out.println(p.format(new Date()));\n// prints \" l'instant\"\n</code></pre>\n\n<p>As noted in the comments, Android has this functionality built into the <a href=\"http://developer.android.com/reference/android/text/format/DateUtils.html#getRelativeTimeSpanString%28long%29\" rel=\"noreferrer\"><code>android.text.format.DateUtils</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":143563,"reputation":26774,"user_id":351984,"accept_rate":86,"display_name":"Paul Rubel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1286228062,"creation_date":1286228062,"answer_id":3859313,"question_id":3859288,"body_markdown":"The [joda-time](http://joda-time.sourceforge.net/key_period.html) package, has the notion of [Periods](http://joda-time.sourceforge.net/api-release/org/joda/time/Period.html). You can do arithmetic with Periods and  DateTimes.\r\n\r\nFrom the [docs](http://joda-time.sourceforge.net/):\r\n\r\n    public boolean isRentalOverdue(DateTime datetimeRented) {\r\n      Period rentalPeriod = new  Period().withDays(2).withHours(12);\r\n      return datetimeRented.plus(rentalPeriod).isBeforeNow();\r\n    }\r\n\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>The <a href=\"http://joda-time.sourceforge.net/key_period.html\" rel=\"nofollow\">joda-time</a> package, has the notion of <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/Period.html\" rel=\"nofollow\">Periods</a>. You can do arithmetic with Periods and  DateTimes.</p>\n\n<p>From the <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow\">docs</a>:</p>\n\n<pre><code>public boolean isRentalOverdue(DateTime datetimeRented) {\n  Period rentalPeriod = new  Period().withDays(2).withHours(12);\n  return datetimeRented.plus(rentalPeriod).isBeforeNow();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1286228086,"creation_date":1286228086,"answer_id":3859318,"question_id":3859288,"body_markdown":"It&#39;s not pretty...but the closest I can think of is using Joda-Time (as described in this post: [How to calculate elapsed time from now with Joda Time?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2179644/how-to-calculate-elapsed-time-from-now-with-joda-time","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>It's not pretty...but the closest I can think of is using Joda-Time (as described in this post: <a href=\"https://stackoverflow.com/questions/2179644/how-to-calculate-elapsed-time-from-now-with-joda-time\">How to calculate elapsed time from now with Joda Time?</a></p>\n"},{"tags":[],"owner":{"account_id":116112,"reputation":5821,"user_id":304617,"accept_rate":82,"display_name":"Ben J"},"down_vote_count":3,"up_vote_count":76,"is_accepted":false,"score":73,"last_activity_date":1477363552,"creation_date":1286231428,"answer_id":3859633,"question_id":3859288,"body_markdown":"Have you considered the [TimeUnit][1] enum? It can be pretty useful for this kind of thing\r\n\r\n    \ttry {\r\n            SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n            Date past = format.parse(&quot;01/10/2010&quot;);\r\n            Date now = new Date();\r\n\r\n            System.out.println(TimeUnit.MILLISECONDS.toMillis(now.getTime() - past.getTime()) + &quot; milliseconds ago&quot;);\r\n            System.out.println(TimeUnit.MILLISECONDS.toMinutes(now.getTime() - past.getTime()) + &quot; minutes ago&quot;);\r\n            System.out.println(TimeUnit.MILLISECONDS.toHours(now.getTime() - past.getTime()) + &quot; hours ago&quot;);\r\n            System.out.println(TimeUnit.MILLISECONDS.toDays(now.getTime() - past.getTime()) + &quot; days ago&quot;);\r\n        }\r\n        catch (Exception j){\r\n            j.printStackTrace();\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>Have you considered the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"noreferrer\">TimeUnit</a> enum? It can be pretty useful for this kind of thing</p>\n\n<pre><code>    try {\n        SimpleDateFormat format = new SimpleDateFormat(\"dd/MM/yyyy\");\n        Date past = format.parse(\"01/10/2010\");\n        Date now = new Date();\n\n        System.out.println(TimeUnit.MILLISECONDS.toMillis(now.getTime() - past.getTime()) + \" milliseconds ago\");\n        System.out.println(TimeUnit.MILLISECONDS.toMinutes(now.getTime() - past.getTime()) + \" minutes ago\");\n        System.out.println(TimeUnit.MILLISECONDS.toHours(now.getTime() - past.getTime()) + \" hours ago\");\n        System.out.println(TimeUnit.MILLISECONDS.toDays(now.getTime() - past.getTime()) + \" days ago\");\n    }\n    catch (Exception j){\n        j.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1683165161,"creation_date":1286241926,"answer_id":3860287,"question_id":3859288,"body_markdown":"\r\n\r\n      public class TimeUtils {\r\n        \r\n          public final static long ONE_SECOND = 1000;\r\n          public final static long SECONDS = 60;\r\n        \r\n          public final static long ONE_MINUTE = ONE_SECOND * 60;\r\n          public final static long MINUTES = 60;\r\n          \r\n          public final static long ONE_HOUR = ONE_MINUTE * 60;\r\n          public final static long HOURS = 24;\r\n          \r\n          public final static long ONE_DAY = ONE_HOUR * 24;\r\n        \r\n          private TimeUtils() {\r\n          }\r\n        \r\n          /**\r\n           * converts time (in milliseconds) to human-readable format\r\n           *  &quot;&lt;w&gt; days, &lt;x&gt; hours, &lt;y&gt; minutes and (z) seconds&quot;\r\n           */\r\n          public static String millisToLongDHMS(long duration) {\r\n            StringBuilder res = new StringBuilder();\r\n            long temp = 0;\r\n            if (duration &gt;= ONE_SECOND) {\r\n              temp = duration / ONE_DAY;\r\n              if (temp &gt; 0) {\r\n                duration -= temp * ONE_DAY;\r\n                res.append(temp).append(&quot; day&quot;).append(temp &gt; 1 ? &quot;s&quot; : &quot;&quot;)\r\n                   .append(duration &gt;= ONE_MINUTE ? &quot;, &quot; : &quot;&quot;);\r\n              }\r\n        \r\n              temp = duration / ONE_HOUR;\r\n              if (temp &gt; 0) {\r\n                duration -= temp * ONE_HOUR;\r\n                res.append(temp).append(&quot; hour&quot;).append(temp &gt; 1 ? &quot;s&quot; : &quot;&quot;)\r\n                   .append(duration &gt;= ONE_MINUTE ? &quot;, &quot; : &quot;&quot;);\r\n              }\r\n        \r\n              temp = duration / ONE_MINUTE;\r\n              if (temp &gt; 0) {\r\n                duration -= temp * ONE_MINUTE;\r\n                res.append(temp).append(&quot; minute&quot;).append(temp &gt; 1 ? &quot;s&quot; : &quot;&quot;);\r\n              }\r\n        \r\n              if (!res.toString().equals(&quot;&quot;) &amp;&amp; duration &gt;= ONE_SECOND) {\r\n                res.append(&quot; and &quot;);\r\n              }\r\n        \r\n              temp = duration / ONE_SECOND;\r\n              if (temp &gt; 0) {\r\n                res.append(temp).append(&quot; second&quot;).append(temp &gt; 1 ? &quot;s&quot; : &quot;&quot;);\r\n              }\r\n              return res.toString();\r\n            } else {\r\n              return &quot;0 second&quot;;\r\n            }\r\n          }\r\n        \r\n       \r\n          public static void main(String args[]) {\r\n            System.out.println(millisToLongDHMS(123));\r\n            System.out.println(millisToLongDHMS((5 * ONE_SECOND) + 123));\r\n            System.out.println(millisToLongDHMS(ONE_DAY + ONE_HOUR));\r\n            System.out.println(millisToLongDHMS(ONE_DAY + 2 * ONE_SECOND));\r\n            System.out.println(millisToLongDHMS(ONE_DAY + ONE_HOUR + (2 * ONE_MINUTE)));\r\n            System.out.println(millisToLongDHMS((4 * ONE_DAY) + (3 * ONE_HOUR)\r\n                + (2 * ONE_MINUTE) + ONE_SECOND));\r\n            System.out.println(millisToLongDHMS((5 * ONE_DAY) + (4 * ONE_HOUR)\r\n                + ONE_MINUTE + (23 * ONE_SECOND) + 123));\r\n            System.out.println(millisToLongDHMS(42 * ONE_DAY));\r\n            /*\r\n              output :\r\n                    0 second\r\n                    5 seconds\r\n                    1 day, 1 hour\r\n                    1 day and 2 seconds\r\n                    1 day, 1 hour, 2 minutes\r\n                    4 days, 3 hours, 2 minutes and 1 second\r\n                    5 days, 4 hours, 1 minute and 23 seconds\r\n                    42 days\r\n             */\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0585.html","title":"How to calculate &quot;time ago&quot; in Java?","body":"<pre><code>  public class TimeUtils {\n    \n      public final static long ONE_SECOND = 1000;\n      public final static long SECONDS = 60;\n    \n      public final static long ONE_MINUTE = ONE_SECOND * 60;\n      public final static long MINUTES = 60;\n      \n      public final static long ONE_HOUR = ONE_MINUTE * 60;\n      public final static long HOURS = 24;\n      \n      public final static long ONE_DAY = ONE_HOUR * 24;\n    \n      private TimeUtils() {\n      }\n    \n      /**\n       * converts time (in milliseconds) to human-readable format\n       *  &quot;&lt;w&gt; days, &lt;x&gt; hours, &lt;y&gt; minutes and (z) seconds&quot;\n       */\n      public static String millisToLongDHMS(long duration) {\n        StringBuilder res = new StringBuilder();\n        long temp = 0;\n        if (duration &gt;= ONE_SECOND) {\n          temp = duration / ONE_DAY;\n          if (temp &gt; 0) {\n            duration -= temp * ONE_DAY;\n            res.append(temp).append(&quot; day&quot;).append(temp &gt; 1 ? &quot;s&quot; : &quot;&quot;)\n               .append(duration &gt;= ONE_MINUTE ? &quot;, &quot; : &quot;&quot;);\n          }\n    \n          temp = duration / ONE_HOUR;\n          if (temp &gt; 0) {\n            duration -= temp * ONE_HOUR;\n            res.append(temp).append(&quot; hour&quot;).append(temp &gt; 1 ? &quot;s&quot; : &quot;&quot;)\n               .append(duration &gt;= ONE_MINUTE ? &quot;, &quot; : &quot;&quot;);\n          }\n    \n          temp = duration / ONE_MINUTE;\n          if (temp &gt; 0) {\n            duration -= temp * ONE_MINUTE;\n            res.append(temp).append(&quot; minute&quot;).append(temp &gt; 1 ? &quot;s&quot; : &quot;&quot;);\n          }\n    \n          if (!res.toString().equals(&quot;&quot;) &amp;&amp; duration &gt;= ONE_SECOND) {\n            res.append(&quot; and &quot;);\n          }\n    \n          temp = duration / ONE_SECOND;\n          if (temp &gt; 0) {\n            res.append(temp).append(&quot; second&quot;).append(temp &gt; 1 ? &quot;s&quot; : &quot;&quot;);\n          }\n          return res.toString();\n        } else {\n          return &quot;0 second&quot;;\n        }\n      }\n    \n   \n      public static void main(String args[]) {\n        System.out.println(millisToLongDHMS(123));\n        System.out.println(millisToLongDHMS((5 * ONE_SECOND) + 123));\n        System.out.println(millisToLongDHMS(ONE_DAY + ONE_HOUR));\n        System.out.println(millisToLongDHMS(ONE_DAY + 2 * ONE_SECOND));\n        System.out.println(millisToLongDHMS(ONE_DAY + ONE_HOUR + (2 * ONE_MINUTE)));\n        System.out.println(millisToLongDHMS((4 * ONE_DAY) + (3 * ONE_HOUR)\n            + (2 * ONE_MINUTE) + ONE_SECOND));\n        System.out.println(millisToLongDHMS((5 * ONE_DAY) + (4 * ONE_HOUR)\n            + ONE_MINUTE + (23 * ONE_SECOND) + 123));\n        System.out.println(millisToLongDHMS(42 * ONE_DAY));\n        /*\n          output :\n                0 second\n                5 seconds\n                1 day, 1 hour\n                1 day and 2 seconds\n                1 day, 1 hour, 2 minutes\n                4 days, 3 hours, 2 minutes and 1 second\n                5 days, 4 hours, 1 minute and 23 seconds\n                42 days\n         */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64678,"reputation":19208,"user_id":190816,"accept_rate":67,"display_name":"David Blevins"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1666978315,"creation_date":1298267604,"answer_id":5062810,"question_id":3859288,"body_markdown":"This is based on RealHowTo&#39;s answer so if you like it, give him/her some love too.\r\n\r\nThis cleaned up version allows you to specify the range of time you might be interested in.  \r\n\r\nIt also handles the &quot; and &quot; part a little differently.  I often find when joining strings with a delimiter it&#39;s ofter easier to skip the complicated logic and just delete the last delimiter when you&#39;re done.\r\n\r\n\r\n    import java.util.concurrent.TimeUnit;\r\n    import static java.util.concurrent.TimeUnit.MILLISECONDS;\r\n    \r\n    public class TimeUtils {\r\n    \r\n        /**\r\n         * Converts time to a human readable format within the specified range\r\n         *\r\n         * @param duration the time in milliseconds to be converted\r\n         * @param max      the highest time unit of interest\r\n         * @param min      the lowest time unit of interest\r\n         */\r\n        public static String formatMillis(long duration, TimeUnit max, TimeUnit min) {\r\n            StringBuilder res = new StringBuilder();\r\n    \r\n            TimeUnit current = max;\r\n    \r\n            while (duration &gt; 0) {\r\n                long temp = current.convert(duration, MILLISECONDS);\r\n    \r\n                if (temp &gt; 0) {\r\n                    duration -= current.toMillis(temp);\r\n                    res.append(temp).append(&quot; &quot;).append(current.name().toLowerCase());\r\n                    if (temp &lt; 2) res.deleteCharAt(res.length() - 1);\r\n                    res.append(&quot;, &quot;);\r\n                }\r\n    \r\n                if (current == min) break;\r\n    \r\n                current = TimeUnit.values()[current.ordinal() - 1];\r\n            }\r\n    \r\n            // clean up our formatting....\r\n\r\n            // we never got a hit, the time is lower than we care about\r\n            if (res.lastIndexOf(&quot;, &quot;) &lt; 0) return &quot;0 &quot; + min.name().toLowerCase();\r\n    \r\n            // yank trailing  &quot;, &quot;\r\n            res.deleteCharAt(res.length() - 2);\r\n    \r\n            //  convert last &quot;, &quot; to &quot; and&quot;\r\n            int i = res.lastIndexOf(&quot;, &quot;);\r\n            if (i &gt; 0) {\r\n                res.deleteCharAt(i);\r\n                res.insert(i, &quot; and&quot;);\r\n            }\r\n    \r\n            return res.toString();\r\n        }\r\n    }\r\n\r\nLittle code to give it a whirl:\r\n\r\n\r\n    import static java.util.concurrent.TimeUnit.*;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String args[]) {\r\n            long[] durations = new long[]{\r\n                123,\r\n                SECONDS.toMillis(5) + 123,\r\n                DAYS.toMillis(1) + HOURS.toMillis(1),\r\n                DAYS.toMillis(1) + SECONDS.toMillis(2),\r\n                DAYS.toMillis(1) + HOURS.toMillis(1) + MINUTES.toMillis(2),\r\n                DAYS.toMillis(4) + HOURS.toMillis(3) + MINUTES.toMillis(2) + SECONDS.toMillis(1),\r\n                DAYS.toMillis(5) + HOURS.toMillis(4) + MINUTES.toMillis(1) + SECONDS.toMillis(23) + 123,\r\n                DAYS.toMillis(42)\r\n            };\r\n\r\n            for (long duration : durations) {\r\n                System.out.println(TimeUtils.formatMillis(duration, DAYS, SECONDS));\r\n            }\r\n\r\n            System.out.println(&quot;\\nAgain in only hours and minutes\\n&quot;);\r\n\r\n            for (long duration : durations) {\r\n                System.out.println(TimeUtils.formatMillis(duration, HOURS, MINUTES));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nWhich will output the following:\r\n\r\n\r\n    0 seconds\r\n    5 seconds \r\n    1 day and 1 hour \r\n    1 day and 2 seconds \r\n    1 day, 1 hour and 2 minutes \r\n    4 days, 3 hours, 2 minutes and 1 second \r\n    5 days, 4 hours, 1 minute and 23 seconds \r\n    42 days \r\n    \r\n    Again in only hours and minutes\r\n    \r\n    0 minutes\r\n    0 minutes\r\n    25 hours \r\n    24 hours \r\n    25 hours and 2 minutes \r\n    99 hours and 2 minutes \r\n    124 hours and 1 minute \r\n    1008 hours \r\n\r\n\r\nAnd in case anyone ever needs it, here&#39;s a class that will convert any string like the above [back into milliseconds][1]. It&#39;s pretty useful for allowing people to specify timeouts of various things in readable text.\r\n\r\n\r\n  [1]: http://svn.apache.org/repos/asf/openejb/trunk/openejb3/container/openejb-core/src/main/java/org/apache/openejb/util/Duration.java","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>This is based on RealHowTo's answer so if you like it, give him/her some love too.</p>\n<p>This cleaned up version allows you to specify the range of time you might be interested in.</p>\n<p>It also handles the &quot; and &quot; part a little differently.  I often find when joining strings with a delimiter it's ofter easier to skip the complicated logic and just delete the last delimiter when you're done.</p>\n<pre><code>import java.util.concurrent.TimeUnit;\nimport static java.util.concurrent.TimeUnit.MILLISECONDS;\n\npublic class TimeUtils {\n\n    /**\n     * Converts time to a human readable format within the specified range\n     *\n     * @param duration the time in milliseconds to be converted\n     * @param max      the highest time unit of interest\n     * @param min      the lowest time unit of interest\n     */\n    public static String formatMillis(long duration, TimeUnit max, TimeUnit min) {\n        StringBuilder res = new StringBuilder();\n\n        TimeUnit current = max;\n\n        while (duration &gt; 0) {\n            long temp = current.convert(duration, MILLISECONDS);\n\n            if (temp &gt; 0) {\n                duration -= current.toMillis(temp);\n                res.append(temp).append(&quot; &quot;).append(current.name().toLowerCase());\n                if (temp &lt; 2) res.deleteCharAt(res.length() - 1);\n                res.append(&quot;, &quot;);\n            }\n\n            if (current == min) break;\n\n            current = TimeUnit.values()[current.ordinal() - 1];\n        }\n\n        // clean up our formatting....\n\n        // we never got a hit, the time is lower than we care about\n        if (res.lastIndexOf(&quot;, &quot;) &lt; 0) return &quot;0 &quot; + min.name().toLowerCase();\n\n        // yank trailing  &quot;, &quot;\n        res.deleteCharAt(res.length() - 2);\n\n        //  convert last &quot;, &quot; to &quot; and&quot;\n        int i = res.lastIndexOf(&quot;, &quot;);\n        if (i &gt; 0) {\n            res.deleteCharAt(i);\n            res.insert(i, &quot; and&quot;);\n        }\n\n        return res.toString();\n    }\n}\n</code></pre>\n<p>Little code to give it a whirl:</p>\n<pre><code>import static java.util.concurrent.TimeUnit.*;\n\npublic class Main {\n\n    public static void main(String args[]) {\n        long[] durations = new long[]{\n            123,\n            SECONDS.toMillis(5) + 123,\n            DAYS.toMillis(1) + HOURS.toMillis(1),\n            DAYS.toMillis(1) + SECONDS.toMillis(2),\n            DAYS.toMillis(1) + HOURS.toMillis(1) + MINUTES.toMillis(2),\n            DAYS.toMillis(4) + HOURS.toMillis(3) + MINUTES.toMillis(2) + SECONDS.toMillis(1),\n            DAYS.toMillis(5) + HOURS.toMillis(4) + MINUTES.toMillis(1) + SECONDS.toMillis(23) + 123,\n            DAYS.toMillis(42)\n        };\n\n        for (long duration : durations) {\n            System.out.println(TimeUtils.formatMillis(duration, DAYS, SECONDS));\n        }\n\n        System.out.println(&quot;\\nAgain in only hours and minutes\\n&quot;);\n\n        for (long duration : durations) {\n            System.out.println(TimeUtils.formatMillis(duration, HOURS, MINUTES));\n        }\n    }\n\n}\n</code></pre>\n<p>Which will output the following:</p>\n<pre><code>0 seconds\n5 seconds \n1 day and 1 hour \n1 day and 2 seconds \n1 day, 1 hour and 2 minutes \n4 days, 3 hours, 2 minutes and 1 second \n5 days, 4 hours, 1 minute and 23 seconds \n42 days \n\nAgain in only hours and minutes\n\n0 minutes\n0 minutes\n25 hours \n24 hours \n25 hours and 2 minutes \n99 hours and 2 minutes \n124 hours and 1 minute \n1008 hours \n</code></pre>\n<p>And in case anyone ever needs it, here's a class that will convert any string like the above <a href=\"http://svn.apache.org/repos/asf/openejb/trunk/openejb3/container/openejb-core/src/main/java/org/apache/openejb/util/Duration.java\" rel=\"nofollow noreferrer\">back into milliseconds</a>. It's pretty useful for allowing people to specify timeouts of various things in readable text.</p>\n"},{"tags":[],"owner":{"account_id":351468,"reputation":3022,"user_id":687965,"display_name":"Kevin Sawicki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301676427,"creation_date":1301676427,"answer_id":5516363,"question_id":3859288,"body_markdown":"I created a simple [Java timeago][1] port of the [jquery-timeago][2] plug-in that does what you are asking for.\r\n\r\n    TimeAgo time = new TimeAgo();\r\n    String minutes = time.timeAgo(System.currentTimeMillis() - (15*60*1000)); // returns &quot;15 minutes ago&quot;\r\n\r\n  [1]: https://github.com/kevinsawicki/java-timeago\r\n  [2]: http://rmm5t.github.com/jquery-timeago/","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>I created a simple <a href=\"https://github.com/kevinsawicki/java-timeago\" rel=\"nofollow\">Java timeago</a> port of the <a href=\"http://rmm5t.github.com/jquery-timeago/\" rel=\"nofollow\">jquery-timeago</a> plug-in that does what you are asking for.</p>\n\n<pre><code>TimeAgo time = new TimeAgo();\nString minutes = time.timeAgo(System.currentTimeMillis() - (15*60*1000)); // returns \"15 minutes ago\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2365794,"reputation":119,"user_id":2071497,"display_name":"Moria"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1360835770,"creation_date":1360835770,"answer_id":14872067,"question_id":3859288,"body_markdown":"there&#39;s a simple way to do this:\r\n\r\nlet&#39;s say you want the time 20 minutes ago:\r\n\r\n    Long minutesAgo = new Long(20);\r\n    Date date = new Date();\r\n    Date dateIn_X_MinAgo = new Date (date.getTime() - minutesAgo*60*1000);\r\n\r\n\r\nthat&#39;s it..","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>there's a simple way to do this:</p>\n\n<p>let's say you want the time 20 minutes ago:</p>\n\n<pre><code>Long minutesAgo = new Long(20);\nDate date = new Date();\nDate dateIn_X_MinAgo = new Date (date.getTime() - minutesAgo*60*1000);\n</code></pre>\n\n<p>that's it..</p>\n"},{"tags":[],"owner":{"account_id":2138701,"reputation":1077,"user_id":1897885,"display_name":"Dumi Jay"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1369760179,"creation_date":1369760179,"answer_id":16797502,"question_id":3859288,"body_markdown":"If you looking for a simple &quot;Today&quot;, &quot;Yesterday&quot; or &quot;x days ago&quot;.\r\n\r\n\tprivate String getDaysAgo(Date date){\r\n\t\tlong days = (new Date().getTime() - date.getTime()) / 86400000;\r\n\t\t\r\n\t\tif(days == 0) return &quot;Today&quot;;\r\n\t\telse if(days == 1) return &quot;Yesterday&quot;;\r\n\t\telse return days + &quot; days ago&quot;;\r\n\t}","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>If you looking for a simple \"Today\", \"Yesterday\" or \"x days ago\".</p>\n\n<pre><code>private String getDaysAgo(Date date){\n    long days = (new Date().getTime() - date.getTime()) / 86400000;\n\n    if(days == 0) return \"Today\";\n    else if(days == 1) return \"Yesterday\";\n    else return days + \" days ago\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1126025,"reputation":1180,"user_id":1113302,"accept_rate":60,"display_name":"Riccardo Casatta"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1477389302,"creation_date":1398157699,"answer_id":23215152,"question_id":3859288,"body_markdown":"I take RealHowTo and Ben J answers and make my own version:\r\n\r\n    public class TimeAgo {\r\n\tpublic static final List&lt;Long&gt; times = Arrays.asList(\r\n\t\t\tTimeUnit.DAYS.toMillis(365),\r\n\t\t\tTimeUnit.DAYS.toMillis(30),\r\n\t\t\tTimeUnit.DAYS.toMillis(1),\r\n\t\t\tTimeUnit.HOURS.toMillis(1),\r\n\t\t\tTimeUnit.MINUTES.toMillis(1),\r\n\t\t\tTimeUnit.SECONDS.toMillis(1) );\r\n\tpublic static final List&lt;String&gt; timesString = Arrays.asList(&quot;year&quot;,&quot;month&quot;,&quot;day&quot;,&quot;hour&quot;,&quot;minute&quot;,&quot;second&quot;);\r\n\r\n\tpublic static String toDuration(long duration) {\r\n\t\t\r\n\t\tStringBuffer res = new StringBuffer();\r\n\t\tfor(int i=0;i&lt; TimeAgo.times.size(); i++) {\r\n\t\t\tLong current = TimeAgo.times.get(i);\r\n\t\t\tlong temp = duration/current;\r\n\t\t\tif(temp&gt;0) {\r\n\t\t\t\tres.append(temp).append(&quot; &quot;).append( TimeAgo.timesString.get(i) ).append(temp != 1 ? &quot;s&quot; : &quot;&quot;).append(&quot; ago&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(&quot;&quot;.equals(res.toString()))\r\n\t\t\treturn &quot;0 seconds ago&quot;;\r\n\t\telse\r\n\t\t\treturn res.toString();\r\n\t}\r\n\tpublic static void main(String args[]) {\r\n\t\tSystem.out.println(toDuration(123));\r\n\t\tSystem.out.println(toDuration(1230));\r\n\t\tSystem.out.println(toDuration(12300));\r\n\t\tSystem.out.println(toDuration(123000));\r\n\t\tSystem.out.println(toDuration(1230000));\r\n\t\tSystem.out.println(toDuration(12300000));\r\n\t\tSystem.out.println(toDuration(123000000));\r\n\t\tSystem.out.println(toDuration(1230000000));\r\n\t\tSystem.out.println(toDuration(12300000000L));\r\n\t\tSystem.out.println(toDuration(123000000000L));\r\n\t}}\r\n which will print the following\r\n\r\n    0 second ago\r\n    1 second ago\r\n    12 seconds ago\r\n    2 minutes ago\r\n    20 minutes ago\r\n    3 hours ago\r\n    1 day ago\r\n    14 days ago\r\n    4 months ago\r\n    3 years ago\r\n    \r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>I take RealHowTo and Ben J answers and make my own version:</p>\n\n<pre><code>public class TimeAgo {\npublic static final List&lt;Long&gt; times = Arrays.asList(\n        TimeUnit.DAYS.toMillis(365),\n        TimeUnit.DAYS.toMillis(30),\n        TimeUnit.DAYS.toMillis(1),\n        TimeUnit.HOURS.toMillis(1),\n        TimeUnit.MINUTES.toMillis(1),\n        TimeUnit.SECONDS.toMillis(1) );\npublic static final List&lt;String&gt; timesString = Arrays.asList(\"year\",\"month\",\"day\",\"hour\",\"minute\",\"second\");\n\npublic static String toDuration(long duration) {\n\n    StringBuffer res = new StringBuffer();\n    for(int i=0;i&lt; TimeAgo.times.size(); i++) {\n        Long current = TimeAgo.times.get(i);\n        long temp = duration/current;\n        if(temp&gt;0) {\n            res.append(temp).append(\" \").append( TimeAgo.timesString.get(i) ).append(temp != 1 ? \"s\" : \"\").append(\" ago\");\n            break;\n        }\n    }\n    if(\"\".equals(res.toString()))\n        return \"0 seconds ago\";\n    else\n        return res.toString();\n}\npublic static void main(String args[]) {\n    System.out.println(toDuration(123));\n    System.out.println(toDuration(1230));\n    System.out.println(toDuration(12300));\n    System.out.println(toDuration(123000));\n    System.out.println(toDuration(1230000));\n    System.out.println(toDuration(12300000));\n    System.out.println(toDuration(123000000));\n    System.out.println(toDuration(1230000000));\n    System.out.println(toDuration(12300000000L));\n    System.out.println(toDuration(123000000000L));\n}}\n</code></pre>\n\n<p>which will print the following</p>\n\n<pre><code>0 second ago\n1 second ago\n12 seconds ago\n2 minutes ago\n20 minutes ago\n3 hours ago\n1 day ago\n14 days ago\n4 months ago\n3 years ago\n</code></pre>\n"},{"tags":[],"owner":{"account_id":292903,"reputation":1827,"user_id":595943,"display_name":"habsq"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1450732749,"creation_date":1434889922,"answer_id":30964523,"question_id":3859288,"body_markdown":"# java.time\r\n\r\nUsing the [java.time][1] framework built into Java 8 and later.\r\n\r\n    LocalDateTime t1 = LocalDateTime.of(2015, 1, 1, 0, 0, 0);\r\n    LocalDateTime t2 = LocalDateTime.now();\r\n    Period period = Period.between(t1.toLocalDate(), t2.toLocalDate());\r\n    Duration duration = Duration.between(t1, t2);\r\n\r\n    System.out.println(&quot;First January 2015 is &quot; + period.getYears() + &quot; years ago&quot;);\r\n    System.out.println(&quot;First January 2015 is &quot; + period.getMonths() + &quot; months ago&quot;);\r\n    System.out.println(&quot;First January 2015 is &quot; + period.getDays() + &quot; days ago&quot;);\r\n    System.out.println(&quot;First January 2015 is &quot; + duration.toHours() + &quot; hours ago&quot;);\r\n    System.out.println(&quot;First January 2015 is &quot; + duration.toMinutes() + &quot; minutes ago&quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"How to calculate &quot;time ago&quot; in Java?","body":"<h1>java.time</h1>\n\n<p>Using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework built into Java 8 and later.</p>\n\n<pre><code>LocalDateTime t1 = LocalDateTime.of(2015, 1, 1, 0, 0, 0);\nLocalDateTime t2 = LocalDateTime.now();\nPeriod period = Period.between(t1.toLocalDate(), t2.toLocalDate());\nDuration duration = Duration.between(t1, t2);\n\nSystem.out.println(\"First January 2015 is \" + period.getYears() + \" years ago\");\nSystem.out.println(\"First January 2015 is \" + period.getMonths() + \" months ago\");\nSystem.out.println(\"First January 2015 is \" + period.getDays() + \" days ago\");\nSystem.out.println(\"First January 2015 is \" + duration.toHours() + \" hours ago\");\nSystem.out.println(\"First January 2015 is \" + duration.toMinutes() + \" minutes ago\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5223987,"reputation":457,"user_id":4176535,"display_name":"Hari krishna Andhra Pradesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441955271,"creation_date":1441955271,"answer_id":32517557,"question_id":3859288,"body_markdown":"After long research i found this.\r\n\r\n        public class GetTimeLapse {\r\n        public static String getlongtoago(long createdAt) {\r\n            DateFormat userDateFormat = new SimpleDateFormat(&quot;E MMM dd HH:mm:ss Z yyyy&quot;);\r\n            DateFormat dateFormatNeeded = new SimpleDateFormat(&quot;MM/dd/yyyy HH:MM:SS&quot;);\r\n            Date date = null;\r\n            date = new Date(createdAt);\r\n            String crdate1 = dateFormatNeeded.format(date);\r\n    \r\n            // Date Calculation\r\n            DateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);\r\n            crdate1 = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).format(date);\r\n    \r\n            // get current date time with Calendar()\r\n            Calendar cal = Calendar.getInstance();\r\n            String currenttime = dateFormat.format(cal.getTime());\r\n    \r\n            Date CreatedAt = null;\r\n            Date current = null;\r\n            try {\r\n                CreatedAt = dateFormat.parse(crdate1);\r\n                current = dateFormat.parse(currenttime);\r\n            } catch (java.text.ParseException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            // Get msec from each, and subtract.\r\n            long diff = current.getTime() - CreatedAt.getTime();\r\n            long diffSeconds = diff / 1000;\r\n            long diffMinutes = diff / (60 * 1000) % 60;\r\n            long diffHours = diff / (60 * 60 * 1000) % 24;\r\n            long diffDays = diff / (24 * 60 * 60 * 1000);\r\n    \r\n            String time = null;\r\n            if (diffDays &gt; 0) {\r\n                if (diffDays == 1) {\r\n                    time = diffDays + &quot;day ago &quot;;\r\n                } else {\r\n                    time = diffDays + &quot;days ago &quot;;\r\n                }\r\n            } else {\r\n                if (diffHours &gt; 0) {\r\n                    if (diffHours == 1) {\r\n                        time = diffHours + &quot;hr ago&quot;;\r\n                    } else {\r\n                        time = diffHours + &quot;hrs ago&quot;;\r\n                    }\r\n                } else {\r\n                    if (diffMinutes &gt; 0) {\r\n                        if (diffMinutes == 1) {\r\n                            time = diffMinutes + &quot;min ago&quot;;\r\n                        } else {\r\n                            time = diffMinutes + &quot;mins ago&quot;;\r\n                        }\r\n                    } else {\r\n                        if (diffSeconds &gt; 0) {\r\n                            time = diffSeconds + &quot;secs ago&quot;;\r\n                        }\r\n                    }\r\n    \r\n                }\r\n    \r\n            }\r\n            return time;\r\n        }\r\n    }\r\n\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>After long research i found this.</p>\n\n<pre><code>    public class GetTimeLapse {\n    public static String getlongtoago(long createdAt) {\n        DateFormat userDateFormat = new SimpleDateFormat(\"E MMM dd HH:mm:ss Z yyyy\");\n        DateFormat dateFormatNeeded = new SimpleDateFormat(\"MM/dd/yyyy HH:MM:SS\");\n        Date date = null;\n        date = new Date(createdAt);\n        String crdate1 = dateFormatNeeded.format(date);\n\n        // Date Calculation\n        DateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\");\n        crdate1 = new SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\").format(date);\n\n        // get current date time with Calendar()\n        Calendar cal = Calendar.getInstance();\n        String currenttime = dateFormat.format(cal.getTime());\n\n        Date CreatedAt = null;\n        Date current = null;\n        try {\n            CreatedAt = dateFormat.parse(crdate1);\n            current = dateFormat.parse(currenttime);\n        } catch (java.text.ParseException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        // Get msec from each, and subtract.\n        long diff = current.getTime() - CreatedAt.getTime();\n        long diffSeconds = diff / 1000;\n        long diffMinutes = diff / (60 * 1000) % 60;\n        long diffHours = diff / (60 * 60 * 1000) % 24;\n        long diffDays = diff / (24 * 60 * 60 * 1000);\n\n        String time = null;\n        if (diffDays &gt; 0) {\n            if (diffDays == 1) {\n                time = diffDays + \"day ago \";\n            } else {\n                time = diffDays + \"days ago \";\n            }\n        } else {\n            if (diffHours &gt; 0) {\n                if (diffHours == 1) {\n                    time = diffHours + \"hr ago\";\n                } else {\n                    time = diffHours + \"hrs ago\";\n                }\n            } else {\n                if (diffMinutes &gt; 0) {\n                    if (diffMinutes == 1) {\n                        time = diffMinutes + \"min ago\";\n                    } else {\n                        time = diffMinutes + \"mins ago\";\n                    }\n                } else {\n                    if (diffSeconds &gt; 0) {\n                        time = diffSeconds + \"secs ago\";\n                    }\n                }\n\n            }\n\n        }\n        return time;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445240405,"creation_date":1445240405,"answer_id":33209045,"question_id":3859288,"body_markdown":"In case you&#39;re developing an app for Android, it provides the utility class [DateUtils](http://developer.android.com/reference/android/text/format/DateUtils.html) for all such requirements. Take a look at the [DateUtils#getRelativeTimeSpanString()](http://developer.android.com/reference/android/text/format/DateUtils.html#getRelativeTimeSpanString(long,%20long,%20long)) utility method.\r\n\r\nFrom the docs for\r\n\r\n***CharSequence getRelativeTimeSpanString (long time, long now, long minResolution)***\r\n&gt; Returns a string describing &#39;time&#39; as a time relative to &#39;now&#39;. Time spans in the past are formatted like &quot;42 minutes ago&quot;. Time spans in the future are formatted like &quot;In 42 minutes&quot;.\r\n\r\nYou&#39;ll be passing your `timestamp` as *time* and `System.currentTimeMillis()` as *now*. The `minResolution` lets you specify the minimum timespan to report.\r\n\r\n&gt; For example, a time 3 seconds in the past will be reported as &quot;0 minutes ago&quot; if this is set to MINUTE_IN_MILLIS. Pass one of 0, MINUTE_IN_MILLIS, HOUR_IN_MILLIS, DAY_IN_MILLIS, WEEK_IN_MILLIS etc.","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>In case you're developing an app for Android, it provides the utility class <a href=\"http://developer.android.com/reference/android/text/format/DateUtils.html\" rel=\"nofollow\">DateUtils</a> for all such requirements. Take a look at the <a href=\"http://developer.android.com/reference/android/text/format/DateUtils.html#getRelativeTimeSpanString(long,%20long,%20long)\" rel=\"nofollow\">DateUtils#getRelativeTimeSpanString()</a> utility method.</p>\n\n<p>From the docs for</p>\n\n<p><strong><em>CharSequence getRelativeTimeSpanString (long time, long now, long minResolution)</em></strong></p>\n\n<blockquote>\n  <p>Returns a string describing 'time' as a time relative to 'now'. Time spans in the past are formatted like \"42 minutes ago\". Time spans in the future are formatted like \"In 42 minutes\".</p>\n</blockquote>\n\n<p>You'll be passing your <code>timestamp</code> as <em>time</em> and <code>System.currentTimeMillis()</code> as <em>now</em>. The <code>minResolution</code> lets you specify the minimum timespan to report.</p>\n\n<blockquote>\n  <p>For example, a time 3 seconds in the past will be reported as \"0 minutes ago\" if this is set to MINUTE_IN_MILLIS. Pass one of 0, MINUTE_IN_MILLIS, HOUR_IN_MILLIS, DAY_IN_MILLIS, WEEK_IN_MILLIS etc.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1612632502,"creation_date":1445498140,"answer_id":33275274,"question_id":3859288,"body_markdown":"**About *built-in* solutions:**\r\n\r\nJava does not have any built-in support for formatting relative times, also not Java-8 and its new package `java.time`. If you only need English and nothing else then and only then a hand-made solution might be acceptable - see the answer of @RealHowTo (although it has the strong disadvantage to not take into account the timezone for the translation of instant deltas to local time units!). Anyway, if you want to avoid home-grown complex workarounds especially for other locales then you need an external library.\r\n\r\nIn latter case, I recommend to use my library [Time4J][1] (or Time4A on Android). It offers **greatest flexibility and most i18n-power**. The class [net.time4j.PrettyTime][2] has seven methods `printRelativeTime...(...)` for this purpose. Example using a test clock as time source:\r\n\r\n    TimeSource&lt;?&gt; clock = () -&gt; PlainTimestamp.of(2015, 8, 1, 10, 24, 5).atUTC();\r\n    Moment moment = PlainTimestamp.of(2015, 8, 1, 17, 0).atUTC(); // our input\r\n    String durationInDays =\r\n      PrettyTime.of(Locale.GERMAN).withReferenceClock(clock).printRelative(\r\n        moment,\r\n        Timezone.of(EUROPE.BERLIN),\r\n        TimeUnit.DAYS); // controlling the precision\r\n    System.out.println(durationInDays); // heute (german word for today)\r\n\r\nAnother example using `java.time.Instant` as input:\r\n\r\n    String relativeTime = \r\n      PrettyTime.of(Locale.ENGLISH)\r\n        .printRelativeInStdTimezone(Moment.from(Instant.EPOCH));\r\n    System.out.println(relativeTime); // 45 years ago\r\n\r\nThis library supports via its latest version (v4.17) **80 languages** and also some country-specific locales (especially for Spanish, English, Arabic, French). The i18n-data is mainly based on the **newest CLDR-version v29**. Other important reasons why to use this library are good **support for plural rules** (which are often different from English in other locales), **abbreviated format style** (for example: &quot;1 sec ago&quot;) and expressive ways for **taking into account timezones**. Time4J is even aware of such exotic details like **leap seconds** in calculations of relative times (not really important but it forms a message related to the expectation horizon). The **compatibility with Java-8** exists due to easily available conversion methods for types like `java.time.Instant` or `java.time.Period`.\r\n\r\nAre there any drawbacks? Only two. \r\n\r\n- The library is not small (also because of its big i18n-data repository).\r\n- The API is not well known so community knowledge and support are not available yet otherwise the supplied documentation is pretty detailed and comprehensive.\r\n\r\n**(Compact) alternatives:**\r\n\r\nIf you look for a smaller solution and don&#39;t need so many features and are willing to tolerate possible quality issues related to i18n-data then:\r\n\r\n- I would recommend **ocpsoft/PrettyTime** (support for actually 32 languages (soon 34?) suitable for work with `java.util.Date` only - see the answer of @ataylor). The industry standard CLDR (from Unicode consortium) with its big community background is unfortunately not a base of the i18n-data so further enhancements or improvements of data can take a while...\r\n\r\n- If you are on Android then the helper class **android.text.format.DateUtils** is a slim built-in alternative (see other comments and answers here, with the disadvantage that it has no support for years and months. And I am sure that only very few people like the API-style of this helper class.\r\n\r\n- If you are a fan of **Joda-Time** then you can look at its class [PeriodFormat][3] (support for 14 languages in release v2.9.4, on the other side: Joda-Time is surely not compact, too, so I mention it here just for completeness). This library is not a real answer because relative times are not supported at all. You will need to append the literal &quot; ago&quot; at least (and manually stripping off all lower units from generated list formats - awkward). Unlike Time4J or Android-DateUtils, it has no special support for abbreviations or automatic switching from relative times to absolute time representations. Like PrettyTime, it is totally dependent on the unconfirmed contributions of private members of the Java-community to its i18n-data.\r\n\r\n  [1]: https://github.com/MenoData/Time4J\r\n  [2]: http://time4j.net/javadoc-en/net/time4j/PrettyTime.html\r\n  [3]: http://www.joda.org/joda-time/apidocs/org/joda/time/format/PeriodFormat.html#wordBased(java.util.Locale)\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p><strong>About <em>built-in</em> solutions:</strong></p>\n<p>Java does not have any built-in support for formatting relative times, also not Java-8 and its new package <code>java.time</code>. If you only need English and nothing else then and only then a hand-made solution might be acceptable - see the answer of @RealHowTo (although it has the strong disadvantage to not take into account the timezone for the translation of instant deltas to local time units!). Anyway, if you want to avoid home-grown complex workarounds especially for other locales then you need an external library.</p>\n<p>In latter case, I recommend to use my library <a href=\"https://github.com/MenoData/Time4J\" rel=\"nofollow noreferrer\">Time4J</a> (or Time4A on Android). It offers <strong>greatest flexibility and most i18n-power</strong>. The class <a href=\"http://time4j.net/javadoc-en/net/time4j/PrettyTime.html\" rel=\"nofollow noreferrer\">net.time4j.PrettyTime</a> has seven methods <code>printRelativeTime...(...)</code> for this purpose. Example using a test clock as time source:</p>\n<pre><code>TimeSource&lt;?&gt; clock = () -&gt; PlainTimestamp.of(2015, 8, 1, 10, 24, 5).atUTC();\nMoment moment = PlainTimestamp.of(2015, 8, 1, 17, 0).atUTC(); // our input\nString durationInDays =\n  PrettyTime.of(Locale.GERMAN).withReferenceClock(clock).printRelative(\n    moment,\n    Timezone.of(EUROPE.BERLIN),\n    TimeUnit.DAYS); // controlling the precision\nSystem.out.println(durationInDays); // heute (german word for today)\n</code></pre>\n<p>Another example using <code>java.time.Instant</code> as input:</p>\n<pre><code>String relativeTime = \n  PrettyTime.of(Locale.ENGLISH)\n    .printRelativeInStdTimezone(Moment.from(Instant.EPOCH));\nSystem.out.println(relativeTime); // 45 years ago\n</code></pre>\n<p>This library supports via its latest version (v4.17) <strong>80 languages</strong> and also some country-specific locales (especially for Spanish, English, Arabic, French). The i18n-data is mainly based on the <strong>newest CLDR-version v29</strong>. Other important reasons why to use this library are good <strong>support for plural rules</strong> (which are often different from English in other locales), <strong>abbreviated format style</strong> (for example: &quot;1 sec ago&quot;) and expressive ways for <strong>taking into account timezones</strong>. Time4J is even aware of such exotic details like <strong>leap seconds</strong> in calculations of relative times (not really important but it forms a message related to the expectation horizon). The <strong>compatibility with Java-8</strong> exists due to easily available conversion methods for types like <code>java.time.Instant</code> or <code>java.time.Period</code>.</p>\n<p>Are there any drawbacks? Only two.</p>\n<ul>\n<li>The library is not small (also because of its big i18n-data repository).</li>\n<li>The API is not well known so community knowledge and support are not available yet otherwise the supplied documentation is pretty detailed and comprehensive.</li>\n</ul>\n<p><strong>(Compact) alternatives:</strong></p>\n<p>If you look for a smaller solution and don't need so many features and are willing to tolerate possible quality issues related to i18n-data then:</p>\n<ul>\n<li><p>I would recommend <strong>ocpsoft/PrettyTime</strong> (support for actually 32 languages (soon 34?) suitable for work with <code>java.util.Date</code> only - see the answer of @ataylor). The industry standard CLDR (from Unicode consortium) with its big community background is unfortunately not a base of the i18n-data so further enhancements or improvements of data can take a while...</p>\n</li>\n<li><p>If you are on Android then the helper class <strong>android.text.format.DateUtils</strong> is a slim built-in alternative (see other comments and answers here, with the disadvantage that it has no support for years and months. And I am sure that only very few people like the API-style of this helper class.</p>\n</li>\n<li><p>If you are a fan of <strong>Joda-Time</strong> then you can look at its class <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/PeriodFormat.html#wordBased(java.util.Locale)\" rel=\"nofollow noreferrer\">PeriodFormat</a> (support for 14 languages in release v2.9.4, on the other side: Joda-Time is surely not compact, too, so I mention it here just for completeness). This library is not a real answer because relative times are not supported at all. You will need to append the literal &quot; ago&quot; at least (and manually stripping off all lower units from generated list formats - awkward). Unlike Time4J or Android-DateUtils, it has no special support for abbreviations or automatic switching from relative times to absolute time representations. Like PrettyTime, it is totally dependent on the unconfirmed contributions of private members of the Java-community to its i18n-data.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6189847,"reputation":420,"user_id":4822826,"accept_rate":25,"display_name":"Rajesh Tiwari"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1449115329,"creation_date":1449115329,"answer_id":34057668,"question_id":3859288,"body_markdown":"You Can use this function to calculate time ago\r\n \r\n\r\n     private String timeAgo(long time_ago) {\r\n            long cur_time = (Calendar.getInstance().getTimeInMillis()) / 1000;\r\n            long time_elapsed = cur_time - time_ago;\r\n            long seconds = time_elapsed;\r\n            int minutes = Math.round(time_elapsed / 60);\r\n            int hours = Math.round(time_elapsed / 3600);\r\n            int days = Math.round(time_elapsed / 86400);\r\n            int weeks = Math.round(time_elapsed / 604800);\r\n            int months = Math.round(time_elapsed / 2600640);\r\n            int years = Math.round(time_elapsed / 31207680);\r\n    \r\n            // Seconds\r\n            if (seconds &lt;= 60) {\r\n                return &quot;just now&quot;;\r\n            }\r\n            //Minutes\r\n            else if (minutes &lt;= 60) {\r\n                if (minutes == 1) {\r\n                    return &quot;one minute ago&quot;;\r\n                } else {\r\n                    return minutes + &quot; minutes ago&quot;;\r\n                }\r\n            }\r\n            //Hours\r\n            else if (hours &lt;= 24) {\r\n                if (hours == 1) {\r\n                    return &quot;an hour ago&quot;;\r\n                } else {\r\n                    return hours + &quot; hrs ago&quot;;\r\n                }\r\n            }\r\n            //Days\r\n            else if (days &lt;= 7) {\r\n                if (days == 1) {\r\n                    return &quot;yesterday&quot;;\r\n                } else {\r\n                    return days + &quot; days ago&quot;;\r\n                }\r\n            }\r\n            //Weeks\r\n            else if (weeks &lt;= 4.3) {\r\n                if (weeks == 1) {\r\n                    return &quot;a week ago&quot;;\r\n                } else {\r\n                    return weeks + &quot; weeks ago&quot;;\r\n                }\r\n            }\r\n            //Months\r\n            else if (months &lt;= 12) {\r\n                if (months == 1) {\r\n                    return &quot;a month ago&quot;;\r\n                } else {\r\n                    return months + &quot; months ago&quot;;\r\n                }\r\n            }\r\n            //Years\r\n            else {\r\n                if (years == 1) {\r\n                    return &quot;one year ago&quot;;\r\n                } else {\r\n                    return years + &quot; years ago&quot;;\r\n                }\r\n            }\r\n        }\r\n\r\n1) Here time_ago is in microsecond","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>You Can use this function to calculate time ago</p>\n\n<pre><code> private String timeAgo(long time_ago) {\n        long cur_time = (Calendar.getInstance().getTimeInMillis()) / 1000;\n        long time_elapsed = cur_time - time_ago;\n        long seconds = time_elapsed;\n        int minutes = Math.round(time_elapsed / 60);\n        int hours = Math.round(time_elapsed / 3600);\n        int days = Math.round(time_elapsed / 86400);\n        int weeks = Math.round(time_elapsed / 604800);\n        int months = Math.round(time_elapsed / 2600640);\n        int years = Math.round(time_elapsed / 31207680);\n\n        // Seconds\n        if (seconds &lt;= 60) {\n            return \"just now\";\n        }\n        //Minutes\n        else if (minutes &lt;= 60) {\n            if (minutes == 1) {\n                return \"one minute ago\";\n            } else {\n                return minutes + \" minutes ago\";\n            }\n        }\n        //Hours\n        else if (hours &lt;= 24) {\n            if (hours == 1) {\n                return \"an hour ago\";\n            } else {\n                return hours + \" hrs ago\";\n            }\n        }\n        //Days\n        else if (days &lt;= 7) {\n            if (days == 1) {\n                return \"yesterday\";\n            } else {\n                return days + \" days ago\";\n            }\n        }\n        //Weeks\n        else if (weeks &lt;= 4.3) {\n            if (weeks == 1) {\n                return \"a week ago\";\n            } else {\n                return weeks + \" weeks ago\";\n            }\n        }\n        //Months\n        else if (months &lt;= 12) {\n            if (months == 1) {\n                return \"a month ago\";\n            } else {\n                return months + \" months ago\";\n            }\n        }\n        //Years\n        else {\n            if (years == 1) {\n                return \"one year ago\";\n            } else {\n                return years + \" years ago\";\n            }\n        }\n    }\n</code></pre>\n\n<p>1) Here time_ago is in microsecond</p>\n"},{"tags":[],"owner":{"account_id":3012217,"reputation":1755,"user_id":2555419,"accept_rate":88,"display_name":"Joey Pinto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450166731,"creation_date":1450166731,"answer_id":34283868,"question_id":3859288,"body_markdown":"Here is my Java Implementation of this\r\n\r\n        public static String relativeDate(Date date){\r\n\t\tDate now=new Date();\r\n\t\tif(date.before(now)){\r\n\t\tint days_passed=(int) TimeUnit.MILLISECONDS.toDays(now.getTime() - date.getTime());\r\n\t\tif(days_passed&gt;1)return days_passed+&quot; days ago&quot;;\r\n\t\telse{\r\n\t\t\tint hours_passed=(int) TimeUnit.MILLISECONDS.toHours(now.getTime() - date.getTime());\r\n\t\t\tif(hours_passed&gt;1)return days_passed+&quot; hours ago&quot;;\r\n\t\t\telse{\r\n\t\t\t\tint minutes_passed=(int) TimeUnit.MILLISECONDS.toMinutes(now.getTime() - date.getTime());\r\n\t\t\t\tif(minutes_passed&gt;1)return minutes_passed+&quot; minutes ago&quot;;\r\n\t\t\t\telse{\r\n\t\t\t\t\tint seconds_passed=(int) TimeUnit.MILLISECONDS.toSeconds(now.getTime() - date.getTime());\r\n\t\t\t\t\treturn seconds_passed +&quot; seconds ago&quot;;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t \r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn new SimpleDateFormat(&quot;HH:mm:ss MM/dd/yyyy&quot;).format(date).toString();\r\n\t\t}\r\n\t  }","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>Here is my Java Implementation of this</p>\n\n<pre><code>    public static String relativeDate(Date date){\n    Date now=new Date();\n    if(date.before(now)){\n    int days_passed=(int) TimeUnit.MILLISECONDS.toDays(now.getTime() - date.getTime());\n    if(days_passed&gt;1)return days_passed+\" days ago\";\n    else{\n        int hours_passed=(int) TimeUnit.MILLISECONDS.toHours(now.getTime() - date.getTime());\n        if(hours_passed&gt;1)return days_passed+\" hours ago\";\n        else{\n            int minutes_passed=(int) TimeUnit.MILLISECONDS.toMinutes(now.getTime() - date.getTime());\n            if(minutes_passed&gt;1)return minutes_passed+\" minutes ago\";\n            else{\n                int seconds_passed=(int) TimeUnit.MILLISECONDS.toSeconds(now.getTime() - date.getTime());\n                return seconds_passed +\" seconds ago\";\n            }\n        }\n    }\n\n    }\n    else\n    {\n        return new SimpleDateFormat(\"HH:mm:ss MM/dd/yyyy\").format(date).toString();\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1020930,"reputation":10844,"user_id":1031297,"accept_rate":55,"display_name":"OWADVL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612632580,"creation_date":1453924856,"answer_id":35046920,"question_id":3859288,"body_markdown":"**For Android**\r\nExactly like Ravi said, but since lots of people want to **just copy-paste** the thing here it is.\r\n\r\n\r\n      try {\r\n          SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;);\r\n          Date dt = formatter.parse(date_from_server);\r\n          CharSequence output = DateUtils.getRelativeTimeSpanString (dt.getTime());\r\n          your_textview.setText(output.toString());\r\n        } catch (Exception ex) {\r\n          ex.printStackTrace();\r\n          your_textview.setText(&quot;&quot;);\r\n        }\r\n\r\n\r\n**Explanation for people that have more time**\r\n\r\n1. You get the data from somewhere. First, you have to figure out its format.\r\n\r\nEx. I get the data from a server in the format \r\nWed, 27 Jan 2016 09:32:35 GMT [this is probably NOT your case]\r\n\r\nthis is translated into\r\n\r\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;);\r\n\r\nhow do I know it? Read the [documentation here.][1]\r\n\r\nThen after I parse it I get a date. that date I put in the getRelativeTimeSpanString (without any additional parameters is fine by me, to default to minutes)\r\n\r\n**You WILL get an exception** if you didn&#39;t figure out the **correct parsing String**, Something like exception **at character 5**. **Look at character 5, and correct your initial parsing string.**. You might get another exception, repeat these steps until you have the correct formula.\r\n\r\n  [1]: http://developer.android.com/reference/java/text/SimpleDateFormat.html","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p><strong>For Android</strong>\nExactly like Ravi said, but since lots of people want to <strong>just copy-paste</strong> the thing here it is.</p>\n<pre><code>  try {\n      SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;);\n      Date dt = formatter.parse(date_from_server);\n      CharSequence output = DateUtils.getRelativeTimeSpanString (dt.getTime());\n      your_textview.setText(output.toString());\n    } catch (Exception ex) {\n      ex.printStackTrace();\n      your_textview.setText(&quot;&quot;);\n    }\n</code></pre>\n<p><strong>Explanation for people that have more time</strong></p>\n<ol>\n<li>You get the data from somewhere. First, you have to figure out its format.</li>\n</ol>\n<p>Ex. I get the data from a server in the format\nWed, 27 Jan 2016 09:32:35 GMT [this is probably NOT your case]</p>\n<p>this is translated into</p>\n<p>SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;);</p>\n<p>how do I know it? Read the <a href=\"http://developer.android.com/reference/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">documentation here.</a></p>\n<p>Then after I parse it I get a date. that date I put in the getRelativeTimeSpanString (without any additional parameters is fine by me, to default to minutes)</p>\n<p><strong>You WILL get an exception</strong> if you didn't figure out the <strong>correct parsing String</strong>, Something like exception <strong>at character 5</strong>. <strong>Look at character 5, and correct your initial parsing string.</strong>. You might get another exception, repeat these steps until you have the correct formula.</p>\n"},{"tags":[],"owner":{"account_id":214402,"reputation":9347,"user_id":468360,"display_name":"Codeversed"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1462421804,"creation_date":1462421804,"answer_id":37042254,"question_id":3859288,"body_markdown":"Based on a bunch of answers here, I created the following for my use case.\r\n\r\nExample usage:\r\n\r\n    String relativeDate = String.valueOf(\r\n                    TimeUtils.getRelativeTime( 1000L * myTimeInMillis() ));\r\n\r\n\r\n----------\r\n\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import static java.util.concurrent.TimeUnit.DAYS;\r\n    import static java.util.concurrent.TimeUnit.HOURS;\r\n    import static java.util.concurrent.TimeUnit.MINUTES;\r\n    import static java.util.concurrent.TimeUnit.SECONDS;\r\n    \r\n    /**\r\n     * Utilities for dealing with dates and times\r\n     */\r\n    public class TimeUtils {\r\n\r\n        public static final List&lt;Long&gt; times = Arrays.asList(\r\n            DAYS.toMillis(365),\r\n            DAYS.toMillis(30),\r\n            DAYS.toMillis(7),\r\n            DAYS.toMillis(1),\r\n            HOURS.toMillis(1),\r\n            MINUTES.toMillis(1),\r\n            SECONDS.toMillis(1)\r\n        );\r\n\r\n        public static final List&lt;String&gt; timesString = Arrays.asList(\r\n            &quot;yr&quot;, &quot;mo&quot;, &quot;wk&quot;, &quot;day&quot;, &quot;hr&quot;, &quot;min&quot;, &quot;sec&quot;\r\n        );\r\n\r\n        /**\r\n         * Get relative time ago for date\r\n         *\r\n         * NOTE:\r\n         *  if (duration &gt; WEEK_IN_MILLIS) getRelativeTimeSpanString prints the date.\r\n         *\r\n         * ALT:\r\n         *  return getRelativeTimeSpanString(date, now, SECOND_IN_MILLIS, FORMAT_ABBREV_RELATIVE);\r\n         *\r\n         * @param date String.valueOf(TimeUtils.getRelativeTime(1000L * Date/Time in Millis)\r\n         * @return relative time\r\n         */\r\n        public static CharSequence getRelativeTime(final long date) {\r\n            return toDuration( Math.abs(System.currentTimeMillis() - date) );\r\n        }\r\n\r\n        private static String toDuration(long duration) {\r\n            StringBuilder sb = new StringBuilder();\r\n            for(int i=0;i&lt; times.size(); i++) {\r\n                Long current = times.get(i);\r\n                long temp = duration / current;\r\n                if (temp &gt; 0) {\r\n                    sb.append(temp)\r\n                      .append(&quot; &quot;)\r\n                      .append(timesString.get(i))\r\n                      .append(temp &gt; 1 ? &quot;s&quot; : &quot;&quot;)\r\n                      .append(&quot; ago&quot;);\r\n                    break;\r\n                }\r\n            }\r\n            return sb.toString().isEmpty() ? &quot;now&quot; : sb.toString();\r\n        }\r\n    }","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>Based on a bunch of answers here, I created the following for my use case.</p>\n\n<p>Example usage:</p>\n\n<pre><code>String relativeDate = String.valueOf(\n                TimeUtils.getRelativeTime( 1000L * myTimeInMillis() ));\n</code></pre>\n\n<hr>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\nimport static java.util.concurrent.TimeUnit.DAYS;\nimport static java.util.concurrent.TimeUnit.HOURS;\nimport static java.util.concurrent.TimeUnit.MINUTES;\nimport static java.util.concurrent.TimeUnit.SECONDS;\n\n/**\n * Utilities for dealing with dates and times\n */\npublic class TimeUtils {\n\n    public static final List&lt;Long&gt; times = Arrays.asList(\n        DAYS.toMillis(365),\n        DAYS.toMillis(30),\n        DAYS.toMillis(7),\n        DAYS.toMillis(1),\n        HOURS.toMillis(1),\n        MINUTES.toMillis(1),\n        SECONDS.toMillis(1)\n    );\n\n    public static final List&lt;String&gt; timesString = Arrays.asList(\n        \"yr\", \"mo\", \"wk\", \"day\", \"hr\", \"min\", \"sec\"\n    );\n\n    /**\n     * Get relative time ago for date\n     *\n     * NOTE:\n     *  if (duration &gt; WEEK_IN_MILLIS) getRelativeTimeSpanString prints the date.\n     *\n     * ALT:\n     *  return getRelativeTimeSpanString(date, now, SECOND_IN_MILLIS, FORMAT_ABBREV_RELATIVE);\n     *\n     * @param date String.valueOf(TimeUtils.getRelativeTime(1000L * Date/Time in Millis)\n     * @return relative time\n     */\n    public static CharSequence getRelativeTime(final long date) {\n        return toDuration( Math.abs(System.currentTimeMillis() - date) );\n    }\n\n    private static String toDuration(long duration) {\n        StringBuilder sb = new StringBuilder();\n        for(int i=0;i&lt; times.size(); i++) {\n            Long current = times.get(i);\n            long temp = duration / current;\n            if (temp &gt; 0) {\n                sb.append(temp)\n                  .append(\" \")\n                  .append(timesString.get(i))\n                  .append(temp &gt; 1 ? \"s\" : \"\")\n                  .append(\" ago\");\n                break;\n            }\n        }\n        return sb.toString().isEmpty() ? \"now\" : sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8152269,"reputation":3283,"user_id":6138892,"accept_rate":40,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492692040,"creation_date":1492692040,"answer_id":43519845,"question_id":3859288,"body_markdown":"it works for me\r\n\r\n    public class TimeDifference {\r\n        int years;\r\n        int months;\r\n        int days;\r\n        int hours;\r\n        int minutes;\r\n        int seconds;\r\n        String differenceString;\r\n    \r\n        public TimeDifference(@NonNull Date curdate, @NonNull Date olddate) {\r\n    \r\n            float diff = curdate.getTime() - olddate.getTime();\r\n            if (diff &gt;= 0) {\r\n                int yearDiff = Math.round((diff / (AppConstant.aLong * AppConstant.aFloat)) &gt;= 1 ? (diff / (AppConstant.aLong * AppConstant.aFloat)) : 0);\r\n                if (yearDiff &gt; 0) {\r\n                    years = yearDiff;\r\n                    setDifferenceString(years + (years == 1 ? &quot; year&quot; : &quot; years&quot;) + &quot; ago&quot;);\r\n                } else {\r\n                    int monthDiff = Math.round((diff / AppConstant.aFloat) &gt;= 1 ? (diff / AppConstant.aFloat) : 0);\r\n                    if (monthDiff &gt; 0) {\r\n                        if (monthDiff &gt; AppConstant.ELEVEN) {\r\n                            monthDiff = AppConstant.ELEVEN;\r\n                        }\r\n                        months = monthDiff;\r\n                        setDifferenceString(months + (months == 1 ? &quot; month&quot; : &quot; months&quot;) + &quot; ago&quot;);\r\n                    } else {\r\n                        int dayDiff = Math.round((diff / (AppConstant.bFloat)) &gt;= 1 ? (diff / (AppConstant.bFloat)) : 0);\r\n                        if (dayDiff &gt; 0) {\r\n                            days = dayDiff;\r\n                            if (days == AppConstant.THIRTY) {\r\n                                days = AppConstant.TWENTYNINE;\r\n                            }\r\n                            setDifferenceString(days + (days == 1 ? &quot; day&quot; : &quot; days&quot;) + &quot; ago&quot;);\r\n                        } else {\r\n                            int hourDiff = Math.round((diff / (AppConstant.cFloat)) &gt;= 1 ? (diff / (AppConstant.cFloat)) : 0);\r\n                            if (hourDiff &gt; 0) {\r\n                                hours = hourDiff;\r\n                                setDifferenceString(hours + (hours == 1 ? &quot; hour&quot; : &quot; hours&quot;) + &quot; ago&quot;);\r\n                            } else {\r\n                                int minuteDiff = Math.round((diff / (AppConstant.dFloat)) &gt;= 1 ? (diff / (AppConstant.dFloat)) : 0);\r\n                                if (minuteDiff &gt; 0) {\r\n                                    minutes = minuteDiff;\r\n                                    setDifferenceString(minutes + (minutes == 1 ? &quot; minute&quot; : &quot; minutes&quot;) + &quot; ago&quot;);\r\n                                } else {\r\n                                    int secondDiff = Math.round((diff / (AppConstant.eFloat)) &gt;= 1 ? (diff / (AppConstant.eFloat)) : 0);\r\n                                    if (secondDiff &gt; 0) {\r\n                                        seconds = secondDiff;\r\n                                    } else {\r\n                                        seconds = 1;\r\n                                    }\r\n                                    setDifferenceString(seconds + (seconds == 1 ? &quot; second&quot; : &quot; seconds&quot;) + &quot; ago&quot;);\r\n                                }\r\n                            }\r\n                        }\r\n    \r\n                    }\r\n                }\r\n    \r\n            } else {\r\n                setDifferenceString(&quot;Just now&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        public String getDifferenceString() {\r\n            return differenceString;\r\n        }\r\n    \r\n        public void setDifferenceString(String differenceString) {\r\n            this.differenceString = differenceString;\r\n        }\r\n    \r\n        public int getYears() {\r\n            return years;\r\n        }\r\n    \r\n        public void setYears(int years) {\r\n            this.years = years;\r\n        }\r\n    \r\n        public int getMonths() {\r\n            return months;\r\n        }\r\n    \r\n        public void setMonths(int months) {\r\n            this.months = months;\r\n        }\r\n    \r\n        public int getDays() {\r\n            return days;\r\n        }\r\n    \r\n        public void setDays(int days) {\r\n            this.days = days;\r\n        }\r\n    \r\n        public int getHours() {\r\n            return hours;\r\n        }\r\n    \r\n        public void setHours(int hours) {\r\n            this.hours = hours;\r\n        }\r\n    \r\n        public int getMinutes() {\r\n            return minutes;\r\n        }\r\n    \r\n        public void setMinutes(int minutes) {\r\n            this.minutes = minutes;\r\n        }\r\n    \r\n        public int getSeconds() {\r\n            return seconds;\r\n        }\r\n    \r\n        public void setSeconds(int seconds) {\r\n            this.seconds = seconds;\r\n        } }\r\n\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>it works for me</p>\n\n<pre><code>public class TimeDifference {\n    int years;\n    int months;\n    int days;\n    int hours;\n    int minutes;\n    int seconds;\n    String differenceString;\n\n    public TimeDifference(@NonNull Date curdate, @NonNull Date olddate) {\n\n        float diff = curdate.getTime() - olddate.getTime();\n        if (diff &gt;= 0) {\n            int yearDiff = Math.round((diff / (AppConstant.aLong * AppConstant.aFloat)) &gt;= 1 ? (diff / (AppConstant.aLong * AppConstant.aFloat)) : 0);\n            if (yearDiff &gt; 0) {\n                years = yearDiff;\n                setDifferenceString(years + (years == 1 ? \" year\" : \" years\") + \" ago\");\n            } else {\n                int monthDiff = Math.round((diff / AppConstant.aFloat) &gt;= 1 ? (diff / AppConstant.aFloat) : 0);\n                if (monthDiff &gt; 0) {\n                    if (monthDiff &gt; AppConstant.ELEVEN) {\n                        monthDiff = AppConstant.ELEVEN;\n                    }\n                    months = monthDiff;\n                    setDifferenceString(months + (months == 1 ? \" month\" : \" months\") + \" ago\");\n                } else {\n                    int dayDiff = Math.round((diff / (AppConstant.bFloat)) &gt;= 1 ? (diff / (AppConstant.bFloat)) : 0);\n                    if (dayDiff &gt; 0) {\n                        days = dayDiff;\n                        if (days == AppConstant.THIRTY) {\n                            days = AppConstant.TWENTYNINE;\n                        }\n                        setDifferenceString(days + (days == 1 ? \" day\" : \" days\") + \" ago\");\n                    } else {\n                        int hourDiff = Math.round((diff / (AppConstant.cFloat)) &gt;= 1 ? (diff / (AppConstant.cFloat)) : 0);\n                        if (hourDiff &gt; 0) {\n                            hours = hourDiff;\n                            setDifferenceString(hours + (hours == 1 ? \" hour\" : \" hours\") + \" ago\");\n                        } else {\n                            int minuteDiff = Math.round((diff / (AppConstant.dFloat)) &gt;= 1 ? (diff / (AppConstant.dFloat)) : 0);\n                            if (minuteDiff &gt; 0) {\n                                minutes = minuteDiff;\n                                setDifferenceString(minutes + (minutes == 1 ? \" minute\" : \" minutes\") + \" ago\");\n                            } else {\n                                int secondDiff = Math.round((diff / (AppConstant.eFloat)) &gt;= 1 ? (diff / (AppConstant.eFloat)) : 0);\n                                if (secondDiff &gt; 0) {\n                                    seconds = secondDiff;\n                                } else {\n                                    seconds = 1;\n                                }\n                                setDifferenceString(seconds + (seconds == 1 ? \" second\" : \" seconds\") + \" ago\");\n                            }\n                        }\n                    }\n\n                }\n            }\n\n        } else {\n            setDifferenceString(\"Just now\");\n        }\n\n    }\n\n    public String getDifferenceString() {\n        return differenceString;\n    }\n\n    public void setDifferenceString(String differenceString) {\n        this.differenceString = differenceString;\n    }\n\n    public int getYears() {\n        return years;\n    }\n\n    public void setYears(int years) {\n        this.years = years;\n    }\n\n    public int getMonths() {\n        return months;\n    }\n\n    public void setMonths(int months) {\n        this.months = months;\n    }\n\n    public int getDays() {\n        return days;\n    }\n\n    public void setDays(int days) {\n        this.days = days;\n    }\n\n    public int getHours() {\n        return hours;\n    }\n\n    public void setHours(int hours) {\n        this.hours = hours;\n    }\n\n    public int getMinutes() {\n        return minutes;\n    }\n\n    public void setMinutes(int minutes) {\n        this.minutes = minutes;\n    }\n\n    public int getSeconds() {\n        return seconds;\n    }\n\n    public void setSeconds(int seconds) {\n        this.seconds = seconds;\n    } }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10997986,"reputation":93,"user_id":8079440,"display_name":"Dwipa Arantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497461276,"creation_date":1497460937,"answer_id":44551046,"question_id":3859288,"body_markdown":"This is the very basic script. its easy to improvized.&lt;br/&gt;\r\nResult : (XXX Hours Ago), or (XX Days Ago/Yesterday/Today)\r\n\r\n    &lt;span id=&#39;hourpost&#39;&gt;&lt;/span&gt;\r\n    ,or\r\n    &lt;span id=&#39;daypost&#39;&gt;&lt;/span&gt;\r\n\r\n    &lt;script&gt;\r\n    var postTime = new Date(&#39;2017/6/9 00:01&#39;); \r\n    var now = new Date();\r\n    var difference = now.getTime() - postTime.getTime();\r\n    var minutes = Math.round(difference/60000);\r\n    var hours = Math.round(minutes/60);\r\n    var days = Math.round(hours/24);\r\n    \r\n    var result;\r\n    if (days &lt; 1) {\r\n    result = &quot;Today&quot;;\r\n    } else if (days &lt; 2) {\r\n    result = &quot;Yesterday&quot;;\r\n    } else {\r\n    result = days + &quot; Days ago&quot;;\r\n    }\r\n    \r\n    document.getElementById(&quot;hourpost&quot;).innerHTML = hours + &quot;Hours Ago&quot; ;\r\n    document.getElementById(&quot;daypost&quot;).innerHTML = result ;\r\n    &lt;/script&gt;","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>This is the very basic script. its easy to improvized.<br/>\nResult : (XXX Hours Ago), or (XX Days Ago/Yesterday/Today)</p>\n\n<pre><code>&lt;span id='hourpost'&gt;&lt;/span&gt;\n,or\n&lt;span id='daypost'&gt;&lt;/span&gt;\n\n&lt;script&gt;\nvar postTime = new Date('2017/6/9 00:01'); \nvar now = new Date();\nvar difference = now.getTime() - postTime.getTime();\nvar minutes = Math.round(difference/60000);\nvar hours = Math.round(minutes/60);\nvar days = Math.round(hours/24);\n\nvar result;\nif (days &lt; 1) {\nresult = \"Today\";\n} else if (days &lt; 2) {\nresult = \"Yesterday\";\n} else {\nresult = days + \" Days ago\";\n}\n\ndocument.getElementById(\"hourpost\").innerHTML = hours + \"Hours Ago\" ;\ndocument.getElementById(\"daypost\").innerHTML = result ;\n&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12511310,"reputation":606,"user_id":9106312,"display_name":"Mirza Asad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517050755,"creation_date":1517049531,"answer_id":48474927,"question_id":3859288,"body_markdown":"This is a better code if we consider performance.It reduces the number of calculations.\r\n**Reason**\r\nMinutes are calculated only if the number of seconds is greater than 60 and Hours are calculated only if the number of minutes is greater than  60 and so on...\r\n\r\n   \r\n\r\n    class timeAgo {\r\n\r\n    static String getTimeAgo(long time_ago) {\r\n        time_ago=time_ago/1000;\r\n        long cur_time = (Calendar.getInstance().getTimeInMillis())/1000 ;\r\n        long time_elapsed = cur_time - time_ago;\r\n        long seconds = time_elapsed;\r\n       // Seconds\r\n        if (seconds &lt;= 60) {\r\n            return &quot;Just now&quot;;\r\n        }\r\n        //Minutes\r\n        else{\r\n            int minutes = Math.round(time_elapsed / 60);\r\n\r\n            if (minutes &lt;= 60) {\r\n                if (minutes == 1) {\r\n                    return &quot;a minute ago&quot;;\r\n                } else {\r\n                    return minutes + &quot; minutes ago&quot;;\r\n                }\r\n            }\r\n            //Hours\r\n            else {\r\n                int hours = Math.round(time_elapsed / 3600);\r\n                if (hours &lt;= 24) {\r\n                    if (hours == 1) {\r\n                        return &quot;An hour ago&quot;;\r\n                    } else {\r\n                        return hours + &quot; hrs ago&quot;;\r\n                    }\r\n                }\r\n                //Days\r\n                else {\r\n                    int days = Math.round(time_elapsed / 86400);\r\n                    if (days &lt;= 7) {\r\n                        if (days == 1) {\r\n                            return &quot;Yesterday&quot;;\r\n                        } else {\r\n                            return days + &quot; days ago&quot;;\r\n                        }\r\n                    }\r\n                    //Weeks\r\n                    else {\r\n                        int weeks = Math.round(time_elapsed / 604800);\r\n                        if (weeks &lt;= 4.3) {\r\n                            if (weeks == 1) {\r\n                                return &quot;A week ago&quot;;\r\n                            } else {\r\n                                return weeks + &quot; weeks ago&quot;;\r\n                            }\r\n                        }\r\n                        //Months\r\n                        else {\r\n                            int months = Math.round(time_elapsed / 2600640);\r\n                            if (months &lt;= 12) {\r\n                                if (months == 1) {\r\n                                    return &quot;A month ago&quot;;\r\n                                } else {\r\n                                    return months + &quot; months ago&quot;;\r\n                                }\r\n                            }\r\n                            //Years\r\n                            else {\r\n                                int years = Math.round(time_elapsed / 31207680);\r\n                                if (years == 1) {\r\n                                    return &quot;One year ago&quot;;\r\n                                } else {\r\n                                    return years + &quot; years ago&quot;;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    }\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>This is a better code if we consider performance.It reduces the number of calculations.\n<strong>Reason</strong>\nMinutes are calculated only if the number of seconds is greater than 60 and Hours are calculated only if the number of minutes is greater than  60 and so on...</p>\n\n<pre><code>class timeAgo {\n\nstatic String getTimeAgo(long time_ago) {\n    time_ago=time_ago/1000;\n    long cur_time = (Calendar.getInstance().getTimeInMillis())/1000 ;\n    long time_elapsed = cur_time - time_ago;\n    long seconds = time_elapsed;\n   // Seconds\n    if (seconds &lt;= 60) {\n        return \"Just now\";\n    }\n    //Minutes\n    else{\n        int minutes = Math.round(time_elapsed / 60);\n\n        if (minutes &lt;= 60) {\n            if (minutes == 1) {\n                return \"a minute ago\";\n            } else {\n                return minutes + \" minutes ago\";\n            }\n        }\n        //Hours\n        else {\n            int hours = Math.round(time_elapsed / 3600);\n            if (hours &lt;= 24) {\n                if (hours == 1) {\n                    return \"An hour ago\";\n                } else {\n                    return hours + \" hrs ago\";\n                }\n            }\n            //Days\n            else {\n                int days = Math.round(time_elapsed / 86400);\n                if (days &lt;= 7) {\n                    if (days == 1) {\n                        return \"Yesterday\";\n                    } else {\n                        return days + \" days ago\";\n                    }\n                }\n                //Weeks\n                else {\n                    int weeks = Math.round(time_elapsed / 604800);\n                    if (weeks &lt;= 4.3) {\n                        if (weeks == 1) {\n                            return \"A week ago\";\n                        } else {\n                            return weeks + \" weeks ago\";\n                        }\n                    }\n                    //Months\n                    else {\n                        int months = Math.round(time_elapsed / 2600640);\n                        if (months &lt;= 12) {\n                            if (months == 1) {\n                                return \"A month ago\";\n                            } else {\n                                return months + \" months ago\";\n                            }\n                        }\n                        //Years\n                        else {\n                            int years = Math.round(time_elapsed / 31207680);\n                            if (years == 1) {\n                                return \"One year ago\";\n                            } else {\n                                return years + \" years ago\";\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9195148,"reputation":3060,"user_id":6834114,"display_name":"Omkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540709269,"creation_date":1540709269,"answer_id":53029051,"question_id":3859288,"body_markdown":"for this I&#39;ve done `Just Now, seconds ago, min ago, hrs ago, days ago, weeks ago, months ago, years ago` in this example you can parse date like `2018-09-05T06:40:46.183Z` this or any other like below\r\n\r\nadd below value in **string.xml**\r\n\r\n      &lt;string name=&quot;lbl_justnow&quot;&gt;Just Now&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_seconds_ago&quot;&gt;seconds ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_min_ago&quot;&gt;min ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_mins_ago&quot;&gt;mins ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_hr_ago&quot;&gt;hr ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_hrs_ago&quot;&gt;hrs ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_day_ago&quot;&gt;day ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_days_ago&quot;&gt;days ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_lstweek_ago&quot;&gt;last week&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_week_ago&quot;&gt;weeks ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_onemonth_ago&quot;&gt;1 month ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_month_ago&quot;&gt;months ago&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_oneyear_ago&quot; &gt;last year&lt;/string&gt;\r\n        &lt;string name=&quot;lbl_year_ago&quot; &gt;years ago&lt;/string&gt;\r\n\r\njava code try below\r\n\r\n      public String getFormatDate(String postTime1) {\r\n            Calendar cal=Calendar.getInstance();\r\n            Date now=cal.getTime();\r\n            String disTime=&quot;&quot;;\r\n            try {\r\n                Date postTime;\r\n                //2018-09-05T06:40:46.183Z\r\n                postTime = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).parse(postTime1);\r\n    \r\n                long diff=(now.getTime()-postTime.getTime()+18000)/1000;\r\n    \r\n                //for months\r\n                Calendar calObj = Calendar.getInstance();\r\n                calObj.setTime(postTime);\r\n                int m=calObj.get(Calendar.MONTH);\r\n                calObj.setTime(now);\r\n    \r\n                SimpleDateFormat monthFormatter = new SimpleDateFormat(&quot;MM&quot;); // output month\r\n    \r\n                int mNow = Integer.parseInt(monthFormatter.format(postTime));\r\n    \r\n                diff = diff-19800;\r\n    \r\n                if(diff&lt;15) { //below 15 sec\r\n    \r\n                    disTime = getResources().getString(R.string.lbl_justnow);\r\n                } else if(diff&lt;60) {\r\n    \r\n                    //below 1 min\r\n                    disTime= diff+&quot; &quot;+getResources().getString(R.string.lbl_seconds_ago);\r\n                } else if(diff&lt;3600) {//below 1 hr\r\n    \r\n                    // convert min\r\n                    long temp=diff/60;\r\n    \r\n                    if(temp==1) {\r\n                        disTime= temp + &quot; &quot; +getResources().getString(R.string.lbl_min_ago);\r\n                    } else {\r\n                        disTime = temp  + &quot; &quot; +getResources().getString(R.string.lbl_mins_ago);\r\n                    }\r\n                } else if(diff&lt;(24*3600)) {// below 1 day\r\n    \r\n                    // convert hr\r\n                    long temp= diff/3600;\r\n                    System.out.println(&quot;hey temp3:&quot;+temp);\r\n                    if(temp==1) {\r\n                        disTime = temp  + &quot; &quot; +getResources().getString(R.string.lbl_hr_ago);\r\n                    } else {\r\n                        disTime = temp + &quot; &quot; +getResources().getString(R.string.lbl_hrs_ago);\r\n                    }\r\n                } else if(diff&lt;(24*3600*7)) {// below week\r\n    \r\n                    // convert days\r\n                    long temp=diff/(3600*24);\r\n                    if (temp==1) {\r\n                        //  disTime = &quot;\\nyesterday&quot;;\r\n                        disTime = temp + &quot; &quot; +getResources().getString(R.string.lbl_day_ago);\r\n                    } else {\r\n                        disTime = temp + &quot; &quot; +getResources().getString(R.string.lbl_days_ago);\r\n                    }\r\n                } else if(diff&lt;((24*3600*28))) {// below month\r\n    \r\n                    // convert week\r\n                    long temp=diff/(3600*24*7);\r\n                    if (temp &lt;= 4) {\r\n    \r\n                        if (temp &lt; 1) {\r\n                            disTime = getResources().getString(R.string.lbl_lstweek_ago);\r\n                        }else{\r\n                            disTime = temp + &quot; &quot; + getResources().getString(R.string.lbl_week_ago);\r\n                        }\r\n    \r\n                    } else {\r\n                        int diffMonth = mNow - m;\r\n                        Log.e(&quot;count : &quot;, String.valueOf(diffMonth));\r\n                        disTime = diffMonth + &quot; &quot; + getResources().getString(R.string.lbl_month_ago);\r\n                    }\r\n                }else if(diff&lt;((24*3600*365))) {// below year\r\n    \r\n                    // convert month\r\n                    long temp=diff/(3600*24*30);\r\n    \r\n                    System.out.println(&quot;hey temp2:&quot;+temp);\r\n                    if (temp &lt;= 12) {\r\n    \r\n                        if (temp == 1) {\r\n                            disTime = getResources().getString(R.string.lbl_onemonth_ago);\r\n                        }else{\r\n                            disTime = temp + &quot; &quot; + getResources().getString(R.string.lbl_month_ago);\r\n                        }\r\n                    }\r\n    \r\n                }else if(diff&gt;((24*3600*365))) { // above year\r\n    \r\n                    // convert year\r\n                    long temp=diff/(3600*24*30*12);\r\n    \r\n                    System.out.println(&quot;hey temp8:&quot;+temp);\r\n    \r\n                    if (temp == 1) {\r\n                        disTime = getResources().getString(R.string.lbl_oneyear_ago);\r\n                    }else{\r\n                        disTime = temp + &quot; &quot; + getResources().getString(R.string.lbl_year_ago);\r\n                    }\r\n                }\r\n    \r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return disTime;\r\n        }","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>for this I've done <code>Just Now, seconds ago, min ago, hrs ago, days ago, weeks ago, months ago, years ago</code> in this example you can parse date like <code>2018-09-05T06:40:46.183Z</code> this or any other like below</p>\n\n<p>add below value in <strong>string.xml</strong></p>\n\n<pre><code>  &lt;string name=\"lbl_justnow\"&gt;Just Now&lt;/string&gt;\n    &lt;string name=\"lbl_seconds_ago\"&gt;seconds ago&lt;/string&gt;\n    &lt;string name=\"lbl_min_ago\"&gt;min ago&lt;/string&gt;\n    &lt;string name=\"lbl_mins_ago\"&gt;mins ago&lt;/string&gt;\n    &lt;string name=\"lbl_hr_ago\"&gt;hr ago&lt;/string&gt;\n    &lt;string name=\"lbl_hrs_ago\"&gt;hrs ago&lt;/string&gt;\n    &lt;string name=\"lbl_day_ago\"&gt;day ago&lt;/string&gt;\n    &lt;string name=\"lbl_days_ago\"&gt;days ago&lt;/string&gt;\n    &lt;string name=\"lbl_lstweek_ago\"&gt;last week&lt;/string&gt;\n    &lt;string name=\"lbl_week_ago\"&gt;weeks ago&lt;/string&gt;\n    &lt;string name=\"lbl_onemonth_ago\"&gt;1 month ago&lt;/string&gt;\n    &lt;string name=\"lbl_month_ago\"&gt;months ago&lt;/string&gt;\n    &lt;string name=\"lbl_oneyear_ago\" &gt;last year&lt;/string&gt;\n    &lt;string name=\"lbl_year_ago\" &gt;years ago&lt;/string&gt;\n</code></pre>\n\n<p>java code try below</p>\n\n<pre><code>  public String getFormatDate(String postTime1) {\n        Calendar cal=Calendar.getInstance();\n        Date now=cal.getTime();\n        String disTime=\"\";\n        try {\n            Date postTime;\n            //2018-09-05T06:40:46.183Z\n            postTime = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\").parse(postTime1);\n\n            long diff=(now.getTime()-postTime.getTime()+18000)/1000;\n\n            //for months\n            Calendar calObj = Calendar.getInstance();\n            calObj.setTime(postTime);\n            int m=calObj.get(Calendar.MONTH);\n            calObj.setTime(now);\n\n            SimpleDateFormat monthFormatter = new SimpleDateFormat(\"MM\"); // output month\n\n            int mNow = Integer.parseInt(monthFormatter.format(postTime));\n\n            diff = diff-19800;\n\n            if(diff&lt;15) { //below 15 sec\n\n                disTime = getResources().getString(R.string.lbl_justnow);\n            } else if(diff&lt;60) {\n\n                //below 1 min\n                disTime= diff+\" \"+getResources().getString(R.string.lbl_seconds_ago);\n            } else if(diff&lt;3600) {//below 1 hr\n\n                // convert min\n                long temp=diff/60;\n\n                if(temp==1) {\n                    disTime= temp + \" \" +getResources().getString(R.string.lbl_min_ago);\n                } else {\n                    disTime = temp  + \" \" +getResources().getString(R.string.lbl_mins_ago);\n                }\n            } else if(diff&lt;(24*3600)) {// below 1 day\n\n                // convert hr\n                long temp= diff/3600;\n                System.out.println(\"hey temp3:\"+temp);\n                if(temp==1) {\n                    disTime = temp  + \" \" +getResources().getString(R.string.lbl_hr_ago);\n                } else {\n                    disTime = temp + \" \" +getResources().getString(R.string.lbl_hrs_ago);\n                }\n            } else if(diff&lt;(24*3600*7)) {// below week\n\n                // convert days\n                long temp=diff/(3600*24);\n                if (temp==1) {\n                    //  disTime = \"\\nyesterday\";\n                    disTime = temp + \" \" +getResources().getString(R.string.lbl_day_ago);\n                } else {\n                    disTime = temp + \" \" +getResources().getString(R.string.lbl_days_ago);\n                }\n            } else if(diff&lt;((24*3600*28))) {// below month\n\n                // convert week\n                long temp=diff/(3600*24*7);\n                if (temp &lt;= 4) {\n\n                    if (temp &lt; 1) {\n                        disTime = getResources().getString(R.string.lbl_lstweek_ago);\n                    }else{\n                        disTime = temp + \" \" + getResources().getString(R.string.lbl_week_ago);\n                    }\n\n                } else {\n                    int diffMonth = mNow - m;\n                    Log.e(\"count : \", String.valueOf(diffMonth));\n                    disTime = diffMonth + \" \" + getResources().getString(R.string.lbl_month_ago);\n                }\n            }else if(diff&lt;((24*3600*365))) {// below year\n\n                // convert month\n                long temp=diff/(3600*24*30);\n\n                System.out.println(\"hey temp2:\"+temp);\n                if (temp &lt;= 12) {\n\n                    if (temp == 1) {\n                        disTime = getResources().getString(R.string.lbl_onemonth_ago);\n                    }else{\n                        disTime = temp + \" \" + getResources().getString(R.string.lbl_month_ago);\n                    }\n                }\n\n            }else if(diff&gt;((24*3600*365))) { // above year\n\n                // convert year\n                long temp=diff/(3600*24*30*12);\n\n                System.out.println(\"hey temp8:\"+temp);\n\n                if (temp == 1) {\n                    disTime = getResources().getString(R.string.lbl_oneyear_ago);\n                }else{\n                    disTime = temp + \" \" + getResources().getString(R.string.lbl_year_ago);\n                }\n            }\n\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n\n        return disTime;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8825308,"reputation":341,"user_id":6593749,"display_name":"mavesonzini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546891259,"creation_date":1545151198,"answer_id":53837511,"question_id":3859288,"body_markdown":"You can use Java&#39;s Library [RelativeDateTimeFormatter][1], it does exactly that: \r\n    \r\n    \r\n[1]: https://developer.android.com/reference/android/icu/text/RelativeDateTimeFormatter\r\n    \r\n    RelativeDateTimeFormatter fmt = RelativeDateTimeFormatter.getInstance();\r\n     fmt.format(1, Direction.NEXT, RelativeUnit.DAYS); // &quot;in 1 day&quot;\r\n     fmt.format(3, Direction.NEXT, RelativeUnit.DAYS); // &quot;in 3 days&quot;\r\n     fmt.format(3.2, Direction.LAST, RelativeUnit.YEARS); // &quot;3.2 years ago&quot;\r\n    \r\n     fmt.format(Direction.LAST, AbsoluteUnit.SUNDAY); // &quot;last Sunday&quot;\r\n     fmt.format(Direction.THIS, AbsoluteUnit.SUNDAY); // &quot;this Sunday&quot;\r\n     fmt.format(Direction.NEXT, AbsoluteUnit.SUNDAY); // &quot;next Sunday&quot;\r\n     fmt.format(Direction.PLAIN, AbsoluteUnit.SUNDAY); // &quot;Sunday&quot;\r\n    \r\n     fmt.format(Direction.LAST, AbsoluteUnit.DAY); // &quot;yesterday&quot;\r\n     fmt.format(Direction.THIS, AbsoluteUnit.DAY); // &quot;today&quot;\r\n     fmt.format(Direction.NEXT, AbsoluteUnit.DAY); // &quot;tomorrow&quot;\r\n    \r\n     fmt.format(Direction.PLAIN, AbsoluteUnit.NOW); // &quot;now&quot;\r\n\r\n ","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>You can use Java's Library <a href=\"https://developer.android.com/reference/android/icu/text/RelativeDateTimeFormatter\" rel=\"nofollow noreferrer\">RelativeDateTimeFormatter</a>, it does exactly that: </p>\n\n<pre><code>RelativeDateTimeFormatter fmt = RelativeDateTimeFormatter.getInstance();\n fmt.format(1, Direction.NEXT, RelativeUnit.DAYS); // \"in 1 day\"\n fmt.format(3, Direction.NEXT, RelativeUnit.DAYS); // \"in 3 days\"\n fmt.format(3.2, Direction.LAST, RelativeUnit.YEARS); // \"3.2 years ago\"\n\n fmt.format(Direction.LAST, AbsoluteUnit.SUNDAY); // \"last Sunday\"\n fmt.format(Direction.THIS, AbsoluteUnit.SUNDAY); // \"this Sunday\"\n fmt.format(Direction.NEXT, AbsoluteUnit.SUNDAY); // \"next Sunday\"\n fmt.format(Direction.PLAIN, AbsoluteUnit.SUNDAY); // \"Sunday\"\n\n fmt.format(Direction.LAST, AbsoluteUnit.DAY); // \"yesterday\"\n fmt.format(Direction.THIS, AbsoluteUnit.DAY); // \"today\"\n fmt.format(Direction.NEXT, AbsoluteUnit.DAY); // \"tomorrow\"\n\n fmt.format(Direction.PLAIN, AbsoluteUnit.NOW); // \"now\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559571247,"creation_date":1559571247,"answer_id":56429159,"question_id":3859288,"body_markdown":"I&#39;m using the Instant, Date and DateTimeUtils.\r\nThe data (date) which is stored in the database in type of String and then convert to become Instant.\r\n\r\n\r\n        /*\r\n        This method is to display ago.\r\n        Example: 3 minutes ago.\r\n        I already implement the latest which is including the Instant.\r\n        Convert from String to Instant and then parse to Date.\r\n         */\r\n        public String convertTimeToAgo(String dataDate) {\r\n        //Initialize\r\n        String conversionTime = null;\r\n        String suffix = &quot;Yang Lalu&quot;;\r\n        Date pastTime;\r\n        //Parse from String (which is stored as Instant.now().toString()\r\n        //And then convert to become Date\r\n        Instant instant = Instant.parse(dataDate);\r\n        pastTime = DateTimeUtils.toDate(instant);\r\n\r\n        //Today date\r\n        Date nowTime = new Date();\r\n\r\n        long dateDiff = nowTime.getTime() - pastTime.getTime();\r\n        long second = TimeUnit.MILLISECONDS.toSeconds(dateDiff);\r\n        long minute = TimeUnit.MILLISECONDS.toMinutes(dateDiff);\r\n        long hour = TimeUnit.MILLISECONDS.toHours(dateDiff);\r\n        long day = TimeUnit.MILLISECONDS.toDays(dateDiff);\r\n\r\n        if (second &lt; 60) {\r\n            conversionTime = second + &quot; Saat &quot; + suffix;\r\n        } else if (minute &lt; 60) {\r\n            conversionTime = minute + &quot; Minit &quot; + suffix;\r\n        } else if (hour &lt; 24) {\r\n            conversionTime = hour + &quot; Jam &quot; + suffix;\r\n        } else if (day &gt;= 7) {\r\n            if (day &gt; 30) {\r\n                conversionTime = (day / 30) + &quot; Bulan &quot; + suffix;\r\n            } else if (day &gt; 360) {\r\n                conversionTime = (day / 360) + &quot; Tahun &quot; + suffix;\r\n            } else {\r\n                conversionTime = (day / 7) + &quot; Minggu &quot; + suffix;\r\n            }\r\n        } else if (day &lt; 7) {\r\n            conversionTime = day + &quot; Hari &quot; + suffix;\r\n        }\r\n        return conversionTime;\r\n        }\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>I'm using the Instant, Date and DateTimeUtils.\nThe data (date) which is stored in the database in type of String and then convert to become Instant.</p>\n\n<pre><code>    /*\n    This method is to display ago.\n    Example: 3 minutes ago.\n    I already implement the latest which is including the Instant.\n    Convert from String to Instant and then parse to Date.\n     */\n    public String convertTimeToAgo(String dataDate) {\n    //Initialize\n    String conversionTime = null;\n    String suffix = \"Yang Lalu\";\n    Date pastTime;\n    //Parse from String (which is stored as Instant.now().toString()\n    //And then convert to become Date\n    Instant instant = Instant.parse(dataDate);\n    pastTime = DateTimeUtils.toDate(instant);\n\n    //Today date\n    Date nowTime = new Date();\n\n    long dateDiff = nowTime.getTime() - pastTime.getTime();\n    long second = TimeUnit.MILLISECONDS.toSeconds(dateDiff);\n    long minute = TimeUnit.MILLISECONDS.toMinutes(dateDiff);\n    long hour = TimeUnit.MILLISECONDS.toHours(dateDiff);\n    long day = TimeUnit.MILLISECONDS.toDays(dateDiff);\n\n    if (second &lt; 60) {\n        conversionTime = second + \" Saat \" + suffix;\n    } else if (minute &lt; 60) {\n        conversionTime = minute + \" Minit \" + suffix;\n    } else if (hour &lt; 24) {\n        conversionTime = hour + \" Jam \" + suffix;\n    } else if (day &gt;= 7) {\n        if (day &gt; 30) {\n            conversionTime = (day / 30) + \" Bulan \" + suffix;\n        } else if (day &gt; 360) {\n            conversionTime = (day / 360) + \" Tahun \" + suffix;\n        } else {\n            conversionTime = (day / 7) + \" Minggu \" + suffix;\n        }\n    } else if (day &lt; 7) {\n        conversionTime = day + \" Hari \" + suffix;\n    }\n    return conversionTime;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1612632551,"creation_date":1559678892,"answer_id":56450659,"question_id":3859288,"body_markdown":"# *java.time*\r\n\r\nThe [Answer by Habsq][1] has the right idea but the wrong methods.\r\n\r\nFor a span-of-time unattached to the timeline on the scale of years-months-days, use [`Period`][2]. For days meaning 24-hour chunks of time unrelated to calendar and hours-minutes-seconds, use [`Duration`][3]. Mixing the two scales rarely makes any sense.\r\n\r\n# `Duration`\r\n\r\nStart by fetching the current moment as seen in [UTC][4], using the [`Instant`][5] class.\r\n\r\n    Instant now = Instant.now();  // Capture the current moment as seen in UTC.\r\n    Instant then = now.minus( 8L , ChronoUnit.HOURS ).minus( 8L , ChronoUnit.MINUTES ).minus( 8L , ChronoUnit.SECONDS );\r\n    Duration d = Duration.between( then , now );\r\n\r\nGenerate text for hours, minutes, and seconds.\r\n\r\n    // Generate text by calling `toPart` methods.\r\n    String output = d.toHoursPart() + &quot; hours ago\\n&quot; + d.toMinutesPart() + &quot; minutes ago\\n&quot; + d.toSecondsPart() + &quot; seconds ago&quot;;\r\n\r\nDump to console.\r\n\r\n    System.out.println( &quot;From: &quot; + then + &quot; to: &quot; + now );\r\n    System.out.println( output );\r\n\r\n&gt;From: 2019-06-04T11:53:55.714965Z to: 2019-06-04T20:02:03.714965Z\r\n\r\n&gt;8 hours ago\r\n\r\n&gt;8 minutes ago\r\n\r\n&gt;8 seconds ago\r\n\r\n\r\n# `Period`\r\n\r\nStart by getting the current date.\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still yesterday in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\nIf no time zone is specified, the JVM implicitly applies its current default time zone. That default may [change at any moment](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TimeZone.html#setDefault(java.util.TimeZone)) during runtime(!), so your results may vary. Better to specify your desired/expected time zone explicitly as an argument. If critical, confirm the zone with your user.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `Continent/Region`, such as `America/Montreal`, `Africa/Casablanca`, or `Pacific/Auckland`. Never use the 2-4 letter abbreviation such as `EST` or `IST` as they are *not* true-time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;  \r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nRecreate a date eight days, months, and years ago.\r\n\r\n    LocalDate then = today.minusYears( 8 ).minusMonths( 8 ).minusDays( 7 ); // Notice the 7 days, not 8, because of granularity of months. \r\n\r\nCalculate elapsed time.\r\n\r\n    Period p = Period.between( then , today );\r\n\r\nBuild the string of &quot;time ago&quot; pieces.\r\n\r\n    String output = p.getDays() + &quot; days ago\\n&quot; + p.getMonths() + &quot; months ago\\n&quot; + p.getYears() + &quot; years ago&quot;;\r\n\r\nDump to console.\r\n\r\n    System.out.println( &quot;From: &quot; + then + &quot; to: &quot; + today );\r\n    System.out.println( output );\r\n\r\n&gt;From: 2010-09-27 to: 2019-06-04\r\n\r\n&gt;8 days ago\r\n\r\n&gt;8 months ago\r\n\r\n&gt;8 years ago\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30964523/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Period.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\r\n  [4]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html","title":"How to calculate &quot;time ago&quot; in Java?","body":"<h1><em>java.time</em></h1>\n<p>The <a href=\"https://stackoverflow.com/a/30964523/642706\">Answer by Habsq</a> has the right idea but the wrong methods.</p>\n<p>For a span-of-time unattached to the timeline on the scale of years-months-days, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Period.html\" rel=\"noreferrer\"><code>Period</code></a>. For days meaning 24-hour chunks of time unrelated to calendar and hours-minutes-seconds, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a>. Mixing the two scales rarely makes any sense.</p>\n<h1><code>Duration</code></h1>\n<p>Start by fetching the current moment as seen in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>, using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class.</p>\n<pre><code>Instant now = Instant.now();  // Capture the current moment as seen in UTC.\nInstant then = now.minus( 8L , ChronoUnit.HOURS ).minus( 8L , ChronoUnit.MINUTES ).minus( 8L , ChronoUnit.SECONDS );\nDuration d = Duration.between( then , now );\n</code></pre>\n<p>Generate text for hours, minutes, and seconds.</p>\n<pre><code>// Generate text by calling `toPart` methods.\nString output = d.toHoursPart() + &quot; hours ago\\n&quot; + d.toMinutesPart() + &quot; minutes ago\\n&quot; + d.toSecondsPart() + &quot; seconds ago&quot;;\n</code></pre>\n<p>Dump to console.</p>\n<pre><code>System.out.println( &quot;From: &quot; + then + &quot; to: &quot; + now );\nSystem.out.println( output );\n</code></pre>\n<blockquote>\n<p>From: 2019-06-04T11:53:55.714965Z to: 2019-06-04T20:02:03.714965Z</p>\n</blockquote>\n<blockquote>\n<p>8 hours ago</p>\n</blockquote>\n<blockquote>\n<p>8 minutes ago</p>\n</blockquote>\n<blockquote>\n<p>8 seconds ago</p>\n</blockquote>\n<h1><code>Period</code></h1>\n<p>Start by getting the current date.</p>\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\">Paris France</a> is a new day while still yesterday in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\">Montral Qubec</a>.</p>\n<p>If no time zone is specified, the JVM implicitly applies its current default time zone. That default may <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TimeZone.html#setDefault(java.util.TimeZone)\" rel=\"noreferrer\">change at any moment</a> during runtime(!), so your results may vary. Better to specify your desired/expected time zone explicitly as an argument. If critical, confirm the zone with your user.</p>\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a> in the format of <code>Continent/Region</code>, such as <code>America/Montreal</code>, <code>Africa/Casablanca</code>, or <code>Pacific/Auckland</code>. Never use the 2-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true-time zones, not standardized, and not even unique(!).</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;  \nLocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<p>Recreate a date eight days, months, and years ago.</p>\n<pre><code>LocalDate then = today.minusYears( 8 ).minusMonths( 8 ).minusDays( 7 ); // Notice the 7 days, not 8, because of granularity of months. \n</code></pre>\n<p>Calculate elapsed time.</p>\n<pre><code>Period p = Period.between( then , today );\n</code></pre>\n<p>Build the string of &quot;time ago&quot; pieces.</p>\n<pre><code>String output = p.getDays() + &quot; days ago\\n&quot; + p.getMonths() + &quot; months ago\\n&quot; + p.getYears() + &quot; years ago&quot;;\n</code></pre>\n<p>Dump to console.</p>\n<pre><code>System.out.println( &quot;From: &quot; + then + &quot; to: &quot; + today );\nSystem.out.println( output );\n</code></pre>\n<blockquote>\n<p>From: 2010-09-27 to: 2019-06-04</p>\n</blockquote>\n<blockquote>\n<p>8 days ago</p>\n</blockquote>\n<blockquote>\n<p>8 months ago</p>\n</blockquote>\n<blockquote>\n<p>8 years ago</p>\n</blockquote>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":6129038,"reputation":834,"user_id":4779937,"accept_rate":88,"display_name":"widavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570078962,"creation_date":1568415346,"answer_id":57931164,"question_id":3859288,"body_markdown":"The following solutions are all in pure Java:\r\n\r\n## Option 1: No rounding and only largest time container ##\r\nThe following function will only display the largest time container, for example, if the true elapsed time is `&quot;1 month 14 days ago&quot;`, this function will only display `&quot;1 month ago&quot;`. This function will also always round down, so a time equivalent to `&quot;50 days ago&quot;` will display as `&quot;1 month&quot;`\r\n\r\n```java\r\npublic String formatTimeAgo(long millis) {\r\n        String[] ids = new String[]{&quot;second&quot;,&quot;minute&quot;,&quot;hour&quot;,&quot;day&quot;,&quot;month&quot;,&quot;year&quot;};\r\n\r\n        long seconds = millis / 1000;\r\n        long minutes = seconds / 60;\r\n        long hours = minutes / 60;\r\n        long days = hours / 24;\r\n        long months = days / 30;\r\n        long years = months / 12;\r\n\r\n        ArrayList&lt;Long&gt; times = new ArrayList&lt;&gt;(Arrays.asList(years, months, days, hours, minutes, seconds));\r\n\r\n        for(int i = 0; i &lt; times.size(); i++) {\r\n            if(times.get(i) != 0) {\r\n                long value = times.get(i).intValue();\r\n\r\n                return value + &quot; &quot; + ids[ids.length - 1 - i] + (value == 1 ? &quot;&quot; : &quot;s&quot;) + &quot; ago&quot;;\r\n            }\r\n        }\r\n\r\n        return &quot;0 seconds ago&quot;;\r\n    }\r\n```\r\n\r\n## Option 2: With rounding ##\r\nSimply wrap the time container you&#39;d like to round with a Math.round(...) statement, so if you wanted to round `50 days` to `2 months`, modify `long months = days / 30` to `long months = Math.round(days / 30.0)`\r\n\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>The following solutions are all in pure Java:</p>\n\n<h2>Option 1: No rounding and only largest time container</h2>\n\n<p>The following function will only display the largest time container, for example, if the true elapsed time is <code>\"1 month 14 days ago\"</code>, this function will only display <code>\"1 month ago\"</code>. This function will also always round down, so a time equivalent to <code>\"50 days ago\"</code> will display as <code>\"1 month\"</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public String formatTimeAgo(long millis) {\n        String[] ids = new String[]{\"second\",\"minute\",\"hour\",\"day\",\"month\",\"year\"};\n\n        long seconds = millis / 1000;\n        long minutes = seconds / 60;\n        long hours = minutes / 60;\n        long days = hours / 24;\n        long months = days / 30;\n        long years = months / 12;\n\n        ArrayList&lt;Long&gt; times = new ArrayList&lt;&gt;(Arrays.asList(years, months, days, hours, minutes, seconds));\n\n        for(int i = 0; i &lt; times.size(); i++) {\n            if(times.get(i) != 0) {\n                long value = times.get(i).intValue();\n\n                return value + \" \" + ids[ids.length - 1 - i] + (value == 1 ? \"\" : \"s\") + \" ago\";\n            }\n        }\n\n        return \"0 seconds ago\";\n    }\n</code></pre>\n\n<h2>Option 2: With rounding</h2>\n\n<p>Simply wrap the time container you'd like to round with a Math.round(...) statement, so if you wanted to round <code>50 days</code> to <code>2 months</code>, modify <code>long months = days / 30</code> to <code>long months = Math.round(days / 30.0)</code></p>\n"},{"tags":[],"owner":{"account_id":1316447,"reputation":652,"user_id":1263175,"accept_rate":50,"display_name":"David_Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571086236,"creation_date":1571086236,"answer_id":58383904,"question_id":3859288,"body_markdown":"Here is my test case, hope it helps:\r\n\r\n        val currentCalendar = Calendar.getInstance()\r\n        currentCalendar.set(2019, 6, 2, 5, 31, 0)\r\n\r\n        val targetCalendar = Calendar.getInstance()\r\n        targetCalendar.set(2019, 6, 2, 5, 30, 0)\r\n\r\n        val diffTs = currentCalendar.timeInMillis - targetCalendar.timeInMillis\r\n        val diffMins = TimeUnit.MILLISECONDS.toMinutes(diffTs)\r\n        val diffHours = TimeUnit.MILLISECONDS.toHours(diffTs)\r\n        val diffDays = TimeUnit.MILLISECONDS.toDays(diffTs)\r\n        val diffWeeks = TimeUnit.MILLISECONDS.toDays(diffTs) / 7\r\n        val diffMonths = TimeUnit.MILLISECONDS.toDays(diffTs) / 30\r\n        val diffYears = TimeUnit.MILLISECONDS.toDays(diffTs) / 365\r\n\r\n        val newTs = when {\r\n            diffYears &gt;= 1 -&gt; &quot;Years $diffYears&quot;\r\n            diffMonths &gt;= 1 -&gt; &quot;Months $diffMonths&quot;\r\n            diffWeeks &gt;= 1 -&gt; &quot;Weeks $diffWeeks&quot;\r\n            diffDays &gt;= 1 -&gt; &quot;Days $diffDays&quot;\r\n            diffHours &gt;= 1 -&gt; &quot;Hours $diffHours&quot;\r\n            diffMins &gt;= 1 -&gt; &quot;Mins $diffMins&quot;\r\n            else -&gt; &quot;now&quot;\r\n        }","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>Here is my test case, hope it helps:</p>\n\n<pre><code>    val currentCalendar = Calendar.getInstance()\n    currentCalendar.set(2019, 6, 2, 5, 31, 0)\n\n    val targetCalendar = Calendar.getInstance()\n    targetCalendar.set(2019, 6, 2, 5, 30, 0)\n\n    val diffTs = currentCalendar.timeInMillis - targetCalendar.timeInMillis\n    val diffMins = TimeUnit.MILLISECONDS.toMinutes(diffTs)\n    val diffHours = TimeUnit.MILLISECONDS.toHours(diffTs)\n    val diffDays = TimeUnit.MILLISECONDS.toDays(diffTs)\n    val diffWeeks = TimeUnit.MILLISECONDS.toDays(diffTs) / 7\n    val diffMonths = TimeUnit.MILLISECONDS.toDays(diffTs) / 30\n    val diffYears = TimeUnit.MILLISECONDS.toDays(diffTs) / 365\n\n    val newTs = when {\n        diffYears &gt;= 1 -&gt; \"Years $diffYears\"\n        diffMonths &gt;= 1 -&gt; \"Months $diffMonths\"\n        diffWeeks &gt;= 1 -&gt; \"Weeks $diffWeeks\"\n        diffDays &gt;= 1 -&gt; \"Days $diffDays\"\n        diffHours &gt;= 1 -&gt; \"Hours $diffHours\"\n        diffMins &gt;= 1 -&gt; \"Mins $diffMins\"\n        else -&gt; \"now\"\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9141095,"reputation":941,"user_id":6798905,"display_name":"Dino Sunny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585843049,"creation_date":1585843049,"answer_id":60995822,"question_id":3859288,"body_markdown":"    \r\n    private const val SECOND_MILLIS = 1\r\n    private const val MINUTE_MILLIS = 60 * SECOND_MILLIS\r\n    private const val HOUR_MILLIS = 60 * MINUTE_MILLIS\r\n    private const val DAY_MILLIS = 24 * HOUR_MILLIS\r\n\r\n    object TimeAgo {\r\n    \r\n    fun timeAgo(time: Int): String {\r\n\r\n        val now = TimeUnit.MILLISECONDS.toSeconds(System.currentTimeMillis())\r\n        if (time &gt; now || time &lt;= 0) {\r\n            return &quot;in the future&quot;\r\n        }\r\n\r\n        val diff = now - time\r\n        return when {\r\n            diff &lt; MINUTE_MILLIS -&gt; &quot;Just now&quot;\r\n            diff &lt; 2 * MINUTE_MILLIS -&gt; &quot;a minute ago&quot;\r\n            diff &lt; 60 * MINUTE_MILLIS -&gt; &quot;${diff / MINUTE_MILLIS} minutes ago&quot;\r\n            diff &lt; 2 * HOUR_MILLIS -&gt; &quot;an hour ago&quot;\r\n            diff &lt; 24 * HOUR_MILLIS -&gt; &quot;${diff / HOUR_MILLIS} hours ago&quot;\r\n            diff &lt; 48 * HOUR_MILLIS -&gt; &quot;yesterday&quot;\r\n            else -&gt; &quot;${diff / DAY_MILLIS} days ago&quot;\r\n        }\r\n    }\r\n}\r\n\r\nCall \r\n\r\nval String = timeAgo(unixTimeStamp)\r\n\r\nto get the time ago in Kotlin","title":"How to calculate &quot;time ago&quot; in Java?","body":"<pre><code>private const val SECOND_MILLIS = 1\nprivate const val MINUTE_MILLIS = 60 * SECOND_MILLIS\nprivate const val HOUR_MILLIS = 60 * MINUTE_MILLIS\nprivate const val DAY_MILLIS = 24 * HOUR_MILLIS\n\nobject TimeAgo {\n\nfun timeAgo(time: Int): String {\n\n    val now = TimeUnit.MILLISECONDS.toSeconds(System.currentTimeMillis())\n    if (time &gt; now || time &lt;= 0) {\n        return \"in the future\"\n    }\n\n    val diff = now - time\n    return when {\n        diff &lt; MINUTE_MILLIS -&gt; \"Just now\"\n        diff &lt; 2 * MINUTE_MILLIS -&gt; \"a minute ago\"\n        diff &lt; 60 * MINUTE_MILLIS -&gt; \"${diff / MINUTE_MILLIS} minutes ago\"\n        diff &lt; 2 * HOUR_MILLIS -&gt; \"an hour ago\"\n        diff &lt; 24 * HOUR_MILLIS -&gt; \"${diff / HOUR_MILLIS} hours ago\"\n        diff &lt; 48 * HOUR_MILLIS -&gt; \"yesterday\"\n        else -&gt; \"${diff / DAY_MILLIS} days ago\"\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Call </p>\n\n<p>val String = timeAgo(unixTimeStamp)</p>\n\n<p>to get the time ago in Kotlin</p>\n"},{"tags":[],"owner":{"account_id":15299817,"reputation":38,"user_id":11038639,"display_name":"Sumit Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590814312,"creation_date":1590814312,"answer_id":62097984,"question_id":3859288,"body_markdown":"The *getrelativeDateTime* function will give you date time as you see in Whatsapp notification.&lt;br&gt;\r\nTo get future relative Date Time add conditions for it. This is created specifically for getting Date Time like Whatsapp notification. \r\n\r\n\r\n\r\n    private static String getRelativeDateTime(long date) {\r\n        SimpleDateFormat DateFormat = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;, Locale.getDefault());\r\n        SimpleDateFormat TimeFormat = new SimpleDateFormat(&quot; hh:mm a&quot;, Locale.getDefault());\r\n        long now = Calendar.getInstance().getTimeInMillis();\r\n        long startOfDay = StartOfDay(Calendar.getInstance().getTime());\r\n        String Day = &quot;&quot;;\r\n        String Time = &quot;&quot;;\r\n        long millSecInADay = 86400000;\r\n        long oneHour = millSecInADay / 24;\r\n        long differenceFromNow = now - date;\r\n\r\n        if (date &gt; startOfDay) {\r\n            if (differenceFromNow &lt; (oneHour)) {\r\n                int minute = (int) (differenceFromNow / (60000));\r\n                if (minute == 0) {\r\n                    int sec = (int) differenceFromNow / 1000;\r\n                    if (sec == 0) {\r\n                        Time = &quot;Just Now&quot;;\r\n                    } else if (sec == 1) {\r\n                        Time = sec + &quot; second ago&quot;;\r\n                    } else {\r\n                        Time = sec + &quot; seconds ago&quot;;\r\n                    }\r\n                } else if (minute == 1) {\r\n                    Time = minute + &quot; minute ago&quot;;\r\n                } else if (minute &lt; 60) {\r\n                    Time = minute + &quot; minutes ago&quot;;\r\n                }\r\n            } else {\r\n                Day = &quot;Today, &quot;;\r\n            }\r\n        } else if (date &gt; (startOfDay - millSecInADay)) {\r\n            Day = &quot;Yesterday, &quot;;\r\n        } else if (date &gt; (startOfDay - millSecInADay * 7)) {\r\n            int days = (int) (differenceFromNow / millSecInADay);\r\n            Day = days + &quot; Days ago, &quot;;\r\n        } else {\r\n            Day = DateFormat.format(date);\r\n        }\r\n        if (Time.isEmpty()) {\r\n            Time = TimeFormat.format(date);\r\n        }\r\n        return Day + Time;\r\n    }\r\n\r\n    public static long StartOfDay(Date date) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(date);\r\n        calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n        calendar.set(Calendar.MINUTE, 0);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        calendar.set(Calendar.MILLISECOND, 0);\r\n        return calendar.getTimeInMillis();\r\n    }\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>The <em>getrelativeDateTime</em> function will give you date time as you see in Whatsapp notification.<br>\nTo get future relative Date Time add conditions for it. This is created specifically for getting Date Time like Whatsapp notification. </p>\n\n<pre><code>private static String getRelativeDateTime(long date) {\n    SimpleDateFormat DateFormat = new SimpleDateFormat(\"MMM dd, yyyy\", Locale.getDefault());\n    SimpleDateFormat TimeFormat = new SimpleDateFormat(\" hh:mm a\", Locale.getDefault());\n    long now = Calendar.getInstance().getTimeInMillis();\n    long startOfDay = StartOfDay(Calendar.getInstance().getTime());\n    String Day = \"\";\n    String Time = \"\";\n    long millSecInADay = 86400000;\n    long oneHour = millSecInADay / 24;\n    long differenceFromNow = now - date;\n\n    if (date &gt; startOfDay) {\n        if (differenceFromNow &lt; (oneHour)) {\n            int minute = (int) (differenceFromNow / (60000));\n            if (minute == 0) {\n                int sec = (int) differenceFromNow / 1000;\n                if (sec == 0) {\n                    Time = \"Just Now\";\n                } else if (sec == 1) {\n                    Time = sec + \" second ago\";\n                } else {\n                    Time = sec + \" seconds ago\";\n                }\n            } else if (minute == 1) {\n                Time = minute + \" minute ago\";\n            } else if (minute &lt; 60) {\n                Time = minute + \" minutes ago\";\n            }\n        } else {\n            Day = \"Today, \";\n        }\n    } else if (date &gt; (startOfDay - millSecInADay)) {\n        Day = \"Yesterday, \";\n    } else if (date &gt; (startOfDay - millSecInADay * 7)) {\n        int days = (int) (differenceFromNow / millSecInADay);\n        Day = days + \" Days ago, \";\n    } else {\n        Day = DateFormat.format(date);\n    }\n    if (Time.isEmpty()) {\n        Time = TimeFormat.format(date);\n    }\n    return Day + Time;\n}\n\npublic static long StartOfDay(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\n    calendar.set(Calendar.MINUTE, 0);\n    calendar.set(Calendar.SECOND, 0);\n    calendar.set(Calendar.MILLISECOND, 0);\n    return calendar.getTimeInMillis();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1114420,"reputation":726,"user_id":1104124,"display_name":"brunocrt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596059223,"creation_date":1596059223,"answer_id":63162932,"question_id":3859288,"body_markdown":"For the lack of simplicity and updated response, follows the more recent Java 8 and beyond version\r\n\r\n    import java.time.*;\r\n    import java.time.temporal.*;\r\n\r\n    public class Time {\r\n        public static void main(String[] args) {\r\n\r\n            System.out.println(LocalTime.now().minus(8, ChronoUnit.MINUTES));\r\n            System.out.println(LocalTime.now().minus(8, ChronoUnit.HOURS));\r\n            System.out.println(LocalDateTime.now().minus(8, ChronoUnit.DAYS));\r\n            System.out.println(LocalDateTime.now().minus(8, ChronoUnit.MONTHS));\r\n        }\r\n    }\r\n    \r\n\r\n*This is the version that uses the Java Time API that tries to solve issues from the past for dealing with Date and Time.* \r\n\r\nJavadoc\r\n\r\n**version 8**\r\nhttps://docs.oracle.com/javase/8/docs/api/index.html?java/time/package-summary.html\r\n\r\n**version 11**\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\r\n\r\nW3Schools Tutorial - https://www.w3schools.com/java/java_date.asp\r\n\r\nDZone Article - https://dzone.com/articles/java-8-date-and-time\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>For the lack of simplicity and updated response, follows the more recent Java 8 and beyond version</p>\n<pre><code>import java.time.*;\nimport java.time.temporal.*;\n\npublic class Time {\n    public static void main(String[] args) {\n\n        System.out.println(LocalTime.now().minus(8, ChronoUnit.MINUTES));\n        System.out.println(LocalTime.now().minus(8, ChronoUnit.HOURS));\n        System.out.println(LocalDateTime.now().minus(8, ChronoUnit.DAYS));\n        System.out.println(LocalDateTime.now().minus(8, ChronoUnit.MONTHS));\n    }\n}\n</code></pre>\n<p><em>This is the version that uses the Java Time API that tries to solve issues from the past for dealing with Date and Time.</em></p>\n<p>Javadoc</p>\n<p><strong>version 8</strong>\n<a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/time/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/index.html?java/time/package-summary.html</a></p>\n<p><strong>version 11</strong>\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html</a></p>\n<p>W3Schools Tutorial - <a href=\"https://www.w3schools.com/java/java_date.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_date.asp</a></p>\n<p>DZone Article - <a href=\"https://dzone.com/articles/java-8-date-and-time\" rel=\"nofollow noreferrer\">https://dzone.com/articles/java-8-date-and-time</a></p>\n"},{"tags":[],"owner":{"account_id":3070992,"reputation":414,"user_id":2601659,"accept_rate":89,"display_name":"jumper rbk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609781513,"creation_date":1609781513,"answer_id":65567101,"question_id":3859288,"body_markdown":"SQL timestamp to now elapsed time. Set your own timezone.\r\n\r\nNOTE1: This will handle singular/plural.\r\n\r\nNOTE2: This is using Joda time\r\n\r\n    String getElapsedTime(String strMysqlTimestamp) {\r\n        \r\n        DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;YYYY-MM-dd HH:mm:ss.S&quot;);\r\n        DateTime mysqlDate = formatter.parseDateTime(strMysqlTimestamp).\r\n                             withZone(DateTimeZone.forID(&quot;Asia/Kuala_Lumpur&quot;));\r\n        \r\n        DateTime now = new DateTime();\r\n        Period period = new Period(mysqlDate, now);\r\n        \r\n        int seconds = period.getSeconds();\r\n        int minutes = period.getMinutes();\r\n        int hours = period.getHours();\r\n        int days = period.getDays();\r\n        int weeks = period.getWeeks();\r\n        int months = period.getMonths();\r\n        int years = period.getYears();\r\n        \r\n        String elapsedTime = &quot;&quot;;\r\n        if (years != 0)\r\n            if (years == 1)\r\n                elapsedTime = years + &quot; year ago&quot;;\r\n            else\r\n                elapsedTime = years + &quot; years ago&quot;;\r\n        else if (months != 0)\r\n            if (months == 1)\r\n                elapsedTime = months + &quot; month ago&quot;;\r\n            else\r\n                elapsedTime = months + &quot; months ago&quot;;\r\n        else if (weeks != 0)\r\n            if (weeks == 1)\r\n                elapsedTime = weeks + &quot; week ago&quot;;\r\n            else\r\n                elapsedTime = weeks + &quot; weeks ago&quot;;\r\n        else if (days != 0)\r\n            if (days == 1)\r\n                elapsedTime = days + &quot; day ago&quot;;\r\n            else\r\n                elapsedTime = days + &quot; days ago&quot;;\r\n        else if (hours != 0)\r\n            if (hours == 1)\r\n                elapsedTime = hours + &quot; hour ago&quot;;\r\n            else\r\n                elapsedTime = hours + &quot; hours ago&quot;;\r\n        else if (minutes != 0)\r\n            if (minutes == 1)\r\n                elapsedTime = minutes + &quot; minute ago&quot;;\r\n            else\r\n                elapsedTime = minutes + &quot; minutes ago&quot;;\r\n        else if (seconds != 0)\r\n            if (seconds == 1)\r\n                elapsedTime = seconds + &quot; second ago&quot;;\r\n            else\r\n                elapsedTime = seconds + &quot; seconds ago&quot;;   \r\n        \r\n        return elapsedTime;\r\n    }","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>SQL timestamp to now elapsed time. Set your own timezone.</p>\n<p>NOTE1: This will handle singular/plural.</p>\n<p>NOTE2: This is using Joda time</p>\n<pre><code>String getElapsedTime(String strMysqlTimestamp) {\n    \n    DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;YYYY-MM-dd HH:mm:ss.S&quot;);\n    DateTime mysqlDate = formatter.parseDateTime(strMysqlTimestamp).\n                         withZone(DateTimeZone.forID(&quot;Asia/Kuala_Lumpur&quot;));\n    \n    DateTime now = new DateTime();\n    Period period = new Period(mysqlDate, now);\n    \n    int seconds = period.getSeconds();\n    int minutes = period.getMinutes();\n    int hours = period.getHours();\n    int days = period.getDays();\n    int weeks = period.getWeeks();\n    int months = period.getMonths();\n    int years = period.getYears();\n    \n    String elapsedTime = &quot;&quot;;\n    if (years != 0)\n        if (years == 1)\n            elapsedTime = years + &quot; year ago&quot;;\n        else\n            elapsedTime = years + &quot; years ago&quot;;\n    else if (months != 0)\n        if (months == 1)\n            elapsedTime = months + &quot; month ago&quot;;\n        else\n            elapsedTime = months + &quot; months ago&quot;;\n    else if (weeks != 0)\n        if (weeks == 1)\n            elapsedTime = weeks + &quot; week ago&quot;;\n        else\n            elapsedTime = weeks + &quot; weeks ago&quot;;\n    else if (days != 0)\n        if (days == 1)\n            elapsedTime = days + &quot; day ago&quot;;\n        else\n            elapsedTime = days + &quot; days ago&quot;;\n    else if (hours != 0)\n        if (hours == 1)\n            elapsedTime = hours + &quot; hour ago&quot;;\n        else\n            elapsedTime = hours + &quot; hours ago&quot;;\n    else if (minutes != 0)\n        if (minutes == 1)\n            elapsedTime = minutes + &quot; minute ago&quot;;\n        else\n            elapsedTime = minutes + &quot; minutes ago&quot;;\n    else if (seconds != 0)\n        if (seconds == 1)\n            elapsedTime = seconds + &quot; second ago&quot;;\n        else\n            elapsedTime = seconds + &quot; seconds ago&quot;;   \n    \n    return elapsedTime;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612638022,"creation_date":1612638022,"answer_id":66080757,"question_id":3859288,"body_markdown":"# *java.time*\r\n\r\nYou can use [`java.time.Duration`][1] and [`java.time.Period`][2] which are modelled on [ISO-8601 standards][3] and were introduced with *Java-8* as part of [JSR-310 implementation][4]. With *Java-9* some more convenience methods were introduced.\r\n\r\n 1. Use `Duration` to calculate a time-based quantity or amount of time. It can be accessed using duration-based units, such as nanoseconds, seconds, minutes and hours. In addition, the [DAYS][5] unit can be used and is treated as exactly equal to 24 hours, thus ignoring daylight savings effects.\r\n 2. Use `Period` to calculate a date-based amount of time. It can be accessed using period-based units, such as days, months and years.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Duration;\r\n    import java.time.LocalDateTime;\r\n    import java.time.Month;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// An arbitrary local date and time\r\n    \t\tLocalDateTime startDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 15, 20, 25);\r\n    \r\n    \t\t// Current local date and time\r\n    \t\tLocalDateTime endDateTime = LocalDateTime.now();\r\n    \r\n    \t\tDuration duration = Duration.between(startDateTime, endDateTime);\r\n    \t\t// Default format\r\n    \t\tSystem.out.println(duration);\r\n    \r\n    \t\t// Custom format\r\n    \t\t// ####################################Java-8####################################\r\n    \t\tString formattedElapsedTime = String.format(&quot;%d days, %d hours, %d minutes, %d seconds, %d nanoseconds ago&quot;,\r\n    \t\t\t\tduration.toDays(), duration.toHours() % 24, duration.toMinutes() % 60, duration.toSeconds() % 60,\r\n    \t\t\t\tduration.toNanos() % 1000000000);\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \r\n    \t\t// ####################################Java-9####################################\r\n    \t\tformattedElapsedTime = String.format(&quot;%d days, %d hours, %d minutes, %d seconds, %d nanoseconds ago&quot;,\r\n    \t\t\t\tduration.toDaysPart(), duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart(),\r\n    \t\t\t\tduration.toNanosPart());\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    PT1395H35M7.355288S\r\n    58 days, 3 hours, 35 minutes, 7 seconds, 355288000 nanoseconds ago\r\n    58 days, 3 hours, 35 minutes, 7 seconds, 355288000 nanoseconds ago\r\n\r\nIf you have two moments at `UTC`, you can use `Instant` instead of `LocalDateTime` e.g.\r\n\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Current moment at UTC\r\n    \t\tInstant now = Instant.now();\r\n    \r\n    \t\t// An instant in the past\r\n    \t\tInstant startDateTime = now.minus(58, ChronoUnit.DAYS)\r\n    \t\t\t\t\t\t\t\t.minus(2, ChronoUnit.HOURS)\r\n    \t\t\t\t\t\t\t\t.minus(54, ChronoUnit.MINUTES)\r\n    \t\t\t\t\t\t\t\t.minus(24, ChronoUnit.SECONDS)\r\n    \t\t\t\t\t\t\t\t.minus(808624000, ChronoUnit.NANOS);\r\n    \r\n    \t\tDuration duration = Duration.between(startDateTime, now);\r\n    \t\t// Default format\r\n    \t\tSystem.out.println(duration);\r\n    \r\n    \t\t// Custom format\r\n    \t\t// ####################################Java-8####################################\r\n    \t\tString formattedElapsedTime = String.format(&quot;%d days, %d hours, %d minutes, %d seconds, %d nanoseconds ago&quot;,\r\n    \t\t\t\tduration.toDays(), duration.toHours() % 24, duration.toMinutes() % 60, duration.toSeconds() % 60,\r\n    \t\t\t\tduration.toNanos() % 1000000000);\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \r\n    \t\t// ####################################Java-9####################################\r\n    \t\tformattedElapsedTime = String.format(&quot;%d days, %d hours, %d minutes, %d seconds, %d nanoseconds ago&quot;,\r\n    \t\t\t\tduration.toDaysPart(), duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart(),\r\n    \t\t\t\tduration.toNanosPart());\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    PT1394H54M24.808624S\r\n    58 days, 2 hours, 54 minutes, 24 seconds, 808624000 nanoseconds ago\r\n    58 days, 2 hours, 54 minutes, 24 seconds, 808624000 nanoseconds ago\r\n\r\n**Demo on `Period`:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Replace ZoneId.systemDefault() with the applicable timezone ID e.g.\r\n    \t\t// ZoneId.of(&quot;Europe/London&quot;). For LocalDate in the JVM&#39;s timezone, simply use\r\n    \t\t// LocalDate.now()\r\n    \t\tLocalDate endDate = LocalDate.now(ZoneId.systemDefault());\r\n    \r\n    \t\t// Let&#39;s assume the start date is 1 year, 2 months, and 3 days ago\r\n    \t\tLocalDate startDate = endDate.minusYears(1).minusMonths(2).minusDays(3);\r\n    \r\n    \t\tPeriod period = Period.between(startDate, endDate);\r\n    \t\t// Default format\r\n    \t\tSystem.out.println(period);\r\n    \r\n    \t\t// Custom format\r\n    \t\tString formattedElapsedPeriod = String.format(&quot;%d years, %d months, %d days ago&quot;, period.getYears(),\r\n    \t\t\t\tperiod.getMonths(), period.getDays());\r\n    \t\tSystem.out.println(formattedElapsedPeriod);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    P1Y2M3D\r\n    1 years, 2 months, 3 days ago\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n - For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7.\r\n - If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Period.html\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [4]: https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#DAYS\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to calculate &quot;time ago&quot; in Java?","body":"<h1><em>java.time</em></h1>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>java.time.Duration</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Period.html\" rel=\"nofollow noreferrer\"><code>java.time.Period</code></a> which are modelled on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO-8601 standards</a> and were introduced with <em>Java-8</em> as part of <a href=\"https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\" rel=\"nofollow noreferrer\">JSR-310 implementation</a>. With <em>Java-9</em> some more convenience methods were introduced.</p>\n<ol>\n<li>Use <code>Duration</code> to calculate a time-based quantity or amount of time. It can be accessed using duration-based units, such as nanoseconds, seconds, minutes and hours. In addition, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#DAYS\" rel=\"nofollow noreferrer\">DAYS</a> unit can be used and is treated as exactly equal to 24 hours, thus ignoring daylight savings effects.</li>\n<li>Use <code>Period</code> to calculate a date-based amount of time. It can be accessed using period-based units, such as days, months and years.</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.time.Month;\n\npublic class Main {\n    public static void main(String[] args) {\n        // An arbitrary local date and time\n        LocalDateTime startDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 15, 20, 25);\n\n        // Current local date and time\n        LocalDateTime endDateTime = LocalDateTime.now();\n\n        Duration duration = Duration.between(startDateTime, endDateTime);\n        // Default format\n        System.out.println(duration);\n\n        // Custom format\n        // ####################################Java-8####################################\n        String formattedElapsedTime = String.format(&quot;%d days, %d hours, %d minutes, %d seconds, %d nanoseconds ago&quot;,\n                duration.toDays(), duration.toHours() % 24, duration.toMinutes() % 60, duration.toSeconds() % 60,\n                duration.toNanos() % 1000000000);\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n\n        // ####################################Java-9####################################\n        formattedElapsedTime = String.format(&quot;%d days, %d hours, %d minutes, %d seconds, %d nanoseconds ago&quot;,\n                duration.toDaysPart(), duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart(),\n                duration.toNanosPart());\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>PT1395H35M7.355288S\n58 days, 3 hours, 35 minutes, 7 seconds, 355288000 nanoseconds ago\n58 days, 3 hours, 35 minutes, 7 seconds, 355288000 nanoseconds ago\n</code></pre>\n<p>If you have two moments at <code>UTC</code>, you can use <code>Instant</code> instead of <code>LocalDateTime</code> e.g.</p>\n<pre><code>import java.time.Duration;\nimport java.time.Instant;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Current moment at UTC\n        Instant now = Instant.now();\n\n        // An instant in the past\n        Instant startDateTime = now.minus(58, ChronoUnit.DAYS)\n                                .minus(2, ChronoUnit.HOURS)\n                                .minus(54, ChronoUnit.MINUTES)\n                                .minus(24, ChronoUnit.SECONDS)\n                                .minus(808624000, ChronoUnit.NANOS);\n\n        Duration duration = Duration.between(startDateTime, now);\n        // Default format\n        System.out.println(duration);\n\n        // Custom format\n        // ####################################Java-8####################################\n        String formattedElapsedTime = String.format(&quot;%d days, %d hours, %d minutes, %d seconds, %d nanoseconds ago&quot;,\n                duration.toDays(), duration.toHours() % 24, duration.toMinutes() % 60, duration.toSeconds() % 60,\n                duration.toNanos() % 1000000000);\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n\n        // ####################################Java-9####################################\n        formattedElapsedTime = String.format(&quot;%d days, %d hours, %d minutes, %d seconds, %d nanoseconds ago&quot;,\n                duration.toDaysPart(), duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart(),\n                duration.toNanosPart());\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>PT1394H54M24.808624S\n58 days, 2 hours, 54 minutes, 24 seconds, 808624000 nanoseconds ago\n58 days, 2 hours, 54 minutes, 24 seconds, 808624000 nanoseconds ago\n</code></pre>\n<p><strong>Demo on <code>Period</code>:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Period;\nimport java.time.ZoneId;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Replace ZoneId.systemDefault() with the applicable timezone ID e.g.\n        // ZoneId.of(&quot;Europe/London&quot;). For LocalDate in the JVM's timezone, simply use\n        // LocalDate.now()\n        LocalDate endDate = LocalDate.now(ZoneId.systemDefault());\n\n        // Let's assume the start date is 1 year, 2 months, and 3 days ago\n        LocalDate startDate = endDate.minusYears(1).minusMonths(2).minusDays(3);\n\n        Period period = Period.between(startDate, endDate);\n        // Default format\n        System.out.println(period);\n\n        // Custom format\n        String formattedElapsedPeriod = String.format(&quot;%d years, %d months, %d days ago&quot;, period.getYears(),\n                period.getMonths(), period.getDays());\n        System.out.println(formattedElapsedPeriod);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>P1Y2M3D\n1 years, 2 months, 3 days ago\n</code></pre>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<ul>\n<li>For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7.</li>\n<li>If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1700867171,"creation_date":1632751940,"answer_id":69348167,"question_id":3859288,"body_markdown":"# For Android:\r\n\r\n```\r\npublic static String getTimeAgoFormat(long timestamp) {\r\n    return android.text.format.DateUtils.getRelativeTimeSpanString(timestamp).toString();\r\n}\r\n```","title":"How to calculate &quot;time ago&quot; in Java?","body":"<h1>For Android:</h1>\n<pre><code>public static String getTimeAgoFormat(long timestamp) {\n    return android.text.format.DateUtils.getRelativeTimeSpanString(timestamp).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":102614,"reputation":1629,"user_id":275341,"accept_rate":80,"display_name":"jts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122744,"favorite_count":0,"down_vote_count":0,"up_vote_count":147,"accepted_answer_id":3859298,"answer_count":33,"score":147,"last_activity_date":1700867171,"creation_date":1286227793,"question_id":3859288,"body_markdown":"In Ruby on Rails, there is a feature that allows you to take any Date and print out how &quot;long ago&quot; it was.\r\n\r\nFor example:\r\n\r\n    8 minutes ago\r\n    8 hours ago\r\n    8 days ago\r\n    8 months ago\r\n    8 years ago\r\n\r\nIs there an easy way to do this in Java?","title":"How to calculate &quot;time ago&quot; in Java?","body":"<p>In Ruby on Rails, there is a feature that allows you to take any Date and print out how \"long ago\" it was.</p>\n\n<p>For example:</p>\n\n<pre><code>8 minutes ago\n8 hours ago\n8 days ago\n8 months ago\n8 years ago\n</code></pre>\n\n<p>Is there an easy way to do this in Java?</p>\n"},{"tags":["java","spring-boot","exception"],"answers":[{"tags":[],"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1678397926,"creation_date":1678397926,"answer_id":75690294,"question_id":75690229,"body_markdown":"I report the solution if possibly other people follow the tutorial. In the [official documentation][1] the method (`ResponseEntityExceptionHandler`) reports the class `HttpStatusCode` and not `HttpStatus` \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html#%3Cinit%3E()","title":"Spring boot 3.0.0+ @Override error in ResponseEntityExceptionHandler","body":"<p>I report the solution if possibly other people follow the tutorial. In the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html#%3Cinit%3E()\" rel=\"noreferrer\">official documentation</a> the method (<code>ResponseEntityExceptionHandler</code>) reports the class <code>HttpStatusCode</code> and not <code>HttpStatus</code></p>\n"},{"tags":[],"owner":{"account_id":7024106,"reputation":11,"user_id":5382236,"display_name":"donlaiq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683681995,"creation_date":1683681995,"answer_id":76214346,"question_id":75690229,"body_markdown":"I had a similar problem today.\r\n\r\nI&#39;ve solved it **NOT** extending from *ResponseEntityExceptionHandler*, replacing the *@Override* annotation with *@ExceptionHandler(MethodArgumentNotValidException.class)*, and removing the parameters *headers* and *status* from the method.\r\n\r\nI didn&#39;t try your particular code. Maybe you have to modify it a little bit, but basically you should write something like this:\r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n        \r\n        @ExceptionHandler(MethodArgumentNotValidException.class)\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n            MethodArgumentNotValidException ex, WebRequest request) {\r\n    \r\n            Map&lt;String, List&lt;String&gt;&gt; body = new HashMap&lt;&gt;();\r\n    \r\n            List&lt;String&gt; errors = ex.getBindingResult()\r\n                .getFieldErrors()\r\n                .stream()\r\n                .map(DefaultMessageSourceResolvable::getDefaultMessage)\r\n                .collect(Collectors.toList());\r\n    \r\n            body.put(&quot;errors&quot;, errors);\r\n    \r\n            return new ResponseEntity&lt;&gt;(body, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }","title":"Spring boot 3.0.0+ @Override error in ResponseEntityExceptionHandler","body":"<p>I had a similar problem today.</p>\n<p>I've solved it <strong>NOT</strong> extending from <em>ResponseEntityExceptionHandler</em>, replacing the <em>@Override</em> annotation with <em>@ExceptionHandler(MethodArgumentNotValidException.class)</em>, and removing the parameters <em>headers</em> and <em>status</em> from the method.</p>\n<p>I didn't try your particular code. Maybe you have to modify it a little bit, but basically you should write something like this:</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n    \n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n        MethodArgumentNotValidException ex, WebRequest request) {\n\n        Map&lt;String, List&lt;String&gt;&gt; body = new HashMap&lt;&gt;();\n\n        List&lt;String&gt; errors = ex.getBindingResult()\n            .getFieldErrors()\n            .stream()\n            .map(DefaultMessageSourceResolvable::getDefaultMessage)\n            .collect(Collectors.toList());\n\n        body.put(&quot;errors&quot;, errors);\n\n        return new ResponseEntity&lt;&gt;(body, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4625898,"reputation":39,"user_id":3749732,"display_name":"cristianhoyos66"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700865996,"creation_date":1700865996,"answer_id":77545963,"question_id":75690229,"body_markdown":"The accepted response seems pretty clear, however it was unclear to me in the beginning so the reason by which this error is appearing is because the method does not have this signature anymore:\r\n\r\n      protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n          MethodArgumentNotValidException ex, HttpHeaders headers,\r\n          HttpStatus status, WebRequest request) \r\n\r\nbut has this one:\r\n\r\n      protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n          MethodArgumentNotValidException ex, HttpHeaders headers,\r\n          HttpStatusCode status, WebRequest request) \r\n\r\nNotice the data type for status argument that changed from `HttpStatus` to `HttpStatusCode`\r\n\r\nSo changing the data type is required and will solve the issue.\r\n","title":"Spring boot 3.0.0+ @Override error in ResponseEntityExceptionHandler","body":"<p>The accepted response seems pretty clear, however it was unclear to me in the beginning so the reason by which this error is appearing is because the method does not have this signature anymore:</p>\n<pre><code>  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n      MethodArgumentNotValidException ex, HttpHeaders headers,\n      HttpStatus status, WebRequest request) \n</code></pre>\n<p>but has this one:</p>\n<pre><code>  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n      MethodArgumentNotValidException ex, HttpHeaders headers,\n      HttpStatusCode status, WebRequest request) \n</code></pre>\n<p>Notice the data type for status argument that changed from <code>HttpStatus</code> to <code>HttpStatusCode</code></p>\n<p>So changing the data type is required and will solve the issue.</p>\n"}],"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3748,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75690294,"answer_count":3,"score":3,"last_activity_date":1700865996,"creation_date":1678397423,"question_id":75690229,"body_markdown":"I am following this [example][1] (**Validate Request Body and Parameter in Spring Boot** in **medium**) and this [example][2] to implement a Handler to handle the correctness of a JSON as a parameter. The concepts are somewhat clear but having reached this point the use of @Override for the `handleMethodArgumentNotValid` method gives me an error like: *Method does not override method from its superclass*.\r\n\r\nI have searched online to figure out how to solve this problem but I am probably missing something.\r\n\r\n    package com.tericcabrel.hotel.exceptions;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    import org.springframework.context.support.DefaultMessageSourceResolvable;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.MethodArgumentNotValidException;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.context.request.WebRequest;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n    \r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n      @Override\r\n      protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n          MethodArgumentNotValidException ex, HttpHeaders headers,\r\n          HttpStatus status, WebRequest request) {\r\n    \r\n        Map&lt;String, List&lt;String&gt;&gt; body = new HashMap&lt;&gt;();\r\n    \r\n        List&lt;String&gt; errors = ex.getBindingResult()\r\n            .getFieldErrors()\r\n            .stream()\r\n            .map(DefaultMessageSourceResolvable::getDefaultMessage)\r\n            .collect(Collectors.toList());\r\n    \r\n        body.put(&quot;errors&quot;, errors);\r\n    \r\n        return new ResponseEntity&lt;&gt;(body, HttpStatus.BAD_REQUEST);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://blog.tericcabrel.com/validate-request-body-and-parameter-in-spring-boot/\r\n  [2]: https://medium.com/@tericcabrel/validate-request-body-and-parameter-in-spring-boot-53ca77f97fe9\r\n","title":"Spring boot 3.0.0+ @Override error in ResponseEntityExceptionHandler","body":"<p>I am following this <a href=\"https://blog.tericcabrel.com/validate-request-body-and-parameter-in-spring-boot/\" rel=\"nofollow noreferrer\">example</a> (<strong>Validate Request Body and Parameter in Spring Boot</strong> in <strong>medium</strong>) and this <a href=\"https://medium.com/@tericcabrel/validate-request-body-and-parameter-in-spring-boot-53ca77f97fe9\" rel=\"nofollow noreferrer\">example</a> to implement a Handler to handle the correctness of a JSON as a parameter. The concepts are somewhat clear but having reached this point the use of @Override for the <code>handleMethodArgumentNotValid</code> method gives me an error like: <em>Method does not override method from its superclass</em>.</p>\n<p>I have searched online to figure out how to solve this problem but I am probably missing something.</p>\n<pre><code>package com.tericcabrel.hotel.exceptions;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport org.springframework.context.support.DefaultMessageSourceResolvable;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\n@ControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n  @Override\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n      MethodArgumentNotValidException ex, HttpHeaders headers,\n      HttpStatus status, WebRequest request) {\n\n    Map&lt;String, List&lt;String&gt;&gt; body = new HashMap&lt;&gt;();\n\n    List&lt;String&gt; errors = ex.getBindingResult()\n        .getFieldErrors()\n        .stream()\n        .map(DefaultMessageSourceResolvable::getDefaultMessage)\n        .collect(Collectors.toList());\n\n    body.put(&quot;errors&quot;, errors);\n\n    return new ResponseEntity&lt;&gt;(body, HttpStatus.BAD_REQUEST);\n  }\n}\n</code></pre>\n"},{"tags":["java","hash","simhash"],"comments":[{"owner":{"account_id":44670,"reputation":23784,"user_id":131227,"accept_rate":89,"display_name":"Mark Bolusmjak"},"score":2,"creation_date":1260894963,"post_id":1908330,"comment_id":1812937,"body_markdown":"+1. Hadn&#39;t heard of this before. Interesting thread.","body":"+1. Hadn&#39;t heard of this before. Interesting thread."},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1260896417,"post_id":1908330,"comment_id":1813124,"body_markdown":"Yes, they can be quite useful - unlike a normal hash, which attempts to be generate a sparsely populated hash space given a set of similar strings (i.e. generating dissimilar hashes) a simhash attempts to generate similar, local, hash values for similar strings.","body":"Yes, they can be quite useful - unlike a normal hash, which attempts to be generate a sparsely populated hash space given a set of similar strings (i.e. generating dissimilar hashes) a simhash attempts to generate similar, local, hash values for similar strings."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1349000981,"post_id":1908330,"comment_id":17080771,"body_markdown":"That link says &quot;hash each feature using a normal 32-bit hash algorithm&quot;; i suspect that in Java, using [String&#39;s hashCode](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#hashCode%28%29) would not be a good move for that, since for two-character strings, it boils down to `s[0]*31 + s[1]`, which is only a 20-bit number, and will have lots of zeroes in the upper of those 20 bits if the two characters are ASCII. A better option might be something like `(((long)s[0]) + 1) * (((long)((~s[0]) &amp; 0xffff)) + 1) -1`.","body":"That link says &quot;hash each feature using a normal 32-bit hash algorithm&quot;; i suspect that in Java, using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#hashCode%28%29\" rel=\"nofollow noreferrer\">String&#39;s hashCode</a> would not be a good move for that, since for two-character strings, it boils down to <code>s[0]*31 + s[1]</code>, which is only a 20-bit number, and will have lots of zeroes in the upper of those 20 bits if the two characters are ASCII. A better option might be something like <code>(((long)s[0]) + 1) * (((long)((~s[0]) &amp; 0xffff)) + 1) -1</code>."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1358456153,"post_id":1908330,"comment_id":20014290,"body_markdown":"@TomAnderson, [Guava&#39;s `HashFunction`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/hash/HashFunction.html#hashString%28java.lang.CharSequence%29) provides better fast non-crypto-strong hashing.","body":"@TomAnderson, <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/hash/HashFunction.html#hashString%28java.lang.CharSequence%29\" rel=\"nofollow noreferrer\">Guava&#39;s <code>HashFunction</code></a> provides better fast non-crypto-strong hashing."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1358465979,"post_id":1908330,"comment_id":20018292,"body_markdown":"@MikeSamuel: Guava&#39;s `HashFunction` is an interface, and as such, doesn&#39;t provide anything. However, it&#39;s very likely that some implementations of it do provide better hashes - i see there are some good ones in [`Hashing`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/hash/Hashing.html). That said, in this particular case, we are only ever hashing two-character strings, so we don&#39;t need a good general-purpose hash algorithm; something simple might be good enough. Still, Murmur3-32 should definitely be good enough - as long as it&#39;s a revision from 2011-1-4 or later.","body":"@MikeSamuel: Guava&#39;s <code>HashFunction</code> is an interface, and as such, doesn&#39;t provide anything. However, it&#39;s very likely that some implementations of it do provide better hashes - i see there are some good ones in <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/hash/Hashing.html\" rel=\"nofollow noreferrer\"><code>Hashing</code></a>. That said, in this particular case, we are only ever hashing two-character strings, so we don&#39;t need a good general-purpose hash algorithm; something simple might be good enough. Still, Murmur3-32 should definitely be good enough - as long as it&#39;s a revision from 2011-1-4 or later."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1358504184,"post_id":1908330,"comment_id":20029209,"body_markdown":"@MikeSamuel: The trouble with that is that it isn&#39;t a very good hash. If you take a pair of letters and change one of them, no more than half the bits will change, and in all probability, only a few will (eg &#39;ba&#39; to &#39;ca&#39; is only a single bit). A good hash would avalanche the change across the whole hash. Murmur3 does this; one could use that, or, because we&#39;re only starting with 32 bits, just use its [finalization step](http://code.google.com/p/smhasher/source/browse/trunk/MurmurHash3.cpp?spec=svn136&amp;r=136#66).","body":"@MikeSamuel: The trouble with that is that it isn&#39;t a very good hash. If you take a pair of letters and change one of them, no more than half the bits will change, and in all probability, only a few will (eg &#39;ba&#39; to &#39;ca&#39; is only a single bit). A good hash would avalanche the change across the whole hash. Murmur3 does this; one could use that, or, because we&#39;re only starting with 32 bits, just use its <a href=\"http://code.google.com/p/smhasher/source/browse/trunk/MurmurHash3.cpp?spec=svn136&amp;r=136#66\" rel=\"nofollow noreferrer\">finalization step</a>."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1358529532,"post_id":1908330,"comment_id":20042429,"body_markdown":"@MikeSamuel: In this context, that&#39;s not how the hash is being used. Have a read of the simhash document that Joel linked to in the question.","body":"@MikeSamuel: In this context, that&#39;s not how the hash is being used. Have a read of the simhash document that Joel linked to in the question."}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323403,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1260893216,"creation_date":1260893216,"answer_id":1908483,"question_id":1908330,"body_markdown":"According to [this page][1], you should ask the developers of [BibSonomy][2].\r\n\r\n\r\n  [1]: http://www.gbv.de/wikis/cls/Bibliographic_Hash_Key\r\n  [2]: http://www.bibsonomy.org/","title":"SimHash implementation in Java?","body":"<p>According to <a href=\"http://www.gbv.de/wikis/cls/Bibliographic_Hash_Key\" rel=\"nofollow noreferrer\">this page</a>, you should ask the developers of <a href=\"http://www.bibsonomy.org/\" rel=\"nofollow noreferrer\">BibSonomy</a>.</p>\n"},{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700865433,"creation_date":1260894164,"answer_id":1908600,"question_id":1908330,"body_markdown":"btw. It looks like Google has [patented][1] the algorithm. If you are in US, successfully compete with Google, and do not have own parent portfolio, then do not tell them you are using it.\r\n\r\nAn implementation in C\r\n\r\n[http://dsrg.mff.cuni.cz/~holub/sw/shash/][2]\r\n\r\n----------\r\n\r\n[Removed no longer relevant BibSonomy text]\r\n\r\n  [1]: https://image-ppubs.uspto.gov/dirsearch-public/print/downloadPdf/7158961\r\n  [2]: http://dsrg.mff.cuni.cz/~holub/sw/shash/","title":"SimHash implementation in Java?","body":"<p>btw. It looks like Google has <a href=\"https://image-ppubs.uspto.gov/dirsearch-public/print/downloadPdf/7158961\" rel=\"nofollow noreferrer\">patented</a> the algorithm. If you are in US, successfully compete with Google, and do not have own parent portfolio, then do not tell them you are using it.</p>\n<p>An implementation in C</p>\n<p><a href=\"http://dsrg.mff.cuni.cz/%7Eholub/sw/shash/\" rel=\"nofollow noreferrer\">http://dsrg.mff.cuni.cz/~holub/sw/shash/</a></p>\n<hr />\n<p>[Removed no longer relevant BibSonomy text]</p>\n"},{"tags":[],"owner":{"account_id":1814129,"reputation":11,"user_id":1649603,"display_name":"aNeurone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348995774,"creation_date":1346860224,"answer_id":12285259,"question_id":1908330,"body_markdown":"Here you can find the full java source code. It&#39;s very simple.\r\nA demo also is provided.\r\n[http://aneurone.blogspot.com/2012/09/simhash.html][1]\r\n    \r\n\r\n\r\n  [1]: http://aneurone.blogspot.com/2012/09/simhash.html","title":"SimHash implementation in Java?","body":"<p>Here you can find the full java source code. It's very simple.\nA demo also is provided.\n<a href=\"http://aneurone.blogspot.com/2012/09/simhash.html\" rel=\"nofollow\">http://aneurone.blogspot.com/2012/09/simhash.html</a></p>\n"},{"tags":[],"owner":{"account_id":2211349,"reputation":398,"user_id":5439309,"display_name":"otmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696845269,"creation_date":1696844574,"answer_id":77257791,"question_id":1908330,"body_markdown":"In the mean time, the [hash4j library][1] includes a SimHash Java implementation. There is also a FastSimHash implementation, which is up to 10x faster using a bit hack as described in [this blog post][2].\r\n\r\n  [1]: https://github.com/dynatrace-oss/hash4j\r\n  [2]: https://engineering.dynatrace.com/blog/speeding-up-simhash-by-10x-using-a-bit-hack/","title":"SimHash implementation in Java?","body":"<p>In the mean time, the <a href=\"https://github.com/dynatrace-oss/hash4j\" rel=\"nofollow noreferrer\">hash4j library</a> includes a SimHash Java implementation. There is also a FastSimHash implementation, which is up to 10x faster using a bit hack as described in <a href=\"https://engineering.dynatrace.com/blog/speeding-up-simhash-by-10x-using-a-bit-hack/\" rel=\"nofollow noreferrer\">this blog post</a>.</p>\n"}],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8117,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1700865433,"creation_date":1260892095,"question_id":1908330,"body_markdown":"Has anyone come across a [simhash][1] function implemented in Java? \r\n\r\nI&#39;ve already searched for it, but couldn&#39;t find anything.\r\n\r\n\r\n  [1]: http://matpalm.com/resemblance/simhash/","title":"SimHash implementation in Java?","body":"<p>Has anyone come across a <a href=\"http://matpalm.com/resemblance/simhash/\" rel=\"noreferrer\">simhash</a> function implemented in Java? </p>\n\n<p>I've already searched for it, but couldn't find anything.</p>\n"},{"tags":["java","apache-zookeeper","apache-storm","illegalargumentexception"],"comments":[{"owner":{"account_id":3509196,"reputation":16473,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1700857666,"post_id":77545456,"comment_id":136708116,"body_markdown":"Do you have a configuration somewhere that has `localhost/:2000`?  That looks invalid because of the forward slash.","body":"Do you have a configuration somewhere that has <code>localhost&#47;:2000</code>?  That looks invalid because of the forward slash."},{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1701273591,"post_id":77545456,"comment_id":136755952,"body_markdown":"Please add your configuration files to give us a change to help you.","body":"Please add your configuration files to give us a change to help you."},{"owner":{"account_id":19143191,"reputation":9,"user_id":13982751,"display_name":"abhishek verma"},"score":0,"creation_date":1701465169,"post_id":77545456,"comment_id":136783402,"body_markdown":"Which config file?","body":"Which config file?"}],"owner":{"account_id":19143191,"reputation":9,"user_id":13982751,"display_name":"abhishek verma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700865022,"creation_date":1700856466,"question_id":77545456,"body_markdown":"**java.lang.IllegalArgumentException: Unable to canonicalize address localhost/&lt;unresolved&gt;:2000 because it&#39;s not resolvable**\r\n\r\nApache storm java\r\n\r\nI run program on my local but getting error.Can anyone help me how to resolve it so that i can run it properly?\r\n","title":"I am learning Apache storm and made one very simple project using LocalCluster but getting below error while running","body":"<p><strong>java.lang.IllegalArgumentException: Unable to canonicalize address localhost/:2000 because it's not resolvable</strong></p>\n<p>Apache storm java</p>\n<p>I run program on my local but getting error.Can anyone help me how to resolve it so that i can run it properly?</p>\n"},{"tags":["java","c#","buffer"],"owner":{"account_id":23818566,"reputation":77,"user_id":17826480,"display_name":"LimetaPeta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700864328,"creation_date":1700857048,"question_id":77545494,"body_markdown":"I am porting some code from [java][1] to C# (and no, I don&#39;t use Android, code just came from android library), which makes heavy use of Java.nio Buffers (ByteBuffer as well as ShortBuffer) (especialy functions like Remaining, Wrap, Put, Get, Rewind)\r\nand since C# does not have theese 2 buffers, I decided to write my own\r\n\r\nThis is ByteBuffer implementation\r\n\r\n    using System;\r\n    using MePrograma.Exceptions;\r\n    \r\n    namespace MePrograma.Tools.Buffers\r\n    {\r\n        public class ByteBuffer\r\n    \t{\r\n    \t\tprivate byte[] buffer;\r\n    \t\tprivate DataConverter c;\r\n    \t\tprivate int capacity;\r\n    \t\tprivate int index;\r\n    \t\tprivate int limit;\r\n    \t\tprivate int mark;\r\n    \t\tprivate int offset;\r\n            private bool readOnly = false;\r\n    \t\tprivate ByteOrder order;\r\n    \r\n    \t\tpublic ByteBuffer ()\r\n    \t\t{\r\n    \t\t\tthis.c = DataConverter.BigEndian;\r\n    \t\t}\r\n    \r\n    \t\tprotected ByteBuffer (byte[] buf, int start, int len)\r\n    \t\t{\r\n    \t\t\tthis.buffer = buf;\r\n    \t\t\tthis.offset = 0;\r\n    \t\t\tthis.limit = start + len;\r\n    \t\t\tthis.index = start;\r\n    \t\t\t//this.mark = start;\r\n    \t\t\tthis.mark = -1;\r\n    \t\t\tthis.capacity = buf.Length;\r\n    \t\t\tthis.c = DataConverter.BigEndian;\r\n    \t\t}\r\n    \r\n    \t\tpublic static ByteBuffer Allocate (int size)\r\n    \t\t{\r\n    \t\t\treturn new ByteBuffer (new byte[size], 0, size);\r\n    \t\t}\r\n    \r\n    \t\tpublic static ByteBuffer AllocateDirect (int size)\r\n    \t\t{\r\n    \t\t\treturn Allocate (size);\r\n    \t\t}\r\n    \r\n    \t\tpublic byte[] Array ()\r\n    \t\t{\r\n    \t\t\treturn buffer;\r\n    \t\t}\r\n    \r\n    \t\tpublic int ArrayOffset ()\r\n    \t\t{\r\n    \t\t\treturn offset;\r\n    \t\t}\r\n    \r\n    \t\tpublic int Capacity ()\r\n    \t\t{\r\n    \t\t\treturn capacity;\r\n    \t\t}\r\n    \r\n    \t\tprivate void CheckGetLimit (int inc)\r\n    \t\t{\r\n    \t\t\tif ((index + inc) &gt; limit) {\r\n    \t\t\t\tthrow new BufferUnderflowException ();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate void CheckPutLimit (int inc)\r\n    \t\t{\r\n    \t\t\tif ((index + inc) &gt; limit) {\r\n    \t\t\t\tthrow new BufferOverflowException ();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic void Clear ()\r\n    \t\t{\r\n    \t\t\tindex = offset;\r\n    \t\t\tlimit = offset + capacity;\r\n                this.mark = -1;\r\n            }\r\n    \r\n    \t\tpublic void Flip ()\r\n    \t\t{\r\n                if (!this.readOnly)\r\n                {\r\n                    limit = index;\r\n                    index = offset;\r\n                    mark = -1;\r\n                }\r\n                else\r\n                    throw new ReadOnlyBufferException();\r\n    \t\t}\r\n    \r\n    \t\tpublic byte Get ()\r\n    \t\t{\r\n    \t\t\tCheckGetLimit (1);\r\n    \t\t\treturn buffer[index++];\r\n    \t\t}\r\n    \r\n            public byte Get(int i)\r\n            {\r\n                return buffer[i];\r\n            }\r\n    \r\n    \t\tpublic void Get (byte[] data)\r\n    \t\t{\r\n    \t\t\tGet (data, 0, data.Length);\r\n    \t\t}\r\n    \r\n    \t\tpublic void Get (byte[] data, int start, int len)\r\n    \t\t{\r\n    \t\t\tCheckGetLimit (len);\r\n    \t\t\tfor (int i = 0; i &lt; len; i++) {\r\n    \t\t\t\tdata[i + start] = buffer[index++];\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic int GetInt ()\r\n    \t\t{\r\n    \t\t\tCheckGetLimit (4);\r\n    \t\t\tint num = c.GetInt32 (buffer, index);\r\n    \t\t\tindex += 4;\r\n    \t\t\treturn num;\r\n    \t\t}\r\n    \r\n    \t\tpublic short GetShort ()\r\n    \t\t{\r\n    \t\t\tCheckGetLimit (2);\r\n    \t\t\tshort num = c.GetInt16 (buffer, index);\r\n    \t\t\tindex += 2;\r\n    \t\t\treturn num;\r\n    \t\t}\r\n    \r\n    \t\tpublic bool HasArray ()\r\n    \t\t{\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\tpublic int Limit ()\r\n    \t\t{\r\n    \t\t\treturn (limit - offset);\r\n    \t\t}\r\n    \r\n    \t\tpublic void Limit (int newLimit)\r\n    \t\t{\r\n    \t\t\tlimit = newLimit;\r\n    \t\t}\r\n    \r\n    \t\tpublic void Mark ()\r\n    \t\t{\r\n    \t\t\tmark = index;\r\n    \t\t}\r\n    \r\n    \t\tpublic void Order (ByteOrder order)\r\n    \t\t{\r\n    \t\t\tthis.order = order;\r\n    \t\t\tif (order == ByteOrder.BIG_ENDIAN) {\r\n    \t\t\t\tc = DataConverter.BigEndian;\r\n    \t\t\t} else {\r\n    \t\t\t\tc = DataConverter.LittleEndian;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n            protected ByteOrder GetOrder()\r\n            {\r\n                return this.order;\r\n            }\r\n    \r\n    \t\tpublic int Position ()\r\n    \t\t{\r\n    \t\t\treturn (index - offset);\r\n    \t\t}\r\n    \r\n    \t\tpublic void Position (int pos)\r\n    \t\t{\r\n    \t\t\tif ((pos &lt; offset) || (pos &gt; limit)) {\r\n    \t\t\t\tthrow new BufferUnderflowException ();\r\n    \t\t\t}\r\n    \t\t\tindex = pos + offset;\r\n    \t\t}\r\n    \r\n    \t\tpublic void Put (byte[] data)\r\n    \t\t{\r\n    \t\t\tPut (data, 0, data.Length);\r\n    \t\t}\r\n    \r\n            public void Put(ByteBuffer buf)\r\n            {\r\n                Put(buf.buffer, buf.ArrayOffset(), buf.Capacity());\r\n            }\r\n    \r\n    \t\tpublic void Put (byte data)\r\n    \t\t{\r\n                if (!this.readOnly)\r\n                {\r\n                    CheckPutLimit(1);\r\n                    buffer[index++] = data;\r\n                }\r\n                else\r\n                    throw new ReadOnlyBufferException();\r\n    \t\t}\r\n    \r\n    \t\tpublic void Put (byte[] data, int start, int len)\r\n    \t\t{\r\n                if (!this.readOnly)\r\n                {\r\n                    CheckPutLimit(len);\r\n                    for (int i = 0; i &lt; len; i++)\r\n                    {\r\n                        buffer[index++] = data[i + start];\r\n                    }\r\n                }\r\n                else\r\n                    throw new ReadOnlyBufferException();\r\n    \t\t}\r\n    \r\n    \t\tpublic void PutInt (int i)\r\n    \t\t{\r\n    \t\t\tPut (c.GetBytes (i));\r\n    \t\t}\r\n    \r\n    \t\tpublic void PutShort (short i)\r\n    \t\t{\r\n    \t\t\tPut (c.GetBytes (i));\r\n    \t\t}\r\n    \r\n            public void PutLong(long i)\r\n            {\r\n                Put(c.GetBytes(i));\r\n            }\r\n    \r\n            public void PutChar(char ch)\r\n            {\r\n                this.Put((byte)ch);\r\n            }\r\n    \r\n    \t\tpublic int Remaining ()\r\n    \t\t{\r\n    \t\t\treturn (limit - index);\r\n    \t\t}\r\n    \r\n            public bool HasRemaining()\r\n            {\r\n                return Position() &lt; Limit();\r\n            }\r\n    \r\n            public void Reset ()\r\n    \t\t{\r\n    \t\t\tindex = mark;\r\n    \t\t}\r\n    \r\n            public void Rewind()\r\n            {\r\n                Position(0);\r\n                mark = -1;\r\n            }\r\n    \r\n            public void Compact()\r\n            {\r\n                limit = capacity;\r\n                Position(Remaining());\r\n                mark = -1;\r\n            }\r\n    \r\n            public ByteBuffer Slice ()\r\n    \t\t{\r\n    \t\t\tByteBuffer b = Wrap (buffer, index, buffer.Length - index);\r\n    \t\t\tb.offset = index;\r\n    \t\t\tb.limit = limit;\r\n    \t\t\tb.order = order;\r\n    \t\t\tb.c = c;\r\n    \t\t\tb.capacity = limit - index;\r\n    \t\t\treturn b;\r\n    \t\t}\r\n    \r\n    \t\tpublic static ByteBuffer Wrap (byte[] buf)\r\n    \t\t{\r\n    \t\t\treturn new ByteBuffer (buf, 0, buf.Length);\r\n    \t\t}\r\n    \r\n    \t\tpublic static ByteBuffer Wrap (byte[] buf, int start, int len)\r\n    \t\t{\r\n    \t\t\treturn new ByteBuffer (buf, start, len);\r\n    \t\t}\r\n    \r\n            public static ByteOrder NativeOrder()\r\n            {\r\n                // TODO: default win32 order\r\n                return ByteOrder.BIG_ENDIAN;\r\n            }\r\n    \r\n            public ByteBuffer Duplicate()\r\n            {\r\n                ByteBuffer buf = new ByteBuffer();\r\n                buf.buffer = new byte[this.buffer.Length];\r\n                this.buffer.CopyTo(buf.buffer, 0);\r\n    \r\n                buf.c = this.c;\r\n                buf.capacity = this.capacity;\r\n                buf.index = this.index;\r\n                buf.limit = this.limit;\r\n                buf.mark = this.mark;\r\n                buf.offset = this.offset;\r\n                buf.order = this.order;\r\n                return buf;\r\n            }\r\n    \r\n            public ByteBuffer AsReadOnlyBuffer()\r\n            {\r\n                ByteBuffer buf = new ByteBuffer();\r\n                buf.buffer = new byte[this.buffer.Length];\r\n                this.buffer.CopyTo(buf.buffer, 0);\r\n    \r\n                buf.c = this.c;\r\n                buf.capacity = this.capacity;\r\n                buf.index = this.index;\r\n                buf.limit = this.limit;\r\n                buf.mark = this.mark;\r\n                buf.offset = this.offset;\r\n                buf.order = this.order;\r\n                buf.readOnly = true;\r\n                return buf;\r\n            }\r\n    \r\n            public LongBuffer AsLongBuffer()\r\n            {\r\n                LongBuffer buf = new LongBuffer();\r\n                buf.buffer = new byte[this.buffer.Length];\r\n                this.buffer.CopyTo(buf.buffer, 0);\r\n    \r\n                buf.c = this.c;\r\n                buf.capacity = this.capacity;\r\n                buf.index = this.index;\r\n                buf.limit = this.limit;\r\n                buf.mark = this.mark;\r\n                buf.offset = this.offset;\r\n                buf.order = this.order;\r\n                return buf;\r\n            }\r\n    \r\n            public ShortBuffer AsShortBuffer()\r\n            {\r\n                ShortBuffer buf = new ShortBuffer();\r\n                buf.buffer = new byte[this.buffer.Length];\r\n                this.buffer.CopyTo(buf.buffer, 0);\r\n    \r\n                buf.c = this.c;\r\n                buf.capacity = this.capacity;\r\n                buf.index = this.index;\r\n                buf.limit = this.limit;\r\n                buf.mark = this.mark;\r\n                buf.offset = this.offset;\r\n                buf.order = this.order;\r\n                return buf;\r\n            }\r\n    \r\n            public IntBuffer AsIntBuffer()\r\n            {\r\n                IntBuffer buf = new IntBuffer();\r\n                buf.buffer = new byte[this.buffer.Length];\r\n                this.buffer.CopyTo(buf.buffer, 0);\r\n    \r\n                buf.c = this.c;\r\n                buf.capacity = this.capacity;\r\n                buf.index = this.index;\r\n                buf.limit = this.limit;\r\n                buf.mark = this.mark;\r\n                buf.offset = this.offset;\r\n                buf.order = this.order;\r\n                return buf;\r\n            }\r\n    \r\n            public int GetMark() { return this.mark; }\r\n    \r\n            /// &lt;summary&gt;\r\n            /// Returns a string summarizing the state of this buffer.\r\n            /// &lt;/summary&gt;\r\n            /// &lt;returns&gt; A summary string &lt;/returns&gt;\r\n            public override String ToString()\r\n            {\r\n                return ($@&quot;{GetType().Name}[pos={this.Position()} lim={this.Limit()} cap={this.Capacity()}]&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nByteOrder is just an enum\r\n\r\n    public enum ByteOrder\r\n\t{\r\n\t\tBIG_ENDIAN,\r\n\t\tLITTLE_ENDIAN\r\n\t}\r\nDataConverters class is to big for this question so you can get it [here][2]\r\n\r\nExeptions are nothing fancy, just extending System.Exeption class so I can define my own exeption like this\r\n\r\n        public class BufferOverflowException : System.Exception\r\n    {\r\n        public BufferOverflowException() : base()\r\n        {\r\n        }\r\n\r\n        public BufferOverflowException(string message)\r\n            : base(message)\r\n        {\r\n        }\r\n\r\n        public BufferOverflowException(System.Exception e)\r\n            : this(&quot;&quot;, e)\r\n        {\r\n        }\r\n\r\n        public BufferOverflowException(string message, System.Exception exception)\r\n            : base(message, exception)\r\n        {\r\n        }\r\n    }\r\n\r\nand this is my ShortBuffer implementation\r\n\r\n    using System;\r\n    \r\n    namespace MePrograma.Tools.Buffers\r\n    {\r\n        public class ShortBuffer : ByteBuffer\r\n        {\r\n            public new static ShortBuffer Allocate(int size)\r\n            {\r\n                return new ShortBuffer(new byte[size * 2], 0, size * 2);\r\n            }\r\n            public static ShortBuffer Wrap(short[] data)\r\n            {\r\n                ShortBuffer buf = new ShortBuffer(new byte[data.Length * 2], 0, data.Length * 2);\r\n                buf.Put(data);\r\n                // Set the limit to the actual data length\r\n                buf.Limit(data.Length * 2);\r\n                return buf;\r\n            }\r\n    \r\n            public ShortBuffer() { }\r\n    \r\n            protected ShortBuffer(byte[] buf, int start, int len)\r\n                :base(buf, start, len)\r\n            {\r\n            }\r\n    \r\n            public void Put(short val)\r\n            {\r\n                this.PutShort(val);\r\n            }\r\n    \r\n            public void Put(short[] data)\r\n            {\r\n                for (int i = 0; i &lt; data.Length; i++)\r\n                {\r\n                    this.PutShort(data[i]);\r\n                }\r\n            }\r\n    \r\n            public ShortBuffer Put(int index, short s)\r\n            {\r\n                // Check the bounds\r\n                if (index &lt; 0 || index + 2 &gt; Limit())\r\n                {\r\n                    throw new IndexOutOfRangeException();\r\n                }\r\n    \r\n                // Convert the short to bytes and put them in the buffer\r\n                byte[] shortBytes = BitConverter.GetBytes(s);\r\n                if (base.GetOrder() == ByteOrder.LITTLE_ENDIAN)\r\n                {\r\n                    // If the order is little endian, reverse the byte order\r\n                    System.Array.Reverse(shortBytes);\r\n                }\r\n    \r\n                // Put the bytes in the buffer at the specified index\r\n                System.Array.Copy(shortBytes, 0, Array(), ArrayOffset() + index, 2);\r\n    \r\n                return this;\r\n            }\r\n    \r\n            public new int Position()\r\n            {\r\n                return base.Position() / 2;\r\n            }\r\n    \r\n            public new short[] Array()\r\n            {\r\n                int remaining = Remaining() / 2;\r\n                short[] shortArray = new short[remaining];\r\n    \r\n                for (int i = 0; i &lt; remaining; i++)\r\n                {\r\n                    shortArray[i] = GetShort();\r\n                }\r\n    \r\n                return shortArray;\r\n            }\r\n    \r\n    \r\n            /// &lt;summary&gt;\r\n            /// Returns a string summarizing the state of this buffer.\r\n            /// &lt;/summary&gt;\r\n            /// &lt;returns&gt; A summary string &lt;/returns&gt;\r\n            public override String ToString()\r\n            {\r\n                return ($@&quot;{GetType().Name}[pos={this.Position()} lim={this.Limit()} cap={this.Capacity()}]&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nNow ByteBuffer class works fine (at least my tests showed that)\r\nbut ShortBuffer behaves odly\r\n\r\nHere is my test for it (C#)\r\n\r\n    // Declare and initialize the byte array \r\n    short[] bbb = { 10, 20, 30 };\r\n    \r\n    // print the byte array length \r\n    Console.WriteLine(&quot;Array length : &quot;\r\n                       + bbb.Length);\r\n    \r\n    // print the byte array element \r\n    Console.WriteLine(&quot;\\nArray element : &quot;\r\n                      + &quot;[&quot; + string.Join(&quot;, &quot;, bbb) + &quot;]&quot;);\r\n    \r\n    // wrap the short array into shortBuffer \r\n    // using wrap() method \r\n    ShortBuffer shortBuffer = ShortBuffer.Wrap(bbb);\r\n    \r\n    // Rewind the ByteBuffer \r\n    shortBuffer.Rewind();\r\n    \r\n    // print the byte buffer \r\n    Console.WriteLine(&quot;\\nshortBuffer : &quot;\r\n                       + &quot;[&quot; + string.Join(&quot;, &quot;, shortBuffer.Array()) + &quot;]&quot;);\r\n    \r\n    //Add 15 between 10 and 30\r\n    //shortBuffer.Put(1, (short)15);\r\n    \r\n    // print the byte buffer \r\n    //Console.WriteLine(&quot;\\nshortBuffer with replaced number : &quot;\r\n    //                   + &quot;[&quot; + string.Join(&quot;, &quot;, shortBuffer.Array()) + &quot;]&quot;);\r\n    \r\n    // print the ByteBuffer capacity \r\n    Console.WriteLine(&quot;\\nshortBuffer capacity : &quot;\r\n                       + shortBuffer.Capacity());\r\n    \r\n    // print the ByteBuffer position \r\n    Console.WriteLine(&quot;\\nshortBuffer position:  &quot;\r\n                       + shortBuffer.Position());\r\n    \r\n    //Is space left\r\n    Console.WriteLine(&quot;\\nhasRemaining:  &quot;\r\n                       + shortBuffer.HasRemaining());\r\n    \r\n    // print the remaining position \r\n    Console.WriteLine(&quot;\\nRemaining:  &quot;\r\n                       + shortBuffer.Remaining());\r\n    \r\n    //Set position to 3\r\n    shortBuffer.Position(3);\r\n    Console.WriteLine(&quot;New position set to 3&quot;);\r\n    \r\n    //Is space left\r\n    Console.WriteLine(&quot;\\nhasRemaining:  &quot;\r\n                       + shortBuffer.HasRemaining());\r\n    \r\n    // print the remaining position \r\n    Console.WriteLine(&quot;\\nRemaining:  &quot;\r\n                       + shortBuffer.Remaining());\r\nand here is my test in Java (its almost the same as C# one)\r\n\r\n    // Declare and initialize the byte array \r\n    short[] bbb = { 10, 20, 30 }; \r\n    \r\n    // print the byte array length \r\n    System.out.println(&quot;Array length : &quot;\r\n                       + bbb.length); \r\n    \r\n    // print the byte array element \r\n    System.out.println(&quot;\\nArray element : &quot;\r\n                       + Arrays.toString(bbb)); \r\n    \r\n    // wrap the short array into shortBuffer \r\n    // using wrap() method \r\n    ShortBuffer byteBuffer = ShortBuffer.wrap(bbb); \r\n    \r\n    // Rewind the ByteBuffer \r\n    byteBuffer.rewind(); \r\n    \r\n    // print the byte buffer \r\n    System.out.println(&quot;\\nshortBuffer : &quot;\r\n                       + Arrays.toString(byteBuffer.array())); \r\n    \r\n    //Add 15 between 10 and 30\r\n    byteBuffer.put(1, (short)15);\r\n    \r\n    // print the byte buffer \r\n    System.out.println(&quot;\\nshortBuffer with replaced number : &quot;\r\n                       + Arrays.toString(byteBuffer.array())); \r\n    \r\n    // print the ByteBuffer capacity \r\n    System.out.println(&quot;\\nshortBuffer capacity : &quot;\r\n                       + byteBuffer.capacity()); \r\n    \r\n    // print the ByteBuffer position \r\n    System.out.println(&quot;\\nshortBuffer position:  &quot;\r\n                       + byteBuffer.position()); \r\n    \r\n    //Is space left\r\n    System.out.println(&quot;\\nhasRemaining:  &quot;\r\n                       + byteBuffer.hasRemaining()); \r\n    \r\n    // print the remaining position \r\n    System.out.println(&quot;\\nRemaining:  &quot;\r\n                       + byteBuffer.remaining()); \r\n    \r\n    //Set position to 3\r\n    byteBuffer.position(3);\r\n    System.out.println(&quot;New position set to 3&quot;);\r\n    \r\n    //Is space left\r\n    System.out.println(&quot;\\nhasRemaining:  &quot;\r\n                       + byteBuffer.hasRemaining()); \r\n    \r\n    // print the remaining position \r\n    System.out.println(&quot;\\nRemaining:  &quot;\r\n                       + byteBuffer.remaining()); \r\n\r\nIf I run this test from java, I get this \r\n\r\n    Array length : 3\r\n    \r\n    Array element : [10, 20, 30]\r\n    \r\n    shortBuffer : [10, 20, 30]\r\n    \r\n    shortBuffer with replaced number : [10, 15, 30]\r\n    \r\n    shortBuffer capacity : 3\r\n    \r\n    shortBuffer position:  0\r\n    \r\n    hasRemaining:  true\r\n    \r\n    Remaining:  3\r\n    New position set to 3\r\n    \r\n    hasRemaining:  false\r\n    \r\n    Remaining:  0\r\n\r\n\r\nBut if I run this from C# (my buffer reimplementation) I get this (I had to comment out the **shortBuffer.Put(1, (short)15);**, because due to the wierd buffer that gets created, I only get Destination array was not long enough exeption)\r\n\r\n    Array length : 3\r\n    \r\n    Array element : [10, 20, 30]\r\n    \r\n    shortBuffer : [10, 20, 30]\r\n    \r\n    shortBuffer capacity : 6\r\n    \r\n    shortBuffer position:  3\r\n    \r\n    hasRemaining:  False\r\n    \r\n    Remaining:  0\r\n    New position set to 3\r\n    \r\n    hasRemaining:  True\r\n    \r\n    Remaining:  3\r\n\r\nI did test **shortBuffer.Put(1, (short)15);** separatly like this\r\n\r\n    ShortBuffer bbb = ShortBuffer.Allocate(3);\r\n\r\n    //Fill buffer with numbers\r\n    bbb.Put((short)10);\r\n    bbb.Put((short)20);\r\n    bbb.Put((short)30);\r\n\r\n    //Add 15 between 10 and 30\r\n    bbb.Put(1, (short)15);\r\n    \r\n    Console.WriteLine(&quot;\\nArray element : &quot;\r\n                     + &quot;[&quot; + string.Join(&quot;, &quot;, bbb.Array()) + &quot;]&quot;);\r\n\r\nBut something is realy wrong with my Put method, because nothing is ever put inside the buffer\r\n\r\nI am realy confused, why does the ByteBuffer work fine, while the ShortBuffer does not?\r\n\r\nHope someone has a sharper eyes then I do and could maybe found out what the problem is\r\n\r\nThanks for Anwsering and Best Regards\r\n\r\n\r\n  [1]: https://github.com/cytecbg/android-fskmodem/blob/992372da73d4595dd335c9da4eac3277cd2023e9/library/android.fskmodem/src/bg/cytec/android/fskmodem/FSKDecoder.java#L262\r\n  [2]: https://hastebin.com/share/anekuvugot.kotlin","title":"C# ShortBuffer implementation does not work right","body":"<p>I am porting some code from <a href=\"https://github.com/cytecbg/android-fskmodem/blob/992372da73d4595dd335c9da4eac3277cd2023e9/library/android.fskmodem/src/bg/cytec/android/fskmodem/FSKDecoder.java#L262\" rel=\"nofollow noreferrer\">java</a> to C# (and no, I don't use Android, code just came from android library), which makes heavy use of Java.nio Buffers (ByteBuffer as well as ShortBuffer) (especialy functions like Remaining, Wrap, Put, Get, Rewind)\nand since C# does not have theese 2 buffers, I decided to write my own</p>\n<p>This is ByteBuffer implementation</p>\n<pre><code>using System;\nusing MePrograma.Exceptions;\n\nnamespace MePrograma.Tools.Buffers\n{\n    public class ByteBuffer\n    {\n        private byte[] buffer;\n        private DataConverter c;\n        private int capacity;\n        private int index;\n        private int limit;\n        private int mark;\n        private int offset;\n        private bool readOnly = false;\n        private ByteOrder order;\n\n        public ByteBuffer ()\n        {\n            this.c = DataConverter.BigEndian;\n        }\n\n        protected ByteBuffer (byte[] buf, int start, int len)\n        {\n            this.buffer = buf;\n            this.offset = 0;\n            this.limit = start + len;\n            this.index = start;\n            //this.mark = start;\n            this.mark = -1;\n            this.capacity = buf.Length;\n            this.c = DataConverter.BigEndian;\n        }\n\n        public static ByteBuffer Allocate (int size)\n        {\n            return new ByteBuffer (new byte[size], 0, size);\n        }\n\n        public static ByteBuffer AllocateDirect (int size)\n        {\n            return Allocate (size);\n        }\n\n        public byte[] Array ()\n        {\n            return buffer;\n        }\n\n        public int ArrayOffset ()\n        {\n            return offset;\n        }\n\n        public int Capacity ()\n        {\n            return capacity;\n        }\n\n        private void CheckGetLimit (int inc)\n        {\n            if ((index + inc) &gt; limit) {\n                throw new BufferUnderflowException ();\n            }\n        }\n\n        private void CheckPutLimit (int inc)\n        {\n            if ((index + inc) &gt; limit) {\n                throw new BufferOverflowException ();\n            }\n        }\n\n        public void Clear ()\n        {\n            index = offset;\n            limit = offset + capacity;\n            this.mark = -1;\n        }\n\n        public void Flip ()\n        {\n            if (!this.readOnly)\n            {\n                limit = index;\n                index = offset;\n                mark = -1;\n            }\n            else\n                throw new ReadOnlyBufferException();\n        }\n\n        public byte Get ()\n        {\n            CheckGetLimit (1);\n            return buffer[index++];\n        }\n\n        public byte Get(int i)\n        {\n            return buffer[i];\n        }\n\n        public void Get (byte[] data)\n        {\n            Get (data, 0, data.Length);\n        }\n\n        public void Get (byte[] data, int start, int len)\n        {\n            CheckGetLimit (len);\n            for (int i = 0; i &lt; len; i++) {\n                data[i + start] = buffer[index++];\n            }\n        }\n\n        public int GetInt ()\n        {\n            CheckGetLimit (4);\n            int num = c.GetInt32 (buffer, index);\n            index += 4;\n            return num;\n        }\n\n        public short GetShort ()\n        {\n            CheckGetLimit (2);\n            short num = c.GetInt16 (buffer, index);\n            index += 2;\n            return num;\n        }\n\n        public bool HasArray ()\n        {\n            return true;\n        }\n\n        public int Limit ()\n        {\n            return (limit - offset);\n        }\n\n        public void Limit (int newLimit)\n        {\n            limit = newLimit;\n        }\n\n        public void Mark ()\n        {\n            mark = index;\n        }\n\n        public void Order (ByteOrder order)\n        {\n            this.order = order;\n            if (order == ByteOrder.BIG_ENDIAN) {\n                c = DataConverter.BigEndian;\n            } else {\n                c = DataConverter.LittleEndian;\n            }\n        }\n\n        protected ByteOrder GetOrder()\n        {\n            return this.order;\n        }\n\n        public int Position ()\n        {\n            return (index - offset);\n        }\n\n        public void Position (int pos)\n        {\n            if ((pos &lt; offset) || (pos &gt; limit)) {\n                throw new BufferUnderflowException ();\n            }\n            index = pos + offset;\n        }\n\n        public void Put (byte[] data)\n        {\n            Put (data, 0, data.Length);\n        }\n\n        public void Put(ByteBuffer buf)\n        {\n            Put(buf.buffer, buf.ArrayOffset(), buf.Capacity());\n        }\n\n        public void Put (byte data)\n        {\n            if (!this.readOnly)\n            {\n                CheckPutLimit(1);\n                buffer[index++] = data;\n            }\n            else\n                throw new ReadOnlyBufferException();\n        }\n\n        public void Put (byte[] data, int start, int len)\n        {\n            if (!this.readOnly)\n            {\n                CheckPutLimit(len);\n                for (int i = 0; i &lt; len; i++)\n                {\n                    buffer[index++] = data[i + start];\n                }\n            }\n            else\n                throw new ReadOnlyBufferException();\n        }\n\n        public void PutInt (int i)\n        {\n            Put (c.GetBytes (i));\n        }\n\n        public void PutShort (short i)\n        {\n            Put (c.GetBytes (i));\n        }\n\n        public void PutLong(long i)\n        {\n            Put(c.GetBytes(i));\n        }\n\n        public void PutChar(char ch)\n        {\n            this.Put((byte)ch);\n        }\n\n        public int Remaining ()\n        {\n            return (limit - index);\n        }\n\n        public bool HasRemaining()\n        {\n            return Position() &lt; Limit();\n        }\n\n        public void Reset ()\n        {\n            index = mark;\n        }\n\n        public void Rewind()\n        {\n            Position(0);\n            mark = -1;\n        }\n\n        public void Compact()\n        {\n            limit = capacity;\n            Position(Remaining());\n            mark = -1;\n        }\n\n        public ByteBuffer Slice ()\n        {\n            ByteBuffer b = Wrap (buffer, index, buffer.Length - index);\n            b.offset = index;\n            b.limit = limit;\n            b.order = order;\n            b.c = c;\n            b.capacity = limit - index;\n            return b;\n        }\n\n        public static ByteBuffer Wrap (byte[] buf)\n        {\n            return new ByteBuffer (buf, 0, buf.Length);\n        }\n\n        public static ByteBuffer Wrap (byte[] buf, int start, int len)\n        {\n            return new ByteBuffer (buf, start, len);\n        }\n\n        public static ByteOrder NativeOrder()\n        {\n            // TODO: default win32 order\n            return ByteOrder.BIG_ENDIAN;\n        }\n\n        public ByteBuffer Duplicate()\n        {\n            ByteBuffer buf = new ByteBuffer();\n            buf.buffer = new byte[this.buffer.Length];\n            this.buffer.CopyTo(buf.buffer, 0);\n\n            buf.c = this.c;\n            buf.capacity = this.capacity;\n            buf.index = this.index;\n            buf.limit = this.limit;\n            buf.mark = this.mark;\n            buf.offset = this.offset;\n            buf.order = this.order;\n            return buf;\n        }\n\n        public ByteBuffer AsReadOnlyBuffer()\n        {\n            ByteBuffer buf = new ByteBuffer();\n            buf.buffer = new byte[this.buffer.Length];\n            this.buffer.CopyTo(buf.buffer, 0);\n\n            buf.c = this.c;\n            buf.capacity = this.capacity;\n            buf.index = this.index;\n            buf.limit = this.limit;\n            buf.mark = this.mark;\n            buf.offset = this.offset;\n            buf.order = this.order;\n            buf.readOnly = true;\n            return buf;\n        }\n\n        public LongBuffer AsLongBuffer()\n        {\n            LongBuffer buf = new LongBuffer();\n            buf.buffer = new byte[this.buffer.Length];\n            this.buffer.CopyTo(buf.buffer, 0);\n\n            buf.c = this.c;\n            buf.capacity = this.capacity;\n            buf.index = this.index;\n            buf.limit = this.limit;\n            buf.mark = this.mark;\n            buf.offset = this.offset;\n            buf.order = this.order;\n            return buf;\n        }\n\n        public ShortBuffer AsShortBuffer()\n        {\n            ShortBuffer buf = new ShortBuffer();\n            buf.buffer = new byte[this.buffer.Length];\n            this.buffer.CopyTo(buf.buffer, 0);\n\n            buf.c = this.c;\n            buf.capacity = this.capacity;\n            buf.index = this.index;\n            buf.limit = this.limit;\n            buf.mark = this.mark;\n            buf.offset = this.offset;\n            buf.order = this.order;\n            return buf;\n        }\n\n        public IntBuffer AsIntBuffer()\n        {\n            IntBuffer buf = new IntBuffer();\n            buf.buffer = new byte[this.buffer.Length];\n            this.buffer.CopyTo(buf.buffer, 0);\n\n            buf.c = this.c;\n            buf.capacity = this.capacity;\n            buf.index = this.index;\n            buf.limit = this.limit;\n            buf.mark = this.mark;\n            buf.offset = this.offset;\n            buf.order = this.order;\n            return buf;\n        }\n\n        public int GetMark() { return this.mark; }\n\n        /// &lt;summary&gt;\n        /// Returns a string summarizing the state of this buffer.\n        /// &lt;/summary&gt;\n        /// &lt;returns&gt; A summary string &lt;/returns&gt;\n        public override String ToString()\n        {\n            return ($@&quot;{GetType().Name}[pos={this.Position()} lim={this.Limit()} cap={this.Capacity()}]&quot;);\n        }\n    }\n}\n</code></pre>\n<p>ByteOrder is just an enum</p>\n<pre><code>public enum ByteOrder\n{\n    BIG_ENDIAN,\n    LITTLE_ENDIAN\n}\n</code></pre>\n<p>DataConverters class is to big for this question so you can get it <a href=\"https://hastebin.com/share/anekuvugot.kotlin\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Exeptions are nothing fancy, just extending System.Exeption class so I can define my own exeption like this</p>\n<pre><code>    public class BufferOverflowException : System.Exception\n{\n    public BufferOverflowException() : base()\n    {\n    }\n\n    public BufferOverflowException(string message)\n        : base(message)\n    {\n    }\n\n    public BufferOverflowException(System.Exception e)\n        : this(&quot;&quot;, e)\n    {\n    }\n\n    public BufferOverflowException(string message, System.Exception exception)\n        : base(message, exception)\n    {\n    }\n}\n</code></pre>\n<p>and this is my ShortBuffer implementation</p>\n<pre><code>using System;\n\nnamespace MePrograma.Tools.Buffers\n{\n    public class ShortBuffer : ByteBuffer\n    {\n        public new static ShortBuffer Allocate(int size)\n        {\n            return new ShortBuffer(new byte[size * 2], 0, size * 2);\n        }\n        public static ShortBuffer Wrap(short[] data)\n        {\n            ShortBuffer buf = new ShortBuffer(new byte[data.Length * 2], 0, data.Length * 2);\n            buf.Put(data);\n            // Set the limit to the actual data length\n            buf.Limit(data.Length * 2);\n            return buf;\n        }\n\n        public ShortBuffer() { }\n\n        protected ShortBuffer(byte[] buf, int start, int len)\n            :base(buf, start, len)\n        {\n        }\n\n        public void Put(short val)\n        {\n            this.PutShort(val);\n        }\n\n        public void Put(short[] data)\n        {\n            for (int i = 0; i &lt; data.Length; i++)\n            {\n                this.PutShort(data[i]);\n            }\n        }\n\n        public ShortBuffer Put(int index, short s)\n        {\n            // Check the bounds\n            if (index &lt; 0 || index + 2 &gt; Limit())\n            {\n                throw new IndexOutOfRangeException();\n            }\n\n            // Convert the short to bytes and put them in the buffer\n            byte[] shortBytes = BitConverter.GetBytes(s);\n            if (base.GetOrder() == ByteOrder.LITTLE_ENDIAN)\n            {\n                // If the order is little endian, reverse the byte order\n                System.Array.Reverse(shortBytes);\n            }\n\n            // Put the bytes in the buffer at the specified index\n            System.Array.Copy(shortBytes, 0, Array(), ArrayOffset() + index, 2);\n\n            return this;\n        }\n\n        public new int Position()\n        {\n            return base.Position() / 2;\n        }\n\n        public new short[] Array()\n        {\n            int remaining = Remaining() / 2;\n            short[] shortArray = new short[remaining];\n\n            for (int i = 0; i &lt; remaining; i++)\n            {\n                shortArray[i] = GetShort();\n            }\n\n            return shortArray;\n        }\n\n\n        /// &lt;summary&gt;\n        /// Returns a string summarizing the state of this buffer.\n        /// &lt;/summary&gt;\n        /// &lt;returns&gt; A summary string &lt;/returns&gt;\n        public override String ToString()\n        {\n            return ($@&quot;{GetType().Name}[pos={this.Position()} lim={this.Limit()} cap={this.Capacity()}]&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Now ByteBuffer class works fine (at least my tests showed that)\nbut ShortBuffer behaves odly</p>\n<p>Here is my test for it (C#)</p>\n<pre><code>// Declare and initialize the byte array \nshort[] bbb = { 10, 20, 30 };\n\n// print the byte array length \nConsole.WriteLine(&quot;Array length : &quot;\n                   + bbb.Length);\n\n// print the byte array element \nConsole.WriteLine(&quot;\\nArray element : &quot;\n                  + &quot;[&quot; + string.Join(&quot;, &quot;, bbb) + &quot;]&quot;);\n\n// wrap the short array into shortBuffer \n// using wrap() method \nShortBuffer shortBuffer = ShortBuffer.Wrap(bbb);\n\n// Rewind the ByteBuffer \nshortBuffer.Rewind();\n\n// print the byte buffer \nConsole.WriteLine(&quot;\\nshortBuffer : &quot;\n                   + &quot;[&quot; + string.Join(&quot;, &quot;, shortBuffer.Array()) + &quot;]&quot;);\n\n//Add 15 between 10 and 30\n//shortBuffer.Put(1, (short)15);\n\n// print the byte buffer \n//Console.WriteLine(&quot;\\nshortBuffer with replaced number : &quot;\n//                   + &quot;[&quot; + string.Join(&quot;, &quot;, shortBuffer.Array()) + &quot;]&quot;);\n\n// print the ByteBuffer capacity \nConsole.WriteLine(&quot;\\nshortBuffer capacity : &quot;\n                   + shortBuffer.Capacity());\n\n// print the ByteBuffer position \nConsole.WriteLine(&quot;\\nshortBuffer position:  &quot;\n                   + shortBuffer.Position());\n\n//Is space left\nConsole.WriteLine(&quot;\\nhasRemaining:  &quot;\n                   + shortBuffer.HasRemaining());\n\n// print the remaining position \nConsole.WriteLine(&quot;\\nRemaining:  &quot;\n                   + shortBuffer.Remaining());\n\n//Set position to 3\nshortBuffer.Position(3);\nConsole.WriteLine(&quot;New position set to 3&quot;);\n\n//Is space left\nConsole.WriteLine(&quot;\\nhasRemaining:  &quot;\n                   + shortBuffer.HasRemaining());\n\n// print the remaining position \nConsole.WriteLine(&quot;\\nRemaining:  &quot;\n                   + shortBuffer.Remaining());\n</code></pre>\n<p>and here is my test in Java (its almost the same as C# one)</p>\n<pre><code>// Declare and initialize the byte array \nshort[] bbb = { 10, 20, 30 }; \n\n// print the byte array length \nSystem.out.println(&quot;Array length : &quot;\n                   + bbb.length); \n\n// print the byte array element \nSystem.out.println(&quot;\\nArray element : &quot;\n                   + Arrays.toString(bbb)); \n\n// wrap the short array into shortBuffer \n// using wrap() method \nShortBuffer byteBuffer = ShortBuffer.wrap(bbb); \n\n// Rewind the ByteBuffer \nbyteBuffer.rewind(); \n\n// print the byte buffer \nSystem.out.println(&quot;\\nshortBuffer : &quot;\n                   + Arrays.toString(byteBuffer.array())); \n\n//Add 15 between 10 and 30\nbyteBuffer.put(1, (short)15);\n\n// print the byte buffer \nSystem.out.println(&quot;\\nshortBuffer with replaced number : &quot;\n                   + Arrays.toString(byteBuffer.array())); \n\n// print the ByteBuffer capacity \nSystem.out.println(&quot;\\nshortBuffer capacity : &quot;\n                   + byteBuffer.capacity()); \n\n// print the ByteBuffer position \nSystem.out.println(&quot;\\nshortBuffer position:  &quot;\n                   + byteBuffer.position()); \n\n//Is space left\nSystem.out.println(&quot;\\nhasRemaining:  &quot;\n                   + byteBuffer.hasRemaining()); \n\n// print the remaining position \nSystem.out.println(&quot;\\nRemaining:  &quot;\n                   + byteBuffer.remaining()); \n\n//Set position to 3\nbyteBuffer.position(3);\nSystem.out.println(&quot;New position set to 3&quot;);\n\n//Is space left\nSystem.out.println(&quot;\\nhasRemaining:  &quot;\n                   + byteBuffer.hasRemaining()); \n\n// print the remaining position \nSystem.out.println(&quot;\\nRemaining:  &quot;\n                   + byteBuffer.remaining()); \n</code></pre>\n<p>If I run this test from java, I get this</p>\n<pre><code>Array length : 3\n\nArray element : [10, 20, 30]\n\nshortBuffer : [10, 20, 30]\n\nshortBuffer with replaced number : [10, 15, 30]\n\nshortBuffer capacity : 3\n\nshortBuffer position:  0\n\nhasRemaining:  true\n\nRemaining:  3\nNew position set to 3\n\nhasRemaining:  false\n\nRemaining:  0\n</code></pre>\n<p>But if I run this from C# (my buffer reimplementation) I get this (I had to comment out the <strong>shortBuffer.Put(1, (short)15);</strong>, because due to the wierd buffer that gets created, I only get Destination array was not long enough exeption)</p>\n<pre><code>Array length : 3\n\nArray element : [10, 20, 30]\n\nshortBuffer : [10, 20, 30]\n\nshortBuffer capacity : 6\n\nshortBuffer position:  3\n\nhasRemaining:  False\n\nRemaining:  0\nNew position set to 3\n\nhasRemaining:  True\n\nRemaining:  3\n</code></pre>\n<p>I did test <strong>shortBuffer.Put(1, (short)15);</strong> separatly like this</p>\n<pre><code>ShortBuffer bbb = ShortBuffer.Allocate(3);\n\n//Fill buffer with numbers\nbbb.Put((short)10);\nbbb.Put((short)20);\nbbb.Put((short)30);\n\n//Add 15 between 10 and 30\nbbb.Put(1, (short)15);\n\nConsole.WriteLine(&quot;\\nArray element : &quot;\n                 + &quot;[&quot; + string.Join(&quot;, &quot;, bbb.Array()) + &quot;]&quot;);\n</code></pre>\n<p>But something is realy wrong with my Put method, because nothing is ever put inside the buffer</p>\n<p>I am realy confused, why does the ByteBuffer work fine, while the ShortBuffer does not?</p>\n<p>Hope someone has a sharper eyes then I do and could maybe found out what the problem is</p>\n<p>Thanks for Anwsering and Best Regards</p>\n"},{"tags":["java","logging","jboss","wildfly"],"answers":[{"tags":[],"owner":{"account_id":66846,"reputation":285,"user_id":195904,"display_name":"Awi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552669379,"creation_date":1552669379,"answer_id":55187504,"question_id":42784176,"body_markdown":"In our experience, this was caused due to a wrong `standalone.xml` configuration. \r\nJboss is *very* complicated. They keep specific history files for standalone.xml configurations. I don&#39;t know the reasons, thats a question for their developers. \r\nFor some reason sometimes `standalone.xml` has 0 bytes. \r\n\r\nLook for the file in\r\n\r\n    JBOSS_AS_HOME/standalone/configuration/\r\n\r\nIn our case it was like this\r\n\r\n    drwxr-xr-x. 11 user user  4096 Mar 14 12:44 standalone_xml_history\r\n    -rw-rw-r--.  1 user user     0 Mar 14 12:44 standalone.xml\r\n\r\n\r\nWe replaced with latest &quot;automatic backup/history&quot; from  `standalone_xml_history` directory; and everything went back to normal. \r\n\r\n\r\n","title":"Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration","body":"<p>In our experience, this was caused due to a wrong <code>standalone.xml</code> configuration. \nJboss is <em>very</em> complicated. They keep specific history files for standalone.xml configurations. I don't know the reasons, thats a question for their developers. \nFor some reason sometimes <code>standalone.xml</code> has 0 bytes. </p>\n\n<p>Look for the file in</p>\n\n<pre><code>JBOSS_AS_HOME/standalone/configuration/\n</code></pre>\n\n<p>In our case it was like this</p>\n\n<pre><code>drwxr-xr-x. 11 user user  4096 Mar 14 12:44 standalone_xml_history\n-rw-rw-r--.  1 user user     0 Mar 14 12:44 standalone.xml\n</code></pre>\n\n<p>We replaced with latest \"automatic backup/history\" from  <code>standalone_xml_history</code> directory; and everything went back to normal. </p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16891,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1700863655,"creation_date":1489489235,"question_id":42784176,"body_markdown":"I added this config to my subsystem im JBoss and i got an error by build.\r\n\r\nThe config part: \r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:logging:3.0&quot;&gt;\r\n                &lt;console-handler name=&quot;CONSOLE&quot;&gt;\r\n                    &lt;level name=&quot;INFO&quot;/&gt;\r\n                    &lt;formatter&gt;\r\n                        &lt;named-formatter name=&quot;COLOR-PATTERN&quot;/&gt;\r\n                    &lt;/formatter&gt;\r\n                &lt;/console-handler&gt;\r\n                &lt;periodic-rotating-file-handler name=&quot;FILE&quot; autoflush=&quot;true&quot;&gt;\r\n                    &lt;formatter&gt;\r\n                        &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\r\n                    &lt;/formatter&gt;\r\n                    &lt;file relative-to=&quot;jboss.server.log.dir&quot; path=&quot;server.log&quot;/&gt;\r\n                    &lt;suffix value=&quot;.yyyy-MM-dd&quot;/&gt;\r\n                    &lt;append value=&quot;true&quot;/&gt;\r\n                &lt;/periodic-rotating-file-handler&gt;\r\n    &lt;!-- MY CONFIGURATION PART --&gt;\r\n        &lt;file-handler name=&quot;ABC-FILE&quot; autoflush=&quot;true&quot;&gt;\r\n        \t\t\t\t&lt;level name=&quot;INFO&quot;/&gt;\r\n        \t\t\t\t&lt;formatter&gt;\r\n                            &lt;pattern-formatter pattern=&quot;%-5p %d %C (%F:%M:%L) - %m%n&quot;/&gt;\r\n                        &lt;/formatter&gt;\r\n        \t\t\t\t &lt;file relative-to=&quot;jboss.server.log.dir&quot; path=&quot;ABC-Activity.log&quot;/&gt;\r\n                        &lt;suffix value=&quot;.yyyy-MM-dd&quot;/&gt;\r\n                        &lt;append value=&quot;true&quot;/&gt;\r\n        \t\t\t&lt;/file-handler&gt;\r\n        \t\t\t&lt;logger category=&quot;com.my.project.ActivityLogger&quot;&gt;\r\n                        &lt;level name=&quot;INFO&quot;/&gt;\r\n        \t\t\t\t &lt;handlers&gt;\r\n                            &lt;handler name=&quot;ABC-FILE&quot;/&gt;\r\n                        &lt;/handlers&gt;\r\n                    &lt;/logger&gt;\r\n\r\nhere the error by build the web-app: \r\n\r\n    ERROR [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration\r\n    \tat org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:131)\r\n    \tat org.jboss.as.server.ServerService.boot(ServerService.java:357)\r\n    \tat org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:299)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[113,17]\r\n    Message: WFLYCTL0198: Unexpected element &#39;{urn:jboss:domain:logging:3.0}suffix&#39; encountered\r\n    \tat org.jboss.as.controller.parsing.ParseUtils.unexpectedElement(ParseUtils.java:89)\r\n    \tat org.jboss.as.logging.LoggingSubsystemParser_3_0.parseFileHandlerElement(LoggingSubsystemParser_3_0.java:521)\r\n    \tat org.jboss.as.logging.LoggingSubsystemParser_3_0.readElement(LoggingSubsystemParser_3_0.java:152)\r\n    \tat org.jboss.as.logging.LoggingSubsystemParser_3_0.readElement(LoggingSubsystemParser_3_0.java:97)\r\n    \tat org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)\r\n    \tat org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69)\r\n    \tat org.jboss.as.server.parsing.StandaloneXml_4.parseServerProfile(StandaloneXml_4.java:546)\r\n    \tat org.jboss.as.server.parsing.StandaloneXml_4.readServerElement(StandaloneXml_4.java:242)\r\n    \tat org.jboss.as.server.parsing.StandaloneXml_4.readElement(StandaloneXml_4.java:141)\r\n    \tat org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:103)\r\n    \tat org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:49)\r\n    \tat org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)\r\n    \tat org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69)\r\n    \tat org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:123)\r\n    \t... 3 more\r\n    \r\n    11:52:57,717 FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.\r\n\r\ni used this docu https://docs.jboss.org/author/display/AS71/Logging+Configuration#LoggingConfiguration-rootlogger\r\n\r\nwhat i wrong???","title":"Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration","body":"<p>I added this config to my subsystem im JBoss and i got an error by build.</p>\n\n<p>The config part: </p>\n\n<pre><code>&lt;subsystem xmlns=\"urn:jboss:domain:logging:3.0\"&gt;\n            &lt;console-handler name=\"CONSOLE\"&gt;\n                &lt;level name=\"INFO\"/&gt;\n                &lt;formatter&gt;\n                    &lt;named-formatter name=\"COLOR-PATTERN\"/&gt;\n                &lt;/formatter&gt;\n            &lt;/console-handler&gt;\n            &lt;periodic-rotating-file-handler name=\"FILE\" autoflush=\"true\"&gt;\n                &lt;formatter&gt;\n                    &lt;named-formatter name=\"PATTERN\"/&gt;\n                &lt;/formatter&gt;\n                &lt;file relative-to=\"jboss.server.log.dir\" path=\"server.log\"/&gt;\n                &lt;suffix value=\".yyyy-MM-dd\"/&gt;\n                &lt;append value=\"true\"/&gt;\n            &lt;/periodic-rotating-file-handler&gt;\n&lt;!-- MY CONFIGURATION PART --&gt;\n    &lt;file-handler name=\"ABC-FILE\" autoflush=\"true\"&gt;\n                    &lt;level name=\"INFO\"/&gt;\n                    &lt;formatter&gt;\n                        &lt;pattern-formatter pattern=\"%-5p %d %C (%F:%M:%L) - %m%n\"/&gt;\n                    &lt;/formatter&gt;\n                     &lt;file relative-to=\"jboss.server.log.dir\" path=\"ABC-Activity.log\"/&gt;\n                    &lt;suffix value=\".yyyy-MM-dd\"/&gt;\n                    &lt;append value=\"true\"/&gt;\n                &lt;/file-handler&gt;\n                &lt;logger category=\"com.my.project.ActivityLogger\"&gt;\n                    &lt;level name=\"INFO\"/&gt;\n                     &lt;handlers&gt;\n                        &lt;handler name=\"ABC-FILE\"/&gt;\n                    &lt;/handlers&gt;\n                &lt;/logger&gt;\n</code></pre>\n\n<p>here the error by build the web-app: </p>\n\n<pre><code>ERROR [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration\n    at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:131)\n    at org.jboss.as.server.ServerService.boot(ServerService.java:357)\n    at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:299)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[113,17]\nMessage: WFLYCTL0198: Unexpected element '{urn:jboss:domain:logging:3.0}suffix' encountered\n    at org.jboss.as.controller.parsing.ParseUtils.unexpectedElement(ParseUtils.java:89)\n    at org.jboss.as.logging.LoggingSubsystemParser_3_0.parseFileHandlerElement(LoggingSubsystemParser_3_0.java:521)\n    at org.jboss.as.logging.LoggingSubsystemParser_3_0.readElement(LoggingSubsystemParser_3_0.java:152)\n    at org.jboss.as.logging.LoggingSubsystemParser_3_0.readElement(LoggingSubsystemParser_3_0.java:97)\n    at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)\n    at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69)\n    at org.jboss.as.server.parsing.StandaloneXml_4.parseServerProfile(StandaloneXml_4.java:546)\n    at org.jboss.as.server.parsing.StandaloneXml_4.readServerElement(StandaloneXml_4.java:242)\n    at org.jboss.as.server.parsing.StandaloneXml_4.readElement(StandaloneXml_4.java:141)\n    at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:103)\n    at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:49)\n    at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)\n    at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69)\n    at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:123)\n    ... 3 more\n\n11:52:57,717 FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.\n</code></pre>\n\n<p>i used this docu <a href=\"https://docs.jboss.org/author/display/AS71/Logging+Configuration#LoggingConfiguration-rootlogger\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/AS71/Logging+Configuration#LoggingConfiguration-rootlogger</a></p>\n\n<p>what i wrong???</p>\n"},{"tags":["java","recursion","binary","linked-list","return"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1351192144,"post_id":13075456,"comment_id":17762947,"body_markdown":"You can use `return theList.addFirst(encodeBin(&lt;next_value));` or `theList.addList(encodeBin(&lt;next_value&gt;));return theList;` or similar, depending on your design.","body":"You can use <code>return theList.addFirst(encodeBin(&lt;next_value));</code> or <code>theList.addList(encodeBin(&lt;next_value&gt;));return theList;</code> or similar, depending on your design."}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351192927,"creation_date":1351192096,"answer_id":13075515,"question_id":13075456,"body_markdown":"You can&#39;t return two values separately. You can, however, return an array containing the first bit and the last bit *or* create your own class to hold this data, and return an instance of that class.\r\n\r\n---\r\n\r\nAnd about the list, I see two options:\r\n\r\n1. Make it a `static` class variable\r\n2. Make it an argument of the function (although I see you said you couldn&#39;t do this).\r\n\r\nThe first method would look like this:\r\n\r\n    public class MyClass {\r\n        private static List&lt;Integer&gt; theList = new LinkedList&lt;Integer&gt;();\r\n\r\n        // `encodeBin` method as you have it\r\n    }\r\n\r\nThe second method would look like this:\r\n\r\n    public static void encodeBin(int n, List&lt;Integer&gt; theList) {\r\n        if(n == 0) return; //Base case\r\n        else {\r\n            if(n % 2 == 0)\r\n                theList.addFirst(0);\r\n            else\r\n                theList.addFirst(1);\r\n            encodeBin(n / 2, theList);\r\n        }\r\n    }\r\n\r\nYou could then do something along the lines of \r\n\r\n    List&lt;Integer&gt; theList = new LinkedList&lt;Integer&gt;();\r\n    encodeBin(14, theList);\r\n\r\nand `theList` would hold the appropriate bits as desired. \r\n\r\n---\r\n\r\nAs a note, you might want to consider making this a list of *booleans* instead of *integers*, with `true` representing `1` and `false` representing `0`.","title":"Returning multiple values from a recursive function","body":"<p>You can't return two values separately. You can, however, return an array containing the first bit and the last bit <em>or</em> create your own class to hold this data, and return an instance of that class.</p>\n\n<hr>\n\n<p>And about the list, I see two options:</p>\n\n<ol>\n<li>Make it a <code>static</code> class variable</li>\n<li>Make it an argument of the function (although I see you said you couldn't do this).</li>\n</ol>\n\n<p>The first method would look like this:</p>\n\n<pre><code>public class MyClass {\n    private static List&lt;Integer&gt; theList = new LinkedList&lt;Integer&gt;();\n\n    // `encodeBin` method as you have it\n}\n</code></pre>\n\n<p>The second method would look like this:</p>\n\n<pre><code>public static void encodeBin(int n, List&lt;Integer&gt; theList) {\n    if(n == 0) return; //Base case\n    else {\n        if(n % 2 == 0)\n            theList.addFirst(0);\n        else\n            theList.addFirst(1);\n        encodeBin(n / 2, theList);\n    }\n}\n</code></pre>\n\n<p>You could then do something along the lines of </p>\n\n<pre><code>List&lt;Integer&gt; theList = new LinkedList&lt;Integer&gt;();\nencodeBin(14, theList);\n</code></pre>\n\n<p>and <code>theList</code> would hold the appropriate bits as desired. </p>\n\n<hr>\n\n<p>As a note, you might want to consider making this a list of <em>booleans</em> instead of <em>integers</em>, with <code>true</code> representing <code>1</code> and <code>false</code> representing <code>0</code>.</p>\n"},{"tags":[],"owner":{"account_id":1324014,"reputation":5651,"user_id":1311351,"display_name":"Colin D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351192828,"creation_date":1351192473,"answer_id":13075602,"question_id":13075456,"body_markdown":"You cannot return 2 values. You are going to have to return some object that contains the 2 values. either an array or some new object, depending on your homework requirments and where this function is going to be used.\r\n\r\n\r\nFor the linkedlist creation, what you need is a recursive helper method. Your public method will be used to initialize your objects, start the recursion, and return your result. This allows your actual recursive function to have more than 1 argument.\r\n\r\n    public static SOME_TYPE encodeBin(int n) {\r\n      LinkedList result = new LinkedList();\r\n      encodeBin_helper(result,n);\r\n      // return the MSB and LSB\r\n    }\r\n\r\n    public static void encodeBin_helper(LinkedList theList, int n) {\r\n      if(n == 0) return; //Base case\r\n      else {\r\n        if(n % 2 == 0)\r\n            theList.addFirst(0);\r\n        else\r\n            theList.addFirst(1);\r\n        encodeBin_helper(theList, n/2);\r\n      }\r\n    \r\n    }","title":"Returning multiple values from a recursive function","body":"<p>You cannot return 2 values. You are going to have to return some object that contains the 2 values. either an array or some new object, depending on your homework requirments and where this function is going to be used.</p>\n\n<p>For the linkedlist creation, what you need is a recursive helper method. Your public method will be used to initialize your objects, start the recursion, and return your result. This allows your actual recursive function to have more than 1 argument.</p>\n\n<pre><code>public static SOME_TYPE encodeBin(int n) {\n  LinkedList result = new LinkedList();\n  encodeBin_helper(result,n);\n  // return the MSB and LSB\n}\n\npublic static void encodeBin_helper(LinkedList theList, int n) {\n  if(n == 0) return; //Base case\n  else {\n    if(n % 2 == 0)\n        theList.addFirst(0);\n    else\n        theList.addFirst(1);\n    encodeBin_helper(theList, n/2);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209644,"reputation":1256,"user_id":460790,"accept_rate":75,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351199217,"creation_date":1351194350,"answer_id":13076061,"question_id":13075456,"body_markdown":"I suggest declaring two methods:\r\n\r\n(1) public static int[] encodeBin(int n)\r\nand\r\n(2) private static void encodeBin(LinkedList&lt;Integer&gt;, int n)\r\n\r\n\r\nThe public method merely creates an empty list and then calls the private version passing both the empty list and the orignal input n as the parameters\r\n\r\nsomething like this:\r\n\r\n\r\n    public static int[] encodeBin(int n) {\r\n      LinkedList&lt;Integer&gt; aList = new LinkedList&lt;Integer&gt;();\r\n      encodeBin(aList , n);\r\n      int MSB = aList.getFirst();\r\n      int LSB = aList.getLast();\r\n\r\n      return new int[] {MSB, LSB};\r\n    }\r\n\r\n    private static void encodeBin(LinkedList&lt;Integer&gt; list, n) {\r\n      //your recursive version here\r\n    }","title":"Returning multiple values from a recursive function","body":"<p>I suggest declaring two methods:</p>\n\n<p>(1) public static int[] encodeBin(int n)\nand\n(2) private static void encodeBin(LinkedList, int n)</p>\n\n<p>The public method merely creates an empty list and then calls the private version passing both the empty list and the orignal input n as the parameters</p>\n\n<p>something like this:</p>\n\n<pre><code>public static int[] encodeBin(int n) {\n  LinkedList&lt;Integer&gt; aList = new LinkedList&lt;Integer&gt;();\n  encodeBin(aList , n);\n  int MSB = aList.getFirst();\n  int LSB = aList.getLast();\n\n  return new int[] {MSB, LSB};\n}\n\nprivate static void encodeBin(LinkedList&lt;Integer&gt; list, n) {\n  //your recursive version here\n}\n</code></pre>\n"}],"owner":{"account_id":1863685,"reputation":23,"user_id":1687709,"display_name":"Gene Frank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13263,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1700863655,"creation_date":1351191870,"question_id":13075456,"body_markdown":"I have this problem where I have to convert a decimal number to binary and then store the bits in a linked list where the head node is the most significant bit and the last node is the least significant bit. Solving the problem itself is actually easy as you only need to keep taking the modulo of 2 recursively and add the result in the list until the decimal number becomes 0.\r\n\r\nWhere I&#39;m stuck is that I have to write the function such that it returns a pair of number, (whether an array or a list) of the most significant bit and the last significant bit. \r\ni.e: Inputting 14 in the function would return (1, 0), since 14 is 1110 in binary. \r\n\r\nI do have access to the MSB and LSB easily(getFirst(), getLast()). \r\n\r\nThe function can only take one argument which is the decimal number.\r\n\r\nCurrently I  have this current code:\r\n\r\n    public static void encodeBin(int n) {\r\n        if(n == 0) return; //Base case\r\n        else {\r\n            if(n % 2 == 0)\r\n                theList.addFirst(0);\r\n            else\r\n                theList.addFirst(1);\r\n            encodeBin(n / 2);\r\n        }\r\n        // return?\r\n    }\r\n\r\nThe problem is I can&#39;t figure out how return the 2 values. Haveing a return value means I can&#39;t call encodeBin() by itself.\r\n\r\nMoreover, where should I create the list? If I put something like `List&lt;Integer&gt; = new LinkedList&lt;Integer&gt;()` at the very beginning of the function, then each time the function calls itself, it creates a new list and adds the bits in THAT new list not the original right?(The list created from when the function is called the first time)\r\n\r\nAnybody knows how to solve this?","title":"Returning multiple values from a recursive function","body":"<p>I have this problem where I have to convert a decimal number to binary and then store the bits in a linked list where the head node is the most significant bit and the last node is the least significant bit. Solving the problem itself is actually easy as you only need to keep taking the modulo of 2 recursively and add the result in the list until the decimal number becomes 0.</p>\n\n<p>Where I'm stuck is that I have to write the function such that it returns a pair of number, (whether an array or a list) of the most significant bit and the last significant bit. \ni.e: Inputting 14 in the function would return (1, 0), since 14 is 1110 in binary. </p>\n\n<p>I do have access to the MSB and LSB easily(getFirst(), getLast()). </p>\n\n<p>The function can only take one argument which is the decimal number.</p>\n\n<p>Currently I  have this current code:</p>\n\n<pre><code>public static void encodeBin(int n) {\n    if(n == 0) return; //Base case\n    else {\n        if(n % 2 == 0)\n            theList.addFirst(0);\n        else\n            theList.addFirst(1);\n        encodeBin(n / 2);\n    }\n    // return?\n}\n</code></pre>\n\n<p>The problem is I can't figure out how return the 2 values. Haveing a return value means I can't call encodeBin() by itself.</p>\n\n<p>Moreover, where should I create the list? If I put something like <code>List&lt;Integer&gt; = new LinkedList&lt;Integer&gt;()</code> at the very beginning of the function, then each time the function calls itself, it creates a new list and adds the bits in THAT new list not the original right?(The list created from when the function is called the first time)</p>\n\n<p>Anybody knows how to solve this?</p>\n"},{"tags":["java","android","internal-storage"],"comments":[{"owner":{"account_id":3778923,"reputation":1206,"user_id":5179092,"accept_rate":90,"display_name":"delca85"},"score":6,"creation_date":1497609637,"post_id":44587187,"comment_id":76162064,"body_markdown":"@undervoter: please read before under vote! I know this is a question already posted but there is a reason if I asked your help.","body":"@undervoter: please read before under vote! I know this is a question already posted but there is a reason if I asked your help."},{"owner":{"account_id":10474724,"reputation":2665,"user_id":7721600,"accept_rate":87,"display_name":"Moritz Schmidt"},"score":4,"creation_date":1497609761,"post_id":44587187,"comment_id":76162155,"body_markdown":"no need to downvote","body":"no need to downvote"},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1497609989,"post_id":44587187,"comment_id":76162302,"body_markdown":"do you get any errors in the result? Any messages in the logcat? Also on which version of Android are you trying to do that?","body":"do you get any errors in the result? Any messages in the logcat? Also on which version of Android are you trying to do that?"},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1497610127,"post_id":44587187,"comment_id":76162370,"body_markdown":"Also where exactly you expect the file to be after you run this code?","body":"Also where exactly you expect the file to be after you run this code?"},{"owner":{"account_id":3778923,"reputation":1206,"user_id":5179092,"accept_rate":90,"display_name":"delca85"},"score":0,"creation_date":1497610885,"post_id":44587187,"comment_id":76162840,"body_markdown":"@VladMatvienko No error or msg in logcat. The version I am using is 25.\nI am expecting to find the file in /data/data/[package-name]","body":"@VladMatvienko No error or msg in logcat. The version I am using is 25. I am expecting to find the file in /data/data/[package-name]"}],"answers":[{"tags":[],"owner":{"account_id":1015668,"reputation":35631,"user_id":1027277,"accept_rate":92,"display_name":"Kuffs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497609819,"creation_date":1497609819,"answer_id":44587281,"question_id":44587187,"body_markdown":"Have you requested permission to write to external storage?  \r\n\r\nhttps://developer.android.com/training/basics/data-storage/files.html#GetWritePermission\r\n\r\nPerhaps your try\\catch block is swallowing an exception that could be telling you what the  problem is.  \r\n\r\nAlso, you do not appear to be setting the path to save to.\r\n\r\ne.g: https://stackoverflow.com/questions/5453708/android-how-to-use-environment-getexternalstoragedirectory","title":"Android: how to write a file to internal storage","body":"<p>Have you requested permission to write to external storage?  </p>\n\n<p><a href=\"https://developer.android.com/training/basics/data-storage/files.html#GetWritePermission\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/data-storage/files.html#GetWritePermission</a></p>\n\n<p>Perhaps your try\\catch block is swallowing an exception that could be telling you what the  problem is.  </p>\n\n<p>Also, you do not appear to be setting the path to save to.</p>\n\n<p>e.g: <a href=\"https://stackoverflow.com/questions/5453708/android-how-to-use-environment-getexternalstoragedirectory\">Android how to use Environment.getExternalStorageDirectory()</a></p>\n"},{"tags":[],"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1497610614,"creation_date":1497610614,"answer_id":44587534,"question_id":44587187,"body_markdown":"&gt; no file is written neither on the phone or on the emulator.\r\n\r\nYes, there is. It is written to what the Android SDK refers to as [internal storage][1]. This is **not** what you **as a user** consider to be &quot;internal storage&quot;, and you as a user cannot see what is in internal storage on a device (unless it is rooted).\r\n\r\nIf you want to write a file to where users can see it, use [external storage][2].\r\n\r\nThis sort of basic Android development topic is covered in any decent book on Android app development.\r\n\r\n  [1]: https://commonsware.com/blog/2014/04/07/storage-situation-internal-storage.html\r\n  [2]: https://commonsware.com/blog/2014/04/08/storage-situation-external-storage.html","title":"Android: how to write a file to internal storage","body":"<blockquote>\n  <p>no file is written neither on the phone or on the emulator.</p>\n</blockquote>\n\n<p>Yes, there is. It is written to what the Android SDK refers to as <a href=\"https://commonsware.com/blog/2014/04/07/storage-situation-internal-storage.html\" rel=\"noreferrer\">internal storage</a>. This is <strong>not</strong> what you <strong>as a user</strong> consider to be \"internal storage\", and you as a user cannot see what is in internal storage on a device (unless it is rooted).</p>\n\n<p>If you want to write a file to where users can see it, use <a href=\"https://commonsware.com/blog/2014/04/08/storage-situation-external-storage.html\" rel=\"noreferrer\">external storage</a>.</p>\n\n<p>This sort of basic Android development topic is covered in any decent book on Android app development.</p>\n"},{"tags":[],"owner":{"account_id":5993122,"reputation":1883,"user_id":4708665,"accept_rate":60,"display_name":"Sandeep dhiman"},"down_vote_count":2,"up_vote_count":68,"is_accepted":true,"score":66,"last_activity_date":1594375171,"creation_date":1497611852,"answer_id":44587950,"question_id":44587187,"body_markdown":"Use the below code to write a file to internal storage:\r\n\r\n    public void writeFileOnInternalStorage(Context mcoContext, String sFileName, String sBody){      \r\n        File dir = new File(mcoContext.getFilesDir(), &quot;mydir&quot;);\r\n        if(!dir.exists()){\r\n            dir.mkdir();\r\n        }\r\n    \r\n        try {\r\n            File gpxfile = new File(dir, sFileName);\r\n            FileWriter writer = new FileWriter(gpxfile);\r\n            writer.append(sBody);\r\n            writer.flush();\r\n            writer.close();\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n----------\r\n\r\n[Starting in API 19][1], you must ask for permission to write to storage.\r\n-------------------------------------------------------------------------\r\n\r\nYou can add read and write permissions by adding the following code to `AndroidManifest.xml`:\r\n      \r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nYou can prompt the user for read/write permissions using:\r\n\r\n    requestPermissions(new String[]{WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE}, 1);\r\n\r\nand then you can handle the result of the permission request in `onRequestPermissionsResult()` inside activity called from it.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/Manifest.permission","title":"Android: how to write a file to internal storage","body":"<p>Use the below code to write a file to internal storage:</p>\n<pre><code>public void writeFileOnInternalStorage(Context mcoContext, String sFileName, String sBody){      \n    File dir = new File(mcoContext.getFilesDir(), &quot;mydir&quot;);\n    if(!dir.exists()){\n        dir.mkdir();\n    }\n\n    try {\n        File gpxfile = new File(dir, sFileName);\n        FileWriter writer = new FileWriter(gpxfile);\n        writer.append(sBody);\n        writer.flush();\n        writer.close();\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<hr />\n<h2><a href=\"https://developer.android.com/reference/android/Manifest.permission\" rel=\"noreferrer\">Starting in API 19</a>, you must ask for permission to write to storage.</h2>\n<p>You can add read and write permissions by adding the following code to <code>AndroidManifest.xml</code>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>You can prompt the user for read/write permissions using:</p>\n<pre><code>requestPermissions(new String[]{WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE}, 1);\n</code></pre>\n<p>and then you can handle the result of the permission request in <code>onRequestPermissionsResult()</code> inside activity called from it.</p>\n"},{"tags":[],"owner":{"account_id":9336759,"reputation":4466,"user_id":6930719,"accept_rate":50,"display_name":"Fakhriddin Abdullaev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579368031,"creation_date":1497615276,"answer_id":44589020,"question_id":44587187,"body_markdown":"Save to Internal storage\r\n\r\n```\r\ndata=&quot;my Info to save&quot;;\r\n            \r\ntry {\r\n\r\n\tFileOutputStream fOut = openFileOutput(file,MODE_WORLD_READABLE);\r\n\tfOut.write(data.getBytes());\r\n\tfOut.close(); \t\r\n\t\r\n\tToast.makeText(getBaseContext(), &quot;file saved&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\ncatch (Exception e) {\r\n\t// TODO Auto-generated catch block\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\nRead from Internal storage\r\n\r\n```\r\ntry {\r\n\r\n\tFileInputStream fin = openFileInput(file);\r\n    int c;\r\n    String temp=&quot;&quot;;\r\n\r\n\twhile( (c = fin.read()) != -1){\r\n\t\ttemp = temp + Character.toString((char)c);\r\n    }\r\n    tv.setText(temp);\r\n    Toast.makeText(getBaseContext(), &quot;file read&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\ncatch(Exception e){\r\n}\r\n```\r\n","title":"Android: how to write a file to internal storage","body":"<p>Save to Internal storage</p>\n\n<pre><code>data=\"my Info to save\";\n\ntry {\n\n    FileOutputStream fOut = openFileOutput(file,MODE_WORLD_READABLE);\n    fOut.write(data.getBytes());\n    fOut.close();   \n\n    Toast.makeText(getBaseContext(), \"file saved\", Toast.LENGTH_SHORT).show();\n}\ncatch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Read from Internal storage</p>\n\n<pre><code>try {\n\n    FileInputStream fin = openFileInput(file);\n    int c;\n    String temp=\"\";\n\n    while( (c = fin.read()) != -1){\n        temp = temp + Character.toString((char)c);\n    }\n    tv.setText(temp);\n    Toast.makeText(getBaseContext(), \"file read\", Toast.LENGTH_SHORT).show();\n}\ncatch(Exception e){\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2532500,"reputation":434,"user_id":2200494,"display_name":"Sameh Yassin"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1535797460,"creation_date":1535797460,"answer_id":52127190,"question_id":44587187,"body_markdown":"&gt;To view files on a device, you can log the file location &gt;provided by methods such as File.getAbsolutePath(), and &gt;then browse the device files with Android Studio&#39;s Device &gt;File Explorer. \r\n\r\nI had a similar problem, the file was written but I never saw it. I used the Device file explorer and it was there waiting for me.\r\n\r\n[![Device File Manager][1]][1]\r\n\r\n        String filename = &quot;filename.jpg&quot;;\r\n        File dir = context.getFilesDir();\r\n        File file = new File(dir, filename);\r\n\r\n        try {\r\n            Log.d(TAG, &quot;The file path = &quot;+file.getAbsolutePath());\r\n            file.createNewFile();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return true;\r\n\r\n  [1]: https://i.stack.imgur.com/7VpaG.jpg","title":"Android: how to write a file to internal storage","body":"<blockquote>\n  <p>To view files on a device, you can log the file location >provided by methods such as File.getAbsolutePath(), and >then browse the device files with Android Studio's Device >File Explorer. </p>\n</blockquote>\n\n<p>I had a similar problem, the file was written but I never saw it. I used the Device file explorer and it was there waiting for me.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7VpaG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7VpaG.jpg\" alt=\"Device File Manager\"></a></p>\n\n<pre><code>    String filename = \"filename.jpg\";\n    File dir = context.getFilesDir();\n    File file = new File(dir, filename);\n\n    try {\n        Log.d(TAG, \"The file path = \"+file.getAbsolutePath());\n        file.createNewFile();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10273010,"reputation":5363,"user_id":7580839,"accept_rate":75,"display_name":"Amir Fo"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1635402035,"creation_date":1634695921,"answer_id":69639528,"question_id":44587187,"body_markdown":"## Android 11 Update ##\r\n\r\nThrough Android 11 new policies on storage, You cannot create anything in the root folder of primary external storage using `Environment.getExternalStorageDirectory()` Which is `storage/emulated/0` or internal storage in file manager. The reason is that this possibility led to external storage being just a big basket of random content. You can create your files in your own applications reserved folder `storage/emulated/0/Android/data/[PACKAGE_NAME]/files` folder using `getFilesDir()` but is not accessible by other applications such as file manager for the user! Note that this is accessible for your application!\r\n\r\n### Final solution (Not recommended) ###\r\n\r\nBy the way, there is a solution, Which is to turn your application to a file manager (Not recommended). To do this you should add this permission to your application and the request that permission to be permitted by the user:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nThoriya Prahalad has described how to this job in [this stackoverflow post][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66366102/7580839","title":"Android: how to write a file to internal storage","body":"<h2>Android 11 Update</h2>\n<p>Through Android 11 new policies on storage, You cannot create anything in the root folder of primary external storage using <code>Environment.getExternalStorageDirectory()</code> Which is <code>storage/emulated/0</code> or internal storage in file manager. The reason is that this possibility led to external storage being just a big basket of random content. You can create your files in your own applications reserved folder <code>storage/emulated/0/Android/data/[PACKAGE_NAME]/files</code> folder using <code>getFilesDir()</code> but is not accessible by other applications such as file manager for the user! Note that this is accessible for your application!</p>\n<h3>Final solution (Not recommended)</h3>\n<p>By the way, there is a solution, Which is to turn your application to a file manager (Not recommended). To do this you should add this permission to your application and the request that permission to be permitted by the user:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>Thoriya Prahalad has described how to this job in <a href=\"https://stackoverflow.com/a/66366102/7580839\">this stackoverflow post</a>.</p>\n"},{"tags":[],"owner":{"account_id":22454503,"reputation":1,"user_id":16657358,"display_name":"Qwerty ztrewq"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1635704313,"creation_date":1635704313,"answer_id":69789350,"question_id":44587187,"body_markdown":"This Answer worked for me for android 11+ !! check it out, hopefully it&#39;ll work for you too\r\n\r\nhttps://stackoverflow.com/a/66366102/16657358[1]\r\n\r\n[(btw, `int SDK_INT = 30;` it confused me lol so thought i should mention)]","title":"Android: how to write a file to internal storage","body":"<p>This Answer worked for me for android 11+ !! check it out, hopefully it'll work for you too</p>\n<p><a href=\"https://stackoverflow.com/a/66366102/16657358%5B1%5D\">https://stackoverflow.com/a/66366102/16657358[1]</a></p>\n<p>[(btw, <code>int SDK_INT = 30;</code> it confused me lol so thought i should mention)]</p>\n"},{"tags":[],"owner":{"account_id":10559215,"reputation":433,"user_id":7779496,"display_name":"Hesham Morsy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656891819,"creation_date":1656891819,"answer_id":72850609,"question_id":44587187,"body_markdown":"To write a file to the internal storage you can use this code :    \r\n\r\n    val filename = &quot;myfile&quot;\r\n        val fileContents = &quot;Hello world!&quot;\r\n        context.openFileOutput(filename, Context.MODE_PRIVATE).use {\r\n                it.write(fileContents.toByteArray())\r\n        }","title":"Android: how to write a file to internal storage","body":"<p>To write a file to the internal storage you can use this code :</p>\n<pre><code>val filename = &quot;myfile&quot;\n    val fileContents = &quot;Hello world!&quot;\n    context.openFileOutput(filename, Context.MODE_PRIVATE).use {\n            it.write(fileContents.toByteArray())\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":560065,"reputation":129,"user_id":5009472,"display_name":"user28775"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700863303,"creation_date":1700845838,"answer_id":77544703,"question_id":44587187,"body_markdown":"I found an answer here helpful but it didn&#39;t say how to read the string back so I got that working in my code and I converted it to kotlin\r\n\r\n    package com.happynicetime.reviewliferepeat\r\n    \r\n    import android.content.Context\r\n    import java.io.File\r\n    import java.io.FileReader\r\n    import java.io.FileWriter\r\n    \r\n    fun writeFileOnInternalStorage(mcoContext: Context, sFileName: String, sBody: String){\r\n        var dir: File = File(mcoContext.getFilesDir(), &quot;ReviewLifeRepeat&quot;)\r\n        if(!dir.exists()){\r\n            dir.mkdir();\r\n        }\r\n        try {\r\n            var gpxFile: File = File(dir, sFileName)\r\n            var gpxFileDir: File = gpxFile.parentFile\r\n            if(!gpxFileDir.exists()){\r\n                gpxFileDir.mkdir()\r\n            }\r\n            if(!gpxFile.exists()){\r\n                gpxFile.createNewFile()\r\n            }\r\n    \r\n            println(&quot;saving file: $gpxFile&quot;);\r\n    \r\n            var writer: FileWriter = FileWriter(gpxFile)\r\n            writer.append(sBody)\r\n            writer.flush()\r\n            writer.close()\r\n        }catch(e: Exception){\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n    \r\n    fun readFileOnInternalStorage(mcoContext: Context, sFileName: String): String{\r\n        var dir: File = File(mcoContext.getFilesDir(), &quot;ReviewLifeRepeat&quot;)\r\n        try{\r\n            var gpxFile: File = File(dir,sFileName)\r\n            if(gpxFile.exists()) {\r\n                var reader: FileReader = FileReader(gpxFile)\r\n                val stringBuilder = StringBuilder()\r\n                var readByte: Int\r\n                while (reader.read().also { readByte = it } != -1) {\r\n                    stringBuilder.append(readByte.toChar())\r\n                }\r\n                return stringBuilder.toString()\r\n            }else{\r\n                return &quot;&quot;;\r\n            }\r\n        }catch(e: Exception){\r\n            e.printStackTrace()\r\n            return &quot;&quot;\r\n        }\r\n    }","title":"Android: how to write a file to internal storage","body":"<p>I found an answer here helpful but it didn't say how to read the string back so I got that working in my code and I converted it to kotlin</p>\n<pre><code>package com.happynicetime.reviewliferepeat\n\nimport android.content.Context\nimport java.io.File\nimport java.io.FileReader\nimport java.io.FileWriter\n\nfun writeFileOnInternalStorage(mcoContext: Context, sFileName: String, sBody: String){\n    var dir: File = File(mcoContext.getFilesDir(), &quot;ReviewLifeRepeat&quot;)\n    if(!dir.exists()){\n        dir.mkdir();\n    }\n    try {\n        var gpxFile: File = File(dir, sFileName)\n        var gpxFileDir: File = gpxFile.parentFile\n        if(!gpxFileDir.exists()){\n            gpxFileDir.mkdir()\n        }\n        if(!gpxFile.exists()){\n            gpxFile.createNewFile()\n        }\n\n        println(&quot;saving file: $gpxFile&quot;);\n\n        var writer: FileWriter = FileWriter(gpxFile)\n        writer.append(sBody)\n        writer.flush()\n        writer.close()\n    }catch(e: Exception){\n        e.printStackTrace()\n    }\n}\n\nfun readFileOnInternalStorage(mcoContext: Context, sFileName: String): String{\n    var dir: File = File(mcoContext.getFilesDir(), &quot;ReviewLifeRepeat&quot;)\n    try{\n        var gpxFile: File = File(dir,sFileName)\n        if(gpxFile.exists()) {\n            var reader: FileReader = FileReader(gpxFile)\n            val stringBuilder = StringBuilder()\n            var readByte: Int\n            while (reader.read().also { readByte = it } != -1) {\n                stringBuilder.append(readByte.toChar())\n            }\n            return stringBuilder.toString()\n        }else{\n            return &quot;&quot;;\n        }\n    }catch(e: Exception){\n        e.printStackTrace()\n        return &quot;&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3778923,"reputation":1206,"user_id":5179092,"accept_rate":90,"display_name":"delca85"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166230,"favorite_count":0,"down_vote_count":1,"up_vote_count":55,"accepted_answer_id":44587950,"answer_count":9,"score":54,"last_activity_date":1700863303,"creation_date":1497609493,"question_id":44587187,"body_markdown":"I am developing a simple android application and I need to write a text file in internal storage device. I know there are a lot of questions (and answers) about this matter but I really cannot understand what I am doing in the wrong way.\r\n\r\nThis is the piece of code I use in my activity in order to write the file:\r\n    \r\n    public void writeAFile(){\r\n        String fileName = &quot;myFile.txt&quot;;\r\n        String textToWrite = &quot;This is some text!&quot;;\r\n        FileOutputStream outputStream;\r\n\r\n       try {\r\n          outputStream = openFileOutput(fileName , Context.MODE_PRIVATE);\r\n          outputStream.write(textToWrite.getBytes());\r\n          outputStream.close();\r\n       } catch (Exception e) {\r\n         e.printStackTrace();\r\n       }\r\n    }\r\n\r\nI really cannot understand which mistake I am doing. In addition, I have tried [this][1] project on my emulator in Android Studio and my phone in order to understand where I am doing something wrong but even with that project no file is written neither on the phone or on the emulator.\r\n\r\nEDIT:\r\nI know that no file is written to my internal storage because I try to read the content of the file, after I have written to it, with this code:\r\n\r\n    public void ReadBtn(View v) {\r\n        //reading text from file\r\n        try {\r\n            FileInputStream fileIn=openFileInput(&quot;myFile.txt&quot;);\r\n            InputStreamReader InputRead= new InputStreamReader(fileIn);\r\n\r\n            char[] inputBuffer= new char[READ_BLOCK_SIZE];\r\n            String s=&quot;&quot;;\r\n            int charRead;\r\n\r\n            while ((charRead=InputRead.read(inputBuffer))&gt;0) {\r\n                String readstring=String.copyValueOf(inputBuffer,0,charRead);\r\n                s +=readstring;\r\n            }\r\n            InputRead.close();\r\n            textmsg.setText(s);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nNothing is shown at all.\r\n\r\n  [1]: http://www.journaldev.com/9383/android-internal-storage-example-tutorial","title":"Android: how to write a file to internal storage","body":"<p>I am developing a simple android application and I need to write a text file in internal storage device. I know there are a lot of questions (and answers) about this matter but I really cannot understand what I am doing in the wrong way.</p>\n\n<p>This is the piece of code I use in my activity in order to write the file:</p>\n\n<pre><code>public void writeAFile(){\n    String fileName = \"myFile.txt\";\n    String textToWrite = \"This is some text!\";\n    FileOutputStream outputStream;\n\n   try {\n      outputStream = openFileOutput(fileName , Context.MODE_PRIVATE);\n      outputStream.write(textToWrite.getBytes());\n      outputStream.close();\n   } catch (Exception e) {\n     e.printStackTrace();\n   }\n}\n</code></pre>\n\n<p>I really cannot understand which mistake I am doing. In addition, I have tried <a href=\"http://www.journaldev.com/9383/android-internal-storage-example-tutorial\" rel=\"noreferrer\">this</a> project on my emulator in Android Studio and my phone in order to understand where I am doing something wrong but even with that project no file is written neither on the phone or on the emulator.</p>\n\n<p>EDIT:\nI know that no file is written to my internal storage because I try to read the content of the file, after I have written to it, with this code:</p>\n\n<pre><code>public void ReadBtn(View v) {\n    //reading text from file\n    try {\n        FileInputStream fileIn=openFileInput(\"myFile.txt\");\n        InputStreamReader InputRead= new InputStreamReader(fileIn);\n\n        char[] inputBuffer= new char[READ_BLOCK_SIZE];\n        String s=\"\";\n        int charRead;\n\n        while ((charRead=InputRead.read(inputBuffer))&gt;0) {\n            String readstring=String.copyValueOf(inputBuffer,0,charRead);\n            s +=readstring;\n        }\n        InputRead.close();\n        textmsg.setText(s);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Nothing is shown at all.</p>\n"},{"tags":["java","sorting","collections"],"comments":[{"owner":{"account_id":1129881,"reputation":11552,"user_id":1116230,"display_name":"Nico Haase"},"score":3,"creation_date":1325673520,"post_id":8725387,"comment_id":10863516,"body_markdown":"Does http://stackoverflow.com/questions/416266/sorted-collection-in-java help you?","body":"Does <a href=\"http://stackoverflow.com/questions/416266/sorted-collection-in-java\" title=\"sorted collection in java\">stackoverflow.com/questions/416266/sorted-collection-in-java</a> help you?"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":9,"creation_date":1325674165,"post_id":8725387,"comment_id":10863708,"body_markdown":"so what is your expected result when inserting an element in the middle of the list?","body":"so what is your expected result when inserting an element in the middle of the list?"},{"owner":{"account_id":50723,"reputation":3791,"user_id":151344,"accept_rate":60,"display_name":"Alderath"},"score":6,"creation_date":1325679433,"post_id":8725387,"comment_id":10865418,"body_markdown":"@bestsss It would be fully possible to have a SortedList class which does not implement the java.util.List interface. Read the question as an inquiry why there is no data structure which supports the requested functionality. Don&#39;t get distracted by insignificant details such as naming.","body":"@bestsss It would be fully possible to have a SortedList class which does not implement the java.util.List interface. Read the question as an inquiry why there is no data structure which supports the requested functionality. Don&#39;t get distracted by insignificant details such as naming."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1325697737,"post_id":8725387,"comment_id":10872387,"body_markdown":"@Alderath, the usual structure for this is a tree (red/black, avl or btree) w/ extra prev/next links to support ordering. I do use similar structure red/black w/ prev/next links. It&#39;s a quite niche use, though. The tree can be traversed both ordered and insert order, has O(logn) find/contains but get(int) is O(n). Given the fact its niche applicability I&#39;d assume it was left to the developers to implement one if they need.","body":"@Alderath, the usual structure for this is a tree (red/black, avl or btree) w/ extra prev/next links to support ordering. I do use similar structure red/black w/ prev/next links. It&#39;s a quite niche use, though. The tree can be traversed both ordered and insert order, has O(logn) find/contains but get(int) is O(n). Given the fact its niche applicability I&#39;d assume it was left to the developers to implement one if they need."},{"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"score":6,"creation_date":1433214602,"post_id":8725387,"comment_id":49242748,"body_markdown":"Not answering the question &quot;why&quot;, but the **simplest workaround** for TreeSet is to use a Comparator that never returns zero, e.g. `int diff = this.score - that.score;` `return (diff == 0) ? 1 : diff;`   As it&#39;s a smelly hack I would provide this as an anonymous constructor argument rather than having any implement Comparable.","body":"Not answering the question &quot;why&quot;, but the <b>simplest workaround</b> for TreeSet is to use a Comparator that never returns zero, e.g. <code>int diff = this.score - that.score;</code> <code>return (diff == 0) ? 1 : diff;</code>   As it&#39;s a smelly hack I would provide this as an anonymous constructor argument rather than having any implement Comparable."},{"owner":{"account_id":18894667,"reputation":1124,"user_id":13784117,"display_name":"user13784117"},"score":0,"creation_date":1593976226,"post_id":8725387,"comment_id":110958537,"body_markdown":"@earcam How would you ever find anything in such a set?   `set.add(X); Y = set.get(X);` will surely return null.","body":"@earcam How would you ever find anything in such a set?   <code>set.add(X); Y = set.get(X);</code> will surely return null."},{"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"score":0,"creation_date":1594230995,"post_id":8725387,"comment_id":111056770,"body_markdown":"@user13784117, think you misunderstood and BTW `Set` doesn&#39;t implement `get` - note; I&#39;d stated it&#39;s a **smelly hack** - the point I was trying to make is that my suggestion allows multiple identical values in a `Set` and does so on `add` avoiding cost of `Collections.sort(List)`.  This smelly hack fails for a number of scenarios, such as `contains` - wasn&#39;t intended for use but conversion; strongly suspect it&#39;s quicker (WRT time-complexity for **huge** collections) to use this and then dump into a List with e.g. `ArrayList` constructor or `addAll` (unlikely better for big O memory)","body":"@user13784117, think you misunderstood and BTW <code>Set</code> doesn&#39;t implement <code>get</code> - note; I&#39;d stated it&#39;s a <b>smelly hack</b> - the point I was trying to make is that my suggestion allows multiple identical values in a <code>Set</code> and does so on <code>add</code> avoiding cost of <code>Collections.sort(List)</code>.  This smelly hack fails for a number of scenarios, such as <code>contains</code> - wasn&#39;t intended for use but conversion; strongly suspect it&#39;s quicker (WRT time-complexity for <b>huge</b> collections) to use this and then dump into a List with e.g. <code>ArrayList</code> constructor or <code>addAll</code> (unlikely better for big O memory)"},{"owner":{"account_id":18894667,"reputation":1124,"user_id":13784117,"display_name":"user13784117"},"score":0,"creation_date":1594256618,"post_id":8725387,"comment_id":111065398,"body_markdown":"My error on `get` - but similar argument for `contains`.  Also, your comparator surely violates some contract, since compare(a,b) == 1 and compare(b,a) == 1, i.e., a &gt; b and b &gt; a.  I&#39;d at least go for consistency in the case of a.equals(b) by ordering on something else, maybe comparing System.identityHashCode values.","body":"My error on <code>get</code> - but similar argument for <code>contains</code>.  Also, your comparator surely violates some contract, since compare(a,b) == 1 and compare(b,a) == 1, i.e., a &gt; b and b &gt; a.  I&#39;d at least go for consistency in the case of a.equals(b) by ordering on something else, maybe comparing System.identityHashCode values."},{"owner":{"account_id":937749,"reputation":300,"user_id":966365,"display_name":"tobi delbruck"},"score":0,"creation_date":1608839809,"post_id":8725387,"comment_id":115699911,"body_markdown":"I tried this interesting hack but it also has the drawback that set.removeAll(set2) does not remove anything because the removeAll method somehow uses the Comparator.","body":"I tried this interesting hack but it also has the drawback that set.removeAll(set2) does not remove anything because the removeAll method somehow uses the Comparator."}],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":7,"up_vote_count":34,"is_accepted":false,"score":27,"last_activity_date":1532968853,"creation_date":1325673582,"answer_id":8725453,"question_id":8725387,"body_markdown":"Since all lists are already &quot;sorted&quot; by the order the items were added (FIFO ordering), you can &quot;resort&quot; them with another order, including the natural ordering of elements, using `java.util.Collections.sort()`.\r\n\r\nEDIT:\r\n\r\nLists as data structures are based in what is interesting is the ordering in which the items where inserted.\r\n\r\nSets do not have that information.\r\n\r\nIf you want to order by adding time, use `List`. If you want to order by other criteria, use `SortedSet`.","title":"Why is there no SortedList in Java?","body":"<p>Since all lists are already \"sorted\" by the order the items were added (FIFO ordering), you can \"resort\" them with another order, including the natural ordering of elements, using <code>java.util.Collections.sort()</code>.</p>\n\n<p>EDIT:</p>\n\n<p>Lists as data structures are based in what is interesting is the ordering in which the items where inserted.</p>\n\n<p>Sets do not have that information.</p>\n\n<p>If you want to order by adding time, use <code>List</code>. If you want to order by other criteria, use <code>SortedSet</code>.</p>\n"},{"tags":[],"owner":{"account_id":2648,"reputation":120204,"user_id":3713,"accept_rate":91,"display_name":"Spoike"},"down_vote_count":4,"up_vote_count":809,"is_accepted":true,"score":805,"last_activity_date":1532965319,"creation_date":1325673661,"answer_id":8725470,"question_id":8725387,"body_markdown":"List iterators guarantee first and foremost that you get the list&#39;s elements in the internal order of the list (aka. *insertion order*). More specifically it is in the order you&#39;ve inserted the elements or on how you&#39;ve manipulated the list. Sorting can be seen as a manipulation of the data structure, and there are several ways to sort the list.\r\n\r\nI&#39;ll order the ways in the order of *usefulness* as I personally see it:\r\n\r\n## 1. Consider using `Set` or `Bag` collections instead\r\n\r\n**NOTE:** I put this option at the top because this is what you normally want to do anyway.\r\n\r\nA sorted set **automatically sorts the collection at insertion**, meaning that it does the sorting while you add elements into the collection. It also means you don&#39;t need to manually sort it.\r\n\r\nFurthermore if you are sure that you don&#39;t need to worry about (or have) duplicate elements then you can use the [`TreeSet&lt;T&gt;`][1] instead. It implements `SortedSet` and `NavigableSet` interfaces and works as you&#39;d probably expect from a list:\r\n\r\n    TreeSet&lt;String&gt; set = new TreeSet&lt;String&gt;();\r\n    set.add(&quot;lol&quot;);\r\n    set.add(&quot;cat&quot;);\r\n    // automatically sorts natural order when adding\r\n\r\n    for (String s : set) {\r\n        System.out.println(s);\r\n    }\r\n    // Prints out &quot;cat&quot; and &quot;lol&quot;\r\n\r\nIf you don&#39;t want the natural ordering you can use the constructor parameter that takes a [`Comparator&lt;T&gt;`][2].\r\n\r\nAlternatively, you can use **[Multisets][3] (also known as *Bags*)**, that is a `Set` that allows duplicate elements, instead and there are third-party implementations of them. Most notably from the [Guava libraries][4] there is a [`TreeMultiset`][5], that works a lot like the `TreeSet`.\r\n\r\n## 2. Sort your list with `Collections.sort()`\r\n\r\nAs mentioned above, sorting of `List`s is a manipulation of the data structure. So for situations where you need &quot;one source of truth&quot; that will be sorted in a variety of ways then sorting it manually is the way to go.\r\n\r\nYou can sort your list with the [`java.util.Collections.sort()`][6] method. Here is a code sample on how:\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;String&gt;()\r\n    strings.add(&quot;lol&quot;);\r\n    strings.add(&quot;cat&quot;);\r\n\r\n    Collections.sort(strings);\r\n    for (String s : strings) {\r\n        System.out.println(s);\r\n    }\r\n    // Prints out &quot;cat&quot; and &quot;lol&quot;\r\n\r\n### Using comparators\r\n\r\nOne clear benefit is that you may use [`Comparator`](https://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html) in the `sort` method. Java also provides some implementations for the `Comparator` such as the [`Collator`](https://docs.oracle.com/javase/6/docs/api/java/text/Collator.html) which is useful for locale sensitive sorting strings. Here is one example:\r\n\r\n    Collator usCollator = Collator.getInstance(Locale.US);\r\n    usCollator.setStrength(Collator.PRIMARY); // ignores casing\r\n\r\n    Collections.sort(strings, usCollator);\r\n    \r\n### Sorting in concurrent environments\r\n\r\nDo note though that using the `sort` method is not friendly in concurrent environments, since the collection instance will be manipulated, and you should consider using immutable collections instead. This is something Guava provides in the [`Ordering`](https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/Ordering.html) class and is a simple one-liner:\r\n\r\n    List&lt;string&gt; sorted = Ordering.natural().sortedCopy(strings);\r\n\r\n## 3. Wrap your list with `java.util.PriorityQueue`\r\n\r\nThough there is no sorted list in Java there is however a sorted queue which would probably work just as well for you. It is the [`java.util.PriorityQueue`][7] class.\r\n\r\nNico Haase linked in the comments to a [related question][8] that also answers this.\r\n\r\nIn a sorted collection **you most likely don&#39;t want to manipulate** the internal data structure which is why PriorityQueue doesn&#39;t implement the List interface (because that would give you direct access to its elements). \r\n\r\n### Caveat on the `PriorityQueue` iterator\r\nThe `PriorityQueue` class implements the `Iterable&lt;E&gt;` and `Collection&lt;E&gt;` interfaces so it can be iterated as usual. However, the iterator is not guaranteed to return elements in the sorted order. Instead (as Alderath points out in the comments) you need to `poll()` the queue until empty.\r\n\r\nNote that you can convert a list to a priority queue via the [constructor that takes any collection][9]:\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;String&gt;()\r\n    strings.add(&quot;lol&quot;);\r\n    strings.add(&quot;cat&quot;);\r\n\r\n    PriorityQueue&lt;String&gt; sortedStrings = new PriorityQueue(strings);\r\n    while(!sortedStrings.isEmpty()) {\r\n        System.out.println(sortedStrings.poll());\r\n    }\r\n    // Prints out &quot;cat&quot; and &quot;lol&quot;\r\n\r\n## 4. Write your own `SortedList` class\r\n\r\n**NOTE:** You shouldn&#39;t have to do this.\r\n\r\nYou can write your own List class that sorts each time you add a new element. This can get rather computation heavy depending on your implementation **and is pointless**, unless you want to do it as an exercise, because of two main reasons: \r\n\r\n1. It breaks the contract that `List&lt;E&gt;` interface has because the `add` methods should ensure that the element will reside in the index that the user specifies.\r\n2. Why reinvent the wheel? You should be using the TreeSet or Multisets instead as pointed out in the first point above.\r\n\r\nHowever, if you want to do it as an exercise here is a code sample to get you started, it uses the `AbstractList` abstract class: \r\n\r\n    public class SortedList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n\r\n        private ArrayList&lt;E&gt; internalList = new ArrayList&lt;E&gt;();\r\n\r\n        // Note that add(E e) in AbstractList is calling this one\r\n        @Override \r\n        public void add(int position, E e) {\r\n            internalList.add(e);\r\n            Collections.sort(internalList, null);\r\n        }\r\n\r\n        @Override\r\n        public E get(int i) {\r\n            return internalList.get(i);\r\n        }\r\n\r\n        @Override\r\n        public int size() {\r\n            return internalList.size();\r\n        }\r\n\r\n    }\r\n\r\nNote that if you haven&#39;t overridden the methods you need, then the default implementations from `AbstractList` will throw `UnsupportedOperationException`s.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\r\n  [3]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Multiset.html\r\n  [4]: http://code.google.com/p/guava-libraries/\r\n  [5]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/TreeMultiset.html\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort(java.util.List)\r\n  [7]: http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html\r\n  [8]: https://stackoverflow.com/questions/416266/sorted-collection-in-java\r\n  [9]: http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html#PriorityQueue%28java.util.Collection%29","title":"Why is there no SortedList in Java?","body":"<p>List iterators guarantee first and foremost that you get the list's elements in the internal order of the list (aka. <em>insertion order</em>). More specifically it is in the order you've inserted the elements or on how you've manipulated the list. Sorting can be seen as a manipulation of the data structure, and there are several ways to sort the list.</p>\n\n<p>I'll order the ways in the order of <em>usefulness</em> as I personally see it:</p>\n\n<h2>1. Consider using <code>Set</code> or <code>Bag</code> collections instead</h2>\n\n<p><strong>NOTE:</strong> I put this option at the top because this is what you normally want to do anyway.</p>\n\n<p>A sorted set <strong>automatically sorts the collection at insertion</strong>, meaning that it does the sorting while you add elements into the collection. It also means you don't need to manually sort it.</p>\n\n<p>Furthermore if you are sure that you don't need to worry about (or have) duplicate elements then you can use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html\" rel=\"noreferrer\"><code>TreeSet&lt;T&gt;</code></a> instead. It implements <code>SortedSet</code> and <code>NavigableSet</code> interfaces and works as you'd probably expect from a list:</p>\n\n<pre><code>TreeSet&lt;String&gt; set = new TreeSet&lt;String&gt;();\nset.add(\"lol\");\nset.add(\"cat\");\n// automatically sorts natural order when adding\n\nfor (String s : set) {\n    System.out.println(s);\n}\n// Prints out \"cat\" and \"lol\"\n</code></pre>\n\n<p>If you don't want the natural ordering you can use the constructor parameter that takes a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator&lt;T&gt;</code></a>.</p>\n\n<p>Alternatively, you can use <strong><a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Multiset.html\" rel=\"noreferrer\">Multisets</a> (also known as <em>Bags</em>)</strong>, that is a <code>Set</code> that allows duplicate elements, instead and there are third-party implementations of them. Most notably from the <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava libraries</a> there is a <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/TreeMultiset.html\" rel=\"noreferrer\"><code>TreeMultiset</code></a>, that works a lot like the <code>TreeSet</code>.</p>\n\n<h2>2. Sort your list with <code>Collections.sort()</code></h2>\n\n<p>As mentioned above, sorting of <code>List</code>s is a manipulation of the data structure. So for situations where you need \"one source of truth\" that will be sorted in a variety of ways then sorting it manually is the way to go.</p>\n\n<p>You can sort your list with the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort(java.util.List)\" rel=\"noreferrer\"><code>java.util.Collections.sort()</code></a> method. Here is a code sample on how:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;()\nstrings.add(\"lol\");\nstrings.add(\"cat\");\n\nCollections.sort(strings);\nfor (String s : strings) {\n    System.out.println(s);\n}\n// Prints out \"cat\" and \"lol\"\n</code></pre>\n\n<h3>Using comparators</h3>\n\n<p>One clear benefit is that you may use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a> in the <code>sort</code> method. Java also provides some implementations for the <code>Comparator</code> such as the <a href=\"https://docs.oracle.com/javase/6/docs/api/java/text/Collator.html\" rel=\"noreferrer\"><code>Collator</code></a> which is useful for locale sensitive sorting strings. Here is one example:</p>\n\n<pre><code>Collator usCollator = Collator.getInstance(Locale.US);\nusCollator.setStrength(Collator.PRIMARY); // ignores casing\n\nCollections.sort(strings, usCollator);\n</code></pre>\n\n<h3>Sorting in concurrent environments</h3>\n\n<p>Do note though that using the <code>sort</code> method is not friendly in concurrent environments, since the collection instance will be manipulated, and you should consider using immutable collections instead. This is something Guava provides in the <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/Ordering.html\" rel=\"noreferrer\"><code>Ordering</code></a> class and is a simple one-liner:</p>\n\n<pre><code>List&lt;string&gt; sorted = Ordering.natural().sortedCopy(strings);\n</code></pre>\n\n<h2>3. Wrap your list with <code>java.util.PriorityQueue</code></h2>\n\n<p>Though there is no sorted list in Java there is however a sorted queue which would probably work just as well for you. It is the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\"><code>java.util.PriorityQueue</code></a> class.</p>\n\n<p>Nico Haase linked in the comments to a <a href=\"https://stackoverflow.com/questions/416266/sorted-collection-in-java\">related question</a> that also answers this.</p>\n\n<p>In a sorted collection <strong>you most likely don't want to manipulate</strong> the internal data structure which is why PriorityQueue doesn't implement the List interface (because that would give you direct access to its elements). </p>\n\n<h3>Caveat on the <code>PriorityQueue</code> iterator</h3>\n\n<p>The <code>PriorityQueue</code> class implements the <code>Iterable&lt;E&gt;</code> and <code>Collection&lt;E&gt;</code> interfaces so it can be iterated as usual. However, the iterator is not guaranteed to return elements in the sorted order. Instead (as Alderath points out in the comments) you need to <code>poll()</code> the queue until empty.</p>\n\n<p>Note that you can convert a list to a priority queue via the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html#PriorityQueue%28java.util.Collection%29\" rel=\"noreferrer\">constructor that takes any collection</a>:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;()\nstrings.add(\"lol\");\nstrings.add(\"cat\");\n\nPriorityQueue&lt;String&gt; sortedStrings = new PriorityQueue(strings);\nwhile(!sortedStrings.isEmpty()) {\n    System.out.println(sortedStrings.poll());\n}\n// Prints out \"cat\" and \"lol\"\n</code></pre>\n\n<h2>4. Write your own <code>SortedList</code> class</h2>\n\n<p><strong>NOTE:</strong> You shouldn't have to do this.</p>\n\n<p>You can write your own List class that sorts each time you add a new element. This can get rather computation heavy depending on your implementation <strong>and is pointless</strong>, unless you want to do it as an exercise, because of two main reasons: </p>\n\n<ol>\n<li>It breaks the contract that <code>List&lt;E&gt;</code> interface has because the <code>add</code> methods should ensure that the element will reside in the index that the user specifies.</li>\n<li>Why reinvent the wheel? You should be using the TreeSet or Multisets instead as pointed out in the first point above.</li>\n</ol>\n\n<p>However, if you want to do it as an exercise here is a code sample to get you started, it uses the <code>AbstractList</code> abstract class: </p>\n\n<pre><code>public class SortedList&lt;E&gt; extends AbstractList&lt;E&gt; {\n\n    private ArrayList&lt;E&gt; internalList = new ArrayList&lt;E&gt;();\n\n    // Note that add(E e) in AbstractList is calling this one\n    @Override \n    public void add(int position, E e) {\n        internalList.add(e);\n        Collections.sort(internalList, null);\n    }\n\n    @Override\n    public E get(int i) {\n        return internalList.get(i);\n    }\n\n    @Override\n    public int size() {\n        return internalList.size();\n    }\n\n}\n</code></pre>\n\n<p>Note that if you haven't overridden the methods you need, then the default implementations from <code>AbstractList</code> will throw <code>UnsupportedOperationException</code>s.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":93,"is_accepted":false,"score":92,"last_activity_date":1633383790,"creation_date":1325673899,"answer_id":8725518,"question_id":8725387,"body_markdown":"Because the concept of a List is incompatible with the concept of an automatically sorted collection. The point of a List is that after calling [`list.add(7, elem)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-int-E-), a call to [`list.get(7)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-) will return `elem`. With an auto-sorted list, the element could end up in an arbitrary position.","title":"Why is there no SortedList in Java?","body":"<p>Because the concept of a List is incompatible with the concept of an automatically sorted collection. The point of a List is that after calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-int-E-\" rel=\"noreferrer\"><code>list.add(7, elem)</code></a>, a call to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-\" rel=\"noreferrer\"><code>list.get(7)</code></a> will return <code>elem</code>. With an auto-sorted list, the element could end up in an arbitrary position.</p>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1325674058,"creation_date":1325674058,"answer_id":8725550,"question_id":8725387,"body_markdown":"Think of it like this: the `List` interface has methods like `add(int index, E element)`, `set(int index, E element)`. The contract is that once you added an element at position X you will find it there unless you add or remove elements before it.\r\n\r\nIf any list implementation would store elements in some order other than based on the index, the above list methods would make no sense.","title":"Why is there no SortedList in Java?","body":"<p>Think of it like this: the <code>List</code> interface has methods like <code>add(int index, E element)</code>, <code>set(int index, E element)</code>. The contract is that once you added an element at position X you will find it there unless you add or remove elements before it.</p>\n\n<p>If any list implementation would store elements in some order other than based on the index, the above list methods would make no sense.</p>\n"},{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1325685044,"creation_date":1325685044,"answer_id":8727998,"question_id":8725387,"body_markdown":"Another point is the time complexity of insert operations.\r\nFor a list insert, one expects a complexity of O(1).\r\nBut this could not be guaranteed with a sorted list.\r\n\r\nAnd the most important point is that lists assume nothing about their elements.\r\nFor example, you can make lists of things that do not implement `equals` or `compare`.","title":"Why is there no SortedList in Java?","body":"<p>Another point is the time complexity of insert operations.\nFor a list insert, one expects a complexity of O(1).\nBut this could not be guaranteed with a sorted list.</p>\n\n<p>And the most important point is that lists assume nothing about their elements.\nFor example, you can make lists of things that do not implement <code>equals</code> or <code>compare</code>.</p>\n"},{"tags":[],"owner":{"account_id":1142360,"reputation":1202,"user_id":1125891,"accept_rate":38,"display_name":"Syam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343025283,"creation_date":1343025283,"answer_id":11607494,"question_id":8725387,"body_markdown":"First line in the List API says it is an ordered collection (also known as a sequence). If you sort the list you can&#39;t maintain the order, so there is no TreeList in Java. &lt;br&gt;\r\nAs API says Java List got inspired from Sequence and see the sequence properties http://en.wikipedia.org/wiki/Sequence_(mathematics) \r\n\r\n\r\nIt doesn&#39;t mean that you can&#39;t sort the list, but Java strict to his definition and doesn&#39;t provide sorted versions of lists by default.\r\n","title":"Why is there no SortedList in Java?","body":"<p>First line in the List API says it is an ordered collection (also known as a sequence). If you sort the list you can't maintain the order, so there is no TreeList in Java. <br>\nAs API says Java List got inspired from Sequence and see the sequence properties <a href=\"http://en.wikipedia.org/wiki/Sequence_(mathematics\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Sequence_(mathematics</a>) </p>\n\n<p>It doesn't mean that you can't sort the list, but Java strict to his definition and doesn't provide sorted versions of lists by default.</p>\n"},{"tags":[],"owner":{"account_id":227148,"reputation":625,"user_id":488635,"display_name":"Vitaly Sazanovich"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1621593660,"creation_date":1390833127,"answer_id":21383504,"question_id":8725387,"body_markdown":"https://github.com/geniot/indexed-tree-map\r\n\r\nConsider using [indexed-tree-map][1] . It&#39;s an enhanced JDK&#39;s TreeSet that provides access to element by index and finding the index of an element without iteration or hidden underlying lists that back up the tree. The algorithm is based on updating weights of changed nodes every time there is a change.\r\n\r\n\r\n  [1]: https://github.com/geniot/indexed-tree-map","title":"Why is there no SortedList in Java?","body":"<p><a href=\"https://github.com/geniot/indexed-tree-map\" rel=\"nofollow noreferrer\">https://github.com/geniot/indexed-tree-map</a></p>\n<p>Consider using <a href=\"https://github.com/geniot/indexed-tree-map\" rel=\"nofollow noreferrer\">indexed-tree-map</a> . It's an enhanced JDK's TreeSet that provides access to element by index and finding the index of an element without iteration or hidden underlying lists that back up the tree. The algorithm is based on updating weights of changed nodes every time there is a change.</p>\n"},{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1537829577,"creation_date":1432943900,"answer_id":30540756,"question_id":8725387,"body_markdown":"# JavaFX `SortedList`\r\n\r\nThough it took a while, Java 8 does have a sorted `List`. \r\nhttp://docs.oracle.com/javase/8/javafx/api/javafx/collections/transformation/SortedList.html\r\n\r\nAs you can see in the javadocs, it is part of the [JavaFX][1] collections, intended to provide a sorted view on an ObservableList.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaFX\r\n\r\nUpdate: Note that with Java 11, the JavaFX toolkit has moved outside the JDK and is now a separate library. JavaFX 11 is available as a downloadable SDK or from MavenCentral. See https://openjfx.io","title":"Why is there no SortedList in Java?","body":"<h1>JavaFX <code>SortedList</code></h1>\n\n<p>Though it took a while, Java 8 does have a sorted <code>List</code>. \n<a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/collections/transformation/SortedList.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/javafx/api/javafx/collections/transformation/SortedList.html</a></p>\n\n<p>As you can see in the javadocs, it is part of the <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"noreferrer\">JavaFX</a> collections, intended to provide a sorted view on an ObservableList.</p>\n\n<p>Update: Note that with Java 11, the JavaFX toolkit has moved outside the JDK and is now a separate library. JavaFX 11 is available as a downloadable SDK or from MavenCentral. See <a href=\"https://openjfx.io\" rel=\"noreferrer\">https://openjfx.io</a></p>\n"},{"tags":[],"owner":{"account_id":3031755,"reputation":7270,"user_id":2570623,"accept_rate":100,"display_name":"Jim Pekarek"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1433965789,"creation_date":1433965789,"answer_id":30765963,"question_id":8725387,"body_markdown":"For any newcomers, as of April 2015, Android now has a [SortedList][1] class in the support library, designed specifically to work with `RecyclerView`. Here&#39;s the [blog post][2] about it. \r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/util/SortedList.html\r\n  [2]: http://android-developers.blogspot.com/2015/04/android-support-library-221.html","title":"Why is there no SortedList in Java?","body":"<p>For any newcomers, as of April 2015, Android now has a <a href=\"https://developer.android.com/reference/android/support/v7/util/SortedList.html\" rel=\"noreferrer\">SortedList</a> class in the support library, designed specifically to work with <code>RecyclerView</code>. Here's the <a href=\"http://android-developers.blogspot.com/2015/04/android-support-library-221.html\" rel=\"noreferrer\">blog post</a> about it. </p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71891,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1658995503,"creation_date":1450738704,"answer_id":34405789,"question_id":8725387,"body_markdown":"Set and Map are non-linear data structure. List is linear data structure.\r\n\r\n[![Data structures schema][2]][2]\r\n\r\n___\r\n\r\nThe tree data structure `SortedSet` and `SortedMap` interfaces implements  `TreeSet` and `TreeMap` respectively using used [Red-Black tree][1] implementation algorithm. So it ensure that there are no duplicated items (or keys in case of `Map`).   \r\n \r\n - `List` already maintains an ordered collection and index-based data structure, trees are no index-based data structures.\r\n - `Tree` by definition cannot contain duplicates.\r\n - In `List` we can have duplicates, so there is no `TreeList`(i.e. no `SortedList`).\r\n - List maintains elements in insertion order. So if we want to sort the list we have to use `java.util.Collections.sort()`. It sorts the specified list into ascending order, according to the natural ordering of its elements.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Red%E2%80%93black_tree\r\n  [2]: http://i.stack.imgur.com/rsbMd.gif","title":"Why is there no SortedList in Java?","body":"<p>Set and Map are non-linear data structure. List is linear data structure.</p>\n<p><a href=\"https://i.stack.imgur.com/rsbMd.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rsbMd.gif\" alt=\"Data structures schema\" /></a></p>\n<hr />\n<p>The tree data structure <code>SortedSet</code> and <code>SortedMap</code> interfaces implements  <code>TreeSet</code> and <code>TreeMap</code> respectively using used <a href=\"https://en.wikipedia.org/wiki/Red%E2%80%93black_tree\" rel=\"nofollow noreferrer\">Red-Black tree</a> implementation algorithm. So it ensure that there are no duplicated items (or keys in case of <code>Map</code>).</p>\n<ul>\n<li><code>List</code> already maintains an ordered collection and index-based data structure, trees are no index-based data structures.</li>\n<li><code>Tree</code> by definition cannot contain duplicates.</li>\n<li>In <code>List</code> we can have duplicates, so there is no <code>TreeList</code>(i.e. no <code>SortedList</code>).</li>\n<li>List maintains elements in insertion order. So if we want to sort the list we have to use <code>java.util.Collections.sort()</code>. It sorts the specified list into ascending order, according to the natural ordering of its elements.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647796180,"creation_date":1563032409,"answer_id":57020581,"question_id":8725387,"body_markdown":"In case you are looking for a way to sort elements, but also be able to access them by index in an efficient way, you can do the following:\r\n\r\n1. Use a random access list for storage (e.g. `ArrayList`)\r\n2. Make sure it is always sorted\r\n\r\nThen to add or remove an element you can use [`Collections.binarySearch`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-) to get the insertion / removal index. Since your list implements random access, you can efficiently modify the list with the determined index.\r\n\r\nExample:\r\n```\r\n/**\r\n * @deprecated\r\n *      Only for demonstration purposes. Implementation is incomplete and does not \r\n *      handle invalid arguments.\r\n */\r\n@Deprecated\r\npublic class SortingList&lt;E extends Comparable&lt;E&gt;&gt; {\r\n    private ArrayList&lt;E&gt; delegate;\r\n    \r\n    public SortingList() {\r\n        delegate = new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n    public void add(E e) {\r\n        int insertionIndex = Collections.binarySearch(delegate, e);\r\n        \r\n        // &lt; 0 if element is not in the list, see Collections.binarySearch\r\n        if (insertionIndex &lt; 0) {\r\n            insertionIndex = -(insertionIndex + 1);\r\n        }\r\n        else {\r\n            // Insertion index is index of existing element, to add new element \r\n            // behind it increase index\r\n            insertionIndex++;\r\n        }\r\n        \r\n        delegate.add(insertionIndex, e);\r\n    }\r\n    \r\n    public void remove(E e) {\r\n        int index = Collections.binarySearch(delegate, e);\r\n        delegate.remove(index);\r\n    }\r\n    \r\n    public E get(int index) {\r\n        return delegate.get(index);\r\n    }\r\n}\r\n```\r\n\r\n(See a more complete implementation in [this answer](https://stackoverflow.com/a/12638571))","title":"Why is there no SortedList in Java?","body":"<p>In case you are looking for a way to sort elements, but also be able to access them by index in an efficient way, you can do the following:</p>\n<ol>\n<li>Use a random access list for storage (e.g. <code>ArrayList</code>)</li>\n<li>Make sure it is always sorted</li>\n</ol>\n<p>Then to add or remove an element you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-\" rel=\"nofollow noreferrer\"><code>Collections.binarySearch</code></a> to get the insertion / removal index. Since your list implements random access, you can efficiently modify the list with the determined index.</p>\n<p>Example:</p>\n<pre><code>/**\n * @deprecated\n *      Only for demonstration purposes. Implementation is incomplete and does not \n *      handle invalid arguments.\n */\n@Deprecated\npublic class SortingList&lt;E extends Comparable&lt;E&gt;&gt; {\n    private ArrayList&lt;E&gt; delegate;\n    \n    public SortingList() {\n        delegate = new ArrayList&lt;&gt;();\n    }\n    \n    public void add(E e) {\n        int insertionIndex = Collections.binarySearch(delegate, e);\n        \n        // &lt; 0 if element is not in the list, see Collections.binarySearch\n        if (insertionIndex &lt; 0) {\n            insertionIndex = -(insertionIndex + 1);\n        }\n        else {\n            // Insertion index is index of existing element, to add new element \n            // behind it increase index\n            insertionIndex++;\n        }\n        \n        delegate.add(insertionIndex, e);\n    }\n    \n    public void remove(E e) {\n        int index = Collections.binarySearch(delegate, e);\n        delegate.remove(index);\n    }\n    \n    public E get(int index) {\n        return delegate.get(index);\n    }\n}\n</code></pre>\n<p>(See a more complete implementation in <a href=\"https://stackoverflow.com/a/12638571\">this answer</a>)</p>\n"},{"tags":[],"owner":{"account_id":8937151,"reputation":233,"user_id":6667601,"display_name":"Rajesh Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597628155,"creation_date":1597599307,"answer_id":63440036,"question_id":8725387,"body_markdown":"I think all the above do not answer this question due to following reasons,\r\n\r\n 1. Since same functionality can be achieved by using other collections such as TreeSet, Collections, PriorityQueue..etc (*but this is an alternative which will also impose their constraints i.e. Set will remove duplicate elements. Simply saying even if it does not impose any constraint, it does not answer the question why SortedList was not created by java community*)\r\n 2. Since List elements do not implements compare/equals methods (*This holds true for Set &amp; Map also where in general items do not implement Comparable interface but when we need these items to be in sorted order &amp; want to use TreeSet/TreeMap,items should implement Comparable interface*)\r\n 3. Since List uses indexing &amp; due to sorting it won&#39;t work (*This can be easily handled introducing intermediate interface/abstract class*)\r\n\r\nbut none has told the exact reason behind it &amp; as I believe these kind of questions can be best answered by java community itself as it will have only one &amp; specific answer but let me try my best to answer this as following,\r\n\r\nAs we know sorting is an expensive operation and there is a basic difference between List &amp; Set/Map that List can have duplicates but Set/Map can not. \r\nThis is the core reason why we have got a default implementation for Set/Map in form of TreeSet/TreeMap. Internally this is a Red Black Tree with every operation (insert/delete/search) having the complexity of **O(log N)** where due to duplicates List could not fit in this data storage structure.\r\n\r\nNow the question arises we could also choose a default sorting method for List also like **MergeSort** which is used by `Collections.sort(list)` method with the complexity of **O(N log N)**. Community did not do this deliberately since we do have multiple choices for sorting algorithms for non distinct elements like **QuickSort, ShellSort, RadixSort**...etc. In future there can be more. Also sometimes same sorting algorithm performs differently depending on the data to be sorted. Therefore they wanted to keep this option open and left this on us to choose. This was not the case with Set/Map since **O(log N)** is the best sorting complexity.\r\n\r\n \r\n","title":"Why is there no SortedList in Java?","body":"<p>I think all the above do not answer this question due to following reasons,</p>\n<ol>\n<li>Since same functionality can be achieved by using other collections such as TreeSet, Collections, PriorityQueue..etc (<em>but this is an alternative which will also impose their constraints i.e. Set will remove duplicate elements. Simply saying even if it does not impose any constraint, it does not answer the question why SortedList was not created by java community</em>)</li>\n<li>Since List elements do not implements compare/equals methods (<em>This holds true for Set &amp; Map also where in general items do not implement Comparable interface but when we need these items to be in sorted order &amp; want to use TreeSet/TreeMap,items should implement Comparable interface</em>)</li>\n<li>Since List uses indexing &amp; due to sorting it won't work (<em>This can be easily handled introducing intermediate interface/abstract class</em>)</li>\n</ol>\n<p>but none has told the exact reason behind it &amp; as I believe these kind of questions can be best answered by java community itself as it will have only one &amp; specific answer but let me try my best to answer this as following,</p>\n<p>As we know sorting is an expensive operation and there is a basic difference between List &amp; Set/Map that List can have duplicates but Set/Map can not.\nThis is the core reason why we have got a default implementation for Set/Map in form of TreeSet/TreeMap. Internally this is a Red Black Tree with every operation (insert/delete/search) having the complexity of <strong>O(log N)</strong> where due to duplicates List could not fit in this data storage structure.</p>\n<p>Now the question arises we could also choose a default sorting method for List also like <strong>MergeSort</strong> which is used by <code>Collections.sort(list)</code> method with the complexity of <strong>O(N log N)</strong>. Community did not do this deliberately since we do have multiple choices for sorting algorithms for non distinct elements like <strong>QuickSort, ShellSort, RadixSort</strong>...etc. In future there can be more. Also sometimes same sorting algorithm performs differently depending on the data to be sorted. Therefore they wanted to keep this option open and left this on us to choose. This was not the case with Set/Map since <strong>O(log N)</strong> is the best sorting complexity.</p>\n"},{"tags":[],"owner":{"account_id":25619595,"reputation":9,"user_id":19391702,"display_name":"Mohit Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658594879,"creation_date":1658594879,"answer_id":73092567,"question_id":8725387,"body_markdown":"We have `Collections.sort(arr)` method which can help to sort ArrayList arr. to get sorted in desc manner we can use `Collections.sort(arr, Collections.reverseOrder())`","title":"Why is there no SortedList in Java?","body":"<p>We have <code>Collections.sort(arr)</code> method which can help to sort ArrayList arr. to get sorted in desc manner we can use <code>Collections.sort(arr, Collections.reverseOrder())</code></p>\n"},{"tags":[],"owner":{"account_id":3793595,"reputation":2392,"user_id":3149444,"accept_rate":56,"display_name":"Perimosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700861664,"creation_date":1700861664,"answer_id":77545752,"question_id":8725387,"body_markdown":"Computational speaking, in simple lists, it is more expensive to insert ordered than insert without any order and then order after you are done inserting.","title":"Why is there no SortedList in Java?","body":"<p>Computational speaking, in simple lists, it is more expensive to insert ordered than insert without any order and then order after you are done inserting.</p>\n"}],"owner":{"account_id":30602,"reputation":12424,"user_id":83501,"accept_rate":78,"display_name":"Jijoy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649051,"favorite_count":0,"down_vote_count":3,"up_vote_count":625,"accepted_answer_id":8725470,"answer_count":14,"score":622,"last_activity_date":1700861664,"creation_date":1325673353,"question_id":8725387,"body_markdown":"In Java there are the [`SortedSet`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedSet.html) and [`SortedMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html) interfaces. Both belong to the [Java Collections framework](https://en.wikipedia.org/wiki/Java_collections_framework) and provide a sorted way to access the elements. \r\n\r\nHowever, in my understanding there is no `SortedList` in Java. You can use [`java.util.Collections.sort()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#sort(java.util.List)) to sort a list.\r\n\r\nAny idea why it is designed like that?\r\n","title":"Why is there no SortedList in Java?","body":"<p>In Java there are the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedSet.html\" rel=\"noreferrer\"><code>SortedSet</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"noreferrer\"><code>SortedMap</code></a> interfaces. Both belong to the <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"noreferrer\">Java Collections framework</a> and provide a sorted way to access the elements. </p>\n\n<p>However, in my understanding there is no <code>SortedList</code> in Java. You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#sort(java.util.List)\" rel=\"noreferrer\"><code>java.util.Collections.sort()</code></a> to sort a list.</p>\n\n<p>Any idea why it is designed like that?</p>\n"},{"tags":["java","soap","jax-ws","soapui"],"comments":[{"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"score":1,"creation_date":1527585900,"post_id":50580220,"comment_id":88170712,"body_markdown":"Connection timeout is a very generic error. You should tell more specifics. Also try using HttpURLConnection class as it is very easy to troubleshoot and then you can get back to wsimport. Is your soapui using any proxy as this can also cause problems in java code? Are you using any certificates in soap ui?","body":"Connection timeout is a very generic error. You should tell more specifics. Also try using HttpURLConnection class as it is very easy to troubleshoot and then you can get back to wsimport. Is your soapui using any proxy as this can also cause problems in java code? Are you using any certificates in soap ui?"},{"owner":{"account_id":11765289,"reputation":1376,"user_id":8633900,"display_name":"Chris Adams"},"score":1,"creation_date":1527586938,"post_id":50580220,"comment_id":88171399,"body_markdown":"Timeout config aside, have you compared what SoapUI is actually sending to the service against what Java is sending?  In SoapUI, on the left there is the panel(s) you use to create the request, but once you send the request, the &#39;raw&#39; request tab is populated.  I have used this many times to compare what SoapUI is sending against my Java or Node apps.  It&#39;s been invaluable to me in highlighting what I have missed in the app.  E.g. small typo in URL; request type, GET, PUSH, etc. the method to call; some missing attribute in the payload; incorrect headers; certificates; credentials..","body":"Timeout config aside, have you compared what SoapUI is actually sending to the service against what Java is sending?  In SoapUI, on the left there is the panel(s) you use to create the request, but once you send the request, the &#39;raw&#39; request tab is populated.  I have used this many times to compare what SoapUI is sending against my Java or Node apps.  It&#39;s been invaluable to me in highlighting what I have missed in the app.  E.g. small typo in URL; request type, GET, PUSH, etc. the method to call; some missing attribute in the payload; incorrect headers; certificates; credentials.."}],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1527694537,"creation_date":1527599282,"answer_id":50585231,"question_id":50580220,"body_markdown":"The problem was I was behind a proxy. I did different tests and found that using a web browser (or SoapUI) I was able to access the resource but from the command line it wasn&#39;t working.\r\n\r\nAfter much searching, it was a simple fix: either passing the property as a jvm argument or manually setting it in the code with `System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;)`. The JVM wasn&#39;t using the proxy on its own.\r\n\r\nEDIT\r\n\r\nAs I used `wsimport` I have a jax-ws client. It&#39;s important that proxy settings be configured prior to instantiantion.\r\n\r\nANOTHER EDIT\r\n\r\nIf by chance you&#39;re having problems and you&#39;re using an application server to make the soap request through the proxy, you may have to specify `java.net.useSystemProxies=true` (or similar) in the **server&#39;s configuration**--for example catalina.properties if using tomcat.","title":"Soap Connection timed out in Java client but not in SOAPUI","body":"<p>The problem was I was behind a proxy. I did different tests and found that using a web browser (or SoapUI) I was able to access the resource but from the command line it wasn't working.</p>\n\n<p>After much searching, it was a simple fix: either passing the property as a jvm argument or manually setting it in the code with <code>System.setProperty(\"java.net.useSystemProxies\", \"true\")</code>. The JVM wasn't using the proxy on its own.</p>\n\n<p>EDIT</p>\n\n<p>As I used <code>wsimport</code> I have a jax-ws client. It's important that proxy settings be configured prior to instantiantion.</p>\n\n<p>ANOTHER EDIT</p>\n\n<p>If by chance you're having problems and you're using an application server to make the soap request through the proxy, you may have to specify <code>java.net.useSystemProxies=true</code> (or similar) in the <strong>server's configuration</strong>--for example catalina.properties if using tomcat.</p>\n"},{"tags":[],"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700861487,"creation_date":1527604292,"answer_id":50586976,"question_id":50580220,"body_markdown":"As you mentioned the problem is of proxy, it has been answered in below links.\r\n\r\nhttps://stackoverflow.com/questions/4599933/how-to-use-an-http-proxy-in-java\r\n\r\nhttps://stackoverflow.com/questions/14250600/proxy-settings-in-a-java-program\r\n\r\nIf you are using proxy with authentication then you have set authenticator along with the proxy. This is answered here.\r\n\r\nhttps://stackoverflow.com/questions/1626549/authenticated-http-proxy-with-java\r\n\r\n**EDIT:**\r\n\r\nYou have set to set the properties before calling them.\r\nMorever, I recommend clearing the property soon after getting response using `System.clearProperty(key)` as the property is set until the jvm is restarted and hence can cause problems for other outgoing connections.\r\n\r\n","title":"Soap Connection timed out in Java client but not in SOAPUI","body":"<p>As you mentioned the problem is of proxy, it has been answered in below links.</p>\n<p><a href=\"https://stackoverflow.com/questions/4599933/how-to-use-an-http-proxy-in-java\">How to use an HTTP proxy in java</a></p>\n<p><a href=\"https://stackoverflow.com/questions/14250600/proxy-settings-in-a-java-program\">Proxy settings in a java program</a></p>\n<p>If you are using proxy with authentication then you have set authenticator along with the proxy. This is answered here.</p>\n<p><a href=\"https://stackoverflow.com/questions/1626549/authenticated-http-proxy-with-java\">Authenticated HTTP proxy with Java</a></p>\n<p><strong>EDIT:</strong></p>\n<p>You have set to set the properties before calling them.\nMorever, I recommend clearing the property soon after getting response using <code>System.clearProperty(key)</code> as the property is set until the jvm is restarted and hence can cause problems for other outgoing connections.</p>\n"}],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7335,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50585231,"answer_count":2,"score":4,"last_activity_date":1700861487,"creation_date":1527584176,"question_id":50580220,"body_markdown":"I created a soap client with `wsimport` and a given wsdl. I also used SoapUI to test the service. Using SoapUI I had no problem but when using my Java client I get \r\n\r\n    java.net.ConnectException: Connection timed out: connect\r\n\r\nThe default values I have in the `requestContext` are as follows\r\n\r\n    com.sun.xml.internal.ws.connect.timeout=100000\r\n    javax.xml.ws.service.endpoint.address=[fully qualified domain name endpoint]\r\n    com.sun.xml.internal.ws.request.timeout=100000\r\n    javax.xml.ws.soap.http.soapaction.use=null\r\n    com.sun.xml.internal.ws.client.ContentNegotiation=none\r\n    javax.xml.ws.soap.http.soapaction.uri=null\r\n\r\nI&#39;ve tried increasing the timeout but it still doesn&#39;t connect.\r\n\r\nHas anyone else had a similar problem?","title":"Soap Connection timed out in Java client but not in SOAPUI","body":"<p>I created a soap client with <code>wsimport</code> and a given wsdl. I also used SoapUI to test the service. Using SoapUI I had no problem but when using my Java client I get </p>\n\n<pre><code>java.net.ConnectException: Connection timed out: connect\n</code></pre>\n\n<p>The default values I have in the <code>requestContext</code> are as follows</p>\n\n<pre><code>com.sun.xml.internal.ws.connect.timeout=100000\njavax.xml.ws.service.endpoint.address=[fully qualified domain name endpoint]\ncom.sun.xml.internal.ws.request.timeout=100000\njavax.xml.ws.soap.http.soapaction.use=null\ncom.sun.xml.internal.ws.client.ContentNegotiation=none\njavax.xml.ws.soap.http.soapaction.uri=null\n</code></pre>\n\n<p>I've tried increasing the timeout but it still doesn't connect.</p>\n\n<p>Has anyone else had a similar problem?</p>\n"},{"tags":["java","stringbuffer"],"comments":[{"owner":{"account_id":15038853,"reputation":1515,"user_id":10854225,"display_name":"vincenzopalazzo"},"score":0,"creation_date":1566740215,"post_id":57646448,"comment_id":101743925,"body_markdown":"Can you post the file format example, please?","body":"Can you post the file format example, please?"},{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1566740360,"post_id":57646448,"comment_id":101743963,"body_markdown":"You&#39;re trying to parse the content of a whole file, containing several numbers (I guess), and line breaks, into a single Integer. That makes no sense. You probably want to parse each line into an Integer (assuming the file contains one number per line)","body":"You&#39;re trying to parse the content of a whole file, containing several numbers (I guess), and line breaks, into a single Integer. That makes no sense. You probably want to parse each line into an Integer (assuming the file contains one number per line)"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1566740401,"post_id":57646448,"comment_id":101743970,"body_markdown":"`strBuffer` looks like a multiline string. `Integer.parseInt()` convert a string to a single integer value, not a formated list of numbers","body":"<code>strBuffer</code> looks like a multiline string. <code>Integer.parseInt()</code> convert a string to a single integer value, not a formated list of numbers"},{"owner":{"account_id":16571241,"reputation":1,"user_id":11974314,"display_name":"Rusla"},"score":0,"creation_date":1566740564,"post_id":57646448,"comment_id":101744010,"body_markdown":"The text file with number 100","body":"The text file with number 100"}],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700861296,"creation_date":1566740499,"answer_id":57646535,"question_id":57646448,"body_markdown":"`Integer.parseInt(String)` throws a `NumberFormatException` when its argument can&#39;t be converted to a number.\r\n\r\nBreak your problem into smaller, more manageable blocks. Your code currently gets the entire content of `example.txt` and tries to parse the whole thing to an `Integer`.\r\n\r\nOne possibility for reading all integer values is to do this with a `java.util.Scanner` object instead and use its `nextInt()` method.\r\n\r\nConsider the following example, given a file `example.txt` with integers separated by spaces.\r\n\r\n    import java.io.File;\r\n    import java.io.InputStream;\r\n    import java.nio.file.Files;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n\r\n    public class App {\r\n        public static void main(String...args) throws Exception {\r\n            File file = new File(&quot;example.txt&quot;);\r\n            try (InputStream is = Files.newInputStream(file.toPath())) {\r\n                Scanner scanner = new Scanner(is);\r\n                List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\r\n                while (scanner.hasNextInt()) {\r\n                    int i = scanner.nextInt();\r\n                    System.out.printf(&quot;Read %d%n&quot;, i);\r\n                    ints.add(i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"How to gets numbers from txt file and than parse to integer?","body":"<p><code>Integer.parseInt(String)</code> throws a <code>NumberFormatException</code> when its argument can't be converted to a number.</p>\n<p>Break your problem into smaller, more manageable blocks. Your code currently gets the entire content of <code>example.txt</code> and tries to parse the whole thing to an <code>Integer</code>.</p>\n<p>One possibility for reading all integer values is to do this with a <code>java.util.Scanner</code> object instead and use its <code>nextInt()</code> method.</p>\n<p>Consider the following example, given a file <code>example.txt</code> with integers separated by spaces.</p>\n<pre><code>import java.io.File;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class App {\n    public static void main(String...args) throws Exception {\n        File file = new File(&quot;example.txt&quot;);\n        try (InputStream is = Files.newInputStream(file.toPath())) {\n            Scanner scanner = new Scanner(is);\n            List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\n            while (scanner.hasNextInt()) {\n                int i = scanner.nextInt();\n                System.out.printf(&quot;Read %d%n&quot;, i);\n                ints.add(i);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566740604,"creation_date":1566740604,"answer_id":57646552,"question_id":57646448,"body_markdown":"Here:\r\n\r\n    int numbers = Integer.parseInt(strBuffer.toString());\r\n\r\nYou should read the javadoc for the library methods you are using. *parseInt()* parses **one** number from a string that contains **one** number.\r\n\r\nSo you need \r\n\r\n- to learn how to use arrays of int (because you want to read and process multiple numbers), not just a single one\r\n- to then use *parseInt()* on the *individual* number strings in that file\r\n\r\nAlso note that you can use the Scanner to directly work on an InputStream, there is no need to first turn the complete file content into one large string in memory! ","title":"How to gets numbers from txt file and than parse to integer?","body":"<p>Here:</p>\n\n<pre><code>int numbers = Integer.parseInt(strBuffer.toString());\n</code></pre>\n\n<p>You should read the javadoc for the library methods you are using. <em>parseInt()</em> parses <strong>one</strong> number from a string that contains <strong>one</strong> number.</p>\n\n<p>So you need </p>\n\n<ul>\n<li>to learn how to use arrays of int (because you want to read and process multiple numbers), not just a single one</li>\n<li>to then use <em>parseInt()</em> on the <em>individual</em> number strings in that file</li>\n</ul>\n\n<p>Also note that you can use the Scanner to directly work on an InputStream, there is no need to first turn the complete file content into one large string in memory! </p>\n"}],"owner":{"account_id":16571241,"reputation":1,"user_id":11974314,"display_name":"Rusla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1944,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700861296,"creation_date":1566739863,"question_id":57646448,"body_markdown":"I use Android Studio.I have a text file with some of numbers and I want to calculate them with others numbers. When I am try to convert them from string with method `Integer.parseInt` on program start I get error and program close.Error is :   \r\n\r\n&gt; at java.lang.Integer.parseInt(Integer.java:521)   \r\n&gt; at java.lang.Integer.parseInt(Integer.java:556)\r\n\r\nI am just beginner and sorry for bad english , I hope you understand my problem.\r\n        This is part of my code.\r\n\r\n \r\n\r\n    public void read (){\r\n    \r\n            try {\r\n                FileInputStream fileInput = openFileInput(&quot;example.txt&quot;);\r\n                InputStreamReader reader = new InputStreamReader(fileInput);\r\n                BufferedReader buffer = new BufferedReader(reader);\r\n                StringBuffer strBuffer = new StringBuffer();\r\n                String lines;\r\n                while ((lines = buffer.readLine()) != null) {\r\n                    strBuffer.append(lines + &quot;\\n&quot;);\r\n    \r\n    \r\n                }\r\n    \r\n           int numbers = Integer.parseInt(strBuffer.toString());\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }","title":"How to gets numbers from txt file and than parse to integer?","body":"<p>I use Android Studio.I have a text file with some of numbers and I want to calculate them with others numbers. When I am try to convert them from string with method <code>Integer.parseInt</code> on program start I get error and program close.Error is :   </p>\n\n<blockquote>\n  <p>at java.lang.Integer.parseInt(Integer.java:521)<br>\n  at java.lang.Integer.parseInt(Integer.java:556)</p>\n</blockquote>\n\n<p>I am just beginner and sorry for bad english , I hope you understand my problem.\n        This is part of my code.</p>\n\n<pre><code>public void read (){\n\n        try {\n            FileInputStream fileInput = openFileInput(\"example.txt\");\n            InputStreamReader reader = new InputStreamReader(fileInput);\n            BufferedReader buffer = new BufferedReader(reader);\n            StringBuffer strBuffer = new StringBuffer();\n            String lines;\n            while ((lines = buffer.readLine()) != null) {\n                strBuffer.append(lines + \"\\n\");\n\n\n            }\n\n       int numbers = Integer.parseInt(strBuffer.toString());\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","android","encryption","cryptography","aes-gcm"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1700860952,"creation_date":1523372764,"answer_id":49757096,"question_id":49755584,"body_markdown":"&gt; I also want to know when I try to decrypt and use a wrong key.\r\n\r\nThat&#39;s OK, but please understand that an invalid tag can mean that the tag itself was altered, the ciphertext was altered, the IV was altered, the AAD was altered or that indeed the key is incorrect.\r\n\r\nYou could also use a key check value or something similar to check if the key size is correct or not before decrypting. But note that an adversary could also alter that check value.\r\n\r\n&gt; So what happens by changing these parameters? Do I still get all the same benefits of GCM?\r\n\r\nFor sure, but GCM was retrofitted in such a way that it was largely compatible but still has more configuration options (mainly the tag size) - if you require to configure that. The `AEADBADTagException` is a `BadPaddingException` so the code should work for each, even though `AEADBADTagException` is more specific.\r\n\r\n\r\n&gt; Is it correct and secure to use just the `IvParameterSpec` through all the Android API levels and verify the integrity through `BadPaddingException`? I do not want to have different implementations for different platforms so I would want to use one only.\r\n\r\nFor sure. Note that only the tag could throw a `BadPaddingException`, so such an exception does correctly identify a problem with the authentication for all (known) AEAD ciphers.\r\n\r\nIt may be superfluous, but relying on `BadPaddingException` for CBC or ECB mode is incorrect and worse, may leak information to an adversary as it enables padding oracles.\r\n\r\n&gt; Also, on API 21+, if I encrypt using GCMParameterSpec and then later use IvParameterSpec to decrypt it decrypts fine! and the same vice versa. How is that working?\r\n\r\nYour code is running for each type of parameter specification because you specified the same tag size as the default: 128 bits. It wouldn&#39;t work with a smaller tag size (unless you throw away the final bits of the tag before verifying, as the tag is resized by taking the leftmost bits/bytes).\r\n\r\n---\r\n\r\nCode comments:\r\n\r\n - `charset` should be a constant (`static final`);\r\n - keys should not be passed as byte arrays but as `SecretKey` instances;\r\n - the IV should always be 12 bytes, so the IV size doesn&#39;t need to be communicated;\r\n - if you do communicate the IV size then you need to check if it is a valid value, currently an adversary can control that byte (and let you create a large IV or throw in `ArrayIndexOutOfBounds` exception);\r\n - when processing exceptions you will want to differentiate between code issues (GCM algorithm not available) and input related issues (bad size) - I wrote a small primer as answer [here](https://stackoverflow.com/a/15712409/589259);\r\n - currently your code is OK for small messages; some kind of streaming would be nice for larger messages.\r\n\r\n","title":"Difference between IvParameterSpec and GCMParameterSpec with AES/GCM/NoPadding","body":"<blockquote>\n<p>I also want to know when I try to decrypt and use a wrong key.</p>\n</blockquote>\n<p>That's OK, but please understand that an invalid tag can mean that the tag itself was altered, the ciphertext was altered, the IV was altered, the AAD was altered or that indeed the key is incorrect.</p>\n<p>You could also use a key check value or something similar to check if the key size is correct or not before decrypting. But note that an adversary could also alter that check value.</p>\n<blockquote>\n<p>So what happens by changing these parameters? Do I still get all the same benefits of GCM?</p>\n</blockquote>\n<p>For sure, but GCM was retrofitted in such a way that it was largely compatible but still has more configuration options (mainly the tag size) - if you require to configure that. The <code>AEADBADTagException</code> is a <code>BadPaddingException</code> so the code should work for each, even though <code>AEADBADTagException</code> is more specific.</p>\n<blockquote>\n<p>Is it correct and secure to use just the <code>IvParameterSpec</code> through all the Android API levels and verify the integrity through <code>BadPaddingException</code>? I do not want to have different implementations for different platforms so I would want to use one only.</p>\n</blockquote>\n<p>For sure. Note that only the tag could throw a <code>BadPaddingException</code>, so such an exception does correctly identify a problem with the authentication for all (known) AEAD ciphers.</p>\n<p>It may be superfluous, but relying on <code>BadPaddingException</code> for CBC or ECB mode is incorrect and worse, may leak information to an adversary as it enables padding oracles.</p>\n<blockquote>\n<p>Also, on API 21+, if I encrypt using GCMParameterSpec and then later use IvParameterSpec to decrypt it decrypts fine! and the same vice versa. How is that working?</p>\n</blockquote>\n<p>Your code is running for each type of parameter specification because you specified the same tag size as the default: 128 bits. It wouldn't work with a smaller tag size (unless you throw away the final bits of the tag before verifying, as the tag is resized by taking the leftmost bits/bytes).</p>\n<hr />\n<p>Code comments:</p>\n<ul>\n<li><code>charset</code> should be a constant (<code>static final</code>);</li>\n<li>keys should not be passed as byte arrays but as <code>SecretKey</code> instances;</li>\n<li>the IV should always be 12 bytes, so the IV size doesn't need to be communicated;</li>\n<li>if you do communicate the IV size then you need to check if it is a valid value, currently an adversary can control that byte (and let you create a large IV or throw in <code>ArrayIndexOutOfBounds</code> exception);</li>\n<li>when processing exceptions you will want to differentiate between code issues (GCM algorithm not available) and input related issues (bad size) - I wrote a small primer as answer <a href=\"https://stackoverflow.com/a/15712409/589259\">here</a>;</li>\n<li>currently your code is OK for small messages; some kind of streaming would be nice for larger messages.</li>\n</ul>\n"}],"owner":{"account_id":13297099,"reputation":538,"user_id":9599716,"display_name":"Droid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15184,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":49757096,"answer_count":1,"score":12,"last_activity_date":1700860952,"creation_date":1523368685,"question_id":49755584,"body_markdown":"I am using `AES/GCM/NoPadding` algorithm to encrypt some data on Android (API 19 and onwards) and then later decrypt it back.\r\n\r\nThe key size I use is 32 bytes and is provided to me\r\n\r\nIn addition to the encryption, **I also want to know when I try to decrypt and use a wrong key**. Which is why I prefer to use GCM as my mode to get the benefits of verifying integrity (I believe its safe to assume whether the ciphertext or the key whichever is faulty would result in a bad decrypt exception rather than garbled text)\r\n\r\nThe problem I face is that on Android API 19 using the algorithm above and initializing the cipher with `GCMParameterSpec` I get a `NoSuchAlgorithmException`, I do not specify any provider myself allowing Android to pick one for me which can support my algorithm. On 21+ the Algorithm is available. \r\nThis is how I am initializing(similar for decryption), the entire class is posted at the end of this post.\r\n    \r\n    cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(key, &quot;AES&quot;), new GCMParameterSpec(TAG_LENGTH_BIT, iv));\r\n\r\n**However, if I use `IvParameterSpec(iv)` as my `AlgorithmParameters` instead of `GCMParameterSpec` then the code works fine.** \r\n\r\nSo what happens by changing these parameters? Do I still get all the same benefits of GCM? \r\n\r\nBecause the exceptions thrown are different when attempting to use a wrong key. On API 19 `BadPaddingException` is thrown when `IvParameterSpec` is used, on API 21+ `AEADBADTagException` is thrown when `GCMParameterSpec` is used.\r\n\r\n\r\nIs it correct and secure to use just the `IvParameterSpec` through all the Android API levels and verify the integrity through `BadPaddingException`? I do not want to have different implementations for different platforms so I would want to use one only.\r\n\r\nAlso, on API 21+, if I encrypt using `GCMParameterSpec` and then later use `IvParameterSpec` to decrypt it decrypts fine! and the same vice versa. How is that working?\r\n\r\nIf the above is not possible on API 19 then what are my possible options to use as an encryption algorithm and a strategy to use(`AES/CBC/PKCS5Padding` with HMAC?) to verify the integrity of the key.\r\n\r\nFull class code:\r\n\r\n    import android.util.Base64;\r\n    \r\n    import java.nio.ByteBuffer;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.SecureRandom;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    final class Encryption {\r\n        private static final String ALGORITHM = &quot;AES/GCM/NoPadding&quot;;\r\n        private static final int TAG_LENGTH_BIT = 128;\r\n        private static final int IV_LENGTH_BYTE = 12;\r\n    \r\n        private final SecureRandom secureRandom;\r\n        private Cipher cipher;\r\n        private final Charset charset = StandardCharsets.UTF_8;\r\n    \r\n        public Encryption() {\r\n            secureRandom = new SecureRandom();\r\n        }\r\n    \r\n        public String encrypt(byte[] key, String rawData) throws Exception {\r\n            try {\r\n                byte[] iv = new byte[IV_LENGTH_BYTE];\r\n                secureRandom.nextBytes(iv);\r\n    \r\n                cipher = Cipher.getInstance(ALGORITHM);\r\n                //This is where I switch to IvParameterSpec(iv)\r\n                cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(key, &quot;AES&quot;), new GCMParameterSpec(TAG_LENGTH_BIT, iv));\r\n    \r\n                byte[] encrypted = cipher.doFinal(rawData.getBytes(charset));\r\n    \r\n                ByteBuffer byteBuffer = ByteBuffer.allocate(1 + iv.length + encrypted.length);\r\n                byteBuffer.put((byte) iv.length);\r\n                byteBuffer.put(iv);\r\n                byteBuffer.put(encrypted);\r\n                return Base64.encodeToString(byteBuffer.array(), Base64.NO_WRAP);\r\n            } catch (Exception e) { //ignore this SO\r\n                throw new Exception(e);\r\n            }\r\n        }\r\n    \r\n    \r\n        public String decrypt(byte[] key, String encryptedData) throws Exception {\r\n            try {\r\n                ByteBuffer byteBuffer = ByteBuffer.wrap(Base64.decode(encryptedData, Base64.NO_WRAP));\r\n    \r\n                int ivLength = byteBuffer.get();\r\n                byte[] iv = new byte[ivLength];\r\n                byteBuffer.get(iv);\r\n                byte[] encrypted = new byte[byteBuffer.remaining()];\r\n                byteBuffer.get(encrypted);\r\n    \r\n                cipher = Cipher.getInstance(ALGORITHM);\r\n                cipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key, &quot;AES&quot;), new GCMParameterSpec(TAG_LENGTH_BIT, iv));\r\n                byte[] decrypted = cipher.doFinal(encrypted);\r\n    \r\n                //Paranoia\r\n                Arrays.fill(iv, (byte) 0);\r\n                Arrays.fill(rawEncryptionKey, (byte) 0);\r\n                Arrays.fill(encrypted, (byte) 0);\r\n    \r\n                return new String(decrypted, charset);\r\n            } catch (Exception e) { //ignore this SO\r\n                // On API 19 BadPaddingException is thrown when IvParameterSpec is used\r\n                // On API 21+ AEADBADTagException is thrown\r\n                throw new Exception(&quot;could not decrypt&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nAlso, feel free to suggest improvements to the provided class along with your answer, thanks.\r\n\r\n\r\n\r\n","title":"Difference between IvParameterSpec and GCMParameterSpec with AES/GCM/NoPadding","body":"<p>I am using <code>AES/GCM/NoPadding</code> algorithm to encrypt some data on Android (API 19 and onwards) and then later decrypt it back.</p>\n\n<p>The key size I use is 32 bytes and is provided to me</p>\n\n<p>In addition to the encryption, <strong>I also want to know when I try to decrypt and use a wrong key</strong>. Which is why I prefer to use GCM as my mode to get the benefits of verifying integrity (I believe its safe to assume whether the ciphertext or the key whichever is faulty would result in a bad decrypt exception rather than garbled text)</p>\n\n<p>The problem I face is that on Android API 19 using the algorithm above and initializing the cipher with <code>GCMParameterSpec</code> I get a <code>NoSuchAlgorithmException</code>, I do not specify any provider myself allowing Android to pick one for me which can support my algorithm. On 21+ the Algorithm is available. \nThis is how I am initializing(similar for decryption), the entire class is posted at the end of this post.</p>\n\n<pre><code>cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(key, \"AES\"), new GCMParameterSpec(TAG_LENGTH_BIT, iv));\n</code></pre>\n\n<p><strong>However, if I use <code>IvParameterSpec(iv)</code> as my <code>AlgorithmParameters</code> instead of <code>GCMParameterSpec</code> then the code works fine.</strong> </p>\n\n<p>So what happens by changing these parameters? Do I still get all the same benefits of GCM? </p>\n\n<p>Because the exceptions thrown are different when attempting to use a wrong key. On API 19 <code>BadPaddingException</code> is thrown when <code>IvParameterSpec</code> is used, on API 21+ <code>AEADBADTagException</code> is thrown when <code>GCMParameterSpec</code> is used.</p>\n\n<p>Is it correct and secure to use just the <code>IvParameterSpec</code> through all the Android API levels and verify the integrity through <code>BadPaddingException</code>? I do not want to have different implementations for different platforms so I would want to use one only.</p>\n\n<p>Also, on API 21+, if I encrypt using <code>GCMParameterSpec</code> and then later use <code>IvParameterSpec</code> to decrypt it decrypts fine! and the same vice versa. How is that working?</p>\n\n<p>If the above is not possible on API 19 then what are my possible options to use as an encryption algorithm and a strategy to use(<code>AES/CBC/PKCS5Padding</code> with HMAC?) to verify the integrity of the key.</p>\n\n<p>Full class code:</p>\n\n<pre><code>import android.util.Base64;\n\nimport java.nio.ByteBuffer;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.security.SecureRandom;\nimport java.util.Arrays;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\nfinal class Encryption {\n    private static final String ALGORITHM = \"AES/GCM/NoPadding\";\n    private static final int TAG_LENGTH_BIT = 128;\n    private static final int IV_LENGTH_BYTE = 12;\n\n    private final SecureRandom secureRandom;\n    private Cipher cipher;\n    private final Charset charset = StandardCharsets.UTF_8;\n\n    public Encryption() {\n        secureRandom = new SecureRandom();\n    }\n\n    public String encrypt(byte[] key, String rawData) throws Exception {\n        try {\n            byte[] iv = new byte[IV_LENGTH_BYTE];\n            secureRandom.nextBytes(iv);\n\n            cipher = Cipher.getInstance(ALGORITHM);\n            //This is where I switch to IvParameterSpec(iv)\n            cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(key, \"AES\"), new GCMParameterSpec(TAG_LENGTH_BIT, iv));\n\n            byte[] encrypted = cipher.doFinal(rawData.getBytes(charset));\n\n            ByteBuffer byteBuffer = ByteBuffer.allocate(1 + iv.length + encrypted.length);\n            byteBuffer.put((byte) iv.length);\n            byteBuffer.put(iv);\n            byteBuffer.put(encrypted);\n            return Base64.encodeToString(byteBuffer.array(), Base64.NO_WRAP);\n        } catch (Exception e) { //ignore this SO\n            throw new Exception(e);\n        }\n    }\n\n\n    public String decrypt(byte[] key, String encryptedData) throws Exception {\n        try {\n            ByteBuffer byteBuffer = ByteBuffer.wrap(Base64.decode(encryptedData, Base64.NO_WRAP));\n\n            int ivLength = byteBuffer.get();\n            byte[] iv = new byte[ivLength];\n            byteBuffer.get(iv);\n            byte[] encrypted = new byte[byteBuffer.remaining()];\n            byteBuffer.get(encrypted);\n\n            cipher = Cipher.getInstance(ALGORITHM);\n            cipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key, \"AES\"), new GCMParameterSpec(TAG_LENGTH_BIT, iv));\n            byte[] decrypted = cipher.doFinal(encrypted);\n\n            //Paranoia\n            Arrays.fill(iv, (byte) 0);\n            Arrays.fill(rawEncryptionKey, (byte) 0);\n            Arrays.fill(encrypted, (byte) 0);\n\n            return new String(decrypted, charset);\n        } catch (Exception e) { //ignore this SO\n            // On API 19 BadPaddingException is thrown when IvParameterSpec is used\n            // On API 21+ AEADBADTagException is thrown\n            throw new Exception(\"could not decrypt\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>Also, feel free to suggest improvements to the provided class along with your answer, thanks.</p>\n"},{"tags":["java","android","android-workmanager"],"comments":[{"owner":{"account_id":8356567,"reputation":2899,"user_id":6276596,"display_name":"Furkan Yurdakul"},"score":0,"creation_date":1700767983,"post_id":77478718,"comment_id":136697595,"body_markdown":"This can depend on the phone model / brand. If you&#39;re using any of something like Xiaomi, Huawei, Oppo etc... the system might block the worker after a while to optimize the battery. Each device has its unique solution for this: in Xiaomi you can disable the battery saver option for example. Without that, it is impossible to guarantee unless the phone manufacturer explicitly allows your app by default.","body":"This can depend on the phone model / brand. If you&#39;re using any of something like Xiaomi, Huawei, Oppo etc... the system might block the worker after a while to optimize the battery. Each device has its unique solution for this: in Xiaomi you can disable the battery saver option for example. Without that, it is impossible to guarantee unless the phone manufacturer explicitly allows your app by default."}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700317928,"creation_date":1700317928,"answer_id":77507315,"question_id":77478718,"body_markdown":"&gt; Any idea why this would stop or how to troubleshoot?\r\n\r\nProbably because it&#39;s a long running worker, in such case the documentation provides [Support for long-running workers][1] which runs a foreground service on your behalf to execute the `WorkRequest`.\r\n\r\nThis requires to call [`startForeground()`][2] to update the notification associated with the foreground service:\r\n\r\n&gt; These APIs allow developers to specify that this WorkRequest is\r\n&gt; important (from a user perspective) or long-running.\r\n\r\nThe documentation offers [a Java sample][3] for that case. And [this answer][4] also has another Kotlin example.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/background/persistent/how-to/long-running\r\n  [2]: https://developer.android.com/reference/kotlin/androidx/work/CoroutineWorker#setforeground\r\n  [3]: https://developer.android.com/guide/background/persistent/how-to/long-running#long-running-java\r\n  [4]: https://stackoverflow.com/a/75240790/9851608","title":"Worker class enqueued with enqueueUniquePeriodicWork stops working","body":"<blockquote>\n<p>Any idea why this would stop or how to troubleshoot?</p>\n</blockquote>\n<p>Probably because it's a long running worker, in such case the documentation provides <a href=\"https://developer.android.com/guide/background/persistent/how-to/long-running\" rel=\"nofollow noreferrer\">Support for long-running workers</a> which runs a foreground service on your behalf to execute the <code>WorkRequest</code>.</p>\n<p>This requires to call <a href=\"https://developer.android.com/reference/kotlin/androidx/work/CoroutineWorker#setforeground\" rel=\"nofollow noreferrer\"><code>startForeground()</code></a> to update the notification associated with the foreground service:</p>\n<blockquote>\n<p>These APIs allow developers to specify that this WorkRequest is\nimportant (from a user perspective) or long-running.</p>\n</blockquote>\n<p>The documentation offers <a href=\"https://developer.android.com/guide/background/persistent/how-to/long-running#long-running-java\" rel=\"nofollow noreferrer\">a Java sample</a> for that case. And <a href=\"https://stackoverflow.com/a/75240790/9851608\">this answer</a> also has another Kotlin example.</p>\n"}],"owner":{"account_id":18825,"reputation":5337,"user_id":43541,"accept_rate":94,"display_name":"Yossi Dahan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700860392,"creation_date":1699945732,"question_id":77478718,"body_markdown":"I have a Worker class - ```public class UpdatePushRegistration extends Worker``` which I enqueue using \r\n\r\n```\r\nPeriodicWorkRequest myWorkRequest = new PeriodicWorkRequest.Builder(UpdatePushRegistration.class, 20, TimeUnit.MINUTES)\r\n.build();\r\n\r\nWorkManager.getInstance(getApplicationContext()).enqueueUniquePeriodicWork(&quot;UpdatePushNotification&quot;, ExistingPeriodicWorkPolicy.CANCEL_AND_REENQUEUE,myWorkRequest);\r\n```\r\n\r\nWhen I run in the debugger and leave my laptop running, it seems to be working fine. when I run on my phone (either by copying the APK or by publishing through the store) it runs a number of times, sometimes as low as 2, and then stops (I write to a cloud based log). I tried this on two different phone models. \r\n\r\nAny idea why this would stop or how to troubleshoot? ","title":"Worker class enqueued with enqueueUniquePeriodicWork stops working","body":"<p>I have a Worker class - <code>public class UpdatePushRegistration extends Worker</code> which I enqueue using</p>\n<pre><code>PeriodicWorkRequest myWorkRequest = new PeriodicWorkRequest.Builder(UpdatePushRegistration.class, 20, TimeUnit.MINUTES)\n.build();\n\nWorkManager.getInstance(getApplicationContext()).enqueueUniquePeriodicWork(&quot;UpdatePushNotification&quot;, ExistingPeriodicWorkPolicy.CANCEL_AND_REENQUEUE,myWorkRequest);\n</code></pre>\n<p>When I run in the debugger and leave my laptop running, it seems to be working fine. when I run on my phone (either by copying the APK or by publishing through the store) it runs a number of times, sometimes as low as 2, and then stops (I write to a cloud based log). I tried this on two different phone models.</p>\n<p>Any idea why this would stop or how to troubleshoot?</p>\n"},{"tags":["java","ios","swift","cryptography","rsa"],"comments":[{"owner":{"account_id":208697,"reputation":526,"user_id":459349,"accept_rate":50,"display_name":"mahler"},"score":0,"creation_date":1599154804,"post_id":63727889,"comment_id":112693727,"body_markdown":"I could update the Java cipher to use `MGF1ParameterSpec.SHA256`, but unfortunately that isn&#39;t supported by Android, so I would rather re-configure the OAEP parameter spec on iOS.","body":"I could update the Java cipher to use <code>MGF1ParameterSpec.SHA256</code>, but unfortunately that isn&#39;t supported by Android, so I would rather re-configure the OAEP parameter spec on iOS."},{"owner":{"account_id":7249113,"reputation":2883,"user_id":5530076,"accept_rate":100,"display_name":"Bram"},"score":0,"creation_date":1609291818,"post_id":63727889,"comment_id":115803417,"body_markdown":"Just out of curiosity, have you tried `.rsaEncryptionOAEPSHA1`? Not sure if that sets the MGF or only the hash function for the message...","body":"Just out of curiosity, have you tried <code>.rsaEncryptionOAEPSHA1</code>? Not sure if that sets the MGF or only the hash function for the message..."},{"owner":{"account_id":9591971,"reputation":466,"user_id":7122527,"accept_rate":91,"display_name":"Leonif"},"score":0,"creation_date":1670924087,"post_id":63727889,"comment_id":131979893,"body_markdown":".rsaEncryptionOAEPSHA1 - doesn&#39;t work","body":".rsaEncryptionOAEPSHA1 - doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":18276400,"reputation":11,"user_id":13306118,"display_name":"samcro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614220194,"creation_date":1614220194,"answer_id":66361539,"question_id":63727889,"body_markdown":"Faced the same issue, from what I&#39;ve researched &amp; experimented with, it&#39;s practically impossible to support RSA/ECB/OAEPWithSHA-256AndMGF1Padding on iOS.\r\n\r\nSimiliar issue: https://stackoverflow.com/questions/47237524/encrypt-rsa-ecb-oaepwithsha-256andmgf1padding-swift\r\n\r\nBut this only addressed the algorithm but not the padding issue.","title":"Compatibility of .rsaEncryptionOAEPSHA256 algorithm on iOS with Java","body":"<p>Faced the same issue, from what I've researched &amp; experimented with, it's practically impossible to support RSA/ECB/OAEPWithSHA-256AndMGF1Padding on iOS.</p>\n<p>Similiar issue: <a href=\"https://stackoverflow.com/questions/47237524/encrypt-rsa-ecb-oaepwithsha-256andmgf1padding-swift\">Encrypt RSA/ECB/OAEPWithSHA-256AndMGF1Padding Swift</a></p>\n<p>But this only addressed the algorithm but not the padding issue.</p>\n"}],"owner":{"account_id":208697,"reputation":526,"user_id":459349,"accept_rate":50,"display_name":"mahler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1773,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700860381,"creation_date":1599150337,"question_id":63727889,"body_markdown":"I am trying to communicate from an iOS application to a Java backend. When using the `.rsaEncryptionOAEPSHA256` algorithm in `SecKeyCreateEncryptedData` for [encryption][1], the backend shows the following stacktrace:\r\n\r\n```\r\nCaused by: java.lang.SecurityException: Exception thrown while invoking doFinal(byte[]).\r\n\tat \t... 101 common frames omitted\r\nCaused by: javax.crypto.BadPaddingException: Decryption error\r\n\tat java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:497)\r\n\tat java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:292)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:366)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:392)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2207)\r\n\t... 103 common frames omitted\r\n```\r\n\r\nThe Java backend is using the `RSA/ECB/OAEPWithSHA-256AndMGF1Padding` algorithm from the `SunJCE` provider. This provider uses `SHA-1` for the **MGF1** digest. However the default for iOS is to use `SHA-256`.\r\n\r\n- How can I change this in the code for iOS to make this compatible?\r\n\r\n\r\n**Note:** To be clear, the exact same interaction is currently working fine with `.rsaEncryptionPKCS1` on iOS where the backend uses `RSA/ECB/PKCS1Padding` in Java.\r\n\r\n  [1]: https://developer.apple.com/documentation/security/certificate_key_and_trust_services/keys/using_keys_for_encryption","title":"Compatibility of .rsaEncryptionOAEPSHA256 algorithm on iOS with Java","body":"<p>I am trying to communicate from an iOS application to a Java backend. When using the <code>.rsaEncryptionOAEPSHA256</code> algorithm in <code>SecKeyCreateEncryptedData</code> for <a href=\"https://developer.apple.com/documentation/security/certificate_key_and_trust_services/keys/using_keys_for_encryption\" rel=\"nofollow noreferrer\">encryption</a>, the backend shows the following stacktrace:</p>\n<pre><code>Caused by: java.lang.SecurityException: Exception thrown while invoking doFinal(byte[]).\n    at  ... 101 common frames omitted\nCaused by: javax.crypto.BadPaddingException: Decryption error\n    at java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:497)\n    at java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:292)\n    at java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:366)\n    at java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:392)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2207)\n    ... 103 common frames omitted\n</code></pre>\n<p>The Java backend is using the <code>RSA/ECB/OAEPWithSHA-256AndMGF1Padding</code> algorithm from the <code>SunJCE</code> provider. This provider uses <code>SHA-1</code> for the <strong>MGF1</strong> digest. However the default for iOS is to use <code>SHA-256</code>.</p>\n<ul>\n<li>How can I change this in the code for iOS to make this compatible?</li>\n</ul>\n<p><strong>Note:</strong> To be clear, the exact same interaction is currently working fine with <code>.rsaEncryptionPKCS1</code> on iOS where the backend uses <code>RSA/ECB/PKCS1Padding</code> in Java.</p>\n"},{"tags":["java","oauth","authorization","httpclient","bearer-token"],"answers":[{"tags":[],"owner":{"account_id":14982410,"reputation":21,"user_id":10816052,"display_name":"Vikas Kasegaonkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557469290,"creation_date":1557469290,"answer_id":56071818,"question_id":56071592,"body_markdown":"First you have to authenticate user using user name and password(Using HTTP call) then you will have token in response same you can add it to your next POST call in header. \r\n\r\nOne get/post call is required before your POST call so that you will have token.\r\nSame token can be used for all further call.","title":"How i can get the Bearer Token from HttpClient?","body":"<p>First you have to authenticate user using user name and password(Using HTTP call) then you will have token in response same you can add it to your next POST call in header. </p>\n\n<p>One get/post call is required before your POST call so that you will have token.\nSame token can be used for all further call.</p>\n"},{"tags":[],"owner":{"account_id":1775672,"reputation":151,"user_id":1619503,"display_name":"Neeraj Kukreti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557470768,"creation_date":1557470768,"answer_id":56072146,"question_id":56071592,"body_markdown":"Seems you are trying to access some APIs which requires you to first get some access token (bearer token) before to hitting actual API.\r\n\r\nMost flows involve two steps as explained below.\r\n\r\n**Step 1.** \r\nFetch bearer token with basic authentication (below endpoint and parameter are sample value and will be different for your API)\r\n&lt;pre&gt;\r\nPOST /auth \r\n`request.setHeader(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + authToken);`\r\n&lt;/pre&gt;\r\n**Step 2:**\r\nStep1 will give you some kind of access token in response. You need to use that to make any subsequent API call.\r\n&lt;pre&gt;\r\nGET /Student/Mark\r\n`request.setHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + authToken);`\r\n\r\n&lt;/pre&gt;\r\n\r\nYou can read more about bearer token at https://stackoverflow.com/questions/25838183/what-is-the-oauth-2-0-bearer-token-exactly\r\n\r\nLet me know in case you still have any doubts or not able to access your API with the approach I mentioned.","title":"How i can get the Bearer Token from HttpClient?","body":"<p>Seems you are trying to access some APIs which requires you to first get some access token (bearer token) before to hitting actual API.</p>\n\n<p>Most flows involve two steps as explained below.</p>\n\n<p><strong>Step 1.</strong> \nFetch bearer token with basic authentication (below endpoint and parameter are sample value and will be different for your API)</p>\n\n<pre>\nPOST /auth \n`request.setHeader(HttpHeaders.AUTHORIZATION, \"Basic \" + authToken);`\n</pre>\n\n<p><strong>Step 2:</strong>\nStep1 will give you some kind of access token in response. You need to use that to make any subsequent API call.</p>\n\n<pre>\nGET /Student/Mark\n`request.setHeader(HttpHeaders.AUTHORIZATION, \"Bearer \" + authToken);`\n\n</pre>\n\n<p>You can read more about bearer token at <a href=\"https://stackoverflow.com/questions/25838183/what-is-the-oauth-2-0-bearer-token-exactly\">What is the OAuth 2.0 Bearer Token exactly?</a></p>\n\n<p>Let me know in case you still have any doubts or not able to access your API with the approach I mentioned.</p>\n"}],"owner":{"account_id":15908946,"reputation":11,"user_id":11479352,"display_name":"Daniela Grave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700860000,"creation_date":1557468170,"question_id":56071592,"body_markdown":"I&#39;m trying to send a POST request via HttpClient, but server response says &quot;unauthorized&quot; error. How I can get the Bearer Token? I searched for solutions but I don&#39;t understand it..\r\n\r\nThat&#39;s my code and I don&#39;t know how I get the token for the request...\r\n\r\n    HttpPost request = new HttpPost(&quot;http://domain...&quot;);\r\n    request.setHeader(HttpHeaders.ACCEPT, &quot;application/json, text/plain, */*&quot;);\r\n    request.setHeader(HttpHeaders.CONTENT_TYPE, &quot;application/#json&quot;);\r\n    request.setHeader(HttpHeaders.ACCEPT_LANGUAGE, &quot;de,en-US;q=0.7,en;q=0.3&quot;);\r\n    request.setHeader(HttpHeaders.ACCEPT_ENCODING, &quot;gzip, deflate, br&quot;);\r\n    request.setHeader(HttpHeaders.REFERER, &quot;https://domain...&quot;);\r\n    request.setHeader(&quot;DNT&quot;, &quot;1&quot;);\r\n    request.setHeader(HttpHeaders.HOST, &quot;host..&quot;);\r\n    String authToken = &quot;&quot;; // ... ?\r\n    request.setHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + authToken);\r\n    StringEntity params = new StringEntity(&quot;{}&quot;);\r\n    params.setContentEncoding(&quot;UTF-8&quot;);\r\n    request.setEntity(params);\r\n    response = this.getHttpClient().execute(request);","title":"How i can get the Bearer Token from HttpClient?","body":"<p>I'm trying to send a POST request via HttpClient, but server response says \"unauthorized\" error. How I can get the Bearer Token? I searched for solutions but I don't understand it..</p>\n\n<p>That's my code and I don't know how I get the token for the request...</p>\n\n<pre><code>HttpPost request = new HttpPost(\"http://domain...\");\nrequest.setHeader(HttpHeaders.ACCEPT, \"application/json, text/plain, */*\");\nrequest.setHeader(HttpHeaders.CONTENT_TYPE, \"application/#json\");\nrequest.setHeader(HttpHeaders.ACCEPT_LANGUAGE, \"de,en-US;q=0.7,en;q=0.3\");\nrequest.setHeader(HttpHeaders.ACCEPT_ENCODING, \"gzip, deflate, br\");\nrequest.setHeader(HttpHeaders.REFERER, \"https://domain...\");\nrequest.setHeader(\"DNT\", \"1\");\nrequest.setHeader(HttpHeaders.HOST, \"host..\");\nString authToken = \"\"; // ... ?\nrequest.setHeader(HttpHeaders.AUTHORIZATION, \"Bearer \" + authToken);\nStringEntity params = new StringEntity(\"{}\");\nparams.setContentEncoding(\"UTF-8\");\nrequest.setEntity(params);\nresponse = this.getHttpClient().execute(request);\n</code></pre>\n"},{"tags":["java","spring-boot","validation","web-services","upgrade"],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700859753,"creation_date":1700858028,"answer_id":77545552,"question_id":77545551,"body_markdown":"It is caused by an apparent change of logic in the dependency on `spring-boot-starter-validation`. In my Spring Boot 3.1.5 applications, I either had not this dependency at all, or had it with the `text` scope. Now in spring Boot 3.2.0 it is apparently mandatory. The `pom.xml` file must contain\r\n\r\n``` lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWithout this, any controller method with parameters annotated with some `jakarta.validation` annotations, such as `jakarta.validation.constraints.NotNull`, throws the described exception. The exception is thrown by Spring and the method is not even called at all.","title":"Error &quot;IllegalStateException: No target Validator set&quot; after upgrade from Spring Boot 3.1.5 to 3.2.0","body":"<p>It is caused by an apparent change of logic in the dependency on <code>spring-boot-starter-validation</code>. In my Spring Boot 3.1.5 applications, I either had not this dependency at all, or had it with the <code>text</code> scope. Now in spring Boot 3.2.0 it is apparently mandatory. The <code>pom.xml</code> file must contain</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Without this, any controller method with parameters annotated with some <code>jakarta.validation</code> annotations, such as <code>jakarta.validation.constraints.NotNull</code>, throws the described exception. The exception is thrown by Spring and the method is not even called at all.</p>\n"}],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77545552,"answer_count":1,"score":0,"last_activity_date":1700859753,"creation_date":1700858028,"question_id":77545551,"body_markdown":"After upgrading from Spring Boot 3.1.5 to Spring Boot 3.2.0, I get the following error:\r\n\r\n``` lang-plaintext\r\njava.lang.IllegalStateException: No target Validator set\r\n\tat org.springframework.util.Assert.state(Assert.java:76)\r\n\tat org.springframework.validation.beanvalidation.SpringValidatorAdapter.forExecutables(SpringValidatorAdapter.java:396)\r\n\tat org.springframework.validation.beanvalidation.MethodValidationAdapter.invokeValidatorForArguments(MethodValidationAdapter.java:257)\r\n\tat org.springframework.validation.beanvalidation.MethodValidationAdapter.validateArguments(MethodValidationAdapter.java:240)\r\n\tat org.springframework.web.method.annotation.HandlerMethodValidator.validateArguments(HandlerMethodValidator.java:115)\r\n\tat org.springframework.web.method.annotation.HandlerMethodValidator.applyArgumentValidation(HandlerMethodValidator.java:83)\r\n\tat org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:164)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\r\n\tat reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:297)\r\n\tat reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:478)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122)\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)\r\n\tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:193)\r\n\tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63)\r\n\tat reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:220)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onSubscribe(MonoIgnoreThen.java:135)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117)\r\n\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:129)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:241)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:204)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189)\r\n\tat reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:264)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258)\r\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331)\r\n\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\r\n\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164)\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:264)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\tat reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1169)\r\n\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\r\n\tat reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:481)\r\n\tat reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:652)\r\n\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:114)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:238)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\tat io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe$1.run(AbstractEpollChannel.java:425)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n```","title":"Error &quot;IllegalStateException: No target Validator set&quot; after upgrade from Spring Boot 3.1.5 to 3.2.0","body":"<p>After upgrading from Spring Boot 3.1.5 to Spring Boot 3.2.0, I get the following error:</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>java.lang.IllegalStateException: No target Validator set\n    at org.springframework.util.Assert.state(Assert.java:76)\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.forExecutables(SpringValidatorAdapter.java:396)\n    at org.springframework.validation.beanvalidation.MethodValidationAdapter.invokeValidatorForArguments(MethodValidationAdapter.java:257)\n    at org.springframework.validation.beanvalidation.MethodValidationAdapter.validateArguments(MethodValidationAdapter.java:240)\n    at org.springframework.web.method.annotation.HandlerMethodValidator.validateArguments(HandlerMethodValidator.java:115)\n    at org.springframework.web.method.annotation.HandlerMethodValidator.applyArgumentValidation(HandlerMethodValidator.java:83)\n    at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:164)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\n    at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:297)\n    at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:478)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n    at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)\n    at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:193)\n    at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63)\n    at reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:220)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onSubscribe(MonoIgnoreThen.java:135)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117)\n    at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:129)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:241)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:204)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189)\n    at reactor.core.publisher.Operators.complete(Operators.java:137)\n    at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:264)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258)\n    at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331)\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338)\n    at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164)\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:264)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n    at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1169)\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\n    at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:481)\n    at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:652)\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:114)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:238)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n    at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe$1.run(AbstractEpollChannel.java:425)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","spring-boot","error-handling","microservices","openapi"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1700852543,"post_id":77545141,"comment_id":136707533,"body_markdown":"`getUserById` is defined to return `ResponseEntity&lt;ApiUser&gt;`, but the error path is attempting to set the ResponseEntity body to a String, which is not an `ApiUser`.","body":"<code>getUserById</code> is defined to return <code>ResponseEntity&lt;ApiUser&gt;</code>, but the error path is attempting to set the ResponseEntity body to a String, which is not an <code>ApiUser</code>."},{"owner":{"account_id":23021886,"reputation":25,"user_id":17142807,"display_name":"kuno vercammen"},"score":0,"creation_date":1700852710,"post_id":77545141,"comment_id":136707552,"body_markdown":"Yes I know, but what I want to know is if there is a way to work around that?","body":"Yes I know, but what I want to know is if there is a way to work around that?"}],"answers":[{"tags":[],"owner":{"account_id":29986093,"reputation":26,"user_id":22979984,"display_name":"kaslemnato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700859270,"creation_date":1700859270,"answer_id":77545626,"question_id":77545141,"body_markdown":"The problem is that you are trying to return a `ResponseEntity&lt;String&gt;` while you actually want to return `ResponseEntity&lt;Void&gt;`. Since you are creating a new User, you do not want to return a response body, therefore your response body should be empty.\r\n\r\nSo, your method should look like this:\r\n\r\n    @Override\r\n    public ResponseEntity&lt;Void&gt; createUser(ApiUser data) {\r\n            userService.createUser(data);\r\n            return ResponseEntity.status(HttpStatus.CREATED).build();\r\n    }\r\n\r\nFor POST requests where you create new entities, you should be using 201 CREATED instead of 200 OK.\r\n\r\nCreate your custom exception like so:\r\n\r\n    package com.example.userservice.domain.user;\r\n\r\n    public class UserException extends ResponseStatusException {\r\n\r\n    public UserException(String reason) {\r\n        super(HttpStatus.BAD_REQUEST, message);\r\n\r\n       }\r\n    }\r\n\r\nWhen you extend this `ResponseStatusException` with custom `HttpStatus`, you can throw it with your specified message in your service layer and it will respond with your custom HTTP status, no need to catch them afterwards since Spring responds with this exception afterwards.\r\n\r\nAlso other small things to mention:\r\n\r\n 1. For mapping entities to your custom DTOs, you can use annotation processor like [MapStruct][1]. This will generate mappings for your entities, therefore saving you from the custom bloat code you make. Also you should do this in the service layer instead where all the business logic is happening.\r\n 2. I highly recommend using [Lombok][2], which lets you generate getters, setters, constructors and such for your classes, which is also generated by the annotation processing, saving you from other lots of bloat code. For example:\r\n\r\n        @Component\r\n        @RequiredArgsConstructor\r\n        public class UserController implements UserApiDelegate {\r\n\r\n        private final UserService userService;\r\n\r\nwill create the custom constructor for you with the `UserService` parameter.\r\n\r\n\r\n  [1]: https://mapstruct.org/\r\n  [2]: https://projectlombok.org/","title":"Custom error in Spring Boot Microservices Application","body":"<p>The problem is that you are trying to return a <code>ResponseEntity&lt;String&gt;</code> while you actually want to return <code>ResponseEntity&lt;Void&gt;</code>. Since you are creating a new User, you do not want to return a response body, therefore your response body should be empty.</p>\n<p>So, your method should look like this:</p>\n<pre><code>@Override\npublic ResponseEntity&lt;Void&gt; createUser(ApiUser data) {\n        userService.createUser(data);\n        return ResponseEntity.status(HttpStatus.CREATED).build();\n}\n</code></pre>\n<p>For POST requests where you create new entities, you should be using 201 CREATED instead of 200 OK.</p>\n<p>Create your custom exception like so:</p>\n<pre><code>package com.example.userservice.domain.user;\n\npublic class UserException extends ResponseStatusException {\n\npublic UserException(String reason) {\n    super(HttpStatus.BAD_REQUEST, message);\n\n   }\n}\n</code></pre>\n<p>When you extend this <code>ResponseStatusException</code> with custom <code>HttpStatus</code>, you can throw it with your specified message in your service layer and it will respond with your custom HTTP status, no need to catch them afterwards since Spring responds with this exception afterwards.</p>\n<p>Also other small things to mention:</p>\n<ol>\n<li><p>For mapping entities to your custom DTOs, you can use annotation processor like <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>. This will generate mappings for your entities, therefore saving you from the custom bloat code you make. Also you should do this in the service layer instead where all the business logic is happening.</p>\n</li>\n<li><p>I highly recommend using <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a>, which lets you generate getters, setters, constructors and such for your classes, which is also generated by the annotation processing, saving you from other lots of bloat code. For example:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class UserController implements UserApiDelegate {\n\nprivate final UserService userService;\n</code></pre>\n</li>\n</ol>\n<p>will create the custom constructor for you with the <code>UserService</code> parameter.</p>\n"}],"owner":{"account_id":23021886,"reputation":25,"user_id":17142807,"display_name":"kuno vercammen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77545626,"answer_count":1,"score":0,"last_activity_date":1700859270,"creation_date":1700851422,"question_id":77545141,"body_markdown":"I&#39;m making a car sharing platform in Java Spring boot. Im using open api files to define my paths and objects. I want to implement a way to have a custom error message shown when a user searched on id is not found.\r\n\r\n I have tried everything but my method expects an ApiUser, like defined in my openapi file. When it is succesfull, I indeed want to return an ApiUser but when there is an error I want to return a custom error message a throw in my service. I cannot change the return type of the method, it needs to stay like how it is now.\r\n\r\nThis is my custom error:\r\n\r\n```\r\npackage com.example.userservice.domain.user;\r\n\r\npublic class UserException extends RuntimeException{\r\n\r\n    public UserException(String message) {\r\n        super(message);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is my service:\r\n```\r\npackage com.example.userservice.domain.user;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport com.example.userservice.api.model.ApiUser;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Component\r\npublic class UserService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    private final EventSender eventSender;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository, EventSender eventSender) {\r\n        this.userRepository = userRepository;\r\n        this.eventSender = eventSender;\r\n    }\r\n\r\n    public List&lt;User&gt; getUsers() {\r\n        //System.out.println(userRepository.findAll());\r\n        return (List&lt;User&gt;) userRepository.findAll();\r\n\r\n    }\r\n\r\n    public void createUser(ApiUser data) {\r\n        List&lt;User&gt; users = (List&lt;User&gt;) userRepository.findAll();\r\n\r\n        for (User user: users) {\r\n            if (user.getName().equalsIgnoreCase(data.getName())) {\r\n                throw new UserException(&quot;Already a user with this name&quot;);\r\n            }\r\n            if (user.getEmail().equalsIgnoreCase(data.getEmail())) {\r\n                throw new UserException(&quot;Already a user with this email&quot;);\r\n            }\r\n        }\r\n        User user = new User(data.getName(), data.getEmail());\r\n        userRepository.save(user);\r\n        eventSender.sendUserCreatedEvent(user);\r\n    }\r\n\r\n\r\n\r\n    public User getUserById(Long id) {\r\n        Optional&lt;User&gt; userOptional = userRepository.findById(id);\r\n        if (!userOptional.isPresent()) {\r\n            throw new UserException(&quot;User not found with ID: &quot; + id);\r\n        }\r\n        return userOptional.get();\r\n    }\r\n\r\n    public User validateUser(Long id) {\r\n        Optional&lt;User&gt; userOptional = userRepository.findById(id);\r\n        if (!userOptional.isPresent()) {\r\n            throw new UserException(&quot;User not found with ID: &quot; + id);\r\n        }\r\n        return userOptional.get();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nThis is my controller with the error:\r\n```\r\nIncompatible types. Found: &#39;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&#39;, required: &#39;org.springframework.http.ResponseEntity&lt;com.example.userservice.api.model.ApiUser&gt;&#39;\r\n```\r\n\r\n```\r\npackage com.example.userservice.web;\r\n\r\nimport com.example.userservice.api.model.ApiCar;\r\nimport com.example.userservice.api.model.ApiUsers;\r\nimport com.example.userservice.domain.car.Car;\r\nimport com.example.userservice.domain.user.User;\r\nimport com.example.userservice.domain.user.UserException;\r\nimport com.example.userservice.domain.user.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Component;\r\nimport com.example.userservice.api.UserApiDelegate;\r\nimport com.example.userservice.api.model.ApiUser;\r\n\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class UserController implements UserApiDelegate {\r\n\r\n    private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;String&gt; createUser(ApiUser data) {\r\n        try {\r\n            userService.createUser(data);\r\n            return ResponseEntity.ok(&quot;Successfully created user&quot;);\r\n        } catch (UserException e) {\r\n            return ResponseEntity\r\n                    .status(HttpStatus.BAD_REQUEST)\r\n                    .body(&quot;Error creating user: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public ResponseEntity&lt;ApiUser&gt; getUserById(Long userID) {\r\n        try {\r\n            User user = userService.getUserById(userID);\r\n            return ResponseEntity.ok(toDto(user));\r\n        } catch (UserException e) {\r\n            return ResponseEntity\r\n                    .status(HttpStatus.BAD_REQUEST)\r\n                    .body(&quot;Error creating user: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;ApiUsers&gt; getUsers() {\r\n        ApiUsers apiUsers = new ApiUsers();\r\n        List&lt;User&gt; users = userService.getUsers();\r\n\r\n        for (User user : users) {\r\n            apiUsers.add(toDto(user));\r\n        }\r\n\r\n        return ResponseEntity.ok(apiUsers);\r\n    }\r\n\r\n    private ApiUser toDto(User user) {\r\n        ApiUser apiUser = new ApiUser();\r\n        apiUser.setName(user.getName());\r\n        apiUser.setUserID(user.getUserID());\r\n        apiUser.setEmail(user.getEmail());\r\n        if (user.getCar() != null) {\r\n            apiUser.setCar(toApiCarDto(user.getCar()));\r\n        }\r\n        return apiUser;\r\n    }\r\n\r\n    public static ApiCar toApiCarDto(Car car) {\r\n\r\n        ApiCar apiCar = new ApiCar();\r\n        apiCar.setCarID(car.getCarID());\r\n        apiCar.setBrand(car.getBrand());\r\n        apiCar.setModel(car.getModel());\r\n        apiCar.setPricePerHour(car.getPricePerHour());\r\n        apiCar.setLocation(car.getLocation());\r\n\r\n        return apiCar;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\nAnd this is my openapi file:\r\n```\r\nopenapi: 3.0.3\r\ninfo:\r\n  title: User Service\r\n  description: API for User Management\r\n  version: 1.0.0\r\npaths:\r\n  /api/v1/user:\r\n    post:\r\n      tags:\r\n        - User\r\n      description: Create a new user\r\n      operationId: createUser\r\n      requestBody:\r\n        required: true\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: &quot;#/components/schemas/ApiUser&quot;\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: User successfully created\r\n          content:\r\n            text/plain:\r\n              schema:\r\n                type: string\r\n                example: &quot;Successfully created user&quot;\r\n        &quot;400&quot;:\r\n          description: Bad Request - Invalid input or user already exists\r\n          content:\r\n            text/plain:\r\n              schema:\r\n                type: string\r\n                example: &quot;Error creating user: [error details]&quot;\r\n        &quot;500&quot;:\r\n          description: Internal Error\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &quot;#/components/schemas/ApiError&quot;\r\n    get:\r\n      tags:\r\n        - User\r\n      description: Retrieve all users\r\n      operationId: getUsers\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: Successful operation\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/ApiUsers&#39;\r\n        &quot;500&quot;:\r\n          description: Internal Error\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &quot;#/components/schemas/ApiError&quot;\r\n  /api/v1/user/{userID}:\r\n    get:\r\n      tags:\r\n        - User\r\n      description: Retrieve a user by their ID\r\n      operationId: getUserById\r\n      parameters:\r\n        - name: userID\r\n          in: path\r\n          required: true\r\n          description: Unique identifier of the user\r\n          schema:\r\n            type: integer\r\n            format: int64\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: Successful operation\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/ApiUser&#39;\r\n        &quot;500&quot;:\r\n          description: Internal Error\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &quot;#/components/schemas/ApiError&quot;\r\ncomponents:\r\n  schemas:\r\n    ApiUsers:\r\n      type: array\r\n      items:\r\n        $ref: &#39;#/components/schemas/ApiUser&#39;\r\n    ApiUser:\r\n      type: object\r\n      properties:\r\n        userID:\r\n          type: integer\r\n          format: int64\r\n        name:\r\n          type: string\r\n        email:\r\n          type: string\r\n        car:\r\n          $ref: &#39;#/components/schemas/ApiCar&#39;\r\n    ApiCar:\r\n      type: object\r\n      properties:\r\n        carID:\r\n          type: integer\r\n          format: int64\r\n        brand:\r\n          type: string\r\n        model:\r\n          type: string\r\n        pricePerHour:\r\n          type: number\r\n          format: double\r\n        location:\r\n          type: string\r\n    UserCreatedEvent:\r\n      type: object\r\n      properties:\r\n        user:\r\n          $ref: &#39;#/components/schemas/ApiUser&#39;\r\n    ApiError:\r\n      type: object\r\n      properties:\r\n        code:\r\n          type: string\r\n          description: &quot;Functional code specifying the error&quot;\r\n          example: &quot;2300&quot;\r\n        message:\r\n          type: string\r\n          description: &quot;Brief explanation about the error, for more information consult the User Service team&quot;\r\n    ValidateUserCommand:\r\n      type: object\r\n      properties:\r\n        reservationID:\r\n          type: integer\r\n          format: int64\r\n        userID:\r\n          type: integer\r\n          format: int64\r\n        name:\r\n          type: string\r\n        email:\r\n          type: string\r\n    UserValidatedEvent:\r\n      type: object\r\n      properties:\r\n        reservationID:\r\n          type: integer\r\n          format: int64\r\n        userID:\r\n          type: integer\r\n          format: int64\r\n        name:\r\n          type: string\r\n        email:\r\n          type: string\r\n\r\n```\r\n","title":"Custom error in Spring Boot Microservices Application","body":"<p>I'm making a car sharing platform in Java Spring boot. Im using open api files to define my paths and objects. I want to implement a way to have a custom error message shown when a user searched on id is not found.</p>\n<p>I have tried everything but my method expects an ApiUser, like defined in my openapi file. When it is succesfull, I indeed want to return an ApiUser but when there is an error I want to return a custom error message a throw in my service. I cannot change the return type of the method, it needs to stay like how it is now.</p>\n<p>This is my custom error:</p>\n<pre><code>package com.example.userservice.domain.user;\n\npublic class UserException extends RuntimeException{\n\n    public UserException(String message) {\n        super(message);\n    }\n\n}\n</code></pre>\n<p>This is my service:</p>\n<pre><code>package com.example.userservice.domain.user;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport com.example.userservice.api.model.ApiUser;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Component\npublic class UserService {\n\n    private final UserRepository userRepository;\n\n    private final EventSender eventSender;\n\n    @Autowired\n    public UserService(UserRepository userRepository, EventSender eventSender) {\n        this.userRepository = userRepository;\n        this.eventSender = eventSender;\n    }\n\n    public List&lt;User&gt; getUsers() {\n        //System.out.println(userRepository.findAll());\n        return (List&lt;User&gt;) userRepository.findAll();\n\n    }\n\n    public void createUser(ApiUser data) {\n        List&lt;User&gt; users = (List&lt;User&gt;) userRepository.findAll();\n\n        for (User user: users) {\n            if (user.getName().equalsIgnoreCase(data.getName())) {\n                throw new UserException(&quot;Already a user with this name&quot;);\n            }\n            if (user.getEmail().equalsIgnoreCase(data.getEmail())) {\n                throw new UserException(&quot;Already a user with this email&quot;);\n            }\n        }\n        User user = new User(data.getName(), data.getEmail());\n        userRepository.save(user);\n        eventSender.sendUserCreatedEvent(user);\n    }\n\n\n\n    public User getUserById(Long id) {\n        Optional&lt;User&gt; userOptional = userRepository.findById(id);\n        if (!userOptional.isPresent()) {\n            throw new UserException(&quot;User not found with ID: &quot; + id);\n        }\n        return userOptional.get();\n    }\n\n    public User validateUser(Long id) {\n        Optional&lt;User&gt; userOptional = userRepository.findById(id);\n        if (!userOptional.isPresent()) {\n            throw new UserException(&quot;User not found with ID: &quot; + id);\n        }\n        return userOptional.get();\n    }\n\n\n}\n\n</code></pre>\n<p>This is my controller with the error:</p>\n<pre><code>Incompatible types. Found: 'org.springframework.http.ResponseEntity&lt;java.lang.String&gt;', required: 'org.springframework.http.ResponseEntity&lt;com.example.userservice.api.model.ApiUser&gt;'\n</code></pre>\n<pre><code>package com.example.userservice.web;\n\nimport com.example.userservice.api.model.ApiCar;\nimport com.example.userservice.api.model.ApiUsers;\nimport com.example.userservice.domain.car.Car;\nimport com.example.userservice.domain.user.User;\nimport com.example.userservice.domain.user.UserException;\nimport com.example.userservice.domain.user.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Component;\nimport com.example.userservice.api.UserApiDelegate;\nimport com.example.userservice.api.model.ApiUser;\n\nimport java.util.List;\n\n@Component\npublic class UserController implements UserApiDelegate {\n\n    private final UserService userService;\n\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Override\n    public ResponseEntity&lt;String&gt; createUser(ApiUser data) {\n        try {\n            userService.createUser(data);\n            return ResponseEntity.ok(&quot;Successfully created user&quot;);\n        } catch (UserException e) {\n            return ResponseEntity\n                    .status(HttpStatus.BAD_REQUEST)\n                    .body(&quot;Error creating user: &quot; + e.getMessage());\n        }\n    }\n\n\n    @Override\n    public ResponseEntity&lt;ApiUser&gt; getUserById(Long userID) {\n        try {\n            User user = userService.getUserById(userID);\n            return ResponseEntity.ok(toDto(user));\n        } catch (UserException e) {\n            return ResponseEntity\n                    .status(HttpStatus.BAD_REQUEST)\n                    .body(&quot;Error creating user: &quot; + e.getMessage());\n        }\n    }\n\n    @Override\n    public ResponseEntity&lt;ApiUsers&gt; getUsers() {\n        ApiUsers apiUsers = new ApiUsers();\n        List&lt;User&gt; users = userService.getUsers();\n\n        for (User user : users) {\n            apiUsers.add(toDto(user));\n        }\n\n        return ResponseEntity.ok(apiUsers);\n    }\n\n    private ApiUser toDto(User user) {\n        ApiUser apiUser = new ApiUser();\n        apiUser.setName(user.getName());\n        apiUser.setUserID(user.getUserID());\n        apiUser.setEmail(user.getEmail());\n        if (user.getCar() != null) {\n            apiUser.setCar(toApiCarDto(user.getCar()));\n        }\n        return apiUser;\n    }\n\n    public static ApiCar toApiCarDto(Car car) {\n\n        ApiCar apiCar = new ApiCar();\n        apiCar.setCarID(car.getCarID());\n        apiCar.setBrand(car.getBrand());\n        apiCar.setModel(car.getModel());\n        apiCar.setPricePerHour(car.getPricePerHour());\n        apiCar.setLocation(car.getLocation());\n\n        return apiCar;\n    }\n\n\n\n\n}\n\n</code></pre>\n<p>And this is my openapi file:</p>\n<pre><code>openapi: 3.0.3\ninfo:\n  title: User Service\n  description: API for User Management\n  version: 1.0.0\npaths:\n  /api/v1/user:\n    post:\n      tags:\n        - User\n      description: Create a new user\n      operationId: createUser\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: &quot;#/components/schemas/ApiUser&quot;\n      responses:\n        &quot;200&quot;:\n          description: User successfully created\n          content:\n            text/plain:\n              schema:\n                type: string\n                example: &quot;Successfully created user&quot;\n        &quot;400&quot;:\n          description: Bad Request - Invalid input or user already exists\n          content:\n            text/plain:\n              schema:\n                type: string\n                example: &quot;Error creating user: [error details]&quot;\n        &quot;500&quot;:\n          description: Internal Error\n          content:\n            application/json:\n              schema:\n                $ref: &quot;#/components/schemas/ApiError&quot;\n    get:\n      tags:\n        - User\n      description: Retrieve all users\n      operationId: getUsers\n      responses:\n        '200':\n          description: Successful operation\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ApiUsers'\n        &quot;500&quot;:\n          description: Internal Error\n          content:\n            application/json:\n              schema:\n                $ref: &quot;#/components/schemas/ApiError&quot;\n  /api/v1/user/{userID}:\n    get:\n      tags:\n        - User\n      description: Retrieve a user by their ID\n      operationId: getUserById\n      parameters:\n        - name: userID\n          in: path\n          required: true\n          description: Unique identifier of the user\n          schema:\n            type: integer\n            format: int64\n      responses:\n        '200':\n          description: Successful operation\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ApiUser'\n        &quot;500&quot;:\n          description: Internal Error\n          content:\n            application/json:\n              schema:\n                $ref: &quot;#/components/schemas/ApiError&quot;\ncomponents:\n  schemas:\n    ApiUsers:\n      type: array\n      items:\n        $ref: '#/components/schemas/ApiUser'\n    ApiUser:\n      type: object\n      properties:\n        userID:\n          type: integer\n          format: int64\n        name:\n          type: string\n        email:\n          type: string\n        car:\n          $ref: '#/components/schemas/ApiCar'\n    ApiCar:\n      type: object\n      properties:\n        carID:\n          type: integer\n          format: int64\n        brand:\n          type: string\n        model:\n          type: string\n        pricePerHour:\n          type: number\n          format: double\n        location:\n          type: string\n    UserCreatedEvent:\n      type: object\n      properties:\n        user:\n          $ref: '#/components/schemas/ApiUser'\n    ApiError:\n      type: object\n      properties:\n        code:\n          type: string\n          description: &quot;Functional code specifying the error&quot;\n          example: &quot;2300&quot;\n        message:\n          type: string\n          description: &quot;Brief explanation about the error, for more information consult the User Service team&quot;\n    ValidateUserCommand:\n      type: object\n      properties:\n        reservationID:\n          type: integer\n          format: int64\n        userID:\n          type: integer\n          format: int64\n        name:\n          type: string\n        email:\n          type: string\n    UserValidatedEvent:\n      type: object\n      properties:\n        reservationID:\n          type: integer\n          format: int64\n        userID:\n          type: integer\n          format: int64\n        name:\n          type: string\n        email:\n          type: string\n\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":14870166,"reputation":470,"user_id":10766511,"display_name":"Nikita Shadkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692169276,"creation_date":1692169276,"answer_id":76911204,"question_id":76911203,"body_markdown":"Just add &quot;Configure all Gradle tasks during Gradle Sync&quot; in Settings.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iKhY3.png","title":"Gradle Tasks show not full list","body":"<p>Just add &quot;Configure all Gradle tasks during Gradle Sync&quot; in Settings.</p>\n<p><a href=\"https://i.stack.imgur.com/iKhY3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iKhY3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18787661,"reputation":149,"user_id":13700916,"display_name":"Seng Phrakonkham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700858438,"creation_date":1700858438,"answer_id":77545579,"question_id":76911203,"body_markdown":"I use Android Stuio Giraffe and this worked for me:\r\n\r\nGo to\r\nFile -&gt; Settings -&gt; Experimental\r\n\r\nCheck the next option:\r\n\r\n**Configure all Gradle tasks during Gardle Sync (this can make Gradle Sync slower)**\r\n\r\nAfter that **sync gradle**:\r\nFile -&gt; Sync project with Gradle file\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GNKLS.png","title":"Gradle Tasks show not full list","body":"<p>I use Android Stuio Giraffe and this worked for me:</p>\n<p>Go to\nFile -&gt; Settings -&gt; Experimental</p>\n<p>Check the next option:</p>\n<p><strong>Configure all Gradle tasks during Gardle Sync (this can make Gradle Sync slower)</strong></p>\n<p>After that <strong>sync gradle</strong>:\nFile -&gt; Sync project with Gradle file</p>\n<p><a href=\"https://i.stack.imgur.com/GNKLS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GNKLS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14870166,"reputation":470,"user_id":10766511,"display_name":"Nikita Shadkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76911204,"answer_count":2,"score":1,"last_activity_date":1700858438,"creation_date":1692169276,"question_id":76911203,"body_markdown":"In Gradle folder I know there should be a lot more options inside Tasks, and they&#39;re not showing after reinstalling project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Ym5lo.png","title":"Gradle Tasks show not full list","body":"<p>In Gradle folder I know there should be a lot more options inside Tasks, and they're not showing after reinstalling project.</p>\n<p><a href=\"https://i.stack.imgur.com/Ym5lo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ym5lo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sqlite","try-with-resources"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700857855,"post_id":77545421,"comment_id":136708144,"body_markdown":"`ps.setInt(1, c.getCategoryID());` does not belong within the `try` because it is not establishing a resource to be closed.","body":"<code>ps.setInt(1, c.getCategoryID());</code> does not belong within the <code>try</code> because it is not establishing a resource to be closed."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1700858233,"post_id":77545421,"comment_id":136708188,"body_markdown":"By the way, in real work we would use `BigDecimal` for money matters, never a floating-point type.","body":"By the way, in real work we would use <code>BigDecimal</code> for money matters, never a floating-point type."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700858387,"creation_date":1700857614,"answer_id":77545530,"question_id":77545421,"body_markdown":"The try-with-resources must limit itself to declaring those variables:\r\n\r\n    try (Connection connection = getConnection();\r\n            PreparedStatement ps = connection.prepareStatement(sql)) {\r\n        ps.setInt(1, c.getCategoryID());\r\n        try (ResultSet rs = ps.executeQuery()) {\r\n            List&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\n            while (rs.next()) {\r\n                String code = rs.getString(&quot;productCode&quot;);\r\n                String name = rs.getString(&quot;productName&quot;);\r\n                double price = rs.getDouble(&quot;listPrice&quot;);\r\n               \r\n                Product p = new Product(code, name, price);\r\n                products.add(p);\r\n            } //end of while\r\n            return products;\r\n        } // end of second try\r\n    } catch (SQLException e) {\r\n        System.getLogger().log(Level.ERROR, &quot;...&quot;);\r\n        throw new IllegalArgumentException(e);\r\n    }\r\n    // No return null!\r\n\r\nThe solution is to nest one *try* within another *try*.\r\n\r\nFurthermore either do not catch the exception or rethrow it as above. Also avoid null results.\r\nAbove I use the System.Logger, a facade for any logging library. So using this in a library itself, any using application may chose its own logging library like log4j.\r\n\r\nHey and placeholders `?` are filled-in fully quoted and escaped when needed.\r\n\r\n    WHERE Category.categoryID = ?\r\n\r\nSo no apostrophes around question marks.","title":"Try-with-resources error when trying to pull information with a prepared statement placeholder","body":"<p>The try-with-resources must limit itself to declaring those variables:</p>\n<pre><code>try (Connection connection = getConnection();\n        PreparedStatement ps = connection.prepareStatement(sql)) {\n    ps.setInt(1, c.getCategoryID());\n    try (ResultSet rs = ps.executeQuery()) {\n        List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n        while (rs.next()) {\n            String code = rs.getString(&quot;productCode&quot;);\n            String name = rs.getString(&quot;productName&quot;);\n            double price = rs.getDouble(&quot;listPrice&quot;);\n           \n            Product p = new Product(code, name, price);\n            products.add(p);\n        } //end of while\n        return products;\n    } // end of second try\n} catch (SQLException e) {\n    System.getLogger().log(Level.ERROR, &quot;...&quot;);\n    throw new IllegalArgumentException(e);\n}\n// No return null!\n</code></pre>\n<p>The solution is to nest one <em>try</em> within another <em>try</em>.</p>\n<p>Furthermore either do not catch the exception or rethrow it as above. Also avoid null results.\nAbove I use the System.Logger, a facade for any logging library. So using this in a library itself, any using application may chose its own logging library like log4j.</p>\n<p>Hey and placeholders <code>?</code> are filled-in fully quoted and escaped when needed.</p>\n<pre><code>WHERE Category.categoryID = ?\n</code></pre>\n<p>So no apostrophes around question marks.</p>\n"}],"owner":{"account_id":29718461,"reputation":15,"user_id":22776383,"display_name":"Zapherail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77545530,"answer_count":1,"score":1,"last_activity_date":1700858387,"creation_date":1700855972,"question_id":77545421,"body_markdown":"I am connecting to a SQLite database. The program is supposed to print out information based on the category the user selects. I tested my SQL statement inside SQLite and it works. The issue I am having is I can&#39;t seem to change the placeholder to the corresponding choice. I keep getting the error\r\n\r\n\r\n```\r\nthe try-with-resources must either be a variable declaration or an expression denoting a reference to a     final or effectively final variable\r\n```\r\nThe error comes from \r\n\r\n```\r\nps.setInt(1, c.getCategory());\r\n```\r\nHere is my sql statement you will also find it in the Database class \r\n\r\n```\r\nSELECT productCode, productName, listPrice\r\nFROM Product JOIN Category ON Product.categoryID = Category.categoryID\r\nWHERE Category.categoryID = &#39;?&#39;;\r\n```\r\n\r\n\r\nHere is my code:\r\n\r\n\r\nMain:\r\n\r\n```\r\npackage productsbycategory;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class ProductsbyCategory_SharpR_Chap19 {\r\n        private static ProductDB pDB = new ProductDB();\r\n    \r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        //Setting header\r\n        System.out.println(&quot;Products by Category&quot;);\r\n        System.out.println();\r\n        \r\n        int choice = 0;\r\n        while (choice != 999) {\r\n        //Setting menu options\r\n        System.out.print(&quot;&quot;&quot;\r\n                           CATEGORIES\r\n                           1 - Guitars\r\n                           2 - Basses\r\n                           3 - Drums\r\n                           \r\n                           Enter a category id (999 to exit):  &quot;&quot;&quot;);\r\n        \r\n        //saving input from user\r\n        choice = Integer.parseInt(sc.nextLine());\r\n        \r\n        //using switch case to select categories\r\n        switch(choice) {\r\n        case 1: \r\n            //pulling in the ProductDB Class\r\n           List&lt;Product&gt; product = pDB.getProduct(choice);\r\n           \r\n           //Calling category class and passing choice into it\r\n           Category c = new Category(choice);\r\n           c.setCategoryID(choice);\r\n           \r\n           //printing results \r\n           if (product == null) {\r\n               System.out.println(&quot;There are no products&quot;);\r\n           } else {\r\n               Product p;\r\n               for (int i = 0; i&lt;product.size(); i++) {\r\n                   p = product.get(i);\r\n                   System.out.println(p.getCode() + &quot;\\t&quot; + p.getName() + &quot;\\t&quot; + p.getPrice());\r\n           }\r\n           }\r\n            System.out.println();\r\n            break;\r\n        case 2: \r\n            System.out.println(&quot;#2 works\\n&quot;);\r\n            System.out.println();\r\n            break;\r\n        case 3: \r\n            System.out.println(&quot;#3 works\\n&quot;);\r\n            System.out.println();\r\n            break;\r\n        default: \r\n            System.out.println(&quot;Bye!\\n&quot;);\r\n        \r\n       \r\n        \r\n        \r\n        }  \r\n    }//end of while\r\n        \r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nDatabase:\r\n\r\n\r\n```\r\npackage productsbycategory;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ProductDB {\r\n   \r\n    private Connection getConnection() throws SQLException {\r\n        //Connection to sqlite database \r\n        String dbURL = &quot;jdbc:sqlite:guitar_shop.sqlite&quot;;\r\n        Connection connection = DriverManager.getConnection(dbURL);\r\n        return connection;\r\n    } //end of getConnection\r\n    \r\n    public List&lt;Product&gt; getProduct(Category c) {\r\n        String sql = &quot;&quot;&quot;\r\n                     SELECT productCode, productName, listPrice\r\n                     FROM Product JOIN Category ON Product.categoryID = Category.categoryID\r\n                     WHERE Category.categoryID = &#39;?&#39;;\r\n                     &quot;&quot;&quot;;\r\n        List&lt;Product&gt; product = new ArrayList&lt;&gt;();\r\n       \r\n        try (Connection connection = getConnection();\r\n             PreparedStatement ps = connection.prepareStatement(sql);\r\n             ps.setInt(1, c.getCategoryID());\r\n             ResultSet rs = ps.executeQuery()) {\r\n            while (rs.next()) {\r\n               String code = rs.getString(&quot;productCode&quot;);\r\n               String name = rs.getString(&quot;productName&quot;);\r\n               double price = rs.getDouble(&quot;listPrice&quot;);\r\n               \r\n               Product p = new Product(code, name, price);\r\n               product.add(p);\r\n            }//end of while\r\n            rs.close();\r\n            return product;\r\n        } catch (SQLException e){\r\n            System.err.println(e);\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nCategory class:\r\n\r\n\r\n```\r\npackage productsbycategory;\r\n\r\n\r\npublic class Category {\r\n   private int categoryID;\r\n   \r\n   public Category(int categoryID) {\r\n       this.categoryID = categoryID;\r\n   }\r\n   \r\n   public int getCategoryID() {\r\n       return categoryID;\r\n   }\r\n   public void setCategoryID(int categoryID) {\r\n       this.categoryID = categoryID;\r\n   }\r\n}\r\n\r\n```\r\n\r\nProduct class:\r\n\r\n\r\n```\r\npackage productsbycategory;\r\n\r\nimport java.text.NumberFormat;\r\n\r\npublic class Product {\r\n    private String code;\r\n    private String name;\r\n    private double price;\r\n    \r\n    public Product() {};\r\n    \r\n    public Product(String code, String name, double price){\r\n        this.code = code;\r\n        this.name = name;\r\n        this.price = price;\r\n    }\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n    public void setCode(String code){\r\n        this.code = code;\r\n    }\r\n    public String getName(){\r\n        return name;\r\n    }\r\n    public void setName(String name){\r\n        this.name = name;\r\n    }\r\n    public double getPrice(){\r\n        NumberFormat formatter = NumberFormat.getCurrencyInstance();\r\n        formatter.format(price);\r\n        return price;\r\n    }\r\n    public void setPrice(double price){\r\n        this.price = price;\r\n    }\r\n}\r\n```\r\n\r\nI looked in my book and other examples and my syntax seems to be correct so I think I am missing something elsewhere. \r\n\r\nI tried changing the \r\n\r\n```\r\npublic List&lt;Product&gt; getProduct(Category c) {\r\n```\r\nto\r\n\r\n```\r\npublic List&lt;Product&gt; getProduct(int c) {\r\n```\r\nHowever, that doesn&#39;t work and it doesn&#39;t bring the category class in. So the `getCategoryID() ` isn&#39;t in there. To correct this I brought it in using `Category c = new Category(choice);` That still didn&#39;t fix the issue. I still received the same error","title":"Try-with-resources error when trying to pull information with a prepared statement placeholder","body":"<p>I am connecting to a SQLite database. The program is supposed to print out information based on the category the user selects. I tested my SQL statement inside SQLite and it works. The issue I am having is I can't seem to change the placeholder to the corresponding choice. I keep getting the error</p>\n<pre><code>the try-with-resources must either be a variable declaration or an expression denoting a reference to a     final or effectively final variable\n</code></pre>\n<p>The error comes from</p>\n<pre><code>ps.setInt(1, c.getCategory());\n</code></pre>\n<p>Here is my sql statement you will also find it in the Database class</p>\n<pre><code>SELECT productCode, productName, listPrice\nFROM Product JOIN Category ON Product.categoryID = Category.categoryID\nWHERE Category.categoryID = '?';\n</code></pre>\n<p>Here is my code:</p>\n<p>Main:</p>\n<pre><code>package productsbycategory;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class ProductsbyCategory_SharpR_Chap19 {\n        private static ProductDB pDB = new ProductDB();\n    \n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        //Setting header\n        System.out.println(&quot;Products by Category&quot;);\n        System.out.println();\n        \n        int choice = 0;\n        while (choice != 999) {\n        //Setting menu options\n        System.out.print(&quot;&quot;&quot;\n                           CATEGORIES\n                           1 - Guitars\n                           2 - Basses\n                           3 - Drums\n                           \n                           Enter a category id (999 to exit):  &quot;&quot;&quot;);\n        \n        //saving input from user\n        choice = Integer.parseInt(sc.nextLine());\n        \n        //using switch case to select categories\n        switch(choice) {\n        case 1: \n            //pulling in the ProductDB Class\n           List&lt;Product&gt; product = pDB.getProduct(choice);\n           \n           //Calling category class and passing choice into it\n           Category c = new Category(choice);\n           c.setCategoryID(choice);\n           \n           //printing results \n           if (product == null) {\n               System.out.println(&quot;There are no products&quot;);\n           } else {\n               Product p;\n               for (int i = 0; i&lt;product.size(); i++) {\n                   p = product.get(i);\n                   System.out.println(p.getCode() + &quot;\\t&quot; + p.getName() + &quot;\\t&quot; + p.getPrice());\n           }\n           }\n            System.out.println();\n            break;\n        case 2: \n            System.out.println(&quot;#2 works\\n&quot;);\n            System.out.println();\n            break;\n        case 3: \n            System.out.println(&quot;#3 works\\n&quot;);\n            System.out.println();\n            break;\n        default: \n            System.out.println(&quot;Bye!\\n&quot;);\n        \n       \n        \n        \n        }  \n    }//end of while\n        \n    }\n    \n}\n\n</code></pre>\n<p>Database:</p>\n<pre><code>package productsbycategory;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ProductDB {\n   \n    private Connection getConnection() throws SQLException {\n        //Connection to sqlite database \n        String dbURL = &quot;jdbc:sqlite:guitar_shop.sqlite&quot;;\n        Connection connection = DriverManager.getConnection(dbURL);\n        return connection;\n    } //end of getConnection\n    \n    public List&lt;Product&gt; getProduct(Category c) {\n        String sql = &quot;&quot;&quot;\n                     SELECT productCode, productName, listPrice\n                     FROM Product JOIN Category ON Product.categoryID = Category.categoryID\n                     WHERE Category.categoryID = '?';\n                     &quot;&quot;&quot;;\n        List&lt;Product&gt; product = new ArrayList&lt;&gt;();\n       \n        try (Connection connection = getConnection();\n             PreparedStatement ps = connection.prepareStatement(sql);\n             ps.setInt(1, c.getCategoryID());\n             ResultSet rs = ps.executeQuery()) {\n            while (rs.next()) {\n               String code = rs.getString(&quot;productCode&quot;);\n               String name = rs.getString(&quot;productName&quot;);\n               double price = rs.getDouble(&quot;listPrice&quot;);\n               \n               Product p = new Product(code, name, price);\n               product.add(p);\n            }//end of while\n            rs.close();\n            return product;\n        } catch (SQLException e){\n            System.err.println(e);\n            return null;\n        }\n    }\n}\n\n</code></pre>\n<p>Category class:</p>\n<pre><code>package productsbycategory;\n\n\npublic class Category {\n   private int categoryID;\n   \n   public Category(int categoryID) {\n       this.categoryID = categoryID;\n   }\n   \n   public int getCategoryID() {\n       return categoryID;\n   }\n   public void setCategoryID(int categoryID) {\n       this.categoryID = categoryID;\n   }\n}\n\n</code></pre>\n<p>Product class:</p>\n<pre><code>package productsbycategory;\n\nimport java.text.NumberFormat;\n\npublic class Product {\n    private String code;\n    private String name;\n    private double price;\n    \n    public Product() {};\n    \n    public Product(String code, String name, double price){\n        this.code = code;\n        this.name = name;\n        this.price = price;\n    }\n    public String getCode() {\n        return code;\n    }\n    public void setCode(String code){\n        this.code = code;\n    }\n    public String getName(){\n        return name;\n    }\n    public void setName(String name){\n        this.name = name;\n    }\n    public double getPrice(){\n        NumberFormat formatter = NumberFormat.getCurrencyInstance();\n        formatter.format(price);\n        return price;\n    }\n    public void setPrice(double price){\n        this.price = price;\n    }\n}\n</code></pre>\n<p>I looked in my book and other examples and my syntax seems to be correct so I think I am missing something elsewhere.</p>\n<p>I tried changing the</p>\n<pre><code>public List&lt;Product&gt; getProduct(Category c) {\n</code></pre>\n<p>to</p>\n<pre><code>public List&lt;Product&gt; getProduct(int c) {\n</code></pre>\n<p>However, that doesn't work and it doesn't bring the category class in. So the <code>getCategoryID() </code> isn't in there. To correct this I brought it in using <code>Category c = new Category(choice);</code> That still didn't fix the issue. I still received the same error</p>\n"},{"tags":["java","json","maven","timefold"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701076948,"post_id":77543605,"comment_id":136725706,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700857913,"creation_date":1700857913,"answer_id":77545542,"question_id":77543605,"body_markdown":"Take look at how the quarkus school timetabling quickstart architecture works. That way is much easier to replace the json file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe intend to refactor the Food Packaging quickstart to this architecture too in the next few months. If you can&#39;t wait for that: it&#39;s not too difficult, give it a try.\r\n\r\n  [1]: https://i.stack.imgur.com/LlqJf.png","title":"Populate the solution of TimeFold.ai foodpackaging from DemoDataGenerator to an external JSON","body":"<p>Take look at how the quarkus school timetabling quickstart architecture works. That way is much easier to replace the json file.</p>\n<p><a href=\"https://i.stack.imgur.com/LlqJf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LlqJf.png\" alt=\"enter image description here\" /></a></p>\n<p>We intend to refactor the Food Packaging quickstart to this architecture too in the next few months. If you can't wait for that: it's not too difficult, give it a try.</p>\n"}],"owner":{"account_id":29820306,"reputation":1,"user_id":22853703,"display_name":"EdoZp12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700857913,"creation_date":1700833650,"question_id":77543605,"body_markdown":"Goodmorning, today im trying to change the population of the solution of FoodPackaging in timefold.ai from the random data, generated from the class DemodataGenerator, to a JSON and trying to solve it with the data in this JSON, how could i do it?\r\n\r\nExcpecting to change the data source from the class DemoDataGenerator to a JSON data reading","title":"Populate the solution of TimeFold.ai foodpackaging from DemoDataGenerator to an external JSON","body":"<p>Goodmorning, today im trying to change the population of the solution of FoodPackaging in timefold.ai from the random data, generated from the class DemodataGenerator, to a JSON and trying to solve it with the data in this JSON, how could i do it?</p>\n<p>Excpecting to change the data source from the class DemoDataGenerator to a JSON data reading</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-repositories"],"comments":[{"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"score":0,"creation_date":1475220540,"post_id":39784344,"comment_id":66865708,"body_markdown":"You should take a look the reference documentation: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation. It&#39;s well explained.","body":"You should take a look the reference documentation: <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>&zwnj;&#8203;. It&#39;s well explained."}],"answers":[{"tags":[],"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"down_vote_count":0,"up_vote_count":150,"is_accepted":true,"score":150,"last_activity_date":1700855819,"creation_date":1475220995,"answer_id":39786117,"question_id":39784344,"body_markdown":"You should take a look [the reference documentation][1]. It&#39;s well explained.\r\n\r\nIn your case, I think you cannot use between because you need to pass two parameters\r\n\r\n&gt; **Between** - findByStartDateBetween  where x.startDate between ?1 and ?2\r\n\r\nIn your case take a look to use a combination of `LessThan` or `LessThanEqual` with `GreaterThan` or `GreaterThanEqual`\r\n\r\n- **LessThan/LessThanEqual**\r\n\r\n&gt; LessThan - findByEndLessThan  where x.start&lt; ?1\r\n&gt;\r\n&gt; LessThanEqual findByEndLessThanEqual  where x.start &lt;= ?1 \r\n\r\n- **GreaterThan/GreaterThanEqual**\r\n\r\n&gt; GreaterThan - findByStartGreaterThan  where x.end&gt; ?1\r\n&gt;\r\n&gt; GreaterThanEqual - findByStartGreaterThanEqual  where x.end&gt;= ?1\r\n\r\nYou can use the operator `And` and `Or` to combine both.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/reference/jpa/query-methods.html#jpa.query-methods.query-creation","title":"Check date between two other dates spring data jpa","body":"<p>You should take a look <a href=\"https://docs.spring.io/spring-data/jpa/reference/jpa/query-methods.html#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">the reference documentation</a>. It's well explained.</p>\n<p>In your case, I think you cannot use between because you need to pass two parameters</p>\n<blockquote>\n<p><strong>Between</strong> - findByStartDateBetween  where x.startDate between ?1 and ?2</p>\n</blockquote>\n<p>In your case take a look to use a combination of <code>LessThan</code> or <code>LessThanEqual</code> with <code>GreaterThan</code> or <code>GreaterThanEqual</code></p>\n<ul>\n<li><strong>LessThan/LessThanEqual</strong></li>\n</ul>\n<blockquote>\n<p>LessThan - findByEndLessThan  where x.start&lt; ?1</p>\n<p>LessThanEqual findByEndLessThanEqual  where x.start &lt;= ?1</p>\n</blockquote>\n<ul>\n<li><strong>GreaterThan/GreaterThanEqual</strong></li>\n</ul>\n<blockquote>\n<p>GreaterThan - findByStartGreaterThan  where x.end&gt; ?1</p>\n<p>GreaterThanEqual - findByStartGreaterThanEqual  where x.end&gt;= ?1</p>\n</blockquote>\n<p>You can use the operator <code>And</code> and <code>Or</code> to combine both.</p>\n"},{"tags":[],"owner":{"account_id":7200104,"reputation":742,"user_id":5497583,"display_name":"Micha&#235;l Cuypers"},"down_vote_count":2,"up_vote_count":70,"is_accepted":false,"score":68,"last_activity_date":1520505274,"creation_date":1520503996,"answer_id":49170552,"question_id":39784344,"body_markdown":"I did use following solution to this: \r\n\r\n    findAllByStartDateLessThanEqualAndEndDateGreaterThanEqual(OffsetDateTime endDate, OffsetDateTime startDate);\r\n\r\n","title":"Check date between two other dates spring data jpa","body":"<p>I did use following solution to this: </p>\n\n<pre><code>findAllByStartDateLessThanEqualAndEndDateGreaterThanEqual(OffsetDateTime endDate, OffsetDateTime startDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14472970,"reputation":1136,"user_id":10454340,"display_name":"Vikash Kumar"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1627751363,"creation_date":1550840426,"answer_id":54827754,"question_id":39784344,"body_markdown":"You can also write a custom query using `@Query`\r\n\r\n    @Query(value = &quot;from EntityClassTable t where yourDate BETWEEN :startDate AND :endDate&quot;)\r\n    public List&lt;EntityClassTable&gt; getAllBetweenDates(@Param(&quot;startDate&quot;)Date startDate,@Param(&quot;endDate&quot;)Date endDate);\r\n\r\n\r\nEdit: For LocalDateTime I just tried this solution for filtering record based on date and type in spring JPA:\r\n\r\n    Page&lt;MyEntity&gt; findMyEntityByEntityDateBetweenAndType(\r\n                @Param(&quot;startDate&quot;) LocalDateTime startDate,\r\n                @Param(&quot;endDate&quot;) LocalDateTime endDate, @Param(&quot;type&quot;) String type, Pageable pageable);\r\n\r\nHere EntityDate can be like CreatedDate,ModifiedDate etc.","title":"Check date between two other dates spring data jpa","body":"<p>You can also write a custom query using <code>@Query</code></p>\n<pre><code>@Query(value = &quot;from EntityClassTable t where yourDate BETWEEN :startDate AND :endDate&quot;)\npublic List&lt;EntityClassTable&gt; getAllBetweenDates(@Param(&quot;startDate&quot;)Date startDate,@Param(&quot;endDate&quot;)Date endDate);\n</code></pre>\n<p>Edit: For LocalDateTime I just tried this solution for filtering record based on date and type in spring JPA:</p>\n<pre><code>Page&lt;MyEntity&gt; findMyEntityByEntityDateBetweenAndType(\n            @Param(&quot;startDate&quot;) LocalDateTime startDate,\n            @Param(&quot;endDate&quot;) LocalDateTime endDate, @Param(&quot;type&quot;) String type, Pageable pageable);\n</code></pre>\n<p>Here EntityDate can be like CreatedDate,ModifiedDate etc.</p>\n"},{"tags":[],"owner":{"account_id":17080981,"reputation":57,"user_id":12359386,"display_name":"Wu Yaozu"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1606460438,"creation_date":1606460438,"answer_id":65033222,"question_id":39784344,"body_markdown":"Maybe you could try \r\n\r\n`List&lt;Article&gt; findAllByPublicationDate(Date publicationDate);`\r\n\r\nThe detail could be checked in this article:\r\n\r\nhttps://www.baeldung.com/spring-data-jpa-query-by-date","title":"Check date between two other dates spring data jpa","body":"<p>Maybe you could try</p>\n<p><code>List&lt;Article&gt; findAllByPublicationDate(Date publicationDate);</code></p>\n<p>The detail could be checked in this article:</p>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-query-by-date\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-query-by-date</a></p>\n"},{"tags":[],"owner":{"account_id":17804992,"reputation":307,"user_id":12930883,"display_name":"RED-ONE"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644422466,"creation_date":1644422466,"answer_id":71052831,"question_id":39784344,"body_markdown":"You can use JpaRepository\r\n\r\n    List&lt;Entity&gt; findByColumnDateBetween(LocalDateTime to, LocalDateTime from);","title":"Check date between two other dates spring data jpa","body":"<p>You can use JpaRepository</p>\n<pre><code>List&lt;Entity&gt; findByColumnDateBetween(LocalDateTime to, LocalDateTime from);\n</code></pre>\n"}],"owner":{"account_id":7272464,"reputation":1498,"user_id":5544987,"display_name":"Don Jose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317412,"favorite_count":0,"down_vote_count":0,"up_vote_count":103,"accepted_answer_id":39786117,"answer_count":5,"score":103,"last_activity_date":1700855819,"creation_date":1475213620,"question_id":39784344,"body_markdown":"I have this model:\r\n\r\n    public class Event {\r\n    \tprivate String name;\r\n    \tprivate Date start;\r\n    \tprivate Date end;\r\n    }\r\n\r\nand repository as\r\n\r\n    @Repository\r\n    public interface EventRepository extends JpaRepository&lt;Event, Long&gt; {\r\n    \tList&lt;Event&gt; findByEventTypeAccount(Account account);\r\n    }\r\n\r\nWhat I want to do is, I will pass one date and need to check that date is between `start` and `end` e.g. (I will pass Sept 30 as date and need to find all entries which have Sept 30 between their `start` and `end`)\r\n\r\nSomething like `findDateisBetweenStartAndEnd(Date date)`?","title":"Check date between two other dates spring data jpa","body":"<p>I have this model:</p>\n<pre><code>public class Event {\n    private String name;\n    private Date start;\n    private Date end;\n}\n</code></pre>\n<p>and repository as</p>\n<pre><code>@Repository\npublic interface EventRepository extends JpaRepository&lt;Event, Long&gt; {\n    List&lt;Event&gt; findByEventTypeAccount(Account account);\n}\n</code></pre>\n<p>What I want to do is, I will pass one date and need to check that date is between <code>start</code> and <code>end</code> e.g. (I will pass Sept 30 as date and need to find all entries which have Sept 30 between their <code>start</code> and <code>end</code>)</p>\n<p>Something like <code>findDateisBetweenStartAndEnd(Date date)</code>?</p>\n"},{"tags":["java","compare","bigdecimal"],"comments":[{"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"score":1,"creation_date":1538308028,"post_id":4164521,"comment_id":92090382,"body_markdown":"look into https://github.com/mortezaadi/bigdecimal-utils there is a method isPositive() there are also like  is(bigdecimal).isZero(); \t\n  is(bigdecimal).notZero(); \n  is(bigdecimal).isPositive(); // greater than zero\n  is(bigdecimal).isNegative(); // less than zero\n  is(bigdecimal).isNonPositive(); // less than or equal zero\n  is(bigdecimal).isNonNegative();","body":"look into <a href=\"https://github.com/mortezaadi/bigdecimal-utils\" rel=\"nofollow noreferrer\">github.com/mortezaadi/bigdecimal-utils</a> there is a method isPositive() there are also like  is(bigdecimal).isZero(); \t   is(bigdecimal).notZero();    is(bigdecimal).isPositive(); // greater than zero   is(bigdecimal).isNegative(); // less than zero   is(bigdecimal).isNonPositive(); // less than or equal zero   is(bigdecimal).isNonNegative();"},{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":0,"creation_date":1561548199,"post_id":4164521,"comment_id":100098683,"body_markdown":"@MortezaAdi since `BigDecimal` implements `Comparable` the comparing functions like `lt, le, eq, ne` better be moved to a `ComparableUtils`. So they can be used for any other classes like `Date` or custom types.","body":"@MortezaAdi since <code>BigDecimal</code> implements <code>Comparable</code> the comparing functions like <code>lt, le, eq, ne</code> better be moved to a <code>ComparableUtils</code>. So they can be used for any other classes like <code>Date</code> or custom types."},{"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"score":0,"creation_date":1561637366,"post_id":4164521,"comment_id":100135599,"body_markdown":"@djmj requirements defines implementation, there were no need nor intention to build ComparableUtils. Beside the functionality of lt, le, eq, etc are totally different than generic one.","body":"@djmj requirements defines implementation, there were no need nor intention to build ComparableUtils. Beside the functionality of lt, le, eq, etc are totally different than generic one."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":518,"is_accepted":true,"score":517,"last_activity_date":1289564474,"creation_date":1289564474,"answer_id":4164539,"question_id":4164521,"body_markdown":"It&#39;s as simple as:\r\n\r\n    if (value.compareTo(BigDecimal.ZERO) &gt; 0)\r\n\r\nThe [documentation for `compareTo`][1] actually specifies that it will return -1, 0 or 1, but the more general `Comparable&lt;T&gt;.compareTo` method only guarantees less than zero, zero, or greater than zero for the appropriate three cases - so I typically just stick to that comparison.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#compareTo(java.math.BigDecimal)","title":"Compare if BigDecimal is greater than zero","body":"<p>It's as simple as:</p>\n\n<pre><code>if (value.compareTo(BigDecimal.ZERO) &gt; 0)\n</code></pre>\n\n<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#compareTo(java.math.BigDecimal)\" rel=\"noreferrer\">documentation for <code>compareTo</code></a> actually specifies that it will return -1, 0 or 1, but the more general <code>Comparable&lt;T&gt;.compareTo</code> method only guarantees less than zero, zero, or greater than zero for the appropriate three cases - so I typically just stick to that comparison.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1373029995,"creation_date":1289564475,"answer_id":4164540,"question_id":4164521,"body_markdown":"Use `compareTo()` function that&#39;s built into the class.\r\n","title":"Compare if BigDecimal is greater than zero","body":"<p>Use <code>compareTo()</code> function that's built into the class.</p>\n"},{"tags":[],"owner":{"account_id":887546,"reputation":9293,"user_id":926620,"display_name":"Anton Bessonov"},"down_vote_count":2,"up_vote_count":233,"is_accepted":false,"score":231,"last_activity_date":1606652666,"creation_date":1319049419,"answer_id":7826324,"question_id":4164521,"body_markdown":"[Possible better way][1]:\r\n\r\n    if (value.signum() &gt; 0)\r\n\r\n`signum` returns -1, 0, or 1 as the value of this BigDecimal is negative, zero, or positive.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#signum%28%29","title":"Compare if BigDecimal is greater than zero","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#signum%28%29\" rel=\"noreferrer\">Possible better way</a>:</p>\n<pre><code>if (value.signum() &gt; 0)\n</code></pre>\n<p><code>signum</code> returns -1, 0, or 1 as the value of this BigDecimal is negative, zero, or positive.</p>\n"},{"tags":[],"owner":{"account_id":6783661,"reputation":285,"user_id":5223127,"accept_rate":25,"display_name":"Rama Krishna"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1518782022,"creation_date":1518782022,"answer_id":48826220,"question_id":4164521,"body_markdown":"   \r\n\r\n     BigDecimal obj = new BigDecimal(&quot;100&quot;);\r\n     if(obj.intValue()&gt;0)\r\n        System.out.println(&quot;yes&quot;);","title":"Compare if BigDecimal is greater than zero","body":"<pre><code> BigDecimal obj = new BigDecimal(\"100\");\n if(obj.intValue()&gt;0)\n    System.out.println(\"yes\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8909007,"reputation":21,"user_id":6649926,"display_name":"Satya M"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1524416410,"creation_date":1524416410,"answer_id":49968500,"question_id":4164521,"body_markdown":"using &quot;.intValue()&quot; on BigDecimal object is not right when you want to check if its grater than zero. The only option left is &quot;.compareTo()&quot; method.","title":"Compare if BigDecimal is greater than zero","body":"<p>using \".intValue()\" on BigDecimal object is not right when you want to check if its grater than zero. The only option left is \".compareTo()\" method.</p>\n"},{"tags":[],"owner":{"account_id":7184343,"reputation":850,"user_id":5486945,"display_name":"yOshi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1646828743,"creation_date":1591395178,"answer_id":62224833,"question_id":4164521,"body_markdown":"it is safer to use the method `compareTo()` \r\n\r\n        BigDecimal a = new BigDecimal(10);\r\n        BigDecimal b = BigDecimal.ZERO;\r\n\r\n        System.out.println(&quot; result ==&gt; &quot; + a.compareTo(b));\r\nconsole print\r\n\r\n        result ==&gt; 1\r\n\r\n`compareTo()` returns\r\n\r\n&gt;  - **1**     if a is greater than b\r\n&gt;  - **-1**    if a is less than b\r\n&gt;  - **0**     if a is equal to b\r\n\r\nnow for your problem you can use\r\n     \r\n    if (value.compareTo(BigDecimal.ZERO) &gt; 0)\r\n\r\nor\r\n\r\n    if (value.compareTo(new BigDecimal(0)) &gt; 0)\r\n\r\nI hope it helped you.","title":"Compare if BigDecimal is greater than zero","body":"<p>it is safer to use the method <code>compareTo()</code></p>\n<pre><code>    BigDecimal a = new BigDecimal(10);\n    BigDecimal b = BigDecimal.ZERO;\n\n    System.out.println(&quot; result ==&gt; &quot; + a.compareTo(b));\n</code></pre>\n<p>console print</p>\n<pre><code>    result ==&gt; 1\n</code></pre>\n<p><code>compareTo()</code> returns</p>\n<blockquote>\n<ul>\n<li><strong>1</strong>     if a is greater than b</li>\n<li><strong>-1</strong>    if a is less than b</li>\n<li><strong>0</strong>     if a is equal to b</li>\n</ul>\n</blockquote>\n<p>now for your problem you can use</p>\n<pre><code>if (value.compareTo(BigDecimal.ZERO) &gt; 0)\n</code></pre>\n<p>or</p>\n<pre><code>if (value.compareTo(new BigDecimal(0)) &gt; 0)\n</code></pre>\n<p>I hope it helped you.</p>\n"},{"tags":[],"owner":{"account_id":1542097,"reputation":337,"user_id":1436476,"display_name":"RonaldPaguay"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1629751081,"creation_date":1604460499,"answer_id":64673882,"question_id":4164521,"body_markdown":"This works in **Kotlin**:\r\n\r\nvalue &gt; BigDecimal.ZERO","title":"Compare if BigDecimal is greater than zero","body":"<p>This works in <strong>Kotlin</strong>:</p>\n<p>value &gt; BigDecimal.ZERO</p>\n"},{"tags":[],"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700855222,"creation_date":1679370307,"answer_id":75797152,"question_id":4164521,"body_markdown":"Perhaps\r\n\r\n    BigDecimal a = new BigDecimal(10);\r\n    if (a.abs().equals(a)) {\r\n       // positive  \r\n    } else {\r\n       // negative  \r\n    }\r\n\r\nof course, the above does not count on the zero case.","title":"Compare if BigDecimal is greater than zero","body":"<p>Perhaps</p>\n<pre><code>BigDecimal a = new BigDecimal(10);\nif (a.abs().equals(a)) {\n   // positive  \n} else {\n   // negative  \n}\n</code></pre>\n<p>of course, the above does not count on the zero case.</p>\n"},{"tags":[],"owner":{"account_id":28481233,"reputation":11,"user_id":21795160,"display_name":"Codeur-14"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690560279,"creation_date":1690560279,"answer_id":76789418,"question_id":4164521,"body_markdown":"Personally, I&#39;ve used BigDecimal.ZERO to check that my value is greater than zero (0). And it works very well. I think this option is well suited. Or you can use signum(), which also works very well.\r\n            \r\n\r\n            for (int i = 0; i &lt; this.listTypes.size(); i++) {\r\n                if (this.listTypes.get(i).isAutorise()\r\n                        &amp;&amp; this.listTypes.get(i).getPlafond() != null\r\n                        &amp;&amp; this.listTypes.get(i).getPlafond().compareTo(BigDecimal.ZERO) &gt; 0) {\r\n                    this.listTypes.get(i).setProcuration(this.entity);\r\n                    this.listTypes.get(i).setActeur(this.entity.getMandataire());\r\n                    this.acteurTypeOperationService.addOne(this.listTypes.get(i));\r\n                }\r\n            }","title":"Compare if BigDecimal is greater than zero","body":"<p>Personally, I've used BigDecimal.ZERO to check that my value is greater than zero (0). And it works very well. I think this option is well suited. Or you can use signum(), which also works very well.</p>\n<pre><code>        for (int i = 0; i &lt; this.listTypes.size(); i++) {\n            if (this.listTypes.get(i).isAutorise()\n                    &amp;&amp; this.listTypes.get(i).getPlafond() != null\n                    &amp;&amp; this.listTypes.get(i).getPlafond().compareTo(BigDecimal.ZERO) &gt; 0) {\n                this.listTypes.get(i).setProcuration(this.entity);\n                this.listTypes.get(i).setActeur(this.entity.getMandataire());\n                this.acteurTypeOperationService.addOne(this.listTypes.get(i));\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":57217,"reputation":19836,"user_id":171365,"accept_rate":30,"display_name":"Santhosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431581,"favorite_count":0,"down_vote_count":0,"up_vote_count":329,"accepted_answer_id":4164539,"answer_count":9,"score":329,"last_activity_date":1700855222,"creation_date":1289564281,"question_id":4164521,"body_markdown":"How can I compare if `BigDecimal` value is greater than zero?","title":"Compare if BigDecimal is greater than zero","body":"<p>How can I compare if <code>BigDecimal</code> value is greater than zero?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700854539,"creation_date":1700854539,"answer_id":77545335,"question_id":77539829,"body_markdown":"&gt; `spring.cloud.stream.kafka.binder.configuration`\r\n&gt; \r\n&gt; Key/Value map of client properties (both producers and consumer) passed to all clients created by the binder\r\n\r\n\r\nSo \r\n\r\n```yaml \r\nspring:\r\n  cloud:\r\n    stream: \r\n      kafka.binder:\r\n        configuration:\r\n          [ssl.security.protocol]: SSL\r\n          [ssl.keystore.location]: /example/key.jks\r\n```\r\n\r\nYou&#39;d use dots for the Kafka properties, not dashes... Spring-kafka uses dashes for Boot auto config, not Spring Cloud \r\n","title":"How to configure Kafka streaming security?","body":"<blockquote>\n<p><code>spring.cloud.stream.kafka.binder.configuration</code></p>\n<p>Key/Value map of client properties (both producers and consumer) passed to all clients created by the binder</p>\n</blockquote>\n<p>So</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    stream: \n      kafka.binder:\n        configuration:\n          [ssl.security.protocol]: SSL\n          [ssl.keystore.location]: /example/key.jks\n</code></pre>\n<p>You'd use dots for the Kafka properties, not dashes... Spring-kafka uses dashes for Boot auto config, not Spring Cloud</p>\n"}],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77545335,"answer_count":1,"score":0,"last_activity_date":1700854539,"creation_date":1700777293,"question_id":77539829,"body_markdown":"We use `spring boot` in our project.\r\nIt is required to configure secured spring cloud streaming with kafka.\r\nSecurity connection should be managed using `keystore.jks` and `truststore.jks`\r\nI tried to find some documentation how to configure `ssl` concepts.\r\nNo required information in official [spring documentation][1]. I&#39;ve detected some information at [kafka site][2] but I do not know how to connect it with `spring cloud streaming`.\r\nForum answers that I detected don&#39;t work for me.\r\nAnyway I think that I need to combine somehow\r\n```\r\nspring:\r\n  cloud:\r\n    stream:\r\n```\r\nand\r\n```\r\n    security:\r\n      protocol: SSL\r\n    ssl:\r\n      key-store-location: ${KEY_STORE_LOCATION}\r\n      key-store-password: ${KEY_STORE_PASSWORD}\r\n      key-store-type: JKS\r\n      key-password: ${KEY_PASSWORD}\r\n      trust-store-location: ${TRUST_STORE_LOCATION}\r\n      trust-store-password: ${TRUST_STORE_PASSWORD}\r\n      trust-store-type: JKS\r\n```\r\nis there any recommendations or required documentation links?\r\n\r\n\r\nP.S.\r\n-\r\nMy demo application using kafka streaming works correctly in case topic is not secured?\r\n```\r\nspring:\r\n  cloud:\r\n    stream:\r\n      bindings:\r\n        input-channel:\r\n          destination: input_topic\r\n        output-channel:\r\n          destination: output_topic\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/current/reference/html/spring-cloud-stream-binder-kafka.html\r\n  [2]: https://kafka.apache.org/documentation/#consumerconfigs_ssl.key.password","title":"How to configure Kafka streaming security?","body":"<p>We use <code>spring boot</code> in our project.\nIt is required to configure secured spring cloud streaming with kafka.\nSecurity connection should be managed using <code>keystore.jks</code> and <code>truststore.jks</code>\nI tried to find some documentation how to configure <code>ssl</code> concepts.\nNo required information in official <a href=\"https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/current/reference/html/spring-cloud-stream-binder-kafka.html\" rel=\"nofollow noreferrer\">spring documentation</a>. I've detected some information at <a href=\"https://kafka.apache.org/documentation/#consumerconfigs_ssl.key.password\" rel=\"nofollow noreferrer\">kafka site</a> but I do not know how to connect it with <code>spring cloud streaming</code>.\nForum answers that I detected don't work for me.\nAnyway I think that I need to combine somehow</p>\n<pre><code>spring:\n  cloud:\n    stream:\n</code></pre>\n<p>and</p>\n<pre><code>    security:\n      protocol: SSL\n    ssl:\n      key-store-location: ${KEY_STORE_LOCATION}\n      key-store-password: ${KEY_STORE_PASSWORD}\n      key-store-type: JKS\n      key-password: ${KEY_PASSWORD}\n      trust-store-location: ${TRUST_STORE_LOCATION}\n      trust-store-password: ${TRUST_STORE_PASSWORD}\n      trust-store-type: JKS\n</code></pre>\n<p>is there any recommendations or required documentation links?</p>\n<h2>P.S.</h2>\n<p>My demo application using kafka streaming works correctly in case topic is not secured?</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      bindings:\n        input-channel:\n          destination: input_topic\n        output-channel:\n          destination: output_topic\n</code></pre>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1700855656,"post_id":77545320,"comment_id":136707879,"body_markdown":"According to the second exception message (&quot;Caused by: java.io.NotSerializableException: dna.dat.dam.datazones.AssetFileNameConventionCheck\n&quot;) it is the class `AssetFileNameConventionCheck` in the package `dna.dat.dam.datazones`","body":"According to the second exception message (&quot;Caused by: java.io.NotSerializableException: dna.dat.dam.datazones.AssetFileNameConventionCheck &quot;) it is the class <code>AssetFileNameConventionCheck</code> in the package <code>dna.dat.dam.datazones</code>"},{"owner":{"account_id":43539,"reputation":79180,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1700855750,"post_id":77545320,"comment_id":136707895,"body_markdown":"That is clear, but which specific class is referenced by AssetFileNameConventionCheck or why isn&#39;t AssetFileNameConventionCheck serializable?","body":"That is clear, but which specific class is referenced by AssetFileNameConventionCheck or why isn&#39;t AssetFileNameConventionCheck serializable?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1700861336,"post_id":77545320,"comment_id":136708532,"body_markdown":"Neither `AssetFileNameConventionCheck` nor any of its superclasses (`FileNameConventionCheck` and `StructuralCheck`) implement `java.io.Serializable` and therefore no instances of these classes are serializable. At least `AssetFileNameConventionCheck` must implement `Serializable`.","body":"Neither <code>AssetFileNameConventionCheck</code> nor any of its superclasses (<code>FileNameConventionCheck</code> and <code>StructuralCheck</code>) implement <code>java.io.Serializable</code> and therefore no instances of these classes are serializable. At least <code>AssetFileNameConventionCheck</code> must implement <code>Serializable</code>."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1700899023,"post_id":77545320,"comment_id":136710845,"body_markdown":".... and all of its fields need to be `Serializable` or `transient` ... and since the parent class is apparently not `Serializable`, it must have an accessible no-args constructor.","body":".... and all of its fields need to be <code>Serializable</code> or <code>transient</code> ... and since the parent class is apparently not <code>Serializable</code>, it must have an accessible no-args constructor."}],"owner":{"account_id":43539,"reputation":79180,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700854310,"creation_date":1700854310,"question_id":77545320,"body_markdown":"I have the following code to check if a file name follows certain date-time pattern.\r\n\r\n    import java.text.{ParseException, SimpleDateFormat}\r\n    import org.apache.spark.sql.functions._\r\n    \r\n    import java.time.LocalDateTime\r\n    import java.time.format.DateTimeFormatter\r\n    \r\n    class AssetFileNameConventionCheck() extends FileNameConventionCheck(&quot;&quot;&quot;asset-created-(\\\\d{14}).json&quot;&quot;&quot;.r) { //// defining regex with a dummy value\r\n    \r\n      val dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;)\r\n    \r\n      private val isValidFileFormatUdf = udf((name: String) =&gt; {\r\n        val isValid = regex.findFirstMatchIn(name) match {\r\n          case Some(matchedPattern) =&gt;\r\n            val timestampString = matchedPattern.group(1) // Get the timestamp\r\n    \r\n            try {\r\n              LocalDateTime.parse(timestampString, dtf) // Try to parse the timestamp\r\n              true\r\n            } catch {\r\n              case _: java.time.format.DateTimeParseException =&gt; false\r\n            }\r\n          case None =&gt; false\r\n        }\r\n        isValid\r\n      })\r\n    \r\n      override def check(colName: String, inputDf: DataFrame): DataFrame = {\r\n        val dateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;)\r\n        dateFormat.setLenient(false)\r\n    \r\n    \r\n        inputDf\r\n          .withColumn(&quot;isFileNameValidDateTime&quot;, isValidFileFormatUdf(col(&quot;name&quot;)))\r\n      }\r\n    }\r\n    \r\n    class FileNameConventionCheck(override val regex: Regex) extends StructuralCheck(&quot;isFileNameValid&quot;) {\r\n      def check(colName: String, inputDf: DataFrame): DataFrame =\r\n        inputDf\r\n        .withColumn(&quot;isFileNameValid&quot;, when(col(&quot;name&quot;).rlike(regex.regex), true).otherwise(false))\r\n    }\r\n    \r\n    abstract class StructuralCheck(val checkName: String) {\r\n      val regex: Regex\r\n    \r\n      def check(colName: String, inputDf: DataFrame): DataFrame\r\n    \r\n    }\r\n\r\nIt is raising the following exception, but I can&#39;t figure out which specific class is not serializable and why. How do I go about debugging this?\r\n\r\n    Exception in thread &quot;main&quot; org.apache.spark.SparkException: Task not serializable\r\n    \tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\r\n    \tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\r\n    \tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\r\n    \tat org.apache.spark.SparkContext.clean(SparkContext.scala:2477)\r\n    \tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n    \tat org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\r\n    \tat org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\r\n    \tat org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:753)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:185)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:223)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:220)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:181)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.getByteArrayRdd(SparkPlan.scala:326)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:459)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:445)\r\n    \tat org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:48)\r\n    \tat org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3715)\r\n    \tat org.apache.spark.sql.Dataset.$anonfun$head$1(Dataset.scala:2728)\r\n    \tat org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3706)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n    \tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3704)\r\n    \tat org.apache.spark.sql.Dataset.head(Dataset.scala:2728)\r\n    \tat org.apache.spark.sql.Dataset.take(Dataset.scala:2935)\r\n    \tat org.apache.spark.sql.Dataset.getRows(Dataset.scala:287)\r\n    \tat org.apache.spark.sql.Dataset.showString(Dataset.scala:326)\r\n    \tat org.apache.spark.sql.Dataset.show(Dataset.scala:808)\r\n    \tat org.apache.spark.sql.Dataset.show(Dataset.scala:785)\r\n    \tat dna.dat.dam.datazones.RawZoneTemplate.execute(RawZoneTemplate.scala:24)\r\n    \tat dna.dat.dam.start.NewDAMSparkApp$.tableRunner(NewDAMSparkApp.scala:122)\r\n    \tat dna.dat.dam.start.NewDAMSparkApp$.$anonfun$new$4(NewDAMSparkApp.scala:82)\r\n    \tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n    \tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n    \tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n    \tat dna.dat.dam.start.NewDAMSparkApp$.delayedEndpoint$com$tccc$dna$dat$dam$start$NewDAMSparkApp$1(NewDAMSparkApp.scala:78)\r\n    \tat dna.dat.dam.start.NewDAMSparkApp$delayedInit$body.apply(NewDAMSparkApp.scala:16)\r\n    \tat scala.Function0.apply$mcV$sp(Function0.scala:39)\r\n    \tat scala.Function0.apply$mcV$sp$(Function0.scala:39)\r\n    \tat scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\r\n    \tat scala.App.$anonfun$main$1$adapted(App.scala:80)\r\n    \tat scala.collection.immutable.List.foreach(List.scala:431)\r\n    \tat scala.App.main(App.scala:80)\r\n    \tat scala.App.main$(App.scala:78)\r\n    \tat dna.synapse.spark.SynapseSparkBase.main(SynapseSparkBase.scala:17)\r\n    \tat dna.dat.dam.start.NewDAMSparkApp.main(NewDAMSparkApp.scala)\r\n    Caused by: java.io.NotSerializableException: dna.dat.dam.datazones.AssetFileNameConventionCheck\r\n    Serialization stack:\r\n    \t- object not serializable (class: dna.dat.dam.datazones.AssetFileNameConventionCheck, value: dna.dat.dam.datazones.AssetFileNameConventionCheck@4b9d2cee)\r\n    \t- element of array (index: 0)\r\n    \t- array (class [Ljava.lang.Object;, size 1)\r\n    \t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n    \t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class dna.dat.dam.datazones.AssetFileNameConventionCheck, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic com/tccc/dna/dat/dam/datazones/AssetFileNameConventionCheck.$anonfun$isValidFileFormatUdf$1$adapted:(Lcom/tccc/dna/dat/dam/datazones/AssetFileNameConventionCheck;Ljava/lang/String;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/String;)Ljava/lang/Object;, numCaptured=1])\r\n    \t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n    \t- object (class dna.dat.dam.datazones.AssetFileNameConventionCheck$$Lambda$2740/467937204, dna.dat.dam.datazones.AssetFileNameConventionCheck$$Lambda$2740/467937204@18c0f025)\r\n    \t- element of array (index: 1)\r\n    \t- array (class [Ljava.lang.Object;, size 4)\r\n    \t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n    \t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$f$2:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Lorg/apache/spark/sql/catalyst/expressions/Expression;Lscala/runtime/LazyRef;Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, instantiatedMethodType=(Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, numCaptured=4])\r\n    \t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n    \t- object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$2768/813768593, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$2768/813768593@4b62f1ba)\r\n    \t- field (class: org.apache.spark.sql.catalyst.expressions.ScalaUDF, name: f, type: interface scala.Function1)\r\n    \t- object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF, UDF(input[0, string, true]))\r\n    \t- field (class: org.apache.spark.sql.catalyst.expressions.ScalaUDF, name: canonicalized, type: class org.apache.spark.sql.catalyst.expressions.Expression)\r\n    \t- object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF, UDF(input[0, string, true]))\r\n    \t- element of array (index: 0)\r\n    \t- array (class [Ljava.lang.Object;, size 2)\r\n    \t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n    \t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$catalystConverter$3:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Ljava/lang/Object;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/Object;)Ljava/lang/Object;, numCaptured=2])\r\n    \t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n    \t- object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$2770/1054998702, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$2770/1054998702@6e612122)\r\n    \t- element of array (index: 1)\r\n    \t- array (class [Lscala.Function1;, size 2)\r\n    \t- element of array (index: 6)\r\n    \t- array (class [Ljava.lang.Object;, size 8)\r\n    \t- element of array (index: 1)\r\n    \t- array (class [Ljava.lang.Object;, size 3)\r\n    \t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n    \t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\r\n    \t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n    \t- object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2426/187070277, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2426/187070277@7aaf6bfd)\r\n    \tat org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\r\n    \tat org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\r\n    \tat org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\r\n    \tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\r\n    \t... 50 more\r\n\r\n","title":"Which object is not serializable Exception in thread &quot;main&quot; org.apache.spark.SparkException: Task not serializable","body":"<p>I have the following code to check if a file name follows certain date-time pattern.</p>\n<pre><code>import java.text.{ParseException, SimpleDateFormat}\nimport org.apache.spark.sql.functions._\n\nimport java.time.LocalDateTime\nimport java.time.format.DateTimeFormatter\n\nclass AssetFileNameConventionCheck() extends FileNameConventionCheck(&quot;&quot;&quot;asset-created-(\\\\d{14}).json&quot;&quot;&quot;.r) { //// defining regex with a dummy value\n\n  val dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;)\n\n  private val isValidFileFormatUdf = udf((name: String) =&gt; {\n    val isValid = regex.findFirstMatchIn(name) match {\n      case Some(matchedPattern) =&gt;\n        val timestampString = matchedPattern.group(1) // Get the timestamp\n\n        try {\n          LocalDateTime.parse(timestampString, dtf) // Try to parse the timestamp\n          true\n        } catch {\n          case _: java.time.format.DateTimeParseException =&gt; false\n        }\n      case None =&gt; false\n    }\n    isValid\n  })\n\n  override def check(colName: String, inputDf: DataFrame): DataFrame = {\n    val dateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;)\n    dateFormat.setLenient(false)\n\n\n    inputDf\n      .withColumn(&quot;isFileNameValidDateTime&quot;, isValidFileFormatUdf(col(&quot;name&quot;)))\n  }\n}\n\nclass FileNameConventionCheck(override val regex: Regex) extends StructuralCheck(&quot;isFileNameValid&quot;) {\n  def check(colName: String, inputDf: DataFrame): DataFrame =\n    inputDf\n    .withColumn(&quot;isFileNameValid&quot;, when(col(&quot;name&quot;).rlike(regex.regex), true).otherwise(false))\n}\n\nabstract class StructuralCheck(val checkName: String) {\n  val regex: Regex\n\n  def check(colName: String, inputDf: DataFrame): DataFrame\n\n}\n</code></pre>\n<p>It is raising the following exception, but I can't figure out which specific class is not serializable and why. How do I go about debugging this?</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.SparkException: Task not serializable\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\n    at org.apache.spark.SparkContext.clean(SparkContext.scala:2477)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\n    at org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\n    at org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:753)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:185)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:223)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:220)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:181)\n    at org.apache.spark.sql.execution.SparkPlan.getByteArrayRdd(SparkPlan.scala:326)\n    at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:459)\n    at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:445)\n    at org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:48)\n    at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3715)\n    at org.apache.spark.sql.Dataset.$anonfun$head$1(Dataset.scala:2728)\n    at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3706)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3704)\n    at org.apache.spark.sql.Dataset.head(Dataset.scala:2728)\n    at org.apache.spark.sql.Dataset.take(Dataset.scala:2935)\n    at org.apache.spark.sql.Dataset.getRows(Dataset.scala:287)\n    at org.apache.spark.sql.Dataset.showString(Dataset.scala:326)\n    at org.apache.spark.sql.Dataset.show(Dataset.scala:808)\n    at org.apache.spark.sql.Dataset.show(Dataset.scala:785)\n    at dna.dat.dam.datazones.RawZoneTemplate.execute(RawZoneTemplate.scala:24)\n    at dna.dat.dam.start.NewDAMSparkApp$.tableRunner(NewDAMSparkApp.scala:122)\n    at dna.dat.dam.start.NewDAMSparkApp$.$anonfun$new$4(NewDAMSparkApp.scala:82)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at dna.dat.dam.start.NewDAMSparkApp$.delayedEndpoint$com$tccc$dna$dat$dam$start$NewDAMSparkApp$1(NewDAMSparkApp.scala:78)\n    at dna.dat.dam.start.NewDAMSparkApp$delayedInit$body.apply(NewDAMSparkApp.scala:16)\n    at scala.Function0.apply$mcV$sp(Function0.scala:39)\n    at scala.Function0.apply$mcV$sp$(Function0.scala:39)\n    at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\n    at scala.App.$anonfun$main$1$adapted(App.scala:80)\n    at scala.collection.immutable.List.foreach(List.scala:431)\n    at scala.App.main(App.scala:80)\n    at scala.App.main$(App.scala:78)\n    at dna.synapse.spark.SynapseSparkBase.main(SynapseSparkBase.scala:17)\n    at dna.dat.dam.start.NewDAMSparkApp.main(NewDAMSparkApp.scala)\nCaused by: java.io.NotSerializableException: dna.dat.dam.datazones.AssetFileNameConventionCheck\nSerialization stack:\n    - object not serializable (class: dna.dat.dam.datazones.AssetFileNameConventionCheck, value: dna.dat.dam.datazones.AssetFileNameConventionCheck@4b9d2cee)\n    - element of array (index: 0)\n    - array (class [Ljava.lang.Object;, size 1)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class dna.dat.dam.datazones.AssetFileNameConventionCheck, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic com/tccc/dna/dat/dam/datazones/AssetFileNameConventionCheck.$anonfun$isValidFileFormatUdf$1$adapted:(Lcom/tccc/dna/dat/dam/datazones/AssetFileNameConventionCheck;Ljava/lang/String;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/String;)Ljava/lang/Object;, numCaptured=1])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class dna.dat.dam.datazones.AssetFileNameConventionCheck$$Lambda$2740/467937204, dna.dat.dam.datazones.AssetFileNameConventionCheck$$Lambda$2740/467937204@18c0f025)\n    - element of array (index: 1)\n    - array (class [Ljava.lang.Object;, size 4)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$f$2:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Lorg/apache/spark/sql/catalyst/expressions/Expression;Lscala/runtime/LazyRef;Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, instantiatedMethodType=(Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, numCaptured=4])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$2768/813768593, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$2768/813768593@4b62f1ba)\n    - field (class: org.apache.spark.sql.catalyst.expressions.ScalaUDF, name: f, type: interface scala.Function1)\n    - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF, UDF(input[0, string, true]))\n    - field (class: org.apache.spark.sql.catalyst.expressions.ScalaUDF, name: canonicalized, type: class org.apache.spark.sql.catalyst.expressions.Expression)\n    - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF, UDF(input[0, string, true]))\n    - element of array (index: 0)\n    - array (class [Ljava.lang.Object;, size 2)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$catalystConverter$3:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Ljava/lang/Object;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/Object;)Ljava/lang/Object;, numCaptured=2])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$2770/1054998702, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$2770/1054998702@6e612122)\n    - element of array (index: 1)\n    - array (class [Lscala.Function1;, size 2)\n    - element of array (index: 6)\n    - array (class [Ljava.lang.Object;, size 8)\n    - element of array (index: 1)\n    - array (class [Ljava.lang.Object;, size 3)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2426/187070277, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2426/187070277@7aaf6bfd)\n    at org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\n    at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\n    at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\n    ... 50 more\n</code></pre>\n"},{"tags":["java","android","eclipse","hibernate"],"comments":[{"owner":{"account_id":4255535,"reputation":2091,"user_id":3481325,"accept_rate":42,"display_name":"Sanjay Rabari"},"score":0,"creation_date":1420714555,"post_id":27838367,"comment_id":44080772,"body_markdown":"have u added hibernate jars to class path of project","body":"have u added hibernate jars to class path of project"},{"owner":{"account_id":1117342,"reputation":1854,"user_id":1106398,"accept_rate":80,"display_name":"Naveen Gamage"},"score":0,"creation_date":1420714577,"post_id":27838367,"comment_id":44080784,"body_markdown":"mmm nope! How do you do that?","body":"mmm nope! How do you do that?"}],"answers":[{"tags":[],"owner":{"account_id":2289888,"reputation":119,"user_id":2012995,"display_name":"Deepak Shingan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1420714696,"creation_date":1420714696,"answer_id":27838444,"question_id":27838367,"body_markdown":"You need to add Hibernate Jar to your project classpath or to your eclipse library list.\r\n\r\nAlso, by adding Help-&gt; Install New Software you are adding Hibernate plugin for eclipse and not adding Hibernate lib to your eclipse project.\r\n\r\nHere are some links for adding jars to eclipse project or classpath:\r\n\r\nhttps://stackoverflow.com/questions/3280353/how-to-import-a-jar-in-eclipse\r\n\r\nhttp://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29","title":"Eclipse The import org.hibernate cannot be resolved","body":"<p>You need to add Hibernate Jar to your project classpath or to your eclipse library list.</p>\n\n<p>Also, by adding Help-> Install New Software you are adding Hibernate plugin for eclipse and not adding Hibernate lib to your eclipse project.</p>\n\n<p>Here are some links for adding jars to eclipse project or classpath:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3280353/how-to-import-a-jar-in-eclipse\">How to import a jar in Eclipse</a></p>\n\n<p><a href=\"http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29\" rel=\"nofollow noreferrer\">http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29</a></p>\n"},{"tags":[],"owner":{"account_id":29972938,"reputation":1,"user_id":22969814,"display_name":"SHIVA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700853330,"creation_date":1700724853,"answer_id":77535057,"question_id":27838367,"body_markdown":"Guys First go to add Your configure(buildpath) in jar.files;\r\nand check the maven repository  to click access,liber,like that and  add path location of all then its clear \r\nelseif ( u can clear this is in automatic bug fix suggestion in your eclipse when trace full error codes in eclipse )then go to fix setup and add jar \r\n\r\n\r\n\r\n\r\n\r\n\r\notherwise last way : to use to  solve this is easy way,Its Nothing but use your com.dao or anyname class as com.hibernate;\r\n\r\n","title":"Eclipse The import org.hibernate cannot be resolved","body":"<p>Guys First go to add Your configure(buildpath) in jar.files;\nand check the maven repository  to click access,liber,like that and  add path location of all then its clear\nelseif ( u can clear this is in automatic bug fix suggestion in your eclipse when trace full error codes in eclipse )then go to fix setup and add jar</p>\n<p>otherwise last way : to use to  solve this is easy way,Its Nothing but use your com.dao or anyname class as com.hibernate;</p>\n"}],"owner":{"account_id":1117342,"reputation":1854,"user_id":1106398,"accept_rate":80,"display_name":"Naveen Gamage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37867,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27838444,"answer_count":2,"score":3,"last_activity_date":1700853330,"creation_date":1420714457,"question_id":27838367,"body_markdown":"I&#39;m quite new to Android SDK. I&#39;m trying to use Hibernate/Criteria but it gives an error.\r\n\r\nI have installed Hibernate following these steps.\r\n\r\n    Help -&gt; Install New Software\r\n    Click on Add. Location: http://download.jboss.org/jbosstools/updates/stable/\r\n    Inside JBoss Web and Java EE Development folder, select Hibernate Tools\r\n    Click on Next\r\n\r\nI can see that Hibernate has been installed in Eclipse but why the error keeps showing?\r\n\r\n    import org.hibernate.Criteria;\r\n    Criteria criteria = new Criteria();\r\n\r\nerror\r\n\r\n    The import org.hibernate cannot be resolved\r\n\r\nfile\r\n\r\n\r\n \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    \r\n    import com.google.android.gms.maps.*;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    import com.google.android.gms.maps.model.MarkerOptions;\r\n    \r\n    import android.location.Location;\r\n    import android.location.LocationManager;\r\n    \r\n    import android.widget.Toast;\r\n    import android.util.Log;\r\n    \r\n    import org.hibernate.Criteria; \r\n\r\n  \r\n    public class MyMapActivity extends Activity {\r\n    \tGoogleMap googleMap; \r\n    \t\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_my_map);\r\n    \t\tsetUpMap();\r\n    \t}\r\n    \t\r\n    \tprivate void setUpMap() {\r\n    \t    // Enable MyLocation Layer of Google Map\r\n    \t    googleMap.setMyLocationEnabled(true);\r\n    \r\n    \t    // Get LocationManager object from System Service LOCATION_SERVICE\r\n    \t    LocationManager locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n    \r\n    \t    // Create a criteria object to retrieve provider\r\n    \t    Criteria criteria = new Criteria(); //THIS IS WHERE THE ERROR IS\r\n    \r\n    \t    // Get the name of the best provider\r\n    \t    String provider = locationManager.getBestProvider(criteria, true);\r\n    \r\n    \t    // Get Current Location\r\n    \t    Location myLocation = locationManager.getLastKnownLocation(provider);\r\n    \r\n    \t    //set map type\r\n    \t    googleMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\r\n    \r\n    \t    // Get latitude of the current location\r\n    \t    double latitude = myLocation.getLatitude();\r\n    \r\n    \t    // Get longitude of the current location\r\n    \t    double longitude = myLocation.getLongitude();\r\n    \r\n    \t    // Create a LatLng object for the current location\r\n    \t    LatLng latLng = new LatLng(latitude, longitude);      \r\n    \r\n    \t    // Show the current location in Google Map        \r\n    \t    googleMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n    \r\n    \t    // Zoom in the Google Map\r\n    \t    googleMap.animateCamera(CameraUpdateFactory.zoomTo(20));\r\n    \t    googleMap.addMarker(new MarkerOptions().position(new LatLng(latitude, longitude)).title(&quot;You are here!&quot;));\r\n    \t}\r\n\r\n    \t\r\n \r\n\r\n\r\n","title":"Eclipse The import org.hibernate cannot be resolved","body":"<p>I'm quite new to Android SDK. I'm trying to use Hibernate/Criteria but it gives an error.</p>\n\n<p>I have installed Hibernate following these steps.</p>\n\n<pre><code>Help -&gt; Install New Software\nClick on Add. Location: http://download.jboss.org/jbosstools/updates/stable/\nInside JBoss Web and Java EE Development folder, select Hibernate Tools\nClick on Next\n</code></pre>\n\n<p>I can see that Hibernate has been installed in Eclipse but why the error keeps showing?</p>\n\n<pre><code>import org.hibernate.Criteria;\nCriteria criteria = new Criteria();\n</code></pre>\n\n<p>error</p>\n\n<pre><code>The import org.hibernate cannot be resolved\n</code></pre>\n\n<p>file</p>\n\n<pre><code>import android.app.Activity;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\n\nimport com.google.android.gms.maps.*;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\nimport android.location.Location;\nimport android.location.LocationManager;\n\nimport android.widget.Toast;\nimport android.util.Log;\n\nimport org.hibernate.Criteria; \n\n\npublic class MyMapActivity extends Activity {\n    GoogleMap googleMap; \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_my_map);\n        setUpMap();\n    }\n\n    private void setUpMap() {\n        // Enable MyLocation Layer of Google Map\n        googleMap.setMyLocationEnabled(true);\n\n        // Get LocationManager object from System Service LOCATION_SERVICE\n        LocationManager locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n\n        // Create a criteria object to retrieve provider\n        Criteria criteria = new Criteria(); //THIS IS WHERE THE ERROR IS\n\n        // Get the name of the best provider\n        String provider = locationManager.getBestProvider(criteria, true);\n\n        // Get Current Location\n        Location myLocation = locationManager.getLastKnownLocation(provider);\n\n        //set map type\n        googleMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\n\n        // Get latitude of the current location\n        double latitude = myLocation.getLatitude();\n\n        // Get longitude of the current location\n        double longitude = myLocation.getLongitude();\n\n        // Create a LatLng object for the current location\n        LatLng latLng = new LatLng(latitude, longitude);      \n\n        // Show the current location in Google Map        \n        googleMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n\n        // Zoom in the Google Map\n        googleMap.animateCamera(CameraUpdateFactory.zoomTo(20));\n        googleMap.addMarker(new MarkerOptions().position(new LatLng(latitude, longitude)).title(\"You are here!\"));\n    }\n</code></pre>\n"},{"tags":["java","hibernate-validator","jakarta-validation"],"owner":{"account_id":70039,"reputation":410,"user_id":203498,"display_name":"Lukas Bradley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700852894,"creation_date":1700852894,"question_id":77545229,"body_markdown":"Is it possible to get the name of the field onto which a custom validation annotation has been placed within the ConstraintValidator?  Consider the following:\r\n\r\n```java\r\n@MyConstraint\r\nString state ;\r\n```\r\n\r\n```java\r\npublic class MyConstraintValidator implements ConstraintValidator&lt;MyConstraint, String&gt; { ... }\r\n```\r\n\r\nHow can I get the field name of &#39;state&#39; within the ConstraintValidator?  (That field name will be used in the validation itself.)\r\n\r\nIn the debugger, I&#39;m able to see it on the ConstraintValidatatorContextImpl basePath, but I&#39;d rather not cheat by casting it up. ","title":"Get Name of Annotated Field in Jakarta ConstraintValidator Implementation","body":"<p>Is it possible to get the name of the field onto which a custom validation annotation has been placed within the ConstraintValidator?  Consider the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MyConstraint\nString state ;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyConstraintValidator implements ConstraintValidator&lt;MyConstraint, String&gt; { ... }\n</code></pre>\n<p>How can I get the field name of 'state' within the ConstraintValidator?  (That field name will be used in the validation itself.)</p>\n<p>In the debugger, I'm able to see it on the ConstraintValidatatorContextImpl basePath, but I'd rather not cheat by casting it up.</p>\n"},{"tags":["java","exception","static","inner-classes"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1699901089,"post_id":77476132,"comment_id":136586433,"body_markdown":"There&#39;s no such thing as a static inner class.  The `static` keyword makes the inner class independent of the enclosing class, the same as a top-level class.","body":"There&#39;s no such thing as a static inner class.  The <code>static</code> keyword makes the inner class independent of the enclosing class, the same as a top-level class."},{"owner":{"account_id":29894221,"reputation":13,"user_id":22909616,"display_name":"Anonymous_1354"},"score":0,"creation_date":1699901471,"post_id":77476132,"comment_id":136586480,"body_markdown":"Thanks for the Response. Tried after removing static keyword.  Still the same output","body":"Thanks for the Response. Tried after removing static keyword.  Still the same output"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699901500,"post_id":77476132,"comment_id":136586485,"body_markdown":"Which plugin are you using for Java support in VSC?","body":"Which plugin are you using for Java support in VSC?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1699902365,"post_id":77476132,"comment_id":136586611,"body_markdown":"@JimGarrison, _&quot;[Static Nested Class](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)&quot;_?","body":"@JimGarrison, <i>&quot;<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">Static Nested Class</a>&quot;</i>?"},{"owner":{"account_id":29894221,"reputation":13,"user_id":22909616,"display_name":"Anonymous_1354"},"score":0,"creation_date":1699902385,"post_id":77476132,"comment_id":136586617,"body_markdown":"I don&#39;t know what that is.","body":"I don&#39;t know what that is."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699902454,"post_id":77476132,"comment_id":136586627,"body_markdown":"@Anonymous_1354, where is _Outer_? Within _Main_?","body":"@Anonymous_1354, where is <i>Outer</i>? Within <i>Main</i>?"},{"owner":{"account_id":29894221,"reputation":13,"user_id":22909616,"display_name":"Anonymous_1354"},"score":0,"creation_date":1699902533,"post_id":77476132,"comment_id":136586635,"body_markdown":"@Reilas No, It&#39;s outside main.","body":"@Reilas No, It&#39;s outside main."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699902574,"post_id":77476132,"comment_id":136586643,"body_markdown":"@JimGarrison, additionally, it wouldn&#39;t be _independent_, per se, you would still need _Outer_ to access it, in terms of _syntax_; or use a _static import_.","body":"@JimGarrison, additionally, it wouldn&#39;t be <i>independent</i>, per se, you would still need <i>Outer</i> to access it, in terms of <i>syntax</i>; or use a <i>static import</i>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699902893,"post_id":77476132,"comment_id":136586679,"body_markdown":"@Anonymous_1354, maybe _VS_ is not compiling _Outer_, for whatever reason.  I&#39;m not familiar with the new _VS_, unfortunately.","body":"@Anonymous_1354, maybe <i>VS</i> is not compiling <i>Outer</i>, for whatever reason.  I&#39;m not familiar with the new <i>VS</i>, unfortunately."},{"owner":{"account_id":29894221,"reputation":13,"user_id":22909616,"display_name":"Anonymous_1354"},"score":0,"creation_date":1699903109,"post_id":77476132,"comment_id":136586709,"body_markdown":"even i guess so. Thanks","body":"even i guess so. Thanks"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1699905107,"post_id":77476132,"comment_id":136587015,"body_markdown":"To potentially clarify Jim&#39;s comment: It&#39;s a matter of terminology. An &quot;inner class&quot; is specifically a _non-static_ nested class. Saying your class is a &quot;static inner class&quot; is an oxymoron. Your class is a &quot;static nested class&quot;, not an inner class. The comment, however, is unlikely to help you solve your error; it was just a correction of terms. Note an inner class would require an _instance_ of the enclosing class in order to use it. A static nested class does not, hence why you can do `Outer.Inner.test()` (which doesn&#39;t involve an _instance_ of `Outer`).","body":"To potentially clarify Jim&#39;s comment: It&#39;s a matter of terminology. An &quot;inner class&quot; is specifically a <i>non-static</i> nested class. Saying your class is a &quot;static inner class&quot; is an oxymoron. Your class is a &quot;static nested class&quot;, not an inner class. The comment, however, is unlikely to help you solve your error; it was just a correction of terms. Note an inner class would require an <i>instance</i> of the enclosing class in order to use it. A static nested class does not, hence why you can do <code>Outer.Inner.test()</code> (which doesn&#39;t involve an <i>instance</i> of <code>Outer</code>)."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699923342,"post_id":77476132,"comment_id":136589272,"body_markdown":"For clarification, you get the error when you run the code within the VS Code IDE?","body":"For clarification, you get the error when you run the code within the VS Code IDE?"}],"owner":{"account_id":29894221,"reputation":13,"user_id":22909616,"display_name":"Anonymous_1354"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700852755,"creation_date":1699900899,"question_id":77476132,"body_markdown":"I&#39;m facing a problem with Static Inner Classes\r\n\r\nSo, my program is \r\n\r\n    class Outer {\r\n        static class Inner {\r\n            static void test() {\r\n                System.out.println(&quot;This is Inner Method&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Outer.Inner.test();\r\n        }\r\n    \r\n    }\r\n\r\nThis was supposed to access the test method and print **This is Inner Method**.\r\n\r\nThis is Throwing an Exception \r\n**Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void Outer$Inner.test()&#39;\r\n        at Main.main(Main.java:11)**\r\n\r\nBut when I run the same program using **javac Main.java** and **java Main**. It runs perfectly giving a proper output.\r\n\r\nWhy Am I facing this Exception while trying to run it directly.\r\n\r\nPS: I am using VS code as IDE","title":"Static Inner Class Issue","body":"<p>I'm facing a problem with Static Inner Classes</p>\n<p>So, my program is</p>\n<pre><code>class Outer {\n    static class Inner {\n        static void test() {\n            System.out.println(&quot;This is Inner Method&quot;);\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Outer.Inner.test();\n    }\n\n}\n</code></pre>\n<p>This was supposed to access the test method and print <strong>This is Inner Method</strong>.</p>\n<p>This is Throwing an Exception\n<strong>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'void Outer$Inner.test()'\nat Main.main(Main.java:11)</strong></p>\n<p>But when I run the same program using <strong>javac Main.java</strong> and <strong>java Main</strong>. It runs perfectly giving a proper output.</p>\n<p>Why Am I facing this Exception while trying to run it directly.</p>\n<p>PS: I am using VS code as IDE</p>\n"},{"tags":["java","maven","mysql-connector","flyway"],"comments":[{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1699206941,"post_id":77427020,"comment_id":136499666,"body_markdown":"I&#39;d guess that (1) MySQL isn&#39;t running locally on that port, or (2) the running instance does not have a database named fooddeliverydb set up yet.","body":"I&#39;d guess that (1) MySQL isn&#39;t running locally on that port, or (2) the running instance does not have a database named fooddeliverydb set up yet."}],"answers":[{"tags":[],"owner":{"account_id":24298669,"reputation":224,"user_id":18242496,"display_name":"DoodleBobBuffPants"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700852688,"creation_date":1700852688,"answer_id":77545214,"question_id":77427020,"body_markdown":"Based on your `pom.xml` it looks like you&#39;re missing a dependency on `flyway-mysql`. There&#39;s a _Java Usage_ section in the [documentation for using MySQL][1] which should cover what you need to include\r\n\r\n\r\n  [1]: https://documentation.red-gate.com/flyway/flyway-cli-and-api/supported-databases/mysql","title":"No database found to handle jdbc:mysql://localhost:3306/","body":"<p>Based on your <code>pom.xml</code> it looks like you're missing a dependency on <code>flyway-mysql</code>. There's a <em>Java Usage</em> section in the <a href=\"https://documentation.red-gate.com/flyway/flyway-cli-and-api/supported-databases/mysql\" rel=\"nofollow noreferrer\">documentation for using MySQL</a> which should cover what you need to include</p>\n"}],"owner":{"account_id":29832353,"reputation":1,"user_id":22862659,"display_name":"Bruno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700852688,"creation_date":1699206273,"question_id":77427020,"body_markdown":"I&#39;m having issues executing the `mvn flyway:migrate` command. I keep getting issues that seem to be related to locating my database.\r\n\r\n```xml\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.22.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;url&gt;jdbc:mysql://localhost:3306/fooddeliverydb&lt;/url&gt;\r\n                        &lt;user&gt;root&lt;/user&gt;\r\n                        &lt;password&gt;password&lt;/password&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.flywaydb/flyway-maven-plugin --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;10.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.33&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n                &lt;version&gt;8.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n```\r\n\r\nby using flyway plugin I wanted to migrate a the SQL script onto my Database. But I keep getting the same error every time I try to fix something.\r\n\r\n```\r\n&quot;\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.623 s\r\n    [INFO] Finished at: 2023-11-05T18:17:11+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.flywaydb:flyway-maven-plugin:9.22.3:migrate (default-cli) on project FoodDelivery: org.flywaydb.core.api.FlywayException: No database found to handle jdbc:mysql://localhost:3306/fooddeliverydb -&gt; [Help 1]\r\n&quot;\r\n```\r\nMysql\r\n\r\n[![mysql](https://i.stack.imgur.com/NmZGy.png)](https://i.stack.imgur.com/NmZGy.png)\r\n\r\nProject Struct\r\n\r\n[![Project Struct](https://i.stack.imgur.com/vVhv6.png)](https://i.stack.imgur.com/vVhv6.png)","title":"No database found to handle jdbc:mysql://localhost:3306/","body":"<p>I'm having issues executing the <code>mvn flyway:migrate</code> command. I keep getting issues that seem to be related to locating my database.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                    &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;9.22.3&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;url&gt;jdbc:mysql://localhost:3306/fooddeliverydb&lt;/url&gt;\n                        &lt;user&gt;root&lt;/user&gt;\n                        &lt;password&gt;password&lt;/password&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n        &lt;dependencies&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.flywaydb/flyway-maven-plugin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;10.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;8.0.33&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n                &lt;version&gt;8.2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n        &lt;/dependencies&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>by using flyway plugin I wanted to migrate a the SQL script onto my Database. But I keep getting the same error every time I try to fix something.</p>\n<pre><code>&quot;\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time:  0.623 s\n    [INFO] Finished at: 2023-11-05T18:17:11+01:00\n    [INFO] ------------------------------------------------------------------------\n    [ERROR] Failed to execute goal org.flywaydb:flyway-maven-plugin:9.22.3:migrate (default-cli) on project FoodDelivery: org.flywaydb.core.api.FlywayException: No database found to handle jdbc:mysql://localhost:3306/fooddeliverydb -&gt; [Help 1]\n&quot;\n</code></pre>\n<p>Mysql</p>\n<p><a href=\"https://i.stack.imgur.com/NmZGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NmZGy.png\" alt=\"mysql\" /></a></p>\n<p>Project Struct</p>\n<p><a href=\"https://i.stack.imgur.com/vVhv6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vVhv6.png\" alt=\"Project Struct\" /></a></p>\n"},{"tags":["java","enums","java-17"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1700845928,"post_id":77544658,"comment_id":136706724,"body_markdown":"Currently you have any role match, but you need all role match, correct? If I understand correctly all those curls only complicate the question and distract from the actual issue - in this case it&#39;s better to remove them in order to improve the question.","body":"Currently you have any role match, but you need all role match, correct? If I understand correctly all those curls only complicate the question and distract from the actual issue - in this case it&#39;s better to remove them in order to improve the question."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700846067,"post_id":77544658,"comment_id":136706738,"body_markdown":"Seems to me your search is backwards. Instead of searching for each element of `UserRoles.values()` in `roleList`, you should search each element of `roleList` is in `UserRoles.Values ()`.","body":"Seems to me your search is backwards. Instead of searching for each element of <code>UserRoles.values()</code> in <code>roleList</code>, you should search each element of <code>roleList</code> is in <code>UserRoles.Values ()</code>."}],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700846035,"creation_date":1700846035,"answer_id":77544719,"question_id":77544658,"body_markdown":"If this endpoint `/rolevalid`is under your control, first I would advise to use valid JSON for the payload, like:\r\n\r\n    {&quot;username&quot;: &quot;andy&quot;, &quot;roles&quot;: [&quot;ROLE_USER&quot;,&quot;ROLE_ADMIN&quot;]}\r\n\r\nAnd then use some standard framework to get this data into your app (Jakarta, SpringBoot, etc). The framework will do all this for you, check if all given roles valid.\r\n\r\nDo not bother with String operations, at some point it will fail.\r\n","title":"Validate a List to towards an enum","body":"<p>If this endpoint <code>/rolevalid</code>is under your control, first I would advise to use valid JSON for the payload, like:</p>\n<pre><code>{&quot;username&quot;: &quot;andy&quot;, &quot;roles&quot;: [&quot;ROLE_USER&quot;,&quot;ROLE_ADMIN&quot;]}\n</code></pre>\n<p>And then use some standard framework to get this data into your app (Jakarta, SpringBoot, etc). The framework will do all this for you, check if all given roles valid.</p>\n<p>Do not bother with String operations, at some point it will fail.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700846056,"creation_date":1700846056,"answer_id":77544721,"question_id":77544658,"body_markdown":"If all that you want is validate, then you better should do that:\r\n\r\n```\r\nvar roles = Arrays.stream(user.roles()\r\n                              .replace(&quot;[&quot;, &quot;&quot;)\r\n                              .replace(&quot;]&quot;, &quot;&quot;)\r\n                              .replace(&quot; &quot;, &quot;&quot;)\r\n                              .split(&quot;,&quot;))\r\n      .map(UserRoles::valueOf)\r\n      .toList();\r\n```\r\n\r\n`UserRoles::valueOf` will simply find the enum value by name and throws `IllegalArgumentException` if not found.\r\n","title":"Validate a List to towards an enum","body":"<p>If all that you want is validate, then you better should do that:</p>\n<pre><code>var roles = Arrays.stream(user.roles()\n                              .replace(&quot;[&quot;, &quot;&quot;)\n                              .replace(&quot;]&quot;, &quot;&quot;)\n                              .replace(&quot; &quot;, &quot;&quot;)\n                              .split(&quot;,&quot;))\n      .map(UserRoles::valueOf)\n      .toList();\n</code></pre>\n<p><code>UserRoles::valueOf</code> will simply find the enum value by name and throws <code>IllegalArgumentException</code> if not found.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700847783,"creation_date":1700846231,"answer_id":77544734,"question_id":77544658,"body_markdown":"To validate for all roles matching you need to invert the search:\r\n```\r\nSet&lt;String&gt; roles= Set.of(roleArray);\r\n\r\nboolean hasRole = true;\r\nfor (UserRoles role : UserRoles.values()) {\r\n  if (!roles.contains(role.name())) {\r\n    hasRole = false;\r\n    break;\r\n  }\r\n}\r\n```\r\nA small improvement is that you can use `Set` instead of `List` for the search - it won&#39;t really make a difference for such small data set, but for search only operations, as in your case, it&#39;s the correct data structure.","title":"Validate a List to towards an enum","body":"<p>To validate for all roles matching you need to invert the search:</p>\n<pre><code>Set&lt;String&gt; roles= Set.of(roleArray);\n\nboolean hasRole = true;\nfor (UserRoles role : UserRoles.values()) {\n  if (!roles.contains(role.name())) {\n    hasRole = false;\n    break;\n  }\n}\n</code></pre>\n<p>A small improvement is that you can use <code>Set</code> instead of <code>List</code> for the search - it won't really make a difference for such small data set, but for search only operations, as in your case, it's the correct data structure.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700851836,"creation_date":1700850132,"answer_id":77545034,"question_id":77544658,"body_markdown":"First, I suggest some changes to your `enum` class: \r\n \r\n - I made the name of the class singular, not plural. For example, if you wanted to use `enum` to represent the days of the week, you might use `enum DayOfWeek`, not `DaysOfWeek`. I find it is less confusing that way.\r\n - I completed the code for the constructor.\r\n - I added a `boolean isMatch (String )` method.\r\n\r\n````\r\nenum UserRole {\r\n    ROLE_ADMIN(&quot;ROLE_ADMIN&quot;),\r\n    ROLE_CONFIG_EDITOR(&quot;ROLE_CONFIG_EDITOR&quot;),\r\n    ROLE_USER(&quot;ROLE_USER&quot;);\r\n    private final String roleName;\r\n\r\n    UserRole (String roleName) {\r\n        this.roleName = roleName;\r\n    }\r\n    \r\n    public boolean isMatch (String roleName) { \r\n        return this.roleName.equalsIgnoreCase(roleName);\r\n    }\r\n}\r\n````\r\n\r\nNow, if I understand the problem correctly, for each user, you will have an array of roles of that user, as a `List&lt;String&gt;`. You want to find out if each element in that array is a valid role.\r\n\r\nGiven a `String []` of roles for a single user, this code will return `true` if each element is a valid role, and return `false` if any element is not valid. This is an &quot;old dog&quot; approach.\r\n````\r\n public static boolean enumTest (List&lt;String&gt; rolesOfThisUser) { \r\n  \r\n    final UserRole [] userRoles = UserRole.values();\r\n    boolean allRolesValid = true;\r\n    for (String singleRole: rolesOfThisUser)  { \r\n        boolean thisRoleValid = false;\r\n       for (UserRole test: userRoles) {\r\n           thisRoleValid = thisRoleValid || test.isMatch(singleRole);\r\n       }\r\n       allRolesValid = allRolesValid &amp;&amp; thisRoleValid;\r\n    } \r\n    return allRolesValid;\r\n}\r\n````\r\nNote that it will return `true` if the argument is an empty array. This is an example of &quot;vacuously true&quot;.\r\n\r\nTest: \r\n\r\n````\r\nSystem.out.println (enumTest (Arrays.asList \r\n    (new String [] {&quot;ROLE_user&quot;,&quot;WRONG_ROLE&quot;})));\r\nSystem.out.println (enumTest (Arrays.asList \r\n    (new String [] {&quot;ROLE_admin&quot;, &quot;role_CONFIG_EDITOR&quot;})));\r\nSystem.out.println (enumTest (Arrays.asList\r\n    (new String [] {})));\r\n````\r\nOutput:\r\n````\r\nfalse\r\ntrue\r\ntrue\r\n````\r\nNote that there will be exactly one instance of each value of an `enum`. If Pat and Chris are each an administrator, they will have the *same instance* of `ROLE_ADMIN`.","title":"Validate a List to towards an enum","body":"<p>First, I suggest some changes to your <code>enum</code> class:</p>\n<ul>\n<li>I made the name of the class singular, not plural. For example, if you wanted to use <code>enum</code> to represent the days of the week, you might use <code>enum DayOfWeek</code>, not <code>DaysOfWeek</code>. I find it is less confusing that way.</li>\n<li>I completed the code for the constructor.</li>\n<li>I added a <code>boolean isMatch (String )</code> method.</li>\n</ul>\n<pre><code>enum UserRole {\n    ROLE_ADMIN(&quot;ROLE_ADMIN&quot;),\n    ROLE_CONFIG_EDITOR(&quot;ROLE_CONFIG_EDITOR&quot;),\n    ROLE_USER(&quot;ROLE_USER&quot;);\n    private final String roleName;\n\n    UserRole (String roleName) {\n        this.roleName = roleName;\n    }\n    \n    public boolean isMatch (String roleName) { \n        return this.roleName.equalsIgnoreCase(roleName);\n    }\n}\n</code></pre>\n<p>Now, if I understand the problem correctly, for each user, you will have an array of roles of that user, as a <code>List&lt;String&gt;</code>. You want to find out if each element in that array is a valid role.</p>\n<p>Given a <code>String []</code> of roles for a single user, this code will return <code>true</code> if each element is a valid role, and return <code>false</code> if any element is not valid. This is an &quot;old dog&quot; approach.</p>\n<pre><code> public static boolean enumTest (List&lt;String&gt; rolesOfThisUser) { \n  \n    final UserRole [] userRoles = UserRole.values();\n    boolean allRolesValid = true;\n    for (String singleRole: rolesOfThisUser)  { \n        boolean thisRoleValid = false;\n       for (UserRole test: userRoles) {\n           thisRoleValid = thisRoleValid || test.isMatch(singleRole);\n       }\n       allRolesValid = allRolesValid &amp;&amp; thisRoleValid;\n    } \n    return allRolesValid;\n}\n</code></pre>\n<p>Note that it will return <code>true</code> if the argument is an empty array. This is an example of &quot;vacuously true&quot;.</p>\n<p>Test:</p>\n<pre><code>System.out.println (enumTest (Arrays.asList \n    (new String [] {&quot;ROLE_user&quot;,&quot;WRONG_ROLE&quot;})));\nSystem.out.println (enumTest (Arrays.asList \n    (new String [] {&quot;ROLE_admin&quot;, &quot;role_CONFIG_EDITOR&quot;})));\nSystem.out.println (enumTest (Arrays.asList\n    (new String [] {})));\n</code></pre>\n<p>Output:</p>\n<pre><code>false\ntrue\ntrue\n</code></pre>\n<p>Note that there will be exactly one instance of each value of an <code>enum</code>. If Pat and Chris are each an administrator, they will have the <em>same instance</em> of <code>ROLE_ADMIN</code>.</p>\n"}],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1700851836,"creation_date":1700845128,"question_id":77544658,"body_markdown":"I have an enum that looks like this that I need to validate their values\r\n\r\n```java\r\npublic enum UserRoles {\r\n    ROLE_ADMIN(&quot;ROLE_ADMIN&quot;),\r\n    ROLE_CONFIG_EDITOR(&quot;ROLE_CONFIG_EDITOR&quot;),\r\n    ROLE_USER(&quot;ROLE_USER&quot;);\r\n    \r\n    UserRoles(String roleUser) {\r\n    }\r\n}\r\n```\r\n\r\nThe values are provided via JSON like this:\r\n\r\n```json\r\n{&quot;username&quot;: &quot;andy&quot;, &quot;roles&quot;: &quot;ROLE_USER,WRONG_ROLE&quot;}\r\n```\r\n\r\nSo I&#39;m doing something like this to try to validate the roles sent to the endpoint:\r\n\r\n```java\r\nString[] roleArray = user.roles()\r\n  .replace(&quot;[&quot;, &quot;&quot;)\r\n  .replace(&quot;]&quot;, &quot;&quot;)\r\n  .replace(&quot; &quot;, &quot;&quot;)\r\n  .split(&quot;,&quot;);\r\nList&lt;String&gt; roleList = new ArrayList&lt;&gt;(Arrays.asList(roleArray));\r\n\r\nboolean hasRole = false;\r\nfor (UserRoles role : UserRoles.values()) {\r\n  if (roleList.contains(role.name())) {\r\n    hasRole = true;\r\n  }\r\n}\r\n```\r\n\r\nWhich kind of works as it returns true if one of the provided values are correct. However I need to validate that all of the values are correct so in the example above the `hasRole` variable should be false as the `WRONG_ROLE` isn&#39;t part of the enum.\r\n\r\nA valid call to the endpoint would be:\r\n\r\n```json\r\n{&quot;username&quot;: &quot;andy&quot;, &quot;roles&quot;: &quot;ROLE_USER&quot;}\r\n```\r\nor\r\n```json\r\n{&quot;username&quot;: &quot;andy&quot;, &quot;roles&quot;: &quot;ROLE_USER,ROLE_ADMIN&quot;}\r\n```","title":"Validate a List to towards an enum","body":"<p>I have an enum that looks like this that I need to validate their values</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum UserRoles {\n    ROLE_ADMIN(&quot;ROLE_ADMIN&quot;),\n    ROLE_CONFIG_EDITOR(&quot;ROLE_CONFIG_EDITOR&quot;),\n    ROLE_USER(&quot;ROLE_USER&quot;);\n    \n    UserRoles(String roleUser) {\n    }\n}\n</code></pre>\n<p>The values are provided via JSON like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;username&quot;: &quot;andy&quot;, &quot;roles&quot;: &quot;ROLE_USER,WRONG_ROLE&quot;}\n</code></pre>\n<p>So I'm doing something like this to try to validate the roles sent to the endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] roleArray = user.roles()\n  .replace(&quot;[&quot;, &quot;&quot;)\n  .replace(&quot;]&quot;, &quot;&quot;)\n  .replace(&quot; &quot;, &quot;&quot;)\n  .split(&quot;,&quot;);\nList&lt;String&gt; roleList = new ArrayList&lt;&gt;(Arrays.asList(roleArray));\n\nboolean hasRole = false;\nfor (UserRoles role : UserRoles.values()) {\n  if (roleList.contains(role.name())) {\n    hasRole = true;\n  }\n}\n</code></pre>\n<p>Which kind of works as it returns true if one of the provided values are correct. However I need to validate that all of the values are correct so in the example above the <code>hasRole</code> variable should be false as the <code>WRONG_ROLE</code> isn't part of the enum.</p>\n<p>A valid call to the endpoint would be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;username&quot;: &quot;andy&quot;, &quot;roles&quot;: &quot;ROLE_USER&quot;}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;username&quot;: &quot;andy&quot;, &quot;roles&quot;: &quot;ROLE_USER,ROLE_ADMIN&quot;}\n</code></pre>\n"},{"tags":["java","opengl","graphics","glsl","jogl"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205310,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700851661,"creation_date":1700849550,"answer_id":77544988,"question_id":77544968,"body_markdown":"The 2nd argument of [`glBufferData`](https://registry.khronos.org/OpenGL-Refpages/gl4/html/glBufferData.xhtml) is the size of the buffer:\r\n\r\n&lt;s&gt;`gl.glBufferData(GL_ARRAY_BUFFER, Integer.BYTES, blockBuffer, GL_STATIC_DRAW);`&lt;/s&gt;\r\n```java\r\ngl.glBufferData(GL_ARRAY_BUFFER, Integer.BYTES * blockBuffer.limit(), blockBuffer, GL_STATIC_DRAW);\r\n```\r\n\r\nNote that the vertex shader input is an attribute and the buffer must therefore have one value for each vertex.","title":"JOGL Passing Integer Value to Fragment Shader","body":"<p>The 2nd argument of <a href=\"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glBufferData.xhtml\" rel=\"nofollow noreferrer\"><code>glBufferData</code></a> is the size of the buffer:</p>\n<p><s><code>gl.glBufferData(GL_ARRAY_BUFFER, Integer.BYTES, blockBuffer, GL_STATIC_DRAW);</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>gl.glBufferData(GL_ARRAY_BUFFER, Integer.BYTES * blockBuffer.limit(), blockBuffer, GL_STATIC_DRAW);\n</code></pre>\n<p>Note that the vertex shader input is an attribute and the buffer must therefore have one value for each vertex.</p>\n"}],"owner":{"account_id":13905064,"reputation":45,"user_id":10039647,"display_name":"andromda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700851661,"creation_date":1700849304,"question_id":77544968,"body_markdown":"In my OpenGL application I am trying to pass an integer to the vertex shader and then forward it to the fragment shader to use as a zIndex in a texture array. However when I pass the value using a VBO the integer value always seems to be zero.\r\n\r\nI am using a VBO to pass vertices, normals, and texture coordinates and they all work as expected. The only value that is not being passed it seems is the integer value. I have also tried doing this with a float and encounter the same behavior.\r\n\r\n\r\nVertex Shader\r\n```\r\n#version 410\r\n\r\nlayout (location = 0) in vec3 aPos;\r\nlayout (location = 1) in vec3 aNorm;\r\nlayout (location = 2) in vec2 aTexCoords;\r\nlayout (location = 3) in uint aDepth;\r\n\r\nout vec2 TexCoords;\r\nout vec3 Normal;\r\nout vec3 FragPos;\r\nout uint vDepth;\r\n\r\nuniform mat4 model;\r\nuniform mat4 view;\r\nuniform mat4 projection;\r\n\r\nvoid main()\r\n{\r\n     vDepth = aDepth;\r\n     TexCoords = aTexCoords;\r\n     gl_Position = projection * view * model * vec4(aPos, 1.0);\r\n}\r\n\r\n```\r\n\r\nFragment Shader\r\n```\r\n#version 410\r\n\r\nin vec2 TexCoords;\r\nflat in uint vDepth;\r\n\r\nuniform sampler2DArray textureArray;\r\n\r\nout vec4 FragColor;\r\n\r\n\r\nvoid main()\r\n{\r\n    if(vDepth == 0) {\r\n        FragColor = vec4(1.0, 0.0, 0.0, 1.0);\r\n    } else {\r\n        FragColor = vec4(0.0, 1.0, 0.0, 1.0);\r\n    }\r\n\r\n//    FragColor = texture(textureArray, vec3(TexCoords, vDepth));\r\n}\r\n```\r\n\r\nVAO/VBO creation\r\n```\r\n    public Block(GL4 gl, int shaderProgram, float[] vertices, float[] normals, float[] textureCoordinates, int blockType) {\r\n\r\n        gl.glUseProgram(shaderProgram);\r\n\r\n        // setup object\r\n        gl.glGenVertexArrays(1, vao, 0);\r\n        gl.glGenBuffers(vbo.length, vbo, 0);\r\n\r\n        // bind to vao\r\n        gl.glBindVertexArray(vao[0]);\r\n\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\r\n        gl.glBufferData(GL_ARRAY_BUFFER, (long) vertices.length * Float.BYTES, Buffers.newDirectFloatBuffer(vertices), GL_STATIC_DRAW);\r\n\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\r\n        gl.glBufferData(GL_ARRAY_BUFFER, (long) normals.length * Float.BYTES, Buffers.newDirectFloatBuffer(normals), GL_STATIC_DRAW);\r\n\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\r\n        gl.glBufferData(GL_ARRAY_BUFFER, (long) textureCoordinates.length * Float.BYTES, Buffers.newDirectFloatBuffer(textureCoordinates), GL_STATIC_DRAW);\r\n\r\n        // ISSUE IS HERE //\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[3]);\r\n        IntBuffer blockBuffer = Buffers.newDirectIntBuffer(blockType);\r\n        gl.glBufferData(GL_ARRAY_BUFFER, Integer.BYTES, blockBuffer, GL_STATIC_DRAW);\r\n\r\n        // bind to indices\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\r\n        gl.glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.BYTES, 0);\r\n        gl.glEnableVertexAttribArray(0);\r\n\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\r\n        gl.glVertexAttribPointer(1, 3, GL_FLOAT, false, 3 * Float.BYTES, 0);\r\n        gl.glEnableVertexAttribArray(1);\r\n\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\r\n        gl.glVertexAttribPointer(2, 2, GL_FLOAT, false, 2 * Float.BYTES, 0);\r\n        gl.glEnableVertexAttribArray(2);\r\n\r\n\r\n        // ISSUE IS HERE //\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[3]);\r\n        gl.glVertexAttribIPointer(3, 1, GL_UNSIGNED_INT, Integer.BYTES, 0);\r\n        gl.glEnableVertexAttribArray(3);\r\n\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n    }\r\n```","title":"JOGL Passing Integer Value to Fragment Shader","body":"<p>In my OpenGL application I am trying to pass an integer to the vertex shader and then forward it to the fragment shader to use as a zIndex in a texture array. However when I pass the value using a VBO the integer value always seems to be zero.</p>\n<p>I am using a VBO to pass vertices, normals, and texture coordinates and they all work as expected. The only value that is not being passed it seems is the integer value. I have also tried doing this with a float and encounter the same behavior.</p>\n<p>Vertex Shader</p>\n<pre><code>#version 410\n\nlayout (location = 0) in vec3 aPos;\nlayout (location = 1) in vec3 aNorm;\nlayout (location = 2) in vec2 aTexCoords;\nlayout (location = 3) in uint aDepth;\n\nout vec2 TexCoords;\nout vec3 Normal;\nout vec3 FragPos;\nout uint vDepth;\n\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\n\nvoid main()\n{\n     vDepth = aDepth;\n     TexCoords = aTexCoords;\n     gl_Position = projection * view * model * vec4(aPos, 1.0);\n}\n\n</code></pre>\n<p>Fragment Shader</p>\n<pre><code>#version 410\n\nin vec2 TexCoords;\nflat in uint vDepth;\n\nuniform sampler2DArray textureArray;\n\nout vec4 FragColor;\n\n\nvoid main()\n{\n    if(vDepth == 0) {\n        FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n    } else {\n        FragColor = vec4(0.0, 1.0, 0.0, 1.0);\n    }\n\n//    FragColor = texture(textureArray, vec3(TexCoords, vDepth));\n}\n</code></pre>\n<p>VAO/VBO creation</p>\n<pre><code>    public Block(GL4 gl, int shaderProgram, float[] vertices, float[] normals, float[] textureCoordinates, int blockType) {\n\n        gl.glUseProgram(shaderProgram);\n\n        // setup object\n        gl.glGenVertexArrays(1, vao, 0);\n        gl.glGenBuffers(vbo.length, vbo, 0);\n\n        // bind to vao\n        gl.glBindVertexArray(vao[0]);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\n        gl.glBufferData(GL_ARRAY_BUFFER, (long) vertices.length * Float.BYTES, Buffers.newDirectFloatBuffer(vertices), GL_STATIC_DRAW);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\n        gl.glBufferData(GL_ARRAY_BUFFER, (long) normals.length * Float.BYTES, Buffers.newDirectFloatBuffer(normals), GL_STATIC_DRAW);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\n        gl.glBufferData(GL_ARRAY_BUFFER, (long) textureCoordinates.length * Float.BYTES, Buffers.newDirectFloatBuffer(textureCoordinates), GL_STATIC_DRAW);\n\n        // ISSUE IS HERE //\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[3]);\n        IntBuffer blockBuffer = Buffers.newDirectIntBuffer(blockType);\n        gl.glBufferData(GL_ARRAY_BUFFER, Integer.BYTES, blockBuffer, GL_STATIC_DRAW);\n\n        // bind to indices\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\n        gl.glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.BYTES, 0);\n        gl.glEnableVertexAttribArray(0);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\n        gl.glVertexAttribPointer(1, 3, GL_FLOAT, false, 3 * Float.BYTES, 0);\n        gl.glEnableVertexAttribArray(1);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\n        gl.glVertexAttribPointer(2, 2, GL_FLOAT, false, 2 * Float.BYTES, 0);\n        gl.glEnableVertexAttribArray(2);\n\n\n        // ISSUE IS HERE //\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[3]);\n        gl.glVertexAttribIPointer(3, 1, GL_UNSIGNED_INT, Integer.BYTES, 0);\n        gl.glEnableVertexAttribArray(3);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, 0);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","soap"],"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700851045,"creation_date":1700774129,"question_id":77539652,"body_markdown":"\r\nI have a Spring Boot application that communicates with a SOAP Web Service over HTTPS, using NTLM authentication. To establish a secure connection, the web service requires certificates for validation. To accommodate this, I&#39;ve added all three necessary certificates into a truststore.\r\n\r\nBelow is how I&#39;ve configured the truststore in my Spring Boot application:\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.jks&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;JKS&quot;);\r\n\r\nI&#39;m encountering an SSLHandshakeException issue when deploying my Spring Boot application to a Tomcat server. The application works fine in the local development environment, but when deployed to Tomcat, it throws the following exception:\r\n\r\n    org.springframework.ws.client.WebServiceIOException: I/O error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:561) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at com.example.ePisarnicaWebService.SOAP.SoapClient.createCaseAndAct(SoapClient.java:96) ~[classes/:0.0.1-SNAPSHOT]\r\n            at com.example.ePisarnicaWebService.SOAP.SoapController.createCaseAndAct(SoapController.java:50) ~[classes/:0.0.1-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[servlet-api.jar:na]\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.30.jar:5.3.30]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[servlet-api.jar:na]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-websocket.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) ~[spring-boot-2.7.17.jar:2.7.17]\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) ~[spring-boot-2.7.17.jar:2.7.17]\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) ~[spring-boot-2.7.17.jar:2.7.17]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) ~[spring-boot-2.7.17.jar:2.7.17]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:8.5.79]\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:367) ~[catalina.jar:8.5.79]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:882) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1647) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:8.5.79]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:8.5.79]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:8.5.79]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:8.5.79]\r\n            at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n            at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:376) ~[na:na]\r\n            at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:319) ~[na:na]\r\n            at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\r\n            at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654) ~[na:na]\r\n            at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[na:na]\r\n            at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\r\n            at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478) ~[na:na]\r\n            at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:456) ~[na:na]\r\n            at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1383) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1296) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:416) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:388) ~[na:na]\r\n            at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:553) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:412) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:179) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:328) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:612) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:447) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:884) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55) ~[httpclient-4.5.2.jar:4.5.2]\r\n            at org.springframework.ws.transport.http.HttpComponentsConnection.onSendAfterWrite(HttpComponentsConnection.java:121) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.transport.AbstractWebServiceConnection.send(AbstractWebServiceConnection.java:48) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.client.core.WebServiceTemplate.sendRequest(WebServiceTemplate.java:658) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:606) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n            ... 61 common frames omitted\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439) ~[na:na]\r\n            at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306) ~[na:na]\r\n            at java.base/sun.security.validator.Validator.validate(Validator.java:264) ~[na:na]\r\n            at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313) ~[na:na]\r\n            at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222) ~[na:na]\r\n            at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129) ~[na:na]\r\n            at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[na:na]\r\n            ... 87 common frames omitted\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:146) ~[na:na]\r\n            at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:127) ~[na:na]\r\n            at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297) ~[na:na]\r\n            at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434) ~[na:na]\r\n            ... 93 common frames omitted\r\n\r\nCould someone please guide me on how to resolve this SSLHandshakeException specifically when deploying a Spring Boot application on a Tomcat server? Is there something I might be missing in the configuration or any additional steps to troubleshoot this issue?\r\n\r\nAny help or insights would be greatly appreciated. Thank you!","title":"PKIX path building failed / javax.net.ssl.SSLHandshakeException error in Spring Boot App Deployed on Tomcat","body":"<p>I have a Spring Boot application that communicates with a SOAP Web Service over HTTPS, using NTLM authentication. To establish a secure connection, the web service requires certificates for validation. To accommodate this, I've added all three necessary certificates into a truststore.</p>\n<p>Below is how I've configured the truststore in my Spring Boot application:</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.jks&quot;);\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\nSystem.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;JKS&quot;);\n</code></pre>\n<p>I'm encountering an SSLHandshakeException issue when deploying my Spring Boot application to a Tomcat server. The application works fine in the local development environment, but when deployed to Tomcat, it throws the following exception:</p>\n<pre><code>org.springframework.ws.client.WebServiceIOException: I/O error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:561) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at com.example.ePisarnicaWebService.SOAP.SoapClient.createCaseAndAct(SoapClient.java:96) ~[classes/:0.0.1-SNAPSHOT]\n        at com.example.ePisarnicaWebService.SOAP.SoapController.createCaseAndAct(SoapController.java:50) ~[classes/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[servlet-api.jar:na]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.30.jar:5.3.30]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[servlet-api.jar:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-websocket.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) ~[spring-boot-2.7.17.jar:2.7.17]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) ~[spring-boot-2.7.17.jar:2.7.17]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) ~[spring-boot-2.7.17.jar:2.7.17]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) ~[spring-boot-2.7.17.jar:2.7.17]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.30.jar:5.3.30]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:8.5.79]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:367) ~[catalina.jar:8.5.79]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:882) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1647) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:8.5.79]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:8.5.79]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:8.5.79]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:8.5.79]\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:376) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:319) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[na:na]\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478) ~[na:na]\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:456) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199) ~[na:na]\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1383) ~[na:na]\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1296) ~[na:na]\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:416) ~[na:na]\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:388) ~[na:na]\n        at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:553) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:412) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:179) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:328) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:612) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:447) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:884) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55) ~[httpclient-4.5.2.jar:4.5.2]\n        at org.springframework.ws.transport.http.HttpComponentsConnection.onSendAfterWrite(HttpComponentsConnection.java:121) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.transport.AbstractWebServiceConnection.send(AbstractWebServiceConnection.java:48) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.client.core.WebServiceTemplate.sendRequest(WebServiceTemplate.java:658) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:606) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) ~[spring-ws-core-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        ... 61 common frames omitted\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439) ~[na:na]\n        at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306) ~[na:na]\n        at java.base/sun.security.validator.Validator.validate(Validator.java:264) ~[na:na]\n        at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313) ~[na:na]\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222) ~[na:na]\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638) ~[na:na]\n        ... 87 common frames omitted\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:146) ~[na:na]\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:127) ~[na:na]\n        at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297) ~[na:na]\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434) ~[na:na]\n        ... 93 common frames omitted\n</code></pre>\n<p>Could someone please guide me on how to resolve this SSLHandshakeException specifically when deploying a Spring Boot application on a Tomcat server? Is there something I might be missing in the configuration or any additional steps to troubleshoot this issue?</p>\n<p>Any help or insights would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","mariadb","apache-nifi"],"comments":[{"owner":{"account_id":1838718,"reputation":11848,"user_id":1668575,"display_name":"mattyb"},"score":0,"creation_date":1700808048,"post_id":77541050,"comment_id":136700735,"body_markdown":"How does your Fetch Size setting affect how often you see the error? Maybe start with 2000 and see if you can increase all the way to 20000 and still get performance benefits without the error (or at least it happening as often). Another recommendation (this should probably be required) is to set the Validation Query property so a connection is not reused if it shouldn&#39;t be","body":"How does your Fetch Size setting affect how often you see the error? Maybe start with 2000 and see if you can increase all the way to 20000 and still get performance benefits without the error (or at least it happening as often). Another recommendation (this should probably be required) is to set the Validation Query property so a connection is not reused if it shouldn&#39;t be"}],"owner":{"account_id":4254028,"reputation":145,"user_id":3480164,"accept_rate":71,"display_name":"Renold Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700848824,"creation_date":1700806376,"question_id":77541050,"body_markdown":"I&#39;m encountering occasional Exception when using PUTSQL processor in apache Nifi.\r\n\r\nI have already Increased `innodb_lock_wait_timeout` But I&#39;m still encountering the error occasionally. How can I fix this error? And what are the optimal configurations when using putsql processor to insert large volume of records into mariadb?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n```\r\nVariable_name;Value\r\ninnodb_lock_wait_timeout;300\r\n\r\nError Snippet:\r\n2023-11-24 18:04:45,837 ERROR [Timer-Driven Process Thread-51] o.apache.nifi.processors.standard.PutSQL PutSQL[id=c7255d17-018b-1000-143e-fc839881330c] Failed to update database due to a failed batch update, java.sql.BatchUpdateException: Lock wait timeout exceeded; try restarting transaction. There were a total of 1 FlowFiles that failed, 14 that succeeded, and 0 that were not execute and will be routed to retry;\r\n        java.sql.BatchUpdateException: Lock wait timeout exceeded; try restarting transaction\r\n    \r\n    at com.mysql.cj.jdbc.exceptions.SQLError.createBatchUpdateException(SQLError.java:224)\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/Cy7ja.png\r\n  [2]: https://i.stack.imgur.com/6Xw7N.png","title":"Apache NIFI: Occasional Exception with PUTSQL Processor java.sql.BatchUpdateException: Lock wait timeout exceeded","body":"<p>I'm encountering occasional Exception when using PUTSQL processor in apache Nifi.</p>\n<p>I have already Increased <code>innodb_lock_wait_timeout</code> But I'm still encountering the error occasionally. How can I fix this error? And what are the optimal configurations when using putsql processor to insert large volume of records into mariadb?</p>\n<p><a href=\"https://i.stack.imgur.com/Cy7ja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cy7ja.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6Xw7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Xw7N.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Variable_name;Value\ninnodb_lock_wait_timeout;300\n\nError Snippet:\n2023-11-24 18:04:45,837 ERROR [Timer-Driven Process Thread-51] o.apache.nifi.processors.standard.PutSQL PutSQL[id=c7255d17-018b-1000-143e-fc839881330c] Failed to update database due to a failed batch update, java.sql.BatchUpdateException: Lock wait timeout exceeded; try restarting transaction. There were a total of 1 FlowFiles that failed, 14 that succeeded, and 0 that were not execute and will be routed to retry;\n        java.sql.BatchUpdateException: Lock wait timeout exceeded; try restarting transaction\n    \n    at com.mysql.cj.jdbc.exceptions.SQLError.createBatchUpdateException(SQLError.java:224)\n</code></pre>\n"},{"tags":["java","xml","xml-signature"],"answers":[{"tags":[],"owner":{"account_id":18289715,"reputation":484,"user_id":13316778,"display_name":"Timothy Legge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679971427,"creation_date":1679950114,"answer_id":75860246,"question_id":75824002,"body_markdown":"A fair number of questions there.\r\n\r\n1. The cert in the keystore validated that the XML is signed by the expected key.  You can&#39;t implicitly trust the signature in the XML file.  It&#39;s like me providing you a picture ID that consists of a mirror with &quot;me&quot; written at the top.  It might be correct but it&#39;s not real reliable.\r\n\r\n2. Formatting XML must be done before it is signed.  The canonicalization of XML is meant to ensure that the XML being signed is equivalent.  It processes the XML with rules to ensure that equivalent XML would have the same signature but some formatting and tidying after the signature would break it.  While I do like nicely formatted XML it&#39;s meant to be processed by by computers so don&#39;t worry too much about it...\r\n\r\n&gt; Update 1:\r\n&gt;     \r\n&gt; 1. The original xml is well formatted. Currently, only the ds:Signature node is not well formatted.\r\n\r\nNot much to be done with that in general.  Signing the XML requires the library to create an xml fragment containing a digest for the canonical version of your XML.  The fragment is then signed and the result is another XML fragment.  In general they are independent in that as long as you don&#39;t change what makes an equivalent canonical xml but there are enough rules to make it difficult for the library to make it pretty when combined.   You would need to have a combined original XML and Signature in a pretty format and then update the Signature/SignedInfo with the parts that change.  For example insert the new signature value for the SignedInfo into a complete document that you know is well formatted.\r\n\r\n\r\n&gt; 2. When process the sign with the apache library, How do we know the XML file is already formatted? Because the XML file is now represented\r\n&gt; as Java objects.\r\n\r\nMost (many? some?) XML libraries have a function that can format the XML as &quot;pretty&quot; (or well formatted).  However the nature of Signed XML would mean that the signature could be affected by doing that.\r\n\r\n&gt; 3. Usually, the content between &gt; and &lt;, like in this piece of &lt;Item&gt;this is content&lt;/Item&gt;, this is content is the payload, Does the\r\n&gt; signing process only sign the payload? or it will contain the &lt;Item&gt;,\r\n&gt; &lt;\\Item&gt;, even more it will include some blank space before the &lt;Item&gt;\r\n&gt; like   &lt;Item&gt; and some \\n in the end of &lt;\\Item&gt;?\r\n\r\nThe rules vary somewhat by canonicalization method.  See https://www.w3.org/TR/xml-c14n/#Terminology for example.  But I would expect that\r\n\r\n    All whitespace in character content is retained (excluding characters removed during line feed normalization)","title":"Signature validation failed after formatting an XML with SignatureValue on it","body":"<p>A fair number of questions there.</p>\n<ol>\n<li><p>The cert in the keystore validated that the XML is signed by the expected key.  You can't implicitly trust the signature in the XML file.  It's like me providing you a picture ID that consists of a mirror with &quot;me&quot; written at the top.  It might be correct but it's not real reliable.</p>\n</li>\n<li><p>Formatting XML must be done before it is signed.  The canonicalization of XML is meant to ensure that the XML being signed is equivalent.  It processes the XML with rules to ensure that equivalent XML would have the same signature but some formatting and tidying after the signature would break it.  While I do like nicely formatted XML it's meant to be processed by by computers so don't worry too much about it...</p>\n</li>\n</ol>\n<blockquote>\n<p>Update 1:</p>\n<ol>\n<li>The original xml is well formatted. Currently, only the ds:Signature node is not well formatted.</li>\n</ol>\n</blockquote>\n<p>Not much to be done with that in general.  Signing the XML requires the library to create an xml fragment containing a digest for the canonical version of your XML.  The fragment is then signed and the result is another XML fragment.  In general they are independent in that as long as you don't change what makes an equivalent canonical xml but there are enough rules to make it difficult for the library to make it pretty when combined.   You would need to have a combined original XML and Signature in a pretty format and then update the Signature/SignedInfo with the parts that change.  For example insert the new signature value for the SignedInfo into a complete document that you know is well formatted.</p>\n<blockquote>\n<ol start=\"2\">\n<li>When process the sign with the apache library, How do we know the XML file is already formatted? Because the XML file is now represented\nas Java objects.</li>\n</ol>\n</blockquote>\n<p>Most (many? some?) XML libraries have a function that can format the XML as &quot;pretty&quot; (or well formatted).  However the nature of Signed XML would mean that the signature could be affected by doing that.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Usually, the content between &gt; and &lt;, like in this piece of this is content, this is content is the payload, Does the\nsigning process only sign the payload? or it will contain the ,\n&lt;\\Item&gt;, even more it will include some blank space before the \nlike    and some \\n in the end of &lt;\\Item&gt;?</li>\n</ol>\n</blockquote>\n<p>The rules vary somewhat by canonicalization method.  See <a href=\"https://www.w3.org/TR/xml-c14n/#Terminology\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xml-c14n/#Terminology</a> for example.  But I would expect that</p>\n<pre><code>All whitespace in character content is retained (excluding characters removed during line feed normalization)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28763191,"reputation":31,"user_id":22028647,"display_name":"iambenna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700848631,"creation_date":1700848631,"answer_id":77544914,"question_id":75824002,"body_markdown":"In case you want to remove the Carriage Return (**\\&amp;#xD;**) at the end of each line inside the `&lt;ds:SignatureValue&gt;` and the `&lt;ds:X509Certificate&gt;` you can try adding (alternatively) these options to the JVM (or Servlet container):\r\n\r\n- `-Dcom.sun.org.apache.xml.internal.security.ignoreLineBreaks=true`\r\n\r\nor\r\n\r\n- `-Dorg.apache.xml.security.ignoreLineBreaks=true`","title":"Signature validation failed after formatting an XML with SignatureValue on it","body":"<p>In case you want to remove the Carriage Return (<strong>&amp;#xD;</strong>) at the end of each line inside the <code>&lt;ds:SignatureValue&gt;</code> and the <code>&lt;ds:X509Certificate&gt;</code> you can try adding (alternatively) these options to the JVM (or Servlet container):</p>\n<ul>\n<li><code>-Dcom.sun.org.apache.xml.internal.security.ignoreLineBreaks=true</code></li>\n</ul>\n<p>or</p>\n<ul>\n<li><code>-Dorg.apache.xml.security.ignoreLineBreaks=true</code></li>\n</ul>\n"}],"owner":{"account_id":2976959,"reputation":1037,"user_id":2527825,"accept_rate":53,"display_name":"gfan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700848631,"creation_date":1679580025,"question_id":75824002,"body_markdown":"From [apache santuario xmlsignature test][1], \r\nI do a test: add a signature to the XML file, then save it as a file, after that read it from that file, and verify the signature.\r\nPlease refer to the comments in the code.\r\n\r\nThe plain xml file is :\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PurchaseOrder xmlns=&quot;urn:example:po&quot;&gt;\r\n  &lt;Items&gt;\r\n    &lt;Item Code=&quot;001-001-001&quot; Quantity=&quot;1&quot;&gt;\r\n      spade\r\n    &lt;/Item&gt;\r\n    &lt;Item Code=&quot;001-001-002&quot; Quantity=&quot;1&quot;&gt;\r\n      shovel\r\n    &lt;/Item&gt;\r\n  &lt;/Items&gt;\r\n  &lt;ShippingAddress&gt;\r\n    Dig PLC, 1 First Ave, Dublin 1, Ireland\r\n  &lt;/ShippingAddress&gt;\r\n  &lt;PaymentInfo&gt;\r\n    &lt;BillingAddress&gt;\r\n      Dig PLC, 1 First Ave, Dublin 1, Ireland\r\n    &lt;/BillingAddress&gt;\r\n    &lt;CreditCard Type=&quot;Amex&quot;&gt;\r\n      &lt;Name&gt;Foo B Baz&lt;/Name&gt;\r\n      &lt;Number&gt;1234 567890 12345&lt;/Number&gt;\r\n      &lt;Expires Month=&quot;1&quot; Year=&quot;2005&quot; /&gt;\r\n    &lt;/CreditCard&gt;\r\n  &lt;/PaymentInfo&gt;\r\n&lt;/PurchaseOrder&gt;\r\n```\r\n\r\n\r\nI have some questions:\r\n1. Verify the signature by using the cert in the XML. If it works, the XML file is self-interpreted, why do we still need a cert loaded from the Keystore? \r\n2. I can&#39;t format the generated XML which contains the signature. If I change some piece of the XML file, it will cause the verification to fail. How should I format the XML file? Or just leave it there?\r\n\r\n```xml\r\n      &lt;ds:SignedInfo&gt;&lt;!--If I add a lot of blank spaces at the start of this line, the verifying is ok--&gt;\r\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;&lt;!--If I add a blank space at the start of this line, the verifying is not working--&gt;\r\n```\r\n\r\nThe main Java Code:\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.InputStream;\r\nimport java.security.Key;\r\nimport java.security.KeyStore;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.xml.namespace.QName;\r\nimport org.apache.xml.security.signature.XMLSignature;\r\nimport org.junit.Assert;\r\nimport org.w3c.dom.Document;\r\nimport org.apache.xml.security.utils.XMLUtils;\r\nimport org.w3c.dom.Element;\r\n\r\n/**\r\n * This tests using the DOM API of Apache Santuario - XML Security for Java for XML Signature.\r\n */\r\npublic class SignatureDOMTest extends org.junit.Assert {\r\n\r\n    // Sign + Verify an XML Document using the DOM API\r\n    @org.junit.Test\r\n    public void testSignatureUsingDOMAPI() throws Exception {\r\n\r\n        // Read in plaintext document\r\n        InputStream sourceDocument =\r\n                new FileInputStream(new File(&quot;plaintext.xml&quot;));\r\n        Document document = XMLUtils.read(sourceDocument, true);\r\n\r\n        // Set up the Key\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\r\n        keyStore.load(\r\n            this.getClass().getClassLoader().getResource(&quot;clientstore.jks&quot;).openStream(),\r\n            &quot;cspass&quot;.toCharArray()\r\n        );\r\n        Key key = keyStore.getKey(&quot;myclientkey&quot;, &quot;ckpass&quot;.toCharArray());\r\n        X509Certificate cert = (X509Certificate)keyStore.getCertificate(&quot;myclientkey&quot;);\r\n\r\n        // Sign using DOM\r\n        List&lt;QName&gt; namesToSign = new ArrayList&lt;QName&gt;();\r\n        namesToSign.add(new QName(&quot;urn:example:po&quot;, &quot;PaymentInfo&quot;));\r\n\r\n        SignatureUtils.signUsingDOM(\r\n            document, namesToSign, &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, key, cert\r\n        );\r\n        // Verify using DOM, here it use the cert load from Keystore.\r\n        SignatureUtils.verifyUsingDOM(document, namesToSign, cert);\r\n\r\n        // Those code are my test:\r\n        // I write the signed xml to a file, then read from the file.\r\n        XMLUtils.outputDOM(document, new FileOutputStream(new File(&quot;plaintext_signed.xml&quot;)));\r\n        \r\n        // read from the signed file.\r\n        Document signedDocument = XMLUtils.read(new FileInputStream(new File(&quot;plaintext_signed.xml&quot;)), true);\r\n\r\n        // Verify using DOM\r\n        List&lt;QName&gt; namesToSign1 = new ArrayList&lt;QName&gt;();\r\n        namesToSign1.add(new QName(&quot;urn:example:po&quot;, &quot;PaymentInfo&quot;));\r\n\r\n        Element sigElement = SignatureUtils.getSignatureElement(signedDocument);\r\n        Assert.assertNotNull(sigElement);\r\n\r\n        SignatureUtils.findElementsToVerify(signedDocument, namesToSign1);\r\n        \r\n        // try to get cert from the node in the xml.\r\n        XMLSignature signature = new XMLSignature(sigElement, &quot;&quot;);\r\n\r\n        X509Certificate cert_in_xml = signature.getKeyInfo().getX509Certificate();\r\n        \r\n        // verify the signature by using the cert in the xml.\r\n        // If it works, why do we need a cert loaded from the keystore?\r\n        SignatureUtils.verifyUsingDOM(signedDocument, namesToSign1, cert_in_xml);\r\n    }\r\n}\r\n```\r\nInclude functions in `SignatureUtils.java` for integrity:\r\n\r\n```java\r\n    \r\nimport org.apache.xml.security.Init;\r\nimport org.apache.xml.security.keys.KeyInfo;\r\nimport org.apache.xml.security.signature.XMLSignature;\r\nimport org.apache.xml.security.transforms.Transforms;\r\nimport org.junit.Assert;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.NodeList;\r\nimport javax.xml.namespace.QName;\r\nimport javax.xml.xpath.XPath;\r\nimport javax.xml.xpath.XPathConstants;\r\nimport javax.xml.xpath.XPathExpressionException;\r\nimport javax.xml.xpath.XPathFactory;\r\nimport java.security.Key;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Some utility methods for signing/verifying documents\r\n */\r\npublic final class SignatureUtils {\r\n\r\n    static {\r\n        Init.init();\r\n    }\r\n\r\n    private SignatureUtils() {\r\n        // complete\r\n    }\r\n\r\n    /**\r\n     * Sign the document using the DOM API of Apache Santuario - XML Security for Java.\r\n     * It signs a list of QNames that it finds in the Document via XPath.\r\n     */\r\n    public static void signUsingDOM(\r\n        Document document,\r\n        List&lt;QName&gt; namesToSign,\r\n        String algorithm,\r\n        Key signingKey,\r\n        X509Certificate signingCert\r\n    ) throws Exception {\r\n        XMLSignature sig =\r\n            new XMLSignature(document, &quot;&quot;, algorithm, &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\r\n        Element root = document.getDocumentElement();\r\n        root.appendChild(sig.getElement());\r\n\r\n        XPathFactory xpf = XPathFactory.newInstance();\r\n        XPath xpath = xpf.newXPath();\r\n        xpath.setNamespaceContext(new DSNamespaceContext());\r\n\r\n        for (QName nameToSign : namesToSign) {\r\n            String expression = &quot;//*[local-name()=&#39;&quot; + nameToSign.getLocalPart() + &quot;&#39;]&quot;;\r\n            NodeList elementsToSign =\r\n                    (NodeList) xpath.evaluate(expression, document, XPathConstants.NODESET);\r\n            for (int i = 0; i &lt; elementsToSign.getLength(); i++) {\r\n                Element elementToSign = (Element)elementsToSign.item(i);\r\n                Assert.assertNotNull(elementToSign);\r\n                String id = UUID.randomUUID().toString();\r\n                elementToSign.setAttributeNS(null, &quot;Id&quot;, id);\r\n                elementToSign.setIdAttributeNS(null, &quot;Id&quot;, true);\r\n\r\n                Transforms transforms = new Transforms(document);\r\n                transforms.addTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\r\n                sig.addDocument(&quot;#&quot; + id, transforms, &quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;);\r\n            }\r\n        }\r\n\r\n        sig.sign(signingKey);\r\n\r\n        // Find the Signature Element\r\n        Element sigElement = getSignatureElement(document);\r\n        Assert.assertNotNull(sigElement);\r\n\r\n        if (signingCert != null) {\r\n            sig.addKeyInfo(signingCert);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Verify the document using the DOM API of Apache Santuario - XML Security for Java.\r\n     * It finds a list of QNames via XPath and uses the DOM API to mark them as having an\r\n     * &quot;Id&quot;.\r\n     */\r\n    public static void verifyUsingDOM(\r\n        Document document,\r\n        List&lt;QName&gt; namesToSign,\r\n        X509Certificate cert\r\n    ) throws Exception {\r\n        // Find the Signature Element\r\n        Element sigElement = getSignatureElement(document);\r\n        Assert.assertNotNull(sigElement);\r\n\r\n        findElementsToVerify(document, namesToSign);\r\n\r\n        XMLSignature signature = new XMLSignature(sigElement, &quot;&quot;);\r\n\r\n        // Check we have a KeyInfo\r\n        KeyInfo ki = signature.getKeyInfo();\r\n        Assert.assertNotNull(ki);\r\n\r\n        // Check the Signature value\r\n        Assert.assertTrue(signature.checkSignatureValue(cert));\r\n    }\r\n\r\n\r\n\r\n\r\n    public static void findElementsToVerify(Document document, List&lt;QName&gt; namesToSign) throws XPathExpressionException {\r\n        XPathFactory xpf = XPathFactory.newInstance();\r\n        XPath xpath = xpf.newXPath();\r\n        xpath.setNamespaceContext(new DSNamespaceContext());\r\n\r\n        for (QName nameToSign : namesToSign) {\r\n            String expression = &quot;//*[local-name()=&#39;&quot; + nameToSign.getLocalPart() + &quot;&#39;]&quot;;\r\n            Element signedElement =\r\n                (Element) xpath.evaluate(expression, document, XPathConstants.NODE);\r\n            Assert.assertNotNull(signedElement);\r\n            if (signedElement.hasAttributeNS(null, &quot;Id&quot;)) {\r\n            \tsignedElement.setIdAttributeNS(null, &quot;Id&quot;, true);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static Element getSignatureElement(Document document) throws XPathExpressionException {\r\n        XPathFactory xpf = XPathFactory.newInstance();\r\n        XPath xpath = xpf.newXPath();\r\n        xpath.setNamespaceContext(new DSNamespaceContext());\r\n\r\n        // Find the Signature Element\r\n        String expression = &quot;//dsig:Signature[1]&quot;;\r\n        Element sigElement =\r\n                (Element) xpath.evaluate(expression, document, XPathConstants.NODE);\r\n        return sigElement;\r\n    }\r\n}\r\n```\r\n\r\nThe generated xml file with signatue, It&#39;s not well formatted, I would like to format it, but then it caused the verification to fail.\r\n```xml\r\n&lt;PurchaseOrder xmlns=&quot;urn:example:po&quot;&gt;\r\n  &lt;Items&gt;\r\n    &lt;Item Code=&quot;001-001-001&quot; Quantity=&quot;1&quot;&gt;\r\n      spade\r\n    &lt;/Item&gt;\r\n    &lt;Item Code=&quot;001-001-002&quot; Quantity=&quot;1&quot;&gt;\r\n      shovel\r\n    &lt;/Item&gt;\r\n  &lt;/Items&gt;\r\n  &lt;ShippingAddress&gt;\r\n    Dig PLC, 1 First Ave, Dublin 1, Ireland\r\n  &lt;/ShippingAddress&gt;\r\n  &lt;PaymentInfo Id=&quot;27a5af39-7896-4002-ad65-a4ec9015bf23&quot;&gt;\r\n    &lt;BillingAddress&gt;\r\n      Dig PLC, 1 First Ave, Dublin 1, Ireland\r\n    &lt;/BillingAddress&gt;\r\n    &lt;CreditCard Type=&quot;Amex&quot;&gt;\r\n      &lt;Name&gt;Foo B Baz&lt;/Name&gt;\r\n      &lt;Number&gt;1234 567890 12345&lt;/Number&gt;\r\n      &lt;Expires Month=&quot;1&quot; Year=&quot;2005&quot;&gt;&lt;/Expires&gt;\r\n    &lt;/CreditCard&gt;\r\n  &lt;/PaymentInfo&gt;\r\n &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:SignedInfo&gt;&lt;!--If I add a lot of blank spaces at the start of this line, the verification is ok--&gt;\r\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;&lt;!--If I add a blank space at the start of this line, the verification is not working--&gt;\r\n&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;&gt;&lt;/ds:SignatureMethod&gt;\r\n&lt;ds:Reference URI=&quot;#27a5af39-7896-4002-ad65-a4ec9015bf23&quot;&gt;\r\n&lt;ds:Transforms&gt;\r\n&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:Transform&gt;\r\n&lt;/ds:Transforms&gt;\r\n&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;&gt;&lt;/ds:DigestMethod&gt;\r\n&lt;ds:DigestValue&gt;ANOpAn94IZWzHAFvQSXI6rK3Hsg=&lt;/ds:DigestValue&gt;\r\n&lt;/ds:Reference&gt;\r\n&lt;/ds:SignedInfo&gt;\r\n&lt;ds:SignatureValue&gt;\r\nTlbljw+A69WQ4oClxMgv64RLunmxX0k92UJdqGkQUo7L35wpVgET1EjtZf7TF6ekaxuICDEISPmq&amp;#xD;\r\nR7vwrRsmf3/u1v9bANaa0rOtO7nuJgxUs9kVndnMnAPWcIm9Njtl7GUEpt6BLMKwAVkbDjOq5Q0S&amp;#xD;\r\nR3P9d31ppuYdOt7nnbGvgtYDDVIsQRA50rlZqotWI3odfh27HlJMtIys9YJ/0BuQKI4LaNhdymKQ&amp;#xD;\r\nhaRFe6jaAv3v0MVG9Hg53uaJf8vwKL0tYG73ZO2Wh2Tr0j0EPEJY72akyJdNcAHjHiSzZEw1HwRt&amp;#xD;\r\nY9Ns2cnbMLpVEYQzW8oO/TO8uf9UYXfUttFyLQ==\r\n&lt;/ds:SignatureValue&gt;\r\n&lt;ds:KeyInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n&lt;ds:X509Data&gt;\r\n&lt;ds:X509Certificate&gt;\r\nMIIDqjCCAxOgAwIBAgIBHzANBgkqhkiG9w0BAQsFADBmMQswCQYDVQQGEwJERTEPMA0GA1UECBMG&amp;#xD;\r\nQmF5ZXJuMQ8wDQYDVQQHEwZNdW5pY2gxDTALBgNVBAoTBEhvbWUxFTATBgNVBAsTDEFwYWNoZSBX&amp;#xD;\r\nU1M0SjEPMA0GA1UEAxMGV2VybmVyMB4XDTE1MDkxMDEzMjEyMloXDTI1MDkwNzEzMjEyMlowUzEL&amp;#xD;\r\nMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMQ8wDQYDVQQHEwZEdWJsaW4xDzANBgNVBAoT&amp;#xD;\r\nBkFwYWNoZTEPMA0GA1UEAxMGQ2xpZW50MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA&amp;#xD;\r\njeP2hF/KOv8Pw/++n9bAa0DxKFzyLvlcAciBgv1E01cCyUwn5X0v8nT9gIdjXBi6Y6PvSCs2GqcA&amp;#xD;\r\nzo82yzIjlcDmocXt/2vBkezwh6Ow2xoXItzXD+I6KlhpH8gl4xXd35N0z+88m4SEclncm//l3sQH&amp;#xD;\r\nP6CMG9O4H91A+0DXzTkQHzs2PEg13ONMOVbg5P85ceZ+VTBjd3BkqC0mZDB6Ovo6Xt06tVS/S4rF&amp;#xD;\r\nR0L9mtyxZ+v/Psd8TYAIk3wlz1e1wm+dobp1YkOPgvv08r8ROVnWC0pRZquCPQUou6r50LseRZWE&amp;#xD;\r\no9MGN8kt4sYcLCaJbF3fsTvKYi6InWyczv2JSQIDAQABo4H2MIHzMAkGA1UdEwQCMAAwLAYJYIZI&amp;#xD;\r\nAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBQsRXQjSEq1&amp;#xD;\r\nPetSTIekkXnMBtntGTCBmAYDVR0jBIGQMIGNgBRWF+/2a4tZ/iMZaN54wOFNZ33QZqFqpGgwZjEL&amp;#xD;\r\nMAkGA1UEBhMCREUxDzANBgNVBAgTBkJheWVybjEPMA0GA1UEBxMGTXVuaWNoMQ0wCwYDVQQKEwRI&amp;#xD;\r\nb21lMRUwEwYDVQQLEwxBcGFjaGUgV1NTNEoxDzANBgNVBAMTBldlcm5lcoIJAI3hLAppEXfSMA0G&amp;#xD;\r\nCSqGSIb3DQEBCwUAA4GBAKZXwqAplMzutyC8jIUzFN/DfQOAuZ8ExLBIUxW51KSzxxL+kfydq4HF&amp;#xD;\r\notRC7PZ3bYEkXYN7deUYoq6yFO0AAWvagBbxdzRYDPRCwpKe+4jn8VLGtjkEyLSsMiiaNiOuMx8q&amp;#xD;\r\nWxvV1sA9KioHvZDFVP+0QqSc1ZytEPOKasdViUU9\r\n&lt;/ds:X509Certificate&gt;\r\n&lt;/ds:X509Data&gt;\r\n&lt;/ds:KeyInfo&gt;\r\n&lt;/ds:Signature&gt;&lt;/PurchaseOrder&gt;\r\n\r\n```\r\n\r\nUpdate 1:\r\n1) The original xml is well formatted. Currently, only the `ds:Signature` node is not well formatted.\r\n2) When process the sign with the apache library, How do we know the XML file is already formatted? Because the XML file is now represented as Java objects.\r\n1) Usually, the content between `&gt;` and `&lt;`, like in this piece of `&lt;Item&gt;this is content&lt;/Item&gt;`, `this is content` is the payload, Does the signing process only sign the payload? or it will contain the `&lt;Item&gt;`, `&lt;\\Item&gt;`, even more it will include some blank space before the `&lt;Item&gt;` like `  &lt;Item&gt;` and some `\\n` in the end of `&lt;\\Item&gt;`?\r\n\r\n\r\n\r\n  [1]: https://github.com/coheigea/testcases/blob/master/apache/santuario/santuario-xml-signature/src/test/java/org/apache/coheigea/santuario/xmlsignature/SignatureDOMTest.java#L41","title":"Signature validation failed after formatting an XML with SignatureValue on it","body":"<p>From <a href=\"https://github.com/coheigea/testcases/blob/master/apache/santuario/santuario-xml-signature/src/test/java/org/apache/coheigea/santuario/xmlsignature/SignatureDOMTest.java#L41\" rel=\"nofollow noreferrer\">apache santuario xmlsignature test</a>,\nI do a test: add a signature to the XML file, then save it as a file, after that read it from that file, and verify the signature.\nPlease refer to the comments in the code.</p>\n<p>The plain xml file is :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PurchaseOrder xmlns=&quot;urn:example:po&quot;&gt;\n  &lt;Items&gt;\n    &lt;Item Code=&quot;001-001-001&quot; Quantity=&quot;1&quot;&gt;\n      spade\n    &lt;/Item&gt;\n    &lt;Item Code=&quot;001-001-002&quot; Quantity=&quot;1&quot;&gt;\n      shovel\n    &lt;/Item&gt;\n  &lt;/Items&gt;\n  &lt;ShippingAddress&gt;\n    Dig PLC, 1 First Ave, Dublin 1, Ireland\n  &lt;/ShippingAddress&gt;\n  &lt;PaymentInfo&gt;\n    &lt;BillingAddress&gt;\n      Dig PLC, 1 First Ave, Dublin 1, Ireland\n    &lt;/BillingAddress&gt;\n    &lt;CreditCard Type=&quot;Amex&quot;&gt;\n      &lt;Name&gt;Foo B Baz&lt;/Name&gt;\n      &lt;Number&gt;1234 567890 12345&lt;/Number&gt;\n      &lt;Expires Month=&quot;1&quot; Year=&quot;2005&quot; /&gt;\n    &lt;/CreditCard&gt;\n  &lt;/PaymentInfo&gt;\n&lt;/PurchaseOrder&gt;\n</code></pre>\n<p>I have some questions:</p>\n<ol>\n<li>Verify the signature by using the cert in the XML. If it works, the XML file is self-interpreted, why do we still need a cert loaded from the Keystore?</li>\n<li>I can't format the generated XML which contains the signature. If I change some piece of the XML file, it will cause the verification to fail. How should I format the XML file? Or just leave it there?</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;ds:SignedInfo&gt;&lt;!--If I add a lot of blank spaces at the start of this line, the verifying is ok--&gt;\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;&lt;!--If I add a blank space at the start of this line, the verifying is not working--&gt;\n</code></pre>\n<p>The main Java Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.security.Key;\nimport java.security.KeyStore;\nimport java.security.cert.X509Certificate;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.xml.namespace.QName;\nimport org.apache.xml.security.signature.XMLSignature;\nimport org.junit.Assert;\nimport org.w3c.dom.Document;\nimport org.apache.xml.security.utils.XMLUtils;\nimport org.w3c.dom.Element;\n\n/**\n * This tests using the DOM API of Apache Santuario - XML Security for Java for XML Signature.\n */\npublic class SignatureDOMTest extends org.junit.Assert {\n\n    // Sign + Verify an XML Document using the DOM API\n    @org.junit.Test\n    public void testSignatureUsingDOMAPI() throws Exception {\n\n        // Read in plaintext document\n        InputStream sourceDocument =\n                new FileInputStream(new File(&quot;plaintext.xml&quot;));\n        Document document = XMLUtils.read(sourceDocument, true);\n\n        // Set up the Key\n        KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\n        keyStore.load(\n            this.getClass().getClassLoader().getResource(&quot;clientstore.jks&quot;).openStream(),\n            &quot;cspass&quot;.toCharArray()\n        );\n        Key key = keyStore.getKey(&quot;myclientkey&quot;, &quot;ckpass&quot;.toCharArray());\n        X509Certificate cert = (X509Certificate)keyStore.getCertificate(&quot;myclientkey&quot;);\n\n        // Sign using DOM\n        List&lt;QName&gt; namesToSign = new ArrayList&lt;QName&gt;();\n        namesToSign.add(new QName(&quot;urn:example:po&quot;, &quot;PaymentInfo&quot;));\n\n        SignatureUtils.signUsingDOM(\n            document, namesToSign, &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, key, cert\n        );\n        // Verify using DOM, here it use the cert load from Keystore.\n        SignatureUtils.verifyUsingDOM(document, namesToSign, cert);\n\n        // Those code are my test:\n        // I write the signed xml to a file, then read from the file.\n        XMLUtils.outputDOM(document, new FileOutputStream(new File(&quot;plaintext_signed.xml&quot;)));\n        \n        // read from the signed file.\n        Document signedDocument = XMLUtils.read(new FileInputStream(new File(&quot;plaintext_signed.xml&quot;)), true);\n\n        // Verify using DOM\n        List&lt;QName&gt; namesToSign1 = new ArrayList&lt;QName&gt;();\n        namesToSign1.add(new QName(&quot;urn:example:po&quot;, &quot;PaymentInfo&quot;));\n\n        Element sigElement = SignatureUtils.getSignatureElement(signedDocument);\n        Assert.assertNotNull(sigElement);\n\n        SignatureUtils.findElementsToVerify(signedDocument, namesToSign1);\n        \n        // try to get cert from the node in the xml.\n        XMLSignature signature = new XMLSignature(sigElement, &quot;&quot;);\n\n        X509Certificate cert_in_xml = signature.getKeyInfo().getX509Certificate();\n        \n        // verify the signature by using the cert in the xml.\n        // If it works, why do we need a cert loaded from the keystore?\n        SignatureUtils.verifyUsingDOM(signedDocument, namesToSign1, cert_in_xml);\n    }\n}\n</code></pre>\n<p>Include functions in <code>SignatureUtils.java</code> for integrity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \nimport org.apache.xml.security.Init;\nimport org.apache.xml.security.keys.KeyInfo;\nimport org.apache.xml.security.signature.XMLSignature;\nimport org.apache.xml.security.transforms.Transforms;\nimport org.junit.Assert;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NodeList;\nimport javax.xml.namespace.QName;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\nimport java.security.Key;\nimport java.security.cert.X509Certificate;\nimport java.util.List;\nimport java.util.UUID;\n\n/**\n * Some utility methods for signing/verifying documents\n */\npublic final class SignatureUtils {\n\n    static {\n        Init.init();\n    }\n\n    private SignatureUtils() {\n        // complete\n    }\n\n    /**\n     * Sign the document using the DOM API of Apache Santuario - XML Security for Java.\n     * It signs a list of QNames that it finds in the Document via XPath.\n     */\n    public static void signUsingDOM(\n        Document document,\n        List&lt;QName&gt; namesToSign,\n        String algorithm,\n        Key signingKey,\n        X509Certificate signingCert\n    ) throws Exception {\n        XMLSignature sig =\n            new XMLSignature(document, &quot;&quot;, algorithm, &quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\n        Element root = document.getDocumentElement();\n        root.appendChild(sig.getElement());\n\n        XPathFactory xpf = XPathFactory.newInstance();\n        XPath xpath = xpf.newXPath();\n        xpath.setNamespaceContext(new DSNamespaceContext());\n\n        for (QName nameToSign : namesToSign) {\n            String expression = &quot;//*[local-name()='&quot; + nameToSign.getLocalPart() + &quot;']&quot;;\n            NodeList elementsToSign =\n                    (NodeList) xpath.evaluate(expression, document, XPathConstants.NODESET);\n            for (int i = 0; i &lt; elementsToSign.getLength(); i++) {\n                Element elementToSign = (Element)elementsToSign.item(i);\n                Assert.assertNotNull(elementToSign);\n                String id = UUID.randomUUID().toString();\n                elementToSign.setAttributeNS(null, &quot;Id&quot;, id);\n                elementToSign.setIdAttributeNS(null, &quot;Id&quot;, true);\n\n                Transforms transforms = new Transforms(document);\n                transforms.addTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\n                sig.addDocument(&quot;#&quot; + id, transforms, &quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;);\n            }\n        }\n\n        sig.sign(signingKey);\n\n        // Find the Signature Element\n        Element sigElement = getSignatureElement(document);\n        Assert.assertNotNull(sigElement);\n\n        if (signingCert != null) {\n            sig.addKeyInfo(signingCert);\n        }\n    }\n\n    /**\n     * Verify the document using the DOM API of Apache Santuario - XML Security for Java.\n     * It finds a list of QNames via XPath and uses the DOM API to mark them as having an\n     * &quot;Id&quot;.\n     */\n    public static void verifyUsingDOM(\n        Document document,\n        List&lt;QName&gt; namesToSign,\n        X509Certificate cert\n    ) throws Exception {\n        // Find the Signature Element\n        Element sigElement = getSignatureElement(document);\n        Assert.assertNotNull(sigElement);\n\n        findElementsToVerify(document, namesToSign);\n\n        XMLSignature signature = new XMLSignature(sigElement, &quot;&quot;);\n\n        // Check we have a KeyInfo\n        KeyInfo ki = signature.getKeyInfo();\n        Assert.assertNotNull(ki);\n\n        // Check the Signature value\n        Assert.assertTrue(signature.checkSignatureValue(cert));\n    }\n\n\n\n\n    public static void findElementsToVerify(Document document, List&lt;QName&gt; namesToSign) throws XPathExpressionException {\n        XPathFactory xpf = XPathFactory.newInstance();\n        XPath xpath = xpf.newXPath();\n        xpath.setNamespaceContext(new DSNamespaceContext());\n\n        for (QName nameToSign : namesToSign) {\n            String expression = &quot;//*[local-name()='&quot; + nameToSign.getLocalPart() + &quot;']&quot;;\n            Element signedElement =\n                (Element) xpath.evaluate(expression, document, XPathConstants.NODE);\n            Assert.assertNotNull(signedElement);\n            if (signedElement.hasAttributeNS(null, &quot;Id&quot;)) {\n                signedElement.setIdAttributeNS(null, &quot;Id&quot;, true);\n            }\n        }\n    }\n\n    public static Element getSignatureElement(Document document) throws XPathExpressionException {\n        XPathFactory xpf = XPathFactory.newInstance();\n        XPath xpath = xpf.newXPath();\n        xpath.setNamespaceContext(new DSNamespaceContext());\n\n        // Find the Signature Element\n        String expression = &quot;//dsig:Signature[1]&quot;;\n        Element sigElement =\n                (Element) xpath.evaluate(expression, document, XPathConstants.NODE);\n        return sigElement;\n    }\n}\n</code></pre>\n<p>The generated xml file with signatue, It's not well formatted, I would like to format it, but then it caused the verification to fail.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;PurchaseOrder xmlns=&quot;urn:example:po&quot;&gt;\n  &lt;Items&gt;\n    &lt;Item Code=&quot;001-001-001&quot; Quantity=&quot;1&quot;&gt;\n      spade\n    &lt;/Item&gt;\n    &lt;Item Code=&quot;001-001-002&quot; Quantity=&quot;1&quot;&gt;\n      shovel\n    &lt;/Item&gt;\n  &lt;/Items&gt;\n  &lt;ShippingAddress&gt;\n    Dig PLC, 1 First Ave, Dublin 1, Ireland\n  &lt;/ShippingAddress&gt;\n  &lt;PaymentInfo Id=&quot;27a5af39-7896-4002-ad65-a4ec9015bf23&quot;&gt;\n    &lt;BillingAddress&gt;\n      Dig PLC, 1 First Ave, Dublin 1, Ireland\n    &lt;/BillingAddress&gt;\n    &lt;CreditCard Type=&quot;Amex&quot;&gt;\n      &lt;Name&gt;Foo B Baz&lt;/Name&gt;\n      &lt;Number&gt;1234 567890 12345&lt;/Number&gt;\n      &lt;Expires Month=&quot;1&quot; Year=&quot;2005&quot;&gt;&lt;/Expires&gt;\n    &lt;/CreditCard&gt;\n  &lt;/PaymentInfo&gt;\n &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n    &lt;ds:SignedInfo&gt;&lt;!--If I add a lot of blank spaces at the start of this line, the verification is ok--&gt;\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;&lt;!--If I add a blank space at the start of this line, the verification is not working--&gt;\n&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;&gt;&lt;/ds:SignatureMethod&gt;\n&lt;ds:Reference URI=&quot;#27a5af39-7896-4002-ad65-a4ec9015bf23&quot;&gt;\n&lt;ds:Transforms&gt;\n&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:Transform&gt;\n&lt;/ds:Transforms&gt;\n&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;&gt;&lt;/ds:DigestMethod&gt;\n&lt;ds:DigestValue&gt;ANOpAn94IZWzHAFvQSXI6rK3Hsg=&lt;/ds:DigestValue&gt;\n&lt;/ds:Reference&gt;\n&lt;/ds:SignedInfo&gt;\n&lt;ds:SignatureValue&gt;\nTlbljw+A69WQ4oClxMgv64RLunmxX0k92UJdqGkQUo7L35wpVgET1EjtZf7TF6ekaxuICDEISPmq&amp;#xD;\nR7vwrRsmf3/u1v9bANaa0rOtO7nuJgxUs9kVndnMnAPWcIm9Njtl7GUEpt6BLMKwAVkbDjOq5Q0S&amp;#xD;\nR3P9d31ppuYdOt7nnbGvgtYDDVIsQRA50rlZqotWI3odfh27HlJMtIys9YJ/0BuQKI4LaNhdymKQ&amp;#xD;\nhaRFe6jaAv3v0MVG9Hg53uaJf8vwKL0tYG73ZO2Wh2Tr0j0EPEJY72akyJdNcAHjHiSzZEw1HwRt&amp;#xD;\nY9Ns2cnbMLpVEYQzW8oO/TO8uf9UYXfUttFyLQ==\n&lt;/ds:SignatureValue&gt;\n&lt;ds:KeyInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:X509Data&gt;\n&lt;ds:X509Certificate&gt;\nMIIDqjCCAxOgAwIBAgIBHzANBgkqhkiG9w0BAQsFADBmMQswCQYDVQQGEwJERTEPMA0GA1UECBMG&amp;#xD;\nQmF5ZXJuMQ8wDQYDVQQHEwZNdW5pY2gxDTALBgNVBAoTBEhvbWUxFTATBgNVBAsTDEFwYWNoZSBX&amp;#xD;\nU1M0SjEPMA0GA1UEAxMGV2VybmVyMB4XDTE1MDkxMDEzMjEyMloXDTI1MDkwNzEzMjEyMlowUzEL&amp;#xD;\nMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMQ8wDQYDVQQHEwZEdWJsaW4xDzANBgNVBAoT&amp;#xD;\nBkFwYWNoZTEPMA0GA1UEAxMGQ2xpZW50MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA&amp;#xD;\njeP2hF/KOv8Pw/++n9bAa0DxKFzyLvlcAciBgv1E01cCyUwn5X0v8nT9gIdjXBi6Y6PvSCs2GqcA&amp;#xD;\nzo82yzIjlcDmocXt/2vBkezwh6Ow2xoXItzXD+I6KlhpH8gl4xXd35N0z+88m4SEclncm//l3sQH&amp;#xD;\nP6CMG9O4H91A+0DXzTkQHzs2PEg13ONMOVbg5P85ceZ+VTBjd3BkqC0mZDB6Ovo6Xt06tVS/S4rF&amp;#xD;\nR0L9mtyxZ+v/Psd8TYAIk3wlz1e1wm+dobp1YkOPgvv08r8ROVnWC0pRZquCPQUou6r50LseRZWE&amp;#xD;\no9MGN8kt4sYcLCaJbF3fsTvKYi6InWyczv2JSQIDAQABo4H2MIHzMAkGA1UdEwQCMAAwLAYJYIZI&amp;#xD;\nAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBQsRXQjSEq1&amp;#xD;\nPetSTIekkXnMBtntGTCBmAYDVR0jBIGQMIGNgBRWF+/2a4tZ/iMZaN54wOFNZ33QZqFqpGgwZjEL&amp;#xD;\nMAkGA1UEBhMCREUxDzANBgNVBAgTBkJheWVybjEPMA0GA1UEBxMGTXVuaWNoMQ0wCwYDVQQKEwRI&amp;#xD;\nb21lMRUwEwYDVQQLEwxBcGFjaGUgV1NTNEoxDzANBgNVBAMTBldlcm5lcoIJAI3hLAppEXfSMA0G&amp;#xD;\nCSqGSIb3DQEBCwUAA4GBAKZXwqAplMzutyC8jIUzFN/DfQOAuZ8ExLBIUxW51KSzxxL+kfydq4HF&amp;#xD;\notRC7PZ3bYEkXYN7deUYoq6yFO0AAWvagBbxdzRYDPRCwpKe+4jn8VLGtjkEyLSsMiiaNiOuMx8q&amp;#xD;\nWxvV1sA9KioHvZDFVP+0QqSc1ZytEPOKasdViUU9\n&lt;/ds:X509Certificate&gt;\n&lt;/ds:X509Data&gt;\n&lt;/ds:KeyInfo&gt;\n&lt;/ds:Signature&gt;&lt;/PurchaseOrder&gt;\n\n</code></pre>\n<p>Update 1:</p>\n<ol>\n<li>The original xml is well formatted. Currently, only the <code>ds:Signature</code> node is not well formatted.</li>\n<li>When process the sign with the apache library, How do we know the XML file is already formatted? Because the XML file is now represented as Java objects.</li>\n<li>Usually, the content between <code>&gt;</code> and <code>&lt;</code>, like in this piece of <code>&lt;Item&gt;this is content&lt;/Item&gt;</code>, <code>this is content</code> is the payload, Does the signing process only sign the payload? or it will contain the <code>&lt;Item&gt;</code>, <code>&lt;\\Item&gt;</code>, even more it will include some blank space before the <code>&lt;Item&gt;</code> like <code>  &lt;Item&gt;</code> and some <code>\\n</code> in the end of <code>&lt;\\Item&gt;</code>?</li>\n</ol>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1521456202,"post_id":2617159,"comment_id":85722012,"body_markdown":"please include images in your question, rather than providing links (which no longer work)","body":"please include images in your question, rather than providing links (which no longer work)"}],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1372705699,"creation_date":1270994417,"answer_id":2617250,"question_id":2617159,"body_markdown":"Google found me the following, from the [IBM JVM FAQ][1] (how&#39;s that for an NLA):\r\n\r\n&gt; **When does the Java heap shrink?**\r\n&gt; \r\n&gt; Heap shrinkage occurs when GC determines that there is a lot of free heap storage, and releasing some heap memory is beneficial for system performance. Heap shrinkage occurs after GC, but when all the threads are still suspended. \r\n\r\nThe Sun JVM does something similar.  Below is an excerpt from an Oracle Technology Network article entitled [Ergonomics in the 5.0 Java Virtual Machine][2].\r\n\r\n&gt; The heap will grow or shrink to a size that will support the chosen throughput goal. Some oscillations in the size of the heap during initialization and during a change in the application&#39;s behavior can be expected.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; It is typical that the size of the heap will oscillate as the garbage collector tries to satisfy competing goals. This is true even if the application has reached a steady state. The pressure to achieve a throughput goal (which may require a larger heap) competes with the goals for a maximum pause time and a minimum footprint (which both may require a small heap).\r\n\r\nI suggest you have a look at the rest of that document; it may have more information relevant to your problem.\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/javasdk/v1r4m2/topic/com.ibm.java.doc.diagnostics.142j9/html/gcfaquestions.html\r\n  [2]: http://www.oracle.com/technetwork/java/ergo5-140223.html","title":"Java heap keeps on shrinking! What is happening in this graph of heap size?","body":"<p>Google found me the following, from the <a href=\"http://publib.boulder.ibm.com/infocenter/javasdk/v1r4m2/topic/com.ibm.java.doc.diagnostics.142j9/html/gcfaquestions.html\" rel=\"noreferrer\">IBM JVM FAQ</a> (how's that for an NLA):</p>\n\n<blockquote>\n  <p><strong>When does the Java heap shrink?</strong></p>\n  \n  <p>Heap shrinkage occurs when GC determines that there is a lot of free heap storage, and releasing some heap memory is beneficial for system performance. Heap shrinkage occurs after GC, but when all the threads are still suspended. </p>\n</blockquote>\n\n<p>The Sun JVM does something similar.  Below is an excerpt from an Oracle Technology Network article entitled <a href=\"http://www.oracle.com/technetwork/java/ergo5-140223.html\" rel=\"noreferrer\">Ergonomics in the 5.0 Java Virtual Machine</a>.</p>\n\n<blockquote>\n  <p>The heap will grow or shrink to a size that will support the chosen throughput goal. Some oscillations in the size of the heap during initialization and during a change in the application's behavior can be expected.</p>\n  \n  <p>...</p>\n  \n  <p>It is typical that the size of the heap will oscillate as the garbage collector tries to satisfy competing goals. This is true even if the application has reached a steady state. The pressure to achieve a throughput goal (which may require a larger heap) competes with the goals for a maximum pause time and a minimum footprint (which both may require a small heap).</p>\n</blockquote>\n\n<p>I suggest you have a look at the rest of that document; it may have more information relevant to your problem.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1270994456,"creation_date":1270994456,"answer_id":2617252,"question_id":2617159,"body_markdown":"Just a guess:\r\nIt looks like the system is pretty much idle. There might be some caching going on, and stuff drops out of the cache and gets gc&#39;d. Or since it is a queuing system, maybe it has some messages, in the queue, which slowly get delivered and gc&#39;d afterwards.\r\n\r\nThe increased frequence of gc-runs might be due to ever decreasing load on the system.\r\n\r\nAs to how to avoid it. Why do you want to avoid it? It seems like your CPU load is zero. So you are free to let the gc do whatever it wants","title":"Java heap keeps on shrinking! What is happening in this graph of heap size?","body":"<p>Just a guess:\nIt looks like the system is pretty much idle. There might be some caching going on, and stuff drops out of the cache and gets gc'd. Or since it is a queuing system, maybe it has some messages, in the queue, which slowly get delivered and gc'd afterwards.</p>\n\n<p>The increased frequence of gc-runs might be due to ever decreasing load on the system.</p>\n\n<p>As to how to avoid it. Why do you want to avoid it? It seems like your CPU load is zero. So you are free to let the gc do whatever it wants</p>\n"},{"tags":[],"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1700848166,"creation_date":1296234909,"answer_id":4831077,"question_id":2617159,"body_markdown":"There is a JVM argument that controls when the heap is resized.\r\n\r\n**-XX:MaxHeapFreeRatio**\r\n\r\nThe default value for this is 70. The free ratio is the amount of space not allocated on the heap over the total heap size. If the percentage of free space rises above the default of 70% the jvm will reduce the size of the heap to allow the OS to use the memory.\r\n\r\nIf the heap is shrinking too often you can increase the value of -XX:MaxHeapFreeRatio. If it is set to 100, i.e., **-XX:MaxHeapFreeRatio=100** presumably it will never shrink.","title":"Java heap keeps on shrinking! What is happening in this graph of heap size?","body":"<p>There is a JVM argument that controls when the heap is resized.</p>\n<p><strong>-XX:MaxHeapFreeRatio</strong></p>\n<p>The default value for this is 70. The free ratio is the amount of space not allocated on the heap over the total heap size. If the percentage of free space rises above the default of 70% the jvm will reduce the size of the heap to allow the OS to use the memory.</p>\n<p>If the heap is shrinking too often you can increase the value of -XX:MaxHeapFreeRatio. If it is set to 100, i.e., <strong>-XX:MaxHeapFreeRatio=100</strong> presumably it will never shrink.</p>\n"}],"owner":{"account_id":22812,"reputation":25078,"user_id":56679,"accept_rate":70,"display_name":"chillitom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6110,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1700848166,"creation_date":1270992909,"question_id":2617159,"body_markdown":"This is a screen shot of a JVM (win64, 6u17) running ActiveMQ, after every garbage collection the heap size is reducing.  As the heap size reduces garbage collection gets more frequent and the heap reduces more quickly.  Eventually the VM locks up as it&#39;s spending all it&#39;s time in GC.\r\n\r\n*-Xms* is the default and *-Xmx* is 2048mb.\r\n\r\nWhat is happening!!? How can I avoid this?\r\n\r\nhttp://imagebin.org/92614\r\n\r\n![Shrinking heap][1]\r\n\r\n*n.b originally posted on serverfault.com, moved to stackoverflow.com as requested*\r\n\r\n  [1]: http://imagebin.org/index.php?mode=image&amp;id=92614","title":"Java heap keeps on shrinking! What is happening in this graph of heap size?","body":"<p>This is a screen shot of a JVM (win64, 6u17) running ActiveMQ, after every garbage collection the heap size is reducing.  As the heap size reduces garbage collection gets more frequent and the heap reduces more quickly.  Eventually the VM locks up as it's spending all it's time in GC.</p>\n\n<p><em>-Xms</em> is the default and <em>-Xmx</em> is 2048mb.</p>\n\n<p>What is happening!!? How can I avoid this?</p>\n\n<p><a href=\"http://imagebin.org/92614\" rel=\"nofollow noreferrer\">http://imagebin.org/92614</a></p>\n\n<p><a href=\"http://imagebin.org/index.php?mode=image&amp;id=92614\" rel=\"nofollow noreferrer\">Shrinking heap http://imagebin.org/index.php?mode=image&amp;id=92614</a></p>\n\n<p><em>n.b originally posted on serverfault.com, moved to stackoverflow.com as requested</em></p>\n"},{"tags":["java","android","android-studio","unsupported-class-version"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1699455598,"post_id":77445137,"comment_id":136533917,"body_markdown":"Usually this is caused by a library that was compiled for a Java version which is too new. In your case Java 20 (class file version 64). You need to identify the class or library which causes the error.","body":"Usually this is caused by a library that was compiled for a Java version which is too new. In your case Java 20 (class file version 64). You need to identify the class or library which causes the error."}],"answers":[{"tags":[],"owner":{"account_id":6508480,"reputation":76,"user_id":5036611,"display_name":"Lucas Miranda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700847939,"creation_date":1700847939,"answer_id":77544861,"question_id":77445137,"body_markdown":"It&#39;s likely that your build process is using different JDKs to build libraries and your app. This discrepancy can cause the issue you&#39;re encountering.\r\n\r\nTo solve the problem in the simplest way, I suggest using only one JDK version - specifically, the one defined in your **JAVA_HOME** environment variable. Delete the others to avoid any conflicts.\r\n\r\nOpen your terminal and type:\r\n\r\n    java --version\r\n\r\nYou might see an output like this:\r\n\r\n&gt; openjdk 17.0.9 2023-10-17 OpenJDK Runtime Environment Temurin-17.0.9+9\r\n&gt; (build 17.0.9+9) OpenJDK 64-Bit Server VM Temurin-17.0.9+9 (build\r\n&gt; 17.0.9+9, mixed mode)\r\n\r\n\r\nNow, check the path to your JDK files:\r\n\r\n    echo $JAVA_HOME\r\n\r\nAn example output on macOS could be:\r\n\r\n&gt; /Users/lucasmiranda/Library/Java/JavaVirtualMachines/jdk-17.0.9+9/Contents/Home\r\n\r\nNavigate to the *JavaVirtualMachines* folder.\r\n\r\nDelete the other JDK versions and keep only the one used by your **JAVA_HOME**.\r\n\r\nIf you encounter an issue with Android Studio trying to use a different JDK, configure it to point to your default JDK version.\r\n\r\n\r\n\r\n","title":"Android studio how to fix &quot;Unsupported class file major version 64&quot;","body":"<p>It's likely that your build process is using different JDKs to build libraries and your app. This discrepancy can cause the issue you're encountering.</p>\n<p>To solve the problem in the simplest way, I suggest using only one JDK version - specifically, the one defined in your <strong>JAVA_HOME</strong> environment variable. Delete the others to avoid any conflicts.</p>\n<p>Open your terminal and type:</p>\n<pre><code>java --version\n</code></pre>\n<p>You might see an output like this:</p>\n<blockquote>\n<p>openjdk 17.0.9 2023-10-17 OpenJDK Runtime Environment Temurin-17.0.9+9\n(build 17.0.9+9) OpenJDK 64-Bit Server VM Temurin-17.0.9+9 (build\n17.0.9+9, mixed mode)</p>\n</blockquote>\n<p>Now, check the path to your JDK files:</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>An example output on macOS could be:</p>\n<blockquote>\n<p>/Users/lucasmiranda/Library/Java/JavaVirtualMachines/jdk-17.0.9+9/Contents/Home</p>\n</blockquote>\n<p>Navigate to the <em>JavaVirtualMachines</em> folder.</p>\n<p>Delete the other JDK versions and keep only the one used by your <strong>JAVA_HOME</strong>.</p>\n<p>If you encounter an issue with Android Studio trying to use a different JDK, configure it to point to your default JDK version.</p>\n"}],"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77544861,"answer_count":1,"score":1,"last_activity_date":1700847939,"creation_date":1699442809,"question_id":77445137,"body_markdown":"Whenever I try to build or clean the project or try again. I am getting the following error \r\n\r\n`Unsupported class file major version 64`\r\n\r\nI am stuck to this problem and unable to find the solution \r\n\r\n**gradle-wrapper.properties**\r\n\r\n    #Wed Oct 21 11:43:07 PKT 2020\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-all.zip\r\n\r\n**build.gradle**\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:8.1.3&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n       }\r\n     }\r\n\r\n     allprojects {\r\n       repositories {\r\n        mavenCentral()\r\n        google()\r\n     }\r\n    }\r\n\r\n     tasks.register(&#39;clean&#39;, Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\n\r\n**build.gradle(:app)**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &#39;28.0.2&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.thumbsol.accuratemobileassetsmanagament&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n        vectorDrawables.useSupportLibrary = true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    androidTestImplementation(&#39;androidx.test.espresso:espresso-core:3.5.1&#39;, {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.10.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.vectordrawable:vectordrawable:1.1.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.toptoche.searchablespinner:searchablespinnerlibrary:1.3.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.2.3&#39;\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:3.9.1&#39;\r\n    implementation &#39;com.github.luongvo:GmailBackground:2.0.2&#39;\r\n    }\r\n\r\n\r\n**Project Structure**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have also tried this [solution][2] but unable to resolve the problem\r\n\r\nAny help would be highly appreciated. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p4NZO.png\r\n  [2]: https://stackoverflow.com/a/70641605/6854117","title":"Android studio how to fix &quot;Unsupported class file major version 64&quot;","body":"<p>Whenever I try to build or clean the project or try again. I am getting the following error</p>\n<p><code>Unsupported class file major version 64</code></p>\n<p>I am stuck to this problem and unable to find the solution</p>\n<p><strong>gradle-wrapper.properties</strong></p>\n<pre><code>#Wed Oct 21 11:43:07 PKT 2020\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-all.zip\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\nrepositories {\n    mavenCentral()\n    google()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:8.1.3'\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n   }\n }\n\n allprojects {\n   repositories {\n    mavenCentral()\n    google()\n }\n}\n\n tasks.register('clean', Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n<p><strong>build.gradle(:app)</strong></p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 33\nbuildToolsVersion '28.0.2'\n\ndefaultConfig {\n    applicationId &quot;com.thumbsol.accuratemobileassetsmanagament&quot;\n    minSdkVersion 19\n    targetSdkVersion 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n    testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n    vectorDrawables.useSupportLibrary = true\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n\nlintOptions {\n    checkReleaseBuilds false\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nandroidTestImplementation('androidx.test.espresso:espresso-core:3.5.1', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\nimplementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.10.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'com.squareup.retrofit2:retrofit:2.9.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.9.0'\nimplementation 'com.jakewharton:butterknife:10.2.3'\nimplementation 'androidx.cardview:cardview:1.0.0'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'androidx.vectordrawable:vectordrawable:1.1.0'\nimplementation 'com.squareup.picasso:picasso:2.71828'\nimplementation 'com.toptoche.searchablespinner:searchablespinnerlibrary:1.3.1'\ntestImplementation 'junit:junit:4.13.2'\nannotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\nimplementation 'com.squareup.okhttp3:logging-interceptor:3.9.1'\nimplementation 'com.github.luongvo:GmailBackground:2.0.2'\n}\n</code></pre>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/p4NZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p4NZO.png\" alt=\"enter image description here\" /></a></p>\n<p>I have also tried this <a href=\"https://stackoverflow.com/a/70641605/6854117\">solution</a> but unable to resolve the problem</p>\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1700851300,"post_id":77544808,"comment_id":136707373,"body_markdown":"Note that Eclipse code is signed and is not just going to let you install hacked versions of core plug-ins. You can use the `org.eclipse.ui.activities` extension point to suppress menu items without modifiying anything. Other menu items can be contributed by any plug-in using the `org.eclipse.ui.menus` extension point.","body":"Note that Eclipse code is signed and is not just going to let you install hacked versions of core plug-ins. You can use the <code>org.eclipse.ui.activities</code> extension point to suppress menu items without modifiying anything. Other menu items can be contributed by any plug-in using the <code>org.eclipse.ui.menus</code> extension point."}],"owner":{"account_id":14362455,"reputation":789,"user_id":10374425,"display_name":"Ga&#235;tan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700847226,"creation_date":1700847226,"question_id":77544808,"body_markdown":"The customer of the project I am working on wants certain options of the context menu gone, namely the &quot;Team&quot;, &quot;Compare With&quot; and &quot;Replace With&quot; options. These are provided by other plugins. \r\n\r\nSo, I went into the ViewPart class and started modifying the code to remove these options. I managed to get rid of the &quot;Team&quot; one by doing as follows:\r\n\r\n- In the createPartControl method, I create the context menu and ask for a fillContextMenu method to be called just before rendering the menu:\r\n```\r\n// Context (right click) menu\r\nMenuManager menuMgr = new MenuManager();\r\nmenuMgr.setRemoveAllWhenShown(true);\r\nmenuMgr.addMenuListener(new IMenuListener() {\r\n    public void menuAboutToShow(IMenuManager manager) {\r\n        MyView.this.fillContextMenu(menuMgr);\r\n    }\r\n});\r\nMenu menu = menuMgr.createContextMenu(this.viewer.getControl());\r\nthis.viewer.getControl().setMenu(menu);\r\ngetSite().registerContextMenu(menuMgr, viewer);\r\n\r\n```\r\n- In the fillContextMenu method, I filter the unwanted option by iterating the menu contributions and setting the undesired options visibility to false:\r\n```\r\nprivate void fillContextMenu(MenuManager manager)\r\n{\r\n\tString POPUP_LOCATION = &quot;popup:my.view&quot;;\r\n\tIMenuService menuService = (IMenuService) PlatformUI.getWorkbench().getService(IMenuService.class);\r\n\tmenuService.populateContributionManager(manager, POPUP_LOCATION);\r\n\tIContributionItem[] items = manager.getItems();\r\n\tfor (IContributionItem item : items) {\r\n\t\tif (item.getId() != null &amp;&amp; item.getId().contains(&quot;team&quot;)) {\r\n\t\t\titem.setVisible(false);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nSo, as you can see, I have access to the context menu manager just before it gets rendrered. From there, I can hide or show everything I want... but not the &quot;Compare With&quot; and &quot;Replace With&quot; options. They do not appear in the list of menu contributions. If I try to set all the menu contributions to `setVisible(false)`, they all disappear, but these two stay.\r\n\r\nI don&#39;t understand where they are coming from. How can they be in the menu and not appear in the menu manager ? Are they default options that are always there ?","title":"Get rid of the &quot;Compare With&quot; and &quot;Replace With&quot; options in Eclipse Plugin context menu","body":"<p>The customer of the project I am working on wants certain options of the context menu gone, namely the &quot;Team&quot;, &quot;Compare With&quot; and &quot;Replace With&quot; options. These are provided by other plugins.</p>\n<p>So, I went into the ViewPart class and started modifying the code to remove these options. I managed to get rid of the &quot;Team&quot; one by doing as follows:</p>\n<ul>\n<li>In the createPartControl method, I create the context menu and ask for a fillContextMenu method to be called just before rendering the menu:</li>\n</ul>\n<pre><code>// Context (right click) menu\nMenuManager menuMgr = new MenuManager();\nmenuMgr.setRemoveAllWhenShown(true);\nmenuMgr.addMenuListener(new IMenuListener() {\n    public void menuAboutToShow(IMenuManager manager) {\n        MyView.this.fillContextMenu(menuMgr);\n    }\n});\nMenu menu = menuMgr.createContextMenu(this.viewer.getControl());\nthis.viewer.getControl().setMenu(menu);\ngetSite().registerContextMenu(menuMgr, viewer);\n\n</code></pre>\n<ul>\n<li>In the fillContextMenu method, I filter the unwanted option by iterating the menu contributions and setting the undesired options visibility to false:</li>\n</ul>\n<pre><code>private void fillContextMenu(MenuManager manager)\n{\n    String POPUP_LOCATION = &quot;popup:my.view&quot;;\n    IMenuService menuService = (IMenuService) PlatformUI.getWorkbench().getService(IMenuService.class);\n    menuService.populateContributionManager(manager, POPUP_LOCATION);\n    IContributionItem[] items = manager.getItems();\n    for (IContributionItem item : items) {\n        if (item.getId() != null &amp;&amp; item.getId().contains(&quot;team&quot;)) {\n            item.setVisible(false);\n        }\n    }\n}\n</code></pre>\n<p>So, as you can see, I have access to the context menu manager just before it gets rendrered. From there, I can hide or show everything I want... but not the &quot;Compare With&quot; and &quot;Replace With&quot; options. They do not appear in the list of menu contributions. If I try to set all the menu contributions to <code>setVisible(false)</code>, they all disappear, but these two stay.</p>\n<p>I don't understand where they are coming from. How can they be in the menu and not appear in the menu manager ? Are they default options that are always there ?</p>\n"},{"tags":["java","spring","configuration","spring-annotations","spring-expression-language"],"answers":[{"tags":[],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700845902,"creation_date":1621329092,"answer_id":67583235,"question_id":67582716,"body_markdown":"Problem is that I use only `@ConfigurationProperties`. When I add `@Configuration`  problem is gone.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;app&quot;)\r\n    public class OuterProperties {\r\n        private static final long WAITING_INTERVAL = 100;\r\n        private long rateForMessageReading;\r\n    }","title":"refer on bean.property in @Scheduled by SpEL","body":"<p>Problem is that I use only <code>@ConfigurationProperties</code>. When I add <code>@Configuration</code>  problem is gone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(&quot;app&quot;)\npublic class OuterProperties {\n    private static final long WAITING_INTERVAL = 100;\n    private long rateForMessageReading;\n}\n</code></pre>\n"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700845902,"creation_date":1621327048,"question_id":67582716,"body_markdown":"I&#39;m going to set `fixedRate`-value in `@Scheduled` dynamically.\r\n\r\nFor this aims I&#39;m trying to use SpEL-abilities as following:\r\n\r\n&lt;!-- language: java --&gt;\r\n      \r\n    @AllArgsConstructor\r\n    public class ContentSender {\r\n\r\n        @Scheduled(fixedRateString = &quot;#{OuterProperties.rateForMessageReading}&quot;)\r\n        public void contentModelMessageSource() throws IOException {       \r\n        }\r\n    }\r\n\r\nClass with target-property:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Getter\r\n    @Setter\r\n    @ConfigurationProperties(&quot;app&quot;)\r\n    public class OuterProperties {\r\n        private static final long WAITING_INTERVAL = 100;\r\n        private long rateForMessageReading;\r\n    }\r\n\r\nBy as a result on the deploy-stage I receive:\r\n\r\n\r\n&gt; SpelEvaluationException: EL1008E: Property or field &#39;outerProperties&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\r\nWhat am I doing wrong?\r\n      ","title":"refer on bean.property in @Scheduled by SpEL","body":"<p>I'm going to set <code>fixedRate</code>-value in <code>@Scheduled</code> dynamically.</p>\n<p>For this aims I'm trying to use SpEL-abilities as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\npublic class ContentSender {\n\n    @Scheduled(fixedRateString = &quot;#{OuterProperties.rateForMessageReading}&quot;)\n    public void contentModelMessageSource() throws IOException {       \n    }\n}\n</code></pre>\n<p>Class with target-property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ConfigurationProperties(&quot;app&quot;)\npublic class OuterProperties {\n    private static final long WAITING_INTERVAL = 100;\n    private long rateForMessageReading;\n}\n</code></pre>\n<p>By as a result on the deploy-stage I receive:</p>\n<blockquote>\n<p>SpelEvaluationException: EL1008E: Property or field 'outerProperties' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?</p>\n</blockquote>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring-boot","jwt","base64","base64url"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700837120,"post_id":77543924,"comment_id":136705402,"body_markdown":"`jwtSigningKey` looks like it&#39;s hex, not base64... (I find it highly improbable that it&#39;s a string which *happens* to only contain 0-9, A-F, but is actually intended to be base64. )","body":"<code>jwtSigningKey</code> looks like it&#39;s hex, not base64... (I find it highly improbable that it&#39;s a string which <i>happens</i> to only contain 0-9, A-F, but is actually intended to be base64. )"},{"owner":{"account_id":22773201,"reputation":23,"user_id":16930280,"display_name":"Max"},"score":0,"creation_date":1700838051,"post_id":77543924,"comment_id":136705548,"body_markdown":"jwtSigningKey is Hexa but the token which is generted is base64, right so does jwtSigningKey make any impact?","body":"jwtSigningKey is Hexa but the token which is generted is base64, right so does jwtSigningKey make any impact?"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1700838562,"post_id":77543924,"comment_id":136705641,"body_markdown":"Well yes, because you&#39;re trying to decode it as if it&#39;s base64: `Decoders.BASE64.decode(jwtSigningKey)`. Don&#39;t do that...","body":"Well yes, because you&#39;re trying to decode it as if it&#39;s base64: <code>Decoders.BASE64.decode(jwtSigningKey)</code>. Don&#39;t do that..."},{"owner":{"account_id":22773201,"reputation":23,"user_id":16930280,"display_name":"Max"},"score":0,"creation_date":1700840069,"post_id":77543924,"comment_id":136705856,"body_markdown":"So what should i do?","body":"So what should i do?"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700851215,"post_id":77543924,"comment_id":136707362,"body_markdown":"Well if you want your `keyBytes` to represent the data stored in `jwtSigningKey` in hex, then decode it as hex... that might not be the *only* problem with the code, but it looks like a pretty clear one.","body":"Well if you want your <code>keyBytes</code> to represent the data stored in <code>jwtSigningKey</code> in hex, then decode it as hex... that might not be the <i>only</i> problem with the code, but it looks like a pretty clear one."},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1700855803,"post_id":77543924,"comment_id":136707901,"body_markdown":"For the human reader of the code, it&#39;s obvious that the key is hex encoded. But technically, the base64 decoder has no problem accepting it as base64 code. All characters from the hex code are valid base64 characters and 64 characters are a valid length for base64 without padding. I don&#39;t think the base64 decoding of the hex key caused the error.","body":"For the human reader of the code, it&#39;s obvious that the key is hex encoded. But technically, the base64 decoder has no problem accepting it as base64 code. All characters from the hex code are valid base64 characters and 64 characters are a valid length for base64 without padding. I don&#39;t think the base64 decoding of the hex key caused the error."},{"owner":{"account_id":22773201,"reputation":23,"user_id":16930280,"display_name":"Max"},"score":0,"creation_date":1700881757,"post_id":77543924,"comment_id":136709921,"body_markdown":"Yes I agree with you that Hex is subset of base64 and I have verified that token is authentic so what could be the possible error then?","body":"Yes I agree with you that Hex is subset of base64 and I have verified that token is authentic so what could be the possible error then?"}],"answers":[{"tags":[],"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700845330,"creation_date":1700845330,"answer_id":77544667,"question_id":77543924,"body_markdown":"As Jon Skeet said, your jwtSigningKey is encoded in Hex and in getSigningKey() you&#39;re telling Java to decode it with Base64. \r\n\r\nEither have the key encoded with Base64 or decode with Hex.\r\n\r\nSee https://stackoverflow.com/a/140861/21538342","title":"Illegal base64url character: &#39; &#39; while extracting the information from JWT token","body":"<p>As Jon Skeet said, your jwtSigningKey is encoded in Hex and in getSigningKey() you're telling Java to decode it with Base64.</p>\n<p>Either have the key encoded with Base64 or decode with Hex.</p>\n<p>See <a href=\"https://stackoverflow.com/a/140861/21538342\">https://stackoverflow.com/a/140861/21538342</a></p>\n"}],"owner":{"account_id":22773201,"reputation":23,"user_id":16930280,"display_name":"Max"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700845330,"creation_date":1700836751,"question_id":77543924,"body_markdown":"When trying to decode the JWT Tokens to extract the information from the token getting the Error\r\nlike \r\n\r\nIllegal base64url character: &#39; &#39; \r\n\r\nThis is my service class, when trying to execute the claims there is no output and error is thrown\r\n\r\n\r\nI am trying to validate the user for that i have generated jwt token while loggin and when I am trying to use different services where user need to be verified I want to extract user information from JWT token and match it with database \r\n\r\n\r\n````\r\npackage com.example.RentCar.Services;\r\n\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\n\r\nimport com.example.RentCar.DTOS.UserRequestDTO;\r\nimport com.example.RentCar.Models.User;\r\nimport com.example.RentCar.Repository.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport io.jsonwebtoken.security.Keys;\r\n\r\n@Service\r\npublic class JwtServicesImpl implements JwtServices {\r\n    private UserRequestDTO userRequestDTO;\r\n    //private final UserRepository userRepository;\r\n   // @Value(&quot;${token.signing.key}&quot;)\r\n    private String jwtSigningKey = &quot;413F4428472B4B6250655368566D5970337336763979244226452948404D6351&quot;;\r\n\r\n\r\n    @Override\r\n    public String extractUserName(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n    @Override\r\n    public String generateToken(User user) {\r\n        return generateToken(new HashMap&lt;&gt;(), user);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public boolean isTokenValid(String token, UserServicesImpl userServices) {\r\n        final String email = extractUserName(token);\r\n        UserDetails user = (userServices.loadUserByUsername(email));\r\n        String email2 = user.getUsername();\r\n        return (email.equals(email2) &amp;&amp; !isTokenExpired(token));\r\n    }\r\n    private &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolvers) {\r\n        final Claims claims = extractAllClaims(token);\r\n        System.out.println(claims); //not printing\r\n        return claimsResolvers.apply(claims);\r\n    }\r\n\r\n    private String generateToken(Map&lt;String, Object&gt; extraClaims, User user) {\r\n\r\n        return Jwts.builder().setClaims(extraClaims).setSubject(user.getUserEmail())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\r\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256).compact();\r\n    }\r\n    private boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    private Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    private Claims extractAllClaims(String token) {\r\n        return Jwts.parserBuilder().setSigningKey(getSigningKey()).build().parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private Key getSigningKey() {\r\n       // System.out.println(jwtSigningKey);\r\n        byte[] keyBytes = Decoders.BASE64.decode(jwtSigningKey);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n}\r\n```\r\nbelow is the error\r\n\r\nio.jsonwebtoken.io.DecodingException: Illegal base64url character: &#39; &#39;\r\n\tat io.jsonwebtoken.io.Base64.ctoi(Base64.java:221)\r\n\tat io.jsonwebtoken.io.Base64.decodeFast(Base64.java:270)\r\n\tat io.jsonwebtoken.io.Base64Decoder.decode(Base64Decoder.java:36)\r\n\tat io.jsonwebtoken.io.Base64Decoder.decode(Base64Decoder.java:23)\r\n\tat io.jsonwebtoken.io.ExceptionPropagatingDecoder.decode(ExceptionPropagatingDecoder.java:36)\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:288)\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)\r\n\tat io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\r\n\tat com.example.RentCar.Services.JwtServicesImpl.extractAllClaims(JwtServicesImpl.java:76)\r\n\tat com.example.RentCar.Services.JwtServicesImpl.extractClaim(JwtServicesImpl.java:55)\r\n\tat com.example.RentCar.Services.JwtServicesImpl.extractUserName(JwtServicesImpl.java:34)\r\n\tat com.example.RentCar.Controllers.UserController.ModifyAddress(UserController.java:36)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\r\nExpecting should be like can claims or extract information from token\r\n\r\n","title":"Illegal base64url character: &#39; &#39; while extracting the information from JWT token","body":"<p>When trying to decode the JWT Tokens to extract the information from the token getting the Error\nlike</p>\n<p>Illegal base64url character: ' '</p>\n<p>This is my service class, when trying to execute the claims there is no output and error is thrown</p>\n<p>I am trying to validate the user for that i have generated jwt token while loggin and when I am trying to use different services where user need to be verified I want to extract user information from JWT token and match it with database</p>\n<pre><code>package com.example.RentCar.Services;\n\nimport java.security.Key;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\nimport com.example.RentCar.DTOS.UserRequestDTO;\nimport com.example.RentCar.Models.User;\nimport com.example.RentCar.Repository.UserRepository;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Service;\n\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.io.Decoders;\nimport io.jsonwebtoken.security.Keys;\n\n@Service\npublic class JwtServicesImpl implements JwtServices {\n    private UserRequestDTO userRequestDTO;\n    //private final UserRepository userRepository;\n   // @Value(&quot;${token.signing.key}&quot;)\n    private String jwtSigningKey = &quot;413F4428472B4B6250655368566D5970337336763979244226452948404D6351&quot;;\n\n\n    @Override\n    public String extractUserName(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n    @Override\n    public String generateToken(User user) {\n        return generateToken(new HashMap&lt;&gt;(), user);\n    }\n\n\n\n    @Override\n    public boolean isTokenValid(String token, UserServicesImpl userServices) {\n        final String email = extractUserName(token);\n        UserDetails user = (userServices.loadUserByUsername(email));\n        String email2 = user.getUsername();\n        return (email.equals(email2) &amp;&amp; !isTokenExpired(token));\n    }\n    private &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolvers) {\n        final Claims claims = extractAllClaims(token);\n        System.out.println(claims); //not printing\n        return claimsResolvers.apply(claims);\n    }\n\n    private String generateToken(Map&lt;String, Object&gt; extraClaims, User user) {\n\n        return Jwts.builder().setClaims(extraClaims).setSubject(user.getUserEmail())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256).compact();\n    }\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    private Claims extractAllClaims(String token) {\n        return Jwts.parserBuilder().setSigningKey(getSigningKey()).build().parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Key getSigningKey() {\n       // System.out.println(jwtSigningKey);\n        byte[] keyBytes = Decoders.BASE64.decode(jwtSigningKey);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n}\n```\nbelow is the error\n\nio.jsonwebtoken.io.DecodingException: Illegal base64url character: ' '\n    at io.jsonwebtoken.io.Base64.ctoi(Base64.java:221)\n    at io.jsonwebtoken.io.Base64.decodeFast(Base64.java:270)\n    at io.jsonwebtoken.io.Base64Decoder.decode(Base64Decoder.java:36)\n    at io.jsonwebtoken.io.Base64Decoder.decode(Base64Decoder.java:23)\n    at io.jsonwebtoken.io.ExceptionPropagatingDecoder.decode(ExceptionPropagatingDecoder.java:36)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:288)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)\n    at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\n    at com.example.RentCar.Services.JwtServicesImpl.extractAllClaims(JwtServicesImpl.java:76)\n    at com.example.RentCar.Services.JwtServicesImpl.extractClaim(JwtServicesImpl.java:55)\n    at com.example.RentCar.Services.JwtServicesImpl.extractUserName(JwtServicesImpl.java:34)\n    at com.example.RentCar.Controllers.UserController.ModifyAddress(UserController.java:36)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\nExpecting should be like can claims or extract information from token\n\n</code></pre>\n"},{"tags":["java","android","in-app-billing","android-billing","play-billing-library"],"answers":[{"tags":[],"owner":{"account_id":11299660,"reputation":1493,"user_id":8286029,"accept_rate":0,"display_name":"Mathieu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591947160,"creation_date":1591947160,"answer_id":62339629,"question_id":62320895,"body_markdown":"It seems the only thing to do was to wait...  \r\nIt worked this morning.  \r\nCount 2 days for your inapp payments to be available on the app.","title":"Android Google Pay Billing - Response 4 : ITEM_UNAVAILABLE","body":"<p>It seems the only thing to do was to wait...<br>\nIt worked this morning.<br>\nCount 2 days for your inapp payments to be available on the app.</p>\n"},{"tags":[],"owner":{"account_id":17875781,"reputation":19,"user_id":12985895,"display_name":"shangzixie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700845210,"creation_date":1700845210,"answer_id":77544664,"question_id":62320895,"body_markdown":"After adding as a tester, don&#39;t forget to accept the invite. the invite URL is at the Google Play console setting test account page. I resolve it by that.","title":"Android Google Pay Billing - Response 4 : ITEM_UNAVAILABLE","body":"<p>After adding as a tester, don't forget to accept the invite. the invite URL is at the Google Play console setting test account page. I resolve it by that.</p>\n"}],"owner":{"account_id":11299660,"reputation":1493,"user_id":8286029,"accept_rate":0,"display_name":"Mathieu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4860,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62339629,"answer_count":2,"score":6,"last_activity_date":1700845210,"creation_date":1591866612,"question_id":62320895,"body_markdown":"I am trying to integrate Google Play Billing.\r\n\r\nHere is my onCreate :\r\n\r\n    private final static String     TAG = &quot;MainActivity&quot; ;\r\n    private final static String     ITEM_SKU_SUBSCRIBE = &quot;sub_example&quot; ;\r\n    private final static String     PREF_FILE = &quot;shared_prefs&quot; ;\r\n    private final static String     SUBSCRIBE_KEY = &quot;subscribe&quot; ;\r\n\r\n    private BillingClient                   billingClient ;\r\n\r\n    private TextView                        premiumContent ;\r\n    private TextView                        subscriptionStatus ;\r\n    private Button                          purchaseButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        premiumContent = findViewById(R.id.premium_content) ;\r\n        subscriptionStatus = findViewById(R.id.subscription_status) ;\r\n        purchaseButton = findViewById(R.id.button) ;\r\n\r\n        billingClient = BillingClient.newBuilder(this)\r\n                .enablePendingPurchases()\r\n                .setListener(this)\r\n                .build() ;\r\n        billingClient.startConnection(new BillingClientStateListener() {\r\n            @Override\r\n            public void onBillingSetupFinished(BillingResult billingResult) {\r\n                Log.i(TAG, &quot;onBillingSetupFinished ; billing response code == &quot; + billingResult.getResponseCode());\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                    Purchase.PurchasesResult queryPurchase = billingClient.queryPurchases(SUBS);\r\n                    List&lt;Purchase&gt; queryPurchases = queryPurchase.getPurchasesList();\r\n                    if (queryPurchases != null &amp;&amp; queryPurchases.size() &gt; 0) {\r\n                        handlePurchases(queryPurchases);\r\n                    } else {\r\n                        saveSubscribeValueToPref(false);\r\n                    }\r\n                } else {\r\n                    Log.e(TAG, &quot;ELSE : &quot; + billingResult.getDebugMessage()) ;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onBillingServiceDisconnected() {\r\n                Toast.makeText(getApplicationContext(), &quot;Service disconnected&quot;,\r\n                        Toast.LENGTH_SHORT).show() ;\r\n            }\r\n        });\r\n\r\n        if (getSubscribeValueFromPref()) {\r\n            purchaseButton.setVisibility(View.GONE);\r\n            premiumContent.setVisibility(View.VISIBLE);\r\n            subscriptionStatus.setText(&quot;Subscription Status : Subscribed&quot;);\r\n        } else {\r\n            premiumContent.setVisibility(View.GONE);\r\n            purchaseButton.setVisibility(View.VISIBLE);\r\n            subscriptionStatus.setText(&quot;Subscription Status : Not Subscribed&quot;);\r\n        }\r\n\r\n        purchaseButton.setText(&quot;Load products&quot;);\r\n        purchaseButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                subscribe();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nWhen I click on the `purchaseButton`, I call `subscribe` function.\r\n\r\nBasically it just call a function `initiatePurchase` if `billingClient.isReady()` returns `true`, and initialize `billingClient` in the other case.\r\n\r\nHere is my `initiatePurchase` function :\r\n\r\n\r\n    private void        initiatePurchase() {\r\n        List&lt;String&gt;                    skuList = new ArrayList&lt;&gt;() ;\r\n        SkuDetailsParams.Builder        params = SkuDetailsParams.newBuilder() ;\r\n\r\n        skuList.add(ITEM_SKU_SUBSCRIBE);\r\n        params.setSkusList(skuList).setType(SUBS);\r\n        BillingResult   billingResult = billingClient.isFeatureSupported(BillingClient.FeatureType.SUBSCRIPTIONS) ;\r\n        Log.i(TAG, &quot;Billing response code == &quot; + billingResult.getResponseCode()) ;\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n            Log.i(TAG, &quot;Billing response code is OK&quot;);\r\n            billingClient.querySkuDetailsAsync(params.build(),\r\n                    new SkuDetailsResponseListener() {\r\n                        @Override\r\n                        public void onSkuDetailsResponse(BillingResult billingResult, List&lt;SkuDetails&gt; skuDetailsList) {\r\n                            Log.i(TAG, &quot;onSkuDetailsResponse ; billing result response code == &quot; + billingResult.getResponseCode());\r\n                            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                Log.i(TAG, &quot;Billing response code OK&quot;) ;\r\n                                if (skuDetailsList != null) {\r\n                                    for (int i = 0 ; i &lt; skuDetailsList.size() ; i++) {\r\n                                        Log.i(TAG, &quot;Loop INDEX &quot; + i + &quot; ; SkuDetails == &quot; + skuDetailsList.get(i).getTitle()) ;\r\n                                    }\r\n                                }\r\n                                if (skuDetailsList != null &amp;&amp; skuDetailsList.size() &gt; 0) {\r\n                                    Log.i(TAG, &quot;skuDetailsList is not null or empty&quot;);\r\n                                    BillingFlowParams flowParams = BillingFlowParams.newBuilder()\r\n                                            .setSkuDetails(skuDetailsList.get(0))\r\n                                            .build();\r\n                                    Log.i(TAG, &quot;Flow Params = &quot; + flowParams.getAccountId() + &quot; | &quot; + flowParams.getSku());\r\n                                    BillingResult billingFlowResult = billingClient\r\n                                            .launchBillingFlow(MainActivity.this, flowParams);\r\n                                    Log.i(TAG, &quot;billingFlowResult == &quot; + billingFlowResult.getResponseCode() + &quot; | &quot; + billingFlowResult.getDebugMessage()) ;\r\n                                } else {\r\n                                    Toast.makeText(getApplicationContext(),\r\n                                            &quot;Item not found&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            } else {\r\n                                Toast.makeText(getApplicationContext(),\r\n                                        &quot;Error - &quot; + billingResult.getDebugMessage(),\r\n                                        Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n        } else {\r\n            Toast.makeText(getApplicationContext(),\r\n                    &quot;Sorry, subscription not supported. Please update Play Store&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\nIt seems to go to `onSkuDetailsResponse`, with a billing response code OK.\r\n\r\nI loop in the `skuDetailsList` and I get `sub_example`, which is my `ITEM_SKU_SUBSCRIBE` (and the one on my Play Store Console) ; so my `skuDetailsList` is not null or empty.\r\n\r\nBut then, here is my log output :\r\n\r\n```\r\nI/MainActivity: Billing response code == 0\r\n    Billing response code is OK\r\nI/MainActivity: onSkuDetailsResponse ; billing result response code == 0\r\n    Billing response code OK\r\n    Loop INDEX 0 ; SkuDetails == Monthly sub (Test Billing)\r\n    skuDetailsList is not null or empty\r\nI/MainActivity: Flow Params = null | sub_example\r\nI/MainActivity: billingFlowResult == 0 | null\r\nW/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@cb159f0\r\n```\r\n\r\n[![Google Play error][1]][1]\r\n\r\n\r\nWhen I click on the &quot;OK&quot; button, interesting logs appears :\r\n\r\n```\r\nW/ProxyBillingActivity: Activity finished with resultCode 0 and billing&#39;s responseCode: 4\r\nW/BillingHelper: Couldn&#39;t find purchase lists, trying to find single data.\r\nW/BillingHelper: Received a bad purchase data.\r\n    Couldn&#39;t find single purchase data as well.\r\n```\r\n\r\nI looked up in `BillingClient.class` and I found `int ITEM_UNAVAILABLE = 4;` in the `interface BillingResponseCode`\r\n\r\n\r\n - I am compiling and launching this app in signed release configuration\r\n - An older version of the app is published in alpha on Google Play (but with the same version code and version name)\r\n - My google play account is in the testers list, it&#39;s a @gmail address I created today for this (my other google account was not with a @gmail address - well, did not work either)\r\n - I created this subscription yesterday on the Google Play Console\r\n - My app is published (not in reviewing) since yesterday in alpha.\r\n - I followed this tutorial : https://programtown.com/how-to-make-in-app-purchase-subscription-in-android-using-google-play-billing-library/\r\n\r\nThanks\r\n\r\n  [1]: https://i.stack.imgur.com/6P4BX.png","title":"Android Google Pay Billing - Response 4 : ITEM_UNAVAILABLE","body":"<p>I am trying to integrate Google Play Billing.</p>\n\n<p>Here is my onCreate :</p>\n\n<pre><code>private final static String     TAG = \"MainActivity\" ;\nprivate final static String     ITEM_SKU_SUBSCRIBE = \"sub_example\" ;\nprivate final static String     PREF_FILE = \"shared_prefs\" ;\nprivate final static String     SUBSCRIBE_KEY = \"subscribe\" ;\n\nprivate BillingClient                   billingClient ;\n\nprivate TextView                        premiumContent ;\nprivate TextView                        subscriptionStatus ;\nprivate Button                          purchaseButton;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    premiumContent = findViewById(R.id.premium_content) ;\n    subscriptionStatus = findViewById(R.id.subscription_status) ;\n    purchaseButton = findViewById(R.id.button) ;\n\n    billingClient = BillingClient.newBuilder(this)\n            .enablePendingPurchases()\n            .setListener(this)\n            .build() ;\n    billingClient.startConnection(new BillingClientStateListener() {\n        @Override\n        public void onBillingSetupFinished(BillingResult billingResult) {\n            Log.i(TAG, \"onBillingSetupFinished ; billing response code == \" + billingResult.getResponseCode());\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                Purchase.PurchasesResult queryPurchase = billingClient.queryPurchases(SUBS);\n                List&lt;Purchase&gt; queryPurchases = queryPurchase.getPurchasesList();\n                if (queryPurchases != null &amp;&amp; queryPurchases.size() &gt; 0) {\n                    handlePurchases(queryPurchases);\n                } else {\n                    saveSubscribeValueToPref(false);\n                }\n            } else {\n                Log.e(TAG, \"ELSE : \" + billingResult.getDebugMessage()) ;\n            }\n        }\n\n        @Override\n        public void onBillingServiceDisconnected() {\n            Toast.makeText(getApplicationContext(), \"Service disconnected\",\n                    Toast.LENGTH_SHORT).show() ;\n        }\n    });\n\n    if (getSubscribeValueFromPref()) {\n        purchaseButton.setVisibility(View.GONE);\n        premiumContent.setVisibility(View.VISIBLE);\n        subscriptionStatus.setText(\"Subscription Status : Subscribed\");\n    } else {\n        premiumContent.setVisibility(View.GONE);\n        purchaseButton.setVisibility(View.VISIBLE);\n        subscriptionStatus.setText(\"Subscription Status : Not Subscribed\");\n    }\n\n    purchaseButton.setText(\"Load products\");\n    purchaseButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            subscribe();\n        }\n    });\n}\n</code></pre>\n\n<p>When I click on the <code>purchaseButton</code>, I call <code>subscribe</code> function.</p>\n\n<p>Basically it just call a function <code>initiatePurchase</code> if <code>billingClient.isReady()</code> returns <code>true</code>, and initialize <code>billingClient</code> in the other case.</p>\n\n<p>Here is my <code>initiatePurchase</code> function :</p>\n\n<pre><code>private void        initiatePurchase() {\n    List&lt;String&gt;                    skuList = new ArrayList&lt;&gt;() ;\n    SkuDetailsParams.Builder        params = SkuDetailsParams.newBuilder() ;\n\n    skuList.add(ITEM_SKU_SUBSCRIBE);\n    params.setSkusList(skuList).setType(SUBS);\n    BillingResult   billingResult = billingClient.isFeatureSupported(BillingClient.FeatureType.SUBSCRIPTIONS) ;\n    Log.i(TAG, \"Billing response code == \" + billingResult.getResponseCode()) ;\n    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n        Log.i(TAG, \"Billing response code is OK\");\n        billingClient.querySkuDetailsAsync(params.build(),\n                new SkuDetailsResponseListener() {\n                    @Override\n                    public void onSkuDetailsResponse(BillingResult billingResult, List&lt;SkuDetails&gt; skuDetailsList) {\n                        Log.i(TAG, \"onSkuDetailsResponse ; billing result response code == \" + billingResult.getResponseCode());\n                        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                            Log.i(TAG, \"Billing response code OK\") ;\n                            if (skuDetailsList != null) {\n                                for (int i = 0 ; i &lt; skuDetailsList.size() ; i++) {\n                                    Log.i(TAG, \"Loop INDEX \" + i + \" ; SkuDetails == \" + skuDetailsList.get(i).getTitle()) ;\n                                }\n                            }\n                            if (skuDetailsList != null &amp;&amp; skuDetailsList.size() &gt; 0) {\n                                Log.i(TAG, \"skuDetailsList is not null or empty\");\n                                BillingFlowParams flowParams = BillingFlowParams.newBuilder()\n                                        .setSkuDetails(skuDetailsList.get(0))\n                                        .build();\n                                Log.i(TAG, \"Flow Params = \" + flowParams.getAccountId() + \" | \" + flowParams.getSku());\n                                BillingResult billingFlowResult = billingClient\n                                        .launchBillingFlow(MainActivity.this, flowParams);\n                                Log.i(TAG, \"billingFlowResult == \" + billingFlowResult.getResponseCode() + \" | \" + billingFlowResult.getDebugMessage()) ;\n                            } else {\n                                Toast.makeText(getApplicationContext(),\n                                        \"Item not found\", Toast.LENGTH_SHORT).show();\n                            }\n                        } else {\n                            Toast.makeText(getApplicationContext(),\n                                    \"Error - \" + billingResult.getDebugMessage(),\n                                    Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n    } else {\n        Toast.makeText(getApplicationContext(),\n                \"Sorry, subscription not supported. Please update Play Store\",\n                Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n\n<p>It seems to go to <code>onSkuDetailsResponse</code>, with a billing response code OK.</p>\n\n<p>I loop in the <code>skuDetailsList</code> and I get <code>sub_example</code>, which is my <code>ITEM_SKU_SUBSCRIBE</code> (and the one on my Play Store Console) ; so my <code>skuDetailsList</code> is not null or empty.</p>\n\n<p>But then, here is my log output :</p>\n\n<pre><code>I/MainActivity: Billing response code == 0\n    Billing response code is OK\nI/MainActivity: onSkuDetailsResponse ; billing result response code == 0\n    Billing response code OK\n    Loop INDEX 0 ; SkuDetails == Monthly sub (Test Billing)\n    skuDetailsList is not null or empty\nI/MainActivity: Flow Params = null | sub_example\nI/MainActivity: billingFlowResult == 0 | null\nW/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@cb159f0\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6P4BX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6P4BX.png\" alt=\"Google Play error\"></a></p>\n\n<p>When I click on the \"OK\" button, interesting logs appears :</p>\n\n<pre><code>W/ProxyBillingActivity: Activity finished with resultCode 0 and billing's responseCode: 4\nW/BillingHelper: Couldn't find purchase lists, trying to find single data.\nW/BillingHelper: Received a bad purchase data.\n    Couldn't find single purchase data as well.\n</code></pre>\n\n<p>I looked up in <code>BillingClient.class</code> and I found <code>int ITEM_UNAVAILABLE = 4;</code> in the <code>interface BillingResponseCode</code></p>\n\n<ul>\n<li>I am compiling and launching this app in signed release configuration</li>\n<li>An older version of the app is published in alpha on Google Play (but with the same version code and version name)</li>\n<li>My google play account is in the testers list, it's a @gmail address I created today for this (my other google account was not with a @gmail address - well, did not work either)</li>\n<li>I created this subscription yesterday on the Google Play Console</li>\n<li>My app is published (not in reviewing) since yesterday in alpha.</li>\n<li>I followed this tutorial : <a href=\"https://programtown.com/how-to-make-in-app-purchase-subscription-in-android-using-google-play-billing-library/\" rel=\"noreferrer\">https://programtown.com/how-to-make-in-app-purchase-subscription-in-android-using-google-play-billing-library/</a></li>\n</ul>\n\n<p>Thanks</p>\n"},{"tags":["java","eclipse","macos","jar"],"comments":[{"owner":{"account_id":4611112,"reputation":793,"user_id":3739215,"accept_rate":64,"display_name":"spoko"},"score":5,"creation_date":1407617049,"post_id":25222811,"comment_id":39287115,"body_markdown":"Try running this using Java 7.","body":"Try running this using Java 7."},{"owner":{"account_id":3415784,"reputation":60447,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":2,"creation_date":1407617082,"post_id":25222811,"comment_id":39287124,"body_markdown":"Check these for relevancy: http://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar?rq=1 , http://stackoverflow.com/questions/9266632/access-restriction-is-not-accessible-due-to-restriction-on-required-library?rq=1","body":"Check these for relevancy: <a href=\"http://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar?rq=1\" title=\"access restriction on class due to restriction on required library rt jar\">stackoverflow.com/questions/860187/&hellip;</a> , <a href=\"http://stackoverflow.com/questions/9266632/access-restriction-is-not-accessible-due-to-restriction-on-required-library?rq=1\" title=\"access restriction is not accessible due to restriction on required library\">stackoverflow.com/questions/9266632/&hellip;</a>"},{"owner":{"account_id":4867489,"reputation":2121,"user_id":3925208,"accept_rate":75,"display_name":"www139"},"score":0,"creation_date":1407617905,"post_id":25222811,"comment_id":39287301,"body_markdown":"Not using Xcode (yet)","body":"Not using Xcode (yet)"},{"owner":{"account_id":4867489,"reputation":2121,"user_id":3925208,"accept_rate":75,"display_name":"www139"},"score":0,"creation_date":1407618105,"post_id":25222811,"comment_id":39287354,"body_markdown":"I&#39;m not to familiar to java the guy doesn&#39;t give an exact path. What does he mean by: com/sun/xml/internal/**","body":"I&#39;m not to familiar to java the guy doesn&#39;t give an exact path. What does he mean by: com/sun/xml/internal/**"},{"owner":{"account_id":4867489,"reputation":2121,"user_id":3925208,"accept_rate":75,"display_name":"www139"},"score":1,"creation_date":1407618245,"post_id":25222811,"comment_id":39287399,"body_markdown":"Could you interpret what path he&#39;s talking about? Thank you! In the future I will switch to either xCode or netbeans. The guy above said to try java 7 should I?","body":"Could you interpret what path he&#39;s talking about? Thank you! In the future I will switch to either xCode or netbeans. The guy above said to try java 7 should I?"},{"owner":{"account_id":4509545,"reputation":574,"user_id":3666056,"accept_rate":62,"display_name":"jordaniac89"},"score":0,"creation_date":1414762947,"post_id":25222811,"comment_id":41951346,"body_markdown":"Are you building this in maven? the file path typically references the path in your local maven repository where the jar is kept.","body":"Are you building this in maven? the file path typically references the path in your local maven repository where the jar is kept."},{"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"score":0,"creation_date":1429590612,"post_id":25222811,"comment_id":47657513,"body_markdown":"i had a similar problem when i imported a java 1.8  luna project into mars. made a new project in mars and copied src/ in. all the red goes away.","body":"i had a similar problem when i imported a java 1.8  luna project into mars. made a new project in mars and copied src/ in. all the red goes away."},{"owner":{"account_id":5846606,"reputation":313,"user_id":7009806,"display_name":"Olivier"},"score":0,"creation_date":1582797064,"post_id":25222811,"comment_id":106903602,"body_markdown":"The &quot;access restriction&quot; error may also happen in Bonita Studio. This is most probably due to a missing dependency for the project (Menu Development -&gt; Manage dependencies -&gt; import...).","body":"The &quot;access restriction&quot; error may also happen in Bonita Studio. This is most probably due to a missing dependency for the project (Menu Development -&gt; Manage dependencies -&gt; import...)."}],"answers":[{"tags":[],"owner":{"account_id":2163436,"reputation":1923,"user_id":1933494,"display_name":"J. Katzwinkel"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1414762681,"creation_date":1414762681,"answer_id":26676046,"question_id":25222811,"body_markdown":"To begin with (*and unrelated*), instantiating the `Application` class by yourself does not seem to be its intended use. From what one can read from its [source][1], you are rather expected to use the static instance returned by `getApplication()`.\r\n\r\nNow let&#39;s get to the error Eclipse reports. I&#39;ve ran into a similar issue recently: `Access restriction: The method ... is not API (restriction on required project)`. I called the method in question as a method of an object which inherited that method from a super class. All I had to do was to add the package the super class was in to the packages imported by my plugin.\r\n\r\nHowever, there is a lot of different causes for errors based on *&quot;restriction on required project/library*&quot;. Similar to the problem described above, the type you are using might have dependencies to packages that are not exported by the library or might not be exported itself. In that case you can try to track down the missing packages and export them my yourself, as suggested [here][2], or try Access Rules. Other possible scenarios include:\r\n\r\n * Eclipse wants to keep you from using available packages that are not part of the public Java API (solution [1][3], [2][4])\r\n * Dependencies are satisfied by multiple sources, versions are conflicting etc. (solution [1][5], [2][6], [3][7])\r\n * Eclipse is using a JRE where a JDK is necessary (which might be the case here, from what your errors say; [solution][8]) or JRE/JDK version in project build path is not the right one \r\n\r\nThis ended up as more like a medley of restriction-related issues than an actual answer. But since *restriction on required projects* is such a versatile error to be reported, the perfect recipe is probably still to be found.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~michaelm/7113349/7u4/2/jdk7u-osx/new/src/macosx/classes/com/apple/eawt/Application.java.html\r\n  [2]: https://stackoverflow.com/a/22475570/1933494\r\n  [3]: https://stackoverflow.com/a/10642163/1933494\r\n  [4]: https://stackoverflow.com/a/14646810/1933494\r\n  [5]: https://stackoverflow.com/a/2174607/1933494\r\n  [6]: https://stackoverflow.com/a/1090024/1933494\r\n  [7]: https://stackoverflow.com/a/15746118/1933494\r\n  [8]: https://stackoverflow.com/a/20197999/1933494","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>To begin with (<em>and unrelated</em>), instantiating the <code>Application</code> class by yourself does not seem to be its intended use. From what one can read from its <a href=\"http://cr.openjdk.java.net/~michaelm/7113349/7u4/2/jdk7u-osx/new/src/macosx/classes/com/apple/eawt/Application.java.html\" rel=\"noreferrer\">source</a>, you are rather expected to use the static instance returned by <code>getApplication()</code>.</p>\n\n<p>Now let's get to the error Eclipse reports. I've ran into a similar issue recently: <code>Access restriction: The method ... is not API (restriction on required project)</code>. I called the method in question as a method of an object which inherited that method from a super class. All I had to do was to add the package the super class was in to the packages imported by my plugin.</p>\n\n<p>However, there is a lot of different causes for errors based on <em>\"restriction on required project/library</em>\". Similar to the problem described above, the type you are using might have dependencies to packages that are not exported by the library or might not be exported itself. In that case you can try to track down the missing packages and export them my yourself, as suggested <a href=\"https://stackoverflow.com/a/22475570/1933494\">here</a>, or try Access Rules. Other possible scenarios include:</p>\n\n<ul>\n<li>Eclipse wants to keep you from using available packages that are not part of the public Java API (solution <a href=\"https://stackoverflow.com/a/10642163/1933494\">1</a>, <a href=\"https://stackoverflow.com/a/14646810/1933494\">2</a>)</li>\n<li>Dependencies are satisfied by multiple sources, versions are conflicting etc. (solution <a href=\"https://stackoverflow.com/a/2174607/1933494\">1</a>, <a href=\"https://stackoverflow.com/a/1090024/1933494\">2</a>, <a href=\"https://stackoverflow.com/a/15746118/1933494\">3</a>)</li>\n<li>Eclipse is using a JRE where a JDK is necessary (which might be the case here, from what your errors say; <a href=\"https://stackoverflow.com/a/20197999/1933494\">solution</a>) or JRE/JDK version in project build path is not the right one </li>\n</ul>\n\n<p>This ended up as more like a medley of restriction-related issues than an actual answer. But since <em>restriction on required projects</em> is such a versatile error to be reported, the perfect recipe is probably still to be found.</p>\n"},{"tags":[],"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1700845049,"creation_date":1423085970,"answer_id":28331980,"question_id":25222811,"body_markdown":"I was having the same problem.  When I initially created the java project in Eclipse I specified JRE 8.  When I went into the project&#39;s build path and edited the JRE System Library, the Java 8 execution environment was selected.  When I chose to use an &quot;Alternate JRE&quot; (still java 8) it fixed the error for me.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I was having the same problem.  When I initially created the java project in Eclipse I specified JRE 8.  When I went into the project's build path and edited the JRE System Library, the Java 8 execution environment was selected.  When I chose to use an &quot;Alternate JRE&quot; (still java 8) it fixed the error for me.</p>\n"},{"tags":[],"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"down_vote_count":1,"up_vote_count":315,"is_accepted":false,"score":314,"last_activity_date":1523355774,"creation_date":1427632920,"answer_id":29329228,"question_id":25222811,"body_markdown":"This happened to me as well, and the answers given here already were not satisfying, so I did my own research.\r\n\r\n# Background: Eclipse *access restrictions*\r\nEclipse has a mechanism called *access restrictions* to prevent you from accidentally using classes which Eclipse thinks are not part of the public API. Usually, Eclipse is right about that, in both senses: We usually do not want to use something which is not part of the public API. And Eclipse is usually right about what is and what isn&#39;t part of the public API.\r\n\r\n# Problem\r\nNow, there can be situations, where you want to use public Non-API, like `sun.misc` (you shouldn&#39;t, unless you know what you&#39;re doing). And there can be situations, where Eclipse is not really right (that&#39;s what happened to me, I just wanted to use `javax.smartcardio`). In that case, we get this error in Eclipse.\r\n\r\n# Solution\r\nThe solution is to change the access restrictions. \r\n\r\n - Go to the properties of your Java project,   \r\n  - i.e. by selecting &quot;Properties&quot; from the context menu of the project in the &quot;Package Explorer&quot;. \r\n - Go to &quot;Java Build Path&quot;, tab &quot;Libraries&quot;. \r\n - Expand the library entry\r\n - select \r\n  - &quot;Access rules&quot;, \r\n  - &quot;Edit...&quot; and \r\n  - &quot;Add...&quot; a &quot;Resolution: Accessible&quot; with a corresponding rule pattern. \r\nFor me that was &quot;`javax/smartcardio/**`&quot;, for you it might instead be &quot;`com/apple/eawt/**`&quot;.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>This happened to me as well, and the answers given here already were not satisfying, so I did my own research.</p>\n\n<h1>Background: Eclipse <em>access restrictions</em></h1>\n\n<p>Eclipse has a mechanism called <em>access restrictions</em> to prevent you from accidentally using classes which Eclipse thinks are not part of the public API. Usually, Eclipse is right about that, in both senses: We usually do not want to use something which is not part of the public API. And Eclipse is usually right about what is and what isn't part of the public API.</p>\n\n<h1>Problem</h1>\n\n<p>Now, there can be situations, where you want to use public Non-API, like <code>sun.misc</code> (you shouldn't, unless you know what you're doing). And there can be situations, where Eclipse is not really right (that's what happened to me, I just wanted to use <code>javax.smartcardio</code>). In that case, we get this error in Eclipse.</p>\n\n<h1>Solution</h1>\n\n<p>The solution is to change the access restrictions. </p>\n\n<ul>\n<li>Go to the properties of your Java project,   \n\n<ul>\n<li>i.e. by selecting \"Properties\" from the context menu of the project in the \"Package Explorer\". </li>\n</ul></li>\n<li>Go to \"Java Build Path\", tab \"Libraries\". </li>\n<li>Expand the library entry</li>\n<li>select \n\n<ul>\n<li>\"Access rules\", </li>\n<li>\"Edit...\" and </li>\n<li>\"Add...\" a \"Resolution: Accessible\" with a corresponding rule pattern. \nFor me that was \"<code>javax/smartcardio/**</code>\", for you it might instead be \"<code>com/apple/eawt/**</code>\".</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6117066,"reputation":181,"user_id":4771733,"display_name":"Kiriya Keat"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1428629338,"creation_date":1428629338,"answer_id":29551851,"question_id":25222811,"body_markdown":"I had this problem because the project facet associated with my project was the wrong java version.\r\n\r\nTo fix this is I did the following:\r\n\r\n1. Right click on the project and select Properties\r\n2. Select &#39;Project Facets&#39; and change version of java to something greater than 1.4.\r\n3. Click [Apply] \r\n\r\nThis will rebuild your project and hopefully the error will be resolved.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I had this problem because the project facet associated with my project was the wrong java version.</p>\n\n<p>To fix this is I did the following:</p>\n\n<ol>\n<li>Right click on the project and select Properties</li>\n<li>Select 'Project Facets' and change version of java to something greater than 1.4.</li>\n<li>Click [Apply] </li>\n</ol>\n\n<p>This will rebuild your project and hopefully the error will be resolved.</p>\n"},{"tags":[],"owner":{"account_id":4389626,"reputation":749,"user_id":3578493,"display_name":"Vee"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1433854303,"creation_date":1433854303,"answer_id":30732564,"question_id":25222811,"body_markdown":"**If you&#39;re having this same issue using Spring Tool Suite:**\r\n\r\nThe Spring Tool Suite&#39;s underlying IDE is, in fact, Eclipse. I&#39;ve gotten this error just now trying to use some `com.sun.net` classes. To remove these errors and prevent them from popping up in the Eclipse Luna SR1 (4.4.2) platform of STS: \r\n\r\n- Navigate to Project &gt; Properties  \r\n- Expand the Java Compiler heading\r\n- Click on Errors/Warnings \r\n- Expand deprecated and restricted API\r\n- Next to &quot;Forbidden reference (access rules)&quot; select &quot;ignore&quot; \r\n- Next to &quot;Discouraged reference (access rules)&quot; select &quot;ignore&quot; \r\n\r\nYou&#39;re good to go.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p><strong>If you're having this same issue using Spring Tool Suite:</strong></p>\n\n<p>The Spring Tool Suite's underlying IDE is, in fact, Eclipse. I've gotten this error just now trying to use some <code>com.sun.net</code> classes. To remove these errors and prevent them from popping up in the Eclipse Luna SR1 (4.4.2) platform of STS: </p>\n\n<ul>\n<li>Navigate to Project > Properties  </li>\n<li>Expand the Java Compiler heading</li>\n<li>Click on Errors/Warnings </li>\n<li>Expand deprecated and restricted API</li>\n<li>Next to \"Forbidden reference (access rules)\" select \"ignore\" </li>\n<li>Next to \"Discouraged reference (access rules)\" select \"ignore\" </li>\n</ul>\n\n<p>You're good to go.</p>\n"},{"tags":[],"owner":{"account_id":8398013,"reputation":300,"user_id":6304387,"display_name":"Kamila O"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1462989104,"creation_date":1462989104,"answer_id":37169990,"question_id":25222811,"body_markdown":"It worked: Project Properties -&gt; ProjectFacets -&gt; Runtimes -&gt; jdk1.8.0_45 -&gt; Apply","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>It worked: Project Properties -> ProjectFacets -> Runtimes -> jdk1.8.0_45 -> Apply</p>\n"},{"tags":[],"owner":{"account_id":9231150,"reputation":61,"user_id":6857171,"display_name":"cxj"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1474669299,"creation_date":1474444589,"answer_id":39610637,"question_id":25222811,"body_markdown":"Go to the following setting:\r\n\r\nWindow -&gt; Preferences -&gt; Java-Compiler-Errors/Warnings-Deprecated and restricted API-Forbidden reference (access rules)\r\n\r\nSet it to `Warning` or `Ignore`.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Go to the following setting:</p>\n\n<p>Window -> Preferences -> Java-Compiler-Errors/Warnings-Deprecated and restricted API-Forbidden reference (access rules)</p>\n\n<p>Set it to <code>Warning</code> or <code>Ignore</code>.</p>\n"},{"tags":[],"owner":{"account_id":9656763,"reputation":141,"user_id":7166059,"display_name":"Phil Long"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1479285162,"creation_date":1479281273,"answer_id":40626294,"question_id":25222811,"body_markdown":"In the Eclipse top menu bar:\r\n\r\n    Windows -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; \r\n    Deprecated and restricted API -&gt; Forbidden reference (access rules): -&gt; change to warning","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>In the Eclipse top menu bar:</p>\n\n<pre><code>Windows -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; \nDeprecated and restricted API -&gt; Forbidden reference (access rules): -&gt; change to warning\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9793244,"reputation":41,"user_id":7257163,"display_name":"Sven"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481122366,"creation_date":1481029173,"answer_id":40996017,"question_id":25222811,"body_markdown":"In Eclipse Mars.2 Release (4.5.2):  \r\n`Project Explorer -&gt; Context menu -&gt; Properties -&gt; JavaBuildPath -&gt; Libraries`  \r\nselect JRE... and press Edit: Switch to Workspace JRE (jdk1.8.0_77) \r\n\r\nWorks for me.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>In Eclipse Mars.2 Release (4.5.2):<br>\n<code>Project Explorer -&gt; Context menu -&gt; Properties -&gt; JavaBuildPath -&gt; Libraries</code><br>\nselect JRE... and press Edit: Switch to Workspace JRE (jdk1.8.0_77) </p>\n\n<p>Works for me.</p>\n"},{"tags":[],"owner":{"account_id":9949001,"reputation":43,"user_id":7362470,"display_name":"quasar-light"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484406287,"creation_date":1484406287,"answer_id":41651410,"question_id":25222811,"body_markdown":"I have eclipse JRE 8.112 , not sure if that matters but what i did was this:\r\n\r\n 1. Right clicked on my projects folder\r\n 2. went down to properties and clicked\r\n 3. clicked on the java build path folder\r\n 4. once inside, I was in the order and export\r\n 5. I checked the JRE System Library [jre1.8.0_112]\r\n 6. then moved it up above the one other JRE system library there (not sure if this mattered)\r\n 7. then pressed ok\r\n\r\nThis solved my problem. \r\n","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I have eclipse JRE 8.112 , not sure if that matters but what i did was this:</p>\n\n<ol>\n<li>Right clicked on my projects folder</li>\n<li>went down to properties and clicked</li>\n<li>clicked on the java build path folder</li>\n<li>once inside, I was in the order and export</li>\n<li>I checked the JRE System Library [jre1.8.0_112]</li>\n<li>then moved it up above the one other JRE system library there (not sure if this mattered)</li>\n<li>then pressed ok</li>\n</ol>\n\n<p>This solved my problem. </p>\n"},{"tags":[],"owner":{"account_id":4317684,"reputation":768,"user_id":3527008,"accept_rate":75,"display_name":"Nishant_Singh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492957218,"creation_date":1492957218,"answer_id":43572320,"question_id":25222811,"body_markdown":"Had the same problem. Here&#39;s how I solved it: \r\nGo to Package Explorer.  Right click on JRE System Library and go to Properties. In the Classpath Container &gt; Select JRE for the project build path select the third option (Workspace default JRE).\r\n\r\nSource :  https://thenewboston.com/forum/topic.php?id=3917","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Had the same problem. Here's how I solved it: \nGo to Package Explorer.  Right click on JRE System Library and go to Properties. In the Classpath Container > Select JRE for the project build path select the third option (Workspace default JRE).</p>\n\n<p>Source :  <a href=\"https://thenewboston.com/forum/topic.php?id=3917\" rel=\"noreferrer\">https://thenewboston.com/forum/topic.php?id=3917</a></p>\n"},{"tags":[],"owner":{"account_id":9228543,"reputation":87,"user_id":6855485,"accept_rate":88,"display_name":"jessie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494039724,"creation_date":1494039724,"answer_id":43816268,"question_id":25222811,"body_markdown":"I simply just add e(fx)clipse in eclipse marketplace. Easy and simple","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I simply just add e(fx)clipse in eclipse marketplace. Easy and simple</p>\n"},{"tags":[],"owner":{"account_id":9594001,"reputation":45,"user_id":7123801,"display_name":"Tony S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494192501,"creation_date":1494192501,"answer_id":43836904,"question_id":25222811,"body_markdown":"I&#39;m using eclipse neon 3. I just wanted to use javafx.application.Application, so I followed Christian Hujer&#39;s answer above and it worked. Just some tips: the access rules are very similar to the import statement. For me, the access rules I added was &quot;javafx/application/**&quot;. Just replace the dot in the import statement with forward slash and that&#39;s the rule. Hope that helps.","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I'm using eclipse neon 3. I just wanted to use javafx.application.Application, so I followed Christian Hujer's answer above and it worked. Just some tips: the access rules are very similar to the import statement. For me, the access rules I added was \"javafx/application/**\". Just replace the dot in the import statement with forward slash and that's the rule. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":3049721,"reputation":963,"user_id":2584579,"display_name":"vidyakumargv"},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1506870015,"creation_date":1506870015,"answer_id":46513651,"question_id":25222811,"body_markdown":"Adding **javafx** accessible permission in eclipse oxygen \r\ngo to project&gt; properties&gt; java build path&gt; libraries&gt; then expand the libraries and double click on&gt; Access rules there you set the permission \r\nResolution : Accessible\r\nRule Pattern : javafx/**\r\n\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rGWzT.png\r\n  [2]: https://i.stack.imgur.com/aL6sj.png\r\n  [3]: https://i.stack.imgur.com/UxJIH.png","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Adding <strong>javafx</strong> accessible permission in eclipse oxygen \ngo to project> properties> java build path> libraries> then expand the libraries and double click on> Access rules there you set the permission \nResolution : Accessible\nRule Pattern : javafx/**</p>\n\n<p><a href=\"https://i.stack.imgur.com/rGWzT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rGWzT.png\" alt=\"enter image description here\"></a>  </p>\n\n<p><a href=\"https://i.stack.imgur.com/aL6sj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aL6sj.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/UxJIH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UxJIH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5798932,"reputation":591,"user_id":4573820,"display_name":"Dinsdale"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1525735210,"creation_date":1525735210,"answer_id":50223720,"question_id":25222811,"body_markdown":"We had to change our application to build against the JDK 1.8 using *Window-&gt;Preferences-&gt;Java-&gt;Installed JREs*. However, after changing that, the JRE System Library specified in the Project Explorer was still incorrect. To fix this, right click on &quot;JRE System Library [wrong-jre-here]&quot; and change from Execution environment: to &quot;Workspace Default (yer-default-here)&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JkARy.png","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>We had to change our application to build against the JDK 1.8 using <em>Window->Preferences->Java->Installed JREs</em>. However, after changing that, the JRE System Library specified in the Project Explorer was still incorrect. To fix this, right click on \"JRE System Library [wrong-jre-here]\" and change from Execution environment: to \"Workspace Default (yer-default-here)\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/JkARy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JkARy.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1547480442,"creation_date":1547480442,"answer_id":54184608,"question_id":25222811,"body_markdown":"We use IBM Rational Application Developer (RAD) and had the same problem.\r\n\r\n**ErrorMessage:** \r\n\r\nAccess restriction: The type &#39;JAXWSProperties&#39; is not API (restriction on required library &#39;C:\\IBM\\RAD95\\jdk\\jre\\lib\\rt.jar&#39;)\r\n\r\n**Solution:**\r\n\r\ngo to java build path and under Library tab, remove JRE System Library. Then again Add Library --&gt; JRE System Library","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>We use IBM Rational Application Developer (RAD) and had the same problem.</p>\n\n<p><strong>ErrorMessage:</strong> </p>\n\n<p>Access restriction: The type 'JAXWSProperties' is not API (restriction on required library 'C:\\IBM\\RAD95\\jdk\\jre\\lib\\rt.jar')</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>go to java build path and under Library tab, remove JRE System Library. Then again Add Library --> JRE System Library</p>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555619433,"creation_date":1555619433,"answer_id":55753341,"question_id":25222811,"body_markdown":"I had a little different problem. In Project - Properties - Libraries - JRE library, I had the wrong JRE lib version. Remove and set the actual one, and voila - all `Access restriction...` warnings are away.\r\n\r\n","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I had a little different problem. In Project - Properties - Libraries - JRE library, I had the wrong JRE lib version. Remove and set the actual one, and voila - all <code>Access restriction...</code> warnings are away.</p>\n"},{"tags":[],"owner":{"account_id":2938197,"reputation":3163,"user_id":2516673,"accept_rate":60,"display_name":"Fappaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569032087,"creation_date":1569032087,"answer_id":58036771,"question_id":25222811,"body_markdown":"If someone is having this issue only in your CI tool while running maven, what did the trick for me was to explicitly define the execution environment in your `MANIFEST.MF`.\r\n\r\nIn my case, I did this by inserting the following line in my OSGi bundle manifest file:\r\n```\r\nBundle-RequiredExecutionEnvironment: JavaSE-1.8\r\n```","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>If someone is having this issue only in your CI tool while running maven, what did the trick for me was to explicitly define the execution environment in your <code>MANIFEST.MF</code>.</p>\n\n<p>In my case, I did this by inserting the following line in my OSGi bundle manifest file:</p>\n\n<pre><code>Bundle-RequiredExecutionEnvironment: JavaSE-1.8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1266294,"reputation":8027,"user_id":1223532,"accept_rate":67,"display_name":"MrSimpleMind"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587391103,"creation_date":1587391103,"answer_id":61324272,"question_id":25222811,"body_markdown":"Even if its old question, for me in Eclipse I just right click on **Src folder** and properties (Alt+Enter) and the check for the `Ignore optional compile problems` removed the error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PzsxJ.png","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Even if its old question, for me in Eclipse I just right click on <strong>Src folder</strong> and properties (Alt+Enter) and the check for the <code>Ignore optional compile problems</code> removed the error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PzsxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PzsxJ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601332683,"creation_date":1601332683,"answer_id":64110518,"question_id":25222811,"body_markdown":"**Remove Existing/Configured System Library:**\r\nEclipse(IDE) -&gt; Project Explorer -&gt; Project Name-&gt; (Option) Build Path -&gt; Configure Build Path -&gt; Java Build Path -&gt; Libraries -&gt; (Select) JRE System Library [(*For me*)jre1.8.0_231] -&gt; Remove.\r\n\r\n**Currently you are at same location:** \r\nEclipse(IDE) -&gt; Project Explorer -&gt; Project Name-&gt; (Option) Build Path -&gt; Configure Build Path -&gt; Java Build Path -&gt; Libraries\r\n\r\n**Now Add Same System Library Again:**\r\nAdd Library -&gt; JRE System Library -&gt; Workspace default JRE ((*For me*)jre1.8.0_231) -&gt; Finish -&gt; Apply -&gt; Close.\r\n\r\nNow wait to finish it.\r\n","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p><strong>Remove Existing/Configured System Library:</strong>\nEclipse(IDE) -&gt; Project Explorer -&gt; Project Name-&gt; (Option) Build Path -&gt; Configure Build Path -&gt; Java Build Path -&gt; Libraries -&gt; (Select) JRE System Library [(<em>For me</em>)jre1.8.0_231] -&gt; Remove.</p>\n<p><strong>Currently you are at same location:</strong>\nEclipse(IDE) -&gt; Project Explorer -&gt; Project Name-&gt; (Option) Build Path -&gt; Configure Build Path -&gt; Java Build Path -&gt; Libraries</p>\n<p><strong>Now Add Same System Library Again:</strong>\nAdd Library -&gt; JRE System Library -&gt; Workspace default JRE ((<em>For me</em>)jre1.8.0_231) -&gt; Finish -&gt; Apply -&gt; Close.</p>\n<p>Now wait to finish it.</p>\n"},{"tags":[],"owner":{"account_id":17049867,"reputation":2224,"user_id":12335762,"display_name":"Jasperan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629304036,"creation_date":1629304036,"answer_id":68836080,"question_id":25222811,"body_markdown":"What worked for me was adding the access restricted package to the MANIFEST.MF file. In Eclipse, the &quot;Access Restricted&quot; errors showed up in the Problems tab for several files. I just right clicked on each error, clicked &quot;Quick Fix&quot;, and chose &quot;Add &#39;[package]&#39; to imported packages&quot;.\r\n\r\n\r\n\r\n","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>What worked for me was adding the access restricted package to the MANIFEST.MF file. In Eclipse, the &quot;Access Restricted&quot; errors showed up in the Problems tab for several files. I just right clicked on each error, clicked &quot;Quick Fix&quot;, and chose &quot;Add '[package]' to imported packages&quot;.</p>\n"},{"tags":[],"owner":{"account_id":1765805,"reputation":5344,"user_id":1611714,"display_name":"Binita Bharati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648192520,"creation_date":1648192520,"answer_id":71613322,"question_id":25222811,"body_markdown":"I had faced the same error on Eclipse `4.20.0` with JRE 1.8. To get rid of this compilation error, do the following:\r\n\r\n    Project --&gt; Properties --&gt; Java Compiler --&gt; Errors/Warnings --&gt; Deprecated and Restricted API --&gt; Forbidden Reference (access rules) --&gt;  ignore","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>I had faced the same error on Eclipse <code>4.20.0</code> with JRE 1.8. To get rid of this compilation error, do the following:</p>\n<pre><code>Project --&gt; Properties --&gt; Java Compiler --&gt; Errors/Warnings --&gt; Deprecated and Restricted API --&gt; Forbidden Reference (access rules) --&gt;  ignore\n</code></pre>\n"}],"owner":{"account_id":4867489,"reputation":2121,"user_id":3925208,"accept_rate":75,"display_name":"www139"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333079,"favorite_count":0,"down_vote_count":0,"up_vote_count":207,"answer_count":22,"score":207,"last_activity_date":1700845049,"creation_date":1407616554,"question_id":25222811,"body_markdown":"Here is the code:\r\n\r\n    package mscontroller;\r\n    \r\n    import javax.swing.*;\r\n    import com.apple.eawt.Application;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args)\r\n        {\r\n        \tApplication app = new Application();\r\n        \tapp.setEnabledAboutMenu(true);\r\n    \t\r\n        \tAMEListener listener = new AMEListener();\r\n        \tapp.addApplicationListener(listener);\r\n        \tJFrame mainFrame = new JFrame(&quot;Application Menu Example&quot;);\r\n        \tmainFrame.setSize(500, 500);\r\n        \tmainFrame.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nhere is the error:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation\r\n    problems:  \tAccess restriction: The type &#39;Application&#39; is not API\r\n    (restriction on required library\r\n    &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)\r\n    \tAccess restriction: The constructor &#39;Application()&#39; is not API\r\n    (restriction on required library\r\n    &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)\r\n    \tAccess restriction: The type &#39;Application&#39; is not API (restriction on\r\n    required library\r\n    &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)\r\n    \tAccess restriction: The method\r\n    &#39;Application.setEnabledAboutMenu(boolean)&#39; is not API (restriction on\r\n    required library\r\n    &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)\r\n    \tAMEListener cannot be resolved to a type \tAMEListener cannot be\r\n    resolved to a type\r\n \r\n    \tat mscontroller.Main.main(Main.java:9)\r\n\r\n\r\neclipse says this:\r\n\r\n&gt; Access restriction: The type &#39;Application&#39; is not API (restriction on    required library &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar&#39;)","title":"Access restriction: The type &#39;Application&#39; is not API (restriction on required library rt.jar)","body":"<p>Here is the code:</p>\n\n<pre><code>package mscontroller;\n\nimport javax.swing.*;\nimport com.apple.eawt.Application;\n\npublic class Main {\n    public static void main(String[] args)\n    {\n        Application app = new Application();\n        app.setEnabledAboutMenu(true);\n\n        AMEListener listener = new AMEListener();\n        app.addApplicationListener(listener);\n        JFrame mainFrame = new JFrame(\"Application Menu Example\");\n        mainFrame.setSize(500, 500);\n        mainFrame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>here is the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" java.lang.Error: Unresolved compilation\nproblems:   Access restriction: The type 'Application' is not API\n(restriction on required library\n'/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')\n    Access restriction: The constructor 'Application()' is not API\n(restriction on required library\n'/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')\n    Access restriction: The type 'Application' is not API (restriction on\nrequired library\n'/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')\n    Access restriction: The method\n'Application.setEnabledAboutMenu(boolean)' is not API (restriction on\nrequired library\n'/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')\n    AMEListener cannot be resolved to a type    AMEListener cannot be\nresolved to a type\n\n    at mscontroller.Main.main(Main.java:9)\n</code></pre>\n\n<p>eclipse says this:</p>\n\n<blockquote>\n  <p>Access restriction: The type 'Application' is not API (restriction on    required library '/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/jre/lib/rt.jar')</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1700818047,"post_id":77542032,"comment_id":136702226,"body_markdown":"What version of Java are you using?","body":"What version of Java are you using?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1700818647,"post_id":77542032,"comment_id":136702341,"body_markdown":"`Optional.stream()` was added in java 9, are you using 8? But the more glaring problem is  `.flatMap(a -&gt; a)` - the mapper function should return `LongStream`, while your returns `long`, this won&#39;t compile regardless of the java version.","body":"<code>Optional.stream()</code> was added in java 9, are you using 8? But the more glaring problem is  <code>.flatMap(a -&gt; a)</code> - the mapper function should return <code>LongStream</code>, while your returns <code>long</code>, this won&#39;t compile regardless of the java version."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700819077,"creation_date":1700819077,"answer_id":77542148,"question_id":77542032,"body_markdown":"[`OptionalDouble.stream`][1] has existed ever since Java 9. You should check your Java version.\r\n\r\nIf you are unable to use a newer version of Java for some reason, you can implement `stream` yourself as a static helper method. What it does is very simple.\r\n\r\n    public static DoubleStream streamOfOptional(OptionalDouble d) {\r\n        return d.isEmpty() ? DoubleStream.empty() : DoubleStream.of(d.getAsDouble());\r\n    }\r\n\r\n```\r\nreturn streamOfOptional(\r\n        IntStream.of(1,2,3,4,5,6)\r\n            .average()\r\n        )\r\n        .mapToLong(Math::round)\r\n        .mapToInt(i -&gt; (int) i)\r\n        .findFirst()\r\n        .orElse(-1);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/util/OptionalDouble.html#stream--","title":"Cannot Stream average() undefined for OptionalDouble","body":"<p><a href=\"https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/util/OptionalDouble.html#stream--\" rel=\"nofollow noreferrer\"><code>OptionalDouble.stream</code></a> has existed ever since Java 9. You should check your Java version.</p>\n<p>If you are unable to use a newer version of Java for some reason, you can implement <code>stream</code> yourself as a static helper method. What it does is very simple.</p>\n<pre><code>public static DoubleStream streamOfOptional(OptionalDouble d) {\n    return d.isEmpty() ? DoubleStream.empty() : DoubleStream.of(d.getAsDouble());\n}\n</code></pre>\n<pre><code>return streamOfOptional(\n        IntStream.of(1,2,3,4,5,6)\n            .average()\n        )\n        .mapToLong(Math::round)\n        .mapToInt(i -&gt; (int) i)\n        .findFirst()\n        .orElse(-1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700843045,"creation_date":1700840493,"answer_id":77544284,"question_id":77542032,"body_markdown":"If you don&#39;t really want the `Optional`, with Java 8+ you can achieve the same using [Collectors.summarizingInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#summarizingInt(java.util.function.ToIntFunction))  which will return an instance of the [IntSummaryStatistics](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/IntSummaryStatistics.html) class.  The `getAverage()` method will return a value  of `0.0` if no elements were present in the stream.\r\n\r\n- Using [collectingAndThen](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)),\r\n  - first compute the statistics.\r\n  - then apply your rounding and conversion methods and return the result.\r\n```\r\nreturn IntStream.of(1,2,3,4,5,6).boxed().collect(\r\n                Collectors.collectingAndThen(\r\n                   Collectors.summarizingInt(Integer::intValue),\r\n                   iss-&gt;(int)(Math.round(iss.getAverage()))));\r\n```\r\nAnother alternative would be to use [Collectors.averagingInt()](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#averagingInt(java.util.function.ToIntFunction)). Here I am using Stream since the values need to be boxed anyway to be collected.\r\n```\r\nreturn Stream.&lt;Integer&gt;of(1,2,3,4,5,6).collect(\r\n        Collectors.collectingAndThen(\r\n           Collectors.averagingInt(a-&gt;a),\r\n           avg-&gt;(int)Math.round(avg)));\r\n\r\n```\r\nIn both cases above, the `average` is computed as a `double` and `Math.round` returns a `long`.  So all that is necessary is to cast to an `int`.\r\n\r\nOne final note.  With `Stream.of` I typed witnessed the stream to `Integer` in case no value was provided so it would compile and return `0.0` average.  With `IntStream`, the type is declared so no witnessing was needed.  Whether this makes a difference depends on your use case.","title":"Cannot Stream average() undefined for OptionalDouble","body":"<p>If you don't really want the <code>Optional</code>, with Java 8+ you can achieve the same using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#summarizingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\">Collectors.summarizingInt</a>  which will return an instance of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/IntSummaryStatistics.html\" rel=\"nofollow noreferrer\">IntSummaryStatistics</a> class.  The <code>getAverage()</code> method will return a value  of <code>0.0</code> if no elements were present in the stream.</p>\n<ul>\n<li>Using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\">collectingAndThen</a>,\n<ul>\n<li>first compute the statistics.</li>\n<li>then apply your rounding and conversion methods and return the result.</li>\n</ul>\n</li>\n</ul>\n<pre><code>return IntStream.of(1,2,3,4,5,6).boxed().collect(\n                Collectors.collectingAndThen(\n                   Collectors.summarizingInt(Integer::intValue),\n                   iss-&gt;(int)(Math.round(iss.getAverage()))));\n</code></pre>\n<p>Another alternative would be to use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#averagingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\">Collectors.averagingInt()</a>. Here I am using Stream since the values need to be boxed anyway to be collected.</p>\n<pre><code>return Stream.&lt;Integer&gt;of(1,2,3,4,5,6).collect(\n        Collectors.collectingAndThen(\n           Collectors.averagingInt(a-&gt;a),\n           avg-&gt;(int)Math.round(avg)));\n\n</code></pre>\n<p>In both cases above, the <code>average</code> is computed as a <code>double</code> and <code>Math.round</code> returns a <code>long</code>.  So all that is necessary is to cast to an <code>int</code>.</p>\n<p>One final note.  With <code>Stream.of</code> I typed witnessed the stream to <code>Integer</code> in case no value was provided so it would compile and return <code>0.0</code> average.  With <code>IntStream</code>, the type is declared so no witnessing was needed.  Whether this makes a difference depends on your use case.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700844952,"creation_date":1700844952,"answer_id":77544648,"question_id":77542032,"body_markdown":"Considering an _[arithmetic mean](https://en.wikipedia.org/wiki/Arithmetic_mean)_ may be fractional, use a _[DoubleStream](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/DoubleStream.html)_.\r\n\r\n```java\r\ndouble average\r\n    = Math.round(DoubleStream.of(1, 2, 3, 4, 5)\r\n                             .average()\r\n                             .getAsDouble());\r\n```","title":"Cannot Stream average() undefined for OptionalDouble","body":"<p>Considering an <em><a href=\"https://en.wikipedia.org/wiki/Arithmetic_mean\" rel=\"nofollow noreferrer\">arithmetic mean</a></em> may be fractional, use a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/DoubleStream.html\" rel=\"nofollow noreferrer\">DoubleStream</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double average\n    = Math.round(DoubleStream.of(1, 2, 3, 4, 5)\n                             .average()\n                             .getAsDouble());\n</code></pre>\n"}],"owner":{"account_id":16304270,"reputation":159,"user_id":11774608,"display_name":"nvn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77542148,"answer_count":3,"score":0,"last_activity_date":1700844952,"creation_date":1700817913,"question_id":77542032,"body_markdown":"I&#39;m using this code but eclipse shows an error saying \r\n[stream() is undefined for the type OptionalDouble](https://stackoverflow.com/questions/56826671/how-to-get-an-average-of-type-int-from-a-stream-of-int)\r\nThe error shown by eclipse is \r\n\r\n - The method stream() is undefined for the type OptionalDouble .\r\n\r\nMy code is something like this\r\n\r\n```\r\n\t\t\r\n\t    return IntStream.of(1,2,3,4,5,6)\r\n\t    \t\t.asLongStream()\r\n\t            .flatMap(a -&gt; a)\r\n\t            .average()\r\n\t            .stream()\r\n\t            .mapToLong(Math::round)\r\n\t            .mapToInt(i -&gt; (int) i)\r\n\t            .findFirst()\r\n\t            .orElse(-1);\r\n```\r\n\r\nI tried average().getasDouble() but that also didn&#39;t work. How do i fix the code ? \r\nI can do one thing Double d=average().getasDouble() then apply Math.round(d) seperately.\r\n\r\nIs it possible to fix the code after average().stream() in functional way without error ?\r\nWhen average() return OptionalDouble and that can&#39;t be streamed by stream() , how do you go about it ?\r\n","title":"Cannot Stream average() undefined for OptionalDouble","body":"<p>I'm using this code but eclipse shows an error saying\n<a href=\"https://stackoverflow.com/questions/56826671/how-to-get-an-average-of-type-int-from-a-stream-of-int\">stream() is undefined for the type OptionalDouble</a>\nThe error shown by eclipse is</p>\n<ul>\n<li>The method stream() is undefined for the type OptionalDouble .</li>\n</ul>\n<p>My code is something like this</p>\n<pre><code>        \n        return IntStream.of(1,2,3,4,5,6)\n                .asLongStream()\n                .flatMap(a -&gt; a)\n                .average()\n                .stream()\n                .mapToLong(Math::round)\n                .mapToInt(i -&gt; (int) i)\n                .findFirst()\n                .orElse(-1);\n</code></pre>\n<p>I tried average().getasDouble() but that also didn't work. How do i fix the code ?\nI can do one thing Double d=average().getasDouble() then apply Math.round(d) seperately.</p>\n<p>Is it possible to fix the code after average().stream() in functional way without error ?\nWhen average() return OptionalDouble and that can't be streamed by stream() , how do you go about it ?</p>\n"},{"tags":["java","macos","save","pycharm"],"comments":[{"owner":{"account_id":1303114,"reputation":15287,"user_id":1252647,"accept_rate":76,"display_name":"Noel Llevares"},"score":0,"creation_date":1464695461,"post_id":37511590,"comment_id":62578472,"body_markdown":"I have the same problem. Somehow I found that the error disappears when I delete the `.idea` directory. But after a while of using it again, the error comes back.","body":"I have the same problem. Somehow I found that the error disappears when I delete the <code>.idea</code> directory. But after a while of using it again, the error comes back."},{"owner":{"account_id":2258112,"reputation":1607,"user_id":1988837,"display_name":"ramsey0"},"score":0,"creation_date":1464804948,"post_id":37511590,"comment_id":62639102,"body_markdown":"Could it be a permissions problem on the `.idea` directory?","body":"Could it be a permissions problem on the <code>.idea</code> directory?"},{"owner":{"account_id":136325,"reputation":341,"user_id":2077885,"display_name":"knowuh"},"score":0,"creation_date":1465220549,"post_id":37511590,"comment_id":62796645,"body_markdown":"I get this same error with WebStorm. (stack trace has the `java.lang.StringIndexOutOfBoundsException: String index out of range: 0`  -- changing permissions on .idea dir doesn&#39;t help me.","body":"I get this same error with WebStorm. (stack trace has the <code>java.lang.StringIndexOutOfBoundsException: String index out of range: 0</code>  -- changing permissions on .idea dir doesn&#39;t help me."}],"answers":[{"tags":[],"owner":{"account_id":158604,"reputation":7426,"user_id":377366,"accept_rate":94,"display_name":"KobeJohn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465183987,"creation_date":1465183987,"answer_id":37649175,"question_id":37511590,"body_markdown":"Since you are using the community edition, my answer almost certainly does not apply to you but it might help others arriving here with the same error.\r\n\r\nIn my case, there was some problem with the nfs share I use to synchronize between the remote server and my local setup. File and directory permissions on the remote server were all fine. After a `umount &lt;my_nfs_dir&gt;` and remount, PyCharm was able to save settings and stopped complaining.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>Since you are using the community edition, my answer almost certainly does not apply to you but it might help others arriving here with the same error.</p>\n\n<p>In my case, there was some problem with the nfs share I use to synchronize between the remote server and my local setup. File and directory permissions on the remote server were all fine. After a <code>umount &lt;my_nfs_dir&gt;</code> and remount, PyCharm was able to save settings and stopped complaining.</p>\n"},{"tags":[],"owner":{"account_id":2792525,"reputation":958,"user_id":2402482,"accept_rate":67,"display_name":"Troy Wray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469358346,"creation_date":1469358346,"answer_id":38551351,"question_id":37511590,"body_markdown":"I get the error on a project that I placed on a Google Drive sync&#39;d folder. I turn Google Drive off and the issue goes away. The issue was with the .ideas folder.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I get the error on a project that I placed on a Google Drive sync'd folder. I turn Google Drive off and the issue goes away. The issue was with the .ideas folder.</p>\n"},{"tags":[],"owner":{"account_id":7151942,"reputation":969,"user_id":5465647,"display_name":"Kapil Marwaha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480588928,"creation_date":1480588928,"answer_id":40908490,"question_id":37511590,"body_markdown":"Make sure you are running &#39;Pycharm.exe&#39; as Administrator. \r\n\r\n&#39;Run As Administrator&#39; for all Users solves this problem in Windows OS.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>Make sure you are running 'Pycharm.exe' as Administrator. </p>\n\n<p>'Run As Administrator' for all Users solves this problem in Windows OS.</p>\n"},{"tags":[],"owner":{"account_id":371168,"reputation":141,"user_id":719542,"display_name":"Duke Robillard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504739298,"creation_date":1504182842,"answer_id":45981575,"question_id":37511590,"body_markdown":"In my case, this was indeed permissions on the .idea directory; it was owned by Administrator, and I wasn&#39;t running as Administrator.   I changed the owner of .idea via Windows Explorer and things were okay again.\r\n\r\nSo, what happened to break it?  I normally run as non-Administrator, because IT has Administrator half-locked down on our PCs.   If you run PyCharm (or any of the JetBrains stuff) as Administrator, it creates files as Administrator, and then you can&#39;t access the files in other tools (like the command line Subversion client, for example).\r\n\r\nHowever, I recently started using JetBrains Toolbox to upgrade the JetBrains apps.  If you start that App from Toolbox, it runs as Administrator, leaving you a bunch of files in your Workspace that you can&#39;t access as non-Administrator.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>In my case, this was indeed permissions on the .idea directory; it was owned by Administrator, and I wasn't running as Administrator.   I changed the owner of .idea via Windows Explorer and things were okay again.</p>\n\n<p>So, what happened to break it?  I normally run as non-Administrator, because IT has Administrator half-locked down on our PCs.   If you run PyCharm (or any of the JetBrains stuff) as Administrator, it creates files as Administrator, and then you can't access the files in other tools (like the command line Subversion client, for example).</p>\n\n<p>However, I recently started using JetBrains Toolbox to upgrade the JetBrains apps.  If you start that App from Toolbox, it runs as Administrator, leaving you a bunch of files in your Workspace that you can't access as non-Administrator.</p>\n"},{"tags":[],"owner":{"account_id":12675615,"reputation":1,"user_id":9211492,"display_name":"Avi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515819259,"creation_date":1515809572,"answer_id":48236351,"question_id":37511590,"body_markdown":"I had this problem on windows. it started when switching from 2016 to 2017.\r\nI fixed it with:\r\n\r\n`start -&gt; pycharm -&gt; right click -&gt; run as admin`\r\n\r\nIt did whatever it needed to do. Then I closed and relaunched (not as admin) and the error went away.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I had this problem on windows. it started when switching from 2016 to 2017.\nI fixed it with:</p>\n\n<p><code>start -&gt; pycharm -&gt; right click -&gt; run as admin</code></p>\n\n<p>It did whatever it needed to do. Then I closed and relaunched (not as admin) and the error went away.</p>\n"},{"tags":[],"owner":{"account_id":28189,"reputation":50507,"user_id":75033,"accept_rate":76,"display_name":"John Mee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540806217,"creation_date":1540806217,"answer_id":53042658,"question_id":37511590,"body_markdown":"It&#39;s having trouble saving, not the file, but it&#39;s own configuration to the `.idea` directory, usually in the same folder as the root of the project.  I&#39;m here because I&#39;ve restored a backup and the reinstalled pycharm isn&#39;t happy with it.  Although I lost the project settings (no big deal).  This fixed it.\r\n\r\nEg:\r\n\r\n    $ cd myproject\r\n    $ rm -rf .idea\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>It's having trouble saving, not the file, but it's own configuration to the <code>.idea</code> directory, usually in the same folder as the root of the project.  I'm here because I've restored a backup and the reinstalled pycharm isn't happy with it.  Although I lost the project settings (no big deal).  This fixed it.</p>\n\n<p>Eg:</p>\n\n<pre><code>$ cd myproject\n$ rm -rf .idea\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2004673,"reputation":1209,"user_id":1794890,"display_name":"Maziyar Mk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560121546,"creation_date":1560121546,"answer_id":56518993,"question_id":37511590,"body_markdown":"If you&#39;re on **Windows 10** and have **Windows Ransomware Protection** on (for the folder in which your project resides), go to:\r\n\r\n    Windows Security &gt; Virus &amp; threat protection &gt; Allow an app through Controller folder access\r\n\r\nAnd allow PyCharm executable to make changes to your files.\r\n\r\n----------\r\n\r\nIf you have any other type of anti-virus or software that limits access to files, you will want to add PyCharm to their exception lists as well.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>If you're on <strong>Windows 10</strong> and have <strong>Windows Ransomware Protection</strong> on (for the folder in which your project resides), go to:</p>\n\n<pre><code>Windows Security &gt; Virus &amp; threat protection &gt; Allow an app through Controller folder access\n</code></pre>\n\n<p>And allow PyCharm executable to make changes to your files.</p>\n\n<hr>\n\n<p>If you have any other type of anti-virus or software that limits access to files, you will want to add PyCharm to their exception lists as well.</p>\n"},{"tags":[],"owner":{"account_id":3042126,"reputation":604,"user_id":2578856,"display_name":"Eskignax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568256196,"creation_date":1568256196,"answer_id":57899032,"question_id":37511590,"body_markdown":"If it&#39;s not a permission issue, it can be the case that you don&#39;t have **free space** left anymore. So check the size of the hard drive where you pyCharm is.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>If it's not a permission issue, it can be the case that you don't have <strong>free space</strong> left anymore. So check the size of the hard drive where you pyCharm is.</p>\n"},{"tags":[],"owner":{"account_id":16736224,"reputation":1,"user_id":12097254,"display_name":"Carlos Quevedo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1569304941,"creation_date":1569008449,"answer_id":58034311,"question_id":37511590,"body_markdown":"I just change the owner to the project folder, now is working fine, I&#39;m using Ubuntu 19.04 and pycharm\r\n\r\n    chown -R username:root projectfolder/\r\n\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I just change the owner to the project folder, now is working fine, I'm using Ubuntu 19.04 and pycharm</p>\n\n<pre><code>chown -R username:root projectfolder/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18739106,"reputation":1,"user_id":13662730,"display_name":"Nixon Molina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591153626,"creation_date":1591070625,"answer_id":62144627,"question_id":37511590,"body_markdown":"I had the same problem but I solved it by running it as a super user,\r\nex. In Kali Linux I tried \r\n\r\n`sudo i` \r\n\r\nthen I enter the pass and then I run it like this \r\n\r\n    /Documents/pycharm-2020.1.1/bin# \r\n    ./pycharm.sh`\r\n\r\nI think pycharm need super user\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I had the same problem but I solved it by running it as a super user,\nex. In Kali Linux I tried </p>\n\n<p><code>sudo i</code> </p>\n\n<p>then I enter the pass and then I run it like this </p>\n\n<pre><code>/Documents/pycharm-2020.1.1/bin# \n./pycharm.sh`\n</code></pre>\n\n<p>I think pycharm need super user</p>\n"},{"tags":[],"owner":{"account_id":17982399,"reputation":5,"user_id":13068385,"display_name":"linesofcode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593057888,"creation_date":1593057888,"answer_id":62567692,"question_id":37511590,"body_markdown":"EventLog Notification Window(click the wrench icon) -&gt; \r\n&quot;Settings Error&quot;, choose &quot;no popup&quot;, uncheck &quot;log&quot;\r\nI tried above methods, none doesn&#39;t work except this ostrichish ignorance method.\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>EventLog Notification Window(click the wrench icon) -&gt;\n&quot;Settings Error&quot;, choose &quot;no popup&quot;, uncheck &quot;log&quot;\nI tried above methods, none doesn't work except this ostrichish ignorance method.</p>\n"},{"tags":[],"owner":{"account_id":4306772,"reputation":1035,"user_id":4328271,"display_name":"Abdul Hameed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605784999,"creation_date":1605784999,"answer_id":64910680,"question_id":37511590,"body_markdown":"I tried to fix the problem in Ubuntu as follows:\r\n\r\nFirst Step: Move to the directory location.\r\n\r\n&gt; cd PATH/OF/Directory\r\n\r\nSecond Step: Make project directory to be readable with permissions.\r\n\r\n    sudo chown -R 777 project\r\n    sudo chmod -R 777 project\r\n\r\n* Replace &#39;project&#39; directory with your directory/folder.\r\n\r\nBest Of Luck!\r\n\r\n","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I tried to fix the problem in Ubuntu as follows:</p>\n<p>First Step: Move to the directory location.</p>\n<blockquote>\n<p>cd PATH/OF/Directory</p>\n</blockquote>\n<p>Second Step: Make project directory to be readable with permissions.</p>\n<pre><code>sudo chown -R 777 project\nsudo chmod -R 777 project\n</code></pre>\n<ul>\n<li>Replace 'project' directory with your directory/folder.</li>\n</ul>\n<p>Best Of Luck!</p>\n"},{"tags":[],"owner":{"account_id":22515197,"reputation":9,"user_id":16709517,"display_name":"spacely3333"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700844478,"creation_date":1700844478,"answer_id":77544602,"question_id":37511590,"body_markdown":"I just rebooted. That solved it.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>I just rebooted. That solved it.</p>\n"}],"owner":{"account_id":2258112,"reputation":1607,"user_id":1988837,"display_name":"ramsey0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28453,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":13,"score":15,"last_activity_date":1700844478,"creation_date":1464535163,"question_id":37511590,"body_markdown":"PyCharm is trowing this exception when I save.\r\n\r\n    WARN - mponents.impl.stores.StoreUtil - Save settings failed\r\n    java.lang.StringIndexOutOfBoundsException: String index out of range: 0\r\n    \tat java.lang.String.charAt(String.java:658)\r\n    \tat com.intellij.configurationStore.ApplicationStorageManager.expandMacros(ApplicationStoreImpl.kt:108)\r\n    \tat com.intellij.configurationStore.StateStorageManagerImpl.createStateStorage(StateStorageManagerImpl.kt:194)\r\n    \tat com.intellij.configurationStore.StateStorageManagerImpl.getOrCreateStorage(StateStorageManagerImpl.kt:150)\r\n    \tat com.intellij.configurationStore.StateStorageManagerImpl.getStateStorage(StateStorageManagerImpl.kt:133)\r\n    \tat com.intellij.configurationStore.StateStorageManagerImpl$startExternalization$1.setState(StateStorageManagerImpl.kt:342)\r\n    \tat com.intellij.configurationStore.ComponentStoreImpl.commitComponent(ComponentStoreImpl.kt:199)\r\n    \tat com.intellij.configurationStore.ComponentStoreImpl.save(ComponentStoreImpl.kt:124)\r\n    \tat com.intellij.openapi.components.impl.stores.StoreUtil.save(StoreUtil.java:49)\r\n    \tat com.intellij.openapi.application.impl.ApplicationImpl.saveSettings(ApplicationImpl.java:1433)\r\n    \tat com.intellij.ide.SaveAndSyncHandlerImpl.doSaveDocumentsAndProjectsAndApp(SaveAndSyncHandlerImpl.java:150)\r\n    \tat com.intellij.ide.SaveAndSyncHandlerImpl.saveProjectsAndDocuments(SaveAndSyncHandlerImpl.java:134)\r\n    \tat com.intellij.ide.SaveAndSyncHandlerImpl$4.onFrameDeactivated(SaveAndSyncHandlerImpl.java:104)\r\n    \tat com.intellij.ide.FrameStateManagerImpl.fireDeactivationEvent(FrameStateManagerImpl.java:87)\r\n    \tat com.intellij.ide.FrameStateManagerImpl.access$500(FrameStateManagerImpl.java:32)\r\n    \tat com.intellij.ide.FrameStateManagerImpl$2$1.run(FrameStateManagerImpl.java:72)\r\n    \tat com.intellij.util.concurrency.QueueProcessor.runSafely(QueueProcessor.java:238)\r\n    \tat com.intellij.util.Alarm$Request$1.run(Alarm.java:352)\r\n    \tat com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:337)\r\n    \tat com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)\r\n    \tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)\r\n    \tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:726)\r\n    \tat com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:866)\r\n    \tat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:654)\r\n    \tat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:381)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n\r\nAnd giving me this error message.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0nMHg.png\r\n\r\nI don&#39;t think it&#39;s a problem of permissions on the `.idea` file or anything like that, but I&#39;m really not sure.\r\n\r\nI get some other errors and warnings in the stack trace, but this is the one that recurs when I try to save projects.\r\n\r\nThis problem persists when I run PyCharm CE with sudo like this\r\n`sudo -u [username] /Applications/PyCharm\\ CE.app/Contents/MacOS/pycharm`\r\n\r\nAnyone got any ideas?\r\n\r\nOS: MacOS El Capitan\r\nPycharm: PyCharm Community Edition 5.0.5\r\nJRE: 1.8.0_76-release-b162 x86_64\r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.","title":"PyCharm - Unable to save settings - Failed to save settings. Please restart PyCharm Community Edition","body":"<p>PyCharm is trowing this exception when I save.</p>\n\n<pre><code>WARN - mponents.impl.stores.StoreUtil - Save settings failed\njava.lang.StringIndexOutOfBoundsException: String index out of range: 0\n    at java.lang.String.charAt(String.java:658)\n    at com.intellij.configurationStore.ApplicationStorageManager.expandMacros(ApplicationStoreImpl.kt:108)\n    at com.intellij.configurationStore.StateStorageManagerImpl.createStateStorage(StateStorageManagerImpl.kt:194)\n    at com.intellij.configurationStore.StateStorageManagerImpl.getOrCreateStorage(StateStorageManagerImpl.kt:150)\n    at com.intellij.configurationStore.StateStorageManagerImpl.getStateStorage(StateStorageManagerImpl.kt:133)\n    at com.intellij.configurationStore.StateStorageManagerImpl$startExternalization$1.setState(StateStorageManagerImpl.kt:342)\n    at com.intellij.configurationStore.ComponentStoreImpl.commitComponent(ComponentStoreImpl.kt:199)\n    at com.intellij.configurationStore.ComponentStoreImpl.save(ComponentStoreImpl.kt:124)\n    at com.intellij.openapi.components.impl.stores.StoreUtil.save(StoreUtil.java:49)\n    at com.intellij.openapi.application.impl.ApplicationImpl.saveSettings(ApplicationImpl.java:1433)\n    at com.intellij.ide.SaveAndSyncHandlerImpl.doSaveDocumentsAndProjectsAndApp(SaveAndSyncHandlerImpl.java:150)\n    at com.intellij.ide.SaveAndSyncHandlerImpl.saveProjectsAndDocuments(SaveAndSyncHandlerImpl.java:134)\n    at com.intellij.ide.SaveAndSyncHandlerImpl$4.onFrameDeactivated(SaveAndSyncHandlerImpl.java:104)\n    at com.intellij.ide.FrameStateManagerImpl.fireDeactivationEvent(FrameStateManagerImpl.java:87)\n    at com.intellij.ide.FrameStateManagerImpl.access$500(FrameStateManagerImpl.java:32)\n    at com.intellij.ide.FrameStateManagerImpl$2$1.run(FrameStateManagerImpl.java:72)\n    at com.intellij.util.concurrency.QueueProcessor.runSafely(QueueProcessor.java:238)\n    at com.intellij.util.Alarm$Request$1.run(Alarm.java:352)\n    at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:337)\n    at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:726)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:866)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:654)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:381)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n\n<p>And giving me this error message.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0nMHg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0nMHg.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't think it's a problem of permissions on the <code>.idea</code> file or anything like that, but I'm really not sure.</p>\n\n<p>I get some other errors and warnings in the stack trace, but this is the one that recurs when I try to save projects.</p>\n\n<p>This problem persists when I run PyCharm CE with sudo like this\n<code>sudo -u [username] /Applications/PyCharm\\ CE.app/Contents/MacOS/pycharm</code></p>\n\n<p>Anyone got any ideas?</p>\n\n<p>OS: MacOS El Capitan\nPycharm: PyCharm Community Edition 5.0.5\nJRE: 1.8.0_76-release-b162 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.</p>\n"},{"tags":["java","apache-zookeeper","apache-curator"],"owner":{"account_id":24992835,"reputation":3,"user_id":20381955,"display_name":"Bohdan Hrytsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700844340,"creation_date":1700832998,"question_id":77543542,"body_markdown":"I am trying to create client for Apache Zookeeper server with Apache Curator.\r\n\r\nIdea:\r\nTo create client for some worker or job that will be running with some interval. For now I have 3 clients with this worker. Each class has isDefaultLeader field that means that this client must be a leader (if it&#39;s connected to Zoo server).\r\n\r\nIf so, then this client must be a leader otherwise leader must be selected automatically.\r\n\r\nSo if 2 client working with isDefaultLeader=false then leader must be selected automatically, if third leader join with isDefaultLeader=true then this one must become leader.\r\n\r\nI am going to launch several such clients for each specific task and I would not like all the tasks to be performed on one node and I need some kind of task distribution tool. I mean, if we first launch a set of different tasks on the first server, they will immediately become leaders, and when I launch the same tasks on another machine, they will already have a leader and will all be executed on 1 machine. So I need to distribute it somehow.\r\n\r\nSo this is the only thing that came to my mind, maybe you have some better ideas.\r\n\r\nHow I can implement this?\r\n\r\nThere is my test code:\r\n\r\n\r\n    package org.example;\r\n\r\n    import org.apache.curator.framework.CuratorFramework;\r\n    import org.apache.curator.framework.CuratorFrameworkFactory;\r\n    import org.apache.curator.framework.recipes.leader.LeaderSelector;\r\n    import org.apache.curator.framework.recipes.leader.LeaderSelectorListener;\r\n    import org.apache.curator.framework.state.ConnectionState;\r\n    import org.apache.curator.retry.ExponentialBackoffRetry;\r\n    \r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    public class DistributedProgram {\r\n    \r\n        private static final String ZOOKEEPER_CONNECTION_STRING = &quot;localhost:2181,localhost:2182,localhost:2183&quot;;\r\n        private static final String LEADER_PATH = &quot;/leader-election&quot;;\r\n        private static final String PROGRAM_INSTANCE_NAME = &quot;my-program-instance&quot;;\r\n        private static boolean isDefaultLeader = true;\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            final CuratorFramework client = CuratorFrameworkFactory.newClient(\r\n                    ZOOKEEPER_CONNECTION_STRING, new ExponentialBackoffRetry(1000, 3));\r\n            client.start();\r\n    \r\n            final CountDownLatch shutdownLatch = new CountDownLatch(1);\r\n    \r\n    \r\n            try {\r\n                final LeaderSelector leaderSelector  = new LeaderSelector(client, LEADER_PATH, new LeaderSelectorListener() {\r\n                    @Override\r\n                    public void takeLeadership(CuratorFramework curatorFramework) {\r\n                        System.out.println(&quot;I am the leader. Performing the work.&quot;);\r\n    \r\n                        try {\r\n                            while (!Thread.currentThread().isInterrupted()) {\r\n                                executeJob();\r\n                            }\r\n                        } finally {\r\n                            shutdownLatch.countDown();\r\n                        }\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void stateChanged(CuratorFramework curatorFramework, org.apache.curator.framework.state.ConnectionState connectionState)  {\r\n    \r\n                        if (connectionState == org.apache.curator.framework.state.ConnectionState.SUSPENDED\r\n                                || connectionState == org.apache.curator.framework.state.ConnectionState.LOST) {\r\n                            System.out.println(&quot;I am not the leader. Waiting...&quot;);\r\n                            // isLeader = false;\r\n                        } else if (connectionState == ConnectionState.CONNECTED) {\r\n                            System.out.println(&quot;NEW CONNECTION!!!&quot;);\r\n    \r\n    \r\n                        }\r\n                    }\r\n    \r\n                });\r\n    \r\n    \r\n                leaderSelector.setId(PROGRAM_INSTANCE_NAME);\r\n                leaderSelector.autoRequeue();\r\n    \r\n                if (isDefaultLeader) {\r\n                    leaderSelector.requeue();\r\n                }\r\n                leaderSelector.start();\r\n    \r\n    \r\n                shutdownLatch.await();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                client.close();\r\n            }\r\n        }\r\n    \r\n        private static void executeJob() {\r\n            try {\r\n                Thread.sleep(5000);\r\n    \r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;Executing the custom job as a leader.&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"How to specify default Leader for Apache Curator","body":"<p>I am trying to create client for Apache Zookeeper server with Apache Curator.</p>\n<p>Idea:\nTo create client for some worker or job that will be running with some interval. For now I have 3 clients with this worker. Each class has isDefaultLeader field that means that this client must be a leader (if it's connected to Zoo server).</p>\n<p>If so, then this client must be a leader otherwise leader must be selected automatically.</p>\n<p>So if 2 client working with isDefaultLeader=false then leader must be selected automatically, if third leader join with isDefaultLeader=true then this one must become leader.</p>\n<p>I am going to launch several such clients for each specific task and I would not like all the tasks to be performed on one node and I need some kind of task distribution tool. I mean, if we first launch a set of different tasks on the first server, they will immediately become leaders, and when I launch the same tasks on another machine, they will already have a leader and will all be executed on 1 machine. So I need to distribute it somehow.</p>\n<p>So this is the only thing that came to my mind, maybe you have some better ideas.</p>\n<p>How I can implement this?</p>\n<p>There is my test code:</p>\n<pre><code>package org.example;\n\nimport org.apache.curator.framework.CuratorFramework;\nimport org.apache.curator.framework.CuratorFrameworkFactory;\nimport org.apache.curator.framework.recipes.leader.LeaderSelector;\nimport org.apache.curator.framework.recipes.leader.LeaderSelectorListener;\nimport org.apache.curator.framework.state.ConnectionState;\nimport org.apache.curator.retry.ExponentialBackoffRetry;\n\nimport java.util.concurrent.CountDownLatch;\n\npublic class DistributedProgram {\n\n    private static final String ZOOKEEPER_CONNECTION_STRING = &quot;localhost:2181,localhost:2182,localhost:2183&quot;;\n    private static final String LEADER_PATH = &quot;/leader-election&quot;;\n    private static final String PROGRAM_INSTANCE_NAME = &quot;my-program-instance&quot;;\n    private static boolean isDefaultLeader = true;\n\n\n    public static void main(String[] args) {\n        final CuratorFramework client = CuratorFrameworkFactory.newClient(\n                ZOOKEEPER_CONNECTION_STRING, new ExponentialBackoffRetry(1000, 3));\n        client.start();\n\n        final CountDownLatch shutdownLatch = new CountDownLatch(1);\n\n\n        try {\n            final LeaderSelector leaderSelector  = new LeaderSelector(client, LEADER_PATH, new LeaderSelectorListener() {\n                @Override\n                public void takeLeadership(CuratorFramework curatorFramework) {\n                    System.out.println(&quot;I am the leader. Performing the work.&quot;);\n\n                    try {\n                        while (!Thread.currentThread().isInterrupted()) {\n                            executeJob();\n                        }\n                    } finally {\n                        shutdownLatch.countDown();\n                    }\n\n                }\n\n                @Override\n                public void stateChanged(CuratorFramework curatorFramework, org.apache.curator.framework.state.ConnectionState connectionState)  {\n\n                    if (connectionState == org.apache.curator.framework.state.ConnectionState.SUSPENDED\n                            || connectionState == org.apache.curator.framework.state.ConnectionState.LOST) {\n                        System.out.println(&quot;I am not the leader. Waiting...&quot;);\n                        // isLeader = false;\n                    } else if (connectionState == ConnectionState.CONNECTED) {\n                        System.out.println(&quot;NEW CONNECTION!!!&quot;);\n\n\n                    }\n                }\n\n            });\n\n\n            leaderSelector.setId(PROGRAM_INSTANCE_NAME);\n            leaderSelector.autoRequeue();\n\n            if (isDefaultLeader) {\n                leaderSelector.requeue();\n            }\n            leaderSelector.start();\n\n\n            shutdownLatch.await();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            client.close();\n        }\n    }\n\n    private static void executeJob() {\n        try {\n            Thread.sleep(5000);\n\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Executing the custom job as a leader.&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrenthashmap"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1553055678,"post_id":55253285,"comment_id":97239196,"body_markdown":"I don&#39;t have a source for this, but I do recall reading somewhere that it&#39;s basically a guesstimate from empirically observed runs. I&#39;m guessing they had a bunch of example use cases of CHM that they felt were a good representation of &quot;typical&quot; use, played around with some numbers, and found that 0.5 seems to work well.","body":"I don&#39;t have a source for this, but I do recall reading somewhere that it&#39;s basically a guesstimate from empirically observed runs. I&#39;m guessing they had a bunch of example use cases of CHM that they felt were a good representation of &quot;typical&quot; use, played around with some numbers, and found that 0.5 seems to work well."},{"owner":{"account_id":4533206,"reputation":541,"user_id":3683093,"accept_rate":80,"display_name":"Jason"},"score":0,"creation_date":1553600627,"post_id":55253285,"comment_id":97436168,"body_markdown":"@yshavit I think I got the reason: see my answer","body":"@yshavit I think I got the reason: see my answer"}],"answers":[{"tags":[],"owner":{"account_id":4533206,"reputation":541,"user_id":3683093,"accept_rate":80,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553600575,"creation_date":1553600575,"answer_id":55356320,"question_id":55253285,"body_markdown":"I think I got the reason for 0.5:\r\nthe max elements counts is `0.75 * bin[].length`, then the bin will be resized.\r\nSo assume the elements counts is: `0.5 * bin[].length`, then the average element counts per bin is 0.5.","title":"Why use 0.5 as the parameter of Poisson distribution in ConcurrentHashMap?","body":"<p>I think I got the reason for 0.5:\nthe max elements counts is <code>0.75 * bin[].length</code>, then the bin will be resized.\nSo assume the elements counts is: <code>0.5 * bin[].length</code>, then the average element counts per bin is 0.5.</p>\n"},{"tags":[],"owner":{"display_name":"user22979109"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700844296,"creation_date":1700844296,"answer_id":77544587,"question_id":55253285,"body_markdown":"it&#39;s because the average of 0.75 and 0.375(the loading rate after rehash) is 0.5625 which is approximately 0.5 it&#39;s not guesstimate","title":"Why use 0.5 as the parameter of Poisson distribution in ConcurrentHashMap?","body":"<p>it's because the average of 0.75 and 0.375(the loading rate after rehash) is 0.5625 which is approximately 0.5 it's not guesstimate</p>\n"}],"owner":{"account_id":4533206,"reputation":541,"user_id":3683093,"accept_rate":80,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1700844296,"creation_date":1553053708,"question_id":55253285,"body_markdown":"according the java doc in ConcurrentHashMap:  \r\n    \r\n     * Ideally, the frequency of nodes in bins follows a Poisson distribution\r\n     * (http://en.wikipedia.org/wiki/Poisson_distribution) with a\r\n     * parameter of about 0.5 on average, given the resizing threshold\r\n     * of 0.75, although with a large variance because of resizing\r\n     * granularity. Ignoring variance, the expected occurrences of\r\n     * list size k are (exp(-0.5) * pow(0.5, k) / factorial(k)). The\r\n     * first values are:\r\n\r\nQuestion is: How does the 0.5 parameter come?","title":"Why use 0.5 as the parameter of Poisson distribution in ConcurrentHashMap?","body":"<p>according the java doc in ConcurrentHashMap:  </p>\n\n<pre><code> * Ideally, the frequency of nodes in bins follows a Poisson distribution\n * (http://en.wikipedia.org/wiki/Poisson_distribution) with a\n * parameter of about 0.5 on average, given the resizing threshold\n * of 0.75, although with a large variance because of resizing\n * granularity. Ignoring variance, the expected occurrences of\n * list size k are (exp(-0.5) * pow(0.5, k) / factorial(k)). The\n * first values are:\n</code></pre>\n\n<p>Question is: How does the 0.5 parameter come?</p>\n"},{"tags":["java","hbase","hbasetestingutility"],"owner":{"account_id":29285360,"reputation":11,"user_id":22437092,"display_name":"DevF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700844277,"creation_date":1700844277,"question_id":77544583,"body_markdown":"We have a non-standard setup where we run our application with an HBaseTestingUtil during our integration tests, but we bring up the mini cluster in non-test code.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hbase-testing-util&lt;/artifactId&gt;\r\n    &lt;version&gt;${hbase.version}&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWe recently upgraded from HBase1.x where it worked to HBase2.x which it not stopped working and our service crashes with  \r\n`java.lang.NoClassDefFoundError: org/junit/Assert`\r\n\r\nPart of the stack trace:\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: org.junit.Assert\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387) ~[?:1.8.0_372]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[?:1.8.0_372]\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) ~[?:1.8.0_372]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[?:1.8.0_372]\r\n        at org.apache.hadoop.test.GenericTestUtils.assertExists(GenericTestUtils.java:290) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.test.GenericTestUtils.getTestDir(GenericTestUtils.java:234) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.test.GenericTestUtils.getTestDir(GenericTestUtils.java:243) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hdfs.MiniDFSCluster.getBaseDirectory(MiniDFSCluster.java:2915) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hdfs.MiniDFSCluster.determineDfsBaseDir(MiniDFSCluster.java:2905) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:847) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hdfs.MiniDFSCluster.&lt;init&gt;(MiniDFSCluster.java:810) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\r\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniDFSCluster(HBaseTestingUtility.java:671) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\r\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniDFSCluster(HBaseTestingUtility.java:643) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\r\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1096) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\r\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1071) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\r\n```\r\n\r\nThe above also provides some info as to the specific versions we use.  \r\nI tried adding (no scope, and also tried runtime scope):\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12&lt;/version&gt;  \r\n&lt;/dependency&gt;\r\n```\r\n\r\nDidn&#39;t work, so I assume the above code uses some test-specific classloader that doesnt contain all the classes from normal dependencies? Though not sure how thats possible.\r\n\r\nAlso tried the shaded version hoping it might pack junit in there, but didnt work.\r\n\r\nCan I get this to work somehow?","title":"Running HBaseTestingUtil in non-test code fail with ClassNotFoundException: org.junit.Assert","body":"<p>We have a non-standard setup where we run our application with an HBaseTestingUtil during our integration tests, but we bring up the mini cluster in non-test code.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n    &lt;artifactId&gt;hbase-testing-util&lt;/artifactId&gt;\n    &lt;version&gt;${hbase.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We recently upgraded from HBase1.x where it worked to HBase2.x which it not stopped working and our service crashes with<br />\n<code>java.lang.NoClassDefFoundError: org/junit/Assert</code></p>\n<p>Part of the stack trace:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.junit.Assert\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387) ~[?:1.8.0_372]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[?:1.8.0_372]\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) ~[?:1.8.0_372]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[?:1.8.0_372]\n        at org.apache.hadoop.test.GenericTestUtils.assertExists(GenericTestUtils.java:290) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.test.GenericTestUtils.getTestDir(GenericTestUtils.java:234) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.test.GenericTestUtils.getTestDir(GenericTestUtils.java:243) ~[hadoop-common-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hdfs.MiniDFSCluster.getBaseDirectory(MiniDFSCluster.java:2915) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hdfs.MiniDFSCluster.determineDfsBaseDir(MiniDFSCluster.java:2905) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:847) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hdfs.MiniDFSCluster.&lt;init&gt;(MiniDFSCluster.java:810) ~[hadoop-hdfs-3.1.1.7.1.6.0-297-tests.jar:?]\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniDFSCluster(HBaseTestingUtility.java:671) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniDFSCluster(HBaseTestingUtility.java:643) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1096) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\n        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1071) ~[hbase-server-2.2.3.7.1.6.0-297-tests.jar:2.2.3.7.1.6.0-297]\n</code></pre>\n<p>The above also provides some info as to the specific versions we use.<br />\nI tried adding (no scope, and also tried runtime scope):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.12&lt;/version&gt;  \n&lt;/dependency&gt;\n</code></pre>\n<p>Didn't work, so I assume the above code uses some test-specific classloader that doesnt contain all the classes from normal dependencies? Though not sure how thats possible.</p>\n<p>Also tried the shaded version hoping it might pack junit in there, but didnt work.</p>\n<p>Can I get this to work somehow?</p>\n"},{"tags":["java","gradle","character-encoding","javapackager"],"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1700822409,"post_id":77542312,"comment_id":136702977,"body_markdown":"&quot;It can not more read Cyrillic data files.&quot; How exactly? Is there an exception of some sort? In which way the problem manifests itself?","body":"&quot;It can not more read Cyrillic data files.&quot; How exactly? Is there an exception of some sort? In which way the problem manifests itself?"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700823305,"post_id":77542312,"comment_id":136703117,"body_markdown":"No, it opens the files and reads the strings. But the content is not readable. Only hieroglyphs","body":"No, it opens the files and reads the strings. But the content is not readable. Only hieroglyphs"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700824418,"post_id":77542312,"comment_id":136703295,"body_markdown":"*But when I export it - It can not more read Cyrillic data files.* The more important thing is *how (and where) it&#39;s run*. What&#39;s the answer to that?","body":"<i>But when I export it - It can not more read Cyrillic data files.</i> The more important thing is <i>how (and where) it&#39;s run</i>. What&#39;s the answer to that?"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1700824998,"post_id":77542312,"comment_id":136703369,"body_markdown":"What is the embedded JRE version? What is the encoding of the data files?","body":"What is the embedded JRE version? What is the encoding of the data files?"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700828723,"post_id":77542312,"comment_id":136703938,"body_markdown":"The files have UTF-8 encoding and working without problems inside the IDE. If I right understood it uses by default: liberica-17.0.6","body":"The files have UTF-8 encoding and working without problems inside the IDE. If I right understood it uses by default: liberica-17.0.6"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700828899,"post_id":77542312,"comment_id":136703970,"body_markdown":"@g00se I test on the same Windows PC. Inside the IDE it works perfect by after I create the executable package - it can not more read Cyrillic characters. What are you talking about when you says: how it run?","body":"@g00se I test on the same Windows PC. Inside the IDE it works perfect by after I create the executable package - it can not more read Cyrillic characters. What are you talking about when you says: how it run?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700829411,"post_id":77542312,"comment_id":136704059,"body_markdown":"*What are you talking about when you says: how it run?* I mean - is it a jar, .exe or what? If the former, how do you start it?","body":"<i>What are you talking about when you says: how it run?</i> I mean - is it a jar, .exe or what? If the former, how do you start it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700830444,"post_id":77542312,"comment_id":136704253,"body_markdown":"Also, is this text being displayed in a *windowed* or console fashion?","body":"Also, is this text being displayed in a <i>windowed</i> or console fashion?"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700832749,"post_id":77542312,"comment_id":136704634,"body_markdown":"@g00se It is .exe. I launch it using simple double click on Windows x64 machine. The JRE is integrated and lays in the same folder as the .EXE","body":"@g00se It is .exe. I launch it using simple double click on Windows x64 machine. The JRE is integrated and lays in the same folder as the .EXE"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700834604,"post_id":77542312,"comment_id":136704959,"body_markdown":"For example: I have created an another executable with the same Gradle-settings/script using my LibGDX game. I have not got any errors - everything is fine. But this game (created using Processing) can not determine Cyrillic characters after export. I have tried already the third packaging tool (launch4j, JPackage and JavaPackager). My text displayed on a window.","body":"For example: I have created an another executable with the same Gradle-settings/script using my LibGDX game. I have not got any errors - everything is fine. But this game (created using Processing) can not determine Cyrillic characters after export. I have tried already the third packaging tool (launch4j, JPackage and JavaPackager). My text displayed on a window."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700835424,"post_id":77542312,"comment_id":136705118,"body_markdown":"I&#39;m wondering if your wrapper is expecting embedded fonts that are missing (i.e. one(s) that will do Cyrillic)","body":"I&#39;m wondering if your wrapper is expecting embedded fonts that are missing (i.e. one(s) that will do Cyrillic)"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1700836529,"post_id":77542312,"comment_id":136705309,"body_markdown":"@g00se The hardcoded strings are shown normally. But the strings which were uploaded from an external file can not be right &quot;decoded&quot;.","body":"@g00se The hardcoded strings are shown normally. But the strings which were uploaded from an external file can not be right &quot;decoded&quot;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700840670,"post_id":77542312,"comment_id":136705957,"body_markdown":"OK. Moving theories ;) Here&#39;s the next one: the vm is getting invoked with the platform value of `file.encoding` which was somehow different in your IDE. If this theory is correct `echo &#39;System.getProperty(&quot;file.encoding&quot;);&#39; | jshell` would say something other than a Unicode encoding","body":"OK. Moving theories ;) Here&#39;s the next one: the vm is getting invoked with the platform value of <code>file.encoding</code> which was somehow different in your IDE. If this theory is correct <code>echo &#39;System.getProperty(&quot;file.encoding&quot;);&#39; | jshell</code> would say something other than a Unicode encoding"}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700844202,"creation_date":1700844202,"answer_id":77544575,"question_id":77542312,"body_markdown":"When reading your data files, make sure that you are specifying the encoding in which to read the files. If you use methods that could take an encoding but do not specify one, then up to Java 17 the system default encoding is used, which can be `UTF-8` but can also be something else. It might be the case that when launching through the IDE the system encoding is overwritten to be `UTF-8` and that it works due to that.","title":"When I export my Java game with embedded JRE the game can not more read Cyrillic strings from external files","body":"<p>When reading your data files, make sure that you are specifying the encoding in which to read the files. If you use methods that could take an encoding but do not specify one, then up to Java 17 the system default encoding is used, which can be <code>UTF-8</code> but can also be something else. It might be the case that when launching through the IDE the system encoding is overwritten to be <code>UTF-8</code> and that it works due to that.</p>\n"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77544575,"answer_count":1,"score":0,"last_activity_date":1700844202,"creation_date":1700820758,"question_id":77542312,"body_markdown":"I try to export my videogame as executable with an embedded Java.\r\nWhen I launch the videogame from the IDE (Intellij IDEa) it works normally with external Cyrillic text files. But when I export it - It can not more read Cyrillic data files.\r\n\r\nMy Gradle build script:\r\n\r\n    task packageMyApp(type: io.github.fvarrui.javapackager.gradle.PackageTask, dependsOn: build) {        \r\n        mainClass = mainClassName\r\n        bundleJre = true\r\n        generateInstaller = false\r\n        administratorRequired = false\r\n        platform = &quot;windows&quot;        \r\n    }\r\n\r\nWhat can be wrong? Should I manual change the JRE which will be integrated in the game build? \r\nI have also tried to use JPackage. After creation of the executable distribution I have the same trouble. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wCprG.png","title":"When I export my Java game with embedded JRE the game can not more read Cyrillic strings from external files","body":"<p>I try to export my videogame as executable with an embedded Java.\nWhen I launch the videogame from the IDE (Intellij IDEa) it works normally with external Cyrillic text files. But when I export it - It can not more read Cyrillic data files.</p>\n<p>My Gradle build script:</p>\n<pre><code>task packageMyApp(type: io.github.fvarrui.javapackager.gradle.PackageTask, dependsOn: build) {        \n    mainClass = mainClassName\n    bundleJre = true\n    generateInstaller = false\n    administratorRequired = false\n    platform = &quot;windows&quot;        \n}\n</code></pre>\n<p>What can be wrong? Should I manual change the JRE which will be integrated in the game build?\nI have also tried to use JPackage. After creation of the executable distribution I have the same trouble.\n<a href=\"https://i.stack.imgur.com/wCprG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wCprG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","maven-archetype"],"comments":[{"owner":{"account_id":84884,"reputation":12163,"user_id":237033,"display_name":"Sahil Muthoo"},"score":0,"creation_date":1314089660,"post_id":7158348,"comment_id":8588888,"body_markdown":"I recommend that you read the [Maven Getting Started Guide](http://maven.apache.org/guides/getting-started/index.html). It&#39;s short and covers a lot of ground.","body":"I recommend that you read the <a href=\"http://maven.apache.org/guides/getting-started/index.html\" rel=\"nofollow noreferrer\">Maven Getting Started Guide</a>. It&#39;s short and covers a lot of ground."}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1414405619,"creation_date":1314089367,"answer_id":7158395,"question_id":7158348,"body_markdown":"I think you should use `maven-archetype-simple`\r\n\r\n\r\nEDIT\r\n\r\nAccording to the maven [documentation][1]: \r\n\r\n - `maven-archetype-quickstart`\tAn archetype which contains a sample Maven project.\r\n - `maven-archetype-simple`\tAn archetype which contains a simple Maven project.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-archetypes.html","title":"What archetype to choose for a simple java project","body":"<p>I think you should use <code>maven-archetype-simple</code></p>\n\n<p>EDIT</p>\n\n<p>According to the maven <a href=\"http://maven.apache.org/guides/introduction/introduction-to-archetypes.html\" rel=\"noreferrer\">documentation</a>: </p>\n\n<ul>\n<li><code>maven-archetype-quickstart</code> An archetype which contains a sample Maven project.</li>\n<li><code>maven-archetype-simple</code> An archetype which contains a simple Maven project.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1314089452,"creation_date":1314089452,"answer_id":7158406,"question_id":7158348,"body_markdown":"I would start with a very simple pom.xml file which has only what you need. Something like\r\n\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-module&lt;/artifactId&gt;\r\n      &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/project&gt;\r\n\r\nfrom http://maven.apache.org/guides/introduction/introduction-to-the-pom.html\r\n","title":"What archetype to choose for a simple java project","body":"<p>I would start with a very simple pom.xml file which has only what you need. Something like</p>\n\n<pre><code>&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-module&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>from <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-pom.html\">http://maven.apache.org/guides/introduction/introduction-to-the-pom.html</a></p>\n"},{"tags":[],"owner":{"account_id":125813,"reputation":23095,"user_id":321862,"accept_rate":84,"display_name":"Oh Chin Boon"},"down_vote_count":3,"up_vote_count":21,"is_accepted":true,"score":18,"last_activity_date":1544220295,"creation_date":1314089653,"answer_id":7158441,"question_id":7158348,"body_markdown":"When you do a `mvn archetype:generate`, a default selection appears in enclosing curly brackets `()`, e.g. `(1274)`, if you scroll up to see what #1274 is, it is usually the default Java archetype to try out or start out with, if doing simple Java projects, so is safe to select.","title":"What archetype to choose for a simple java project","body":"<p>When you do a <code>mvn archetype:generate</code>, a default selection appears in enclosing curly brackets <code>()</code>, e.g. <code>(1274)</code>, if you scroll up to see what #1274 is, it is usually the default Java archetype to try out or start out with, if doing simple Java projects, so is safe to select.</p>\n"},{"tags":[],"owner":{"account_id":323312,"reputation":2396,"user_id":643245,"accept_rate":100,"display_name":"Oleksandr"},"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1421283388,"creation_date":1314092616,"answer_id":7159047,"question_id":7158348,"body_markdown":"I use two archetypes. It depends on what kind of application you will create. \r\n\r\nIf you want a web application, use [maven-archetype-webapp][1], or if you want a simple application use [maven-archetype-quickstart][2]. They are useful because you will be able to expand them with no problem.\r\n\r\n  [1]: http://maven.apache.org/archetype/maven-archetype-bundles/maven-archetype-webapp/\r\n  [2]: http://maven.apache.org/archetype/maven-archetype-bundles/maven-archetype-quickstart/","title":"What archetype to choose for a simple java project","body":"<p>I use two archetypes. It depends on what kind of application you will create. </p>\n\n<p>If you want a web application, use <a href=\"http://maven.apache.org/archetype/maven-archetype-bundles/maven-archetype-webapp/\">maven-archetype-webapp</a>, or if you want a simple application use <a href=\"http://maven.apache.org/archetype/maven-archetype-bundles/maven-archetype-quickstart/\">maven-archetype-quickstart</a>. They are useful because you will be able to expand them with no problem.</p>\n"},{"tags":[],"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1416683007,"creation_date":1416683007,"answer_id":27081285,"question_id":7158348,"body_markdown":"I&#39;m using command like below:\r\n\r\n    mvn archetype:generate -Dfilter=org.apache.maven.archetypes:\r\n\r\nI will get a **short list** of achetypes only from `org.apache.maven.archetypes` groupId. The good ones for starting is `maven-archetype-quickstart` and `maven-archetype-webapp` like my predecessors said.","title":"What archetype to choose for a simple java project","body":"<p>I'm using command like below:</p>\n\n<pre><code>mvn archetype:generate -Dfilter=org.apache.maven.archetypes:\n</code></pre>\n\n<p>I will get a <strong>short list</strong> of achetypes only from <code>org.apache.maven.archetypes</code> groupId. The good ones for starting is <code>maven-archetype-quickstart</code> and <code>maven-archetype-webapp</code> like my predecessors said.</p>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1500209124,"creation_date":1495530001,"answer_id":44130263,"question_id":7158348,"body_markdown":"&lt;h1&gt;Here&#39;s what you need&lt;/h1&gt;\r\n\r\n     mvn archetype:generate -DgroupId=com.example -DartifactId=foobar -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\r\n\r\n\r\nReference:\r\n[Build Run Java Maven Project Command Line](https://metamug.com/article/build-run-java-maven-project-command-line.php)\r\n\r\n\r\n","title":"What archetype to choose for a simple java project","body":"<h1>Here's what you need</h1>\n\n<pre><code> mvn archetype:generate -DgroupId=com.example -DartifactId=foobar -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\n</code></pre>\n\n<p>Reference:\n<a href=\"https://metamug.com/article/build-run-java-maven-project-command-line.php\" rel=\"noreferrer\">Build Run Java Maven Project Command Line</a></p>\n"},{"tags":[],"owner":{"account_id":10767333,"reputation":31,"user_id":7921862,"display_name":"Biswajit Sahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512141493,"creation_date":1509175558,"answer_id":46987316,"question_id":7158348,"body_markdown":"maven-archetype-quickstart An archetype which contains a sample Maven project.\nmaven-archetype-simple An archetype which contains a simple Maven project.\n\nif get errors \nfixed it by adding the maven archetype catalog to eclipse. Steps are provided below:\n\n&gt;Open Window &gt; Preferences&gt; Maven &gt; Archetypes\n&gt;\n&gt;Click `Add Remote Catalog` and add the following:\n&gt;\n&gt;Catalog File: http://repo1.maven.org/maven2/archetype-catalog.xml\n&gt;\n&gt;Description: maven catalog\n\nNOTE: INTERNET CONNECTION IS REQUIRED DURING CREATION OF YOUR FIRST MAVEN PROJECT.\n","title":"What archetype to choose for a simple java project","body":"<p>maven-archetype-quickstart An archetype which contains a sample Maven project.\nmaven-archetype-simple An archetype which contains a simple Maven project.</p>\n<p>if get errors\nfixed it by adding the maven archetype catalog to eclipse. Steps are provided below:</p>\n<blockquote>\n<p>Open Window &gt; Preferences&gt; Maven &gt; Archetypes</p>\n<p>Click <code>Add Remote Catalog</code> and add the following:</p>\n<p>Catalog File: <a href=\"http://repo1.maven.org/maven2/archetype-catalog.xml\" rel=\"nofollow noreferrer\">http://repo1.maven.org/maven2/archetype-catalog.xml</a></p>\n<p>Description: maven catalog</p>\n</blockquote>\n<p>NOTE: INTERNET CONNECTION IS REQUIRED DURING CREATION OF YOUR FIRST MAVEN PROJECT.</p>\n"},{"tags":[],"owner":{"account_id":10587144,"reputation":11,"user_id":7799088,"display_name":"Prateek Kushwaha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512556143,"creation_date":1512556143,"answer_id":47672043,"question_id":7158348,"body_markdown":"the default archetype number now is 1092\r\n1092: remote -&gt; org.apache.maven.archetypes:maven-archetype-quickstart (An archetype which contains a sample Maven project.)","title":"What archetype to choose for a simple java project","body":"<p>the default archetype number now is 1092\n1092: remote -> org.apache.maven.archetypes:maven-archetype-quickstart (An archetype which contains a sample Maven project.)</p>\n"},{"tags":[],"owner":{"account_id":4219924,"reputation":501,"user_id":3454944,"display_name":"Mois&#233;s"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521612814,"creation_date":1521612814,"answer_id":49399420,"question_id":7158348,"body_markdown":"You can use any of the basic ones from The Practical Developer:\r\n\r\n### Java 8 + commonly-used test libraries:\r\n\r\n    mvn archetype:generate -DgroupId=[your-project-groupId] -DartifactId=[your-project-name] -DarchetypeGroupId=com.thepracticaldeveloper -DarchetypeArtifactId=archetype-java-basic-tpd -DarchetypeVersion=1.0.0\r\n\r\n### Java 9 + commonly-used test libraries\r\n\r\n    mvn archetype:generate -DgroupId=[your-project-groupId] -DartifactId=[your-project-name] -DarchetypeGroupId=com.thepracticaldeveloper -DarchetypeArtifactId=archetype-java-basic-tpd -DarchetypeVersion=1.0.0 -Djava-version=9\r\n\r\nThey include JUnit 4, Mockito and AssertJ, and a default manifest file in case you want your jar file to be executable. More info: https://thepracticaldeveloper.com/archetypes/ \r\n\r\nDisclaimer: I&#39;m the author of that blog.","title":"What archetype to choose for a simple java project","body":"<p>You can use any of the basic ones from The Practical Developer:</p>\n\n<h3>Java 8 + commonly-used test libraries:</h3>\n\n<pre><code>mvn archetype:generate -DgroupId=[your-project-groupId] -DartifactId=[your-project-name] -DarchetypeGroupId=com.thepracticaldeveloper -DarchetypeArtifactId=archetype-java-basic-tpd -DarchetypeVersion=1.0.0\n</code></pre>\n\n<h3>Java 9 + commonly-used test libraries</h3>\n\n<pre><code>mvn archetype:generate -DgroupId=[your-project-groupId] -DartifactId=[your-project-name] -DarchetypeGroupId=com.thepracticaldeveloper -DarchetypeArtifactId=archetype-java-basic-tpd -DarchetypeVersion=1.0.0 -Djava-version=9\n</code></pre>\n\n<p>They include JUnit 4, Mockito and AssertJ, and a default manifest file in case you want your jar file to be executable. More info: <a href=\"https://thepracticaldeveloper.com/archetypes/\" rel=\"nofollow noreferrer\">https://thepracticaldeveloper.com/archetypes/</a> </p>\n\n<p>Disclaimer: I'm the author of that blog.</p>\n"},{"tags":[],"owner":{"account_id":459254,"reputation":986,"user_id":859604,"display_name":"Olivier Cailloux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598017487,"creation_date":1585939035,"answer_id":61018388,"question_id":7158348,"body_markdown":"You may want to consider [Java Archetype](https://github.com/oliviercailloux/Java-Archetype): it has reasonable defaults for quickly starting a Java project following best practices, including JUnit tests. I conceived it as a modern successor of `maven-archetype-quickstart`.\r\n\r\nExample: `mvn archetype:generate -DarchetypeGroupId=io.github.oliviercailloux -DarchetypeArtifactId=java-archetype -DgroupId=mygroupid -DartifactId=myartifactid -DinteractiveMode=false`.\r\n\r\n\r\nDisclaimer: I am the author.\r\n\r\nFor more information about alternatives, here is a part of [that projects README](https://github.com/oliviercailloux/Java-Archetype/blob/master/README.adoc#alternatives) (it provides more links than copied here).\r\n\r\n**The official quickstart archetype**\r\n\r\nThe official archetype (mentioned by Apaches Maven Getting Started Guide and by the Apache Maven Cookbook) for simple Java projects is maven-archetype-quickstart, or org.apache.maven.archetypes:maven-archetype-quickstart in full.\r\n\r\nIt should, IMHO, be considered deprecated, as it suffers several weaknesses.\r\n\r\n* An important problem is that it creates projects that depend on JUnit 4. The current version, JUnit 5, differs significantly, providing among other an improved API.\r\n* Minor weaknesses: its default version is 1.0-SNAPSHOT, which should be 1.0.0-SNAPSHOT to follow the recommended and usual scheme.\r\n* Another minor weakness: it creates projects configured for a 1.7 JVM. This may be appropriate if you particularly need to support old installs, but opting for a reasonably recent JVM is a more reasonable default rule for new projects. For example, Java 8 introduced lambda expressions, which you probably do not want to miss out.\r\n\r\nMy archetype also provides logging by default, which I think is useful, scales better than sysout and does not hurt, and Guava, which I think usefully enriches Java.\r\n\r\n**Other quickstart archetypes in Maven Central**\r\n\r\nIn order to join efforts if possible and avoid wasteful duplication, I actively searched for other archetypes that would have the same aim as mine: provide a simple archetype with reasonable defaults to easily start a modern Java project. (This was mostly done around June 2020.)\r\n\r\nA general search on the internet led me to The Practical Developer. When contacted, he wrote to me (by e-mail) that he does not work on his archetype regularly and therefore preferred to decline collaborating on such a project.\r\n\r\nAs searches on the net did not reveal other useful results, and as I found no specialised search tool suitable for my needs, I implemented a simple archetype browser. It lists all the archetypes available in Maven Central. There are far too many to review manually, thus, I selected those whose groupId and artifactId existed since at least three years and have been updated during the last year, in hope of finding projects that are maintained on the long run, which I suppose indicates more probably a good quality project. (Of course this filter may have missed good quality archetypes that perfectly match the stated goal; I have no way to know. As a case in point, this very archetype does not pass that filter as I have changed its artifactId over time.)\r\n\r\nI then filtered manually the resulting list on the basis of the archetypes descriptions found in their POM, and gave a further look (on the official website, typically) for a few promising archetypes among them. Only `com.github.ngeor:archetype-quickstart-jdk8` revealed to be a suitable candidate. But its author wrote to me that he is not really using/maintaing the archetype much these days.","title":"What archetype to choose for a simple java project","body":"<p>You may want to consider <a href=\"https://github.com/oliviercailloux/Java-Archetype\" rel=\"nofollow noreferrer\">Java Archetype</a>: it has reasonable defaults for quickly starting a Java project following best practices, including JUnit tests. I conceived it as a modern successor of <code>maven-archetype-quickstart</code>.</p>\n<p>Example: <code>mvn archetype:generate -DarchetypeGroupId=io.github.oliviercailloux -DarchetypeArtifactId=java-archetype -DgroupId=mygroupid -DartifactId=myartifactid -DinteractiveMode=false</code>.</p>\n<p>Disclaimer: I am the author.</p>\n<p>For more information about alternatives, here is a part of <a href=\"https://github.com/oliviercailloux/Java-Archetype/blob/master/README.adoc#alternatives\" rel=\"nofollow noreferrer\">that projects README</a> (it provides more links than copied here).</p>\n<p><strong>The official quickstart archetype</strong></p>\n<p>The official archetype (mentioned by Apaches Maven Getting Started Guide and by the Apache Maven Cookbook) for simple Java projects is maven-archetype-quickstart, or org.apache.maven.archetypes:maven-archetype-quickstart in full.</p>\n<p>It should, IMHO, be considered deprecated, as it suffers several weaknesses.</p>\n<ul>\n<li>An important problem is that it creates projects that depend on JUnit 4. The current version, JUnit 5, differs significantly, providing among other an improved API.</li>\n<li>Minor weaknesses: its default version is 1.0-SNAPSHOT, which should be 1.0.0-SNAPSHOT to follow the recommended and usual scheme.</li>\n<li>Another minor weakness: it creates projects configured for a 1.7 JVM. This may be appropriate if you particularly need to support old installs, but opting for a reasonably recent JVM is a more reasonable default rule for new projects. For example, Java 8 introduced lambda expressions, which you probably do not want to miss out.</li>\n</ul>\n<p>My archetype also provides logging by default, which I think is useful, scales better than sysout and does not hurt, and Guava, which I think usefully enriches Java.</p>\n<p><strong>Other quickstart archetypes in Maven Central</strong></p>\n<p>In order to join efforts if possible and avoid wasteful duplication, I actively searched for other archetypes that would have the same aim as mine: provide a simple archetype with reasonable defaults to easily start a modern Java project. (This was mostly done around June 2020.)</p>\n<p>A general search on the internet led me to The Practical Developer. When contacted, he wrote to me (by e-mail) that he does not work on his archetype regularly and therefore preferred to decline collaborating on such a project.</p>\n<p>As searches on the net did not reveal other useful results, and as I found no specialised search tool suitable for my needs, I implemented a simple archetype browser. It lists all the archetypes available in Maven Central. There are far too many to review manually, thus, I selected those whose groupId and artifactId existed since at least three years and have been updated during the last year, in hope of finding projects that are maintained on the long run, which I suppose indicates more probably a good quality project. (Of course this filter may have missed good quality archetypes that perfectly match the stated goal; I have no way to know. As a case in point, this very archetype does not pass that filter as I have changed its artifactId over time.)</p>\n<p>I then filtered manually the resulting list on the basis of the archetypes descriptions found in their POM, and gave a further look (on the official website, typically) for a few promising archetypes among them. Only <code>com.github.ngeor:archetype-quickstart-jdk8</code> revealed to be a suitable candidate. But its author wrote to me that he is not really using/maintaing the archetype much these days.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700844027,"creation_date":1688517397,"answer_id":76616459,"question_id":7158348,"body_markdown":"# Maven *Quickstart* Archetype\r\n\r\nAs others noted, the usual starting point for a simple Java app is the *QuickStart* archetype. \r\n\r\n - See [description][1]. \r\n - See [repository][2].\r\n\r\nProduces these folders and files:\r\n\r\n[![diagram of files and folders in a newly created project using QuickStart archetype][3]][3]\r\n\r\nFrom the command line in a console:\r\n\r\n```bash\r\nmvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4\r\n```\r\n\r\nNote there that 1.4 is the current version, as of 2023-07.\r\n\r\nIn the [*IntelliJ*][4] [IDE][5], start a new project as seen in this screenshot.\r\n\r\n[![screenshot of New Project dialog box in IntelliJ with QuickStart archetype selected][6]][6]\r\n\r\nChange the version from 1.1 to 1.4 (currently the latest). Inexplicably, the IntelliJ dialog never offers the latest version.\r\n\r\n[![enter image description here][7]][7]\r\n\r\nOpen the Advanced Settings panel. Specify the various fields of Maven info: GroupID, ArtifactID, and Version. See [this Answer](https://stackoverflow.com/a/3724851/642706) for guidance.\r\n\r\n[![enter image description here][8]][8]\r\n\r\nClick *Create* button to produce the new project. Wait a moment as Maven does its job, expanding the archetype into a real project. \r\n\r\nUnfortunately, we are not ready to do our Java programming. The [`POM.xml`][9] file needs some tweaks. The QuickStart archetype, even in its latest version, is quite out-of-date with the versions of its various parts. In my experience, it is generally best to change all the versions to their respective latest.\r\n\r\nFirst, update the version of Java for your project. You should usually be using either:\r\n\r\n - One of the [LTS][10] versions: 8, 11, 17, 21.\r\n - The latest version: 21.\r\n\r\nAnd when specifying the Java version, in modern tooling we can replace the pair of `.source` &amp; `.target` tags with a single `.release` tag.\r\n\r\n```xml\r\n&lt;maven.compiler.release&gt;21&lt;/maven.compiler.release&gt;\r\n```\r\n\r\nLoad that first change to the POM. In IntelliJ, look for the little floating windoid with the blue *M* logo. Click that logo. Otherwise, open the *Maven* panel within IntelliJ. Click the first icon for *Reload all Maven projects*. \r\n\r\nVerify that your project runs. Open the `App.java` file. Click the hollow green icon for a pop-up menu; choose `Run App.main()`. See that you get successful output in the console panel of the IDE.\r\n\r\nBack in the POM.xml, change from using JUnit 4 to using the JUnit 5 Jupiter technology. Replace the entire `&lt;dependency&gt;` tag for `junit` to the *JUnit Jupiter (Aggregator)* dependency. The *Aggregator* means that a few related dependencies are brought in for your convenience.\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.10.0-M1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nModernize the auto-generated `App.test` file to use JUnit 5 Jupiter. Replace both `import` lines with these:\r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n```\r\n\r\nClick the green hollow icon to choose `run shouldAnswerWithTrue()`.  Look for the green checkmarks in the *Run` panel of IntelliJ.\r\n\r\nNext we update the version numbers of the remaining parts. \r\n\r\nUpdate your local cache of Maven dependency data. In the IntelliJ settings, go to *Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories*. To quickly go there, just type `repo` in the Find field at top of the column in Settings. Once you have reached that panel, select each of the listed Maven repositories, and click the *Update* button. Performing the updates may take several minutes.\r\n\r\nAfter updating, you *may* see the latest version number by deleting the content of each `&lt;version&gt;` tag, and press *Control + Spacebar*. You may want to verify the actual latest numbers against a Maven repositorys web site.\r\n\r\nWhen done, you should have a POM that looks something like this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ExampleQS&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;ExampleQS&lt;/name&gt;\r\n    &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0-M1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.0-M3&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nDo a Maven *clean*. Run your app, and run your test. All should be well. You are now ready to start your Java programming.\r\n\r\n\r\n----------\r\n\r\nThis Answer uses *IntelliJ* as an example. You should be able to do something quite similar in other IDEs such as [*Eclipse*][11] or [*NetBeans*][12]. One of the main benefits of Maven (and alternatives such as [Gradle][13]) is that it works the same across various IDEs. \r\n\r\n\r\n  [1]: https://maven.apache.org/archetypes/maven-archetype-quickstart/\r\n  [2]: https://mvnrepository.com/artifact/org.apache.maven.archetypes/maven-archetype-quickstart\r\n  [3]: https://i.stack.imgur.com/yS5qo.png\r\n  [4]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [5]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [6]: https://i.stack.imgur.com/0QCGR.png\r\n  [7]: https://i.stack.imgur.com/fGBJZ.png\r\n  [8]: https://i.stack.imgur.com/USq7U.png\r\n  [9]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [10]: https://en.wikipedia.org/wiki/Long-term_support\r\n  [11]: https://en.wikipedia.org/wiki/Eclipse_(software)\r\n  [12]: https://en.wikipedia.org/wiki/NetBeans\r\n  [13]: https://en.wikipedia.org/wiki/Gradle","title":"What archetype to choose for a simple java project","body":"<h1>Maven <em>Quickstart</em> Archetype</h1>\n<p>As others noted, the usual starting point for a simple Java app is the <em>QuickStart</em> archetype.</p>\n<ul>\n<li>See <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"nofollow noreferrer\">description</a>.</li>\n<li>See <a href=\"https://mvnrepository.com/artifact/org.apache.maven.archetypes/maven-archetype-quickstart\" rel=\"nofollow noreferrer\">repository</a>.</li>\n</ul>\n<p>Produces these folders and files:</p>\n<p><a href=\"https://i.stack.imgur.com/yS5qo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yS5qo.png\" alt=\"diagram of files and folders in a newly created project using QuickStart archetype\" /></a></p>\n<p>From the command line in a console:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4\n</code></pre>\n<p>Note there that 1.4 is the current version, as of 2023-07.</p>\n<p>In the <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\"><em>IntelliJ</em></a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>, start a new project as seen in this screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/0QCGR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0QCGR.png\" alt=\"screenshot of New Project dialog box in IntelliJ with QuickStart archetype selected\" /></a></p>\n<p>Change the version from 1.1 to 1.4 (currently the latest). Inexplicably, the IntelliJ dialog never offers the latest version.</p>\n<p><a href=\"https://i.stack.imgur.com/fGBJZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGBJZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Open the Advanced Settings panel. Specify the various fields of Maven info: GroupID, ArtifactID, and Version. See <a href=\"https://stackoverflow.com/a/3724851/642706\">this Answer</a> for guidance.</p>\n<p><a href=\"https://i.stack.imgur.com/USq7U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USq7U.png\" alt=\"enter image description here\" /></a></p>\n<p>Click <em>Create</em> button to produce the new project. Wait a moment as Maven does its job, expanding the archetype into a real project.</p>\n<p>Unfortunately, we are not ready to do our Java programming. The <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\"><code>POM.xml</code></a> file needs some tweaks. The QuickStart archetype, even in its latest version, is quite out-of-date with the versions of its various parts. In my experience, it is generally best to change all the versions to their respective latest.</p>\n<p>First, update the version of Java for your project. You should usually be using either:</p>\n<ul>\n<li>One of the <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">LTS</a> versions: 8, 11, 17, 21.</li>\n<li>The latest version: 21.</li>\n</ul>\n<p>And when specifying the Java version, in modern tooling we can replace the pair of <code>.source</code> &amp; <code>.target</code> tags with a single <code>.release</code> tag.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;maven.compiler.release&gt;21&lt;/maven.compiler.release&gt;\n</code></pre>\n<p>Load that first change to the POM. In IntelliJ, look for the little floating windoid with the blue <em>M</em> logo. Click that logo. Otherwise, open the <em>Maven</em> panel within IntelliJ. Click the first icon for <em>Reload all Maven projects</em>.</p>\n<p>Verify that your project runs. Open the <code>App.java</code> file. Click the hollow green icon for a pop-up menu; choose <code>Run App.main()</code>. See that you get successful output in the console panel of the IDE.</p>\n<p>Back in the POM.xml, change from using JUnit 4 to using the JUnit 5 Jupiter technology. Replace the entire <code>&lt;dependency&gt;</code> tag for <code>junit</code> to the <em>JUnit Jupiter (Aggregator)</em> dependency. The <em>Aggregator</em> means that a few related dependencies are brought in for your convenience.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.10.0-M1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Modernize the auto-generated <code>App.test</code> file to use JUnit 5 Jupiter. Replace both <code>import</code> lines with these:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n</code></pre>\n<p>Click the green hollow icon to choose <code>run shouldAnswerWithTrue()</code>.  Look for the green checkmarks in the *Run` panel of IntelliJ.</p>\n<p>Next we update the version numbers of the remaining parts.</p>\n<p>Update your local cache of Maven dependency data. In the IntelliJ settings, go to <em>Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories</em>. To quickly go there, just type <code>repo</code> in the Find field at top of the column in Settings. Once you have reached that panel, select each of the listed Maven repositories, and click the <em>Update</em> button. Performing the updates may take several minutes.</p>\n<p>After updating, you <em>may</em> see the latest version number by deleting the content of each <code>&lt;version&gt;</code> tag, and press <em>Control + Spacebar</em>. You may want to verify the actual latest numbers against a Maven repositorys web site.</p>\n<p>When done, you should have a POM that looks something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ExampleQS&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;ExampleQS&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.10.0-M1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.0.0-M3&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Do a Maven <em>clean</em>. Run your app, and run your test. All should be well. You are now ready to start your Java programming.</p>\n<hr />\n<p>This Answer uses <em>IntelliJ</em> as an example. You should be able to do something quite similar in other IDEs such as <a href=\"https://en.wikipedia.org/wiki/Eclipse_(software)\" rel=\"nofollow noreferrer\"><em>Eclipse</em></a> or <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\"><em>NetBeans</em></a>. One of the main benefits of Maven (and alternatives such as <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>) is that it works the same across various IDEs.</p>\n"}],"owner":{"account_id":217207,"reputation":12349,"user_id":472897,"accept_rate":83,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87041,"favorite_count":0,"down_vote_count":1,"up_vote_count":103,"accepted_answer_id":7158441,"answer_count":11,"score":102,"last_activity_date":1700844027,"creation_date":1314089087,"question_id":7158348,"body_markdown":"mvn archetype:generate provides way too many options and I am looking to create a simple java utility with junit test cases. I would like to know what archetype I should be using here?","title":"What archetype to choose for a simple java project","body":"<p>mvn archetype:generate provides way too many options and I am looking to create a simple java utility with junit test cases. I would like to know what archetype I should be using here?</p>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700843866,"creation_date":1700843866,"answer_id":77544554,"question_id":77543731,"body_markdown":"You don&#39;t want to use the configuration `default`, but `runtimeClasspath`.","title":"gradle 8.4: copy dependencies","body":"<p>You don't want to use the configuration <code>default</code>, but <code>runtimeClasspath</code>.</p>\n"}],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77544554,"answer_count":1,"score":0,"last_activity_date":1700843866,"creation_date":1700834884,"question_id":77543731,"body_markdown":"I&#39;m upgrading to gradle 8.4 from 7.4. I have a task \r\n\r\n    task {\r\n        copyDependencies(type: Copy) {\r\n            from configurations.default\r\n            into &#39;../out/bin/lib&#39;\r\n        }\r\n    }\r\n\r\nwhich copy my dependencies to &#39;../out/bin/lib&#39;\r\nand I had\r\n\r\n    jar.finalizedBy = [copyDependencies]\r\n\r\nBut this is no more working. I checked already the upgrade guide but found no solution.\r\n\r\nAny ideas ?","title":"gradle 8.4: copy dependencies","body":"<p>I'm upgrading to gradle 8.4 from 7.4. I have a task</p>\n<pre><code>task {\n    copyDependencies(type: Copy) {\n        from configurations.default\n        into '../out/bin/lib'\n    }\n}\n</code></pre>\n<p>which copy my dependencies to '../out/bin/lib'\nand I had</p>\n<pre><code>jar.finalizedBy = [copyDependencies]\n</code></pre>\n<p>But this is no more working. I checked already the upgrade guide but found no solution.</p>\n<p>Any ideas ?</p>\n"},{"tags":["java","eclipse","properties-file"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1700830090,"post_id":77543215,"comment_id":136704187,"body_markdown":"In a SpringBoot application, the properties files should be within the compressed jar/war file. Can you check if they are there? And also can you put some maven logs when you don&#39;t see them?","body":"In a SpringBoot application, the properties files should be within the compressed jar/war file. Can you check if they are there? And also can you put some maven logs when you don&#39;t see them?"},{"owner":{"account_id":7493625,"reputation":59,"user_id":5694543,"display_name":"Szdnez"},"score":0,"creation_date":1700838182,"post_id":77543215,"comment_id":136705567,"body_markdown":"I did not change anything in the way how I work. Mainly I do not compile the code with Maven or start the Sprinboot-app with Maven. Mainly Eclipse does the compiling (however Eclipse does it in the backround) and afterwards I directly start the app. So Maven is mainly used to handle the dependencies. When the problem will occur the next time, I will also have a look into the jar files.","body":"I did not change anything in the way how I work. Mainly I do not compile the code with Maven or start the Sprinboot-app with Maven. Mainly Eclipse does the compiling (however Eclipse does it in the backround) and afterwards I directly start the app. So Maven is mainly used to handle the dependencies. When the problem will occur the next time, I will also have a look into the jar files."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1700840126,"post_id":77543215,"comment_id":136705865,"body_markdown":"Also, where are your properties files located in the source tree? Are they somewhere in the `src/main/java` folder or are they in `src/main/resources`?  Because `src/main/resources` is where they are actually supposed to be","body":"Also, where are your properties files located in the source tree? Are they somewhere in the <code>src&#47;main&#47;java</code> folder or are they in <code>src&#47;main&#47;resources</code>?  Because <code>src&#47;main&#47;resources</code> is where they are actually supposed to be"},{"owner":{"account_id":7493625,"reputation":59,"user_id":5694543,"display_name":"Szdnez"},"score":0,"creation_date":1700860110,"post_id":77543215,"comment_id":136708403,"body_markdown":"Most of the Java projects in my workspace are still using the classical structure with `src` and `test`. Some of them are using the Maven structure and there all properties files are located under `src/main/resources`.","body":"Most of the Java projects in my workspace are still using the classical structure with <code>src</code> and <code>test</code>. Some of them are using the Maven structure and there all properties files are located under <code>src&#47;main&#47;resources</code>."}],"answers":[{"tags":[],"owner":{"account_id":27259982,"reputation":36,"user_id":20782957,"display_name":"bunicu2k4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700843290,"creation_date":1700843229,"answer_id":77544503,"question_id":77543215,"body_markdown":"In a maven project you can control what resources are included within your build by using the `&lt;resource&gt;` tag like this:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        ...\r\n    &lt;/build&gt;\r\n\r\nNote that `src/main/resources` is the default folder for all your resources, and if you wish to have some resources included in your build and some not, you can leave the default folder out and use another one to be included, for example:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/runtime&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        ...\r\n    &lt;/build&gt;\r\n\r\nLike this, everything you put in src/main/resources/runtime will be included in your build under /classes/ folder, and everything else under src/main/resources will be left out.\r\nFor more details see [maven documentation][1].\r\nYou may want to look there at maven filtering as well, it is often used in conjunction with resources.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-resources-plugin/","title":"Why are the properties files missing in the target directory after compilation in Eclipse?","body":"<p>In a maven project you can control what resources are included within your build by using the <code>&lt;resource&gt;</code> tag like this:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    ...\n&lt;/build&gt;\n</code></pre>\n<p>Note that <code>src/main/resources</code> is the default folder for all your resources, and if you wish to have some resources included in your build and some not, you can leave the default folder out and use another one to be included, for example:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources/runtime&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    ...\n&lt;/build&gt;\n</code></pre>\n<p>Like this, everything you put in src/main/resources/runtime will be included in your build under /classes/ folder, and everything else under src/main/resources will be left out.\nFor more details see <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/\" rel=\"nofollow noreferrer\">maven documentation</a>.\nYou may want to look there at maven filtering as well, it is often used in conjunction with resources.</p>\n"}],"owner":{"account_id":7493625,"reputation":59,"user_id":5694543,"display_name":"Szdnez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700843290,"creation_date":1700829575,"question_id":77543215,"body_markdown":"Some time ago I switched from Eclipse 4.7.3 EE-Edition to Eclipse 4.27 Standard-Edition. Since then I have had problems with the properties files. It happens from time to time that when I start a Springboot application, for example, I get the error that the required properties files could not be loaded. When I then look at the target folders, the properties files are missing.\r\nDoes anyone have any idea what could be the cause? I have a slight suspicion that it could be related to a plug-in that is included in the EE edition and is now missing in the standard edition.\r\n\r\nUnder Eclipse 4.7.3 EE-Edition I never had the problem. Typically, the problem occurs after the initial checkout, i.e. when Eclipse compiles the code for the first time. However, it can also occur during operation. In other words, I start the application and everything is fine. Then I make a few changes to the code and restart the application and suddenly the problem with the properties files occurs.\r\n\r\nThe problem can usually be solved by recompiling the code completely (*Eclipse menu* -&gt; *Project* -&gt; *Clean...*) or/and &quot;Maven update&quot; (*context menu* -&gt; *Maven* -&gt; *Update Project...*). Sometimes you have to repeat the steps several times, sometimes one of them is enough.\r\n\r\nI am very grateful for any tips/hints, as this behaviour is extremely annoying and time-consuming, Szdnez","title":"Why are the properties files missing in the target directory after compilation in Eclipse?","body":"<p>Some time ago I switched from Eclipse 4.7.3 EE-Edition to Eclipse 4.27 Standard-Edition. Since then I have had problems with the properties files. It happens from time to time that when I start a Springboot application, for example, I get the error that the required properties files could not be loaded. When I then look at the target folders, the properties files are missing.\nDoes anyone have any idea what could be the cause? I have a slight suspicion that it could be related to a plug-in that is included in the EE edition and is now missing in the standard edition.</p>\n<p>Under Eclipse 4.7.3 EE-Edition I never had the problem. Typically, the problem occurs after the initial checkout, i.e. when Eclipse compiles the code for the first time. However, it can also occur during operation. In other words, I start the application and everything is fine. Then I make a few changes to the code and restart the application and suddenly the problem with the properties files occurs.</p>\n<p>The problem can usually be solved by recompiling the code completely (<em>Eclipse menu</em> -&gt; <em>Project</em> -&gt; <em>Clean...</em>) or/and &quot;Maven update&quot; (<em>context menu</em> -&gt; <em>Maven</em> -&gt; <em>Update Project...</em>). Sometimes you have to repeat the steps several times, sometimes one of them is enough.</p>\n<p>I am very grateful for any tips/hints, as this behaviour is extremely annoying and time-consuming, Szdnez</p>\n"},{"tags":["java","sql","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533580860,"creation_date":1533580860,"answer_id":51713802,"question_id":51696328,"body_markdown":"Use a `StepExecutionListener` to handle this.  You can populate the data in the `StepExecutionListener#beforeStep()` method and delete it in the `StepExecutionListener#afterStep()` method.  You can read more about this listener in the documentation here: https://docs.spring.io/spring-batch/4.0.x/reference/html/step.html#stepExecutionListener","title":"Execute SQL queries before open cursor and after closing it in JdbcCursorItemReader","body":"<p>Use a <code>StepExecutionListener</code> to handle this.  You can populate the data in the <code>StepExecutionListener#beforeStep()</code> method and delete it in the <code>StepExecutionListener#afterStep()</code> method.  You can read more about this listener in the documentation here: <a href=\"https://docs.spring.io/spring-batch/4.0.x/reference/html/step.html#stepExecutionListener\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/4.0.x/reference/html/step.html#stepExecutionListener</a></p>\n"}],"owner":{"account_id":2837095,"reputation":455,"user_id":2437499,"accept_rate":42,"display_name":"abderrahim_05"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700843190,"creation_date":1533487588,"question_id":51696328,"body_markdown":"I want to use A JdbcCursorItemReader to read data from the database, \r\nThe main sql query of this ItemReader is something like :\r\n\r\n    Select\r\n        TABLE1.col1,\r\n        TMP_TABLE.num1,\r\n        TABLE1.col2\r\n    From \r\n        TABLE1, TMP_TABLE\r\n    WHERE -- some conditions\r\n\r\nThe problem here is that the data in the TMP_TABLE should be inserted before executing this main query, and also should be deleted after.\r\n\r\ninsert data using queries like (I want this one to be run before opening the cursor ):\r\n    \r\n    insert into TMP_TABLE (NUM1) value (:x);\r\n    insert into TMP_TABLE (NUM2) value (:y);\r\n\r\ndeleting data using query like (I want this one to be run after closing the cursor): \r\n\r\n    delete from TMP_TABLE\r\n    \r\nIs there any way to do this using the JdbcCursorItemReader ?\r\n\r\n","title":"Execute SQL queries before open cursor and after closing it in JdbcCursorItemReader","body":"<p>I want to use A JdbcCursorItemReader to read data from the database,\nThe main sql query of this ItemReader is something like :</p>\n<pre><code>Select\n    TABLE1.col1,\n    TMP_TABLE.num1,\n    TABLE1.col2\nFrom \n    TABLE1, TMP_TABLE\nWHERE -- some conditions\n</code></pre>\n<p>The problem here is that the data in the TMP_TABLE should be inserted before executing this main query, and also should be deleted after.</p>\n<p>insert data using queries like (I want this one to be run before opening the cursor ):</p>\n<pre><code>insert into TMP_TABLE (NUM1) value (:x);\ninsert into TMP_TABLE (NUM2) value (:y);\n</code></pre>\n<p>deleting data using query like (I want this one to be run after closing the cursor):</p>\n<pre><code>delete from TMP_TABLE\n</code></pre>\n<p>Is there any way to do this using the JdbcCursorItemReader ?</p>\n"},{"tags":["java","inheritance","constructor"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1529934233,"post_id":51024810,"comment_id":89042354,"body_markdown":"You can&#39;t, and it&#39;s a bad idea. What if you subclass `Subclass` again with `SubSubClass`? Then you call `dispatch` before the constructor of `SubSubClass` is invoked, and if `SubSubClass` has overridden `doStuff`, then the method will be called before the class was initialized.","body":"You can&#39;t, and it&#39;s a bad idea. What if you subclass <code>Subclass</code> again with <code>SubSubClass</code>? Then you call <code>dispatch</code> before the constructor of <code>SubSubClass</code> is invoked, and if <code>SubSubClass</code> has overridden <code>doStuff</code>, then the method will be called before the class was initialized."}],"answers":[{"tags":[],"owner":{"account_id":1204576,"reputation":2855,"user_id":1174543,"accept_rate":80,"display_name":"Steve11235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529934321,"creation_date":1529934321,"answer_id":51025014,"question_id":51024810,"body_markdown":"Lorelorelore is correct, if you do need any subclass instantiation to be complete when the method is called. Otherwise, you can do what you have. I would suggest putting adequate comments if others will need to use the code.","title":"Java - Force subclasses to call super method after constructor","body":"<p>Lorelorelore is correct, if you do need any subclass instantiation to be complete when the method is called. Otherwise, you can do what you have. I would suggest putting adequate comments if others will need to use the code.</p>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1529934642,"creation_date":1529934325,"answer_id":51025016,"question_id":51024810,"body_markdown":"Your request violates several Java best practices, e.g.:\r\n\r\n- Do not do complex configuration in a constructor, only fill private (final) member variables and do only very basic consistency checks (if any at all).\r\n\r\n- Do not call `non private` or `non final` methods from the constructor, not even indirectly.\r\n \r\nSo I would strongly suggest to think over the design of your classes. Chances are, that your classes are  too big and have too many responsibilitis.","title":"Java - Force subclasses to call super method after constructor","body":"<p>Your request violates several Java best practices, e.g.:</p>\n\n<ul>\n<li><p>Do not do complex configuration in a constructor, only fill private (final) member variables and do only very basic consistency checks (if any at all).</p></li>\n<li><p>Do not call <code>non private</code> or <code>non final</code> methods from the constructor, not even indirectly.</p></li>\n</ul>\n\n<p>So I would strongly suggest to think over the design of your classes. Chances are, that your classes are  too big and have too many responsibilitis.</p>\n"},{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529934693,"creation_date":1529934693,"answer_id":51025136,"question_id":51024810,"body_markdown":"You can *abstract* the use of your SuperClass by providing a `static` method which will execute the code you want, but also checks that it has been setup correctly:\r\n\r\n    public abstract class SuperClass{\r\n        private boolean instantiated;\r\n\r\n        public SuperClass(...){\r\n            ...\r\n        }\r\n\r\n        public abstract void doStuff();\r\n        \r\n        private void dispatch(){\r\n            if(!instantiated){\r\n                instantiated = true;\r\n                doStuff();\r\n            }\r\n        }\r\n          \r\n        public static void executeActionOnSuperClass(SuperClass s){\r\n            s.dispatch(); // call instantiation if not already done\r\n            s.executeAnAction();\r\n        }\r\n    }\r\n\r\nAnd the subclass:\r\n\r\n    public class SubClass extends SuperClass{\r\n        public SubClass(...){\r\n            super(...);\r\n        }\r\n\r\n        public void doStuff(){\r\n             ...\r\n        }\r\n    }\r\n\r\nWhich then can be executed like this:\r\n\r\n    SuperClass.executeAnActionOnSuperClass(new SubClass(...));\r\n\r\nThough this is mostly an anti pattern and should be used sparely.","title":"Java - Force subclasses to call super method after constructor","body":"<p>You can <em>abstract</em> the use of your SuperClass by providing a <code>static</code> method which will execute the code you want, but also checks that it has been setup correctly:</p>\n\n<pre><code>public abstract class SuperClass{\n    private boolean instantiated;\n\n    public SuperClass(...){\n        ...\n    }\n\n    public abstract void doStuff();\n\n    private void dispatch(){\n        if(!instantiated){\n            instantiated = true;\n            doStuff();\n        }\n    }\n\n    public static void executeActionOnSuperClass(SuperClass s){\n        s.dispatch(); // call instantiation if not already done\n        s.executeAnAction();\n    }\n}\n</code></pre>\n\n<p>And the subclass:</p>\n\n<pre><code>public class SubClass extends SuperClass{\n    public SubClass(...){\n        super(...);\n    }\n\n    public void doStuff(){\n         ...\n    }\n}\n</code></pre>\n\n<p>Which then can be executed like this:</p>\n\n<pre><code>SuperClass.executeAnActionOnSuperClass(new SubClass(...));\n</code></pre>\n\n<p>Though this is mostly an anti pattern and should be used sparely.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530045832,"creation_date":1529936227,"answer_id":51025641,"question_id":51024810,"body_markdown":"&gt; It would work as it is now, but I find it a bad concept to call\r\n&gt; dispatch() at the end of every subclasses&#39; constructor. Is there a\r\n&gt; more elegant way to solve this? Or should I even completely rethink my\r\n&gt; concept?\r\n\r\nAs underlined by Timothy Truckle, your constructor logic is too complex.   \r\n\r\nYou can make things much simpler and reaching your goal by using the template method to initialize the subclass instance.\r\nNote that you already used this pattern with `doStuff()`.   \r\nThe subclass constructor is indeed your issue here : you want to reduce the mandatory boiler plates required in each subclasss and also make their readability and maintenance better.   \r\nSo introduce a new template method in the superclass and invoke it from the constructor of the super class.  \r\nThis method will do the same thing as a constructor but could so be invoked in a more flexible way.    \r\n`dispatch()` that is an artificial method, introduced only for the trick is not required either.   \r\nThe whole logic could be orchestrated from the super class constructor.   \r\n\r\nThe super class could look like :\r\n\r\n    public abstract class Superclass {\r\n    \r\n        ...\r\n    \r\n        public Superclass(...) {\r\n            ...    // do stuff before initializing subclass\r\n            init();\r\n            doStuff();\r\n        }\r\n    \r\n        public abstract void init();\r\n    \r\n        public abstract void doStuff();\r\n    }\r\n\r\nAnd in the subclass, replace :\r\n\r\n    public Subclass(...) {\r\n        super(...);     //has to be the first line\r\n        ...             //assign variables etc.\r\n        dispatch();     //has to be called after variables are assigned etc.\r\n    }\r\n\r\nby :\r\n\r\n    public Subclass(...) {\r\n        super(...);   // let the super constructor to orchestrate the init logic  \r\n    }\r\n\r\n    public void init(){\r\n        // move the constructor logic here\r\n    }\r\n\r\nThe result is much simpler because this design gathers responsibilities related to the initialization &quot;algorithm&quot; of the subclass in a single place : the super class constructor.    \r\n\r\n\r\n----------\r\n\r\nAbout your comment :\r\n\r\n&gt; This indeed looks way more elegant than what I did. Thank you! EDIT:\r\n&gt; Just noticed, this does not work with subclasses having different\r\n&gt; constructor parameters. Any idea how to solve this?\r\n\r\n\r\nWith such a requirement, to make things simple and clear, you have to make things in two steps : \r\n\r\n-  instantiate the object \r\n-  invoke on the reference the `init()` method. \r\n\r\nIt could look like : \r\n\r\n    SuperClass o = new Subclass(argFoo, argBar); \r\n    o.init();\r\n\r\nThe problem with this way is that you are not sure that the `init()` method was invoked. You could add a flag that you check at each time a method is invoked on the object. But it is really cumbersome and error-prone. Avoid that.     \r\nTo improve that, I would probably use the wrapper pattern.  \r\nYou could also use an interceptor/aspect. But it is not a good use case : the init processing is not transversal and is really related to the object behavior. It makes more sense to keep it visible.   \r\n\r\nWith a wrapper, it could look like :  \r\n\r\n    SuperClass o = new MyWrapper(new Subclass(argFoo, argBar));\r\n\r\nWhere The `MyWrapper` is a subclass of `SuperClass` and wraps an instance of `SuperClass` object :\r\n\r\n    public class MyWrapper implements SuperClass{\r\n    \r\n       private SuperClass wrapped;\r\n    \r\n       public MyWrapper (SuperClass wrapped){\r\n           this.wrapped = wrapped;\r\n           this.wrapped.init();\r\n       }\r\n    \r\n       // then delegate each superclass method to the wrapped object\r\n       public void doStuff(){\r\n           this.wrapped.doStuff();\r\n       }\r\n\r\n      // and so for...\r\n\r\n    }\r\n\r\n ","title":"Java - Force subclasses to call super method after constructor","body":"<blockquote>\n  <p>It would work as it is now, but I find it a bad concept to call\n  dispatch() at the end of every subclasses' constructor. Is there a\n  more elegant way to solve this? Or should I even completely rethink my\n  concept?</p>\n</blockquote>\n\n<p>As underlined by Timothy Truckle, your constructor logic is too complex.   </p>\n\n<p>You can make things much simpler and reaching your goal by using the template method to initialize the subclass instance.\nNote that you already used this pattern with <code>doStuff()</code>.<br>\nThe subclass constructor is indeed your issue here : you want to reduce the mandatory boiler plates required in each subclasss and also make their readability and maintenance better.<br>\nSo introduce a new template method in the superclass and invoke it from the constructor of the super class.<br>\nThis method will do the same thing as a constructor but could so be invoked in a more flexible way.<br>\n<code>dispatch()</code> that is an artificial method, introduced only for the trick is not required either.<br>\nThe whole logic could be orchestrated from the super class constructor.   </p>\n\n<p>The super class could look like :</p>\n\n<pre><code>public abstract class Superclass {\n\n    ...\n\n    public Superclass(...) {\n        ...    // do stuff before initializing subclass\n        init();\n        doStuff();\n    }\n\n    public abstract void init();\n\n    public abstract void doStuff();\n}\n</code></pre>\n\n<p>And in the subclass, replace :</p>\n\n<pre><code>public Subclass(...) {\n    super(...);     //has to be the first line\n    ...             //assign variables etc.\n    dispatch();     //has to be called after variables are assigned etc.\n}\n</code></pre>\n\n<p>by :</p>\n\n<pre><code>public Subclass(...) {\n    super(...);   // let the super constructor to orchestrate the init logic  \n}\n\npublic void init(){\n    // move the constructor logic here\n}\n</code></pre>\n\n<p>The result is much simpler because this design gathers responsibilities related to the initialization \"algorithm\" of the subclass in a single place : the super class constructor.    </p>\n\n<hr>\n\n<p>About your comment :</p>\n\n<blockquote>\n  <p>This indeed looks way more elegant than what I did. Thank you! EDIT:\n  Just noticed, this does not work with subclasses having different\n  constructor parameters. Any idea how to solve this?</p>\n</blockquote>\n\n<p>With such a requirement, to make things simple and clear, you have to make things in two steps : </p>\n\n<ul>\n<li>instantiate the object </li>\n<li>invoke on the reference the <code>init()</code> method. </li>\n</ul>\n\n<p>It could look like : </p>\n\n<pre><code>SuperClass o = new Subclass(argFoo, argBar); \no.init();\n</code></pre>\n\n<p>The problem with this way is that you are not sure that the <code>init()</code> method was invoked. You could add a flag that you check at each time a method is invoked on the object. But it is really cumbersome and error-prone. Avoid that.<br>\nTo improve that, I would probably use the wrapper pattern.<br>\nYou could also use an interceptor/aspect. But it is not a good use case : the init processing is not transversal and is really related to the object behavior. It makes more sense to keep it visible.   </p>\n\n<p>With a wrapper, it could look like :  </p>\n\n<pre><code>SuperClass o = new MyWrapper(new Subclass(argFoo, argBar));\n</code></pre>\n\n<p>Where The <code>MyWrapper</code> is a subclass of <code>SuperClass</code> and wraps an instance of <code>SuperClass</code> object :</p>\n\n<pre><code>public class MyWrapper implements SuperClass{\n\n   private SuperClass wrapped;\n\n   public MyWrapper (SuperClass wrapped){\n       this.wrapped = wrapped;\n       this.wrapped.init();\n   }\n\n   // then delegate each superclass method to the wrapped object\n   public void doStuff(){\n       this.wrapped.doStuff();\n   }\n\n  // and so for...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645910,"reputation":2703,"user_id":1517467,"display_name":"Dipendu Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700843089,"creation_date":1700843089,"answer_id":77544496,"question_id":51024810,"body_markdown":"I came across the same problem where additional initialization logic was enforced by a factory\r\n\r\n    internal class ExpenseFactory\r\n    {\r\n        internal static Expense CreateExpense(ExpenseArguments args)\r\n        {\r\n            Expense? expense = null;\r\n            switch (args.ExpenseType)\r\n            {\r\n                case ExpenseType.EQUAL:\r\n                    expense = new EqualExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy);\r\n                    break;\r\n                case ExpenseType.EXACT:\r\n                    expense = new ExactExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy, args.ExactAmounts);\r\n                    break;\r\n                case ExpenseType.PERCENT:\r\n                    expense = new PercentExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy, args.Percentages);\r\n                    break;\r\n                default:\r\n                    throw new ArgumentException(&quot;Ivalid expense arguments&quot;);\r\n            }\r\n\r\n            expense.InitSplits(); // additional init logic implemented by each subclass and declared as abstract in parent class Expense \r\n            return expense;\r\n        }\r\n    }\r\n\r\nI think a factory method is a place where complex initialization logic belongs. Full code sample can be found [here][1] \r\n\r\n\r\n  [1]: https://github.com/FOSSKolkata/expense-sharing/blob/main/SplitWiseDesign/ExpenseFactory.cs","title":"Java - Force subclasses to call super method after constructor","body":"<p>I came across the same problem where additional initialization logic was enforced by a factory</p>\n<pre><code>internal class ExpenseFactory\n{\n    internal static Expense CreateExpense(ExpenseArguments args)\n    {\n        Expense? expense = null;\n        switch (args.ExpenseType)\n        {\n            case ExpenseType.EQUAL:\n                expense = new EqualExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy);\n                break;\n            case ExpenseType.EXACT:\n                expense = new ExactExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy, args.ExactAmounts);\n                break;\n            case ExpenseType.PERCENT:\n                expense = new PercentExpense(Guid.NewGuid().ToString(), args.Amount, args.PaidBy, args.SharedBy, args.Percentages);\n                break;\n            default:\n                throw new ArgumentException(&quot;Ivalid expense arguments&quot;);\n        }\n\n        expense.InitSplits(); // additional init logic implemented by each subclass and declared as abstract in parent class Expense \n        return expense;\n    }\n}\n</code></pre>\n<p>I think a factory method is a place where complex initialization logic belongs. Full code sample can be found <a href=\"https://github.com/FOSSKolkata/expense-sharing/blob/main/SplitWiseDesign/ExpenseFactory.cs\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":5234262,"reputation":566,"user_id":4183412,"accept_rate":64,"display_name":"StrikeAgainst"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4583,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1700843089,"creation_date":1529933735,"question_id":51024810,"body_markdown":"I want a bunch of subclasses to call a super method after finishing the constructor like this:\r\n\r\n    public abstract class Superclass {\r\n\r\n        ...\r\n\r\n        public Superclass(...) {\r\n            ...    // do stuff before initializing subclass\r\n        }\r\n\r\n        protected void dispatch() {     //method to be called directly after creating an object\r\n            doStuff();\r\n            ...\r\n        }\r\n\r\n        public abstract void doStuff();\r\n    }\r\n\r\n    public class Subclass extends Superclass {\r\n\r\n        ...\r\n\r\n        public Subclass(...) {\r\n            super(...);     //has to be the first line\r\n            ...             //assign variables etc.\r\n            dispatch();     //has to be called after variables are assigned etc.\r\n        }\r\n\r\n        public void doStuff() {\r\n            //do stuff with assigned variables etc.\r\n        }\r\n    }\r\n\r\nThe `dispatch()` function contains a set of things to do with the object after it has been created, which has to apply to all subclasses. I can&#39;t move this function into the super constructor, since it calls methods from the subclasses which require already assigned variables. But since `super()` requires to be the first line of the sub constructor though, I can&#39;t set any variables until after the super constructor was called.\r\n\r\nIt would work as it is now, but I find it a bad concept to call `dispatch()` at the end of every subclasses&#39; constructor. Is there a more elegant way to solve this? Or should I even completely rethink my concept?","title":"Java - Force subclasses to call super method after constructor","body":"<p>I want a bunch of subclasses to call a super method after finishing the constructor like this:</p>\n\n<pre><code>public abstract class Superclass {\n\n    ...\n\n    public Superclass(...) {\n        ...    // do stuff before initializing subclass\n    }\n\n    protected void dispatch() {     //method to be called directly after creating an object\n        doStuff();\n        ...\n    }\n\n    public abstract void doStuff();\n}\n\npublic class Subclass extends Superclass {\n\n    ...\n\n    public Subclass(...) {\n        super(...);     //has to be the first line\n        ...             //assign variables etc.\n        dispatch();     //has to be called after variables are assigned etc.\n    }\n\n    public void doStuff() {\n        //do stuff with assigned variables etc.\n    }\n}\n</code></pre>\n\n<p>The <code>dispatch()</code> function contains a set of things to do with the object after it has been created, which has to apply to all subclasses. I can't move this function into the super constructor, since it calls methods from the subclasses which require already assigned variables. But since <code>super()</code> requires to be the first line of the sub constructor though, I can't set any variables until after the super constructor was called.</p>\n\n<p>It would work as it is now, but I find it a bad concept to call <code>dispatch()</code> at the end of every subclasses' constructor. Is there a more elegant way to solve this? Or should I even completely rethink my concept?</p>\n"},{"tags":["java","spring","maven","profile"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700854979,"post_id":77544485,"comment_id":136707796,"body_markdown":"Maven profiles and spring profiles are different things. DOn&#39;t mix them. Ditch the maven prod profile. Just build your jar and when running in production include `--spring.profiles.active=prod` when running the application. Don&#39;t rebuild your application just because you want to move to a different environment. Or instead of a profile just pass the properties `--spring.datasource.url=&lt;url&gt;` etc. or specify them as environment variables.","body":"Maven profiles and spring profiles are different things. DOn&#39;t mix them. Ditch the maven prod profile. Just build your jar and when running in production include <code>--spring.profiles.active=prod</code> when running the application. Don&#39;t rebuild your application just because you want to move to a different environment. Or instead of a profile just pass the properties <code>--spring.datasource.url=&lt;url&gt;</code> etc. or specify them as environment variables."},{"owner":{"account_id":16400004,"reputation":1,"user_id":11846318,"display_name":"Maciej Gomulec"},"score":0,"creation_date":1700984523,"post_id":77544485,"comment_id":136717240,"body_markdown":"Thanks for answer, could you elaborate it though? What do you mean by ditching maven prod profile? In this profile I use maven frontend plugin to install locally node and react app.","body":"Thanks for answer, could you elaborate it though? What do you mean by ditching maven prod profile? In this profile I use maven frontend plugin to install locally node and react app."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701066436,"post_id":77544485,"comment_id":136724238,"body_markdown":"That isn&#39;t the only thing you do. Just make it part of your regular build. You are also building it with the assumption that it automatically enables spring profiles, which it doesn&#39;t.","body":"That isn&#39;t the only thing you do. Just make it part of your regular build. You are also building it with the assumption that it automatically enables spring profiles, which it doesn&#39;t."}],"owner":{"account_id":16400004,"reputation":1,"user_id":11846318,"display_name":"Maciej Gomulec"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700843025,"creation_date":1700843025,"question_id":77544485,"body_markdown":"I have problem with setting profiles in my spring boot app. I use java with react and currently am learning how to deploy app to aws. For development I was using docker image of postgres db and this config file (application.yml):\r\n\r\n```\r\napp:\r\n  datasource:\r\n    jdbc-url: jdbc:postgresql://localhost:5432/karatesandemo\r\n    username: username\r\n    password: password\r\n    pool-size: 30\r\n```\r\nFor my aws db I had to make diffrent configuration, so i made another file (application-prod.yml):\r\n\r\n\r\n```\r\nserver:\r\n  port: 5000\r\napp:\r\n  datasource:\r\n    jdbc-url: jdbc:URL:5432/karatesandemo\r\n    username: username\r\n    password: password\r\n    pool-size: 30\r\n\r\n```\r\nAnd this is my pom.xml profile:\r\n\r\n```\r\n &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n    &lt;id&gt;prod&lt;/id&gt;\r\n        &lt;properties&gt;\r\n            &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\r\n        &lt;/properties&gt;\r\n            &lt;build&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.9.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;nodeVersion&gt;${node.version}&lt;/nodeVersion&gt;\r\n                            &lt;workingDirectory&gt;${frontend.src.directory}&lt;/workingDirectory&gt;\r\n                            &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;install node&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;npm-install&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;build-ui&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;add-react-build&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;outputDirectory&gt;${project.build.outputDirectory}/static&lt;/outputDirectory&gt;\r\n                                    &lt;resources&gt;\r\n                                        &lt;resource&gt;\r\n                                            &lt;directory&gt;${frontend.src.directory}/build&lt;/directory&gt;\r\n                                            &lt;filtering&gt;false&lt;/filtering&gt;\r\n                                        &lt;/resource&gt;\r\n                                    &lt;/resources&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n\r\n            &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nProblem is when i want to install it with mvn clean install -Pprod. it keeps taking application.yml configuration (No active profile set, falling back to 1 default profile: &quot;default&quot;).\r\n\r\n\r\nI&#39;ve been trying to fiddle with adding :\r\n\r\n```\r\nspring:\r\n  profiles:\r\n    active: @spring.profiles.active@\r\n```\r\nTo application.yml files and it stayed same. What works for me is deleting it from application-prod.yml and leaving it in application.yml. Only this way it works. Can someone explain this to me?\r\n","title":"Java Spring boot with maven. How to configure profiles?","body":"<p>I have problem with setting profiles in my spring boot app. I use java with react and currently am learning how to deploy app to aws. For development I was using docker image of postgres db and this config file (application.yml):</p>\n<pre><code>app:\n  datasource:\n    jdbc-url: jdbc:postgresql://localhost:5432/karatesandemo\n    username: username\n    password: password\n    pool-size: 30\n</code></pre>\n<p>For my aws db I had to make diffrent configuration, so i made another file (application-prod.yml):</p>\n<pre><code>server:\n  port: 5000\napp:\n  datasource:\n    jdbc-url: jdbc:URL:5432/karatesandemo\n    username: username\n    password: password\n    pool-size: 30\n\n</code></pre>\n<p>And this is my pom.xml profile:</p>\n<pre><code> &lt;profiles&gt;\n    &lt;profile&gt;\n    &lt;id&gt;prod&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\n        &lt;/properties&gt;\n            &lt;build&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                        &lt;filtering&gt;true&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.9.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;${node.version}&lt;/nodeVersion&gt;\n                            &lt;workingDirectory&gt;${frontend.src.directory}&lt;/workingDirectory&gt;\n                            &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;install node&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm-install&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-ui&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;add-react-build&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\n                                &lt;configuration&gt;\n                                    &lt;outputDirectory&gt;${project.build.outputDirectory}/static&lt;/outputDirectory&gt;\n                                    &lt;resources&gt;\n                                        &lt;resource&gt;\n                                            &lt;directory&gt;${frontend.src.directory}/build&lt;/directory&gt;\n                                            &lt;filtering&gt;false&lt;/filtering&gt;\n                                        &lt;/resource&gt;\n                                    &lt;/resources&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n\n            &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>Problem is when i want to install it with mvn clean install -Pprod. it keeps taking application.yml configuration (No active profile set, falling back to 1 default profile: &quot;default&quot;).</p>\n<p>I've been trying to fiddle with adding :</p>\n<pre><code>spring:\n  profiles:\n    active: @spring.profiles.active@\n</code></pre>\n<p>To application.yml files and it stayed same. What works for me is deleting it from application-prod.yml and leaving it in application.yml. Only this way it works. Can someone explain this to me?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":29975563,"reputation":1,"user_id":22971871,"display_name":"hurontrara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700747001,"creation_date":1700747001,"answer_id":77537383,"question_id":77536800,"body_markdown":"```Page&lt;Feed&gt; findBySomething(Pageable pageable);```\r\n\r\nto \r\n\r\n```Page&lt;SomeParent&gt; findBySomething(Pageable pageable);```\r\n","title":"JPA query with sorting by ElementCollection gives UnsupportedOperationException","body":"<p><code>Page&lt;Feed&gt; findBySomething(Pageable pageable);</code></p>\n<p>to</p>\n<p><code>Page&lt;SomeParent&gt; findBySomething(Pageable pageable);</code></p>\n"},{"tags":[],"owner":{"account_id":29386274,"reputation":51,"user_id":22515654,"display_name":"Klajd Bakalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700842809,"creation_date":1700756540,"answer_id":77538364,"question_id":77536800,"body_markdown":"I think you can try to use &quot;nativeQuery&quot; about the sort.So i will give you an example:\r\n\r\n\r\n    @Query(value = &quot;SELECT * FROM some_parent ORDER BY keywords ASC&quot;, nativeQuery = true)\r\n    Page&lt;SomeParent&gt; findBySomething(Pageable pageable);  \r\n\r\n ","title":"JPA query with sorting by ElementCollection gives UnsupportedOperationException","body":"<p>I think you can try to use &quot;nativeQuery&quot; about the sort.So i will give you an example:</p>\n<pre><code>@Query(value = &quot;SELECT * FROM some_parent ORDER BY keywords ASC&quot;, nativeQuery = true)\nPage&lt;SomeParent&gt; findBySomething(Pageable pageable);  \n</code></pre>\n"}],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700842809,"creation_date":1700741847,"question_id":77536800,"body_markdown":"When there an entity which has an `ElementCollection` field of a simple type, and on trying to have query using sorting of that field, there is an `UnsupportedOperationException`\r\n\r\n```\r\npublic class SomeParent {\r\n  @ElementCollection\r\n  private List&lt;String&gt; keywords;\r\n}\r\n\r\npublic interface SomeParentRepository extends JpaRepository&lt;SomeParent, Integer&gt;, JpaSpecificationExecutor&lt;SomeParent&gt; {\r\n\r\n  @Query(&quot;select sp from SomeParent sp&quot;)\r\n  Page&lt;SomeParent&gt; findBySomething(Pageable pageable);\r\n}\r\n```\r\n\r\nCalling the custom query with the field sorting, gives an error:\r\n```\r\nvar pageable = PageRequest.of(0, 20, Sort.by(&quot;keywords&quot;));\r\nsomeParentRepository.findBySomething(pageable);\r\n```\r\n\r\n\r\nHowever, calling [findAll()](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#findAll(org.springframework.data.domain.Pageable)) (with sorting by the field) works fine:\r\n\r\n```\r\nvar pageable = PageRequest.of(0, 20, Sort.by(&quot;keywords&quot;));\r\nsomeParentRepository.findAll(pageable);\r\n```\r\n\r\nand also calling the custom query with no sorting works fine.\r\n```\r\nvar pageable = PageRequest.of(0, 20);\r\nsomeParentRepository.findBySomething(pageable);\r\n```\r\n\r\n\r\nI tried adding `@OrderBy` to the field, but it doesn&#39;t help.\r\n\r\nI hope there is a way other than using [Specification](https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html), as the real-life query has more parameters.\r\n\r\n```\r\njava.lang.UnsupportedOperationException: null\r\n\tat org.hibernate.query.sqm.sql.internal.PluralValuedSimplePathInterpretation.accept(PluralValuedSimplePathInterpretation.java:72) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSortSpecification(AbstractSqlAstTranslator.java:3764) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSortSpecification(AbstractSqlAstTranslator.java:3745) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderOrderBy(AbstractSqlAstTranslator.java:3351) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitOrderBy(AbstractSqlAstTranslator.java:3335) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3086) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.dialect.PostgreSQLSqlAstTranslator.visitQuerySpec(PostgreSQLSqlAstTranslator.java:186) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:988) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:851) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:801) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:372) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:268) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:204) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy248.findBySomething(Unknown Source) ~[na:na]\r\n```\r\n","title":"JPA query with sorting by ElementCollection gives UnsupportedOperationException","body":"<p>When there an entity which has an <code>ElementCollection</code> field of a simple type, and on trying to have query using sorting of that field, there is an <code>UnsupportedOperationException</code></p>\n<pre><code>public class SomeParent {\n  @ElementCollection\n  private List&lt;String&gt; keywords;\n}\n\npublic interface SomeParentRepository extends JpaRepository&lt;SomeParent, Integer&gt;, JpaSpecificationExecutor&lt;SomeParent&gt; {\n\n  @Query(&quot;select sp from SomeParent sp&quot;)\n  Page&lt;SomeParent&gt; findBySomething(Pageable pageable);\n}\n</code></pre>\n<p>Calling the custom query with the field sorting, gives an error:</p>\n<pre><code>var pageable = PageRequest.of(0, 20, Sort.by(&quot;keywords&quot;));\nsomeParentRepository.findBySomething(pageable);\n</code></pre>\n<p>However, calling <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#findAll(org.springframework.data.domain.Pageable)\" rel=\"nofollow noreferrer\">findAll()</a> (with sorting by the field) works fine:</p>\n<pre><code>var pageable = PageRequest.of(0, 20, Sort.by(&quot;keywords&quot;));\nsomeParentRepository.findAll(pageable);\n</code></pre>\n<p>and also calling the custom query with no sorting works fine.</p>\n<pre><code>var pageable = PageRequest.of(0, 20);\nsomeParentRepository.findBySomething(pageable);\n</code></pre>\n<p>I tried adding <code>@OrderBy</code> to the field, but it doesn't help.</p>\n<p>I hope there is a way other than using <a href=\"https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html\" rel=\"nofollow noreferrer\">Specification</a>, as the real-life query has more parameters.</p>\n<pre><code>java.lang.UnsupportedOperationException: null\n    at org.hibernate.query.sqm.sql.internal.PluralValuedSimplePathInterpretation.accept(PluralValuedSimplePathInterpretation.java:72) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSortSpecification(AbstractSqlAstTranslator.java:3764) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSortSpecification(AbstractSqlAstTranslator.java:3745) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderOrderBy(AbstractSqlAstTranslator.java:3351) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitOrderBy(AbstractSqlAstTranslator.java:3335) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3086) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.dialect.PostgreSQLSqlAstTranslator.visitQuerySpec(PostgreSQLSqlAstTranslator.java:186) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:988) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:851) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:801) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:372) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:268) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:204) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy248.findBySomething(Unknown Source) ~[na:na]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1461373082,"post_id":36805374,"comment_id":61184548,"body_markdown":"Seems like you haven&#39;t declared a class named SavingsAccount, which you try to use in your code.","body":"Seems like you haven&#39;t declared a class named SavingsAccount, which you try to use in your code."}],"answers":[{"tags":[],"owner":{"account_id":8297655,"reputation":1118,"user_id":6237359,"accept_rate":80,"display_name":"FrenchTechLead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461373216,"creation_date":1461373216,"answer_id":36805407,"question_id":36805374,"body_markdown":"it seems that the compiler don&#39;t find the class SavingsAccount, is it included to your project ? you should import it just like you did here : \r\n\r\n    import java.util.Scanner; ","title":"Uncompilable source code - cannot find symbol error","body":"<p>it seems that the compiler don't find the class SavingsAccount, is it included to your project ? you should import it just like you did here : </p>\n\n<pre><code>import java.util.Scanner; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7724416,"reputation":11,"user_id":5849529,"accept_rate":0,"display_name":"J&#39;on J&#39;onzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700842740,"creation_date":1461375004,"answer_id":36805592,"question_id":36805374,"body_markdown":"I just got it to work! Apparently, my issue was due to the fact that I didn&#39;t manage my files properly and I proceeded in the wrong order. I had two files for this project, and I wrote the other one before I wrote this one. NetBeans proposed a solution, and when I clicked it to try it, it opened an additional project area for me to enter my code from the first file I had already created. When I copied it over, that fixed my problem.\r\n\r\n","title":"Uncompilable source code - cannot find symbol error","body":"<p>I just got it to work! Apparently, my issue was due to the fact that I didn't manage my files properly and I proceeded in the wrong order. I had two files for this project, and I wrote the other one before I wrote this one. NetBeans proposed a solution, and when I clicked it to try it, it opened an additional project area for me to enter my code from the first file I had already created. When I copied it over, that fixed my problem.</p>\n"},{"tags":[],"owner":{"account_id":8305860,"reputation":26,"user_id":6242908,"display_name":"Timoshenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461375234,"creation_date":1461375234,"answer_id":36805613,"question_id":36805374,"body_markdown":"so, just add the class that is here:\r\n\r\nhttps://codereview.stackexchange.com/questions/84551/savings-account-class-and-test-program\r\n\r\nHere you will find SavingsAccount class.","title":"Uncompilable source code - cannot find symbol error","body":"<p>so, just add the class that is here:</p>\n\n<p><a href=\"https://codereview.stackexchange.com/questions/84551/savings-account-class-and-test-program\">https://codereview.stackexchange.com/questions/84551/savings-account-class-and-test-program</a></p>\n\n<p>Here you will find SavingsAccount class.</p>\n"},{"tags":[],"owner":{"account_id":11926416,"reputation":81,"user_id":10316876,"display_name":"abel.matos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604689096,"creation_date":1604689096,"answer_id":64720228,"question_id":36805374,"body_markdown":"As it is explained in other similar question, but for Windows: \r\n\r\n - close Netbeans\r\n - delete the folder `$USER/AppData/Local/NetBeans/Cache/&lt;your_Netbeans_version&gt;/index`\r\n - restart Netbeans\r\n\r\nOriginal answer: [Uncompilable source code RuntimeException in netbeans][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4386076/uncompilable-source-code-runtimeexception-in-netbeans/4387950#4387950","title":"Uncompilable source code - cannot find symbol error","body":"<p>As it is explained in other similar question, but for Windows:</p>\n<ul>\n<li>close Netbeans</li>\n<li>delete the folder <code>$USER/AppData/Local/NetBeans/Cache/&lt;your_Netbeans_version&gt;/index</code></li>\n<li>restart Netbeans</li>\n</ul>\n<p>Original answer: <a href=\"https://stackoverflow.com/questions/4386076/uncompilable-source-code-runtimeexception-in-netbeans/4387950#4387950\">Uncompilable source code RuntimeException in netbeans</a></p>\n"}],"owner":{"account_id":7724416,"reputation":11,"user_id":5849529,"accept_rate":0,"display_name":"J&#39;on J&#39;onzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1700842740,"creation_date":1461372893,"question_id":36805374,"body_markdown":"Let&#39;s jump right in, shall we? Here is my code:\r\n\r\n    import java.util.Scanner; \r\n    \r\n    public class a7main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            double startBalance; \r\n            double annual_Interest_Rate; \r\n            int months; \r\n            double deposit_Amount; \r\n            double withdraw_Amount; \r\n    \r\n            Scanner input = new Scanner(System.in); \r\n    \r\n            System.out.print(&quot;Please enter your starting balance: $&quot;); \r\n            startBalance = input.nextDouble(); \r\n    \r\n            System.out.print(&quot;Please enter your annual interest rate: &quot;); \r\n            annual_Interest_Rate = input.nextDouble(); \r\n    \r\n            System.out.print(&quot;Please enter the number of months: &quot;);\r\n            months = input.nextInt(); \r\n    \r\n            SavingsAccount sa = new\r\n            SavingsAccount(startBalance, annual_Interest_Rate); \r\n    \r\n            sa.setAnnualInterestRate(annual_Interest_Rate);\r\n    \r\n            for (int i = 0; i &lt; months; i++)\r\n            {\r\n                System.out.print(&quot;Please enter the amount you would like to deposit for the month &quot; + (i+1) + &quot;:$&quot;); \r\n                deposit_Amount = input.nextDouble(); \r\n    \r\n                sa.setDeposit(deposit_Amount); \r\n    \r\n                System.out.print(&quot;Please enter the amount you would like to withdraw for the month &quot; + (i+1) + &quot;:$&quot;); \r\n                withdraw_Amount = input.nextDouble(); \r\n    \r\n                sa.setWithdraw(withdraw_Amount); \r\n    \r\n                sa.calculateMonthlyInterest();\r\n            }\r\n            sa.displayData(); \r\n        }\r\n    }\r\n\r\nAnd here is the error message I get when I try to run it:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable\r\n&gt; source code - cannot find symbol   symbol:   class SavingsAccount  \r\n&gt; location: class a7main\r\n\r\nI&#39;m a complete beginner who hasn&#39;t encountered this error before. Any suggestions for how to address this error so that I can run this code?\r\n\r\n","title":"Uncompilable source code - cannot find symbol error","body":"<p>Let's jump right in, shall we? Here is my code:</p>\n<pre><code>import java.util.Scanner; \n\npublic class a7main\n{\n    public static void main(String[] args)\n    {\n        double startBalance; \n        double annual_Interest_Rate; \n        int months; \n        double deposit_Amount; \n        double withdraw_Amount; \n\n        Scanner input = new Scanner(System.in); \n\n        System.out.print(&quot;Please enter your starting balance: $&quot;); \n        startBalance = input.nextDouble(); \n\n        System.out.print(&quot;Please enter your annual interest rate: &quot;); \n        annual_Interest_Rate = input.nextDouble(); \n\n        System.out.print(&quot;Please enter the number of months: &quot;);\n        months = input.nextInt(); \n\n        SavingsAccount sa = new\n        SavingsAccount(startBalance, annual_Interest_Rate); \n\n        sa.setAnnualInterestRate(annual_Interest_Rate);\n\n        for (int i = 0; i &lt; months; i++)\n        {\n            System.out.print(&quot;Please enter the amount you would like to deposit for the month &quot; + (i+1) + &quot;:$&quot;); \n            deposit_Amount = input.nextDouble(); \n\n            sa.setDeposit(deposit_Amount); \n\n            System.out.print(&quot;Please enter the amount you would like to withdraw for the month &quot; + (i+1) + &quot;:$&quot;); \n            withdraw_Amount = input.nextDouble(); \n\n            sa.setWithdraw(withdraw_Amount); \n\n            sa.calculateMonthlyInterest();\n        }\n        sa.displayData(); \n    }\n}\n</code></pre>\n<p>And here is the error message I get when I try to run it:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable\nsource code - cannot find symbol   symbol:   class SavingsAccount<br />\nlocation: class a7main</p>\n</blockquote>\n<p>I'm a complete beginner who hasn't encountered this error before. Any suggestions for how to address this error so that I can run this code?</p>\n"},{"tags":["java","macos","homebrew"],"comments":[{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1701016970,"post_id":77544390,"comment_id":136720098,"body_markdown":"It amazes me that chat GPT gives me great (not awesome) but great suggestions and the community of people on stack just downvote for no reason.\nI will figure this out and erase the question as usual.\n\nI only posted as a last resort because I was battling with this.","body":"It amazes me that chat GPT gives me great (not awesome) but great suggestions and the community of people on stack just downvote for no reason. I will figure this out and erase the question as usual.  I only posted as a last resort because I was battling with this."},{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1701017430,"post_id":77544390,"comment_id":136720156,"body_markdown":"sdkman might solve it, but thats not the answer I was looking for.","body":"sdkman might solve it, but thats not the answer I was looking for."}],"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700858534,"answer_count":0,"score":-1,"last_activity_date":1700842083,"creation_date":1700841815,"question_id":77544390,"body_markdown":"I have installed jdk21 using `brew install openjdk@21`\r\n\r\nHowever, the JDK versions available when I execute `java_home -V` does not list it.\r\nI can see the links here.\r\n\r\n```\r\ndrwxr-xr-x  4 root  wheel  128 Nov  3 00:44 ..\r\nlrwxr-xr-x  1 root  wheel   45 Aug  5  2021 openjdk-11.jdk -&gt; /usr/local/opt/openjdk@11/libexec/openjdk.jdk\r\nlrwxr-xr-x  1 root  wheel   45 Jan  8  2023 openjdk-17.jdk -&gt; /usr/local/opt/openjdk@17/libexec/openjdk.jdk\r\nlrwxr-xr-x  1 root  wheel   44 Aug  5  2021 openjdk-8.jdk -&gt; /usr/local/opt/openjdk@8/libexec/openjdk.jdk\r\n/Library/Java/JavaVirtualMachines\r\n```\r\n\r\nBut jdk 21 is available in the /usr/local/opt.\r\n\r\n```\r\nlrwxr-xr-x   1 craigmain  admin    24 Nov 23 18:46 openjdk@21 -&gt; ../Cellar/openjdk/21.0.1\r\n```\r\n\r\nWhat process / installation manages the list in JavaVirtualMachines.\r\nHow do I ensure that a link is correctly installed.","title":"Multiple JDK versions on mac using java_home","body":"<p>I have installed jdk21 using <code>brew install openjdk@21</code></p>\n<p>However, the JDK versions available when I execute <code>java_home -V</code> does not list it.\nI can see the links here.</p>\n<pre><code>drwxr-xr-x  4 root  wheel  128 Nov  3 00:44 ..\nlrwxr-xr-x  1 root  wheel   45 Aug  5  2021 openjdk-11.jdk -&gt; /usr/local/opt/openjdk@11/libexec/openjdk.jdk\nlrwxr-xr-x  1 root  wheel   45 Jan  8  2023 openjdk-17.jdk -&gt; /usr/local/opt/openjdk@17/libexec/openjdk.jdk\nlrwxr-xr-x  1 root  wheel   44 Aug  5  2021 openjdk-8.jdk -&gt; /usr/local/opt/openjdk@8/libexec/openjdk.jdk\n/Library/Java/JavaVirtualMachines\n</code></pre>\n<p>But jdk 21 is available in the /usr/local/opt.</p>\n<pre><code>lrwxr-xr-x   1 craigmain  admin    24 Nov 23 18:46 openjdk@21 -&gt; ../Cellar/openjdk/21.0.1\n</code></pre>\n<p>What process / installation manages the list in JavaVirtualMachines.\nHow do I ensure that a link is correctly installed.</p>\n"},{"tags":["java","nullpointerexception","pentaho","pentaho-spoon","pentaho-data-integration"],"answers":[{"tags":[],"owner":{"account_id":17152367,"reputation":56,"user_id":12413983,"display_name":"NK0709"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577949733,"creation_date":1577949733,"answer_id":59559692,"question_id":59487451,"body_markdown":"ahh.. its difficult to check but if i was at your place would check the below\r\n\r\n1. all required components are available in spoon instance in which you are opening the file.\r\n2. right click and compare the file in xml version to spot the difference.\r\n3. check the java_home settings and pentaho service is running or not.\r\n4. remove and replace it with back up file.\r\n5. place the file in a different folder and then try to open it. you may get a more descriptive error to action accordingly.\r\n","title":"Error on opening any Kettle Transformation file in Pentaho Data Integration","body":"<p>ahh.. its difficult to check but if i was at your place would check the below</p>\n\n<ol>\n<li>all required components are available in spoon instance in which you are opening the file.</li>\n<li>right click and compare the file in xml version to spot the difference.</li>\n<li>check the java_home settings and pentaho service is running or not.</li>\n<li>remove and replace it with back up file.</li>\n<li>place the file in a different folder and then try to open it. you may get a more descriptive error to action accordingly.</li>\n</ol>\n"}],"owner":{"account_id":8869068,"reputation":2015,"user_id":6623277,"display_name":"KCK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10000,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700841950,"creation_date":1577357891,"question_id":59487451,"body_markdown":"I have been working with PDI since a long time and while opening the same file which used to work perfectly before is now showing the below error immediately after opening:\r\n\r\n\tjava.lang.NullPointerException\r\n\t\tat org.pentaho.di.ui.spoon.TransFileListener.open(TransFileListener.java:112)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.openFile(Spoon.java:4623)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$2.drop(Spoon.java:976)\r\n\t\tat org.eclipse.swt.dnd.DNDListener.handleEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Widget.notifyListeners(Unknown Source)\r\n\t\tat org.eclipse.swt.dnd.DropTarget.Drop(Unknown Source)\r\n\t\tat org.eclipse.swt.dnd.DropTarget.Drop_64(Unknown Source)\r\n\t\tat org.eclipse.swt.dnd.DropTarget$3.method6(Unknown Source)\r\n\t\tat org.eclipse.swt.internal.ole.win32.COMObject.callback6(Unknown Source)\r\n\t\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\r\n\t\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(Unknown Source)\r\n\t\tat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1359)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7990)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9290)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:685)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\r\n\r\nThe same file opens in other machine perfectly and wors perfectly. In Spoon debug log, I get the below error:\r\n\r\n    Unable to update instance pid: null\r\n\tERROR: Error creating bundle cache. (java.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException)\r\n\tjava.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException\r\n\t\tat org.apache.felix.framework.cache.BundleCache.&lt;init&gt;(BundleCache.java:176)\r\n\t\tat org.apache.felix.framework.Felix.init(Felix.java:648)\r\n\t\tat org.apache.karaf.main.Main.launch(Main.java:232)\r\n\t\tat org.pentaho.platform.osgi.KarafBoot$4.run(KarafBoot.java:239)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\t\tat org.pentaho.platform.osgi.KarafBoot.startup(KarafBoot.java:247)\r\n\t\tat org.pentaho.di.osgi.registryExtension.OSGIPluginRegistryExtension.init(OSGIPluginRegistryExtension.java:105)\r\n\t\tat org.pentaho.di.core.plugins.PluginRegistry.init(PluginRegistry.java:558)\r\n\t\tat org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:101)\r\n\t\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:96)\r\n\t\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:74)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:617)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:609)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\t17:30:45,214 ERROR [KarafBoot] Error starting Karaf\r\n\torg.osgi.framework.BundleException: Error creating bundle cache.\r\n\t\tat org.apache.felix.framework.Felix.init(Felix.java:653)\r\n\t\tat org.apache.karaf.main.Main.launch(Main.java:232)\r\n\t\tat org.pentaho.platform.osgi.KarafBoot$4.run(KarafBoot.java:239)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\t\tat org.pentaho.platform.osgi.KarafBoot.startup(KarafBoot.java:247)\r\n\t\tat org.pentaho.di.osgi.registryExtension.OSGIPluginRegistryExtension.init(OSGIPluginRegistryExtension.java:105)\r\n\t\tat org.pentaho.di.core.plugins.PluginRegistry.init(PluginRegistry.java:558)\r\n\t\tat org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:101)\r\n\t\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:96)\r\n\t\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:74)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:617)\r\n\t\tat org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:609)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\tCaused by: java.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException\r\n\t\tat org.apache.felix.framework.cache.BundleCache.&lt;init&gt;(BundleCache.java:176)\r\n\t\tat org.apache.felix.framework.Felix.init(Felix.java:648)\r\n\t\t... 15 more\r\n\t17:32:39,344 ERROR [KarafLifecycleListener] The Kettle Karaf Lifecycle Listener failed to execute properly after waiting for 100 seconds. Releasing lifecycle hold, but some services may be unavailable.\r\n\t2019/12/17 17:32:47 - Spoon - Logging is at level : Debug\r\n\t[Fatal Error] :1:1: Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : There was an error while reading the shared objects (continuing load) : org.pentaho.di.core.exception.KettleXMLException: \r\n\t2019/12/17 17:34:25 - General - Unexpected problem reading shared objects from XML file : null\r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - Error reading information from input stream\r\n\t2019/12/17 17:34:25 - General - Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : org.pentaho.di.core.exception.KettleXMLException: \r\n\t2019/12/17 17:34:25 - General - Unexpected problem reading shared objects from XML file : null\r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - Error reading information from input stream\r\n\t2019/12/17 17:34:25 - General - Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.shared.SharedObjects.&lt;init&gt;(SharedObjects.java:186)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.trans.TransMeta.readSharedObjects(TransMeta.java:3420)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.trans.TransMeta.loadXML(TransMeta.java:2935)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.TransFileListener.open(TransFileListener.java:61)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.openFile(Spoon.java:4623)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon$2.drop(Spoon.java:976)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.dnd.DNDListener.handleEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Widget.notifyListeners(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.dnd.DropTarget.Drop(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.dnd.DropTarget.Drop_64(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.dnd.DropTarget$3.method6(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.internal.ole.win32.COMObject.callback6(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.internal.win32.OS.DispatchMessage(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1359)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7990)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9290)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:685)\r\n\t2019/12/17 17:34:25 - General - \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t2019/12/17 17:34:25 - General - \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t2019/12/17 17:34:25 - General - \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t2019/12/17 17:34:25 - General - \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\r\n\t2019/12/17 17:34:25 - General - Caused by: org.pentaho.di.core.exception.KettleXMLException: \r\n\t2019/12/17 17:34:25 - General - Error reading information from input stream\r\n\t2019/12/17 17:34:25 - General - Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - \r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:635)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:559)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:540)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.shared.SharedObjects.&lt;init&gt;(SharedObjects.java:112)\r\n\t2019/12/17 17:34:25 - General - \t... 28 more\r\n\t2019/12/17 17:34:25 - General - Caused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\r\n\t2019/12/17 17:34:25 - General - \tat org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\r\n\t2019/12/17 17:34:25 - General - \tat javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\r\n\t2019/12/17 17:34:25 - General - \tat org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:612)\r\n\t2019/12/17 17:34:25 - General - \t... 31 more\r\n\t[Fatal Error] :1:1: Content is not allowed in prolog.\r\n\t2019/12/17 17:34:26 - Spoon - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : An unexpected error occurred in Spoon:  \r\n\t2019/12/17 17:34:26 - Spoon - null\r\n\r\nI tried uninstalling and reinstalling PDI but it did not work. Also tried clearing the cache in pentaho_data_integration_dir\\data-integration\\system\\karaf\\caches. \r\n\r\n**Edit:** This error also appears while saving a newly created transformation/job in Pentaho Data Integration.\r\n \r\nPlease help. Thanks.","title":"Error on opening any Kettle Transformation file in Pentaho Data Integration","body":"<p>I have been working with PDI since a long time and while opening the same file which used to work perfectly before is now showing the below error immediately after opening:</p>\n\n<pre><code>java.lang.NullPointerException\n    at org.pentaho.di.ui.spoon.TransFileListener.open(TransFileListener.java:112)\n    at org.pentaho.di.ui.spoon.Spoon.openFile(Spoon.java:4623)\n    at org.pentaho.di.ui.spoon.Spoon$2.drop(Spoon.java:976)\n    at org.eclipse.swt.dnd.DNDListener.handleEvent(Unknown Source)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n    at org.eclipse.swt.widgets.Widget.notifyListeners(Unknown Source)\n    at org.eclipse.swt.dnd.DropTarget.Drop(Unknown Source)\n    at org.eclipse.swt.dnd.DropTarget.Drop_64(Unknown Source)\n    at org.eclipse.swt.dnd.DropTarget$3.method6(Unknown Source)\n    at org.eclipse.swt.internal.ole.win32.COMObject.callback6(Unknown Source)\n    at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n    at org.eclipse.swt.internal.win32.OS.DispatchMessage(Unknown Source)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\n    at org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1359)\n    at org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7990)\n    at org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9290)\n    at org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:685)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\n</code></pre>\n\n<p>The same file opens in other machine perfectly and wors perfectly. In Spoon debug log, I get the below error:</p>\n\n<pre><code>Unable to update instance pid: null\nERROR: Error creating bundle cache. (java.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException)\njava.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException\n    at org.apache.felix.framework.cache.BundleCache.&lt;init&gt;(BundleCache.java:176)\n    at org.apache.felix.framework.Felix.init(Felix.java:648)\n    at org.apache.karaf.main.Main.launch(Main.java:232)\n    at org.pentaho.platform.osgi.KarafBoot$4.run(KarafBoot.java:239)\n    at java.lang.Thread.run(Thread.java:748)\n    at org.pentaho.platform.osgi.KarafBoot.startup(KarafBoot.java:247)\n    at org.pentaho.di.osgi.registryExtension.OSGIPluginRegistryExtension.init(OSGIPluginRegistryExtension.java:105)\n    at org.pentaho.di.core.plugins.PluginRegistry.init(PluginRegistry.java:558)\n    at org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:101)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:96)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:74)\n    at org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:617)\n    at org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:609)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n17:30:45,214 ERROR [KarafBoot] Error starting Karaf\norg.osgi.framework.BundleException: Error creating bundle cache.\n    at org.apache.felix.framework.Felix.init(Felix.java:653)\n    at org.apache.karaf.main.Main.launch(Main.java:232)\n    at org.pentaho.platform.osgi.KarafBoot$4.run(KarafBoot.java:239)\n    at java.lang.Thread.run(Thread.java:748)\n    at org.pentaho.platform.osgi.KarafBoot.startup(KarafBoot.java:247)\n    at org.pentaho.di.osgi.registryExtension.OSGIPluginRegistryExtension.init(OSGIPluginRegistryExtension.java:105)\n    at org.pentaho.di.core.plugins.PluginRegistry.init(PluginRegistry.java:558)\n    at org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:101)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:96)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:74)\n    at org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:617)\n    at org.pentaho.di.ui.spoon.Spoon$1.call(Spoon.java:609)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.Exception: Unable to lock bundle cache: java.nio.channels.OverlappingFileLockException\n    at org.apache.felix.framework.cache.BundleCache.&lt;init&gt;(BundleCache.java:176)\n    at org.apache.felix.framework.Felix.init(Felix.java:648)\n    ... 15 more\n17:32:39,344 ERROR [KarafLifecycleListener] The Kettle Karaf Lifecycle Listener failed to execute properly after waiting for 100 seconds. Releasing lifecycle hold, but some services may be unavailable.\n2019/12/17 17:32:47 - Spoon - Logging is at level : Debug\n[Fatal Error] :1:1: Content is not allowed in prolog.\n2019/12/17 17:34:25 - General - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : There was an error while reading the shared objects (continuing load) : org.pentaho.di.core.exception.KettleXMLException: \n2019/12/17 17:34:25 - General - Unexpected problem reading shared objects from XML file : null\n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General - Error reading information from input stream\n2019/12/17 17:34:25 - General - Content is not allowed in prolog.\n2019/12/17 17:34:25 - General - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : org.pentaho.di.core.exception.KettleXMLException: \n2019/12/17 17:34:25 - General - Unexpected problem reading shared objects from XML file : null\n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General - Error reading information from input stream\n2019/12/17 17:34:25 - General - Content is not allowed in prolog.\n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General -     at org.pentaho.di.shared.SharedObjects.&lt;init&gt;(SharedObjects.java:186)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.trans.TransMeta.readSharedObjects(TransMeta.java:3420)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.trans.TransMeta.loadXML(TransMeta.java:2935)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.TransFileListener.open(TransFileListener.java:61)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.openFile(Spoon.java:4623)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon$2.drop(Spoon.java:976)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.dnd.DNDListener.handleEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Widget.notifyListeners(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.dnd.DropTarget.Drop(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.dnd.DropTarget.Drop_64(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.dnd.DropTarget$3.method6(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.internal.ole.win32.COMObject.callback6(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.internal.win32.OS.DispatchMessage(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1359)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:7990)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9290)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:685)\n2019/12/17 17:34:25 - General -     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2019/12/17 17:34:25 - General -     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2019/12/17 17:34:25 - General -     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2019/12/17 17:34:25 - General -     at java.lang.reflect.Method.invoke(Method.java:498)\n2019/12/17 17:34:25 - General -     at org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\n2019/12/17 17:34:25 - General - Caused by: org.pentaho.di.core.exception.KettleXMLException: \n2019/12/17 17:34:25 - General - Error reading information from input stream\n2019/12/17 17:34:25 - General - Content is not allowed in prolog.\n2019/12/17 17:34:25 - General - \n2019/12/17 17:34:25 - General -     at org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:635)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:559)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:540)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.shared.SharedObjects.&lt;init&gt;(SharedObjects.java:112)\n2019/12/17 17:34:25 - General -     ... 28 more\n2019/12/17 17:34:25 - General - Caused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\n2019/12/17 17:34:25 - General -     at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n2019/12/17 17:34:25 - General -     at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n2019/12/17 17:34:25 - General -     at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\n2019/12/17 17:34:25 - General -     at org.pentaho.di.core.xml.XMLHandler.loadXMLFile(XMLHandler.java:612)\n2019/12/17 17:34:25 - General -     ... 31 more\n[Fatal Error] :1:1: Content is not allowed in prolog.\n2019/12/17 17:34:26 - Spoon - ERROR (version 7.0.0.0-25, build 1 from 2016-11-05 15.35.36 by buildguy) : An unexpected error occurred in Spoon:  \n2019/12/17 17:34:26 - Spoon - null\n</code></pre>\n\n<p>I tried uninstalling and reinstalling PDI but it did not work. Also tried clearing the cache in pentaho_data_integration_dir\\data-integration\\system\\karaf\\caches. </p>\n\n<p><strong>Edit:</strong> This error also appears while saving a newly created transformation/job in Pentaho Data Integration.</p>\n\n<p>Please help. Thanks.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1226870,"reputation":2957,"user_id":1192257,"display_name":"Anuragh27crony"},"score":1,"creation_date":1390277683,"post_id":21248125,"comment_id":32011122,"body_markdown":"what API u are using for logging??? and it&#39;s always best practice to create Log file with Time stamp. If u are running daily then date would suffice else if u are running multiple times in single day then complete time stamp.","body":"what API u are using for logging??? and it&#39;s always best practice to create Log file with Time stamp. If u are running daily then date would suffice else if u are running multiple times in single day then complete time stamp."},{"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"score":1,"creation_date":1390288485,"post_id":21248125,"comment_id":32015205,"body_markdown":"Anuragh&#39;s suggestion is a better solution for any future references. Otherwise you can write simple code to delete the file before execution starts.","body":"Anuragh&#39;s suggestion is a better solution for any future references. Otherwise you can write simple code to delete the file before execution starts."}],"answers":[{"tags":[],"owner":{"account_id":3151797,"reputation":21,"user_id":2665093,"display_name":"Sphinx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431700496,"creation_date":1431678373,"answer_id":30254878,"question_id":21248125,"body_markdown":"I hope this could help you:\r\n\r\n[Automation Log for Selenium][1]\r\n\r\n\r\n  [1]: http://learn-automation.com/how-to-create-log-files-in-selenium/\r\n\r\nStep 1- Download log4j jar file\r\n\r\nClick on the link to download http://mirrors.ibiblio.org/pub/mirrors/maven/log4j/jars/log4j-1.2.15.jar\r\n\r\nStep 2- Add log4j to your current project\r\n\r\nSelect your project &gt; Right click &gt; Click on build path&gt; Click Configure build path&gt; Go to library section &gt; Add external jar file &gt; select the log4j &gt; click on save\r\n\r\nStep 3- Open notepad and copy the below code and save the file as log4j.properties. This file should be placed in the src directory, this should create a &quot;default package&quot;.\r\n\r\n\t// Here we have defined root logger\r\n\tlog4j.rootLogger=INFO,CONSOLE,R,HTML,TTCC\r\n \r\n\t// Here we define the appender\r\n\tlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\r\n\tlog4j.appender.R=org.apache.log4j.RollingFileAppender\r\n\tlog4j.appender.TTCC=org.apache.log4j.RollingFileAppender\r\n\tlog4j.appender.HTML=org.apache.log4j.FileAppender\r\n \r\n\t// Here we define log file location\r\n\tlog4j.appender.R.File=./log/testlog.log\r\n\tlog4j.appender.TTCC.File=./log/testlog1.log\r\n\tlog4j.appender.HTML.File=./log/application.html\r\n \r\n\t// Here we define the layout and pattern\r\n\tlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\r\n\tlog4j.appender.CONSOLE.layout.ConversionPattern= %5p [%t] (%F:%L)- %m%n\r\n\tlog4j.appender.R.layout=org.apache.log4j.PatternLayout\r\n\tlog4j.appender.R.layout.ConversionPattern=%d - %c -%p - %m%n\r\n\tlog4j.appender.TTCC.layout=org.apache.log4j.TTCCLayout\r\n\tlog4j.appender.TTCC.layout.DateFormat=ISO8601\r\n\tlog4j.appender.HTML.layout=org.apache.log4j.HTMLLayout\r\n\tlog4j.appender.HTML.layout.Title=Application log\r\n\tlog4j.appender.HTML.layout.LocationInfo=true\r\n\r\nStep 4- Write test case\r\n\r\n\timport java.util.concurrent.TimeUnit;\r\n\timport orgenter code here.apache.log4j.Logger;\r\n\timport org.apache.log4j.PropertyConfigurator;\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n \r\n \r\n\tpublic class Google {\r\n \t   public static void main(String[] args) {\r\n      \r\n\t    // Here we need to create logger instance so we need to pass Class name for \r\n \t    //which  we want to create log file in my case Google is classname\r\n\t         Logger logger=Logger.getLogger(&quot;Google&quot;);\r\n  \r\n \t      // configure log4j properties file\r\n\t       PropertyConfigurator.configure(&quot;Log4j.properties&quot;);\r\n\t       \t // Open browser\r\n\t        WebDriver driver = new FirefoxDriver();\r\n\t        logger.info(&quot;Browser Opened&quot;);\r\n      \r\n\t        // Set implicit wait\r\n\t        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\t        logger.info(&quot;Implicit wait given&quot;);\r\n \r\n\t        // Load application\r\n   \t     driver.get(&quot;https://www.google.co.in/&quot;);\r\n   \t     logger.info(&quot;Url opened&quot;);\r\n      \r\n \r\n \t       // type Selenium\r\n \t       driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;Selenium&quot;);\r\n\t        logger.info(&quot;keyword type&quot;);           \r\n\t    }\r\n\t}\r\nStep 5- Execute  your test case and verify the output and log files as well. This logs will be created in the project folder with &quot;log&quot; label\r\n","title":"How to create log file history in selenium webdriver using java","body":"<p>I hope this could help you:</p>\n\n<p><a href=\"http://learn-automation.com/how-to-create-log-files-in-selenium/\" rel=\"nofollow\">Automation Log for Selenium</a></p>\n\n<p>Step 1- Download log4j jar file</p>\n\n<p>Click on the link to download <a href=\"http://mirrors.ibiblio.org/pub/mirrors/maven/log4j/jars/log4j-1.2.15.jar\" rel=\"nofollow\">http://mirrors.ibiblio.org/pub/mirrors/maven/log4j/jars/log4j-1.2.15.jar</a></p>\n\n<p>Step 2- Add log4j to your current project</p>\n\n<p>Select your project > Right click > Click on build path> Click Configure build path> Go to library section > Add external jar file > select the log4j > click on save</p>\n\n<p>Step 3- Open notepad and copy the below code and save the file as log4j.properties. This file should be placed in the src directory, this should create a \"default package\".</p>\n\n<pre><code>// Here we have defined root logger\nlog4j.rootLogger=INFO,CONSOLE,R,HTML,TTCC\n\n// Here we define the appender\nlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.TTCC=org.apache.log4j.RollingFileAppender\nlog4j.appender.HTML=org.apache.log4j.FileAppender\n\n// Here we define log file location\nlog4j.appender.R.File=./log/testlog.log\nlog4j.appender.TTCC.File=./log/testlog1.log\nlog4j.appender.HTML.File=./log/application.html\n\n// Here we define the layout and pattern\nlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CONSOLE.layout.ConversionPattern= %5p [%t] (%F:%L)- %m%n\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%d - %c -%p - %m%n\nlog4j.appender.TTCC.layout=org.apache.log4j.TTCCLayout\nlog4j.appender.TTCC.layout.DateFormat=ISO8601\nlog4j.appender.HTML.layout=org.apache.log4j.HTMLLayout\nlog4j.appender.HTML.layout.Title=Application log\nlog4j.appender.HTML.layout.LocationInfo=true\n</code></pre>\n\n<p>Step 4- Write test case</p>\n\n<pre><code>import java.util.concurrent.TimeUnit;\nimport orgenter code here.apache.log4j.Logger;\nimport org.apache.log4j.PropertyConfigurator;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\n\npublic class Google {\n   public static void main(String[] args) {\n\n    // Here we need to create logger instance so we need to pass Class name for \n    //which  we want to create log file in my case Google is classname\n         Logger logger=Logger.getLogger(\"Google\");\n\n      // configure log4j properties file\n       PropertyConfigurator.configure(\"Log4j.properties\");\n         // Open browser\n        WebDriver driver = new FirefoxDriver();\n        logger.info(\"Browser Opened\");\n\n        // Set implicit wait\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        logger.info(\"Implicit wait given\");\n\n        // Load application\n     driver.get(\"https://www.google.co.in/\");\n     logger.info(\"Url opened\");\n\n\n       // type Selenium\n       driver.findElement(By.name(\"q\")).sendKeys(\"Selenium\");\n        logger.info(\"keyword type\");           \n    }\n}\n</code></pre>\n\n<p>Step 5- Execute  your test case and verify the output and log files as well. This logs will be created in the project folder with \"log\" label</p>\n"},{"tags":[],"owner":{"account_id":8334235,"reputation":1964,"user_id":6261717,"accept_rate":100,"display_name":"ALUFTW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614089859,"creation_date":1614089859,"answer_id":66334903,"question_id":21248125,"body_markdown":"You can just clear the log file at the beginning of your code:\r\n\r\n    PrintWriter writer = new PrintWriter(logfile);\r\n    writer.print(&quot;&quot;);\r\n    writer.close();","title":"How to create log file history in selenium webdriver using java","body":"<p>You can just clear the log file at the beginning of your code:</p>\n<pre><code>PrintWriter writer = new PrintWriter(logfile);\nwriter.print(&quot;&quot;);\nwriter.close();\n</code></pre>\n"}],"owner":{"account_id":3181564,"reputation":1746,"user_id":2994827,"accept_rate":47,"display_name":"testing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700841950,"creation_date":1390272073,"question_id":21248125,"body_markdown":"Currently working on selenium webdriver. I have created a log file and the log information stored in logfile.log. when i start running my test case the log information is captured but the entire history is visible. i want to clear the log file or it need to be cleared before starting the execution of test cases.\r\n\r\nSample log info:\r\n\r\n    2013-10-01 09:18:06,655 INFO  [TEST] Initializing Selenium... \r\n    2013-10-01 09:18:06,686 INFO  [TEST] Selenium instance started \r\n    2013-10-01 09:18:11,905 INFO  [TEST] ______________________________________________________________ \r\n    2013-10-01 09:18:11,905 INFO  [TEST] Initializing Selenium... \r\n    2013-10-01 09:18:11,921 INFO  [TEST] Selenium instance started \r\n    2013-10-01 09:18:11,921 INFO  [TEST] Accessing Stored uid,pwd from the stored text file \r\n    2013-10-01 09:18:11,921 INFO  [TEST] Retrieved uid pwd from the text file \r\n    2013-10-01 09:18:12,858 INFO  [TEST] Sign in to the OneReports website \r\n    2013-10-01 09:18:12,874 INFO  [TEST] Enter Username \r\n    2013-10-01 09:18:13,077 INFO  [TEST] Enter Password \r\n    2013-10-01 09:18:14,155 INFO  [TEST] Submitting login details \r\n    2013-10-01 09:18:33,139 INFO  [TEST] Stopping Selenium... \r\n    2013-10-01 09:18:33,139 INFO  [TEST]  ______________________________________________________________ ","title":"How to create log file history in selenium webdriver using java","body":"<p>Currently working on selenium webdriver. I have created a log file and the log information stored in logfile.log. when i start running my test case the log information is captured but the entire history is visible. i want to clear the log file or it need to be cleared before starting the execution of test cases.</p>\n\n<p>Sample log info:</p>\n\n<pre><code>2013-10-01 09:18:06,655 INFO  [TEST] Initializing Selenium... \n2013-10-01 09:18:06,686 INFO  [TEST] Selenium instance started \n2013-10-01 09:18:11,905 INFO  [TEST] ______________________________________________________________ \n2013-10-01 09:18:11,905 INFO  [TEST] Initializing Selenium... \n2013-10-01 09:18:11,921 INFO  [TEST] Selenium instance started \n2013-10-01 09:18:11,921 INFO  [TEST] Accessing Stored uid,pwd from the stored text file \n2013-10-01 09:18:11,921 INFO  [TEST] Retrieved uid pwd from the text file \n2013-10-01 09:18:12,858 INFO  [TEST] Sign in to the OneReports website \n2013-10-01 09:18:12,874 INFO  [TEST] Enter Username \n2013-10-01 09:18:13,077 INFO  [TEST] Enter Password \n2013-10-01 09:18:14,155 INFO  [TEST] Submitting login details \n2013-10-01 09:18:33,139 INFO  [TEST] Stopping Selenium... \n2013-10-01 09:18:33,139 INFO  [TEST]  ______________________________________________________________ \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9822,"page":36,"page_size":100}
