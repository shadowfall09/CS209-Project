{"items":[{"tags":["java","android","css","xml","android-view"],"comments":[{"owner":{"account_id":12271107,"reputation":1372,"user_id":8956215,"display_name":"Harsh Jain"},"score":0,"creation_date":1528969089,"post_id":50853469,"comment_id":88711281,"body_markdown":"Have you tried adjustViewBounds = &quot;true&quot;?","body":"Have you tried adjustViewBounds = &quot;true&quot;?"},{"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"score":0,"creation_date":1528969915,"post_id":50853469,"comment_id":88711822,"body_markdown":"@harshjain ` adjustViewBounds` is for Images, and beside, it&#39;s not even for this, but aspect ratio.","body":"@harshjain ` adjustViewBounds` is for Images, and beside, it&#39;s not even for this, but aspect ratio."},{"owner":{"account_id":3849876,"reputation":2565,"user_id":3190306,"accept_rate":78,"display_name":"Tadija Bagarić"},"score":0,"creation_date":1529142691,"post_id":50853469,"comment_id":88775059,"body_markdown":"there is no `android:clipToPadding` in the code. Could you post a sketch of what you would like?","body":"there is no <code>android:clipToPadding</code> in the code. Could you post a sketch of what you would like?"},{"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"score":0,"creation_date":1529143336,"post_id":50853469,"comment_id":88775217,"body_markdown":"@TadijaBagarić the code was simply cut out by poorly formatted code, see edit.","body":"@TadijaBagarić the code was simply cut out by poorly formatted code, see edit."},{"owner":{"account_id":3849876,"reputation":2565,"user_id":3190306,"accept_rate":78,"display_name":"Tadija Bagarić"},"score":0,"creation_date":1529153350,"post_id":50853469,"comment_id":88777445,"body_markdown":"Have you tried setting android:layout_height to `match_parent`?","body":"Have you tried setting android:layout_height to <code>match_parent</code>?"},{"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"score":0,"creation_date":1529155041,"post_id":50853469,"comment_id":88777804,"body_markdown":"@TadijaBagarić ok, tried that, not changing.","body":"@TadijaBagarić ok, tried that, not changing."},{"owner":{"account_id":5982108,"reputation":5333,"user_id":4700782,"accept_rate":71,"display_name":"Pier Giorgio Misley"},"score":0,"creation_date":1529393889,"post_id":50853469,"comment_id":88845227,"body_markdown":"yo! I didn&#39;t understand one stuff: you said that the relativelayout has the clipToPadding, but it is in the linearLayout, right? another stuff is: which view is overflowing from its parent? the child relativelayout?","body":"yo! I didn&#39;t understand one stuff: you said that the relativelayout has the clipToPadding, but it is in the linearLayout, right? another stuff is: which view is overflowing from its parent? the child relativelayout?"},{"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"score":0,"creation_date":1529488583,"post_id":50853469,"comment_id":88888073,"body_markdown":"@PierGiorgioMisley, the SimpleDraweeView.","body":"@PierGiorgioMisley, the SimpleDraweeView."},{"owner":{"account_id":5982108,"reputation":5333,"user_id":4700782,"accept_rate":71,"display_name":"Pier Giorgio Misley"},"score":0,"creation_date":1529496681,"post_id":50853469,"comment_id":88893250,"body_markdown":"@Relm thanks, can you provide a screenshot of the actual result? just to have a correct idea of what is appening :)","body":"@Relm thanks, can you provide a screenshot of the actual result? just to have a correct idea of what is appening :)"}],"answers":[{"tags":[],"owner":{"account_id":3849876,"reputation":2565,"user_id":3190306,"accept_rate":78,"display_name":"Tadija Bagarić"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1529393352,"creation_date":1529144846,"answer_id":50887078,"question_id":50853469,"body_markdown":"Consider changing layouts. What you want can be done with `ConstraintLayout`.\r\n\r\nJust set the the dimensions of the layout and don&#39;t set the constraint on the part you want to overflow/hide.\r\n\r\nThe following code shows a `View` that adjusts it dimensions to its constraint and another that overflows.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCreate a new android project and paste this as `activity_main.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:layout_margin=&quot;55dp&quot;&gt;\r\n    \r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView3&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/guideline&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@android:drawable/sym_def_app_icon&quot;/&gt;\r\n    \r\n        &lt;android.support.constraint.Guideline\r\n            android:id=&quot;@+id/guideline&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintGuide_begin=&quot;84dp&quot;/&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView4&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;300dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/guideline&quot;\r\n            app:srcCompat=&quot;@mipmap/ic_launcher&quot;/&gt;\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NmV9P.gif","title":"Android : How to clip views by parent, like CSS overflow:hidden","body":"<p>Consider changing layouts. What you want can be done with <code>ConstraintLayout</code>.</p>\n\n<p>Just set the the dimensions of the layout and don't set the constraint on the part you want to overflow/hide.</p>\n\n<p>The following code shows a <code>View</code> that adjusts it dimensions to its constraint and another that overflows.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NmV9P.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NmV9P.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Create a new android project and paste this as <code>activity_main.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"\n    android:layout_margin=\"55dp\"&gt;\n\n\n    &lt;ImageView\n        android:id=\"@+id/imageView3\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/guideline\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"@android:drawable/sym_def_app_icon\"/&gt;\n\n    &lt;android.support.constraint.Guideline\n        android:id=\"@+id/guideline\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"\n        app:layout_constraintGuide_begin=\"84dp\"/&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imageView4\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"300dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/guideline\"\n        app:srcCompat=\"@mipmap/ic_launcher\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1924406,"reputation":8425,"user_id":1735198,"accept_rate":86,"display_name":"TpoM6oH"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529247643,"creation_date":1529247643,"answer_id":50897832,"question_id":50853469,"body_markdown":"Your parent view has     \r\n    \r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n\r\nwhich means that the view takes all available width and up to all available height if child views are large enough. With this setup you can&#39;t seethe `overflow:hidden` behaviour because the parent will resize itself to contain children up to the whole screen size.\r\n\r\nActually, default view behaviour in android is similar to `overflow:hidden`.\r\n\r\nWhat you need to do to see it is set fixed dimentions on the parent. \r\n\r\nJust try to use something like:\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;20dp&quot;\r\n        android:layout_height=&quot;20dp&quot;\r\n\r\nand you&#39;ll get the idea.\r\n\r\n\r\nOn a different note, you don&#39;t need to have a LinearLayout just to host a RelayiveLayout - use the RelativeLayout directly. Also, using `android:orientation=&quot;horizontal&quot;` makes it behave similarly to flexbox direction row, not sure if that&#39;s something you want here.","title":"Android : How to clip views by parent, like CSS overflow:hidden","body":"<p>Your parent view has     </p>\n\n<pre><code>android:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\n</code></pre>\n\n<p>which means that the view takes all available width and up to all available height if child views are large enough. With this setup you can't seethe <code>overflow:hidden</code> behaviour because the parent will resize itself to contain children up to the whole screen size.</p>\n\n<p>Actually, default view behaviour in android is similar to <code>overflow:hidden</code>.</p>\n\n<p>What you need to do to see it is set fixed dimentions on the parent. </p>\n\n<p>Just try to use something like:</p>\n\n<pre><code>&lt;LinearLayout\n    android:layout_width=\"20dp\"\n    android:layout_height=\"20dp\"\n</code></pre>\n\n<p>and you'll get the idea.</p>\n\n<p>On a different note, you don't need to have a LinearLayout just to host a RelayiveLayout - use the RelativeLayout directly. Also, using <code>android:orientation=\"horizontal\"</code> makes it behave similarly to flexbox direction row, not sure if that's something you want here.</p>\n"},{"tags":[],"owner":{"account_id":22346460,"reputation":1,"user_id":16565379,"display_name":"Vishal Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672486062,"creation_date":1672465659,"answer_id":74967767,"question_id":50853469,"body_markdown":"In native Android, `overflow: hidden` is `android:clipToOutline=&quot;true&quot;`.\r\n\r\n","title":"Android : How to clip views by parent, like CSS overflow:hidden","body":"<p>In native Android, <code>overflow: hidden</code> is <code>android:clipToOutline=&quot;true&quot;</code>.</p>\n"}],"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4566,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1672486062,"creation_date":1528966440,"question_id":50853469,"body_markdown":"I have views as follows : \r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;@dimen/global_legal_gap&quot;\r\n        android:clipToPadding=&quot;true&quot;\r\n        android:clipChildren=&quot;true&quot;\r\n        android:baselineAligned=&quot;false&quot;\r\n        android:background=&quot;@drawable/post_sound_bg&quot;\r\n        android:foreground=&quot;?attr/selectableItemBackgroundBorderless&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;@dimen/post_sound_card_height&quot;\r\n            android:layout_height=&quot;@dimen/post_sound_card_height&quot;&gt;\r\n\r\n            &lt;com.facebook.drawee.view.SimpleDraweeView\r\n                android:id=&quot;@+id/album_art&quot;\r\n                android:layout_width=&quot;@dimen/post_sound_card_height&quot;\r\n                android:layout_height=&quot;@dimen/post_sound_card_height&quot;\r\n                fresco:backgroundImage=&quot;@drawable/music_placeholder&quot; /&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/play_icon_control&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot;\r\n                android:visibility=&quot;gone&quot;&gt;\r\n\r\n                &lt;View\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_centerInParent=&quot;true&quot;\r\n                    android:layout_margin=&quot;3dp&quot; /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;LinearLayout&gt;\r\n\r\nAs shown in the parent `RelativeLayout`, I&#39;m using `android:clipToPadding=&quot;true&quot;` and \r\n        `android:clipChildren=&quot;true&quot;`, yet the children of this parent view are still protruding outside it. \r\n\r\nOr I&#39;m I doing this right? How do I achieve something like CSS&#39;s `overflow:hidden`?","title":"Android : How to clip views by parent, like CSS overflow:hidden","body":"<p>I have views as follows : </p>\n\n<pre><code>&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"@dimen/global_legal_gap\"\n    android:clipToPadding=\"true\"\n    android:clipChildren=\"true\"\n    android:baselineAligned=\"false\"\n    android:background=\"@drawable/post_sound_bg\"\n    android:foreground=\"?attr/selectableItemBackgroundBorderless\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"@dimen/post_sound_card_height\"\n        android:layout_height=\"@dimen/post_sound_card_height\"&gt;\n\n        &lt;com.facebook.drawee.view.SimpleDraweeView\n            android:id=\"@+id/album_art\"\n            android:layout_width=\"@dimen/post_sound_card_height\"\n            android:layout_height=\"@dimen/post_sound_card_height\"\n            fresco:backgroundImage=\"@drawable/music_placeholder\" /&gt;\n\n        &lt;RelativeLayout\n            android:id=\"@+id/play_icon_control\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_alignParentBottom=\"true\"\n            android:visibility=\"gone\"&gt;\n\n            &lt;View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_centerInParent=\"true\"\n                android:layout_margin=\"3dp\" /&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/RelativeLayout&gt;\n&lt;LinearLayout&gt;\n</code></pre>\n\n<p>As shown in the parent <code>RelativeLayout</code>, I'm using <code>android:clipToPadding=\"true\"</code> and \n        <code>android:clipChildren=\"true\"</code>, yet the children of this parent view are still protruding outside it. </p>\n\n<p>Or I'm I doing this right? How do I achieve something like CSS's <code>overflow:hidden</code>?</p>\n"},{"tags":["java","io","stream"],"comments":[{"owner":{"account_id":17599814,"reputation":33,"user_id":12770029,"display_name":"Leveling_up"},"score":0,"creation_date":1672485841,"post_id":74969161,"comment_id":132297039,"body_markdown":"Why we use that is clear but couldn&#39;t understand this part of the sentence :   &quot;Similarly, buffered output streams write data to a buffer, and the native output API is called only when the buffer is full.&quot;","body":"Why we use that is clear but couldn&#39;t understand this part of the sentence :   &quot;Similarly, buffered output streams write data to a buffer, and the native output API is called only when the buffer is full.&quot;"},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1672485843,"post_id":74969161,"comment_id":132297043,"body_markdown":"Your data is written into a buffer in memory. It is only written to native output (which might be hard drive, network io, etc.) when the buffer is full. Usually, you can call `flush` to force the data to be written to the output before the buffer getting filled.","body":"Your data is written into a buffer in memory. It is only written to native output (which might be hard drive, network io, etc.) when the buffer is full. Usually, you can call <code>flush</code> to force the data to be written to the output before the buffer getting filled."},{"owner":{"account_id":17599814,"reputation":33,"user_id":12770029,"display_name":"Leveling_up"},"score":0,"creation_date":1672486016,"post_id":74969161,"comment_id":132297073,"body_markdown":"&quot;Only if the buffer is full then the data will be written&quot; thanks @Ervin Szilagyi understood that &#128513; but  what if we don&#39;t flush the partially-filled buffer ?","body":"&quot;Only if the buffer is full then the data will be written&quot; thanks @Ervin Szilagyi understood that 😁 but  what if we don&#39;t flush the partially-filled buffer ?"},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1672486096,"post_id":74969161,"comment_id":132297085,"body_markdown":"Depending on your system, the data might get simply lost.","body":"Depending on your system, the data might get simply lost."}],"owner":{"account_id":17599814,"reputation":33,"user_id":12770029,"display_name":"Leveling_up"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672486261,"answer_count":0,"score":0,"last_activity_date":1672485962,"creation_date":1672485470,"question_id":74969161,"body_markdown":"The below line is from the java documentation.\r\n\r\n&gt; &quot;Buffered input streams read data from a memory area known as a buffer; the native input API is called only when the buffer is empty. Similarly, buffered output streams write data to a buffer, and the native output API is called only when the buffer is full.&quot;\r\n\r\nCan some-one explain what does the line mean especially the last part of it ..","title":"Buffered-Input Stream","body":"<p>The below line is from the java documentation.</p>\n<blockquote>\n<p>&quot;Buffered input streams read data from a memory area known as a buffer; the native input API is called only when the buffer is empty. Similarly, buffered output streams write data to a buffer, and the native output API is called only when the buffer is full.&quot;</p>\n</blockquote>\n<p>Can some-one explain what does the line mean especially the last part of it ..</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":17302009,"reputation":115,"user_id":12531578,"display_name":"DanTe"},"score":0,"creation_date":1672484030,"post_id":74965336,"comment_id":132296739,"body_markdown":"This allows you to distinguish between a JSON null value and a missing value in the JSON document.","body":"This allows you to distinguish between a JSON null value and a missing value in the JSON document."},{"owner":{"account_id":3106484,"reputation":61,"user_id":2629144,"display_name":"markin"},"score":0,"creation_date":1672499755,"post_id":74965336,"comment_id":132299464,"body_markdown":"I think NullNode and MissingNode  no needs to use the asText method to distinguish.","body":"I think NullNode and MissingNode  no needs to use the asText method to distinguish."}],"answers":[{"tags":[],"owner":{"account_id":1156433,"reputation":1407,"user_id":1136905,"accept_rate":83,"display_name":"swaechter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672485382,"creation_date":1672485034,"answer_id":74969136,"question_id":74965336,"body_markdown":"The initial Jackson tree API was suffering from exactly this issue. To overcome missing/null key/node handling, the `path(...)` method was introduced. This method behaves like `get(...)`, but adds a virtual node for missing keys (`MissingNode`) and null values (`NullNode`), so you don&#39;t have to deal with a null return reference. You can use the methods `isMissingNode()` and `isNull()` to check for this node type.\r\n\r\nSee the code bellow which eliminates the null checks (You have to handle null/missing keys anyway. Jackson can&#39;t solve that problem):\r\n\r\n```java\r\npublic class Example {\r\n\r\n    public static void main(String[] arguments) throws Exception {\r\n        // Create the object mapper\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        // Define the string and parse it\r\n        String json = &quot;{\\&quot;id\\&quot;:null,\\&quot;locationId\\&quot;:\\&quot;abc\\&quot;, \\&quot;intvalue\\&quot;: 1}&quot;;\r\n        JsonNode rootNode = mapper.readTree(json);\r\n\r\n        // Print different nodes\r\n        printType(rootNode, &quot;nonexistingkey&quot;);\r\n        printType(rootNode, &quot;id&quot;);\r\n        printType(rootNode, &quot;intvalue&quot;);\r\n\r\n        // And in your case\r\n        System.out.println(&quot;===== ID Check =====&quot;);\r\n        JsonNode idNode = rootNode.path(&quot;id&quot;); // Change it to locationId to see the Good value\r\n        if (idNode.isMissingNode()) {\r\n            System.out.println(&quot;id key does not exist&quot;);\r\n        } else if (idNode.isNull()) {\r\n            System.out.println(&quot;id key does exist but value is null&quot;);\r\n        } else if (idNode.isTextual()) {\r\n            System.out.println(&quot;Good value: &quot; + idNode.asText());\r\n        }\r\n    }\r\n\r\n    public static void printType(JsonNode rootNode, String key) {\r\n        // Get the child node\r\n        JsonNode childNode = rootNode.path(key);\r\n        System.out.println(&quot;===== &quot; + key + &quot; =====&quot;);\r\n        System.out.println(&quot;Is node missing: &quot; + childNode.isMissingNode());\r\n        System.out.println(&quot;Is node instanceof MissingNode: &quot; + (childNode instanceof MissingNode)); // MissingNode is a virtual node\r\n        System.out.println(&quot;Is node null: &quot; + childNode.isNull());\r\n        System.out.println(&quot;Is node instanceof NullNode: &quot; + (childNode instanceof NullNode)); // NullNode is a virtual node\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n===== nonexistingkey =====\r\nIs node missing: true\r\nIs node instanceof MissingNode: true\r\nIs node null: false\r\nIs node instanceof NullNode: false\r\n\r\n===== id =====\r\nIs node missing: false\r\nIs node instanceof MissingNode: false\r\nIs node null: true\r\nIs node instanceof NullNode: true\r\n\r\n===== intvalue =====\r\nIs node missing: false\r\nIs node instanceof MissingNode: false\r\nIs node null: false\r\nIs node instanceof NullNode: false\r\n\r\n===== ID Check =====\r\nid key does exist but value is null\r\n```","title":"How to avoid jackson NullNode.asText() returning a &quot;null&quot; string?","body":"<p>The initial Jackson tree API was suffering from exactly this issue. To overcome missing/null key/node handling, the <code>path(...)</code> method was introduced. This method behaves like <code>get(...)</code>, but adds a virtual node for missing keys (<code>MissingNode</code>) and null values (<code>NullNode</code>), so you don't have to deal with a null return reference. You can use the methods <code>isMissingNode()</code> and <code>isNull()</code> to check for this node type.</p>\n<p>See the code bellow which eliminates the null checks (You have to handle null/missing keys anyway. Jackson can't solve that problem):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    public static void main(String[] arguments) throws Exception {\n        // Create the object mapper\n        ObjectMapper mapper = new ObjectMapper();\n\n        // Define the string and parse it\n        String json = &quot;{\\&quot;id\\&quot;:null,\\&quot;locationId\\&quot;:\\&quot;abc\\&quot;, \\&quot;intvalue\\&quot;: 1}&quot;;\n        JsonNode rootNode = mapper.readTree(json);\n\n        // Print different nodes\n        printType(rootNode, &quot;nonexistingkey&quot;);\n        printType(rootNode, &quot;id&quot;);\n        printType(rootNode, &quot;intvalue&quot;);\n\n        // And in your case\n        System.out.println(&quot;===== ID Check =====&quot;);\n        JsonNode idNode = rootNode.path(&quot;id&quot;); // Change it to locationId to see the Good value\n        if (idNode.isMissingNode()) {\n            System.out.println(&quot;id key does not exist&quot;);\n        } else if (idNode.isNull()) {\n            System.out.println(&quot;id key does exist but value is null&quot;);\n        } else if (idNode.isTextual()) {\n            System.out.println(&quot;Good value: &quot; + idNode.asText());\n        }\n    }\n\n    public static void printType(JsonNode rootNode, String key) {\n        // Get the child node\n        JsonNode childNode = rootNode.path(key);\n        System.out.println(&quot;===== &quot; + key + &quot; =====&quot;);\n        System.out.println(&quot;Is node missing: &quot; + childNode.isMissingNode());\n        System.out.println(&quot;Is node instanceof MissingNode: &quot; + (childNode instanceof MissingNode)); // MissingNode is a virtual node\n        System.out.println(&quot;Is node null: &quot; + childNode.isNull());\n        System.out.println(&quot;Is node instanceof NullNode: &quot; + (childNode instanceof NullNode)); // NullNode is a virtual node\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>===== nonexistingkey =====\nIs node missing: true\nIs node instanceof MissingNode: true\nIs node null: false\nIs node instanceof NullNode: false\n\n===== id =====\nIs node missing: false\nIs node instanceof MissingNode: false\nIs node null: true\nIs node instanceof NullNode: true\n\n===== intvalue =====\nIs node missing: false\nIs node instanceof MissingNode: false\nIs node null: false\nIs node instanceof NullNode: false\n\n===== ID Check =====\nid key does exist but value is null\n</code></pre>\n"}],"owner":{"account_id":3106484,"reputation":61,"user_id":2629144,"display_name":"markin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1794,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672485382,"creation_date":1672430003,"question_id":74965336,"body_markdown":"Sometimes we don&#39;t need a pojo Class to map a json. just using jsonNode to get some text value from a json.  But why the jackson libirary designed the NullNode.asText return a &quot;null&quot; string, but not null.    \r\n  \r\n```java\r\nString json = &quot;{\\&quot;id\\&quot;:null,\\&quot;locationId\\&quot;:\\&quot;abc\\&quot;, \\&quot;intvalue\\&quot;: 1}&quot;;\r\nObjectMapper mapper = JsonMapper.builder().build();\r\n\r\nJsonNode node = ObjectMapper.readTree(json);\r\n\r\nisNotEmpty(jsonNode.path(&quot;id&quot;).asText()) &amp;&amp; !&quot;null&quot;.equals(jsonNode.path(&quot;id&quot;).asText())\r\n// do something...\r\n```\r\n\r\nLike this scene, the id may be a string or a long value.  if i use path(&quot;id&quot;).textValue() is not suitable. \r\n\r\nwhen using asText() I need to check the value isEmpty or equals &quot;null&quot; str.   It&#39;s so ugly.\r\n\r\nI just using IsNotEmpty(var) &amp;&amp; !&quot;null&quot;.equals(var). ","title":"How to avoid jackson NullNode.asText() returning a &quot;null&quot; string?","body":"<p>Sometimes we don't need a pojo Class to map a json. just using jsonNode to get some text value from a json.  But why the jackson libirary designed the NullNode.asText return a &quot;null&quot; string, but not null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;{\\&quot;id\\&quot;:null,\\&quot;locationId\\&quot;:\\&quot;abc\\&quot;, \\&quot;intvalue\\&quot;: 1}&quot;;\nObjectMapper mapper = JsonMapper.builder().build();\n\nJsonNode node = ObjectMapper.readTree(json);\n\nisNotEmpty(jsonNode.path(&quot;id&quot;).asText()) &amp;&amp; !&quot;null&quot;.equals(jsonNode.path(&quot;id&quot;).asText())\n// do something...\n</code></pre>\n<p>Like this scene, the id may be a string or a long value.  if i use path(&quot;id&quot;).textValue() is not suitable.</p>\n<p>when using asText() I need to check the value isEmpty or equals &quot;null&quot; str.   It's so ugly.</p>\n<p>I just using IsNotEmpty(var) &amp;&amp; !&quot;null&quot;.equals(var).</p>\n"},{"tags":["java","arrays","string","boolean","java.util.scanner"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1672446114,"post_id":74966702,"comment_id":132292778,"body_markdown":"This appears to be an attempt to ask the user to input the name of a state capital, and then test the input to see if it is, in fact, the name of a state capital. The program will output either `Correct` or `incorrect`. I don&#39;t see any attempt to count anything. There are two problems with the code: `String [] capitals = stateCapitals[1];`  1) This is an array of 1 element. You probably want an array of 50 elements.  2) The `capitals` array doesn&#39;t really contain names of capitals.","body":"This appears to be an attempt to ask the user to input the name of a state capital, and then test the input to see if it is, in fact, the name of a state capital. The program will output either <code>Correct</code> or <code>incorrect</code>. I don&#39;t see any attempt to count anything. There are two problems with the code: <code>String [] capitals = stateCapitals[1];</code>  1) This is an array of 1 element. You probably want an array of 50 elements.  2) The <code>capitals</code> array doesn&#39;t really contain names of capitals."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1672446157,"post_id":74966702,"comment_id":132292785,"body_markdown":"For an example of how to initialize a `String` array with literals, see https://stackoverflow.com/questions/31641638/shuffling-a-2d-array-while-keeping-columns-elements-together .","body":"For an example of how to initialize a <code>String</code> array with literals, see <a href=\"https://stackoverflow.com/questions/31641638/shuffling-a-2d-array-while-keeping-columns-elements-together\" title=\"shuffling a 2d array while keeping columns elements together\">stackoverflow.com/questions/31641638/&hellip;</a> ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1672447621,"post_id":74966702,"comment_id":132292979,"body_markdown":"For another example, see https://stackoverflow.com/questions/74355188/2d-array-for-state-and-capitols-with-system-asking-user-input-and-then-validat . Note that this is a 2D array, as in the previous example, while you want a 1D array.","body":"For another example, see <a href=\"https://stackoverflow.com/questions/74355188/2d-array-for-state-and-capitols-with-system-asking-user-input-and-then-validat\" title=\"2d array for state and capitols with system asking user input and then validat\">stackoverflow.com/questions/74355188/&hellip;</a> . Note that this is a 2D array, as in the previous example, while you want a 1D array."},{"owner":{"account_id":27394915,"reputation":1,"user_id":20897281,"display_name":"Natebd"},"score":0,"creation_date":1672464909,"post_id":74966702,"comment_id":132294490,"body_markdown":"@OldDogProgrammer I should add that I created a 2d array earlier in the code(not shown because I thought it would be a little too long for my question, and used the scanner class to get user input.  That&#39;s where this snippet is coming from.  I&#39;m just wondering if there&#39;s a way where I can maybe turn this into something that allows multiple inputs with a correct/false response without ending the program after the first correct and the ablility to also count the correct answers. Is this possible?  I had tried adding count++ under the match = true line but was getting an error.","body":"@OldDogProgrammer I should add that I created a 2d array earlier in the code(not shown because I thought it would be a little too long for my question, and used the scanner class to get user input.  That&#39;s where this snippet is coming from.  I&#39;m just wondering if there&#39;s a way where I can maybe turn this into something that allows multiple inputs with a correct/false response without ending the program after the first correct and the ablility to also count the correct answers. Is this possible?  I had tried adding count++ under the match = true line but was getting an error."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1672586058,"post_id":74966702,"comment_id":132308979,"body_markdown":"Looks like you took the advice to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).  Perhaps you overdid it, making it subminimal.  But, in any case, I&#39;m not sure what you are asking. Perhaps including some examples would help?","body":"Looks like you took the advice to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Perhaps you overdid it, making it subminimal.  But, in any case, I&#39;m not sure what you are asking. Perhaps including some examples would help?"}],"answers":[{"tags":[],"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672485352,"creation_date":1672485352,"answer_id":74969151,"question_id":74966702,"body_markdown":"Please see the below code and let me know if this solves your issue.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.*;\r\npublic class Main {\r\n    \r\n    public static void main(String[] args){\r\n        Scanner scanner = new Scanner(System.in);\r\n        ArrayList&lt;String&gt; inputList = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; capitalList = new ArrayList&lt;&gt;(List.of(&quot;Delhi&quot;,&quot;Kabul&quot;,&quot;Dhaka&quot;));\r\n        for (int i = 0; i &lt; 5; i++)\r\n        {\r\n            \r\n            String currentInput = scanner.nextLine();\r\n            inputList.add(currentInput);\r\n            \r\n        }\r\n        \r\n        int correct_response_count = 0;\r\n        int wrong_response_count = 0;\r\n        \r\n        for (int i = 0; i &lt; inputList.size(); i++)\r\n        {\r\n           if (capitalList.contains(inputList.get(i)))\r\n           {\r\n               correct_response_count++;\r\n           }\r\n           else\r\n           {\r\n               wrong_response_count++;\r\n           }\r\n   \r\n        }\r\n        \r\n        System.out.println(&quot;The correct count of answers is: &quot; + correct_response_count);\r\n        System.out.println(&quot;The wrong count of answers is: &quot; + wrong_response_count);\r\n        \r\n        \r\n    }\r\n}\r\n```\r\n\r\nInput\r\n``` \r\nIndia\r\nDelhi\r\nAustralia\r\nKabul\r\nBangladesh\r\n```\r\nOutput\r\n```\r\nThe correct count of answers is: 2\r\nThe wrong count of answers is: 3\r\n```","title":"So I&#39;m trying to see if there is a way to count correct inputs and allow multiple inputs with boolean match. Am I able to do this?","body":"<p>Please see the below code and let me know if this solves your issue.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.*;\npublic class Main {\n    \n    public static void main(String[] args){\n        Scanner scanner = new Scanner(System.in);\n        ArrayList&lt;String&gt; inputList = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; capitalList = new ArrayList&lt;&gt;(List.of(&quot;Delhi&quot;,&quot;Kabul&quot;,&quot;Dhaka&quot;));\n        for (int i = 0; i &lt; 5; i++)\n        {\n            \n            String currentInput = scanner.nextLine();\n            inputList.add(currentInput);\n            \n        }\n        \n        int correct_response_count = 0;\n        int wrong_response_count = 0;\n        \n        for (int i = 0; i &lt; inputList.size(); i++)\n        {\n           if (capitalList.contains(inputList.get(i)))\n           {\n               correct_response_count++;\n           }\n           else\n           {\n               wrong_response_count++;\n           }\n   \n        }\n        \n        System.out.println(&quot;The correct count of answers is: &quot; + correct_response_count);\n        System.out.println(&quot;The wrong count of answers is: &quot; + wrong_response_count);\n        \n        \n    }\n}\n</code></pre>\n<p>Input</p>\n<pre><code>India\nDelhi\nAustralia\nKabul\nBangladesh\n</code></pre>\n<p>Output</p>\n<pre><code>The correct count of answers is: 2\nThe wrong count of answers is: 3\n</code></pre>\n"}],"owner":{"account_id":27394915,"reputation":1,"user_id":20897281,"display_name":"Natebd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672485352,"creation_date":1672444821,"question_id":74966702,"body_markdown":"So I&#39;ve tried adding count ++ in multiple places in my code along with researching some way to allow multiple inputs to no avail.  Am I missing something on placement or would I need to rewrite the code entirely for what I am wanting to accomplish? Is this not a boolean match situation?  Very lost and sorry if this is a noob question.  Appreciate the input.\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Insert any State Capital&quot;);\r\n    String currentInput = scanner.nextLine();\r\n    \r\n    boolean match = false;\r\n    \t\t\t\r\n    \t\t\tString [] capitals = stateCapitals[1];\r\n    \t\t\tfor (String capital:capitals) {\r\n    \t\t\t\tif (capital.equalsIgnoreCase(currentInput)) {\r\n    \t\t\t\t\tmatch = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t}\r\n    \r\n    \r\n    if (match) {\r\n    \t\t\t\tSystem.out.println (&quot;Correct&quot;);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t\tSystem.out.println (&quot;incorrect&quot;);\r\n    \t\t\t}\r\n    \t\t\t}\r\n\r\n\r\n\r\n\r\nProblem and what I&#39;ve tried is above.  Also, apologies on formatting if it&#39;s messed up.  First time using stack overflow.\r\n","title":"So I&#39;m trying to see if there is a way to count correct inputs and allow multiple inputs with boolean match. Am I able to do this?","body":"<p>So I've tried adding count ++ in multiple places in my code along with researching some way to allow multiple inputs to no avail.  Am I missing something on placement or would I need to rewrite the code entirely for what I am wanting to accomplish? Is this not a boolean match situation?  Very lost and sorry if this is a noob question.  Appreciate the input.</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nSystem.out.println(&quot;Insert any State Capital&quot;);\nString currentInput = scanner.nextLine();\n\nboolean match = false;\n            \n            String [] capitals = stateCapitals[1];\n            for (String capital:capitals) {\n                if (capital.equalsIgnoreCase(currentInput)) {\n                    match = true;\n                    break;\n                    }\n                \n                }\n\n\nif (match) {\n                System.out.println (&quot;Correct&quot;);\n                \n            }\n            else\n                System.out.println (&quot;incorrect&quot;);\n            }\n            }\n</code></pre>\n<p>Problem and what I've tried is above.  Also, apologies on formatting if it's messed up.  First time using stack overflow.</p>\n"},{"tags":["java","image","pixel","memoryimagesource"],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1519981123,"creation_date":1519981123,"answer_id":49065727,"question_id":48978310,"body_markdown":"Resize the image after you have loaded it. That way you can use all of the tools available in the java2d api.\r\n\r\n    BufferedImage scaled = new BufferedImage(p.width*2,p.height*2, BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D g = (Graphics2D)scaled.getGraphics();\r\n    g.drawImage(img, AffineTransform.getScaleInstance(2,2), null);\r\n    g.dispose();\r\n\r\nNow scaled has an image 2x the size. You could even do this in the display you&#39;re using. \r\n\r\nAnother way, if you just want a scaled instanced, then you can use `Image#getScaledInstance`.","title":"How to expand an image with MemoryImageSource?","body":"<p>Resize the image after you have loaded it. That way you can use all of the tools available in the java2d api.</p>\n\n<pre><code>BufferedImage scaled = new BufferedImage(p.width*2,p.height*2, BufferedImage.TYPE_INT_ARGB);\nGraphics2D g = (Graphics2D)scaled.getGraphics();\ng.drawImage(img, AffineTransform.getScaleInstance(2,2), null);\ng.dispose();\n</code></pre>\n\n<p>Now scaled has an image 2x the size. You could even do this in the display you're using. </p>\n\n<p>Another way, if you just want a scaled instanced, then you can use <code>Image#getScaledInstance</code>.</p>\n"}],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49065727,"answer_count":1,"score":1,"last_activity_date":1672484998,"creation_date":1519591766,"question_id":48978310,"body_markdown":"I got a `byte[]` getting from a file, and I want to display the associated image, I found : \r\n\r\n    // p.data is a byte[]\r\n    int[] pixels = new int[p.width * p.height];\r\n    for (int i = 0; i &lt; pixels.length; i++) {\r\n       pixels[i] = 0xFF000000 + intValue(p.data[i]) * 0x010101;\r\n    }\r\n    MemoryImageSource source = new MemoryImageSource(p.width, p.height, pixels, 0, p.width );\r\n    Image img = Toolkit.getDefaultToolkit().createImage(source);\r\n\r\n    //intValue is just : intValue(byte b) { return b &lt; 0 ? b + 256 : b;}\r\n      \r\nThat show : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\nAnd i would like to have twice bigger (width and height), I tried : \r\n\r\n\r\n    int[] pixels = new int[p.width * p.height *4];\r\n    for (int i = 0; i &lt; pixels.length; i++) {\r\n       pixels[i] = 0xFF000000 + BytePixmap.intValue(p.data[i/4]) * 0x010101;\r\n    }\r\n    MemoryImageSource source = new MemoryImageSource(p.width*2,p.height*2, pixels, 0, p.width);\r\n\r\nI got : \r\n\r\n[![enter image description here][2]][2]  and  [![enter image description here][3]][3] \r\n\r\nif I change `p.width` to `p.width*2` (last param)\r\n\r\n\r\nI can&#39;t figure how to keep an 8*8 square picture\r\n\r\n\r\n----------\r\n**EDIT :**\r\n\r\nAn example can be found here : [***Working example***][4] , it cannot be run on Ideone sure because it requires a display, but it works\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nX7od.png\r\n  [2]: https://i.stack.imgur.com/mXBkj.png\r\n  [3]: https://i.stack.imgur.com/wqUmD.png\r\n  [4]: https://ideone.com/39448K","title":"How to expand an image with MemoryImageSource?","body":"<p>I got a <code>byte[]</code> getting from a file, and I want to display the associated image, I found :</p>\n<pre><code>// p.data is a byte[]\nint[] pixels = new int[p.width * p.height];\nfor (int i = 0; i &lt; pixels.length; i++) {\n   pixels[i] = 0xFF000000 + intValue(p.data[i]) * 0x010101;\n}\nMemoryImageSource source = new MemoryImageSource(p.width, p.height, pixels, 0, p.width );\nImage img = Toolkit.getDefaultToolkit().createImage(source);\n\n//intValue is just : intValue(byte b) { return b &lt; 0 ? b + 256 : b;}\n  \n</code></pre>\n<p>That show :</p>\n<p><a href=\"https://i.stack.imgur.com/nX7od.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nX7od.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>And i would like to have twice bigger (width and height), I tried :</p>\n<pre><code>int[] pixels = new int[p.width * p.height *4];\nfor (int i = 0; i &lt; pixels.length; i++) {\n   pixels[i] = 0xFF000000 + BytePixmap.intValue(p.data[i/4]) * 0x010101;\n}\nMemoryImageSource source = new MemoryImageSource(p.width*2,p.height*2, pixels, 0, p.width);\n</code></pre>\n<p>I got :</p>\n<p><a href=\"https://i.stack.imgur.com/mXBkj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXBkj.png\" alt=\"enter image description here\" /></a>  and  <a href=\"https://i.stack.imgur.com/wqUmD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wqUmD.png\" alt=\"enter image description here\" /></a></p>\n<p>if I change <code>p.width</code> to <code>p.width*2</code> (last param)</p>\n<p>I can't figure how to keep an 8*8 square picture</p>\n<hr />\n<p><strong>EDIT :</strong></p>\n<p>An example can be found here : <a href=\"https://ideone.com/39448K\" rel=\"nofollow noreferrer\"><em><strong>Working example</strong></em></a> , it cannot be run on Ideone sure because it requires a display, but it works</p>\n"},{"tags":["java","android-studio","fragment","onbackpressed"],"comments":[{"owner":{"account_id":4599240,"reputation":816,"user_id":3730470,"display_name":"Klitos G."},"score":0,"creation_date":1672485201,"post_id":74969117,"comment_id":132296926,"body_markdown":"Your question does not make sense. Try to rephrase it.\nTry to make clear where does the ViewPager live? Is it inside your MainFragment?\nYou want to replace Fragment1 with what?","body":"Your question does not make sense. Try to rephrase it. Try to make clear where does the ViewPager live? Is it inside your MainFragment? You want to replace Fragment1 with what?"},{"owner":{"account_id":24733383,"reputation":1,"user_id":18621093,"display_name":"BanSeokJeong"},"score":0,"creation_date":1672488123,"post_id":74969117,"comment_id":132297370,"body_markdown":"ViewPager is in MainActivity. And I want to replace Fragment1 to MainFragment.","body":"ViewPager is in MainActivity. And I want to replace Fragment1 to MainFragment."},{"owner":{"account_id":4599240,"reputation":816,"user_id":3730470,"display_name":"Klitos G."},"score":0,"creation_date":1672498713,"post_id":74969117,"comment_id":132299248,"body_markdown":"You want to replace Fragment1 with what?\nFrom the code you show, it is not clear WHY you use a ViewPager.\nWhich fragments are loaded inside the ViewPager?","body":"You want to replace Fragment1 with what? From the code you show, it is not clear WHY you use a ViewPager. Which fragments are loaded inside the ViewPager?"}],"owner":{"account_id":24733383,"reputation":1,"user_id":18621093,"display_name":"BanSeokJeong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672484829,"creation_date":1672484829,"question_id":74969117,"body_markdown":"The structure is like this.\r\nviewPager2 -\\&gt; MainFragment -\\&gt; Fragment1 &amp; Fragment2 &amp; Fragment3\r\n\r\nI made 3 pages ViewPager2. In ViewPager2(fragment), I made new Fragment.\r\nI used FrameLayout at the &#39;MainFragment&#39;.\r\n\r\n    tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() { \r\n    @Override public void onTabSelected(TabLayout.Tab tab) {     \r\n        viewPager2.setCurrentItem(tab.getPosition());\r\n    }\r\n    @Override\r\n    public void onTabUnselected(TabLayout.Tab tab) {\r\n    }\r\n    @Override\r\n    public void onTabReselected(TabLayout.Tab tab) {\r\n    }\r\n    });\r\n\r\n```\r\nFragmentTransaction ft = getChildFragmentManager().beginTransaction();\r\nfragment = new MainFragment(); \r\nft.add(R.id.layout_frame,fragment)\r\n        .addToBackStack(null)\r\n        .commit();\r\n```\r\n\r\nThe Fragment has button. The button enable to replace other Fragment like this.\r\n\r\n    button.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) {\r\n        fragment = new Fragment1();\r\n        ft = getParentFragmentManager().beginTransaction();\r\n        ft.replace(R.id.layout_frame,fragment)\r\n                .addToBackStack(null)\r\n                .commit();\r\n        }\r\n    });\r\n\r\nHere, I want to replace the Fragment1 to MainFragment or close Fragment1, when back pressed.\r\n\r\nHow can I apply this in code?\r\n\r\nI just don&#39;t know well. I&#39;m junior developer. I need help. Thank you.","title":"How to close fragment in fragment, when back button pressed?","body":"<p>The structure is like this.\nviewPager2 -&gt; MainFragment -&gt; Fragment1 &amp; Fragment2 &amp; Fragment3</p>\n<p>I made 3 pages ViewPager2. In ViewPager2(fragment), I made new Fragment.\nI used FrameLayout at the 'MainFragment'.</p>\n<pre><code>tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() { \n@Override public void onTabSelected(TabLayout.Tab tab) {     \n    viewPager2.setCurrentItem(tab.getPosition());\n}\n@Override\npublic void onTabUnselected(TabLayout.Tab tab) {\n}\n@Override\npublic void onTabReselected(TabLayout.Tab tab) {\n}\n});\n</code></pre>\n<pre><code>FragmentTransaction ft = getChildFragmentManager().beginTransaction();\nfragment = new MainFragment(); \nft.add(R.id.layout_frame,fragment)\n        .addToBackStack(null)\n        .commit();\n</code></pre>\n<p>The Fragment has button. The button enable to replace other Fragment like this.</p>\n<pre><code>button.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) {\n    fragment = new Fragment1();\n    ft = getParentFragmentManager().beginTransaction();\n    ft.replace(R.id.layout_frame,fragment)\n            .addToBackStack(null)\n            .commit();\n    }\n});\n</code></pre>\n<p>Here, I want to replace the Fragment1 to MainFragment or close Fragment1, when back pressed.</p>\n<p>How can I apply this in code?</p>\n<p>I just don't know well. I'm junior developer. I need help. Thank you.</p>\n"},{"tags":["java","mysql","csv","delimiter","separator"],"answers":[{"tags":[],"owner":{"account_id":1718573,"reputation":1526,"user_id":1575116,"display_name":"Valerie Parham-Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672484194,"creation_date":1672484194,"answer_id":74969057,"question_id":74968010,"body_markdown":"Yes, the . is handled as a delimiter (as are commas, spaces, and many other characters). To match the exact IP address, put double quotes around each value. Otherwise, you are going to get results matching anything with 111 (in your example IP).\r\n\r\nHere is an example to demonstrate the results with and without the double quotes:\r\n\r\n    select * from country where countryname=&#39;United States&#39;;\r\n    +-------------+---------------+\r\n    | countrycode | countryname   |\r\n    +-------------+---------------+\r\n    | USA         | United States |\r\n    +-------------+---------------+\r\n    \r\n    SELECT *  FROM country  WHERE  MATCH(countryname) AGAINST(&#39;United States&#39;);\r\n    +-------------+--------------------------------------+\r\n    | countrycode | countryname                          |\r\n    +-------------+--------------------------------------+\r\n    | UMI         | United States Minor Outlying Islands |\r\n    | USA         | United States                        |\r\n    | FSM         | Micronesia, Federated States of      |\r\n    | ARE         | United Arab Emirates                 |\r\n    | GBR         | United Kingdom                       |\r\n    +-------------+--------------------------------------+\r\n    \r\n    SELECT *  FROM country  WHERE  MATCH(countryname) AGAINST(&#39;United.States&#39;);\r\n    +-------------+--------------------------------------+\r\n    | countrycode | countryname                          |\r\n    +-------------+--------------------------------------+\r\n    | UMI         | United States Minor Outlying Islands |\r\n    | USA         | United States                        |\r\n    | FSM         | Micronesia, Federated States of      |\r\n    | ARE         | United Arab Emirates                 |\r\n    | GBR         | United Kingdom                       |\r\n    +-------------+--------------------------------------+\r\n    \r\n    SELECT *  FROM country  WHERE  MATCH(countryname) AGAINST(&#39;&quot;United States&quot;&#39;);\r\n    +-------------+--------------------------------------+\r\n    | countrycode | countryname                          |\r\n    +-------------+--------------------------------------+\r\n    | UMI         | United States Minor Outlying Islands |\r\n    | USA         | United States                        |\r\n    +-------------+--------------------------------------+\r\n    \r\n    SELECT *  FROM country  WHERE  MATCH(countryname) AGAINST(&#39;&quot;United States&quot;,&quot;United Kingdom&quot;&#39;);\r\n    +-------------+--------------------------------------+\r\n    | countrycode | countryname                          |\r\n    +-------------+--------------------------------------+\r\n    | GBR         | United Kingdom                       |\r\n    | UMI         | United States Minor Outlying Islands |\r\n    | USA         | United States                        |\r\n    +-------------+--------------------------------------+\r\n\r\nBut note you&#39;re not leveraging the power of fulltext search if you do this. Do you want to match partial IP addresses? If not, you could just use an IN statement like this example:\r\n\r\n    select * from country where countryname in (&#39;United States&#39;, &#39;United Kingdom&#39;);\r\n    +-------------+----------------+\r\n    | countrycode | countryname    |\r\n    +-------------+----------------+\r\n    | GBR         | United Kingdom |\r\n    | USA         | United States  |\r\n    +-------------+----------------+","title":"mysql uses &quot;.&quot; as a value separator in match(ip_list) against(string), with &quot;,&quot; &#39;string&#39; also present","body":"<p>Yes, the . is handled as a delimiter (as are commas, spaces, and many other characters). To match the exact IP address, put double quotes around each value. Otherwise, you are going to get results matching anything with 111 (in your example IP).</p>\n<p>Here is an example to demonstrate the results with and without the double quotes:</p>\n<pre><code>select * from country where countryname='United States';\n+-------------+---------------+\n| countrycode | countryname   |\n+-------------+---------------+\n| USA         | United States |\n+-------------+---------------+\n\nSELECT *  FROM country  WHERE  MATCH(countryname) AGAINST('United States');\n+-------------+--------------------------------------+\n| countrycode | countryname                          |\n+-------------+--------------------------------------+\n| UMI         | United States Minor Outlying Islands |\n| USA         | United States                        |\n| FSM         | Micronesia, Federated States of      |\n| ARE         | United Arab Emirates                 |\n| GBR         | United Kingdom                       |\n+-------------+--------------------------------------+\n\nSELECT *  FROM country  WHERE  MATCH(countryname) AGAINST('United.States');\n+-------------+--------------------------------------+\n| countrycode | countryname                          |\n+-------------+--------------------------------------+\n| UMI         | United States Minor Outlying Islands |\n| USA         | United States                        |\n| FSM         | Micronesia, Federated States of      |\n| ARE         | United Arab Emirates                 |\n| GBR         | United Kingdom                       |\n+-------------+--------------------------------------+\n\nSELECT *  FROM country  WHERE  MATCH(countryname) AGAINST('&quot;United States&quot;');\n+-------------+--------------------------------------+\n| countrycode | countryname                          |\n+-------------+--------------------------------------+\n| UMI         | United States Minor Outlying Islands |\n| USA         | United States                        |\n+-------------+--------------------------------------+\n\nSELECT *  FROM country  WHERE  MATCH(countryname) AGAINST('&quot;United States&quot;,&quot;United Kingdom&quot;');\n+-------------+--------------------------------------+\n| countrycode | countryname                          |\n+-------------+--------------------------------------+\n| GBR         | United Kingdom                       |\n| UMI         | United States Minor Outlying Islands |\n| USA         | United States                        |\n+-------------+--------------------------------------+\n</code></pre>\n<p>But note you're not leveraging the power of fulltext search if you do this. Do you want to match partial IP addresses? If not, you could just use an IN statement like this example:</p>\n<pre><code>select * from country where countryname in ('United States', 'United Kingdom');\n+-------------+----------------+\n| countrycode | countryname    |\n+-------------+----------------+\n| GBR         | United Kingdom |\n| USA         | United States  |\n+-------------+----------------+\n</code></pre>\n"}],"owner":{"account_id":27396386,"reputation":23,"user_id":20898499,"display_name":"fd fdfd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74969057,"answer_count":1,"score":2,"last_activity_date":1672484194,"creation_date":1672469764,"question_id":74968010,"body_markdown":"When processing ip addresses, and comparing them, something goes wrong, and it finds almost all the data from the database.\r\nQuery: \r\n```\r\nSELECT * FROM superbans WHERE NOT uuid=? AND (MATCH(ip_list) AGAINST(?) OR MATCH(clientId_list) AGAINST(?) OR MATCH(deviceId_list) AGAINST(?) OR MATCH(xuid_list) AGAINST(?))\r\n```\r\n\r\nExample uuid: ```e778e3d4-7866-3601-b069-d38dd1ed2e21```\r\n\r\nExample ip: ```111.111.111.111```\r\n\r\nExample clientId: ```4848256256931583384 (but clientId maybe contains &quot;-&quot;: -4848256256931583384)```\r\n\r\nExample deviceId: ```4a474f8b-3032-35fb-bd27-fb4e3c5435fd```\r\n\r\nExample xuid: ```2535454407347849```\r\n\r\n\r\nIf I remove MATCH(ip_list) AGAINST(?) from the query, it outputs the data correctly.\r\nPlease help me to make mysql not think that &quot;.&quot; this is the delimiter.\r\n\r\nIMPORTANT: in the line with &quot;.&quot; also has &quot;,&quot;\r\n\r\nI tried to do it through REGEXP, because I&#39;m just starting to learn mysql, then I didn&#39;t succeed :(\r\n","title":"mysql uses &quot;.&quot; as a value separator in match(ip_list) against(string), with &quot;,&quot; &#39;string&#39; also present","body":"<p>When processing ip addresses, and comparing them, something goes wrong, and it finds almost all the data from the database.\nQuery:</p>\n<pre><code>SELECT * FROM superbans WHERE NOT uuid=? AND (MATCH(ip_list) AGAINST(?) OR MATCH(clientId_list) AGAINST(?) OR MATCH(deviceId_list) AGAINST(?) OR MATCH(xuid_list) AGAINST(?))\n</code></pre>\n<p>Example uuid: <code>e778e3d4-7866-3601-b069-d38dd1ed2e21</code></p>\n<p>Example ip: <code>111.111.111.111</code></p>\n<p>Example clientId: <code>4848256256931583384 (but clientId maybe contains &quot;-&quot;: -4848256256931583384)</code></p>\n<p>Example deviceId: <code>4a474f8b-3032-35fb-bd27-fb4e3c5435fd</code></p>\n<p>Example xuid: <code>2535454407347849</code></p>\n<p>If I remove MATCH(ip_list) AGAINST(?) from the query, it outputs the data correctly.\nPlease help me to make mysql not think that &quot;.&quot; this is the delimiter.</p>\n<p>IMPORTANT: in the line with &quot;.&quot; also has &quot;,&quot;</p>\n<p>I tried to do it through REGEXP, because I'm just starting to learn mysql, then I didn't succeed :(</p>\n"},{"tags":["java","mysql","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1452330659,"creation_date":1452330086,"answer_id":34691581,"question_id":34691543,"body_markdown":"SQL function `date_format` is not part of JPQL, as any documentation would tell you, so don&#39;t see the point in just pushing SQL into JPQL and expecting it to work. \r\n\r\nWhat you can do with JPA 2.1 is invoke it as follows\r\n\r\n    function(&quot;date_format&quot;, s.date, &#39;%Y, %m, %d&#39;)\r\n\r\nwhere `function` is a way to invoke any native SQL function. This clearly means you lose database independence because that function is not valid on all datastores.\r\n","title":"How to use date_format when using JPQL/JPA","body":"<p>SQL function <code>date_format</code> is not part of JPQL, as any documentation would tell you, so don't see the point in just pushing SQL into JPQL and expecting it to work. </p>\n\n<p>What you can do with JPA 2.1 is invoke it as follows</p>\n\n<pre><code>function(\"date_format\", s.date, '%Y, %m, %d')\n</code></pre>\n\n<p>where <code>function</code> is a way to invoke any native SQL function. This clearly means you lose database independence because that function is not valid on all datastores.</p>\n"},{"tags":[],"owner":{"account_id":12476582,"reputation":597,"user_id":9082736,"display_name":"Bilal Demir"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672483758,"creation_date":1575036772,"answer_id":59106400,"question_id":34691543,"body_markdown":"Sql function is available in JPQL. My JPA version is 1.11.9. Sample group by day query:\r\n\r\n    @Query(value = &quot;SELECT count(ac) as count, function(&#39;date_format&#39;, max(ac.subscriptionStartDate), &#39;%Y, %m, %d&#39;) as date FROM MyTable ac &quot; +\r\n            &quot;WHERE ac.subscriptionStartDate BETWEEN :startDate AND :endDate GROUP BY function(&#39;date_format&#39;, ac.subscriptionStartDate, &#39;%Y, %m, %d&#39;)&quot;)\r\n    public List&lt;Map&lt;String,Object&gt;&gt; findRegisteredCustomersHistory(@Param(&quot;startDate&quot;) Date startDate, @Param(&quot;endDate&quot;) Date endDate);\r\n\r\nThe result of the query is the list that records the number of records grouped by days in formatted form.\r\n\r\nSample rows: \r\n\r\n    count: 3, date: 2019, 09, 10\r\n    count: 1, date: 2019, 09, 11\r\n\r\nfor your question, try this in JPQL:\r\n\r\n    @Query(value = &quot;SELECT function(&#39;date_format&#39;, s.date, &#39;%Y, %m, %d&#39;) as date from Transactions s;&quot;)\r\n\r\n","title":"How to use date_format when using JPQL/JPA","body":"<p>Sql function is available in JPQL. My JPA version is 1.11.9. Sample group by day query:</p>\n<pre><code>@Query(value = &quot;SELECT count(ac) as count, function('date_format', max(ac.subscriptionStartDate), '%Y, %m, %d') as date FROM MyTable ac &quot; +\n        &quot;WHERE ac.subscriptionStartDate BETWEEN :startDate AND :endDate GROUP BY function('date_format', ac.subscriptionStartDate, '%Y, %m, %d')&quot;)\npublic List&lt;Map&lt;String,Object&gt;&gt; findRegisteredCustomersHistory(@Param(&quot;startDate&quot;) Date startDate, @Param(&quot;endDate&quot;) Date endDate);\n</code></pre>\n<p>The result of the query is the list that records the number of records grouped by days in formatted form.</p>\n<p>Sample rows:</p>\n<pre><code>count: 3, date: 2019, 09, 10\ncount: 1, date: 2019, 09, 11\n</code></pre>\n<p>for your question, try this in JPQL:</p>\n<pre><code>@Query(value = &quot;SELECT function('date_format', s.date, '%Y, %m, %d') as date from Transactions s;&quot;)\n</code></pre>\n"}],"owner":{"account_id":7601927,"reputation":71,"user_id":5766195,"display_name":"sinxanh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22078,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":34691581,"answer_count":2,"score":5,"last_activity_date":1672483758,"creation_date":1452329704,"question_id":34691543,"body_markdown":"I am doing Java EE with MySQL as database and implementing JPA on my codes.\r\n\r\nI have no problem retrieving the data from MySQL Workbench but when I change my syntax to JPQL&#39;s it does not work.\r\n\r\nFor e.g. in MySQL - it works\r\n\r\n    SELECT date_format(s.date,&#39;%Y, %m, %d&#39;) from Transactions s;\r\n\r\nin JPQL - it does not\r\n\r\n    SELECT date_format(s.date,&#39;%Y, %m, %d&#39;) from TransactionEntity s;\r\n\r\nHow do i modify to suit the JPA query?\r\n\r\nNote:\r\nin JPQL the following works\r\n\r\n    SELECT s.date from TransactionEntity s;\r\n","title":"How to use date_format when using JPQL/JPA","body":"<p>I am doing Java EE with MySQL as database and implementing JPA on my codes.</p>\n\n<p>I have no problem retrieving the data from MySQL Workbench but when I change my syntax to JPQL's it does not work.</p>\n\n<p>For e.g. in MySQL - it works</p>\n\n<pre><code>SELECT date_format(s.date,'%Y, %m, %d') from Transactions s;\n</code></pre>\n\n<p>in JPQL - it does not</p>\n\n<pre><code>SELECT date_format(s.date,'%Y, %m, %d') from TransactionEntity s;\n</code></pre>\n\n<p>How do i modify to suit the JPA query?</p>\n\n<p>Note:\nin JPQL the following works</p>\n\n<pre><code>SELECT s.date from TransactionEntity s;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","configuration","configurationproperties"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1672395479,"post_id":74960253,"comment_id":132281510,"body_markdown":"Why didn&#39;t you annotate ClientProperties directly as configuration? KasittelyServiceClientConfiguration would be obsolete  ..","body":"Why didn&#39;t you annotate ClientProperties directly as configuration? KasittelyServiceClientConfiguration would be obsolete  .."}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672397922,"creation_date":1672397922,"answer_id":74960766,"question_id":74960253,"body_markdown":"You can create an additional `@ConfigurationProperties` class that will contain the properties of all clients, which requires an additional prefix to be defined. For example:\r\n```java\r\n@Data\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;properties&quot;)\r\npublic class AllClientsProperties {\r\n  Map&lt;String, ClientProperties&gt; clients;\r\n\r\n  public ClientProperties getClientPropertiesByKey(String key) {\r\n    return clients.get(key);\r\n  }\r\n}\r\n```\r\nThen, change your `application.properties` accordingly.\r\n```\r\n# Kasittely service\r\nproperties.clients.kasittelyservice.url= ...\r\nproperties.clients.kasittelyservice.logging.enabled=true\r\n\r\n# Some other service\r\nproperties.clients.otherservice.url= ...\r\nproperties.clients.otherservice.logging.enabled=false\r\n```\r\nLastly, add the `AllClientsProperties` bean as a dependency to the constructor of the client service, and get the properties of the client by the key which are used to perform the initialization logic.\r\n```java\r\n@Service\r\npublic class KasittelyServiceClient {\r\n  public static final String PROPERTIES_KEY = &quot;kasittelyservice&quot;;\r\n  private final RestTemplate restTemplate;\r\n\r\n  @SuppressWarnings(&quot;unused&quot;)\r\n  public KasittelyServiceClient(RestTemplateBuilder builder, AllClientsProperties allClientsProperties) {\r\n    ClientProperties properties = allClientsProperties.getClientPropertiesByKey(PROPERTIES_KEY);\r\n    builder.rootUri(properties.getUrl());\r\n    if (properties.getLogging().isEnabled()) {\r\n      // TODO: debug logging interceptor\r\n    }\r\n    restTemplate = builder.build();\r\n  }\r\n  //...\r\n}\r\n```","title":"How to inject generic @ConfigurationProperties in Spring","body":"<p>You can create an additional <code>@ConfigurationProperties</code> class that will contain the properties of all clients, which requires an additional prefix to be defined. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Component\n@ConfigurationProperties(prefix = &quot;properties&quot;)\npublic class AllClientsProperties {\n  Map&lt;String, ClientProperties&gt; clients;\n\n  public ClientProperties getClientPropertiesByKey(String key) {\n    return clients.get(key);\n  }\n}\n</code></pre>\n<p>Then, change your <code>application.properties</code> accordingly.</p>\n<pre><code># Kasittely service\nproperties.clients.kasittelyservice.url= ...\nproperties.clients.kasittelyservice.logging.enabled=true\n\n# Some other service\nproperties.clients.otherservice.url= ...\nproperties.clients.otherservice.logging.enabled=false\n</code></pre>\n<p>Lastly, add the <code>AllClientsProperties</code> bean as a dependency to the constructor of the client service, and get the properties of the client by the key which are used to perform the initialization logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class KasittelyServiceClient {\n  public static final String PROPERTIES_KEY = &quot;kasittelyservice&quot;;\n  private final RestTemplate restTemplate;\n\n  @SuppressWarnings(&quot;unused&quot;)\n  public KasittelyServiceClient(RestTemplateBuilder builder, AllClientsProperties allClientsProperties) {\n    ClientProperties properties = allClientsProperties.getClientPropertiesByKey(PROPERTIES_KEY);\n    builder.rootUri(properties.getUrl());\n    if (properties.getLogging().isEnabled()) {\n      // TODO: debug logging interceptor\n    }\n    restTemplate = builder.build();\n  }\n  //...\n}\n</code></pre>\n"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74960766,"answer_count":1,"score":1,"last_activity_date":1672483450,"creation_date":1672394417,"question_id":74960253,"body_markdown":"I have generic `ClientProperties` class used by multiple rest clients to bind the client specific properties with implementation.\r\n\r\n```\r\n@Data\r\n@Validated\r\npublic class ClientProperties {\r\n\r\n    @NotBlank\r\n    private String url;\r\n\r\n    @NotNull\r\n    private LoggingProperties logging;\r\n}\r\n\r\n```\r\n\r\nHere is an example of `application.properties`\r\n\r\n```\r\n# Kasittely service\r\nkasittelyservice.url= ...\r\nkasittelyservice.logging.enabled=true\r\n\r\n# Some other service\r\notherservice.url= ...\r\notherservice.logging.enabled=false\r\n```\r\n\r\n\r\nCurrently I&#39;m doing this with remote clients\r\n\r\n```\r\n@Service\r\npublic class KasittelyServiceClient {\r\n\r\n    private final RestTemplate restTemplate;\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public KasittelyServiceClient(RestTemplateBuilder builder, @Qualifier(&quot;kasittelyService&quot;) ClientProperties properties) {\r\n        \r\n        builder.rootUri(properties.getUrl());\r\n\r\n        if (properties.getLogging().isEnabled()) {\r\n            // TODO: debug logging interceptor\r\n        }\r\n\r\n        restTemplate = builder.build();\r\n    }\r\n\r\n    public VastausDto kasittelePyynto(PyyntoDto pyyntoDto) {\r\n        return restTemplate.postForObject(&quot;/kasittelePyynto&quot;, pyyntoDto, VastausDto.class);\r\n    }\r\n\r\n    @Configuration\r\n    public static class KasittelyServiceClientConfiguration {\r\n\r\n        @Bean\r\n        @Qualifier(&quot;kasittelyService&quot;)\r\n        @ConfigurationProperties(prefix = &quot;kasittelyservice&quot;)\r\n        public ClientProperties properties() {\r\n            return new ClientProperties();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, that is a lot of boilerplate to bind properties for each client.\r\n\r\nIdeally, I would like to do something like this, which isn&#39;t allowed\r\n\r\n```\r\npublic KasittelyServiceClient(RestTemplateBuilder builder, @ConfigurationProperties(&quot;kasittelyService&quot;) ClientProperties properties) {\r\n\r\n        builder.rootUri(properties.getUrl());\r\n\r\n        if (properties.getLogging().isEnabled()) {\r\n            // TODO: debug logging interceptor\r\n        }\r\n\r\n        restTemplate = builder.build();\r\n}\r\n```\r\n\r\nHow do I reduce boilerplate in this case?","title":"How to inject generic @ConfigurationProperties in Spring","body":"<p>I have generic <code>ClientProperties</code> class used by multiple rest clients to bind the client specific properties with implementation.</p>\n<pre><code>@Data\n@Validated\npublic class ClientProperties {\n\n    @NotBlank\n    private String url;\n\n    @NotNull\n    private LoggingProperties logging;\n}\n\n</code></pre>\n<p>Here is an example of <code>application.properties</code></p>\n<pre><code># Kasittely service\nkasittelyservice.url= ...\nkasittelyservice.logging.enabled=true\n\n# Some other service\notherservice.url= ...\notherservice.logging.enabled=false\n</code></pre>\n<p>Currently I'm doing this with remote clients</p>\n<pre><code>@Service\npublic class KasittelyServiceClient {\n\n    private final RestTemplate restTemplate;\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public KasittelyServiceClient(RestTemplateBuilder builder, @Qualifier(&quot;kasittelyService&quot;) ClientProperties properties) {\n        \n        builder.rootUri(properties.getUrl());\n\n        if (properties.getLogging().isEnabled()) {\n            // TODO: debug logging interceptor\n        }\n\n        restTemplate = builder.build();\n    }\n\n    public VastausDto kasittelePyynto(PyyntoDto pyyntoDto) {\n        return restTemplate.postForObject(&quot;/kasittelePyynto&quot;, pyyntoDto, VastausDto.class);\n    }\n\n    @Configuration\n    public static class KasittelyServiceClientConfiguration {\n\n        @Bean\n        @Qualifier(&quot;kasittelyService&quot;)\n        @ConfigurationProperties(prefix = &quot;kasittelyservice&quot;)\n        public ClientProperties properties() {\n            return new ClientProperties();\n        }\n    }\n}\n</code></pre>\n<p>However, that is a lot of boilerplate to bind properties for each client.</p>\n<p>Ideally, I would like to do something like this, which isn't allowed</p>\n<pre><code>public KasittelyServiceClient(RestTemplateBuilder builder, @ConfigurationProperties(&quot;kasittelyService&quot;) ClientProperties properties) {\n\n        builder.rootUri(properties.getUrl());\n\n        if (properties.getLogging().isEnabled()) {\n            // TODO: debug logging interceptor\n        }\n\n        restTemplate = builder.build();\n}\n</code></pre>\n<p>How do I reduce boilerplate in this case?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672466587,"post_id":74967783,"comment_id":132294645,"body_markdown":"Just install an OpenJDK JDK and use that to build and run your code. What difficulty are you having exactly?","body":"Just install an OpenJDK JDK and use that to build and run your code. What difficulty are you having exactly?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1672466690,"post_id":74967783,"comment_id":132294657,"body_markdown":"Java EE (as it used to be called) doesn&#39;t depend on the Java SE version.  And OpenJDK doesn&#39;t replace Java EE in any sense.","body":"Java EE (as it used to be called) doesn&#39;t depend on the Java SE version.  And OpenJDK doesn&#39;t replace Java EE in any sense."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1672466739,"post_id":74967783,"comment_id":132294662,"body_markdown":"OpenJDK is Java SE implementation not Java EE. For Java EE you would need an application server, so you can&#39;t simply replace it.","body":"OpenJDK is Java SE implementation not Java EE. For Java EE you would need an application server, so you can&#39;t simply replace it."},{"owner":{"account_id":2227135,"reputation":1943,"user_id":1965599,"accept_rate":63,"display_name":"Glyn"},"score":0,"creation_date":1672469962,"post_id":74967783,"comment_id":132294978,"body_markdown":"@StephenC I obviously do not know enough about this. Can you please direct me to some readings please?","body":"@StephenC I obviously do not know enough about this. Can you please direct me to some readings please?"},{"owner":{"account_id":2227135,"reputation":1943,"user_id":1965599,"accept_rate":63,"display_name":"Glyn"},"score":0,"creation_date":1672469974,"post_id":74967783,"comment_id":132294980,"body_markdown":"@Pavel I obviously do not know enough about this. Can you please direct me to some readings please?","body":"@Pavel I obviously do not know enough about this. Can you please direct me to some readings please?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1672483514,"post_id":74967783,"comment_id":132296674,"body_markdown":"@Glyn Wikipedia is often a good place to start your research.","body":"@Glyn Wikipedia is often a good place to start your research."}],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672471251,"creation_date":1672471251,"answer_id":74968107,"question_id":74967783,"body_markdown":"Try below solution :\r\n\r\nWindow → Preferences → Java → Installed JREs → Add [Here add your open JDK path]","title":"How to move from Java EE to OpenJDK?","body":"<p>Try below solution :</p>\n<p>Window → Preferences → Java → Installed JREs → Add [Here add your open JDK path]</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672483349,"creation_date":1672482936,"answer_id":74968966,"question_id":74967783,"body_markdown":"[Java SE (Standard Edition)][1] is a set of [specifications][2] published by [Oracle Corp][3]. See [*Java Language and Virtual Machine Specifications*][4].\r\n\r\nSeveral vendors release software implementing those specifications. These vendors include, in no specific order: Amazon, BellSoft, IBM, Oracle, SAP, Azul Systems, Microsoft, Red Hat, and more. \r\n\r\nNearly all of these implementations are built largely, if not entirely, from the source code housed at the [*OpenJDK*][5] open-source project. That project is owned by Oracle Corp. Others contribute code and labor, including IBM, Apple, and more. \r\n\r\nOracle also owned a set of specifications for software to run on top of Java SE implementations. These specs were known as *Java Enterprise Edition (Java EE)* because they were aimed primarily at enterprise-oriented developers. Oracle in recent years donated these specs and related technologies to the [Eclipse Foundation][6], where they were open-sourced. The name changed to [*Jakarta EE*][7]. \r\n\r\nSeveral vendors publish software that implement the Jakarta EE specs. Some of these vendors publish app server software that bundle several of the Jakarta EE implementations to form a deployment container for your app that uses these Jakarta EE technologies. \r\n\r\n[*Apache Tomcat*][8] is one such product that provides implementations of several Jakarta EE specs in a web app deployment container. These implemented specs include [*Jakarta Servlet*][9], [*Jakarta Server Pages*][10], [*Jakarta Expression Language*][11], and more. \r\n\r\nThe Eclipse Foundation also publishes a popular [IDE][12]. The IDE is known simply as [*Eclipse*][13]. You can use Eclipse to write Java-based apps.  These apps can optionally use libraries that implement some of the Jakarta EE specs. \r\n\r\n\r\nSo your Question does not make any sense. \r\n\r\n - Eclipse is an IDE used to write Java-based apps. \r\n - Your app written in Eclipse can use any of several implementations of Java, nearly all of which are based on the source-code published by the OpenJDK project.\r\n - Java-based apps can optionally make use of libraries implementing Jakarta EE specs.\r\n - If using those Jakarta EE technologies, you’ll need a [container app server][14] in which to deploy your app. Tomcat is one such container. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Java_Platform,_Standard_Edition\r\n  [2]: https://en.m.wikipedia.org/wiki/Specification_(technical_standard)\r\n  [3]: https://en.m.wikipedia.org/wiki/Oracle_Corporation\r\n  [4]: https://docs.oracle.com/javase/specs/\r\n  [5]: https://en.m.wikipedia.org/wiki/OpenJDK\r\n  [6]: https://en.m.wikipedia.org/wiki/Eclipse_Foundation\r\n  [7]: https://en.m.wikipedia.org/wiki/Jakarta_EE\r\n  [8]: https://en.m.wikipedia.org/wiki/Apache_Tomcat\r\n  [9]: https://en.m.wikipedia.org/wiki/Jakarta_Servlet\r\n  [10]: https://en.m.wikipedia.org/wiki/Jakarta_Server_Pages\r\n  [11]: https://en.m.wikipedia.org/wiki/Jakarta_Expression_Language\r\n  [12]: https://en.m.wikipedia.org/wiki/Integrated_development_environment\r\n  [13]: https://en.m.wikipedia.org/wiki/Eclipse_(software)\r\n  [14]: https://en.m.wikipedia.org/wiki/Web_container","title":"How to move from Java EE to OpenJDK?","body":"<p><a href=\"https://en.m.wikipedia.org/wiki/Java_Platform,_Standard_Edition\" rel=\"nofollow noreferrer\">Java SE (Standard Edition)</a> is a set of <a href=\"https://en.m.wikipedia.org/wiki/Specification_(technical_standard)\" rel=\"nofollow noreferrer\">specifications</a> published by <a href=\"https://en.m.wikipedia.org/wiki/Oracle_Corporation\" rel=\"nofollow noreferrer\">Oracle Corp</a>. See <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\"><em>Java Language and Virtual Machine Specifications</em></a>.</p>\n<p>Several vendors release software implementing those specifications. These vendors include, in no specific order: Amazon, BellSoft, IBM, Oracle, SAP, Azul Systems, Microsoft, Red Hat, and more.</p>\n<p>Nearly all of these implementations are built largely, if not entirely, from the source code housed at the <a href=\"https://en.m.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\"><em>OpenJDK</em></a> open-source project. That project is owned by Oracle Corp. Others contribute code and labor, including IBM, Apple, and more.</p>\n<p>Oracle also owned a set of specifications for software to run on top of Java SE implementations. These specs were known as <em>Java Enterprise Edition (Java EE)</em> because they were aimed primarily at enterprise-oriented developers. Oracle in recent years donated these specs and related technologies to the <a href=\"https://en.m.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>, where they were open-sourced. The name changed to <a href=\"https://en.m.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\"><em>Jakarta EE</em></a>.</p>\n<p>Several vendors publish software that implement the Jakarta EE specs. Some of these vendors publish app server software that bundle several of the Jakarta EE implementations to form a deployment container for your app that uses these Jakarta EE technologies.</p>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Apache_Tomcat\" rel=\"nofollow noreferrer\"><em>Apache Tomcat</em></a> is one such product that provides implementations of several Jakarta EE specs in a web app deployment container. These implemented specs include <a href=\"https://en.m.wikipedia.org/wiki/Jakarta_Servlet\" rel=\"nofollow noreferrer\"><em>Jakarta Servlet</em></a>, <a href=\"https://en.m.wikipedia.org/wiki/Jakarta_Server_Pages\" rel=\"nofollow noreferrer\"><em>Jakarta Server Pages</em></a>, <a href=\"https://en.m.wikipedia.org/wiki/Jakarta_Expression_Language\" rel=\"nofollow noreferrer\"><em>Jakarta Expression Language</em></a>, and more.</p>\n<p>The Eclipse Foundation also publishes a popular <a href=\"https://en.m.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>. The IDE is known simply as <a href=\"https://en.m.wikipedia.org/wiki/Eclipse_(software)\" rel=\"nofollow noreferrer\"><em>Eclipse</em></a>. You can use Eclipse to write Java-based apps.  These apps can optionally use libraries that implement some of the Jakarta EE specs.</p>\n<p>So your Question does not make any sense.</p>\n<ul>\n<li>Eclipse is an IDE used to write Java-based apps.</li>\n<li>Your app written in Eclipse can use any of several implementations of Java, nearly all of which are based on the source-code published by the OpenJDK project.</li>\n<li>Java-based apps can optionally make use of libraries implementing Jakarta EE specs.</li>\n<li>If using those Jakarta EE technologies, you’ll need a <a href=\"https://en.m.wikipedia.org/wiki/Web_container\" rel=\"nofollow noreferrer\">container app server</a> in which to deploy your app. Tomcat is one such container.</li>\n</ul>\n"}],"owner":{"account_id":2227135,"reputation":1943,"user_id":1965599,"accept_rate":63,"display_name":"Glyn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672570218,"answer_count":2,"score":-1,"last_activity_date":1672483349,"creation_date":1672465927,"question_id":74967783,"body_markdown":"I am using:\r\n\r\n - Java EE 1.8\r\n - Eclipse 2022-12\r\n - Apache Tomcat v10.1.1\r\n\r\nI would like to move to OpenJDK. How do I replace the Java EE 1.8 with the OpenJDK in Eclipse please?","title":"How to move from Java EE to OpenJDK?","body":"<p>I am using:</p>\n<ul>\n<li>Java EE 1.8</li>\n<li>Eclipse 2022-12</li>\n<li>Apache Tomcat v10.1.1</li>\n</ul>\n<p>I would like to move to OpenJDK. How do I replace the Java EE 1.8 with the OpenJDK in Eclipse please?</p>\n"},{"tags":["java","spring","flyway"],"answers":[{"tags":[],"owner":{"account_id":13286969,"reputation":71,"user_id":9592742,"display_name":"Andrey Rosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1615477811,"creation_date":1615477811,"answer_id":66585914,"question_id":66582206,"body_markdown":"you  already try set configure this setting properties?\r\n \r\n\r\n     # MIGRATIONS PROPERTIES\r\n    spring.flyway.baseline-on-migrate=true\r\n\r\n\r\n","title":"Error on initialize springboot creating bean with name &#39;flywayInitializer&#39;","body":"<p>you  already try set configure this setting properties?</p>\n<pre><code> # MIGRATIONS PROPERTIES\nspring.flyway.baseline-on-migrate=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993079,"reputation":11,"user_id":10106616,"display_name":"Rajat Rastogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672483203,"creation_date":1672483203,"answer_id":74968989,"question_id":66582206,"body_markdown":"In My case, I need to update the application.yml file only\r\n\r\nspring:\r\n   flyway:\r\n      baseline-on-migrate=true\r\n","title":"Error on initialize springboot creating bean with name &#39;flywayInitializer&#39;","body":"<p>In My case, I need to update the application.yml file only</p>\n<p>spring:\nflyway:\nbaseline-on-migrate=true</p>\n"}],"owner":{"account_id":20858077,"reputation":5,"user_id":15320920,"display_name":"Caio Genaro Guimar&#227;es"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66585914,"answer_count":2,"score":0,"last_activity_date":1672483203,"creation_date":1615464192,"question_id":66582206,"body_markdown":"Getting error on flyway when i initialize first run on spring boot\r\nThis is the erros i got on my run.\r\n\r\nJust trying to initialize my first spring app and create the tables on sql database\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is java.lang.reflect.InvocationTargetException\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar:5.3.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1153) ~[spring-context-5.3.4.jar:5.3.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-5.3.4.jar:5.3.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:582) ~[spring-context-5.3.4.jar:5.3.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.3.jar:2.4.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.4.3.jar:2.4.3]\r\n```\r\nHeres a picture of my folders migration, applicationproprieties, pom.xml\r\n\r\n[Folders][1]\r\n\r\n\r\n[ApplicationPropreties][2]\r\n\r\n\r\n[POM.XML][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/puAGW.png\r\n  [2]: https://i.stack.imgur.com/37Rat.png\r\n  [3]: https://i.stack.imgur.com/Fm4IN.png","title":"Error on initialize springboot creating bean with name &#39;flywayInitializer&#39;","body":"<p>Getting error on flyway when i initialize first run on spring boot\nThis is the erros i got on my run.</p>\n<p>Just trying to initialize my first spring app and create the tables on sql database</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is java.lang.reflect.InvocationTargetException\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1153) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:582) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.4.3.jar:2.4.3]\n</code></pre>\n<p>Heres a picture of my folders migration, applicationproprieties, pom.xml</p>\n<p><a href=\"https://i.stack.imgur.com/puAGW.png\" rel=\"nofollow noreferrer\">Folders</a></p>\n<p><a href=\"https://i.stack.imgur.com/37Rat.png\" rel=\"nofollow noreferrer\">ApplicationPropreties</a></p>\n<p><a href=\"https://i.stack.imgur.com/Fm4IN.png\" rel=\"nofollow noreferrer\">POM.XML</a></p>\n"},{"tags":["java","djl"],"owner":{"account_id":16272847,"reputation":161,"user_id":11750896,"display_name":"Philipp S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672483069,"creation_date":1672483069,"question_id":74968978,"body_markdown":"I am trying to build a simple neural network to represent a logical AND.\r\n\r\nAs I am new to machine learning and the Deep Java Library I was following the beginner tutorial: https://docs.djl.ai/jupyter/tutorial/01_create_your_first_network.html\r\n\r\nThe result of the tutorial was good and I got the correct results.\r\n\r\nThen I have modified the code to:\r\n1. read data from a CSV file\r\n2. use the data from the CSV file for training\r\n3. classify an input vector of two float values\r\n\r\nThe code is shown below. Unfortunately the result of the classification is not as expected. \r\n\r\nWhen I use:\r\n```Java\r\nfloat one [] = {1f,1f};\r\nclassify(one);\r\n```\r\n\r\nI get the result:\r\n```console\r\n0: 0.5816633701324463\r\n1: 0.4183366000652313\r\n```\r\n\r\nWhen I use:\r\n```Java\r\nfloat zero [] = {1f,0f};\r\nclassify(zero);\r\n```\r\n\r\nI get the result:\r\n```console\r\n0: 0.5276625156402588\r\n1: 0.47233742475509644\r\n```\r\n\r\nSo there is something obviously&#160;wrong, but I do not know where to start:\r\n1. data / training\r\n2. model type\r\n3. network setup\r\n\r\nMaybe someone can help me to find the solution and show me the mistake I am making.\r\n\r\nJava code:\r\n\r\n```Java\r\nimport ai.djl.*;\r\nimport ai.djl.training.*;\r\nimport java.io.IOException;\r\nimport java.nio.file.*;\r\nimport ai.djl.ndarray.types.*;\r\nimport ai.djl.training.loss.*;\r\nimport ai.djl.training.listener.*;\r\nimport ai.djl.training.evaluator.*;\r\nimport ai.djl.basicmodelzoo.basic.*;\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\nimport org.apache.commons.csv.CSVFormat;\r\nimport ai.djl.ndarray.*;\r\nimport ai.djl.modality.*;\r\nimport ai.djl.translate.*;\r\nimport ai.djl.ndarray.NDList;\r\nimport ai.djl.translate.TranslateException;\r\nimport ai.djl.basicdataset.tabular.CsvDataset;\r\nimport ai.djl.basicdataset.tabular.utils.Feature;\r\n\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        boolean train = false;\r\n\r\n        if(train) {\r\n            try {\r\n                training();\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;[ERROR] Could not train&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            try {\r\n                // define some input vectors for the neural network\r\n                float zero [] = {1f,0f};\r\n                float zero2 [] = {0f,0f};\r\n                float one [] = {1f,1f};\r\n    \r\n                classify(zero);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;[ERROR] Could not classify&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    /**\r\n     * Classify with the trained neural network\r\n     * @throws MalformedModelException\r\n     * @throws IOException\r\n     * @throws TranslateException\r\n     */\r\n    static void classify(float [] input) throws MalformedModelException, IOException, TranslateException {\r\n\r\n        Path modelDir = Paths.get(&quot;build/mlp&quot;);\r\n        Model model = Model.newInstance(&quot;mlpBlock&quot;);\r\n        model.setBlock(new Mlp(2, 2, new int[] {2}));\r\n        model.load(modelDir);\r\n\r\n        Translator&lt;float[], Classifications&gt; translator = new Translator&lt;float[], Classifications&gt;() {\r\n\r\n            @Override\r\n            public NDList processInput(TranslatorContext ctx, float[] input) {\r\n                \r\n                NDArray array = ctx.getNDManager().create(input);\r\n                NDList ndList = new NDList();\r\n                ndList.add(array);\r\n                return ndList;\r\n            }\r\n        \r\n            @Override\r\n            public Classifications processOutput(TranslatorContext ctx, NDList list) {\r\n                NDArray probabilities = list.singletonOrThrow().softmax(0);\r\n                List&lt;String&gt; classNames = IntStream.range(0, 2).mapToObj(String::valueOf).collect(Collectors.toList());\r\n                return new Classifications(classNames, probabilities);\r\n            }\r\n        \r\n            @Override\r\n            public Batchifier getBatchifier() {\r\n                return Batchifier.STACK;\r\n            }\r\n        };\r\n\r\n        var predictor = model.newPredictor(translator);\r\n\r\n        var classifications = predictor.predict(input);\r\n\r\n        for(int i = 0; i &lt; classifications.getProbabilities().size(); i++) {\r\n            System.out.println(classifications.getClassNames().get(i) + &quot;: &quot; + classifications.getProbabilities().get(i));\r\n            \r\n        }\r\n    }\r\n\r\n    /**\r\n     * Train the neural network\r\n     * @throws IOException\r\n     * @throws TranslateException\r\n     */\r\n    static void training() throws IOException, TranslateException {\r\n    \r\n        Path csvPath = Paths.get(&quot;TrainingDataAND.csv&quot;);\r\n\r\n        CSVFormat csvFormat = CSVFormat.DEFAULT.withHeader();\r\n\r\n        CsvDataset dataset = CsvDataset.builder()\r\n            .optCsvFile(csvPath)\r\n            .addFeature(new Feature(&quot;in1&quot;, true))\r\n            .addFeature(new Feature(&quot;in2&quot;, true))\r\n            .addLabel(new Feature(&quot;result&quot;, true))\r\n            .setSampling(2, true)\r\n            .setCsvFormat(csvFormat)\r\n            .build();\r\n\r\n        Model model = Model.newInstance(&quot;mlpBlock&quot;);\r\n        model.setBlock(new Mlp(2, 2, new int[] {2}));\r\n\r\n        DefaultTrainingConfig config = new DefaultTrainingConfig(Loss.softmaxCrossEntropyLoss())\r\n            .addEvaluator(new Accuracy())\r\n            .addTrainingListeners(TrainingListener.Defaults.logging());\r\n\r\n        Trainer trainer = model.newTrainer(config);\r\n\r\n        trainer.initialize(new Shape(1, 2));\r\n\r\n        int epoch = 2;\r\n\r\n        EasyTrain.fit(trainer, epoch, dataset, null);\r\n\r\n        Path modelDir = Paths.get(&quot;build/mlp&quot;);\r\n        Files.createDirectories(modelDir);\r\n\r\n        model.setProperty(&quot;Epoch&quot;, String.valueOf(epoch));\r\n\r\n        model.save(modelDir, &quot;mlpBlock&quot;);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nTraining data (TrainingDataAND.csv):\r\n\r\n```\r\nin1,in2,result\r\n1,1,1\r\n1,0,0\r\n0,1,0\r\n0,0,0\r\n```","title":"Deep Java Library (DJL) - logical AND classification","body":"<p>I am trying to build a simple neural network to represent a logical AND.</p>\n<p>As I am new to machine learning and the Deep Java Library I was following the beginner tutorial: <a href=\"https://docs.djl.ai/jupyter/tutorial/01_create_your_first_network.html\" rel=\"nofollow noreferrer\">https://docs.djl.ai/jupyter/tutorial/01_create_your_first_network.html</a></p>\n<p>The result of the tutorial was good and I got the correct results.</p>\n<p>Then I have modified the code to:</p>\n<ol>\n<li>read data from a CSV file</li>\n<li>use the data from the CSV file for training</li>\n<li>classify an input vector of two float values</li>\n</ol>\n<p>The code is shown below. Unfortunately the result of the classification is not as expected.</p>\n<p>When I use:</p>\n<pre><code>float one [] = {1f,1f};\nclassify(one);\n</code></pre>\n<p>I get the result:</p>\n<pre><code>0: 0.5816633701324463\n1: 0.4183366000652313\n</code></pre>\n<p>When I use:</p>\n<pre><code>float zero [] = {1f,0f};\nclassify(zero);\n</code></pre>\n<p>I get the result:</p>\n<pre><code>0: 0.5276625156402588\n1: 0.47233742475509644\n</code></pre>\n<p>So there is something obviously wrong, but I do not know where to start:</p>\n<ol>\n<li>data / training</li>\n<li>model type</li>\n<li>network setup</li>\n</ol>\n<p>Maybe someone can help me to find the solution and show me the mistake I am making.</p>\n<p>Java code:</p>\n<pre><code>import ai.djl.*;\nimport ai.djl.training.*;\nimport java.io.IOException;\nimport java.nio.file.*;\nimport ai.djl.ndarray.types.*;\nimport ai.djl.training.loss.*;\nimport ai.djl.training.listener.*;\nimport ai.djl.training.evaluator.*;\nimport ai.djl.basicmodelzoo.basic.*;\nimport java.util.*;\nimport java.util.stream.*;\nimport org.apache.commons.csv.CSVFormat;\nimport ai.djl.ndarray.*;\nimport ai.djl.modality.*;\nimport ai.djl.translate.*;\nimport ai.djl.ndarray.NDList;\nimport ai.djl.translate.TranslateException;\nimport ai.djl.basicdataset.tabular.CsvDataset;\nimport ai.djl.basicdataset.tabular.utils.Feature;\n\npublic class App \n{\n    public static void main( String[] args )\n    {\n        boolean train = false;\n\n        if(train) {\n            try {\n                training();\n            } catch (Exception e) {\n                System.out.println(&quot;[ERROR] Could not train&quot;);\n                e.printStackTrace();\n            }\n        } else {\n            try {\n                // define some input vectors for the neural network\n                float zero [] = {1f,0f};\n                float zero2 [] = {0f,0f};\n                float one [] = {1f,1f};\n    \n                classify(zero);\n            } catch (Exception e) {\n                System.out.println(&quot;[ERROR] Could not classify&quot;);\n                e.printStackTrace();\n            }\n        }\n        \n    }\n\n    /**\n     * Classify with the trained neural network\n     * @throws MalformedModelException\n     * @throws IOException\n     * @throws TranslateException\n     */\n    static void classify(float [] input) throws MalformedModelException, IOException, TranslateException {\n\n        Path modelDir = Paths.get(&quot;build/mlp&quot;);\n        Model model = Model.newInstance(&quot;mlpBlock&quot;);\n        model.setBlock(new Mlp(2, 2, new int[] {2}));\n        model.load(modelDir);\n\n        Translator&lt;float[], Classifications&gt; translator = new Translator&lt;float[], Classifications&gt;() {\n\n            @Override\n            public NDList processInput(TranslatorContext ctx, float[] input) {\n                \n                NDArray array = ctx.getNDManager().create(input);\n                NDList ndList = new NDList();\n                ndList.add(array);\n                return ndList;\n            }\n        \n            @Override\n            public Classifications processOutput(TranslatorContext ctx, NDList list) {\n                NDArray probabilities = list.singletonOrThrow().softmax(0);\n                List&lt;String&gt; classNames = IntStream.range(0, 2).mapToObj(String::valueOf).collect(Collectors.toList());\n                return new Classifications(classNames, probabilities);\n            }\n        \n            @Override\n            public Batchifier getBatchifier() {\n                return Batchifier.STACK;\n            }\n        };\n\n        var predictor = model.newPredictor(translator);\n\n        var classifications = predictor.predict(input);\n\n        for(int i = 0; i &lt; classifications.getProbabilities().size(); i++) {\n            System.out.println(classifications.getClassNames().get(i) + &quot;: &quot; + classifications.getProbabilities().get(i));\n            \n        }\n    }\n\n    /**\n     * Train the neural network\n     * @throws IOException\n     * @throws TranslateException\n     */\n    static void training() throws IOException, TranslateException {\n    \n        Path csvPath = Paths.get(&quot;TrainingDataAND.csv&quot;);\n\n        CSVFormat csvFormat = CSVFormat.DEFAULT.withHeader();\n\n        CsvDataset dataset = CsvDataset.builder()\n            .optCsvFile(csvPath)\n            .addFeature(new Feature(&quot;in1&quot;, true))\n            .addFeature(new Feature(&quot;in2&quot;, true))\n            .addLabel(new Feature(&quot;result&quot;, true))\n            .setSampling(2, true)\n            .setCsvFormat(csvFormat)\n            .build();\n\n        Model model = Model.newInstance(&quot;mlpBlock&quot;);\n        model.setBlock(new Mlp(2, 2, new int[] {2}));\n\n        DefaultTrainingConfig config = new DefaultTrainingConfig(Loss.softmaxCrossEntropyLoss())\n            .addEvaluator(new Accuracy())\n            .addTrainingListeners(TrainingListener.Defaults.logging());\n\n        Trainer trainer = model.newTrainer(config);\n\n        trainer.initialize(new Shape(1, 2));\n\n        int epoch = 2;\n\n        EasyTrain.fit(trainer, epoch, dataset, null);\n\n        Path modelDir = Paths.get(&quot;build/mlp&quot;);\n        Files.createDirectories(modelDir);\n\n        model.setProperty(&quot;Epoch&quot;, String.valueOf(epoch));\n\n        model.save(modelDir, &quot;mlpBlock&quot;);\n\n    }\n}\n\n</code></pre>\n<p>Training data (TrainingDataAND.csv):</p>\n<pre><code>in1,in2,result\n1,1,1\n1,0,0\n0,1,0\n0,0,0\n</code></pre>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672482880,"creation_date":1672478675,"answer_id":74968621,"question_id":74967810,"body_markdown":"I believe that your issue is with the SQL being passed:-\r\n\r\n     String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot; = :&quot; + val + &quot; WHERE procedure_sr_number LIKE :&quot; + id;\r\n\r\nAs the value **val** is non-numeric, because of the **`:`**&#39;s (which you probably don&#39;t want), likewise for the **id** (if not numeric) the values should be enclosed in single quotes.\r\n\r\nSo using:-\r\n\r\n    String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot; = &#39;:&quot; + val + &quot;&#39; WHERE procedure_sr_number LIKE &#39;&quot; + id + &quot;&#39;&quot;;\r\n\r\nwould work. Although you very likely don&#39;t want the **`:`** as part of the value so you very likely want:- \r\n\r\n    String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot; = &#39;&quot; + val + &quot;&#39; WHERE procedure_sr_number LIKE &#39;&quot; + id + &quot;&#39;&quot;;\r\n\r\nSaying that it is not recommended to apply literal values via string concatenation but to utilise parameter binding. This protects against SQL injection. As such you may wish to consider the following version:-\r\n\r\n    public static void updateProcedureBetter(Context context, String colName, String val, String id) {\r\n        String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot;=? WHERE procedure_sr_number LIKE ?&quot;;\r\n        Thread thread = new Thread(() -&gt; {\r\n            DatabaseHelper.getInstance(context).getDao().updateProcedure(new SimpleSQLiteQuery(s,new Object[]{val,id}));\r\n        });\r\n        thread.start();\r\n    }\r\n\r\n- notice the **`?`**&#39;s in the SQL these being replaced by the objects in the Object[], the values being properly enclosed by SQLite parameter binding.\r\n    - the replacement is on a 1 by/for 1 basis (first ? replace by first object in array, 2nd ? by second object ....)\r\n- note also that the intermediate `supportSQLiteQuery` object has been done away with.\r\n- component names (tables, columns etc) typically cannot be bound/changed so the column name has to be concatenated.\r\n\r\n","title":"How to implement Room database query at runtime or dynamically","body":"<p>I believe that your issue is with the SQL being passed:-</p>\n<pre><code> String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot; = :&quot; + val + &quot; WHERE procedure_sr_number LIKE :&quot; + id;\n</code></pre>\n<p>As the value <strong>val</strong> is non-numeric, because of the <strong><code>:</code></strong>'s (which you probably don't want), likewise for the <strong>id</strong> (if not numeric) the values should be enclosed in single quotes.</p>\n<p>So using:-</p>\n<pre><code>String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot; = ':&quot; + val + &quot;' WHERE procedure_sr_number LIKE '&quot; + id + &quot;'&quot;;\n</code></pre>\n<p>would work. Although you very likely don't want the <strong><code>:</code></strong> as part of the value so you very likely want:-</p>\n<pre><code>String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot; = '&quot; + val + &quot;' WHERE procedure_sr_number LIKE '&quot; + id + &quot;'&quot;;\n</code></pre>\n<p>Saying that it is not recommended to apply literal values via string concatenation but to utilise parameter binding. This protects against SQL injection. As such you may wish to consider the following version:-</p>\n<pre><code>public static void updateProcedureBetter(Context context, String colName, String val, String id) {\n    String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot;=? WHERE procedure_sr_number LIKE ?&quot;;\n    Thread thread = new Thread(() -&gt; {\n        DatabaseHelper.getInstance(context).getDao().updateProcedure(new SimpleSQLiteQuery(s,new Object[]{val,id}));\n    });\n    thread.start();\n}\n</code></pre>\n<ul>\n<li>notice the <strong><code>?</code></strong>'s in the SQL these being replaced by the objects in the Object[], the values being properly enclosed by SQLite parameter binding.\n<ul>\n<li>the replacement is on a 1 by/for 1 basis (first ? replace by first object in array, 2nd ? by second object ....)</li>\n</ul>\n</li>\n<li>note also that the intermediate <code>supportSQLiteQuery</code> object has been done away with.</li>\n<li>component names (tables, columns etc) typically cannot be bound/changed so the column name has to be concatenated.</li>\n</ul>\n"}],"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74968621,"answer_count":1,"score":4,"last_activity_date":1672482880,"creation_date":1672466523,"question_id":74967810,"body_markdown":"I need to create a room database query dynamically because I have lots of fields for `UPDATE` in the database.\r\n\r\nIf I used like below method then it works, but I have lots of fields that&#39;s why I can&#39;t create a separate `UPDATE` method like this.\r\n\r\n```\r\n@Query(&quot;UPDATE PROCEDUREMODEL SET patient_in_time = :val WHERE procedure_sr_number LIKE :sr&quot;)\r\nvoid updateP(String val, String sr);\r\n```\r\n\r\nNow I try below but it does not work.\r\n\r\nIn DAO class I created this\r\n```\r\n@RawQuery\r\nProcedureModel updateProcedure(SupportSQLiteQuery supportSQLiteQuery);\r\n```\r\n\r\nAnd use like this\r\n\r\n```\r\npublic static void updateProcedure(Context context, String colName, String val, String id) {\r\n    String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot; = :&quot; + val + &quot; WHERE procedure_sr_number LIKE :&quot; + id;\r\n    SupportSQLiteQuery supportSQLiteQuery = new SimpleSQLiteQuery(s);\r\n    Thread thread = new Thread(() -&gt; {\r\n        DatabaseHelper.getInstance(context).getDao().updateProcedure(supportSQLiteQuery);\r\n    });\r\n    thread.start();\r\n}\r\n```\r\n\r\nI want to run the `UPDATE` query at runtime in Room database.","title":"How to implement Room database query at runtime or dynamically","body":"<p>I need to create a room database query dynamically because I have lots of fields for <code>UPDATE</code> in the database.</p>\n<p>If I used like below method then it works, but I have lots of fields that's why I can't create a separate <code>UPDATE</code> method like this.</p>\n<pre><code>@Query(&quot;UPDATE PROCEDUREMODEL SET patient_in_time = :val WHERE procedure_sr_number LIKE :sr&quot;)\nvoid updateP(String val, String sr);\n</code></pre>\n<p>Now I try below but it does not work.</p>\n<p>In DAO class I created this</p>\n<pre><code>@RawQuery\nProcedureModel updateProcedure(SupportSQLiteQuery supportSQLiteQuery);\n</code></pre>\n<p>And use like this</p>\n<pre><code>public static void updateProcedure(Context context, String colName, String val, String id) {\n    String s = &quot;UPDATE PROCEDUREMODEL SET &quot; + colName + &quot; = :&quot; + val + &quot; WHERE procedure_sr_number LIKE :&quot; + id;\n    SupportSQLiteQuery supportSQLiteQuery = new SimpleSQLiteQuery(s);\n    Thread thread = new Thread(() -&gt; {\n        DatabaseHelper.getInstance(context).getDao().updateProcedure(supportSQLiteQuery);\n    });\n    thread.start();\n}\n</code></pre>\n<p>I want to run the <code>UPDATE</code> query at runtime in Room database.</p>\n"},{"tags":["java","spring-boot","authentication","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":19301190,"reputation":21,"user_id":14109036,"display_name":"Serin Heo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672482848,"creation_date":1672466075,"answer_id":74967790,"question_id":74965846,"body_markdown":"What URL do you call and how do you call it?\r\n\r\nI think the `requestMatcher` doesn&#39;t match as you call it.\r\nSee the code below. \r\n\r\nIf you call `localhost:8080/login.html` then your code should be like: \r\n\r\n- `antMatcher(&quot;/login.html&quot;)` or \r\n- `antMatcher(&quot;/login*&quot;)`\r\n\r\nExample:\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .antMatchers(&quot;/anonymous*&quot;).anonymous()\r\n                .antMatchers(&quot;/login*&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n    }\r\n\r\nhttps://www.baeldung.com/spring-security-login","title":"method requestMatchers in class org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry&lt;C&gt; cannot be applied to given types;","body":"<p>What URL do you call and how do you call it?</p>\n<p>I think the <code>requestMatcher</code> doesn't match as you call it.\nSee the code below.</p>\n<p>If you call <code>localhost:8080/login.html</code> then your code should be like:</p>\n<ul>\n<li><code>antMatcher(&quot;/login.html&quot;)</code> or</li>\n<li><code>antMatcher(&quot;/login*&quot;)</code></li>\n</ul>\n<p>Example:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n        .authorizeRequests()\n            .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n            .antMatchers(&quot;/anonymous*&quot;).anonymous()\n            .antMatchers(&quot;/login*&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n}\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-security-login\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-login</a></p>\n"}],"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672482848,"creation_date":1672434932,"question_id":74965846,"body_markdown":"I have a problem with authorize.requestMatchers where when I pass a string it is not being accepted in the compilation I&#39;m new to spring security and I still haven&#39;t been able to find a solution for this error below is a print of my class in intellJ\r\n: https://uploaddeimagens.com.br/imagens/4N5u8eA\r\n\r\n\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SpringSecurity {\r\n    \r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Bean\r\n        public static PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.csrf().disable()\r\n                    .authorizeHttpRequests((authorize) -&gt;\r\n                            authorize.requestMatchers(&quot;/register/**&quot;).permitAll()\r\n                                    .requestMatchers(&quot;/index&quot;).permitAll()\r\n                                    .requestMatchers(&quot;/users&quot;).hasRole(&quot;ADMIN&quot;)\r\n                    ).formLogin(\r\n                            form -&gt; form\r\n                                    .loginPage(&quot;/login&quot;)\r\n                                    .loginProcessingUrl(&quot;/login&quot;)\r\n                                    .defaultSuccessUrl(&quot;/users&quot;)\r\n                                    .permitAll()\r\n                    ).logout(\r\n                            logout -&gt; logout\r\n                                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                                    .permitAll()\r\n                    );\r\n            return http.build();\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n                    .userDetailsService(userDetailsService)\r\n                    .passwordEncoder(passwordEncoder());\r\n        }\r\n    }\r\n\r\n**Pom.xml**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.xxxxxxxxx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;xxxxxxxxxxxxxxx&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;xxxxxxxxxxxxxx&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaybird-jdk17&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"method requestMatchers in class org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry&lt;C&gt; cannot be applied to given types;","body":"<p>I have a problem with authorize.requestMatchers where when I pass a string it is not being accepted in the compilation I'm new to spring security and I still haven't been able to find a solution for this error below is a print of my class in intellJ\n: <a href=\"https://uploaddeimagens.com.br/imagens/4N5u8eA\" rel=\"nofollow noreferrer\">https://uploaddeimagens.com.br/imagens/4N5u8eA</a></p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\npublic class SpringSecurity {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public static PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests((authorize) -&gt;\n                        authorize.requestMatchers(&quot;/register/**&quot;).permitAll()\n                                .requestMatchers(&quot;/index&quot;).permitAll()\n                                .requestMatchers(&quot;/users&quot;).hasRole(&quot;ADMIN&quot;)\n                ).formLogin(\n                        form -&gt; form\n                                .loginPage(&quot;/login&quot;)\n                                .loginProcessingUrl(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/users&quot;)\n                                .permitAll()\n                ).logout(\n                        logout -&gt; logout\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                                .permitAll()\n                );\n        return http.build();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n}\n</code></pre>\n<p><strong>Pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.xxxxxxxxx&lt;/groupId&gt;\n    &lt;artifactId&gt;xxxxxxxxxxxxxxx&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;xxxxxxxxxxxxxx&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;jaybird-jdk17&lt;/artifactId&gt;\n            &lt;version&gt;3.0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\n            &lt;version&gt;5.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\n            &lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\n            &lt;version&gt;1.3.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","maven","httpresponse","content-type","resteasy"],"answers":[{"tags":[],"owner":{"account_id":6567042,"reputation":3665,"user_id":5076266,"accept_rate":74,"display_name":"Thilina Sampath"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1672482560,"creation_date":1445321443,"answer_id":33229229,"question_id":33228030,"body_markdown":"I could fix this issue by adding the following to my request headers.\r\n\r\n\r\n    Content-Type: application/xml\r\n    Accept: application/x-www-form-urlencoded\r\n\r\nI got the response as below,\r\n\r\n\r\n    Status Code: 200 OK\r\n    Content-Length: 59\r\n    Content-Type: application/x-www-form-urlencoded\r\n    Date: Tue, 20 Oct 2015 05:39:46 GMT\r\n    Server: Apache-Coyote/1.1\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cannot consume content type-RestEasy","body":"<p>I could fix this issue by adding the following to my request headers.</p>\n<pre><code>Content-Type: application/xml\nAccept: application/x-www-form-urlencoded\n</code></pre>\n<p>I got the response as below,</p>\n<pre><code>Status Code: 200 OK\nContent-Length: 59\nContent-Type: application/x-www-form-urlencoded\nDate: Tue, 20 Oct 2015 05:39:46 GMT\nServer: Apache-Coyote/1.1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10144914,"reputation":7,"user_id":7493360,"display_name":"Akshay"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1485842676,"creation_date":1485842676,"answer_id":41950698,"question_id":33228030,"body_markdown":"Select Your content type properly\r\nwhether its JSON or XML or else ","title":"Cannot consume content type-RestEasy","body":"<p>Select Your content type properly\nwhether its JSON or XML or else </p>\n"}],"owner":{"account_id":6567042,"reputation":3665,"user_id":5076266,"accept_rate":74,"display_name":"Thilina Sampath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50604,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33229229,"answer_count":2,"score":8,"last_activity_date":1672482560,"creation_date":1445315383,"question_id":33228030,"body_markdown":"I&#39;m developing RestEasy web service (I&#39;m using maven/java/tomcat to develop the web service) then I got a message as **Cannot consume content type** like below. Why I got this kind of error,\r\n\r\n    2015-10-19 17:55:02,823 [http-nio-8080-exec-10] WARN  org.jboss.resteasy.core.ExceptionHandler  - failed to execute\r\n    javax.ws.rs.NotSupportedException: Cannot consume content type\r\n    \tat org.jboss.resteasy.core.registry.SegmentNode.match(SegmentNode.java:380)\r\n    \tat org.jboss.resteasy.core.registry.SegmentNode.match(SegmentNode.java:114)\r\n    \tat org.jboss.resteasy.core.registry.RootNode.match(RootNode.java:43)\r\n    \tat org.jboss.resteasy.core.registry.RootClassNode.match(RootClassNode.java:48)\r\n    \tat org.jboss.resteasy.core.ResourceMethodRegistry.getResourceInvoker(ResourceMethodRegistry.java:444)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.getInvoker(SynchronousDispatcher.java:234)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:171)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1526)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1482)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nMy java class is like below,\r\n\r\n\r\n    @POST\r\n    @Path(&quot;/createMime&quot;)\r\n    @Consumes({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\r\n    @Produces({ MediaType.APPLICATION_FORM_URLENCODED })\r\n    public String createMime(CategoryType categoryType) throws MyRestException {\r\n    \r\n            logger.info(&quot;Processing /createMime&quot;);\r\n            //same code here\r\n            return userDAO.category(categoryType);\r\n        }\r\n\r\nHow do I solve this issue? The below image shows my request sent through **Rest client**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ZnlQc.png","title":"Cannot consume content type-RestEasy","body":"<p>I'm developing RestEasy web service (I'm using maven/java/tomcat to develop the web service) then I got a message as <strong>Cannot consume content type</strong> like below. Why I got this kind of error,</p>\n<pre><code>2015-10-19 17:55:02,823 [http-nio-8080-exec-10] WARN  org.jboss.resteasy.core.ExceptionHandler  - failed to execute\njavax.ws.rs.NotSupportedException: Cannot consume content type\n    at org.jboss.resteasy.core.registry.SegmentNode.match(SegmentNode.java:380)\n    at org.jboss.resteasy.core.registry.SegmentNode.match(SegmentNode.java:114)\n    at org.jboss.resteasy.core.registry.RootNode.match(RootNode.java:43)\n    at org.jboss.resteasy.core.registry.RootClassNode.match(RootClassNode.java:48)\n    at org.jboss.resteasy.core.ResourceMethodRegistry.getResourceInvoker(ResourceMethodRegistry.java:444)\n    at org.jboss.resteasy.core.SynchronousDispatcher.getInvoker(SynchronousDispatcher.java:234)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:171)\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1526)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1482)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>My java class is like below,</p>\n<pre><code>@POST\n@Path(&quot;/createMime&quot;)\n@Consumes({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n@Produces({ MediaType.APPLICATION_FORM_URLENCODED })\npublic String createMime(CategoryType categoryType) throws MyRestException {\n\n        logger.info(&quot;Processing /createMime&quot;);\n        //same code here\n        return userDAO.category(categoryType);\n    }\n</code></pre>\n<p>How do I solve this issue? The below image shows my request sent through <strong>Rest client</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ZnlQc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZnlQc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":24824663,"reputation":15,"user_id":19144051,"display_name":"Владислав "},"score":0,"creation_date":1672483075,"post_id":74968858,"comment_id":132296606,"body_markdown":"Yeah, thanks, I needed to import hibernate types 60 instead of hibernate types 52, now it is solved)","body":"Yeah, thanks, I needed to import hibernate types 60 instead of hibernate types 52, now it is solved)"}],"owner":{"account_id":24824663,"reputation":15,"user_id":19144051,"display_name":"Владислав "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1672487477,"answer_count":0,"score":1,"last_activity_date":1672482449,"creation_date":1672481579,"question_id":74968858,"body_markdown":"I am trying to map 2 classes in hibernate with `@Type` annotation.\r\n\r\nI read great amount of publication that say to use `@Type(type = &quot;&quot;)`, but when I use it I got next:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nI tried to use attribute value, with declaring class but it also didn&#39;t work:\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n  [1]: https://i.stack.imgur.com/CrklA.png\r\n  [2]: https://i.stack.imgur.com/aP8Ra.png\r\n  [3]: https://i.stack.imgur.com/UR1NO.png\r\n  [4]: https://i.stack.imgur.com/3Cx5r.png","title":"Annotation @Type dosent find attribute type to map classes in hibernate","body":"<p>I am trying to map 2 classes in hibernate with <code>@Type</code> annotation.</p>\n<p>I read great amount of publication that say to use <code>@Type(type = &quot;&quot;)</code>, but when I use it I got next:</p>\n<p><a href=\"https://i.stack.imgur.com/CrklA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CrklA.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/aP8Ra.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aP8Ra.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to use attribute value, with declaring class but it also didn't work:</p>\n<p><a href=\"https://i.stack.imgur.com/UR1NO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UR1NO.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/3Cx5r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Cx5r.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","docker","rabbitmq","amqp"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1672490366,"post_id":74968817,"comment_id":132297765,"body_markdown":"In general, I&#39;ve found &quot;write your application and then package it in Docker images&quot; to be an effective development approach.  The RabbitMQ broker won&#39;t be on `localhost` in a container setup but you can set Spring properties at runtime to change this.  Is there a more specific issue you&#39;re running into?","body":"In general, I&#39;ve found &quot;write your application and then package it in Docker images&quot; to be an effective development approach.  The RabbitMQ broker won&#39;t be on <code>localhost</code> in a container setup but you can set Spring properties at runtime to change this.  Is there a more specific issue you&#39;re running into?"}],"owner":{"account_id":6022452,"reputation":55,"user_id":4729160,"display_name":"SW_Developer_NR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672481167,"creation_date":1672481167,"question_id":74968817,"body_markdown":"I have an application A, which is spring boot, microservices based and is dockerized.\r\nA has an inbuilt messaging framework and supports multiple implementations such as RabbitMQ, Kafka and ActiveMQ. \r\nThe default broker for the application is RabbitMQ. RabbitMQ runs in a separate container.\r\n\r\nNow B is a java console spring boot application.\r\nB needs to listen to a topic on RabbitMQ to receive messages from application A\r\n\r\nI am able to implement this in a stand-alone way. That is, I use RabbitMQ specific interfaces, create connection factory and am able to receive messages in B from A.\r\n\r\nMy question is:\r\nWill I be able to use A&#39;s messaging framework in B to listen to messages? I have tried adding a subscriber. I&#39;m able to connect to RabbitMQ but not able to receive messages. RabbitMQ host that I&#39;m using is &quot;localhost&quot;\r\n","title":"Connect to RabbitMQ in docker from a stand-alone java application","body":"<p>I have an application A, which is spring boot, microservices based and is dockerized.\nA has an inbuilt messaging framework and supports multiple implementations such as RabbitMQ, Kafka and ActiveMQ.\nThe default broker for the application is RabbitMQ. RabbitMQ runs in a separate container.</p>\n<p>Now B is a java console spring boot application.\nB needs to listen to a topic on RabbitMQ to receive messages from application A</p>\n<p>I am able to implement this in a stand-alone way. That is, I use RabbitMQ specific interfaces, create connection factory and am able to receive messages in B from A.</p>\n<p>My question is:\nWill I be able to use A's messaging framework in B to listen to messages? I have tried adding a subscriber. I'm able to connect to RabbitMQ but not able to receive messages. RabbitMQ host that I'm using is &quot;localhost&quot;</p>\n"},{"tags":["java","libgdx","game-development"],"comments":[{"owner":{"display_name":"user19345539"},"score":0,"creation_date":1672056404,"post_id":74920010,"comment_id":132213572,"body_markdown":"10 is the size of the map by x and y","body":"10 is the size of the map by x and y"},{"owner":{"display_name":"user19345539"},"score":0,"creation_date":1672056979,"post_id":74920010,"comment_id":132213703,"body_markdown":"I use integer for all variables.","body":"I use integer for all variables."},{"owner":{"display_name":"user19345539"},"score":0,"creation_date":1672056999,"post_id":74920010,"comment_id":132213707,"body_markdown":"I expect that I will get the size of a square.","body":"I expect that I will get the size of a square."},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1672137255,"post_id":74920010,"comment_id":132226793,"body_markdown":"What is the incorrect result?","body":"What is the incorrect result?"},{"owner":{"display_name":"user19345539"},"score":0,"creation_date":1672232356,"post_id":74920010,"comment_id":132246944,"body_markdown":"I&#39;ll attach the code to the question right now and you&#39;ll see.","body":"I&#39;ll attach the code to the question right now and you&#39;ll see."},{"owner":{"display_name":"user19345539"},"score":0,"creation_date":1672232434,"post_id":74920010,"comment_id":132246964,"body_markdown":"Try changing the screen size.","body":"Try changing the screen size."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1672233070,"post_id":74920010,"comment_id":132247125,"body_markdown":"&quot;Try changing the screen size&quot; - we shouldn&#39;t have to run the code to see the problem. It&#39;s good that we *can* run the code (assuming it just compiles when libgdx is available), but the question should include details of what goes wrong. It would also be much easier to read if you&#39;d follow Java naming conventions, and ideally reduce it to a [mcve] - I suspect you can reproduce the problem with a lot of the code removed.","body":"&quot;Try changing the screen size&quot; - we shouldn&#39;t have to run the code to see the problem. It&#39;s good that we <i>can</i> run the code (assuming it just compiles when libgdx is available), but the question should include details of what goes wrong. It would also be much easier to read if you&#39;d follow Java naming conventions, and ideally reduce it to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - I suspect you can reproduce the problem with a lot of the code removed."},{"owner":{"display_name":"user19345539"},"score":0,"creation_date":1672239148,"post_id":74920010,"comment_id":132248960,"body_markdown":"i changed the code","body":"i changed the code"},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1672418433,"post_id":74920010,"comment_id":132287360,"body_markdown":"When you say &quot;screen&quot;, do you mean &quot;window&quot;? As in you aren&#39;t changing full screen resolution?","body":"When you say &quot;screen&quot;, do you mean &quot;window&quot;? As in you aren&#39;t changing full screen resolution?"}],"answers":[{"tags":[],"owner":{"account_id":233979,"reputation":851,"user_id":499837,"accept_rate":60,"display_name":"bornander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672479386,"creation_date":1672479386,"answer_id":74968671,"question_id":74920010,"body_markdown":"The projection matrix of your `ShapeRenderer` is calculated on initialization,you need to re-calculate it whenever the window changes size.\r\n\r\nThere are a few ways of achieving this, the simplest might be to just create a new `ShapeRenderer` when the window resizes:\r\n\r\n\t@Override\r\n\tpublic void resize(int width, int height) {\r\n\t\tshapeRenderer = new ShapeRenderer();\r\n\t}\r\n","title":"The size of the square is calculated incorrectly | Java libgdx","body":"<p>The projection matrix of your <code>ShapeRenderer</code> is calculated on initialization,you need to re-calculate it whenever the window changes size.</p>\n<p>There are a few ways of achieving this, the simplest might be to just create a new <code>ShapeRenderer</code> when the window resizes:</p>\n<pre><code>@Override\npublic void resize(int width, int height) {\n    shapeRenderer = new ShapeRenderer();\n}\n</code></pre>\n"}],"owner":{"display_name":"user19345539"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74968671,"answer_count":1,"score":1,"last_activity_date":1672479386,"creation_date":1672055477,"question_id":74920010,"body_markdown":"I am creating a game in which there is a 10x10 map and I need to calculate the size of these squares so that they all fit on the screen.\r\n\r\n```rect_x_end, rect_y_end``` The size of the square by x and y\r\n\r\n```screen_x, screen_y``` Screen Size\r\n\r\n```len_map_x, len_map_y``` Map width and length = 10\r\n\r\nI calculated the size of the square like this:\r\n```\r\nrect_x_end = screen_x / len_map_x\r\nrect_y_end = screen_y / len_map_y\r\n```\r\nexample:\r\n```\r\n64 = 640 / 10\r\n48 = 480 / 10\r\n```\r\nIn this example, everything works correctly, but as soon as I start resizing the screen, this method gives an incorrect result.\r\n\r\nI was doing something similar to python (pygame) and everything worked there.\r\n\r\nkucer0043.java\r\n```\r\npackage com.kucer0043.game;\r\n\r\nimport com.badlogic.gdx.ApplicationAdapter;\r\nimport com.badlogic.gdx.Gdx;\r\nimport com.badlogic.gdx.graphics.glutils.ShapeRenderer;\r\nimport com.badlogic.gdx.utils.ScreenUtils;\r\n\r\npublic class kucer0043 extends ApplicationAdapter {\r\n\tprivate ShapeRenderer shapeRenderer;\r\n\tprivate int map_size;\r\n\r\n\t@Override\r\n\tpublic void create () {\r\n\t\tshapeRenderer = new ShapeRenderer();\r\n\t\tmap_size = 10; // square map size\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render () {\r\n\t\tScreenUtils.clear(0.5f, 0.5f, 0.5f, 1);\r\n\t\tint rect_x_end = Gdx.graphics.getWidth() / map_size;\r\n\t\tint rect_y_end = Gdx.graphics.getHeight() / map_size;\r\n\t\tint map_x = Gdx.input.getX() / rect_x_end;\r\n\t\tint map_y = Gdx.input.getY() / rect_y_end;\r\n\t\tint x = map_x * rect_x_end;\r\n\t\tint y = Gdx.graphics.getHeight() - (map_y + 1) * rect_y_end;\r\n\t\tshapeRenderer.begin(ShapeRenderer.ShapeType.Filled);\r\n\t\tshapeRenderer.setColor(0f,1f,0f,0f);\r\n\t\tshapeRenderer.rect(x,y, rect_x_end, rect_y_end);\r\n\t\tshapeRenderer.end();\r\n\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void dispose () {\r\n\t}\r\n}\r\n\r\n```","title":"The size of the square is calculated incorrectly | Java libgdx","body":"<p>I am creating a game in which there is a 10x10 map and I need to calculate the size of these squares so that they all fit on the screen.</p>\n<p><code>rect_x_end, rect_y_end</code> The size of the square by x and y</p>\n<p><code>screen_x, screen_y</code> Screen Size</p>\n<p><code>len_map_x, len_map_y</code> Map width and length = 10</p>\n<p>I calculated the size of the square like this:</p>\n<pre><code>rect_x_end = screen_x / len_map_x\nrect_y_end = screen_y / len_map_y\n</code></pre>\n<p>example:</p>\n<pre><code>64 = 640 / 10\n48 = 480 / 10\n</code></pre>\n<p>In this example, everything works correctly, but as soon as I start resizing the screen, this method gives an incorrect result.</p>\n<p>I was doing something similar to python (pygame) and everything worked there.</p>\n<p>kucer0043.java</p>\n<pre><code>package com.kucer0043.game;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.graphics.glutils.ShapeRenderer;\nimport com.badlogic.gdx.utils.ScreenUtils;\n\npublic class kucer0043 extends ApplicationAdapter {\n    private ShapeRenderer shapeRenderer;\n    private int map_size;\n\n    @Override\n    public void create () {\n        shapeRenderer = new ShapeRenderer();\n        map_size = 10; // square map size\n    }\n\n    @Override\n    public void render () {\n        ScreenUtils.clear(0.5f, 0.5f, 0.5f, 1);\n        int rect_x_end = Gdx.graphics.getWidth() / map_size;\n        int rect_y_end = Gdx.graphics.getHeight() / map_size;\n        int map_x = Gdx.input.getX() / rect_x_end;\n        int map_y = Gdx.input.getY() / rect_y_end;\n        int x = map_x * rect_x_end;\n        int y = Gdx.graphics.getHeight() - (map_y + 1) * rect_y_end;\n        shapeRenderer.begin(ShapeRenderer.ShapeType.Filled);\n        shapeRenderer.setColor(0f,1f,0f,0f);\n        shapeRenderer.rect(x,y, rect_x_end, rect_y_end);\n        shapeRenderer.end();\n\n    }\n    \n    @Override\n    public void dispose () {\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1672481272,"post_id":74968605,"comment_id":132296324,"body_markdown":"Your feature file looks incomplete. https://cucumber.io/docs/gherkin/reference/","body":"Your feature file looks incomplete. <a href=\"https://cucumber.io/docs/gherkin/reference/\" rel=\"nofollow noreferrer\">cucumber.io/docs/gherkin/reference</a>"}],"owner":{"account_id":7966051,"reputation":127,"user_id":6012253,"accept_rate":17,"display_name":"SlickTester"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672478508,"creation_date":1672478508,"question_id":74968605,"body_markdown":"\r\n\r\nThis  my Cucumber Runner file\r\n\r\n\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    @RunWith(Cucumber.class)\r\n\r\n    @CucumberOptions(features = &quot;classpath:features&quot;,\r\n        plugin = {&quot;com.example&quot;},\r\n        glue = {&quot;com.example.test&quot;}\r\n    )\r\n\r\n    public class CucumberTest {\r\n    }\r\n\r\n    @SpringBootTest\r\n\r\n    @CucumberContextConfiguration\r\n\r\n    @ContextConfiguration(classes = test.class, loader = SpringBootContextLoader.class)\r\n    public class CucumberSpringContextConfiguration extends TestValidations {\r\n\r\n    private static final Logger log = \r\n    LoggerFactory.getLogger(CucumberSpringContextConfiguration.class);\r\n\r\n    @Before\r\n    public void setUp() {\r\n        log.info(&quot; Spring Context Initialized For Executing Cucumber Tests&quot;);\r\n    }\r\n\r\n    }\r\n\r\n    My feature file is \r\n    @Dummy\r\n    Scenario Outline: ISSUER : Verify test.\r\n    Given User construct the  payload \r\n    And User publish event\r\n    Examples:\r\n    | SourcePayload | TargetPayload | DisputeEvent |\r\n\r\nWhen i run this from intellij I get below error\r\n\r\n    C:\\Java\\jdk8_151\\bin\\java.exeagentlib:jdwp=transport=dt_socket,address=127.0.0.1:51079,suspend=y,server=n -Dspring.profiles.active=xyz -Dcucumber.filter.tags=@Dummy\r\n\r\nConnected to the target VM, address: &#39;127.0.0.1:51079&#39;, transport: &#39;socket&#39;\r\nDisconnected from the target VM, address: &#39;127.0.0.1:51079&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 0\r\n\r\nMy test is not run\r\n\r\n\r\nSame framework runs with another feature file","title":"Feature file not running from Spring boot","body":"<p>This  my Cucumber Runner file</p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n@RunWith(Cucumber.class)\n\n@CucumberOptions(features = &quot;classpath:features&quot;,\n    plugin = {&quot;com.example&quot;},\n    glue = {&quot;com.example.test&quot;}\n)\n\npublic class CucumberTest {\n}\n\n@SpringBootTest\n\n@CucumberContextConfiguration\n\n@ContextConfiguration(classes = test.class, loader = SpringBootContextLoader.class)\npublic class CucumberSpringContextConfiguration extends TestValidations {\n\nprivate static final Logger log = \nLoggerFactory.getLogger(CucumberSpringContextConfiguration.class);\n\n@Before\npublic void setUp() {\n    log.info(&quot; Spring Context Initialized For Executing Cucumber Tests&quot;);\n}\n\n}\n\nMy feature file is \n@Dummy\nScenario Outline: ISSUER : Verify test.\nGiven User construct the  payload \nAnd User publish event\nExamples:\n| SourcePayload | TargetPayload | DisputeEvent |\n</code></pre>\n<p>When i run this from intellij I get below error</p>\n<pre><code>C:\\Java\\jdk8_151\\bin\\java.exeagentlib:jdwp=transport=dt_socket,address=127.0.0.1:51079,suspend=y,server=n -Dspring.profiles.active=xyz -Dcucumber.filter.tags=@Dummy\n</code></pre>\n<p>Connected to the target VM, address: '127.0.0.1:51079', transport: 'socket'\nDisconnected from the target VM, address: '127.0.0.1:51079', transport: 'socket'</p>\n<p>Process finished with exit code 0</p>\n<p>My test is not run</p>\n<p>Same framework runs with another feature file</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1672427064,"post_id":74964884,"comment_id":132289366,"body_markdown":"Show us PlayerInterface","body":"Show us PlayerInterface"},{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1672427688,"post_id":74964884,"comment_id":132289524,"body_markdown":"@grigouille I edited my post, and included `PlayerInterface`","body":"@grigouille I edited my post, and included <code>PlayerInterface</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1672456542,"post_id":74964884,"comment_id":132293789,"body_markdown":"I don&#39;t understand the error message &quot;failed to lazily initialize a collection of role&quot; as I don&#39;t see role involved at all. Otherwise though, I don&#39;t see how your player-club entities can be converted to JSON without a stack overflow, as the player-&gt;club reference then club-&gt;player would cause a circular loop. You have to tell JSON parser how to handle it - the most common way is to mark one side with the @JsonIgnore annotation so it isn&#39;t serialized. JSON serialization knows nothing about your JPA mappings and fetch types. You might then try eager on the player-&gt;club relation","body":"I don&#39;t understand the error message &quot;failed to lazily initialize a collection of role&quot; as I don&#39;t see role involved at all. Otherwise though, I don&#39;t see how your player-club entities can be converted to JSON without a stack overflow, as the player-&gt;club reference then club-&gt;player would cause a circular loop. You have to tell JSON parser how to handle it - the most common way is to mark one side with the @JsonIgnore annotation so it isn&#39;t serialized. JSON serialization knows nothing about your JPA mappings and fetch types. You might then try eager on the player-&gt;club relation"},{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1672478873,"post_id":74964884,"comment_id":132296044,"body_markdown":"@Chris I&#39;d go further than that and just avoid bidirectional associations entirely. They pretty much add nothing compared to just using a repository method to get the objects from the other direction, and are a major headache to keep in sync.","body":"@Chris I&#39;d go further than that and just avoid bidirectional associations entirely. They pretty much add nothing compared to just using a repository method to get the objects from the other direction, and are a major headache to keep in sync."}],"answers":[{"tags":[],"owner":{"account_id":27397067,"reputation":1,"user_id":20899100,"display_name":"Alexey Rygzynov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672478390,"creation_date":1672478390,"answer_id":74968598,"question_id":74964884,"body_markdown":"I cant see the code of `PlayerRepository` and `ClubRepository` but I assume your session was closed before you were trying to get the data. \r\nIf its session issue you can resolve it by adding `@Transactional` to `getAllPlayers`or you can prepare separate method to get the necessary data","title":"Spring failed to lazily initialize a collection of role when doing a request","body":"<p>I cant see the code of <code>PlayerRepository</code> and <code>ClubRepository</code> but I assume your session was closed before you were trying to get the data.\nIf its session issue you can resolve it by adding <code>@Transactional</code> to <code>getAllPlayers</code>or you can prepare separate method to get the necessary data</p>\n"}],"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672478390,"creation_date":1672426260,"question_id":74964884,"body_markdown":"I have a problem when trying to get all `Players` from my DB.\r\nThe error I get is:\r\n```\r\nResolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role\r\n```\r\nI tried to either change the `fetch = FetchType.LAZY` to `EAGER`, but it didn&#39;t help, when I debug the `getAllPlayers()` from `controller`, so the part: \r\n```\r\nResponseEntity.ok().body(playerInterface.getAllPlayers());\r\n```\r\nthe result of debugging seems to be fine:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn the Postman I can see:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nMy `Player` entity:\r\n```\r\n@Entity\r\npublic class Player {\r\n   ...\r\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.REMOVE}, fetch = FetchType.LAZY)\r\n    private Club club;\r\n   ...\r\n}\r\n```\r\nMy `Club` entity:\r\n```\r\n@Entity\r\npublic class Club {\r\n    ...\r\n    @OneToMany(mappedBy = &quot;club&quot;, cascade = CascadeType.PERSIST)\r\n    private List&lt;Player&gt; players;\r\n    ...\r\n}\r\n```\r\n\r\nMy `PlayerController`:\r\n```\r\n@RestController\r\npublic class PlayerController {\r\n    private final PlayerInterface playerInterface;\r\n\r\n    public PlayerController(PlayerInterface playerInterface) {\r\n        this.playerInterface = playerInterface;\r\n    }\r\n\r\n    @GetMapping(&quot;/api/players&quot;)\r\n    ResponseEntity&lt;List&lt;Player&gt;&gt; getAllPlayers() {\r\n        return ResponseEntity.ok().body(playerInterface.getAllPlayers());\r\n    }\r\n\r\n}\r\n```\r\n`PlayerInterface`:\r\n```\r\npublic interface PlayerInterface {\r\n    List&lt;Player&gt; getAllPlayers();\r\n    Player addPlayer(Player player);\r\n    boolean deletePlayer(String id);\r\n\r\n}\r\n```\r\n`PlayerService`:\r\n```\r\n@Service\r\n@Transactional\r\npublic class PlayerService implements PlayerInterface {\r\n\r\n    final PlayerRepository playerRepository;\r\n    final ClubRepository clubRepository;\r\n\r\n    public PlayerService(PlayerRepository playerRepository, ClubRepository clubRepository) {\r\n        this.playerRepository = playerRepository;\r\n        this.clubRepository = clubRepository;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Player&gt; getAllPlayers() {\r\n        System.out.println(playerRepository.findAll());\r\n        return playerRepository.findAll();\r\n    }\r\n```\r\n  [1]: https://i.stack.imgur.com/F63K2.png\r\n  [2]: https://i.stack.imgur.com/0xkeD.png","title":"Spring failed to lazily initialize a collection of role when doing a request","body":"<p>I have a problem when trying to get all <code>Players</code> from my DB.\nThe error I get is:</p>\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role\n</code></pre>\n<p>I tried to either change the <code>fetch = FetchType.LAZY</code> to <code>EAGER</code>, but it didn't help, when I debug the <code>getAllPlayers()</code> from <code>controller</code>, so the part:</p>\n<pre><code>ResponseEntity.ok().body(playerInterface.getAllPlayers());\n</code></pre>\n<p>the result of debugging seems to be fine:\n<a href=\"https://i.stack.imgur.com/F63K2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F63K2.png\" alt=\"enter image description here\" /></a></p>\n<p>In the Postman I can see:</p>\n<p><a href=\"https://i.stack.imgur.com/0xkeD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0xkeD.png\" alt=\"enter image description here\" /></a></p>\n<p>My <code>Player</code> entity:</p>\n<pre><code>@Entity\npublic class Player {\n   ...\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.REMOVE}, fetch = FetchType.LAZY)\n    private Club club;\n   ...\n}\n</code></pre>\n<p>My <code>Club</code> entity:</p>\n<pre><code>@Entity\npublic class Club {\n    ...\n    @OneToMany(mappedBy = &quot;club&quot;, cascade = CascadeType.PERSIST)\n    private List&lt;Player&gt; players;\n    ...\n}\n</code></pre>\n<p>My <code>PlayerController</code>:</p>\n<pre><code>@RestController\npublic class PlayerController {\n    private final PlayerInterface playerInterface;\n\n    public PlayerController(PlayerInterface playerInterface) {\n        this.playerInterface = playerInterface;\n    }\n\n    @GetMapping(&quot;/api/players&quot;)\n    ResponseEntity&lt;List&lt;Player&gt;&gt; getAllPlayers() {\n        return ResponseEntity.ok().body(playerInterface.getAllPlayers());\n    }\n\n}\n</code></pre>\n<p><code>PlayerInterface</code>:</p>\n<pre><code>public interface PlayerInterface {\n    List&lt;Player&gt; getAllPlayers();\n    Player addPlayer(Player player);\n    boolean deletePlayer(String id);\n\n}\n</code></pre>\n<p><code>PlayerService</code>:</p>\n<pre><code>@Service\n@Transactional\npublic class PlayerService implements PlayerInterface {\n\n    final PlayerRepository playerRepository;\n    final ClubRepository clubRepository;\n\n    public PlayerService(PlayerRepository playerRepository, ClubRepository clubRepository) {\n        this.playerRepository = playerRepository;\n        this.clubRepository = clubRepository;\n    }\n\n    @Override\n    public List&lt;Player&gt; getAllPlayers() {\n        System.out.println(playerRepository.findAll());\n        return playerRepository.findAll();\n    }\n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":32701,"reputation":7764,"user_id":90909,"accept_rate":89,"display_name":"qrtt1"},"score":21,"creation_date":1285928048,"post_id":3838242,"comment_id":4076544,"body_markdown":"What does the minimum date mean ?","body":"What does the minimum date mean ?"},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1285928551,"post_id":3838242,"comment_id":34416092,"body_markdown":"See this thread\nhttp://stackoverflow.com/questions/2393016/java-what-where-are-the-maximum-and-minimum-values-of-a-gregoriancalendar","body":"See this thread <a href=\"http://stackoverflow.com/questions/2393016/java-what-where-are-the-maximum-and-minimum-values-of-a-gregoriancalendar\" title=\"java what where are the maximum and minimum values of a gregoriancalendar\">stackoverflow.com/questions/2393016/&hellip;</a>"},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":2,"creation_date":1285932001,"post_id":3838242,"comment_id":4076994,"body_markdown":"possible duplicate of [Java: What/where are the maximum and minimum values of a GregorianCalendar?](http://stackoverflow.com/questions/2393016/java-what-where-are-the-maximum-and-minimum-values-of-a-gregoriancalendar)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2393016/java-what-where-are-the-maximum-and-minimum-values-of-a-gregoriancalendar\">Java: What/where are the maximum and minimum values of a GregorianCalendar?</a>"},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":0,"creation_date":1507727158,"post_id":3838242,"comment_id":80325538,"body_markdown":"@qrtt1 the Big Bang of course. Unless you happen to be very good at mathematics and meta-physics.","body":"@qrtt1 the Big Bang of course. Unless you happen to be very good at mathematics and meta-physics."}],"answers":[{"tags":[],"owner":{"account_id":24712,"reputation":65585,"user_id":63034,"accept_rate":57,"display_name":"mikej"},"down_vote_count":2,"up_vote_count":50,"is_accepted":false,"score":48,"last_activity_date":1285930517,"creation_date":1285928213,"answer_id":3838276,"question_id":3838242,"body_markdown":"If you are talking about `java.util.Date` as a timestamp you can do this\r\n\r\n`Date d = new Date(0L)` and you will see this represents Thu Jan 01 01:00:00 GMT 1970\r\n\r\n----------\r\n\r\nAs [tulskiy][1] has pointed out it is possible to pass a negative value to the Date constructor. If we do this and use a date format that includes the era we can see:\r\n\r\n    Date d = new Date(Long.MIN_VALUE);\r\n    DateFormat df = new SimpleDateFormat(&quot;EEE, d MMM yyyy G HH:mm:ss Z&quot;);\r\n    System.out.println(df.format(d));\r\n\r\ndisplays: Sun, 2 Dec 292269055 BC 16:47:04 +0000\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/143585/tulskiy","title":"Minimum date in Java","body":"<p>If you are talking about <code>java.util.Date</code> as a timestamp you can do this</p>\n\n<p><code>Date d = new Date(0L)</code> and you will see this represents Thu Jan 01 01:00:00 GMT 1970</p>\n\n<hr>\n\n<p>As <a href=\"https://stackoverflow.com/users/143585/tulskiy\">tulskiy</a> has pointed out it is possible to pass a negative value to the Date constructor. If we do this and use a date format that includes the era we can see:</p>\n\n<pre><code>Date d = new Date(Long.MIN_VALUE);\nDateFormat df = new SimpleDateFormat(\"EEE, d MMM yyyy G HH:mm:ss Z\");\nSystem.out.println(df.format(d));\n</code></pre>\n\n<p>displays: Sun, 2 Dec 292269055 BC 16:47:04 +0000</p>\n"},{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":1,"up_vote_count":86,"is_accepted":false,"score":85,"last_activity_date":1402543759,"creation_date":1285929266,"answer_id":3838384,"question_id":3838242,"body_markdown":"Don&#39;t forget that Date constructor happily accepts negative values.\r\n\r\n    Date date = new Date(Long.MIN_VALUE);\r\nreturns\r\n&gt; Sun Dec 02 22:47:04 BDT 292269055\r\n\r\nI guess that&#39;s about the time of &lt;s&gt;Big Bang&lt;/s&gt; dinosaurs :)\r\n\r\n**EDIT**\r\n\r\nAs *martin clayton* answered, you can use the Calendar class to check the era. This will output 0 which stands for BCE:\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(new Date(Long.MIN_VALUE));\r\n    System.out.println(calendar.get(Calendar.ERA));","title":"Minimum date in Java","body":"<p>Don't forget that Date constructor happily accepts negative values.</p>\n\n<pre><code>Date date = new Date(Long.MIN_VALUE);\n</code></pre>\n\n<p>returns</p>\n\n<blockquote>\n  <p>Sun Dec 02 22:47:04 BDT 292269055</p>\n</blockquote>\n\n<p>I guess that's about the time of <s>Big Bang</s> dinosaurs :)</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>As <em>martin clayton</em> answered, you can use the Calendar class to check the era. This will output 0 which stands for BCE:</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.setTime(new Date(Long.MIN_VALUE));\nSystem.out.println(calendar.get(Calendar.ERA));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61460,"reputation":76806,"user_id":183172,"display_name":"martin clayton"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1285929336,"creation_date":1285929336,"answer_id":3838391,"question_id":3838242,"body_markdown":"It&#39;s the same as for the Calendar classes.\r\n\r\nTry this:\r\n\r\n    Date d = new Date( Long.MIN_VALUE );\r\n    System.out.println( d );\r\n\r\nYou&#39;ll see:\r\n\r\n    Sun Dec 02 16:47:04 GMT 292269055\r\n\r\nBut the default date format doesn&#39;t include the era - which is **BCE** for this date.\r\n","title":"Minimum date in Java","body":"<p>It's the same as for the Calendar classes.</p>\n\n<p>Try this:</p>\n\n<pre><code>Date d = new Date( Long.MIN_VALUE );\nSystem.out.println( d );\n</code></pre>\n\n<p>You'll see:</p>\n\n<pre><code>Sun Dec 02 16:47:04 GMT 292269055\n</code></pre>\n\n<p>But the default date format doesn't include the era - which is <strong>BCE</strong> for this date.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1507732950,"creation_date":1460066658,"answer_id":36488041,"question_id":3838242,"body_markdown":"The other Answers may be correct but use outmoded classes. \r\n\r\n# java.time\r\n\r\nThe old date-time classes (java.util.Date/.Calendar etc.) have been supplanted by the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework built into Java 8 and later. \r\n\r\nThe java.time classes are inspired by [Joda-Time](http://www.joda.org/joda-time/), defined by [JSR 310](http://jcp.org/en/jsr/detail?id=310), extended by the [ThreeTen-Extra]() project, back-ported to Java 6 &amp; 7 by the [ThreeTen-Backport](http://www.threeten.org/threetenbp/) project, and adapted to Android in the [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) project. See [Tutorial](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).\r\n\r\nFor a moment on the timeline in [UTC][1] with a resolution of [nanoseconds][2], use [`Instant`][3]. Given an [offset-from-UTC][4], use [`OffsetDateTime`][5]. For a [time zone][6] (offset + rules for anomalies), use [`ZonedDateTime`][7], but by its nature has no defined minimum, nor does [`ZoneId`][8]. For a date-only value without time-of-day and without time zone, use [`LocalDate`][9]. For a time-of-day only value without date and without time zone, use [`LocalTime`][10]. For date-time without time zone, use [`LocalDateTime`][11].\r\n\r\n - [`Instant.MIN`][12] =&#160;`-1000000000-01-01T00:00Z`\r\n - [`OffsetDateTime.MIN`][13] = `-999999999-01-01T00:00:00+18:00`\r\n - [`LocalDate.MIN`][14] = `-999999999-01-01`\r\n - [`LocalTime.MIN`][15] = `00:00`\r\n - [`LocalDateTime.MIN`][16] = `-999999999-01-01T00:00:00`\r\n - [`Year.MIN_VALUE`][17] = `-999,999,999`\r\n - [`ZoneOffset.MIN`][18] = `-18:00` (but `-12:00` in practice)\r\n\r\n**Caution:** Be wary of using these values as some kind of flag or special meaning. Many other software libraries and databases may not support these extreme values. \r\n\r\nFor a flag or special meaning such as a non-null &quot;no value available&quot;, I suggest picking an arbitrary moment but avoid going to such extreme reaches either backward or forward in time. Perhaps the [Unix epoch reference date][19], the first moment of 1970 in UTC, 1970-01-01T00:00:00Z. Defined as a constant in Java: [Instant.EPOCH](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#EPOCH)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [4]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [6]: https://en.wikipedia.org/wiki/Time_zone\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [10]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\r\n  [11]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [12]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#MIN\r\n  [13]: http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#MIN\r\n  [14]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#MIN\r\n  [15]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#MIN\r\n  [16]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#MIN\r\n  [17]: https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#MIN_VALUE\r\n  [18]: https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#MIN\r\n  [19]: https://en.wikipedia.org/wiki/Unix_time","title":"Minimum date in Java","body":"<p>The other Answers may be correct but use outmoded classes. </p>\n\n<h1>java.time</h1>\n\n<p>The old date-time classes (java.util.Date/.Calendar etc.) have been supplanted by the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework built into Java 8 and later. </p>\n\n<p>The java.time classes are inspired by <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a>, defined by <a href=\"http://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>, extended by the ThreeTen-Extra project, back-ported to Java 6 &amp; 7 by the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a> project, and adapted to Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> project. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Tutorial</a>.</p>\n\n<p>For a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>. Given an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a>, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a>. For a <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a> (offset + rules for anomalies), use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>, but by its nature has no defined minimum, nor does <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a>. For a date-only value without time-of-day and without time zone, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a>. For a time-of-day only value without date and without time zone, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"noreferrer\"><code>LocalTime</code></a>. For date-time without time zone, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>.</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#MIN\" rel=\"noreferrer\"><code>Instant.MIN</code></a> = <code>-1000000000-01-01T00:00Z</code></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#MIN\" rel=\"noreferrer\"><code>OffsetDateTime.MIN</code></a> = <code>-999999999-01-01T00:00:00+18:00</code></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#MIN\" rel=\"noreferrer\"><code>LocalDate.MIN</code></a> = <code>-999999999-01-01</code></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#MIN\" rel=\"noreferrer\"><code>LocalTime.MIN</code></a> = <code>00:00</code></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#MIN\" rel=\"noreferrer\"><code>LocalDateTime.MIN</code></a> = <code>-999999999-01-01T00:00:00</code></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#MIN_VALUE\" rel=\"noreferrer\"><code>Year.MIN_VALUE</code></a> = <code>-999,999,999</code></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#MIN\" rel=\"noreferrer\"><code>ZoneOffset.MIN</code></a> = <code>-18:00</code> (but <code>-12:00</code> in practice)</li>\n</ul>\n\n<p><strong>Caution:</strong> Be wary of using these values as some kind of flag or special meaning. Many other software libraries and databases may not support these extreme values. </p>\n\n<p>For a flag or special meaning such as a non-null \"no value available\", I suggest picking an arbitrary moment but avoid going to such extreme reaches either backward or forward in time. Perhaps the <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"noreferrer\">Unix epoch reference date</a>, the first moment of 1970 in UTC, 1970-01-01T00:00:00Z. Defined as a constant in Java: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#EPOCH\" rel=\"noreferrer\">Instant.EPOCH</a></p>\n"},{"tags":[],"owner":{"account_id":17369673,"reputation":185,"user_id":12584071,"display_name":"Shashidhar Reddy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1577163994,"creation_date":1577163994,"answer_id":59464061,"question_id":3838242,"body_markdown":"LocalDateTime MIN defines the minimum supported LocalDateTime, &#39;-999999999-01-01T00:00:00&#39;.\r\nThis is the local date-time of midnight at the start of the minimum date.\r\n\r\npublic static final LocalDateTime MIN; this is the MIN syntax;\r\n\r\n    import java.time.LocalDateTime;\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        LocalDateTime a = LocalDateTime.MIN;\r\n        \r\n        System.out.println(a);\r\n      }\r\n    }\r\n\r\n","title":"Minimum date in Java","body":"<p>LocalDateTime MIN defines the minimum supported LocalDateTime, '-999999999-01-01T00:00:00'.\nThis is the local date-time of midnight at the start of the minimum date.</p>\n\n<p>public static final LocalDateTime MIN; this is the MIN syntax;</p>\n\n<pre><code>import java.time.LocalDateTime;\npublic class Main {\n  public static void main(String[] args) {\n    LocalDateTime a = LocalDateTime.MIN;\n\n    System.out.println(a);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":211523,"reputation":765,"user_id":463745,"accept_rate":0,"display_name":"user463745"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112847,"favorite_count":0,"down_vote_count":3,"up_vote_count":65,"answer_count":5,"score":62,"last_activity_date":1672476973,"creation_date":1285927966,"question_id":3838242,"body_markdown":"What is the minimum date value in Java?","title":"Minimum date in Java","body":"<p>What is the minimum date value in Java?</p>\n"},{"tags":["java","types","stream","conditional-operator","instanceof"],"comments":[{"owner":{"account_id":23050709,"reputation":41,"user_id":17167593,"display_name":"Rafael"},"score":0,"creation_date":1672433918,"post_id":74965632,"comment_id":132290835,"body_markdown":"I managed to compile after type-casting the variables in the multiplication and sum operators:\n \n`x -&gt; x instanceof Integer ? (Integer) x * (Integer) x : (String) x + x`\n\nBut isn&#39;t there a better way?","body":"I managed to compile after type-casting the variables in the multiplication and sum operators:   <code>x -&gt; x instanceof Integer ? (Integer) x * (Integer) x : (String) x + x</code>  But isn&#39;t there a better way?"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1672433947,"post_id":74965632,"comment_id":132290840,"body_markdown":"myArray is a list of Objects and objects can not be mulitplayed there new feature in java but i am not sure which JDK version but it work fine with JDK 17 \n        myArray.stream().map(x -&gt; x instanceof Integer z ? z * z : String.valueOf(x).repeat(2)).forEach(System.out::println); check those tutorial https://dev.java/learn/pattern-matching/#instanceof","body":"myArray is a list of Objects and objects can not be mulitplayed there new feature in java but i am not sure which JDK version but it work fine with JDK 17          myArray.stream().map(x -&gt; x instanceof Integer z ? z * z : String.valueOf(x).repeat(2)).forEach(System.out::println); check those tutorial <a href=\"https://dev.java/learn/pattern-matching/#instanceof\" rel=\"nofollow noreferrer\">dev.java/learn/pattern-matching/#instanceof</a>"},{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1672434041,"post_id":74965632,"comment_id":132290857,"body_markdown":"and python is dynamic typing language but java are static","body":"and python is dynamic typing language but java are static"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1672442802,"post_id":74965632,"comment_id":132292326,"body_markdown":"*I expected to be able to process each element according to it&#39;s types* - You have a stream of `Object` type, and you&#39;re trying to add up two objects `x + x`, which doesn&#39;t make sense because `+` as well as other arithmetic operators a defined only for numeric primitives and their wrappers, and compiler is telling you that.","body":"<i>I expected to be able to process each element according to it&#39;s types</i> - You have a stream of <code>Object</code> type, and you&#39;re trying to add up two objects <code>x + x</code>, which doesn&#39;t make sense because <code>+</code> as well as other arithmetic operators a defined only for numeric primitives and their wrappers, and compiler is telling you that."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1672443050,"post_id":74965632,"comment_id":132292358,"body_markdown":"`x * x` also produces a compilation error because you need either to perform casting: `(Integer) x * (Integer) x` or use *Pattern matching for instanceof*: `x instanceof Integer intX ? intX * intX : x`","body":"<code>x * x</code> also produces a compilation error because you need either to perform casting: <code>(Integer) x * (Integer) x</code> or use <i>Pattern matching for instanceof</i>: <code>x instanceof Integer intX ? intX * intX : x</code>"}],"owner":{"account_id":23050709,"reputation":41,"user_id":17167593,"display_name":"Rafael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672476330,"creation_date":1672432747,"question_id":74965632,"body_markdown":"I know this could be a design flaw in Java, but I&#39;d like to process a list with unknown types (easy to do in Python), mapping each element with a lambda function that tests the type and outputs something accordingly.\r\n\r\nI tried to process a list of integers and a string, like so:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class TestMixedTypesArrays {\r\n    public static void main(String[] args) {\r\n        List&lt;Object&gt; myArray = Arrays.asList(2, 3, &quot;a&quot;, 5);\r\n        myArray.stream().map(x -&gt; x instanceof Integer ? x * x : x + x).forEach(System.out::println);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI expected to be able to process each element according to it&#39;s types, but the compiler gives the following exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\r\n        Cannot infer type argument(s) for &lt;R&gt; map(Function&lt;? super T,? extends R&gt;)\r\n        The operator * is undefined for the argument type(s) java.lang.Object, java.lang.Object\r\n        The operator + is undefined for the argument type(s) java.lang.Object, java.lang.Object\r\n```\r\n","title":"inference error when testing each element of a mixed-type list with &quot;instanceof&quot; in a ternary operator on a stream() in Java","body":"<p>I know this could be a design flaw in Java, but I'd like to process a list with unknown types (easy to do in Python), mapping each element with a lambda function that tests the type and outputs something accordingly.</p>\n<p>I tried to process a list of integers and a string, like so:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic class TestMixedTypesArrays {\n    public static void main(String[] args) {\n        List&lt;Object&gt; myArray = Arrays.asList(2, 3, &quot;a&quot;, 5);\n        myArray.stream().map(x -&gt; x instanceof Integer ? x * x : x + x).forEach(System.out::println);\n    }\n}\n\n</code></pre>\n<p>I expected to be able to process each element according to it's types, but the compiler gives the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\n        Cannot infer type argument(s) for &lt;R&gt; map(Function&lt;? super T,? extends R&gt;)\n        The operator * is undefined for the argument type(s) java.lang.Object, java.lang.Object\n        The operator + is undefined for the argument type(s) java.lang.Object, java.lang.Object\n</code></pre>\n"},{"tags":["java","spring-boot","mybatis","mybatis-mapper"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1672489427,"post_id":74968459,"comment_id":132297585,"body_markdown":"Please add 1) DB version 2) driver version 3) `CREATE PROCEDURE` statement","body":"Please add 1) DB version 2) driver version 3) <code>CREATE PROCEDURE</code> statement"}],"owner":{"account_id":18041721,"reputation":21,"user_id":13113651,"display_name":"Shubham Tyagi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672476244,"creation_date":1672476244,"question_id":74968459,"body_markdown":"So I call the procedure using @Select Annotation in my mapper Interface\r\n```\r\n@Select(&quot;EXEC Procedure_tg &#39;#{Br}&#39;,&#39;#{Pr}&#39;&quot;)\r\n String getdummyData(@Param(&quot;Br&quot;) String Br,@Param(&quot;pr&quot;) String Pr);\r\n```\r\n\r\nWill this work or not .If not then how can I call proc","title":"I want to execute a procedure in spring boot application using MYBATIS as ORM Framework","body":"<p>So I call the procedure using @Select Annotation in my mapper Interface</p>\n<pre><code>@Select(&quot;EXEC Procedure_tg '#{Br}','#{Pr}'&quot;)\n String getdummyData(@Param(&quot;Br&quot;) String Br,@Param(&quot;pr&quot;) String Pr);\n</code></pre>\n<p>Will this work or not .If not then how can I call proc</p>\n"},{"tags":["java","aop","junit5","aspect"],"comments":[{"owner":{"account_id":3311534,"reputation":625,"user_id":2784931,"accept_rate":64,"display_name":"cptully"},"score":0,"creation_date":1672415316,"post_id":74946101,"comment_id":132286496,"body_markdown":"@kriegaex I knew I was missing something! Thanks for the pointers I will update later today once I have tried your suggestions.","body":"@kriegaex I knew I was missing something! Thanks for the pointers I will update later today once I have tried your suggestions."},{"owner":{"account_id":3311534,"reputation":625,"user_id":2784931,"accept_rate":64,"display_name":"cptully"},"score":0,"creation_date":1672415632,"post_id":74946101,"comment_id":132286593,"body_markdown":"And survey says... SUCCESS! I changed the annotation on my TestController class from Controller to Service and the test works!\n\nAs for testing for the side effect of logging... Well, yes, I guess that is what I am doing, but that is the desired outcome of the Aspect class.","body":"And survey says... SUCCESS! I changed the annotation on my TestController class from Controller to Service and the test works!  As for testing for the side effect of logging... Well, yes, I guess that is what I am doing, but that is the desired outcome of the Aspect class."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672475988,"creation_date":1672475988,"answer_id":74968446,"question_id":74946101,"body_markdown":"Your &quot;unit test&quot; is closer to an integration test, and you are testing the AOP framework more than the aspect itself. The only thing you do seem to test is the side effect of logging, which is a topic unrelated to AOP. For other ways to [unit-test](https://stackoverflow.com/a/41407336/1082681) or [integration-test](https://stackoverflow.com/a/41453156/1082681) aspects, see my linked answers.\r\n\r\nApart from that and without having tried to copy and compile your code yet, what immediately strikes me as odd is that your aspect has a `within (@org.springframework.stereotype.Service *)` pointcut, but your target class seems to be a `@Controller.` I would not expect the aspect to match there. What happens if you fix that?","title":"How to test Aspects","body":"<p>Your &quot;unit test&quot; is closer to an integration test, and you are testing the AOP framework more than the aspect itself. The only thing you do seem to test is the side effect of logging, which is a topic unrelated to AOP. For other ways to <a href=\"https://stackoverflow.com/a/41407336/1082681\">unit-test</a> or <a href=\"https://stackoverflow.com/a/41453156/1082681\">integration-test</a> aspects, see my linked answers.</p>\n<p>Apart from that and without having tried to copy and compile your code yet, what immediately strikes me as odd is that your aspect has a <code>within (@org.springframework.stereotype.Service *)</code> pointcut, but your target class seems to be a <code>@Controller.</code> I would not expect the aspect to match there. What happens if you fix that?</p>\n"}],"owner":{"account_id":3311534,"reputation":625,"user_id":2784931,"accept_rate":64,"display_name":"cptully"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74968446,"answer_count":1,"score":0,"last_activity_date":1672475988,"creation_date":1672272582,"question_id":74946101,"body_markdown":"I have found and tried to follow this answer by Roman Puchkovskiy [with a detailed example][1], but I am missing some detail.\r\n\r\nHere is the aspect I am trying to test:\r\n\r\n    package com.company.reporting.logger.consumer.prometheusmetrics;\r\n    \r\n    import io.micrometer.core.instrument.Counter;\r\n    import io.micrometer.core.instrument.MeterRegistry;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.aspectj.lang.annotation.AfterThrowing;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n    import org.springframework.kafka.KafkaException;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Aspect\r\n    @Component\r\n    @Slf4j\r\n    /**\r\n     * AOP Class to capture error count due to kafka exception\r\n     */\r\n    public class MetricsCollection {\r\n        MeterRegistry meterRegistry;\r\n    \r\n        private final Counter counter;\r\n    \r\n        public MetricsCollection(MeterRegistry meterRegistry) {\r\n            this.meterRegistry = meterRegistry;\r\n            counter = Counter.builder(&quot;Kafka.producer.error.count&quot;).description(&quot;Custom Kafka Producer metrics for business exception&quot;).tags(&quot;behavior&quot;, &quot;exception&quot;).register(meterRegistry);\r\n        }\r\n    \r\n        /***\r\n         * point cut for jointPoint within service class execution\r\n         */\r\n        @Pointcut(&quot;within (@org.springframework.stereotype.Service *)&quot;)\r\n        public void serviceBean() {\r\n            // this is pointcut\r\n        }\r\n    \r\n        /***\r\n         * point cut for all the jointPoints\r\n         */\r\n        @Pointcut(&quot;execution(* *(..))&quot;)\r\n        public void methodPointcut() {\r\n            // this is pointcut\r\n        }\r\n    \r\n        /***\r\n         *\r\n         * increasing counter upon kafka exception\r\n         */\r\n        @AfterThrowing(pointcut = &quot;serviceBean() &amp;&amp; methodPointcut()&quot;, throwing = &quot;e&quot;)\r\n        public void handleException(Exception e) {\r\n            if (e instanceof KafkaException || e instanceof org.apache.kafka.common.KafkaException) {\r\n                LOGGER.error(&quot;*** In Aspect ErrorHandler *** &quot; + e.getLocalizedMessage());\r\n                counter.increment();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nAnd here is my unit test class:\r\n\r\n    package com.company.reporting.logger.consumer.prometheusmetrics;\r\n    \r\n    import com.company.reporting.logger.consumer.utils.TestUtils;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.read.ListAppender;\r\n    import io.micrometer.core.instrument.MeterRegistry;\r\n    import io.micrometer.core.instrument.composite.CompositeMeterRegistry;\r\n    import org.apache.kafka.common.KafkaException;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.MockitoAnnotations;\r\n    import org.springframework.aop.aspectj.annotation.AspectJProxyFactory;\r\n    import org.springframework.aop.framework.AopProxy;\r\n    import org.springframework.aop.framework.DefaultAopProxyFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.stereotype.Controller;\r\n    \r\n    class MetricsCollectionTest {\r\n    \r\n        private MetricsCollection aspect;\r\n    \r\n        private TestController controllerProxy;\r\n        MeterRegistry meterRegistry;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            MockitoAnnotations.openMocks(this);\r\n    \r\n            meterRegistry = new CompositeMeterRegistry();\r\n            aspect = new MetricsCollection(meterRegistry);\r\n            AspectJProxyFactory aspectJProxyFactory = new AspectJProxyFactory(new TestController());\r\n            aspectJProxyFactory.addAspect(aspect);\r\n    \r\n            DefaultAopProxyFactory proxyFactory = new DefaultAopProxyFactory();\r\n            AopProxy aopProxy = proxyFactory.createAopProxy(aspectJProxyFactory);\r\n    \r\n            controllerProxy = (TestController) aopProxy.getProxy();\r\n        }\r\n    \r\n        @Test\r\n        void MetricsCollection() {\r\n            MetricsCollection metricsCollection = new MetricsCollection(meterRegistry);\r\n    \r\n            assertNotNull(metricsCollection);\r\n        }\r\n    \r\n        @Test\r\n        void handleException() {\r\n            ListAppender&lt;ILoggingEvent&gt; listAppender = TestUtils.getiLoggingEventListAppender(MetricsCollection.class);\r\n    \r\n            try {\r\n                controllerProxy.throwKafkaException();\r\n    \r\n             } catch (Exception ex) {\r\n                if (! (ex instanceof KafkaException)) {\r\n                    fail();\r\n                }\r\n            } finally {\r\n                List&lt;ILoggingEvent&gt; logList = listAppender.list;\r\n    \r\n                assertEquals(1, logList.size());\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n        @Controller\r\n        static\r\n        class TestController {\r\n            @Bean\r\n            String throwKafkaException() {\r\n                throw new KafkaException();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nFinally, here is my TestUtils class:\r\n\r\n    package com.company.reporting.logger.consumer.utils;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    \r\n    import ch.qos.logback.classic.Logger;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.read.ListAppender;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class TestUtils {\r\n           \r\n        @NotNull\r\n        public static ListAppender&lt;ILoggingEvent&gt; getiLoggingEventListAppender(Class clazz) {\r\n            Logger logger = (Logger) LoggerFactory.getLogger(clazz);\r\n            ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\r\n            listAppender.setName(clazz.getName());\r\n            listAppender.start();\r\n            logger.addAppender(listAppender);\r\n            return listAppender;\r\n        }\r\n    }\r\n\r\nMy constructor test passes... :)\r\n\r\nBut the handleException() test is failing to trigger my aspect. Which dot on an i or cross bar on a t did I miss?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56312984/2784931\r\n\r\n","title":"How to test Aspects","body":"<p>I have found and tried to follow this answer by Roman Puchkovskiy <a href=\"https://stackoverflow.com/a/56312984/2784931\">with a detailed example</a>, but I am missing some detail.</p>\n<p>Here is the aspect I am trying to test:</p>\n<pre><code>package com.company.reporting.logger.consumer.prometheusmetrics;\n\nimport io.micrometer.core.instrument.Counter;\nimport io.micrometer.core.instrument.MeterRegistry;\nimport lombok.extern.slf4j.Slf4j;\nimport org.aspectj.lang.annotation.AfterThrowing;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.kafka.KafkaException;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\n@Slf4j\n/**\n * AOP Class to capture error count due to kafka exception\n */\npublic class MetricsCollection {\n    MeterRegistry meterRegistry;\n\n    private final Counter counter;\n\n    public MetricsCollection(MeterRegistry meterRegistry) {\n        this.meterRegistry = meterRegistry;\n        counter = Counter.builder(&quot;Kafka.producer.error.count&quot;).description(&quot;Custom Kafka Producer metrics for business exception&quot;).tags(&quot;behavior&quot;, &quot;exception&quot;).register(meterRegistry);\n    }\n\n    /***\n     * point cut for jointPoint within service class execution\n     */\n    @Pointcut(&quot;within (@org.springframework.stereotype.Service *)&quot;)\n    public void serviceBean() {\n        // this is pointcut\n    }\n\n    /***\n     * point cut for all the jointPoints\n     */\n    @Pointcut(&quot;execution(* *(..))&quot;)\n    public void methodPointcut() {\n        // this is pointcut\n    }\n\n    /***\n     *\n     * increasing counter upon kafka exception\n     */\n    @AfterThrowing(pointcut = &quot;serviceBean() &amp;&amp; methodPointcut()&quot;, throwing = &quot;e&quot;)\n    public void handleException(Exception e) {\n        if (e instanceof KafkaException || e instanceof org.apache.kafka.common.KafkaException) {\n            LOGGER.error(&quot;*** In Aspect ErrorHandler *** &quot; + e.getLocalizedMessage());\n            counter.increment();\n        }\n\n    }\n}\n</code></pre>\n<p>And here is my unit test class:</p>\n<pre><code>package com.company.reporting.logger.consumer.prometheusmetrics;\n\nimport com.company.reporting.logger.consumer.utils.TestUtils;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.read.ListAppender;\nimport io.micrometer.core.instrument.MeterRegistry;\nimport io.micrometer.core.instrument.composite.CompositeMeterRegistry;\nimport org.apache.kafka.common.KafkaException;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.aop.aspectj.annotation.AspectJProxyFactory;\nimport org.springframework.aop.framework.AopProxy;\nimport org.springframework.aop.framework.DefaultAopProxyFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Controller;\n\nclass MetricsCollectionTest {\n\n    private MetricsCollection aspect;\n\n    private TestController controllerProxy;\n    MeterRegistry meterRegistry;\n\n    @BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this);\n\n        meterRegistry = new CompositeMeterRegistry();\n        aspect = new MetricsCollection(meterRegistry);\n        AspectJProxyFactory aspectJProxyFactory = new AspectJProxyFactory(new TestController());\n        aspectJProxyFactory.addAspect(aspect);\n\n        DefaultAopProxyFactory proxyFactory = new DefaultAopProxyFactory();\n        AopProxy aopProxy = proxyFactory.createAopProxy(aspectJProxyFactory);\n\n        controllerProxy = (TestController) aopProxy.getProxy();\n    }\n\n    @Test\n    void MetricsCollection() {\n        MetricsCollection metricsCollection = new MetricsCollection(meterRegistry);\n\n        assertNotNull(metricsCollection);\n    }\n\n    @Test\n    void handleException() {\n        ListAppender&lt;ILoggingEvent&gt; listAppender = TestUtils.getiLoggingEventListAppender(MetricsCollection.class);\n\n        try {\n            controllerProxy.throwKafkaException();\n\n         } catch (Exception ex) {\n            if (! (ex instanceof KafkaException)) {\n                fail();\n            }\n        } finally {\n            List&lt;ILoggingEvent&gt; logList = listAppender.list;\n\n            assertEquals(1, logList.size());\n\n        }\n    }\n\n\n    @Controller\n    static\n    class TestController {\n        @Bean\n        String throwKafkaException() {\n            throw new KafkaException();\n        }\n    }\n\n}\n</code></pre>\n<p>Finally, here is my TestUtils class:</p>\n<pre><code>package com.company.reporting.logger.consumer.utils;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.read.ListAppender;\nimport org.slf4j.LoggerFactory;\n\npublic class TestUtils {\n       \n    @NotNull\n    public static ListAppender&lt;ILoggingEvent&gt; getiLoggingEventListAppender(Class clazz) {\n        Logger logger = (Logger) LoggerFactory.getLogger(clazz);\n        ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\n        listAppender.setName(clazz.getName());\n        listAppender.start();\n        logger.addAppender(listAppender);\n        return listAppender;\n    }\n}\n</code></pre>\n<p>My constructor test passes... :)</p>\n<p>But the handleException() test is failing to trigger my aspect. Which dot on an i or cross bar on a t did I miss?</p>\n"},{"tags":["java","swing","transparency","image-rotation"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1672473642,"post_id":74968034,"comment_id":132295396,"body_markdown":"Not sure what the purpose of `g2d.drawImage(Toolkit.getDefaultToolkit().createImage(transparentImg.getSource()), x, y, null);` is for, `transparentImg` is already an instance of `Image`","body":"Not sure what the purpose of <code>g2d.drawImage(Toolkit.getDefaultToolkit().createImage(transp&zwnj;&#8203;arentImg.getSource()&zwnj;&#8203;), x, y, null);</code> is for, <code>transparentImg</code> is already an instance of <code>Image</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1672474115,"post_id":74968034,"comment_id":132295441,"body_markdown":"`utilGraphics.drawImage(image1, 0, 0, nw, nh, null);` seems odd, as you&#39;re painting the image, which is represented by `utilGraphics` back onto itself .... ?","body":"<code>utilGraphics.drawImage(image1, 0, 0, nw, nh, null);</code> seems odd, as you&#39;re painting the image, which is represented by <code>utilGraphics</code> back onto itself .... ?"},{"owner":{"account_id":27396509,"reputation":3,"user_id":20898613,"display_name":"Bumhole Stupid"},"score":0,"creation_date":1672477960,"post_id":74968034,"comment_id":132295937,"body_markdown":"1. I used that for something else, forgot to delete it.","body":"1. I used that for something else, forgot to delete it."},{"owner":{"account_id":27396509,"reputation":3,"user_id":20898613,"display_name":"Bumhole Stupid"},"score":0,"creation_date":1672478026,"post_id":74968034,"comment_id":132295944,"body_markdown":"2. I created a scale variable, that was multiplied by the previous width to allow it to become multiplied by a float. I can&#39;t really explain it well, but I hope you understood.","body":"2. I created a scale variable, that was multiplied by the previous width to allow it to become multiplied by a float. I can&#39;t really explain it well, but I hope you understood."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1672481167,"post_id":74968034,"comment_id":132296311,"body_markdown":"You don&#39;t understand - the `utilGraphics` is the `Graphics` context from `image1` (used to center the original image), you then paint itself to itself - you never create a new `Graphics` context for `image` (rotate)","body":"You don&#39;t understand - the <code>utilGraphics</code> is the <code>Graphics</code> context from <code>image1</code> (used to center the original image), you then paint itself to itself - you never create a new <code>Graphics</code> context for <code>image</code> (rotate)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672475046,"creation_date":1672475046,"answer_id":74968385,"question_id":74968034,"body_markdown":"This ...\r\n\r\n        BufferedImage image = new BufferedImage(nw, nh, BufferedImage.TYPE_INT_RGB);\r\n        centeredGraphics.drawImage(image1, 0, 0, nw, nh, null);\r\n\r\nYou&#39;re creating a new `BufferedImage` (`image`), but you never actually paint anything to it, instead, you paint `image1` to it&#39;s own `Graphics` context.\r\n\r\nNow, if you wanted a transparent image, you should have used...\r\n\r\n    BufferedImage centeredImage = new BufferedImage(radius, radius, BufferedImage.TYPE_INT_ARGB);\r\n\r\ninstead of...\r\n\r\n    BufferedImage centeredImage = new BufferedImage(radius, radius, BufferedImage.TYPE_INT_RGB);\r\n\r\nAnd I never used `g2d.drawImage(Toolkit.getDefaultToolkit().createImage(transparentImg.getSource()), x, y, null);` as it just doesn&#39;t make sense to me (`transparentImg` is already an `Image` &#129335;‍♂️)\r\n\r\nNow, having said all that, I would &quot;suggest&quot; you take each step individually, start by scaling the original image using something like https://stackoverflow.com/questions/11959758/java-maintaining-aspect-ratio-of-jpanel-background-image/11959928#11959928 and the rotate the image using something like https://stackoverflow.com/questions/37758061/rotate-a-buffered-image-in-java/37758533#37758533 (which will generate a image large enough to contain the rotated image)\r\n\r\nAlso, if you &quot;create&quot; a `Graphics` context, you should also `dispose` of it when you no longer need it, otherwise you could end up with a memory leak.\r\n\r\n# &quot;Fixed&quot; code...\r\n\r\nJust to be clear, I would still recommend sing `ARGB` instead of `RGB` for `centeredImage` as your filter workflow never seemed to work for, but I started with a transparent image anyway\r\n\r\n    public Image rotateAndScaleImage(BufferedImage originalImage, int degrees, float scale) {\r\n        // make rectangular image\r\n        int radius = (int) Math.sqrt(originalImage.getWidth() * originalImage.getWidth() + originalImage.getHeight() * originalImage.getHeight());\r\n        BufferedImage centeredImage = new BufferedImage(radius, radius, BufferedImage.TYPE_INT_RGB);\r\n\r\n        Graphics2D graphics = centeredImage.createGraphics();\r\n        // centers image\r\n\r\n        int xPos = (centeredImage.getWidth() - originalImage.getWidth()) / 2;\r\n        int yPos = (centeredImage.getHeight() - originalImage.getHeight()) / 2;\r\n\r\n        graphics.drawImage(originalImage, xPos, yPos, null);\r\n        graphics.dispose();\r\n\r\n        // scale image\r\n        int nw = (int) (centeredImage.getWidth() * scale);\r\n        int nh = (int) (centeredImage.getHeight() * scale);\r\n\r\n        BufferedImage image = new BufferedImage(nw, nh, BufferedImage.TYPE_INT_RGB);\r\n        graphics = image.createGraphics();\r\n        // No scaling is done ???\r\n        graphics.drawImage(centeredImage, 0, 0, nw, nh, null);\r\n\r\n        // Rotation information\r\n        double rotationRequired = Math.toRadians(degrees);\r\n        double locationX = centeredImage.getWidth() / 2;\r\n        double locationY = centeredImage.getHeight() / 2;\r\n\r\n        AffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\r\n        AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\r\n\r\n        ImageProducer filteredImgProd = new FilteredImageSource(op.filter(centeredImage, null).getSource(), filter);\r\n        Image transparentImg = Toolkit.getDefaultToolkit().createImage(filteredImgProd);\r\n\r\n        return transparentImg;\r\n    }\r\n\r\n    private static final ImageFilter filter = new RGBImageFilter() {\r\n        int transparentColor = new Color(0, 0, 0, 0).getRGB() | 0x0000ffcc;\r\n\r\n        public final int filterRGB(int x, int y, int rgb) {\r\n            if ((rgb | 0x0000ffcc) == transparentColor) {\r\n                return 0x0000ffcc &amp; rgb;\r\n            } else {\r\n                return rgb;\r\n            }\r\n        }\r\n    };\r\n \r\nOh, and I&#39;m returning an `Image` because I painted directly to a component for testing","title":"How would I go about rendering a transparent and rotated image in Java?","body":"<p>This ...</p>\n<pre><code>    BufferedImage image = new BufferedImage(nw, nh, BufferedImage.TYPE_INT_RGB);\n    centeredGraphics.drawImage(image1, 0, 0, nw, nh, null);\n</code></pre>\n<p>You're creating a new <code>BufferedImage</code> (<code>image</code>), but you never actually paint anything to it, instead, you paint <code>image1</code> to it's own <code>Graphics</code> context.</p>\n<p>Now, if you wanted a transparent image, you should have used...</p>\n<pre><code>BufferedImage centeredImage = new BufferedImage(radius, radius, BufferedImage.TYPE_INT_ARGB);\n</code></pre>\n<p>instead of...</p>\n<pre><code>BufferedImage centeredImage = new BufferedImage(radius, radius, BufferedImage.TYPE_INT_RGB);\n</code></pre>\n<p>And I never used <code>g2d.drawImage(Toolkit.getDefaultToolkit().createImage(transparentImg.getSource()), x, y, null);</code> as it just doesn't make sense to me (<code>transparentImg</code> is already an <code>Image</code> 🤷‍♂️)</p>\n<p>Now, having said all that, I would &quot;suggest&quot; you take each step individually, start by scaling the original image using something like <a href=\"https://stackoverflow.com/questions/11959758/java-maintaining-aspect-ratio-of-jpanel-background-image/11959928#11959928\">Java: maintaining aspect ratio of JPanel background image</a> and the rotate the image using something like <a href=\"https://stackoverflow.com/questions/37758061/rotate-a-buffered-image-in-java/37758533#37758533\">Rotate a buffered image in Java</a> (which will generate a image large enough to contain the rotated image)</p>\n<p>Also, if you &quot;create&quot; a <code>Graphics</code> context, you should also <code>dispose</code> of it when you no longer need it, otherwise you could end up with a memory leak.</p>\n<h1>&quot;Fixed&quot; code...</h1>\n<p>Just to be clear, I would still recommend sing <code>ARGB</code> instead of <code>RGB</code> for <code>centeredImage</code> as your filter workflow never seemed to work for, but I started with a transparent image anyway</p>\n<pre><code>public Image rotateAndScaleImage(BufferedImage originalImage, int degrees, float scale) {\n    // make rectangular image\n    int radius = (int) Math.sqrt(originalImage.getWidth() * originalImage.getWidth() + originalImage.getHeight() * originalImage.getHeight());\n    BufferedImage centeredImage = new BufferedImage(radius, radius, BufferedImage.TYPE_INT_RGB);\n\n    Graphics2D graphics = centeredImage.createGraphics();\n    // centers image\n\n    int xPos = (centeredImage.getWidth() - originalImage.getWidth()) / 2;\n    int yPos = (centeredImage.getHeight() - originalImage.getHeight()) / 2;\n\n    graphics.drawImage(originalImage, xPos, yPos, null);\n    graphics.dispose();\n\n    // scale image\n    int nw = (int) (centeredImage.getWidth() * scale);\n    int nh = (int) (centeredImage.getHeight() * scale);\n\n    BufferedImage image = new BufferedImage(nw, nh, BufferedImage.TYPE_INT_RGB);\n    graphics = image.createGraphics();\n    // No scaling is done ???\n    graphics.drawImage(centeredImage, 0, 0, nw, nh, null);\n\n    // Rotation information\n    double rotationRequired = Math.toRadians(degrees);\n    double locationX = centeredImage.getWidth() / 2;\n    double locationY = centeredImage.getHeight() / 2;\n\n    AffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\n    AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\n\n    ImageProducer filteredImgProd = new FilteredImageSource(op.filter(centeredImage, null).getSource(), filter);\n    Image transparentImg = Toolkit.getDefaultToolkit().createImage(filteredImgProd);\n\n    return transparentImg;\n}\n\nprivate static final ImageFilter filter = new RGBImageFilter() {\n    int transparentColor = new Color(0, 0, 0, 0).getRGB() | 0x0000ffcc;\n\n    public final int filterRGB(int x, int y, int rgb) {\n        if ((rgb | 0x0000ffcc) == transparentColor) {\n            return 0x0000ffcc &amp; rgb;\n        } else {\n            return rgb;\n        }\n    }\n};\n</code></pre>\n<p>Oh, and I'm returning an <code>Image</code> because I painted directly to a component for testing</p>\n"}],"owner":{"account_id":27396509,"reputation":3,"user_id":20898613,"display_name":"Bumhole Stupid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74968385,"answer_count":1,"score":0,"last_activity_date":1672475046,"creation_date":1672470136,"question_id":74968034,"body_markdown":"I cannot seem to figure out how to draw a transparent and rotated image. I need to be able to draw an image that is transparent and rotated to a certain degree.\r\n\r\nI tried this code:\r\n\r\n```java\r\n// draws an image that is rotated to a certain degree\r\npublic static void drawRotatedImage(BufferedImage image_, int x, int y, int degrees, float scale) {\r\n\r\n    // graphics used for the utilities of drawing the image (processing)\r\n    Graphics2D utilGraphics;\r\n\r\n    // make rectangular image\r\n    int radius = (int) Math.sqrt(image_.getWidth() * image_.getWidth() + image_.getHeight() * image_.getHeight());\r\n    BufferedImage image1 = new BufferedImage(radius, radius, BufferedImage.TYPE_INT_RGB);\r\n\r\n    utilGraphics = image1.createGraphics();\r\n// centers image\r\n    utilGraphics.drawImage(image_, image1.getWidth() / 2 - image_.getWidth() / 2, image1.getHeight() / 2 - image_.getHeight() / 2, null);\r\n\r\n    // scale image\r\n    int nw = (int) (image1.getWidth() * scale);\r\n    int nh = (int) (image1.getHeight() * scale);\r\n\r\n    BufferedImage image = new BufferedImage(nw, nh, BufferedImage.TYPE_INT_RGB);\r\n    utilGraphics.drawImage(image1, 0, 0, nw, nh, null);\r\n\r\n    // Rotation information\r\n\r\n    double rotationRequired = Math.toRadians (degrees);\r\n    double locationX = image.getWidth() / 2;\r\n    double locationY = image.getHeight() / 2;\r\n\r\n    AffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\r\n    AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\r\n\r\n    ImageProducer filteredImgProd = new FilteredImageSource(op.filter(image, null).getSource(), filter);\r\n    Image transparentImg = Toolkit.getDefaultToolkit().createImage(filteredImgProd);\r\n\r\n    // Drawing the rotated image at the required drawing locations\r\n    g2d.drawImage(Toolkit.getDefaultToolkit().createImage(transparentImg.getSource()), x, y, null);\r\n}\r\n```\r\nThe filter variable is defined as:\r\n```\r\nprivate static final ImageFilter filter = new RGBImageFilter() {\r\n    int transparentColor = new Color(0, 0, 0, 0).getRGB() | 0x0000ffcc;\r\n\r\n    public final int filterRGB(int x, int y, int rgb) {\r\n        if ((rgb | 0x0000ffcc) == transparentColor) {\r\n            return 0x0000ffcc &amp; rgb;\r\n        } else {\r\n            return rgb;\r\n        }\r\n    }\r\n};\r\n```\r\n","title":"How would I go about rendering a transparent and rotated image in Java?","body":"<p>I cannot seem to figure out how to draw a transparent and rotated image. I need to be able to draw an image that is transparent and rotated to a certain degree.</p>\n<p>I tried this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// draws an image that is rotated to a certain degree\npublic static void drawRotatedImage(BufferedImage image_, int x, int y, int degrees, float scale) {\n\n    // graphics used for the utilities of drawing the image (processing)\n    Graphics2D utilGraphics;\n\n    // make rectangular image\n    int radius = (int) Math.sqrt(image_.getWidth() * image_.getWidth() + image_.getHeight() * image_.getHeight());\n    BufferedImage image1 = new BufferedImage(radius, radius, BufferedImage.TYPE_INT_RGB);\n\n    utilGraphics = image1.createGraphics();\n// centers image\n    utilGraphics.drawImage(image_, image1.getWidth() / 2 - image_.getWidth() / 2, image1.getHeight() / 2 - image_.getHeight() / 2, null);\n\n    // scale image\n    int nw = (int) (image1.getWidth() * scale);\n    int nh = (int) (image1.getHeight() * scale);\n\n    BufferedImage image = new BufferedImage(nw, nh, BufferedImage.TYPE_INT_RGB);\n    utilGraphics.drawImage(image1, 0, 0, nw, nh, null);\n\n    // Rotation information\n\n    double rotationRequired = Math.toRadians (degrees);\n    double locationX = image.getWidth() / 2;\n    double locationY = image.getHeight() / 2;\n\n    AffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\n    AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\n\n    ImageProducer filteredImgProd = new FilteredImageSource(op.filter(image, null).getSource(), filter);\n    Image transparentImg = Toolkit.getDefaultToolkit().createImage(filteredImgProd);\n\n    // Drawing the rotated image at the required drawing locations\n    g2d.drawImage(Toolkit.getDefaultToolkit().createImage(transparentImg.getSource()), x, y, null);\n}\n</code></pre>\n<p>The filter variable is defined as:</p>\n<pre><code>private static final ImageFilter filter = new RGBImageFilter() {\n    int transparentColor = new Color(0, 0, 0, 0).getRGB() | 0x0000ffcc;\n\n    public final int filterRGB(int x, int y, int rgb) {\n        if ((rgb | 0x0000ffcc) == transparentColor) {\n            return 0x0000ffcc &amp; rgb;\n        } else {\n            return rgb;\n        }\n    }\n};\n</code></pre>\n"},{"tags":["java","mysql","eclipse","jdbc"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1266931177,"creation_date":1266930074,"answer_id":2318255,"question_id":2318250,"body_markdown":"Just supply the IP / hostname of the remote machine in your database connection string, instead of `localhost`. For example:\r\n\r\n    jdbc:mysql://192.168.15.25:3306/yourdatabase\r\n\r\nMake sure there is no firewall blocking the access to port `3306`\r\n\r\nAlso, make sure the user you are connecting with is allowed to connect from this particular hostname. For development environments it is safe to do this by `&#39;username&#39;@&#39;%&#39;`. Check &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/adding-users.html&quot;&gt;the user creation manual&lt;/a&gt; and the &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/grant.html&quot;&gt;`GRANT` manual&lt;/a&gt;.","title":"How to connect to a remote MySQL database with Java?","body":"<p>Just supply the IP / hostname of the remote machine in your database connection string, instead of <code>localhost</code>. For example:</p>\n\n<pre><code>jdbc:mysql://192.168.15.25:3306/yourdatabase\n</code></pre>\n\n<p>Make sure there is no firewall blocking the access to port <code>3306</code></p>\n\n<p>Also, make sure the user you are connecting with is allowed to connect from this particular hostname. For development environments it is safe to do this by <code>'username'@'%'</code>. Check <a href=\"http://dev.mysql.com/doc/refman/5.1/en/adding-users.html\" rel=\"noreferrer\">the user creation manual</a> and the <a href=\"http://dev.mysql.com/doc/refman/5.1/en/grant.html\" rel=\"noreferrer\"><code>GRANT</code> manual</a>.</p>\n"},{"tags":[],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1266944949,"creation_date":1266944833,"answer_id":2320117,"question_id":2318250,"body_markdown":" You need to pass IP/hostname of the rempote machine in the connection string. \r\n\r\n\r\n\r\n    import java.sql.*;\r\n    import javax.sql.*;\r\n \r\n    public class Connect\r\n    {\r\n       public static void main (String[] args)\r\n       {\r\n           Connection conn = null;\r\n\r\n           try\r\n           {\r\n              \r\n               String url = &quot;jdbc:mysql://localhost:3306/mydb&quot;;\r\n               Class.forName (&quot;com.mysql.jdbc.Driver&quot;);\r\n               conn = DriverManager.getConnection (url,&quot;root&quot;,&quot; &quot;);\r\n               System.out.println (&quot;Database connection established&quot;);\r\n           }\r\n           catch (Exception e)\r\n           {\r\n\t           e.printStackTrace();\r\n             \r\n           }\r\n           finally\r\n           {\r\n               if (conn != null)\r\n               {\r\n                   try\r\n                   {\r\n                       conn.close ();\r\n                       System.out.println (&quot;Database connection terminated&quot;);\r\n                   }\r\n                   catch (Exception e) { /* ignore close errors */ }\r\n               }\r\n           }\r\n       }\r\n    }","title":"How to connect to a remote MySQL database with Java?","body":"<p>You need to pass IP/hostname of the rempote machine in the connection string. </p>\n\n<pre><code>import java.sql.*;\nimport javax.sql.*;\n\npublic class Connect\n{\n   public static void main (String[] args)\n   {\n       Connection conn = null;\n\n       try\n       {\n\n           String url = \"jdbc:mysql://localhost:3306/mydb\";\n           Class.forName (\"com.mysql.jdbc.Driver\");\n           conn = DriverManager.getConnection (url,\"root\",\" \");\n           System.out.println (\"Database connection established\");\n       }\n       catch (Exception e)\n       {\n           e.printStackTrace();\n\n       }\n       finally\n       {\n           if (conn != null)\n           {\n               try\n               {\n                   conn.close ();\n                   System.out.println (\"Database connection terminated\");\n               }\n               catch (Exception e) { /* ignore close errors */ }\n           }\n       }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104677,"reputation":127,"user_id":279714,"accept_rate":75,"display_name":"tmr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1266947609,"creation_date":1266947609,"answer_id":2320463,"question_id":2318250,"body_markdown":"Plus, you should make sure the MySQL server&#39;s config (/etc/mysql/my.cnf, /etc/default/mysql on Debian) doesn&#39;t have &quot;skip-networking&quot; activated and is not binded exclusively to the loopback interface (127.0.0.1) but also to the interface/IP address you want connect to. ","title":"How to connect to a remote MySQL database with Java?","body":"<p>Plus, you should make sure the MySQL server's config (/etc/mysql/my.cnf, /etc/default/mysql on Debian) doesn't have \"skip-networking\" activated and is not binded exclusively to the loopback interface (127.0.0.1) but also to the interface/IP address you want connect to. </p>\n"},{"tags":[],"owner":{"account_id":2479964,"reputation":76,"user_id":2159622,"display_name":"Puran Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363069018,"creation_date":1363069018,"answer_id":15354581,"question_id":2318250,"body_markdown":"to access database from remote machine , you need to give grant all privileges to you data base. \r\n\r\nrun the following script to give permissions:\r\nGRANT ALL PRIVILEGES ON *.* TO user@&#39;%&#39; IDENTIFIED BY &#39;password&#39;;\r\n\r\n","title":"How to connect to a remote MySQL database with Java?","body":"<p>to access database from remote machine , you need to give grant all privileges to you data base. </p>\n\n<p>run the following script to give permissions:\nGRANT ALL PRIVILEGES ON <em>.</em> TO user@'%' IDENTIFIED BY 'password';</p>\n"},{"tags":[],"owner":{"account_id":934222,"reputation":611,"user_id":1823408,"display_name":"Buminda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386308859,"creation_date":1386308859,"answer_id":20416916,"question_id":2318250,"body_markdown":"in my.cnf file , please change the following \r\n\r\n ## Instead of skip-networking the default is now to listen only on\r\n ## localhost which is more compatible and is not less secure.\r\n ## bind-address          = 127.0.0.1\r\n","title":"How to connect to a remote MySQL database with Java?","body":"<p>in my.cnf file , please change the following </p>\n\n<p>## Instead of skip-networking the default is now to listen only on\n ## localhost which is more compatible and is not less secure.\n ## bind-address          = 127.0.0.1</p>\n"},{"tags":[],"owner":{"account_id":4522254,"reputation":253,"user_id":3675071,"display_name":"JeewanaSL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413195175,"creation_date":1413193816,"answer_id":26337108,"question_id":2318250,"body_markdown":"1.  Create a new user in the schema ‘mysql’ (mysql.user)\r\n    Run this code in your mysql work space \r\n&lt;code&gt;\r\n“GRANT ALL ON *.* to user@&#39;%&#39;IDENTIFIED BY &#39;&lt;password&gt;&#39;;\r\n&lt;/code&gt;\r\n\r\n2.\tOpen the ‘3306’ port at the machine which is having the Data Base.\r\n&lt;code&gt;\r\n      Control Panel -&gt; \r\n      Windows Firewall -&gt; \r\n      Advance Settings -&gt; \r\n      Inbound Rules -&gt; \r\n      New Rule -&gt; \r\n      Port -&gt;\r\n      Next -&gt; \r\n      TCP &amp; set port as 3306 -&gt;\r\n      Next -&gt; \r\n      Next -&gt;\r\n      Next -&gt;\r\n      Fill Name and Description -&gt;\r\n      Finish -&gt;\r\n&lt;/code&gt;\r\n\r\n3.  Try to check by a telnet msg on cmd including DB server&#39;s IP","title":"How to connect to a remote MySQL database with Java?","body":"<ol>\n<li><p>Create a new user in the schema ‘mysql’ (mysql.user)\nRun this code in your mysql work space \n<code>\n“GRANT ALL ON <em>.</em> to user@'%'IDENTIFIED BY '';\n</code></p></li>\n<li><p>Open the ‘3306’ port at the machine which is having the Data Base.\n<code>\n  Control Panel -> \n  Windows Firewall -> \n  Advance Settings -> \n  Inbound Rules -> \n  New Rule -> \n  Port ->\n  Next -> \n  TCP &amp; set port as 3306 ->\n  Next -> \n  Next ->\n  Next ->\n  Fill Name and Description ->\n  Finish ->\n</code></p></li>\n<li><p>Try to check by a telnet msg on cmd including DB server's IP</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6591799,"reputation":11,"user_id":5092720,"display_name":"vishakha sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436355701,"creation_date":1436341411,"answer_id":31286439,"question_id":2318250,"body_markdown":"Close all the connection which is open &amp; connected to the server listen port, whatever it is from application or client side tool (navicat) or on running server (apache or weblogic). First close all connection then restart all tools MySQL,apache etc. ","title":"How to connect to a remote MySQL database with Java?","body":"<p>Close all the connection which is open &amp; connected to the server listen port, whatever it is from application or client side tool (navicat) or on running server (apache or weblogic). First close all connection then restart all tools MySQL,apache etc. </p>\n"},{"tags":[],"owner":{"account_id":3818343,"reputation":141,"user_id":3167096,"display_name":"Jack Mason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544548326,"creation_date":1544548326,"answer_id":53729099,"question_id":2318250,"body_markdown":"On Ubuntu, after creating localhost and &#39;%&#39; versions of the user, and granting appropriate access to database.tables for both, I had to comment out the &#39;bind-address&#39; in /etc/mysql/mysql.conf.d/mysql.cnf and restart mysql as sudo.\n\n# bind-address           = 127.0.0.1\n\n\n\n\n ","title":"How to connect to a remote MySQL database with Java?","body":"<p>On Ubuntu, after creating localhost and '%' versions of the user, and granting appropriate access to database.tables for both, I had to comment out the 'bind-address' in /etc/mysql/mysql.conf.d/mysql.cnf and restart mysql as sudo.</p>\n<h1>bind-address           = 127.0.0.1</h1>\n"},{"tags":[],"owner":{"account_id":17099850,"reputation":101,"user_id":14096342,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672474260,"creation_date":1672474260,"answer_id":74968334,"question_id":2318250,"body_markdown":"Change the IP / hostname of the vps in your database connection string, instead of localhost. For example if my IP is 193.23.127.130:\r\n\r\n    jdbc:mysql://193.23.127.130:3306/yourdatabase\r\n\r\nthen make sure your vps firewall allow port 3306 for MySQL.\r\n\r\n\r\nThen go to MySQL workbench, Server–Users and Privileges, create an account (in this case account: remoteUser, password:password), make sure Limit to Hosts Matching is % (means you can access from any other IP)\r\n[![create user][1]][1]\r\n\r\n\r\nThen set password and grant rights then apply\r\n[![grant rights][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PBqA9.jpg\r\n  [2]: https://i.stack.imgur.com/h8Q0X.jpg\r\n\r\nthen you can add the following code in Java to access remotely\r\n\r\n    Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://193.23.127.130:3306/swing_demo&quot;, &quot;remoteUser&quot;, &quot;password&quot;);\r\n\r\n\r\n\r\n","title":"How to connect to a remote MySQL database with Java?","body":"<p>Change the IP / hostname of the vps in your database connection string, instead of localhost. For example if my IP is 193.23.127.130:</p>\n<pre><code>jdbc:mysql://193.23.127.130:3306/yourdatabase\n</code></pre>\n<p>then make sure your vps firewall allow port 3306 for MySQL.</p>\n<p>Then go to MySQL workbench, Server–Users and Privileges, create an account (in this case account: remoteUser, password:password), make sure Limit to Hosts Matching is % (means you can access from any other IP)\n<a href=\"https://i.stack.imgur.com/PBqA9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PBqA9.jpg\" alt=\"create user\" /></a></p>\n<p>Then set password and grant rights then apply\n<a href=\"https://i.stack.imgur.com/h8Q0X.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h8Q0X.jpg\" alt=\"grant rights\" /></a></p>\n<p>then you can add the following code in Java to access remotely</p>\n<pre><code>Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://193.23.127.130:3306/swing_demo&quot;, &quot;remoteUser&quot;, &quot;password&quot;);\n</code></pre>\n"}],"owner":{"account_id":31357,"reputation":2369,"user_id":86038,"accept_rate":63,"display_name":"Angeline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118810,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":9,"score":30,"last_activity_date":1672474260,"creation_date":1266929997,"question_id":2318250,"body_markdown":"I am trying to create a JSF application using the Eclipse IDE. I am using a remote mySQL server as my database. How do I connect to this remote database for creating tables and accessing them?","title":"How to connect to a remote MySQL database with Java?","body":"<p>I am trying to create a JSF application using the Eclipse IDE. I am using a remote mySQL server as my database. How do I connect to this remote database for creating tables and accessing them?</p>\n"},{"tags":["java","spring-mvc","spring-boot","thymeleaf","hotswap"],"comments":[{"owner":{"account_id":9442861,"reputation":153,"user_id":7022686,"display_name":"Luke"},"score":0,"creation_date":1476532979,"post_id":40057057,"comment_id":67391974,"body_markdown":"What I just found out is that changes are actualy reflected in &quot;target&quot; folder, but not in the running app itself.","body":"What I just found out is that changes are actualy reflected in &quot;target&quot; folder, but not in the running app itself."},{"owner":{"account_id":17912,"reputation":3052,"user_id":40570,"accept_rate":60,"display_name":"shabby"},"score":0,"creation_date":1490870681,"post_id":40057057,"comment_id":73310417,"body_markdown":"this one did the trick for me http://stackoverflow.com/questions/21399586/hot-swapping-in-spring-boot/43114954#43114954","body":"this one did the trick for me <a href=\"http://stackoverflow.com/questions/21399586/hot-swapping-in-spring-boot/43114954#43114954\" title=\"hot swapping in spring boot\">stackoverflow.com/questions/21399586/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9442861,"reputation":153,"user_id":7022686,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476533893,"creation_date":1476533893,"answer_id":40058919,"question_id":40057057,"body_markdown":"Okay, so I found answer to my specific case. Problem was not at all in my app or it&#39;s config (well.. probably). Instead of using **Tomcat 8.5.5** I switched back to **Tomcat 7**. Everything now works properly. Does somebody know why?","title":"Spring boot and Thymeleaf - Hot swap templates and resources once again","body":"<p>Okay, so I found answer to my specific case. Problem was not at all in my app or it's config (well.. probably). Instead of using <strong>Tomcat 8.5.5</strong> I switched back to <strong>Tomcat 7</strong>. Everything now works properly. Does somebody know why?</p>\n"},{"tags":[],"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1485770776,"creation_date":1485770776,"answer_id":41933216,"question_id":40057057,"body_markdown":"I have spent some time on it and finally here I&#39;ll explain how I got it working.\r\nGoogling around you may find several info: \r\n\r\n - [Spring Boot hot swap][1]\r\n - [SO - Spring Boot + Jetty &amp; hot deployment][2]\r\n - [SO - Netbeans 8 won&#39;t reload static Thymeleaf files][3]\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html\r\n  [2]: http://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html\r\n  [3]: https://stackoverflow.com/questions/26103860/netbeans-8-wont-reload-static-thymeleaf-files\r\n\r\nMy inital approach was to disable caching and add Spring dev tools:\r\n\r\nSpring boot `application.properties`\r\n\r\n    spring.thymeleaf.cache=false\r\n    spring.thymeleaf.mode=LEGACYHTML5\r\n    spring.thymeleaf.prefix=/templates/\r\n\r\npom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\nUsing the snippet above however is not enough since the hot swap is done only when making the project (CTRL + F9 in Intellij Idea). This is due to the fact that **the default template resolver is classpath based** and that&#39;s the reason a recompilation is necessary.\r\n\r\n-----\r\n**A working solution** is to override the `defaultTemplateResolver` by using a file system based resolver:\r\n\r\napplication.properties\r\n\r\n    spring.thymeleaf.cache=false\r\n    spring.thymeleaf.mode=LEGACYHTML5\r\n    spring.thymeleaf.templates_root=src/main/resources/templates/\r\n\r\nApplication class\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication {\r\n    \r\n        @Autowired\r\n        private ThymeleafProperties properties;\r\n    \r\n        @Value(&quot;${spring.thymeleaf.templates_root:}&quot;)\r\n        private String templatesRoot;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MyApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public ITemplateResolver defaultTemplateResolver() {\r\n            FileTemplateResolver resolver = new FileTemplateResolver();\r\n            resolver.setSuffix(properties.getSuffix());\r\n            resolver.setPrefix(templatesRoot);\r\n            resolver.setTemplateMode(properties.getMode());\r\n            resolver.setCacheable(properties.isCache());\r\n            return resolver;\r\n        }\r\n    }\r\n\r\nI find this solution optimal since it allow you to externalize the configuration and use different profiles (dev, prod, etc..) while having the benefit of reloading the changes by **just pressing F5 :)**","title":"Spring boot and Thymeleaf - Hot swap templates and resources once again","body":"<p>I have spent some time on it and finally here I'll explain how I got it working.\nGoogling around you may find several info: </p>\n\n<ul>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html\" rel=\"noreferrer\">Spring Boot hot swap</a></li>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html\" rel=\"noreferrer\">SO - Spring Boot + Jetty &amp; hot deployment</a></li>\n<li><a href=\"https://stackoverflow.com/questions/26103860/netbeans-8-wont-reload-static-thymeleaf-files\">SO - Netbeans 8 won't reload static Thymeleaf files</a></li>\n</ul>\n\n<p>My inital approach was to disable caching and add Spring dev tools:</p>\n\n<p>Spring boot <code>application.properties</code></p>\n\n<pre><code>spring.thymeleaf.cache=false\nspring.thymeleaf.mode=LEGACYHTML5\nspring.thymeleaf.prefix=/templates/\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Using the snippet above however is not enough since the hot swap is done only when making the project (CTRL + F9 in Intellij Idea). This is due to the fact that <strong>the default template resolver is classpath based</strong> and that's the reason a recompilation is necessary.</p>\n\n<hr>\n\n<p><strong>A working solution</strong> is to override the <code>defaultTemplateResolver</code> by using a file system based resolver:</p>\n\n<p>application.properties</p>\n\n<pre><code>spring.thymeleaf.cache=false\nspring.thymeleaf.mode=LEGACYHTML5\nspring.thymeleaf.templates_root=src/main/resources/templates/\n</code></pre>\n\n<p>Application class</p>\n\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n\n    @Autowired\n    private ThymeleafProperties properties;\n\n    @Value(\"${spring.thymeleaf.templates_root:}\")\n    private String templatesRoot;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n    @Bean\n    public ITemplateResolver defaultTemplateResolver() {\n        FileTemplateResolver resolver = new FileTemplateResolver();\n        resolver.setSuffix(properties.getSuffix());\n        resolver.setPrefix(templatesRoot);\n        resolver.setTemplateMode(properties.getMode());\n        resolver.setCacheable(properties.isCache());\n        return resolver;\n    }\n}\n</code></pre>\n\n<p>I find this solution optimal since it allow you to externalize the configuration and use different profiles (dev, prod, etc..) while having the benefit of reloading the changes by <strong>just pressing F5 :)</strong></p>\n"},{"tags":[],"owner":{"account_id":7756562,"reputation":369,"user_id":5870644,"display_name":"khoibv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545324420,"creation_date":1545318768,"answer_id":53871334,"question_id":40057057,"body_markdown":"Here are my settings with IntelliJ IDEA (2018.3), it&#39;s reload HTML after the changes are saved:\r\n\r\n1. In application.properties:\r\n\r\n        spring.resources.static-locations = classpath:/resources/static\r\n        spring.resources.cache.period = 0\r\n\r\n2. In pom.xml, set `&lt;addResources&gt;true&lt;/addResources&gt;`\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;addResources&gt;true&lt;/addResources&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n3. Menu `Run` =&gt; `Edit Configurations` (IntelliJ IDEA)\r\n\r\nOn frame deactivation: `Update resources`","title":"Spring boot and Thymeleaf - Hot swap templates and resources once again","body":"<p>Here are my settings with IntelliJ IDEA (2018.3), it's reload HTML after the changes are saved:</p>\n\n<ol>\n<li><p>In application.properties:</p>\n\n<pre><code>spring.resources.static-locations = classpath:/resources/static\nspring.resources.cache.period = 0\n</code></pre></li>\n<li><p>In pom.xml, set <code>&lt;addResources&gt;true&lt;/addResources&gt;</code></p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;addResources&gt;true&lt;/addResources&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre></li>\n<li><p>Menu <code>Run</code> => <code>Edit Configurations</code> (IntelliJ IDEA)</p></li>\n</ol>\n\n<p>On frame deactivation: <code>Update resources</code></p>\n"},{"tags":[],"owner":{"account_id":12287,"reputation":156,"user_id":24099,"display_name":"Ap&#243;stolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600576296,"creation_date":1600576296,"answer_id":63975523,"question_id":40057057,"body_markdown":"@Luke my solution was quite simple:\r\n\r\nTo have HTML / CSS / JS reloading automatically in Spring Thymeleaf can be simple and bug free, have only tested in IntelliJ. \r\n\r\nAdd this to maven, use ${spring.version} var or replace by your version:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.version}&lt;/version&gt;\r\n    &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAdd to the header of the html:\r\n```\r\n&lt;script src=&quot;http://localhost:35729/livereload.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nWhen using IntelliJ:\r\n\r\n[![using Ctrl+Shift+A write Registry][1]][1]\r\n\r\n[![In IntelliJ Settings][2]][2]\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/Pm8PE.png\r\n  [2]: https://i.stack.imgur.com/DgF1W.png","title":"Spring boot and Thymeleaf - Hot swap templates and resources once again","body":"<p>@Luke my solution was quite simple:</p>\n<p>To have HTML / CSS / JS reloading automatically in Spring Thymeleaf can be simple and bug free, have only tested in IntelliJ.</p>\n<p>Add this to maven, use ${spring.version} var or replace by your version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Add to the header of the html:</p>\n<pre><code>&lt;script src=&quot;http://localhost:35729/livereload.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>When using IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/Pm8PE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pm8PE.png\" alt=\"using Ctrl+Shift+A write Registry\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DgF1W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DgF1W.png\" alt=\"In IntelliJ Settings\" /></a></p>\n"},{"tags":[],"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672473992,"creation_date":1657453238,"answer_id":72928208,"question_id":40057057,"body_markdown":"The simplest solution is to configure Spring&#39;s Thymeleaf template source to load from the filesystem, rather than the classpath.\r\n\r\nThis is a super-simple -- esentially a one-liner in config -- but seems little-known on the Internet. Credit to @JianrongChen&#39;s for posting it in his comment. \r\n\r\n**application.properties**\r\n\r\n    # Thymeleaf templates from filesystem, not cached\r\n    #\r\n    spring.thymeleaf.cache=false\r\n    spring.thymeleaf.prefix=file:src/main/resources/templates/\r\n\r\n    # static content from filesystem first, too\r\n    #\r\n    spring.web.resources.static-locations[0]=file:src/main/resources/static/\r\n    spring.web.resources.static-locations[1]=classpath:/static\r\n\r\nReferences:\r\n* https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.templating.spring.thymeleaf.prefix","title":"Spring boot and Thymeleaf - Hot swap templates and resources once again","body":"<p>The simplest solution is to configure Spring's Thymeleaf template source to load from the filesystem, rather than the classpath.</p>\n<p>This is a super-simple -- esentially a one-liner in config -- but seems little-known on the Internet. Credit to @JianrongChen's for posting it in his comment.</p>\n<p><strong>application.properties</strong></p>\n<pre><code># Thymeleaf templates from filesystem, not cached\n#\nspring.thymeleaf.cache=false\nspring.thymeleaf.prefix=file:src/main/resources/templates/\n\n# static content from filesystem first, too\n#\nspring.web.resources.static-locations[0]=file:src/main/resources/static/\nspring.web.resources.static-locations[1]=classpath:/static\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.templating.spring.thymeleaf.prefix\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.templating.spring.thymeleaf.prefix</a></li>\n</ul>\n"}],"owner":{"account_id":9442861,"reputation":153,"user_id":7022686,"display_name":"Luke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14577,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":41933216,"answer_count":5,"score":14,"last_activity_date":1672473992,"creation_date":1476521862,"question_id":40057057,"body_markdown":"I tried all tips and tricks that I found here and in docs, but still no luck. I have Spring webapp with Thymeleaf. Resources and templates are not reloaded when I call update in IDEA (it says nothing to reload). I can then press ctrl+f5 in a browser like crazy, changes are just not there.\r\n\r\nEverything is configured in one Java class like this:\r\n\r\n    @EnableWebMvc\r\n    public class MvcConfig extends WebMvcConfigurerAdapter implements ApplicationContextAware {\r\n\r\nMy folder structure now looks like\r\n[this][1], but I also tried to put the resources without &quot;static&quot; folder or to webapp/resources.\r\n\r\nResourceHandlerRegistry:\r\n\r\n    @Override\r\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n        super.addResourceHandlers(registry);\r\n        registry.addResourceHandler(&quot;/img/**&quot;).addResourceLocations(&quot;classpath:/static/img/&quot;);\r\n        registry.addResourceHandler(&quot;/css/**&quot;).addResourceLocations(&quot;classpath:/static/css/&quot;);\r\n        registry.addResourceHandler(&quot;/js/**&quot;).addResourceLocations(&quot;classpath:/static/js/&quot;);\r\n    }\r\n\r\nI specified cache=false in both application.properties:\r\n\r\n    spring.thymeleaf.cache=false\r\n\r\nand in mentioned MvcConfig class:\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(this.applicationContext);\r\n        templateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        templateResolver.setTemplateMode(TemplateMode.HTML);\r\n        templateResolver.setCacheable(false);\r\n        return templateResolver;\r\n    }\r\n\r\nAccording to some answers on SO i added dependency for devtools:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\nStill not working. Some said to add maven boot plugin with addResources=true, so I did:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;addResources&gt;true&lt;/addResources&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nMy Idea is set properly I guess, because when I call update, my Java classes are reloaded immediately. Only resources and html files are not, I must restart server for it. Actualy *.html files are not so big a deal, but to restart server after every small css and js change is slowing me down a lot, and as I lost almost 15 hours figuring out what is wrong, it started to be really frustrating.\r\n\r\nAny help will be greatly appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/JFKWb.png","title":"Spring boot and Thymeleaf - Hot swap templates and resources once again","body":"<p>I tried all tips and tricks that I found here and in docs, but still no luck. I have Spring webapp with Thymeleaf. Resources and templates are not reloaded when I call update in IDEA (it says nothing to reload). I can then press ctrl+f5 in a browser like crazy, changes are just not there.</p>\n\n<p>Everything is configured in one Java class like this:</p>\n\n<pre><code>@EnableWebMvc\npublic class MvcConfig extends WebMvcConfigurerAdapter implements ApplicationContextAware {\n</code></pre>\n\n<p>My folder structure now looks like\n<a href=\"https://i.stack.imgur.com/JFKWb.png\" rel=\"noreferrer\">this</a>, but I also tried to put the resources without \"static\" folder or to webapp/resources.</p>\n\n<p>ResourceHandlerRegistry:</p>\n\n<pre><code>@Override\npublic void addResourceHandlers(final ResourceHandlerRegistry registry) {\n    super.addResourceHandlers(registry);\n    registry.addResourceHandler(\"/img/**\").addResourceLocations(\"classpath:/static/img/\");\n    registry.addResourceHandler(\"/css/**\").addResourceLocations(\"classpath:/static/css/\");\n    registry.addResourceHandler(\"/js/**\").addResourceLocations(\"classpath:/static/js/\");\n}\n</code></pre>\n\n<p>I specified cache=false in both application.properties:</p>\n\n<pre><code>spring.thymeleaf.cache=false\n</code></pre>\n\n<p>and in mentioned MvcConfig class:</p>\n\n<pre><code>@Bean\npublic SpringResourceTemplateResolver templateResolver() {\n    SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n    templateResolver.setApplicationContext(this.applicationContext);\n    templateResolver.setPrefix(\"/WEB-INF/templates/\");\n    templateResolver.setSuffix(\".html\");\n    templateResolver.setTemplateMode(TemplateMode.HTML);\n    templateResolver.setCacheable(false);\n    return templateResolver;\n}\n</code></pre>\n\n<p>According to some answers on SO i added dependency for devtools:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Still not working. Some said to add maven boot plugin with addResources=true, so I did:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;addResources&gt;true&lt;/addResources&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>My Idea is set properly I guess, because when I call update, my Java classes are reloaded immediately. Only resources and html files are not, I must restart server for it. Actualy *.html files are not so big a deal, but to restart server after every small css and js change is slowing me down a lot, and as I lost almost 15 hours figuring out what is wrong, it started to be really frustrating.</p>\n\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672473678,"creation_date":1672473678,"answer_id":74968286,"question_id":74938443,"body_markdown":"I am using Keycloak-20 and I solved the problem by doing the following steps:\r\n\r\n1- In the its themes directory, I created a folder that its name should be your theme name such as mytheme.\r\n\r\n2- One of three that is used by you or all of them; it depends on you, (account, login, email) folder is created, for example I created login folder.\r\n\r\nSo till now the directory path that is created by me is :  `/mythem/login` under the `themes` directory\r\n\r\n4- In the login directory, I created `theme.properties` that contains:\r\n\r\n    parent=keycloak\r\n    import=common/keycloak\r\n    locales=en,fa\r\n\r\nSo the message bundle of **fa** that should be in messages directory like this:\r\n\r\nI created the messages directory into login directory; the path is: `/mytheme/login/messages` and is created **messages_fa.properties**.\r\n\r\n5- So you can navigate to Localization tab of Keycloak setting menu and select your supported-local.","title":"How to add supported locales option in the localization of keycloak","body":"<p>I am using Keycloak-20 and I solved the problem by doing the following steps:</p>\n<p>1- In the its themes directory, I created a folder that its name should be your theme name such as mytheme.</p>\n<p>2- One of three that is used by you or all of them; it depends on you, (account, login, email) folder is created, for example I created login folder.</p>\n<p>So till now the directory path that is created by me is :  <code>/mythem/login</code> under the <code>themes</code> directory</p>\n<p>4- In the login directory, I created <code>theme.properties</code> that contains:</p>\n<pre><code>parent=keycloak\nimport=common/keycloak\nlocales=en,fa\n</code></pre>\n<p>So the message bundle of <strong>fa</strong> that should be in messages directory like this:</p>\n<p>I created the messages directory into login directory; the path is: <code>/mytheme/login/messages</code> and is created <strong>messages_fa.properties</strong>.</p>\n<p>5- So you can navigate to Localization tab of Keycloak setting menu and select your supported-local.</p>\n"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74968286,"answer_count":1,"score":1,"last_activity_date":1672473678,"creation_date":1672219424,"question_id":74938443,"body_markdown":"I am using Keycloak 20.0.1.\r\n\r\nI want to add an option that does not exist (such as persian) to `Supported locales` combobox of localization-tab in Realm-setting menu.\r\n\r\nHow do I add this option to the combobox?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ijdtc.png","title":"How to add supported locales option in the localization of keycloak","body":"<p>I am using Keycloak 20.0.1.</p>\n<p>I want to add an option that does not exist (such as persian) to <code>Supported locales</code> combobox of localization-tab in Realm-setting menu.</p>\n<p>How do I add this option to the combobox?</p>\n<p><a href=\"https://i.stack.imgur.com/Ijdtc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ijdtc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":4265983,"reputation":545,"user_id":3489098,"display_name":"Laurenzo"},"score":0,"creation_date":1660807908,"post_id":36563595,"comment_id":129621193,"body_markdown":"May I ask @Jeff that if the answer solved your issue, can you accept it as the correct answer? Thanks!","body":"May I ask @Jeff that if the answer solved your issue, can you accept it as the correct answer? Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":4265983,"reputation":545,"user_id":3489098,"display_name":"Laurenzo"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1460443944,"creation_date":1460440343,"answer_id":36564630,"question_id":36563595,"body_markdown":"In order for JPA to actually run custom @Query which modifies state of the database, the method has to be annotated with @Modifying to tell JPA to use executeUpdate etc.\r\n\r\nInstead of\r\n\r\n    @Query(value =&quot;update PURCHASE_ORDER   set status=&#39;REJECTED&#39;   where id=?1&quot;, nativeQuery = true)\r\n    void RejectPO(Long id);\r\n\r\nTry\r\n\r\n    @Modifying\r\n    @Query(value =&quot;update PURCHASE_ORDER   set status=&#39;REJECTED&#39;   where id=?1&quot;, nativeQuery = true)\r\n    void RejectPO(Long id);\r\n\r\n\r\n\r\n\r\nSee http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries for details.","title":"org.h2.jdbc.JdbcSQLException: Method is only allowed for a query","body":"<p>In order for JPA to actually run custom @Query which modifies state of the database, the method has to be annotated with @Modifying to tell JPA to use executeUpdate etc.</p>\n\n<p>Instead of</p>\n\n<pre><code>@Query(value =\"update PURCHASE_ORDER   set status='REJECTED'   where id=?1\", nativeQuery = true)\nvoid RejectPO(Long id);\n</code></pre>\n\n<p>Try</p>\n\n<pre><code>@Modifying\n@Query(value =\"update PURCHASE_ORDER   set status='REJECTED'   where id=?1\", nativeQuery = true)\nvoid RejectPO(Long id);\n</code></pre>\n\n<p>See <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549636712,"creation_date":1460444493,"answer_id":36565822,"question_id":36563595,"body_markdown":"The problem is with this line: \r\n\r\n     // Used only when select statement is used .\r\n     @Query(value =&quot;update PURCHASE_ORDER   set status=&#39;REJECTED&#39;   where id=?1&quot;, nativeQuery = true)\r\n        void RejectPO(Long id);\r\n\r\nYou are trying to `update` the schema, but you&#39;re using only the `@Query` annotation. \r\n\r\nWhen a query method is annotated with `@Query` only, internally Spring calls `executeQuery()` which is not used to `modify` the values in a Schema. `executeQuery()` is only responsible for executing `select` queries.\r\n\r\nAdd one more annotation which enables your `@Query` to update:\r\n\r\n     @Modifying  // add this annotation\r\n     @Query(value =&quot;update PURCHASE_ORDER   set status=&#39;REJECTED&#39;   where id=?1&quot;, nativeQuery = true)\r\n        void RejectPO(Long id);","title":"org.h2.jdbc.JdbcSQLException: Method is only allowed for a query","body":"<p>The problem is with this line: </p>\n\n<pre><code> // Used only when select statement is used .\n @Query(value =\"update PURCHASE_ORDER   set status='REJECTED'   where id=?1\", nativeQuery = true)\n    void RejectPO(Long id);\n</code></pre>\n\n<p>You are trying to <code>update</code> the schema, but you're using only the <code>@Query</code> annotation. </p>\n\n<p>When a query method is annotated with <code>@Query</code> only, internally Spring calls <code>executeQuery()</code> which is not used to <code>modify</code> the values in a Schema. <code>executeQuery()</code> is only responsible for executing <code>select</code> queries.</p>\n\n<p>Add one more annotation which enables your <code>@Query</code> to update:</p>\n\n<pre><code> @Modifying  // add this annotation\n @Query(value =\"update PURCHASE_ORDER   set status='REJECTED'   where id=?1\", nativeQuery = true)\n    void RejectPO(Long id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14853653,"reputation":369,"user_id":10726803,"display_name":"keemsisi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586904258,"creation_date":1586904258,"answer_id":61218477,"question_id":36563595,"body_markdown":"You are getting org.h2.jdbc.JdbcSQLException message because you are not applying the @Modifying annotation to the repository method `void RejectPO(Long id);`. \r\nThis should definitely fix the issue : \r\n\r\n    @Modifying\r\n    @Query(value =&quot;update PURCHASE_ORDER   set status=&#39;REJECTED&#39; where id=?1&quot;, nativeQuery = true)\r\n    void RejectPO(Long id);","title":"org.h2.jdbc.JdbcSQLException: Method is only allowed for a query","body":"<p>You are getting org.h2.jdbc.JdbcSQLException message because you are not applying the @Modifying annotation to the repository method <code>void RejectPO(Long id);</code>. \nThis should definitely fix the issue : </p>\n\n<pre><code>@Modifying\n@Query(value =\"update PURCHASE_ORDER   set status='REJECTED' where id=?1\", nativeQuery = true)\nvoid RejectPO(Long id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25617749,"reputation":29,"user_id":19390106,"display_name":"Imran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672473539,"creation_date":1672473298,"answer_id":74968249,"question_id":36563595,"body_markdown":"The problem seems to be here \r\n\r\n   \r\n\r\n     @Repository\r\n    public interface PurchaseOrderRepository extends JpaRepository&lt;PurchaseOrder, PurchaseOrderID&gt; {\r\n    \r\n        @Query(value =&quot;update PURCHASE_ORDER   set status=&#39;REJECTED&#39;   where id=?1&quot;, nativeQuery = true)\r\n        void RejectPO(Long id);\r\n    }\r\nI added @Transactional &amp; @Modifying to my interface like this and it worked\r\n\r\n   \r\n\r\n     @Transactional\r\n     @Repository\r\n     public interface PurchaseOrderRepository extends JpaRepository&lt;PurchaseOrder, PurchaseOrderID&gt; {\r\n        @Modifying\r\n        @Query(value =&quot;update PURCHASE_ORDER   set status=&#39;REJECTED&#39;   where id=?1&quot;, nativeQuery = true)\r\n        void RejectPO(Long id);\r\n    }\r\n\r\nHope it should help","title":"org.h2.jdbc.JdbcSQLException: Method is only allowed for a query","body":"<p>The problem seems to be here</p>\n<pre><code> @Repository\npublic interface PurchaseOrderRepository extends JpaRepository&lt;PurchaseOrder, PurchaseOrderID&gt; {\n\n    @Query(value =&quot;update PURCHASE_ORDER   set status='REJECTED'   where id=?1&quot;, nativeQuery = true)\n    void RejectPO(Long id);\n}\n</code></pre>\n<p>I added @Transactional &amp; @Modifying to my interface like this and it worked</p>\n<pre><code> @Transactional\n @Repository\n public interface PurchaseOrderRepository extends JpaRepository&lt;PurchaseOrder, PurchaseOrderID&gt; {\n    @Modifying\n    @Query(value =&quot;update PURCHASE_ORDER   set status='REJECTED'   where id=?1&quot;, nativeQuery = true)\n    void RejectPO(Long id);\n}\n</code></pre>\n<p>Hope it should help</p>\n"}],"owner":{"account_id":2763820,"reputation":7847,"user_id":2380115,"accept_rate":55,"display_name":"Jeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12348,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1672473539,"creation_date":1460435043,"question_id":36563595,"body_markdown":"I have used the following code to run a query on my database.\r\n\r\n    @Repository\r\n    public interface PurchaseOrderRepository extends JpaRepository&lt;PurchaseOrder, PurchaseOrderID&gt; {\r\n        \r\n    \t@Query(value =&quot;update PURCHASE_ORDER   set status=&#39;REJECTED&#39;   where id=?1&quot;, nativeQuery = true)\r\n    \tvoid RejectPO(Long id);\r\n    }\r\nand then i simply call this method in a service\r\n\r\n\r\n    @Service\r\n    public class SalesService {\r\n    \r\n        @Autowired\r\n        PurchaseOrderRepository purchaseOrderRepository;\r\n    public void RejectPurchaseOrder(Long of) {\r\n    \t\r\n    \t\tpurchaseOrderRepository.RejectPO(of);\r\n    \t}\r\n    }\r\n\r\nbut i face with an error:\r\n\r\n    org.h2.jdbc.JdbcSQLException: Method is only allowed for a query. Use execute or executeUpdate instead of executeQuery; SQL statement:\r\n    update PURCHASE_ORDER   set status=&#39;REJECTED&#39;   where id=? [90002-191]\r\n\r\nThe problem is, i have never called `executeQuery`, i just ask to run it using `jpa`. So how can i fix it?","title":"org.h2.jdbc.JdbcSQLException: Method is only allowed for a query","body":"<p>I have used the following code to run a query on my database.</p>\n\n<pre><code>@Repository\npublic interface PurchaseOrderRepository extends JpaRepository&lt;PurchaseOrder, PurchaseOrderID&gt; {\n\n    @Query(value =\"update PURCHASE_ORDER   set status='REJECTED'   where id=?1\", nativeQuery = true)\n    void RejectPO(Long id);\n}\n</code></pre>\n\n<p>and then i simply call this method in a service</p>\n\n<pre><code>@Service\npublic class SalesService {\n\n    @Autowired\n    PurchaseOrderRepository purchaseOrderRepository;\npublic void RejectPurchaseOrder(Long of) {\n\n        purchaseOrderRepository.RejectPO(of);\n    }\n}\n</code></pre>\n\n<p>but i face with an error:</p>\n\n<pre><code>org.h2.jdbc.JdbcSQLException: Method is only allowed for a query. Use execute or executeUpdate instead of executeQuery; SQL statement:\nupdate PURCHASE_ORDER   set status='REJECTED'   where id=? [90002-191]\n</code></pre>\n\n<p>The problem is, i have never called <code>executeQuery</code>, i just ask to run it using <code>jpa</code>. So how can i fix it?</p>\n"},{"tags":["java","android","xml","kotlin","native"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672481157,"post_id":74968032,"comment_id":132296309,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":12433224,"reputation":1,"user_id":13568053,"display_name":"kishan antala"},"score":0,"creation_date":1673071165,"post_id":74968032,"comment_id":132420116,"body_markdown":"please check that Image link Which I have added","body":"please check that Image link Which I have added"}],"answers":[{"tags":[],"owner":{"account_id":24021591,"reputation":114,"user_id":18003799,"display_name":"Seife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672473235,"creation_date":1672473235,"answer_id":74968242,"question_id":74968032,"body_markdown":"You could do that by having distinguish IDs for your items and pass that ID to the fragment using bundle, then you can load data in your fragment using the id u retrieve from the bundle. Hope this helps ","title":"I want to create the filter screen same as amazon and flipkart in native android with java or kotlin. How is it possible?","body":"<p>You could do that by having distinguish IDs for your items and pass that ID to the fragment using bundle, then you can load data in your fragment using the id u retrieve from the bundle. Hope this helps</p>\n"}],"owner":{"account_id":12433224,"reputation":1,"user_id":13568053,"display_name":"kishan antala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672473235,"creation_date":1672470101,"question_id":74968032,"body_markdown":"[enter image description here](https://i.stack.imgur.com/QpjlE.jpg)\r\n\r\nso How is it possible?\r\n\r\nlike one side I can use Recycler View and another side Frame Layout but my question is in Frame Layout How can I add dynamic Fragment and Fragment Transaction according to Recyclerview Item?\r\n\r\n\r\n\r\nlike one side I can use Recycler View and another side Frame Layout but my question is in Frame Layout How can I add dynamic Fragment and Fragment Transaction according to Recyclerview Item?\r\n","title":"I want to create the filter screen same as amazon and flipkart in native android with java or kotlin. How is it possible?","body":"<p><a href=\"https://i.stack.imgur.com/QpjlE.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>so How is it possible?</p>\n<p>like one side I can use Recycler View and another side Frame Layout but my question is in Frame Layout How can I add dynamic Fragment and Fragment Transaction according to Recyclerview Item?</p>\n<p>like one side I can use Recycler View and another side Frame Layout but my question is in Frame Layout How can I add dynamic Fragment and Fragment Transaction according to Recyclerview Item?</p>\n"},{"tags":["java","loops","contains","subroutine"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1672451998,"post_id":74967050,"comment_id":132293433,"body_markdown":"Welcome to Stack Overflow. Please read [ask] and [How do I ask and answer homework questions?](https://meta.stackoverflow.com/questions/334822), and make sure to **ask a question**. &quot;My code below isn&#39;t working.&quot; is [not a question](https://meta.stackoverflow.com/questions/284236), because it does not identify a specific problem, and it does not let us know what you don&#39;t understand about the problem.","body":"Welcome to Stack Overflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://meta.stackoverflow.com/questions/334822\">How do I ask and answer homework questions?</a>, and make sure to <b>ask a question</b>. &quot;My code below isn&#39;t working.&quot; is <a href=\"https://meta.stackoverflow.com/questions/284236\">not a question</a>, because it does not identify a specific problem, and it does not let us know what you don&#39;t understand about the problem."},{"owner":{"account_id":27265335,"reputation":95,"user_id":20787472,"display_name":"Justin Adams"},"score":1,"creation_date":1672452041,"post_id":74967050,"comment_id":132293435,"body_markdown":"At what point are you returning True?","body":"At what point are you returning True?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1672453483,"post_id":74967050,"comment_id":132293562,"body_markdown":"Try this one line instead: `return name.matches(&quot;\\\\w*a\\\\w*&quot;);`","body":"Try this one line instead: <code>return name.matches(&quot;\\\\w*a\\\\w*&quot;);</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1672454400,"post_id":74967050,"comment_id":132293620,"body_markdown":"@Bohemian I don&#39;t think that&#39;s a great solution for a learner.","body":"@Bohemian I don&#39;t think that&#39;s a great solution for a learner."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672454478,"post_id":74967050,"comment_id":132293627,"body_markdown":"Is the requirement a string which contains a lowercase a, or just any lowercase letter?","body":"Is the requirement a string which contains a lowercase a, or just any lowercase letter?"},{"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"score":0,"creation_date":1672458311,"post_id":74967050,"comment_id":132293927,"body_markdown":"it requires to contain a lowercase a","body":"it requires to contain a lowercase a"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1672458363,"post_id":74967050,"comment_id":132293934,"body_markdown":"1. _every_ `return` statement returns `false`. 2. &#39;higher than a&#39; is not &#39;a lowercase letter&#39;. There are things after &#39;z&#39; that you presumably wouldn&#39;t want. `name.charAt(i) &gt;= &#39;a&#39; &amp;&amp; name.charAt(i) &lt;= &#39;z&#39;` is what you want. 3. `return` __immediately__ stops looping. You&#39;d want to `return false` if you detect a non-letter, and keep going (do nothing - do _not_ `return`) otherwise. At the end, when the for loop is done - that means no letter caused that early return. Thus, at the end, `return true;`.","body":"1. <i>every</i> <code>return</code> statement returns <code>false</code>. 2. &#39;higher than a&#39; is not &#39;a lowercase letter&#39;. There are things after &#39;z&#39; that you presumably wouldn&#39;t want. <code>name.charAt(i) &gt;= &#39;a&#39; &amp;&amp; name.charAt(i) &lt;= &#39;z&#39;</code> is what you want. 3. <code>return</code> <b>immediately</b> stops looping. You&#39;d want to <code>return false</code> if you detect a non-letter, and keep going (do nothing - do <i>not</i> <code>return</code>) otherwise. At the end, when the for loop is done - that means no letter caused that early return. Thus, at the end, <code>return true;</code>."},{"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"score":0,"creation_date":1672458370,"post_id":74967050,"comment_id":132293938,"body_markdown":"@JustinAdams if the string they enter has at least one lowercase a then it is true.","body":"@JustinAdams if the string they enter has at least one lowercase a then it is true."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672459115,"post_id":74967050,"comment_id":132294002,"body_markdown":"Why do you have `&gt;=&#39;a&#39;` if you are looking for *only* `a`?","body":"Why do you have <code>&gt;=&#39;a&#39;</code> if you are looking for <i>only</i> <code>a</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672459250,"post_id":74967050,"comment_id":132294016,"body_markdown":"@rzwitserloot I think you meant &quot;you&#39;d want to return true if you detect a lowercase `a` and keep going otherwise, ... at the end, return `false`&quot;. Which doesn&#39;t match the name `isAlpha` but seems to be what the OP wants the code to do.","body":"@rzwitserloot I think you meant &quot;you&#39;d want to return true if you detect a lowercase <code>a</code> and keep going otherwise, ... at the end, return <code>false</code>&quot;. Which doesn&#39;t match the name <code>isAlpha</code> but seems to be what the OP wants the code to do."},{"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"score":0,"creation_date":1672460225,"post_id":74967050,"comment_id":132294093,"body_markdown":"@tgdavies yes exactly im just confused honestly","body":"@tgdavies yes exactly im just confused honestly"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672460431,"post_id":74967050,"comment_id":132294108,"body_markdown":"So Anjola why did you use `&gt;=&#39;a&#39;` in your code? Rather than just `==&#39;a&#39;`?","body":"So Anjola why did you use <code>&gt;=&#39;a&#39;</code> in your code? Rather than just <code>==&#39;a&#39;</code>?"},{"owner":{"account_id":27265335,"reputation":95,"user_id":20787472,"display_name":"Justin Adams"},"score":0,"creation_date":1672462275,"post_id":74967050,"comment_id":132294269,"body_markdown":"You&#39;re trying to parse over a string to return true on an &#39;a&#39;, but it returns false whenever it isn&#39;t &#39;a&#39;. It isn&#39;t given a chance to go through the entire string right, as it will return false on the first char that isn&#39;t &#39;a&#39;?","body":"You&#39;re trying to parse over a string to return true on an &#39;a&#39;, but it returns false whenever it isn&#39;t &#39;a&#39;. It isn&#39;t given a chance to go through the entire string right, as it will return false on the first char that isn&#39;t &#39;a&#39;?"},{"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"score":0,"creation_date":1672639197,"post_id":74967050,"comment_id":132316566,"body_markdown":"@JustinAdams can you please help me with this question. The user must enter a string that is between 5 and 15 (inclusive) characters long, and does not contain the letter “z”. I&#39;d really appreciate it. I have some but it&#39;s not working and Stack OverFlow isn&#39;t allowing me to post anymore.","body":"@JustinAdams can you please help me with this question. The user must enter a string that is between 5 and 15 (inclusive) characters long, and does not contain the letter “z”. I&#39;d really appreciate it. I have some but it&#39;s not working and Stack OverFlow isn&#39;t allowing me to post anymore."}],"answers":[{"tags":[],"owner":{"account_id":27265335,"reputation":95,"user_id":20787472,"display_name":"Justin Adams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672462621,"creation_date":1672462621,"answer_id":74967599,"question_id":74967050,"body_markdown":"You&#39;re passing a String to the isAlpha method, which iterates over the String and checks each letter to be &#39;a&#39; or not. You&#39;re returning false for every char that isn&#39;t &#39;a&#39;, and returning false if you iterate through the entire String.\r\n\r\nAn easier way to handle this would be to return true upon finding the first &#39;a&#39;, or returning false after iterating over the entire String. It will make scaling easier as well if you reduce the number of return statements in a single method.","title":"The user must enter a string that contains at least one lowercase “a”","body":"<p>You're passing a String to the isAlpha method, which iterates over the String and checks each letter to be 'a' or not. You're returning false for every char that isn't 'a', and returning false if you iterate through the entire String.</p>\n<p>An easier way to handle this would be to return true upon finding the first 'a', or returning false after iterating over the entire String. It will make scaling easier as well if you reduce the number of return statements in a single method.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672463167,"creation_date":1672463167,"answer_id":74967628,"question_id":74967050,"body_markdown":"Here are three different ways to check whether a string contains at least one lowercase *a*. The first way uses a `for` loop as you have tried to do in the code in your question.\r\n\r\nThe second way uses [regular expressions][1] and the last way uses [streams][2].\r\n\r\nThe code also contains a `main` method which contains a `while` loop as requested in your question.\r\n&gt; do the question above or the question keeps repeating\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n    public static boolean isAlpha(String name) {\r\n\r\n        /* Using a loop. */\r\n        char[] chars = name.toCharArray();\r\n        for (char ch : chars) {\r\n            if (ch == &#39;a&#39;) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n\r\n        /* Using regular expression. */\r\n//        return name.matches(&quot;^.*a.*$&quot;);\r\n\r\n        /* Using stream API. */\r\n//        return name.chars()\r\n//                   .filter(c -&gt; c == &#39;a&#39;)\r\n//                   .findFirst()\r\n//                   .isPresent();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Please enter a string that contains at least one lowercase &#39;a&#39;: &quot;);\r\n        String str = input.nextLine();\r\n        while (!isAlpha(str)) {\r\n            System.out.println(&quot;That is an invalid string. Try again.&quot;);\r\n            str = input.nextLine();\r\n        }\r\n        System.out.println(&quot;That is a valid string. On to stage 2.&quot;);\r\n    }\r\n}\r\n```\r\nHere is a sample run:\r\n```none\r\nPlease enter a string that contains at least one lowercase &#39;a&#39;: 1 is the lonliest number.\r\nThat is an invalid string. Try again.\r\n2 can be as bad as 1\r\nThat is a valid string. On to stage 2.\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/regex/\r\n  [2]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html","title":"The user must enter a string that contains at least one lowercase “a”","body":"<p>Here are three different ways to check whether a string contains at least one lowercase <em>a</em>. The first way uses a <code>for</code> loop as you have tried to do in the code in your question.</p>\n<p>The second way uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regular expressions</a> and the last way uses <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">streams</a>.</p>\n<p>The code also contains a <code>main</code> method which contains a <code>while</code> loop as requested in your question.</p>\n<blockquote>\n<p>do the question above or the question keeps repeating</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Solution {\n    public static boolean isAlpha(String name) {\n\n        /* Using a loop. */\n        char[] chars = name.toCharArray();\n        for (char ch : chars) {\n            if (ch == 'a') {\n                return true;\n            }\n        }\n        return false;\n\n        /* Using regular expression. */\n//        return name.matches(&quot;^.*a.*$&quot;);\n\n        /* Using stream API. */\n//        return name.chars()\n//                   .filter(c -&gt; c == 'a')\n//                   .findFirst()\n//                   .isPresent();\n    }\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Please enter a string that contains at least one lowercase 'a': &quot;);\n        String str = input.nextLine();\n        while (!isAlpha(str)) {\n            System.out.println(&quot;That is an invalid string. Try again.&quot;);\n            str = input.nextLine();\n        }\n        System.out.println(&quot;That is a valid string. On to stage 2.&quot;);\n    }\n}\n</code></pre>\n<p>Here is a sample run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Please enter a string that contains at least one lowercase 'a': 1 is the lonliest number.\nThat is an invalid string. Try again.\n2 can be as bad as 1\nThat is a valid string. On to stage 2.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27396509,"reputation":3,"user_id":20898613,"display_name":"Bumhole Stupid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672473124,"creation_date":1672472884,"answer_id":74968220,"question_id":74967050,"body_markdown":"A couple of mistakes were made. Firstly, your method only returns false, there is no way in which it could be true. Secondly, your code here loops through the entire array for every single character. \r\n\r\n    public static Boolean isAlpha(String name) {\r\n    char[] chars = name.toCharArray();\r\n    for (char c : chars) {\r\n        if (!Character.isLetter(c)) {\r\n            return false;\r\n        }\r\n        else {\r\n            for (int i = 0; i &lt; name.length(); i++) {\r\n                if (name.charAt(i) &gt;= &#39;a&#39;) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nTry this instead.\r\n\r\n    public static Boolean isAlpha(String name) {\r\n        char[] chars = name.toCharArray();\r\n        for(char c : chars) {\r\n            if(c==&#39;a&#39;) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n","title":"The user must enter a string that contains at least one lowercase “a”","body":"<p>A couple of mistakes were made. Firstly, your method only returns false, there is no way in which it could be true. Secondly, your code here loops through the entire array for every single character.</p>\n<pre><code>public static Boolean isAlpha(String name) {\nchar[] chars = name.toCharArray();\nfor (char c : chars) {\n    if (!Character.isLetter(c)) {\n        return false;\n    }\n    else {\n        for (int i = 0; i &lt; name.length(); i++) {\n            if (name.charAt(i) &gt;= 'a') {\n                return false;\n            }\n            else {\n                return false;\n            }\n        }\n    }\n}\nreturn false;\n</code></pre>\n<p>}</p>\n<p>Try this instead.</p>\n<pre><code>public static Boolean isAlpha(String name) {\n    char[] chars = name.toCharArray();\n    for(char c : chars) {\n        if(c=='a') {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1672473124,"creation_date":1672450675,"question_id":74967050,"body_markdown":"The user must do the question above or the question keeps repeating so I need a `while` loop. I need to do this using a subroutine too. My code below isn&#39;t working.\r\n\r\n    public static boolean isAlpha(String name) {\r\n        char[] chars = name.toCharArray();\r\n        for (char c : chars) {\r\n            if (!Character.isLetter(c)) {\r\n                return false;\r\n            }\r\n            else {\r\n                for (int i = 0; i &lt; name.length(); i++) {\r\n                    if (name.charAt(i) &gt;= &#39;a&#39;) {\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nThis is the second part:\r\n\r\n    System. out.print (&quot;Please enter a string that contains at least one lowercase a. &quot;);\r\n    String name = input.next ();\r\n    if (isAlpha(name)) {\r\n        System.out.println(&quot;That is a valid string onto stage 2.&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;That is an invalid string. Try again.&quot;);\r\n    }\r\n\r\n","title":"The user must enter a string that contains at least one lowercase “a”","body":"<p>The user must do the question above or the question keeps repeating so I need a <code>while</code> loop. I need to do this using a subroutine too. My code below isn't working.</p>\n<pre><code>public static boolean isAlpha(String name) {\n    char[] chars = name.toCharArray();\n    for (char c : chars) {\n        if (!Character.isLetter(c)) {\n            return false;\n        }\n        else {\n            for (int i = 0; i &lt; name.length(); i++) {\n                if (name.charAt(i) &gt;= 'a') {\n                    return false;\n                }\n                else {\n                    return false;\n                }\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>This is the second part:</p>\n<pre><code>System. out.print (&quot;Please enter a string that contains at least one lowercase a. &quot;);\nString name = input.next ();\nif (isAlpha(name)) {\n    System.out.println(&quot;That is a valid string onto stage 2.&quot;);\n}\nelse {\n    System.out.println(&quot;That is an invalid string. Try again.&quot;);\n}\n</code></pre>\n"},{"tags":["java","math","format","numberformatexception","jgrasp"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1672436584,"post_id":74965995,"comment_id":132291267,"body_markdown":"Just image you were someone who never read your code and you would get this question. Would you know what &quot;length - 1&quot;? Is that user input, or a variable? What kind of variable? Would you know which error is meant? And now think about what kind of mind reading you expect from us with the few information bits you&#39;ve given us :(","body":"Just image you were someone who never read your code and you would get this question. Would you know what &quot;length - 1&quot;? Is that user input, or a variable? What kind of variable? Would you know which error is meant? And now think about what kind of mind reading you expect from us with the few information bits you&#39;ve given us :("},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1672436632,"post_id":74965995,"comment_id":132291274,"body_markdown":"They are the same. Coding conventions say to use spaces, but the semantics are the same.","body":"They are the same. Coding conventions say to use spaces, but the semantics are the same."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1672436734,"post_id":74965995,"comment_id":132291298,"body_markdown":"A [mre], please. Also because I can&#39;t make sense of how your sparse code snippets fit together.","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please. Also because I can&#39;t make sense of how your sparse code snippets fit together."},{"owner":{"account_id":24456124,"reputation":19,"user_id":18377690,"display_name":"Epic Coder"},"score":0,"creation_date":1672436744,"post_id":74965995,"comment_id":132291302,"body_markdown":"I wrote &quot;using operation here: for (int i = length - 1; i &gt;= 0; i--),&quot; its part of a for loop. Length is supposed to be parsing one line that only contains an integer.","body":"I wrote &quot;using operation here: for (int i = length - 1; i &gt;= 0; i--),&quot; its part of a for loop. Length is supposed to be parsing one line that only contains an integer."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672436882,"post_id":74965995,"comment_id":132291321,"body_markdown":"Thanks for the added precision. Please edit it into your question. The next users reading the question are unlikely to go through the comments, so you will want to keep everything together in the question itself.","body":"Thanks for the added precision. Please edit it into your question. The next users reading the question are unlikely to go through the comments, so you will want to keep everything together in the question itself."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1672436913,"post_id":74965995,"comment_id":132291326,"body_markdown":"@EpicCoder What is the exact error message you are getting?","body":"@EpicCoder What is the exact error message you are getting?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672437134,"post_id":74965995,"comment_id":132291374,"body_markdown":"And welcome to Stack Overflow. Please don&#39;t worry if you think we&#39;re critical,  this is normal here. And it does take a bit to learn to use the site in a good way. Thanks for responding above. Please keep on.","body":"And welcome to Stack Overflow. Please don&#39;t worry if you think we&#39;re critical,  this is normal here. And it does take a bit to learn to use the site in a good way. Thanks for responding above. Please keep on."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672437222,"post_id":74965995,"comment_id":132291386,"body_markdown":"Given code works fine with the input: https://ideone.com/RSoWAi","body":"Given code works fine with the input: <a href=\"https://ideone.com/RSoWAi\" rel=\"nofollow noreferrer\">ideone.com/RSoWAi</a>"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":3,"creation_date":1672437416,"post_id":74965995,"comment_id":132291419,"body_markdown":"Your error message reads like you didn&#39;t actually input &quot;2&quot; or &quot;6&quot; first, thus &quot;1 3 6 2 7 8&quot; is read as your second input for line `int length = Integer.parseInt(scan.nextLine())` (which is line 13).","body":"Your error message reads like you didn&#39;t actually input &quot;2&quot; or &quot;6&quot; first, thus &quot;1 3 6 2 7 8&quot; is read as your second input for line <code>int length = Integer.parseInt(scan.nextLine())</code> (which is line 13)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1672437480,"post_id":74965995,"comment_id":132291429,"body_markdown":"That error message has nothing to with spaces in `length -1`. You are trying to parse an entire input line as an integer. You can&#39;t do that.  You need to parse each number separately.","body":"That error message has nothing to with spaces in <code>length -1</code>. You are trying to parse an entire input line as an integer. You can&#39;t do that.  You need to parse each number separately."},{"owner":{"account_id":24456124,"reputation":19,"user_id":18377690,"display_name":"Epic Coder"},"score":1,"creation_date":1672437747,"post_id":74965995,"comment_id":132291473,"body_markdown":"@OleV.V. yes my code is trying to parse input line as an int, but that is not what I am telling it to do. In my code, I scan the first line independently, then lines after that in pairs of 2. So, sometimes it works, sometimes it doesn&#39;t.","body":"@OleV.V. yes my code is trying to parse input line as an int, but that is not what I am telling it to do. In my code, I scan the first line independently, then lines after that in pairs of 2. So, sometimes it works, sometimes it doesn&#39;t."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672471412,"post_id":74965995,"comment_id":132295137,"body_markdown":"I don’t know jGrasp and start to wonder whether it has got a bug where it doesn’t always pick up the first line of input when pasting multiple lines. A search did not confirm, though. Are there three spaces before the first number in the string that Java is complaining about in your image? Fishy. Cannot rule out that it’s related. Your sorting doesn’t work for negative input, I don’t know whether it would be a requirement. Also your median calculation is incorrect, but you will get around to that. Thanks for the credit in your answer (happy to help).","body":"I don’t know jGrasp and start to wonder whether it has got a bug where it doesn’t always pick up the first line of input when pasting multiple lines. A search did not confirm, though. Are there three spaces before the first number in the string that Java is complaining about in your image? Fishy. Cannot rule out that it’s related. Your sorting doesn’t work for negative input, I don’t know whether it would be a requirement. Also your median calculation is incorrect, but you will get around to that. Thanks for the credit in your answer (happy to help)."}],"answers":[{"tags":[],"owner":{"account_id":24456124,"reputation":19,"user_id":18377690,"display_name":"Epic Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672438576,"creation_date":1672438576,"answer_id":74966193,"question_id":74965995,"body_markdown":"&quot;They are the same. Coding conventions say to use spaces, but the semantics are the same.&quot; - Ole \r\n\r\nThis was correct. Turns out, it didn&#39;t matter which of the formats I chose. In the end, it was completely 50/50 when running the program whether it worked or not. I ran the program a few times, copy pasting the same input into the same program. Sometimes it worked, sometimes it didn&#39;t. Maybe something with my computer clock or something, Idk but thanks for the help anyways.","title":"Adding spaces between operation marks","body":"<p>&quot;They are the same. Coding conventions say to use spaces, but the semantics are the same.&quot; - Ole</p>\n<p>This was correct. Turns out, it didn't matter which of the formats I chose. In the end, it was completely 50/50 when running the program whether it worked or not. I ran the program a few times, copy pasting the same input into the same program. Sometimes it worked, sometimes it didn't. Maybe something with my computer clock or something, Idk but thanks for the help anyways.</p>\n"},{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672440600,"creation_date":1672440600,"answer_id":74966395,"question_id":74965995,"body_markdown":"This line is your problem:\r\n\r\n         int length = Integer.parseInt(scan.nextLine()), med = 0;\r\n        \r\nIf the input line is &quot;1 3 6 2 7 8&quot;, then you attempt to parse that line as an integer, which it manifestly is not. An exception is thrown indicating you&#39;re applying parseInt to invalid data.\r\n\r\nWe can tell this with absolute certainty - the exception message says so. You were trying to apply parseInt to the string &quot;1 3 6 2 7 8&quot;. This is not in doubt.\r\n\r\nIt looks like that particular line of input was intended for the next line of code, which will split it on spaces, but in fact you never get there because of the previous error.\r\n\r\nGiven your statement that the input was supposed to be \r\n\r\n    2\r\n    6\r\n    1 3 6 2 7 8\r\n    7\r\n    1 3 6 2 7 8 5\r\n\r\nthen it looks like you didn&#39;t actually type one of the &quot;2&quot; or the &quot;6&quot;.","title":"Adding spaces between operation marks","body":"<p>This line is your problem:</p>\n<pre><code>     int length = Integer.parseInt(scan.nextLine()), med = 0;\n    \n</code></pre>\n<p>If the input line is &quot;1 3 6 2 7 8&quot;, then you attempt to parse that line as an integer, which it manifestly is not. An exception is thrown indicating you're applying parseInt to invalid data.</p>\n<p>We can tell this with absolute certainty - the exception message says so. You were trying to apply parseInt to the string &quot;1 3 6 2 7 8&quot;. This is not in doubt.</p>\n<p>It looks like that particular line of input was intended for the next line of code, which will split it on spaces, but in fact you never get there because of the previous error.</p>\n<p>Given your statement that the input was supposed to be</p>\n<pre><code>2\n6\n1 3 6 2 7 8\n7\n1 3 6 2 7 8 5\n</code></pre>\n<p>then it looks like you didn't actually type one of the &quot;2&quot; or the &quot;6&quot;.</p>\n"}],"owner":{"account_id":24456124,"reputation":19,"user_id":18377690,"display_name":"Epic Coder"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672488214,"answer_count":2,"score":0,"last_activity_date":1672471802,"creation_date":1672436390,"question_id":74965995,"body_markdown":"Whats the difference between these two operations?\r\n\r\nI imagined:\r\n\r\nlength - 1\r\n\r\nto be the same as \r\n\r\nlength-1\r\n\r\nbut I am getting an error with length when using the latter\r\n\r\nusing operation here: for (int i = length - 1; i &gt;= 0; i--)\r\n\r\nint length = Integer.parseInt(scan.nextLine());\r\n\r\n\r\nEdit: ENTIRE CODE:\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\npublic class continuousmedian\r\n{\r\n   public static void main(String args[]) \r\n   {\r\n      Scanner scan = new Scanner (System.in);\r\n      int cases = Integer.parseInt(scan.nextLine());\r\n      \r\n      for (int set = 0; set &lt; cases; set++)\r\n      {\r\n         int length = Integer.parseInt(scan.nextLine()), med = 0;\r\n         \r\n         String[] copy = (scan.nextLine()).split(&quot; &quot;);\r\n         \r\n         int[] test = new int[length];\r\n         \r\n         for (int i = length-1; i &gt;= 0; i--)\r\n         {\r\n            test [i] = Integer.parseInt(copy[i]);\r\n            //System.out.println(&quot;4 is &quot; + test[4]);\r\n            \r\n            Arrays.sort(test);\r\n            \r\n            //*\r\n            System.out.print(&quot;&gt;&gt;&quot;);\r\n            for (int a = 0; a &lt; length; a++)\r\n               System.out.print(test [a]);\r\n            System.out.println();\r\n            //*/\r\n            \r\n            //System.out.println(i);\r\n            \r\n            int mid = length - 1 - i;\r\n            \r\n            if (i%2 == 0)\r\n               med += test[mid];\r\n            \r\n            else\r\n               med += Math.floor((test[mid] + test[mid+1])/2);\r\n            \r\n            //System.out.println(&quot;TEST AT &quot; + mid + &quot; is &quot; + test[mid]);\r\n         }\r\n         \r\n         System.out.println(med);\r\n      \r\n      }\r\n      \r\n   }\r\n   \r\n}\r\n```\r\n\r\n```\r\ninput case:\r\n\r\n2\r\n6\r\n1 3 6 2 7 8\r\n7\r\n1 3 6 2 7 8 5\r\n```\r\n\r\n\r\nand finally, the error message:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;1 3 6 2 7 8&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:668)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:784)\r\n\tat continuousmedian.main(continuousmedian.java:13)\r\n```\r\n\r\nFor those of you saying that it is trying to parse a line of input:\r\n\r\n[![example sessions - why not working the second time?][1]][1]\r\n\r\nThe ONLY thing I changed is length-1  -&gt; length - 1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sraZc.png","title":"Adding spaces between operation marks","body":"<p>Whats the difference between these two operations?</p>\n<p>I imagined:</p>\n<p>length - 1</p>\n<p>to be the same as</p>\n<p>length-1</p>\n<p>but I am getting an error with length when using the latter</p>\n<p>using operation here: for (int i = length - 1; i &gt;= 0; i--)</p>\n<p>int length = Integer.parseInt(scan.nextLine());</p>\n<p>Edit: ENTIRE CODE:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\npublic class continuousmedian\n{\n   public static void main(String args[]) \n   {\n      Scanner scan = new Scanner (System.in);\n      int cases = Integer.parseInt(scan.nextLine());\n      \n      for (int set = 0; set &lt; cases; set++)\n      {\n         int length = Integer.parseInt(scan.nextLine()), med = 0;\n         \n         String[] copy = (scan.nextLine()).split(&quot; &quot;);\n         \n         int[] test = new int[length];\n         \n         for (int i = length-1; i &gt;= 0; i--)\n         {\n            test [i] = Integer.parseInt(copy[i]);\n            //System.out.println(&quot;4 is &quot; + test[4]);\n            \n            Arrays.sort(test);\n            \n            //*\n            System.out.print(&quot;&gt;&gt;&quot;);\n            for (int a = 0; a &lt; length; a++)\n               System.out.print(test [a]);\n            System.out.println();\n            //*/\n            \n            //System.out.println(i);\n            \n            int mid = length - 1 - i;\n            \n            if (i%2 == 0)\n               med += test[mid];\n            \n            else\n               med += Math.floor((test[mid] + test[mid+1])/2);\n            \n            //System.out.println(&quot;TEST AT &quot; + mid + &quot; is &quot; + test[mid]);\n         }\n         \n         System.out.println(med);\n      \n      }\n      \n   }\n   \n}\n</code></pre>\n<pre><code>input case:\n\n2\n6\n1 3 6 2 7 8\n7\n1 3 6 2 7 8 5\n</code></pre>\n<p>and finally, the error message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;1 3 6 2 7 8&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:668)\n    at java.base/java.lang.Integer.parseInt(Integer.java:784)\n    at continuousmedian.main(continuousmedian.java:13)\n</code></pre>\n<p>For those of you saying that it is trying to parse a line of input:</p>\n<p><a href=\"https://i.stack.imgur.com/sraZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sraZc.png\" alt=\"example sessions - why not working the second time?\" /></a></p>\n<p>The ONLY thing I changed is length-1  -&gt; length - 1</p>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1672472981,"post_id":74968124,"comment_id":132295336,"body_markdown":"What do you mean by &quot;trigger the keyboard&#39;s `0` button&quot;? A keyboard is an _input_ device: that is, you press buttons on it and it generates the events, not the other way around.","body":"What do you mean by &quot;trigger the keyboard&#39;s <code>0</code> button&quot;? A keyboard is an <i>input</i> device: that is, you press buttons on it and it generates the events, not the other way around."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1672473476,"post_id":74968124,"comment_id":132295379,"body_markdown":"Not sure that&#39;s what I&#39;d be wanting to do - instead, you might just append the &quot;value&quot; of the button to the end of the text fields text or directly via the `Document`","body":"Not sure that&#39;s what I&#39;d be wanting to do - instead, you might just append the &quot;value&quot; of the button to the end of the text fields text or directly via the <code>Document</code>"},{"owner":{"account_id":19766439,"reputation":11,"user_id":14474370,"display_name":"Achiya"},"score":0,"creation_date":1672680513,"post_id":74968124,"comment_id":132326610,"body_markdown":"After a little research, I solved the problem by using the `java.awt.Robot` class.","body":"After a little research, I solved the problem by using the <code>java.awt.Robot</code> class."}],"owner":{"account_id":19766439,"reputation":11,"user_id":14474370,"display_name":"Achiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672490660,"answer_count":0,"score":0,"last_activity_date":1672471464,"creation_date":1672471464,"question_id":74968124,"body_markdown":"For example, I have created a `jTextField` and ten `jButton`s representing 0-9 keyboard buttons in a number pad.\r\n\r\nHere what I want is when I press the `jButton` which represents `0`, it should trigger the keyboard&#39;s `0` button instead of triggering an assigned variable value (`int jButton_Zero = 0`) to the `jButton` and then it should appear on the `jTextField`.","title":"How to set a jButton to trigger a key event in the keyboard?","body":"<p>For example, I have created a <code>jTextField</code> and ten <code>jButton</code>s representing 0-9 keyboard buttons in a number pad.</p>\n<p>Here what I want is when I press the <code>jButton</code> which represents <code>0</code>, it should trigger the keyboard's <code>0</code> button instead of triggering an assigned variable value (<code>int jButton_Zero = 0</code>) to the <code>jButton</code> and then it should appear on the <code>jTextField</code>.</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1672440284,"post_id":74966346,"comment_id":132291947,"body_markdown":"It&#39;s like how you can cast a `String` to an `Object` but not an `Object` to a `String`.","body":"It&#39;s like how you can cast a <code>String</code> to an <code>Object</code> but not an <code>Object</code> to a <code>String</code>."}],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672459150,"creation_date":1672459150,"answer_id":74967428,"question_id":74966346,"body_markdown":"## What&#39;s Happening\r\nHere you will create `JsonArray.java` class and extend it with `JSONArray`.\r\nit mean your `JsonArray` is child of parent class `JSONArray`.\r\n\r\nNow you have wrote code like.\r\n```java\r\nJsonArray array = (JsonArray) jsonObj.getJSONArray(key);\r\n```\r\n\r\n`JsonArray` is a child, and `jsonObj.getJSONArray(key);` is a parent. that was problem.\r\n\r\n## Solution:-\r\nCast it by child class like.\r\n```java\r\nJsonArray array = (JsonArray) new JsonArray();\r\n```\r\n","title":"Cannot cast JSONArray to another JSONArray extended class","body":"<h2>What's Happening</h2>\n<p>Here you will create <code>JsonArray.java</code> class and extend it with <code>JSONArray</code>.\nit mean your <code>JsonArray</code> is child of parent class <code>JSONArray</code>.</p>\n<p>Now you have wrote code like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonArray array = (JsonArray) jsonObj.getJSONArray(key);\n</code></pre>\n<p><code>JsonArray</code> is a child, and <code>jsonObj.getJSONArray(key);</code> is a parent. that was problem.</p>\n<h2>Solution:-</h2>\n<p>Cast it by child class like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonArray array = (JsonArray) new JsonArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672470099,"creation_date":1672460281,"answer_id":74967488,"question_id":74966346,"body_markdown":"Basically, what you are trying to do won&#39;t work.\r\n\r\nThe object returned by `jsonObj.getJSONArray(key)` is clearly a `JSONArray` and not a `JsonArray`.  And no type cast is going to **change** the **actual** type of an object.  That is just not possible in Java.  A reference type to reference type cast in Java does not change the actual class of the object.\r\n\r\nIf you want to arrange that you can use the result of `jsonObj.getJSONArray(key)` as your custom `JsonArray` type, you are going to have to *create* it with that type in the first place.  \r\n\r\nHow? \r\n\r\n  - Possibly using a JSON binding with a custom object mapper.  (But I have my doubts that approach will work.)\r\n\r\n  - Possibly by making your `JsonArray` a wrapper class for `JSONArray`.  And then do this to wrap the `JSONArray` instance that you get; e.g.\r\n\r\n        JsonArray array = new JsonArray(jsonObj.getJSONArray(key));\r\n\r\n  - Possibly some other way.  \r\n\r\nThe best way will depend on the actual JSON library you are using and how you are instantiating the JSON classes ... like `jsonObject` in your example.\r\n\r\nBut it is probably simpler if you don&#39;t *try* to subclass `JSONArray` like this.  IMO, it is only making things difficult.  Instead, just put the `myFunc` functionality into a domain class or a utility class or something.\r\n\r\n------------------------\r\n\r\n**UPDATE** - If I was going to use the wrapper approach, I would do it like this:\r\n\r\n    public class JsonArray extends JSONArray {\r\n\r\n        private JSONArray ja;\r\n        \r\n\r\n        public JsonArray(JSONArray ja) {\r\n            this.ja = ja;\r\n        }\r\n\r\n        public void myFunc(){\r\n            // whatever\r\n        }\r\n\r\n        // Wrapper implementations for all of the JSONArray methods\r\n        @Override\r\n        public java.lang.Object get(int index) {\r\n            return ja.get(index);\r\n        }\r\n\r\n        // etcetera\r\n    }\r\n\r\nYou don&#39;t necessarily need to write all of that by hand.  Some IDEs can automatically generate a skeleton for a wrapper class from the class that you are trying to wrap.\r\n","title":"Cannot cast JSONArray to another JSONArray extended class","body":"<p>Basically, what you are trying to do won't work.</p>\n<p>The object returned by <code>jsonObj.getJSONArray(key)</code> is clearly a <code>JSONArray</code> and not a <code>JsonArray</code>.  And no type cast is going to <strong>change</strong> the <strong>actual</strong> type of an object.  That is just not possible in Java.  A reference type to reference type cast in Java does not change the actual class of the object.</p>\n<p>If you want to arrange that you can use the result of <code>jsonObj.getJSONArray(key)</code> as your custom <code>JsonArray</code> type, you are going to have to <em>create</em> it with that type in the first place.</p>\n<p>How?</p>\n<ul>\n<li><p>Possibly using a JSON binding with a custom object mapper.  (But I have my doubts that approach will work.)</p>\n</li>\n<li><p>Possibly by making your <code>JsonArray</code> a wrapper class for <code>JSONArray</code>.  And then do this to wrap the <code>JSONArray</code> instance that you get; e.g.</p>\n<pre><code>JsonArray array = new JsonArray(jsonObj.getJSONArray(key));\n</code></pre>\n</li>\n<li><p>Possibly some other way.</p>\n</li>\n</ul>\n<p>The best way will depend on the actual JSON library you are using and how you are instantiating the JSON classes ... like <code>jsonObject</code> in your example.</p>\n<p>But it is probably simpler if you don't <em>try</em> to subclass <code>JSONArray</code> like this.  IMO, it is only making things difficult.  Instead, just put the <code>myFunc</code> functionality into a domain class or a utility class or something.</p>\n<hr />\n<p><strong>UPDATE</strong> - If I was going to use the wrapper approach, I would do it like this:</p>\n<pre><code>public class JsonArray extends JSONArray {\n\n    private JSONArray ja;\n    \n\n    public JsonArray(JSONArray ja) {\n        this.ja = ja;\n    }\n\n    public void myFunc(){\n        // whatever\n    }\n\n    // Wrapper implementations for all of the JSONArray methods\n    @Override\n    public java.lang.Object get(int index) {\n        return ja.get(index);\n    }\n\n    // etcetera\n}\n</code></pre>\n<p>You don't necessarily need to write all of that by hand.  Some IDEs can automatically generate a skeleton for a wrapper class from the class that you are trying to wrap.</p>\n"},{"tags":[],"owner":{"account_id":7332712,"reputation":2128,"user_id":5585069,"accept_rate":98,"display_name":"KANAYO AUGUSTIN UG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672468626,"creation_date":1672468626,"answer_id":74967930,"question_id":74966346,"body_markdown":"Referencing to **@StephenC&#39;s**... I decided to use his second suggestion.\r\n\r\nSo adding a constructor to my **JsonArray** class that will take in an argument of a JSONArray, then I add all elements in the JSONArray to JsonArray\r\n\r\n    public JsonArray(JSONArray array) throws JSONException {\r\n        for(int i = 0; i &lt; array.length(); i++){\r\n            String s = array.getString(i);\r\n            this.put(i, s);\r\n        }\r\n    }\r\n\r\n**Usage:**\r\n\r\n    JsonArray array = new JsonArray(jsonObj.getJSONArray(key));","title":"Cannot cast JSONArray to another JSONArray extended class","body":"<p>Referencing to <strong>@StephenC's</strong>... I decided to use his second suggestion.</p>\n<p>So adding a constructor to my <strong>JsonArray</strong> class that will take in an argument of a JSONArray, then I add all elements in the JSONArray to JsonArray</p>\n<pre><code>public JsonArray(JSONArray array) throws JSONException {\n    for(int i = 0; i &lt; array.length(); i++){\n        String s = array.getString(i);\n        this.put(i, s);\n    }\n}\n</code></pre>\n<p><strong>Usage:</strong></p>\n<pre><code>JsonArray array = new JsonArray(jsonObj.getJSONArray(key));\n</code></pre>\n"}],"owner":{"account_id":7332712,"reputation":2128,"user_id":5585069,"accept_rate":98,"display_name":"KANAYO AUGUSTIN UG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74967488,"answer_count":3,"score":-2,"last_activity_date":1672470099,"creation_date":1672440079,"question_id":74966346,"body_markdown":"I have a custom class in Java which extends to JSONArray like the one below\r\n\r\n    public class JsonArray extends JSONArray {\r\n        \r\n        public void myFunc(){}\r\n    \r\n    }\r\n\r\nNow I have a JSONObject that contains JSONArrays in it and I want to cast those JSONArrays to my custom JsonArray class so I can call `myFunc()` on it\r\n\r\n    JsonArray array = (JsonArray) jsonObj.getJSONArray(key);\r\n    array.myFunc();\r\n\r\nBut I keep getting an error in my log saying:\r\n\r\n    JSONArray cannot be cast to JsonArray\r\n\r\n**Note:** I&#39;m running this on Android Studio and this is not my actual code, it&#39;s just a replica, so in this case, we should assume all variables are initialized","title":"Cannot cast JSONArray to another JSONArray extended class","body":"<p>I have a custom class in Java which extends to JSONArray like the one below</p>\n<pre><code>public class JsonArray extends JSONArray {\n    \n    public void myFunc(){}\n\n}\n</code></pre>\n<p>Now I have a JSONObject that contains JSONArrays in it and I want to cast those JSONArrays to my custom JsonArray class so I can call <code>myFunc()</code> on it</p>\n<pre><code>JsonArray array = (JsonArray) jsonObj.getJSONArray(key);\narray.myFunc();\n</code></pre>\n<p>But I keep getting an error in my log saying:</p>\n<pre><code>JSONArray cannot be cast to JsonArray\n</code></pre>\n<p><strong>Note:</strong> I'm running this on Android Studio and this is not my actual code, it's just a replica, so in this case, we should assume all variables are initialized</p>\n"},{"tags":["java","email","microsoft-graph-api","smtp","gmail"],"owner":{"account_id":8589938,"reputation":107,"user_id":6434836,"accept_rate":67,"display_name":"Hari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672468353,"creation_date":1672467528,"question_id":74967863,"body_markdown":"While sending the schedule meeting email from our java application, we are creating an ics file through MIME object and its works perfect\r\n\r\nWhile cancelling the meeting the mail is bounced back with **550-5.7.26** \r\n\r\nError Description from Google\r\n\r\n    550, &quot;5.7.26&quot;, &quot; Unauthenticated email from domain-name is not accepted due to domain&#39;s DMARC policy. Please contact the administrator of domain-name domain. If this was a legitimate mail please visit Control unauthenticated mail from your domain to learn about the DMARC initiative. If the messages are valid and aren&#39;t spam, contact the administrator of the receiving mail server to determine why your outgoing messages don&#39;t pass authentication checks.\r\n\r\n\r\n\r\nBelow is the only difference in ics file between schedule and cancel email\r\n\r\n**For schedule invite**\r\n\r\n    METHOD:REQUEST\r\n    STATUS:CONFIRMED\r\n\r\n**For cancel invite**\r\n\r\n    METHOD:CANCEL\r\n    STATUS:CANCELLED\r\n\r\nAll other attributes(ORGANIZER, ATTENDEE ) are same\r\n\r\n    ORGANIZER;CN=&lt;name&gt;@&lt;domain&gt;.net:mailto:&lt;name&gt;@&lt;domain&gt;.net\r\n    ATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE;CN=&lt;name&gt;@gmail.com:mailto:&lt;name&gt;@gmail.com\r\n\r\n**And interesting things are:**\r\n\r\n 1. We are facing this issue only when we send through MS graph((through MIME object)) not with\r\n    normal SMTP config\r\n   \r\n 2. And the same ics is working fine for the outlook recipient. its not\r\n        working only for gmail recipient\r\n\r\nCan any one please help with the below queries? \r\n\r\n 1. Why its only failing for cancel invite and working for sent invite?\r\n 2. What is the difference in consuming ics between request and cancel methods? \r\n 3. Why its working with normal SMTP config and not with MS\r\n        graph?\r\n 4. Why its not working only for gmail recipient?\r\n\r\n","title":"550-5.7.26 error while cancelling the invite to gmail account through MS graph(through MIME object)","body":"<p>While sending the schedule meeting email from our java application, we are creating an ics file through MIME object and its works perfect</p>\n<p>While cancelling the meeting the mail is bounced back with <strong>550-5.7.26</strong></p>\n<p>Error Description from Google</p>\n<pre><code>550, &quot;5.7.26&quot;, &quot; Unauthenticated email from domain-name is not accepted due to domain's DMARC policy. Please contact the administrator of domain-name domain. If this was a legitimate mail please visit Control unauthenticated mail from your domain to learn about the DMARC initiative. If the messages are valid and aren't spam, contact the administrator of the receiving mail server to determine why your outgoing messages don't pass authentication checks.\n</code></pre>\n<p>Below is the only difference in ics file between schedule and cancel email</p>\n<p><strong>For schedule invite</strong></p>\n<pre><code>METHOD:REQUEST\nSTATUS:CONFIRMED\n</code></pre>\n<p><strong>For cancel invite</strong></p>\n<pre><code>METHOD:CANCEL\nSTATUS:CANCELLED\n</code></pre>\n<p>All other attributes(ORGANIZER, ATTENDEE ) are same</p>\n<pre><code>ORGANIZER;CN=&lt;name&gt;@&lt;domain&gt;.net:mailto:&lt;name&gt;@&lt;domain&gt;.net\nATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE;CN=&lt;name&gt;@gmail.com:mailto:&lt;name&gt;@gmail.com\n</code></pre>\n<p><strong>And interesting things are:</strong></p>\n<ol>\n<li><p>We are facing this issue only when we send through MS graph((through MIME object)) not with\nnormal SMTP config</p>\n</li>\n<li><p>And the same ics is working fine for the outlook recipient. its not\nworking only for gmail recipient</p>\n</li>\n</ol>\n<p>Can any one please help with the below queries?</p>\n<ol>\n<li>Why its only failing for cancel invite and working for sent invite?</li>\n<li>What is the difference in consuming ics between request and cancel methods?</li>\n<li>Why its working with normal SMTP config and not with MS\ngraph?</li>\n<li>Why its not working only for gmail recipient?</li>\n</ol>\n"},{"tags":["java","android-webview","android-camera","android-permissions"],"owner":{"account_id":27354182,"reputation":1,"user_id":20862856,"display_name":"Chencho Namgyel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672466990,"creation_date":1672464884,"question_id":74967719,"body_markdown":"I am trying to develop an app using HTML and JavaScript which uses camera. But when I export the app using android Studio, the app doesn&#39;t request the permission to access camera. So I allowed it manually. Then, it seems the camera worked, but still the problem is that the camera freezes and will continue to work only when I keep touching the screen.\r\n\r\nHere is the codes:\r\n\r\n\r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.CameraTest&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nMainActivity.java\r\n```\r\npackage com.test.camera;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.Manifest;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport android.webkit.PermissionRequest;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        WebView webView=findViewById(R.id.webView);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setDatabaseEnabled(true);\r\n        webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        webView.getSettings().setMediaPlaybackRequiresUserGesture(false);\r\n        webView.setWebChromeClient(new WebChromeClient() {});\r\n    }\r\n}\r\n```\r\n\r\nindex.html\r\n```\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;Video&lt;/title&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;style&gt;\r\n      .fitter {\r\n          max-width: 100%;\r\n          height: auto;\r\n      }\r\n    &lt;/style&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;div id=&quot;camScrn&quot; class=&quot;scrn&quot;&gt;\r\n      &lt;div id=&quot;title&quot; style=&quot;position: fixed; left: 0px; top: 5px; width: 100%; text-align: center;&quot;&gt;Top&lt;/div&gt;\r\n      &lt;div style=&quot;position: absolute; left: 0px; top: 0px;&quot;&gt;\r\n        &lt;video class=&quot;fitter&quot; id=&quot;video&quot; style=&quot;position: fixed; width: 100%; height: 100%&quot;&gt;&lt;/video&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/body&gt;\r\n  &lt;script src=&quot;code.js&quot;&gt;&lt;/script&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\ncode.js\r\n```\r\n//Camera Setup\r\nnavigator.mediaDevices\r\n  .getUserMedia({ video: { width: parseInt(screen.height), height: parseInt(screen.width), facingMode: { exact: &quot;environment&quot; }}, audio: false})\r\n  .then((stream) =&gt; {\r\n    video.srcObject = stream;\r\n    video.play();\r\n  })\r\n  .catch((err) =&gt; {\r\n    console.error(`An error occurred: ${err}`);\r\n  });\r\n```\r\n\r\n\r\n\r\n\r\nI browsed a lot and tried all of it, but still it doesn&#39;t seem to work. Maybe it could be because I am just a beginner in Java.","title":"Android WebView: Request permission to access camera","body":"<p>I am trying to develop an app using HTML and JavaScript which uses camera. But when I export the app using android Studio, the app doesn't request the permission to access camera. So I allowed it manually. Then, it seems the camera worked, but still the problem is that the camera freezes and will continue to work only when I keep touching the screen.</p>\n<p>Here is the codes:</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.CameraTest&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>package com.test.camera;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.Manifest;\nimport android.os.Build;\nimport android.os.Bundle;\n\nimport android.webkit.PermissionRequest;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        WebView webView=findViewById(R.id.webView);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.getSettings().setDatabaseEnabled(true);\n        webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n        webView.getSettings().setDomStorageEnabled(true);\n        webView.getSettings().setMediaPlaybackRequiresUserGesture(false);\n        webView.setWebChromeClient(new WebChromeClient() {});\n    }\n}\n</code></pre>\n<p>index.html</p>\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Video&lt;/title&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;style&gt;\n      .fitter {\n          max-width: 100%;\n          height: auto;\n      }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=&quot;camScrn&quot; class=&quot;scrn&quot;&gt;\n      &lt;div id=&quot;title&quot; style=&quot;position: fixed; left: 0px; top: 5px; width: 100%; text-align: center;&quot;&gt;Top&lt;/div&gt;\n      &lt;div style=&quot;position: absolute; left: 0px; top: 0px;&quot;&gt;\n        &lt;video class=&quot;fitter&quot; id=&quot;video&quot; style=&quot;position: fixed; width: 100%; height: 100%&quot;&gt;&lt;/video&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n  &lt;script src=&quot;code.js&quot;&gt;&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n<p>code.js</p>\n<pre><code>//Camera Setup\nnavigator.mediaDevices\n  .getUserMedia({ video: { width: parseInt(screen.height), height: parseInt(screen.width), facingMode: { exact: &quot;environment&quot; }}, audio: false})\n  .then((stream) =&gt; {\n    video.srcObject = stream;\n    video.play();\n  })\n  .catch((err) =&gt; {\n    console.error(`An error occurred: ${err}`);\n  });\n</code></pre>\n<p>I browsed a lot and tried all of it, but still it doesn't seem to work. Maybe it could be because I am just a beginner in Java.</p>\n"},{"tags":["java","spring-boot","ssl","networking","https"],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672465543,"creation_date":1672465543,"answer_id":74967757,"question_id":74967560,"body_markdown":"&gt; ... so I added the webservice direct certificate to the Java/lib/security/cacerts file\r\n\r\nThe webservice certificate is not a CA certificate, so it does not belong in cacerts in the first place (as the name indicates). A CA certificate is a certificate which is used to sign other certificates, a webservice certificate is a leaf certificate which cannot be used to sign other certificates.\r\n\r\n&gt;  Will this behavior occur with other tools/languages like curl ?\r\n\r\nThis is a common behavior. With OpenSSL based tools one usually needs to provide the root CA (and of course the chain to it), only with X509_V_FLAG_PARTIAL_CHAIN it will accept when parts of the chain a specified as trusted. ","title":"Why adding a certificate to cacerts is not enough?","body":"<blockquote>\n<p>... so I added the webservice direct certificate to the Java/lib/security/cacerts file</p>\n</blockquote>\n<p>The webservice certificate is not a CA certificate, so it does not belong in cacerts in the first place (as the name indicates). A CA certificate is a certificate which is used to sign other certificates, a webservice certificate is a leaf certificate which cannot be used to sign other certificates.</p>\n<blockquote>\n<p>Will this behavior occur with other tools/languages like curl ?</p>\n</blockquote>\n<p>This is a common behavior. With OpenSSL based tools one usually needs to provide the root CA (and of course the chain to it), only with X509_V_FLAG_PARTIAL_CHAIN it will accept when parts of the chain a specified as trusted.</p>\n"}],"owner":{"account_id":13449386,"reputation":53,"user_id":11019740,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74967757,"answer_count":1,"score":0,"last_activity_date":1672465543,"creation_date":1672461869,"question_id":74967560,"body_markdown":"I have a Java program that connects to an https remote webservice which exposes a TLS certificate of this structure:\r\n\r\n```\r\nWebservice certificate\r\n    Signed with some certificate\r\n        Signed with some corporate certificate\r\n\r\n```\r\n\r\nNow, when my Java app makes a https request to that webservice it fails due to invalid certificate. This is normal, so I added the webservice direct certificate to the Java/lib/security/cacerts file.\r\n\r\nBut this didn&#39;t work, I still had the certificate exception.\r\n\r\nAfter a long debugging session and hours wasted, I tried to add all three individual certificates, and this time it worked. But why ?\r\n\r\nWhy does Java checks the full certificate path **even though the direct certificate is made trusted** ?\r\n\r\n**Is this behavior as per SSL/TLS RFCs** ? Will this behavior occur with other tools/languages like `curl` ?\r\n\r\nThanks.","title":"Why adding a certificate to cacerts is not enough?","body":"<p>I have a Java program that connects to an https remote webservice which exposes a TLS certificate of this structure:</p>\n<pre><code>Webservice certificate\n    Signed with some certificate\n        Signed with some corporate certificate\n\n</code></pre>\n<p>Now, when my Java app makes a https request to that webservice it fails due to invalid certificate. This is normal, so I added the webservice direct certificate to the Java/lib/security/cacerts file.</p>\n<p>But this didn't work, I still had the certificate exception.</p>\n<p>After a long debugging session and hours wasted, I tried to add all three individual certificates, and this time it worked. But why ?</p>\n<p>Why does Java checks the full certificate path <strong>even though the direct certificate is made trusted</strong> ?</p>\n<p><strong>Is this behavior as per SSL/TLS RFCs</strong> ? Will this behavior occur with other tools/languages like <code>curl</code> ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-webclient"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1672319392,"post_id":74947785,"comment_id":132266255,"body_markdown":"Do you know about `Mono/Flux#block`?","body":"Do you know about <code>Mono&#47;Flux#block</code>?"},{"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"score":0,"creation_date":1672360177,"post_id":74947785,"comment_id":132276287,"body_markdown":"Yes, but which Mono should I block when I have a list of Monos?","body":"Yes, but which Mono should I block when I have a list of Monos?"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672464789,"creation_date":1672367293,"answer_id":74957662,"question_id":74947785,"body_markdown":"In reactive you think not about threads but about concurrency. \r\n\r\nReactor executes non-blocking/async tasks on a small number of threads using `Schedulers` abstraction to execute tasks. `Schedulers` have responsibilities very similar to `ExecutorService`. By default, for parallel scheduler number of threads is equal to number of CPU cores, but could be controlled by `reactor.schedulers.defaultPoolSize’ system property.\r\n\r\n\r\nIn your example instead of creating multiple `Mono` and then merge them, better to use `Flux` and then process elements in parallel controlling concurrency.\r\n\r\n\r\n```\r\nFlux.range(1, 10)\r\n\t.flatMap(this::testRestCall)\r\n```\r\n\r\nBy default, flatMap will process `Queues.SMALL_BUFFER_SIZE = 256` number of in-flight inner sequences. \r\n\r\n\r\nYou could control concurrency `flatMap(item -&gt; process(item), concurrency)` or use `concatMap` operator if you want to process sequentially. Check [flatMap(..., int concurrency, int prefetch)](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMap-java.util.function.Function-int-int-) for details.\r\n\r\n\r\n```\r\nFlux.range(1, 10)\r\n\t.flatMap(i -&gt; testRestCall(i), 5)\r\n```\r\n\r\n\r\nThe following test shows that calls are executed in different threads \r\n\r\n```\r\n@Test\r\nvoid testParallel() {\r\n\tvar flow = Flux.range(1, 10)\r\n\t\t\t.flatMap(i -&gt; testRestCall(i))\r\n\t\t\t.log()\r\n\t\t\t.then(Mono.just(&quot;complete&quot;));\r\n\r\n\tStepVerifier.create(flow)\r\n\t\t\t.expectNext(&quot;complete&quot;)\r\n\t\t\t.verifyComplete();\r\n\r\n}\r\n```\r\n\r\nThe result log \r\n\r\n```\r\n2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-4] reactor.Mono.FlatMap.3                   : | onComplete()\r\n2022-12-30 21:31:25.170  INFO 43383 --- [ctor-http-nio-3] reactor.Mono.FlatMap.2                   : | onComplete()\r\n2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-2] reactor.Mono.FlatMap.1                   : | onComplete()\r\n2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-8] reactor.Mono.FlatMap.7                   : | onComplete()\r\n2022-12-30 21:31:25.169  INFO 43383 --- [tor-http-nio-11] reactor.Mono.FlatMap.10                  : | onComplete()\r\n2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-7] reactor.Mono.FlatMap.6                   : | onComplete()\r\n2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-9] reactor.Mono.FlatMap.8                   : | onComplete()\r\n2022-12-30 21:31:25.170  INFO 43383 --- [ctor-http-nio-6] reactor.Mono.FlatMap.5                   : | onComplete()\r\n2022-12-30 21:31:25.378  INFO 43383 --- [ctor-http-nio-5] reactor.Mono.FlatMap.4                   : | onComplete()\r\n```\r\n\r\n","title":"Spring WebFlux | How to wait till a list of Monos finish execution in parallel","body":"<p>In reactive you think not about threads but about concurrency.</p>\n<p>Reactor executes non-blocking/async tasks on a small number of threads using <code>Schedulers</code> abstraction to execute tasks. <code>Schedulers</code> have responsibilities very similar to <code>ExecutorService</code>. By default, for parallel scheduler number of threads is equal to number of CPU cores, but could be controlled by `reactor.schedulers.defaultPoolSize’ system property.</p>\n<p>In your example instead of creating multiple <code>Mono</code> and then merge them, better to use <code>Flux</code> and then process elements in parallel controlling concurrency.</p>\n<pre><code>Flux.range(1, 10)\n    .flatMap(this::testRestCall)\n</code></pre>\n<p>By default, flatMap will process <code>Queues.SMALL_BUFFER_SIZE = 256</code> number of in-flight inner sequences.</p>\n<p>You could control concurrency <code>flatMap(item -&gt; process(item), concurrency)</code> or use <code>concatMap</code> operator if you want to process sequentially. Check <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMap-java.util.function.Function-int-int-\" rel=\"nofollow noreferrer\">flatMap(..., int concurrency, int prefetch)</a> for details.</p>\n<pre><code>Flux.range(1, 10)\n    .flatMap(i -&gt; testRestCall(i), 5)\n</code></pre>\n<p>The following test shows that calls are executed in different threads</p>\n<pre><code>@Test\nvoid testParallel() {\n    var flow = Flux.range(1, 10)\n            .flatMap(i -&gt; testRestCall(i))\n            .log()\n            .then(Mono.just(&quot;complete&quot;));\n\n    StepVerifier.create(flow)\n            .expectNext(&quot;complete&quot;)\n            .verifyComplete();\n\n}\n</code></pre>\n<p>The result log</p>\n<pre><code>2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-4] reactor.Mono.FlatMap.3                   : | onComplete()\n2022-12-30 21:31:25.170  INFO 43383 --- [ctor-http-nio-3] reactor.Mono.FlatMap.2                   : | onComplete()\n2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-2] reactor.Mono.FlatMap.1                   : | onComplete()\n2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-8] reactor.Mono.FlatMap.7                   : | onComplete()\n2022-12-30 21:31:25.169  INFO 43383 --- [tor-http-nio-11] reactor.Mono.FlatMap.10                  : | onComplete()\n2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-7] reactor.Mono.FlatMap.6                   : | onComplete()\n2022-12-30 21:31:25.169  INFO 43383 --- [ctor-http-nio-9] reactor.Mono.FlatMap.8                   : | onComplete()\n2022-12-30 21:31:25.170  INFO 43383 --- [ctor-http-nio-6] reactor.Mono.FlatMap.5                   : | onComplete()\n2022-12-30 21:31:25.378  INFO 43383 --- [ctor-http-nio-5] reactor.Mono.FlatMap.4                   : | onComplete()\n</code></pre>\n"}],"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2071,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74957662,"answer_count":1,"score":1,"last_activity_date":1672464789,"creation_date":1672293728,"question_id":74947785,"body_markdown":"I want to send n-number of requests to a REST endpoint in parallel.I want to make sure these get executed in different threads for performance and need to wait till all n requests finish.\r\n\r\nOnly way I could come up with is using CountDownLatch as follows (please check the main() method. This is testable code):\r\n\r\n```\r\n        public static void main(String args[]) throws Exception {\r\n            \r\n            int n = 10; //n is dynamic during runtime\r\n    \r\n            final CountDownLatch waitForNRequests = new CountDownLatch(n);\r\n            //send n requests\r\n            for (int i =0;i&lt;n;i++) {\r\n                var r = testRestCall(&quot;&quot;+i);\r\n                r.publishOn(Schedulers.parallel()).subscribe(res -&gt; {\r\n                    System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thread: &quot; + Thread.currentThread().getName() + &quot; response:&quot; +res.getBody());\r\n                    \r\n                    waitForNRequests.countDown();\r\n                });\r\n            }\r\n    \r\n    \r\n            waitForNRequests.await(); //wait till all n requests finish before goto the next line\r\n    \r\n            System.out.println(&quot;All n requests finished&quot;);\r\n            Thread.sleep(10000); \r\n        }\r\n\r\n \r\n\r\npublic static Mono&lt;ResponseEntity&lt;Map&gt;&gt; testRestCall(String id) {\r\n    \r\n            WebClient client = WebClient.create(&quot;https://reqres.in/api&quot;);\r\n    \r\n            JSONObject request = new JSONObject();\r\n            request.put(&quot;name&quot;, &quot;user&quot;+ id);\r\n            request.put(&quot;job&quot;, &quot;leader&quot;);\r\n    \r\n            var res = client.post().uri(&quot;/users&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .body(BodyInserters.fromValue(request.toString()))\r\n    \r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .toEntity(Map.class)\r\n                    .onErrorReturn(ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build());\r\n            return res;\r\n    \r\n        }\r\n    \r\n```\r\n\r\nThis doesnt look good and I am sure there is an elegant solution without using Latches..etc\r\nI tried following method,but I dont know **how to resolve following issues**:\r\n\r\n 1. Flux.merge() , contact() results in executing all n-requests in a single thread\r\n 2. How to wait till n-requests finish execution (fork-join)?\r\n\r\n```\r\nList&lt;Mono&lt;ResponseEntity&lt;Map&gt;&gt;&gt; lst = new ArrayList&lt;&gt;();\r\nint n = 10; //n is dynamic during runtime\r\nfor (int i =0;i&lt;n;i++) {\r\n    var r = testRestCall(&quot;&quot;+i);\r\n    lst.add(r);\r\n}\r\n\r\nvar t= Flux.fromIterable(lst).flatMap(Function.identity()); //tried merge() contact() as well\r\nt.publishOn(Schedulers.parallel()).subscribe(res -&gt; {\r\n            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thread: &quot; + Thread.currentThread().getName() + &quot; response:&quot; +res.getBody());\r\n            ///??? all requests execute in a single thread.How to parallelize ?\r\n        });\r\n\r\n//???How to wait till all n requests finish before goto the next line\r\nSystem.out.println(&quot;All n requests finished&quot;);\r\n\r\nThread.sleep(10000); \r\n```\r\n\r\n**Update:**\r\n\r\nI found the reason why the Flux subscriber runs in the same thread, I need to create a ParallelFlux. So the correct order should be:\r\n\r\n```\r\nvar t= Flux.fromIterable(lst).flatMap(Function.identity()); \r\nt.parallel()\r\n .runOn(Schedulers.parallel())\r\n .subscribe(res -&gt; {\r\n            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thread: &quot; + Thread.currentThread().getName() + &quot; response:&quot; +res.getBody());\r\n            ///??? all requests execute in a single thread.How to parallelize ?\r\n        });\r\n```\r\n\r\nRef: https://projectreactor.io/docs/core/release/reference/#advanced-parallelizing-parralelflux\r\n","title":"Spring WebFlux | How to wait till a list of Monos finish execution in parallel","body":"<p>I want to send n-number of requests to a REST endpoint in parallel.I want to make sure these get executed in different threads for performance and need to wait till all n requests finish.</p>\n<p>Only way I could come up with is using CountDownLatch as follows (please check the main() method. This is testable code):</p>\n<pre><code>        public static void main(String args[]) throws Exception {\n            \n            int n = 10; //n is dynamic during runtime\n    \n            final CountDownLatch waitForNRequests = new CountDownLatch(n);\n            //send n requests\n            for (int i =0;i&lt;n;i++) {\n                var r = testRestCall(&quot;&quot;+i);\n                r.publishOn(Schedulers.parallel()).subscribe(res -&gt; {\n                    System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thread: &quot; + Thread.currentThread().getName() + &quot; response:&quot; +res.getBody());\n                    \n                    waitForNRequests.countDown();\n                });\n            }\n    \n    \n            waitForNRequests.await(); //wait till all n requests finish before goto the next line\n    \n            System.out.println(&quot;All n requests finished&quot;);\n            Thread.sleep(10000); \n        }\n\n \n\npublic static Mono&lt;ResponseEntity&lt;Map&gt;&gt; testRestCall(String id) {\n    \n            WebClient client = WebClient.create(&quot;https://reqres.in/api&quot;);\n    \n            JSONObject request = new JSONObject();\n            request.put(&quot;name&quot;, &quot;user&quot;+ id);\n            request.put(&quot;job&quot;, &quot;leader&quot;);\n    \n            var res = client.post().uri(&quot;/users&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .body(BodyInserters.fromValue(request.toString()))\n    \n                    .accept(MediaType.APPLICATION_JSON)\n                    .retrieve()\n                    .toEntity(Map.class)\n                    .onErrorReturn(ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build());\n            return res;\n    \n        }\n    \n</code></pre>\n<p>This doesnt look good and I am sure there is an elegant solution without using Latches..etc\nI tried following method,but I dont know <strong>how to resolve following issues</strong>:</p>\n<ol>\n<li>Flux.merge() , contact() results in executing all n-requests in a single thread</li>\n<li>How to wait till n-requests finish execution (fork-join)?</li>\n</ol>\n<pre><code>List&lt;Mono&lt;ResponseEntity&lt;Map&gt;&gt;&gt; lst = new ArrayList&lt;&gt;();\nint n = 10; //n is dynamic during runtime\nfor (int i =0;i&lt;n;i++) {\n    var r = testRestCall(&quot;&quot;+i);\n    lst.add(r);\n}\n\nvar t= Flux.fromIterable(lst).flatMap(Function.identity()); //tried merge() contact() as well\nt.publishOn(Schedulers.parallel()).subscribe(res -&gt; {\n            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thread: &quot; + Thread.currentThread().getName() + &quot; response:&quot; +res.getBody());\n            ///??? all requests execute in a single thread.How to parallelize ?\n        });\n\n//???How to wait till all n requests finish before goto the next line\nSystem.out.println(&quot;All n requests finished&quot;);\n\nThread.sleep(10000); \n</code></pre>\n<p><strong>Update:</strong></p>\n<p>I found the reason why the Flux subscriber runs in the same thread, I need to create a ParallelFlux. So the correct order should be:</p>\n<pre><code>var t= Flux.fromIterable(lst).flatMap(Function.identity()); \nt.parallel()\n .runOn(Schedulers.parallel())\n .subscribe(res -&gt; {\n            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thread: &quot; + Thread.currentThread().getName() + &quot; response:&quot; +res.getBody());\n            ///??? all requests execute in a single thread.How to parallelize ?\n        });\n</code></pre>\n<p>Ref: <a href=\"https://projectreactor.io/docs/core/release/reference/#advanced-parallelizing-parralelflux\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/#advanced-parallelizing-parralelflux</a></p>\n"},{"tags":["java","multithreading","asynchronous","concurrency"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1669902199,"post_id":74640896,"comment_id":131751753,"body_markdown":"Re, &quot;Would be super grateful if someone can explain me how wait/notify/notifyAll works &quot; https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html","body":"Re, &quot;Would be super grateful if someone can explain me how wait/notify/notifyAll works &quot; <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669902896,"post_id":74640896,"comment_id":131752067,"body_markdown":"Your four `Sender` threads and your `SessionProducer` thread can never work at the same time. Whenever any one of them is working, the others all are `wait()`ing. What&#39;s the point of making them separate threads? Why not just do all of the work in one thread?","body":"Your four <code>Sender</code> threads and your <code>SessionProducer</code> thread can never work at the same time. Whenever any one of them is working, the others all are <code>wait()</code>ing. What&#39;s the point of making them separate threads? Why not just do all of the work in one thread?"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669903388,"creation_date":1669903388,"answer_id":74643105,"question_id":74640896,"body_markdown":"Your loops call `Client.messages.isEmpty()` with no synchronization. I haven&#39;t spent the time to _really_ understand what your code does—can&#39;t see all of it anyway—but I can _guess_ what&#39;s happening.\r\n\r\nMaybe the list contains one message.\r\n- Four threads all see it as not empty.\r\n- Four threads all try enter the `synchronized(Client.messages)` block.\r\n- One-by-one, they get in to the block, see that `smppSession.isBind()` is true, and try to remove a message from the list.\r\n- The first thread to remove a message succeeds, and then each of the other four throws an exception because it tried to remove from an empty list.","title":"Wait and notify for sending bunch of messages","body":"<p>Your loops call <code>Client.messages.isEmpty()</code> with no synchronization. I haven't spent the time to <em>really</em> understand what your code does—can't see all of it anyway—but I can <em>guess</em> what's happening.</p>\n<p>Maybe the list contains one message.</p>\n<ul>\n<li>Four threads all see it as not empty.</li>\n<li>Four threads all try enter the <code>synchronized(Client.messages)</code> block.</li>\n<li>One-by-one, they get in to the block, see that <code>smppSession.isBind()</code> is true, and try to remove a message from the list.</li>\n<li>The first thread to remove a message succeeds, and then each of the other four throws an exception because it tried to remove from an empty list.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7157829,"reputation":11,"user_id":5469557,"display_name":"黄河李"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672463082,"creation_date":1672463082,"answer_id":74967624,"question_id":74640896,"body_markdown":"Recommend a SMS development library [sms-client][1] from China to support Smpp.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.chinamobile.cmos&lt;/groupId&gt;\r\n      &lt;artifactId&gt;sms-client&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n------\r\n\tpublic void testsmpp() throws Exception {\r\n\t\tSmsClientBuilder builder = new SmsClientBuilder();\r\n\t\tSmsClient smsClient = builder.uri(&quot;smpp://127.0.0.1:18890?username=test01&amp;password=1qaz2wsx&amp;version=52&amp;window=32&amp;maxchannel=1&quot;)\r\n\t\t.receiver(new MessageReceiver() {\r\n\t\t\tpublic void receive(BaseMessage message) {\r\n\t\t\t\tlogger.info(&quot;receive : {}&quot;,message.toString());\r\n\t\t\t}\r\n\t\t}).build();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\t\r\n\t\t\tSubmitSm pdu = new SubmitSm();\r\n\t\t\tpdu.setRegisteredDelivery((byte)1);\r\n\t        pdu.setSourceAddress(new Address((byte)0,(byte)0,&quot;10086&quot;));\r\n\t        pdu.setDestAddress(new Address((byte)0,(byte)0,&quot;13800138000&quot;));\r\n\t\t\tpdu.setSmsMsg(new SmsTextMessage(&quot;SmsTextMessage &quot; + i,SmsDcs.getGeneralDataCodingDcs(SmsAlphabet.GSM,SmsMsgClass.CLASS_UNKNOWN)));\r\n\t\t\ttry {\r\n\t\t\t\tsmsClient.send(pdu, 1000);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.info(&quot;send &quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tThread.sleep(5000000);\r\n\t}\r\n\r\n  [1]: https://github.com/Lihuanghe/sms-client","title":"Wait and notify for sending bunch of messages","body":"<p>Recommend a SMS development library <a href=\"https://github.com/Lihuanghe/sms-client\" rel=\"nofollow noreferrer\">sms-client</a> from China to support Smpp.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.chinamobile.cmos&lt;/groupId&gt;\n  &lt;artifactId&gt;sms-client&lt;/artifactId&gt;\n  &lt;version&gt;0.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<pre><code>public void testsmpp() throws Exception {\n    SmsClientBuilder builder = new SmsClientBuilder();\n    SmsClient smsClient = builder.uri(&quot;smpp://127.0.0.1:18890?username=test01&amp;password=1qaz2wsx&amp;version=52&amp;window=32&amp;maxchannel=1&quot;)\n    .receiver(new MessageReceiver() {\n        public void receive(BaseMessage message) {\n            logger.info(&quot;receive : {}&quot;,message.toString());\n        }\n    }).build();\n    \n    for (int i = 0; i &lt; 5; i++) {\n        \n        SubmitSm pdu = new SubmitSm();\n        pdu.setRegisteredDelivery((byte)1);\n        pdu.setSourceAddress(new Address((byte)0,(byte)0,&quot;10086&quot;));\n        pdu.setDestAddress(new Address((byte)0,(byte)0,&quot;13800138000&quot;));\n        pdu.setSmsMsg(new SmsTextMessage(&quot;SmsTextMessage &quot; + i,SmsDcs.getGeneralDataCodingDcs(SmsAlphabet.GSM,SmsMsgClass.CLASS_UNKNOWN)));\n        try {\n            smsClient.send(pdu, 1000);\n        } catch (Exception e) {\n            logger.info(&quot;send &quot;, e);\n        }\n    }\n    Thread.sleep(5000000);\n}\n</code></pre>\n"}],"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672463082,"creation_date":1669892911,"question_id":74640896,"body_markdown":"Would be super grateful if someone can explain me how wait/notify/notifyAll works and if is there better solution for the problem I am facing. Basically, we have to send a bunch of SMS messages. For sending messages an object called SMPPSession is used but in this example I&#39;ll just use superficial code. SMPPSession is supposed to send messages to SMSC server and to reestablish session in situations when connection breaks.  I would like to use multiple threads for sending multiple messages, and to have a separate single thread, some sort of &quot;guardian&quot;/ &quot;watcher&quot;/&quot;notifier&quot;.  The role of that separate thread is to stop all other threads from executing their code, while it works on reestablishing session. Naturally, SMPPSession is shared among all these threads. Once that guardian finishes reconnecting, all other thread needs to continue with using the session and proceed with sending.\r\n\r\nNow, I have some code and getting exception. Any help?\r\n\r\nIn reality we do send real SMS messages using jsmpp library and inside it there is SMPPSession object.\r\n\r\n        public class SMPPSession {\r\n     \r\n        private boolean bind;\r\n        private static final Random idGenerator = new Random();\r\n     \r\n        public int sendMessage(String msg){\r\n           try{\r\n               Thread.sleep(1000L);\r\n               System.out.println(&quot;Sending message: &quot; + msg);\r\n               return Math.abs(idGenerator.nextInt());\r\n           } catch (InterruptedException e){\r\n               e.printStackTrace();\r\n           }\r\n            return -1;\r\n        }\r\n     \r\n        public void reBind(){\r\n            try{\r\n                System.out.println(&quot;Rebinding...&quot;);\r\n                Thread.sleep(1000L);\r\n                this.bind = true;\r\n                System.out.println(&quot;Session established!&quot;);\r\n            } catch (InterruptedException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n     \r\n        public boolean isBind(){\r\n            return this.bind;\r\n        }\r\n    }\r\n     \r\n    public class Sender extends Thread{\r\n     \r\n        private SMPPSession smppSession;\r\n     \r\n        public Sender(String name, SMPPSession smppSession){\r\n            this.setName(name);\r\n            this.smppSession = smppSession;\r\n        }\r\n     \r\n        @Override\r\n        public void run(){\r\n     \r\n            while (!Client.messages.isEmpty()){\r\n     \r\n                synchronized (Client.messages){\r\n     \r\n                        if (smppSession.isBind()){\r\n                            final String msg = Client.messages.remove(0);\r\n                            final int msgId = smppSession.sendMessage(msg);\r\n                            System.out.println(Thread.currentThread().getName() + &quot; sent msg and received msgId: &quot; + msgId);\r\n                            Client.messages.notifyAll();\r\n                    } else {\r\n                        try {\r\n                            Client.messages.wait();\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n     \r\n            }\r\n     \r\n        }\r\n    }\r\n     \r\n    public class SessionProducer extends Thread{\r\n     \r\n        private SMPPSession smppSession;\r\n     \r\n        public SessionProducer(String name, SMPPSession smppSession){\r\n            this.setName(name);\r\n            this.smppSession = smppSession;\r\n        }\r\n     \r\n        @Override\r\n        public void run(){\r\n     \r\n            while (!Client.messages.isEmpty()){\r\n     \r\n                synchronized (Client.messages){\r\n                    if (!smppSession.isBind()){\r\n                        smppSession.reBind();\r\n                        System.out.println(Thread.currentThread().getName() + &quot; managed to reestablish SMPP session.&quot;);\r\n                        Client.messages.notifyAll();\r\n                    } else{\r\n                        try {\r\n                            Client.messages.wait();\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n     \r\n            }\r\n     \r\n        }\r\n    }\r\n     \r\n    public class Client {\r\n     \r\n        public static final List&lt;String&gt; messages = new CopyOnWriteArrayList&lt;&gt;();\r\n     \r\n        public static void main(String[] args) {\r\n     \r\n            //populate messages from db\r\n            messages.add(&quot;msg1&quot;); messages.add(&quot;msg2&quot;); messages.add(&quot;msg3&quot;);  messages.add(&quot;msg4&quot;); messages.add(&quot;msg5&quot;); messages.add(&quot;msg6&quot;);\r\n     \r\n            SMPPSession smppSession = new SMPPSession();\r\n            SessionProducer sessionProducer = new SessionProducer(&quot;SessionProducer1&quot;, smppSession);\r\n            Sender sender1 = new Sender(&quot;Sender1&quot;, smppSession);\r\n            Sender sender2 = new Sender(&quot;Sender2&quot;, smppSession);\r\n            Sender sender3 = new Sender(&quot;Sender3&quot;, smppSession);\r\n            Sender sender4 = new Sender(&quot;Sender4&quot;, smppSession);\r\n     \r\n            sessionProducer.start();\r\n            sender1.start();\r\n            sender2.start();\r\n            sender3.start();\r\n            sender4.start();\r\n     \r\n        }\r\n    }\r\n     \r\n    Naturally, I get exception and have no idea why. Somehow threads are not in sync.\r\n     \r\n     \r\n    Rebinding...\r\n    Session established!\r\n    SessionProducer1 managed to reestablish SMPP session.\r\n    Sending message: msg1\r\n    Sender4 sent msg and received msgId: 432995458\r\n    Sending message: msg2\r\n    Sender4 sent msg and received msgId: 113629699\r\n    Sending message: msg3\r\n    Sender4 sent msg and received msgId: 611735717\r\n    Sending message: msg4\r\n    Sender4 sent msg and received msgId: 1234995659\r\n    Sending message: msg5\r\n    Sender4 sent msg and received msgId: 922228968\r\n    Sending message: msg6\r\n    Sender4 sent msg and received msgId: 2097204472\r\n    Exception in thread &quot;Sender2&quot; Exception in thread &quot;Sender1&quot; Exception in thread &quot;Sender3&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n        at java.base/java.util.concurrent.CopyOnWriteArrayList.elementAt(CopyOnWriteArrayList.java:385)\r\n        at java.base/java.util.concurrent.CopyOnWriteArrayList.remove(CopyOnWriteArrayList.java:478)\r\n        at demo.Sender.run(Sender.java:20)\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n        at java.base/java.util.concurrent.CopyOnWriteArrayList.elementAt(CopyOnWriteArrayList.java:385)\r\n        at java.base/java.util.concurrent.CopyOnWriteArrayList.remove(CopyOnWriteArrayList.java:478)\r\n        at demo.Sender.run(Sender.java:20)\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n        at java.base/java.util.concurrent.CopyOnWriteArrayList.elementAt(CopyOnWriteArrayList.java:385)\r\n        at java.base/java.util.concurrent.CopyOnWriteArrayList.remove(CopyOnWriteArrayList.java:478)\r\n        at demo.Sender.run(Sender.java:20)","title":"Wait and notify for sending bunch of messages","body":"<p>Would be super grateful if someone can explain me how wait/notify/notifyAll works and if is there better solution for the problem I am facing. Basically, we have to send a bunch of SMS messages. For sending messages an object called SMPPSession is used but in this example I'll just use superficial code. SMPPSession is supposed to send messages to SMSC server and to reestablish session in situations when connection breaks.  I would like to use multiple threads for sending multiple messages, and to have a separate single thread, some sort of &quot;guardian&quot;/ &quot;watcher&quot;/&quot;notifier&quot;.  The role of that separate thread is to stop all other threads from executing their code, while it works on reestablishing session. Naturally, SMPPSession is shared among all these threads. Once that guardian finishes reconnecting, all other thread needs to continue with using the session and proceed with sending.</p>\n<p>Now, I have some code and getting exception. Any help?</p>\n<p>In reality we do send real SMS messages using jsmpp library and inside it there is SMPPSession object.</p>\n<pre><code>    public class SMPPSession {\n \n    private boolean bind;\n    private static final Random idGenerator = new Random();\n \n    public int sendMessage(String msg){\n       try{\n           Thread.sleep(1000L);\n           System.out.println(&quot;Sending message: &quot; + msg);\n           return Math.abs(idGenerator.nextInt());\n       } catch (InterruptedException e){\n           e.printStackTrace();\n       }\n        return -1;\n    }\n \n    public void reBind(){\n        try{\n            System.out.println(&quot;Rebinding...&quot;);\n            Thread.sleep(1000L);\n            this.bind = true;\n            System.out.println(&quot;Session established!&quot;);\n        } catch (InterruptedException e){\n            e.printStackTrace();\n        }\n    }\n \n    public boolean isBind(){\n        return this.bind;\n    }\n}\n \npublic class Sender extends Thread{\n \n    private SMPPSession smppSession;\n \n    public Sender(String name, SMPPSession smppSession){\n        this.setName(name);\n        this.smppSession = smppSession;\n    }\n \n    @Override\n    public void run(){\n \n        while (!Client.messages.isEmpty()){\n \n            synchronized (Client.messages){\n \n                    if (smppSession.isBind()){\n                        final String msg = Client.messages.remove(0);\n                        final int msgId = smppSession.sendMessage(msg);\n                        System.out.println(Thread.currentThread().getName() + &quot; sent msg and received msgId: &quot; + msgId);\n                        Client.messages.notifyAll();\n                } else {\n                    try {\n                        Client.messages.wait();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n \n        }\n \n    }\n}\n \npublic class SessionProducer extends Thread{\n \n    private SMPPSession smppSession;\n \n    public SessionProducer(String name, SMPPSession smppSession){\n        this.setName(name);\n        this.smppSession = smppSession;\n    }\n \n    @Override\n    public void run(){\n \n        while (!Client.messages.isEmpty()){\n \n            synchronized (Client.messages){\n                if (!smppSession.isBind()){\n                    smppSession.reBind();\n                    System.out.println(Thread.currentThread().getName() + &quot; managed to reestablish SMPP session.&quot;);\n                    Client.messages.notifyAll();\n                } else{\n                    try {\n                        Client.messages.wait();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n \n        }\n \n    }\n}\n \npublic class Client {\n \n    public static final List&lt;String&gt; messages = new CopyOnWriteArrayList&lt;&gt;();\n \n    public static void main(String[] args) {\n \n        //populate messages from db\n        messages.add(&quot;msg1&quot;); messages.add(&quot;msg2&quot;); messages.add(&quot;msg3&quot;);  messages.add(&quot;msg4&quot;); messages.add(&quot;msg5&quot;); messages.add(&quot;msg6&quot;);\n \n        SMPPSession smppSession = new SMPPSession();\n        SessionProducer sessionProducer = new SessionProducer(&quot;SessionProducer1&quot;, smppSession);\n        Sender sender1 = new Sender(&quot;Sender1&quot;, smppSession);\n        Sender sender2 = new Sender(&quot;Sender2&quot;, smppSession);\n        Sender sender3 = new Sender(&quot;Sender3&quot;, smppSession);\n        Sender sender4 = new Sender(&quot;Sender4&quot;, smppSession);\n \n        sessionProducer.start();\n        sender1.start();\n        sender2.start();\n        sender3.start();\n        sender4.start();\n \n    }\n}\n \nNaturally, I get exception and have no idea why. Somehow threads are not in sync.\n \n \nRebinding...\nSession established!\nSessionProducer1 managed to reestablish SMPP session.\nSending message: msg1\nSender4 sent msg and received msgId: 432995458\nSending message: msg2\nSender4 sent msg and received msgId: 113629699\nSending message: msg3\nSender4 sent msg and received msgId: 611735717\nSending message: msg4\nSender4 sent msg and received msgId: 1234995659\nSending message: msg5\nSender4 sent msg and received msgId: 922228968\nSending message: msg6\nSender4 sent msg and received msgId: 2097204472\nException in thread &quot;Sender2&quot; Exception in thread &quot;Sender1&quot; Exception in thread &quot;Sender3&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at java.base/java.util.concurrent.CopyOnWriteArrayList.elementAt(CopyOnWriteArrayList.java:385)\n    at java.base/java.util.concurrent.CopyOnWriteArrayList.remove(CopyOnWriteArrayList.java:478)\n    at demo.Sender.run(Sender.java:20)\njava.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at java.base/java.util.concurrent.CopyOnWriteArrayList.elementAt(CopyOnWriteArrayList.java:385)\n    at java.base/java.util.concurrent.CopyOnWriteArrayList.remove(CopyOnWriteArrayList.java:478)\n    at demo.Sender.run(Sender.java:20)\njava.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at java.base/java.util.concurrent.CopyOnWriteArrayList.elementAt(CopyOnWriteArrayList.java:385)\n    at java.base/java.util.concurrent.CopyOnWriteArrayList.remove(CopyOnWriteArrayList.java:478)\n    at demo.Sender.run(Sender.java:20)\n</code></pre>\n"},{"tags":["java","android","kotlin","android-10.0"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1672443971,"post_id":74966551,"comment_id":132292505,"body_markdown":"This class helps me a lot, there&#39;s a method called rename check it out : https://github.com/Blankj/AndroidUtilCode/blob/66a4c0488ca6da273098058d70dabb0fe9b9bd8d/lib/utilcode/src/main/java/com/blankj/utilcode/util/FileUtils.java#L110","body":"This class helps me a lot, there&#39;s a method called rename check it out : <a href=\"https://github.com/Blankj/AndroidUtilCode/blob/66a4c0488ca6da273098058d70dabb0fe9b9bd8d/lib/utilcode/src/main/java/com/blankj/utilcode/util/FileUtils.java#L110\" rel=\"nofollow noreferrer\">github.com/Blankj/AndroidUtilCode/blob/&hellip;</a>"},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672445404,"post_id":74966551,"comment_id":132292693,"body_markdown":"Thanks of course, but the rename method doesn&#39;t work Android 10","body":"Thanks of course, but the rename method doesn&#39;t work Android 10"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1672445454,"post_id":74966551,"comment_id":132292698,"body_markdown":"you&#39;ve tried that code ? and still didn&#39;t work ?","body":"you&#39;ve tried that code ? and still didn&#39;t work ?"},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672446104,"post_id":74966551,"comment_id":132292777,"body_markdown":"Yes, of course, I tried, but nothing happened during the renaming","body":"Yes, of course, I tried, but nothing happened during the renaming"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672486055,"post_id":74966551,"comment_id":132297077,"body_markdown":"It is strange that you dont talk about File.exists() and File.canRead() and File.canWrite() like proposed in your other post.","body":"It is strange that you dont talk about File.exists() and File.canRead() and File.canWrite() like proposed in your other post."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672486093,"post_id":74966551,"comment_id":132297084,"body_markdown":"Also it is strange that you omit the needed request for legacy external storage.","body":"Also it is strange that you omit the needed request for legacy external storage."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672486289,"post_id":74966551,"comment_id":132297104,"body_markdown":"Confusing: using a variable with the name ext for a file name.","body":"Confusing: using a variable with the name ext for a file name."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672486395,"post_id":74966551,"comment_id":132297121,"body_markdown":"`lic static String dev(String path){\n    return path.replaceAll(&quot;^(.*)/.*?$&quot;,&quot;$1&quot;);\n}` Why are you posting such unreadable code? What should we do with it?","body":"<code>lic static String dev(String path){     return path.replaceAll(&quot;^(.*)&#47;.*?$&quot;,&quot;$1&quot;); }</code> Why are you posting such unreadable code? What should we do with it?"},{"owner":{"account_id":14338249,"reputation":3000,"user_id":10357086,"display_name":"Dev4Life"},"score":0,"creation_date":1682393870,"post_id":74966551,"comment_id":134204268,"body_markdown":"Have you tried `requestLegacyExternalStorage` ?","body":"Have you tried <code>requestLegacyExternalStorage</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672461106,"creation_date":1672461106,"answer_id":74967527,"question_id":74966551,"body_markdown":"In Android 10 and Higher Version of android, you can&#39;t `Rename` or `Delete` directly.\r\nFor `Rename` or `Delete` a media file you want to send a request.\r\n\r\nHere Read [Android Official Document][1] how to create a request \r\n\r\nFor your information, to Delete a media file Dependency [Available here][2] you can use it easily it&#39;s created by me \r\n\r\n`checkFile.renameTo(new File(dirIn, ext));` It Also Works for this you want to add `ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION` permission in your app but before using this permission please refer to Google Play Police Update \r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/MediaStore#createWriteRequest(android.content.ContentResolver,%20java.util.Collection%3Candroid.net.Uri%3E)\r\n  [2]: https://github.com/jcredking/Delete1","title":"File not being renamed in Android 10","body":"<p>In Android 10 and Higher Version of android, you can't <code>Rename</code> or <code>Delete</code> directly.\nFor <code>Rename</code> or <code>Delete</code> a media file you want to send a request.</p>\n<p>Here Read <a href=\"https://developer.android.com/reference/android/provider/MediaStore#createWriteRequest(android.content.ContentResolver,%20java.util.Collection%3Candroid.net.Uri%3E)\" rel=\"nofollow noreferrer\">Android Official Document</a> how to create a request</p>\n<p>For your information, to Delete a media file Dependency <a href=\"https://github.com/jcredking/Delete1\" rel=\"nofollow noreferrer\">Available here</a> you can use it easily it's created by me</p>\n<p><code>checkFile.renameTo(new File(dirIn, ext));</code> It Also Works for this you want to add <code>ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION</code> permission in your app but before using this permission please refer to Google Play Police Update</p>\n"}],"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672461106,"creation_date":1672442820,"question_id":74966551,"body_markdown":"I wrote a solution for renaming files, but nothing happens in Android 10, although in 11 and above it is renamed normally.\r\n\r\n    public class PathDiv {\r\n    public static String dev(String path){\r\n        return path.replaceAll(&quot;^(.*)/.*?$&quot;,&quot;$1&quot;);\r\n    }\r\n    \r\n    public static void renameFilesInDir(String path, String dirIn, String ext) {\r\n    \r\n        File checkFile = new File(path);\r\n            if (checkFile.isFile()) {\r\n                try {\r\n                    checkFile.renameTo(new File(dirIn, ext));\r\n    \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n        }\r\n    }\r\npath: /storage/emulated/0/Music/04. Kasger - Highland.mp3 dirIn: /storage/emulated/0/Music ext: Highland.mp3\r\n\r\n    PathDiv.renameFilesInDir(songItem.realUri,PathDiv.dev(songItem.realUri),newName.toString())\r\n\r\nWhat&#39;s the problem?","title":"File not being renamed in Android 10","body":"<p>I wrote a solution for renaming files, but nothing happens in Android 10, although in 11 and above it is renamed normally.</p>\n<pre><code>public class PathDiv {\npublic static String dev(String path){\n    return path.replaceAll(&quot;^(.*)/.*?$&quot;,&quot;$1&quot;);\n}\n\npublic static void renameFilesInDir(String path, String dirIn, String ext) {\n\n    File checkFile = new File(path);\n        if (checkFile.isFile()) {\n            try {\n                checkFile.renameTo(new File(dirIn, ext));\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n    }\n}\n</code></pre>\n<p>path: /storage/emulated/0/Music/04. Kasger - Highland.mp3 dirIn: /storage/emulated/0/Music ext: Highland.mp3</p>\n<pre><code>PathDiv.renameFilesInDir(songItem.realUri,PathDiv.dev(songItem.realUri),newName.toString())\n</code></pre>\n<p>What's the problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1672452061,"post_id":74967022,"comment_id":132293436,"body_markdown":"This [example](https://stackoverflow.com/questions/22188940/gif-image-doesnt-moves-on-adding-it-to-the-jtabbed-pane/22190844#22190844) extracts each frame from the gif, should be a starting point","body":"This <a href=\"https://stackoverflow.com/questions/22188940/gif-image-doesnt-moves-on-adding-it-to-the-jtabbed-pane/22190844#22190844\">example</a> extracts each frame from the gif, should be a starting point"}],"owner":{"account_id":27395254,"reputation":1,"user_id":20897567,"display_name":"HubbyLubbyMubby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672460827,"creation_date":1672450070,"question_id":74967022,"body_markdown":"I want to try and save all the frames from a GIF but it either doesn&#39;t write the image or if I try another method, it gives an error.\r\n\r\nI have \r\n```java\r\npublic static void encryptionGIF () throws IOException {\r\n    ImageReader GIFReader = (ImageReader)ImageIO.getImageReadersByFormatName(&quot;gif&quot;).next();\r\n    File input = new File(&quot;Test.gif&quot;);\r\n    ImageInputStream Stream = ImageIO.createImageInputStream(input);\r\n    GIFReader.setInput(Stream);\r\n    int frames = GIFReader.getNumImages(true);\r\n    for (int i = 0; i &lt; frames; i++) {\r\n        BufferedImage frame = GIFReader.getRawImageType(i).createBufferedImage(GIFReader.getWidth(i), GIFReader.getHeight(i));\r\n        File output = new File (&quot;Test&quot; + i + &quot;.png&quot;);\r\n        ImageIO.write(frame, &quot;.png&quot;, output);\r\n    }\r\n}\r\n```\r\nI have also tried replacing \r\n\r\n```java\r\nBufferedImage frame = GIFReader.getRawImageType(i).createBufferedImage(GIFReader.getWidth(i), GIFReader.getHeight(i));\r\n```\r\nwith\r\n```java\r\nBufferedImage frame = GIFReader.read(i);\r\n```\r\nand get the error:\r\n```none\r\nException in thread &quot;main&quot; javax.imageio.IIOException: I/O error reading image!\r\n\tat java.desktop/com.sun.imageio.plugins.gif.GIFImageReader.read(GIFImageReader.java:1046)\r\n\tat ReadAndWrite.encryptionGIF(ReadAndWrite.java:102)\r\n\tat ReadAndWrite.main(ReadAndWrite.java:109)\r\nCaused by: javax.imageio.IIOException: Code buffer limit reached, no End of Image tag present, possibly data is corrupted. \r\n\tat java.desktop/com.sun.imageio.plugins.gif.GIFImageReader.read(GIFImageReader.java:1011)\r\n\t... 2 more\r\n```\r\n","title":"Image frames from GIF not working properly","body":"<p>I want to try and save all the frames from a GIF but it either doesn't write the image or if I try another method, it gives an error.</p>\n<p>I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void encryptionGIF () throws IOException {\n    ImageReader GIFReader = (ImageReader)ImageIO.getImageReadersByFormatName(&quot;gif&quot;).next();\n    File input = new File(&quot;Test.gif&quot;);\n    ImageInputStream Stream = ImageIO.createImageInputStream(input);\n    GIFReader.setInput(Stream);\n    int frames = GIFReader.getNumImages(true);\n    for (int i = 0; i &lt; frames; i++) {\n        BufferedImage frame = GIFReader.getRawImageType(i).createBufferedImage(GIFReader.getWidth(i), GIFReader.getHeight(i));\n        File output = new File (&quot;Test&quot; + i + &quot;.png&quot;);\n        ImageIO.write(frame, &quot;.png&quot;, output);\n    }\n}\n</code></pre>\n<p>I have also tried replacing</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage frame = GIFReader.getRawImageType(i).createBufferedImage(GIFReader.getWidth(i), GIFReader.getHeight(i));\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage frame = GIFReader.read(i);\n</code></pre>\n<p>and get the error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; javax.imageio.IIOException: I/O error reading image!\n    at java.desktop/com.sun.imageio.plugins.gif.GIFImageReader.read(GIFImageReader.java:1046)\n    at ReadAndWrite.encryptionGIF(ReadAndWrite.java:102)\n    at ReadAndWrite.main(ReadAndWrite.java:109)\nCaused by: javax.imageio.IIOException: Code buffer limit reached, no End of Image tag present, possibly data is corrupted. \n    at java.desktop/com.sun.imageio.plugins.gif.GIFImageReader.read(GIFImageReader.java:1011)\n    ... 2 more\n</code></pre>\n"},{"tags":["java","elasticsearch","raspberry-pi","kibana"],"comments":[{"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"score":0,"creation_date":1672299941,"post_id":74948302,"comment_id":132261156,"body_markdown":"As I recall, the elastic search command you&#39;re running looks at a number of environment variables such as `$JAVA_HOME` and `$ES_JAVA_HOME` to determine where the JRE directory is. Could it be that these environment variables are not defined?","body":"As I recall, the elastic search command you&#39;re running looks at a number of environment variables such as <code>$JAVA_HOME</code> and <code>$ES_JAVA_HOME</code> to determine where the JRE directory is. Could it be that these environment variables are not defined?"},{"owner":{"account_id":6497440,"reputation":2026,"user_id":5029589,"accept_rate":56,"display_name":"arpit joshi"},"score":0,"creation_date":1672302085,"post_id":74948302,"comment_id":132261678,"body_markdown":"more ~/.bashrc , \nexport JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-armhf&quot;\nexport PATH=$PATH:$JAVA_HOME/bin","body":"more ~/.bashrc ,  export JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-armhf&quot; export PATH=$PATH:$JAVA_HOME/bin"},{"owner":{"account_id":6497440,"reputation":2026,"user_id":5029589,"accept_rate":56,"display_name":"arpit joshi"},"score":0,"creation_date":1672302550,"post_id":74948302,"comment_id":132261791,"body_markdown":"root@raspberrypi:/home/pi# echo $JAVA_HOME\n`/usr/lib/jvm/java-11-openjdk-armhf`","body":"root@raspberrypi:/home/pi# echo $JAVA_HOME <code>&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-armhf</code>"}],"owner":{"account_id":6497440,"reputation":2026,"user_id":5029589,"accept_rate":56,"display_name":"arpit joshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672460540,"creation_date":1672298596,"question_id":74948302,"body_markdown":"I am trying to install and run elasticsearch on my raspberry pi and when I execute the command `sudo service elasticsearch restart` I don&#39;t see elasticsearch running and when I check the status using the command `sudo service elasticsearch status` I see the below response \r\n\r\n```\r\nDec 28 23:15:32 raspberrypi systemd[1]: Starting LSB: Starts elasticsearch...\r\nDec 28 23:15:32 raspberrypi elasticsearch[21031]: [warning] /etc/init.d/elasticsearch: JVM flavor &#39;sun6&#39; not understood\r\nDec 28 23:15:32 raspberrypi elasticsearch[21031]: [warning] /etc/init.d/elasticsearch: No java runtime was found\r\nDec 28 23:15:32 raspberrypi systemd[1]: Started LSB: Starts elasticsearch.\r\n``` \r\n\r\nI have below java version installed on my raspberry pi \r\n\r\n```\r\nroot@raspberrypi:/home/pi# java --version\r\nopenjdk 11.0.11 2021-04-20\r\nOpenJDK Runtime Environment (build 11.0.11+9-post-Raspbian-1deb10u1)\r\nOpenJDK Server VM (build 11.0.11+9-post-Raspbian-1deb10u1, mixed mode)\r\n```\r\n\r\nNot sure if the issue is with Java version or elasticsearch version . Also on hitting curl localhost:9200 I get connection refused error. And on executing below `./bin/elasticsearch --version` I receive the error \r\n\r\n```\r\nroot@raspberrypi:/usr/share/elasticsearch# ./bin/elasticsearch --version\r\nOption requires an argument: &#39;--version&#39;.\r\nUnrecognized VM option &#39;UseParNewGC&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nNote : I am using Java 11 , is that a issue ? ","title":"ElasticSearch not running on raspberry pi","body":"<p>I am trying to install and run elasticsearch on my raspberry pi and when I execute the command <code>sudo service elasticsearch restart</code> I don't see elasticsearch running and when I check the status using the command <code>sudo service elasticsearch status</code> I see the below response</p>\n<pre><code>Dec 28 23:15:32 raspberrypi systemd[1]: Starting LSB: Starts elasticsearch...\nDec 28 23:15:32 raspberrypi elasticsearch[21031]: [warning] /etc/init.d/elasticsearch: JVM flavor 'sun6' not understood\nDec 28 23:15:32 raspberrypi elasticsearch[21031]: [warning] /etc/init.d/elasticsearch: No java runtime was found\nDec 28 23:15:32 raspberrypi systemd[1]: Started LSB: Starts elasticsearch.\n</code></pre>\n<p>I have below java version installed on my raspberry pi</p>\n<pre><code>root@raspberrypi:/home/pi# java --version\nopenjdk 11.0.11 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-post-Raspbian-1deb10u1)\nOpenJDK Server VM (build 11.0.11+9-post-Raspbian-1deb10u1, mixed mode)\n</code></pre>\n<p>Not sure if the issue is with Java version or elasticsearch version . Also on hitting curl localhost:9200 I get connection refused error. And on executing below <code>./bin/elasticsearch --version</code> I receive the error</p>\n<pre><code>root@raspberrypi:/usr/share/elasticsearch# ./bin/elasticsearch --version\nOption requires an argument: '--version'.\nUnrecognized VM option 'UseParNewGC'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>Note : I am using Java 11 , is that a issue ?</p>\n"},{"tags":["java","sql","postgresql","jooq","dynamicquery"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1672307010,"post_id":74904544,"comment_id":132262898,"body_markdown":"You just have to rename all the columns of the original query to `c1`, `c2`, ..., `cn` in the derived table, and then rename them back to the original name in the outer most query.","body":"You just have to rename all the columns of the original query to <code>c1</code>, <code>c2</code>, ..., <code>cn</code> in the derived table, and then rename them back to the original name in the outer most query."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1672351143,"post_id":74904544,"comment_id":132274718,"body_markdown":"@LukasEder that makes sense from a general SQL perspective (though the final order-by does need to continue to use the `c1` name, rather than the original `id` name), but how does one dynamically do this using jOOQ&#39;s API? That is, is it possible to write a method like `paginate()` that takes a `Select&lt;?&gt;` in this way, without mandating that the caller preprocess that select? Or is it possible for `paginate()` implementation to copy+modify the `original` Select to add those `as` expressions?","body":"@LukasEder that makes sense from a general SQL perspective (though the final order-by does need to continue to use the <code>c1</code> name, rather than the original <code>id</code> name), but how does one dynamically do this using jOOQ&#39;s API? That is, is it possible to write a method like <code>paginate()</code> that takes a <code>Select&lt;?&gt;</code> in this way, without mandating that the caller preprocess that select? Or is it possible for <code>paginate()</code> implementation to copy+modify the <code>original</code> Select to add those <code>as</code> expressions?"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1672396757,"post_id":74904544,"comment_id":132281812,"body_markdown":"It&#39;s certainly doable. Do you have a *specific* question that you&#39;re blocked with? Your question seems very open ended, and hard to answer as it is...","body":"It&#39;s certainly doable. Do you have a <i>specific</i> question that you&#39;re blocked with? Your question seems very open ended, and hard to answer as it is..."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1672430737,"post_id":74904544,"comment_id":132290186,"body_markdown":"I was trying to use the paginate() example as a specific case of dynamic sql + jooq&#39;s Record.into(), as a way to understand how to best layer/separate these concerns. I have a partial answer based on your thoughts so far, but it doesn&#39;t correctly map fields so that Record behaves as expected yet. I&#39;ll answer or update the question shortly based on what I work out.","body":"I was trying to use the paginate() example as a specific case of dynamic sql + jooq&#39;s Record.into(), as a way to understand how to best layer/separate these concerns. I have a partial answer based on your thoughts so far, but it doesn&#39;t correctly map fields so that Record behaves as expected yet. I&#39;ll answer or update the question shortly based on what I work out."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1672457750,"post_id":74904544,"comment_id":132293883,"body_markdown":"Short of forcing my paginate(..) callers be aware of the implementation details of the helper method, I wasn&#39;t able to find a way to make `Record.into(Table)` generally work. I&#39;ve added a small update to the question, and tried to rephrase both in concrete (&quot;how do I do X with Y&quot;) and more general (&quot;here&#39;s what i&#39;m trying to achieve&quot;) terms. Thanks for taking a look.","body":"Short of forcing my paginate(..) callers be aware of the implementation details of the helper method, I wasn&#39;t able to find a way to make <code>Record.into(Table)</code> generally work. I&#39;ve added a small update to the question, and tried to rephrase both in concrete (&quot;how do I do X with Y&quot;) and more general (&quot;here&#39;s what i&#39;m trying to achieve&quot;) terms. Thanks for taking a look."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1672572088,"post_id":74904544,"comment_id":132307006,"body_markdown":"In the spirit of Stack Overflow, rather than having a 5 page question with frequently amended details at the end, better ask a new, *very specific* question that can be answered very briefly. That way, both you and future visitors of this question will get more value out of the interaction. As far as I&#39;m concerned, I don&#39;t want to keep track of your step by step progress in such a complex topic. It would be too time consuming. Think about it this way: I would have to re-read the entire question again now. This is why I asked for a *specific* question.","body":"In the spirit of Stack Overflow, rather than having a 5 page question with frequently amended details at the end, better ask a new, <i>very specific</i> question that can be answered very briefly. That way, both you and future visitors of this question will get more value out of the interaction. As far as I&#39;m concerned, I don&#39;t want to keep track of your step by step progress in such a complex topic. It would be too time consuming. Think about it this way: I would have to re-read the entire question again now. This is why I asked for a <i>specific</i> question."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1672672789,"post_id":74904544,"comment_id":132324515,"body_markdown":"Of course - I had felt it was already specific enough, but this might mostly highlight how long it has been since I&#39;ve worked with jOOQ and SQL... Thank you again for taking a look.","body":"Of course - I had felt it was already specific enough, but this might mostly highlight how long it has been since I&#39;ve worked with jOOQ and SQL... Thank you again for taking a look."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1672676063,"post_id":74904544,"comment_id":132325422,"body_markdown":"In terms of specificity, there are a ton of edge cases to consider, which would take forever to get right in an answer. I just don&#39;t think the question really fits the Stack Overflow Q&amp;A format. Maybe this is more of a feature request? Though even there, it&#39;s hard to specify what particular set of edge cases should be addressed...","body":"In terms of specificity, there are a ton of edge cases to consider, which would take forever to get right in an answer. I just don&#39;t think the question really fits the Stack Overflow Q&amp;A format. Maybe this is more of a feature request? Though even there, it&#39;s hard to specify what particular set of edge cases should be addressed..."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1672686835,"post_id":74904544,"comment_id":132328175,"body_markdown":"This might in and of itself be the answer, that dynamic SQL of this type isn&#39;t really capable of (or intended for) what I&#39;m asking, without some other concessions, and my lack of familiarity here is blinding me to the downsides of what I thought I had put together.","body":"This might in and of itself be the answer, that dynamic SQL of this type isn&#39;t really capable of (or intended for) what I&#39;m asking, without some other concessions, and my lack of familiarity here is blinding me to the downsides of what I thought I had put together."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1672733267,"post_id":74904544,"comment_id":132335840,"body_markdown":"I don&#39;t think so. jOOQ&#39;s internals do these things all the time, e.g. to emulate `LIMIT` using window functions. It&#39;s just a bit more complex than a simple Q&amp;A if all the edge cases need to be considered.","body":"I don&#39;t think so. jOOQ&#39;s internals do these things all the time, e.g. to emulate <code>LIMIT</code> using window functions. It&#39;s just a bit more complex than a simple Q&amp;A if all the edge cases need to be considered."}],"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672457606,"creation_date":1671835567,"question_id":74904544,"body_markdown":"I&#39;m following a [jOOQ blog post about paging metadata][1], and trying to implement it generally for a project. It demonstrates how to generically take an existing `Select&lt;?&gt;` and wrap it up to contain information about the current page, and how many other pages exist:\r\n\r\n&gt; ```java\r\n&gt; public static Select&lt;?&gt; paginate(\r\n&gt;     DSLContext ctx,\r\n&gt;     Select&lt;?&gt; original,\r\n&gt;     Field&lt;?&gt;[] sort,\r\n&gt;     int limit,\r\n&gt;     int offset ) {\r\n&gt;     Table&lt;?&gt; u = original.asTable(&quot;u&quot;);\r\n&gt;     Field&lt;Integer&gt; totalRows = count().over().as(&quot;total_rows&quot;);\r\n&gt;     Field&lt;Integer&gt; row = rowNumber().over().orderBy(u.fields(sort))\r\n&gt;         .as(&quot;row&quot;);\r\n&gt;  \r\n&gt;     Table&lt;?&gt; t = ctx\r\n&gt;         .select(u.asterisk())\r\n&gt;         .select(totalRows, row)\r\n&gt;         .from(u)\r\n&gt;         .orderBy(u.fields(sort))\r\n&gt;         .limit(limit)\r\n&gt;         .offset(offset)\r\n&gt;         .asTable(&quot;t&quot;);\r\n&gt;  \r\n&gt;     Select&lt;?&gt; result = ctx\r\n&gt;         .select(t.fields(original.getSelect().toArray(Field[]::new)))\r\n&gt;         .select(\r\n&gt;             count().over().as(&quot;actual_page_size&quot;),\r\n&gt;             field(max(t.field(row)).over().eq(t.field(totalRows)))\r\n&gt;                 .as(&quot;last_page&quot;),\r\n&gt;             t.field(totalRows),\r\n&gt;             t.field(row),\r\n&gt;             t.field(row).minus(inline(1)).div(limit).plus(inline(1))\r\n&gt;                 .as(&quot;current_page&quot;))\r\n&gt;         .from(t)\r\n&gt;         .orderBy(t.fields(sort));\r\n&gt;  \r\n&gt;     // System.out.println(result);\r\n&gt;     return result;\r\n&gt; } \r\n&gt; ```\r\n&gt; And here’s how you call the utility: \r\n&gt; ```\r\n&gt; java System.out.println(\r\n&gt;     paginate(\r\n&gt;         ctx,\r\n&gt;         ctx.select(ACTOR.ACTOR_ID, ACTOR.FIRST_NAME, ACTOR.LAST_NAME)\r\n&gt;            .from(ACTOR),\r\n&gt;         new Field[] { ACTOR.ACTOR_ID },\r\n&gt;         15,\r\n&gt;         30\r\n&gt;     ).fetch() ); \r\n&gt;```\r\n&gt; \r\n&gt; Notice that you can plug in arbitrary SQL fragments into that utility and paginate them. Irrespective of the complexity (including joins, other window functions, grouping, recursion, and what not), jOOQ will have you covered and will now paginate things for you.\r\n\r\n\r\nThis works nicely for simple cases, but I am finding that it fails in any case where two columns happen to have the same name across joins - normally, the `record.into(FooRecord.class)` and `record.into(BarRecord.class)` would extract those columns and make them separately available to the caller.\r\n\r\nFor example, given two tables, `foo` and `bar`, where both have an `id` column, and `bar` has a `foo_id` foreign key. Then, I can write:\r\n\r\n```java\r\nvar select = ctx\r\n   .select(FOO.fields())\r\n   .select(BAR.fields())\r\n   .from(BAR)\r\n   .leftJoin(FOO).on(BAR.FOO_ID.eq(FOO.ID));\r\n\r\n// Render the SQL\r\nSystem.out.println(select);\r\nvar data = select.fetch();\r\n\r\n// Show the full query&#39;s results, then the fields that came from FOO and BAR\r\nSystem.out.println(data);\r\nSystem.out.println(data.get(2).into(FOO));\r\nSystem.out.println(data.get(2).into(BAR));\r\n```\r\n\r\nResults:\r\n```\r\nselect &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot;\r\nfrom &quot;myschema&quot;.&quot;bar&quot;\r\n  left outer join &quot;myschema&quot;.&quot;foo&quot;\r\n    on &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot; = &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;\r\n+----+----+------+\r\n|  id|  id|foo_id|\r\n+----+----+------+\r\n|   1|   1|     1|\r\n|   2|   2|     2|\r\n|   2|   3|     2|\r\n+----+----+------+\r\n\r\n+----+\r\n|  id|\r\n+----+\r\n|   2|\r\n+----+\r\n\r\n+----+------+\r\n|  id|foo_id|\r\n+----+------+\r\n|   3|     2|\r\n+----+------+\r\n```\r\n\r\nBoth jOOQ and the database (Postgres in this case) are happy with this, despite having more than one column with the same name.\r\n\r\nNext, I try to pass this `Select&lt;?&gt;` to the paginate() method above:\r\n```\r\nvar pagedSelect = paginate(ctx, original, new Field[] { FOO.ID }, 10, 0);\r\n\r\nSystem.out.println(pagedSelect);\r\nvar pagedData = pagedSelect.fetch();//error\r\n```\r\n\r\n```\r\nselect\r\n  &quot;t&quot;.&quot;id&quot;,\r\n  &quot;t&quot;.&quot;id&quot;,\r\n  &quot;t&quot;.&quot;foo_id&quot;,\r\n  count(*) over () as &quot;actual_page_size&quot;,\r\n  (max(&quot;t&quot;.&quot;row&quot;) over () = &quot;t&quot;.&quot;total_rows&quot;) as &quot;last_page&quot;,\r\n  &quot;t&quot;.&quot;total_rows&quot;,\r\n  &quot;t&quot;.&quot;row&quot;,\r\n  (((&quot;t&quot;.&quot;row&quot; - 1) / 10) + 1) as &quot;current_page&quot;\r\nfrom (\r\n  select\r\n    &quot;u&quot;.*,\r\n    count(*) over () as &quot;total_rows&quot;,\r\n    row_number() over (order by &quot;u&quot;.&quot;id&quot;) as &quot;row&quot;\r\n  from (\r\n    select &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot;\r\n    from &quot;myschema&quot;.&quot;bar&quot;\r\n      left outer join &quot;myschema&quot;.&quot;foo&quot;\r\n        on &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot; = &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;\r\n  ) as &quot;u&quot;\r\n  order by &quot;u&quot;.&quot;id&quot;\r\n  offset 0 rows\r\n  fetch next 10 rows only\r\n) as &quot;t&quot;\r\norder by &quot;t&quot;.&quot;id&quot;\r\n\r\n```\r\n\r\n```\r\nERROR: column referenced &quot;id&quot; is ambiguous\r\n```\r\n\r\nMy naive approach was to first try to modify `paginate(...)` to make the outer-most `SELECT` reference the fully qualified fields, table and all, but since we&#39;re querying from an anonymous table, that doesn&#39;t work, same error (though for a different reason, since now jOOQ is generating an alias for `original`.\r\n\r\nNext I considered trying to visit `original` and create a copy of it, using `AS` to rename columns as f1, f2, f3, but I couldn&#39;t find a straightforward way to do this rewrite. Even if this had worked, it would make it hard to map them back again from the caller, which would need to then know the order of all the .select()ed fields to be able to find them again - and since the `original` might have itself been built from other dynamic SQL operations, that might not be feasible.\r\n\r\nFinally I considered an approach where every column of every table was already qualified with the table name already, but beyond this being onerous, it also doesn&#39;t help at all in cases where a table could be joined twice into the same query.\r\n\r\nWhat&#39;s the correct dynamic SQL approach with jOOQ to make it possible to wrap a query with pagination, and still map records back to their individual tables?\r\n\r\n--\r\n\r\n*EDIT: Based on the comments, I&#39;ve modified the query from the blog post, and while this actually emits runnable SQL, the premise of the blog post still seems faulty, and still eludes me.*\r\n\r\n&gt; Irrespective of the complexity (including joins, other window functions, grouping, recursion, and what not), jOOQ will have you covered and will now paginate things for you.\r\n\r\nIn this iteration, the `as` syntax for the nested selects now come with renamed columns, and the outer query uses those column names. In an attempt to still permit `Record.into(Table)` to work, it maps back again to the original columns, in order:\r\n\r\n```java\r\n  public static Select&lt;?&gt; paginate(\r\n          DSLContext ctx,\r\n          Select&lt;?&gt; original,\r\n          Field&lt;?&gt;[] sort,\r\n          int limit,\r\n          int offset ) {\r\n    Map&lt;List&lt;String&gt;, String&gt; aliases = new LinkedHashMap&lt;&gt;();\r\n    List&lt;Field&lt;?&gt;&gt; reverseAlias = new ArrayList&lt;&gt;();\r\n\r\n    List&lt;Field&lt;?&gt;&gt; select = original.getSelect();\r\n    for (int i = 0; i &lt; select.size(); i++) {\r\n      Field&lt;?&gt; field = select.get(i);\r\n      aliases.put(Arrays.asList(field.getQualifiedName().getName()), &quot;c&quot; + i);\r\n    }\r\n\r\n    Table&lt;?&gt; u = original.asTable(&quot;u&quot;, aliases.values().toArray(String[]::new));\r\n    Field&lt;Integer&gt; totalRows = count().over().as(&quot;total_rows&quot;);\r\n    String[] sortFieldNames = Arrays.stream(sort).map(o -&gt; aliases.get(Arrays.asList(o.getQualifiedName().getName()))).toArray(String[]::new);\r\n    Field&lt;Integer&gt; row = rowNumber().over().orderBy(u.fields(sortFieldNames))\r\n            .as(&quot;row&quot;);\r\n\r\n    Table&lt;?&gt; t = ctx.select(u.asterisk())\r\n            .select(totalRows, row)\r\n            .from(u)\r\n            .orderBy(u.fields(sortFieldNames))\r\n            .limit(limit)\r\n            .offset(offset)\r\n            .asTable(&quot;t&quot;);\r\n\r\n    for (int i = 0; i &lt; select.size(); i++) {\r\n      Field&lt;?&gt; field = select.get(i);\r\n      reverseAlias.add(t.field(&quot;c&quot; + i).as(field.getName()));\r\n    }\r\n\r\n    Select&lt;?&gt; result = ctx\r\n            .select(reverseAlias)\r\n            .select(\r\n                    count().over().as(&quot;actual_page_size&quot;),\r\n                    field(max(t.field(row)).over().eq(t.field(totalRows)))\r\n                            .as(&quot;last_page&quot;),\r\n                    t.field(totalRows),\r\n                    t.field(row),\r\n                    t.field(row).minus(inline(1)).div(limit).plus(inline(1))\r\n                            .as(&quot;current_page&quot;))\r\n            .from(t)\r\n            .orderBy(t.fields(sortFieldNames));\r\n\r\n    return result;\r\n  }\r\n```\r\nThis generates the following SQL:\r\n```sql\r\nselect\r\n  &quot;t&quot;.&quot;c1&quot; as &quot;id&quot;,\r\n  &quot;t&quot;.&quot;c2&quot; as &quot;id&quot;,\r\n  &quot;t&quot;.&quot;c3&quot; as &quot;foo_id&quot;,\r\n  count(*) over () as &quot;actual_page_size&quot;,\r\n  (max(&quot;t&quot;.&quot;row&quot;) over () = &quot;t&quot;.&quot;total_rows&quot;) as &quot;last_page&quot;,\r\n  &quot;t&quot;.&quot;total_rows&quot;,\r\n  &quot;t&quot;.&quot;row&quot;,\r\n  (((&quot;t&quot;.&quot;row&quot; - 1) / 10) + 1) as &quot;current_page&quot;\r\nfrom (\r\n  select\r\n    &quot;u&quot;.*,\r\n    count(*) over () as &quot;total_rows&quot;,\r\n    row_number() over (order by &quot;u&quot;.&quot;c1&quot;) as &quot;row&quot;\r\n  from (\r\n    select &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot;\r\n    from &quot;myschema&quot;.&quot;bar&quot;\r\n      left outer join &quot;myschema&quot;.&quot;foo&quot;\r\n        on &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot; = &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;\r\n  ) as &quot;u&quot; (&quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;)\r\n  order by &quot;u&quot;.&quot;c1&quot;\r\n  offset 0 rows\r\n  fetch next 10 rows only\r\n) as &quot;t&quot;\r\norder by &quot;t&quot;.&quot;c1&quot;\r\n```\r\nNote that as in the initial result sets, the first two columns are still labeled as `id`. However, `Record.into(Table)` no longer has the context it needs to understand that the first `id` column is for the `foo` table, and the second is for the `bar` table:\r\n\r\n```\r\n+----+----+------+----------------+---------+----------+----+------------+\r\n|  id|  id|foo_id|actual_page_size|last_page|total_rows| row|current_page|\r\n+----+----+------+----------------+---------+----------+----+------------+\r\n|   1|   1|     1|               3|true     |         3|   1|           1|\r\n|   2|   2|     2|               3|true     |         3|   2|           1|\r\n|   2|   3|     2|               3|true     |         3|   3|           1|\r\n+----+----+------+----------------+---------+----------+----+------------+\r\n\r\n+----+\r\n|  id|\r\n+----+\r\n|   2|\r\n+----+\r\n\r\n+----+------+\r\n|  id|foo_id|\r\n+----+------+\r\n|   2|     2|\r\n+----+------+\r\n```\r\nSo, to put the question in concrete terms: Is there a way to indicate to jOOQ that a `Select&lt;?&gt;`&#39;s fields should be mapped to a particular Table?\r\n\r\nAnd, as a more general question, but less subject to the X/Y problem: How can this paginate() method actually be used as in the example, with joins, where the joined tables have colliding column names? Is there a problem with this strategy of building up a query dynamically, and is there another strategy that can be followed instead, without this shortcoming?\r\n\r\n  [1]: https://blog.jooq.org/calculating-pagination-metadata-without-extra-roundtrips-in-sql/\r\n\r\n","title":"Dynamic SQL via jOOQ for paginating joined tables with same-named columns","body":"<p>I'm following a <a href=\"https://blog.jooq.org/calculating-pagination-metadata-without-extra-roundtrips-in-sql/\" rel=\"nofollow noreferrer\">jOOQ blog post about paging metadata</a>, and trying to implement it generally for a project. It demonstrates how to generically take an existing <code>Select&lt;?&gt;</code> and wrap it up to contain information about the current page, and how many other pages exist:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public static Select&lt;?&gt; paginate(\n    DSLContext ctx,\n    Select&lt;?&gt; original,\n    Field&lt;?&gt;[] sort,\n    int limit,\n    int offset ) {\n    Table&lt;?&gt; u = original.asTable(&quot;u&quot;);\n    Field&lt;Integer&gt; totalRows = count().over().as(&quot;total_rows&quot;);\n    Field&lt;Integer&gt; row = rowNumber().over().orderBy(u.fields(sort))\n        .as(&quot;row&quot;);\n \n    Table&lt;?&gt; t = ctx\n        .select(u.asterisk())\n        .select(totalRows, row)\n        .from(u)\n        .orderBy(u.fields(sort))\n        .limit(limit)\n        .offset(offset)\n        .asTable(&quot;t&quot;);\n \n    Select&lt;?&gt; result = ctx\n        .select(t.fields(original.getSelect().toArray(Field[]::new)))\n        .select(\n            count().over().as(&quot;actual_page_size&quot;),\n            field(max(t.field(row)).over().eq(t.field(totalRows)))\n                .as(&quot;last_page&quot;),\n            t.field(totalRows),\n            t.field(row),\n            t.field(row).minus(inline(1)).div(limit).plus(inline(1))\n                .as(&quot;current_page&quot;))\n        .from(t)\n        .orderBy(t.fields(sort));\n \n    // System.out.println(result);\n    return result;\n} \n</code></pre>\n<p>And here’s how you call the utility:</p>\n<pre><code>java System.out.println(\n    paginate(\n        ctx,\n        ctx.select(ACTOR.ACTOR_ID, ACTOR.FIRST_NAME, ACTOR.LAST_NAME)\n           .from(ACTOR),\n        new Field[] { ACTOR.ACTOR_ID },\n        15,\n        30\n    ).fetch() ); \n</code></pre>\n<p>Notice that you can plug in arbitrary SQL fragments into that utility and paginate them. Irrespective of the complexity (including joins, other window functions, grouping, recursion, and what not), jOOQ will have you covered and will now paginate things for you.</p>\n</blockquote>\n<p>This works nicely for simple cases, but I am finding that it fails in any case where two columns happen to have the same name across joins - normally, the <code>record.into(FooRecord.class)</code> and <code>record.into(BarRecord.class)</code> would extract those columns and make them separately available to the caller.</p>\n<p>For example, given two tables, <code>foo</code> and <code>bar</code>, where both have an <code>id</code> column, and <code>bar</code> has a <code>foo_id</code> foreign key. Then, I can write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var select = ctx\n   .select(FOO.fields())\n   .select(BAR.fields())\n   .from(BAR)\n   .leftJoin(FOO).on(BAR.FOO_ID.eq(FOO.ID));\n\n// Render the SQL\nSystem.out.println(select);\nvar data = select.fetch();\n\n// Show the full query's results, then the fields that came from FOO and BAR\nSystem.out.println(data);\nSystem.out.println(data.get(2).into(FOO));\nSystem.out.println(data.get(2).into(BAR));\n</code></pre>\n<p>Results:</p>\n<pre><code>select &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot;\nfrom &quot;myschema&quot;.&quot;bar&quot;\n  left outer join &quot;myschema&quot;.&quot;foo&quot;\n    on &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot; = &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;\n+----+----+------+\n|  id|  id|foo_id|\n+----+----+------+\n|   1|   1|     1|\n|   2|   2|     2|\n|   2|   3|     2|\n+----+----+------+\n\n+----+\n|  id|\n+----+\n|   2|\n+----+\n\n+----+------+\n|  id|foo_id|\n+----+------+\n|   3|     2|\n+----+------+\n</code></pre>\n<p>Both jOOQ and the database (Postgres in this case) are happy with this, despite having more than one column with the same name.</p>\n<p>Next, I try to pass this <code>Select&lt;?&gt;</code> to the paginate() method above:</p>\n<pre><code>var pagedSelect = paginate(ctx, original, new Field[] { FOO.ID }, 10, 0);\n\nSystem.out.println(pagedSelect);\nvar pagedData = pagedSelect.fetch();//error\n</code></pre>\n<pre><code>select\n  &quot;t&quot;.&quot;id&quot;,\n  &quot;t&quot;.&quot;id&quot;,\n  &quot;t&quot;.&quot;foo_id&quot;,\n  count(*) over () as &quot;actual_page_size&quot;,\n  (max(&quot;t&quot;.&quot;row&quot;) over () = &quot;t&quot;.&quot;total_rows&quot;) as &quot;last_page&quot;,\n  &quot;t&quot;.&quot;total_rows&quot;,\n  &quot;t&quot;.&quot;row&quot;,\n  (((&quot;t&quot;.&quot;row&quot; - 1) / 10) + 1) as &quot;current_page&quot;\nfrom (\n  select\n    &quot;u&quot;.*,\n    count(*) over () as &quot;total_rows&quot;,\n    row_number() over (order by &quot;u&quot;.&quot;id&quot;) as &quot;row&quot;\n  from (\n    select &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot;\n    from &quot;myschema&quot;.&quot;bar&quot;\n      left outer join &quot;myschema&quot;.&quot;foo&quot;\n        on &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot; = &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;\n  ) as &quot;u&quot;\n  order by &quot;u&quot;.&quot;id&quot;\n  offset 0 rows\n  fetch next 10 rows only\n) as &quot;t&quot;\norder by &quot;t&quot;.&quot;id&quot;\n\n</code></pre>\n<pre><code>ERROR: column referenced &quot;id&quot; is ambiguous\n</code></pre>\n<p>My naive approach was to first try to modify <code>paginate(...)</code> to make the outer-most <code>SELECT</code> reference the fully qualified fields, table and all, but since we're querying from an anonymous table, that doesn't work, same error (though for a different reason, since now jOOQ is generating an alias for <code>original</code>.</p>\n<p>Next I considered trying to visit <code>original</code> and create a copy of it, using <code>AS</code> to rename columns as f1, f2, f3, but I couldn't find a straightforward way to do this rewrite. Even if this had worked, it would make it hard to map them back again from the caller, which would need to then know the order of all the .select()ed fields to be able to find them again - and since the <code>original</code> might have itself been built from other dynamic SQL operations, that might not be feasible.</p>\n<p>Finally I considered an approach where every column of every table was already qualified with the table name already, but beyond this being onerous, it also doesn't help at all in cases where a table could be joined twice into the same query.</p>\n<p>What's the correct dynamic SQL approach with jOOQ to make it possible to wrap a query with pagination, and still map records back to their individual tables?</p>\n<p>--</p>\n<p><em>EDIT: Based on the comments, I've modified the query from the blog post, and while this actually emits runnable SQL, the premise of the blog post still seems faulty, and still eludes me.</em></p>\n<blockquote>\n<p>Irrespective of the complexity (including joins, other window functions, grouping, recursion, and what not), jOOQ will have you covered and will now paginate things for you.</p>\n</blockquote>\n<p>In this iteration, the <code>as</code> syntax for the nested selects now come with renamed columns, and the outer query uses those column names. In an attempt to still permit <code>Record.into(Table)</code> to work, it maps back again to the original columns, in order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static Select&lt;?&gt; paginate(\n          DSLContext ctx,\n          Select&lt;?&gt; original,\n          Field&lt;?&gt;[] sort,\n          int limit,\n          int offset ) {\n    Map&lt;List&lt;String&gt;, String&gt; aliases = new LinkedHashMap&lt;&gt;();\n    List&lt;Field&lt;?&gt;&gt; reverseAlias = new ArrayList&lt;&gt;();\n\n    List&lt;Field&lt;?&gt;&gt; select = original.getSelect();\n    for (int i = 0; i &lt; select.size(); i++) {\n      Field&lt;?&gt; field = select.get(i);\n      aliases.put(Arrays.asList(field.getQualifiedName().getName()), &quot;c&quot; + i);\n    }\n\n    Table&lt;?&gt; u = original.asTable(&quot;u&quot;, aliases.values().toArray(String[]::new));\n    Field&lt;Integer&gt; totalRows = count().over().as(&quot;total_rows&quot;);\n    String[] sortFieldNames = Arrays.stream(sort).map(o -&gt; aliases.get(Arrays.asList(o.getQualifiedName().getName()))).toArray(String[]::new);\n    Field&lt;Integer&gt; row = rowNumber().over().orderBy(u.fields(sortFieldNames))\n            .as(&quot;row&quot;);\n\n    Table&lt;?&gt; t = ctx.select(u.asterisk())\n            .select(totalRows, row)\n            .from(u)\n            .orderBy(u.fields(sortFieldNames))\n            .limit(limit)\n            .offset(offset)\n            .asTable(&quot;t&quot;);\n\n    for (int i = 0; i &lt; select.size(); i++) {\n      Field&lt;?&gt; field = select.get(i);\n      reverseAlias.add(t.field(&quot;c&quot; + i).as(field.getName()));\n    }\n\n    Select&lt;?&gt; result = ctx\n            .select(reverseAlias)\n            .select(\n                    count().over().as(&quot;actual_page_size&quot;),\n                    field(max(t.field(row)).over().eq(t.field(totalRows)))\n                            .as(&quot;last_page&quot;),\n                    t.field(totalRows),\n                    t.field(row),\n                    t.field(row).minus(inline(1)).div(limit).plus(inline(1))\n                            .as(&quot;current_page&quot;))\n            .from(t)\n            .orderBy(t.fields(sortFieldNames));\n\n    return result;\n  }\n</code></pre>\n<p>This generates the following SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select\n  &quot;t&quot;.&quot;c1&quot; as &quot;id&quot;,\n  &quot;t&quot;.&quot;c2&quot; as &quot;id&quot;,\n  &quot;t&quot;.&quot;c3&quot; as &quot;foo_id&quot;,\n  count(*) over () as &quot;actual_page_size&quot;,\n  (max(&quot;t&quot;.&quot;row&quot;) over () = &quot;t&quot;.&quot;total_rows&quot;) as &quot;last_page&quot;,\n  &quot;t&quot;.&quot;total_rows&quot;,\n  &quot;t&quot;.&quot;row&quot;,\n  (((&quot;t&quot;.&quot;row&quot; - 1) / 10) + 1) as &quot;current_page&quot;\nfrom (\n  select\n    &quot;u&quot;.*,\n    count(*) over () as &quot;total_rows&quot;,\n    row_number() over (order by &quot;u&quot;.&quot;c1&quot;) as &quot;row&quot;\n  from (\n    select &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;id&quot;, &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot;\n    from &quot;myschema&quot;.&quot;bar&quot;\n      left outer join &quot;myschema&quot;.&quot;foo&quot;\n        on &quot;myschema&quot;.&quot;bar&quot;.&quot;foo_id&quot; = &quot;myschema&quot;.&quot;foo&quot;.&quot;id&quot;\n  ) as &quot;u&quot; (&quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;)\n  order by &quot;u&quot;.&quot;c1&quot;\n  offset 0 rows\n  fetch next 10 rows only\n) as &quot;t&quot;\norder by &quot;t&quot;.&quot;c1&quot;\n</code></pre>\n<p>Note that as in the initial result sets, the first two columns are still labeled as <code>id</code>. However, <code>Record.into(Table)</code> no longer has the context it needs to understand that the first <code>id</code> column is for the <code>foo</code> table, and the second is for the <code>bar</code> table:</p>\n<pre><code>+----+----+------+----------------+---------+----------+----+------------+\n|  id|  id|foo_id|actual_page_size|last_page|total_rows| row|current_page|\n+----+----+------+----------------+---------+----------+----+------------+\n|   1|   1|     1|               3|true     |         3|   1|           1|\n|   2|   2|     2|               3|true     |         3|   2|           1|\n|   2|   3|     2|               3|true     |         3|   3|           1|\n+----+----+------+----------------+---------+----------+----+------------+\n\n+----+\n|  id|\n+----+\n|   2|\n+----+\n\n+----+------+\n|  id|foo_id|\n+----+------+\n|   2|     2|\n+----+------+\n</code></pre>\n<p>So, to put the question in concrete terms: Is there a way to indicate to jOOQ that a <code>Select&lt;?&gt;</code>'s fields should be mapped to a particular Table?</p>\n<p>And, as a more general question, but less subject to the X/Y problem: How can this paginate() method actually be used as in the example, with joins, where the joined tables have colliding column names? Is there a problem with this strategy of building up a query dynamically, and is there another strategy that can be followed instead, without this shortcoming?</p>\n"},{"tags":["java","currency"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1659433520,"post_id":73205333,"comment_id":129288224,"body_markdown":"This is down to how your terminal displays unicode characters.","body":"This is down to how your terminal displays unicode characters."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1659433524,"post_id":73205333,"comment_id":129288228,"body_markdown":"Works on my machine, output: `￥1,234,567.89`… Does your console support the symbol?","body":"Works on my machine, output: <code>￥1,234,567.89</code>… Does your console support the symbol?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1659433645,"post_id":73205333,"comment_id":129288259,"body_markdown":"Your application likely works fine, but the application that displays the output (some terminal? cmd.exe?) cannot display that thing correctly and instead prints a `?`.","body":"Your application likely works fine, but the application that displays the output (some terminal? cmd.exe?) cannot display that thing correctly and instead prints a <code>?</code>."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1659433831,"post_id":73205333,"comment_id":129288319,"body_markdown":"System.out uses a non-Unicode encoding or font on your PC that cannot handle the yuan. Try printing `&quot;￥&quot;` directly.","body":"System.out uses a non-Unicode encoding or font on your PC that cannot handle the yuan. Try printing <code>&quot;￥&quot;</code> directly."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1659434661,"post_id":73205333,"comment_id":129288605,"body_markdown":"1) where is that output being done? command line? which system? ... 2) Windows and DOS-box: try `chcp 65001` before running the program (see this question [Change default code page of Windows console to UTF-8](https://superuser.com/q/269818) or my preference: [Change CodePage in CMD permanently?](https://stackoverflow.com/a/56091362/16320675)); for IDE console: depends on the IDE settings","body":"1) where is that output being done? command line? which system? ... 2) Windows and DOS-box: try <code>chcp 65001</code> before running the program (see this question <a href=\"https://superuser.com/q/269818\">Change default code page of Windows console to UTF-8</a> or my preference: <a href=\"https://stackoverflow.com/a/56091362/16320675\">Change CodePage in CMD permanently?</a>); for IDE console: depends on the IDE settings"}],"answers":[{"tags":[],"owner":{"account_id":12150944,"reputation":21,"user_id":10942119,"display_name":"Matthew Staton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672457354,"creation_date":1672438108,"answer_id":74966150,"question_id":73205333,"body_markdown":"Use **DecimalFormat** instead of NumberFormat. This has currency support and will display the correct symbol for you. \r\n\r\n```java\r\nSystem.out.println(DecimalFormat.getCurrencyInstance(Locale.CHINA).format(1234567.891));\r\n```","title":"Why my currency format cannot display the correct currency symbol?","body":"<p>Use <strong>DecimalFormat</strong> instead of NumberFormat. This has currency support and will display the correct symbol for you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(DecimalFormat.getCurrencyInstance(Locale.CHINA).format(1234567.891));\n</code></pre>\n"}],"owner":{"account_id":25955725,"reputation":35,"user_id":19673127,"display_name":"Cao Dingjie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672457354,"creation_date":1659433373,"question_id":73205333,"body_markdown":"I am using `NumberFormat.getCurrencyInstance(Locale.CHINA)` to get a Chinese currency symbol, but it always displays a &quot;?&quot; instead of the symbol of the Chinese yuan. \r\n\r\nFor example, here is my code:\r\n```java\r\nNumberFormat currency = NumberFormat.getCurrencyInstance(Locale.CHINA);\r\nString result = currency.format(1234567.891);\r\nSystem.out.println(result);\r\n```\r\nThen I run the code, and it displays: `?1,234,567.891`\r\n\r\nI found others asked similar questions before but most of the advice is to use other codes instead. I just want to know why this happened to me because my friends use the same code and their computers display the correct form. Could it be a plug-in problem? What do I need to do? I am a beginner in java, thank you all for your help.","title":"Why my currency format cannot display the correct currency symbol?","body":"<p>I am using <code>NumberFormat.getCurrencyInstance(Locale.CHINA)</code> to get a Chinese currency symbol, but it always displays a &quot;?&quot; instead of the symbol of the Chinese yuan.</p>\n<p>For example, here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NumberFormat currency = NumberFormat.getCurrencyInstance(Locale.CHINA);\nString result = currency.format(1234567.891);\nSystem.out.println(result);\n</code></pre>\n<p>Then I run the code, and it displays: <code>?1,234,567.891</code></p>\n<p>I found others asked similar questions before but most of the advice is to use other codes instead. I just want to know why this happened to me because my friends use the same code and their computers display the correct form. Could it be a plug-in problem? What do I need to do? I am a beginner in java, thank you all for your help.</p>\n"},{"tags":["java","dictionary","hashmap"],"comments":[{"owner":{"account_id":1626752,"reputation":9002,"user_id":1502148,"accept_rate":25,"display_name":"G&#225;bor Bakos"},"score":1,"creation_date":1393758637,"post_id":22126787,"comment_id":33570850,"body_markdown":"Wrap the keys with an object that overrides the equals/hashCode properly.","body":"Wrap the keys with an object that overrides the equals/hashCode properly."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1393758932,"post_id":22126787,"comment_id":33570951,"body_markdown":"... or use TIntArrayList, which wraps an `int[]`","body":"... or use TIntArrayList, which wraps an <code>int[]</code>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1424956225,"post_id":22126787,"comment_id":45769376,"body_markdown":"possible duplicate of [Can a java array be used as a HashMap key](http://stackoverflow.com/questions/16839182/can-a-java-array-be-used-as-a-hashmap-key)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16839182/can-a-java-array-be-used-as-a-hashmap-key\">Can a java array be used as a HashMap key</a>"}],"answers":[{"tags":[],"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393758627,"creation_date":1393758627,"answer_id":22126800,"question_id":22126787,"body_markdown":"The problem is that `int[]` uses object identity for `equals()` and `hashCode()`, so it won&#39;t work with Map in java. You can use `List&lt;Integer&gt;` instead.\r\n\r\nList&#39;s [`hashCode()`][1] API says\r\n\r\n&gt; Returns the hash code value for this list. The hash code of a list is\r\n&gt; defined to be the result of the following calculation:\r\n&gt;   \r\n&gt; \r\n&gt;     int hashCode = 1;\r\n&gt;       Iterator&lt;E&gt; i = list.iterator();\r\n&gt;       while (i.hasNext()) {\r\n&gt;           E obj = i.next();\r\n&gt;           hashCode = 31*hashCode + (obj==null ? 0 : obj.hashCode());\r\n&gt;       }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/List.html#hashCode%28%29","title":"HashMap&lt;int[],string&gt; mapping integer array by considering their values","body":"<p>The problem is that <code>int[]</code> uses object identity for <code>equals()</code> and <code>hashCode()</code>, so it won't work with Map in java. You can use <code>List&lt;Integer&gt;</code> instead.</p>\n\n<p>List's <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html#hashCode%28%29\" rel=\"nofollow\"><code>hashCode()</code></a> API says</p>\n\n<blockquote>\n  <p>Returns the hash code value for this list. The hash code of a list is\n  defined to be the result of the following calculation:</p>\n\n<pre><code>int hashCode = 1;\n  Iterator&lt;E&gt; i = list.iterator();\n  while (i.hasNext()) {\n      E obj = i.next();\n      hashCode = 31*hashCode + (obj==null ? 0 : obj.hashCode());\n  }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1393758680,"creation_date":1393758680,"answer_id":22126808,"question_id":22126787,"body_markdown":"No way to do that with arrays, because they don&#39;t override equals() and hashCode(). You should define your own class wrapping the array, which would override `equals()` and `hashCode()` or use a `List&lt;Integer&gt;` as key instead.","title":"HashMap&lt;int[],string&gt; mapping integer array by considering their values","body":"<p>No way to do that with arrays, because they don't override equals() and hashCode(). You should define your own class wrapping the array, which would override <code>equals()</code> and <code>hashCode()</code> or use a <code>List&lt;Integer&gt;</code> as key instead.</p>\n"},{"tags":[],"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1393758694,"creation_date":1393758694,"answer_id":22126813,"question_id":22126787,"body_markdown":"Wrap them in a custom object, and use `Arrays.equals(array1, array2)` for equality. From the api:\r\n\r\n&gt; Returns true if the two specified arrays of ints are equal to one\r\n&gt; another. Two arrays are considered equal if both arrays contain the\r\n&gt; same number of elements, and all corresponding pairs of elements in\r\n&gt; the two arrays are equal. In other words, two arrays are equal if they\r\n&gt; contain the same elements in the same order. Also, two array\r\n&gt; references are considered equal if both are null.","title":"HashMap&lt;int[],string&gt; mapping integer array by considering their values","body":"<p>Wrap them in a custom object, and use <code>Arrays.equals(array1, array2)</code> for equality. From the api:</p>\n\n<blockquote>\n  <p>Returns true if the two specified arrays of ints are equal to one\n  another. Two arrays are considered equal if both arrays contain the\n  same number of elements, and all corresponding pairs of elements in\n  the two arrays are equal. In other words, two arrays are equal if they\n  contain the same elements in the same order. Also, two array\n  references are considered equal if both are null.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2431730,"reputation":1425,"user_id":2122484,"accept_rate":75,"display_name":"Naveen Ramawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393759945,"creation_date":1393759945,"answer_id":22126997,"question_id":22126787,"body_markdown":"Arrays class use the default equels and hashcode of Object class but it provide another methods called deepHashCode and deepEquls that actually work on the array contains. You can create a class like below that hold your array and the hashcode and equals will be implemented using deepHashCode and deepEquals. Instead of direct array use this class.\r\n\r\n\r\n    class MyArray {        \r\n        private Integer[] arrayInstance;\r\n\r\n        public void setArray(Integer[] a) {\r\n                this.arrayInstance = a;\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n                final int prime = 31;\r\n                int result = 1;\r\n                result = prime * result + Arrays.deepHashCode(arrayInstance);\r\n                return result;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n                if (this == obj)\r\n                        return true;\r\n                if (obj == null)\r\n                        return false;\r\n                if (getClass() != obj.getClass())\r\n                        return false;\r\n                MyArray other = (MyArray) obj;\r\n                if (!Arrays.deepEquals(arrayInstance, other.arrayInstance))\r\n                        return false;\r\n                return true;\r\n        }\r\n    }\r\n\r\n\r\nThis is how you can use this class\r\n\r\n        Integer[] a = {1,2,3,4};\r\n        Integer[] b = {1,2,3,4};\r\n        \r\n        MyArray m1 = new MyArray();\r\n        m1.setArray(a);\r\n        \r\n        MyArray m2 = new MyArray();\r\n        m2.setArray(b);\r\n        \r\n        Map&lt;MyArray, String&gt; m = new HashMap&lt;MyArray, String&gt;();\r\n        m.put(m1, &quot;M1&quot;);\r\n        m.put(m2, &quot;M2&quot;);\r\n        \r\n        System.out.println(m.size()); // It would be one","title":"HashMap&lt;int[],string&gt; mapping integer array by considering their values","body":"<p>Arrays class use the default equels and hashcode of Object class but it provide another methods called deepHashCode and deepEquls that actually work on the array contains. You can create a class like below that hold your array and the hashcode and equals will be implemented using deepHashCode and deepEquals. Instead of direct array use this class.</p>\n\n<pre><code>class MyArray {        \n    private Integer[] arrayInstance;\n\n    public void setArray(Integer[] a) {\n            this.arrayInstance = a;\n    }\n\n    @Override\n    public int hashCode() {\n            final int prime = 31;\n            int result = 1;\n            result = prime * result + Arrays.deepHashCode(arrayInstance);\n            return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n            if (this == obj)\n                    return true;\n            if (obj == null)\n                    return false;\n            if (getClass() != obj.getClass())\n                    return false;\n            MyArray other = (MyArray) obj;\n            if (!Arrays.deepEquals(arrayInstance, other.arrayInstance))\n                    return false;\n            return true;\n    }\n}\n</code></pre>\n\n<p>This is how you can use this class</p>\n\n<pre><code>    Integer[] a = {1,2,3,4};\n    Integer[] b = {1,2,3,4};\n\n    MyArray m1 = new MyArray();\n    m1.setArray(a);\n\n    MyArray m2 = new MyArray();\n    m2.setArray(b);\n\n    Map&lt;MyArray, String&gt; m = new HashMap&lt;MyArray, String&gt;();\n    m.put(m1, \"M1\");\n    m.put(m2, \"M2\");\n\n    System.out.println(m.size()); // It would be one\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3857426,"reputation":41,"user_id":3195979,"display_name":"pankaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672457174,"creation_date":1672457174,"answer_id":74967333,"question_id":22126787,"body_markdown":"One approach is to define your own class wrapping the array, which would override equals() and hashCode() as shown below: \r\n\r\n    class CustomArrayClass {\r\n        int[] array;\r\n        CustomArrayClass(int n){\r\n            array = new int[n];\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj){\r\n            if(obj==null || !(obj instanceof CustomArrayClass)){\r\n                return false;\r\n            }\r\n            if(this == obj){\r\n                return true;\r\n            }\r\n            CustomArrayClass sec = (CustomArrayClass) obj;\r\n            return Arrays.equals(this.array, sec.array);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Arrays.hashCode(this.array);\r\n        }\r\n    \r\n        @Override\r\n        public String toString(){\r\n            return Arrays.toString(this.array);\r\n        }\r\n    }\r\n\r\n","title":"HashMap&lt;int[],string&gt; mapping integer array by considering their values","body":"<p>One approach is to define your own class wrapping the array, which would override equals() and hashCode() as shown below:</p>\n<pre><code>class CustomArrayClass {\n    int[] array;\n    CustomArrayClass(int n){\n        array = new int[n];\n    }\n\n    @Override\n    public boolean equals(Object obj){\n        if(obj==null || !(obj instanceof CustomArrayClass)){\n            return false;\n        }\n        if(this == obj){\n            return true;\n        }\n        CustomArrayClass sec = (CustomArrayClass) obj;\n        return Arrays.equals(this.array, sec.array);\n    }\n\n    @Override\n    public int hashCode() {\n        return Arrays.hashCode(this.array);\n    }\n\n    @Override\n    public String toString(){\n        return Arrays.toString(this.array);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1621220,"reputation":17673,"user_id":1497720,"accept_rate":41,"display_name":"william007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3001,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1672457174,"creation_date":1393758509,"question_id":22126787,"body_markdown":"Given the following code, I get a `null` (what I want is &quot;1234&quot;). But I wish to have a map that could consider the key as equals, if the contents of `int[]` are equals (rather than consider that the references of `int[]`), how should I do it?\r\n\r\n\r\n    HashMap&lt;int[], String&gt; maps=new HashMap&lt;int[], String&gt;();\r\n    int[] i=new int[]{1,2,3};\r\n    int[] j=new int[]{1,2,3};\r\n    maps.put(i,&quot;1234&quot;);\r\n    System.out.print(maps.get(j));\r\n\r\n\r\nI am opened to any map that allows keeping `int[]` as the key (including `TreeMap`) and so on, with the side condition that if that does not hamper on the effectiveness of the map accessing time.","title":"HashMap&lt;int[],string&gt; mapping integer array by considering their values","body":"<p>Given the following code, I get a <code>null</code> (what I want is \"1234\"). But I wish to have a map that could consider the key as equals, if the contents of <code>int[]</code> are equals (rather than consider that the references of <code>int[]</code>), how should I do it?</p>\n\n<pre><code>HashMap&lt;int[], String&gt; maps=new HashMap&lt;int[], String&gt;();\nint[] i=new int[]{1,2,3};\nint[] j=new int[]{1,2,3};\nmaps.put(i,\"1234\");\nSystem.out.print(maps.get(j));\n</code></pre>\n\n<p>I am opened to any map that allows keeping <code>int[]</code> as the key (including <code>TreeMap</code>) and so on, with the side condition that if that does not hamper on the effectiveness of the map accessing time.</p>\n"},{"tags":["java","android-studio","serialization","model","weka"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671159507,"creation_date":1671159507,"answer_id":74819739,"question_id":74814977,"body_markdown":"You need to use the [readAll](https://weka.sourceforge.io/doc.dev/weka/core/SerializationHelper.html#readAll-java.io.InputStream-) method, in order to return **model and dataset header** that the model was trained with. That method reads two objects, if possible, from the `java.io.ObjectInputStream` instance it generates for the supplied `java.io.InputStream` instance. The objects get returned as an Object array.\r\n\r\nThe [read](https://weka.sourceforge.io/doc.dev/weka/core/SerializationHelper.html#read-java.io.InputStream-) method only returns the model, i.e., the first object from the `java.io.ObjectInputStream`.","title":"Accessing .model file in Android Studio","body":"<p>You need to use the <a href=\"https://weka.sourceforge.io/doc.dev/weka/core/SerializationHelper.html#readAll-java.io.InputStream-\" rel=\"nofollow noreferrer\">readAll</a> method, in order to return <strong>model and dataset header</strong> that the model was trained with. That method reads two objects, if possible, from the <code>java.io.ObjectInputStream</code> instance it generates for the supplied <code>java.io.InputStream</code> instance. The objects get returned as an Object array.</p>\n<p>The <a href=\"https://weka.sourceforge.io/doc.dev/weka/core/SerializationHelper.html#read-java.io.InputStream-\" rel=\"nofollow noreferrer\">read</a> method only returns the model, i.e., the first object from the <code>java.io.ObjectInputStream</code>.</p>\n"}],"owner":{"account_id":25862709,"reputation":1,"user_id":19594924,"display_name":"ferrariMorene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672455774,"creation_date":1671123081,"question_id":74814977,"body_markdown":"I want to know how I can access the instances from the pretrained model created in Android Studio. \r\n\r\nhere is my sample code:\r\n\r\n`Classifier mClassifier = weka.core.SerializationHelper.read(assetManager.open(&quot;iris_model_logistic_allfeatures.model&quot;))`\r\n","title":"Accessing .model file in Android Studio","body":"<p>I want to know how I can access the instances from the pretrained model created in Android Studio.</p>\n<p>here is my sample code:</p>\n<p><code>Classifier mClassifier = weka.core.SerializationHelper.read(assetManager.open(&quot;iris_model_logistic_allfeatures.model&quot;))</code></p>\n"},{"tags":["java","swing","jpanel","awt","jbutton"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672455647,"creation_date":1672454836,"answer_id":74967241,"question_id":74967226,"body_markdown":"Regarding, \r\n&gt; I can&#39;t modify my button ...\r\n\r\nYes, you can, but that is not what your code is trying to do. Inside your nested for loop, you have this line:\r\n\r\n```\r\np.add(jb[i][j]);\r\n```\r\n\r\nwhich adds a JButton object that has already been created and placed in the `jb` array. So the JButtons in the JPanel *are the same ones that have been added to the 2D array*.\r\n\r\nBut later, change the object that the array element refers to here:\r\n```\r\njb[10][10]=b;\r\n```\r\n\r\nWhen you do this, the JButton in the array at position [10][10] is no longer the same object, and so you are not &quot;modifying the JButton&quot; but rather are swapping references in one object that holds references to the JButton, the 2D array, *but not in the other object that holds references to the buttons*, the JPanel. So now the array and the JPanel have discordant references at that position. \r\n\r\nInstead, to do what you desire, you must explicitly *change the state* of the button that already exists and is already held by ***both*** the JPanel and the array:\r\n\r\n```\r\n// *** not this ***\r\n// JButton b=new JButton();\r\n// b.setIcon(new ImageIcon(getClass().getResource(&quot;i2.jpg&quot;)));\r\n// jb[10][10]=b;\r\n\r\n// *** but instead THIS ***\r\nIcon icon = new ImageIcon(getClass().getResource(&quot;i2.jpg&quot;));\r\njb[10][10].setIcon(icon); // change the state, not the reference\r\n```","title":"I can&#39;t modify my JButton after having initialized it in the JPanel","body":"<p>Regarding,</p>\n<blockquote>\n<p>I can't modify my button ...</p>\n</blockquote>\n<p>Yes, you can, but that is not what your code is trying to do. Inside your nested for loop, you have this line:</p>\n<pre><code>p.add(jb[i][j]);\n</code></pre>\n<p>which adds a JButton object that has already been created and placed in the <code>jb</code> array. So the JButtons in the JPanel <em>are the same ones that have been added to the 2D array</em>.</p>\n<p>But later, change the object that the array element refers to here:</p>\n<pre><code>jb[10][10]=b;\n</code></pre>\n<p>When you do this, the JButton in the array at position [10][10] is no longer the same object, and so you are not &quot;modifying the JButton&quot; but rather are swapping references in one object that holds references to the JButton, the 2D array, <em>but not in the other object that holds references to the buttons</em>, the JPanel. So now the array and the JPanel have discordant references at that position.</p>\n<p>Instead, to do what you desire, you must explicitly <em>change the state</em> of the button that already exists and is already held by <em><strong>both</strong></em> the JPanel and the array:</p>\n<pre><code>// *** not this ***\n// JButton b=new JButton();\n// b.setIcon(new ImageIcon(getClass().getResource(&quot;i2.jpg&quot;)));\n// jb[10][10]=b;\n\n// *** but instead THIS ***\nIcon icon = new ImageIcon(getClass().getResource(&quot;i2.jpg&quot;));\njb[10][10].setIcon(icon); // change the state, not the reference\n</code></pre>\n"}],"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74967241,"answer_count":1,"score":1,"last_activity_date":1672455647,"creation_date":1672454508,"question_id":74967226,"body_markdown":"```\r\nimport javax.swing.;\r\nimport java.awt.;\r\n\r\npublic class Space extends JFrame {\r\n   \r\n\r\n    private JButton[][] jb;\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    Space frame = new Space();\r\n                    frame.setVisible(true);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create the frame.\r\n     */\r\n    public Space() {\r\n         JPanel contentPane=new JPanel();\r\n         contentPane.setLayout(new BorderLayout(0, 0));\r\n         JPanel p=new JPanel();\r\n         contentPane.add(p);\r\n\r\n         setContentPane(contentPane);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setBounds(100, 100, 450, 300);\r\n\r\n        p.setLayout(new GridLayout(20,20));\r\n        jb=new JButton[20][20];\r\n        for(int i=0;i&lt;jb.length;i++) {\r\n            for(int j=0;j&lt;jb[i].length;j++) {\r\n                jb[i][j]=new JButton();\r\n                jb[i][j].setIcon(new ImageIcon(getClass().getResource(&quot;i1.jpg&quot;)));\r\n                p.add(jb[i][j]);\r\n            }\r\n        }\r\n        JButton b=new JButton();\r\n        b.setIcon(new ImageIcon(getClass().getResource(&quot;i2.jpg&quot;)));\r\n        jb[10][10]=b; // when i set this cell, when i run, the icon of jb[10][10] didn&#39;t modified\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\ni tried that to modify my button jb\\[10\\]\\[10\\] but when i run all button have the same icon, i want that the button share all values of b the icon too\r\n\r\n  i created a 20x20 matrice of button using gridlayout . And the problem is at the bottom, when i want to modify the button already initialized..","title":"I can&#39;t modify my JButton after having initialized it in the JPanel","body":"<pre><code>import javax.swing.;\nimport java.awt.;\n\npublic class Space extends JFrame {\n   \n\n    private JButton[][] jb;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Space frame = new Space();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public Space() {\n         JPanel contentPane=new JPanel();\n         contentPane.setLayout(new BorderLayout(0, 0));\n         JPanel p=new JPanel();\n         contentPane.add(p);\n\n         setContentPane(contentPane);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n\n        p.setLayout(new GridLayout(20,20));\n        jb=new JButton[20][20];\n        for(int i=0;i&lt;jb.length;i++) {\n            for(int j=0;j&lt;jb[i].length;j++) {\n                jb[i][j]=new JButton();\n                jb[i][j].setIcon(new ImageIcon(getClass().getResource(&quot;i1.jpg&quot;)));\n                p.add(jb[i][j]);\n            }\n        }\n        JButton b=new JButton();\n        b.setIcon(new ImageIcon(getClass().getResource(&quot;i2.jpg&quot;)));\n        jb[10][10]=b; // when i set this cell, when i run, the icon of jb[10][10] didn't modified\n\n\n\n    }\n\n}\n</code></pre>\n<p>i tried that to modify my button jb[10][10] but when i run all button have the same icon, i want that the button share all values of b the icon too</p>\n<p>i created a 20x20 matrice of button using gridlayout . And the problem is at the bottom, when i want to modify the button already initialized..</p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin","android-5.0-lollipop"],"comments":[{"owner":{"account_id":293426,"reputation":4041,"user_id":596708,"accept_rate":70,"display_name":"ffleandro"},"score":0,"creation_date":1495834782,"post_id":41483770,"comment_id":75433409,"body_markdown":"did you find a solution? I&#39;m having same problems","body":"did you find a solution? I&#39;m having same problems"},{"owner":{"account_id":6210433,"reputation":76,"user_id":4836878,"display_name":"Ionut-Mihai Nicula"},"score":0,"creation_date":1496759006,"post_id":41483770,"comment_id":75784908,"body_markdown":"I think this helped me : -keep class com.squareup.okhttp.** { *; }\n-keep interface com.squareup.okhttp.** { *; }\n-dontwarn com.squareup.okhttp.** Write them in the progruard-rules","body":"I think this helped me : -keep class com.squareup.okhttp.** { <i>; } -keep interface com.squareup.okhttp.*</i> { <i>; } -dontwarn com.squareup.okhttp.*</i> Write them in the progruard-rules"}],"answers":[{"tags":[],"owner":{"account_id":4314127,"reputation":892,"user_id":7267105,"accept_rate":50,"display_name":"Sadiq Md Asif"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1483615573,"creation_date":1483615573,"answer_id":41483855,"question_id":41483770,"body_markdown":"\r\nYou need to install `Multidex` to run `picasso` on lower devices\r\n\r\npublic class MyApplication extends Application {\r\n\r\n     @Override\r\n    protected void attachBaseContext(Context base) {\r\n        super.attachBaseContext(base);\r\n        MultiDex.install(base);\r\n       }\r\n    }\r\n\r\nadd this in your `manifest` under `application` tag\r\n\r\n    android:name=&quot;your.package.name.MyApplication&quot;","title":"Only on Lollipop: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/squareup/picasso/Picasso;","body":"<p>You need to install <code>Multidex</code> to run <code>picasso</code> on lower devices</p>\n\n<p>public class MyApplication extends Application {</p>\n\n<pre><code> @Override\nprotected void attachBaseContext(Context base) {\n    super.attachBaseContext(base);\n    MultiDex.install(base);\n   }\n}\n</code></pre>\n\n<p>add this in your <code>manifest</code> under <code>application</code> tag</p>\n\n<pre><code>android:name=\"your.package.name.MyApplication\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7814076,"reputation":857,"user_id":5909385,"display_name":"Krupa Kakkad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483615616,"creation_date":1483615616,"answer_id":41483867,"question_id":41483770,"body_markdown":"If you are using fabric then please remove dependency of picasso from gradle, it will work fine.Try it...","title":"Only on Lollipop: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/squareup/picasso/Picasso;","body":"<p>If you are using fabric then please remove dependency of picasso from gradle, it will work fine.Try it...</p>\n"},{"tags":[],"owner":{"account_id":9120957,"reputation":109,"user_id":6786381,"display_name":"Max"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1672455471,"creation_date":1497436492,"answer_id":44542299,"question_id":41483770,"body_markdown":"If `publishNonDefault true` was defined in libs build.gradle, please remove it or make it false. Please try. I have resolved this issue by removing  `publishNonDefault true` in build.gradle of lib which occurred `NoClassDefFoundError`.\r\n\r\nIf not working, please add \r\n\r\n    dexOptions {\r\n        preDexLibraries false\r\n    }","title":"Only on Lollipop: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/squareup/picasso/Picasso;","body":"<p>If <code>publishNonDefault true</code> was defined in libs build.gradle, please remove it or make it false. Please try. I have resolved this issue by removing  <code>publishNonDefault true</code> in build.gradle of lib which occurred <code>NoClassDefFoundError</code>.</p>\n<p>If not working, please add</p>\n<pre><code>dexOptions {\n    preDexLibraries false\n}\n</code></pre>\n"}],"owner":{"account_id":6210433,"reputation":76,"user_id":4836878,"display_name":"Ionut-Mihai Nicula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2798,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1672455471,"creation_date":1483615337,"question_id":41483770,"body_markdown":"I encounter this problem only on lollipop version. I can run the app easily on versions above lollipop. The error shows up when I run the app in my application file:\r\n\r\n       java.lang.NoClassDefFoundError: Failed resolution of: Lcom/squareup/picasso/Picasso;\r\n                                                                     at aroundwise.nepi.MyApplication.onCreate(MyApplication.java:44)\r\n                                                                     at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1020)\r\n                                                                     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5122)\r\n                                                                     at android.app.ActivityThread.access$1600(ActivityThread.java:177)\r\n                                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1510)\r\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                     at android.os.Looper.loop(Looper.java:145)\r\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:5951)\r\n                                                                     at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                     at java.lang.reflect.Method.invoke(Method.java:372)\r\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)\r\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)\r\n                                                                  Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.squareup.picasso.Picasso&quot; on path: DexPathList[[zip file &quot;/data/app/aroundwise.nepi-2/base.apk&quot;],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\r\n                                                                     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n                                                                     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\r\n                                                                     at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\r\n                                                                     at aroundwise.nepi.MyApplication.onCreate(MyApplication.java:44)&#160;\r\n                                                                     at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1020)&#160;\r\n                                                                     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5122)&#160;\r\n                                                                     at android.app.ActivityThread.access$1600(ActivityThread.java:177)&#160;\r\n                                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1510)&#160;\r\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n                                                                     at android.os.Looper.loop(Looper.java:145)&#160;\r\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:5951)&#160;\r\n                                                                     at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                     at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)&#160;\r\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)&#160;\r\n                                                                 \tSuppressed: java.lang.ClassNotFoundException: com.squareup.picasso.Picasso\r\n                                                                     at java.lang.Class.classForName(Native Method)\r\n                                                                     at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\r\n                                                                     at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\r\n                                                                     at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\r\n                                                                     \t\t... 13 more\r\n                                                                  Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\r\n\r\nHere is my Application file:\r\n\r\n    public class MyApplication extends Application {\r\n\r\n    private static ComplexPreferences sharedPreferences;\r\n    public static MyApplication instance;\r\n    AroundWiseSDK aroundWiseSDK;\r\n    private Picasso picasso;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        sharedPreferences = ComplexPreferences.getComplexPreferences(getBaseContext(), Constants.PREFFERENCES, MODE_PRIVATE);\r\n        CalligraphyConfig.initDefault(new CalligraphyConfig.Builder()\r\n                .setDefaultFontPath(&quot;fonts/ProximaNova-Regular.otf&quot;)\r\n                .setFontAttrId(R.attr.fontPath)\r\n                .build());\r\n\r\n        Callbacks c = new Callbacks();\r\n        instance = this;\r\n        HashMap&lt;String, String&gt; clientData = new HashMap&lt;&gt;();\r\n        clientData.put(&quot;key_placeholder&quot;, &quot;value_placeholder&quot;);\r\n\r\n        picasso = Picasso.with(getApplicationContext());\r\n        aroundWiseSDK = new AroundWiseSDK(getBaseContext(), this, c, false, &quot;https://promenada.aroundwise.com&quot;, clientData);\r\n        aroundWiseSDK.setMainActivity(DiscoverActivity.class);\r\n        aroundWiseSDK.bindBackgroundService();\r\n\r\n\r\n    }\r\n\r\n    public Picasso getPicasso() {\r\n        return picasso;\r\n    }\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context base) {\r\n        super.attachBaseContext(base);\r\n      //  MultiDex.install(base);\r\n    }\r\n\r\n\r\n    public static ComplexPreferences getSharedPreferences(Context context) {\r\n        if (sharedPreferences == null) {\r\n            sharedPreferences = ComplexPreferences.getComplexPreferences(context, Constants.PREFFERENCES, MODE_PRIVATE);\r\n        }\r\n        return sharedPreferences;\r\n    }\r\n}\r\n\r\n\r\nThis is my gradle: \r\n\r\n    buildscript {\r\n    repositories {\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n        jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        // The Fabric Gradle plugin uses an open ended version to react\r\n        // quickly to Android tooling updates\r\n        classpath &#39;io.fabric.tools:gradle:1.+&#39;\r\n        classpath &#39;com.getkeepsafe.dexcount:dexcount-gradle-plugin:0.6.2&#39;\r\n    }\r\n}\r\n\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;android-apt&#39;\r\n    apply plugin: &#39;io.fabric&#39;\r\n    apply plugin: &#39;com.getkeepsafe.dexcount&#39;\r\n    \r\n    \r\n    repositories {\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n    }\r\n    \r\n    \r\n    android {\r\n        compileSdkVersion 24\r\n    buildToolsVersion &quot;25.0.1&quot;\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n        exclude &#39;META-INF/BCKEY.DSA&#39;\r\n        exclude &#39;AUTHORS&#39;\r\n        exclude &#39;META-INF/services/javax.annotation.processing.Processor&#39; // butterknife\r\n        exclude &#39;META-INF/BCKEY.SF&#39;\r\n        exclude &#39;META-INF/maven/com.google.guava/guava/pom.properties&#39;\r\n        exclude &#39;META-INF/maven/com.google.guava/guava/pom.xml&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;aroundwise.nepi&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 24\r\n        versionCode 1\r\n        versionName &quot;1.1.8&quot;\r\n        multiDexEnabled true\r\n\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            //multiDexKeepFile file(&#39;multidex-config.txt&#39;)\r\n          // multiDexKeepProguard file(&#39;multidex-config.pro&#39;)\r\n\r\n        }\r\n\r\n        debug {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n           // multiDexKeepFile file(&#39;multidex-config.txt&#39;)\r\n      //      multiDexKeepProguard file(&#39;multidex-config.pro&#39;)\r\n\r\n        }\r\n    }\r\n\r\n    applicationVariants.all { variant -&gt;\r\n        variant.outputs.each { output -&gt;\r\n            def apk = output.outputFile;\r\n            def newName;\r\n\r\n            if (variant.buildType.name == &quot;release&quot;) {\r\n                newName = apk.name.replace(&quot;app-debug&quot;, &quot;-release-Nepi&quot; + &quot;-v&quot; + defaultConfig.versionName + &quot;.apk&quot;);\r\n            } else {\r\n                newName = apk.name.replace(&quot;app-debug.apk&quot;, &quot;-Nepi&quot; + &quot;-v&quot; + defaultConfig.versionName + &quot;.apk&quot;);\r\n            }\r\n\r\n\r\n            output.outputFile = new File(apk.parentFile, newName);\r\n\r\n            if (variant.buildType.zipAlignEnabled) {\r\n                output.outputFile = new File(apk.parentFile, newName.replace(&quot;-unaligned&quot;, &quot;&quot;));\r\n            }\r\n\r\n            logger.info(&#39;INFO: Set outputFile to &#39; + output.outputFile + &quot; for [&quot; + variant.name + &quot;]&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile(&#39;com.crashlytics.sdk.android:crashlytics:2.6.2@aar&#39;) {\r\n            transitive = true;\r\n        }\r\n\r\n    //BUTTERKNIFE\r\n    apt &#39;com.jakewharton:butterknife-compiler:8.2.1&#39;\r\n\r\n    //MVP &amp; ParcelablePlease &amp; Adapter\r\n    apt &#39;com.hannesdorfmann.annotatedadapter:processor:1.1.1&#39;\r\n    apt &#39;com.hannesdorfmann.parcelableplease:processor:1.0.2&#39;\r\n\r\n    //AROUNDWISE SDK&#39;s\r\n    compile(name: &#39;aroundwisesdk&#39;, ext: &#39;aar&#39;)\r\n    compile(name: &#39;aroundwisecards&#39;, ext: &#39;aar&#39;)\r\n\r\n    //GOOGLE\r\n\r\n    //FACEBOOK\r\n\r\n    //ANDROID\r\n\r\n    //RETROFIT&amp;RxANDROID\r\n\r\n    //UTIL\r\n    //compile &#39;com.lorentzos.swipecards:library:1.0.9@aar&#39;\r\n\r\n    //BeaconSDk needed\r\n    compile &#39;me.relex:circleindicator:1.1.5@aar&#39;\r\n    compile &#39;com.hannesdorfmann.annotatedadapter:annotation:1.1.1&#39;\r\n    compile &#39;com.hannesdorfmann.annotatedadapter:support-recyclerview:1.1.1&#39;\r\n    compile &#39;com.hannesdorfmann.mosby:mvp:2.0.1&#39;\r\n    compile &#39;com.hannesdorfmann.mosby:viewstate:2.0.1&#39;\r\n    compile &#39;com.hannesdorfmann.parcelableplease:annotation:1.0.2&#39;\r\n    compile &#39;com.hannesdorfmann.mosby:retrofit:1.1.0&#39;\r\n    compile &#39;com.google.gms:google-services:2.1.2&#39;\r\n    compile &#39;com.google.android.gms:play-services-maps:9.4.0&#39;\r\n    compile &#39;com.google.android.gms:play-services-gcm:9.4.0&#39;\r\n    compile &#39;com.google.android.gms:play-services-location:9.4.0&#39;\r\n    compile &#39;com.google.code.gson:gson:2.7&#39;\r\n    compile &#39;com.google.maps.android:android-maps-utils:0.4.4&#39;\r\n    compile &#39;com.facebook.android:facebook-android-sdk:[4,5)&#39;\r\n    compile &#39;com.android.support:support-v4:24.2.1&#39;\r\n    compile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:25.0.1&#39;\r\n    compile &#39;com.android.support:design:24.2.1&#39;\r\n    compile &#39;com.android.support:support-annotations:24.2.1&#39;\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;\r\n    compile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39;\r\n    compile &#39;com.squareup.okhttp3:logging-interceptor:3.4.1&#39;\r\n    compile &#39;io.reactivex:rxandroid:1.2.0&#39;\r\n    compile &#39;io.reactivex:rxjava:1.1.5&#39;\r\n    compile &#39;com.squareup.retrofit2:adapter-rxjava:2.1.0&#39;\r\n    compile &#39;com.android.support:multidex:1.0.1&#39;\r\n    compile &#39;com.jakewharton:butterknife:8.2.1&#39;\r\n    compile &#39;com.github.jinatonic.confetti:confetti:1.0.0&#39;\r\n    compile &#39;com.viewpagerindicator:library:2.4.1@aar&#39;\r\n    compile &#39;de.hdodenhof:circleimageview:2.1.0&#39;\r\n    compile &#39;de.greenrobot:eventbus:2.4.0&#39;\r\n    compile &#39;com.squareup.picasso:picasso:2.5.3-SNAPSHOT&#39;\r\n    compile &#39;uk.co.chrisjenx:calligraphy:2.2.0&#39;\r\n    compile &#39;org.florescu.android.rangeseekbar:rangeseekbar-library:0.3.0&#39;\r\n    compile &#39;com.github.lzyzsd:circleprogress:1.1.0@aar&#39;\r\n    compile &#39;com.daprlabs.aaron:cardstack:0.3.1-beta0&#39;\r\n    compile &#39;org.altbeacon:android-beacon-library:2.+@aar&#39;\r\n    compile &#39;com.squareup.okhttp:okhttp:2.3.0&#39;\r\n    provided &#39;org.glassfish:javax.annotation:10.0-b28&#39;\r\n    apt &#39;com.google.dagger:dagger-compiler:2.0.2&#39;\r\n    compile &#39;com.google.dagger:dagger:2.0.2&#39;\r\n    }\r\n    repositories {\r\n        flatDir {\r\n            dirs &#39;libs&#39;\r\n        }\r\n    \r\n        apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    }\r\n\r\n\r\nAnd this is my manifest. I am using multidex but I do not need to extend MultiDexApplicaiton since I am using minSDK 21 ( at least that is what I understood from the documentation)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;aroundwise.nepi&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    \r\n    \r\n        &lt;permission\r\n            android:name=&quot;aroundwise.nepi.permission.C2D_MESSAGE&quot;\r\n            android:protectionLevel=&quot;signature&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;aroundwise.nepi.permission.C2D_MESSAGE&quot; /&gt;\r\n    \r\n        &lt;uses-feature android:name=&quot;android.hardware.camera2&quot; /&gt;\r\n    \r\n    \r\n        &lt;application\r\n            android:name=&quot;.MyApplication&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.activities.mainActivity.MainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:windowSoftInputMode=&quot;adjustPan&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;meta-data\r\n                android:name=&quot;io.fabric.ApiKey&quot;\r\n                android:value=&quot;5ef18a8d1003a5ed11bbf50f188bc758133cba38&quot; /&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.activities.onBoardActivity.OnBoardActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n    \r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.activities.discoverActivity.DiscoverActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n    \r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;@string/google_api_key_me&quot; /&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.activities.cameraActivity.CameraActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n    \r\n            &lt;meta-data\r\n                android:name=&quot;com.facebook.sdk.ApplicationId&quot;\r\n                android:value=&quot;@string/facebook_app_id&quot; /&gt;\r\n            &lt;provider\r\n                android:name=&quot;com.facebook.FacebookContentProvider&quot;\r\n                android:authorities=&quot;com.facebook.app.FacebookContentProvider840752006058179&quot;\r\n                android:exported=&quot;true&quot; /&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;com.facebook.FacebookActivity&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:theme=&quot;@android:style/Theme.Translucent.NoTitleBar&quot;\r\n                tools:replace=&quot;android:theme&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.facebook.CustomTabActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n    \r\n                    &lt;data android:scheme=&quot;@string/fb_login_protocol_scheme&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n    \r\n            &lt;receiver\r\n                android:name=&quot;com.google.android.gms.gcm.GcmReceiver&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n                    &lt;category android:name=&quot;aroundwise.nepi.gcm&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n    \r\n            &lt;service\r\n                android:name=&quot;.gcm.PushNotificationListener&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n    \r\n            &lt;service\r\n                android:name=&quot;.gcm.GcmIdListenerService&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.android.gms.iid.InstanceID&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            &lt;service\r\n                android:name=&quot;.gcm.GCMRegistationIntentService&quot;\r\n                android:exported=&quot;false&quot;&gt;&lt;/service&gt;\r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nI ran out of ideas, so please any help or tips are welcome.\r\n\r\nThank you!","title":"Only on Lollipop: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/squareup/picasso/Picasso;","body":"<p>I encounter this problem only on lollipop version. I can run the app easily on versions above lollipop. The error shows up when I run the app in my application file:</p>\n\n<pre><code>   java.lang.NoClassDefFoundError: Failed resolution of: Lcom/squareup/picasso/Picasso;\n                                                                 at aroundwise.nepi.MyApplication.onCreate(MyApplication.java:44)\n                                                                 at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1020)\n                                                                 at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5122)\n                                                                 at android.app.ActivityThread.access$1600(ActivityThread.java:177)\n                                                                 at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1510)\n                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                 at android.os.Looper.loop(Looper.java:145)\n                                                                 at android.app.ActivityThread.main(ActivityThread.java:5951)\n                                                                 at java.lang.reflect.Method.invoke(Native Method)\n                                                                 at java.lang.reflect.Method.invoke(Method.java:372)\n                                                                 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)\n                                                                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)\n                                                              Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.squareup.picasso.Picasso\" on path: DexPathList[[zip file \"/data/app/aroundwise.nepi-2/base.apk\"],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\n                                                                 at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n                                                                 at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n                                                                 at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\n                                                                 at aroundwise.nepi.MyApplication.onCreate(MyApplication.java:44) \n                                                                 at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1020) \n                                                                 at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5122) \n                                                                 at android.app.ActivityThread.access$1600(ActivityThread.java:177) \n                                                                 at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1510) \n                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                                 at android.os.Looper.loop(Looper.java:145) \n                                                                 at android.app.ActivityThread.main(ActivityThread.java:5951) \n                                                                 at java.lang.reflect.Method.invoke(Native Method) \n                                                                 at java.lang.reflect.Method.invoke(Method.java:372) \n                                                                 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400) \n                                                                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195) \n                                                                Suppressed: java.lang.ClassNotFoundException: com.squareup.picasso.Picasso\n                                                                 at java.lang.Class.classForName(Native Method)\n                                                                 at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n                                                                 at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n                                                                 at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n                                                                        ... 13 more\n                                                              Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\n</code></pre>\n\n<p>Here is my Application file:</p>\n\n<pre><code>public class MyApplication extends Application {\n\nprivate static ComplexPreferences sharedPreferences;\npublic static MyApplication instance;\nAroundWiseSDK aroundWiseSDK;\nprivate Picasso picasso;\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n\n    sharedPreferences = ComplexPreferences.getComplexPreferences(getBaseContext(), Constants.PREFFERENCES, MODE_PRIVATE);\n    CalligraphyConfig.initDefault(new CalligraphyConfig.Builder()\n            .setDefaultFontPath(\"fonts/ProximaNova-Regular.otf\")\n            .setFontAttrId(R.attr.fontPath)\n            .build());\n\n    Callbacks c = new Callbacks();\n    instance = this;\n    HashMap&lt;String, String&gt; clientData = new HashMap&lt;&gt;();\n    clientData.put(\"key_placeholder\", \"value_placeholder\");\n\n    picasso = Picasso.with(getApplicationContext());\n    aroundWiseSDK = new AroundWiseSDK(getBaseContext(), this, c, false, \"https://promenada.aroundwise.com\", clientData);\n    aroundWiseSDK.setMainActivity(DiscoverActivity.class);\n    aroundWiseSDK.bindBackgroundService();\n\n\n}\n\npublic Picasso getPicasso() {\n    return picasso;\n}\n\n@Override\nprotected void attachBaseContext(Context base) {\n    super.attachBaseContext(base);\n  //  MultiDex.install(base);\n}\n\n\npublic static ComplexPreferences getSharedPreferences(Context context) {\n    if (sharedPreferences == null) {\n        sharedPreferences = ComplexPreferences.getComplexPreferences(context, Constants.PREFFERENCES, MODE_PRIVATE);\n    }\n    return sharedPreferences;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is my gradle: </p>\n\n<pre><code>buildscript {\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n    jcenter()\n}\n\ndependencies {\n    // The Fabric Gradle plugin uses an open ended version to react\n    // quickly to Android tooling updates\n    classpath 'io.fabric.tools:gradle:1.+'\n    classpath 'com.getkeepsafe.dexcount:dexcount-gradle-plugin:0.6.2'\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'android-apt'\napply plugin: 'io.fabric'\napply plugin: 'com.getkeepsafe.dexcount'\n\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n}\n\n\nandroid {\n    compileSdkVersion 24\nbuildToolsVersion \"25.0.1\"\n\npackagingOptions {\n    exclude 'META-INF/DEPENDENCIES'\n    exclude 'META-INF/NOTICE'\n    exclude 'META-INF/LICENSE'\n    exclude 'META-INF/LICENSE.txt'\n    exclude 'META-INF/NOTICE.txt'\n    exclude 'META-INF/BCKEY.DSA'\n    exclude 'AUTHORS'\n    exclude 'META-INF/services/javax.annotation.processing.Processor' // butterknife\n    exclude 'META-INF/BCKEY.SF'\n    exclude 'META-INF/maven/com.google.guava/guava/pom.properties'\n    exclude 'META-INF/maven/com.google.guava/guava/pom.xml'\n}\n\ndefaultConfig {\n    applicationId \"aroundwise.nepi\"\n    minSdkVersion 21\n    targetSdkVersion 24\n    versionCode 1\n    versionName \"1.1.8\"\n    multiDexEnabled true\n\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        //multiDexKeepFile file('multidex-config.txt')\n      // multiDexKeepProguard file('multidex-config.pro')\n\n    }\n\n    debug {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n       // multiDexKeepFile file('multidex-config.txt')\n  //      multiDexKeepProguard file('multidex-config.pro')\n\n    }\n}\n\napplicationVariants.all { variant -&gt;\n    variant.outputs.each { output -&gt;\n        def apk = output.outputFile;\n        def newName;\n\n        if (variant.buildType.name == \"release\") {\n            newName = apk.name.replace(\"app-debug\", \"-release-Nepi\" + \"-v\" + defaultConfig.versionName + \".apk\");\n        } else {\n            newName = apk.name.replace(\"app-debug.apk\", \"-Nepi\" + \"-v\" + defaultConfig.versionName + \".apk\");\n        }\n\n\n        output.outputFile = new File(apk.parentFile, newName);\n\n        if (variant.buildType.zipAlignEnabled) {\n            output.outputFile = new File(apk.parentFile, newName.replace(\"-unaligned\", \"\"));\n        }\n\n        logger.info('INFO: Set outputFile to ' + output.outputFile + \" for [\" + variant.name + \"]\");\n    }\n}\n\n\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile 'junit:junit:4.12'\n    compile('com.crashlytics.sdk.android:crashlytics:2.6.2@aar') {\n        transitive = true;\n    }\n\n//BUTTERKNIFE\napt 'com.jakewharton:butterknife-compiler:8.2.1'\n\n//MVP &amp; ParcelablePlease &amp; Adapter\napt 'com.hannesdorfmann.annotatedadapter:processor:1.1.1'\napt 'com.hannesdorfmann.parcelableplease:processor:1.0.2'\n\n//AROUNDWISE SDK's\ncompile(name: 'aroundwisesdk', ext: 'aar')\ncompile(name: 'aroundwisecards', ext: 'aar')\n\n//GOOGLE\n\n//FACEBOOK\n\n//ANDROID\n\n//RETROFIT&amp;RxANDROID\n\n//UTIL\n//compile 'com.lorentzos.swipecards:library:1.0.9@aar'\n\n//BeaconSDk needed\ncompile 'me.relex:circleindicator:1.1.5@aar'\ncompile 'com.hannesdorfmann.annotatedadapter:annotation:1.1.1'\ncompile 'com.hannesdorfmann.annotatedadapter:support-recyclerview:1.1.1'\ncompile 'com.hannesdorfmann.mosby:mvp:2.0.1'\ncompile 'com.hannesdorfmann.mosby:viewstate:2.0.1'\ncompile 'com.hannesdorfmann.parcelableplease:annotation:1.0.2'\ncompile 'com.hannesdorfmann.mosby:retrofit:1.1.0'\ncompile 'com.google.gms:google-services:2.1.2'\ncompile 'com.google.android.gms:play-services-maps:9.4.0'\ncompile 'com.google.android.gms:play-services-gcm:9.4.0'\ncompile 'com.google.android.gms:play-services-location:9.4.0'\ncompile 'com.google.code.gson:gson:2.7'\ncompile 'com.google.maps.android:android-maps-utils:0.4.4'\ncompile 'com.facebook.android:facebook-android-sdk:[4,5)'\ncompile 'com.android.support:support-v4:24.2.1'\ncompile 'com.android.support:appcompat-v7:24.2.1'\ncompile 'com.android.support:recyclerview-v7:25.0.1'\ncompile 'com.android.support:design:24.2.1'\ncompile 'com.android.support:support-annotations:24.2.1'\ncompile 'com.squareup.retrofit2:retrofit:2.1.0'\ncompile 'com.squareup.retrofit2:converter-gson:2.1.0'\ncompile 'com.squareup.okhttp3:logging-interceptor:3.4.1'\ncompile 'io.reactivex:rxandroid:1.2.0'\ncompile 'io.reactivex:rxjava:1.1.5'\ncompile 'com.squareup.retrofit2:adapter-rxjava:2.1.0'\ncompile 'com.android.support:multidex:1.0.1'\ncompile 'com.jakewharton:butterknife:8.2.1'\ncompile 'com.github.jinatonic.confetti:confetti:1.0.0'\ncompile 'com.viewpagerindicator:library:2.4.1@aar'\ncompile 'de.hdodenhof:circleimageview:2.1.0'\ncompile 'de.greenrobot:eventbus:2.4.0'\ncompile 'com.squareup.picasso:picasso:2.5.3-SNAPSHOT'\ncompile 'uk.co.chrisjenx:calligraphy:2.2.0'\ncompile 'org.florescu.android.rangeseekbar:rangeseekbar-library:0.3.0'\ncompile 'com.github.lzyzsd:circleprogress:1.1.0@aar'\ncompile 'com.daprlabs.aaron:cardstack:0.3.1-beta0'\ncompile 'org.altbeacon:android-beacon-library:2.+@aar'\ncompile 'com.squareup.okhttp:okhttp:2.3.0'\nprovided 'org.glassfish:javax.annotation:10.0-b28'\napt 'com.google.dagger:dagger-compiler:2.0.2'\ncompile 'com.google.dagger:dagger:2.0.2'\n}\nrepositories {\n    flatDir {\n        dirs 'libs'\n    }\n\n    apply plugin: 'com.google.gms.google-services'\n\n}\n</code></pre>\n\n<p>And this is my manifest. I am using multidex but I do not need to extend MultiDexApplicaiton since I am using minSDK 21 ( at least that is what I understood from the documentation)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"aroundwise.nepi\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.BLUETOOTH\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n\n\n    &lt;permission\n        android:name=\"aroundwise.nepi.permission.C2D_MESSAGE\"\n        android:protectionLevel=\"signature\" /&gt;\n    &lt;uses-permission android:name=\"aroundwise.nepi.permission.C2D_MESSAGE\" /&gt;\n\n    &lt;uses-feature android:name=\"android.hardware.camera2\" /&gt;\n\n\n    &lt;application\n        android:name=\".MyApplication\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity\n            android:name=\".activities.mainActivity.MainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:windowSoftInputMode=\"adjustPan\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;meta-data\n            android:name=\"io.fabric.ApiKey\"\n            android:value=\"5ef18a8d1003a5ed11bbf50f188bc758133cba38\" /&gt;\n\n        &lt;activity\n            android:name=\".activities.onBoardActivity.OnBoardActivity\"\n            android:screenOrientation=\"portrait\"&gt;\n\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".activities.discoverActivity.DiscoverActivity\"\n            android:screenOrientation=\"portrait\" /&gt;\n\n        &lt;meta-data\n            android:name=\"com.google.android.geo.API_KEY\"\n            android:value=\"@string/google_api_key_me\" /&gt;\n\n        &lt;activity\n            android:name=\".activities.cameraActivity.CameraActivity\"\n            android:screenOrientation=\"portrait\" /&gt;\n\n        &lt;meta-data\n            android:name=\"com.facebook.sdk.ApplicationId\"\n            android:value=\"@string/facebook_app_id\" /&gt;\n        &lt;provider\n            android:name=\"com.facebook.FacebookContentProvider\"\n            android:authorities=\"com.facebook.app.FacebookContentProvider840752006058179\"\n            android:exported=\"true\" /&gt;\n\n        &lt;activity\n            android:name=\"com.facebook.FacebookActivity\"\n            android:configChanges=\"keyboard|keyboardHidden|screenLayout|screenSize|orientation\"\n            android:label=\"@string/app_name\"\n            android:theme=\"@android:style/Theme.Translucent.NoTitleBar\"\n            tools:replace=\"android:theme\" /&gt;\n        &lt;activity\n            android:name=\"com.facebook.CustomTabActivity\"\n            android:exported=\"true\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n\n                &lt;data android:scheme=\"@string/fb_login_protocol_scheme\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n\n        &lt;receiver\n            android:name=\"com.google.android.gms.gcm.GcmReceiver\"\n            android:exported=\"true\"\n            android:permission=\"com.google.android.c2dm.permission.SEND\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.android.c2dm.intent.RECEIVE\" /&gt;\n                &lt;category android:name=\"aroundwise.nepi.gcm\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n        &lt;service\n            android:name=\".gcm.PushNotificationListener\"\n            android:exported=\"false\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.android.c2dm.intent.RECEIVE\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n        &lt;service\n            android:name=\".gcm.GcmIdListenerService\"\n            android:exported=\"false\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.android.gms.iid.InstanceID\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;service\n            android:name=\".gcm.GCMRegistationIntentService\"\n            android:exported=\"false\"&gt;&lt;/service&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>I ran out of ideas, so please any help or tips are welcome.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","gradle","soap","jaxb"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1672274363,"post_id":74946164,"comment_id":132257572,"body_markdown":"Are you running this in a environment controlled by someone else?  This is usually indicative of a version mismatch between the compilation and deployment environments.","body":"Are you running this in a environment controlled by someone else?  This is usually indicative of a version mismatch between the compilation and deployment environments."},{"owner":{"account_id":11947034,"reputation":45,"user_id":8741889,"display_name":"Aram"},"score":0,"creation_date":1672276338,"post_id":74946164,"comment_id":132257848,"body_markdown":"@JimGarrison actually for deployment, we use docker and Kubernates. and also Nexus Repository manager is used.","body":"@JimGarrison actually for deployment, we use docker and Kubernates. and also Nexus Repository manager is used."},{"owner":{"account_id":11947034,"reputation":45,"user_id":8741889,"display_name":"Aram"},"score":0,"creation_date":1672276518,"post_id":74946164,"comment_id":132257862,"body_markdown":"so, do you mean that the problem is with versions, right? do I need to add any new dependency?","body":"so, do you mean that the problem is with versions, right? do I need to add any new dependency?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1672276702,"post_id":74946164,"comment_id":132257897,"body_markdown":"You need to ensure that the library versions in your IDE match exactly the versions in your deployment environment(s).  Sounds like someone updated your deployment images to newer versions.  You most likely do not need new dependencies.","body":"You need to ensure that the library versions in your IDE match exactly the versions in your deployment environment(s).  Sounds like someone updated your deployment images to newer versions.  You most likely do not need new dependencies."},{"owner":{"account_id":11947034,"reputation":45,"user_id":8741889,"display_name":"Aram"},"score":0,"creation_date":1672276838,"post_id":74946164,"comment_id":132257911,"body_markdown":"@JimGarrison but actually when I commit anything to my Github repository, and a Github action runs, the same error is shown","body":"@JimGarrison but actually when I commit anything to my Github repository, and a Github action runs, the same error is shown"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1672276907,"post_id":74946164,"comment_id":132257922,"body_markdown":"Your IDE likely has outdated versions of the dependencies, and everything else in your CI environment has moved on to a later version.","body":"Your IDE likely has outdated versions of the dependencies, and everything else in your CI environment has moved on to a later version."}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672454395,"creation_date":1672454395,"answer_id":74967225,"question_id":74946164,"body_markdown":"I suspect it is likely due to the plugin `com.yupzip.wsdl2java` which is a fork of the unmaintained `no.nils.wsdl2java`.\r\n\r\nThe plugin defines and adds various Apache CXF dependencies to the `wsdl2java` configuration. However, the version defined by the plugin is `+` or in other words [dynamic](https://docs.gradle.org/current/userguide/dynamic_versions.html).\r\n\r\nApache CXF 4.0.0 was released recently, so as a result, your project&#39;s dependencies were upgraded to the next major version because the version is defined as dynamic. This results in the issue you are facing.\r\n\r\nYou can resolve this by specifying the exact version you require for your project as specified in the project&#39;s README: https://github.com/yupzip/wsdl2java#plugin-options\r\n\r\nAlternatively, you can migrate to a more modern replacement that is based on Apache CXF&#39;s Maven codegen plugin for Gradle: https://ciscoo.github.io/cxf-codegen-gradle/docs/current/user-guide/\r\n\r\n---\r\n\r\nNote: I am the author of the Gradle plugin.","title":"Get this error suddenly: java.lang.NoClassDefFoundError: jakarta/xml/bind/JAXBException","body":"<p>I suspect it is likely due to the plugin <code>com.yupzip.wsdl2java</code> which is a fork of the unmaintained <code>no.nils.wsdl2java</code>.</p>\n<p>The plugin defines and adds various Apache CXF dependencies to the <code>wsdl2java</code> configuration. However, the version defined by the plugin is <code>+</code> or in other words <a href=\"https://docs.gradle.org/current/userguide/dynamic_versions.html\" rel=\"nofollow noreferrer\">dynamic</a>.</p>\n<p>Apache CXF 4.0.0 was released recently, so as a result, your project's dependencies were upgraded to the next major version because the version is defined as dynamic. This results in the issue you are facing.</p>\n<p>You can resolve this by specifying the exact version you require for your project as specified in the project's README: <a href=\"https://github.com/yupzip/wsdl2java#plugin-options\" rel=\"nofollow noreferrer\">https://github.com/yupzip/wsdl2java#plugin-options</a></p>\n<p>Alternatively, you can migrate to a more modern replacement that is based on Apache CXF's Maven codegen plugin for Gradle: <a href=\"https://ciscoo.github.io/cxf-codegen-gradle/docs/current/user-guide/\" rel=\"nofollow noreferrer\">https://ciscoo.github.io/cxf-codegen-gradle/docs/current/user-guide/</a></p>\n<hr />\n<p>Note: I am the author of the Gradle plugin.</p>\n"}],"owner":{"account_id":11947034,"reputation":45,"user_id":8741889,"display_name":"Aram"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74967225,"answer_count":1,"score":0,"last_activity_date":1672454395,"creation_date":1672273346,"question_id":74946164,"body_markdown":"In my project(which is a spring boot application, and Java 17 is used) I need to call SOAP APIs which I need to use JAX-B.\r\nAll was good and was working perfectly, but 5 days ago suddenly I got an error, but actually I didn&#39;t change anything.\r\n\r\nhere&#39;s the error: \r\n```\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:wsdl2javaTask&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.internal.UncheckedException: java.lang.reflect.InvocationTargetException\r\n\tat org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:68)\r\n\tat org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:41)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:107)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.yupzip.wsdl2java.Wsdl2JavaTask$_wsdl2java_closure1.doCall(Wsdl2JavaTask.groovy:60)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.yupzip.wsdl2java.Wsdl2JavaTask.wsdl2java(Wsdl2JavaTask.groovy:47)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\t... 115 more\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/xml/bind/JAXBException\r\n\tat org.apache.cxf.tools.wsdlto.WSDLToJava.&lt;init&gt;(WSDLToJava.java:48)\r\n\t... 130 more\r\nCaused by: java.lang.ClassNotFoundException: jakarta.xml.bind.JAXBException\r\n\t... 131 more\r\n```\r\n\r\nhere&#39;s **build.gradle**:\r\n\r\n```\r\nbuildscript {\r\n    ...\r\n    dependencies {\r\n        classpath &#39;org.apache.maven.resolver:maven-resolver-api:1.8.2&#39;\r\n        classpath &#39;com.sun.xml.bind:jaxb-impl:2.3.3&#39;\r\n        ...\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;jacoco&#39;\r\n    id &#39;checkstyle&#39;\r\n    id &#39;project-report&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n    id &#39;io.freefair.lombok&#39; version &#39;6.4.3&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.7&#39;\r\n    id &#39;org.springframework.cloud.contract&#39; version &#39;3.1.2&#39;\r\n    id &#39;com.adarshr.test-logger&#39; version &#39;3.2.0&#39;\r\n    id &#39;com.google.cloud.tools.jib&#39; version &#39;3.1.4&#39;\r\n    id &#39;com.github.spotbugs&#39; version &#39;5.0.9&#39;\r\n    id &#39;org.sonarqube&#39; version &#39;3.4.0.2513&#39;\r\n    id &#39;name.remal.check-updates&#39; version &#39;1.0.193&#39;\r\n    id &#39;at.zierler.yamlvalidator&#39; version &#39;1.5.0&#39;\r\n    id &#39;com.yupzip.wsdl2java&#39; version &#39;2.3.0&#39;\r\n    id &#39;com.github.eerohele.saxon-gradle&#39; version &#39;0.9.0-beta4&#39;\r\n    id &#39;org.unbroken-dome.xjc&#39; version &#39;2.0.0&#39;\r\n}\r\n\r\n....\r\n....\r\n....\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.liquibase:liquibase-core:4.15.0&#39;\r\n    implementation &#39;org.postgresql:postgresql&#39;\r\n    implementation &#39;io.micrometer:micrometer-registry-prometheus&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n\r\n    implementation &#39;org.apache.camel.springboot:camel-spring-boot-starter&#39;\r\n    implementation &#39;org.apache.camel.springboot:camel-swagger-java-starter&#39;\r\n    implementation &#39;org.apache.camel.springboot:camel-servlet-starter&#39;\r\n    implementation &#39;org.apache.camel.springboot:camel-jackson-starter&#39;\r\n    implementation &#39;org.apache.camel.springboot:camel-jaxb-starter&#39;\r\n    implementation &#39;org.apache.camel.springboot:camel-cxf-starter&#39;\r\n    implementation &#39;org.apache.camel.springboot:camel-spring-ws-starter&#39;\r\n    implementation &#39;org.apache.camel.springboot:camel-springdoc-starter&#39;\r\n    implementation &#39;com.sun.xml.messaging.saaj:saaj-impl&#39;\r\n    implementation &#39;org.apache.camel.springboot:camel-bean-validator-starter&#39;\r\n\r\n    implementation &#39;net.logstash.logback:logstash-logback-encoder:7.2&#39;\r\n    implementation &#39;com.sndyuk:logback-more-appenders:1.8.7-JAVA9MODULE_SLF4J17&#39;\r\n    implementation &#39;org.fluentd:fluent-logger:0.3.4&#39;\r\n    testImplementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.2&#39;\r\n\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.14&#39;\r\n    compileOnly &#39;com.github.spotbugs:spotbugs-annotations:4.7.1&#39;\r\n\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n        exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    }\r\n    testImplementation &#39;org.apache.camel:camel-test-spring-junit5&#39;\r\n\r\n    testImplementation(&#39;org.springframework.cloud:spring-cloud-starter-contract-verifier&#39;) {\r\n        testImplementation &#39;com.sun.xml.bind:jaxb-osgi:4.0.0&#39;\r\n    }\r\n    testImplementation &#39;com.tngtech.archunit:archunit-junit5:0.21.0&#39;\r\n    testImplementation &#39;io.zonky.test:embedded-database-spring-test:1.6.3&#39;\r\n\r\n    implementation &#39;net.javacrumbs.shedlock:shedlock-spring:4.41.0&#39;\r\n    implementation &#39;net.javacrumbs.shedlock:shedlock-provider-jdbc-template:4.39.0&#39;\r\n\r\n    spotbugsPlugins &#39;com.h3xstream.findsecbugs:findsecbugs-plugin:1.12.0&#39;\r\n\r\n}\r\n\r\n\r\nxslt {\r\n    stylesheet &quot;${project.rootDir}/src/main/resources/xslt/extendXXXWsdl.xslt&quot;\r\n    input fileTree(dir: file(&quot;${project.rootDir}/src/main/resources/wsdl&quot;), include: &#39;PE*.wsdl&#39;)\r\n    output &quot;${project.buildDir}/wsdl&quot;\r\n    outputFileExtension &#39;wsdl&#39;\r\n}\r\n\r\nwsdl2java {\r\n    wsdlDir = file(&quot;${project.buildDir}/wsdl&quot;)\r\n    wsdlsToGenerate = [\r\n        [&quot;${wsdlDir}/PE04ACC00.wsdl&quot;],\r\n        [&quot;${wsdlDir}/PE04CUS00.wsdl&quot;],\r\n        [&quot;${wsdlDir}/PE04CUS10.wsdl&quot;],\r\n        [&quot;${wsdlDir}/PE07EDC00.wsdl&quot;],\r\n        [&quot;${wsdlDir}/PE07EDC40.wsdl&quot;],\r\n        [&quot;${wsdlDir}/PE07EDC70.wsdl&quot;],\r\n        [&quot;${wsdlDir}/PE07EDCA1.wsdl&quot;],\r\n        [&quot;${wsdlDir}/PE07EDCMA.wsdl&quot;],\r\n        [&quot;${wsdlDir}/PE04BLK00.wsdl&quot;],\r\n        [&quot;${project.rootDir}/src/test/resources/test.wsdl&quot;]\r\n    ]\r\n}\r\n\r\n...\r\n...\r\n...\r\n\r\nprocessResources {\r\n    expand(project.properties)\r\n    exclude &#39;**/*.wsdl&#39;\r\n    exclude &#39;**/*.xslt&#39;\r\n}\r\n...\r\ntasks.wsdl2javaTask.dependsOn xslt\r\n```\r\n\r\ndo you have any idea why it happens while I didn&#39;t even change a single line?\r\n","title":"Get this error suddenly: java.lang.NoClassDefFoundError: jakarta/xml/bind/JAXBException","body":"<p>In my project(which is a spring boot application, and Java 17 is used) I need to call SOAP APIs which I need to use JAX-B.\nAll was good and was working perfectly, but 5 days ago suddenly I got an error, but actually I didn't change anything.</p>\n<p>here's the error:</p>\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':wsdl2javaTask'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.internal.UncheckedException: java.lang.reflect.InvocationTargetException\n    at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:68)\n    at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:41)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:107)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at com.yupzip.wsdl2java.Wsdl2JavaTask$_wsdl2java_closure1.doCall(Wsdl2JavaTask.groovy:60)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at com.yupzip.wsdl2java.Wsdl2JavaTask.wsdl2java(Wsdl2JavaTask.groovy:47)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    ... 115 more\nCaused by: java.lang.NoClassDefFoundError: jakarta/xml/bind/JAXBException\n    at org.apache.cxf.tools.wsdlto.WSDLToJava.&lt;init&gt;(WSDLToJava.java:48)\n    ... 130 more\nCaused by: java.lang.ClassNotFoundException: jakarta.xml.bind.JAXBException\n    ... 131 more\n</code></pre>\n<p>here's <strong>build.gradle</strong>:</p>\n<pre><code>buildscript {\n    ...\n    dependencies {\n        classpath 'org.apache.maven.resolver:maven-resolver-api:1.8.2'\n        classpath 'com.sun.xml.bind:jaxb-impl:2.3.3'\n        ...\n    }\n}\n\nplugins {\n    id 'java'\n    id 'jacoco'\n    id 'checkstyle'\n    id 'project-report'\n    id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n    id 'io.freefair.lombok' version '6.4.3'\n    id 'org.springframework.boot' version '2.6.7'\n    id 'org.springframework.cloud.contract' version '3.1.2'\n    id 'com.adarshr.test-logger' version '3.2.0'\n    id 'com.google.cloud.tools.jib' version '3.1.4'\n    id 'com.github.spotbugs' version '5.0.9'\n    id 'org.sonarqube' version '3.4.0.2513'\n    id 'name.remal.check-updates' version '1.0.193'\n    id 'at.zierler.yamlvalidator' version '1.5.0'\n    id 'com.yupzip.wsdl2java' version '2.3.0'\n    id 'com.github.eerohele.saxon-gradle' version '0.9.0-beta4'\n    id 'org.unbroken-dome.xjc' version '2.0.0'\n}\n\n....\n....\n....\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.liquibase:liquibase-core:4.15.0'\n    implementation 'org.postgresql:postgresql'\n    implementation 'io.micrometer:micrometer-registry-prometheus'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n\n    implementation 'org.apache.camel.springboot:camel-spring-boot-starter'\n    implementation 'org.apache.camel.springboot:camel-swagger-java-starter'\n    implementation 'org.apache.camel.springboot:camel-servlet-starter'\n    implementation 'org.apache.camel.springboot:camel-jackson-starter'\n    implementation 'org.apache.camel.springboot:camel-jaxb-starter'\n    implementation 'org.apache.camel.springboot:camel-cxf-starter'\n    implementation 'org.apache.camel.springboot:camel-spring-ws-starter'\n    implementation 'org.apache.camel.springboot:camel-springdoc-starter'\n    implementation 'com.sun.xml.messaging.saaj:saaj-impl'\n    implementation 'org.apache.camel.springboot:camel-bean-validator-starter'\n\n    implementation 'net.logstash.logback:logstash-logback-encoder:7.2'\n    implementation 'com.sndyuk:logback-more-appenders:1.8.7-JAVA9MODULE_SLF4J17'\n    implementation 'org.fluentd:fluent-logger:0.3.4'\n    testImplementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.2'\n\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.14'\n    compileOnly 'com.github.spotbugs:spotbugs-annotations:4.7.1'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation 'org.apache.camel:camel-test-spring-junit5'\n\n    testImplementation('org.springframework.cloud:spring-cloud-starter-contract-verifier') {\n        testImplementation 'com.sun.xml.bind:jaxb-osgi:4.0.0'\n    }\n    testImplementation 'com.tngtech.archunit:archunit-junit5:0.21.0'\n    testImplementation 'io.zonky.test:embedded-database-spring-test:1.6.3'\n\n    implementation 'net.javacrumbs.shedlock:shedlock-spring:4.41.0'\n    implementation 'net.javacrumbs.shedlock:shedlock-provider-jdbc-template:4.39.0'\n\n    spotbugsPlugins 'com.h3xstream.findsecbugs:findsecbugs-plugin:1.12.0'\n\n}\n\n\nxslt {\n    stylesheet &quot;${project.rootDir}/src/main/resources/xslt/extendXXXWsdl.xslt&quot;\n    input fileTree(dir: file(&quot;${project.rootDir}/src/main/resources/wsdl&quot;), include: 'PE*.wsdl')\n    output &quot;${project.buildDir}/wsdl&quot;\n    outputFileExtension 'wsdl'\n}\n\nwsdl2java {\n    wsdlDir = file(&quot;${project.buildDir}/wsdl&quot;)\n    wsdlsToGenerate = [\n        [&quot;${wsdlDir}/PE04ACC00.wsdl&quot;],\n        [&quot;${wsdlDir}/PE04CUS00.wsdl&quot;],\n        [&quot;${wsdlDir}/PE04CUS10.wsdl&quot;],\n        [&quot;${wsdlDir}/PE07EDC00.wsdl&quot;],\n        [&quot;${wsdlDir}/PE07EDC40.wsdl&quot;],\n        [&quot;${wsdlDir}/PE07EDC70.wsdl&quot;],\n        [&quot;${wsdlDir}/PE07EDCA1.wsdl&quot;],\n        [&quot;${wsdlDir}/PE07EDCMA.wsdl&quot;],\n        [&quot;${wsdlDir}/PE04BLK00.wsdl&quot;],\n        [&quot;${project.rootDir}/src/test/resources/test.wsdl&quot;]\n    ]\n}\n\n...\n...\n...\n\nprocessResources {\n    expand(project.properties)\n    exclude '**/*.wsdl'\n    exclude '**/*.xslt'\n}\n...\ntasks.wsdl2javaTask.dependsOn xslt\n</code></pre>\n<p>do you have any idea why it happens while I didn't even change a single line?</p>\n"},{"tags":["java","encoding","cryptography","public-key","elliptic-curve"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1422390445,"creation_date":1422388964,"answer_id":28178971,"question_id":28172710,"body_markdown":"This functionality is also present in Bouncy Castle, but I&#39;ll show how to go through this using just Java in case somebody needs it:\r\n\r\n    import java.math.BigInteger;\r\n    import java.security.KeyFactory;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.interfaces.ECPublicKey;\r\n    import java.security.spec.ECParameterSpec;\r\n    import java.security.spec.ECPoint;\r\n    import java.security.spec.ECPublicKeySpec;\r\n    import java.util.Arrays;\r\n    \r\n    public class Curvy {\r\n    \r\n        private static final byte UNCOMPRESSED_POINT_INDICATOR = 0x04;\r\n    \r\n        public static ECPublicKey fromUncompressedPoint(\r\n                final byte[] uncompressedPoint, final ECParameterSpec params)\r\n                throws Exception {\r\n    \r\n            int offset = 0;\r\n            if (uncompressedPoint[offset++] != UNCOMPRESSED_POINT_INDICATOR) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;Invalid uncompressedPoint encoding, no uncompressed point indicator&quot;);\r\n            }\r\n    \r\n            int keySizeBytes = (params.getOrder().bitLength() + Byte.SIZE - 1)\r\n                    / Byte.SIZE;\r\n            \r\n            if (uncompressedPoint.length != 1 + 2 * keySizeBytes) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;Invalid uncompressedPoint encoding, not the correct size&quot;);\r\n            }\r\n    \r\n            final BigInteger x = new BigInteger(1, Arrays.copyOfRange(\r\n                    uncompressedPoint, offset, offset + keySizeBytes));\r\n            offset += keySizeBytes;\r\n            final BigInteger y = new BigInteger(1, Arrays.copyOfRange(\r\n                    uncompressedPoint, offset, offset + keySizeBytes));\r\n            final ECPoint w = new ECPoint(x, y);\r\n            final ECPublicKeySpec ecPublicKeySpec = new ECPublicKeySpec(w, params);\r\n            final KeyFactory keyFactory = KeyFactory.getInstance(&quot;EC&quot;);\r\n            return (ECPublicKey) keyFactory.generatePublic(ecPublicKeySpec);\r\n        }\r\n\r\n        public static byte[] toUncompressedPoint(final ECPublicKey publicKey) {\r\n            \r\n            int keySizeBytes = (publicKey.getParams().getOrder().bitLength() + Byte.SIZE - 1)\r\n                    / Byte.SIZE;\r\n    \r\n            final byte[] uncompressedPoint = new byte[1 + 2 * keySizeBytes];\r\n            int offset = 0;\r\n            uncompressedPoint[offset++] = 0x04;\r\n    \r\n            final byte[] x = publicKey.getW().getAffineX().toByteArray();\r\n            if (x.length &lt;= keySizeBytes) {\r\n                System.arraycopy(x, 0, uncompressedPoint, offset + keySizeBytes\r\n                        - x.length, x.length);\r\n            } else if (x.length == keySizeBytes + 1 &amp;&amp; x[0] == 0) {\r\n                System.arraycopy(x, 1, uncompressedPoint, offset, keySizeBytes);\r\n            } else {\r\n                throw new IllegalStateException(&quot;x value is too large&quot;);\r\n            }\r\n            offset += keySizeBytes;\r\n    \r\n            final byte[] y = publicKey.getW().getAffineY().toByteArray();\r\n            if (y.length &lt;= keySizeBytes) {\r\n                System.arraycopy(y, 0, uncompressedPoint, offset + keySizeBytes\r\n                        - y.length, y.length);\r\n            } else if (y.length == keySizeBytes + 1 &amp;&amp; y[0] == 0) {\r\n                System.arraycopy(y, 1, uncompressedPoint, offset, keySizeBytes);\r\n            } else {\r\n                throw new IllegalStateException(&quot;y value is too large&quot;);\r\n            }\r\n    \r\n            return uncompressedPoint;\r\n        }\r\n    \r\n        public static void main(final String[] args) throws Exception {\r\n            \r\n            // just for testing\r\n            \r\n            final KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\n            kpg.initialize(163);\r\n            \r\n            for (int i = 0; i &lt; 1_000; i++) {\r\n                final KeyPair ecKeyPair = kpg.generateKeyPair();\r\n        \r\n                final ECPublicKey ecPublicKey = (ECPublicKey) ecKeyPair.getPublic();\r\n                final ECPublicKey retrievedEcPublicKey = fromUncompressedPoint(\r\n                        toUncompressedPoint(ecPublicKey), ecPublicKey.getParams());\r\n                if (!Arrays.equals(retrievedEcPublicKey.getEncoded(),\r\n                        ecPublicKey.getEncoded())) {\r\n                    throw new IllegalArgumentException(&quot;Whoops&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Java compact representation of ECC PublicKey","body":"<p>This functionality is also present in Bouncy Castle, but I'll show how to go through this using just Java in case somebody needs it:</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.security.KeyFactory;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.interfaces.ECPublicKey;\nimport java.security.spec.ECParameterSpec;\nimport java.security.spec.ECPoint;\nimport java.security.spec.ECPublicKeySpec;\nimport java.util.Arrays;\n\npublic class Curvy {\n\n    private static final byte UNCOMPRESSED_POINT_INDICATOR = 0x04;\n\n    public static ECPublicKey fromUncompressedPoint(\n            final byte[] uncompressedPoint, final ECParameterSpec params)\n            throws Exception {\n\n        int offset = 0;\n        if (uncompressedPoint[offset++] != UNCOMPRESSED_POINT_INDICATOR) {\n            throw new IllegalArgumentException(\n                    \"Invalid uncompressedPoint encoding, no uncompressed point indicator\");\n        }\n\n        int keySizeBytes = (params.getOrder().bitLength() + Byte.SIZE - 1)\n                / Byte.SIZE;\n\n        if (uncompressedPoint.length != 1 + 2 * keySizeBytes) {\n            throw new IllegalArgumentException(\n                    \"Invalid uncompressedPoint encoding, not the correct size\");\n        }\n\n        final BigInteger x = new BigInteger(1, Arrays.copyOfRange(\n                uncompressedPoint, offset, offset + keySizeBytes));\n        offset += keySizeBytes;\n        final BigInteger y = new BigInteger(1, Arrays.copyOfRange(\n                uncompressedPoint, offset, offset + keySizeBytes));\n        final ECPoint w = new ECPoint(x, y);\n        final ECPublicKeySpec ecPublicKeySpec = new ECPublicKeySpec(w, params);\n        final KeyFactory keyFactory = KeyFactory.getInstance(\"EC\");\n        return (ECPublicKey) keyFactory.generatePublic(ecPublicKeySpec);\n    }\n\n    public static byte[] toUncompressedPoint(final ECPublicKey publicKey) {\n\n        int keySizeBytes = (publicKey.getParams().getOrder().bitLength() + Byte.SIZE - 1)\n                / Byte.SIZE;\n\n        final byte[] uncompressedPoint = new byte[1 + 2 * keySizeBytes];\n        int offset = 0;\n        uncompressedPoint[offset++] = 0x04;\n\n        final byte[] x = publicKey.getW().getAffineX().toByteArray();\n        if (x.length &lt;= keySizeBytes) {\n            System.arraycopy(x, 0, uncompressedPoint, offset + keySizeBytes\n                    - x.length, x.length);\n        } else if (x.length == keySizeBytes + 1 &amp;&amp; x[0] == 0) {\n            System.arraycopy(x, 1, uncompressedPoint, offset, keySizeBytes);\n        } else {\n            throw new IllegalStateException(\"x value is too large\");\n        }\n        offset += keySizeBytes;\n\n        final byte[] y = publicKey.getW().getAffineY().toByteArray();\n        if (y.length &lt;= keySizeBytes) {\n            System.arraycopy(y, 0, uncompressedPoint, offset + keySizeBytes\n                    - y.length, y.length);\n        } else if (y.length == keySizeBytes + 1 &amp;&amp; y[0] == 0) {\n            System.arraycopy(y, 1, uncompressedPoint, offset, keySizeBytes);\n        } else {\n            throw new IllegalStateException(\"y value is too large\");\n        }\n\n        return uncompressedPoint;\n    }\n\n    public static void main(final String[] args) throws Exception {\n\n        // just for testing\n\n        final KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"EC\");\n        kpg.initialize(163);\n\n        for (int i = 0; i &lt; 1_000; i++) {\n            final KeyPair ecKeyPair = kpg.generateKeyPair();\n\n            final ECPublicKey ecPublicKey = (ECPublicKey) ecKeyPair.getPublic();\n            final ECPublicKey retrievedEcPublicKey = fromUncompressedPoint(\n                    toUncompressedPoint(ecPublicKey), ecPublicKey.getParams());\n            if (!Arrays.equals(retrievedEcPublicKey.getEncoded(),\n                    ecPublicKey.getEncoded())) {\n                throw new IllegalArgumentException(\"Whoops\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13584,"reputation":3270,"user_id":27408,"display_name":"a2800276"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447333420,"creation_date":1447333420,"answer_id":33672078,"question_id":28172710,"body_markdown":"Trying to generate an uncompressed representation in java almost killed me! Wish I would have found this (especially Maarten Bodewes&#39; excellent answer) earlier. I&#39;d like to point out an issue in the answer and offer an improvement:\r\n\r\n    if (x.length &lt;= keySizeBytes) {\r\n            System.arraycopy(x, 0, uncompressedPoint, offset + keySizeBytes\r\n                    - x.length, x.length);\r\n        } else if (x.length == keySizeBytes + 1 &amp;&amp; x[0] == 0) {\r\n            System.arraycopy(x, 1, uncompressedPoint, offset, keySizeBytes);\r\n        } else {\r\n            throw new IllegalStateException(&quot;x value is too large&quot;);\r\n        }\r\n\r\nThis ugly bit is necessary because of the way `BigInteger` spits out byte array representations: &quot;*The array will contain the minimum number of bytes required to represent this `BigInteger`, including at least one sign bit*&quot; ([toByteArray javadoc][1]). This means a.) if the highest bit of `x` or `y` is set, a `0x00` will be prepended to the array and b.) leading `0x00`&#39;s will be trimmed. The first branch deals with the trimmed `0x00`&#39;s and the second one with the prepended `0x00`.\r\n\r\nThe &quot;trimmed leading zero&#39;s&quot; lead to an issue in the code determining the expected length of `x` and `y`:\r\n\r\n    int keySizeBytes = (publicKey.getParams().getOrder().bitLength() + Byte.SIZE - 1)\r\n                / Byte.SIZE;\r\n\r\nIf the `order` of the curve has a leading `0x00` it gets truncated and is not considered by `bitLength`. The resulting key length is too short. The incredibly convoluted (but proper?) way to get at the bitlength of `p` would be:\r\n\r\n    int keySizeBits = publicKey.getParams().getCurve().getField().getFieldSize();\r\n    int keySizeBytes = (keySizeBits + 7) &gt;&gt;&gt; 3;\r\n\r\n(The `+7` is to compensate for bit lengths which are not powers of 2.)\r\n\r\nThis issue affects at least one curve delivered with the standard JCA (`X9_62_c2tnb431r1`) which has an order with a leading zero: \r\n\r\n    000340340340340 34034034034034034\r\n    034034034034034 0340340340323c313\r\n    fab50589703b5ec 68d3587fec60d161c\r\n    c149c1ad4a91\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#toByteArray()","title":"Java compact representation of ECC PublicKey","body":"<p>Trying to generate an uncompressed representation in java almost killed me! Wish I would have found this (especially Maarten Bodewes' excellent answer) earlier. I'd like to point out an issue in the answer and offer an improvement:</p>\n\n<pre><code>if (x.length &lt;= keySizeBytes) {\n        System.arraycopy(x, 0, uncompressedPoint, offset + keySizeBytes\n                - x.length, x.length);\n    } else if (x.length == keySizeBytes + 1 &amp;&amp; x[0] == 0) {\n        System.arraycopy(x, 1, uncompressedPoint, offset, keySizeBytes);\n    } else {\n        throw new IllegalStateException(\"x value is too large\");\n    }\n</code></pre>\n\n<p>This ugly bit is necessary because of the way <code>BigInteger</code> spits out byte array representations: \"<em>The array will contain the minimum number of bytes required to represent this <code>BigInteger</code>, including at least one sign bit</em>\" (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#toByteArray()\" rel=\"nofollow\">toByteArray javadoc</a>). This means a.) if the highest bit of <code>x</code> or <code>y</code> is set, a <code>0x00</code> will be prepended to the array and b.) leading <code>0x00</code>'s will be trimmed. The first branch deals with the trimmed <code>0x00</code>'s and the second one with the prepended <code>0x00</code>.</p>\n\n<p>The \"trimmed leading zero's\" lead to an issue in the code determining the expected length of <code>x</code> and <code>y</code>:</p>\n\n<pre><code>int keySizeBytes = (publicKey.getParams().getOrder().bitLength() + Byte.SIZE - 1)\n            / Byte.SIZE;\n</code></pre>\n\n<p>If the <code>order</code> of the curve has a leading <code>0x00</code> it gets truncated and is not considered by <code>bitLength</code>. The resulting key length is too short. The incredibly convoluted (but proper?) way to get at the bitlength of <code>p</code> would be:</p>\n\n<pre><code>int keySizeBits = publicKey.getParams().getCurve().getField().getFieldSize();\nint keySizeBytes = (keySizeBits + 7) &gt;&gt;&gt; 3;\n</code></pre>\n\n<p>(The <code>+7</code> is to compensate for bit lengths which are not powers of 2.)</p>\n\n<p>This issue affects at least one curve delivered with the standard JCA (<code>X9_62_c2tnb431r1</code>) which has an order with a leading zero: </p>\n\n<pre><code>000340340340340 34034034034034034\n034034034034034 0340340340323c313\nfab50589703b5ec 68d3587fec60d161c\nc149c1ad4a91\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4839381,"reputation":757,"user_id":3904872,"accept_rate":64,"display_name":"Steve Yohanan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507562027,"creation_date":1507562027,"answer_id":46649715,"question_id":28172710,"body_markdown":"Here is a [BouncyCastle][1] approach I&#39;ve used to unpack the public key:\r\n\r\n    public static byte[] extractData(final @NonNull PublicKey publicKey) {\r\n        final SubjectPublicKeyInfo subjectPublicKeyInfo =\r\n                SubjectPublicKeyInfo.getInstance(publicKey.getEncoded());\r\n        final byte[] encodedBytes = subjectPublicKeyInfo.getPublicKeyData().getBytes();\r\n        final byte[] publicKeyData = new byte[encodedBytes.length - 1];\r\n\r\n        System.arraycopy(encodedBytes, 1, publicKeyData, 0, encodedBytes.length - 1);\r\n\r\n        return publicKeyData;\r\n    }\r\n\r\n\r\n  [1]: http://www.bouncycastle.org/","title":"Java compact representation of ECC PublicKey","body":"<p>Here is a <a href=\"http://www.bouncycastle.org/\" rel=\"nofollow noreferrer\">BouncyCastle</a> approach I've used to unpack the public key:</p>\n\n<pre><code>public static byte[] extractData(final @NonNull PublicKey publicKey) {\n    final SubjectPublicKeyInfo subjectPublicKeyInfo =\n            SubjectPublicKeyInfo.getInstance(publicKey.getEncoded());\n    final byte[] encodedBytes = subjectPublicKeyInfo.getPublicKeyData().getBytes();\n    final byte[] publicKeyData = new byte[encodedBytes.length - 1];\n\n    System.arraycopy(encodedBytes, 1, publicKeyData, 0, encodedBytes.length - 1);\n\n    return publicKeyData;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6546196,"reputation":725,"user_id":5116581,"accept_rate":67,"display_name":"Arya Pourtabatabaie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510175660,"creation_date":1510175660,"answer_id":47189813,"question_id":28172710,"body_markdown":"With BouncyCastle, `ECPoint.getEncoded(true)` returns a compressed representation of the point. Basically the affine X coordinate with a sign bit for the affine Y.","title":"Java compact representation of ECC PublicKey","body":"<p>With BouncyCastle, <code>ECPoint.getEncoded(true)</code> returns a compressed representation of the point. Basically the affine X coordinate with a sign bit for the affine Y.</p>\n"},{"tags":[],"owner":{"account_id":65390,"reputation":424,"user_id":192453,"display_name":"blebleble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621847952,"creation_date":1621847952,"answer_id":67669525,"question_id":28172710,"body_markdown":"In 2021 just use the [Tink][1] library\r\n```\r\npublic static byte[] pointEncode(EllipticCurves.CurveType curveType,\r\n                                 EllipticCurves.PointFormatType format,\r\n                                 ECPoint point)\r\n                          throws GeneralSecurityException\r\n```\r\n\r\n\r\n  [1]: https://google.github.io/tink/javadoc/tink/1.2.1/com/google/crypto/tink/subtle/EllipticCurves.html","title":"Java compact representation of ECC PublicKey","body":"<p>In 2021 just use the <a href=\"https://google.github.io/tink/javadoc/tink/1.2.1/com/google/crypto/tink/subtle/EllipticCurves.html\" rel=\"nofollow noreferrer\">Tink</a> library</p>\n<pre><code>public static byte[] pointEncode(EllipticCurves.CurveType curveType,\n                                 EllipticCurves.PointFormatType format,\n                                 ECPoint point)\n                          throws GeneralSecurityException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672451015,"creation_date":1671941670,"answer_id":74911475,"question_id":28172710,"body_markdown":"A one line BC approach is:\r\n\r\n~~~java\r\nEC5Util.convertPoint(ecPublicKey.getParams(), ecPublicKey.getW()).getEncoded(true);\r\n~~~\r\n\r\n`ecPublicKey` is a Java `ECPublicKey`.\r\n\r\n__Note:__ Using compressed points is absolutely fine in 2022. The hilarious patents have expired. See [Cryptography StackExchange](https://crypto.stackexchange.com/a/80066/83336).","title":"Java compact representation of ECC PublicKey","body":"<p>A one line BC approach is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EC5Util.convertPoint(ecPublicKey.getParams(), ecPublicKey.getW()).getEncoded(true);\n</code></pre>\n<p><code>ecPublicKey</code> is a Java <code>ECPublicKey</code>.</p>\n<p><strong>Note:</strong> Using compressed points is absolutely fine in 2022. The hilarious patents have expired. See <a href=\"https://crypto.stackexchange.com/a/80066/83336\">Cryptography StackExchange</a>.</p>\n"}],"owner":{"account_id":234136,"reputation":3733,"user_id":500103,"accept_rate":85,"display_name":"Daimon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5869,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":6,"score":7,"last_activity_date":1672451015,"creation_date":1422368450,"question_id":28172710,"body_markdown":"`java.security.PublicKey#getEncoded()` returns X509 representation of key which in case of ECC adds a lot of overhead compared to raw ECC values.\r\n\r\nI&#39;d like to be able to convert PublicKey to byte array (and vice versa) in most compact representation (i.e. as small byte chunk as possible).\r\n\r\nKeyType (ECC) and concrete curve type are known in advance so information about them do not need to be encoded.\r\n\r\nSolution can use Java API, BouncyCastle or any other custom code/library (as long as license does not imply need to open source proprietary code in which it will be used).","title":"Java compact representation of ECC PublicKey","body":"<p><code>java.security.PublicKey#getEncoded()</code> returns X509 representation of key which in case of ECC adds a lot of overhead compared to raw ECC values.</p>\n\n<p>I'd like to be able to convert PublicKey to byte array (and vice versa) in most compact representation (i.e. as small byte chunk as possible).</p>\n\n<p>KeyType (ECC) and concrete curve type are known in advance so information about them do not need to be encoded.</p>\n\n<p>Solution can use Java API, BouncyCastle or any other custom code/library (as long as license does not imply need to open source proprietary code in which it will be used).</p>\n"},{"tags":["java","multithreading","thread-sleep","pause"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1672450564,"post_id":74966454,"comment_id":132293308,"body_markdown":"Use a [Swing Timer](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)","body":"Use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a>"}],"owner":{"account_id":27394662,"reputation":1,"user_id":20897069,"display_name":"Michael Brison"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672450486,"answer_count":0,"score":0,"last_activity_date":1672450539,"creation_date":1672441284,"question_id":74966454,"body_markdown":"What I&#39;m trying to do is create a pause button that stops everything in the game at once. All entities are controlled via the gameThread. I have tried putting if(!gamePaused) around update and draw methods and that didn&#39;t fix it. This is my GamePanel which has the gameThread in it. Any pointers in the right direction would be a godsend. I&#39;ve been working on this for hours.\r\n\r\n`\r\n```\r\npackage main;\r\n\r\nimport entity.*;\r\nimport entity.Background;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class GamePanel extends JPanel implements Runnable {\r\n\r\n    //Panel Settings\r\n    public final int originalTileSize = 16; //16x16 pixels per tile\r\n    public final int scale = 1;\r\n    public final int tileSize = originalTileSize * scale; //48x48 pixels per tile\r\n    public final int screenColums = 16;\r\n    public final int screenRows = 16;\r\n    public final int screenWidth = tileSize * screenColums; //256 pixels width\r\n    public final int screenHeight = tileSize * screenRows; //256 pixels width\r\n    public final int FPS = 40;\r\n    public boolean gameFinished = false;\r\n\r\n    public boolean gamePaused = false;\r\n\r\n    //Initialize Components\r\n    KeyHandler keyHandler = new KeyHandler();\r\n    MouseHandler mouseHandler = new MouseHandler();\r\n    public Thread gameThread;\r\n    Player player = new Player(this, this.keyHandler, this.mouseHandler);\r\n    CapePowerUp capePowerUp = new CapePowerUp(this);\r\n    HelmetPowerUp helmetPowerUp = new HelmetPowerUp(this);\r\n    Pipe pipe = new Pipe(this);\r\n    Background background = new Background(this);\r\n\r\n    public GamePanel() {\r\n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n        this.setBackground(Color.BLACK);\r\n        this.setDoubleBuffered(true);\r\n        this.addKeyListener(keyHandler);\r\n        this.addMouseListener(mouseHandler);\r\n        this.setFocusable(true);\r\n        this.setVisible(true);\r\n    }\r\n\r\n    public void startGameThread() {\r\n        gameThread = new Thread(this);\r\n        gameThread.start();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        double drawInterval = 1000000000/FPS;\r\n        double nextDrawTime = System.nanoTime() + drawInterval;\r\n\r\n        while(gameThread != null) {\r\n            if(!gamePaused) {\r\n\r\n                update();\r\n                repaint();\r\n\r\n                try {\r\n                    double remainingTime = nextDrawTime - System.nanoTime();\r\n                    remainingTime = remainingTime / 1000000;\r\n\r\n                    if (remainingTime &lt; 0) {\r\n                        remainingTime = 0;\r\n                    }\r\n\r\n                    Thread.sleep((long) remainingTime);\r\n                    nextDrawTime += drawInterval;\r\n                } catch(InterruptedException e){\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                try {\r\n                    while(gamePaused) {\r\n                        Thread.sleep(100);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void update() {\r\n        if (gamePaused) {\r\n            return;\r\n        }\r\n\r\n        player.update();\r\n        pipe.update();\r\n        capePowerUp.update();\r\n        helmetPowerUp.update();\r\n    }\r\n\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D)g;\r\n\r\n        if (gamePaused) {\r\n            return;\r\n        }\r\n\r\n        if(!gameFinished) {\r\n            background.draw(g2);\r\n            player.draw(g2);\r\n            pipe.draw(g2);\r\n            capePowerUp.draw(g2);\r\n            helmetPowerUp.draw(g2);\r\n        }\r\n        if(gameFinished) {\r\n            player.drawDeath(g2);\r\n        }\r\n        g2.dispose();\r\n    }\r\n\r\n    public void initializeGameSettings() {\r\n        //Set Variables Back to Default\r\n        Entity.powerUpCounter = 0;\r\n        Entity.score = 0;\r\n        Entity.canSpawnPowerUp = true;\r\n        Entity.capePowerUpEnabled = false;\r\n        Entity.helmetPowerUpEnabled = false;\r\n        Entity.collisionOn = false;\r\n        gameFinished = false;\r\n        keyHandler.spacePressed = false;\r\n        mouseHandler.mouse1Pressed = false;\r\n        mouseHandler.mouse3Pressed = false;\r\n        keyHandler.canMove = true;\r\n        mouseHandler.canMove = true;\r\n\r\n        //Re-initialize components\r\n        player.initializePlayer();\r\n        pipe.initializePipe();\r\n        capePowerUp.initializePowerUp();\r\n        helmetPowerUp.initializePowerUp();\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\n\r\nAlso this is my MyFrame which has the button that controls the game being paused/not.\r\n\r\n`\r\n```\r\npackage main;\r\n\r\nimport entity.Entity;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\n\r\npublic class MyFrame extends JFrame {\r\n\r\n    public BufferedImage playerframe0;\r\n    GamePanel gamePanel;\r\n    JButton resetButton;\r\n    JButton pauseButton;\r\n\r\n    MyFrame() {\r\n        //Gets and Sets icon for JFrame\r\n        BufferedImage image;\r\n        getImage();\r\n        image = playerframe0;\r\n        this.setIconImage(image);\r\n\r\n        //JFrame Options/Settings\r\n        this.setTitle(&quot;Flappy Leet&quot;);\r\n        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        this.setSize(270,270);\r\n        this.setResizable(false);\r\n\r\n        //FlowLayout for Buttons\r\n        FlowLayout experimentLayout = new FlowLayout(FlowLayout.TRAILING,0,0);\r\n        this.setLayout(experimentLayout);\r\n\r\n        //Reset Button Settings\r\n        resetButton = new JButton(&quot;Reset&quot;);\r\n        resetButton.setForeground(Color.white);\r\n        resetButton.setBackground(Color.BLACK);\r\n        resetButton.setSize(10, 10);\r\n        resetButton.setLocation(25,25);\r\n        resetButton.addActionListener(e -&gt; gamePanel.initializeGameSettings());\r\n        resetButton.setFocusable(false);\r\n\r\n        //Reset Button Settings\r\n        pauseButton = new JButton(&quot;Pause&quot;);\r\n        pauseButton.setForeground(Color.white);\r\n        pauseButton.setBackground(Color.BLACK);\r\n        pauseButton.setSize(10, 10);\r\n        pauseButton.setLocation(25,25);\r\n        pauseButton.addActionListener(e -&gt; gamePanel.gamePaused = !gamePanel.gamePaused);\r\n        pauseButton.setFocusable(false);\r\n\r\n        gamePanel = new GamePanel();\r\n\r\n        //Components to JFrame\r\n        this.add(pauseButton);\r\n        this.add(resetButton);\r\n        this.add(gamePanel);\r\n        this.setVisible(true);\r\n\r\n        //Starts game\r\n        gamePanel.startGameThread();\r\n    }\r\n\r\n    public void getImage() {\r\n        //Gets the image for the JFrame\r\n        try {\r\n            playerframe0 = ImageIO.read(Entity.class.getResourceAsStream(&quot;/playerframe.png&quot;));\r\n        } catch(IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nThanks for anyone who can help me with this. I&#39;m starting to pull my hair out. If you&#39;d like access to my Git to get a better look at the code feel free to message me with your email and I&#39;ll send you access.\r\n\r\nI have tried setting booleans that flip each other on/off when game is paused, I have tried doing .wait() and using .notify(), I&#39;ve tried using chatgpt to help me figure out the issue aswell. I feel like I&#39;m going around in circles now. I just want the game to pause and not have the frames the game was paused to effect the player once the game is unpaused.","title":"When my gameThread is sleeping, whenever the gameThread stops sleeping, for every gametick the pause screen wasup, those ticks effect player","body":"<p>What I'm trying to do is create a pause button that stops everything in the game at once. All entities are controlled via the gameThread. I have tried putting if(!gamePaused) around update and draw methods and that didn't fix it. This is my GamePanel which has the gameThread in it. Any pointers in the right direction would be a godsend. I've been working on this for hours.</p>\n<p>`</p>\n<pre><code>package main;\n\nimport entity.*;\nimport entity.Background;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class GamePanel extends JPanel implements Runnable {\n\n    //Panel Settings\n    public final int originalTileSize = 16; //16x16 pixels per tile\n    public final int scale = 1;\n    public final int tileSize = originalTileSize * scale; //48x48 pixels per tile\n    public final int screenColums = 16;\n    public final int screenRows = 16;\n    public final int screenWidth = tileSize * screenColums; //256 pixels width\n    public final int screenHeight = tileSize * screenRows; //256 pixels width\n    public final int FPS = 40;\n    public boolean gameFinished = false;\n\n    public boolean gamePaused = false;\n\n    //Initialize Components\n    KeyHandler keyHandler = new KeyHandler();\n    MouseHandler mouseHandler = new MouseHandler();\n    public Thread gameThread;\n    Player player = new Player(this, this.keyHandler, this.mouseHandler);\n    CapePowerUp capePowerUp = new CapePowerUp(this);\n    HelmetPowerUp helmetPowerUp = new HelmetPowerUp(this);\n    Pipe pipe = new Pipe(this);\n    Background background = new Background(this);\n\n    public GamePanel() {\n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n        this.setBackground(Color.BLACK);\n        this.setDoubleBuffered(true);\n        this.addKeyListener(keyHandler);\n        this.addMouseListener(mouseHandler);\n        this.setFocusable(true);\n        this.setVisible(true);\n    }\n\n    public void startGameThread() {\n        gameThread = new Thread(this);\n        gameThread.start();\n    }\n\n    @Override\n    public void run() {\n        double drawInterval = 1000000000/FPS;\n        double nextDrawTime = System.nanoTime() + drawInterval;\n\n        while(gameThread != null) {\n            if(!gamePaused) {\n\n                update();\n                repaint();\n\n                try {\n                    double remainingTime = nextDrawTime - System.nanoTime();\n                    remainingTime = remainingTime / 1000000;\n\n                    if (remainingTime &lt; 0) {\n                        remainingTime = 0;\n                    }\n\n                    Thread.sleep((long) remainingTime);\n                    nextDrawTime += drawInterval;\n                } catch(InterruptedException e){\n                    e.printStackTrace();\n                }\n            } else {\n                try {\n                    while(gamePaused) {\n                        Thread.sleep(100);\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    public void update() {\n        if (gamePaused) {\n            return;\n        }\n\n        player.update();\n        pipe.update();\n        capePowerUp.update();\n        helmetPowerUp.update();\n    }\n\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g;\n\n        if (gamePaused) {\n            return;\n        }\n\n        if(!gameFinished) {\n            background.draw(g2);\n            player.draw(g2);\n            pipe.draw(g2);\n            capePowerUp.draw(g2);\n            helmetPowerUp.draw(g2);\n        }\n        if(gameFinished) {\n            player.drawDeath(g2);\n        }\n        g2.dispose();\n    }\n\n    public void initializeGameSettings() {\n        //Set Variables Back to Default\n        Entity.powerUpCounter = 0;\n        Entity.score = 0;\n        Entity.canSpawnPowerUp = true;\n        Entity.capePowerUpEnabled = false;\n        Entity.helmetPowerUpEnabled = false;\n        Entity.collisionOn = false;\n        gameFinished = false;\n        keyHandler.spacePressed = false;\n        mouseHandler.mouse1Pressed = false;\n        mouseHandler.mouse3Pressed = false;\n        keyHandler.canMove = true;\n        mouseHandler.canMove = true;\n\n        //Re-initialize components\n        player.initializePlayer();\n        pipe.initializePipe();\n        capePowerUp.initializePowerUp();\n        helmetPowerUp.initializePowerUp();\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>Also this is my MyFrame which has the button that controls the game being paused/not.</p>\n<p>`</p>\n<pre><code>package main;\n\nimport entity.Entity;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\n\npublic class MyFrame extends JFrame {\n\n    public BufferedImage playerframe0;\n    GamePanel gamePanel;\n    JButton resetButton;\n    JButton pauseButton;\n\n    MyFrame() {\n        //Gets and Sets icon for JFrame\n        BufferedImage image;\n        getImage();\n        image = playerframe0;\n        this.setIconImage(image);\n\n        //JFrame Options/Settings\n        this.setTitle(&quot;Flappy Leet&quot;);\n        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        this.setSize(270,270);\n        this.setResizable(false);\n\n        //FlowLayout for Buttons\n        FlowLayout experimentLayout = new FlowLayout(FlowLayout.TRAILING,0,0);\n        this.setLayout(experimentLayout);\n\n        //Reset Button Settings\n        resetButton = new JButton(&quot;Reset&quot;);\n        resetButton.setForeground(Color.white);\n        resetButton.setBackground(Color.BLACK);\n        resetButton.setSize(10, 10);\n        resetButton.setLocation(25,25);\n        resetButton.addActionListener(e -&gt; gamePanel.initializeGameSettings());\n        resetButton.setFocusable(false);\n\n        //Reset Button Settings\n        pauseButton = new JButton(&quot;Pause&quot;);\n        pauseButton.setForeground(Color.white);\n        pauseButton.setBackground(Color.BLACK);\n        pauseButton.setSize(10, 10);\n        pauseButton.setLocation(25,25);\n        pauseButton.addActionListener(e -&gt; gamePanel.gamePaused = !gamePanel.gamePaused);\n        pauseButton.setFocusable(false);\n\n        gamePanel = new GamePanel();\n\n        //Components to JFrame\n        this.add(pauseButton);\n        this.add(resetButton);\n        this.add(gamePanel);\n        this.setVisible(true);\n\n        //Starts game\n        gamePanel.startGameThread();\n    }\n\n    public void getImage() {\n        //Gets the image for the JFrame\n        try {\n            playerframe0 = ImageIO.read(Entity.class.getResourceAsStream(&quot;/playerframe.png&quot;));\n        } catch(IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>Thanks for anyone who can help me with this. I'm starting to pull my hair out. If you'd like access to my Git to get a better look at the code feel free to message me with your email and I'll send you access.</p>\n<p>I have tried setting booleans that flip each other on/off when game is paused, I have tried doing .wait() and using .notify(), I've tried using chatgpt to help me figure out the issue aswell. I feel like I'm going around in circles now. I just want the game to pause and not have the frames the game was paused to effect the player once the game is unpaused.</p>\n"},{"tags":["java","blockchain","solidity","smartcontracts","web3-java"],"comments":[{"owner":{"account_id":6347262,"reputation":74,"user_id":4927391,"display_name":"holangun"},"score":0,"creation_date":1681576528,"post_id":74962781,"comment_id":134080334,"body_markdown":"did you manage to find out what was wrong?","body":"did you manage to find out what was wrong?"}],"owner":{"account_id":3319229,"reputation":445,"user_id":2790801,"accept_rate":76,"display_name":"b.lopes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672449737,"creation_date":1672411668,"question_id":74962781,"body_markdown":"Trying to generate the java objects for the HelloWorld solidity contract below, it was not able to generate all of it:\r\n\r\n```\r\n// SPDX-License-Identifier: MIT\r\n\r\npragma solidity &gt;= 0.8.17;\r\n\r\nimport &quot;../@openzeppelin/contracts/token/ERC721/ERC721.sol&quot;;\r\nimport &quot;../@openzeppelin/contracts/utils/Counters.sol&quot;;\r\nimport &quot;../@openzeppelin/contracts/access/Ownable.sol&quot;;\r\nimport &quot;../@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol&quot;;\r\n\r\ncontract HelloWorld is ERC721URIStorage, Ownable {\r\n    using Counters for Counters.Counter;\r\n    Counters.Counter private _tokenIdCounter;\r\n...\r\n}\r\n```\r\nAnd the returned error:\r\n\r\n```\r\n[ERROR] \r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[Lorg.web3j.protocol.core.methods.response.AbiDefinition;` from Object value (token `JsonToken.START_OBJECT`)\r\n at [Source: (String)&quot;{\r\n  &quot;name&quot;: &quot;@openzeppelin/contracts&quot;,\r\n  &quot;description&quot;: &quot;Secure Smart Contract library for Solidity&quot;,\r\n  &quot;version&quot;: &quot;4.8.0&quot;,\r\n  ...\r\n  &quot;keywords&quot;: [\r\n    &quot;solidity&quot;,\r\n    &quot;ethereum&quot;[truncated 304 chars]; line: 1, column: 1]\r\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from (MismatchedInputException.java:59)\r\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch (DeserializationContext.java:1741)\r\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken (DeserializationContext.java:1515)\r\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken (DeserializationContext.java:1462)\r\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.handleNonArray (ObjectArrayDeserializer.java:343)...\r\n```\r\n","title":"web3j-maven-plugin fail to deserialize @openzeppelin dependencies","body":"<p>Trying to generate the java objects for the HelloWorld solidity contract below, it was not able to generate all of it:</p>\n<pre><code>// SPDX-License-Identifier: MIT\n\npragma solidity &gt;= 0.8.17;\n\nimport &quot;../@openzeppelin/contracts/token/ERC721/ERC721.sol&quot;;\nimport &quot;../@openzeppelin/contracts/utils/Counters.sol&quot;;\nimport &quot;../@openzeppelin/contracts/access/Ownable.sol&quot;;\nimport &quot;../@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol&quot;;\n\ncontract HelloWorld is ERC721URIStorage, Ownable {\n    using Counters for Counters.Counter;\n    Counters.Counter private _tokenIdCounter;\n...\n}\n</code></pre>\n<p>And the returned error:</p>\n<pre><code>[ERROR] \ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[Lorg.web3j.protocol.core.methods.response.AbiDefinition;` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (String)&quot;{\n  &quot;name&quot;: &quot;@openzeppelin/contracts&quot;,\n  &quot;description&quot;: &quot;Secure Smart Contract library for Solidity&quot;,\n  &quot;version&quot;: &quot;4.8.0&quot;,\n  ...\n  &quot;keywords&quot;: [\n    &quot;solidity&quot;,\n    &quot;ethereum&quot;[truncated 304 chars]; line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from (MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch (DeserializationContext.java:1741)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken (DeserializationContext.java:1515)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken (DeserializationContext.java:1462)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.handleNonArray (ObjectArrayDeserializer.java:343)...\n</code></pre>\n"},{"tags":["java","android","game-development"],"answers":[{"tags":[],"owner":{"display_name":"user4655559"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672449154,"creation_date":1672449154,"answer_id":74966978,"question_id":74965382,"body_markdown":"Here is how I fixed it.\r\n\r\nI created new objects instead of referencing objects in my object source list.\r\n\r\nso instead of something like this:\r\n\r\ngameItem = (GameItem)sourceList.get(randomSourceIndex).get(randomItemIndex);\r\n\r\nI&#39;m now instantiating new Objects that are strongly TYPED:\r\n\r\n            HpItem hpItem = new HpItem(0,0,160,160,0);\r\n            FluxItem fluxItem = new FluxItem(0,0,160,160,0);\r\n            RemoteAccessItem remoteAccessItem = new RemoteAccessItem(0,0,160,160,0);\r\n\r\nThen I copy the last field (qty) to the corresponding item by type.. this probably doesnt make any sense to you without seeing more code.  But what I think was happening is that when I am drawing out the positions of the reward items,  items of the same index from the source list were just getting stacked on top of each other. because they all referenced the same object from the sourcelist.  Anyway, I spent all day trying to figure this out and read alot of articles and documentation on copying objects and cloning and such.  But I guess it just came down to using the NEW keyword and recreating the objects... but I&#39;m still unclear about it all. There is no cloning or deep copying.. So isnt the reference still in tact? I dont know but,  creating new objects fixed it. This method is called when the enemies are generated on startup. \r\nI didnt include it in my OP because I didnt know the issue needed to be tracked back this far.  Cheers\r\n\r\nThe full method\r\n\r\n      public static ArrayList&lt;GameItem&gt; GenerateGameItemsRandom() {\r\n\r\n        int numRewards = ThreadLocalRandom.current().nextInt(0, 5);\r\n\r\n        //create a temp master source list\r\n        ArrayList&lt;GameItem&gt; returnItem = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;ArrayList&gt; sourceList = new ArrayList&lt;&gt;();\r\n\r\n        sourceList.add(SocketManager.ConsumableSourceList);\r\n        //sourceList.add(SocketManager.WeaponSourceList);\r\n        GameItem gameItem;\r\n\r\n        int randomSourceIndex;\r\n        int randomItemIndex;\r\n        for(int i=0;i&lt;numRewards;i++){\r\n\r\n            randomSourceIndex = ThreadLocalRandom.current().nextInt(0, sourceList.size());\r\n            randomItemIndex = ThreadLocalRandom.current().nextInt(0, sourceList.get(randomSourceIndex).size());\r\n\r\n            gameItem = (GameItem)sourceList.get(randomSourceIndex).get(randomItemIndex);\r\n            HpItem hpItem = new HpItem(0,0,160,160,0);\r\n            FluxItem fluxItem = new FluxItem(0,0,160,160,0);\r\n            RemoteAccessItem remoteAccessItem = new RemoteAccessItem(0,0,160,160,0);\r\n\r\n\r\n            switch (randomSourceIndex) {\r\n\r\n                case 0: //consumable\r\n\r\n                    switch(gameItem.itemType){\r\n\r\n                        case 2:\r\n                            HpItem item_hp = (HpItem)gameItem;\r\n                            hpItem.qty = item_hp.qty;\r\n                            returnItem.add(hpItem);\r\n                            break;\r\n                        case 3:\r\n                            FluxItem item_flux = (FluxItem)gameItem;\r\n                            fluxItem.qty = item_flux.qty;\r\n                            returnItem.add(fluxItem);\r\n                            break;\r\n                        case 4:\r\n                            RemoteAccessItem item_ra = (RemoteAccessItem) gameItem;\r\n                            remoteAccessItem.qty = item_ra.qty;\r\n                            returnItem.add(item_ra);\r\n                            break;\r\n\r\n                    }\r\n\r\n\r\n                    break;\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        return returnItem;\r\n\r\n    }\r\n\r\n","title":"Canvas Drawing From List Objects Random non drawing","body":"<p>Here is how I fixed it.</p>\n<p>I created new objects instead of referencing objects in my object source list.</p>\n<p>so instead of something like this:</p>\n<p>gameItem = (GameItem)sourceList.get(randomSourceIndex).get(randomItemIndex);</p>\n<p>I'm now instantiating new Objects that are strongly TYPED:</p>\n<pre><code>        HpItem hpItem = new HpItem(0,0,160,160,0);\n        FluxItem fluxItem = new FluxItem(0,0,160,160,0);\n        RemoteAccessItem remoteAccessItem = new RemoteAccessItem(0,0,160,160,0);\n</code></pre>\n<p>Then I copy the last field (qty) to the corresponding item by type.. this probably doesnt make any sense to you without seeing more code.  But what I think was happening is that when I am drawing out the positions of the reward items,  items of the same index from the source list were just getting stacked on top of each other. because they all referenced the same object from the sourcelist.  Anyway, I spent all day trying to figure this out and read alot of articles and documentation on copying objects and cloning and such.  But I guess it just came down to using the NEW keyword and recreating the objects... but I'm still unclear about it all. There is no cloning or deep copying.. So isnt the reference still in tact? I dont know but,  creating new objects fixed it. This method is called when the enemies are generated on startup.\nI didnt include it in my OP because I didnt know the issue needed to be tracked back this far.  Cheers</p>\n<p>The full method</p>\n<pre><code>  public static ArrayList&lt;GameItem&gt; GenerateGameItemsRandom() {\n\n    int numRewards = ThreadLocalRandom.current().nextInt(0, 5);\n\n    //create a temp master source list\n    ArrayList&lt;GameItem&gt; returnItem = new ArrayList&lt;&gt;();\n    ArrayList&lt;ArrayList&gt; sourceList = new ArrayList&lt;&gt;();\n\n    sourceList.add(SocketManager.ConsumableSourceList);\n    //sourceList.add(SocketManager.WeaponSourceList);\n    GameItem gameItem;\n\n    int randomSourceIndex;\n    int randomItemIndex;\n    for(int i=0;i&lt;numRewards;i++){\n\n        randomSourceIndex = ThreadLocalRandom.current().nextInt(0, sourceList.size());\n        randomItemIndex = ThreadLocalRandom.current().nextInt(0, sourceList.get(randomSourceIndex).size());\n\n        gameItem = (GameItem)sourceList.get(randomSourceIndex).get(randomItemIndex);\n        HpItem hpItem = new HpItem(0,0,160,160,0);\n        FluxItem fluxItem = new FluxItem(0,0,160,160,0);\n        RemoteAccessItem remoteAccessItem = new RemoteAccessItem(0,0,160,160,0);\n\n\n        switch (randomSourceIndex) {\n\n            case 0: //consumable\n\n                switch(gameItem.itemType){\n\n                    case 2:\n                        HpItem item_hp = (HpItem)gameItem;\n                        hpItem.qty = item_hp.qty;\n                        returnItem.add(hpItem);\n                        break;\n                    case 3:\n                        FluxItem item_flux = (FluxItem)gameItem;\n                        fluxItem.qty = item_flux.qty;\n                        returnItem.add(fluxItem);\n                        break;\n                    case 4:\n                        RemoteAccessItem item_ra = (RemoteAccessItem) gameItem;\n                        remoteAccessItem.qty = item_ra.qty;\n                        returnItem.add(item_ra);\n                        break;\n\n                }\n\n\n                break;\n\n        }\n\n    }\n\n\n\n    return returnItem;\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user4655559"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672449154,"creation_date":1672430387,"question_id":74965382,"body_markdown":"When I try to draw game items that are in a list.  Some don&#39;t draw. \r\nI have noticed that the issue occurs when objects that are the same are the ones casing teh issue. Canvas will draw one of them, but skip the rest.  I have attached a short video that shows the problem (19 seconds).  \r\n&lt;http://www.nexxiom.com/temp/qq-screen1.mp4&gt;\r\n\r\nI should mention that this issue does not occur anywhere else such as in the inventory screens.\r\n\r\nHere is the code for my BattleResultDialog:\r\n\r\n\r\n\r\n\r\n    \r\n    Paint fadePaint;\r\n    int scrollMarginTop;\r\n    int scrollPaddingTop;\r\n    int frameCount;\r\n\r\n    int questTextSize, completeTextSize;\r\n\r\n    boolean battleWin;\r\n\r\n    ArrayList&lt;GameItem&gt;rewards;\r\n\r\n    public BattleResultDialog(boolean battleComplete, Enemy enemyObject) {\r\n        super(540,1080,1080,2160);\r\n        rewards = enemyObject.rewardsList;\r\n        scrollMarginTop = scaling.DrawY(100);\r\n        scrollPaddingTop = scaling.DrawY(100);\r\n\r\n        fadePaint = new Paint();\r\n        fadePaint.setARGB(0,0,0,0);\r\n\r\n        questTextSize = 0;\r\n\r\n        if(MainActivity.playerData.hp &gt; 0 &amp;&amp; battleComplete){\r\n            battleWin = true;\r\n            int count = 0;\r\n\r\n            for (GameItem g: rewards) {\r\n                    g.updateXY(((160*count)),1080);\r\n                    Log.d(&quot;ITEMTYPE:&quot;,g.itemType+&quot;:: X:&quot;+g.x+&quot;: y:&quot;+g.y);\r\n                count++;\r\n            }\r\n            SocketManager.myConsumableList.addAll(rewards);\r\n            MainActivity.playerData.xp += SocketManager.Enemylist.get(MainActivity.playerData.currentEnemyIndex).xpReward;\r\n            MainActivity.playerData.currentEnemyIndex = 0;\r\n            mapSelectIcon = new MapSelectIcon(0,0,0,0,false,1,MainActivity.playerData.currentEnemyIndex);\r\n            SocketManager.Enemylist.get(MainActivity.playerData.currentEnemyIndex).isDead = true;\r\n            SocketManager.Enemylist.remove(enemyObject);\r\n\r\n            for (Enemy e:SocketManager.Enemylist) {\r\n                e.ResetMapIcons();\r\n            }\r\n\r\n            MainActivity.playerData.TallyLVL();\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public void update() {\r\n        super.update();\r\n        frameCount++;\r\n\r\n\r\n        if(MainActivity.playerData.justUpgradedLVL){\r\n            //run an level up animation\r\n            if(frameCount &gt;30){\r\n                MainActivity.playerData.justUpgradedLVL = false;\r\n            }\r\n\r\n        }\r\n\r\n        if(battleWin){\r\n            for (GameItem g:rewards) {\r\n                g.update();\r\n            }\r\n        }\r\n\r\n        if(frameCount &gt;30 &amp;&amp; frameCount &lt; 60){\r\n            //&quot;QUEST&quot; POP IN\r\n            questTextSize = questTextSize + 4;\r\n\r\n        }\r\n        if(frameCount &gt;45 &amp;&amp; frameCount &lt; 75){\r\n            //&quot;COMPLETE&quot; POP IN\r\n            completeTextSize = completeTextSize + 4;\r\n\r\n        }\r\n\r\n\r\n\r\n        if(fadePaint.getAlpha() &lt;= 245){\r\n            fadePaint.setAlpha(fadePaint.getAlpha()+9);\r\n        }else{\r\n            fadePaint.setAlpha(255);\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    public void draw(Canvas canvas) {\r\n        canvas.drawBitmap(Globals.SplashBG,0,0,fadePaint); //zindex 0\r\n\r\n       // canvas.drawBitmap(BigScroll,super.rect.left,super.rect.top+scrollMarginTop,fadePaint);\r\n\r\n            canvas.drawText(&quot;BATTLE&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(100) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, questTextSize, 0, 6, R.font.grobold,255));\r\n            canvas.drawText(&quot;BATTLE&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(100) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, questTextSize, 0, 0, R.font.grobold,255));\r\n            canvas.drawText(&quot;RESULTS&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(300) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, completeTextSize, 0, 6, R.font.grobold,255));\r\n            canvas.drawText(&quot;RESULTS&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(300) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, completeTextSize, 0, 0, R.font.grobold,255));\r\n\r\n            if(battleWin){\r\n\r\n                canvas.drawText(&quot;YALL WON&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(700) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, completeTextSize, 0, 6, R.font.grobold,255));\r\n                canvas.drawText(&quot;YALL WON&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(700) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, completeTextSize, 0, 0, R.font.grobold,255));\r\n\r\n                //Show the reward Items\r\n                canvas.drawText(&quot;numRewards&quot;+rewards.size(), super.rect.centerX(), super.rect.top + scaling.DrawY(1400), TextGen.getFont(android.R.color.black, 40, 0, 6, R.font.grobold,255));\r\n                canvas.drawText(&quot;numRewards&quot;+rewards.size(), super.rect.centerX(), super.rect.top + scaling.DrawY(1400), TextGen.getFont(android.R.color.white, 40, 0, 0, R.font.grobold,255));\r\n\r\n                    for (GameItem g:rewards) {\r\n                        g.draw(canvas);\r\n                    }\r\n\r\n\r\n\r\n            }else{\r\n\r\n                canvas.drawText(&quot;YALL DIED&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(700) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, completeTextSize, 0, 6, R.font.grobold,255));\r\n                canvas.drawText(&quot;YALL DIED&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(700) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, completeTextSize, 0, 0, R.font.grobold,255));\r\n\r\n\r\n            }\r\n       // canvas.drawText(&quot;numRewards &quot;+this.rewards.size(), super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(1400) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, 60, 0, 6, R.font.grobold,255));\r\n       // canvas.drawText(&quot;numRewards &quot;+this.rewards.size(), super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(1400) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, 60, 0, 0, R.font.grobold,255));\r\n\r\n        if(MainActivity.playerData.justUpgradedLVL){\r\n            //run an level up animation\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n        public void onTouchEvent(MotionEvent e){\r\n\r\n\r\n\r\n       //checkPointNextBTN.onTouchEvent(e);\r\n\r\n            float posX = e.getX();\r\n            float posY = e.getY();\r\n\r\n            switch (e.getActionMasked()) {\r\n\r\n                case MotionEvent.ACTION_UP: {\r\n\r\n                    if (posX &gt;= super.rect.left &amp;&amp; posX &lt;= super.rect.right &amp;&amp; posY &gt;= super.rect.top &amp;&amp; posY &lt;= super.rect.bottom) {\r\n\r\n                       // if()\r\n                            if(battleWin){\r\n\r\n                                MainActivity.SaveDataConsumableList(Globals.context);\r\n                                MainActivity.SaveData(Globals.context);\r\n                                MainActivity.GLOBALS.GSM = new GameStateManager(0); //Scanner\r\n\r\n                            }else{\r\n                                MainActivity.SaveDataConsumableList(Globals.context);\r\n                                MainActivity.SaveData(Globals.context);\r\n                                MainActivity.GLOBALS.GSM = new GameStateManager(3); //Character Screen\r\n                            }\r\n\r\n\r\n                            return;\r\n\r\n\r\n                      \r\n\r\n\r\n\r\n                    }\r\n\r\n\r\n                }\r\n                break;\r\n                case MotionEvent.ACTION_DOWN: {\r\n\r\n                }\r\n                break;\r\n\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\nLOGCAT\r\n\r\nITEMTYPE:      4:: X:-80: y:1000\r\n\r\nITEMTYPE:      2:: X:80: y:1000\r\n\r\nITEMTYPE:      4:: X:240: y:1000\r\n\r\nITEMTYPE:      3:: X:400: y:1000\r\n\r\nITEMTYPE:      4:: X:560: y:1000","title":"Canvas Drawing From List Objects Random non drawing","body":"<p>When I try to draw game items that are in a list.  Some don't draw.\nI have noticed that the issue occurs when objects that are the same are the ones casing teh issue. Canvas will draw one of them, but skip the rest.  I have attached a short video that shows the problem (19 seconds).<br />\n<a href=\"http://www.nexxiom.com/temp/qq-screen1.mp4\" rel=\"nofollow noreferrer\">http://www.nexxiom.com/temp/qq-screen1.mp4</a></p>\n<p>I should mention that this issue does not occur anywhere else such as in the inventory screens.</p>\n<p>Here is the code for my BattleResultDialog:</p>\n<pre><code>Paint fadePaint;\nint scrollMarginTop;\nint scrollPaddingTop;\nint frameCount;\n\nint questTextSize, completeTextSize;\n\nboolean battleWin;\n\nArrayList&lt;GameItem&gt;rewards;\n\npublic BattleResultDialog(boolean battleComplete, Enemy enemyObject) {\n    super(540,1080,1080,2160);\n    rewards = enemyObject.rewardsList;\n    scrollMarginTop = scaling.DrawY(100);\n    scrollPaddingTop = scaling.DrawY(100);\n\n    fadePaint = new Paint();\n    fadePaint.setARGB(0,0,0,0);\n\n    questTextSize = 0;\n\n    if(MainActivity.playerData.hp &gt; 0 &amp;&amp; battleComplete){\n        battleWin = true;\n        int count = 0;\n\n        for (GameItem g: rewards) {\n                g.updateXY(((160*count)),1080);\n                Log.d(&quot;ITEMTYPE:&quot;,g.itemType+&quot;:: X:&quot;+g.x+&quot;: y:&quot;+g.y);\n            count++;\n        }\n        SocketManager.myConsumableList.addAll(rewards);\n        MainActivity.playerData.xp += SocketManager.Enemylist.get(MainActivity.playerData.currentEnemyIndex).xpReward;\n        MainActivity.playerData.currentEnemyIndex = 0;\n        mapSelectIcon = new MapSelectIcon(0,0,0,0,false,1,MainActivity.playerData.currentEnemyIndex);\n        SocketManager.Enemylist.get(MainActivity.playerData.currentEnemyIndex).isDead = true;\n        SocketManager.Enemylist.remove(enemyObject);\n\n        for (Enemy e:SocketManager.Enemylist) {\n            e.ResetMapIcons();\n        }\n\n        MainActivity.playerData.TallyLVL();\n\n\n    }\n\n}\n\n\n\n\n\n\npublic void update() {\n    super.update();\n    frameCount++;\n\n\n    if(MainActivity.playerData.justUpgradedLVL){\n        //run an level up animation\n        if(frameCount &gt;30){\n            MainActivity.playerData.justUpgradedLVL = false;\n        }\n\n    }\n\n    if(battleWin){\n        for (GameItem g:rewards) {\n            g.update();\n        }\n    }\n\n    if(frameCount &gt;30 &amp;&amp; frameCount &lt; 60){\n        //&quot;QUEST&quot; POP IN\n        questTextSize = questTextSize + 4;\n\n    }\n    if(frameCount &gt;45 &amp;&amp; frameCount &lt; 75){\n        //&quot;COMPLETE&quot; POP IN\n        completeTextSize = completeTextSize + 4;\n\n    }\n\n\n\n    if(fadePaint.getAlpha() &lt;= 245){\n        fadePaint.setAlpha(fadePaint.getAlpha()+9);\n    }else{\n        fadePaint.setAlpha(255);\n\n    }\n\n\n\n\n\n\n\n\n}\n\npublic void draw(Canvas canvas) {\n    canvas.drawBitmap(Globals.SplashBG,0,0,fadePaint); //zindex 0\n\n   // canvas.drawBitmap(BigScroll,super.rect.left,super.rect.top+scrollMarginTop,fadePaint);\n\n        canvas.drawText(&quot;BATTLE&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(100) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, questTextSize, 0, 6, R.font.grobold,255));\n        canvas.drawText(&quot;BATTLE&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(100) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, questTextSize, 0, 0, R.font.grobold,255));\n        canvas.drawText(&quot;RESULTS&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(300) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, completeTextSize, 0, 6, R.font.grobold,255));\n        canvas.drawText(&quot;RESULTS&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(300) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, completeTextSize, 0, 0, R.font.grobold,255));\n\n        if(battleWin){\n\n            canvas.drawText(&quot;YALL WON&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(700) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, completeTextSize, 0, 6, R.font.grobold,255));\n            canvas.drawText(&quot;YALL WON&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(700) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, completeTextSize, 0, 0, R.font.grobold,255));\n\n            //Show the reward Items\n            canvas.drawText(&quot;numRewards&quot;+rewards.size(), super.rect.centerX(), super.rect.top + scaling.DrawY(1400), TextGen.getFont(android.R.color.black, 40, 0, 6, R.font.grobold,255));\n            canvas.drawText(&quot;numRewards&quot;+rewards.size(), super.rect.centerX(), super.rect.top + scaling.DrawY(1400), TextGen.getFont(android.R.color.white, 40, 0, 0, R.font.grobold,255));\n\n                for (GameItem g:rewards) {\n                    g.draw(canvas);\n                }\n\n\n\n        }else{\n\n            canvas.drawText(&quot;YALL DIED&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(700) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, completeTextSize, 0, 6, R.font.grobold,255));\n            canvas.drawText(&quot;YALL DIED&quot;, super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(700) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, completeTextSize, 0, 0, R.font.grobold,255));\n\n\n        }\n   // canvas.drawText(&quot;numRewards &quot;+this.rewards.size(), super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(1400) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.black, 60, 0, 6, R.font.grobold,255));\n   // canvas.drawText(&quot;numRewards &quot;+this.rewards.size(), super.rect.left + (super.rect.width() / 2), super.rect.top + scaling.DrawY(1400) + scrollPaddingTop + scrollMarginTop, TextGen.getFont(android.R.color.white, 60, 0, 0, R.font.grobold,255));\n\n    if(MainActivity.playerData.justUpgradedLVL){\n        //run an level up animation\n\n\n    }\n\n\n\n\n}\n\n\n    public void onTouchEvent(MotionEvent e){\n\n\n\n   //checkPointNextBTN.onTouchEvent(e);\n\n        float posX = e.getX();\n        float posY = e.getY();\n\n        switch (e.getActionMasked()) {\n\n            case MotionEvent.ACTION_UP: {\n\n                if (posX &gt;= super.rect.left &amp;&amp; posX &lt;= super.rect.right &amp;&amp; posY &gt;= super.rect.top &amp;&amp; posY &lt;= super.rect.bottom) {\n\n                   // if()\n                        if(battleWin){\n\n                            MainActivity.SaveDataConsumableList(Globals.context);\n                            MainActivity.SaveData(Globals.context);\n                            MainActivity.GLOBALS.GSM = new GameStateManager(0); //Scanner\n\n                        }else{\n                            MainActivity.SaveDataConsumableList(Globals.context);\n                            MainActivity.SaveData(Globals.context);\n                            MainActivity.GLOBALS.GSM = new GameStateManager(3); //Character Screen\n                        }\n\n\n                        return;\n\n\n                  \n\n\n\n                }\n\n\n            }\n            break;\n            case MotionEvent.ACTION_DOWN: {\n\n            }\n            break;\n\n\n        }\n\n    }\n\n\n\n}\n</code></pre>\n<p>LOGCAT</p>\n<p>ITEMTYPE:      4:: X:-80: y:1000</p>\n<p>ITEMTYPE:      2:: X:80: y:1000</p>\n<p>ITEMTYPE:      4:: X:240: y:1000</p>\n<p>ITEMTYPE:      3:: X:400: y:1000</p>\n<p>ITEMTYPE:      4:: X:560: y:1000</p>\n"},{"tags":["java","spring-boot","docker","cdp","web-folders"],"answers":[{"tags":[],"owner":{"account_id":10030252,"reputation":11,"user_id":19767912,"display_name":"user982455"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672447936,"creation_date":1672447936,"answer_id":74966895,"question_id":74957502,"body_markdown":"After some further investigation and reading on their page I found out that the version I used was free version and you need to buy license for the newer versions.","title":"How to add cpd4j 6.1.0 API to Spring Boot application","body":"<p>After some further investigation and reading on their page I found out that the version I used was free version and you need to buy license for the newer versions.</p>\n"}],"owner":{"account_id":10030252,"reputation":11,"user_id":19767912,"display_name":"user982455"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672447936,"creation_date":1672365121,"question_id":74957502,"body_markdown":"I am working with a Spring Boot application where I use cdp4j 3.0.15\r\nhttps://mvnrepository.com/artifact/io.webfolder/cdp4j\r\n\r\nI have installed Chrome in a docker container and can access it thru localhost:9222.\r\nI would like to use this browser with my application but I can&#180;t understand how to set it up.\r\n\r\nI found a class Options.Builder (here: https://webfolder.io/cdp4j/javadoc/io/webfolder/cdp/Options.html) which seems to be in cdp4j 6.1.0 API but I can&#180;t understand how to add this to my project.\r\n\r\nI can see that in Options.Builder there is a method called browserExecutablePath() which I thought I might be able to add localhost:9222 and try.\r\n\r\nI would like to use the Chrome in the docker instead of the local chrome.\r\n\r\nI have googled around and tried to find the jar for cdp4j 6.1.0 API without any success.\r\n\r\nI have difficult to find any good documentation around this.","title":"How to add cpd4j 6.1.0 API to Spring Boot application","body":"<p>I am working with a Spring Boot application where I use cdp4j 3.0.15\n<a href=\"https://mvnrepository.com/artifact/io.webfolder/cdp4j\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.webfolder/cdp4j</a></p>\n<p>I have installed Chrome in a docker container and can access it thru localhost:9222.\nI would like to use this browser with my application but I can´t understand how to set it up.</p>\n<p>I found a class Options.Builder (here: <a href=\"https://webfolder.io/cdp4j/javadoc/io/webfolder/cdp/Options.html\" rel=\"nofollow noreferrer\">https://webfolder.io/cdp4j/javadoc/io/webfolder/cdp/Options.html</a>) which seems to be in cdp4j 6.1.0 API but I can´t understand how to add this to my project.</p>\n<p>I can see that in Options.Builder there is a method called browserExecutablePath() which I thought I might be able to add localhost:9222 and try.</p>\n<p>I would like to use the Chrome in the docker instead of the local chrome.</p>\n<p>I have googled around and tried to find the jar for cdp4j 6.1.0 API without any success.</p>\n<p>I have difficult to find any good documentation around this.</p>\n"},{"tags":["java","spring-boot","oauth-2.0","todoist"],"owner":{"account_id":20809423,"reputation":1,"user_id":15283718,"display_name":"Matheus Marques"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672446938,"creation_date":1672446905,"question_id":74966828,"body_markdown":"I am trying to create a simple OAuth2 Client to access Todoist API features like Todoist Webhook. I am using Spring Boot 3.0 with Spring OAuth2 Client. When get redirected to the access_token this error occurs:\r\n\r\n```\r\n2022-12-30T21:22:41.948-03:00 ERROR 3858 --- [p-nio-80-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\n\r\norg.springframework.http.converter.HttpMessageNotReadableException: An error occurred reading the OAuth 2.0 Error: JSON parse error: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n\tat org.springframework.security.oauth2.core.http.converter.OAuth2ErrorHttpMessageConverter.readInternal(OAuth2ErrorHttpMessageConverter.java:84) ~[spring-security-oauth2-core-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.oauth2.core.http.converter.OAuth2ErrorHttpMessageConverter.readInternal(OAuth2ErrorHttpMessageConverter.java:48) ~[spring-security-oauth2-core-6.0.1.jar:6.0.1]\r\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.read(AbstractHttpMessageConverter.java:199) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.oauth2.client.http.OAuth2ErrorResponseErrorHandler.handleError(OAuth2ErrorResponseErrorHandler.java:64) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:704) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getResponse(DefaultAuthorizationCodeTokenResponseClient.java:88) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:77) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:56) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.oauth2.client.authentication.OAuth2AuthorizationCodeAuthenticationProvider.authenticate(OAuth2AuthorizationCodeAuthenticationProvider.java:85) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.oauth2.client.authentication.OAuth2LoginAuthenticationProvider.authenticate(OAuth2LoginAuthenticationProvider.java:107) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.0.1.jar:6.0.1]\r\n```\r\n\r\nI believe Todoist API is returning  an HTML page rather than a the access token and token type but not sure. This is my applications.yml file:\r\n\r\n```\r\nserver:\r\n  port: 80\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          todoist:\r\n            client-id: ${TODOIST_CLIENT_ID}\r\n            client-secret: ${TODOIST_CLIENT_SECRET}\r\n            scope: data:read_write\r\n            authorization-grant-type: authorization_code\r\n            redirect-uri: &quot;http://localhost/login/oauth2/code/{registrationId}&quot;\r\n            client-authentication-method: post\r\n        provider:\r\n          todoist:\r\n            authorization-uri: https://todoist.com/oauth/authorize\r\n            token-uri: https://todoist.com/oauth/access_token\r\n```\r\n\r\nIs there something wrong with my yaml file? Do I need to create a custom handler for the response from Todoist?\r\n\r\nI tried to debug the RestTemplate calls but they do not show me the result of the request with the access tokens.","title":"Spring OAuth2: Error when redirecting to the access_token from Todoist OAuth2","body":"<p>I am trying to create a simple OAuth2 Client to access Todoist API features like Todoist Webhook. I am using Spring Boot 3.0 with Spring OAuth2 Client. When get redirected to the access_token this error occurs:</p>\n<pre><code>2022-12-30T21:22:41.948-03:00 ERROR 3858 --- [p-nio-80-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n\norg.springframework.http.converter.HttpMessageNotReadableException: An error occurred reading the OAuth 2.0 Error: JSON parse error: Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n    at org.springframework.security.oauth2.core.http.converter.OAuth2ErrorHttpMessageConverter.readInternal(OAuth2ErrorHttpMessageConverter.java:84) ~[spring-security-oauth2-core-6.0.1.jar:6.0.1]\n    at org.springframework.security.oauth2.core.http.converter.OAuth2ErrorHttpMessageConverter.readInternal(OAuth2ErrorHttpMessageConverter.java:48) ~[spring-security-oauth2-core-6.0.1.jar:6.0.1]\n    at org.springframework.http.converter.AbstractHttpMessageConverter.read(AbstractHttpMessageConverter.java:199) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.oauth2.client.http.OAuth2ErrorResponseErrorHandler.handleError(OAuth2ErrorResponseErrorHandler.java:64) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:704) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getResponse(DefaultAuthorizationCodeTokenResponseClient.java:88) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\n    at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:77) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\n    at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:56) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\n    at org.springframework.security.oauth2.client.authentication.OAuth2AuthorizationCodeAuthenticationProvider.authenticate(OAuth2AuthorizationCodeAuthenticationProvider.java:85) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\n    at org.springframework.security.oauth2.client.authentication.OAuth2LoginAuthenticationProvider.authenticate(OAuth2LoginAuthenticationProvider.java:107) ~[spring-security-oauth2-client-6.0.1.jar:6.0.1]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.0.1.jar:6.0.1]\n</code></pre>\n<p>I believe Todoist API is returning  an HTML page rather than a the access token and token type but not sure. This is my applications.yml file:</p>\n<pre><code>server:\n  port: 80\nspring:\n  security:\n    oauth2:\n      client:\n        registration:\n          todoist:\n            client-id: ${TODOIST_CLIENT_ID}\n            client-secret: ${TODOIST_CLIENT_SECRET}\n            scope: data:read_write\n            authorization-grant-type: authorization_code\n            redirect-uri: &quot;http://localhost/login/oauth2/code/{registrationId}&quot;\n            client-authentication-method: post\n        provider:\n          todoist:\n            authorization-uri: https://todoist.com/oauth/authorize\n            token-uri: https://todoist.com/oauth/access_token\n</code></pre>\n<p>Is there something wrong with my yaml file? Do I need to create a custom handler for the response from Todoist?</p>\n<p>I tried to debug the RestTemplate calls but they do not show me the result of the request with the access tokens.</p>\n"},{"tags":["java","mongodb","logging","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":25997650,"reputation":380,"user_id":19766455,"display_name":"Lashen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672446544,"creation_date":1672446544,"answer_id":74966800,"question_id":74952225,"body_markdown":"So, you need this:\r\n\r\n    LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n    Logger rootLogger = loggerContext.getLogger(&quot;org.mongodb.driver&quot;);\r\n    rootLogger.setLevel(Level.OFF);\r\n\r\nThese are the imports required:\r\n\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.LoggerContext;\r\n    import org.slf4j.LoggerFactory;\r\n\r\nHere&#39;s a one line code for doing this:\r\n\r\n    ((LoggerContext) LoggerFactory.getILoggerFactory()).getLogger(&quot;org.mongodb.driver&quot;).setLevel(Level.ERROR);\r\n\r\nIt sets all logs to only error.","title":"How to disable logs for MongoDB in minecraft Spigot plugin?","body":"<p>So, you need this:</p>\n<pre><code>LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\nLogger rootLogger = loggerContext.getLogger(&quot;org.mongodb.driver&quot;);\nrootLogger.setLevel(Level.OFF);\n</code></pre>\n<p>These are the imports required:</p>\n<pre><code>import ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.LoggerContext;\nimport org.slf4j.LoggerFactory;\n</code></pre>\n<p>Here's a one line code for doing this:</p>\n<pre><code>((LoggerContext) LoggerFactory.getILoggerFactory()).getLogger(&quot;org.mongodb.driver&quot;).setLevel(Level.ERROR);\n</code></pre>\n<p>It sets all logs to only error.</p>\n"}],"owner":{"account_id":21068937,"reputation":1,"user_id":15485564,"display_name":"Karol Pudło"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672446544,"creation_date":1672323324,"question_id":74952225,"body_markdown":"I&#39;m trying to hide Level.INFO logs from MongoDB because it takes too much space in my console (it literally takes me about 50 lines in cmd).\r\n\r\n\r\n\r\nThat is code that i tried:\r\n```\r\nLogger logger = Logger.getLogger(&quot;org.mongodb.driver&quot;);\r\nlogger.setLevel(Level.OFF);\r\n```\r\nand my pom.xml dependencies:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n        &lt;version&gt;4.8.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.4&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.4&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n","title":"How to disable logs for MongoDB in minecraft Spigot plugin?","body":"<p>I'm trying to hide Level.INFO logs from MongoDB because it takes too much space in my console (it literally takes me about 50 lines in cmd).</p>\n<p>That is code that i tried:</p>\n<pre><code>Logger logger = Logger.getLogger(&quot;org.mongodb.driver&quot;);\nlogger.setLevel(Level.OFF);\n</code></pre>\n<p>and my pom.xml dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n        &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n        &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;version&gt;4.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.json&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\n        &lt;version&gt;1.1.4&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n        &lt;version&gt;1.1.4&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","dropwizard","javassist","java-17"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1672422093,"post_id":74964285,"comment_id":132288293,"body_markdown":"I&#39;m guessing you&#39;ll still have the problem but Java 12 stopped being supported 3 years ago.  Java 11 and 17 are the current &quot;long term support&quot; releases.  I&#39;d start by not spending any more time on Java 12 and move to Java 17.  Again, it&#39;s likely you&#39;ll still have the issue.  Are you sure that all of the libraries you&#39;re using support releases past Java 8?","body":"I&#39;m guessing you&#39;ll still have the problem but Java 12 stopped being supported 3 years ago.  Java 11 and 17 are the current &quot;long term support&quot; releases.  I&#39;d start by not spending any more time on Java 12 and move to Java 17.  Again, it&#39;s likely you&#39;ll still have the issue.  Are you sure that all of the libraries you&#39;re using support releases past Java 8?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1672422149,"post_id":74964285,"comment_id":132288306,"body_markdown":"Related to that, if you updated all libraries to their latest version, it&#39;s a good bet you updated them to versions that require a java that&#39;s many major versions newer than 12. If you absolutely need java 12, update them to &quot;not the latest version&quot; and instead find the versions that were released to target java 12. But the above advise should take precedence: update to java 17 instead if you can.","body":"Related to that, if you updated all libraries to their latest version, it&#39;s a good bet you updated them to versions that require a java that&#39;s many major versions newer than 12. If you absolutely need java 12, update them to &quot;not the latest version&quot; and instead find the versions that were released to target java 12. But the above advise should take precedence: update to java 17 instead if you can."},{"owner":{"account_id":2808554,"reputation":53,"user_id":2415278,"display_name":"siva"},"score":0,"creation_date":1672425337,"post_id":74964285,"comment_id":132289021,"body_markdown":"Even I wanted to upgrade to Java 17, but I have dependency on AWS EMR. The latest version of emr-6.9.0 supports Java 12 - https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-690-release.html. Yes, I made sure of the java version supports when upgrading the libraries.","body":"Even I wanted to upgrade to Java 17, but I have dependency on AWS EMR. The latest version of emr-6.9.0 supports Java 12 - <a href=\"https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-690-release.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/emr/latest/ReleaseGuide/&hellip;</a>. Yes, I made sure of the java version supports when upgrading the libraries."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1672426082,"post_id":74964285,"comment_id":132289153,"body_markdown":"I see nothing related to the Java version.  I see a dependency on the AWS SDK of 1.12.x but not Java.  This was release in December of 2022 - no way AWS is having you have a dependency on a test version of Java.  Did I miss it somewhere?","body":"I see nothing related to the Java version.  I see a dependency on the AWS SDK of 1.12.x but not Java.  This was release in December of 2022 - no way AWS is having you have a dependency on a test version of Java.  Did I miss it somewhere?"},{"owner":{"account_id":2808554,"reputation":53,"user_id":2415278,"display_name":"siva"},"score":0,"creation_date":1672427688,"post_id":74964285,"comment_id":132289523,"body_markdown":"My bad. I read it as only Java 12 is supported by emr. I will try running my project with java 17. Thanks for pointing it out.","body":"My bad. I read it as only Java 12 is supported by emr. I will try running my project with java 17. Thanks for pointing it out."},{"owner":{"account_id":2808554,"reputation":53,"user_id":2415278,"display_name":"siva"},"score":0,"creation_date":1672446363,"post_id":74964285,"comment_id":132292809,"body_markdown":"@stdunbar I changed my project JDK to version 17, but I still got same error and stack trace :( . Do you have any pointers based on the stack trace? Thanks","body":"@stdunbar I changed my project JDK to version 17, but I still got same error and stack trace :( . Do you have any pointers based on the stack trace? Thanks"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1672448528,"post_id":74964285,"comment_id":132293085,"body_markdown":"I think this is the solution: https://stackoverflow.com/a/72172132/139985.  (It says 3.29.x is not ready ... but that is out of date.  See https://github.com/jboss-javassist/javassist/releases).","body":"I think this is the solution: <a href=\"https://stackoverflow.com/a/72172132/139985\">stackoverflow.com/a/72172132/139985</a>.  (It says 3.29.x is not ready ... but that is out of date.  See <a href=\"https://github.com/jboss-javassist/javassist/releases\" rel=\"nofollow noreferrer\">github.com/jboss-javassist/javassist/releases</a>)."},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1672455958,"post_id":74964285,"comment_id":132293746,"body_markdown":"You need to upgrade your libraries or dependencies to those that support recent Java versions.","body":"You need to upgrade your libraries or dependencies to those that support recent Java versions."},{"owner":{"account_id":2808554,"reputation":53,"user_id":2415278,"display_name":"siva"},"score":0,"creation_date":1672560034,"post_id":74964285,"comment_id":132305765,"body_markdown":"Thanks @StephenC. It&#39;s exactly the same issue I am having. I already upgraded Javassist lib to 3.29.2-GA which is latest and greatest version, but I still having the issue.","body":"Thanks @StephenC. It&#39;s exactly the same issue I am having. I already upgraded Javassist lib to 3.29.2-GA which is latest and greatest version, but I still having the issue."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672569581,"post_id":74964285,"comment_id":132306773,"body_markdown":"Of course an upgrade to a version working without opening JDK modules would be the best. But just in case that does not work, what happens if you try `--add-opens java.base/jdk.internal.reflect=ALL-UNNAMED?`","body":"Of course an upgrade to a version working without opening JDK modules would be the best. But just in case that does not work, what happens if you try <code>--add-opens java.base&#47;jdk.internal.reflect=ALL-UNNAMED?</code>"}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672446388,"creation_date":1672445972,"answer_id":74966765,"question_id":74964285,"body_markdown":"This is the problem:\r\n\r\n&gt; https://learn.microsoft.com/en-us/java/openjdk/transition-from-java-8-to-java-11\r\n&gt; \r\n&gt; In Java 11, using reflection to access to JDK-internal API will result\r\n&gt; in an illegal reflective access warning. By default, the warning is\r\n&gt; only issued for the first illegal access. Setting\r\n&gt; `--illegal-access=warn` will cause a warning on every illegal\r\n&gt; reflective access. You will find more case if illegal access with the\r\n&gt; option set to warn. But you will also get a lot of redundant warnings.\r\n&gt; Once the application runs on Java 11, set `--illegal-access=deny` to\r\n&gt; mimic the future behavior of the Java runtime. Starting with Java 16,\r\n&gt; the default will be `--illegal-access=deny`.\r\n\r\nUp thorugh Java 16, the workaround has been `--illegal-access=permit`, but apparently that&#39;s no longer an option:\r\n\r\n&gt; https://github.com/NationalSecurityAgency/ghidra/issues/3355\r\n&gt; \r\n&gt; JDK 17: --illegal-access=permit removed #3355\r\n\r\nThis post discusses the background behind and rationale for introducing this &quot;breaking change&quot;:\r\n\r\nhttps://blogs.oracle.com/javamagazine/post/a-peek-into-java-17-continuing-the-drive-to-encapsulate-the-java-runtime-internals\r\n\r\n","title":"Java 8 to 17 upgrade issue : java.lang.IllegalAccessError","body":"<p>This is the problem:</p>\n<blockquote>\n<p><a href=\"https://learn.microsoft.com/en-us/java/openjdk/transition-from-java-8-to-java-11\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/openjdk/transition-from-java-8-to-java-11</a></p>\n<p>In Java 11, using reflection to access to JDK-internal API will result\nin an illegal reflective access warning. By default, the warning is\nonly issued for the first illegal access. Setting\n<code>--illegal-access=warn</code> will cause a warning on every illegal\nreflective access. You will find more case if illegal access with the\noption set to warn. But you will also get a lot of redundant warnings.\nOnce the application runs on Java 11, set <code>--illegal-access=deny</code> to\nmimic the future behavior of the Java runtime. Starting with Java 16,\nthe default will be <code>--illegal-access=deny</code>.</p>\n</blockquote>\n<p>Up thorugh Java 16, the workaround has been <code>--illegal-access=permit</code>, but apparently that's no longer an option:</p>\n<blockquote>\n<p><a href=\"https://github.com/NationalSecurityAgency/ghidra/issues/3355\" rel=\"nofollow noreferrer\">https://github.com/NationalSecurityAgency/ghidra/issues/3355</a></p>\n<p>JDK 17: --illegal-access=permit removed #3355</p>\n</blockquote>\n<p>This post discusses the background behind and rationale for introducing this &quot;breaking change&quot;:</p>\n<p><a href=\"https://blogs.oracle.com/javamagazine/post/a-peek-into-java-17-continuing-the-drive-to-encapsulate-the-java-runtime-internals\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/javamagazine/post/a-peek-into-java-17-continuing-the-drive-to-encapsulate-the-java-runtime-internals</a></p>\n"}],"owner":{"account_id":2808554,"reputation":53,"user_id":2415278,"display_name":"siva"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1840,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672446388,"creation_date":1672421715,"question_id":74964285,"body_markdown":"I am trying to upgrade a project from Java 8 to Java 17. I am getting following error when to trying to bring up the service and not sure how to fix it. I have searched for java.lang.IllegalAccessError issues and all I see are related to Powermock. \r\nJavassist library is not explicitly specified, but Gradle using the latest version available(org.javassist:javassist:3.28.0-GA) and I don&#39;t see multiple versions loaded. I tried ` --illegal-access=permit` VM option, but didn&#39;t work. Any ideas or suggestion? Thanks in advance.\r\n\r\nAs part of Java 8 to 17 upgrade, I upgraded all the important libraries to the latest version including Dropwizard framework suit, Lombok, Apache Spark, Swagger, and etc.\r\n\r\n\r\n```\r\njava.lang.IllegalAccessError: class jdk.internal.reflect.ConstructorAccessorImpl loaded by com.company.custom.metadata.run.CompanyLoader @f2ff811 cannot access jdk/internal/reflect superclass jdk.internal.reflect.MagicAccessorImpl\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:877)\r\n\tat javassist.Loader.findClass(Loader.java:419)\r\n\tat javassist.Loader.loadClass(Loader.java:350)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2189)\r\n\tat java.base/jdk.internal.reflect.ClassDefiner.defineClass(ClassDefiner.java:65)\r\n\tat java.base/jdk.internal.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:400)\r\n\tat java.base/jdk.internal.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:394)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:310)\r\n\tat java.base/jdk.internal.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:393)\r\n\tat java.base/jdk.internal.reflect.MethodAccessorGenerator.generateConstructor(MethodAccessorGenerator.java:92)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:55)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n\tat org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2573)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\r\n\tat org.hibernate.validator.internal.util.logging.LoggerFactory.make(LoggerFactory.java:22)\r\n\tat org.hibernate.validator.internal.engine.ValidatorFactoryConfigurationHelper.&lt;clinit&gt;(ValidatorFactoryConfigurationHelper.java:51)\r\n\tat org.hibernate.validator.internal.engine.ValidatorFactoryImpl.&lt;init&gt;(ValidatorFactoryImpl.java:135)\r\n\tat org.hibernate.validator.HibernateValidator.buildValidatorFactory(HibernateValidator.java:38)\r\n\tat org.hibernate.validator.internal.engine.AbstractConfigurationImpl.buildValidatorFactory(AbstractConfigurationImpl.java:433)\r\n\tat io.dropwizard.jersey.validation.Validators.newValidatorFactory(Validators.java:26)\r\n\tat io.dropwizard.setup.Bootstrap.&lt;init&gt;(Bootstrap.java:67)\r\n\tat io.dropwizard.Application.run(Application.java:86)\r\n\tat com.company.api.CompanyService.main(CompanyService.java:571)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat javassist.Loader.run(Loader.java:328)\r\n\tat com.company.custom.metadata.CompanyServiceRun.run(CompanyServiceRun.java:151)\r\n\tat com.company.custom.metadata.CompanyServiceRun.main(CompanyServiceRun.java:198)\r\n```\r\n\r\nEdit: As per the suggestion, now I am upgrading my project to Java 17. But I still got the same error and stack trace.","title":"Java 8 to 17 upgrade issue : java.lang.IllegalAccessError","body":"<p>I am trying to upgrade a project from Java 8 to Java 17. I am getting following error when to trying to bring up the service and not sure how to fix it. I have searched for java.lang.IllegalAccessError issues and all I see are related to Powermock.\nJavassist library is not explicitly specified, but Gradle using the latest version available(org.javassist:javassist:3.28.0-GA) and I don't see multiple versions loaded. I tried <code> --illegal-access=permit</code> VM option, but didn't work. Any ideas or suggestion? Thanks in advance.</p>\n<p>As part of Java 8 to 17 upgrade, I upgraded all the important libraries to the latest version including Dropwizard framework suit, Lombok, Apache Spark, Swagger, and etc.</p>\n<pre><code>java.lang.IllegalAccessError: class jdk.internal.reflect.ConstructorAccessorImpl loaded by com.company.custom.metadata.run.CompanyLoader @f2ff811 cannot access jdk/internal/reflect superclass jdk.internal.reflect.MagicAccessorImpl\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:877)\n    at javassist.Loader.findClass(Loader.java:419)\n    at javassist.Loader.loadClass(Loader.java:350)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.System$2.defineClass(System.java:2189)\n    at java.base/jdk.internal.reflect.ClassDefiner.defineClass(ClassDefiner.java:65)\n    at java.base/jdk.internal.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:400)\n    at java.base/jdk.internal.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:394)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:310)\n    at java.base/jdk.internal.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:393)\n    at java.base/jdk.internal.reflect.MethodAccessorGenerator.generateConstructor(MethodAccessorGenerator.java:92)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:55)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\n    at org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2573)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\n    at org.hibernate.validator.internal.util.logging.LoggerFactory.make(LoggerFactory.java:22)\n    at org.hibernate.validator.internal.engine.ValidatorFactoryConfigurationHelper.&lt;clinit&gt;(ValidatorFactoryConfigurationHelper.java:51)\n    at org.hibernate.validator.internal.engine.ValidatorFactoryImpl.&lt;init&gt;(ValidatorFactoryImpl.java:135)\n    at org.hibernate.validator.HibernateValidator.buildValidatorFactory(HibernateValidator.java:38)\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.buildValidatorFactory(AbstractConfigurationImpl.java:433)\n    at io.dropwizard.jersey.validation.Validators.newValidatorFactory(Validators.java:26)\n    at io.dropwizard.setup.Bootstrap.&lt;init&gt;(Bootstrap.java:67)\n    at io.dropwizard.Application.run(Application.java:86)\n    at com.company.api.CompanyService.main(CompanyService.java:571)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at javassist.Loader.run(Loader.java:328)\n    at com.company.custom.metadata.CompanyServiceRun.run(CompanyServiceRun.java:151)\n    at com.company.custom.metadata.CompanyServiceRun.main(CompanyServiceRun.java:198)\n</code></pre>\n<p>Edit: As per the suggestion, now I am upgrading my project to Java 17. But I still got the same error and stack trace.</p>\n"},{"tags":["java","json","spring-mvc","jackson"],"comments":[{"owner":{"account_id":7538790,"reputation":1069,"user_id":5724223,"accept_rate":90,"display_name":"Mike"},"score":0,"creation_date":1591352923,"post_id":62213076,"comment_id":110029504,"body_markdown":"Hi, I think you should add the whole error log including the Caused By part (that can give you more information). You can edit your question and include that.","body":"Hi, I think you should add the whole error log including the Caused By part (that can give you more information). You can edit your question and include that."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1591353154,"post_id":62213076,"comment_id":110029624,"body_markdown":"That&#39;s Jackson trying to map JSON to a String, and failing. Why aren&#39;t you mapping it to an object that the JSON represents? What are you doing with the String?","body":"That&#39;s Jackson trying to map JSON to a String, and failing. Why aren&#39;t you mapping it to an object that the JSON represents? What are you doing with the String?"},{"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"score":0,"creation_date":1591354632,"post_id":62213076,"comment_id":110030418,"body_markdown":"there are plenty of situations to do so. \nIn current one we save the raw req into DB.\nIn other cases we do so because we hashing the payload (HMAC or any), and placing hash value into header (sort of authentication)","body":"there are plenty of situations to do so.  In current one we save the raw req into DB. In other cases we do so because we hashing the payload (HMAC or any), and placing hash value into header (sort of authentication)"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1672444366,"creation_date":1591359332,"answer_id":62215149,"question_id":62213076,"body_markdown":"When you use [`configureMessageConverters`][1] and add to the `List&lt;HttpMessageConverter&lt;?&gt;&gt;`, you&#39;re telling Spring MVC that the instances you add are the only `HttpMessageConverter`s you&#39;ll need. As a result, it won&#39;t add the defaults that it maintains. The javadoc states\r\n\r\n&gt; Configure the `HttpMessageConverters` to use for reading or writing to\r\n&gt; the body of the request or response. If no converters are added,\r\n&gt; a default list of converters is registered.\r\n&gt; \r\n&gt; Note that adding converters to the list, turns off default converter\r\n&gt; registration. To simply add a converter without impacting default\r\n&gt; registration, consider using the method\r\n&gt; `extendMessageConverters(java.util.List)` instead.\r\n\r\n\r\nOne of those defaults is a [`StringHttpMessageConverter`][2] which can essentially parse any request body content type into a `String`. Since you overwrote the list, it won&#39;t be registered and Spring MVC won&#39;t be able to populate your `@RequestBody` annotated `String` parameter.\r\n\r\nAs suggested in the Javadoc, you can either use [`extendMessageConverters(java.util.List)`][3] to add your custom `MappingJackson2HttpMessageConverter` (although you&#39;ll probably want to replace the existing default `MappingJackson2HttpMessageConverter` instance) or you can add a `StringHttpMessageConverter` to your list yourself.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html#configureMessageConverters-java.util.List-\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/StringHttpMessageConverter.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html#extendMessageConverters-java.util.List-","title":"SpringMVC, why &#39;@RequestBody String body&#39; stops working after adding MappingJackson2HttpMessageConverter","body":"<p>When you use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html#configureMessageConverters-java.util.List-\" rel=\"nofollow noreferrer\"><code>configureMessageConverters</code></a> and add to the <code>List&lt;HttpMessageConverter&lt;?&gt;&gt;</code>, you're telling Spring MVC that the instances you add are the only <code>HttpMessageConverter</code>s you'll need. As a result, it won't add the defaults that it maintains. The javadoc states</p>\n<blockquote>\n<p>Configure the <code>HttpMessageConverters</code> to use for reading or writing to\nthe body of the request or response. If no converters are added,\na default list of converters is registered.</p>\n<p>Note that adding converters to the list, turns off default converter\nregistration. To simply add a converter without impacting default\nregistration, consider using the method\n<code>extendMessageConverters(java.util.List)</code> instead.</p>\n</blockquote>\n<p>One of those defaults is a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/StringHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>StringHttpMessageConverter</code></a> which can essentially parse any request body content type into a <code>String</code>. Since you overwrote the list, it won't be registered and Spring MVC won't be able to populate your <code>@RequestBody</code> annotated <code>String</code> parameter.</p>\n<p>As suggested in the Javadoc, you can either use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html#extendMessageConverters-java.util.List-\" rel=\"nofollow noreferrer\"><code>extendMessageConverters(java.util.List)</code></a> to add your custom <code>MappingJackson2HttpMessageConverter</code> (although you'll probably want to replace the existing default <code>MappingJackson2HttpMessageConverter</code> instance) or you can add a <code>StringHttpMessageConverter</code> to your list yourself.</p>\n"}],"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62215149,"answer_count":1,"score":1,"last_activity_date":1672444366,"creation_date":1591352355,"question_id":62213076,"body_markdown":"need some help with **jackson2** and **springMvc**.\r\n\r\nIssue: when adding MappingJackson2HttpMessageConverter jsons fail to parse (previously they did parse) with error below.\r\n\r\nI have following `@Controller` method in code:\r\n\r\n    @RequestMapping(value = &quot;/process&quot;, method = RequestMethod.POST, produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    public @ResponseBody\r\n    &lt;T extends ApiRequest&gt; ApiResponse process(HttpServletRequest httpRequest, @RequestBody String requestJson) {... }\r\n\r\nAnd it have been working just fine until I&#39;ve decided to add `MappingJackson2HttpMessageConverter()` into converters. Like this:\r\n\r\n        @Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        mapper.registerModule(new JavaTimeModule());\r\n\r\n        mapper.registerModule(new Hibernate5Module());\r\n\r\n        converters.add(new MappingJackson2HttpMessageConverter(mapper));\r\n    }\r\n\r\nbut after I do so, my requests stop to work with the following error in log:\r\n\r\n    2020-06-05 12:40:01.518 WARN [qtp1892075175-21] (DefaultHandlerExceptionResolver.java:419) - Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse err\r\n    or: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.\r\n    String` out of START_OBJECT token\r\n     at [Source: (PushbackInputStream); line: 1, column: 1]\r\n\r\ncan&#39;t get why.\r\nI know that i&#39;m still able to get body from `servletInputStream`, but don&#39;t want do so.\r\nHoping that maybe smb could give some clarity on such issue.\r\n\r\nThanks a lot!\r\n\r\nI use Spring 5, jackson2.\r\n\r\nI&#39;ve been asked about some additional logs, here they are (DEBUG level), but there are no errors or stacktraces, don&#39;t know whether they are helpful:\r\n\r\n        2020-06-05 14:08:33.731DEBUG [qtp1557520822-17] (HttpChannel.java:643) - REQUEST for //dev-vend:9990/api/v1/process on HttpChannelOverHttp@5283ae73{r=1,c=false,a=IDLE,uri=//dev-vend:9990/api/v1/process}\r\n        POST //dev-vend:9990/api/v1/process HTTP/1.1\r\n        Host: dev-vend:9990\r\n        User-Agent: curl/7.54.0\r\n        Content-Type: application/json\r\n        Accept: application/json\r\n        X-AID: 77702\r\n        Content-Length: 91\r\n        2020-06-05 14:08:33.731DEBUG [qtp1557520822-17] (HttpConnection.java:359) - HttpConnection@1a50894c[p=HttpParser{s=CONTENT,0 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=IDLE,uri=//dev-vend:9990/api/v1/process}&lt;-SocketChannelEndPoint@78d4ac8e{/172.16.21.40:62214&lt;-&gt;/172.16.12.33:9990,OPEN,fill=-,flush=-,to=16/30000}{io=0/0,kio=0,kro=1}-&gt;HttpConnection@1a50894c[p=HttpParser{s=CONTENT,0 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=IDLE,uri=//dev-vend:9990/api/v1/process} parsed true HttpParser{s=CONTENT,0 of 91}\r\n        2020-06-05 14:08:33.731DEBUG [qtp1557520822-17] (HttpChannel.java:302) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=IDLE,uri=//dev-vend:9990/api/v1/process} handle //dev-vend:9990/api/v1/process\r\n        2020-06-05 14:08:33.731DEBUG [qtp1557520822-17] (HttpChannelState.java:217) - handling HttpChannelState@630d22c8{s=IDLE a=NOT_ASYNC i=true r=IDLE w=false}\r\n        2020-06-05 14:08:33.732DEBUG [qtp1557520822-17] (HttpChannel.java:315) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} action DISPATCH\r\n        2020-06-05 14:08:33.733DEBUG [qtp1557520822-17] (Server.java:519) - REQUEST POST /api/v1/process on HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}\r\n        2020-06-05 14:08:33.733DEBUG [qtp1557520822-17] (ContextHandler.java:1076) - scope null||/api/v1/process @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@5e3a577a{/,[file:///tmp/jetty-docbase.28728569537940407.9990/],AVAILABLE}\r\n        2020-06-05 14:08:33.733DEBUG [qtp1557520822-17] (ContextHandler.java:1153) - context=||/api/v1/process @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@5e3a577a{/,[file:///tmp/jetty-docbase.28728569537940407.9990/],AVAILABLE}\r\n        2020-06-05 14:08:33.734DEBUG [qtp1557520822-17] (SessionHandler.java:1559) - sessionHandler=org.eclipse.jetty.server.session.SessionHandler110517298==dftMaxIdleSec=1800\r\n        2020-06-05 14:08:33.734DEBUG [qtp1557520822-17] (SessionHandler.java:1560) - session=null\r\n        2020-06-05 14:08:33.738DEBUG [qtp1557520822-17] (ServletHandler.java:465) - servlet |/api/v1/process|null -&gt; dispatcherServlet@7ef5559e==org.springframework.web.servlet.DispatcherServlet,jsp=null,order=-1,inst=true\r\n        2020-06-05 14:08:33.745DEBUG [qtp1557520822-17] (ServletHandler.java:513) - chain=characterEncodingFilter-&gt;hiddenHttpMethodFilter-&gt;httpPutFormContentFilter-&gt;requestContextFilter-&gt;springSecurityFilterChain-&gt;httpTraceFilter-&gt;webMvcMetricsFilter-&gt;Jetty_WebSocketUpgradeFilter-&gt;dispatcherServlet@7ef5559e==org.springframework.web.servlet.DispatcherServlet,jsp=null,order=-1,inst=true\r\n        2020-06-05 14:08:33.750DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter characterEncodingFilter\r\n        2020-06-05 14:08:33.752DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter hiddenHttpMethodFilter\r\n        2020-06-05 14:08:33.752DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter httpPutFormContentFilter\r\n        2020-06-05 14:08:33.752DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter requestContextFilter\r\n        2020-06-05 14:08:33.754DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter springSecurityFilterChain\r\n        2020-06-05 14:08:33.760DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 1 of 12 in additional filter chain; firing Filter: &#39;WebAsyncManagerIntegrationFilter&#39;\r\n        2020-06-05 14:08:33.760DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 2 of 12 in additional filter chain; firing Filter: &#39;SecurityContextPersistenceFilter&#39;\r\n        2020-06-05 14:08:33.761DEBUG [qtp1557520822-17] (HttpSessionSecurityContextRepository.java:174) - No HttpSession currently exists\r\n        2020-06-05 14:08:33.761DEBUG [qtp1557520822-17] (HttpSessionSecurityContextRepository.java:116) - No SecurityContext was available from the HttpSession: null. A new one will be created.\r\n        2020-06-05 14:08:33.767DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 3 of 12 in additional filter chain; firing Filter: &#39;HeaderWriterFilter&#39;\r\n        2020-06-05 14:08:33.767DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 4 of 12 in additional filter chain; firing Filter: &#39;LogoutFilter&#39;\r\n        2020-06-05 14:08:33.767DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern=&#39;/logout&#39;, GET]\r\n        2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request &#39;POST /api/v1/process&#39; doesn&#39;t match &#39;GET /logout\r\n        2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern=&#39;/logout&#39;, POST]\r\n        2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : &#39;/api/v1/process&#39;; against &#39;/logout&#39;\r\n        2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern=&#39;/logout&#39;, PUT]\r\n        2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request &#39;POST /api/v1/process&#39; doesn&#39;t match &#39;PUT /logout\r\n        2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern=&#39;/logout&#39;, DELETE]\r\n        2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request &#39;POST /api/v1/process&#39; doesn&#39;t match &#39;DELETE /logout\r\n        2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (OrRequestMatcher.java:72) - No matches found\r\n        2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 5 of 12 in additional filter chain; firing Filter: &#39;UsernamePasswordAuthenticationFilter&#39;\r\n        2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : &#39;/api/v1/process&#39;; against &#39;/login&#39;\r\n        2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 6 of 12 in additional filter chain; firing Filter: &#39;RequestCacheAwareFilter&#39;\r\n        2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 7 of 12 in additional filter chain; firing Filter: &#39;SecurityContextHolderAwareRequestFilter&#39;\r\n        2020-06-05 14:08:33.775DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 8 of 12 in additional filter chain; firing Filter: &#39;AnonymousAuthenticationFilter&#39;\r\n        2020-06-05 14:08:33.776DEBUG [qtp1557520822-17] (AnonymousAuthenticationFilter.java:100) - Populated SecurityContextHolder with anonymous token: &#39;org.springframework.security.authentication.AnonymousAuthenticationToken@4a762148: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 172.16.21.40; SessionId: null; Granted Authorities: ROLE_ANONYMOUS&#39;\r\n        2020-06-05 14:08:33.776DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 9 of 12 in additional filter chain; firing Filter: &#39;SessionManagementFilter&#39;\r\n        2020-06-05 14:08:33.776DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 10 of 12 in additional filter chain; firing Filter: &#39;ExceptionTranslationFilter&#39;\r\n        2020-06-05 14:08:33.776DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 11 of 12 in additional filter chain; firing Filter: &#39;FilterSecurityInterceptor&#39;\r\n        2020-06-05 14:08:33.777DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern=&#39;/logout&#39;, GET]\r\n        2020-06-05 14:08:33.777DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request &#39;POST /api/v1/process&#39; doesn&#39;t match &#39;GET /logout\r\n        2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern=&#39;/logout&#39;, POST]\r\n        2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : &#39;/api/v1/process&#39;; against &#39;/logout&#39;\r\n        2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern=&#39;/logout&#39;, PUT]\r\n        2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request &#39;POST /api/v1/process&#39; doesn&#39;t match &#39;PUT /logout\r\n        2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern=&#39;/logout&#39;, DELETE]\r\n        2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request &#39;POST /api/v1/process&#39; doesn&#39;t match &#39;DELETE /logout\r\n        2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (OrRequestMatcher.java:72) - No matches found\r\n        2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : &#39;/api/v1/process&#39;; against &#39;/login*&#39;\r\n        2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : &#39;/api/v1/process&#39;; against &#39;/api/**&#39;\r\n        2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AbstractSecurityInterceptor.java:219) - Secure object: FilterInvocation: URL: /api/v1/process; Attributes: [permitAll]\r\n        2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AbstractSecurityInterceptor.java:348) - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@4a762148: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 172.16.21.40; SessionId: null; Granted Authorities: ROLE_ANONYMOUS\r\n        2020-06-05 14:08:33.790DEBUG [qtp1557520822-17] (AffirmativeBased.java:66) - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2e99f07b, returned: 1\r\n        2020-06-05 14:08:33.791DEBUG [qtp1557520822-17] (AbstractSecurityInterceptor.java:243) - Authorization successful\r\n        2020-06-05 14:08:33.791DEBUG [qtp1557520822-17] (AbstractSecurityInterceptor.java:256) - RunAsManager did not change Authentication object\r\n        2020-06-05 14:08:33.794DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 12 of 12 in additional filter chain; firing Filter: &#39;FilterChainProxy&#39;\r\n        2020-06-05 14:08:33.794DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : &#39;/api/v1/process&#39;; against &#39;/controller/**&#39;\r\n        2020-06-05 14:08:33.795DEBUG [qtp1557520822-17] (FilterChainProxy.java:202) - /api/v1/process has no matching filters\r\n        2020-06-05 14:08:33.795DEBUG [qtp1557520822-17] (FilterChainProxy.java:313) - /api/v1/process reached end of additional filter chain; proceeding with original chain\r\n        2020-06-05 14:08:33.795DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter httpTraceFilter\r\n        2020-06-05 14:08:33.802DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter webMvcMetricsFilter\r\n        2020-06-05 14:08:33.808DEBUG [qtp1557520822-17] (DefaultSingletonBeanRegistry.java:213) - Creating shared instance of singleton bean &#39;mvcHandlerMappingIntrospector&#39;\r\n        2020-06-05 14:08:33.821DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\r\n        2020-06-05 14:08:33.828DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:323) - Did not find handler method for [/api/v1/process]\r\n        2020-06-05 14:08:33.828DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\r\n        2020-06-05 14:08:33.829DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:323) - Did not find handler method for [/api/v1/process]\r\n        2020-06-05 14:08:33.829DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\r\n        2020-06-05 14:08:33.830DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:320) - Returning handler method [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]\r\n        2020-06-05 14:08:33.836DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter Jetty_WebSocketUpgradeFilter\r\n        2020-06-05 14:08:33.837DEBUG [qtp1557520822-17] (ServletHandler.java:1649) - call servlet dispatcherServlet@7ef5559e==org.springframework.web.servlet.DispatcherServlet,jsp=null,order=-1,inst=true\r\n        2020-06-05 14:08:33.838DEBUG [qtp1557520822-17] (DispatcherServlet.java:891) - DispatcherServlet with name &#39;dispatcherServlet&#39; processing POST request for [/api/v1/process]\r\n        2020-06-05 14:08:33.844DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\r\n        2020-06-05 14:08:33.849DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:323) - Did not find handler method for [/api/v1/process]\r\n        2020-06-05 14:08:33.849DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\r\n        2020-06-05 14:08:33.849DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:323) - Did not find handler method for [/api/v1/process]\r\n        2020-06-05 14:08:33.849DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\r\n        2020-06-05 14:08:33.850DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:320) - Returning handler method [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]\r\n        2020-06-05 14:08:33.850DEBUG [qtp1557520822-17] (OpenEntityManagerInViewInterceptor.java:88) - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n        2020-06-05 14:08:33.888DEBUG [qtp1557520822-17] (HttpConnection.java:354) - HttpConnection@1a50894c[p=HttpParser{s=CONTENT,0 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}&lt;-SocketChannelEndPoint@78d4ac8e{/172.16.21.40:62214&lt;-&gt;/172.16.12.33:9990,OPEN,fill=-,flush=-,to=173/30000}{io=0/0,kio=0,kro=1}-&gt;HttpConnection@1a50894c[p=HttpParser{s=CONTENT,0 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} parse HeapByteBuffer@58ee971e[p=171,l=262,c=8192,r=91]={POST /api/v1/proc...-Length: 91\\r\\n\\r\\n&lt;&lt;&lt;{\\n    &quot;uuid&quot;:&quot;164...hment-result&quot;\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00} {}\r\n        2020-06-05 14:08:33.889DEBUG [qtp1557520822-17] (HttpParser.java:1342) - parseNext s=CONTENT HeapByteBuffer@58ee971e[p=171,l=262,c=8192,r=91]={POST /api/v1/proc...-Length: 91\\r\\n\\r\\n&lt;&lt;&lt;{\\n    &quot;uuid&quot;:&quot;164...hment-result&quot;\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\r\n        2020-06-05 14:08:33.889DEBUG [qtp1557520822-17] (HttpChannel.java:651) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} onContent Content@89a4d20{HeapByteBufferR@68f81b03[p=171,l=262,c=8192,r=91]={POST /api/v1/proc...-Length: 91\\r\\n\\r\\n&lt;&lt;&lt;{\\n    &quot;uuid&quot;:&quot;164...hment-result&quot;\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}}\r\n        2020-06-05 14:08:33.894DEBUG [qtp1557520822-17] (HttpInput.java:607) - HttpInputOverHTTP@5f89ed3[c=0,q=0,[0]=null,s=STREAM] addContent Content@89a4d20{HeapByteBufferR@68f81b03[p=171,l=262,c=8192,r=91]={POST /api/v1/proc...-Length: 91\\r\\n\\r\\n&lt;&lt;&lt;{\\n    &quot;uuid&quot;:&quot;164...hment-result&quot;\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}}\r\n        2020-06-05 14:08:33.894DEBUG [qtp1557520822-17] (HttpParser.java:1685) - CONTENT --&gt; END\r\n        2020-06-05 14:08:33.895DEBUG [qtp1557520822-17] (HttpChannel.java:659) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} onContentComplete\r\n        2020-06-05 14:08:33.895DEBUG [qtp1557520822-17] (HttpChannel.java:675) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} onRequestComplete\r\n        2020-06-05 14:08:33.895DEBUG [qtp1557520822-17] (HttpInput.java:607) - HttpInputOverHTTP@5f89ed3[c=0,q=1,[0]=EOF,s=STREAM] addContent EOF\r\n        2020-06-05 14:08:33.898DEBUG [qtp1557520822-17] (HttpConnection.java:359) - HttpConnection@1a50894c[p=HttpParser{s=END,91 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}&lt;-SocketChannelEndPoint@78d4ac8e{/172.16.21.40:62214&lt;-&gt;/172.16.12.33:9990,OPEN,fill=-,flush=-,to=181/30000}{io=0/0,kio=0,kro=1}-&gt;HttpConnection@1a50894c[p=HttpParser{s=END,91 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} parsed false HttpParser{s=END,91 of 91}\r\n        2020-06-05 14:08:33.898DEBUG [qtp1557520822-17] (HttpInput.java:297) - HttpInputOverHTTP@5f89ed3[c=1,q=1,[0]=EOF,s=STREAM] read 1 from Content@89a4d20{HeapByteBufferR@68f81b03[p=172,l=262,c=8192,r=90]={POST /api/v1/proc...Length: 91\\r\\n\\r\\n{&lt;&lt;&lt;\\n    &quot;uuid&quot;:&quot;164b...hment-result&quot;\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}}\r\n        2020-06-05 14:08:33.899DEBUG [qtp1557520822-17] (AbstractMessageConverterMethodArgumentResolver.java:201) - Read [class java.lang.String] as &quot;application/json;charset=UTF-8&quot; with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@394253a]\r\n        2020-06-05 14:08:33.906DEBUG [qtp1557520822-17] (HttpInput.java:297) - HttpInputOverHTTP@5f89ed3[c=91,q=1,[0]=EOF,s=STREAM] read 90 from Content@89a4d20{HeapByteBufferR@68f81b03[p=262,l=262,c=8192,r=0]={POST /api/v1/proc...hment-result&quot;\\n}&lt;&lt;&lt;&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}}\r\n        2020-06-05 14:08:33.906DEBUG [qtp1557520822-17] (HttpConnection.java:203) - releaseRequestBuffer HttpConnection@1a50894c[p=HttpParser{s=END,91 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}&lt;-SocketChannelEndPoint@78d4ac8e{/172.16.21.40:62214&lt;-&gt;/172.16.12.33:9990,OPEN,fill=-,flush=-,to=191/30000}{io=0/0,kio=0,kro=1}-&gt;HttpConnection@1a50894c[p=HttpParser{s=END,91 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}\r\n        2020-06-05 14:08:33.917DEBUG [qtp1557520822-17] (InvocableHandlerMethod.java:173) - Could not resolve parameter [1] in public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String): JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 1]\r\n        2020-06-05 14:08:33.918DEBUG [qtp1557520822-17] (AbstractHandlerExceptionResolver.java:137) - Resolving exception from handler [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 1]\r\n        2020-06-05 14:08:33.919DEBUG [qtp1557520822-17] (AbstractHandlerExceptionResolver.java:137) - Resolving exception from handler [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 1]\r\n        2020-06-05 14:08:33.920DEBUG [qtp1557520822-17] (AbstractHandlerExceptionResolver.java:137) - Resolving exception from handler [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 1]\r\n        2020-06-05 14:08:33.920 WARN [qtp1557520822-17] (DefaultHandlerExceptionResolver.java:419) - Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token\r\n\r\n\r\n","title":"SpringMVC, why &#39;@RequestBody String body&#39; stops working after adding MappingJackson2HttpMessageConverter","body":"<p>need some help with <strong>jackson2</strong> and <strong>springMvc</strong>.</p>\n\n<p>Issue: when adding MappingJackson2HttpMessageConverter jsons fail to parse (previously they did parse) with error below.</p>\n\n<p>I have following <code>@Controller</code> method in code:</p>\n\n<pre><code>@RequestMapping(value = \"/process\", method = RequestMethod.POST, produces = {MediaType.APPLICATION_JSON_VALUE})\npublic @ResponseBody\n&lt;T extends ApiRequest&gt; ApiResponse process(HttpServletRequest httpRequest, @RequestBody String requestJson) {... }\n</code></pre>\n\n<p>And it have been working just fine until I've decided to add <code>MappingJackson2HttpMessageConverter()</code> into converters. Like this:</p>\n\n<pre><code>    @Override\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n    ObjectMapper mapper = new ObjectMapper();\n\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n    mapper.registerModule(new JavaTimeModule());\n\n    mapper.registerModule(new Hibernate5Module());\n\n    converters.add(new MappingJackson2HttpMessageConverter(mapper));\n}\n</code></pre>\n\n<p>but after I do so, my requests stop to work with the following error in log:</p>\n\n<pre><code>2020-06-05 12:40:01.518 WARN [qtp1892075175-21] (DefaultHandlerExceptionResolver.java:419) - Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse err\nor: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.\nString` out of START_OBJECT token\n at [Source: (PushbackInputStream); line: 1, column: 1]\n</code></pre>\n\n<p>can't get why.\nI know that i'm still able to get body from <code>servletInputStream</code>, but don't want do so.\nHoping that maybe smb could give some clarity on such issue.</p>\n\n<p>Thanks a lot!</p>\n\n<p>I use Spring 5, jackson2.</p>\n\n<p>I've been asked about some additional logs, here they are (DEBUG level), but there are no errors or stacktraces, don't know whether they are helpful:</p>\n\n<pre><code>    2020-06-05 14:08:33.731DEBUG [qtp1557520822-17] (HttpChannel.java:643) - REQUEST for //dev-vend:9990/api/v1/process on HttpChannelOverHttp@5283ae73{r=1,c=false,a=IDLE,uri=//dev-vend:9990/api/v1/process}\n    POST //dev-vend:9990/api/v1/process HTTP/1.1\n    Host: dev-vend:9990\n    User-Agent: curl/7.54.0\n    Content-Type: application/json\n    Accept: application/json\n    X-AID: 77702\n    Content-Length: 91\n    2020-06-05 14:08:33.731DEBUG [qtp1557520822-17] (HttpConnection.java:359) - HttpConnection@1a50894c[p=HttpParser{s=CONTENT,0 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=IDLE,uri=//dev-vend:9990/api/v1/process}&lt;-SocketChannelEndPoint@78d4ac8e{/172.16.21.40:62214&lt;-&gt;/172.16.12.33:9990,OPEN,fill=-,flush=-,to=16/30000}{io=0/0,kio=0,kro=1}-&gt;HttpConnection@1a50894c[p=HttpParser{s=CONTENT,0 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=IDLE,uri=//dev-vend:9990/api/v1/process} parsed true HttpParser{s=CONTENT,0 of 91}\n    2020-06-05 14:08:33.731DEBUG [qtp1557520822-17] (HttpChannel.java:302) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=IDLE,uri=//dev-vend:9990/api/v1/process} handle //dev-vend:9990/api/v1/process\n    2020-06-05 14:08:33.731DEBUG [qtp1557520822-17] (HttpChannelState.java:217) - handling HttpChannelState@630d22c8{s=IDLE a=NOT_ASYNC i=true r=IDLE w=false}\n    2020-06-05 14:08:33.732DEBUG [qtp1557520822-17] (HttpChannel.java:315) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} action DISPATCH\n    2020-06-05 14:08:33.733DEBUG [qtp1557520822-17] (Server.java:519) - REQUEST POST /api/v1/process on HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}\n    2020-06-05 14:08:33.733DEBUG [qtp1557520822-17] (ContextHandler.java:1076) - scope null||/api/v1/process @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@5e3a577a{/,[file:///tmp/jetty-docbase.28728569537940407.9990/],AVAILABLE}\n    2020-06-05 14:08:33.733DEBUG [qtp1557520822-17] (ContextHandler.java:1153) - context=||/api/v1/process @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@5e3a577a{/,[file:///tmp/jetty-docbase.28728569537940407.9990/],AVAILABLE}\n    2020-06-05 14:08:33.734DEBUG [qtp1557520822-17] (SessionHandler.java:1559) - sessionHandler=org.eclipse.jetty.server.session.SessionHandler110517298==dftMaxIdleSec=1800\n    2020-06-05 14:08:33.734DEBUG [qtp1557520822-17] (SessionHandler.java:1560) - session=null\n    2020-06-05 14:08:33.738DEBUG [qtp1557520822-17] (ServletHandler.java:465) - servlet |/api/v1/process|null -&gt; dispatcherServlet@7ef5559e==org.springframework.web.servlet.DispatcherServlet,jsp=null,order=-1,inst=true\n    2020-06-05 14:08:33.745DEBUG [qtp1557520822-17] (ServletHandler.java:513) - chain=characterEncodingFilter-&gt;hiddenHttpMethodFilter-&gt;httpPutFormContentFilter-&gt;requestContextFilter-&gt;springSecurityFilterChain-&gt;httpTraceFilter-&gt;webMvcMetricsFilter-&gt;Jetty_WebSocketUpgradeFilter-&gt;dispatcherServlet@7ef5559e==org.springframework.web.servlet.DispatcherServlet,jsp=null,order=-1,inst=true\n    2020-06-05 14:08:33.750DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter characterEncodingFilter\n    2020-06-05 14:08:33.752DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter hiddenHttpMethodFilter\n    2020-06-05 14:08:33.752DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter httpPutFormContentFilter\n    2020-06-05 14:08:33.752DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter requestContextFilter\n    2020-06-05 14:08:33.754DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter springSecurityFilterChain\n    2020-06-05 14:08:33.760DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'\n    2020-06-05 14:08:33.760DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'\n    2020-06-05 14:08:33.761DEBUG [qtp1557520822-17] (HttpSessionSecurityContextRepository.java:174) - No HttpSession currently exists\n    2020-06-05 14:08:33.761DEBUG [qtp1557520822-17] (HttpSessionSecurityContextRepository.java:116) - No SecurityContext was available from the HttpSession: null. A new one will be created.\n    2020-06-05 14:08:33.767DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'\n    2020-06-05 14:08:33.767DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'\n    2020-06-05 14:08:33.767DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern='/logout', GET]\n    2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request 'POST /api/v1/process' doesn't match 'GET /logout\n    2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern='/logout', POST]\n    2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : '/api/v1/process'; against '/logout'\n    2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern='/logout', PUT]\n    2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request 'POST /api/v1/process' doesn't match 'PUT /logout\n    2020-06-05 14:08:33.768DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern='/logout', DELETE]\n    2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request 'POST /api/v1/process' doesn't match 'DELETE /logout\n    2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (OrRequestMatcher.java:72) - No matches found\n    2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 5 of 12 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'\n    2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : '/api/v1/process'; against '/login'\n    2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 6 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'\n    2020-06-05 14:08:33.769DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 7 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'\n    2020-06-05 14:08:33.775DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 8 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'\n    2020-06-05 14:08:33.776DEBUG [qtp1557520822-17] (AnonymousAuthenticationFilter.java:100) - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@4a762148: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 172.16.21.40; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'\n    2020-06-05 14:08:33.776DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 9 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'\n    2020-06-05 14:08:33.776DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 10 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'\n    2020-06-05 14:08:33.776DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 11 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'\n    2020-06-05 14:08:33.777DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern='/logout', GET]\n    2020-06-05 14:08:33.777DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request 'POST /api/v1/process' doesn't match 'GET /logout\n    2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern='/logout', POST]\n    2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : '/api/v1/process'; against '/logout'\n    2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern='/logout', PUT]\n    2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request 'POST /api/v1/process' doesn't match 'PUT /logout\n    2020-06-05 14:08:33.778DEBUG [qtp1557520822-17] (OrRequestMatcher.java:65) - Trying to match using Ant [pattern='/logout', DELETE]\n    2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:137) - Request 'POST /api/v1/process' doesn't match 'DELETE /logout\n    2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (OrRequestMatcher.java:72) - No matches found\n    2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : '/api/v1/process'; against '/login*'\n    2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : '/api/v1/process'; against '/api/**'\n    2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AbstractSecurityInterceptor.java:219) - Secure object: FilterInvocation: URL: /api/v1/process; Attributes: [permitAll]\n    2020-06-05 14:08:33.779DEBUG [qtp1557520822-17] (AbstractSecurityInterceptor.java:348) - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@4a762148: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 172.16.21.40; SessionId: null; Granted Authorities: ROLE_ANONYMOUS\n    2020-06-05 14:08:33.790DEBUG [qtp1557520822-17] (AffirmativeBased.java:66) - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2e99f07b, returned: 1\n    2020-06-05 14:08:33.791DEBUG [qtp1557520822-17] (AbstractSecurityInterceptor.java:243) - Authorization successful\n    2020-06-05 14:08:33.791DEBUG [qtp1557520822-17] (AbstractSecurityInterceptor.java:256) - RunAsManager did not change Authentication object\n    2020-06-05 14:08:33.794DEBUG [qtp1557520822-17] (FilterChainProxy.java:328) - /api/v1/process at position 12 of 12 in additional filter chain; firing Filter: 'FilterChainProxy'\n    2020-06-05 14:08:33.794DEBUG [qtp1557520822-17] (AntPathRequestMatcher.java:157) - Checking match of request : '/api/v1/process'; against '/controller/**'\n    2020-06-05 14:08:33.795DEBUG [qtp1557520822-17] (FilterChainProxy.java:202) - /api/v1/process has no matching filters\n    2020-06-05 14:08:33.795DEBUG [qtp1557520822-17] (FilterChainProxy.java:313) - /api/v1/process reached end of additional filter chain; proceeding with original chain\n    2020-06-05 14:08:33.795DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter httpTraceFilter\n    2020-06-05 14:08:33.802DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter webMvcMetricsFilter\n    2020-06-05 14:08:33.808DEBUG [qtp1557520822-17] (DefaultSingletonBeanRegistry.java:213) - Creating shared instance of singleton bean 'mvcHandlerMappingIntrospector'\n    2020-06-05 14:08:33.821DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\n    2020-06-05 14:08:33.828DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:323) - Did not find handler method for [/api/v1/process]\n    2020-06-05 14:08:33.828DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\n    2020-06-05 14:08:33.829DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:323) - Did not find handler method for [/api/v1/process]\n    2020-06-05 14:08:33.829DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\n    2020-06-05 14:08:33.830DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:320) - Returning handler method [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]\n    2020-06-05 14:08:33.836DEBUG [qtp1557520822-17] (ServletHandler.java:1618) - call filter Jetty_WebSocketUpgradeFilter\n    2020-06-05 14:08:33.837DEBUG [qtp1557520822-17] (ServletHandler.java:1649) - call servlet dispatcherServlet@7ef5559e==org.springframework.web.servlet.DispatcherServlet,jsp=null,order=-1,inst=true\n    2020-06-05 14:08:33.838DEBUG [qtp1557520822-17] (DispatcherServlet.java:891) - DispatcherServlet with name 'dispatcherServlet' processing POST request for [/api/v1/process]\n    2020-06-05 14:08:33.844DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\n    2020-06-05 14:08:33.849DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:323) - Did not find handler method for [/api/v1/process]\n    2020-06-05 14:08:33.849DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\n    2020-06-05 14:08:33.849DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:323) - Did not find handler method for [/api/v1/process]\n    2020-06-05 14:08:33.849DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:313) - Looking up handler method for path /api/v1/process\n    2020-06-05 14:08:33.850DEBUG [qtp1557520822-17] (AbstractHandlerMethodMapping.java:320) - Returning handler method [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]\n    2020-06-05 14:08:33.850DEBUG [qtp1557520822-17] (OpenEntityManagerInViewInterceptor.java:88) - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n    2020-06-05 14:08:33.888DEBUG [qtp1557520822-17] (HttpConnection.java:354) - HttpConnection@1a50894c[p=HttpParser{s=CONTENT,0 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}&lt;-SocketChannelEndPoint@78d4ac8e{/172.16.21.40:62214&lt;-&gt;/172.16.12.33:9990,OPEN,fill=-,flush=-,to=173/30000}{io=0/0,kio=0,kro=1}-&gt;HttpConnection@1a50894c[p=HttpParser{s=CONTENT,0 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} parse HeapByteBuffer@58ee971e[p=171,l=262,c=8192,r=91]={POST /api/v1/proc...-Length: 91\\r\\n\\r\\n&lt;&lt;&lt;{\\n    \"uuid\":\"164...hment-result\"\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00} {}\n    2020-06-05 14:08:33.889DEBUG [qtp1557520822-17] (HttpParser.java:1342) - parseNext s=CONTENT HeapByteBuffer@58ee971e[p=171,l=262,c=8192,r=91]={POST /api/v1/proc...-Length: 91\\r\\n\\r\\n&lt;&lt;&lt;{\\n    \"uuid\":\"164...hment-result\"\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\n    2020-06-05 14:08:33.889DEBUG [qtp1557520822-17] (HttpChannel.java:651) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} onContent Content@89a4d20{HeapByteBufferR@68f81b03[p=171,l=262,c=8192,r=91]={POST /api/v1/proc...-Length: 91\\r\\n\\r\\n&lt;&lt;&lt;{\\n    \"uuid\":\"164...hment-result\"\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}}\n    2020-06-05 14:08:33.894DEBUG [qtp1557520822-17] (HttpInput.java:607) - HttpInputOverHTTP@5f89ed3[c=0,q=0,[0]=null,s=STREAM] addContent Content@89a4d20{HeapByteBufferR@68f81b03[p=171,l=262,c=8192,r=91]={POST /api/v1/proc...-Length: 91\\r\\n\\r\\n&lt;&lt;&lt;{\\n    \"uuid\":\"164...hment-result\"\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}}\n    2020-06-05 14:08:33.894DEBUG [qtp1557520822-17] (HttpParser.java:1685) - CONTENT --&gt; END\n    2020-06-05 14:08:33.895DEBUG [qtp1557520822-17] (HttpChannel.java:659) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} onContentComplete\n    2020-06-05 14:08:33.895DEBUG [qtp1557520822-17] (HttpChannel.java:675) - HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} onRequestComplete\n    2020-06-05 14:08:33.895DEBUG [qtp1557520822-17] (HttpInput.java:607) - HttpInputOverHTTP@5f89ed3[c=0,q=1,[0]=EOF,s=STREAM] addContent EOF\n    2020-06-05 14:08:33.898DEBUG [qtp1557520822-17] (HttpConnection.java:359) - HttpConnection@1a50894c[p=HttpParser{s=END,91 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}&lt;-SocketChannelEndPoint@78d4ac8e{/172.16.21.40:62214&lt;-&gt;/172.16.12.33:9990,OPEN,fill=-,flush=-,to=181/30000}{io=0/0,kio=0,kro=1}-&gt;HttpConnection@1a50894c[p=HttpParser{s=END,91 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process} parsed false HttpParser{s=END,91 of 91}\n    2020-06-05 14:08:33.898DEBUG [qtp1557520822-17] (HttpInput.java:297) - HttpInputOverHTTP@5f89ed3[c=1,q=1,[0]=EOF,s=STREAM] read 1 from Content@89a4d20{HeapByteBufferR@68f81b03[p=172,l=262,c=8192,r=90]={POST /api/v1/proc...Length: 91\\r\\n\\r\\n{&lt;&lt;&lt;\\n    \"uuid\":\"164b...hment-result\"\\n}&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}}\n    2020-06-05 14:08:33.899DEBUG [qtp1557520822-17] (AbstractMessageConverterMethodArgumentResolver.java:201) - Read [class java.lang.String] as \"application/json;charset=UTF-8\" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@394253a]\n    2020-06-05 14:08:33.906DEBUG [qtp1557520822-17] (HttpInput.java:297) - HttpInputOverHTTP@5f89ed3[c=91,q=1,[0]=EOF,s=STREAM] read 90 from Content@89a4d20{HeapByteBufferR@68f81b03[p=262,l=262,c=8192,r=0]={POST /api/v1/proc...hment-result\"\\n}&lt;&lt;&lt;&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00}}\n    2020-06-05 14:08:33.906DEBUG [qtp1557520822-17] (HttpConnection.java:203) - releaseRequestBuffer HttpConnection@1a50894c[p=HttpParser{s=END,91 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}&lt;-SocketChannelEndPoint@78d4ac8e{/172.16.21.40:62214&lt;-&gt;/172.16.12.33:9990,OPEN,fill=-,flush=-,to=191/30000}{io=0/0,kio=0,kro=1}-&gt;HttpConnection@1a50894c[p=HttpParser{s=END,91 of 91},g=HttpGenerator@3249a9a4{s=START}]=&gt;HttpChannelOverHttp@5283ae73{r=1,c=false,a=DISPATCHED,uri=//dev-vend:9990/api/v1/process}\n    2020-06-05 14:08:33.917DEBUG [qtp1557520822-17] (InvocableHandlerMethod.java:173) - Could not resolve parameter [1] in public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String): JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 1]\n    2020-06-05 14:08:33.918DEBUG [qtp1557520822-17] (AbstractHandlerExceptionResolver.java:137) - Resolving exception from handler [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 1]\n    2020-06-05 14:08:33.919DEBUG [qtp1557520822-17] (AbstractHandlerExceptionResolver.java:137) - Resolving exception from handler [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 1]\n    2020-06-05 14:08:33.920DEBUG [qtp1557520822-17] (AbstractHandlerExceptionResolver.java:137) - Resolving exception from handler [public &lt;T&gt; ru.cwt.micro.api.model.res.ApiResponse ru.cwt.micro.api.controller.ApiController.process(javax.servlet.http.HttpServletRequest,java.lang.String)]: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 1]\n    2020-06-05 14:08:33.920 WARN [qtp1557520822-17] (DefaultHandlerExceptionResolver.java:419) - Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token\n</code></pre>\n"},{"tags":["java","netbeans","printstream"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1668941658,"post_id":74507463,"comment_id":131524071,"body_markdown":"Please create a [**Minimal** reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><b>Minimal</b> reproducible example</a>"},{"owner":{"account_id":26990848,"reputation":11,"user_id":20553769,"display_name":"James C"},"score":0,"creation_date":1668944204,"post_id":74507463,"comment_id":131524452,"body_markdown":"I am having trouble writing a minimal reproductible example. When I try to recreate the exact conditions on a smaller scale, it works exactly as intended","body":"I am having trouble writing a minimal reproductible example. When I try to recreate the exact conditions on a smaller scale, it works exactly as intended"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668944648,"post_id":74507463,"comment_id":131524524,"body_markdown":"Nothing in this code would lead to the problem you observe. No, `println` is not broken in a language used by millions of people daily. Hence, it&#39;s hard to help you here. Some tips to aid in your debugging: Print the absolute path of that file, perhaps it _is_ being written, just not in the place you thought. Do you call `System.exit` somewhere _within_ this loop? Because that would cause the printstream _not_ to get cleaned up - don&#39;t do that.","body":"Nothing in this code would lead to the problem you observe. No, <code>println</code> is not broken in a language used by millions of people daily. Hence, it&#39;s hard to help you here. Some tips to aid in your debugging: Print the absolute path of that file, perhaps it <i>is</i> being written, just not in the place you thought. Do you call <code>System.exit</code> somewhere <i>within</i> this loop? Because that would cause the printstream <i>not</i> to get cleaned up - don&#39;t do that."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668946157,"post_id":74507463,"comment_id":131524782,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1668968411,"post_id":74507463,"comment_id":131529428,"body_markdown":"@JamesC Your code does `PrintStream recordErrors = new PrintStream(new File(&quot;EODdataERRORS.txt&quot;))` for every single file which is not a directory. Shouldn&#39;t you do that just once at the start of `getStockData()`, before you process anything?","body":"@JamesC Your code does <code>PrintStream recordErrors = new PrintStream(new File(&quot;EODdataERRORS.txt&quot;))</code> for every single file which is not a directory. Shouldn&#39;t you do that just once at the start of <code>getStockData()</code>, before you process anything?"},{"owner":{"account_id":26990848,"reputation":11,"user_id":20553769,"display_name":"James C"},"score":0,"creation_date":1668981657,"post_id":74507463,"comment_id":131532403,"body_markdown":"@skomisa I have tried both ways, no change. Thanks","body":"@skomisa I have tried both ways, no change. Thanks"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1668987084,"post_id":74507463,"comment_id":131533381,"body_markdown":"@JamesC Regardless, instantiating the `PrintStream()` as shown in your code is simply wrong, because ([as the Javadoc for PrintStream states](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html#%3Cinit%3E(java.io.File))):  _&quot;**If the file exists, then it will be truncated to zero size**&quot;_. So as your code processes each file within a directory, it repeatedly discards anything that has already been written to EODdataERRORS.txt! Update your code to show `recordErrors` only being instantiated once. Otherwise your question should be deleted.","body":"@JamesC Regardless, instantiating the <code>PrintStream()</code> as shown in your code is simply wrong, because (<a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html#%3Cinit%3E(java.io.File)\" rel=\"nofollow noreferrer\">as the Javadoc for PrintStream states</a>):  <i>&quot;<b>If the file exists, then it will be truncated to zero size</b>&quot;</i>. So as your code processes each file within a directory, it repeatedly discards anything that has already been written to EODdataERRORS.txt! Update your code to show <code>recordErrors</code> only being instantiated once. Otherwise your question should be deleted."},{"owner":{"account_id":26990848,"reputation":11,"user_id":20553769,"display_name":"James C"},"score":0,"creation_date":1669090291,"post_id":74507463,"comment_id":131558636,"body_markdown":"@skomisa The edit has been made, the error persists. Thank you","body":"@skomisa The edit has been made, the error persists. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":26990848,"reputation":11,"user_id":20553769,"display_name":"James C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669093156,"creation_date":1669092776,"answer_id":74527659,"question_id":74507463,"body_markdown":"I have solved the issue. I&#39;m not really sure what the issue was, but it appears to have something to do with the PrintStream being instantiated in a method other than the main{} method. This would also explain why I was unable to recreate this error, try as I might.\r\n\r\nAs such, I&#39;ve solved it by simply storing the errors in a list and printing them in the main{} method.\r\n\r\n```\r\npublic static void getStockData(LinkedQueue&lt;Stock&gt; stockQueue, LinkedQueue&lt;String&gt; errorQueue, String startPath) {\r\n        File dir = new File(getValidDirectory(startPath));\r\n        try {\r\n            for (File name : dir.listFiles()) {\r\n                if (name.isDirectory()) {\r\n                    getStockData(stockQueue, errorQueue, name.getPath());\r\n                }\r\n                else if (name.canRead()) {\r\n                    Scanner readFile = new Scanner(name);\r\n                    readFile.nextLine();\r\n                    while (readFile.hasNext()) {\r\n                        String line = readFile.nextLine();\r\n                        String[] lineArray = line.split(&quot;,+&quot;);\r\n                        if (lineArray.length == 8) {\r\n                            try {\r\n                                Stock stock = new Stock(name.getName().replaceAll(&quot;_+(.*)&quot;, &quot;&quot;));\r\n                                stock.fromRecord(lineArray);\r\n                                stockQueue.enqueue(stock);\r\n                            }\r\n                            catch (Exception ex) {\r\n                                errorQueue.enqueue(line + &quot;; ERROR: &quot; + ex.getMessage());\r\n                                System.err.println(line + &quot;; ERROR: &quot; + ex.getMessage());\r\n                            }\r\n                        }\r\n                        else {\r\n                            errorQueue.enqueue(line + &quot;; ERROR: Invalid record length.&quot;);\r\n                            System.err.println(line + &quot;; ERROR: Invalid record length.&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (FileNotFoundException ex) {\r\n            System.err.println(&quot;FileNotFoundException. Please ensure the directory is configured properly.&quot;);\r\n        }\r\n    }\r\n```\r\nThis has the downside of taking up more memory, but I see no other way to get this to work the way I want it to. Thanks for the help!","title":"Java PrintStream .println() method not outputting to file?","body":"<p>I have solved the issue. I'm not really sure what the issue was, but it appears to have something to do with the PrintStream being instantiated in a method other than the main{} method. This would also explain why I was unable to recreate this error, try as I might.</p>\n<p>As such, I've solved it by simply storing the errors in a list and printing them in the main{} method.</p>\n<pre><code>public static void getStockData(LinkedQueue&lt;Stock&gt; stockQueue, LinkedQueue&lt;String&gt; errorQueue, String startPath) {\n        File dir = new File(getValidDirectory(startPath));\n        try {\n            for (File name : dir.listFiles()) {\n                if (name.isDirectory()) {\n                    getStockData(stockQueue, errorQueue, name.getPath());\n                }\n                else if (name.canRead()) {\n                    Scanner readFile = new Scanner(name);\n                    readFile.nextLine();\n                    while (readFile.hasNext()) {\n                        String line = readFile.nextLine();\n                        String[] lineArray = line.split(&quot;,+&quot;);\n                        if (lineArray.length == 8) {\n                            try {\n                                Stock stock = new Stock(name.getName().replaceAll(&quot;_+(.*)&quot;, &quot;&quot;));\n                                stock.fromRecord(lineArray);\n                                stockQueue.enqueue(stock);\n                            }\n                            catch (Exception ex) {\n                                errorQueue.enqueue(line + &quot;; ERROR: &quot; + ex.getMessage());\n                                System.err.println(line + &quot;; ERROR: &quot; + ex.getMessage());\n                            }\n                        }\n                        else {\n                            errorQueue.enqueue(line + &quot;; ERROR: Invalid record length.&quot;);\n                            System.err.println(line + &quot;; ERROR: Invalid record length.&quot;);\n                        }\n                    }\n                }\n            }\n        }\n        catch (FileNotFoundException ex) {\n            System.err.println(&quot;FileNotFoundException. Please ensure the directory is configured properly.&quot;);\n        }\n    }\n</code></pre>\n<p>This has the downside of taking up more memory, but I see no other way to get this to work the way I want it to. Thanks for the help!</p>\n"}],"owner":{"account_id":26990848,"reputation":11,"user_id":20553769,"display_name":"James C"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74527659,"answer_count":1,"score":-1,"last_activity_date":1672444306,"creation_date":1668941551,"question_id":74507463,"body_markdown":"I am trying to write a method which recursively gathers data from files, and writes erroneous data to an error file. See code block:\r\n\r\n```\r\npublic static LinkedQueue&lt;Stock&gt; getStockData(LinkedQueue&lt;Stock&gt; stockQueue, String startPath) throws Exception {\r\n        File dir = new File(getValidDirectory(startPath));\r\n        try (PrintStream recordErrors = new PrintStream(new File(&quot;EODdataERRORS.txt&quot;))) {\r\n            for (File name : dir.listFiles()) {\r\n                if (name.isDirectory()) {\r\n                    getStockData(stockQueue, name.getPath());\r\n                }\r\n                else if (name.canRead()) {\r\n                    Scanner readFile = new Scanner(name);\r\n                    readFile.nextLine();\r\n                    while (readFile.hasNext()) {\r\n                        String line = readFile.nextLine();\r\n                        String[] lineArray = line.split(&quot;,+&quot;);\r\n                        if (lineArray.length == 8) {\r\n                            try {\r\n                                Stock stock = new Stock(name.getName().replaceAll(&quot;_+(.*)&quot;, &quot;&quot;));\r\n                                stock.fromRecord(lineArray);\r\n                                stockQueue.enqueue(stock);\r\n                            }\r\n                            catch (Exception ex) {\r\n                                recordErrors.println(line + &quot; ERROR: &quot; + ex.getMessage());\r\n                                System.err.println(line + &quot; ERROR: &quot; + ex.getMessage());\r\n                            }\r\n                        }\r\n                        else {\r\n                            recordErrors.println(line + &quot; ERROR: Invalid record length.&quot;);\r\n                            System.err.println(line + &quot; ERROR: Invalid record length.&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (FileNotFoundException ex) {\r\n            System.err.println(&quot;FileNotFoundException. Please ensure the directory is configured properly.&quot;);\r\n        }\r\n        return stockQueue;\r\n    }\r\n```\r\n\r\nHowever, the error file is always blank.\r\n\r\nI&#39;ve tried calling the .flush() and .close() methods. System.err is outputting so I know the code is being run. I&#39;ve tried instantiating the PrintStream outside of the try-with-resources, no change.\r\n\r\nI&#39;ve tried calling the method at earlier points in the code (i.e. right after instantiation of the printStream, and in the if{} block) and it does output to the error file. It&#39;s only within the catch{} and else{} blocks (where I actually need it to work) that it refuses to print anything. I&#39;ve also tried storing the error data and using a loop after the blocks to print the data and it still won&#39;t work. See code block:\r\n\r\n\r\n```\r\npublic static LinkedQueue&lt;Stock&gt; getStockData(LinkedQueue&lt;Stock&gt; stockQueue, String startPath) throws Exception {\r\n        File dir = new File(getValidDirectory(startPath));\r\n        LinkedQueue errors = new LinkedQueue();\r\n        try (PrintStream recordErrors = new PrintStream(new File(&quot;EODdataERRORS.txt&quot;))) {\r\n            for (File name : dir.listFiles()) {\r\n                if (name.isDirectory()) {\r\n                    getStockData(stockQueue, name.getPath());\r\n                }\r\n                else if (name.canRead()) {\r\n                    Scanner readFile = new Scanner(name);\r\n                    readFile.nextLine();\r\n                    while (readFile.hasNext()) {\r\n                        String line = readFile.nextLine();\r\n                        String[] lineArray = line.split(&quot;,+&quot;);\r\n                        if (lineArray.length == 8) {\r\n                            try {\r\n                                Stock stock = new Stock(name.getName().replaceAll(&quot;_+(.*)&quot;, &quot;&quot;));\r\n                                stock.fromRecord(lineArray);\r\n                                stockQueue.enqueue(stock);\r\n                            }\r\n                            catch (Exception ex) {\r\n                                errors.enqueue(line + &quot; ERROR: &quot; + ex.getMessage());\r\n                                System.err.println(line + &quot; ERROR: &quot; + ex.getMessage());\r\n                            }\r\n                        }\r\n                        else {\r\n                            errors.enqueue(line + &quot; ERROR: Invalid record length.&quot;);\r\n                            System.err.println(line + &quot; ERROR: Invalid record length.&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            while (!errors.isEmpty()) {\r\n                recordErrors.println(errors.dequeue());\r\n            }\r\n        }\r\n        catch (FileNotFoundException ex) {\r\n            System.err.println(&quot;FileNotFoundException. Please ensure the directory is configured properly.&quot;);\r\n        }\r\n        return stockQueue;\r\n    }\r\n```\r\n\r\nEdit\r\n---\r\n\r\nCode has been edited to show instantiation of the PrintStream only once. The error persists. I am sorry there is no Repex, I cannot recreate this error except for in this specific case.\r\n\r\n","title":"Java PrintStream .println() method not outputting to file?","body":"<p>I am trying to write a method which recursively gathers data from files, and writes erroneous data to an error file. See code block:</p>\n<pre><code>public static LinkedQueue&lt;Stock&gt; getStockData(LinkedQueue&lt;Stock&gt; stockQueue, String startPath) throws Exception {\n        File dir = new File(getValidDirectory(startPath));\n        try (PrintStream recordErrors = new PrintStream(new File(&quot;EODdataERRORS.txt&quot;))) {\n            for (File name : dir.listFiles()) {\n                if (name.isDirectory()) {\n                    getStockData(stockQueue, name.getPath());\n                }\n                else if (name.canRead()) {\n                    Scanner readFile = new Scanner(name);\n                    readFile.nextLine();\n                    while (readFile.hasNext()) {\n                        String line = readFile.nextLine();\n                        String[] lineArray = line.split(&quot;,+&quot;);\n                        if (lineArray.length == 8) {\n                            try {\n                                Stock stock = new Stock(name.getName().replaceAll(&quot;_+(.*)&quot;, &quot;&quot;));\n                                stock.fromRecord(lineArray);\n                                stockQueue.enqueue(stock);\n                            }\n                            catch (Exception ex) {\n                                recordErrors.println(line + &quot; ERROR: &quot; + ex.getMessage());\n                                System.err.println(line + &quot; ERROR: &quot; + ex.getMessage());\n                            }\n                        }\n                        else {\n                            recordErrors.println(line + &quot; ERROR: Invalid record length.&quot;);\n                            System.err.println(line + &quot; ERROR: Invalid record length.&quot;);\n                        }\n                    }\n                }\n            }\n        }\n        catch (FileNotFoundException ex) {\n            System.err.println(&quot;FileNotFoundException. Please ensure the directory is configured properly.&quot;);\n        }\n        return stockQueue;\n    }\n</code></pre>\n<p>However, the error file is always blank.</p>\n<p>I've tried calling the .flush() and .close() methods. System.err is outputting so I know the code is being run. I've tried instantiating the PrintStream outside of the try-with-resources, no change.</p>\n<p>I've tried calling the method at earlier points in the code (i.e. right after instantiation of the printStream, and in the if{} block) and it does output to the error file. It's only within the catch{} and else{} blocks (where I actually need it to work) that it refuses to print anything. I've also tried storing the error data and using a loop after the blocks to print the data and it still won't work. See code block:</p>\n<pre><code>public static LinkedQueue&lt;Stock&gt; getStockData(LinkedQueue&lt;Stock&gt; stockQueue, String startPath) throws Exception {\n        File dir = new File(getValidDirectory(startPath));\n        LinkedQueue errors = new LinkedQueue();\n        try (PrintStream recordErrors = new PrintStream(new File(&quot;EODdataERRORS.txt&quot;))) {\n            for (File name : dir.listFiles()) {\n                if (name.isDirectory()) {\n                    getStockData(stockQueue, name.getPath());\n                }\n                else if (name.canRead()) {\n                    Scanner readFile = new Scanner(name);\n                    readFile.nextLine();\n                    while (readFile.hasNext()) {\n                        String line = readFile.nextLine();\n                        String[] lineArray = line.split(&quot;,+&quot;);\n                        if (lineArray.length == 8) {\n                            try {\n                                Stock stock = new Stock(name.getName().replaceAll(&quot;_+(.*)&quot;, &quot;&quot;));\n                                stock.fromRecord(lineArray);\n                                stockQueue.enqueue(stock);\n                            }\n                            catch (Exception ex) {\n                                errors.enqueue(line + &quot; ERROR: &quot; + ex.getMessage());\n                                System.err.println(line + &quot; ERROR: &quot; + ex.getMessage());\n                            }\n                        }\n                        else {\n                            errors.enqueue(line + &quot; ERROR: Invalid record length.&quot;);\n                            System.err.println(line + &quot; ERROR: Invalid record length.&quot;);\n                        }\n                    }\n                }\n            }\n            while (!errors.isEmpty()) {\n                recordErrors.println(errors.dequeue());\n            }\n        }\n        catch (FileNotFoundException ex) {\n            System.err.println(&quot;FileNotFoundException. Please ensure the directory is configured properly.&quot;);\n        }\n        return stockQueue;\n    }\n</code></pre>\n<h2>Edit</h2>\n<p>Code has been edited to show instantiation of the PrintStream only once. The error persists. I am sorry there is no Repex, I cannot recreate this error except for in this specific case.</p>\n"},{"tags":["java","mysql","jdbc","sqoop"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672443966,"creation_date":1672443966,"answer_id":74966650,"question_id":74958467,"body_markdown":"Don&#39;t use localhost for database string. Use the full IP or hostname since the mapreduce command will be distributed in the network\r\n\r\nYou should not disable bind address 0.0.0.0, as that is what controls external network access.\r\n\r\nIt&#39;s also encountered not to run mysql on any of the Hadoop servers. ","title":"sqoop import communications link falilure","body":"<p>Don't use localhost for database string. Use the full IP or hostname since the mapreduce command will be distributed in the network</p>\n<p>You should not disable bind address 0.0.0.0, as that is what controls external network access.</p>\n<p>It's also encountered not to run mysql on any of the Hadoop servers.</p>\n"}],"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672443966,"creation_date":1672378465,"question_id":74958467,"body_markdown":"I am getting below error while importing a MySQL table using Sqoop to HDFS.\r\nas MySQL is on my Name node and rest slaves are on different VMs, for this I also edited the MySQL confide file and disables the **bind-address 0.0.0.0**, still no progress.\r\nreplies much appreciated, thanks.\r\n\r\nFYI, I am using a hadoop multinode cluster. \r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\nadminn@master:~/sqoop/bin$ sqoop import --connect jdbc:mysql://localhost:3306/testdb?characterEncoding=latin1 --driver com.mysql.jdbc.Driver --username root --password xxxxxx --table sample --m 1\r\n\r\nWarning: /home/adminn/sqoop/../hbase does not exist! HBase imports will fail.\r\nPlease set $HBASE_HOME to the root of your HBase installation.\r\nWarning: /home/adminn/sqoop/../hcatalog does not exist! HCatalog jobs will fail.\r\nPlease set $HCAT_HOME to the root of your HCatalog installation.\r\nWarning: /home/adminn/sqoop/../accumulo does not exist! Accumulo imports will fail.\r\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\r\nWarning: /home/adminn/sqoop/../zookeeper does not exist! Accumulo imports will fail.\r\nPlease set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\r\n/home/adminn/hadoop/libexec/hadoop-functions.sh: line 2358: HADOOP_ORG.APACHE.SQOOP.SQOOP_USER: invalid variable name\r\n/home/adminn/hadoop/libexec/hadoop-functions.sh: line 2453: HADOOP_ORG.APACHE.SQOOP.SQOOP_OPTS: invalid variable name\r\n2022-12-30 10:31:24,292 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\r\n2022-12-30 10:31:24,320 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\r\n2022-12-30 10:31:24,390 WARN sqoop.ConnFactory: Parameter --driver is set to an explicit driver however appropriate connection manager is not being set (via --connection-manager). Sqoop is going to fall back to org.apache.sqoop.manager.GenericJdbcManager. Please specify explicitly which connection manager should be used next time.\r\n\r\n2022-12-30 10:31:24,423 INFO manager.SqlManager: Using default fetchSize of 1000\r\n\r\n2022-12-30 10:31:24,423 INFO tool.CodeGenTool: Beginning code generation\r\n\r\n2022-12-30 10:31:24,735 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM sample AS t WHERE 1=0\r\n\r\n2022-12-30 10:31:24,745 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM sample AS t WHERE 1=0\r\n\r\n2022-12-30 10:31:24,800 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /home/adminn/hadoop\r\n\r\nNote: /tmp/sqoop-adminn/compile/db6838afbd83c3028b82196f2fa2d7c9/sample.java uses or overrides a deprecated API.\r\n\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n2022-12-30 10:31:26,707 INFO orm.CompilationManager: Writing jar file: /tmp/sqoop-adminn/compile/db6838afbd83c3028b82196f2fa2d7c9/sample.jar\r\n\r\n2022-12-30 10:31:26,756 INFO mapreduce.ImportJobBase: Beginning import of sample\r\n\r\n2022-12-30 10:31:26,757 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address\r\n\r\n2022-12-30 10:31:26,876 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar\r\n\r\n2022-12-30 10:31:26,879 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM sample AS t WHERE 1=0\r\n\r\n2022-12-30 10:31:27,509 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps\r\n\r\n2022-12-30 10:31:27,653 INFO client.RMProxy: Connecting to ResourceManager at /192.168.0.15:8032\r\n\r\n2022-12-30 10:31:28,352 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/adminn/.staging/job_1672373403508_0004\r\n\r\n2022-12-30 10:31:32,595 INFO db.DBInputFormat: Using read commited transaction isolation\r\n\r\n2022-12-30 10:31:32,799 INFO mapreduce.JobSubmitter: number of splits:1\r\n\r\n2022-12-30 10:31:32,915 INFO Configuration.deprecation: yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled\r\n\r\n2022-12-30 10:31:33,190 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1672373403508_0004\r\n\r\n2022-12-30 10:31:33,192 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n\r\n2022-12-30 10:31:33,490 INFO conf.Configuration: resource-types.xml not found\r\n\r\n2022-12-30 10:31:33,491 INFO resource.ResourceUtils: Unable to find &#39;resource-types.xml&#39;.\r\n\r\n2022-12-30 10:31:34,186 INFO impl.YarnClientImpl: Submitted application application_1672373403508_0004\r\n\r\n2022-12-30 10:31:34,278 INFO mapreduce.Job: The url to track the job: http://master:8088/proxy/application_1672373403508_0004/\r\n\r\n2022-12-30 10:31:34,280 INFO mapreduce.Job: Running job: job_1672373403508_0004\r\n\r\n2022-12-30 10:31:48,004 INFO mapreduce.Job: Job job_1672373403508_0004 running in uber mode : false\r\n\r\n2022-12-30 10:31:48,006 INFO mapreduce.Job:  map 0% reduce 0%\r\n\r\n2022-12-30 10:31:55,129 INFO mapreduce.Job: Task Id : attempt_1672373403508_0004_m_000000_0, Status : FAILED\r\n\r\nError: java.lang.RuntimeException: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:170)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.setConf(DBInputFormat.java:161)\r\n\r\n\tat org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:77)\r\n\r\n\tat org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:137)\r\n\r\n\tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:763)\r\n\r\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:347)\r\n\r\n\tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:174)\r\n\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1729)\r\n\r\n\tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:168)\r\n\r\nCaused by: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:223)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:168)\r\n\r\n\t... 10 more\r\n\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\r\n\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\r\n\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBConfiguration.getConnection(DBConfiguration.java:302)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:216)\r\n\r\n\t... 11 more\r\n\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\r\n\r\n\t... 24 more\r\n\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\r\n\tat java.net.Socket.connect(Socket.java:607)\r\n\r\n\tat java.net.Socket.connect(Socket.java:556)\r\n\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:452)\r\n\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:262)\r\n\r\n\tat com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\r\n\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\r\n\r\n\t... 25 more\r\n\r\n\r\n\r\n2022-12-30 10:32:01,340 INFO mapreduce.Job: Task Id : attempt_1672373403508_0004_m_000000_1, Status : FAILED\r\n\r\nError: java.lang.RuntimeException: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:170)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.setConf(DBInputFormat.java:161)\r\n\r\n\tat org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:77)\r\n\r\n\tat org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:137)\r\n\r\n\tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:763)\r\n\r\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:347)\r\n\r\n\tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:174)\r\n\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1729)\r\n\r\n\tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:168)\r\n\r\nCaused by: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:223)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:168)\r\n\r\n\t... 10 more\r\n\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\r\n\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\r\n\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBConfiguration.getConnection(DBConfiguration.java:302)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:216)\r\n\r\n\t... 11 more\r\n\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\r\n\r\n\t... 24 more\r\n\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\r\n\tat java.net.Socket.connect(Socket.java:607)\r\n\r\n\tat java.net.Socket.connect(Socket.java:556)\r\n\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:452)\r\n\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:262)\r\n\r\n\tat com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\r\n\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\r\n\r\n\t... 25 more\r\n\r\n\r\n\r\n2022-12-30 10:32:08,436 INFO mapreduce.Job: Task Id : attempt_1672373403508_0004_m_000000_2, Status : FAILED\r\n\r\nError: java.lang.RuntimeException: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:170)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.setConf(DBInputFormat.java:161)\r\n\r\n\tat org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:77)\r\n\r\n\tat org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:137)\r\n\r\n\tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:763)\r\n\r\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:347)\r\n\r\n\tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:174)\r\n\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1729)\r\n\r\n\tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:168)\r\n\r\nCaused by: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:223)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:168)\r\n\r\n\t... 10 more\r\n\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\r\n\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\r\n\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBConfiguration.getConnection(DBConfiguration.java:302)\r\n\r\n\tat org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:216)\r\n\r\n\t... 11 more\r\n\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\r\n\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\r\n\r\n\t... 24 more\r\n\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\r\n\tat java.net.Socket.connect(Socket.java:607)\r\n\r\n\tat java.net.Socket.connect(Socket.java:556)\r\n\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:452)\r\n\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:262)\r\n\r\n\tat com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\r\n\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\r\n\r\n\t... 25 more\r\n\r\n\r\n\r\n2022-12-30 10:32:15,557 INFO mapreduce.Job:  map 100% reduce 0%\r\n\r\n2022-12-30 10:32:15,607 INFO mapreduce.Job: Job job_1672373403508_0004 failed with state FAILED due to: Task failed task_1672373403508_0004_m_000000\r\n\r\nJob failed as tasks failed. failedMaps:1 failedReduces:0 killedMaps:0 killedReduces: 0\r\n\r\n\r\n\r\n2022-12-30 10:32:15,805 INFO mapreduce.Job: Counters: 8\r\n\r\n\tJob Counters \r\n\r\n\t\tFailed map tasks=4\r\n\r\n\t\tLaunched map tasks=4\r\n\r\n\t\tOther local map tasks=4\r\n\r\n\t\tTotal time spent by all maps in occupied slots (ms)=38808\r\n\r\n\t\tTotal time spent by all reduces in occupied slots (ms)=0\r\n\r\n\t\tTotal time spent by all map tasks (ms)=19404\r\n\r\n\t\tTotal vcore-milliseconds taken by all map tasks=19404\r\n\r\n\t\tTotal megabyte-milliseconds taken by all map tasks=4967424\r\n\r\n2022-12-30 10:32:15,819 WARN mapreduce.Counters: Group FileSystemCounters is deprecated. Use org.apache.hadoop.mapreduce.FileSystemCounter instead\r\n\r\n2022-12-30 10:32:15,825 INFO mapreduce.ImportJobBase: Transferred 0 bytes in 48.2897 seconds (0 bytes/sec)\r\n\r\n2022-12-30 10:32:15,830 WARN mapreduce.Counters: Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead\r\n\r\n2022-12-30 10:32:15,831 INFO mapreduce.ImportJobBase: Retrieved 0 records.\r\n\r\n2022-12-30 10:32:15,831 ERROR tool.ImportTool: Import failed: Import job failed!\r\n\r\nadminn@master:~/sqoop/bin$ B\r\n```","title":"sqoop import communications link falilure","body":"<p>I am getting below error while importing a MySQL table using Sqoop to HDFS.\nas MySQL is on my Name node and rest slaves are on different VMs, for this I also edited the MySQL confide file and disables the <strong>bind-address 0.0.0.0</strong>, still no progress.\nreplies much appreciated, thanks.</p>\n<p>FYI, I am using a hadoop multinode cluster.</p>\n<pre><code>adminn@master:~/sqoop/bin$ sqoop import --connect jdbc:mysql://localhost:3306/testdb?characterEncoding=latin1 --driver com.mysql.jdbc.Driver --username root --password xxxxxx --table sample --m 1\n\nWarning: /home/adminn/sqoop/../hbase does not exist! HBase imports will fail.\nPlease set $HBASE_HOME to the root of your HBase installation.\nWarning: /home/adminn/sqoop/../hcatalog does not exist! HCatalog jobs will fail.\nPlease set $HCAT_HOME to the root of your HCatalog installation.\nWarning: /home/adminn/sqoop/../accumulo does not exist! Accumulo imports will fail.\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\nWarning: /home/adminn/sqoop/../zookeeper does not exist! Accumulo imports will fail.\nPlease set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\n/home/adminn/hadoop/libexec/hadoop-functions.sh: line 2358: HADOOP_ORG.APACHE.SQOOP.SQOOP_USER: invalid variable name\n/home/adminn/hadoop/libexec/hadoop-functions.sh: line 2453: HADOOP_ORG.APACHE.SQOOP.SQOOP_OPTS: invalid variable name\n2022-12-30 10:31:24,292 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\n2022-12-30 10:31:24,320 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\n2022-12-30 10:31:24,390 WARN sqoop.ConnFactory: Parameter --driver is set to an explicit driver however appropriate connection manager is not being set (via --connection-manager). Sqoop is going to fall back to org.apache.sqoop.manager.GenericJdbcManager. Please specify explicitly which connection manager should be used next time.\n\n2022-12-30 10:31:24,423 INFO manager.SqlManager: Using default fetchSize of 1000\n\n2022-12-30 10:31:24,423 INFO tool.CodeGenTool: Beginning code generation\n\n2022-12-30 10:31:24,735 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM sample AS t WHERE 1=0\n\n2022-12-30 10:31:24,745 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM sample AS t WHERE 1=0\n\n2022-12-30 10:31:24,800 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /home/adminn/hadoop\n\nNote: /tmp/sqoop-adminn/compile/db6838afbd83c3028b82196f2fa2d7c9/sample.java uses or overrides a deprecated API.\n\nNote: Recompile with -Xlint:deprecation for details.\n\n2022-12-30 10:31:26,707 INFO orm.CompilationManager: Writing jar file: /tmp/sqoop-adminn/compile/db6838afbd83c3028b82196f2fa2d7c9/sample.jar\n\n2022-12-30 10:31:26,756 INFO mapreduce.ImportJobBase: Beginning import of sample\n\n2022-12-30 10:31:26,757 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address\n\n2022-12-30 10:31:26,876 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar\n\n2022-12-30 10:31:26,879 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM sample AS t WHERE 1=0\n\n2022-12-30 10:31:27,509 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps\n\n2022-12-30 10:31:27,653 INFO client.RMProxy: Connecting to ResourceManager at /192.168.0.15:8032\n\n2022-12-30 10:31:28,352 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/adminn/.staging/job_1672373403508_0004\n\n2022-12-30 10:31:32,595 INFO db.DBInputFormat: Using read commited transaction isolation\n\n2022-12-30 10:31:32,799 INFO mapreduce.JobSubmitter: number of splits:1\n\n2022-12-30 10:31:32,915 INFO Configuration.deprecation: yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled\n\n2022-12-30 10:31:33,190 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1672373403508_0004\n\n2022-12-30 10:31:33,192 INFO mapreduce.JobSubmitter: Executing with tokens: []\n\n2022-12-30 10:31:33,490 INFO conf.Configuration: resource-types.xml not found\n\n2022-12-30 10:31:33,491 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n\n2022-12-30 10:31:34,186 INFO impl.YarnClientImpl: Submitted application application_1672373403508_0004\n\n2022-12-30 10:31:34,278 INFO mapreduce.Job: The url to track the job: http://master:8088/proxy/application_1672373403508_0004/\n\n2022-12-30 10:31:34,280 INFO mapreduce.Job: Running job: job_1672373403508_0004\n\n2022-12-30 10:31:48,004 INFO mapreduce.Job: Job job_1672373403508_0004 running in uber mode : false\n\n2022-12-30 10:31:48,006 INFO mapreduce.Job:  map 0% reduce 0%\n\n2022-12-30 10:31:55,129 INFO mapreduce.Job: Task Id : attempt_1672373403508_0004_m_000000_0, Status : FAILED\n\nError: java.lang.RuntimeException: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:170)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.setConf(DBInputFormat.java:161)\n\n    at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:77)\n\n    at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:137)\n\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:763)\n\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:347)\n\n    at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:174)\n\n    at java.security.AccessController.doPrivileged(Native Method)\n\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1729)\n\n    at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:168)\n\nCaused by: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:223)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:168)\n\n    ... 10 more\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\n\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\n\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\n\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\n\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n\n    at org.apache.sqoop.mapreduce.db.DBConfiguration.getConnection(DBConfiguration.java:302)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:216)\n\n    ... 11 more\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\n\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\n\n    ... 24 more\n\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\n    at java.net.Socket.connect(Socket.java:607)\n\n    at java.net.Socket.connect(Socket.java:556)\n\n    at java.net.Socket.&lt;init&gt;(Socket.java:452)\n\n    at java.net.Socket.&lt;init&gt;(Socket.java:262)\n\n    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\n\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\n\n    ... 25 more\n\n\n\n2022-12-30 10:32:01,340 INFO mapreduce.Job: Task Id : attempt_1672373403508_0004_m_000000_1, Status : FAILED\n\nError: java.lang.RuntimeException: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:170)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.setConf(DBInputFormat.java:161)\n\n    at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:77)\n\n    at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:137)\n\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:763)\n\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:347)\n\n    at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:174)\n\n    at java.security.AccessController.doPrivileged(Native Method)\n\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1729)\n\n    at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:168)\n\nCaused by: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:223)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:168)\n\n    ... 10 more\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\n\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\n\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\n\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\n\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n\n    at org.apache.sqoop.mapreduce.db.DBConfiguration.getConnection(DBConfiguration.java:302)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:216)\n\n    ... 11 more\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\n\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\n\n    ... 24 more\n\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\n    at java.net.Socket.connect(Socket.java:607)\n\n    at java.net.Socket.connect(Socket.java:556)\n\n    at java.net.Socket.&lt;init&gt;(Socket.java:452)\n\n    at java.net.Socket.&lt;init&gt;(Socket.java:262)\n\n    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\n\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\n\n    ... 25 more\n\n\n\n2022-12-30 10:32:08,436 INFO mapreduce.Job: Task Id : attempt_1672373403508_0004_m_000000_2, Status : FAILED\n\nError: java.lang.RuntimeException: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:170)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.setConf(DBInputFormat.java:161)\n\n    at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:77)\n\n    at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:137)\n\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:763)\n\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:347)\n\n    at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:174)\n\n    at java.security.AccessController.doPrivileged(Native Method)\n\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1729)\n\n    at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:168)\n\nCaused by: java.lang.RuntimeException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:223)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.setDbConf(DBInputFormat.java:168)\n\n    ... 10 more\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\n\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\n\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\n\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\n\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n\n    at org.apache.sqoop.mapreduce.db.DBConfiguration.getConnection(DBConfiguration.java:302)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.getConnection(DBInputFormat.java:216)\n\n    ... 11 more\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\n\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\n\n    ... 24 more\n\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\n    at java.net.Socket.connect(Socket.java:607)\n\n    at java.net.Socket.connect(Socket.java:556)\n\n    at java.net.Socket.&lt;init&gt;(Socket.java:452)\n\n    at java.net.Socket.&lt;init&gt;(Socket.java:262)\n\n    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\n\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\n\n    ... 25 more\n\n\n\n2022-12-30 10:32:15,557 INFO mapreduce.Job:  map 100% reduce 0%\n\n2022-12-30 10:32:15,607 INFO mapreduce.Job: Job job_1672373403508_0004 failed with state FAILED due to: Task failed task_1672373403508_0004_m_000000\n\nJob failed as tasks failed. failedMaps:1 failedReduces:0 killedMaps:0 killedReduces: 0\n\n\n\n2022-12-30 10:32:15,805 INFO mapreduce.Job: Counters: 8\n\n    Job Counters \n\n        Failed map tasks=4\n\n        Launched map tasks=4\n\n        Other local map tasks=4\n\n        Total time spent by all maps in occupied slots (ms)=38808\n\n        Total time spent by all reduces in occupied slots (ms)=0\n\n        Total time spent by all map tasks (ms)=19404\n\n        Total vcore-milliseconds taken by all map tasks=19404\n\n        Total megabyte-milliseconds taken by all map tasks=4967424\n\n2022-12-30 10:32:15,819 WARN mapreduce.Counters: Group FileSystemCounters is deprecated. Use org.apache.hadoop.mapreduce.FileSystemCounter instead\n\n2022-12-30 10:32:15,825 INFO mapreduce.ImportJobBase: Transferred 0 bytes in 48.2897 seconds (0 bytes/sec)\n\n2022-12-30 10:32:15,830 WARN mapreduce.Counters: Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead\n\n2022-12-30 10:32:15,831 INFO mapreduce.ImportJobBase: Retrieved 0 records.\n\n2022-12-30 10:32:15,831 ERROR tool.ImportTool: Import failed: Import job failed!\n\nadminn@master:~/sqoop/bin$ B\n</code></pre>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1672043840,"post_id":74844264,"comment_id":132211210,"body_markdown":"Duplicate? Did you use a different StackOverflow account? Please don&#39;t duplicate you questions. Just edit/ add updates to the original ones.: https://stackoverflow.com/questions/74856903/spring-boot-microservices-resttemplate-null-pointer-exception-in-junit-test/74857211?noredirect=1#comment132198255_74857211","body":"Duplicate? Did you use a different StackOverflow account? Please don&#39;t duplicate you questions. Just edit/ add updates to the original ones.: <a href=\"https://stackoverflow.com/questions/74856903/spring-boot-microservices-resttemplate-null-pointer-exception-in-junit-test/74857211?noredirect=1#comment132198255_74857211\" title=\"spring boot microservices resttemplate null pointer exception in junit test\">stackoverflow.com/questions/74856903/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1672078480,"post_id":74844264,"comment_id":132217946,"body_markdown":"@Puce My previous account is temporarily closed. It opens at the beginning of January. How can I fix it as I still couldn&#39;t fix it?","body":"@Puce My previous account is temporarily closed. It opens at the beginning of January. How can I fix it as I still couldn&#39;t fix it?"}],"answers":[{"tags":[],"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671416411,"creation_date":1671416411,"answer_id":74845780,"question_id":74844264,"body_markdown":"You only mock `restTemplate`, but not `ResponseEntity` of any form. So what you basically do: \r\n\r\n    when(\r\n        mock.method() // returns ResponseEntity, which is always null, unless mocked previously\r\n            .method() // a method call on an object, which is not even a mock\r\n    )\r\nI am even surpised this gives you a NullPointerException, but not a Mockito exception of any kind as you violate the very basics of the mock concept (the object you pass to `when()` is not a mock).\r\n\r\nIn order to make it work pass the RestTemplate mock to `when`, and wrap the desired result into a `ResponseEntity` to preserve the exchange method return type:\r\n\r\n            when(restTemplate.exchange(\r\n                &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\r\n                HttpMethod.GET, request, ProductResponse.class))\r\n            .thenReturn(ResponseEntity.ok(getMockProductResponse()));\r\n\r\n            when(restTemplate.exchange(\r\n                &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\r\n                HttpMethod.GET, request, PaymentResponse.class))\r\n            .thenReturn(ResponseEntity.ok(getMockPaymentResponse()));\r\n\r\n            OrderResponse orderResponse = orderService.getOrderDetails(1, bearerToken).getBody();\r\n\r\n ","title":"Spring Boot Microservices JUnit Test- PotentialStubbingProblem Issue","body":"<p>You only mock <code>restTemplate</code>, but not <code>ResponseEntity</code> of any form. So what you basically do:</p>\n<pre><code>when(\n    mock.method() // returns ResponseEntity, which is always null, unless mocked previously\n        .method() // a method call on an object, which is not even a mock\n)\n</code></pre>\n<p>I am even surpised this gives you a NullPointerException, but not a Mockito exception of any kind as you violate the very basics of the mock concept (the object you pass to <code>when()</code> is not a mock).</p>\n<p>In order to make it work pass the RestTemplate mock to <code>when</code>, and wrap the desired result into a <code>ResponseEntity</code> to preserve the exchange method return type:</p>\n<pre><code>        when(restTemplate.exchange(\n            &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\n            HttpMethod.GET, request, ProductResponse.class))\n        .thenReturn(ResponseEntity.ok(getMockProductResponse()));\n\n        when(restTemplate.exchange(\n            &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\n            HttpMethod.GET, request, PaymentResponse.class))\n        .thenReturn(ResponseEntity.ok(getMockPaymentResponse()));\n\n        OrderResponse orderResponse = orderService.getOrderDetails(1, bearerToken).getBody();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10308503,"reputation":21,"user_id":7605040,"display_name":"Howard Wang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672373671,"creation_date":1672373671,"answer_id":74958065,"question_id":74844264,"body_markdown":"First of all, you should use `@ExtendWith(MockitoExtension.class)` instead of `@SprintBootTest` on the test class since you are not doing integration test and using JUnit5 with Mockito.\r\n\r\nSecondly, there is no &#39;Bearer &#39; prefix on your Authorization header token in your `OrderServiceImpl`.\r\n\r\nAnd you do not need to mock `getBody()` of `ResponseEntity` since you already mock `restTemplate.exchange()`.\r\n\r\nLastly, the method you are verifying should be `exchange()` not `getForObject()`.","title":"Spring Boot Microservices JUnit Test- PotentialStubbingProblem Issue","body":"<p>First of all, you should use <code>@ExtendWith(MockitoExtension.class)</code> instead of <code>@SprintBootTest</code> on the test class since you are not doing integration test and using JUnit5 with Mockito.</p>\n<p>Secondly, there is no 'Bearer ' prefix on your Authorization header token in your <code>OrderServiceImpl</code>.</p>\n<p>And you do not need to mock <code>getBody()</code> of <code>ResponseEntity</code> since you already mock <code>restTemplate.exchange()</code>.</p>\n<p>Lastly, the method you are verifying should be <code>exchange()</code> not <code>getForObject()</code>.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672443599,"creation_date":1671396164,"question_id":74844264,"body_markdown":"I have a problem about running the test method named test_When_Order_Success located at OrderServiceImplTest in order service in my spring boot microservice example.\r\n\r\nWhen I run the example after getting a bearer token, I get this issue shown below.\r\n\r\nHere is the method shown below.\r\n\r\n    @DisplayName(&quot;Get Order - Success Scenario&quot;)\r\n        @Test\r\n        void test_When_Order_Success() {\r\n    \r\n            String bearerToken = &quot;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaXNzIjoiUk9MRV9VU0VSICIsImlhdCI6MTY3MjQ0Mjg3NywiZXhwIjoxNjcyNDQyOTk3fQ.O6Rm41kFN8SBNUVAiKrsM4O_PBI5qurpmSU34AEk5RTT3ZkPoxiFGeI0byrHOBPPOgyVRXxY_KhgzPcKKgm1ew&quot;;\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken);\r\n    \r\n            HttpEntity request = new HttpEntity&lt;&gt;(headers);\r\n    \r\n            //Mocking\r\n            Order order = getMockOrder();\r\n            when(orderRepository.findById(anyLong()))\r\n                    .thenReturn(Optional.of(order));\r\n    \r\n    \r\n            when(restTemplate.exchange(\r\n                    &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\r\n                    HttpMethod.GET, request, ProductResponse.class)).thenReturn(ResponseEntity.ok(getMockProductResponse()));\r\n    \r\n            when(restTemplate.exchange(\r\n                    &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\r\n                    HttpMethod.GET, request, PaymentResponse.class)).thenReturn(ResponseEntity.ok(getMockPaymentResponse()));\r\n    \r\n            //Actual\r\n            OrderResponse orderResponse = orderService.getOrderDetails(1,bearerToken);\r\n    \r\n            //Verification\r\n            verify(orderRepository, times(1)).findById(anyLong());\r\n    \r\n            verify(restTemplate, times(1))\r\n                    .exchange(&quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(), HttpMethod.GET,\r\n                    request, ProductResponse.class);\r\n    \r\n            verify(restTemplate, times(1))\r\n                    .exchange(&quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(), HttpMethod.GET,\r\n                    request, PaymentResponse.class);\r\n    \r\n            //Assert\r\n            assertNotNull(orderResponse);\r\n            assertEquals(order.getId(), orderResponse.getOrderId());\r\n        }\r\n\r\nHere is the error message\r\n\r\n    02:28:15.051 [main] INFO com.microservice.orderservice.service.impl.OrderServiceImpl - OrderServiceImpl | getOrderDetails | Get order details for Order Id : 1\r\n    02:28:15.056 [main] INFO com.microservice.orderservice.service.impl.OrderServiceImpl - OrderServiceImpl | getOrderDetails | Invoking Product service to fetch the product for id: 1\r\n    \r\n    org.mockito.exceptions.misusing.PotentialStubbingProblem: \r\n    Strict stubbing argument mismatch. Please check:\r\n     - this invocation of &#39;exchange&#39; method:\r\n        restTemplate.exchange(\r\n        &quot;http://PRODUCT-SERVICE/product/1&quot;,\r\n        GET,\r\n        &lt;[Content-Type:&quot;application/json&quot;, Authorization:&quot;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaXNzIjoiUk9MRV9VU0VSICIsImlhdCI6MTY3MjQ0Mjg3NywiZXhwIjoxNjcyNDQyOTk3fQ.O6Rm41kFN8SBNUVAiKrsM4O_PBI5qurpmSU34AEk5RTT3ZkPoxiFGeI0byrHOBPPOgyVRXxY_KhgzPcKKgm1ew&quot;]&gt;,\r\n        class com.microservice.orderservice.payload.response.ProductResponse\r\n    );\r\n        -&gt; at com.microservice.orderservice.service.impl.OrderServiceImpl.getOrderDetails(OrderServiceImpl.java:113)\r\n     - has following stubbing(s) with different arguments:\r\n        1. restTemplate.exchange(\r\n        &quot;http://PRODUCT-SERVICE/product/1&quot;,\r\n        GET,\r\n        &lt;[Content-Type:&quot;application/json&quot;, Authorization:&quot;Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaXNzIjoiUk9MRV9VU0VSICIsImlhdCI6MTY3MjQ0Mjg3NywiZXhwIjoxNjcyNDQyOTk3fQ.O6Rm41kFN8SBNUVAiKrsM4O_PBI5qurpmSU34AEk5RTT3ZkPoxiFGeI0byrHOBPPOgyVRXxY_KhgzPcKKgm1ew&quot;]&gt;,\r\n        class com.microservice.orderservice.payload.response.ProductResponse\r\n    );\r\n          -&gt; at com.microservice.orderservice.service.OrderServiceImplTest.test_When_Order_Success(OrderServiceImplTest.java:71)\r\n        2. restTemplate.exchange(\r\n        &quot;http://PAYMENT-SERVICE/payment/order/1&quot;,\r\n        GET,\r\n        &lt;[Content-Type:&quot;application/json&quot;, Authorization:&quot;Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaXNzIjoiUk9MRV9VU0VSICIsImlhdCI6MTY3MjQ0Mjg3NywiZXhwIjoxNjcyNDQyOTk3fQ.O6Rm41kFN8SBNUVAiKrsM4O_PBI5qurpmSU34AEk5RTT3ZkPoxiFGeI0byrHOBPPOgyVRXxY_KhgzPcKKgm1ew&quot;]&gt;,\r\n        class com.microservice.orderservice.payload.response.PaymentResponse\r\n    );\r\n          -&gt; at com.microservice.orderservice.service.OrderServiceImplTest.test_When_Order_Success(OrderServiceImplTest.java:75)\r\n    Typically, stubbing argument mismatch indicates user mistake when writing tests.\r\n    Mockito fails early so that you can debug potential problem easily.\r\n    However, there are legit scenarios when this exception generates false negative signal:\r\n      - stubbing the same method multiple times using &#39;given().will()&#39; or &#39;when().then()&#39; API\r\n        Please use &#39;will().given()&#39; or &#39;doReturn().when()&#39; API for stubbing.\r\n      - stubbed method is intentionally invoked with different arguments by code under test\r\n        Please use default or &#39;silent&#39; JUnit Rule (equivalent of Strictness.LENIENT).\r\n    For more information see javadoc for PotentialStubbingProblem class.\r\n    \r\n    \tat com.microservice.orderservice.service.impl.OrderServiceImpl.getOrderDetails(OrderServiceImpl.java:113)\r\n    \tat com.microservice.orderservice.service.OrderServiceImplTest.test_When_Order_Success(OrderServiceImplTest.java:94)\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the github repo : [Link][1]\r\n\r\n\r\n**To run the app,**\r\n\r\n1 ) Run Service Registery (Eureka Server)\r\n\r\n2 ) Run config server\r\n\r\n3 ) Run zipkin and redis through these commands shown below on docker\r\n\r\n      docker run -d -p 9411:9411 openzipkin/zipkin\r\n      docker run -d --name redis -p 6379:6379 redis\r\n\r\n4 ) Run api gateway\r\n\r\n5 ) Run other services\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer","title":"Spring Boot Microservices JUnit Test- PotentialStubbingProblem Issue","body":"<p>I have a problem about running the test method named test_When_Order_Success located at OrderServiceImplTest in order service in my spring boot microservice example.</p>\n<p>When I run the example after getting a bearer token, I get this issue shown below.</p>\n<p>Here is the method shown below.</p>\n<pre><code>@DisplayName(&quot;Get Order - Success Scenario&quot;)\n    @Test\n    void test_When_Order_Success() {\n\n        String bearerToken = &quot;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaXNzIjoiUk9MRV9VU0VSICIsImlhdCI6MTY3MjQ0Mjg3NywiZXhwIjoxNjcyNDQyOTk3fQ.O6Rm41kFN8SBNUVAiKrsM4O_PBI5qurpmSU34AEk5RTT3ZkPoxiFGeI0byrHOBPPOgyVRXxY_KhgzPcKKgm1ew&quot;;\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken);\n\n        HttpEntity request = new HttpEntity&lt;&gt;(headers);\n\n        //Mocking\n        Order order = getMockOrder();\n        when(orderRepository.findById(anyLong()))\n                .thenReturn(Optional.of(order));\n\n\n        when(restTemplate.exchange(\n                &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\n                HttpMethod.GET, request, ProductResponse.class)).thenReturn(ResponseEntity.ok(getMockProductResponse()));\n\n        when(restTemplate.exchange(\n                &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\n                HttpMethod.GET, request, PaymentResponse.class)).thenReturn(ResponseEntity.ok(getMockPaymentResponse()));\n\n        //Actual\n        OrderResponse orderResponse = orderService.getOrderDetails(1,bearerToken);\n\n        //Verification\n        verify(orderRepository, times(1)).findById(anyLong());\n\n        verify(restTemplate, times(1))\n                .exchange(&quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(), HttpMethod.GET,\n                request, ProductResponse.class);\n\n        verify(restTemplate, times(1))\n                .exchange(&quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(), HttpMethod.GET,\n                request, PaymentResponse.class);\n\n        //Assert\n        assertNotNull(orderResponse);\n        assertEquals(order.getId(), orderResponse.getOrderId());\n    }\n</code></pre>\n<p>Here is the error message</p>\n<pre><code>02:28:15.051 [main] INFO com.microservice.orderservice.service.impl.OrderServiceImpl - OrderServiceImpl | getOrderDetails | Get order details for Order Id : 1\n02:28:15.056 [main] INFO com.microservice.orderservice.service.impl.OrderServiceImpl - OrderServiceImpl | getOrderDetails | Invoking Product service to fetch the product for id: 1\n\norg.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'exchange' method:\n    restTemplate.exchange(\n    &quot;http://PRODUCT-SERVICE/product/1&quot;,\n    GET,\n    &lt;[Content-Type:&quot;application/json&quot;, Authorization:&quot;eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaXNzIjoiUk9MRV9VU0VSICIsImlhdCI6MTY3MjQ0Mjg3NywiZXhwIjoxNjcyNDQyOTk3fQ.O6Rm41kFN8SBNUVAiKrsM4O_PBI5qurpmSU34AEk5RTT3ZkPoxiFGeI0byrHOBPPOgyVRXxY_KhgzPcKKgm1ew&quot;]&gt;,\n    class com.microservice.orderservice.payload.response.ProductResponse\n);\n    -&gt; at com.microservice.orderservice.service.impl.OrderServiceImpl.getOrderDetails(OrderServiceImpl.java:113)\n - has following stubbing(s) with different arguments:\n    1. restTemplate.exchange(\n    &quot;http://PRODUCT-SERVICE/product/1&quot;,\n    GET,\n    &lt;[Content-Type:&quot;application/json&quot;, Authorization:&quot;Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaXNzIjoiUk9MRV9VU0VSICIsImlhdCI6MTY3MjQ0Mjg3NywiZXhwIjoxNjcyNDQyOTk3fQ.O6Rm41kFN8SBNUVAiKrsM4O_PBI5qurpmSU34AEk5RTT3ZkPoxiFGeI0byrHOBPPOgyVRXxY_KhgzPcKKgm1ew&quot;]&gt;,\n    class com.microservice.orderservice.payload.response.ProductResponse\n);\n      -&gt; at com.microservice.orderservice.service.OrderServiceImplTest.test_When_Order_Success(OrderServiceImplTest.java:71)\n    2. restTemplate.exchange(\n    &quot;http://PAYMENT-SERVICE/payment/order/1&quot;,\n    GET,\n    &lt;[Content-Type:&quot;application/json&quot;, Authorization:&quot;Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaXNzIjoiUk9MRV9VU0VSICIsImlhdCI6MTY3MjQ0Mjg3NywiZXhwIjoxNjcyNDQyOTk3fQ.O6Rm41kFN8SBNUVAiKrsM4O_PBI5qurpmSU34AEk5RTT3ZkPoxiFGeI0byrHOBPPOgyVRXxY_KhgzPcKKgm1ew&quot;]&gt;,\n    class com.microservice.orderservice.payload.response.PaymentResponse\n);\n      -&gt; at com.microservice.orderservice.service.OrderServiceImplTest.test_When_Order_Success(OrderServiceImplTest.java:75)\nTypically, stubbing argument mismatch indicates user mistake when writing tests.\nMockito fails early so that you can debug potential problem easily.\nHowever, there are legit scenarios when this exception generates false negative signal:\n  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API\n    Please use 'will().given()' or 'doReturn().when()' API for stubbing.\n  - stubbed method is intentionally invoked with different arguments by code under test\n    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).\nFor more information see javadoc for PotentialStubbingProblem class.\n\n    at com.microservice.orderservice.service.impl.OrderServiceImpl.getOrderDetails(OrderServiceImpl.java:113)\n    at com.microservice.orderservice.service.OrderServiceImplTest.test_When_Order_Success(OrderServiceImplTest.java:94)\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the github repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p><strong>To run the app,</strong></p>\n<p>1 ) Run Service Registery (Eureka Server)</p>\n<p>2 ) Run config server</p>\n<p>3 ) Run zipkin and redis through these commands shown below on docker</p>\n<pre><code>  docker run -d -p 9411:9411 openzipkin/zipkin\n  docker run -d --name redis -p 6379:6379 redis\n</code></pre>\n<p>4 ) Run api gateway</p>\n<p>5 ) Run other services</p>\n"},{"tags":["java","json","websocket","jersey","atmosphere"],"answers":[{"tags":[],"owner":{"account_id":4129132,"reputation":311,"user_id":3387468,"display_name":"shintoZ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1397120367,"creation_date":1397120367,"answer_id":22983338,"question_id":21409865,"body_markdown":"Try this code\r\n\r\n    @AtmosphereService(broadcaster=JerseyBroadcaster.class)\r\n    @Path(&quot;entity/{topic}&quot;)\r\n    public class WebService {\r\n\t@PathParam(value=&quot;topic&quot;)\r\n\tString topic;\r\n\t@Context\r\n    private BroadcasterFactory factory;\r\n\t\r\n\t\r\n\t    @Suspend(contentType = &quot;application/json&quot;, listeners = {OnDisconnect.class})\r\n\t    @GET\r\n\t    public Broadcastable suspend() {\r\n\t    \treturn new Broadcastable( factory.lookup(topic, true ) );\t    \r\n        }\r\n\r\n\t    \r\n\t    @Broadcast(writeEntity = false)\r\n\t    @POST\r\n\t    @Produces(&quot;application/json&quot;)\r\n\t    public Response publish(Notification notification) {\r\n\t        return new Response(notification);\r\n\t    }\r\n\r\n\r\n        public static final class OnDisconnect extends AtmosphereResourceEventListenerAdapter {\r\n        private final Logger logger = LoggerFactory.getLogger(WebService.class);\r\n\r\n       \r\n        @Override\r\n            public void onDisconnect(AtmosphereResourceEvent event) {\r\n                if (event.isCancelled()) {\r\n                   logger.info(&quot;Browser {} unexpectedly disconnected&quot;, event.getResource().uuid());\r\n                } else if (event.isClosedByClient()) {\r\n                   logger.info(&quot;Browser {} closed the connection&quot;, event.getResource().uuid());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHope this will help... :)","title":"Java Atmosphere Jersey return JSON Object from Broadcastable","body":"<p>Try this code</p>\n\n<pre><code>@AtmosphereService(broadcaster=JerseyBroadcaster.class)\n@Path(\"entity/{topic}\")\npublic class WebService {\n@PathParam(value=\"topic\")\nString topic;\n@Context\nprivate BroadcasterFactory factory;\n\n\n    @Suspend(contentType = \"application/json\", listeners = {OnDisconnect.class})\n    @GET\n    public Broadcastable suspend() {\n        return new Broadcastable( factory.lookup(topic, true ) );       \n    }\n\n\n    @Broadcast(writeEntity = false)\n    @POST\n    @Produces(\"application/json\")\n    public Response publish(Notification notification) {\n        return new Response(notification);\n    }\n\n\n    public static final class OnDisconnect extends AtmosphereResourceEventListenerAdapter {\n    private final Logger logger = LoggerFactory.getLogger(WebService.class);\n\n\n    @Override\n        public void onDisconnect(AtmosphereResourceEvent event) {\n            if (event.isCancelled()) {\n               logger.info(\"Browser {} unexpectedly disconnected\", event.getResource().uuid());\n            } else if (event.isClosedByClient()) {\n               logger.info(\"Browser {} closed the connection\", event.getResource().uuid());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Hope this will help... :)</p>\n"}],"owner":{"account_id":3923821,"reputation":93,"user_id":3245118,"accept_rate":25,"display_name":"robinsio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672442528,"creation_date":1390923148,"question_id":21409865,"body_markdown":"I am trying to return a JSON representation of a JAXB annotated POJO using Atmosphere.\r\n\r\n    @Path(&quot;/entity/{topic}&quot;)\r\n    public class JerseyPubSub\r\n    {\r\n        @PathParam(&quot;topic&quot;)\r\n        private Broadcaster topic;\r\n\r\n        @GET\r\n        @Produces(&quot;application/json&quot;)\r\n        public SuspendResponse&lt;String&gt; subscribe()\r\n        {\r\n            return new SuspendResponse.SuspendResponseBuilder&lt;String&gt;()\r\n                .broadcaster(topic)\r\n                .outputComments(true)\r\n                .build();\r\n        }\r\n\r\n        @POST\r\n        @Broadcast\r\n        @Produces(&quot;application/json&quot;)\r\n        public Broadcastable publish(Notification notification)\r\n        {\r\n            return new Broadcastable(notification, topic);\r\n        }\r\n    }\r\n\r\nI know that my data binding is working as POSTing the JSON &#39;Notification&#39; Object works.\r\n\r\nIs there anyway I can convert the Object passed into &#39;new Broadcastable()&#39; to a JSON Object, using the JAXB JSON serialization?","title":"Java Atmosphere Jersey return JSON Object from Broadcastable","body":"<p>I am trying to return a JSON representation of a JAXB annotated POJO using Atmosphere.</p>\n<pre><code>@Path(&quot;/entity/{topic}&quot;)\npublic class JerseyPubSub\n{\n    @PathParam(&quot;topic&quot;)\n    private Broadcaster topic;\n\n    @GET\n    @Produces(&quot;application/json&quot;)\n    public SuspendResponse&lt;String&gt; subscribe()\n    {\n        return new SuspendResponse.SuspendResponseBuilder&lt;String&gt;()\n            .broadcaster(topic)\n            .outputComments(true)\n            .build();\n    }\n\n    @POST\n    @Broadcast\n    @Produces(&quot;application/json&quot;)\n    public Broadcastable publish(Notification notification)\n    {\n        return new Broadcastable(notification, topic);\n    }\n}\n</code></pre>\n<p>I know that my data binding is working as POSTing the JSON 'Notification' Object works.</p>\n<p>Is there anyway I can convert the Object passed into 'new Broadcastable()' to a JSON Object, using the JAXB JSON serialization?</p>\n"},{"tags":["java","collections","java-stream","streams-api"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672406246,"creation_date":1672402563,"answer_id":74961434,"question_id":74961002,"body_markdown":"Based on your usage of `Collector.joining()` I assume that you want to concatenate all non-null values without any delimiters (anyway it can be easily changed).\r\n\r\nIn order to combine `SampleObject` instances having the same `number` property, you can group them into an intermediate `Map` where the `number` would serve as Key and a custom accumulation type (having properties `valueOne`, `valueTwo`, `valueThree`) would be a Value (note: if you don&#39;t want to define a new type, you can put the accumulation right into the `SampleObject`, but I&#39;ll go with a separate class because this approach is more flexible).\r\n\r\nHere&#39;s it might look like (for convenience, I&#39;ve implemented `Consumer` interface):\r\n\r\n    public class SampleObjectAccumulator implements Consumer&lt;SampleObject&gt; {\r\n        private StringBuilder valueOne = new StringBuilder();\r\n        private StringBuilder valueTwo = new StringBuilder();\r\n        private StringBuilder valueThree = new StringBuilder();\r\n    \r\n        @Override\r\n        public void accept(SampleObject sampleObject) {\r\n            if (sampleObject.getValueOne() != null) valueOne.append(sampleObject.getValueOne());\r\n            if (sampleObject.getValueTwo() != null) valueTwo.append(sampleObject.getValueTwo());\r\n            if (sampleObject.getValueThree() != null) valueThree.append(sampleObject.getValueThree());\r\n        }\r\n        \r\n        public SampleObjectAccumulator merge(SampleObjectAccumulator other) {\r\n            valueOne.append(other.valueOne);\r\n            valueTwo.append(other.valueTwo);\r\n            valueThree.append(other.valueThree);\r\n            return this;\r\n        }\r\n        \r\n        public SampleObject toSampleObject(String number) {\r\n            return new SampleObject(\r\n                number,\r\n                valueOne.toString(),\r\n                valueTwo.toString(),\r\n                valueThree.toString()\r\n            );\r\n        }\r\n        \r\n        // getters\r\n    }\r\n\r\nTo create an intermediate Map we can use Collector [`groupingBy()`][groupingBy] and as its downstream Collector, in order to leverage the custom accumulation type, we can provide a custom collector, which can instantiated using factory method [`Collector.of()`][collectorOf].\r\n\r\nThen we need to create a stream over the entries of the intermediate map in order to transform the Value.\r\n\r\nNote that sorting applied in only the second stream.\r\n\r\n```\r\nAnotherClass anotherClass = // initializing the AnotherClass instance\r\n\r\nfinal Map&lt;String, SampleObject&gt; mapOfMergedSamples = anotherClass.getSampleObjects().stream()\r\n    .collect(Collectors.groupingBy(\r\n        SampleObject::getNumber,\r\n        Collector.of(\r\n            SampleObjectAccumulator::new,\r\n            SampleObjectAccumulator::accept,\r\n            SampleObjectAccumulator::merge\r\n        )\r\n    ))\r\n    .entrySet().stream()\r\n    .sorted(Map.Entry.comparingByKey())\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        e -&gt; e.getValue().toSampleObject(e.getKey()),\r\n        (left, right) -&gt; { throw new AssertionError(&quot;All keys are expected to be unique&quot;); },\r\n        LinkedHashMap::new\r\n    ));\r\n```\r\n\r\n\r\n\r\n   [groupingBy]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\r\n\r\n   [collectorOf]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)","title":"Java aggregate same objects into one","body":"<p>Based on your usage of <code>Collector.joining()</code> I assume that you want to concatenate all non-null values without any delimiters (anyway it can be easily changed).</p>\n<p>In order to combine <code>SampleObject</code> instances having the same <code>number</code> property, you can group them into an intermediate <code>Map</code> where the <code>number</code> would serve as Key and a custom accumulation type (having properties <code>valueOne</code>, <code>valueTwo</code>, <code>valueThree</code>) would be a Value (note: if you don't want to define a new type, you can put the accumulation right into the <code>SampleObject</code>, but I'll go with a separate class because this approach is more flexible).</p>\n<p>Here's it might look like (for convenience, I've implemented <code>Consumer</code> interface):</p>\n<pre><code>public class SampleObjectAccumulator implements Consumer&lt;SampleObject&gt; {\n    private StringBuilder valueOne = new StringBuilder();\n    private StringBuilder valueTwo = new StringBuilder();\n    private StringBuilder valueThree = new StringBuilder();\n\n    @Override\n    public void accept(SampleObject sampleObject) {\n        if (sampleObject.getValueOne() != null) valueOne.append(sampleObject.getValueOne());\n        if (sampleObject.getValueTwo() != null) valueTwo.append(sampleObject.getValueTwo());\n        if (sampleObject.getValueThree() != null) valueThree.append(sampleObject.getValueThree());\n    }\n    \n    public SampleObjectAccumulator merge(SampleObjectAccumulator other) {\n        valueOne.append(other.valueOne);\n        valueTwo.append(other.valueTwo);\n        valueThree.append(other.valueThree);\n        return this;\n    }\n    \n    public SampleObject toSampleObject(String number) {\n        return new SampleObject(\n            number,\n            valueOne.toString(),\n            valueTwo.toString(),\n            valueThree.toString()\n        );\n    }\n    \n    // getters\n}\n</code></pre>\n<p>To create an intermediate Map we can use Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> and as its downstream Collector, in order to leverage the custom accumulation type, we can provide a custom collector, which can instantiated using factory method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>.</p>\n<p>Then we need to create a stream over the entries of the intermediate map in order to transform the Value.</p>\n<p>Note that sorting applied in only the second stream.</p>\n<pre><code>AnotherClass anotherClass = // initializing the AnotherClass instance\n\nfinal Map&lt;String, SampleObject&gt; mapOfMergedSamples = anotherClass.getSampleObjects().stream()\n    .collect(Collectors.groupingBy(\n        SampleObject::getNumber,\n        Collector.of(\n            SampleObjectAccumulator::new,\n            SampleObjectAccumulator::accept,\n            SampleObjectAccumulator::merge\n        )\n    ))\n    .entrySet().stream()\n    .sorted(Map.Entry.comparingByKey())\n    .collect(Collectors.toMap(\n        Map.Entry::getKey,\n        e -&gt; e.getValue().toSampleObject(e.getKey()),\n        (left, right) -&gt; { throw new AssertionError(&quot;All keys are expected to be unique&quot;); },\n        LinkedHashMap::new\n    ));\n</code></pre>\n"}],"owner":{"account_id":11238821,"reputation":63,"user_id":8243925,"display_name":"noob123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74961434,"answer_count":1,"score":0,"last_activity_date":1672441805,"creation_date":1672399607,"question_id":74961002,"body_markdown":"I&#39;m quite new into programming and got a tricky question.\r\nI got an object which has multiple parameters: \r\n\r\n    public class SampleObject {\r\n        private String number;\r\n        private String valueOne;\r\n        private String valueTwo;\r\n        private String valueThree;\r\n        \r\n        // getters, setters, all-args constructor\r\n    }\r\n\r\nEvery object always has non-null `number` attribute as well as one of three values-field. So for example, if `valueOne` is not `null`, the other two value fields `valueTwo` and `valueThree` would be `null`.\r\n\r\nSo here&#39;s my problem: \r\n\r\nThe `SampleObject` is referenced in `AnotherClass` which looks so:\r\n\r\n    public class AnotherClass {\r\n        private UUID id;\r\n        private List&lt;SampleObject&gt; sampleObjects;\r\n        \r\n        // getters, setters, all-args constructor\r\n    }\r\n\r\nI am receiving one object of `AnotherClass` containing multiple entities of `SampleClass` in a list. \r\n\r\nWhat I want to do is merge all `SampleObject`s which got the same number into one object and provide a map, where the number is the key and value are the value parameters. For example: \r\n\r\n    Sample1(number:&quot;1&quot;, valueOne=&quot;1&quot;, valueTwo=null, valueThree=null)\r\n    Sample2(number:&quot;1&quot;, valueOne=null, valueTwo=&quot;2&quot;, valueThree=null)\r\n    Sample3(number:&quot;1&quot;, valueOne=null, valueTwo=null, valueThree=&quot;3&quot;)\r\n    Sample4(number:&quot;2&quot;, valueOne=&quot;5&quot;, valueTwo=null, valueThree=null)\r\n\r\nDesired state: \r\n\r\n    Sample1Merged(number:&quot;1&quot;, valueOne=&quot;1&quot;, valueTwo=&quot;2&quot;, valueThree=&quot;3&quot;)\r\n    Sample4(number:&quot;2&quot;, valueOne=&quot;5&quot;, valueTwo=null, valueThree=null)\r\n\r\nWhat I have already done is the following:\r\n\r\n```\r\nfinal Map&lt;String, SampleObject&gt; mapOfMergedSamples = new LinkedHashMap&lt;&gt;();\r\n\r\nanotherClass.getSampleObjects().stream()\r\n    .sorted(Comparator.comparing(SampleObject::getNumber))\r\n    .forEach(s -&gt; mapOfMergedSamples.put(s.getNumber(), new SampleObject(Stream.of(s.getValueOne(), s.getValueTwo())\r\n        .filter(Objects::nonNull)\r\n        .collect(Collectors.joining()), s.getValueThree()))\r\n    );\r\n    \r\nreturn mapOfMergedSamples;\r\n```\r\n\r\nThe problem with my current try is that every number gets overwritten because they have the same key in the map (the number in the `SampleObject`) does someone know how can I archive my desired state?","title":"Java aggregate same objects into one","body":"<p>I'm quite new into programming and got a tricky question.\nI got an object which has multiple parameters:</p>\n<pre><code>public class SampleObject {\n    private String number;\n    private String valueOne;\n    private String valueTwo;\n    private String valueThree;\n    \n    // getters, setters, all-args constructor\n}\n</code></pre>\n<p>Every object always has non-null <code>number</code> attribute as well as one of three values-field. So for example, if <code>valueOne</code> is not <code>null</code>, the other two value fields <code>valueTwo</code> and <code>valueThree</code> would be <code>null</code>.</p>\n<p>So here's my problem:</p>\n<p>The <code>SampleObject</code> is referenced in <code>AnotherClass</code> which looks so:</p>\n<pre><code>public class AnotherClass {\n    private UUID id;\n    private List&lt;SampleObject&gt; sampleObjects;\n    \n    // getters, setters, all-args constructor\n}\n</code></pre>\n<p>I am receiving one object of <code>AnotherClass</code> containing multiple entities of <code>SampleClass</code> in a list.</p>\n<p>What I want to do is merge all <code>SampleObject</code>s which got the same number into one object and provide a map, where the number is the key and value are the value parameters. For example:</p>\n<pre><code>Sample1(number:&quot;1&quot;, valueOne=&quot;1&quot;, valueTwo=null, valueThree=null)\nSample2(number:&quot;1&quot;, valueOne=null, valueTwo=&quot;2&quot;, valueThree=null)\nSample3(number:&quot;1&quot;, valueOne=null, valueTwo=null, valueThree=&quot;3&quot;)\nSample4(number:&quot;2&quot;, valueOne=&quot;5&quot;, valueTwo=null, valueThree=null)\n</code></pre>\n<p>Desired state:</p>\n<pre><code>Sample1Merged(number:&quot;1&quot;, valueOne=&quot;1&quot;, valueTwo=&quot;2&quot;, valueThree=&quot;3&quot;)\nSample4(number:&quot;2&quot;, valueOne=&quot;5&quot;, valueTwo=null, valueThree=null)\n</code></pre>\n<p>What I have already done is the following:</p>\n<pre><code>final Map&lt;String, SampleObject&gt; mapOfMergedSamples = new LinkedHashMap&lt;&gt;();\n\nanotherClass.getSampleObjects().stream()\n    .sorted(Comparator.comparing(SampleObject::getNumber))\n    .forEach(s -&gt; mapOfMergedSamples.put(s.getNumber(), new SampleObject(Stream.of(s.getValueOne(), s.getValueTwo())\n        .filter(Objects::nonNull)\n        .collect(Collectors.joining()), s.getValueThree()))\n    );\n    \nreturn mapOfMergedSamples;\n</code></pre>\n<p>The problem with my current try is that every number gets overwritten because they have the same key in the map (the number in the <code>SampleObject</code>) does someone know how can I archive my desired state?</p>\n"},{"tags":["java","architecture","hexagonal-architecture"],"answers":[{"tags":[],"owner":{"account_id":20980931,"reputation":11,"user_id":15415781,"display_name":"Simon Lasselsberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671784207,"creation_date":1671784181,"answer_id":74897626,"question_id":74887329,"body_markdown":"The answer depends on what you actually want to accomplish.\r\n\r\nTo me, your anticipation of the &#39;need to send the &quot;Contact&quot; also to another channel&#39; sounds like an additional feature of your business logic.\r\n\r\nBased on that assumption, I would implement two separate port/adapter pairs, one for the API and one for XML. Your use case can then decide which ports to call.\r\n\r\nThis diagram visualizes what I mean: [Component Architecture][1]\r\n\r\nIf you really always want to send the contact to the API *and* export it as XML you could leave your use-case untouched and just extend the implementation of your `SendContactToAPIAdapter` to do both. But you should then also consider renaming it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Mlll.png","title":"Port &amp; Adapter Pattern - invoke multiple implementation of same output port","body":"<p>The answer depends on what you actually want to accomplish.</p>\n<p>To me, your anticipation of the 'need to send the &quot;Contact&quot; also to another channel' sounds like an additional feature of your business logic.</p>\n<p>Based on that assumption, I would implement two separate port/adapter pairs, one for the API and one for XML. Your use case can then decide which ports to call.</p>\n<p>This diagram visualizes what I mean: <a href=\"https://i.stack.imgur.com/2Mlll.png\" rel=\"nofollow noreferrer\">Component Architecture</a></p>\n<p>If you really always want to send the contact to the API <em>and</em> export it as XML you could leave your use-case untouched and just extend the implementation of your <code>SendContactToAPIAdapter</code> to do both. But you should then also consider renaming it.</p>\n"},{"tags":[],"owner":{"account_id":26789322,"reputation":71,"user_id":20382988,"display_name":"Ahmet M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672218685,"creation_date":1672218284,"answer_id":74938267,"question_id":74887329,"body_markdown":"    public interface ContactRegisterer{\r\n       public void registerContact(Contact contactToRegister) throws ContactRegisterException;\r\n    }\r\n\r\n\r\nyou could **use this interface[represents a port which is used by more higher level logic of your application] so that the location of where to save the contact and how to save it could be changed independently from the client.** This interface **could be used to register contact to a single but different destinations, or to multiple and different destination.** For instance, you could register to a file, a database, a service or all of them.\r\n\r\nWhen you register to a single destination, all you need is to **give a different implementation of the interface for registering to that destination.**\r\n\r\nWhen you register to multiple destinations, **you could use Decorator design pattern.** (Create a wrapper that implements the interface and also contains different objects implementing the same interface. The wrapper is given to the client(have the same interface, hence the client is not aware of the fact that it is given a wrapper), the wrapper in turn could use multiple threads for registering to each destination or use a for loop within a thread)\r\n\r\nAnother alternative is to use **A Modified Version Of Chain of Responsibility pattern.** In this pattern, you chain multiple(open ended) instances of the interface and every instance call the next after it is done registering to its destination.","title":"Port &amp; Adapter Pattern - invoke multiple implementation of same output port","body":"<pre><code>public interface ContactRegisterer{\n   public void registerContact(Contact contactToRegister) throws ContactRegisterException;\n}\n</code></pre>\n<p>you could <strong>use this interface[represents a port which is used by more higher level logic of your application] so that the location of where to save the contact and how to save it could be changed independently from the client.</strong> This interface <strong>could be used to register contact to a single but different destinations, or to multiple and different destination.</strong> For instance, you could register to a file, a database, a service or all of them.</p>\n<p>When you register to a single destination, all you need is to <strong>give a different implementation of the interface for registering to that destination.</strong></p>\n<p>When you register to multiple destinations, <strong>you could use Decorator design pattern.</strong> (Create a wrapper that implements the interface and also contains different objects implementing the same interface. The wrapper is given to the client(have the same interface, hence the client is not aware of the fact that it is given a wrapper), the wrapper in turn could use multiple threads for registering to each destination or use a for loop within a thread)</p>\n<p>Another alternative is to use <strong>A Modified Version Of Chain of Responsibility pattern.</strong> In this pattern, you chain multiple(open ended) instances of the interface and every instance call the next after it is done registering to its destination.</p>\n"},{"tags":[],"owner":{"account_id":144056,"reputation":2707,"user_id":352826,"accept_rate":100,"display_name":"Francesc Castells"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672440619,"creation_date":1672440619,"answer_id":74966398,"question_id":74887329,"body_markdown":"It depends if the change is a technical change or a business logic change.\r\n\r\nThe ports and adapters architecture allows you to change the adapters without changing the Core of the application. If you have tests that validate your business logic, as you should, you&#39;ll see that you can swap adapters, everything will work fine and you won&#39;t have to change your Core tests. In this case, you can have the two adapters and configure one or the other based on some setting, or as you say, have an adapter that basically calls the other two. \r\n\r\nOn the other hand, if your business logic requirements change (depending on some business rule you have to send the contact to A or to B), you&#39;ll notice that you&#39;ll have to change your tests to verify the new requirements. In that case, your Core will define a different Port that will be more suited to the new business logic. \r\n","title":"Port &amp; Adapter Pattern - invoke multiple implementation of same output port","body":"<p>It depends if the change is a technical change or a business logic change.</p>\n<p>The ports and adapters architecture allows you to change the adapters without changing the Core of the application. If you have tests that validate your business logic, as you should, you'll see that you can swap adapters, everything will work fine and you won't have to change your Core tests. In this case, you can have the two adapters and configure one or the other based on some setting, or as you say, have an adapter that basically calls the other two.</p>\n<p>On the other hand, if your business logic requirements change (depending on some business rule you have to send the contact to A or to B), you'll notice that you'll have to change your tests to verify the new requirements. In that case, your Core will define a different Port that will be more suited to the new business logic.</p>\n"}],"owner":{"account_id":16340790,"reputation":23,"user_id":11801753,"display_name":"LurenzZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1672440619,"creation_date":1671705657,"question_id":74887329,"body_markdown":"I have some doubt about how implement a simple scenario for a my style exercises following the Hexagonal architecture or Port &amp; Adapter Pattern.\r\n\r\nI have a UseCase (or service) that has to send a Contact (received from a contact form) to an external API service.\r\n\r\n```java\r\n\r\npublic class SendContactUseCase{\r\n\r\n    //output port interface\r\n    private final SendContact sendContact;\r\n\r\n    public ServiceLayer(SendContact sendContact) {\r\n        this.sendContact = sendContact;\r\n    }\r\n\r\n    public void sendContact(ContactRequest req){\r\n        sendContact.send(req);\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo I have create an output port with a method `send(ContactRequest req)` after that I have implemented this interface as a driven adapter where I put the codes for the communication with the API\r\n\r\n```java\r\n//driven adapter\r\npublic class SendContactToAPIAdapter implements SendContact {\r\n   \r\n    //private final PossibleAPILib possibleAPIlib...;\r\n\r\n    @Override\r\n    public boolean send(ContactRequest req) {\r\n    //HERE the code to communicate with API\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere my doubt, what if at a later moment comes the need to send the &quot;Contact&quot; **also** to another channel, for example as XML attachment to a specific email address.\r\n\r\nIf I have understood correctly the Port &amp; Adapter pattern to hide the infrastructure &quot;logic&quot; to the UseCase I should implement a new driven adapter from the same Port in order to inject the correct adapter in the UseCase.\r\n```java \r\npublic class SendContactXMLAdapter implements SendContact\r\n``` \r\n\r\nBut if I&#39;d should invoke both the adapater? Beacause I have to send the contact to the both systems?\r\nShould I to create a third adapter where hide the logic to call both systems?\r\n\r\nI hope I&#39;ve been clear\r\nThanks folks\r\n\r\n\r\nCreate a sample java project for a simple use case","title":"Port &amp; Adapter Pattern - invoke multiple implementation of same output port","body":"<p>I have some doubt about how implement a simple scenario for a my style exercises following the Hexagonal architecture or Port &amp; Adapter Pattern.</p>\n<p>I have a UseCase (or service) that has to send a Contact (received from a contact form) to an external API service.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class SendContactUseCase{\n\n    //output port interface\n    private final SendContact sendContact;\n\n    public ServiceLayer(SendContact sendContact) {\n        this.sendContact = sendContact;\n    }\n\n    public void sendContact(ContactRequest req){\n        sendContact.send(req);\n    }\n}\n\n</code></pre>\n<p>So I have create an output port with a method <code>send(ContactRequest req)</code> after that I have implemented this interface as a driven adapter where I put the codes for the communication with the API</p>\n<pre class=\"lang-java prettyprint-override\"><code>//driven adapter\npublic class SendContactToAPIAdapter implements SendContact {\n   \n    //private final PossibleAPILib possibleAPIlib...;\n\n    @Override\n    public boolean send(ContactRequest req) {\n    //HERE the code to communicate with API\n    }\n}\n\n</code></pre>\n<p>Here my doubt, what if at a later moment comes the need to send the &quot;Contact&quot; <strong>also</strong> to another channel, for example as XML attachment to a specific email address.</p>\n<p>If I have understood correctly the Port &amp; Adapter pattern to hide the infrastructure &quot;logic&quot; to the UseCase I should implement a new driven adapter from the same Port in order to inject the correct adapter in the UseCase.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SendContactXMLAdapter implements SendContact\n</code></pre>\n<p>But if I'd should invoke both the adapater? Beacause I have to send the contact to the both systems?\nShould I to create a third adapter where hide the logic to call both systems?</p>\n<p>I hope I've been clear\nThanks folks</p>\n<p>Create a sample java project for a simple use case</p>\n"},{"tags":["java","selenium","kubernetes","selenium-webdriver","selenium-hub"],"owner":{"account_id":14501361,"reputation":103,"user_id":10474434,"display_name":"MuCh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672440559,"creation_date":1672440559,"question_id":74966390,"body_markdown":"I have configured my Selenium Hub with 2 Chrome nodes in Selenium 4.\r\nWhen I run the command \r\n`minikube service selenium-hub --url`\r\nI get the URLs like `http://127.0.0.1:58317` and I am able to see the hub-node configuration up and running correctly.\r\nI wrote a simple java code to test this configuration. However, when I run my run it fails.\r\nMy code is -\r\n\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n\r\n        chromeOptions.addArguments(&quot;--headless&quot;,\r\n                &quot;--disable-gpu&quot;,\r\n                &quot;--window-size=1920,1200&quot;,\r\n                &quot;--ignore-certificate-errors&quot;,\r\n                &quot;--disable-extensions&quot;,\r\n                &quot;--no-sandbox&quot;,\r\n                &quot;--disable-dev-shm-usage&quot;,\r\n                &quot;--allow-insecure-localhost&quot;,\r\n                &quot;allow-running-insecure-content&quot;);\r\n\r\n\r\n        WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:58317/wd/hub&quot;), chromeOptions);\r\n        \r\n        System.out.println(&quot;******************** STARTED TEST EXECUTION ********************************&quot;);\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;https://www.google.com/&quot;);\r\n        driver.close();\r\n\r\nWhen I run the test, I am getting this error -\r\n\r\n```org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (chrome not reachable)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;selenium-node-chrome-78784d568c-mqlc7&#39;, ip: &#39;172.17.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;11.0.11&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;selenium-node-chrome-78784d568c-mqlc7&#39;, ip: &#39;172.17.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;11.0.11&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;selenium-hub-66f9f7d979-wqslh&#39;, ip: &#39;172.17.0.3&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;11.0.11&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;UM01416&#39;, ip: &#39;2a02:1210:3edc:4a00:e5da:1807:9574:1abc%en0&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;12.6.1&#39;, java.version: &#39;11.0.17&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\n```\r\n\r\nI am attaching an image of my Selenium Hub configuration.\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/usSU5.png","title":"Selenium tests not running in Selenium hub configuration with Kubernetes","body":"<p>I have configured my Selenium Hub with 2 Chrome nodes in Selenium 4.\nWhen I run the command\n<code>minikube service selenium-hub --url</code>\nI get the URLs like <code>http://127.0.0.1:58317</code> and I am able to see the hub-node configuration up and running correctly.\nI wrote a simple java code to test this configuration. However, when I run my run it fails.\nMy code is -</p>\n<pre><code>    ChromeOptions chromeOptions = new ChromeOptions();\n\n    chromeOptions.addArguments(&quot;--headless&quot;,\n            &quot;--disable-gpu&quot;,\n            &quot;--window-size=1920,1200&quot;,\n            &quot;--ignore-certificate-errors&quot;,\n            &quot;--disable-extensions&quot;,\n            &quot;--no-sandbox&quot;,\n            &quot;--disable-dev-shm-usage&quot;,\n            &quot;--allow-insecure-localhost&quot;,\n            &quot;allow-running-insecure-content&quot;);\n\n\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:58317/wd/hub&quot;), chromeOptions);\n    \n    System.out.println(&quot;******************** STARTED TEST EXECUTION ********************************&quot;);\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.google.com/&quot;);\n    driver.close();\n</code></pre>\n<p>When I run the test, I am getting this error -</p>\n<pre><code>INFO: Using OpenTelemetry for tracing\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (chrome not reachable)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'selenium-node-chrome-78784d568c-mqlc7', ip: '172.17.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '11.0.11'\nDriver info: driver.version: unknown\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'selenium-node-chrome-78784d568c-mqlc7', ip: '172.17.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '11.0.11'\nDriver info: driver.version: unknown\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'selenium-hub-66f9f7d979-wqslh', ip: '172.17.0.3', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '11.0.11'\nDriver info: driver.version: unknown\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'UM01416', ip: '2a02:1210:3edc:4a00:e5da:1807:9574:1abc%en0', os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '12.6.1', java.version: '11.0.17'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\n</code></pre>\n<p>I am attaching an image of my Selenium Hub configuration.\n<a href=\"https://i.stack.imgur.com/usSU5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usSU5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","python-3.x","apache-spark","pyspark","hadoop-streaming"],"answers":[{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672440216,"creation_date":1672440216,"answer_id":74966361,"question_id":74962675,"body_markdown":"Looks like you do not have the `hadoop-cloud` module added. The class is not part of core Spark. https://search.maven.org/artifact/org.apache.spark/spark-hadoop-cloud_2.12/3.3.1/jar","title":"How to fix &quot;java.lang.ClassNotFoundException: org.apache.spark.internal.io.cloud.PathOutputCommitProtocol&quot; Pyspark","body":"<p>Looks like you do not have the <code>hadoop-cloud</code> module added. The class is not part of core Spark. <a href=\"https://search.maven.org/artifact/org.apache.spark/spark-hadoop-cloud_2.12/3.3.1/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.apache.spark/spark-hadoop-cloud_2.12/3.3.1/jar</a></p>\n"}],"owner":{"account_id":1983862,"reputation":1615,"user_id":1779730,"accept_rate":64,"display_name":"chas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672440216,"creation_date":1672411037,"question_id":74962675,"body_markdown":"Below are the runtime versions in pycharm.\r\n\r\n    Java Home\t/Library/Java/JavaVirtualMachines/jdk-11.0.16.1.jdk/Contents/Home\r\n    Java Version\t11.0.16.1 (Oracle Corporation)\r\n    Scala Version\tversion 2.12.15\r\n    Spark Version.         spark-3.3.1\r\n    Python 3.9\r\n\r\nI am trying to write a pyspark dataframe to csv as below:\r\n\r\n    df.write.csv(&quot;/Users/data/data.csv&quot;)\r\n\r\nand gets the error:\r\n\r\n         Traceback (most recent call last):\r\n      File &quot;/Applications/PyCharm.app/Contents/plugins/python/helpers/pydev/_pydevd_bundle/pydevd_exec2.py&quot;, line 3, in Exec\r\n        exec(exp, global_vars, local_vars)\r\n      File &quot;&lt;input&gt;&quot;, line 1, in &lt;module&gt;\r\n      File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/pyspark/sql/readwriter.py&quot;, line 1240, in csv\r\n        self._jwrite.csv(path)\r\n      File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1321, in __call__\r\n        return_value = get_return_value(\r\n      File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\r\n        return f(*a, **kw)\r\n      File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\r\n        raise Py4JJavaError(\r\n    py4j.protocol.Py4JJavaError: An error occurred while calling o747.csv.\r\n    : java.lang.ClassNotFoundException: org.apache.spark.internal.io.cloud.PathOutputCommitProtocol\r\n\r\nAnd spark conf is as below:\r\n\r\n    spark_conf = SparkConf()\r\n            spark_conf.setAll(parameters.items())\r\n            spark_conf.set(&#39;spark.jars.packages&#39;, &#39;org.apache.hadoop:hadoop-aws:3.3.4&#39;)\r\n            spark_conf.set(&#39;spark.hadoop.fs.s3.aws.credentials.provider&#39;,\r\n                           &#39;org.apache.hadoop.fs.s3.TemporaryAWSCredentialsProvider&#39;)\r\n            spark_conf.set(&#39;spark.hadoop.fs.s3.access.key&#39;, os.environ.get(&#39;AWS_ACCESS_KEY_ID&#39;))\r\n            spark_conf.set(&#39;spark.hadoop.fs.s3.secret.key&#39;, os.environ.get(&#39;AWS_SECRET_ACCESS_KEY&#39;))\r\n            spark_conf.set(&#39;spark.hadoop.fs.s3a.bucket.all.committer.magic.enabled&#39;, &#39;true&#39;)\r\n            spark_conf.set(&quot;com.amazonaws.services.s3.enableV4&quot;, &quot;true&quot;)\r\n            spark_conf.set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n            spark_conf.set(&quot;fs.s3a.aws.credentials.provider&quot;,\r\n                           &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\r\n            spark_conf.set(&quot;fs.AbstractFileSystem.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\r\n            spark_conf.set(&quot;hadoop.fs.s3a.path.style.access&quot;, &quot;true&quot;)\r\n            spark_conf.set(&quot;hadoop.fs.s3a.fast.upload&quot;, &quot;true&quot;)\r\n            spark_conf.set(&quot;hadoop.fs.s3a.fast.upload.buffer&quot;, &quot;bytebuffer&quot;)\r\n            spark_conf.set(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\r\n            spark_conf.set(&quot;fs.s3a.multipart.size&quot;, &quot;128M&quot;)\r\n            spark_conf.set(&quot;fs.s3a.fast.upload.active.blocks&quot;, &quot;4&quot;)\r\n            spark_conf.set(&quot;fs.s3a.committer.name&quot;, &quot;partitioned&quot;)\r\n            spark_conf.set(&quot;spark.hadoop.fs.s3a.committer.name&quot;, &quot;directory&quot;)\r\n            spark_conf.set(&quot;spark.sql.sources.commitProtocolClass&quot;,\r\n                           &quot;org.apache.spark.internal.io.cloud.PathOutputCommitProtocol&quot;)\r\n            spark_conf.set(&quot;spark.sql.parquet.output.committer.class&quot;,\r\n                           &quot;org.apache.spark.internal.io.cloud.BindingParquetOutputCommitter&quot;)\r\n            spark_conf.set(&quot;spark.hadoop.mapreduce.fileoutputcommitter.algorithm.version&quot;, &quot;1&quot;)\r\n\r\nAny help to fix this issue is appreciated. Thanks!!","title":"How to fix &quot;java.lang.ClassNotFoundException: org.apache.spark.internal.io.cloud.PathOutputCommitProtocol&quot; Pyspark","body":"<p>Below are the runtime versions in pycharm.</p>\n<pre><code>Java Home   /Library/Java/JavaVirtualMachines/jdk-11.0.16.1.jdk/Contents/Home\nJava Version    11.0.16.1 (Oracle Corporation)\nScala Version   version 2.12.15\nSpark Version.         spark-3.3.1\nPython 3.9\n</code></pre>\n<p>I am trying to write a pyspark dataframe to csv as below:</p>\n<pre><code>df.write.csv(&quot;/Users/data/data.csv&quot;)\n</code></pre>\n<p>and gets the error:</p>\n<pre><code>     Traceback (most recent call last):\n  File &quot;/Applications/PyCharm.app/Contents/plugins/python/helpers/pydev/_pydevd_bundle/pydevd_exec2.py&quot;, line 3, in Exec\n    exec(exp, global_vars, local_vars)\n  File &quot;&lt;input&gt;&quot;, line 1, in &lt;module&gt;\n  File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/pyspark/sql/readwriter.py&quot;, line 1240, in csv\n    self._jwrite.csv(path)\n  File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1321, in __call__\n    return_value = get_return_value(\n  File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\n    return f(*a, **kw)\n  File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\n    raise Py4JJavaError(\npy4j.protocol.Py4JJavaError: An error occurred while calling o747.csv.\n: java.lang.ClassNotFoundException: org.apache.spark.internal.io.cloud.PathOutputCommitProtocol\n</code></pre>\n<p>And spark conf is as below:</p>\n<pre><code>spark_conf = SparkConf()\n        spark_conf.setAll(parameters.items())\n        spark_conf.set('spark.jars.packages', 'org.apache.hadoop:hadoop-aws:3.3.4')\n        spark_conf.set('spark.hadoop.fs.s3.aws.credentials.provider',\n                       'org.apache.hadoop.fs.s3.TemporaryAWSCredentialsProvider')\n        spark_conf.set('spark.hadoop.fs.s3.access.key', os.environ.get('AWS_ACCESS_KEY_ID'))\n        spark_conf.set('spark.hadoop.fs.s3.secret.key', os.environ.get('AWS_SECRET_ACCESS_KEY'))\n        spark_conf.set('spark.hadoop.fs.s3a.bucket.all.committer.magic.enabled', 'true')\n        spark_conf.set(&quot;com.amazonaws.services.s3.enableV4&quot;, &quot;true&quot;)\n        spark_conf.set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\n        spark_conf.set(&quot;fs.s3a.aws.credentials.provider&quot;,\n                       &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\n        spark_conf.set(&quot;fs.AbstractFileSystem.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\n        spark_conf.set(&quot;hadoop.fs.s3a.path.style.access&quot;, &quot;true&quot;)\n        spark_conf.set(&quot;hadoop.fs.s3a.fast.upload&quot;, &quot;true&quot;)\n        spark_conf.set(&quot;hadoop.fs.s3a.fast.upload.buffer&quot;, &quot;bytebuffer&quot;)\n        spark_conf.set(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\n        spark_conf.set(&quot;fs.s3a.multipart.size&quot;, &quot;128M&quot;)\n        spark_conf.set(&quot;fs.s3a.fast.upload.active.blocks&quot;, &quot;4&quot;)\n        spark_conf.set(&quot;fs.s3a.committer.name&quot;, &quot;partitioned&quot;)\n        spark_conf.set(&quot;spark.hadoop.fs.s3a.committer.name&quot;, &quot;directory&quot;)\n        spark_conf.set(&quot;spark.sql.sources.commitProtocolClass&quot;,\n                       &quot;org.apache.spark.internal.io.cloud.PathOutputCommitProtocol&quot;)\n        spark_conf.set(&quot;spark.sql.parquet.output.committer.class&quot;,\n                       &quot;org.apache.spark.internal.io.cloud.BindingParquetOutputCommitter&quot;)\n        spark_conf.set(&quot;spark.hadoop.mapreduce.fileoutputcommitter.algorithm.version&quot;, &quot;1&quot;)\n</code></pre>\n<p>Any help to fix this issue is appreciated. Thanks!!</p>\n"},{"tags":["java","apache-commons-exec"],"comments":[{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1672424741,"post_id":74923109,"comment_id":132288899,"body_markdown":"Can you share a [mcve]? Perhaps the way you&#39;re putting the CommandLine or Executor together are the problem","body":"Can you share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Perhaps the way you&#39;re putting the CommandLine or Executor together are the problem"},{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1672425027,"post_id":74923109,"comment_id":132288952,"body_markdown":"To follow up on my previous comment - I tested, and this most definitely works with Apache Commons Exec. I.e., the issue isn&#39;t the regex, but something else (perhaps the cwd? Perhaps handling the output?) We need to see a full example and the output that doesn&#39;t work for your usecase.","body":"To follow up on my previous comment - I tested, and this most definitely works with Apache Commons Exec. I.e., the issue isn&#39;t the regex, but something else (perhaps the cwd? Perhaps handling the output?) We need to see a full example and the output that doesn&#39;t work for your usecase."},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":1,"creation_date":1672427908,"post_id":74923109,"comment_id":132289570,"body_markdown":"Thanks for taking a look @Mureinik. I added a rough MRE, which I think captures the problem.","body":"Thanks for taking a look @Mureinik. I added a rough MRE, which I think captures the problem."},{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1672429492,"post_id":74923109,"comment_id":132289940,"body_markdown":"No luck - I run the `main` in the sample you provided (using IntelliJ) and it just works. We&#39;re missing some environmental difference here.","body":"No luck - I run the <code>main</code> in the sample you provided (using IntelliJ) and it just works. We&#39;re missing some environmental difference here."},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1672435152,"post_id":74923109,"comment_id":132291050,"body_markdown":"How exactly did you run it? Using the steps above? I get the &quot;Caused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)&quot; exception even when running through intelliJ &#129300; any idea what env differences could be the cause? this happens using zsh or bash. Would Java version be the issue? I&#39;m using 1.8. Thanks again for taking the time to run my example.","body":"How exactly did you run it? Using the steps above? I get the &quot;Caused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)&quot; exception even when running through intelliJ 🤔 any idea what env differences could be the cause? this happens using zsh or bash. Would Java version be the issue? I&#39;m using 1.8. Thanks again for taking the time to run my example."},{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1672435308,"post_id":74923109,"comment_id":132291075,"body_markdown":"Yup, just works, and finds the line that matches that regex","body":"Yup, just works, and finds the line that matches that regex"},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1672435559,"post_id":74923109,"comment_id":132291110,"body_markdown":"What version of java are you using? I&#39;m trying to think of what env differences could be the cause here... same with Git.","body":"What version of java are you using? I&#39;m trying to think of what env differences could be the cause here... same with Git."},{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1672440144,"post_id":74923109,"comment_id":132291926,"body_markdown":"Found it! I was testing on my Windows laptop. Once I switched over to my Linux desktop I was able to trivially reproduce the error with the instructions you provided. See my answer below for the details and the solution.","body":"Found it! I was testing on my Windows laptop. Once I switched over to my Linux desktop I was able to trivially reproduce the error with the instructions you provided. See my answer below for the details and the solution."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672440094,"creation_date":1672440094,"answer_id":74966349,"question_id":74923109,"body_markdown":"I got a clue as to what&#39;s going on here when the sample you provided worked just fine on my Windows laptop but failed on my Linux desktop. \r\n\r\nOnce I made sure the git version wasn&#39;t the culprit (tested several versions between 2.17 and 2.39 on both machines), I figured the difference must be in the way different shells handle quoting. Specifically, the only argument here that has any potential quoting issues is the regex (`&quot;^\\s*public void\\s+(testFindByAdAccount).*&quot;`), which is added to the command line by `commandLine.addArgument(regex);`. \r\n\r\n`addArgument` may look innocuous, but under the hood, it allows the CommandLine to handle the quoting itself (i.e., `addArgument(String argument)` calls `addArgument(String argument, true)`. Since you&#39;ve handled the quoting yourself, you should not allow the `CommandLine` to handle the quoting, and should explicitly call it with the second argument `false`. i.e.:\r\n\r\n```java\r\npublic static List&lt;String&gt; grep(String regex, String filePattern, String wd) {\r\n    CommandLine commandLine = CommandLine.parse(&quot;git&quot;);\r\n    commandLine.addArgument(&quot;--no-pager&quot;);\r\n    commandLine.addArgument(&quot;grep&quot;);\r\n    commandLine.addArgument(&quot;--line-number&quot;);\r\n    commandLine.addArgument(&quot;--untracked&quot;);\r\n    commandLine.addArgument(&quot;--extended-regexp&quot;);\r\n    commandLine.addArgument(regex, false); \r\n    // Here -----------------------^\r\n    commandLine.addArgument(&quot;--&quot;);\r\n    commandLine.addArgument(filePattern);\r\n\r\n    System.out.println(commandLine);\r\n\r\n    return List.of(runCommand(commandLine, wd).split(&quot;\\n&quot;));\r\n}\r\n```\r\n\r\nThis takes the quote-handling logic away and ensures the same code runs smoothly both on Windows and Linux (at least those I&#39;ve tested).","title":"Apache Commons Exec Problems Handling Regex Argument?","body":"<p>I got a clue as to what's going on here when the sample you provided worked just fine on my Windows laptop but failed on my Linux desktop.</p>\n<p>Once I made sure the git version wasn't the culprit (tested several versions between 2.17 and 2.39 on both machines), I figured the difference must be in the way different shells handle quoting. Specifically, the only argument here that has any potential quoting issues is the regex (<code>&quot;^\\s*public void\\s+(testFindByAdAccount).*&quot;</code>), which is added to the command line by <code>commandLine.addArgument(regex);</code>.</p>\n<p><code>addArgument</code> may look innocuous, but under the hood, it allows the CommandLine to handle the quoting itself (i.e., <code>addArgument(String argument)</code> calls <code>addArgument(String argument, true)</code>. Since you've handled the quoting yourself, you should not allow the <code>CommandLine</code> to handle the quoting, and should explicitly call it with the second argument <code>false</code>. i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; grep(String regex, String filePattern, String wd) {\n    CommandLine commandLine = CommandLine.parse(&quot;git&quot;);\n    commandLine.addArgument(&quot;--no-pager&quot;);\n    commandLine.addArgument(&quot;grep&quot;);\n    commandLine.addArgument(&quot;--line-number&quot;);\n    commandLine.addArgument(&quot;--untracked&quot;);\n    commandLine.addArgument(&quot;--extended-regexp&quot;);\n    commandLine.addArgument(regex, false); \n    // Here -----------------------^\n    commandLine.addArgument(&quot;--&quot;);\n    commandLine.addArgument(filePattern);\n\n    System.out.println(commandLine);\n\n    return List.of(runCommand(commandLine, wd).split(&quot;\\n&quot;));\n}\n</code></pre>\n<p>This takes the quote-handling logic away and ensures the same code runs smoothly both on Windows and Linux (at least those I've tested).</p>\n"}],"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74966349,"answer_count":1,"score":4,"last_activity_date":1672440094,"creation_date":1672080071,"question_id":74923109,"body_markdown":"I&#39;m trying to use Apache Commons Exec to run a git command which uses a regex. \r\n\r\nWhen I form my `CommandLine` and print it out it looks like this:\r\n```java\r\n[git, --no-pager, grep, --line-number, --untracked, --extended-regexp, &quot;^\\s*public void\\s+(testFindByAdAccount).*&quot;, --, *Test.java]\r\n```\r\nHowever when I execute this, git returns no results, resulting in an exit code 1. \r\n\r\nWhen I run this command manually though, it returns plenty of results and succeeds. Changing the `--extended-regexp` argument to just a string like `testFindByAdAccount` does yield results when run via `Exec`, so I think Apache Commons is doing something to the regexp argument making it invalid. Any ideas what is going on?\r\n\r\nEDIT: Adding a reproducible example \r\n1. Clone https://github.com/ragurney/min-example\r\n1. Run `gradlew shadowJar` to produce jar file for project\r\n1. Run the app with `java -jar app/build/libs/app-all.jar`\r\n1. Note the output which shows the command printed fails with an exit code 1 (because there are no results returned by the git command)\r\n```bash\r\n$ java -jar app/build/libs/app-all.jar\r\nHELLOOOOOO\r\nWD:::  null\r\n[git, --no-pager, grep, --line-number, --untracked, --extended-regexp, &quot;^\\s*public void\\s+(testAppHasAGreeting)\\(\\).*&quot;, --, *Test.java]\r\nWD:::  /Users/rgurney/Src/personal/min-example\r\n\r\nException in thread &quot;main&quot; java.lang.RuntimeException: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n\tat min.example.App.lambda$runCommand$1(App.java:74)\r\n\tat io.vavr.control.Try.getOrElseThrow(Try.java:748)\r\n```\r\n5. Running the command manually does produce expected results:\r\n```bash\r\n$ git --no-pager grep --line-number --untracked --extended-regexp &quot;^\\s*public void\\s+(testAppHasAGreeting)\\(\\).*&quot; -- &quot;*Test.java&quot;\r\napp/src/test/java/min/example/AppTest.java:11:    public void testAppHasAGreeting() {\r\n```","title":"Apache Commons Exec Problems Handling Regex Argument?","body":"<p>I'm trying to use Apache Commons Exec to run a git command which uses a regex.</p>\n<p>When I form my <code>CommandLine</code> and print it out it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[git, --no-pager, grep, --line-number, --untracked, --extended-regexp, &quot;^\\s*public void\\s+(testFindByAdAccount).*&quot;, --, *Test.java]\n</code></pre>\n<p>However when I execute this, git returns no results, resulting in an exit code 1.</p>\n<p>When I run this command manually though, it returns plenty of results and succeeds. Changing the <code>--extended-regexp</code> argument to just a string like <code>testFindByAdAccount</code> does yield results when run via <code>Exec</code>, so I think Apache Commons is doing something to the regexp argument making it invalid. Any ideas what is going on?</p>\n<p>EDIT: Adding a reproducible example</p>\n<ol>\n<li>Clone <a href=\"https://github.com/ragurney/min-example\" rel=\"nofollow noreferrer\">https://github.com/ragurney/min-example</a></li>\n<li>Run <code>gradlew shadowJar</code> to produce jar file for project</li>\n<li>Run the app with <code>java -jar app/build/libs/app-all.jar</code></li>\n<li>Note the output which shows the command printed fails with an exit code 1 (because there are no results returned by the git command)</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -jar app/build/libs/app-all.jar\nHELLOOOOOO\nWD:::  null\n[git, --no-pager, grep, --line-number, --untracked, --extended-regexp, &quot;^\\s*public void\\s+(testAppHasAGreeting)\\(\\).*&quot;, --, *Test.java]\nWD:::  /Users/rgurney/Src/personal/min-example\n\nException in thread &quot;main&quot; java.lang.RuntimeException: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at min.example.App.lambda$runCommand$1(App.java:74)\n    at io.vavr.control.Try.getOrElseThrow(Try.java:748)\n</code></pre>\n<ol start=\"5\">\n<li>Running the command manually does produce expected results:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>$ git --no-pager grep --line-number --untracked --extended-regexp &quot;^\\s*public void\\s+(testAppHasAGreeting)\\(\\).*&quot; -- &quot;*Test.java&quot;\napp/src/test/java/min/example/AppTest.java:11:    public void testAppHasAGreeting() {\n</code></pre>\n"},{"tags":["java","rest","jakarta-ee","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1672419418,"post_id":74961015,"comment_id":132287618,"body_markdown":"Do you have a `beans.xml` in your deployment? I don&#39;t see any bean defining annotations on `OwnerService` or `OwnerServiceImpl`.","body":"Do you have a <code>beans.xml</code> in your deployment? I don&#39;t see any bean defining annotations on <code>OwnerService</code> or <code>OwnerServiceImpl</code>."},{"owner":{"account_id":14665475,"reputation":111,"user_id":10591439,"display_name":"vapan"},"score":0,"creation_date":1672439287,"post_id":74961015,"comment_id":132291752,"body_markdown":"I fixed my post and you can see my beans.xml. I dont know if i have to configure something there","body":"I fixed my post and you can see my beans.xml. I dont know if i have to configure something there"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1672462148,"post_id":74961015,"comment_id":132294263,"body_markdown":"You need to add scopes to those two types.","body":"You need to add scopes to those two types."}],"owner":{"account_id":14665475,"reputation":111,"user_id":10591439,"display_name":"vapan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672439232,"creation_date":1672399698,"question_id":74961015,"body_markdown":"I want to convert an old application to a new one in which i make HTTP calls (GET/POST/DELETE). I have a model package where i have my POJO classes and i made a DTO package where i have Dto classes. When i make a simple GET method to take a String message as a response i dont have any problem but when i use dependency injection and i want to use GET or POST methods to see some details about my app i get in postman  this message: **inStream parameter is null**\r\n\r\n**OwnerResource.java**\r\n\r\n            @Path(&quot;ownerResource&quot;)\r\n            public class OwnerResource {\r\n            \r\n                @GET\r\n                public Response ping() {         // When i use only this method i dont have any problem and i can see the message\r\n                    return Response\r\n                            .ok(&quot;pang&quot;)\r\n                            .build();\r\n                }\r\n            \r\n    // When i use the below code i have problem in HTTP calls\r\n              \r\n                @Inject\r\n                private OwnerService ownerService;\r\n            \r\n                @GET\r\n                @Path(&quot;owner/{ownerId}&quot;)\r\n                @Produces(&quot;application/json&quot;)\r\n                public RestApiResult&lt;PropertyOwnerDto&gt; getOwner(@PathParam(&quot;ownerId&quot;) int ownerId) {\r\n                    return ownerService.getOwner(ownerId);\r\n            \r\n                }\r\n            \r\n                @POST\r\n                @Path(&quot;owner&quot;)\r\n                @Produces(&quot;application/json&quot;)\r\n                @Consumes(&quot;application/json&quot;)\r\n                public void createNewOwner(PropertyOwnerDto owner) {\r\n                ownerService.createPropertyOwner(owner);\r\n        \r\n            }\r\n    }\r\n\r\n**PropertyOwner.java**\r\n\r\n \r\n\r\n       @Data\r\n        @NoArgsConstructor\r\n        @Entity(name = &quot;propertyowner&quot;)\r\n        @Table\r\n        public class PropertyOwner extends PersistentClass {\r\n          // id is in PersistenceClass\r\n          private int vat; \r\n          private String name;\r\n          private String surname;\r\n          private String address;\r\n          private String phoneNumber;\r\n          private String email;\r\n          private String username;\r\n          private String password;\r\n          @OneToMany(mappedBy = &quot;owner&quot;, orphanRemoval = true)\r\n          private List&lt;Property&gt; properties;\r\n        \r\n          public PropertyOwner(int vat, String name, String surname, String address, String phoneNumber, String email, String username, String password) {\r\n            this.vat = vat;\r\n            this.name = name;\r\n            this.surname = surname;\r\n            this.address = address;\r\n            this.phoneNumber = phoneNumber;\r\n            this.email = email;\r\n            this.username = username;\r\n            this.password = password;\r\n      }\r\n    \r\n    }\r\n\r\n**PropertyOwnerDto.java**\r\n\r\n    @Data@Getter@Setter\r\n    public class PropertyOwnerDto {\r\n    \r\n        private int vat;\r\n        private String name;\r\n        private String surname;\r\n        private String address;\r\n        private String phoneNumber;\r\n        private String email;\r\n        private String username;\r\n        private String password;\r\n    \r\n        public PropertyOwnerDto() {\r\n    \r\n        }\r\n    \r\n        public PropertyOwnerDto(PropertyOwner propertyOwner) {\r\n            this.vat = propertyOwner.getVat();\r\n            this.name = propertyOwner.getName();\r\n            this.surname = propertyOwner.getSurname();\r\n            this.address = propertyOwner.getAddress();\r\n            this.phoneNumber = propertyOwner.getPhoneNumber();\r\n            this.email = propertyOwner.getEmail();\r\n            this.username = propertyOwner.getUsername();\r\n            this.password = propertyOwner.getPassword();\r\n    \r\n        }\r\n    \r\n        public PropertyOwner asOwner() {\r\n            PropertyOwner propertyOwner = new PropertyOwner();\r\n            propertyOwner.setVat(vat);\r\n            propertyOwner.setName(name);\r\n            propertyOwner.setSurname(surname);\r\n            propertyOwner.setAddress(address);\r\n            propertyOwner.setPhoneNumber(phoneNumber);\r\n            propertyOwner.setEmail(email);\r\n            propertyOwner.setUsername(username);\r\n            propertyOwner.setPassword(password);\r\n            return propertyOwner;\r\n    \r\n        }\r\n\r\n\r\n**OwnerService.java**\r\n\r\n    public interface OwnerService {\r\n    \r\n        \r\n        void createPropertyOwner(PropertyOwnerDto ownerDto);\r\n        \r\n        RestApiResult&lt;PropertyOwnerDto&gt; getOwner(int ownerId);\r\n    \r\n    }\r\n\r\n\r\n**OwnerServiceImpl.java**\r\n\r\n    public class OwnerServiceImpl implements OwnerService {\r\n    \r\n        private final Properties sqlCommands = new Properties();\r\n    \r\n        {\r\n            final ClassLoader loader = getClass().getClassLoader();\r\n            try ( InputStream config = loader.getResourceAsStream(&quot;sql.properties&quot;)) {\r\n                sqlCommands.load(config);\r\n            } catch (IOException e) {\r\n                throw new IOError(e);\r\n            }\r\n        }\r\n        private static final Logger logger = LogManager.getLogger(OwnerServiceImpl.class);\r\n    \r\n        @Inject\r\n        private PropertyOwnerRepository propertyOwnerRepository;\r\n    \r\n        @Inject\r\n        private PropertyRepository propertyRepository;\r\n    \r\n        @Inject\r\n        private RepairRepository repairRepository;\r\n    \r\n    // SOME OTHER CODE HERE // \r\n    \r\n       @Override\r\n        public RestApiResult&lt;PropertyOwnerDto&gt; getOwner(int ownerId) {\r\n            PropertyOwnerDto ownerDto = new PropertyOwnerDto(propertyOwnerRepository.findById(ownerId));\r\n            return new RestApiResult&lt;PropertyOwnerDto&gt;(ownerDto, 0, &quot;successful&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerNewPropertyDto(PropertyDto propertyDto) {\r\n            propertyRepository.create(propertyDto.asProperty());\r\n        }\r\n    }\r\n\r\n\r\n\r\n**beans.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_2_0.xsd&quot;\r\n           bean-discovery-mode=&quot;all&quot;&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\nI use WILDFLY as application server.","title":"&quot;inStream parameter is null&quot; Server Error(REST API)","body":"<p>I want to convert an old application to a new one in which i make HTTP calls (GET/POST/DELETE). I have a model package where i have my POJO classes and i made a DTO package where i have Dto classes. When i make a simple GET method to take a String message as a response i dont have any problem but when i use dependency injection and i want to use GET or POST methods to see some details about my app i get in postman  this message: <strong>inStream parameter is null</strong></p>\n<p><strong>OwnerResource.java</strong></p>\n<pre><code>        @Path(&quot;ownerResource&quot;)\n        public class OwnerResource {\n        \n            @GET\n            public Response ping() {         // When i use only this method i dont have any problem and i can see the message\n                return Response\n                        .ok(&quot;pang&quot;)\n                        .build();\n            }\n        \n// When i use the below code i have problem in HTTP calls\n          \n            @Inject\n            private OwnerService ownerService;\n        \n            @GET\n            @Path(&quot;owner/{ownerId}&quot;)\n            @Produces(&quot;application/json&quot;)\n            public RestApiResult&lt;PropertyOwnerDto&gt; getOwner(@PathParam(&quot;ownerId&quot;) int ownerId) {\n                return ownerService.getOwner(ownerId);\n        \n            }\n        \n            @POST\n            @Path(&quot;owner&quot;)\n            @Produces(&quot;application/json&quot;)\n            @Consumes(&quot;application/json&quot;)\n            public void createNewOwner(PropertyOwnerDto owner) {\n            ownerService.createPropertyOwner(owner);\n    \n        }\n}\n</code></pre>\n<p><strong>PropertyOwner.java</strong></p>\n<pre><code>   @Data\n    @NoArgsConstructor\n    @Entity(name = &quot;propertyowner&quot;)\n    @Table\n    public class PropertyOwner extends PersistentClass {\n      // id is in PersistenceClass\n      private int vat; \n      private String name;\n      private String surname;\n      private String address;\n      private String phoneNumber;\n      private String email;\n      private String username;\n      private String password;\n      @OneToMany(mappedBy = &quot;owner&quot;, orphanRemoval = true)\n      private List&lt;Property&gt; properties;\n    \n      public PropertyOwner(int vat, String name, String surname, String address, String phoneNumber, String email, String username, String password) {\n        this.vat = vat;\n        this.name = name;\n        this.surname = surname;\n        this.address = address;\n        this.phoneNumber = phoneNumber;\n        this.email = email;\n        this.username = username;\n        this.password = password;\n  }\n\n}\n</code></pre>\n<p><strong>PropertyOwnerDto.java</strong></p>\n<pre><code>@Data@Getter@Setter\npublic class PropertyOwnerDto {\n\n    private int vat;\n    private String name;\n    private String surname;\n    private String address;\n    private String phoneNumber;\n    private String email;\n    private String username;\n    private String password;\n\n    public PropertyOwnerDto() {\n\n    }\n\n    public PropertyOwnerDto(PropertyOwner propertyOwner) {\n        this.vat = propertyOwner.getVat();\n        this.name = propertyOwner.getName();\n        this.surname = propertyOwner.getSurname();\n        this.address = propertyOwner.getAddress();\n        this.phoneNumber = propertyOwner.getPhoneNumber();\n        this.email = propertyOwner.getEmail();\n        this.username = propertyOwner.getUsername();\n        this.password = propertyOwner.getPassword();\n\n    }\n\n    public PropertyOwner asOwner() {\n        PropertyOwner propertyOwner = new PropertyOwner();\n        propertyOwner.setVat(vat);\n        propertyOwner.setName(name);\n        propertyOwner.setSurname(surname);\n        propertyOwner.setAddress(address);\n        propertyOwner.setPhoneNumber(phoneNumber);\n        propertyOwner.setEmail(email);\n        propertyOwner.setUsername(username);\n        propertyOwner.setPassword(password);\n        return propertyOwner;\n\n    }\n</code></pre>\n<p><strong>OwnerService.java</strong></p>\n<pre><code>public interface OwnerService {\n\n    \n    void createPropertyOwner(PropertyOwnerDto ownerDto);\n    \n    RestApiResult&lt;PropertyOwnerDto&gt; getOwner(int ownerId);\n\n}\n</code></pre>\n<p><strong>OwnerServiceImpl.java</strong></p>\n<pre><code>public class OwnerServiceImpl implements OwnerService {\n\n    private final Properties sqlCommands = new Properties();\n\n    {\n        final ClassLoader loader = getClass().getClassLoader();\n        try ( InputStream config = loader.getResourceAsStream(&quot;sql.properties&quot;)) {\n            sqlCommands.load(config);\n        } catch (IOException e) {\n            throw new IOError(e);\n        }\n    }\n    private static final Logger logger = LogManager.getLogger(OwnerServiceImpl.class);\n\n    @Inject\n    private PropertyOwnerRepository propertyOwnerRepository;\n\n    @Inject\n    private PropertyRepository propertyRepository;\n\n    @Inject\n    private RepairRepository repairRepository;\n\n// SOME OTHER CODE HERE // \n\n   @Override\n    public RestApiResult&lt;PropertyOwnerDto&gt; getOwner(int ownerId) {\n        PropertyOwnerDto ownerDto = new PropertyOwnerDto(propertyOwnerRepository.findById(ownerId));\n        return new RestApiResult&lt;PropertyOwnerDto&gt;(ownerDto, 0, &quot;successful&quot;);\n    }\n\n    @Override\n    public void registerNewPropertyDto(PropertyDto propertyDto) {\n        propertyRepository.create(propertyDto.asProperty());\n    }\n}\n</code></pre>\n<p><strong>beans.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_2_0.xsd&quot;\n       bean-discovery-mode=&quot;all&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I use WILDFLY as application server.</p>\n"},{"tags":["java","bytecode","byte-buddy","javaagents"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1672316939,"post_id":74950762,"comment_id":132265652,"body_markdown":"Are you trying to hack a way for `String[]` to implement `close()` method? The error complains about a missing implementation of that method by []. Or i terribly misunderstood what went wrong there...","body":"Are you trying to hack a way for <code>String[]</code> to implement <code>close()</code> method? The error complains about a missing implementation of that method by []. Or i terribly misunderstood what went wrong there..."},{"owner":{"account_id":421337,"reputation":388,"user_id":799521,"accept_rate":80,"display_name":"luceat-lux-vestra"},"score":0,"creation_date":1672322204,"post_id":74950762,"comment_id":132267083,"body_markdown":"Thanks for your comment. @Shark I want to hack `java.lang.String` and implement the` close()` method. That&#39;s right. For now, I have no errors, but I can&#39;t confirm that working correctly or not.","body":"Thanks for your comment. @Shark I want to hack <code>java.lang.String</code> and implement the` close()` method. That&#39;s right. For now, I have no errors, but I can&#39;t confirm that working correctly or not."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1672325013,"post_id":74950762,"comment_id":132267908,"body_markdown":"Instrumentation can&#39;t add methods, so my guess is: no, it can&#39;t work.","body":"Instrumentation can&#39;t add methods, so my guess is: no, it can&#39;t work."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1672342471,"post_id":74950762,"comment_id":132272677,"body_markdown":"The only way to do this for JRE bootstrap classes which are already loaded when you are trying to instrument them, is to instrument them separately, write the instrumented classes to disk and put them on the boot classpath, prepending the woven ones, so the JVM finds them first. The exact way to do that is different between JRE &lt;= 8 and 9+.","body":"The only way to do this for JRE bootstrap classes which are already loaded when you are trying to instrument them, is to instrument them separately, write the instrumented classes to disk and put them on the boot classpath, prepending the woven ones, so the JVM finds them first. The exact way to do that is different between JRE &lt;= 8 and 9+."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672667110,"post_id":74950762,"comment_id":132322887,"body_markdown":"Let’s pretend the Instrumentation worked. What is `field.get(null)` with a non-static field supposed to do? And what code shall invoke the `close()` method (that only exists after the Instrumentation added it) eventually? So letting aside that you can’t instrument `String` that way, it looks like the actual problems would just start when the Instrumentation would work…","body":"Let’s pretend the Instrumentation worked. What is <code>field.get(null)</code> with a non-static field supposed to do? And what code shall invoke the <code>close()</code> method (that only exists after the Instrumentation added it) eventually? So letting aside that you can’t instrument <code>String</code> that way, it looks like the actual problems would just start when the Instrumentation would work…"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672438797,"creation_date":1672438797,"answer_id":74966216,"question_id":74950762,"body_markdown":"To begin with, you would need to specify `java.lang.String` as name, not just `String`.\r\n\r\nHowever, it is not possible to change the shape of classes that are already loaded. Therefore, you are not able to add an interface to a class like String which will always be loaded upon agent startup with Byte Buddy.","title":"Trying to implement interface and override java.lang.String with Byte Buddy","body":"<p>To begin with, you would need to specify <code>java.lang.String</code> as name, not just <code>String</code>.</p>\n<p>However, it is not possible to change the shape of classes that are already loaded. Therefore, you are not able to add an interface to a class like String which will always be loaded upon agent startup with Byte Buddy.</p>\n"}],"owner":{"account_id":421337,"reputation":388,"user_id":799521,"accept_rate":80,"display_name":"luceat-lux-vestra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672438797,"creation_date":1672314615,"question_id":74950762,"body_markdown":"I tried with [this example](https://github.com/ShehanPerera/javaagent-bytebuddy/tree/master/samples/ignore-class) especially designed for \r\nignored by byte-buddy.\r\n\r\nI solved errors, and it looks like working with this code.\r\n\r\n```java\r\nnew AgentBuilder.Default()\r\n      .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\r\n      .ignore(ElementMatchers.none())\r\n      .type((ElementMatchers.named(&quot;String&quot;)))\r\n      .transform((builder, typeDescription, classLoader, module) -&gt; builder\r\n        .implement(AutoCloseable.class)\r\n        .method(named(&quot;close&quot;))\r\n        .intercept(Advice.to(closeInterceptor.class))\r\n      ).installOn(instrumentation);\r\n```\r\n\r\nand my interceptor looks like this.\r\nI did `System.out.print` something in the interceptor,  \r\nbut nothing happens over time.  \r\n(FYI, my logger setting was bad and caused an error. I deleted logger things and just used `System.out.println`\r\n```java\r\nclass closeInterceptor {\r\n\r\n  public void intercept(@Origin Class&lt;?&gt; type) {\r\n    try {\r\n      Field field = type.getDeclaredField(&quot;value&quot;);\r\n      field.setAccessible(true);\r\n      Object ref = field.get(null);\r\n      // I&#39;m trying to deal with `java.lang.String`s internal character storage.\r\n    } catch (NoSuchFieldException | IllegalAccessException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIs there a way to confirm that it&#39;s working well?\r\n\r\nThanks in advance.\r\n(I forgot to say `Happy new year!`)\r\n\r\n----\r\n\r\nThe default example looks like it is working at first, but look at this log.\r\n\r\nDisconnected with this error `Application Server was not connected before run configuration stop, reason: Unable to ping server at localhost:1099`\r\n\r\nI changed the port number randomly, but no effect and the same error occurred.\r\n\r\nPlease help!\r\n\r\n```java\r\nConnected to the target VM, address: &#39;127.0.0.1:49960&#39;, transport: &#39;socket&#39;\r\nAgent for instrument ignored class like java class \r\nmethod private static void sun.management.Agent.readConfiguration(java.lang.String,java.util.Properties)\r\nmethod public static java.util.Properties sun.management.Agent.loadManagementProperties()\r\n.\r\n.\r\n.\r\nmethod public static final long java.util.zip.ZipUtils.get32(byte[],int)\r\nDisconnected from the target VM, address: &#39;127.0.0.1:49960&#39;, transport: &#39;socket&#39;\r\nDisconnected from server\r\n```\r\n\r\n----\r\n\r\nHere is the log.\r\n\r\n```java\r\nAgent for instrument ignored class like java class \r\njava.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:386)\r\n\tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\nCaused by: java.lang.IllegalArgumentException: None of [] allows for delegation from public abstract void java.lang.AutoCloseable.close() throws java.lang.Exception\r\n\tat net.bytebuddy.implementation.bind.MethodDelegationBinder$Processor.bind(MethodDelegationBinder.java:1026)\r\n\tat net.bytebuddy.implementation.MethodDelegation$Appender.apply(MethodDelegation.java:1051)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyCode(TypeWriter.java:620)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:609)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:526)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining$RedefinitionClassVisitor.visitEnd(TypeWriter.java:3865)\r\n\tat net.bytebuddy.jar.asm.ClassReader.accept(ClassReader.java:702)\r\n\tat net.bytebuddy.jar.asm.ClassReader.accept(ClassReader.java:500)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:2941)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:1633)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:171)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:92)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2639)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2741)\r\n\tat com.github.shehanperera.ignored.Agent.premain(Agent.java:43)\r\n\t... 6 more\r\nException in thread &quot;main&quot; FATAL ERROR in native method: processing of -javaagent failed\r\nDisconnected from the target VM, address: &#39;127.0.0.1:49960&#39;, transport: &#39;socket&#39;\r\nDisconnected from server\r\n```\r\n\r\nHere is My `premain`.\r\n```java\r\npublic static void premain(String arguments,\r\n  Instrumentation instrumentation) {\r\n\r\n  System.out.println(&quot;Agent for instrument ignored class like java class &quot;);\r\n\r\n  ByteBuddyAgent.install();\r\n  new ByteBuddy()\r\n    .ignore(ElementMatchers.none())\r\n    .redefine(String.class)\r\n    .ignoreAlso(ElementMatchers.none())\r\n    .implement(AutoCloseable.class)\r\n    .method(named(&quot;close&quot;))\r\n    .intercept(MethodDelegation.to(closeInterceptor.class))\r\n    .make()\r\n    .load(ClassLoader.getSystemClassLoader())\r\n    .getLoaded();\r\n\r\n\r\n  new AgentBuilder.Default()\r\n    .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\r\n    .ignore(ElementMatchers.none())\r\n    .type((ElementMatchers.any()))\r\n    .transform((builder, typeDescription, classLoader, module) -&gt; builder\r\n      .method(ElementMatchers.any())\r\n      .intercept(Advice.to(IgnoreClass.class))\r\n    ).installOn(instrumentation);\r\n\r\n}\r\n```\r\n\r\nAnd finally, my interceptor.\r\n\r\n```java\r\nclass closeInterceptor {\r\n\r\n  private final Logger logger = LoggerFactory.getLogger(closeInterceptor.class);\r\n  public void intercept(@Origin Class&lt;?&gt; type) {\r\n    try {\r\n      Field field = type.getDeclaredField(&quot;value&quot;);\r\n      field.setAccessible(true);\r\n      Object ref = field.get(null);\r\n      // I&#39;m trying to deal with `java.lang.String`s internal character storage.\r\n    } catch (NoSuchFieldException | IllegalAccessException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI don&#39;t know about byte code manipulation well also byte buddy.\r\n\r\nIt&#39;s hard to find some reference...\r\n\r\nPlease help.\r\n\r\nI just tried to make `Java.lang.String` implements `AutoCloseable`  \r\nand `Override` the `close` method with `java agent` and `byte buddy`.\r\n\r\nI hope so it can be.\r\n\r\nBut I can&#39;t solve that error and exception.","title":"Trying to implement interface and override java.lang.String with Byte Buddy","body":"<p>I tried with <a href=\"https://github.com/ShehanPerera/javaagent-bytebuddy/tree/master/samples/ignore-class\" rel=\"nofollow noreferrer\">this example</a> especially designed for\nignored by byte-buddy.</p>\n<p>I solved errors, and it looks like working with this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>new AgentBuilder.Default()\n      .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\n      .ignore(ElementMatchers.none())\n      .type((ElementMatchers.named(&quot;String&quot;)))\n      .transform((builder, typeDescription, classLoader, module) -&gt; builder\n        .implement(AutoCloseable.class)\n        .method(named(&quot;close&quot;))\n        .intercept(Advice.to(closeInterceptor.class))\n      ).installOn(instrumentation);\n</code></pre>\n<p>and my interceptor looks like this.\nI did <code>System.out.print</code> something in the interceptor,<br />\nbut nothing happens over time.<br />\n(FYI, my logger setting was bad and caused an error. I deleted logger things and just used <code>System.out.println</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class closeInterceptor {\n\n  public void intercept(@Origin Class&lt;?&gt; type) {\n    try {\n      Field field = type.getDeclaredField(&quot;value&quot;);\n      field.setAccessible(true);\n      Object ref = field.get(null);\n      // I'm trying to deal with `java.lang.String`s internal character storage.\n    } catch (NoSuchFieldException | IllegalAccessException e) {\n      throw new RuntimeException(e);\n    }\n  }\n}\n</code></pre>\n<p>Is there a way to confirm that it's working well?</p>\n<p>Thanks in advance.\n(I forgot to say <code>Happy new year!</code>)</p>\n<hr />\n<p>The default example looks like it is working at first, but look at this log.</p>\n<p>Disconnected with this error <code>Application Server was not connected before run configuration stop, reason: Unable to ping server at localhost:1099</code></p>\n<p>I changed the port number randomly, but no effect and the same error occurred.</p>\n<p>Please help!</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connected to the target VM, address: '127.0.0.1:49960', transport: 'socket'\nAgent for instrument ignored class like java class \nmethod private static void sun.management.Agent.readConfiguration(java.lang.String,java.util.Properties)\nmethod public static java.util.Properties sun.management.Agent.loadManagementProperties()\n.\n.\n.\nmethod public static final long java.util.zip.ZipUtils.get32(byte[],int)\nDisconnected from the target VM, address: '127.0.0.1:49960', transport: 'socket'\nDisconnected from server\n</code></pre>\n<hr />\n<p>Here is the log.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Agent for instrument ignored class like java class \njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:386)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nCaused by: java.lang.IllegalArgumentException: None of [] allows for delegation from public abstract void java.lang.AutoCloseable.close() throws java.lang.Exception\n    at net.bytebuddy.implementation.bind.MethodDelegationBinder$Processor.bind(MethodDelegationBinder.java:1026)\n    at net.bytebuddy.implementation.MethodDelegation$Appender.apply(MethodDelegation.java:1051)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyCode(TypeWriter.java:620)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:609)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:526)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining$RedefinitionClassVisitor.visitEnd(TypeWriter.java:3865)\n    at net.bytebuddy.jar.asm.ClassReader.accept(ClassReader.java:702)\n    at net.bytebuddy.jar.asm.ClassReader.accept(ClassReader.java:500)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:2941)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:1633)\n    at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:171)\n    at net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:92)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2639)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2741)\n    at com.github.shehanperera.ignored.Agent.premain(Agent.java:43)\n    ... 6 more\nException in thread &quot;main&quot; FATAL ERROR in native method: processing of -javaagent failed\nDisconnected from the target VM, address: '127.0.0.1:49960', transport: 'socket'\nDisconnected from server\n</code></pre>\n<p>Here is My <code>premain</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void premain(String arguments,\n  Instrumentation instrumentation) {\n\n  System.out.println(&quot;Agent for instrument ignored class like java class &quot;);\n\n  ByteBuddyAgent.install();\n  new ByteBuddy()\n    .ignore(ElementMatchers.none())\n    .redefine(String.class)\n    .ignoreAlso(ElementMatchers.none())\n    .implement(AutoCloseable.class)\n    .method(named(&quot;close&quot;))\n    .intercept(MethodDelegation.to(closeInterceptor.class))\n    .make()\n    .load(ClassLoader.getSystemClassLoader())\n    .getLoaded();\n\n\n  new AgentBuilder.Default()\n    .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\n    .ignore(ElementMatchers.none())\n    .type((ElementMatchers.any()))\n    .transform((builder, typeDescription, classLoader, module) -&gt; builder\n      .method(ElementMatchers.any())\n      .intercept(Advice.to(IgnoreClass.class))\n    ).installOn(instrumentation);\n\n}\n</code></pre>\n<p>And finally, my interceptor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class closeInterceptor {\n\n  private final Logger logger = LoggerFactory.getLogger(closeInterceptor.class);\n  public void intercept(@Origin Class&lt;?&gt; type) {\n    try {\n      Field field = type.getDeclaredField(&quot;value&quot;);\n      field.setAccessible(true);\n      Object ref = field.get(null);\n      // I'm trying to deal with `java.lang.String`s internal character storage.\n    } catch (NoSuchFieldException | IllegalAccessException e) {\n      throw new RuntimeException(e);\n    }\n  }\n}\n</code></pre>\n<p>I don't know about byte code manipulation well also byte buddy.</p>\n<p>It's hard to find some reference...</p>\n<p>Please help.</p>\n<p>I just tried to make <code>Java.lang.String</code> implements <code>AutoCloseable</code><br />\nand <code>Override</code> the <code>close</code> method with <code>java agent</code> and <code>byte buddy</code>.</p>\n<p>I hope so it can be.</p>\n<p>But I can't solve that error and exception.</p>\n"},{"tags":["java","javac","java-compiler-api","javacompiler"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672730570,"post_id":74966176,"comment_id":132335183,"body_markdown":"This will be implementation dependent, but there are two ways to do this: Use reflection or use the internal types directly. The former will need appropriate `--add-exports` during run-time, whereas the latter will need appropriate `--add-exports` at _both_ compile-time and run-time.","body":"This will be implementation dependent, but there are two ways to do this: Use reflection or use the internal types directly. The former will need appropriate <code>--add-exports</code> during run-time, whereas the latter will need appropriate <code>--add-exports</code> at <i>both</i> compile-time and run-time."}],"owner":{"account_id":27394377,"reputation":1,"user_id":20896821,"display_name":"Janewby21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672438386,"creation_date":1672438386,"question_id":74966176,"body_markdown":"I&#39;m using the JavaCompiler Interface to compile source code files from within a Java program. I&#39;ve successfully written code that captures the errors that exist in the source code file. I&#39;m now trying to access the arguments of the diagnostic (for example, a &#39;;&#39; is a diagnostic&#39;s argument when that diagnostic represents a missing &#39;;&#39; at the end of a line). I was wondering if there is a way I can access these arguments? My goal is to use these arguments to print custom error messages for the compiler errors in the source code to the terminal.\r\n\r\nMy code is as follows:\r\n```\r\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\nDiagnosticCollector&lt;JavaFileObject&gt; dc = new DiagnosticCollector&lt;&gt;();\r\n\r\ntry (StandardJavaFileManager fm = compiler.getStandardFileManager(dc, null, null)) {\r\n    File file = new File(&quot;Test.java&quot;);\r\n    Iterable&lt;? extends JavaFileObject&gt; sources = fm.getJavaFileObjectsFromFiles(Arrays.asList(file));\r\n    JavaCompiler.CompilationTask task = compiler.getTask(null, fm, dc, null, null, sources);\r\n    task.call();\r\n}\r\nif (!dc.getDiagnostics().isEmpty()) {\r\n    for (Diagnostic &lt;? extends JavaFileObject&gt; d: dc.getDiagnostics()) {\r\n        System.out.println(d.getCode());\r\n        System.out.format(&quot;Line: %d, %s in %s \\n&quot;,\r\n            d.getLineNumber(),\r\n            d.getMessage(null),\r\n            d.getSource().getName());\r\n            System.out.println(d.toString());\r\n    }\r\n    System.exit(1);\r\n}\r\n```\r\n\r\nI&#39;ve tried looking into the interface a bit myself, and I&#39;ve seen that the diagnostics returned from my JavaCompiler via the `DiagnosticCollector.getDiagnostics()` method are of dynamic type ClientCodeWrapper/DiagnosticSourceUnwrapper, which has a JCDiagnostic field that has a `getArgs()` method as desired, but this JCDiagnostic field is inaccessible from my program. \r\nI was thinking there might be some way to unwrap/cast the ClientCodeWrapper/DiagnosticSourceUnwrapper so as to access the JCDiagnostic field and use its `getArgs()` method, but I was unable to do so, as I ran into ClassCastExceptions and inaccessible types.\r\n\r\nI also tried making my own implementation of the Diagnostic Interface, so as to write my own `getArgs()` method, but I wasn&#39;t able to successfully implement a class that would get the arguments of the diagnostic and also be compatible with the JavaCompiler Interfaces as I was currently using them.\r\nI could see this line of thinking also leading to a solution, but I wasn&#39;t able to make it work myself.\r\n\r\nI was also thinking that perhaps there is another API/framework that would be better to achieve my goal.\r\n\r\nThank you in advance.","title":"Is it possible to get a diagnostic&#39;s arguments using the JavaCompiler Interface?","body":"<p>I'm using the JavaCompiler Interface to compile source code files from within a Java program. I've successfully written code that captures the errors that exist in the source code file. I'm now trying to access the arguments of the diagnostic (for example, a ';' is a diagnostic's argument when that diagnostic represents a missing ';' at the end of a line). I was wondering if there is a way I can access these arguments? My goal is to use these arguments to print custom error messages for the compiler errors in the source code to the terminal.</p>\n<p>My code is as follows:</p>\n<pre><code>JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\nDiagnosticCollector&lt;JavaFileObject&gt; dc = new DiagnosticCollector&lt;&gt;();\n\ntry (StandardJavaFileManager fm = compiler.getStandardFileManager(dc, null, null)) {\n    File file = new File(&quot;Test.java&quot;);\n    Iterable&lt;? extends JavaFileObject&gt; sources = fm.getJavaFileObjectsFromFiles(Arrays.asList(file));\n    JavaCompiler.CompilationTask task = compiler.getTask(null, fm, dc, null, null, sources);\n    task.call();\n}\nif (!dc.getDiagnostics().isEmpty()) {\n    for (Diagnostic &lt;? extends JavaFileObject&gt; d: dc.getDiagnostics()) {\n        System.out.println(d.getCode());\n        System.out.format(&quot;Line: %d, %s in %s \\n&quot;,\n            d.getLineNumber(),\n            d.getMessage(null),\n            d.getSource().getName());\n            System.out.println(d.toString());\n    }\n    System.exit(1);\n}\n</code></pre>\n<p>I've tried looking into the interface a bit myself, and I've seen that the diagnostics returned from my JavaCompiler via the <code>DiagnosticCollector.getDiagnostics()</code> method are of dynamic type ClientCodeWrapper/DiagnosticSourceUnwrapper, which has a JCDiagnostic field that has a <code>getArgs()</code> method as desired, but this JCDiagnostic field is inaccessible from my program.\nI was thinking there might be some way to unwrap/cast the ClientCodeWrapper/DiagnosticSourceUnwrapper so as to access the JCDiagnostic field and use its <code>getArgs()</code> method, but I was unable to do so, as I ran into ClassCastExceptions and inaccessible types.</p>\n<p>I also tried making my own implementation of the Diagnostic Interface, so as to write my own <code>getArgs()</code> method, but I wasn't able to successfully implement a class that would get the arguments of the diagnostic and also be compatible with the JavaCompiler Interfaces as I was currently using them.\nI could see this line of thinking also leading to a solution, but I wasn't able to make it work myself.</p>\n<p>I was also thinking that perhaps there is another API/framework that would be better to achieve my goal.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","loops","while-loop","subroutine"],"answers":[{"tags":[],"owner":{"account_id":26582907,"reputation":16,"user_id":20207284,"display_name":"dbulut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672437513,"creation_date":1672437367,"answer_id":74966085,"question_id":74965967,"body_markdown":"First of all, your isValid function never returns true, even the case that user enters a password that is greater than 6 characters. So you should update your method like that:\r\n\r\n    public static boolean isValid(String password) {\r\n            if (password.length() &lt; 6) {\r\n                return false;\r\n            } else {\r\n                char c;\r\n                for (int i = 0; i &lt; password.length() - 1; i++) {\r\n                    c = password.charAt(i);\r\n                    if (!Character.isLetterOrDigit(c)) {\r\n                        return false;\r\n                    } else if (Character.isDigit(c)) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n Then, you can take the user input in a do-while loop. So if the password is invalid it will keep asking. Here is your updated main method:\r\n\r\n    public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            {\r\n                String password;\r\n                do {\r\n                    System.out.print(&quot;Please enter a string that is greater than 6 characters long. &quot;);\r\n                    password = input.next();\r\n                    if (isValid(password)) {\r\n                        System.out.println(&quot;That is a valid string onto stage 2.&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;That is a invalid string. Try again.&quot;);\r\n                    }\r\n                }while (!isValid(password));\r\n            }\r\n        }","title":"The user must enter a string that is greater than 6 characters long","body":"<p>First of all, your isValid function never returns true, even the case that user enters a password that is greater than 6 characters. So you should update your method like that:</p>\n<pre><code>public static boolean isValid(String password) {\n        if (password.length() &lt; 6) {\n            return false;\n        } else {\n            char c;\n            for (int i = 0; i &lt; password.length() - 1; i++) {\n                c = password.charAt(i);\n                if (!Character.isLetterOrDigit(c)) {\n                    return false;\n                } else if (Character.isDigit(c)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n</code></pre>\n<p>Then, you can take the user input in a do-while loop. So if the password is invalid it will keep asking. Here is your updated main method:</p>\n<pre><code>public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        {\n            String password;\n            do {\n                System.out.print(&quot;Please enter a string that is greater than 6 characters long. &quot;);\n                password = input.next();\n                if (isValid(password)) {\n                    System.out.println(&quot;That is a valid string onto stage 2.&quot;);\n                } else {\n                    System.out.println(&quot;That is a invalid string. Try again.&quot;);\n                }\n            }while (!isValid(password));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74966085,"answer_count":1,"score":0,"last_activity_date":1672437513,"creation_date":1672436032,"question_id":74965967,"body_markdown":"How can I code this using subroutines in java with a loop so if they don&#39;t get it right it keeps repeating till they do. This is all i have so far. The user must enter a string that is greater than 6 characters long.\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage containsmethod;\r\n\r\nimport java.util.*;  \r\nimport java.lang.String;  \r\nimport java.lang.Character;\r\nimport java.util.Scanner;\r\npublic class ContainsMethod {\r\n\r\n    \r\n   public static boolean isValid(String password) {\r\n\r\n    if (password.length() &lt; 6) {\r\n    return false;\r\n    } else {\r\n    char c;\r\n    for (int i = 0; i &lt; password.length() -1; i ++) {\r\n    c = password.charAt(i);\r\n    if (!Character.isLetterOrDigit(c)) {\r\n    return false;\r\n    } else if (Character.isDigit(c)) { \r\n        return false;\r\n            }\r\n    }\r\n    }\r\n    return false;\r\n   }\r\n\r\n \r\n   \r\n    \r\n            \r\n    public static void main (String [] args) {\r\n    Scanner input = new Scanner (System.in);\r\n    {\r\n    System.out.print (&quot;Please enter a string that is greater than 6 characters long. &quot;);\r\n    String password = input.next();\r\n    if (isValid(password)) {\r\n    System.out.println (&quot;That is a valid string onto stage 2.&quot;);\r\n    } \r\n    else \r\n    {\r\n    System.out.println (&quot;That is a invalid string. Try again.&quot;);\r\n    }\r\n    }\r\n```\r\n","title":"The user must enter a string that is greater than 6 characters long","body":"<p>How can I code this using subroutines in java with a loop so if they don't get it right it keeps repeating till they do. This is all i have so far. The user must enter a string that is greater than 6 characters long.</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage containsmethod;\n\nimport java.util.*;  \nimport java.lang.String;  \nimport java.lang.Character;\nimport java.util.Scanner;\npublic class ContainsMethod {\n\n    \n   public static boolean isValid(String password) {\n\n    if (password.length() &lt; 6) {\n    return false;\n    } else {\n    char c;\n    for (int i = 0; i &lt; password.length() -1; i ++) {\n    c = password.charAt(i);\n    if (!Character.isLetterOrDigit(c)) {\n    return false;\n    } else if (Character.isDigit(c)) { \n        return false;\n            }\n    }\n    }\n    return false;\n   }\n\n \n   \n    \n            \n    public static void main (String [] args) {\n    Scanner input = new Scanner (System.in);\n    {\n    System.out.print (&quot;Please enter a string that is greater than 6 characters long. &quot;);\n    String password = input.next();\n    if (isValid(password)) {\n    System.out.println (&quot;That is a valid string onto stage 2.&quot;);\n    } \n    else \n    {\n    System.out.println (&quot;That is a invalid string. Try again.&quot;);\n    }\n    }\n</code></pre>\n"},{"tags":["java","layout"],"owner":{"account_id":25390083,"reputation":1,"user_id":20896793,"display_name":"Emre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672436276,"creation_date":1672436250,"question_id":74965983,"body_markdown":"```\r\n//Verification\r\nConstraintLayout applyVerification = findViewById(R.id.applyVerification);\r\n\r\napplyVerification.setOnClickListener(v -&gt; {\r\n    Intent intent4 = new Intent(getApplicationContext(), VerifyActivity.class);\r\n    startActivity(intent4);\r\n});\r\n\r\nFirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        if (snapshot.exists()){\r\n            if (snapshot.hasChild(FirebaseAuth.getInstance().getCurrentUser().getUid())){\r\n                applyVerification.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n    }\r\n});\r\n```\r\n\r\nHello, I want the application page to be hidden when the user submits an application for approval and is approved and receives a check mark, but my code did not work, even if the user is approved, the confirmation page still appears, the user can still request it.\r\n\r\nWhere is the error in my code?","title":"Hiding the application page when the user account is approved","body":"<pre><code>//Verification\nConstraintLayout applyVerification = findViewById(R.id.applyVerification);\n\napplyVerification.setOnClickListener(v -&gt; {\n    Intent intent4 = new Intent(getApplicationContext(), VerifyActivity.class);\n    startActivity(intent4);\n});\n\nFirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        if (snapshot.exists()){\n            if (snapshot.hasChild(FirebaseAuth.getInstance().getCurrentUser().getUid())){\n                applyVerification.setVisibility(View.VISIBLE);\n            }\n        }\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n<p>Hello, I want the application page to be hidden when the user submits an application for approval and is approved and receives a check mark, but my code did not work, even if the user is approved, the confirmation page still appears, the user can still request it.</p>\n<p>Where is the error in my code?</p>\n"},{"tags":["java","audio","wav"],"answers":[{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1268226765,"creation_date":1268226765,"answer_id":2417088,"question_id":2416935,"body_markdown":"The snippet [here](http://www.anyexample.com/programming/java/java_play_wav_sound_file.xml) works fine, tested with windows sound:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        \tAePlayWave aw = new AePlayWave( &quot;C:\\\\WINDOWS\\\\Media\\\\tada.wav&quot; );\r\n        \taw.start();\t\t\r\n    }","title":"How to play .wav files with java","body":"<p>The snippet <a href=\"http://www.anyexample.com/programming/java/java_play_wav_sound_file.xml\" rel=\"nofollow noreferrer\">here</a> works fine, tested with windows sound:</p>\n\n<pre><code>public static void main(String[] args) {\n        AePlayWave aw = new AePlayWave( \"C:\\\\WINDOWS\\\\Media\\\\tada.wav\" );\n        aw.start();     \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":99823,"reputation":2326,"user_id":269446,"accept_rate":74,"display_name":"greenLizard"},"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1366019041,"creation_date":1268405124,"answer_id":2433454,"question_id":2416935,"body_markdown":"Finally I managed to do the following and it works fine\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import javax.sound.sampled.AudioFormat;\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.DataLine;\r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.SourceDataLine;\r\n    \r\n    public class MakeSound {\r\n    \r\n        private final int BUFFER_SIZE = 128000;\r\n        private File soundFile;\r\n        private AudioInputStream audioStream;\r\n        private AudioFormat audioFormat;\r\n        private SourceDataLine sourceLine;\r\n    \r\n        /**\r\n         * @param filename the name of the file that is going to be played\r\n         */\r\n        public void playSound(String filename){\r\n    \r\n            String strFilename = filename;\r\n    \r\n            try {\r\n                soundFile = new File(strFilename);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n    \r\n            try {\r\n            \taudioStream = AudioSystem.getAudioInputStream(soundFile);\r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n    \r\n            audioFormat = audioStream.getFormat();\r\n    \r\n            DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\r\n            try {\r\n            \tsourceLine = (SourceDataLine) AudioSystem.getLine(info);\r\n            \tsourceLine.open(audioFormat);\r\n            } catch (LineUnavailableException e) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n    \r\n            sourceLine.start();\r\n    \r\n            int nBytesRead = 0;\r\n            byte[] abData = new byte[BUFFER_SIZE];\r\n            while (nBytesRead != -1) {\r\n                try {\r\n                    nBytesRead = audioStream.read(abData, 0, abData.length);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                if (nBytesRead &gt;= 0) {\r\n                    @SuppressWarnings(&quot;unused&quot;)\r\n    \t\t\t\tint nBytesWritten = sourceLine.write(abData, 0, nBytesRead);\r\n                }\r\n            }\r\n    \r\n            sourceLine.drain();\r\n            sourceLine.close();\r\n        }\r\n    }","title":"How to play .wav files with java","body":"<p>Finally I managed to do the following and it works fine\n</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.DataLine;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.SourceDataLine;\n\npublic class MakeSound {\n\n    private final int BUFFER_SIZE = 128000;\n    private File soundFile;\n    private AudioInputStream audioStream;\n    private AudioFormat audioFormat;\n    private SourceDataLine sourceLine;\n\n    /**\n     * @param filename the name of the file that is going to be played\n     */\n    public void playSound(String filename){\n\n        String strFilename = filename;\n\n        try {\n            soundFile = new File(strFilename);\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n\n        try {\n            audioStream = AudioSystem.getAudioInputStream(soundFile);\n        } catch (Exception e){\n            e.printStackTrace();\n            System.exit(1);\n        }\n\n        audioFormat = audioStream.getFormat();\n\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\n        try {\n            sourceLine = (SourceDataLine) AudioSystem.getLine(info);\n            sourceLine.open(audioFormat);\n        } catch (LineUnavailableException e) {\n            e.printStackTrace();\n            System.exit(1);\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n\n        sourceLine.start();\n\n        int nBytesRead = 0;\n        byte[] abData = new byte[BUFFER_SIZE];\n        while (nBytesRead != -1) {\n            try {\n                nBytesRead = audioStream.read(abData, 0, abData.length);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (nBytesRead &gt;= 0) {\n                @SuppressWarnings(\"unused\")\n                int nBytesWritten = sourceLine.write(abData, 0, nBytesRead);\n            }\n        }\n\n        sourceLine.drain();\n        sourceLine.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1566357,"reputation":1056,"user_id":1455074,"accept_rate":100,"display_name":"tschwab"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1433874497,"creation_date":1339635165,"answer_id":11025384,"question_id":2416935,"body_markdown":"Here is the most elegant form I could come up without using sun.*:\r\n\r\n    import java.io.*;\r\n    import javax.sound.sampled.*;\r\n\r\n    try {\r\n        File yourFile;\r\n        AudioInputStream stream;\r\n        AudioFormat format;\r\n        DataLine.Info info;\r\n        Clip clip;\r\n        \r\n        stream = AudioSystem.getAudioInputStream(yourFile);\r\n        format = stream.getFormat();\r\n        info = new DataLine.Info(Clip.class, format);\r\n        clip = (Clip) AudioSystem.getLine(info);\r\n        clip.open(stream);\r\n        clip.start();\r\n    }\r\n    catch (Exception e) {\r\n        //whatevers\r\n    }","title":"How to play .wav files with java","body":"<p>Here is the most elegant form I could come up without using sun.*:</p>\n\n<pre><code>import java.io.*;\nimport javax.sound.sampled.*;\n\ntry {\n    File yourFile;\n    AudioInputStream stream;\n    AudioFormat format;\n    DataLine.Info info;\n    Clip clip;\n\n    stream = AudioSystem.getAudioInputStream(yourFile);\n    format = stream.getFormat();\n    info = new DataLine.Info(Clip.class, format);\n    clip = (Clip) AudioSystem.getLine(info);\n    clip.open(stream);\n    clip.start();\n}\ncatch (Exception e) {\n    //whatevers\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1655481,"reputation":221,"user_id":1525158,"display_name":"mini-me"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1342488323,"creation_date":1342488003,"answer_id":11514812,"question_id":2416935,"body_markdown":"Shortest form (without having to install random libraries) ?\r\n\r\n    public static void play(String filename)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tClip clip = AudioSystem.getClip();\r\n\t\t\tclip.open(AudioSystem.getAudioInputStream(new File(filename)));\r\n\t\t\tclip.start();\r\n\t\t}\r\n\t\tcatch (Exception exc)\r\n\t\t{\r\n\t\t\texc.printStackTrace(System.out);\r\n\t\t}\r\n\t}\r\n\r\nThe only problem is there is no good way to make this method blocking to close and dispose the data after *.wav finishes.\r\n`clip.drain()` says it&#39;s blocking but it&#39;s not. The clip isn&#39;t running **RIGHT AFTER** `start()`.\r\nThe only working but **UGLY** way I found is:\r\n\r\n    // ...\r\n\tclip.start();\r\n\twhile (!clip.isRunning())\r\n\t\tThread.sleep(10);\r\n\twhile (clip.isRunning())\r\n\t\tThread.sleep(10);\r\n\tclip.close();","title":"How to play .wav files with java","body":"<p>Shortest form (without having to install random libraries) ?</p>\n\n<pre><code>public static void play(String filename)\n{\n    try\n    {\n        Clip clip = AudioSystem.getClip();\n        clip.open(AudioSystem.getAudioInputStream(new File(filename)));\n        clip.start();\n    }\n    catch (Exception exc)\n    {\n        exc.printStackTrace(System.out);\n    }\n}\n</code></pre>\n\n<p>The only problem is there is no good way to make this method blocking to close and dispose the data after *.wav finishes.\n<code>clip.drain()</code> says it's blocking but it's not. The clip isn't running <strong>RIGHT AFTER</strong> <code>start()</code>.\nThe only working but <strong>UGLY</strong> way I found is:</p>\n\n<pre><code>// ...\nclip.start();\nwhile (!clip.isRunning())\n    Thread.sleep(10);\nwhile (clip.isRunning())\n    Thread.sleep(10);\nclip.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713661,"reputation":972,"user_id":1571224,"display_name":"mkdev"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1372084198,"creation_date":1372084198,"answer_id":17277981,"question_id":2416935,"body_markdown":"You can use an event listener to close the clip after it is played\r\n\r\n    import java.io.File;\r\n    import javax.sound.sampled.*;\r\n\r\n    public void play(File file) \r\n    {\r\n        try\r\n        {\r\n            final Clip clip = (Clip)AudioSystem.getLine(new Line.Info(Clip.class));\r\n\r\n            clip.addLineListener(new LineListener()\r\n            {\r\n                @Override\r\n                public void update(LineEvent event)\r\n                {\r\n                    if (event.getType() == LineEvent.Type.STOP)\r\n                        clip.close();\r\n                }\r\n            });\r\n            \r\n            clip.open(AudioSystem.getAudioInputStream(file));\r\n            clip.start();\r\n        }\r\n        catch (Exception exc)\r\n        {\r\n            exc.printStackTrace(System.out);\r\n        }\r\n    }\r\n\r\n","title":"How to play .wav files with java","body":"<p>You can use an event listener to close the clip after it is played</p>\n\n<pre><code>import java.io.File;\nimport javax.sound.sampled.*;\n\npublic void play(File file) \n{\n    try\n    {\n        final Clip clip = (Clip)AudioSystem.getLine(new Line.Info(Clip.class));\n\n        clip.addLineListener(new LineListener()\n        {\n            @Override\n            public void update(LineEvent event)\n            {\n                if (event.getType() == LineEvent.Type.STOP)\n                    clip.close();\n            }\n        });\n\n        clip.open(AudioSystem.getAudioInputStream(file));\n        clip.start();\n    }\n    catch (Exception exc)\n    {\n        exc.printStackTrace(System.out);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4024442,"reputation":1248,"user_id":3313383,"accept_rate":84,"display_name":"God"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486829168,"creation_date":1433585848,"answer_id":30681605,"question_id":2416935,"body_markdown":"Another way of doing it with `AudioInputStream`:\r\n\r\n    import java.io.File;\r\n\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.Clip;\r\n    import javax.sound.sampled.Line;\r\n    import javax.sound.sampled.LineEvent;\r\n    import javax.sound.sampled.LineListener;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFileChooser;\r\n\r\n    public class CoreJavaSound extends Object implements LineListener {\r\n        File soundFile;\r\n\r\n        JDialog playingDialog;\r\n\r\n        Clip clip;\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            CoreJavaSound s = new CoreJavaSound();\r\n        }\r\n\r\n        public CoreJavaSound() throws Exception {\r\n            JFileChooser chooser = new JFileChooser();\r\n            chooser.showOpenDialog(null);\r\n            soundFile = chooser.getSelectedFile();\r\n\r\n            System.out.println(&quot;Playing &quot; + soundFile.getName());\r\n\r\n            Line.Info linfo = new Line.Info(Clip.class);\r\n            Line line = AudioSystem.getLine(linfo);\r\n            clip = (Clip) line;\r\n            clip.addLineListener(this);\r\n            AudioInputStream ais = AudioSystem.getAudioInputStream(soundFile);\r\n            clip.open(ais);\r\n            clip.start();\r\n        }\r\n\r\n        public void update(LineEvent le) {\r\n            LineEvent.Type type = le.getType();\r\n            if (type == LineEvent.Type.OPEN) {\r\n                System.out.println(&quot;OPEN&quot;);\r\n            } else if (type == LineEvent.Type.CLOSE) {\r\n                System.out.println(&quot;CLOSE&quot;);\r\n                System.exit(0);\r\n            } else if (type == LineEvent.Type.START) {\r\n                System.out.println(&quot;START&quot;);\r\n                playingDialog.setVisible(true);\r\n            } else if (type == LineEvent.Type.STOP) {\r\n                System.out.println(&quot;STOP&quot;);\r\n                playingDialog.setVisible(false);\r\n                clip.close();\r\n            }\r\n        }\r\n    }","title":"How to play .wav files with java","body":"<p>Another way of doing it with <code>AudioInputStream</code>:</p>\n\n<pre><code>import java.io.File;\n\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.Line;\nimport javax.sound.sampled.LineEvent;\nimport javax.sound.sampled.LineListener;\nimport javax.swing.JDialog;\nimport javax.swing.JFileChooser;\n\npublic class CoreJavaSound extends Object implements LineListener {\n    File soundFile;\n\n    JDialog playingDialog;\n\n    Clip clip;\n\n    public static void main(String[] args) throws Exception {\n        CoreJavaSound s = new CoreJavaSound();\n    }\n\n    public CoreJavaSound() throws Exception {\n        JFileChooser chooser = new JFileChooser();\n        chooser.showOpenDialog(null);\n        soundFile = chooser.getSelectedFile();\n\n        System.out.println(\"Playing \" + soundFile.getName());\n\n        Line.Info linfo = new Line.Info(Clip.class);\n        Line line = AudioSystem.getLine(linfo);\n        clip = (Clip) line;\n        clip.addLineListener(this);\n        AudioInputStream ais = AudioSystem.getAudioInputStream(soundFile);\n        clip.open(ais);\n        clip.start();\n    }\n\n    public void update(LineEvent le) {\n        LineEvent.Type type = le.getType();\n        if (type == LineEvent.Type.OPEN) {\n            System.out.println(\"OPEN\");\n        } else if (type == LineEvent.Type.CLOSE) {\n            System.out.println(\"CLOSE\");\n            System.exit(0);\n        } else if (type == LineEvent.Type.START) {\n            System.out.println(\"START\");\n            playingDialog.setVisible(true);\n        } else if (type == LineEvent.Type.STOP) {\n            System.out.println(\"STOP\");\n            playingDialog.setVisible(false);\n            clip.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8363506,"reputation":58,"user_id":6280993,"display_name":"John Nash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477653256,"creation_date":1477653256,"answer_id":40303880,"question_id":2416935,"body_markdown":"A class that will play a WAV file, blocking until the sound has finished playing:\r\n\r\n\tclass Sound implements Playable {\r\n\r\n\t\tprivate final Path wavPath;\r\n\t\tprivate final CyclicBarrier barrier = new CyclicBarrier(2);\r\n\r\n\t\tSound(final Path wavPath) {\r\n\r\n\t\t\tthis.wavPath = wavPath;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void play() throws LineUnavailableException, IOException, UnsupportedAudioFileException {\r\n\r\n\t\t\ttry (final AudioInputStream audioIn = AudioSystem.getAudioInputStream(wavPath.toFile());\r\n\t\t\t\t final Clip clip = AudioSystem.getClip()) {\r\n\r\n\t\t\t\tlistenForEndOf(clip);\r\n\t\t\t\tclip.open(audioIn);\r\n\t\t\t\tclip.start();\r\n\t\t\t\twaitForSoundEnd();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void listenForEndOf(final Clip clip) {\r\n\t\t\t\r\n\t\t\tclip.addLineListener(event -&gt; {\r\n\t\t\t\tif (event.getType() == LineEvent.Type.STOP) waitOnBarrier();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate void waitOnBarrier() {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tbarrier.await();\r\n\t\t\t} catch (final InterruptedException ignored) {\r\n\t\t\t} catch (final BrokenBarrierException e) {\r\n\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void waitForSoundEnd() {\r\n\r\n\t\t\twaitOnBarrier();\r\n\t\t}\r\n\t}","title":"How to play .wav files with java","body":"<p>A class that will play a WAV file, blocking until the sound has finished playing:</p>\n\n<pre><code>class Sound implements Playable {\n\n    private final Path wavPath;\n    private final CyclicBarrier barrier = new CyclicBarrier(2);\n\n    Sound(final Path wavPath) {\n\n        this.wavPath = wavPath;\n    }\n\n    @Override\n    public void play() throws LineUnavailableException, IOException, UnsupportedAudioFileException {\n\n        try (final AudioInputStream audioIn = AudioSystem.getAudioInputStream(wavPath.toFile());\n             final Clip clip = AudioSystem.getClip()) {\n\n            listenForEndOf(clip);\n            clip.open(audioIn);\n            clip.start();\n            waitForSoundEnd();\n        }\n    }\n\n    private void listenForEndOf(final Clip clip) {\n\n        clip.addLineListener(event -&gt; {\n            if (event.getType() == LineEvent.Type.STOP) waitOnBarrier();\n        });\n    }\n\n    private void waitOnBarrier() {\n\n        try {\n\n            barrier.await();\n        } catch (final InterruptedException ignored) {\n        } catch (final BrokenBarrierException e) {\n\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void waitForSoundEnd() {\n\n        waitOnBarrier();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9889418,"reputation":1,"user_id":7322906,"display_name":"burb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486828786,"creation_date":1482267508,"answer_id":41251142,"question_id":2416935,"body_markdown":"You can use AudioStream this way as well:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    import sun.audio.AudioPlayer;\r\n    import sun.audio.AudioStream;\r\n\r\n    public class AudioWizz extends JPanel implements ActionListener {\r\n\r\n    \tprivate static final long serialVersionUID = 1L; //you like your cereal and the program likes their &quot;serial&quot;\r\n    \r\n    \tstatic AudioWizz a;\r\n    \tstatic JButton playBuddon;\r\n    \tstatic JFrame frame;\r\n    \r\n    \tpublic static void main(String arguments[]){\r\n    \r\n    \t\tframe= new JFrame(&quot;AudioWizz&quot;);\r\n    \t\tframe.setSize(300,300);\r\n    \t\tframe.setVisible(true);\r\n    \t\ta= new AudioWizz();\r\n    \t\tplayBuddon= new JButton(&quot;PUSH ME&quot;);\r\n    \t\tplayBuddon.setBounds(10,10,80,30);\r\n    \t\tplayBuddon.addActionListener(a);\r\n    \r\n    \t\tframe.add(playBuddon);\r\n    \t\tframe.add(a);\r\n    \t}\r\n    \r\n    \tpublic void actionPerformed(ActionEvent e){ //an eventListener\r\n    \t\tif (e.getSource() == playBuddon) {\r\n    \t\t\ttry {\r\n    \t\t\t\tInputStream in = new FileInputStream(&quot;*.wav&quot;);\r\n    \t\t\t\tAudioStream sound = new AudioStream(in);\r\n    \t\t\t\tAudioPlayer.player.start(sound);\r\n    \t\t\t} catch(FileNotFoundException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t} catch (IOException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to play .wav files with java","body":"<p>You can use AudioStream this way as well:</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport sun.audio.AudioPlayer;\nimport sun.audio.AudioStream;\n\npublic class AudioWizz extends JPanel implements ActionListener {\n\n    private static final long serialVersionUID = 1L; //you like your cereal and the program likes their \"serial\"\n\n    static AudioWizz a;\n    static JButton playBuddon;\n    static JFrame frame;\n\n    public static void main(String arguments[]){\n\n        frame= new JFrame(\"AudioWizz\");\n        frame.setSize(300,300);\n        frame.setVisible(true);\n        a= new AudioWizz();\n        playBuddon= new JButton(\"PUSH ME\");\n        playBuddon.setBounds(10,10,80,30);\n        playBuddon.addActionListener(a);\n\n        frame.add(playBuddon);\n        frame.add(a);\n    }\n\n    public void actionPerformed(ActionEvent e){ //an eventListener\n        if (e.getSource() == playBuddon) {\n            try {\n                InputStream in = new FileInputStream(\"*.wav\");\n                AudioStream sound = new AudioStream(in);\n                AudioPlayer.player.start(sound);\n            } catch(FileNotFoundException e1) {\n                e1.printStackTrace();\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986323,"reputation":71,"user_id":1781452,"display_name":"guest123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523373843,"creation_date":1504112868,"answer_id":45966133,"question_id":2416935,"body_markdown":"A solution without java reflection `DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat)`\r\n\r\nJava reflection decrease performance.\r\nto run: `java playsound absoluteFilePathTo/file.wav`\r\n\r\n    import javax.sound.sampled.*;\r\n    import java.io.*;\r\n    public class playsound {\r\n\r\n    \tpublic static void main (String args[]) throws Exception {\r\n    \t\tplaySound (args[0]);\r\n    \t}\r\n\r\n    \tpublic static void playSound () throws Exception {\r\n    \t\tAudioInputStream \r\n    \t\taudioStream = AudioSystem.getAudioInputStream(new File (filename));\r\n    \t\t\r\n            int BUFFER_SIZE = 128000;\r\n    \t\tAudioFormat audioFormat = null;\r\n    \t\tSourceDataLine sourceLine = null;\r\n    \r\n    \t\taudioFormat = audioStream.getFormat();\r\n    \t\t\r\n    \t\tsourceLine = AudioSystem.getSourceDataLine(audioFormat);\r\n    \t\tsourceLine.open(audioFormat);\r\n            sourceLine.start();\r\n    \r\n            int nBytesRead = 0;\r\n            byte[] abData = new byte[BUFFER_SIZE];\r\n            while (nBytesRead != -1) {\r\n                try {\r\n                    nBytesRead = \r\n                    audioStream.read(abData, 0, abData.length);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                if (nBytesRead &gt;= 0) {\r\n                    int nBytesWritten = sourceLine.write(abData, 0, nBytesRead);\r\n                }\r\n            }\r\n    \r\n            sourceLine.drain();\r\n            sourceLine.close();\r\n    \t}\r\n    \t\r\n    }","title":"How to play .wav files with java","body":"<p>A solution without java reflection <code>DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat)</code></p>\n\n<p>Java reflection decrease performance.\nto run: <code>java playsound absoluteFilePathTo/file.wav</code></p>\n\n<pre><code>import javax.sound.sampled.*;\nimport java.io.*;\npublic class playsound {\n\n    public static void main (String args[]) throws Exception {\n        playSound (args[0]);\n    }\n\n    public static void playSound () throws Exception {\n        AudioInputStream \n        audioStream = AudioSystem.getAudioInputStream(new File (filename));\n\n        int BUFFER_SIZE = 128000;\n        AudioFormat audioFormat = null;\n        SourceDataLine sourceLine = null;\n\n        audioFormat = audioStream.getFormat();\n\n        sourceLine = AudioSystem.getSourceDataLine(audioFormat);\n        sourceLine.open(audioFormat);\n        sourceLine.start();\n\n        int nBytesRead = 0;\n        byte[] abData = new byte[BUFFER_SIZE];\n        while (nBytesRead != -1) {\n            try {\n                nBytesRead = \n                audioStream.read(abData, 0, abData.length);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            if (nBytesRead &gt;= 0) {\n                int nBytesWritten = sourceLine.write(abData, 0, nBytesRead);\n            }\n        }\n\n        sourceLine.drain();\n        sourceLine.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672435735,"creation_date":1672435735,"answer_id":74965929,"question_id":2416935,"body_markdown":"I took @greenLizard&#39;s code and made it more robust.\r\n\r\n1.  I closed the `AudioInputStream`.\r\n2.  I used a `BufferedInputStream`.  The `AudioSystem` `getAudioInputStream` was throwing an occasional `IOException` because the `getAutoInputSytream` method couldn&#39;t back up the input stream and start over.\r\n\r\nHopefully, there are no more exceptions to be found.\r\n\r\nHere&#39;s the modified code.  The [ErrorDisplayDialog](https://github.com/ggleblanc2/error-display-dialog) shows an exception as a `JDialog` in a Java Swing application.  Just replace with `e.printStackTrace();`.\r\n\r\n\tprivate void playWavFile(String fileName) {\r\n\t\tInputStream inputStream = getClass().getResourceAsStream(fileName);\r\n\t\tBufferedInputStream bufferedInputStream = new BufferedInputStream(\r\n\t\t\t\tinputStream);\r\n\t\tAudioInputStream audioStream = null;\r\n\t\tAudioFormat audioFormat = null;\r\n\r\n\t\ttry {\r\n\t\t\taudioStream = AudioSystem.getAudioInputStream(bufferedInputStream);\r\n\t\t\taudioFormat = audioStream.getFormat();\r\n\t\t} catch (UnsupportedAudioFileException e) {\r\n\t\t\tnew ErrorDisplayDialog(view.getFrame(),\r\n\t\t\t\t\t&quot;UnsupportedAudioFileException&quot;, e);\r\n\t\t\treturn;\r\n\t\t} catch (IOException e) {\r\n\t\t\tnew ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tDataLine.Info info = new DataLine.Info(SourceDataLine.class,\r\n\t\t\t\taudioFormat);\r\n\t\tSourceDataLine sourceLine;\r\n\t\ttry {\r\n\t\t\tsourceLine = (SourceDataLine) AudioSystem.getLine(info);\r\n\t\t\tsourceLine.open(audioFormat);\r\n\t\t} catch (LineUnavailableException e) {\r\n\t\t\tnew ErrorDisplayDialog(view.getFrame(), &quot;LineUnavailableException&quot;,\r\n\t\t\t\t\te);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsourceLine.start();\r\n\r\n\t\tint nBytesRead = 0;\r\n\t\tbyte[] abData = new byte[128000];\r\n\t\twhile (nBytesRead != -1) {\r\n\t\t\ttry {\r\n\t\t\t\tnBytesRead = audioStream.read(abData, 0, abData.length);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tnew ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (nBytesRead &gt;= 0) {\r\n\t\t\t\tsourceLine.write(abData, 0, nBytesRead);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsourceLine.drain();\r\n\t\tsourceLine.close();\r\n\r\n\t\ttry {\r\n\t\t\taudioStream.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tnew ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to play .wav files with java","body":"<p>I took @greenLizard's code and made it more robust.</p>\n<ol>\n<li>I closed the <code>AudioInputStream</code>.</li>\n<li>I used a <code>BufferedInputStream</code>.  The <code>AudioSystem</code> <code>getAudioInputStream</code> was throwing an occasional <code>IOException</code> because the <code>getAutoInputSytream</code> method couldn't back up the input stream and start over.</li>\n</ol>\n<p>Hopefully, there are no more exceptions to be found.</p>\n<p>Here's the modified code.  The <a href=\"https://github.com/ggleblanc2/error-display-dialog\" rel=\"nofollow noreferrer\">ErrorDisplayDialog</a> shows an exception as a <code>JDialog</code> in a Java Swing application.  Just replace with <code>e.printStackTrace();</code>.</p>\n<pre><code>private void playWavFile(String fileName) {\n    InputStream inputStream = getClass().getResourceAsStream(fileName);\n    BufferedInputStream bufferedInputStream = new BufferedInputStream(\n            inputStream);\n    AudioInputStream audioStream = null;\n    AudioFormat audioFormat = null;\n\n    try {\n        audioStream = AudioSystem.getAudioInputStream(bufferedInputStream);\n        audioFormat = audioStream.getFormat();\n    } catch (UnsupportedAudioFileException e) {\n        new ErrorDisplayDialog(view.getFrame(),\n                &quot;UnsupportedAudioFileException&quot;, e);\n        return;\n    } catch (IOException e) {\n        new ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\n        return;\n    }\n\n    DataLine.Info info = new DataLine.Info(SourceDataLine.class,\n            audioFormat);\n    SourceDataLine sourceLine;\n    try {\n        sourceLine = (SourceDataLine) AudioSystem.getLine(info);\n        sourceLine.open(audioFormat);\n    } catch (LineUnavailableException e) {\n        new ErrorDisplayDialog(view.getFrame(), &quot;LineUnavailableException&quot;,\n                e);\n        return;\n    }\n\n    sourceLine.start();\n\n    int nBytesRead = 0;\n    byte[] abData = new byte[128000];\n    while (nBytesRead != -1) {\n        try {\n            nBytesRead = audioStream.read(abData, 0, abData.length);\n        } catch (IOException e) {\n            new ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\n            return;\n        }\n\n        if (nBytesRead &gt;= 0) {\n            sourceLine.write(abData, 0, nBytesRead);\n        }\n    }\n\n    sourceLine.drain();\n    sourceLine.close();\n\n    try {\n        audioStream.close();\n    } catch (IOException e) {\n        new ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":99823,"reputation":2326,"user_id":269446,"accept_rate":74,"display_name":"greenLizard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174974,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":2433454,"answer_count":10,"score":58,"last_activity_date":1672435735,"creation_date":1268225373,"question_id":2416935,"body_markdown":"I am trying to play a *.wav file with Java. I want it to do the following:  \r\nWhen a button is pressed, play a short beep sound.\r\n\r\nI have googled it, but most of the code wasn&#39;t working. Can someone give me a simple code snippet to play a .wav file?\r\n\r\n","title":"How to play .wav files with java","body":"<p>I am trying to play a *.wav file with Java. I want it to do the following:<br>\nWhen a button is pressed, play a short beep sound.</p>\n\n<p>I have googled it, but most of the code wasn't working. Can someone give me a simple code snippet to play a .wav file?</p>\n"},{"tags":["java","postgresql","spring-boot","mockito"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1569165473,"post_id":58050482,"comment_id":102499305,"body_markdown":"you need to provide more information, can you show the complete test class","body":"you need to provide more information, can you show the complete test class"},{"owner":{"account_id":6615599,"reputation":474,"user_id":5108962,"accept_rate":25,"display_name":"Sameer Reza Khan"},"score":0,"creation_date":1569165845,"post_id":58050482,"comment_id":102499414,"body_markdown":"@Deadpool updated question with complete class.","body":"@Deadpool updated question with complete class."},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1569165975,"post_id":58050482,"comment_id":102499446,"body_markdown":"and you are getting this exception only during test? it will be helpful if you add exception with stack trace","body":"and you are getting this exception only during test? it will be helpful if you add exception with stack trace"},{"owner":{"account_id":6615599,"reputation":474,"user_id":5108962,"accept_rate":25,"display_name":"Sameer Reza Khan"},"score":0,"creation_date":1569166307,"post_id":58050482,"comment_id":102499551,"body_markdown":"@Deadpool added stack trace as well","body":"@Deadpool added stack trace as well"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1569167024,"post_id":58050482,"comment_id":102499739,"body_markdown":"How about if you try mocking the Repository? Since this is a test i&#39;m just providing the ideas","body":"How about if you try mocking the Repository? Since this is a test i&#39;m just providing the ideas"},{"owner":{"account_id":6615599,"reputation":474,"user_id":5108962,"accept_rate":25,"display_name":"Sameer Reza Khan"},"score":0,"creation_date":1569167402,"post_id":58050482,"comment_id":102499846,"body_markdown":"@Deadpool same error","body":"@Deadpool same error"},{"owner":{"account_id":9580452,"reputation":163,"user_id":7115140,"accept_rate":75,"display_name":"jagga"},"score":0,"creation_date":1609764430,"post_id":58050482,"comment_id":115915855,"body_markdown":"@SameerRezaKhan Did you found solution for this?","body":"@SameerRezaKhan Did you found solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":2516047,"reputation":320,"user_id":2187480,"display_name":"Juan Melo"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1616171738,"creation_date":1616171738,"answer_id":66712131,"question_id":58050482,"body_markdown":"run this query in your postgreSQL console:\r\n\r\n&gt; CREATE EXTENSION IF NOT EXISTS &quot;uuid-ossp&quot;;","title":"Unable to load class [pg-uuid] in spring boot test","body":"<p>run this query in your postgreSQL console:</p>\n<blockquote>\n<p>CREATE EXTENSION IF NOT EXISTS &quot;uuid-ossp&quot;;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16003882,"reputation":76,"user_id":11549860,"display_name":"Sahil Z. Maharjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672435537,"creation_date":1672435537,"answer_id":74965908,"question_id":58050482,"body_markdown":"In the Model, replacing\r\n\r\n    @Type(type=&quot;pg-uuid&quot;)\r\n\r\nwith\r\n\r\n    @Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;)\r\n\r\nWorked for me.\r\n\r\nThe functionalities using just @Type(type=&quot;pg-uuid&quot;) worked, but the tests were failing as mentioned in the question above, but using @Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;) worked","title":"Unable to load class [pg-uuid] in spring boot test","body":"<p>In the Model, replacing</p>\n<pre><code>@Type(type=&quot;pg-uuid&quot;)\n</code></pre>\n<p>with</p>\n<pre><code>@Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;)\n</code></pre>\n<p>Worked for me.</p>\n<p>The functionalities using just @Type(type=&quot;pg-uuid&quot;) worked, but the tests were failing as mentioned in the question above, but using @Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;) worked</p>\n"}],"owner":{"account_id":6615599,"reputation":474,"user_id":5108962,"accept_rate":25,"display_name":"Sameer Reza Khan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1672435537,"creation_date":1569164809,"question_id":58050482,"body_markdown":"I am getting an exception while running a spring boot test.\r\nI am using pg-uuid on an attribute in one of my models.\r\n\r\n    @org.hibernate.annotations.Type(type = &quot;pg-uuid&quot;)\r\n    private UUID userUuid;\r\n\r\nMy application runs smoothly when my test cases are ignored, but when I run test cases, I am getting this error.\r\n\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : pg-uuid\r\n\r\nMy complete test class:\r\n\r\n\r\n    @NoArgsConstructor\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(AuthController.class)\r\n    public class AuthControllerTest {\r\n\r\n        @Autowired\r\n        MockMvc mockMvc;\r\n\r\n        @MockBean\r\n        UserDetailsService userDetailsService;\r\n\r\n        @org.junit.jupiter.api.BeforeEach\r\n        void setUp() {\r\n            List&lt;User&gt; mockUserList= new UsersUtil().getUserList();\r\n        }\r\n\r\n        @org.junit.jupiter.api.AfterEach\r\n        void tearDown() {\r\n        }\r\n\r\n        @Test\r\n        public void login() throws Exception {\r\n            User user = new User();\r\n            user.setEmail(&quot;abc@example.com&quot;);\r\n            user.setPassword(&quot;123456&quot;);\r\n            try {\r\n                LoginResponseBean loginResponseBean =userDetailsService.login(user);\r\n                assertThat(loginResponseBean!=null).isTrue();\r\n                assertThat(loginResponseBean.getJwtToken()!=null).isTrue();\r\n            }\r\n            catch(Exception e){\r\n            }\r\n        }\r\n    }\r\n\r\nStacktrace of the exception:\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [pg-uuid]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:119)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\r\n\t... 24 more\r\n    Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [pg-uuid]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:354)\r\n\tat org.hibernate.boot.internal.ClassLoaderAccessImpl.classForName(ClassLoaderAccessImpl.java:67)\r\n\tat org.hibernate.cfg.annotations.SimpleValueBinder.fillSimpleValue(SimpleValueBinder.java:538)\r\n\tat org.hibernate.cfg.SetSimpleValueTypeSecondPass.doSecondPass(SetSimpleValueTypeSecondPass.java:25)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1696)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1654)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:287)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)\r\n\t... 39 more\r\n    Caused by: java.lang.ClassNotFoundException: Could not load requested class : pg-uuid\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader.findClass(ClassLoaderServiceImpl.java:342)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:415)\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:351)\r\n\t... 54 more\r\n\r\nWhat should I do?","title":"Unable to load class [pg-uuid] in spring boot test","body":"<p>I am getting an exception while running a spring boot test.\nI am using pg-uuid on an attribute in one of my models.</p>\n\n<pre><code>@org.hibernate.annotations.Type(type = \"pg-uuid\")\nprivate UUID userUuid;\n</code></pre>\n\n<p>My application runs smoothly when my test cases are ignored, but when I run test cases, I am getting this error.</p>\n\n<p>Caused by: java.lang.ClassNotFoundException: Could not load requested class : pg-uuid</p>\n\n<p>My complete test class:</p>\n\n<pre><code>@NoArgsConstructor\n@RunWith(SpringRunner.class)\n@WebMvcTest(AuthController.class)\npublic class AuthControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @MockBean\n    UserDetailsService userDetailsService;\n\n    @org.junit.jupiter.api.BeforeEach\n    void setUp() {\n        List&lt;User&gt; mockUserList= new UsersUtil().getUserList();\n    }\n\n    @org.junit.jupiter.api.AfterEach\n    void tearDown() {\n    }\n\n    @Test\n    public void login() throws Exception {\n        User user = new User();\n        user.setEmail(\"abc@example.com\");\n        user.setPassword(\"123456\");\n        try {\n            LoginResponseBean loginResponseBean =userDetailsService.login(user);\n            assertThat(loginResponseBean!=null).isTrue();\n            assertThat(loginResponseBean.getJwtToken()!=null).isTrue();\n        }\n        catch(Exception e){\n        }\n    }\n}\n</code></pre>\n\n<p>Stacktrace of the exception:</p>\n\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\nat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\nat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [pg-uuid]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:119)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\n... 24 more\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [pg-uuid]\nat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:354)\nat org.hibernate.boot.internal.ClassLoaderAccessImpl.classForName(ClassLoaderAccessImpl.java:67)\nat org.hibernate.cfg.annotations.SimpleValueBinder.fillSimpleValue(SimpleValueBinder.java:538)\nat org.hibernate.cfg.SetSimpleValueTypeSecondPass.doSecondPass(SetSimpleValueTypeSecondPass.java:25)\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1696)\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1654)\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:287)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935)\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)\n... 39 more\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : pg-uuid\nat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader.findClass(ClassLoaderServiceImpl.java:342)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:415)\nat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:351)\n... 54 more\n</code></pre>\n\n<p>What should I do?</p>\n"},{"tags":["java","android","android-10.0"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672349039,"post_id":74956103,"comment_id":132274251,"body_markdown":"Please give full paths of src and dest.","body":"Please give full paths of src and dest."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672350188,"post_id":74956103,"comment_id":132274471,"body_markdown":"This is the full path -  /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3? If not, please write how to set it correctly.","body":"This is the full path -  /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3? If not, please write how to set it correctly."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672353023,"post_id":74956103,"comment_id":132275091,"body_markdown":"That is only one path. I asked for two: src and dest.","body":"That is only one path. I asked for two: src and dest."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672353369,"post_id":74956103,"comment_id":132275155,"body_markdown":"src: /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3; dest: /storage/emulated/0/Music/krindo - Jumbo.mp3","body":"src: /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3; dest: /storage/emulated/0/Music/krindo - Jumbo.mp3"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672354229,"post_id":74956103,"comment_id":132275336,"body_markdown":"Try File.exists() and File.canWrite() on src before the move.","body":"Try File.exists() and File.canWrite() on src before the move."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672355890,"post_id":74956103,"comment_id":132275638,"body_markdown":"src.exists() - true; src.isWritable() - false","body":"src.exists() - true; src.isWritable() - false"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672356272,"post_id":74956103,"comment_id":132275701,"body_markdown":"Well if it is not writable you cannot move it. Also you cannot delete it. If File.canRead() returns true you could make a copy if the destination directory is writable.","body":"Well if it is not writable you cannot move it. Also you cannot delete it. If File.canRead() returns true you could make a copy if the destination directory is writable."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672381273,"post_id":74956103,"comment_id":132278799,"body_markdown":"In general, I just need to rename it, but how to do it specifically on Android 10?","body":"In general, I just need to rename it, but how to do it specifically on Android 10?"}],"answers":[{"tags":[],"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672435344,"creation_date":1672435344,"answer_id":74965889,"question_id":74956103,"body_markdown":"Here I wrote another file renaming solution, but in Android 10 nothing happens, although in 11 and above it renames normally.\r\n\r\n    public class PathDiv {\r\n    public static String dev(String path){\r\n        return path.replaceAll(&quot;^(.*)/.*?$&quot;,&quot;$1&quot;);\r\n    }\r\n\r\n    public static void renameFilesInDir(String path, String dirIn, String ext) {\r\n\r\n        File checkFile = new File(path);\r\n            if (checkFile.isFile()) {\r\n                try {\r\n                    checkFile.renameTo(new File(dirIn, ext));\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n        }\r\n    }\r\n\r\n}\r\npath: /storage/emulated/0/Music/04. Kasger - Highland.mp3\r\ndirIn: /storage/emulated/0/Music\r\next: Highland.mp3\r\n\r\n    PathDiv.renameFilesInDir(songItem.realUri,PathDiv.dev(songItem.realUri),newName.toString())\r\n\r\nPlease help, what is the problem?","title":"Access to files is denied while the file is being moved Android 10","body":"<p>Here I wrote another file renaming solution, but in Android 10 nothing happens, although in 11 and above it renames normally.</p>\n<pre><code>public class PathDiv {\npublic static String dev(String path){\n    return path.replaceAll(&quot;^(.*)/.*?$&quot;,&quot;$1&quot;);\n}\n\npublic static void renameFilesInDir(String path, String dirIn, String ext) {\n\n    File checkFile = new File(path);\n        if (checkFile.isFile()) {\n            try {\n                checkFile.renameTo(new File(dirIn, ext));\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n    }\n}\n</code></pre>\n<p>}\npath: /storage/emulated/0/Music/04. Kasger - Highland.mp3\ndirIn: /storage/emulated/0/Music\next: Highland.mp3</p>\n<pre><code>PathDiv.renameFilesInDir(songItem.realUri,PathDiv.dev(songItem.realUri),newName.toString())\n</code></pre>\n<p>Please help, what is the problem?</p>\n"}],"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672435344,"creation_date":1672348405,"question_id":74956103,"body_markdown":"I need to rename a file, I use the Files.move method. But nothing happens. Please wait to solve this problem. I am testing on an emulator with Android 10. Below are the permissions, error, and implementation of the move.\r\n\r\nPermissions :\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n```\r\n\r\n```\r\nandroid:requestRawExternalStorageAccess=&quot;true&quot;\r\nandroid:requestLegacyExternalStorage=&quot;true&quot;\r\n```\r\n\r\n```\r\nval src = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n    Paths.get(songItem.realUri)\r\n} else {\r\n    TODO(&quot;VERSION.SDK_INT &lt; O&quot;)\r\n}\r\nval dest = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n    Paths.get(&quot;$parent/$newName&quot;)\r\n} else {\r\n    TODO(&quot;VERSION.SDK_INT &lt; O&quot;)\r\n}\r\ntry {\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        Files.move(src, dest) //Error\r\n    }\r\n    println(&quot;Renaming succeeded&quot;)\r\n} catch (e: IOException) {\r\n    e.printStackTrace()\r\n}\r\n```\r\n\r\n`W/System.err: java.nio.file.AccessDeniedException: /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3 -&gt; /storage/emulated/0/Music/krindo - Jumbo.mp3\r\nW/System.err:     at sun.nio.fs.UnixCopyFile.move(UnixCopyFile.java:457)\r\nW/System.err:     at sun.nio.fs.UnixFileSystemProvider.move(UnixFileSystemProvider.java:262)\r\nW/System.err:     at java.nio.file.Files.move(Files.java:1395)\r\n`\r\n","title":"Access to files is denied while the file is being moved Android 10","body":"<p>I need to rename a file, I use the Files.move method. But nothing happens. Please wait to solve this problem. I am testing on an emulator with Android 10. Below are the permissions, error, and implementation of the move.</p>\n<p>Permissions :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n</code></pre>\n<pre><code>android:requestRawExternalStorageAccess=&quot;true&quot;\nandroid:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<pre><code>val src = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    Paths.get(songItem.realUri)\n} else {\n    TODO(&quot;VERSION.SDK_INT &lt; O&quot;)\n}\nval dest = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    Paths.get(&quot;$parent/$newName&quot;)\n} else {\n    TODO(&quot;VERSION.SDK_INT &lt; O&quot;)\n}\ntry {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        Files.move(src, dest) //Error\n    }\n    println(&quot;Renaming succeeded&quot;)\n} catch (e: IOException) {\n    e.printStackTrace()\n}\n</code></pre>\n<p><code>W/System.err: java.nio.file.AccessDeniedException: /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3 -&gt; /storage/emulated/0/Music/krindo - Jumbo.mp3 W/System.err:     at sun.nio.fs.UnixCopyFile.move(UnixCopyFile.java:457) W/System.err:     at sun.nio.fs.UnixFileSystemProvider.move(UnixFileSystemProvider.java:262) W/System.err:     at java.nio.file.Files.move(Files.java:1395) </code></p>\n"},{"tags":["java","java-11","java-module","geotools"],"answers":[{"tags":[],"owner":{"account_id":2514725,"reputation":324,"user_id":2186416,"accept_rate":60,"display_name":"Luke Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672435025,"creation_date":1672435025,"answer_id":74965859,"question_id":74963898,"body_markdown":"Took a while to come to this, but I have come to the following solution thanks to the jar --describe-module command from  https://stackoverflow.com/questions/47359025/is-it-possible-to-mix-java-8-and-java-9-source-code-in-the-same-project-without.\r\n\r\n1. Using mvn dependency:copy-dependencies copies all .jar files to target/dependency.\r\n\r\n2. In target/dependency, create a file &quot;module-report.cmd&quot; with the following content.:\r\n\r\n    \\&gt; module-report.txt (\r\n      for %%f in (%~dp0*.jar) do (\r\n\t\tjar --file=%%f --describe-module\r\n\t  )\r\n    )\r\n\r\nIts just running the &quot;jar --file=... --describe-module&quot; command on every jar file, outputting it to module-report.txt.\r\n\r\n3. Run module-report.cmd to generate module-report.txt\r\n\r\nThe contents of the text file contain all of the module information, including contained packages, requires declarations, everything.\r\n\r\nUsing that report I could then simply search for the packages I couldn&#39;t access and easily get the name of the module they were contained in.","title":"How do I discover the correct Java 11 module names for my GeoTools project?","body":"<p>Took a while to come to this, but I have come to the following solution thanks to the jar --describe-module command from  <a href=\"https://stackoverflow.com/questions/47359025/is-it-possible-to-mix-java-8-and-java-9-source-code-in-the-same-project-without\">Is it possible to mix Java 8 and Java 9 source code in the same project without using compiler flags?</a>.</p>\n<ol>\n<li><p>Using mvn dependency:copy-dependencies copies all .jar files to target/dependency.</p>\n</li>\n<li><p>In target/dependency, create a file &quot;module-report.cmd&quot; with the following content.:</p>\n<p>&gt; module-report.txt (\nfor %%f in (%~dp0*.jar) do (\njar --file=%%f --describe-module\n)\n)</p>\n</li>\n</ol>\n<p>Its just running the &quot;jar --file=... --describe-module&quot; command on every jar file, outputting it to module-report.txt.</p>\n<ol start=\"3\">\n<li>Run module-report.cmd to generate module-report.txt</li>\n</ol>\n<p>The contents of the text file contain all of the module information, including contained packages, requires declarations, everything.</p>\n<p>Using that report I could then simply search for the packages I couldn't access and easily get the name of the module they were contained in.</p>\n"}],"owner":{"account_id":2514725,"reputation":324,"user_id":2186416,"accept_rate":60,"display_name":"Luke Turner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672435025,"creation_date":1672418861,"question_id":74963898,"body_markdown":"I am trying to convert my application to use Java 11 and the java module system, but am having difficulty discovering which &quot;requires&quot; statements to add to my module-info.java. I am currently getting the error ```&quot;The project was not built since its build path is incomplete. Cannot find the class file for org.locationtech.jts.geom.Envelope. Fix the build path then try building this project&quot;```.\r\n\r\nI have searched through https://github.com/geotools/geotools, but I cannot find any hints regarding which modules expose which packages. For example there is a module &quot;org.geotools.tile_client&quot;, but searching that in the repository gets zero hits (so I assume the geotools modules are not handled via config files?).\r\n\r\nThe geotools Javadoc is unfortunately also not helpful, as geotools is not yet using named modules.\r\n\r\nhttps://docs.geotools.org/stable/userguide/tutorial/quickstart/java11.html mentioned using the same requires as the ones declared in my POM, but for my project requireing (gt-shapefile, gt-swing, gt-tile-client, gt-epsg-hsql, gt-grid) this resulted in the error:\r\n\r\n```The project was not built since its build path is incomplete. Cannot find the class file for org.opengis.referencing.crs.CoordinateReferenceSystem. Fix the build path then try building this project```\r\n\r\nThrough digging down through the maven dependencies, I found a few more which I now explicitely require too. This brought me past a few more errors.\r\n\r\n    requires org.geotools.opengis;\r\n    requires org.geotools.referencing;\r\n    requires org.geotools.coverage;\r\n    requires org.geotools.main;\r\n    requires org.geotools.render;\r\n    requires org.geotools.epsg_hsql;\r\n    requires org.geotools.shapefile;\r\n    requires org.geotools.grid;\r\n    requires org.geotools.tile_client;\r\n    requires org.geotools.swing;\r\n    requires org.geotools.http;\r\n\t\r\nHowever, I did find a module which doesnt seem to want to work (gt-cql, dependency of gt-render). requires org.geotools.cql cannot be resolved.\r\n\r\nSo, as asked at the top, how do I discover the correct Java 11 module names for my GeoTools project? And is there a specific hint as to which module I should require in order to get rid of the org.locationtech.jts.geom.Envelope problem?\r\n","title":"How do I discover the correct Java 11 module names for my GeoTools project?","body":"<p>I am trying to convert my application to use Java 11 and the java module system, but am having difficulty discovering which &quot;requires&quot; statements to add to my module-info.java. I am currently getting the error <code>&quot;The project was not built since its build path is incomplete. Cannot find the class file for org.locationtech.jts.geom.Envelope. Fix the build path then try building this project&quot;</code>.</p>\n<p>I have searched through <a href=\"https://github.com/geotools/geotools\" rel=\"nofollow noreferrer\">https://github.com/geotools/geotools</a>, but I cannot find any hints regarding which modules expose which packages. For example there is a module &quot;org.geotools.tile_client&quot;, but searching that in the repository gets zero hits (so I assume the geotools modules are not handled via config files?).</p>\n<p>The geotools Javadoc is unfortunately also not helpful, as geotools is not yet using named modules.</p>\n<p><a href=\"https://docs.geotools.org/stable/userguide/tutorial/quickstart/java11.html\" rel=\"nofollow noreferrer\">https://docs.geotools.org/stable/userguide/tutorial/quickstart/java11.html</a> mentioned using the same requires as the ones declared in my POM, but for my project requireing (gt-shapefile, gt-swing, gt-tile-client, gt-epsg-hsql, gt-grid) this resulted in the error:</p>\n<p><code>The project was not built since its build path is incomplete. Cannot find the class file for org.opengis.referencing.crs.CoordinateReferenceSystem. Fix the build path then try building this project</code></p>\n<p>Through digging down through the maven dependencies, I found a few more which I now explicitely require too. This brought me past a few more errors.</p>\n<pre><code>requires org.geotools.opengis;\nrequires org.geotools.referencing;\nrequires org.geotools.coverage;\nrequires org.geotools.main;\nrequires org.geotools.render;\nrequires org.geotools.epsg_hsql;\nrequires org.geotools.shapefile;\nrequires org.geotools.grid;\nrequires org.geotools.tile_client;\nrequires org.geotools.swing;\nrequires org.geotools.http;\n</code></pre>\n<p>However, I did find a module which doesnt seem to want to work (gt-cql, dependency of gt-render). requires org.geotools.cql cannot be resolved.</p>\n<p>So, as asked at the top, how do I discover the correct Java 11 module names for my GeoTools project? And is there a specific hint as to which module I should require in order to get rid of the org.locationtech.jts.geom.Envelope problem?</p>\n"},{"tags":["java","logging"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672434868,"creation_date":1672434868,"answer_id":74965833,"question_id":74965020,"body_markdown":"I think you misunderstand the purpose of `getHead()` and `getTail()`.\r\n\r\nThose methods are not called per log entry - `getHead()` is called once before the `Handler` (`FileHandler`) logs the first entry and `getTail()` is called once before the `Handler` (`FileHandler`) closes the log stream.\r\n\r\nThis is used for example in the `XMLFormatter` to create a valid XML file (where there must be an XML start tag before the first log entry and an XML end tag after the last log entry to be valid XML).\r\n\r\nIf you look closely at the created log file this is exactly what happens: the log file creates a timestamp at the start and ends with a newline.\r\n\r\n---\r\nNote that adding time stamps to your log entries doesn&#39;t require writing a `CustomFormatter`. Properly configuring a [`SimpleFormatter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)) is enough for your purpose.","title":"Java: Logging: Custom Formatter","body":"<p>I think you misunderstand the purpose of <code>getHead()</code> and <code>getTail()</code>.</p>\n<p>Those methods are not called per log entry - <code>getHead()</code> is called once before the <code>Handler</code> (<code>FileHandler</code>) logs the first entry and <code>getTail()</code> is called once before the <code>Handler</code> (<code>FileHandler</code>) closes the log stream.</p>\n<p>This is used for example in the <code>XMLFormatter</code> to create a valid XML file (where there must be an XML start tag before the first log entry and an XML end tag after the last log entry to be valid XML).</p>\n<p>If you look closely at the created log file this is exactly what happens: the log file creates a timestamp at the start and ends with a newline.</p>\n<hr />\n<p>Note that adding time stamps to your log entries doesn't require writing a <code>CustomFormatter</code>. Properly configuring a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)\" rel=\"nofollow noreferrer\"><code>SimpleFormatter</code></a> is enough for your purpose.</p>\n"}],"owner":{"account_id":12866531,"reputation":561,"user_id":9306620,"display_name":"SoftwareDveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74965833,"answer_count":1,"score":0,"last_activity_date":1672434868,"creation_date":1672427422,"question_id":74965020,"body_markdown":"I wrote a simple Custom Formatter for my logging that prints a DateTime in the specified format. Everything works fine, but the datetime doesn&#39;t get printed in my log file. Below is my CustomFormatter.java:\r\n\r\nCustomFormatter.java:\r\n\r\n    public class CustomFormatter extends Formatter {\r\n    \r\n                    SimpleDateFormat sdf;\r\n    \r\n                    public CustomFormatter() {\r\n                            sdf = new SimpleDateFormat(&quot;MM-dd-yyyy HH:mm:ss&quot;);\r\n                    }\r\n    \r\n                    public String format(LogRecord rec) {\r\n                            StringBuffer buf = new StringBuffer(1000);\r\n                            buf.append(formatMessage(rec));\r\n                            return buf.toString();\r\n                    }\r\n    \r\n                    public String getHead(Handler h) {\r\n                            return (sdf.format(new java.util.Date()) + &quot;: \\t&quot;);\r\n                    }\r\n    \r\n                    public String getTail(Handler h) {\r\n                            return &quot;\\n&quot;;\r\n                    }\r\n            }\r\n\r\nIm my main class, I initialize my logger as:\r\n\r\nMain.java:\r\n\r\n    private static Logger logger = Logger.getLogger(&quot;org.somecompany.someproject&quot;);\r\n    \r\n    public static void main(String[] args){\r\n        try{\r\n            String _pattern = &quot;myLogger.log.%g&quot;;\r\n            int numLogFiles = 10;\r\n            int fileSize = 1000000;\r\n            boolean appendToFile = true;\r\n            FileHandler fh = new FileHandler(pattern, fileSize, numLogFiles, appendToFile);\r\n    \r\n            fh.setFormatter(new CustomFormatter());\r\n            logger.addHandler(fh);\r\n            logger.setLevel(Level.ALL);\r\n        } catch(IOException i) { System.out.println(&quot;Unable to init logger&quot;);}\r\n    \r\n        logger.info(&quot;Begin&quot;);\r\n    \r\n        logger.info(&quot;Line 1&quot;);\r\n    \r\n        logger.info(&quot;Line 2&quot;);\r\n    \r\n        logger.info(&quot;End&quot;);\r\n    \r\n        fh.close();\r\n        fh = null;\r\n    }\r\n\r\nThe log file should have a datetime printed at the beginning of each line and it isn&#39;t. Any help is appreciated.\r\n","title":"Java: Logging: Custom Formatter","body":"<p>I wrote a simple Custom Formatter for my logging that prints a DateTime in the specified format. Everything works fine, but the datetime doesn't get printed in my log file. Below is my CustomFormatter.java:</p>\n<p>CustomFormatter.java:</p>\n<pre><code>public class CustomFormatter extends Formatter {\n\n                SimpleDateFormat sdf;\n\n                public CustomFormatter() {\n                        sdf = new SimpleDateFormat(&quot;MM-dd-yyyy HH:mm:ss&quot;);\n                }\n\n                public String format(LogRecord rec) {\n                        StringBuffer buf = new StringBuffer(1000);\n                        buf.append(formatMessage(rec));\n                        return buf.toString();\n                }\n\n                public String getHead(Handler h) {\n                        return (sdf.format(new java.util.Date()) + &quot;: \\t&quot;);\n                }\n\n                public String getTail(Handler h) {\n                        return &quot;\\n&quot;;\n                }\n        }\n</code></pre>\n<p>Im my main class, I initialize my logger as:</p>\n<p>Main.java:</p>\n<pre><code>private static Logger logger = Logger.getLogger(&quot;org.somecompany.someproject&quot;);\n\npublic static void main(String[] args){\n    try{\n        String _pattern = &quot;myLogger.log.%g&quot;;\n        int numLogFiles = 10;\n        int fileSize = 1000000;\n        boolean appendToFile = true;\n        FileHandler fh = new FileHandler(pattern, fileSize, numLogFiles, appendToFile);\n\n        fh.setFormatter(new CustomFormatter());\n        logger.addHandler(fh);\n        logger.setLevel(Level.ALL);\n    } catch(IOException i) { System.out.println(&quot;Unable to init logger&quot;);}\n\n    logger.info(&quot;Begin&quot;);\n\n    logger.info(&quot;Line 1&quot;);\n\n    logger.info(&quot;Line 2&quot;);\n\n    logger.info(&quot;End&quot;);\n\n    fh.close();\n    fh = null;\n}\n</code></pre>\n<p>The log file should have a datetime printed at the beginning of each line and it isn't. Any help is appreciated.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672327878,"creation_date":1672327878,"answer_id":74953033,"question_id":74952926,"body_markdown":"It looks like there is no node for the UID or that node doesn&#39;t have a string property `userType`. \r\n\r\nYour code should probably handle the absence of the node for the user with:\r\n```\r\npublic void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n    if (!dataSnapshot.exists()) throw new IllegalStateException(&quot;User &quot;+uid+&quot; not found in database&quot;);\r\n    ...\r\n}\r\n```\r\n\r\nIt could also be that the UID node exists, but doesn&#39;t have a `userType`. I recommend actually validating that a user node always has a `userType` in [security rules to validate data](https://firebase.google.com/docs/database/security/rules-conditions#validaterules).","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference","body":"<p>It looks like there is no node for the UID or that node doesn't have a string property <code>userType</code>.</p>\n<p>Your code should probably handle the absence of the node for the user with:</p>\n<pre><code>public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n    if (!dataSnapshot.exists()) throw new IllegalStateException(&quot;User &quot;+uid+&quot; not found in database&quot;);\n    ...\n}\n</code></pre>\n<p>It could also be that the UID node exists, but doesn't have a <code>userType</code>. I recommend actually validating that a user node always has a <code>userType</code> in <a href=\"https://firebase.google.com/docs/database/security/rules-conditions#validaterules\" rel=\"nofollow noreferrer\">security rules to validate data</a>.</p>\n"}],"owner":{"account_id":27383852,"reputation":1,"user_id":20888057,"display_name":"SUSHI Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672669160,"answer_count":1,"score":-1,"last_activity_date":1672434785,"creation_date":1672327276,"question_id":74952926,"body_markdown":"```\r\nprivate void LoginUser(final String email,final String password) {\r\n    mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(task -&gt; {\r\n        if (task.isSuccessful()) {\r\n            String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n            DatabaseReference mRootRef = FirebaseDatabase.getInstance(&quot;https://fyp2-darren-default-rtdb.asia-southeast1.firebasedatabase.app&quot;).getReference();\r\n            mRootRef.child(&quot;Users&quot;).child(uid).child(&quot;User Information&quot;).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    if(dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;admin&quot;)) {\r\n                        Toast.makeText(LogInActivity.this, &quot;LogIn successful&quot;, Toast.LENGTH_LONG).show();\r\n                        Intent intent = new Intent(LogInActivity.this, AdminMainPageActivity.class);\r\n                        startActivity(new Intent(getApplicationContext(), AdminMainPageActivity.class));\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK |Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        startActivity(intent);\r\n\r\n                    } else if (dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;users&quot;)) {\r\n                        Toast.makeText(LogInActivity.this, &quot;LogIn successful&quot;, Toast.LENGTH_LONG).show();\r\n                        Intent intent = new Intent(LogInActivity.this, HomePage.class);\r\n                        startActivity(new Intent(getApplicationContext(), AdminMainPageActivity.class));\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK |Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        startActivity(intent);\r\n                        // startActivity(new Intent(getApplicationContext(), PatientMainPageActivity.class));\r\n                    }\r\n\r\n                }\r\n```\r\n\r\nLogInActivity$2.onDataChange(LogInActivity.java:86)\r\n\r\nA few days ago this login still worked, but recently I tried to login with a new account and this happened. ","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference","body":"<pre><code>private void LoginUser(final String email,final String password) {\n    mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(task -&gt; {\n        if (task.isSuccessful()) {\n            String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n            DatabaseReference mRootRef = FirebaseDatabase.getInstance(&quot;https://fyp2-darren-default-rtdb.asia-southeast1.firebasedatabase.app&quot;).getReference();\n            mRootRef.child(&quot;Users&quot;).child(uid).child(&quot;User Information&quot;).addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                    if(dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;admin&quot;)) {\n                        Toast.makeText(LogInActivity.this, &quot;LogIn successful&quot;, Toast.LENGTH_LONG).show();\n                        Intent intent = new Intent(LogInActivity.this, AdminMainPageActivity.class);\n                        startActivity(new Intent(getApplicationContext(), AdminMainPageActivity.class));\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK |Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                        startActivity(intent);\n\n                    } else if (dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;users&quot;)) {\n                        Toast.makeText(LogInActivity.this, &quot;LogIn successful&quot;, Toast.LENGTH_LONG).show();\n                        Intent intent = new Intent(LogInActivity.this, HomePage.class);\n                        startActivity(new Intent(getApplicationContext(), AdminMainPageActivity.class));\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK |Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                        startActivity(intent);\n                        // startActivity(new Intent(getApplicationContext(), PatientMainPageActivity.class));\n                    }\n\n                }\n</code></pre>\n<p>LogInActivity$2.onDataChange(LogInActivity.java:86)</p>\n<p>A few days ago this login still worked, but recently I tried to login with a new account and this happened.</p>\n"},{"tags":["java","maven","dependencies","properties-file"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1672435346,"post_id":74965824,"comment_id":132291082,"body_markdown":"Simple answer: No. You can only remove a dependency but not files which are within the dependency. I would argue that the dependency is the problem having property files in it... makes no sense.. and in particular if those are spring boot releated which looks a bit like that...","body":"Simple answer: No. You can only remove a dependency but not files which are within the dependency. I would argue that the dependency is the problem having property files in it... makes no sense.. and in particular if those are spring boot releated which looks a bit like that..."},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1672435444,"post_id":74965824,"comment_id":132291098,"body_markdown":"Please clarify the question! Maven dependencies and the application.properties file in the resources are two separate things.","body":"Please clarify the question! Maven dependencies and the application.properties file in the resources are two separate things."},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1672438592,"post_id":74965824,"comment_id":132291622,"body_markdown":"The application.properties are quarkus related. The problem is, i can remove that part but the dependency includes classes which access hibernate components, meaning they will still need some application.properties config for hibernate or otherwise it wont compile correctly so it can be included in another maven project. I am starting to regret using Java and Maven for this project at this point, lol.","body":"The application.properties are quarkus related. The problem is, i can remove that part but the dependency includes classes which access hibernate components, meaning they will still need some application.properties config for hibernate or otherwise it wont compile correctly so it can be included in another maven project. I am starting to regret using Java and Maven for this project at this point, lol."},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1672438766,"post_id":74965824,"comment_id":132291651,"body_markdown":"@Csisanyi One maven dependency has an application.properties file, and it ends up in the main projects uber-jar, overwriting the main application.properties fiel for some reason. I don&#39;t understand why a dependency&#39;s properties file would have higher priority than the main project ones. The main project ones will contain the configs necessary, but i cant compile the dependency without an application.properties due to it containing hibernate interfacing classes and it wont compile hibernate stuff if it is not configured (it warns that hibernate is ignored during compile).","body":"@Csisanyi One maven dependency has an application.properties file, and it ends up in the main projects uber-jar, overwriting the main application.properties fiel for some reason. I don&#39;t understand why a dependency&#39;s properties file would have higher priority than the main project ones. The main project ones will contain the configs necessary, but i cant compile the dependency without an application.properties due to it containing hibernate interfacing classes and it wont compile hibernate stuff if it is not configured (it warns that hibernate is ignored during compile)."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1672493939,"post_id":74965824,"comment_id":132298370,"body_markdown":"Depends on how you create the uber jar. Maven Assembly Plugin may cause such issues.","body":"Depends on how you create the uber jar. Maven Assembly Plugin may cause such issues."}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672434743,"creation_date":1672434743,"question_id":74965824,"body_markdown":"I have a maven project that includes a dependency of a local custom maven repository. However, there are files in it i do not want in my main project because they seem to override configs in the main project for some odd reason (application.properties). How can i exclude files (specifically application.properties) from a maven dependency?","title":"How can i exclude certain files from a maven dependency?","body":"<p>I have a maven project that includes a dependency of a local custom maven repository. However, there are files in it i do not want in my main project because they seem to override configs in the main project for some odd reason (application.properties). How can i exclude files (specifically application.properties) from a maven dependency?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":20513250,"reputation":11,"user_id":20846747,"display_name":"Randall Stephens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672434185,"creation_date":1672415325,"answer_id":74963376,"question_id":74899268,"body_markdown":"I found the solution by myself\r\n\r\nMy mistake was to use the method name **securityFilterChain** twice.\r\n\r\nChanging the method names from **securityFilterChain** to **admin** and **allOther** did the trick\r\n\r\n**MY SOLUTION**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class MySecurityConfig {\r\n\r\n      final AdminEnvironmentProperties adminEnvironmentProperties;\r\n\r\n      public AppConfiguration(AdminEnvironmentProperties adminEnvironmentProperties) {\r\n        this.adminEnvironmentProperties = adminEnvironmentProperties;\r\n      }\r\n\r\n      @Bean\r\n      public LogoutSuccessHandler logoutSuccessHandler() {\r\n        return new AdminLogoutSuccessHandler();\r\n      }\r\n\r\n      @Bean\r\n      public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\r\n        authenticationManagerBuilder.inMemoryAuthentication().withUser(&quot;Admin&quot;).password(&quot;changeme&quot;).authorities(this.adminEnvironmentProperties.getAllowGroup());\r\n\r\n        return authenticationManagerBuilder.build();\r\n      }\r\n\r\n      @Bean\r\n      @Order(1)\r\n      public SecurityFilterChain admin(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf().disable()\r\n            .antMatcher(&quot;/admin/**&quot;)\r\n            .authorizeRequests()\r\n              .antMatchers(&quot;/admin/**&quot;).hasAuthority(this.adminEnvironmentProperties.getAllowGroup())\r\n              .and()\r\n            .formLogin()\r\n              .loginPage(&quot;/admin/login&quot;).permitAll()\r\n              .and()\r\n            .logout().permitAll()\r\n              .logoutSuccessHandler(this.logoutSuccessHandler());\r\n\r\n        return http.build();\r\n      }\r\n\r\n      @Bean\r\n      @Order(2)\r\n      public SecurityFilterChain allOther(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf().disable()\r\n            .antMatcher(&quot;/**&quot;)\r\n              .authorizeRequests()\r\n              .antMatchers(&quot;/actuator&quot;).authenticated()\r\n            .and().httpBasic();\r\n\r\n        return http.build();\r\n      }\r\n    }","title":"SpringBoot: Two Login Pages with Spring Security","body":"<p>I found the solution by myself</p>\n<p>My mistake was to use the method name <strong>securityFilterChain</strong> twice.</p>\n<p>Changing the method names from <strong>securityFilterChain</strong> to <strong>admin</strong> and <strong>allOther</strong> did the trick</p>\n<p><strong>MY SOLUTION</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MySecurityConfig {\n\n  final AdminEnvironmentProperties adminEnvironmentProperties;\n\n  public AppConfiguration(AdminEnvironmentProperties adminEnvironmentProperties) {\n    this.adminEnvironmentProperties = adminEnvironmentProperties;\n  }\n\n  @Bean\n  public LogoutSuccessHandler logoutSuccessHandler() {\n    return new AdminLogoutSuccessHandler();\n  }\n\n  @Bean\n  public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n    AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n\n    authenticationManagerBuilder.inMemoryAuthentication().withUser(&quot;Admin&quot;).password(&quot;changeme&quot;).authorities(this.adminEnvironmentProperties.getAllowGroup());\n\n    return authenticationManagerBuilder.build();\n  }\n\n  @Bean\n  @Order(1)\n  public SecurityFilterChain admin(HttpSecurity http) throws Exception {\n\n    http.csrf().disable()\n        .antMatcher(&quot;/admin/**&quot;)\n        .authorizeRequests()\n          .antMatchers(&quot;/admin/**&quot;).hasAuthority(this.adminEnvironmentProperties.getAllowGroup())\n          .and()\n        .formLogin()\n          .loginPage(&quot;/admin/login&quot;).permitAll()\n          .and()\n        .logout().permitAll()\n          .logoutSuccessHandler(this.logoutSuccessHandler());\n\n    return http.build();\n  }\n\n  @Bean\n  @Order(2)\n  public SecurityFilterChain allOther(HttpSecurity http) throws Exception {\n\n    http.csrf().disable()\n        .antMatcher(&quot;/**&quot;)\n          .authorizeRequests()\n          .antMatchers(&quot;/actuator&quot;).authenticated()\n        .and().httpBasic();\n\n    return http.build();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":20513250,"reputation":11,"user_id":20846747,"display_name":"Randall Stephens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74963376,"answer_count":1,"score":1,"last_activity_date":1672434185,"creation_date":1671795911,"question_id":74899268,"body_markdown":"I want configure Spring Security to work with two different login pages for some pages\r\n\r\n**The goal is:**\r\n\r\n* /admin should use a **custom** login page\r\n* /actuator should use the **standard** spring login page\r\n* all other (like /api or so) are permitted **without** login\r\n\r\n**My problem is:**\r\n\r\nMy solution does not work.\r\n\r\nAll /admin pages and the /actuator page are accessable without login\r\n\r\nHere is my SecurityConfig\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MySecurityConfig {\r\n\r\n  @Configuration\r\n  @Order(1)\r\n  public static class AdminAppConfiguration {\r\n\r\n    final AdminEnvironmentProperties adminEnvironmentProperties;\r\n\r\n    public AppConfiguration(AdminEnvironmentProperties adminEnvironmentProperties) {\r\n      this.adminEnvironmentProperties = adminEnvironmentProperties;\r\n    }\r\n\r\n    @Bean\r\n    public LogoutSuccessHandler logoutSuccessHandler() {\r\n      return new AdminLogoutSuccessHandler();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n      AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\r\n      authenticationManagerBuilder.inMemoryAuthentication().withUser(&quot;Admin&quot;).password(&quot;changeme&quot;).authorities(this.adminEnvironmentProperties.getAllowGroup());\r\n\r\n      return authenticationManagerBuilder.build();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n      http.antMatcher(&quot;/admin*&quot;)\r\n          .authorizeRequests()\r\n          .anyRequest()\r\n          .hasAuthority(this.adminEnvironmentProperties.getAllowGroup())\r\n          .and()\r\n            .formLogin()\r\n            .loginPage(&quot;/admin/login&quot;)\r\n            .permitAll()\r\n          .and()\r\n            .logout()\r\n            .permitAll()\r\n            .logoutSuccessHandler(this.logoutSuccessHandler())\r\n          .and()\r\n            .csrf().disable();\r\n\r\n      return http.build();\r\n    }\r\n  }\r\n\r\n  @Configuration\r\n  @Order(2)\r\n  public static class OtherAppConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n      http.csrf().disable()\r\n          .authorizeRequests()\r\n          .antMatchers(&quot;/actuator&quot;).authenticated()\r\n          .anyRequest().permitAll()\r\n          .and().httpBasic();\r\n\r\n      return http.build();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHow can i fix that, so that all pages behind /admin get the custom login page, /actuator gets the standard login page and all others (like /api/\\*\\* or so) are permitted without login page","title":"SpringBoot: Two Login Pages with Spring Security","body":"<p>I want configure Spring Security to work with two different login pages for some pages</p>\n<p><strong>The goal is:</strong></p>\n<ul>\n<li>/admin should use a <strong>custom</strong> login page</li>\n<li>/actuator should use the <strong>standard</strong> spring login page</li>\n<li>all other (like /api or so) are permitted <strong>without</strong> login</li>\n</ul>\n<p><strong>My problem is:</strong></p>\n<p>My solution does not work.</p>\n<p>All /admin pages and the /actuator page are accessable without login</p>\n<p>Here is my SecurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MySecurityConfig {\n\n  @Configuration\n  @Order(1)\n  public static class AdminAppConfiguration {\n\n    final AdminEnvironmentProperties adminEnvironmentProperties;\n\n    public AppConfiguration(AdminEnvironmentProperties adminEnvironmentProperties) {\n      this.adminEnvironmentProperties = adminEnvironmentProperties;\n    }\n\n    @Bean\n    public LogoutSuccessHandler logoutSuccessHandler() {\n      return new AdminLogoutSuccessHandler();\n    }\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n      AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n\n      authenticationManagerBuilder.inMemoryAuthentication().withUser(&quot;Admin&quot;).password(&quot;changeme&quot;).authorities(this.adminEnvironmentProperties.getAllowGroup());\n\n      return authenticationManagerBuilder.build();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n      http.antMatcher(&quot;/admin*&quot;)\n          .authorizeRequests()\n          .anyRequest()\n          .hasAuthority(this.adminEnvironmentProperties.getAllowGroup())\n          .and()\n            .formLogin()\n            .loginPage(&quot;/admin/login&quot;)\n            .permitAll()\n          .and()\n            .logout()\n            .permitAll()\n            .logoutSuccessHandler(this.logoutSuccessHandler())\n          .and()\n            .csrf().disable();\n\n      return http.build();\n    }\n  }\n\n  @Configuration\n  @Order(2)\n  public static class OtherAppConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n      http.csrf().disable()\n          .authorizeRequests()\n          .antMatchers(&quot;/actuator&quot;).authenticated()\n          .anyRequest().permitAll()\n          .and().httpBasic();\n\n      return http.build();\n    }\n  }\n}\n</code></pre>\n<p>How can i fix that, so that all pages behind /admin get the custom login page, /actuator gets the standard login page and all others (like /api/** or so) are permitted without login page</p>\n"},{"tags":["java","intellij-idea","aspectj"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1672380105,"post_id":74957287,"comment_id":132278629,"body_markdown":"Try to delete the `disabled_plugins.txt` file from the configuration directory: https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory while the IDE is closed. If the problem remains contact JetBrains support at https://intellij-support.jetbrains.com/hc/en-us/requests/new for future assistance.","body":"Try to delete the <code>disabled_plugins.txt</code> file from the configuration directory: <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> while the IDE is closed. If the problem remains contact JetBrains support at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> for future assistance."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672384613,"post_id":74957287,"comment_id":132279273,"body_markdown":"What exactly tells you that AspectJ is not supported or popular anymore? The latest AspectJ version 1.9.19 supports Java 19 preview features, and AspectJ is used stand-alone as well as within the Spring framework for both basic Spring AOP pointcut parsing/matching and advanced use cases with native AspectJ (e.g. call or control flow matching, intercepting non-Spring code, intercepting private methods or field read/write access).","body":"What exactly tells you that AspectJ is not supported or popular anymore? The latest AspectJ version 1.9.19 supports Java 19 preview features, and AspectJ is used stand-alone as well as within the Spring framework for both basic Spring AOP pointcut parsing/matching and advanced use cases with native AspectJ (e.g. call or control flow matching, intercepting non-Spring code, intercepting private methods or field read/write access)."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672384616,"post_id":74957287,"comment_id":132279274,"body_markdown":"That you have problems getting it to work in IntelliJ IDEA, does not mean it is unsupported. I use it in IDEA 2022.3.1 every day. Your opinionated entry statement does not make you a lot of friends here.","body":"That you have problems getting it to work in IntelliJ IDEA, does not mean it is unsupported. I use it in IDEA 2022.3.1 every day. Your opinionated entry statement does not make you a lot of friends here."},{"owner":{"account_id":12108874,"reputation":173,"user_id":10799096,"display_name":"ioi-xd"},"score":0,"creation_date":1672434102,"post_id":74957287,"comment_id":132290870,"body_markdown":"I have removed the entry statement.","body":"I have removed the entry statement."}],"owner":{"account_id":12108874,"reputation":173,"user_id":10799096,"display_name":"ioi-xd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672434091,"creation_date":1672361675,"question_id":74957287,"body_markdown":"I&#39;m building a Minecraft plugin that passes the functions to a Lua interpreter, and after exploring all other options for doing hooks without manually writing everything (i.e. using a built in function from Spigot that lets me easily intercept every event handler; I am not able to use arguments with this, making it worthless for my case) I&#39;ve discovered my best option is AspectJ.\r\n\r\nI installed the latest version of IntelliJ, then installed the [relevant plugin](https://plugins.jetbrains.com/plugin/4679-aspectj) and followed the instruction to &quot;add a library containing aspectjrt.jar to my project&quot; (I added org.aspectj:aspectjrt:1.9.19 through build.gradle, and added &#39;include &#39;aspectjrt:1.9.19&#39;&#39; to my settings.gradle). It also says to add a facet, but I can&#39;t do that due to the error &quot;Requires plugin &#39;com.intellij.aop&#39; to be installed.&quot; I can&#39;t find any reference to a dedicated AOP plugin for IntelliJ, in fact I&#39;m told the AspectJ plugin is supposed to add support for it. There seems to be no other reference to this error online.\r\n\r\nWhat am I doing wrong?","title":"Intellij 2022.3.1 won&#39;t load the AspectJ plugin","body":"<p>I'm building a Minecraft plugin that passes the functions to a Lua interpreter, and after exploring all other options for doing hooks without manually writing everything (i.e. using a built in function from Spigot that lets me easily intercept every event handler; I am not able to use arguments with this, making it worthless for my case) I've discovered my best option is AspectJ.</p>\n<p>I installed the latest version of IntelliJ, then installed the <a href=\"https://plugins.jetbrains.com/plugin/4679-aspectj\" rel=\"nofollow noreferrer\">relevant plugin</a> and followed the instruction to &quot;add a library containing aspectjrt.jar to my project&quot; (I added org.aspectj:aspectjrt:1.9.19 through build.gradle, and added 'include 'aspectjrt:1.9.19'' to my settings.gradle). It also says to add a facet, but I can't do that due to the error &quot;Requires plugin 'com.intellij.aop' to be installed.&quot; I can't find any reference to a dedicated AOP plugin for IntelliJ, in fact I'm told the AspectJ plugin is supposed to add support for it. There seems to be no other reference to this error online.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":0,"creation_date":1453286322,"post_id":34897670,"comment_id":57531802,"body_markdown":"Which  Symbol  Cannot Resolve ?","body":"Which  Symbol  Cannot Resolve ?"},{"owner":{"account_id":7657514,"reputation":199,"user_id":5803815,"display_name":"Kunal Parte"},"score":0,"creation_date":1453286880,"post_id":34897670,"comment_id":57532217,"body_markdown":"Response response - cannot be resolved","body":"Response response - cannot be resolved"}],"answers":[{"tags":[],"owner":{"account_id":7657514,"reputation":199,"user_id":5803815,"display_name":"Kunal Parte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453297892,"creation_date":1453296509,"answer_id":34901384,"question_id":34897670,"body_markdown":"I have solved my error. The problem was I am importing wrong response.\r\n","title":"Cannot Resolve Symbol &quot;response&quot; error in android","body":"<p>I have solved my error. The problem was I am importing wrong response.</p>\n"}],"owner":{"account_id":7657514,"reputation":199,"user_id":5803815,"display_name":"Kunal Parte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672432796,"creation_date":1453286247,"question_id":34897670,"body_markdown":"i have included the retrofit dependency in my project but still i m getting error on response object.\r\nhere is my code:\r\n\r\n    public void jsontesting() {\r\n\r\n    RestAdapter restAdapter = (RestAdapter) new RestAdapter.Builder().setEndpoint(&quot;http://app-development.in/doctor_app_cms/doctor_rest/v1/doctors_listing?id=10&quot;).build();\r\n        final LatlngAPI get = restAdapter.create(LatlngAPI.class);\r\n        get.get_doctor(new retrofit.Callback&lt;CustomeAdapter&gt;()) {\r\n    \r\n          @Override\r\n          public void success(CustomeAdapter res, Response response) {\r\n            if (!res.getError()) {\r\n    //                    dismiss_dialog();\r\n    \r\n            } else {\r\n                        /*Toast.makeText(LoginActivity.this, R.string.retrofit_error,\r\n                                Toast.LENGTH_SHORT).show();*/\r\n            }\r\n          }\r\n    \r\n          @Override\r\n          public void failure(RetrofitError error) {\r\n    //                dismiss_dialog();\r\n            Log.d(&quot;Error&quot;, error.toString());\r\n                    /*Toast.makeText(LoginActivity.this, R.string.retrofit_error,\r\n                            Toast.LENGTH_SHORT).show();*/\r\n          }\r\n        });\r\n      }","title":"Cannot Resolve Symbol &quot;response&quot; error in android","body":"<p>i have included the retrofit dependency in my project but still i m getting error on response object.\nhere is my code:</p>\n\n<pre><code>public void jsontesting() {\n\nRestAdapter restAdapter = (RestAdapter) new RestAdapter.Builder().setEndpoint(\"http://app-development.in/doctor_app_cms/doctor_rest/v1/doctors_listing?id=10\").build();\n    final LatlngAPI get = restAdapter.create(LatlngAPI.class);\n    get.get_doctor(new retrofit.Callback&lt;CustomeAdapter&gt;()) {\n\n      @Override\n      public void success(CustomeAdapter res, Response response) {\n        if (!res.getError()) {\n//                    dismiss_dialog();\n\n        } else {\n                    /*Toast.makeText(LoginActivity.this, R.string.retrofit_error,\n                            Toast.LENGTH_SHORT).show();*/\n        }\n      }\n\n      @Override\n      public void failure(RetrofitError error) {\n//                dismiss_dialog();\n        Log.d(\"Error\", error.toString());\n                /*Toast.makeText(LoginActivity.this, R.string.retrofit_error,\n                        Toast.LENGTH_SHORT).show();*/\n      }\n    });\n  }\n</code></pre>\n"},{"tags":["java","sockets","udp","qudpsocket"],"owner":{"account_id":23208577,"reputation":1,"user_id":17302417,"display_name":"abdessalam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672432771,"creation_date":1672432771,"question_id":74965635,"body_markdown":"I work on a project to make a chat app using udp (datagramsockets) in java.\r\nthe idea is multiple clients can communicate with each other with intermediate a server, server here get message from client1 and send to the destination, and this destination can answer to client1.\r\nso each client can write messages and recieve messages without having none block.\r\nTHREAD SEND:\r\n\r\n```\r\npackage org.example.Client;\r\n\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetAddress;\r\nimport java.net.SocketException;\r\nimport java.util.Scanner;\r\n\r\npublic class Send extends Thread{\r\n    DatagramSocket datagramSocket;\r\n    Scanner clavier = new Scanner(System.in);\r\n    Client client;\r\n    String operation;\r\n    public Send(DatagramSocket socket, Client client,String operation){\r\n        this.datagramSocket = socket;\r\n        this.client = client;\r\n        this.operation = operation;\r\n    }\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Send ... &quot;);\r\n        String msg=null;\r\n        byte[] tampon;\r\n\r\n            System.out.println(&quot;DESTINATAIRE : &quot;);\r\n            String destinataire = clavier.nextLine();\r\n            do {\r\n                tampon = new byte[1024];\r\n                msg = clavier.nextLine();\r\n                try {\r\n                    tampon =(operation+&quot;|&quot;+destinataire+&quot;|&quot;+client.username+&quot;|&quot;+msg).getBytes();\r\n                    DatagramPacket packet = new DatagramPacket(tampon,tampon.length, InetAddress.getByName(&quot;localhost&quot;),1234);\r\n                    datagramSocket.send(packet);\r\n                    System.out.println(&quot;SEND ....&quot;);\r\n                    //datagramSocket.close();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }while(msg!=null);\r\n    }\r\n}\r\n\r\n```\r\nThread recieve:\r\n\r\n```\r\npackage org.example.Client;\r\n\r\nimport java.io.IOException;\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\n\r\npublic class Recieve extends Thread{\r\n    DatagramSocket datagramSocket;\r\n\r\n    public Recieve(DatagramSocket socket){\r\n        this.datagramSocket=socket;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Recieve ...,&quot;);\r\n        while (true){\r\n            byte[] tampon = new byte[1024];\r\n            DatagramPacket packet = new DatagramPacket(tampon,tampon.length);\r\n            try {\r\n                datagramSocket.receive(packet);\r\n                System.out.println(&quot;RECIEVE .....&quot;);\r\n                System.out.println(&quot;REcieve || &quot;+packet.getPort()+ &quot; || &quot;+new String(packet.getData()));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nClient:\r\n\r\n```\r\npackage org.example.Client;\r\n\r\nimport org.example.ConnexionDb.ConnexionDb;\r\nimport org.example.GUI.ConnexionForm;\r\n\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetAddress;\r\nimport java.net.SocketException;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\n    String username;\r\n    public DatagramSocket datagramSocket;\r\n\r\n    public Client(String username){\r\n        this.username = username;\r\n        try {\r\n            datagramSocket = new DatagramSocket();\r\n        } catch (SocketException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        Scanner clavier = new Scanner(System.in);\r\n        //new ConnexionForm();\r\n        System.out.println(&quot;Connexion Nouveau Utilisateur: &quot;);\r\n\r\n        //Connection &#224; la base de donn&#233;es:\r\n        ConnexionDb connexionDb = new ConnexionDb();\r\n        boolean isConnected = false;\r\n        while (!isConnected){\r\n            System.out.println(&quot;Username: &quot;);\r\n            String username = clavier.nextLine();\r\n            System.out.println(&quot;Password: &quot;);\r\n            String password = clavier.nextLine();\r\n            if(connexionDb.connexionUtilisateur(username,password)==1){\r\n                System.out.println(&quot;Connexion avec succ&#233;&quot;);\r\n                Client client = new Client(username);\r\n                DatagramSocket socket = new DatagramSocket();\r\n                byte[] tampon = (&quot;1|&quot;+client.username).getBytes();\r\n                DatagramPacket packet = new DatagramPacket(tampon,tampon.length, InetAddress.getByName(&quot;localhost&quot;),1234);\r\n                socket.send(packet);\r\n                socket.close();\r\n                System.out.println(&quot;1- Envoyer un message\\n&quot; +\r\n                        &quot;2- Les utilisateurs connect&#233;s&quot;);\r\n\r\n                String choix = clavier.nextLine();\r\n                isConnected = true;\r\n                switch (choix){\r\n                    case &quot;1&quot;:\r\n                        //Client client = new Client(username);\r\n                        //DatagramSocket socket = new DatagramSocket();\r\n                        Send send = new Send(client.datagramSocket, client,&quot;2&quot;);\r\n                        send.start();\r\n                        Recieve recieve = new Recieve(client.datagramSocket);\r\n                        recieve.start();\r\n                        break;\r\n                    case &quot;2&quot;:\r\n                        break;\r\n\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(&quot;V&#233;rifier vos informations et r&#233;assayer.&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nServer:\r\n\r\n```\r\npackage org.example.Serveur;\r\n\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetAddress;\r\nimport java.net.SocketException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Serveur extends Thread{\r\n    DatagramSocket datagramSocketClient;\r\n    DatagramSocket datagramSocketServer;\r\n    int port;\r\n    byte[] tampon;\r\n    ArrayList&lt;ConnectedUsers&gt; connectedUsers = new ArrayList&lt;&gt;();\r\n\r\n    public Serveur(int port){\r\n        this.port = port;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Serveur ... &quot;);\r\n        while(true){\r\n            try {\r\n                datagramSocketServer = new DatagramSocket(port);\r\n                tampon = new byte[1024];\r\n                DatagramPacket packet = new DatagramPacket(tampon, tampon.length);\r\n                datagramSocketServer.receive(packet);\r\n                System.out.println(&quot;Message recu : &quot; + packet.getPort() + &quot; || &quot; + new String(packet.getData()));\r\n                datagramSocketServer.close();\r\n                String[] recieved = (new String(packet.getData(),0,tampon.length).trim()).split(&quot;[|]&quot;);\r\n                System.out.println(&quot;apres close: &quot; + packet.getPort());\r\n                datagramSocketClient = new DatagramSocket();\r\n                InetAddress inetAddress = InetAddress.getByName(&quot;localhost&quot;);\r\n                switch (recieved[0]){\r\n                    case &quot;1&quot;:\r\n                        connectedUsers.add(new ConnectedUsers(recieved[1],packet.getPort(),packet.getAddress()));\r\n                        System.out.println(&quot;New USER CONNECTED &quot;+recieved[1]);\r\n                        break;\r\n                    case &quot;2&quot;:\r\n                        System.out.println(&quot;FROM--&gt;&quot;+recieved[2]+&quot; To--&gt;&quot;+recieved[1]+&quot; ::: &quot;+recieved[3]);\r\n                        int port = 0;\r\n                        InetAddress inetAddress1 = null;\r\n                        for(int i=0; i&lt;connectedUsers.size();i++){\r\n                            if(connectedUsers.get(i).username.equals(recieved[1])){\r\n                                port = connectedUsers.get(i).port;\r\n                                inetAddress1 = connectedUsers.get(i).inetAddress;\r\n                            }\r\n                        }\r\n                        tampon = (recieved[2]+&quot; :::: &quot;+recieved[3]).getBytes();\r\n                        DatagramPacket packet1 = new DatagramPacket(tampon,tampon.length,inetAddress1,port);\r\n                        datagramSocketClient.send(packet1);\r\n                        System.out.println(&quot;Envoy&#233; au destinataire::: &quot;);\r\n                        break;\r\n                }\r\n                //DatagramPacket packet1 = new DatagramPacket(tampon, tampon.length,inetAddress,destPort);\r\n                datagramSocketClient.close();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Serveur serveur = new Serveur(1234);\r\n        serveur.start();\r\n    }\r\n\r\n    public class ConnectedUsers{\r\n        int port;\r\n        InetAddress inetAddress;\r\n        String username;\r\n\r\n        public ConnectedUsers(String username, int port, InetAddress inetAddress){\r\n            this.port = port;\r\n            this.username = username;\r\n            this.inetAddress = inetAddress;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nServer works good.\r\nThe problem is on client: when I run Client, I authenticate client\r\nthe problem is here \r\nrecieve don&#39;t let send to finish.\r\nI want to have possibility to send message and recieve without block between those two threads.\r\n```\r\nThread send = new Send(client.datagramSocket, client,&quot;2&quot;);\r\nsend.start();\r\nThread recieve = new Recieve(client.datagramSocket);\r\nrecieve.start();\r\n```\r\n","title":"chat app based on UDP in java: Problem on Thread Send and Recieve. when I start application thread recieve don&#39;t let thread send to finish","body":"<p>I work on a project to make a chat app using udp (datagramsockets) in java.\nthe idea is multiple clients can communicate with each other with intermediate a server, server here get message from client1 and send to the destination, and this destination can answer to client1.\nso each client can write messages and recieve messages without having none block.\nTHREAD SEND:</p>\n<pre><code>package org.example.Client;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.SocketException;\nimport java.util.Scanner;\n\npublic class Send extends Thread{\n    DatagramSocket datagramSocket;\n    Scanner clavier = new Scanner(System.in);\n    Client client;\n    String operation;\n    public Send(DatagramSocket socket, Client client,String operation){\n        this.datagramSocket = socket;\n        this.client = client;\n        this.operation = operation;\n    }\n    @Override\n    public void run() {\n        System.out.println(&quot;Send ... &quot;);\n        String msg=null;\n        byte[] tampon;\n\n            System.out.println(&quot;DESTINATAIRE : &quot;);\n            String destinataire = clavier.nextLine();\n            do {\n                tampon = new byte[1024];\n                msg = clavier.nextLine();\n                try {\n                    tampon =(operation+&quot;|&quot;+destinataire+&quot;|&quot;+client.username+&quot;|&quot;+msg).getBytes();\n                    DatagramPacket packet = new DatagramPacket(tampon,tampon.length, InetAddress.getByName(&quot;localhost&quot;),1234);\n                    datagramSocket.send(packet);\n                    System.out.println(&quot;SEND ....&quot;);\n                    //datagramSocket.close();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }while(msg!=null);\n    }\n}\n\n</code></pre>\n<p>Thread recieve:</p>\n<pre><code>package org.example.Client;\n\nimport java.io.IOException;\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\n\npublic class Recieve extends Thread{\n    DatagramSocket datagramSocket;\n\n    public Recieve(DatagramSocket socket){\n        this.datagramSocket=socket;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Recieve ...,&quot;);\n        while (true){\n            byte[] tampon = new byte[1024];\n            DatagramPacket packet = new DatagramPacket(tampon,tampon.length);\n            try {\n                datagramSocket.receive(packet);\n                System.out.println(&quot;RECIEVE .....&quot;);\n                System.out.println(&quot;REcieve || &quot;+packet.getPort()+ &quot; || &quot;+new String(packet.getData()));\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Client:</p>\n<pre><code>package org.example.Client;\n\nimport org.example.ConnexionDb.ConnexionDb;\nimport org.example.GUI.ConnexionForm;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.SocketException;\nimport java.util.Scanner;\n\npublic class Client {\n    String username;\n    public DatagramSocket datagramSocket;\n\n    public Client(String username){\n        this.username = username;\n        try {\n            datagramSocket = new DatagramSocket();\n        } catch (SocketException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n\n    public static void main(String[] args) throws Exception{\n        Scanner clavier = new Scanner(System.in);\n        //new ConnexionForm();\n        System.out.println(&quot;Connexion Nouveau Utilisateur: &quot;);\n\n        //Connection à la base de données:\n        ConnexionDb connexionDb = new ConnexionDb();\n        boolean isConnected = false;\n        while (!isConnected){\n            System.out.println(&quot;Username: &quot;);\n            String username = clavier.nextLine();\n            System.out.println(&quot;Password: &quot;);\n            String password = clavier.nextLine();\n            if(connexionDb.connexionUtilisateur(username,password)==1){\n                System.out.println(&quot;Connexion avec succé&quot;);\n                Client client = new Client(username);\n                DatagramSocket socket = new DatagramSocket();\n                byte[] tampon = (&quot;1|&quot;+client.username).getBytes();\n                DatagramPacket packet = new DatagramPacket(tampon,tampon.length, InetAddress.getByName(&quot;localhost&quot;),1234);\n                socket.send(packet);\n                socket.close();\n                System.out.println(&quot;1- Envoyer un message\\n&quot; +\n                        &quot;2- Les utilisateurs connectés&quot;);\n\n                String choix = clavier.nextLine();\n                isConnected = true;\n                switch (choix){\n                    case &quot;1&quot;:\n                        //Client client = new Client(username);\n                        //DatagramSocket socket = new DatagramSocket();\n                        Send send = new Send(client.datagramSocket, client,&quot;2&quot;);\n                        send.start();\n                        Recieve recieve = new Recieve(client.datagramSocket);\n                        recieve.start();\n                        break;\n                    case &quot;2&quot;:\n                        break;\n\n                }\n            }\n            else {\n                System.out.println(&quot;Vérifier vos informations et réassayer.&quot;);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Server:</p>\n<pre><code>package org.example.Serveur;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.SocketException;\nimport java.util.ArrayList;\n\npublic class Serveur extends Thread{\n    DatagramSocket datagramSocketClient;\n    DatagramSocket datagramSocketServer;\n    int port;\n    byte[] tampon;\n    ArrayList&lt;ConnectedUsers&gt; connectedUsers = new ArrayList&lt;&gt;();\n\n    public Serveur(int port){\n        this.port = port;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Serveur ... &quot;);\n        while(true){\n            try {\n                datagramSocketServer = new DatagramSocket(port);\n                tampon = new byte[1024];\n                DatagramPacket packet = new DatagramPacket(tampon, tampon.length);\n                datagramSocketServer.receive(packet);\n                System.out.println(&quot;Message recu : &quot; + packet.getPort() + &quot; || &quot; + new String(packet.getData()));\n                datagramSocketServer.close();\n                String[] recieved = (new String(packet.getData(),0,tampon.length).trim()).split(&quot;[|]&quot;);\n                System.out.println(&quot;apres close: &quot; + packet.getPort());\n                datagramSocketClient = new DatagramSocket();\n                InetAddress inetAddress = InetAddress.getByName(&quot;localhost&quot;);\n                switch (recieved[0]){\n                    case &quot;1&quot;:\n                        connectedUsers.add(new ConnectedUsers(recieved[1],packet.getPort(),packet.getAddress()));\n                        System.out.println(&quot;New USER CONNECTED &quot;+recieved[1]);\n                        break;\n                    case &quot;2&quot;:\n                        System.out.println(&quot;FROM--&gt;&quot;+recieved[2]+&quot; To--&gt;&quot;+recieved[1]+&quot; ::: &quot;+recieved[3]);\n                        int port = 0;\n                        InetAddress inetAddress1 = null;\n                        for(int i=0; i&lt;connectedUsers.size();i++){\n                            if(connectedUsers.get(i).username.equals(recieved[1])){\n                                port = connectedUsers.get(i).port;\n                                inetAddress1 = connectedUsers.get(i).inetAddress;\n                            }\n                        }\n                        tampon = (recieved[2]+&quot; :::: &quot;+recieved[3]).getBytes();\n                        DatagramPacket packet1 = new DatagramPacket(tampon,tampon.length,inetAddress1,port);\n                        datagramSocketClient.send(packet1);\n                        System.out.println(&quot;Envoyé au destinataire::: &quot;);\n                        break;\n                }\n                //DatagramPacket packet1 = new DatagramPacket(tampon, tampon.length,inetAddress,destPort);\n                datagramSocketClient.close();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        Serveur serveur = new Serveur(1234);\n        serveur.start();\n    }\n\n    public class ConnectedUsers{\n        int port;\n        InetAddress inetAddress;\n        String username;\n\n        public ConnectedUsers(String username, int port, InetAddress inetAddress){\n            this.port = port;\n            this.username = username;\n            this.inetAddress = inetAddress;\n        }\n    }\n}\n\n</code></pre>\n<p>Server works good.\nThe problem is on client: when I run Client, I authenticate client\nthe problem is here\nrecieve don't let send to finish.\nI want to have possibility to send message and recieve without block between those two threads.</p>\n<pre><code>Thread send = new Send(client.datagramSocket, client,&quot;2&quot;);\nsend.start();\nThread recieve = new Recieve(client.datagramSocket);\nrecieve.start();\n</code></pre>\n"},{"tags":["java","kotlin","dictionary","lambda","foreach"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1672431153,"post_id":74964588,"comment_id":132290270,"body_markdown":"When I try this, both of those ways end up using the kotlin extension. To get it to use the java `.forEach` I had to write it this way `map.forEach({k, v -&gt; if(k==&quot;one&quot;) println(v)})` (The difference being that the whole lambda is inside the parens, while kotlin wants the lambda immediately preceeding the function name.)","body":"When I try this, both of those ways end up using the kotlin extension. To get it to use the java <code>.forEach</code> I had to write it this way <code>map.forEach({k, v -&gt; if(k==&quot;one&quot;) println(v)})</code> (The difference being that the whole lambda is inside the parens, while kotlin wants the lambda immediately preceeding the function name.)"},{"owner":{"account_id":14911678,"reputation":87,"user_id":10766974,"display_name":"Fizz Areh"},"score":0,"creation_date":1672436667,"post_id":74964588,"comment_id":132291277,"body_markdown":"@EricGeorge Hm, what version of kotlin did you use? Mine is 1.6.10","body":"@EricGeorge Hm, what version of kotlin did you use? Mine is 1.6.10"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672424319,"creation_date":1672424319,"answer_id":74964638,"question_id":74964588,"body_markdown":"If nothing else, it&#39;s an inline function, and can more efficiently do things like mutate state elsewhere or smoothly incorporate suspend functions.\r\n\r\nUsing the same `forEach` everywhere is simpler than having to track which one you&#39;re using at any given point.","title":"How is Kotlin&#39;s Map.foreach better than the Java one?","body":"<p>If nothing else, it's an inline function, and can more efficiently do things like mutate state elsewhere or smoothly incorporate suspend functions.</p>\n<p>Using the same <code>forEach</code> everywhere is simpler than having to track which one you're using at any given point.</p>\n"},{"tags":[],"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672427509,"creation_date":1672427509,"answer_id":74965037,"question_id":74964588,"body_markdown":"In addition to other answers: the Java method is only available in Kotlin/JVM, while **the Kotlin function is cross-platform** and can also be used in Kotlin/Native and Kotlin/JS. So without good reasons to use the Java version, it makes sense to default to the Kotlin version with its greater compatibility.","title":"How is Kotlin&#39;s Map.foreach better than the Java one?","body":"<p>In addition to other answers: the Java method is only available in Kotlin/JVM, while <strong>the Kotlin function is cross-platform</strong> and can also be used in Kotlin/Native and Kotlin/JS. So without good reasons to use the Java version, it makes sense to default to the Kotlin version with its greater compatibility.</p>\n"}],"owner":{"account_id":14911678,"reputation":87,"user_id":10766974,"display_name":"Fizz Areh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74964638,"answer_count":2,"score":0,"last_activity_date":1672432544,"creation_date":1672423946,"question_id":74964588,"body_markdown":"A very simple example:\r\n\r\n    val map = mapOf(&quot;one&quot; to 1, &quot;two&quot; to 2)\r\n    map.forEach{k, v -&gt; if (k == &quot;one&quot;) println(v)}  //Java API\r\n    map.forEach{(k, v) -&gt; if (k == &quot;two&quot;) println(v)}  //Kotlin extension\r\n\r\nI am confused by the IDE warning `Java Map.forEach method call should be replaced with Kotlin&#39;s forEach` for the second line. I don&#39;t understand why should I replace it. They seem to work identically, and the only difference is the java method requiring 2 less symbols to type. Any ideas?","title":"How is Kotlin&#39;s Map.foreach better than the Java one?","body":"<p>A very simple example:</p>\n<pre><code>val map = mapOf(&quot;one&quot; to 1, &quot;two&quot; to 2)\nmap.forEach{k, v -&gt; if (k == &quot;one&quot;) println(v)}  //Java API\nmap.forEach{(k, v) -&gt; if (k == &quot;two&quot;) println(v)}  //Kotlin extension\n</code></pre>\n<p>I am confused by the IDE warning <code>Java Map.forEach method call should be replaced with Kotlin's forEach</code> for the second line. I don't understand why should I replace it. They seem to work identically, and the only difference is the java method requiring 2 less symbols to type. Any ideas?</p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672431869,"creation_date":1672431869,"answer_id":74965548,"question_id":74964926,"body_markdown":"I will start this answer with a disclaimer: I have never used LibGDX before. Nonetheless I can see a potential problem with your code.\r\n\r\nLet&#39;s number the corners of your rectangle as follows:\r\n\r\n```none\r\n   1         2\r\n\r\n   3         4\r\n```\r\nYour array of vertex coordinates includes these corners in the order 1, 2, 3, 4. \r\n\r\nYou are using a polygon object to represent this rectangle. Polygon objects will typically expect the vertex coordinates that they are given to go around the polygon in one direction or the other. For example, if you had a polygon with 10 points, how would the `Polygon` class know in which order to connect the points? Of course, order 1, 2, 3, 4 is not going around your rectangle in either direction.\r\n \r\nTry swapping the order of the last two pairs of coordinates, so that your array of vertices includes the corners in the order 1, 2, 4, 3.\r\n\r\n---\r\nBonus hint for readability: try to format your array of vertices so that it contains one pair of coordinates per line, perhaps something like the following:\r\n```java\r\nSprite sprite = player.getSprite();\r\nfloat[] vertices = new float[] {\r\n    sprite.getX(),                     sprite.getY(),\r\n    sprite.getX() + sprite.getWidth(), sprite.getY(),\r\n    sprite.getX() + sprite.getWidth(), sprite.getY() + sprite.getHeight(),\r\n    sprite.getX(),                     sprite.getY() + sprite.getHeight()\r\n};\r\n```\r\nTo reduce the line length, I&#39;ve created a local variable for the value of `player.getSprite()`. I&#39;ve guessed the name of the class as `Sprite`: feel free to adjust this if necessary. You could potentially create further local variables for the values of `sprite.getX()`, `sprite.getY()` and so on.\r\n","title":"How do I draw a rectangular polygon without a triangular cutout?","body":"<p>I will start this answer with a disclaimer: I have never used LibGDX before. Nonetheless I can see a potential problem with your code.</p>\n<p>Let's number the corners of your rectangle as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>   1         2\n\n   3         4\n</code></pre>\n<p>Your array of vertex coordinates includes these corners in the order 1, 2, 3, 4.</p>\n<p>You are using a polygon object to represent this rectangle. Polygon objects will typically expect the vertex coordinates that they are given to go around the polygon in one direction or the other. For example, if you had a polygon with 10 points, how would the <code>Polygon</code> class know in which order to connect the points? Of course, order 1, 2, 3, 4 is not going around your rectangle in either direction.</p>\n<p>Try swapping the order of the last two pairs of coordinates, so that your array of vertices includes the corners in the order 1, 2, 4, 3.</p>\n<hr />\n<p>Bonus hint for readability: try to format your array of vertices so that it contains one pair of coordinates per line, perhaps something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Sprite sprite = player.getSprite();\nfloat[] vertices = new float[] {\n    sprite.getX(),                     sprite.getY(),\n    sprite.getX() + sprite.getWidth(), sprite.getY(),\n    sprite.getX() + sprite.getWidth(), sprite.getY() + sprite.getHeight(),\n    sprite.getX(),                     sprite.getY() + sprite.getHeight()\n};\n</code></pre>\n<p>To reduce the line length, I've created a local variable for the value of <code>player.getSprite()</code>. I've guessed the name of the class as <code>Sprite</code>: feel free to adjust this if necessary. You could potentially create further local variables for the values of <code>sprite.getX()</code>, <code>sprite.getY()</code> and so on.</p>\n"}],"owner":{"account_id":1536842,"reputation":577,"user_id":1432643,"accept_rate":89,"display_name":"tarcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74965548,"answer_count":1,"score":0,"last_activity_date":1672431869,"creation_date":1672426598,"question_id":74964926,"body_markdown":"I am creating a rectangular polygon that represents the box bounding the player sprite in a simple 2D game. This is the implementation I use: \r\n\r\n```\r\nfloat[] vertices = new float[] {player.getSprite().getX(), player.getSprite().getY(),\r\n\t\t\t\tplayer.getSprite().getX() + player.getSprite().getWidth(),\r\n\t\t\t\tplayer.getSprite().getY(), player.getSprite().getX(),\r\n\t\t\t\tplayer.getSprite().getY() + player.getSprite().getHeight(),\r\n\t\t\t\tplayer.getSprite().getX() + player.getSprite().getWidth(),\r\n\t\t\t\tplayer.getSprite().getY() + player.getSprite().getHeight()};\r\n\r\n\t\tPolygon rPoly = new Polygon(vertices);\r\n\r\n\t\tpolyBatch.draw(\r\n\t\t\t\tnew PolygonRegion(new TextureRegion(healthImage), rPoly.getTransformedVertices(),\r\n\t\t\t\tnew EarClippingTriangulator().computeTriangles(vertices).toArray()),\r\n\t\t\t\tplayer.getSprite().getScaleX(), player.getSprite().getScaleY());\r\n\r\n```\r\n\r\nWhere the &quot;Sprite&quot; is an actual LibGDX sprite object. When I try to use this implementation I get this as a result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YHaZz.png\r\n\r\nHow do I get this polygon to be drawn without that triangular cut in it? ","title":"How do I draw a rectangular polygon without a triangular cutout?","body":"<p>I am creating a rectangular polygon that represents the box bounding the player sprite in a simple 2D game. This is the implementation I use:</p>\n<pre><code>float[] vertices = new float[] {player.getSprite().getX(), player.getSprite().getY(),\n                player.getSprite().getX() + player.getSprite().getWidth(),\n                player.getSprite().getY(), player.getSprite().getX(),\n                player.getSprite().getY() + player.getSprite().getHeight(),\n                player.getSprite().getX() + player.getSprite().getWidth(),\n                player.getSprite().getY() + player.getSprite().getHeight()};\n\n        Polygon rPoly = new Polygon(vertices);\n\n        polyBatch.draw(\n                new PolygonRegion(new TextureRegion(healthImage), rPoly.getTransformedVertices(),\n                new EarClippingTriangulator().computeTriangles(vertices).toArray()),\n                player.getSprite().getScaleX(), player.getSprite().getScaleY());\n\n</code></pre>\n<p>Where the &quot;Sprite&quot; is an actual LibGDX sprite object. When I try to use this implementation I get this as a result:</p>\n<p><a href=\"https://i.stack.imgur.com/YHaZz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YHaZz.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I get this polygon to be drawn without that triangular cut in it?</p>\n"},{"tags":["java","xml","xml-parsing","document","helper"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1672413833,"post_id":74961629,"comment_id":132286058,"body_markdown":"XPath can be used for that- https://stackoverflow.com/a/48391839/2834978","body":"XPath can be used for that- <a href=\"https://stackoverflow.com/a/48391839/2834978\">stackoverflow.com/a/48391839/2834978</a>"}],"answers":[{"tags":[],"owner":{"account_id":2182770,"reputation":77,"user_id":3170024,"display_name":"skreutzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672431532,"creation_date":1672431532,"answer_id":74965507,"question_id":74961629,"body_markdown":"As suggested by @LMC (because of `org.w3c.dom.Document.getElementById()` not recognizing arbitrary `id` attributes as IDs for `getElementById()` or as a browser would, mostly for HTML semantics/format), maybe:\r\n\r\n``` lang-java\r\n    String Function(String id) throws XPathExpressionException {\r\n        XPath xPath = XPathFactory.newInstance().newXPath();\r\n        // Be aware: id inserted without any escaping!\r\n        NodeList parents = (NodeList)xPath.evaluate(&quot;/class/question[@id=&#39;&quot; + id + &quot;&#39;]&quot;, doc, XPathConstants.NODESET);\r\n\r\n        if (parents.getLength() &lt; 1) {\r\n            return null;\r\n        } else if (parents.getLength() &gt; 1) {\r\n            // Huh, duplicates?\r\n        }\r\n\r\n        Element parent = (Element)parents.item(0);\r\n        NodeList children = parent.getChildNodes();\r\n\r\n        List&lt;Element&gt; answers = new ArrayList&lt;Element&gt;();\r\n\r\n        for (int i = 0, max = children.getLength(); i &lt; max; i++) {\r\n            if (children.item(i).getNodeType() != Node.ELEMENT_NODE) {\r\n                continue;\r\n            }\r\n\r\n            if (children.item(i).getNodeName().equals(&quot;ans&quot;) != true) {\r\n                // Huh?\r\n                continue;\r\n            }\r\n\r\n            answers.add((Element)children.item(i));\r\n        }\r\n\r\n        if (answers.size() &lt;= 0) {\r\n            return null;\r\n        }\r\n\r\n        int selection = (int)(Math.random() * answers.size());\r\n\r\n        return answers.get(selection).getTextContent();\r\n    }\r\n```","title":"how to get specific tag content inside parant tag from id in xml using java?","body":"<p>As suggested by @LMC (because of <code>org.w3c.dom.Document.getElementById()</code> not recognizing arbitrary <code>id</code> attributes as IDs for <code>getElementById()</code> or as a browser would, mostly for HTML semantics/format), maybe:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String Function(String id) throws XPathExpressionException {\n        XPath xPath = XPathFactory.newInstance().newXPath();\n        // Be aware: id inserted without any escaping!\n        NodeList parents = (NodeList)xPath.evaluate(&quot;/class/question[@id='&quot; + id + &quot;']&quot;, doc, XPathConstants.NODESET);\n\n        if (parents.getLength() &lt; 1) {\n            return null;\n        } else if (parents.getLength() &gt; 1) {\n            // Huh, duplicates?\n        }\n\n        Element parent = (Element)parents.item(0);\n        NodeList children = parent.getChildNodes();\n\n        List&lt;Element&gt; answers = new ArrayList&lt;Element&gt;();\n\n        for (int i = 0, max = children.getLength(); i &lt; max; i++) {\n            if (children.item(i).getNodeType() != Node.ELEMENT_NODE) {\n                continue;\n            }\n\n            if (children.item(i).getNodeName().equals(&quot;ans&quot;) != true) {\n                // Huh?\n                continue;\n            }\n\n            answers.add((Element)children.item(i));\n        }\n\n        if (answers.size() &lt;= 0) {\n            return null;\n        }\n\n        int selection = (int)(Math.random() * answers.size());\n\n        return answers.get(selection).getTextContent();\n    }\n</code></pre>\n"}],"owner":{"account_id":24629918,"reputation":1,"user_id":18529269,"display_name":"Ahtess_ Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74965507,"answer_count":1,"score":0,"last_activity_date":1672431532,"creation_date":1672403839,"question_id":74961629,"body_markdown":"I have an XML file as below. I want to get its specific child tag from the parent tag using java.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;  \r\n&lt;class&gt;  \r\n    \r\n  &lt;question  id=&quot;scores&quot;&gt;\r\n        &lt;ans&gt;12&lt;/ans&gt;\r\n        &lt;ans&gt;32&lt;/ans&gt;\r\n        &lt;ans&gt;44&lt;/ans&gt;\r\n  &lt;/question&gt;\r\n\r\n  &lt;question  id=&quot;ratings&quot;&gt;\r\n        &lt;ans&gt;10&lt;/ans&gt;\r\n        &lt;ans&gt;22&lt;/ans&gt;\r\n        &lt;ans&gt;45&lt;/ans&gt;\r\n        &lt;ans&gt;100&lt;/ans&gt;\r\n  &lt;/question&gt;\r\n&lt;default&gt;\r\n    Sorry wrong\r\n&lt;/default&gt;\r\n  &lt;/class&gt;  \r\n```\r\n\r\ni want the function to be like this\r\n\r\n```\r\nString function(String id)\r\n```\r\n\r\nit will return the ans tag randomly  \r\ni.e if I give input  id=scores, the program will look in the XML tag for scores as id and get length()of its children, in this case, 3, then retun randomly like 32 or 44 or 12.if id is not present, return default.\r\n\r\nmy code so far\r\n\r\n```\r\npublic class ChatBot {\r\n    \r\n    private String filepath=&quot;E:\\\\myfile.xml&quot;;\r\n    private File file;\r\n    private Document doc;\r\n\r\n    public ChatBot() throws SAXException, IOException, ParserConfigurationException {\r\n         file = new File(&quot;E:\\\\myfile.xml&quot;);  \r\n         DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();  \r\n         DocumentBuilder db = dbf.newDocumentBuilder();  \r\n         doc = db.parse(file); \r\n    }\r\n    \r\n    \r\n    String Function(String id){\r\n// This part\r\n            return null;\r\n    }\r\n       \r\n    }\r\n```","title":"how to get specific tag content inside parant tag from id in xml using java?","body":"<p>I have an XML file as below. I want to get its specific child tag from the parent tag using java.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;  \n&lt;class&gt;  \n    \n  &lt;question  id=&quot;scores&quot;&gt;\n        &lt;ans&gt;12&lt;/ans&gt;\n        &lt;ans&gt;32&lt;/ans&gt;\n        &lt;ans&gt;44&lt;/ans&gt;\n  &lt;/question&gt;\n\n  &lt;question  id=&quot;ratings&quot;&gt;\n        &lt;ans&gt;10&lt;/ans&gt;\n        &lt;ans&gt;22&lt;/ans&gt;\n        &lt;ans&gt;45&lt;/ans&gt;\n        &lt;ans&gt;100&lt;/ans&gt;\n  &lt;/question&gt;\n&lt;default&gt;\n    Sorry wrong\n&lt;/default&gt;\n  &lt;/class&gt;  \n</code></pre>\n<p>i want the function to be like this</p>\n<pre><code>String function(String id)\n</code></pre>\n<p>it will return the ans tag randomly<br />\ni.e if I give input  id=scores, the program will look in the XML tag for scores as id and get length()of its children, in this case, 3, then retun randomly like 32 or 44 or 12.if id is not present, return default.</p>\n<p>my code so far</p>\n<pre><code>public class ChatBot {\n    \n    private String filepath=&quot;E:\\\\myfile.xml&quot;;\n    private File file;\n    private Document doc;\n\n    public ChatBot() throws SAXException, IOException, ParserConfigurationException {\n         file = new File(&quot;E:\\\\myfile.xml&quot;);  \n         DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();  \n         DocumentBuilder db = dbf.newDocumentBuilder();  \n         doc = db.parse(file); \n    }\n    \n    \n    String Function(String id){\n// This part\n            return null;\n    }\n       \n    }\n</code></pre>\n"},{"tags":["java","levenshtein-distance"],"answers":[{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672431444,"creation_date":1601359594,"answer_id":64113807,"question_id":64113621,"body_markdown":"Your first answer begins with &quot;The effects of both variants should be nearly the same&quot;. The reason normalized LevenshteinDistance doesn&#39;t exist is because you (or somebody else) hasn&#39;t seen fit to implement it. Besides, it seems a rather trivial once you have the Levenshtein distance:\r\n\r\n    private double normalizedLevenshteinDistance(double levenshtein, String s1, String s2) {\r\n        if (s1.length() &gt;= s2.length()) {\r\n            return levenshtein / s1.length();\r\n        }\r\n        else {\r\n            return levenshtein / s2.length();\r\n        }\r\n    }\r\n\r\nAfter 3 days, once this has been thoroughly ripped to shreds, I&#39;ll add it as a Github issue on commons-text.","title":"How to normalize Levenshtein distance between 0 to 1","body":"<p>Your first answer begins with &quot;The effects of both variants should be nearly the same&quot;. The reason normalized LevenshteinDistance doesn't exist is because you (or somebody else) hasn't seen fit to implement it. Besides, it seems a rather trivial once you have the Levenshtein distance:</p>\n<pre><code>private double normalizedLevenshteinDistance(double levenshtein, String s1, String s2) {\n    if (s1.length() &gt;= s2.length()) {\n        return levenshtein / s1.length();\n    }\n    else {\n        return levenshtein / s2.length();\n    }\n}\n</code></pre>\n<p>After 3 days, once this has been thoroughly ripped to shreds, I'll add it as a Github issue on commons-text.</p>\n"},{"tags":[],"owner":{"account_id":88993,"reputation":2497,"user_id":245813,"display_name":"COME FROM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601412859,"creation_date":1601412859,"answer_id":64127506,"question_id":64113621,"body_markdown":"It seems you need a measure of similarity rather than an actual measure of distance.\r\n\r\nA proper measure of distance should obey the rules of [metric](https://en.wikipedia.org/wiki/Metric_(mathematics)) like [the Javadoc of the interface EditDistance in Commons Text](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/EditDistance.html) says. There is a reason Commons Text does not include an implementation for normalized Levenshtein distance. It can be done properly, but I doubt the results would be useful.\r\n\r\nHowever, using Levenshtein distance to define *a measure of similarity* like you suggested will work.\r\n\r\nApache Commons Text already has some implementations for measuring similarity. Perhaps [JaroWinklerSimilarity](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/JaroWinklerSimilarity.html) would fit the bill.\r\n\r\nI&#39;d consider writing an implementation for the [SimilarityScore](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/SimilarityScore.html) interface using Levenshtein distance like you suggested. It will produce slightly different results than JaroWinklerSimilarity. Using the interface for your own implementation would allow changing it easily to any implementation provided by Commons Text. You could easily compare different algorithms.\r\n\r\nJust make sure you don&#39;t divide with `max(s1.length, s2.length)` before checking it&#39;s not zero!","title":"How to normalize Levenshtein distance between 0 to 1","body":"<p>It seems you need a measure of similarity rather than an actual measure of distance.</p>\n<p>A proper measure of distance should obey the rules of <a href=\"https://en.wikipedia.org/wiki/Metric_(mathematics)\" rel=\"nofollow noreferrer\">metric</a> like <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/EditDistance.html\" rel=\"nofollow noreferrer\">the Javadoc of the interface EditDistance in Commons Text</a> says. There is a reason Commons Text does not include an implementation for normalized Levenshtein distance. It can be done properly, but I doubt the results would be useful.</p>\n<p>However, using Levenshtein distance to define <em>a measure of similarity</em> like you suggested will work.</p>\n<p>Apache Commons Text already has some implementations for measuring similarity. Perhaps <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/JaroWinklerSimilarity.html\" rel=\"nofollow noreferrer\">JaroWinklerSimilarity</a> would fit the bill.</p>\n<p>I'd consider writing an implementation for the <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/SimilarityScore.html\" rel=\"nofollow noreferrer\">SimilarityScore</a> interface using Levenshtein distance like you suggested. It will produce slightly different results than JaroWinklerSimilarity. Using the interface for your own implementation would allow changing it easily to any implementation provided by Commons Text. You could easily compare different algorithms.</p>\n<p>Just make sure you don't divide with <code>max(s1.length, s2.length)</code> before checking it's not zero!</p>\n"},{"tags":[],"owner":{"account_id":11725845,"reputation":178,"user_id":8583170,"display_name":"Sam Tseng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645845867,"creation_date":1645845867,"answer_id":71273842,"question_id":64113621,"body_markdown":"I had used a normalized edit distance or similarity (NES) which I think is very useful, defined by Daniel Lopresti and Jiangyin Zhou, in Equation (6) of their work: http://www.cse.lehigh.edu/~lopresti/Publications/1996/sdair96.pdf.\r\n\r\nThe NES in python is:\r\n\r\n    import math\r\n    def normalized_edit_similarity(m, d):\r\n        # d : edit distance between the two strings\r\n        # m : length of the shorter string\r\n        return ( 1.0 / math.exp( d / (m - d) ) )\r\n    \r\n    print(normalized_edit_similarity(3, 0))\r\n    print(normalized_edit_similarity(3, 1))\r\n    print(normalized_edit_similarity(4, 1))\r\n    print(normalized_edit_similarity(5, 1))\r\n    print(normalized_edit_similarity(5, 2))\r\n\r\n    1.0\r\n    0.6065306597126334\r\n    0.7165313105737893\r\n    0.7788007830714049\r\n    0.513417119032592\r\n\r\nMore examples can be found in Table 2 in the above paper.\r\n\r\nThe variable `m` in the above function can be replaced with the length of the longer string to fit your need. \r\n\r\nSee also: https://stackoverflow.com/a/71266201/8583170 (I have not yet familiar with how to answer similar questions with the same answer).","title":"How to normalize Levenshtein distance between 0 to 1","body":"<p>I had used a normalized edit distance or similarity (NES) which I think is very useful, defined by Daniel Lopresti and Jiangyin Zhou, in Equation (6) of their work: <a href=\"http://www.cse.lehigh.edu/%7Elopresti/Publications/1996/sdair96.pdf\" rel=\"nofollow noreferrer\">http://www.cse.lehigh.edu/~lopresti/Publications/1996/sdair96.pdf</a>.</p>\n<p>The NES in python is:</p>\n<pre><code>import math\ndef normalized_edit_similarity(m, d):\n    # d : edit distance between the two strings\n    # m : length of the shorter string\n    return ( 1.0 / math.exp( d / (m - d) ) )\n\nprint(normalized_edit_similarity(3, 0))\nprint(normalized_edit_similarity(3, 1))\nprint(normalized_edit_similarity(4, 1))\nprint(normalized_edit_similarity(5, 1))\nprint(normalized_edit_similarity(5, 2))\n\n1.0\n0.6065306597126334\n0.7165313105737893\n0.7788007830714049\n0.513417119032592\n</code></pre>\n<p>More examples can be found in Table 2 in the above paper.</p>\n<p>The variable <code>m</code> in the above function can be replaced with the length of the longer string to fit your need.</p>\n<p>See also: <a href=\"https://stackoverflow.com/a/71266201/8583170\">https://stackoverflow.com/a/71266201/8583170</a> (I have not yet familiar with how to answer similar questions with the same answer).</p>\n"}],"owner":{"account_id":2526078,"reputation":2695,"user_id":2195440,"accept_rate":58,"display_name":"Exploring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4425,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64113807,"answer_count":3,"score":2,"last_activity_date":1672431444,"creation_date":1601358603,"question_id":64113621,"body_markdown":"I have to normalize the Levenshtein distance between 0 to 1. I see different variations floating in SO.\r\n\r\nI am thinking to adopt the following approach:\r\n\r\n- if two strings, s1 and s2\r\n- len = max(s1.length(), s2.length());\r\n- normalized_distance = float(len - levenshteinDistance(s1, s2)) / float(len);\r\n\r\nThen the highest score 1.0 means an exact match and 0.0 means no match.\r\n\r\nBut I see variations here:\r\nhttps://stackoverflow.com/questions/15612475/two-whole-texts-similarity-using-levenshtein-distance where  1- distance(a,b)/max(a.length, b.length)\r\n\r\nhttps://stackoverflow.com/questions/41066394/difference-in-normalization-of-levenshtein-edit-distance\r\n\r\nhttps://stackoverflow.com/questions/30787098/explanation-of-normalized-edit-distance-formula\r\n\r\nI am wondering is there a canonical code implementation in Java? I know `org.apache.commons.text` only implements LevenshteinDistance and not normalized LevenshteinDistance.\r\n\r\nhttps://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html\r\n\r\n\r\n\r\n","title":"How to normalize Levenshtein distance between 0 to 1","body":"<p>I have to normalize the Levenshtein distance between 0 to 1. I see different variations floating in SO.</p>\n<p>I am thinking to adopt the following approach:</p>\n<ul>\n<li>if two strings, s1 and s2</li>\n<li>len = max(s1.length(), s2.length());</li>\n<li>normalized_distance = float(len - levenshteinDistance(s1, s2)) / float(len);</li>\n</ul>\n<p>Then the highest score 1.0 means an exact match and 0.0 means no match.</p>\n<p>But I see variations here:\n<a href=\"https://stackoverflow.com/questions/15612475/two-whole-texts-similarity-using-levenshtein-distance\">two whole texts similarity using levenshtein distance</a> where  1- distance(a,b)/max(a.length, b.length)</p>\n<p><a href=\"https://stackoverflow.com/questions/41066394/difference-in-normalization-of-levenshtein-edit-distance\">Difference in normalization of Levenshtein (edit) distance?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/30787098/explanation-of-normalized-edit-distance-formula\">Explanation of normalized edit distance formula</a></p>\n<p>I am wondering is there a canonical code implementation in Java? I know <code>org.apache.commons.text</code> only implements LevenshteinDistance and not normalized LevenshteinDistance.</p>\n<p><a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html</a></p>\n"},{"tags":["java","design-patterns","singleton"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672420589,"post_id":74964052,"comment_id":132287919,"body_markdown":"When you generalize your code for a question, then you should do that with all your code, or else you end up with variables like `clus` which has no reference anywhere in the question. Also, is this code used to check if a file has been changed and got more entries/items? If yes, then both approaches are kinda smelly.","body":"When you generalize your code for a question, then you should do that with all your code, or else you end up with variables like <code>clus</code> which has no reference anywhere in the question. Also, is this code used to check if a file has been changed and got more entries/items? If yes, then both approaches are kinda smelly."},{"owner":{"account_id":25363881,"reputation":21,"user_id":19178732,"display_name":"avrath"},"score":0,"creation_date":1672431643,"post_id":74964052,"comment_id":132290387,"body_markdown":"Sorry for the non-general code - oversight on my part, edited it. Basically yes, it is checked if after reload the collection contains modified/new objects compared to before (which are created by parsing files in folder)","body":"Sorry for the non-general code - oversight on my part, edited it. Basically yes, it is checked if after reload the collection contains modified/new objects compared to before (which are created by parsing files in folder)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672431756,"post_id":74964052,"comment_id":132290403,"body_markdown":"I don&#39;t see the problem with it, as long as it&#39;s not pretending to be a true singleton.","body":"I don&#39;t see the problem with it, as long as it&#39;s not pretending to be a true singleton."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672431973,"post_id":74964052,"comment_id":132290460,"body_markdown":"When that&#39;s what you&#39;re after, then you could also use existing tools to &quot;listen&quot; to file changes. Then you don&#39;t need to reload the file and check the collection. For example Apache File Monitor or JDK WatchService","body":"When that&#39;s what you&#39;re after, then you could also use existing tools to &quot;listen&quot; to file changes. Then you don&#39;t need to reload the file and check the collection. For example Apache File Monitor or JDK WatchService"}],"owner":{"account_id":25363881,"reputation":21,"user_id":19178732,"display_name":"avrath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672431361,"creation_date":1672420022,"question_id":74964052,"body_markdown":"I stumbled upon a pseudo-singleton class that is responsible for housing a few collections. It looks something like this:\r\n\r\n```\r\npublic class PseudoSingleton {\r\n    private List&lt;Object&gt; collection1;\r\n    private List&lt;Object&gt; collection2;\r\n    private static PseudoSingleton instance = null;\r\n\r\n    public static synchronized PseudoSingleton getInstance() {\r\n        if (instance == null) {\r\n            instance = new PseudoSingleton();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public static synchronized void reload()  {\r\n        instance = new PseudoSingleton();\r\n    }\r\n\r\n    private PseudoSingleton() {\r\n        load();\r\n    }\r\n    \r\n    private void load() {\r\n        //parse some files from disk and fill collections\r\n    }\r\n}\r\n```\r\n\r\nThe reason it is coded like this is that in a few places in code a comparison of `collection1` before and after reload needs to be done. \r\n\r\nHowever this way seems like a major code smell to me.\r\n\r\nI tried to refactor the code slightly by making the `reload()` method not static:\r\n\r\n```\r\npublic synchronized void reload() {\r\n   //clear collections\r\n   //load collections\r\n}\r\n```\r\n\r\nIn order to be able to compare collection before reload I added a method that needs to be called before reloading the collection:\r\n\r\n```\r\npublic List&lt;Object&gt; getCollection1Copy() {\r\n   return new LinkedList&lt;&gt;(collection1);\r\n}\r\n```\r\nHowever, in review I got a comment that the previous way was better and I should leave it as is. I am not convinced. Should I insist to go my way or leave it? Or is there a better way to code it?","title":"Alternative to multiple instances of pseudo-singleton","body":"<p>I stumbled upon a pseudo-singleton class that is responsible for housing a few collections. It looks something like this:</p>\n<pre><code>public class PseudoSingleton {\n    private List&lt;Object&gt; collection1;\n    private List&lt;Object&gt; collection2;\n    private static PseudoSingleton instance = null;\n\n    public static synchronized PseudoSingleton getInstance() {\n        if (instance == null) {\n            instance = new PseudoSingleton();\n        }\n        return instance;\n    }\n\n    public static synchronized void reload()  {\n        instance = new PseudoSingleton();\n    }\n\n    private PseudoSingleton() {\n        load();\n    }\n    \n    private void load() {\n        //parse some files from disk and fill collections\n    }\n}\n</code></pre>\n<p>The reason it is coded like this is that in a few places in code a comparison of <code>collection1</code> before and after reload needs to be done.</p>\n<p>However this way seems like a major code smell to me.</p>\n<p>I tried to refactor the code slightly by making the <code>reload()</code> method not static:</p>\n<pre><code>public synchronized void reload() {\n   //clear collections\n   //load collections\n}\n</code></pre>\n<p>In order to be able to compare collection before reload I added a method that needs to be called before reloading the collection:</p>\n<pre><code>public List&lt;Object&gt; getCollection1Copy() {\n   return new LinkedList&lt;&gt;(collection1);\n}\n</code></pre>\n<p>However, in review I got a comment that the previous way was better and I should leave it as is. I am not convinced. Should I insist to go my way or leave it? Or is there a better way to code it?</p>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":11247423,"reputation":609,"user_id":8249665,"display_name":"was_777"},"score":0,"creation_date":1691485433,"post_id":74965475,"comment_id":135494614,"body_markdown":"did you find any solution?","body":"did you find any solution?"}],"owner":{"account_id":18617752,"reputation":31,"user_id":16736186,"display_name":"999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672431265,"creation_date":1672431265,"question_id":74965475,"body_markdown":"In Java Spring Boot with BatchMapping, I was wondering how to access the arguments. Below is parts of the schema:\r\n\r\n```\r\ntype Query {\r\n    user(username: String!): User\r\n}\r\n\r\n\r\ntype User {\r\n    username: String!\r\n    posts: [Post!]!\r\n}\r\n\r\ntype Post {\r\n    upvotes: [User!]!\r\n    upvoted(username: String!): Boolean\r\n}\r\n```\r\n\r\nand the resolver looks like this:\r\n\r\n```\r\n@SchemaMapping\r\npublic Boolean upvoted(@Argument String username) {\r\n        //...\r\n}\r\n```\r\n\r\nbut if I want to improve efficiency because of the n + 1 problem, I would do something like:\r\n\r\n```\r\n@BatchMapping\r\npublic Map&lt;Post, Boolean&gt; upvoted(List&lt;Post&gt; posts) {\r\n      // ...\r\n}\r\n```\r\n\r\nI am not sure how to access the argument &quot;username&quot; in order to query the database, such as in a query like this:\r\n\r\n```\r\n{\r\n user(username: &quot;1&quot;) {\r\n    posts {\r\n      upvoted(username: &quot;2&quot;)\r\n    }\r\n  }\r\n}\r\n```","title":"Arguments with @BatchMapping in GraphQL Spring Boot","body":"<p>In Java Spring Boot with BatchMapping, I was wondering how to access the arguments. Below is parts of the schema:</p>\n<pre><code>type Query {\n    user(username: String!): User\n}\n\n\ntype User {\n    username: String!\n    posts: [Post!]!\n}\n\ntype Post {\n    upvotes: [User!]!\n    upvoted(username: String!): Boolean\n}\n</code></pre>\n<p>and the resolver looks like this:</p>\n<pre><code>@SchemaMapping\npublic Boolean upvoted(@Argument String username) {\n        //...\n}\n</code></pre>\n<p>but if I want to improve efficiency because of the n + 1 problem, I would do something like:</p>\n<pre><code>@BatchMapping\npublic Map&lt;Post, Boolean&gt; upvoted(List&lt;Post&gt; posts) {\n      // ...\n}\n</code></pre>\n<p>I am not sure how to access the argument &quot;username&quot; in order to query the database, such as in a query like this:</p>\n<pre><code>{\n user(username: &quot;1&quot;) {\n    posts {\n      upvoted(username: &quot;2&quot;)\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","quarkus","uberjar"],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672430896,"creation_date":1672430207,"question_id":74965363,"body_markdown":"I have a quarkus project with custom maven dependencies (one of which is another quarkus project). The reason is that the dependency project, which is supposed to be a library/template for a microservice, has route resources (@Path etc.) for the API which each of the other quarkus projects need to have. I dont want to repeat that code if it is 100% the same. When i build an uber-jar, so the compiled jar has the custom local maven repository projects included, it contains the application.properties file of the dependency rather than its own application.properties. Why is that? Some more context:\r\n\r\nExample of project hierarchies:\r\n&gt; - **base-quarkus-service** (has classes of which some are @Path resources, but is not supposed to be a real service but only included in other quarkus microservice projects).\r\n&gt;   - `pom.xml` with remote and quarkus dependencies.\r\n&gt;   - `src/main/java/...` service classes with also some resources classes with @Path annotations etc.\r\n&gt;   - `src/main/java/resources/application.properties` with some basic settings so the project can be compiled and packaged.\r\n&gt; - **quarkus-service-1** (a real service which is supposed to include the code and also routes of base-quarkus-project alongside its own)\r\n&gt;   - `pom.xml` with remote and quarkus dependencies AND local `base-quarkus-service` dependency.\r\n&gt;   - `src/main/java/resources/application.properties` with actual settings for the real service (but the the packaged uber-jar for quarkus-service-1 contains application.properties of base-quarkus-service instead of its own)\r\n\r\nI build the compiled project for `base-quarkus-service` so it is stored in the local m2 repository simply with: \r\n\r\n    mvn clean install -DskipTests\r\n\r\nIn the `quarkus-service-1` project i added the following config in application.properties (as explained here https://quarkus.io/guides/maven-tooling#uber-jar-maven), so an uber-jar will be generated when i run mvn clean install:\r\n\r\n    quarkus.package.type=uber-jar\r\n\r\nThis works, as the output target directory contains an jar (called *-runner) with all the sources of the dependencies, including of `base-quarkus_service`, within - at least i am assuming this is the uber-jar. However, the project does not run due to failure to inject custom config properties into my code specified in application.properties. When i opened the generated uber-jar of `quarkus-service-1` to check why, i saw that it contains the application.properties of `base-quarkus-service` instead of its own. Can someone explain to me how to fix this so it uses its own application.properties rather than the one of a dependency for the uber-jar?\r\n\r\n[![uber-jar of quarkus-service-1 opened in explorer][1]][1]\r\n\r\n(Content of the application.properties file here is of `base-quarkus-service`, not from `quarkus-service-1`as it should be)\r\n\r\n  [1]: https://i.stack.imgur.com/e6fIF.png","title":"Why is the application.properties of a dependency used over the main one when building an uber jar for a quarkus project?","body":"<p>I have a quarkus project with custom maven dependencies (one of which is another quarkus project). The reason is that the dependency project, which is supposed to be a library/template for a microservice, has route resources (@Path etc.) for the API which each of the other quarkus projects need to have. I dont want to repeat that code if it is 100% the same. When i build an uber-jar, so the compiled jar has the custom local maven repository projects included, it contains the application.properties file of the dependency rather than its own application.properties. Why is that? Some more context:</p>\n<p>Example of project hierarchies:</p>\n<blockquote>\n<ul>\n<li><strong>base-quarkus-service</strong> (has classes of which some are @Path resources, but is not supposed to be a real service but only included in other quarkus microservice projects).\n<ul>\n<li><code>pom.xml</code> with remote and quarkus dependencies.</li>\n<li><code>src/main/java/...</code> service classes with also some resources classes with @Path annotations etc.</li>\n<li><code>src/main/java/resources/application.properties</code> with some basic settings so the project can be compiled and packaged.</li>\n</ul>\n</li>\n<li><strong>quarkus-service-1</strong> (a real service which is supposed to include the code and also routes of base-quarkus-project alongside its own)\n<ul>\n<li><code>pom.xml</code> with remote and quarkus dependencies AND local <code>base-quarkus-service</code> dependency.</li>\n<li><code>src/main/java/resources/application.properties</code> with actual settings for the real service (but the the packaged uber-jar for quarkus-service-1 contains application.properties of base-quarkus-service instead of its own)</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>I build the compiled project for <code>base-quarkus-service</code> so it is stored in the local m2 repository simply with:</p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n<p>In the <code>quarkus-service-1</code> project i added the following config in application.properties (as explained here <a href=\"https://quarkus.io/guides/maven-tooling#uber-jar-maven\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/maven-tooling#uber-jar-maven</a>), so an uber-jar will be generated when i run mvn clean install:</p>\n<pre><code>quarkus.package.type=uber-jar\n</code></pre>\n<p>This works, as the output target directory contains an jar (called *-runner) with all the sources of the dependencies, including of <code>base-quarkus_service</code>, within - at least i am assuming this is the uber-jar. However, the project does not run due to failure to inject custom config properties into my code specified in application.properties. When i opened the generated uber-jar of <code>quarkus-service-1</code> to check why, i saw that it contains the application.properties of <code>base-quarkus-service</code> instead of its own. Can someone explain to me how to fix this so it uses its own application.properties rather than the one of a dependency for the uber-jar?</p>\n<p><a href=\"https://i.stack.imgur.com/e6fIF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e6fIF.png\" alt=\"uber-jar of quarkus-service-1 opened in explorer\" /></a></p>\n<p>(Content of the application.properties file here is of <code>base-quarkus-service</code>, not from <code>quarkus-service-1</code>as it should be)</p>\n"},{"tags":["java","hash"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1672430331,"post_id":74965348,"comment_id":132290110,"body_markdown":"Return a `List&lt;Set&lt;People&gt;&gt;`. Or make a custom object that contains two `Set` and return that.","body":"Return a <code>List&lt;Set&lt;People&gt;&gt;</code>. Or make a custom object that contains two <code>Set</code> and return that."},{"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"score":0,"creation_date":1672430594,"post_id":74965348,"comment_id":132290162,"body_markdown":"Could you elaborate more? How can I add my two separate sets in this one list of sets.","body":"Could you elaborate more? How can I add my two separate sets in this one list of sets."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672430861,"creation_date":1672430861,"answer_id":74965444,"question_id":74965348,"body_markdown":"One option is to pass them into the method:\r\n\r\n    void foo(Set&lt;People&gt; allPeopleFromTable, Set&lt;People&gt; visibleInfo) {\r\n        // add items to sets\r\n    }\r\n\r\nAnother option is return a list of sets:\r\n\r\n    List&lt;Set&lt;People&gt;&gt; foo() {\r\n        // create sets\r\n        return Arrays.asList(allPeopleFromTable, visibleInfo);\r\n    }\r\n\r\nOr you can return a tuple class, like `Entry`:\r\n\r\n    Map.Entry&lt;Set&lt;People&gt;, Set&lt;People&gt;&gt; foo() {\r\n        // create sets\r\n        return Map.entry(allPeopleFromTable, visibleInfo);\r\n    }\r\n\r\nThe most &quot;proper&quot; approach would be to wrap them in a custom class.\r\n\r\n    record PeopleSets(Set&lt;People&gt; allPeopleFromTable, Set&lt;People&gt; visibleInfo) {}\r\n\r\n    PeopleSets foo() {\r\n        // create sets\r\n        return new PeopleSets(allPeopleFromTable, visibleInfo);\r\n    }\r\n\r\nThis example uses [records][1], but you can use a conventional class if you&#39;re on an older version of Java.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/language/records.html","title":"Return two Hashset from a Java method","body":"<p>One option is to pass them into the method:</p>\n<pre><code>void foo(Set&lt;People&gt; allPeopleFromTable, Set&lt;People&gt; visibleInfo) {\n    // add items to sets\n}\n</code></pre>\n<p>Another option is return a list of sets:</p>\n<pre><code>List&lt;Set&lt;People&gt;&gt; foo() {\n    // create sets\n    return Arrays.asList(allPeopleFromTable, visibleInfo);\n}\n</code></pre>\n<p>Or you can return a tuple class, like <code>Entry</code>:</p>\n<pre><code>Map.Entry&lt;Set&lt;People&gt;, Set&lt;People&gt;&gt; foo() {\n    // create sets\n    return Map.entry(allPeopleFromTable, visibleInfo);\n}\n</code></pre>\n<p>The most &quot;proper&quot; approach would be to wrap them in a custom class.</p>\n<pre><code>record PeopleSets(Set&lt;People&gt; allPeopleFromTable, Set&lt;People&gt; visibleInfo) {}\n\nPeopleSets foo() {\n    // create sets\n    return new PeopleSets(allPeopleFromTable, visibleInfo);\n}\n</code></pre>\n<p>This example uses <a href=\"https://docs.oracle.com/en/java/javase/15/language/records.html\" rel=\"nofollow noreferrer\">records</a>, but you can use a conventional class if you're on an older version of Java.</p>\n"}],"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74965444,"answer_count":1,"score":0,"last_activity_date":1672430861,"creation_date":1672430099,"question_id":74965348,"body_markdown":"I have this piece of code here that I want to transform in a method.\r\n\r\nThe problem is that I need the result of both hashes \r\n\r\nHow can I create a method that will return those two hashset (allPeopleFromTable and visibleInfo) ?\r\n\r\n```\r\npublic method foo: \r\n\r\nSet&lt;People&gt; allPeopleFromTable = new HashSet&lt;&gt;();\r\n        Set&lt;People&gt; visibleInfo = new HashSet&lt;&gt;();\r\n        for (ResultSet rs : resultSets) {\r\n            while (rs.next()) {\r\n                final Table people = new Table(rs);\r\n\r\n                allPeopleFromTable.add(people);\r\n                if (isVisible(people)) {\r\n                    visibleInfo.add(people);\r\n                }\r\n            }\r\n        }\r\n\r\nthen in the main method I want to do\r\nvisibleInfo = getfoo(...)\r\nallPeopleFromTable = getfoo (..)\r\n```","title":"Return two Hashset from a Java method","body":"<p>I have this piece of code here that I want to transform in a method.</p>\n<p>The problem is that I need the result of both hashes</p>\n<p>How can I create a method that will return those two hashset (allPeopleFromTable and visibleInfo) ?</p>\n<pre><code>public method foo: \n\nSet&lt;People&gt; allPeopleFromTable = new HashSet&lt;&gt;();\n        Set&lt;People&gt; visibleInfo = new HashSet&lt;&gt;();\n        for (ResultSet rs : resultSets) {\n            while (rs.next()) {\n                final Table people = new Table(rs);\n\n                allPeopleFromTable.add(people);\n                if (isVisible(people)) {\n                    visibleInfo.add(people);\n                }\n            }\n        }\n\nthen in the main method I want to do\nvisibleInfo = getfoo(...)\nallPeopleFromTable = getfoo (..)\n</code></pre>\n"},{"tags":["java","android","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672429285,"creation_date":1672429285,"answer_id":74965253,"question_id":74950320,"body_markdown":"There isn&#39;t a built-in way of putting the text in a non-standard location, but you can do it by writing a custom renderer for your chart. If you extend the [`HorizontalBarChartRenderer`](https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/renderer/HorizontalBarChartRenderer.java) class and override the `drawValues` method (making just a few modifications to the original version in the code linked) you can change where the label gets drawn.\r\n\r\n**Custom Renderer**\r\n\r\n*Code copied from `drawValues` in [`HorizontalBarChartRenderer`](https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/renderer/HorizontalBarChartRenderer.java) and simplified to only include required parts for this use-case (removed logic for stacked charts, icons, toggling values on and off, etc). The only change is to the x,y values passed to `drawValue()`*\r\n\r\n```java\r\nprivate static class MyRenderer extends HorizontalBarChartRenderer {\r\n    public MyRenderer(BarDataProvider chart, ChartAnimator animator,\r\n                                      ViewPortHandler viewPortHandler) {\r\n        super(chart, animator, viewPortHandler);\r\n    }\r\n\r\n    @Override\r\n    public void drawValues(Canvas c) {\r\n\r\n        List&lt;IBarDataSet&gt; dataSets = mChart.getBarData().getDataSets();\r\n\r\n        final float valueOffsetPlus = Utils.convertDpToPixel(5f);\r\n\r\n        for (int i = 0; i &lt; mChart.getBarData().getDataSetCount(); i++) {\r\n\r\n            IBarDataSet dataSet = dataSets.get(i);\r\n            \r\n            // apply the text-styling defined by the DataSet\r\n            applyValueTextStyle(dataSet);\r\n            ValueFormatter formatter = dataSet.getValueFormatter();\r\n\r\n            // get the buffer\r\n            BarBuffer buffer = mBarBuffers[i];\r\n\r\n            for (int j = 0; j &lt; buffer.buffer.length * mAnimator.getPhaseX(); j += 4) {\r\n                \r\n                if (!mViewPortHandler.isInBoundsTop(buffer.buffer[j + 1]))\r\n                    break;\r\n\r\n                if (!mViewPortHandler.isInBoundsX(buffer.buffer[j]))\r\n                    continue;\r\n\r\n                if (!mViewPortHandler.isInBoundsBottom(buffer.buffer[j + 1]))\r\n                    continue;\r\n\r\n                BarEntry entry = dataSet.getEntryForIndex(j / 4);\r\n                String formattedValue = formatter.getBarLabel(entry);\r\n\r\n                // Modify the x, y position here to control where the\r\n                // text is. The &quot;buffer&quot; array gives the positions of\r\n                // the current bar (in pixels)\r\n                drawValue(c,\r\n                        formattedValue,\r\n                        buffer.buffer[j] + valueOffsetPlus,\r\n                        buffer.buffer[j+1] - valueOffsetPlus,\r\n                        dataSet.getValueTextColor(j / 2));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Example Use**\r\n\r\nTo use the custom renderer, set it on the chart and modify the bar widths to leave room for the text.\r\n\r\n```java\r\nHorizontalBarChart chart = findViewById(R.id.chart);\r\n\r\nList&lt;Float&gt; values = Arrays.asList(3f, 2f, 2.2f);\r\nList&lt;Integer&gt; colors = Arrays.asList(Color.CYAN, Color.RED, Color.GREEN);\r\nList&lt;String&gt; labels = Arrays.asList(&quot;Pickled Horses&quot;, &quot;Horses&quot;, &quot;Pickles&quot;);\r\n\r\nList&lt;BarEntry&gt; entries = new ArrayList&lt;&gt;();\r\nfor(int i = 0; i &lt; values.size(); ++i) {\r\n    entries.add(new BarEntry(i+1, values.get(i), labels.get(i)));\r\n}\r\n\r\nBarDataSet ds = new BarDataSet(entries, &quot;Values&quot;);\r\nds.setColors(colors);\r\nds.setValueTextSize(14f);\r\nds.setValueFormatter(new ValueFormatter() {\r\n    @Override\r\n    public String getBarLabel(BarEntry barEntry) {\r\n        return (String)barEntry.getData();\r\n    }\r\n});\r\nds.setAxisDependency(YAxis.AxisDependency.RIGHT);\r\n\r\nBarData data = new BarData(ds);\r\n\r\n// Reduce bar width to leave room for text\r\ndata.setBarWidth(0.75f);\r\n\r\n// Use the custom renderer\r\nchart.setRenderer(new MyRenderer(chart, chart.getAnimator(), chart.getViewPortHandler()));\r\n\r\n// Misc formatting &amp; setup\r\nchart.setData(data);\r\nchart.getAxisLeft().setEnabled(false);\r\nchart.getAxisRight().setAxisMinimum(0f);\r\nchart.getAxisRight().setAxisMaximum(4f);\r\nchart.getAxisRight().setGranularity(1f);\r\nchart.getAxisRight().setTextSize(14f);\r\nchart.getAxisRight().setDrawGridLines(false);\r\nchart.getXAxis().setDrawLabels(false);\r\nchart.getXAxis().setDrawGridLines(false);\r\nchart.getXAxis().setAxisMaximum(3.6f);\r\nchart.getDescription().setEnabled(false);\r\nchart.getLegend().setEnabled(false);\r\nchart.setBorderColor(Color.BLACK);\r\nchart.setBorderWidth(1f);\r\nchart.setDrawBorders(true);\r\n```\r\n\r\n[![example output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/svnrJm.png","title":"Android barchart legends on top of the chart","body":"<p>There isn't a built-in way of putting the text in a non-standard location, but you can do it by writing a custom renderer for your chart. If you extend the <a href=\"https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/renderer/HorizontalBarChartRenderer.java\" rel=\"nofollow noreferrer\"><code>HorizontalBarChartRenderer</code></a> class and override the <code>drawValues</code> method (making just a few modifications to the original version in the code linked) you can change where the label gets drawn.</p>\n<p><strong>Custom Renderer</strong></p>\n<p><em>Code copied from <code>drawValues</code> in <a href=\"https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/renderer/HorizontalBarChartRenderer.java\" rel=\"nofollow noreferrer\"><code>HorizontalBarChartRenderer</code></a> and simplified to only include required parts for this use-case (removed logic for stacked charts, icons, toggling values on and off, etc). The only change is to the x,y values passed to <code>drawValue()</code></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class MyRenderer extends HorizontalBarChartRenderer {\n    public MyRenderer(BarDataProvider chart, ChartAnimator animator,\n                                      ViewPortHandler viewPortHandler) {\n        super(chart, animator, viewPortHandler);\n    }\n\n    @Override\n    public void drawValues(Canvas c) {\n\n        List&lt;IBarDataSet&gt; dataSets = mChart.getBarData().getDataSets();\n\n        final float valueOffsetPlus = Utils.convertDpToPixel(5f);\n\n        for (int i = 0; i &lt; mChart.getBarData().getDataSetCount(); i++) {\n\n            IBarDataSet dataSet = dataSets.get(i);\n            \n            // apply the text-styling defined by the DataSet\n            applyValueTextStyle(dataSet);\n            ValueFormatter formatter = dataSet.getValueFormatter();\n\n            // get the buffer\n            BarBuffer buffer = mBarBuffers[i];\n\n            for (int j = 0; j &lt; buffer.buffer.length * mAnimator.getPhaseX(); j += 4) {\n                \n                if (!mViewPortHandler.isInBoundsTop(buffer.buffer[j + 1]))\n                    break;\n\n                if (!mViewPortHandler.isInBoundsX(buffer.buffer[j]))\n                    continue;\n\n                if (!mViewPortHandler.isInBoundsBottom(buffer.buffer[j + 1]))\n                    continue;\n\n                BarEntry entry = dataSet.getEntryForIndex(j / 4);\n                String formattedValue = formatter.getBarLabel(entry);\n\n                // Modify the x, y position here to control where the\n                // text is. The &quot;buffer&quot; array gives the positions of\n                // the current bar (in pixels)\n                drawValue(c,\n                        formattedValue,\n                        buffer.buffer[j] + valueOffsetPlus,\n                        buffer.buffer[j+1] - valueOffsetPlus,\n                        dataSet.getValueTextColor(j / 2));\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Example Use</strong></p>\n<p>To use the custom renderer, set it on the chart and modify the bar widths to leave room for the text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HorizontalBarChart chart = findViewById(R.id.chart);\n\nList&lt;Float&gt; values = Arrays.asList(3f, 2f, 2.2f);\nList&lt;Integer&gt; colors = Arrays.asList(Color.CYAN, Color.RED, Color.GREEN);\nList&lt;String&gt; labels = Arrays.asList(&quot;Pickled Horses&quot;, &quot;Horses&quot;, &quot;Pickles&quot;);\n\nList&lt;BarEntry&gt; entries = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; values.size(); ++i) {\n    entries.add(new BarEntry(i+1, values.get(i), labels.get(i)));\n}\n\nBarDataSet ds = new BarDataSet(entries, &quot;Values&quot;);\nds.setColors(colors);\nds.setValueTextSize(14f);\nds.setValueFormatter(new ValueFormatter() {\n    @Override\n    public String getBarLabel(BarEntry barEntry) {\n        return (String)barEntry.getData();\n    }\n});\nds.setAxisDependency(YAxis.AxisDependency.RIGHT);\n\nBarData data = new BarData(ds);\n\n// Reduce bar width to leave room for text\ndata.setBarWidth(0.75f);\n\n// Use the custom renderer\nchart.setRenderer(new MyRenderer(chart, chart.getAnimator(), chart.getViewPortHandler()));\n\n// Misc formatting &amp; setup\nchart.setData(data);\nchart.getAxisLeft().setEnabled(false);\nchart.getAxisRight().setAxisMinimum(0f);\nchart.getAxisRight().setAxisMaximum(4f);\nchart.getAxisRight().setGranularity(1f);\nchart.getAxisRight().setTextSize(14f);\nchart.getAxisRight().setDrawGridLines(false);\nchart.getXAxis().setDrawLabels(false);\nchart.getXAxis().setDrawGridLines(false);\nchart.getXAxis().setAxisMaximum(3.6f);\nchart.getDescription().setEnabled(false);\nchart.getLegend().setEnabled(false);\nchart.setBorderColor(Color.BLACK);\nchart.setBorderWidth(1f);\nchart.setDrawBorders(true);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/svnrJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/svnrJm.png\" alt=\"example output\" /></a></p>\n"}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672429285,"creation_date":1672311988,"question_id":74950320,"body_markdown":"So i have a barchart in MPandroid, and i need to put the names on the chart, but there is no space where i want them, the solution is to put them on top of the chart. Like this:\r\n\r\n[![Red line where i want the text to be][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8BnvF.png\r\n\r\n\r\n\r\ncan someone help me achieve this ?","title":"Android barchart legends on top of the chart","body":"<p>So i have a barchart in MPandroid, and i need to put the names on the chart, but there is no space where i want them, the solution is to put them on top of the chart. Like this:</p>\n<p><a href=\"https://i.stack.imgur.com/8BnvF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BnvF.png\" alt=\"Red line where i want the text to be\" /></a></p>\n<p>can someone help me achieve this ?</p>\n"},{"tags":["java","android","proxy"],"owner":{"account_id":27393594,"reputation":1,"user_id":20896183,"display_name":"amirali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672428813,"creation_date":1672428813,"question_id":74965197,"body_markdown":"I have entered this code in gradle.build:app and it is not downloaded in any way:\r\n```\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:3.4.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-vision:20.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n}\r\n```\r\n\r\n```\r\nWhat should I do?\r\n\r\n```\r\nI have entered this code in gradle.build:app and it is not downloaded in any way:\r\n```\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:3.4.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-vision:20.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n}\r\n```\r\n\r\n```\r\nWhat should I do?\r\n```\r\n","title":"How to add Zinke&#39;s book house to Android Studio?","body":"<p>I have entered this code in gradle.build:app and it is not downloaded in any way:</p>\n<pre><code>\n</code></pre>\n<p>dependencies {</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.5.1'\nimplementation 'com.google.android.material:material:1.7.0'\nimplementation 'com.journeyapps:zxing-android-embedded:3.4.0'\nimplementation 'com.google.android.gms:play-services-vision:20.1.3'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.4'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n</code></pre>\n<p>}</p>\n<pre><code>\n</code></pre>\n<p>What should I do?</p>\n<pre><code>I have entered this code in gradle.build:app and it is not downloaded in any way:\n</code></pre>\n<pre><code>dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'com.journeyapps:zxing-android-embedded:3.4.0'\n    implementation 'com.google.android.gms:play-services-vision:20.1.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n}\n</code></pre>\n<pre><code>What should I do?\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672428744,"creation_date":1672413319,"answer_id":74963051,"question_id":74962571,"body_markdown":"Since you get the data at path `/User/$getMail1` from your database, the `task` variable contains a result snapshot of only that data. You can get this result by calling:\r\n```\r\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = task.getResult().getValue(User.class); // &#128072;\r\n            ...\r\n```\r\nAlso see the Firebase documentation on [getting data once](https://firebase.google.com/docs/database/android/read-and-write#read_data_once), on which I based this answer.\r\n\r\n---\r\n\r\nIn addition, it seems you have a push key under the email, which will require you to either know the key or use a loop over the child nodes to get to the properties:\r\n\r\n\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            for (DataSnapshot userSnapshot: task.getResult().getChildren()) { // &#128072;\r\n                User value = userSnapshot.getValue(User.class);\r\n            }\r\n","title":"Reading data from db","body":"<p>Since you get the data at path <code>/User/$getMail1</code> from your database, the <code>task</code> variable contains a result snapshot of only that data. You can get this result by calling:</p>\n<pre><code>database.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = task.getResult().getValue(User.class); // 👈\n            ...\n</code></pre>\n<p>Also see the Firebase documentation on <a href=\"https://firebase.google.com/docs/database/android/read-and-write#read_data_once\" rel=\"nofollow noreferrer\">getting data once</a>, on which I based this answer.</p>\n<hr />\n<p>In addition, it seems you have a push key under the email, which will require you to either know the key or use a loop over the child nodes to get to the properties:</p>\n<pre><code>public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n    if (task.isSuccessful()) {\n        for (DataSnapshot userSnapshot: task.getResult().getChildren()) { // 👈\n            User value = userSnapshot.getValue(User.class);\n        }\n</code></pre>\n"}],"owner":{"display_name":"user20704132"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74963051,"answer_count":1,"score":0,"last_activity_date":1672428744,"creation_date":1672410230,"question_id":74962571,"body_markdown":"i have db and here JSON file from it:\r\n\r\n```json\r\n{\r\n  &quot;User&quot;: {\r\n    &quot;mail@gmail::com&quot;: {\r\n      &quot;-NKTbcSqxmB4XImNrpDq&quot;: {\r\n        &quot;Q&quot;: 0,\r\n        &quot;W&quot;: 0,\r\n        &quot;QW&quot;: 0,\r\n        &quot;WQ&quot;: 0,\r\n        }\r\n    },\r\nmail@gmail:com&quot;: {\r\n      &quot;-NKTbcTUBxMsXYopKMO-&quot;: {\r\n        &quot;Q1&quot;: 0,\r\n        &quot;W1&quot;: 0,\r\n        &quot;QW1&quot;: 0,\r\n        &quot;WQ1&quot;: 0,\r\n        }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI need to read data once time, when button is pressed, so i need use this listener:\r\n\r\n```java\r\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail1).getValue(User.class);\r\n            //saving data in sharedPreferences\r\n            PreferenceConfig.Q1(getApplicationContext(), Q1);\r\n            PreferenceConfig.W1(getApplicationContext(), W1);\r\n            PreferenceConfig.QW1(getApplicationContext(), QW1);\r\n            PreferenceConfig.WQ1(getApplicationContext(), WQ1);\r\n        }\r\n    });\r\n```\r\n\r\ngetEmail - variable mail@gmail::com\r\nUSER_KEY - variable whith have id of user Immediately after this, I create for the second mail exactly the same code as above, only with other values:\r\n\r\n```java\r\ndatabase.child(USER_KEY).child(getMail).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail).getValue(User.class);\r\n            //saving data in sharedPreferences            PreferenceConfig.Q(getApplicationContext(), Q);\r\n            PreferenceConfig.W(getApplicationContext(), W);\r\n            PreferenceConfig.QW(getApplicationContext(), QW);\r\n            PreferenceConfig.WQ(getApplicationContext(), WQ);\r\n        }\r\n    });\r\n```\r\n\r\ngetEmail - var whitch have data mail@gmail:com\r\nand here is full code:\r\n\r\n```java\r\nbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail1).getValue(User.class);\r\n            PreferenceConfig.Q1(getApplicationContext(), Q1);\r\n            PreferenceConfig.W1(getApplicationContext(), W1);\r\n            PreferenceConfig.QW1(getApplicationContext(), QW1);\r\n            PreferenceConfig.WQ1(getApplicationContext(), WQ1);\r\n        }\r\n    });\r\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail).getValue(User.class);\r\n            PreferenceConfig.Q(getApplicationContext(), Q);\r\n            PreferenceConfig.W(getApplicationContext(), W);\r\n            PreferenceConfig.QW(getApplicationContext(), QW);\r\n            PreferenceConfig.WQ(getApplicationContext(), WQ);\r\n        }\r\n    });\r\n});\r\n```\r\n\r\nBut the data does not come from the database. There is no error, although I display it like this:\r\n\r\nLog.e(&quot;TaskEEEE&quot;, String.valueOf(task.getException()));\r\nWhy is the data not read??","title":"Reading data from db","body":"<p>i have db and here JSON file from it:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;User&quot;: {\n    &quot;mail@gmail::com&quot;: {\n      &quot;-NKTbcSqxmB4XImNrpDq&quot;: {\n        &quot;Q&quot;: 0,\n        &quot;W&quot;: 0,\n        &quot;QW&quot;: 0,\n        &quot;WQ&quot;: 0,\n        }\n    },\nmail@gmail:com&quot;: {\n      &quot;-NKTbcTUBxMsXYopKMO-&quot;: {\n        &quot;Q1&quot;: 0,\n        &quot;W1&quot;: 0,\n        &quot;QW1&quot;: 0,\n        &quot;WQ1&quot;: 0,\n        }\n    }\n  }\n}\n</code></pre>\n<p>I need to read data once time, when button is pressed, so i need use this listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>database.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail1).getValue(User.class);\n            //saving data in sharedPreferences\n            PreferenceConfig.Q1(getApplicationContext(), Q1);\n            PreferenceConfig.W1(getApplicationContext(), W1);\n            PreferenceConfig.QW1(getApplicationContext(), QW1);\n            PreferenceConfig.WQ1(getApplicationContext(), WQ1);\n        }\n    });\n</code></pre>\n<p>getEmail - variable mail@gmail::com\nUSER_KEY - variable whith have id of user Immediately after this, I create for the second mail exactly the same code as above, only with other values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>database.child(USER_KEY).child(getMail).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail).getValue(User.class);\n            //saving data in sharedPreferences            PreferenceConfig.Q(getApplicationContext(), Q);\n            PreferenceConfig.W(getApplicationContext(), W);\n            PreferenceConfig.QW(getApplicationContext(), QW);\n            PreferenceConfig.WQ(getApplicationContext(), WQ);\n        }\n    });\n</code></pre>\n<p>getEmail - var whitch have data mail@gmail:com\nand here is full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail1).getValue(User.class);\n            PreferenceConfig.Q1(getApplicationContext(), Q1);\n            PreferenceConfig.W1(getApplicationContext(), W1);\n            PreferenceConfig.QW1(getApplicationContext(), QW1);\n            PreferenceConfig.WQ1(getApplicationContext(), WQ1);\n        }\n    });\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail).getValue(User.class);\n            PreferenceConfig.Q(getApplicationContext(), Q);\n            PreferenceConfig.W(getApplicationContext(), W);\n            PreferenceConfig.QW(getApplicationContext(), QW);\n            PreferenceConfig.WQ(getApplicationContext(), WQ);\n        }\n    });\n});\n</code></pre>\n<p>But the data does not come from the database. There is no error, although I display it like this:</p>\n<p>Log.e(&quot;TaskEEEE&quot;, String.valueOf(task.getException()));\nWhy is the data not read??</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1417208929,"post_id":27195883,"comment_id":42876814,"body_markdown":"For which test cases?","body":"For which test cases?"},{"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1417209220,"post_id":27195883,"comment_id":42876896,"body_markdown":"You don&#39;t need a parameter for the array&#39;s length. If you have the array then you have it&#39;s length.","body":"You don&#39;t need a parameter for the array&#39;s length. If you have the array then you have it&#39;s length."},{"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"score":0,"creation_date":1417209228,"post_id":27195883,"comment_id":42876900,"body_markdown":"It looks correct at first sight. What&#39;s the failing test case?","body":"It looks correct at first sight. What&#39;s the failing test case?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1417209287,"post_id":27195883,"comment_id":42876925,"body_markdown":"@Takendarkk And how would you recurse without this third parameter?","body":"@Takendarkk And how would you recurse without this third parameter?"},{"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"score":0,"creation_date":1417209366,"post_id":27195883,"comment_id":42876955,"body_markdown":"@Takendarkk It&#39;s not the length actually, but the index to look at. Would worth renaming.","body":"@Takendarkk It&#39;s not the length actually, but the index to look at. Would worth renaming."},{"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1417209530,"post_id":27195883,"comment_id":42877010,"body_markdown":"@Joel I do believe &quot;_number of elements in the array_&quot; is length. I don&#39;t see how it would be the index to look at. If that were true and the element to look for was at index 0, this method would never find it. I must really be misunderstanding something here.","body":"@Joel I do believe &quot;<i>number of elements in the array</i>&quot; is length. I don&#39;t see how it would be the index to look at. If that were true and the element to look for was at index 0, this method would never find it. I must really be misunderstanding something here."},{"owner":{"account_id":3033814,"reputation":1720,"user_id":2572341,"accept_rate":86,"display_name":"Dexter"},"score":0,"creation_date":1417209677,"post_id":27195883,"comment_id":42877049,"body_markdown":"are you sure in your test-cases you are sending the correct value of len every-time ? why not send arr.length when you first call it, just to be sure","body":"are you sure in your test-cases you are sending the correct value of len every-time ? why not send arr.length when you first call it, just to be sure"},{"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"score":1,"creation_date":1417209682,"post_id":27195883,"comment_id":42877052,"body_markdown":"I just tested it, and it returns what is expected (true). No issue here.","body":"I just tested it, and it returns what is expected (true). No issue here."},{"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"score":0,"creation_date":1417209762,"post_id":27195883,"comment_id":42877080,"body_markdown":"@Takendarkk the initial call uses the length indeed. Subsequent recursive calls use (length - n)","body":"@Takendarkk the initial call uses the length indeed. Subsequent recursive calls use (length - n)"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1417210173,"post_id":27195883,"comment_id":42877197,"body_markdown":"Regarding your testcases results, this is certainly not the code that you posted which generates this outputs.","body":"Regarding your testcases results, this is certainly not the code that you posted which generates this outputs."},{"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1417210252,"post_id":27195883,"comment_id":42877231,"body_markdown":"If you&#39;re &#39;just hard coding it for the time being&#39;, where are those test results coming from? I&#39;ve tested them all and your posted code works fine.","body":"If you&#39;re &#39;just hard coding it for the time being&#39;, where are those test results coming from? I&#39;ve tested them all and your posted code works fine."},{"owner":{"account_id":4509873,"reputation":2850,"user_id":3666302,"accept_rate":71,"display_name":"TomTom"},"score":0,"creation_date":1417211318,"post_id":27195883,"comment_id":42877579,"body_markdown":"Agree. Those test results are wrong. The code works fine. len iterates from the highest index down to the lowest.","body":"Agree. Those test results are wrong. The code works fine. len iterates from the highest index down to the lowest."}],"answers":[{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417209998,"creation_date":1417209581,"answer_id":27196031,"question_id":27195883,"body_markdown":"From what I can see, that code should work fine so I suspect your problem lies in your test cases rather than here.\r\n\r\nOne thing I will mention is that use of `if-return-else` constructs tend to complicate your code unnecessarily.\r\n\r\nIt&#39;s usually better to avoid that with something like:\r\n\r\n    public static boolean search(\r\n        int[] findIn, int target, int len)\r\n    {\r\n        if (len == 0)\r\n            return false;\r\n        if (findIn[len-1] == target)\r\n            return true;\r\n        return search(findIn, target, len-1);\r\n    }\r\n\r\nI find that a lot easier to follow at a glance than trying to track what `if` clause I happen to be in at any given moment.\r\n\r\nIn any case, both it and your version perform fine, at least for small test cases. The first time you pass in a ten-million-element array is probably when you&#39;ll discover it&#39;s not the _best_ poster child for recursion.\r\n","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<p>From what I can see, that code should work fine so I suspect your problem lies in your test cases rather than here.</p>\n\n<p>One thing I will mention is that use of <code>if-return-else</code> constructs tend to complicate your code unnecessarily.</p>\n\n<p>It's usually better to avoid that with something like:</p>\n\n<pre><code>public static boolean search(\n    int[] findIn, int target, int len)\n{\n    if (len == 0)\n        return false;\n    if (findIn[len-1] == target)\n        return true;\n    return search(findIn, target, len-1);\n}\n</code></pre>\n\n<p>I find that a lot easier to follow at a glance than trying to track what <code>if</code> clause I happen to be in at any given moment.</p>\n\n<p>In any case, both it and your version perform fine, at least for small test cases. The first time you pass in a ten-million-element array is probably when you'll discover it's not the <em>best</em> poster child for recursion.</p>\n"},{"tags":[],"owner":{"account_id":2165900,"reputation":1357,"user_id":1919022,"accept_rate":86,"display_name":"luuksen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1417210557,"creation_date":1417210557,"answer_id":27196213,"question_id":27195883,"body_markdown":"I am almost certain, that your method parameters are in the wrong order:\r\n\r\nYour results hint that you switched the 2nd and 3rd parameter!\r\n\r\nMaybe this\r\n\r\n    static boolean search(int[] findIn, int target, int len)\r\n\r\nshould actually be\r\n\r\n    static boolean search(int[] findIn, int len, int target)","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<p>I am almost certain, that your method parameters are in the wrong order:</p>\n\n<p>Your results hint that you switched the 2nd and 3rd parameter!</p>\n\n<p>Maybe this</p>\n\n<pre><code>static boolean search(int[] findIn, int target, int len)\n</code></pre>\n\n<p>should actually be</p>\n\n<pre><code>static boolean search(int[] findIn, int len, int target)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7245632,"reputation":31,"user_id":5527629,"display_name":"AutomationLearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453361795,"creation_date":1453361795,"answer_id":34917873,"question_id":27195883,"body_markdown":"I tried something like this and it is working..\r\nI am using a static instance variable to find the position of number in array.\r\nIn stead of returning the position of number you can modify to return a boolean \r\n    \r\n    public class RecSearch {\r\n    \tstatic int pos=0;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint a[] = {1};\r\n    \t\tSystem.out.println(recSearch(a, 0));\r\n    \t\tSystem.out.println(recSearch(a, 1));\r\n    \t}\r\n    \tpublic static int recursiveSearch(int[] arr, int numtoSearch) {\r\n    \t\tif (pos&gt;=arr.length) {\r\n    \t\t\tpos=0;\r\n    \t\t\treturn -1;\r\n    \t\t}\r\n    \t\tif (arr[pos]==numtoSearch)\r\n    \t\t\treturn (pos+1);\r\n    \t\telse {\r\n    \t\t\tpos++;\r\n    \t\t\treturn recursiveSearch(arr, numtoSearch);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<p>I tried something like this and it is working..\nI am using a static instance variable to find the position of number in array.\nIn stead of returning the position of number you can modify to return a boolean </p>\n\n<pre><code>public class RecSearch {\n    static int pos=0;\n    public static void main(String[] args) {\n        int a[] = {1};\n        System.out.println(recSearch(a, 0));\n        System.out.println(recSearch(a, 1));\n    }\n    public static int recursiveSearch(int[] arr, int numtoSearch) {\n        if (pos&gt;=arr.length) {\n            pos=0;\n            return -1;\n        }\n        if (arr[pos]==numtoSearch)\n            return (pos+1);\n        else {\n            pos++;\n            return recursiveSearch(arr, numtoSearch);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16834777,"reputation":1,"user_id":12171773,"display_name":"Harshit Kuchhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604156705,"creation_date":1604153849,"answer_id":64622660,"question_id":27195883,"body_markdown":"    public class Solution {\r\n    \t\r\n    \tpublic static boolean checkNumber(int input[], int x) {\r\n            \r\n    \t\treturn check(input,x,0);\r\n    \t}\r\n        \r\n        public static boolean check(int input[],int x,int start){\r\n            if(start==input.length)\r\n                return false;\r\n            if(input[start]==x)\r\n                return true;\r\n            return check(input,x,start+1);\r\n        }\r\n        \r\n    }","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<pre><code>public class Solution {\n    \n    public static boolean checkNumber(int input[], int x) {\n        \n        return check(input,x,0);\n    }\n    \n    public static boolean check(int input[],int x,int start){\n        if(start==input.length)\n            return false;\n        if(input[start]==x)\n            return true;\n        return check(input,x,start+1);\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":4163103,"reputation":61,"user_id":3412722,"accept_rate":80,"display_name":"user3412722"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12683,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27196213,"answer_count":4,"score":2,"last_activity_date":1672428481,"creation_date":1417208798,"question_id":27195883,"body_markdown":"I&#39;m trying to write a recursive method that accepts an int array, number of elements in the array, and an integer, and returns whether the integer is present as an element in the array.I just can&#39;t figure out why I this isn&#39;t working for all my test cases. Any help would be much appreciated!\r\n\r\n    public static boolean search(int[] findIn, int target, int len){\r\n\t\tif(len == 0){\r\n\t\t\treturn false;\r\n\t\t}else if(findIn[len-1] == target){\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\treturn search(findIn, target, len-1);\r\n\t\t}\t\r\n\t}\r\n\r\nYes I realize there are better ways other than recursion to do this, but it is required that I do it this way.\r\n\r\nMy main method looks like this: I&#39;m just hard-coding it for the time being:\r\n\r\n    int[] arr = {1};\r\n\tSystem.out.println(search(arr,1,1));\r\n\r\nTestcases:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7qb4Z.png","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<p>I'm trying to write a recursive method that accepts an int array, number of elements in the array, and an integer, and returns whether the integer is present as an element in the array.I just can't figure out why I this isn't working for all my test cases. Any help would be much appreciated!</p>\n\n<pre><code>public static boolean search(int[] findIn, int target, int len){\n    if(len == 0){\n        return false;\n    }else if(findIn[len-1] == target){\n        return true;\n    }else{\n        return search(findIn, target, len-1);\n    }   \n}\n</code></pre>\n\n<p>Yes I realize there are better ways other than recursion to do this, but it is required that I do it this way.</p>\n\n<p>My main method looks like this: I'm just hard-coding it for the time being:</p>\n\n<pre><code>int[] arr = {1};\nSystem.out.println(search(arr,1,1));\n</code></pre>\n\n<p>Testcases:\n<img src=\"https://i.stack.imgur.com/7qb4Z.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android","swipecardview"],"answers":[{"tags":[],"owner":{"account_id":22816146,"reputation":1,"user_id":16966728,"display_name":"Denos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672428327,"creation_date":1672420493,"answer_id":74964119,"question_id":74962356,"body_markdown":"Managed to make it work by making my own Adapter that extends ArrayAdapter&lt;String&gt;.\r\nHere is the code for anyone interested:\r\n\r\n    public class MyCustomAdapter extends ArrayAdapter&lt;String&gt; {\r\n\r\n        private Context mContext;\r\n        private List&lt;String&gt; mData;\r\n        private int mResource;\r\n        private int mTextViewResourceId;\r\n        private int mColor;\r\n\r\n        public MyCustomAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull List&lt;String&gt; objects, int color) {\r\n            super(context, resource, textViewResourceId, objects);\r\n            mContext = context;\r\n            mResource = resource;\r\n            mTextViewResourceId = textViewResourceId;\r\n            mData = objects;\r\n            mColor = color;\r\n        }\r\n\r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            View view = super.getView(position, convertView, parent);\r\n            CardView cardView = view.findViewById(R.id.card_view);\r\n            cardView.setCardBackgroundColor(mColor);\r\n            return view;\r\n        }\r\n    }","title":"Change color for a Swipe Card not working (lorentzos Swipecards)","body":"<p>Managed to make it work by making my own Adapter that extends ArrayAdapter.\nHere is the code for anyone interested:</p>\n<pre><code>public class MyCustomAdapter extends ArrayAdapter&lt;String&gt; {\n\n    private Context mContext;\n    private List&lt;String&gt; mData;\n    private int mResource;\n    private int mTextViewResourceId;\n    private int mColor;\n\n    public MyCustomAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull List&lt;String&gt; objects, int color) {\n        super(context, resource, textViewResourceId, objects);\n        mContext = context;\n        mResource = resource;\n        mTextViewResourceId = textViewResourceId;\n        mData = objects;\n        mColor = color;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        View view = super.getView(position, convertView, parent);\n        CardView cardView = view.findViewById(R.id.card_view);\n        cardView.setCardBackgroundColor(mColor);\n        return view;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22816146,"reputation":1,"user_id":16966728,"display_name":"Denos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672428327,"creation_date":1672408730,"question_id":74962356,"body_markdown":"I am building an app that uses:\r\n\r\n```\r\nimplementation &#39;com.lorentzos.swipecards:library:1.0.9@aar&#39;\r\n```\r\n\r\nfor  Swipe Cards. [level 1 color](https://i.stack.imgur.com/wQ05Z.png), [level 2 color](https://i.stack.imgur.com/d48Pq.png)\r\n\r\nIt changes the color of the card but not on the com.lorentzos.flingswipe.SwipeFlingAdapterView itself.\r\n\r\nIf I set the color for com.lorentzos.flingswipe.SwipeFlingAdapterView it only changes the background color, not the color of the card.\r\n\r\nThe implementation has its own Adapter here: \r\n\r\n```\r\n//questions from the MainActivity.class\r\nArrayList &lt;String&gt;  questionsList = (ArrayList&lt;String&gt;) intent.getSerializableExtra(&quot;levelList&quot;);\r\n\r\nSwipeFlingAdapterView swipeFlingAdapterView = (SwipeFlingAdapterView) findViewById(R.id.card);\r\n\r\narrayAdapter = new ArrayAdapter&lt;String&gt;(this, R.layout.details, R.id.card_text, questionsList );\r\n\r\nswipeFlingAdapterView.setAdapter(arrayAdapter);\r\n```\r\n\r\n\r\n I want to change the color of the swipe card depending on the level provided (there are currently 3 levels). Using the :\r\n```\r\n//gets the color for each level\r\nString cardColor = intent.getStringExtra(&quot;cardColorBackground&quot;);\r\n//Sets the color for the card\r\nCardView cardView = findViewById(R.id.card_view);\r\ncardView.setCardBackgroundColor(Color.parseColor(cardColor));\r\n```\r\ndoes not work. It changes the color of the card, but not on the \r\n```\r\ncom.lorentzos.flingswipe.SwipeFlingAdapterView\r\n```\r\nitself.\r\n\r\nI guess I have to make my own Adapter, but I don&#39;t know what to change for it.\r\n\r\nCan you please help ? \r\nMuch appreciated!\r\nP.S: I am still learning Java Android, I am currently a college student and want to work in the field.","title":"Change color for a Swipe Card not working (lorentzos Swipecards)","body":"<p>I am building an app that uses:</p>\n<pre><code>implementation 'com.lorentzos.swipecards:library:1.0.9@aar'\n</code></pre>\n<p>for  Swipe Cards. <a href=\"https://i.stack.imgur.com/wQ05Z.png\" rel=\"nofollow noreferrer\">level 1 color</a>, <a href=\"https://i.stack.imgur.com/d48Pq.png\" rel=\"nofollow noreferrer\">level 2 color</a></p>\n<p>It changes the color of the card but not on the com.lorentzos.flingswipe.SwipeFlingAdapterView itself.</p>\n<p>If I set the color for com.lorentzos.flingswipe.SwipeFlingAdapterView it only changes the background color, not the color of the card.</p>\n<p>The implementation has its own Adapter here:</p>\n<pre><code>//questions from the MainActivity.class\nArrayList &lt;String&gt;  questionsList = (ArrayList&lt;String&gt;) intent.getSerializableExtra(&quot;levelList&quot;);\n\nSwipeFlingAdapterView swipeFlingAdapterView = (SwipeFlingAdapterView) findViewById(R.id.card);\n\narrayAdapter = new ArrayAdapter&lt;String&gt;(this, R.layout.details, R.id.card_text, questionsList );\n\nswipeFlingAdapterView.setAdapter(arrayAdapter);\n</code></pre>\n<p>I want to change the color of the swipe card depending on the level provided (there are currently 3 levels). Using the :</p>\n<pre><code>//gets the color for each level\nString cardColor = intent.getStringExtra(&quot;cardColorBackground&quot;);\n//Sets the color for the card\nCardView cardView = findViewById(R.id.card_view);\ncardView.setCardBackgroundColor(Color.parseColor(cardColor));\n</code></pre>\n<p>does not work. It changes the color of the card, but not on the</p>\n<pre><code>com.lorentzos.flingswipe.SwipeFlingAdapterView\n</code></pre>\n<p>itself.</p>\n<p>I guess I have to make my own Adapter, but I don't know what to change for it.</p>\n<p>Can you please help ?\nMuch appreciated!\nP.S: I am still learning Java Android, I am currently a college student and want to work in the field.</p>\n"},{"tags":["java","excel","apache-poi","xssf"],"owner":{"account_id":236053,"reputation":125,"user_id":503285,"accept_rate":67,"display_name":"user503285"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672427862,"creation_date":1672427862,"question_id":74965090,"body_markdown":"I have a excel in which a column **A** has values with ~ characters &#39;Total Assets (~)&#39; \r\nWhen Column **A** is selected, excel will automatically populate column b with corresponding id\r\nusing formula **VLOOKUP(SUBSTITUTE(E2,&quot;~&quot;,&quot;~~&quot;),Sheet2!A:B,2,FALSE)**\r\n\r\nI have written substitute to overcome ~ character issue.\r\nBut if I try to upload the above excel for processing using Apache POI to process\r\ngetting ERROR as cellType. Wrote below code to process   \r\n\r\n    XSSFCell vCell = vRow.getCell (2);\r\n    \r\n      String vCellValue = vCell.getCellFormula ();\r\n      FormulaEvaluator evaluator = vWorkbook.getCreationHelper().createFormulaEvaluator();\r\n      CellType cellType = evaluator.evaluateFormulaCell(vCell);\r\n\r\nBut unfortunately when evaluator process the cell, its returing cellType as ERROR.\r\n\r\nAny ideas.\r\n\r\n","title":"Apache POI VLookup substiture","body":"<p>I have a excel in which a column <strong>A</strong> has values with ~ characters 'Total Assets (~)'\nWhen Column <strong>A</strong> is selected, excel will automatically populate column b with corresponding id\nusing formula <strong>VLOOKUP(SUBSTITUTE(E2,&quot;~&quot;,&quot;~~&quot;),Sheet2!A:B,2,FALSE)</strong></p>\n<p>I have written substitute to overcome ~ character issue.\nBut if I try to upload the above excel for processing using Apache POI to process\ngetting ERROR as cellType. Wrote below code to process</p>\n<pre><code>XSSFCell vCell = vRow.getCell (2);\n\n  String vCellValue = vCell.getCellFormula ();\n  FormulaEvaluator evaluator = vWorkbook.getCreationHelper().createFormulaEvaluator();\n  CellType cellType = evaluator.evaluateFormulaCell(vCell);\n</code></pre>\n<p>But unfortunately when evaluator process the cell, its returing cellType as ERROR.</p>\n<p>Any ideas.</p>\n"},{"tags":["java","akka","akka-http"],"comments":[{"owner":{"account_id":75725,"reputation":503,"user_id":217125,"display_name":"earthling paul"},"score":0,"creation_date":1672498803,"post_id":74965063,"comment_id":132299263,"body_markdown":"You may have a look at the doc: https://doc.akka.io/docs/akka-http/current/client-side/request-level.html#request-level-client-side-api","body":"You may have a look at the doc: <a href=\"https://doc.akka.io/docs/akka-http/current/client-side/request-level.html#request-level-client-side-api\" rel=\"nofollow noreferrer\">doc.akka.io/docs/akka-http/current/client-side/&hellip;</a>"}],"owner":{"account_id":26895385,"reputation":1,"user_id":20521276,"display_name":"MechSE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672427717,"creation_date":1672427717,"question_id":74965063,"body_markdown":"I have been struggling to simply perform a GET request to the Spotify API and parse the results of the request. I haven&#39;t been able to successfully do it despite trying to follow the docs. I am trying to achieve this within an Actor. I have tried making the HttpEntity a strict HttpEntity but this returns an error. I am not sure if this is due to dependency issues or if it is simply the incorrect approach. What I would like to do is obtain the entire payload of the response and parse it to then return it to another actor. I am unsure what should go inside of the try block to achieve this. Thanks very much.\r\n\r\n\r\n```\r\n\r\nActorSystem actorSystem = getContext().getSystem();\r\nHttp http = Http.get(actorSystem);\r\nString endpoint = &quot;https://api.spotify.com/v1/artists/1moxjboGR7GNWYIMWsRjgG/top-tracks?market=IE&quot;;\r\nAuthorization authorization = Authorization.oauth2(&quot;REDACTED&quot;);\r\nHttpRequest request = HttpRequest.create().withUri(endpoint).addHeader(authorization);\r\nCompletionStage&lt;HttpResponse&gt; responseFuture = http.singleRequest(request)\r\nresponseFuture.thenAccept(response -&gt; {\r\n    try {\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nHave tried casting entity to a strict entity but this results in an error.","title":"How can I send a GET request in Akka (Java) and obtain the JSON body of the response?","body":"<p>I have been struggling to simply perform a GET request to the Spotify API and parse the results of the request. I haven't been able to successfully do it despite trying to follow the docs. I am trying to achieve this within an Actor. I have tried making the HttpEntity a strict HttpEntity but this returns an error. I am not sure if this is due to dependency issues or if it is simply the incorrect approach. What I would like to do is obtain the entire payload of the response and parse it to then return it to another actor. I am unsure what should go inside of the try block to achieve this. Thanks very much.</p>\n<pre><code>\nActorSystem actorSystem = getContext().getSystem();\nHttp http = Http.get(actorSystem);\nString endpoint = &quot;https://api.spotify.com/v1/artists/1moxjboGR7GNWYIMWsRjgG/top-tracks?market=IE&quot;;\nAuthorization authorization = Authorization.oauth2(&quot;REDACTED&quot;);\nHttpRequest request = HttpRequest.create().withUri(endpoint).addHeader(authorization);\nCompletionStage&lt;HttpResponse&gt; responseFuture = http.singleRequest(request)\nresponseFuture.thenAccept(response -&gt; {\n    try {\n}\n\n\n</code></pre>\n<p>Have tried casting entity to a strict entity but this results in an error.</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672427698,"creation_date":1672427698,"answer_id":74965061,"question_id":74959543,"body_markdown":"No, `@Formula`s are not parametrizable. Sorry.\r\n","title":"Use parameters inside @Formula Annotation","body":"<p>No, <code>@Formula</code>s are not parametrizable. Sorry.</p>\n"}],"owner":{"account_id":5071367,"reputation":626,"user_id":4070046,"accept_rate":60,"display_name":"Sebastian G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672427698,"creation_date":1672388752,"question_id":74959543,"body_markdown":"Is it possible to use @Param in @Formula annotations when defined in the actual JPA Method.\r\n\r\nLets say this is my Formula annotation for calculating distance between two points in Postgre.\r\n\r\n       @Formula(&quot;(SELECT point(:lat, :lon) &lt;@&gt; (point(clubAddress.longitude, clubAddress.latitude)\\\\:\\\\:point) FROM club_address clubAddress WHERE clubAddress.id = id)&quot;)\r\n\r\n\r\nAnd this is the actual method\r\n \r\n\r\n    List&lt;ClubAddress&gt; getClubAddressClosestBy(@Param(&quot;lat&quot;) double latitude, @Param(&quot;lon&quot;) double longitude);\r\n\r\nWhen using this Spring complains that im not using the Param in the actual query which is true. Is there a way to &quot;trick&quot; Spring into thinking it?","title":"Use parameters inside @Formula Annotation","body":"<p>Is it possible to use @Param in @Formula annotations when defined in the actual JPA Method.</p>\n<p>Lets say this is my Formula annotation for calculating distance between two points in Postgre.</p>\n<pre><code>   @Formula(&quot;(SELECT point(:lat, :lon) &lt;@&gt; (point(clubAddress.longitude, clubAddress.latitude)\\\\:\\\\:point) FROM club_address clubAddress WHERE clubAddress.id = id)&quot;)\n</code></pre>\n<p>And this is the actual method</p>\n<pre><code>List&lt;ClubAddress&gt; getClubAddressClosestBy(@Param(&quot;lat&quot;) double latitude, @Param(&quot;lon&quot;) double longitude);\n</code></pre>\n<p>When using this Spring complains that im not using the Param in the actual query which is true. Is there a way to &quot;trick&quot; Spring into thinking it?</p>\n"},{"tags":["java","android","android-activity","switch-statement","android-fragmentactivity"],"comments":[{"owner":{"account_id":18361596,"reputation":91,"user_id":13373575,"display_name":"MadMax"},"score":0,"creation_date":1642105621,"post_id":70701678,"comment_id":124990369,"body_markdown":"Just send the title as an argument from A or B activity and receive it in X activity. You don&#39;t need a switch case for this.","body":"Just send the title as an argument from A or B activity and receive it in X activity. You don&#39;t need a switch case for this."}],"answers":[{"tags":[],"owner":{"account_id":23934334,"reputation":346,"user_id":17928307,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642115641,"creation_date":1642115641,"answer_id":70704251,"question_id":70701678,"body_markdown":"Send the title as an intent extra (or an argument if you&#39;re using Navigation Component).\r\n\r\n```\r\nIntent intent = new Intent(this, ActivityX.class);   \r\nintent.putExtra(&quot;EXTRA_TITLE&quot;, strTitle);\r\nstartActivity(intent);\r\n```\r\n&quot;strTitle&quot; can be retrieved in ActivityX.","title":"How can I change a label according to origin of an Activity&#39;s opening (Java)?","body":"<p>Send the title as an intent extra (or an argument if you're using Navigation Component).</p>\n<pre><code>Intent intent = new Intent(this, ActivityX.class);   \nintent.putExtra(&quot;EXTRA_TITLE&quot;, strTitle);\nstartActivity(intent);\n</code></pre>\n<p>&quot;strTitle&quot; can be retrieved in ActivityX.</p>\n"}],"owner":{"account_id":23932982,"reputation":1,"user_id":17927169,"display_name":"rafaelahm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672427564,"creation_date":1642100170,"question_id":70701678,"body_markdown":"An **Activity X** can be opened from the **Button A** in **Activity A** and from **button B** in **Activity B**, and it should change the label title in XML in **Activity X** accordingly.\r\n\r\n**I don&#39;t know how to create the following condition:**\r\n\r\n```\r\nswitch (i) {\r\n            case 0:\r\n                binding.lTitle.setText(getString(R.string.benefits_text));\r\n                break;\r\n            case 1:\r\n                binding.lTitle.setText(getString(R.string.coverages_text));\r\n                binding.lInfoText.setVisibility(View.GONE);\r\n                break;\r\n}\r\n```","title":"How can I change a label according to origin of an Activity&#39;s opening (Java)?","body":"<p>An <strong>Activity X</strong> can be opened from the <strong>Button A</strong> in <strong>Activity A</strong> and from <strong>button B</strong> in <strong>Activity B</strong>, and it should change the label title in XML in <strong>Activity X</strong> accordingly.</p>\n<p><strong>I don't know how to create the following condition:</strong></p>\n<pre><code>switch (i) {\n            case 0:\n                binding.lTitle.setText(getString(R.string.benefits_text));\n                break;\n            case 1:\n                binding.lTitle.setText(getString(R.string.coverages_text));\n                binding.lInfoText.setVisibility(View.GONE);\n                break;\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9226,"page":766,"page_size":100}
