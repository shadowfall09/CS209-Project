{"items":[{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":539671,"reputation":25438,"user_id":907590,"accept_rate":57,"display_name":"Parvin Gasimzade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681586587,"creation_date":1681586587,"answer_id":76024324,"question_id":76022415,"body_markdown":"The issue is caused because the `DefaultKafkaProducerFactory` is defined with wildcard types for its key and value serializers. Parameters sent to the `setKeySerializer` or `setValueSerializer` methods are not compatible with the specific serializer type. It&#39;s expecting `Serializer&lt;?&gt;` but you are providing `StringSerializer` or `DelegatingByTypeSerializer`.\r\n\r\nUsing the type cast (code below) should solve the problem; \r\n\r\n    @Bean\r\n    public DefaultKafkaProducerFactoryCustomizer defaultKafkaProducerFactoryCustomizer() {\r\n      return (producerFactory) -&gt; {\r\n        producerFactory.setKeySerializer((Serializer&lt;String&gt;) new StringSerializer());\r\n      };\r\n    }\r\n\r\n\r\n\r\n    producerFactory.setValueSerializer((Serializer&lt;Object&gt;) new DelegatingByTypeSerializer(\r\n          Map.of(\r\n              byte[].class,\r\n              new ByteArraySerializer(),\r\n              Foo.class,\r\n              new JsonSerializer&lt;&gt;())\r\n    ));\r\n\r\n","title":"Incompatible types when trying serialization with producer customizer","body":"<p>The issue is caused because the <code>DefaultKafkaProducerFactory</code> is defined with wildcard types for its key and value serializers. Parameters sent to the <code>setKeySerializer</code> or <code>setValueSerializer</code> methods are not compatible with the specific serializer type. It's expecting <code>Serializer&lt;?&gt;</code> but you are providing <code>StringSerializer</code> or <code>DelegatingByTypeSerializer</code>.</p>\n<p>Using the type cast (code below) should solve the problem;</p>\n<pre><code>@Bean\npublic DefaultKafkaProducerFactoryCustomizer defaultKafkaProducerFactoryCustomizer() {\n  return (producerFactory) -&gt; {\n    producerFactory.setKeySerializer((Serializer&lt;String&gt;) new StringSerializer());\n  };\n}\n\n\n\nproducerFactory.setValueSerializer((Serializer&lt;Object&gt;) new DelegatingByTypeSerializer(\n      Map.of(\n          byte[].class,\n          new ByteArraySerializer(),\n          Foo.class,\n          new JsonSerializer&lt;&gt;())\n));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682211535,"creation_date":1682211038,"answer_id":76082605,"question_id":76022415,"body_markdown":"The compilation error on `setKeySerializer` goes away after casting the `producerFactory` variable from `DefaultKafkaProducerFactory&lt;?, ?&gt;` to `DefaultKafkaProducerFactory&lt;String, ?&gt;`. A similar cast works for `setValueSerializer` method as well. Bean definition below:\r\n\r\n```java\r\n@Bean\r\npublic DefaultKafkaProducerFactoryCustomizer defaultKafkaProducerFactoryCustomizer() {\r\n\treturn (producerFactory) -&gt; {\r\n\t\t((DefaultKafkaProducerFactory&lt;String, ?&gt;) producerFactory).setKeySerializer(new StringSerializer());\r\n\t\t((DefaultKafkaProducerFactory&lt;?, Object&gt;) producerFactory)\r\n\t\t\t\t.setValueSerializer(new DelegatingByTypeSerializer(\r\n\t\t\t\t\t\tMap.of(\r\n\t\t\t\t\t\t\tbyte[].class, \r\n\t\t\t\t\t\t\tnew ByteArraySerializer(), \r\n\t\t\t\t\t\t\tFoo.class, \r\n\t\t\t\t\t\t\tnew JsonSerializer&lt;&gt;())));\r\n\t};\r\n}\r\n```","title":"Incompatible types when trying serialization with producer customizer","body":"<p>The compilation error on <code>setKeySerializer</code> goes away after casting the <code>producerFactory</code> variable from <code>DefaultKafkaProducerFactory&lt;?, ?&gt;</code> to <code>DefaultKafkaProducerFactory&lt;String, ?&gt;</code>. A similar cast works for <code>setValueSerializer</code> method as well. Bean definition below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic DefaultKafkaProducerFactoryCustomizer defaultKafkaProducerFactoryCustomizer() {\n    return (producerFactory) -&gt; {\n        ((DefaultKafkaProducerFactory&lt;String, ?&gt;) producerFactory).setKeySerializer(new StringSerializer());\n        ((DefaultKafkaProducerFactory&lt;?, Object&gt;) producerFactory)\n                .setValueSerializer(new DelegatingByTypeSerializer(\n                        Map.of(\n                            byte[].class, \n                            new ByteArraySerializer(), \n                            Foo.class, \n                            new JsonSerializer&lt;&gt;())));\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76082605,"answer_count":2,"score":0,"last_activity_date":1682211535,"creation_date":1681563487,"question_id":76022415,"body_markdown":"I am using spring for kafka, and I want to use the `DefaultKafkaProducerFactoryCustomizer` to customize my producer factory because I need multiple value serializer, so I start with\r\n\r\n      @Bean\r\n      public DefaultKafkaProducerFactoryCustomizer defaultKafkaProducerFactoryCustomizer() {\r\n        return (producerFactory) -&gt; {\r\n          producerFactory.setKeySerializer(new StringSerializer());\r\n        };\r\n      }\r\n\r\nBut the compiler isn&#39;t happy\r\n\r\n    incompatible types: org.apache.kafka.common.serialization.StringSerializer cannot be \r\n    converted to org.apache.kafka.common.serialization.Serializer&lt;capture#1 of ?&gt;\r\n\r\nsame issue with (I use the `ByteArraySerializer` to send message that failed to deserialize to dlq)\r\n\r\n      producerFactory.setValueSerializer(\r\n          new DelegatingByTypeSerializer(\r\n              Map.of(\r\n                  byte[].class,\r\n                  new ByteArraySerializer(),\r\n                  Foo.class,\r\n                  new JsonSerializer&lt;&gt;())));\r\nI got:\r\n\r\n    incompatible types: org.springframework.kafka.support.serializer.DelegatingByTypeSerializer \r\n    cannot be converted to org.apache.kafka.common.serialization.Serializer&lt;capture#1 of ?&gt;\r\n\r\nbut it work fine with just\r\n\r\n    producerFactory.setValueSerializer(new JsonSerializer&lt;&gt;());\r\n\r\nthe `DefaultKafkaProducerFactoryCustomizer` class is defined like this\r\n\r\n    @FunctionalInterface\r\n    public interface DefaultKafkaProducerFactoryCustomizer {\r\n    \r\n    \t/**\r\n    \t * Customize the {@link DefaultKafkaProducerFactory}.\r\n    \t * @param producerFactory the producer factory to customize\r\n    \t */\r\n    \tvoid customize(DefaultKafkaProducerFactory&lt;?, ?&gt; producerFactory);\r\n    \r\n    }\r\n\r\nHow to solve this issue ?\r\n\r\nI know the other alternatives to configure `ValueSerialize` and `KeySerializer` but i want to know first why my code isn&#39;t working as excepted","title":"Incompatible types when trying serialization with producer customizer","body":"<p>I am using spring for kafka, and I want to use the <code>DefaultKafkaProducerFactoryCustomizer</code> to customize my producer factory because I need multiple value serializer, so I start with</p>\n<pre><code>  @Bean\n  public DefaultKafkaProducerFactoryCustomizer defaultKafkaProducerFactoryCustomizer() {\n    return (producerFactory) -&gt; {\n      producerFactory.setKeySerializer(new StringSerializer());\n    };\n  }\n</code></pre>\n<p>But the compiler isn't happy</p>\n<pre><code>incompatible types: org.apache.kafka.common.serialization.StringSerializer cannot be \nconverted to org.apache.kafka.common.serialization.Serializer&lt;capture#1 of ?&gt;\n</code></pre>\n<p>same issue with (I use the <code>ByteArraySerializer</code> to send message that failed to deserialize to dlq)</p>\n<pre><code>  producerFactory.setValueSerializer(\n      new DelegatingByTypeSerializer(\n          Map.of(\n              byte[].class,\n              new ByteArraySerializer(),\n              Foo.class,\n              new JsonSerializer&lt;&gt;())));\n</code></pre>\n<p>I got:</p>\n<pre><code>incompatible types: org.springframework.kafka.support.serializer.DelegatingByTypeSerializer \ncannot be converted to org.apache.kafka.common.serialization.Serializer&lt;capture#1 of ?&gt;\n</code></pre>\n<p>but it work fine with just</p>\n<pre><code>producerFactory.setValueSerializer(new JsonSerializer&lt;&gt;());\n</code></pre>\n<p>the <code>DefaultKafkaProducerFactoryCustomizer</code> class is defined like this</p>\n<pre><code>@FunctionalInterface\npublic interface DefaultKafkaProducerFactoryCustomizer {\n\n    /**\n     * Customize the {@link DefaultKafkaProducerFactory}.\n     * @param producerFactory the producer factory to customize\n     */\n    void customize(DefaultKafkaProducerFactory&lt;?, ?&gt; producerFactory);\n\n}\n</code></pre>\n<p>How to solve this issue ?</p>\n<p>I know the other alternatives to configure <code>ValueSerialize</code> and <code>KeySerializer</code> but i want to know first why my code isn't working as excepted</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682181681,"post_id":76079818,"comment_id":134176462,"body_markdown":"Your actual question is *&quot;how can this be improved&quot;*.  That is too broad.  Please ask a specific question.","body":"Your actual question is <i>&quot;how can this be improved&quot;</i>.  That is too broad.  Please ask a specific question."}],"answers":[{"tags":[],"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682211267,"creation_date":1682211267,"answer_id":76082614,"question_id":76079818,"body_markdown":"\r\n**Solution Offered:**\r\nA simple solution for the above problem mentioned would be something like this I presume. May need to add some additional functionality if you need to handle complex maths formulas.\r\n\r\n    import java.util.*;\r\n    \r\n    public class Calculator {\r\n        private static final Map&lt;String, Integer&gt; OPERATOR_PRECEDENCE = new HashMap&lt;&gt;();\r\n    \r\n        static {\r\n            OPERATOR_PRECEDENCE.put(&quot;+&quot;, 1);\r\n            OPERATOR_PRECEDENCE.put(&quot;-&quot;, 1);\r\n            OPERATOR_PRECEDENCE.put(&quot;*&quot;, 2);\r\n            OPERATOR_PRECEDENCE.put(&quot;/&quot;, 2);\r\n            OPERATOR_PRECEDENCE.put(&quot;^&quot;, 3);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try (Scanner scanner = new Scanner(System.in)) {\r\n                System.out.print(&quot;Enter a math problem starting with &#39;calculate&#39;: &quot;);\r\n                String input = scanner.nextLine();\r\n                if (!input.startsWith(&quot;calculate &quot;)) {\r\n                    System.out.println(&quot;Error: Input must start with &#39;calculate&#39;&quot;);\r\n                    return;\r\n                }\r\n                String input_trimmed = input.trim();\r\n                System.out.println(&quot;input_trimmed &quot; + input_trimmed);\r\n                String expression = input_trimmed.substring(&quot;calculate &quot;.length());\r\n                System.out.println(&quot;expression &quot; + expression);\r\n                try {\r\n                    validateExpression(expression);\r\n                    double result = evaluate(expression);\r\n                    System.out.println(&quot;Result: &quot; + result);\r\n                } catch (NumberFormatException e) {\r\n                    System.out.println(&quot;Error: Invalid number in expression&quot;);\r\n                } catch (ArithmeticException e) {\r\n                    System.out.println(&quot;Error: Division by zero&quot;);\r\n                } catch (IllegalArgumentException e) {\r\n                    System.out.println(&quot;Error: &quot; + e.getMessage());\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    System.out.println(&quot;Error: Invalid expression &quot;);\r\n    \r\n                }\r\n            }\r\n        }\r\n    \r\n        private static double evaluate(String expression) throws Exception {\r\n            String[] tokens = expression.split(&quot;\\\\s+&quot;);\r\n            if (tokens.length &lt; 3 || tokens.length % 2 == 0) {\r\n                throw new IllegalArgumentException(&quot;Expression must contain at least one operator and two operands&quot;);\r\n            }\r\n            List&lt;String&gt; outputQueue = shuntingYard(tokens);\r\n            return evaluatePostfix(outputQueue);\r\n        }\r\n    \r\n        private static List&lt;String&gt; shuntingYard(String[] tokens) throws Exception {\r\n            Stack&lt;String&gt; operatorStack = new Stack&lt;&gt;();\r\n            List&lt;String&gt; outputQueue = new ArrayList&lt;&gt;();\r\n    \r\n            for (String token : tokens) {\r\n                if (isNumber(token)) {\r\n                    outputQueue.add(token);\r\n                } else if (isOperator(token)) {\r\n                    while (!operatorStack.isEmpty() &amp;&amp; hasHigherPrecedence(operatorStack.peek(), token) &amp;&amp; !operatorStack.peek().equals(&quot;(&quot;)) {\r\n                        outputQueue.add(operatorStack.pop());\r\n                    }\r\n                    operatorStack.push(token);\r\n                } else if (token.equals(&quot;(&quot;)) {\r\n                    operatorStack.push(token);\r\n                } else if (token.equals(&quot;)&quot;)) {\r\n                    while (!operatorStack.isEmpty() &amp;&amp; !operatorStack.peek().equals(&quot;(&quot;)) {\r\n                        outputQueue.add(operatorStack.pop());\r\n                    }\r\n                    if (!operatorStack.isEmpty() &amp;&amp; operatorStack.peek().equals(&quot;(&quot;)) {\r\n                        operatorStack.pop();\r\n                    } else {\r\n                        throw new IllegalArgumentException(&quot;Mismatched parentheses&quot;);\r\n                    }\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Invalid token: &quot; + token);\r\n                }\r\n            }\r\n    \r\n            while (!operatorStack.isEmpty()) {\r\n                if (operatorStack.peek().equals(&quot;(&quot;) || operatorStack.peek().equals(&quot;)&quot;)) {\r\n                    throw new IllegalArgumentException(&quot;Mismatched parentheses&quot;);\r\n                }\r\n                outputQueue.add(operatorStack.pop());\r\n            }\r\n    \r\n            return outputQueue;\r\n        }\r\n    \r\n        private static double evaluatePostfix(List&lt;String&gt; outputQueue) throws Exception {\r\n    \t\tStack&lt;Double&gt; operandStack = new Stack&lt;&gt;();\r\n    \r\n    \t\tfor (String token : outputQueue) {\r\n    \t\t\tif (isNumber(token)) {\r\n    \t\t\t\toperandStack.push(Double.parseDouble(token));\r\n    \t\t\t} else if (isOperator(token)) {\r\n    \t\t\t\tif (operandStack.size() &lt; 2) {\r\n    \t\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid expression&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tdouble rightOperand = operandStack.pop();\r\n    \t\t\t\tdouble leftOperand = operandStack.pop();\r\n    \t\t\t\tdouble result = evaluateExpression(leftOperand, rightOperand, token);\r\n    \t\t\t\toperandStack.push(result);\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new IllegalArgumentException(&quot;Invalid token: &quot; + token);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (operandStack.size() != 1) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid expression&quot;);\r\n    \t\t}\r\n    \r\n    \t\treturn operandStack.pop();\r\n    \t}\r\n    \r\n    \tprivate static boolean isNumber(String token) {\r\n    \t\ttry {\r\n    \t\t\tDouble.parseDouble(token);\r\n    \t\t\treturn true;\r\n    \t\t} catch (NumberFormatException e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static boolean isOperator(String token) {\r\n    \t\treturn OPERATOR_PRECEDENCE.containsKey(token);\r\n    \t}\r\n    \r\n    \tprivate static boolean hasHigherPrecedence(String op1, String op2) {\r\n    \t\treturn OPERATOR_PRECEDENCE.get(op1) &gt;= OPERATOR_PRECEDENCE.get(op2);\r\n    \t}\r\n    \r\n    \tprivate static double evaluateExpression(double leftOperand, double rightOperand, String operator) {\r\n    \t\tswitch (operator) {\r\n    \t\tcase &quot;+&quot;:\r\n    \t\t\treturn leftOperand + rightOperand;\r\n    \t\tcase &quot;-&quot;:\r\n    \t\t\treturn leftOperand - rightOperand;\r\n    \t\tcase &quot;*&quot;:\r\n    \t\t\treturn leftOperand * rightOperand;\r\n    \t\tcase &quot;/&quot;:\r\n    \t\t\tif (rightOperand == 0) {\r\n    \t\t\t\tthrow new ArithmeticException(&quot;Division by zero&quot;);\r\n    \t\t\t}\r\n    \t\t\treturn leftOperand / rightOperand;\r\n    \t\tcase &quot;^&quot;:\r\n    \t\t\treturn Math.pow(leftOperand, rightOperand);\r\n    \t\tdefault:\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid operator: &quot; + operator);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void validateExpression(String expression) {\r\n    \t\tString[] tokens = expression.split(&quot;\\\\s+&quot;);\r\n    \t\tfor (int i = 0; i &lt; tokens.length; i++) {\r\n    \t\t\tString token = tokens[i];\r\n    \t\t\tSystem.out.println(&quot;Token &quot; + token);\r\n    \t\t\tif (isOperator(token)) {\r\n    \t\t\t\tif (i == 0 || i == tokens.length - 1) {\r\n    \t\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid expression&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tString prevToken = tokens[i - 1];\r\n    \t\t\t\tString nextToken = tokens[i + 1];\r\n    \t\t\t\tif (!isNumber(prevToken) || !isNumber(nextToken)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;error 1&quot;);\r\n    \t\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid expression&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t} else if (token.equals(&quot;(&quot;)) {\r\n    \t\t\t\tif (i &gt; 0 &amp;&amp; isNumber(tokens[i - 1])) {\r\n    \t\t\t\t\tSystem.out.println(&quot;error 2&quot;);\r\n    \t\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid expression&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t} else if (token.equals(&quot;)&quot;)) {\r\n    \t\t\t\tif (i &lt; tokens.length - 1 &amp;&amp; isNumber(tokens[i + 1])) {\r\n    \t\t\t\t\tSystem.out.println(&quot;error 3&quot;);\r\n    \t\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid expression&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t} else if (!isNumber(token)) {\r\n    \t\t\t\tSystem.out.println(&quot;error 4&quot;);\r\n    \t\t\t\tthrow new IllegalArgumentException(&quot;Invalid expression&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to solve a math problem that is presented in a string format using the Shunting Yard algorithm Implementation in Java?","body":"<p><strong>Solution Offered:</strong>\nA simple solution for the above problem mentioned would be something like this I presume. May need to add some additional functionality if you need to handle complex maths formulas.</p>\n<pre><code>import java.util.*;\n\npublic class Calculator {\n    private static final Map&lt;String, Integer&gt; OPERATOR_PRECEDENCE = new HashMap&lt;&gt;();\n\n    static {\n        OPERATOR_PRECEDENCE.put(&quot;+&quot;, 1);\n        OPERATOR_PRECEDENCE.put(&quot;-&quot;, 1);\n        OPERATOR_PRECEDENCE.put(&quot;*&quot;, 2);\n        OPERATOR_PRECEDENCE.put(&quot;/&quot;, 2);\n        OPERATOR_PRECEDENCE.put(&quot;^&quot;, 3);\n    }\n\n    public static void main(String[] args) {\n        try (Scanner scanner = new Scanner(System.in)) {\n            System.out.print(&quot;Enter a math problem starting with 'calculate': &quot;);\n            String input = scanner.nextLine();\n            if (!input.startsWith(&quot;calculate &quot;)) {\n                System.out.println(&quot;Error: Input must start with 'calculate'&quot;);\n                return;\n            }\n            String input_trimmed = input.trim();\n            System.out.println(&quot;input_trimmed &quot; + input_trimmed);\n            String expression = input_trimmed.substring(&quot;calculate &quot;.length());\n            System.out.println(&quot;expression &quot; + expression);\n            try {\n                validateExpression(expression);\n                double result = evaluate(expression);\n                System.out.println(&quot;Result: &quot; + result);\n            } catch (NumberFormatException e) {\n                System.out.println(&quot;Error: Invalid number in expression&quot;);\n            } catch (ArithmeticException e) {\n                System.out.println(&quot;Error: Division by zero&quot;);\n            } catch (IllegalArgumentException e) {\n                System.out.println(&quot;Error: &quot; + e.getMessage());\n            } catch (Exception e) {\n                e.printStackTrace();\n                System.out.println(&quot;Error: Invalid expression &quot;);\n\n            }\n        }\n    }\n\n    private static double evaluate(String expression) throws Exception {\n        String[] tokens = expression.split(&quot;\\\\s+&quot;);\n        if (tokens.length &lt; 3 || tokens.length % 2 == 0) {\n            throw new IllegalArgumentException(&quot;Expression must contain at least one operator and two operands&quot;);\n        }\n        List&lt;String&gt; outputQueue = shuntingYard(tokens);\n        return evaluatePostfix(outputQueue);\n    }\n\n    private static List&lt;String&gt; shuntingYard(String[] tokens) throws Exception {\n        Stack&lt;String&gt; operatorStack = new Stack&lt;&gt;();\n        List&lt;String&gt; outputQueue = new ArrayList&lt;&gt;();\n\n        for (String token : tokens) {\n            if (isNumber(token)) {\n                outputQueue.add(token);\n            } else if (isOperator(token)) {\n                while (!operatorStack.isEmpty() &amp;&amp; hasHigherPrecedence(operatorStack.peek(), token) &amp;&amp; !operatorStack.peek().equals(&quot;(&quot;)) {\n                    outputQueue.add(operatorStack.pop());\n                }\n                operatorStack.push(token);\n            } else if (token.equals(&quot;(&quot;)) {\n                operatorStack.push(token);\n            } else if (token.equals(&quot;)&quot;)) {\n                while (!operatorStack.isEmpty() &amp;&amp; !operatorStack.peek().equals(&quot;(&quot;)) {\n                    outputQueue.add(operatorStack.pop());\n                }\n                if (!operatorStack.isEmpty() &amp;&amp; operatorStack.peek().equals(&quot;(&quot;)) {\n                    operatorStack.pop();\n                } else {\n                    throw new IllegalArgumentException(&quot;Mismatched parentheses&quot;);\n                }\n            } else {\n                throw new IllegalArgumentException(&quot;Invalid token: &quot; + token);\n            }\n        }\n\n        while (!operatorStack.isEmpty()) {\n            if (operatorStack.peek().equals(&quot;(&quot;) || operatorStack.peek().equals(&quot;)&quot;)) {\n                throw new IllegalArgumentException(&quot;Mismatched parentheses&quot;);\n            }\n            outputQueue.add(operatorStack.pop());\n        }\n\n        return outputQueue;\n    }\n\n    private static double evaluatePostfix(List&lt;String&gt; outputQueue) throws Exception {\n        Stack&lt;Double&gt; operandStack = new Stack&lt;&gt;();\n\n        for (String token : outputQueue) {\n            if (isNumber(token)) {\n                operandStack.push(Double.parseDouble(token));\n            } else if (isOperator(token)) {\n                if (operandStack.size() &lt; 2) {\n                    throw new IllegalArgumentException(&quot;Invalid expression&quot;);\n                }\n                double rightOperand = operandStack.pop();\n                double leftOperand = operandStack.pop();\n                double result = evaluateExpression(leftOperand, rightOperand, token);\n                operandStack.push(result);\n            } else {\n                throw new IllegalArgumentException(&quot;Invalid token: &quot; + token);\n            }\n        }\n\n        if (operandStack.size() != 1) {\n            throw new IllegalArgumentException(&quot;Invalid expression&quot;);\n        }\n\n        return operandStack.pop();\n    }\n\n    private static boolean isNumber(String token) {\n        try {\n            Double.parseDouble(token);\n            return true;\n        } catch (NumberFormatException e) {\n            return false;\n        }\n    }\n\n    private static boolean isOperator(String token) {\n        return OPERATOR_PRECEDENCE.containsKey(token);\n    }\n\n    private static boolean hasHigherPrecedence(String op1, String op2) {\n        return OPERATOR_PRECEDENCE.get(op1) &gt;= OPERATOR_PRECEDENCE.get(op2);\n    }\n\n    private static double evaluateExpression(double leftOperand, double rightOperand, String operator) {\n        switch (operator) {\n        case &quot;+&quot;:\n            return leftOperand + rightOperand;\n        case &quot;-&quot;:\n            return leftOperand - rightOperand;\n        case &quot;*&quot;:\n            return leftOperand * rightOperand;\n        case &quot;/&quot;:\n            if (rightOperand == 0) {\n                throw new ArithmeticException(&quot;Division by zero&quot;);\n            }\n            return leftOperand / rightOperand;\n        case &quot;^&quot;:\n            return Math.pow(leftOperand, rightOperand);\n        default:\n            throw new IllegalArgumentException(&quot;Invalid operator: &quot; + operator);\n        }\n    }\n\n    private static void validateExpression(String expression) {\n        String[] tokens = expression.split(&quot;\\\\s+&quot;);\n        for (int i = 0; i &lt; tokens.length; i++) {\n            String token = tokens[i];\n            System.out.println(&quot;Token &quot; + token);\n            if (isOperator(token)) {\n                if (i == 0 || i == tokens.length - 1) {\n                    throw new IllegalArgumentException(&quot;Invalid expression&quot;);\n                }\n                String prevToken = tokens[i - 1];\n                String nextToken = tokens[i + 1];\n                if (!isNumber(prevToken) || !isNumber(nextToken)) {\n                    System.out.println(&quot;error 1&quot;);\n                    throw new IllegalArgumentException(&quot;Invalid expression&quot;);\n                }\n            } else if (token.equals(&quot;(&quot;)) {\n                if (i &gt; 0 &amp;&amp; isNumber(tokens[i - 1])) {\n                    System.out.println(&quot;error 2&quot;);\n                    throw new IllegalArgumentException(&quot;Invalid expression&quot;);\n                }\n            } else if (token.equals(&quot;)&quot;)) {\n                if (i &lt; tokens.length - 1 &amp;&amp; isNumber(tokens[i + 1])) {\n                    System.out.println(&quot;error 3&quot;);\n                    throw new IllegalArgumentException(&quot;Invalid expression&quot;);\n                }\n            } else if (!isNumber(token)) {\n                System.out.println(&quot;error 4&quot;);\n                throw new IllegalArgumentException(&quot;Invalid expression&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682457503,"accepted_answer_id":76082614,"answer_count":1,"score":0,"last_activity_date":1682211267,"creation_date":1682169194,"question_id":76079818,"body_markdown":"**Question:**\r\nHow to solve a math problem that is in a string format? The user will enter a math problem that starts with the word calculate. like &quot;calculate 5 + 2&quot; or &quot;calculate 10 - 3&quot; and the program needs to solve it. Attempted to resolve this using the Shunting Yard algorithm Implementation in Java.","title":"How to solve a math problem that is presented in a string format using the Shunting Yard algorithm Implementation in Java?","body":"<p><strong>Question:</strong>\nHow to solve a math problem that is in a string format? The user will enter a math problem that starts with the word calculate. like &quot;calculate 5 + 2&quot; or &quot;calculate 10 - 3&quot; and the program needs to solve it. Attempted to resolve this using the Shunting Yard algorithm Implementation in Java.</p>\n"},{"tags":["java","crash","processing"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1681989837,"post_id":76062797,"comment_id":134146969,"body_markdown":"thanks for the edit :) You might consider providing a [mcve] (mind the __M__!) demonstrating the problem - this looks like far too much potentially unrelated code.","body":"thanks for the edit :) You might consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (mind the <b>M</b>!) demonstrating the problem - this looks like far too much potentially unrelated code."},{"owner":{"account_id":21755981,"reputation":19,"user_id":16061340,"display_name":"Ageforce"},"score":0,"creation_date":1682003284,"post_id":76062797,"comment_id":134150525,"body_markdown":"I will do that when I get home. Thank you!","body":"I will do that when I get home. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682210803,"creation_date":1682210020,"answer_id":76082561,"question_id":76062797,"body_markdown":"One option would be to create all the windows at Processing startup(), but only show the mainWindow and hide the others by using surface.setVisible(false) as they are created.  When they are needed use .setVisible(true) to show them and hide the others with .setVisible(false). I think the show/hide technique would cause less trouble than disposing of them and then trying to re-instantiate them.  A simple demo follows; note that the original Processing window is instantiated by default but not used.  The two PApplet windows are each instantiated only once.\r\n```\r\nimport java.awt.Frame;\r\nimport processing.awt.PSurfaceAWT;\r\n\r\nint _btnX = 50;\r\nint _btnY = 50;\r\nint _btnW = 200;\r\nint _btnH = 30;\r\n\r\nWindowOne wndOne;\r\nWindowTwo wndTwo;\r\n\r\nprocessing.awt.PSurfaceAWT wnd1;\r\nprocessing.awt.PSurfaceAWT wnd2;\r\n\r\nclass WindowTwo extends PApplet {\r\n\r\n  WindowTwo () {\r\n    PApplet.runSketch(new String[]{this.getClass().getName()}, this);\r\n    surface.setTitle(&quot;Window Two&quot;);\r\n    println(&quot;wnd2 = &quot;,surface);\r\n    surface.setVisible(false);\r\n    wnd2 = (PSurfaceAWT)surface;    \r\n  }\r\n\r\n  void settings() {\r\n    size(300, 200);\r\n  }\r\n\r\n  void setup() {\r\n    background(209);\r\n  }\r\n\r\n  void draw() {\r\n    fill(color(0, 255, 0));\r\n    rect(50, 50, 200, 30);\r\n    fill(0);\r\n    textSize(20);\r\n    textAlign(CENTER, CENTER);\r\n    text(&quot;Show Window One&quot;, _btnX, _btnY, _btnW, _btnH);\r\n  }\r\n\r\n  void mousePressed() {\r\n    if ((mouseX &gt;= _btnX) &amp;&amp; (mouseX &lt;= _btnX + _btnW) &amp;&amp; (mouseY &gt;= _btnY) &amp;&amp; (mouseY &lt;= _btnY + _btnH)) {      \r\n      surface.setVisible(false); // Hide this window\r\n      wnd1.setVisible(true);     // Show the other one\r\n    }\r\n  }\r\n}\r\n\r\nclass WindowOne extends PApplet {\r\n\r\n  WindowOne () {\r\n    PApplet.runSketch(new String[]{this.getClass().getName()}, this);\r\n    surface.setTitle(&quot;Window One&quot;);\r\n    surface.setLocation(400, 400);\r\n    println(&quot;wnd1 = &quot;,surface);\r\n    wnd1 = (PSurfaceAWT)surface;\r\n  }\r\n\r\n  void settings() {\r\n    size(400, 200);\r\n  }\r\n\r\n  void setup() {\r\n    background(255);\r\n  }\r\n\r\n  void draw() {\r\n    fill(color(0, 255, 0));\r\n    rect(50, 50, 200, 30);\r\n    fill(0);\r\n    textSize(20);\r\n    textAlign(CENTER, CENTER);\r\n    text(&quot;Show Window Two&quot;, _btnX, _btnY, _btnW, _btnH);\r\n  }\r\n\r\n  void mousePressed() {\r\n    if ((mouseX &gt;= _btnX) &amp;&amp; (mouseX &lt;= _btnX + _btnW) &amp;&amp; (mouseY &gt;= _btnY) &amp;&amp; (mouseY &lt;= _btnY + _btnH)) {\r\n      surface.setVisible(false);  // Hide this window\r\n      wnd2.setVisible(true);    // Show the other one\r\n    }\r\n  }\r\n}\r\n\r\nvoid setup() {\r\n  surface.setVisible(false);\r\n  println(&quot;default = &quot;,surface);\r\n  wndOne = new WindowOne(); // Build two, but show only one\r\n  wndTwo = new WindowTwo(); // Originally not shown\r\n}\r\n\r\n```","title":"Java Processing, My processing program gives handleDraw() called before finishing error when opening new sketches continuously","body":"<p>One option would be to create all the windows at Processing startup(), but only show the mainWindow and hide the others by using surface.setVisible(false) as they are created.  When they are needed use .setVisible(true) to show them and hide the others with .setVisible(false). I think the show/hide technique would cause less trouble than disposing of them and then trying to re-instantiate them.  A simple demo follows; note that the original Processing window is instantiated by default but not used.  The two PApplet windows are each instantiated only once.</p>\n<pre><code>import java.awt.Frame;\nimport processing.awt.PSurfaceAWT;\n\nint _btnX = 50;\nint _btnY = 50;\nint _btnW = 200;\nint _btnH = 30;\n\nWindowOne wndOne;\nWindowTwo wndTwo;\n\nprocessing.awt.PSurfaceAWT wnd1;\nprocessing.awt.PSurfaceAWT wnd2;\n\nclass WindowTwo extends PApplet {\n\n  WindowTwo () {\n    PApplet.runSketch(new String[]{this.getClass().getName()}, this);\n    surface.setTitle(&quot;Window Two&quot;);\n    println(&quot;wnd2 = &quot;,surface);\n    surface.setVisible(false);\n    wnd2 = (PSurfaceAWT)surface;    \n  }\n\n  void settings() {\n    size(300, 200);\n  }\n\n  void setup() {\n    background(209);\n  }\n\n  void draw() {\n    fill(color(0, 255, 0));\n    rect(50, 50, 200, 30);\n    fill(0);\n    textSize(20);\n    textAlign(CENTER, CENTER);\n    text(&quot;Show Window One&quot;, _btnX, _btnY, _btnW, _btnH);\n  }\n\n  void mousePressed() {\n    if ((mouseX &gt;= _btnX) &amp;&amp; (mouseX &lt;= _btnX + _btnW) &amp;&amp; (mouseY &gt;= _btnY) &amp;&amp; (mouseY &lt;= _btnY + _btnH)) {      \n      surface.setVisible(false); // Hide this window\n      wnd1.setVisible(true);     // Show the other one\n    }\n  }\n}\n\nclass WindowOne extends PApplet {\n\n  WindowOne () {\n    PApplet.runSketch(new String[]{this.getClass().getName()}, this);\n    surface.setTitle(&quot;Window One&quot;);\n    surface.setLocation(400, 400);\n    println(&quot;wnd1 = &quot;,surface);\n    wnd1 = (PSurfaceAWT)surface;\n  }\n\n  void settings() {\n    size(400, 200);\n  }\n\n  void setup() {\n    background(255);\n  }\n\n  void draw() {\n    fill(color(0, 255, 0));\n    rect(50, 50, 200, 30);\n    fill(0);\n    textSize(20);\n    textAlign(CENTER, CENTER);\n    text(&quot;Show Window Two&quot;, _btnX, _btnY, _btnW, _btnH);\n  }\n\n  void mousePressed() {\n    if ((mouseX &gt;= _btnX) &amp;&amp; (mouseX &lt;= _btnX + _btnW) &amp;&amp; (mouseY &gt;= _btnY) &amp;&amp; (mouseY &lt;= _btnY + _btnH)) {\n      surface.setVisible(false);  // Hide this window\n      wnd2.setVisible(true);    // Show the other one\n    }\n  }\n}\n\nvoid setup() {\n  surface.setVisible(false);\n  println(&quot;default = &quot;,surface);\n  wndOne = new WindowOne(); // Build two, but show only one\n  wndTwo = new WindowTwo(); // Originally not shown\n}\n\n</code></pre>\n"}],"owner":{"account_id":21755981,"reputation":19,"user_id":16061340,"display_name":"Ageforce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76082561,"answer_count":1,"score":0,"last_activity_date":1682210803,"creation_date":1681984513,"question_id":76062797,"body_markdown":"currently I&#39;m struggling with a massive problem with my Java Processing program. I&#39;m making a program so when you click a button, it opens a new sketch (a new window) and closes the previous one. In the new window, there&#39;s a back button where you can go back to the previous window.\r\n\r\nIf I click the &quot;back button&quot; for the 2nd time, when it opens the previous window, the program crashes and gives the following error:\r\n````\r\nhandleDraw() called before finishing\r\n````\r\n\r\n\r\nThe weird thing is that the program only crashes after I click the buttons a couple of times. Every time, the program crashes after clicking a total of 5 buttons. Instead of crashing, I should of course be able to open and close the two different sketches (windows) repeatedly. \r\n\r\nI&#39;ve made sure that the draw(); methods can&#39;t run at the same time.\r\n\r\n\r\nNotes:\r\nThe &quot;Knap&quot; class is a button class. \r\nThe &quot;Fitness&quot;, &quot;Main&quot; and &quot;Morgenmad&quot; classes all extends from PApplet so I can create an instance of each class and then run the draw(); and settings(); method in each class by using PApplet.runSketch(); whenever I want to, in order to open a new window. I know this is not the best way to do it, but I&#39;m writing this for a project and it&#39;s too late to completely rewrite. \r\n\r\nHere is the code:\r\n(Keep in mind that my program is actually much bigger than the code I&#39;ve provided, but I&#39;ve removed all the code that is not relevant in terms of showcasing the issue I&#39;m having. I&#39;ve also put the GUI and Knap class in the same file, so it&#39;s easier to show my code in here)\r\n\r\n```import processing.core.PApplet;\r\nimport processing.core.PImage;\r\nimport java.awt.*;\r\n\r\npublic class Main extends PApplet {\r\n    GUI gui = new GUI(this);\r\n    boolean fitnessAppSportsUd&#248;verWindow = false;\r\n    boolean morgenmadWindow = false;\r\n    boolean mainWindow = true;\r\n\r\n    PImage image;\r\n    String[] fitnessAppSportsUd&#248;verArgs = {&quot;FitnessAppSportsUd&#248;ver&quot;};\r\n    String[] morgenmadArgs = {&quot;Morgenmad&quot;};\r\n    Knap morgenmadKnap;\r\n    FitnessAppSportsUd&#248;ver fasu = new FitnessAppSportsUd&#248;ver();\r\n    MorgenmadMenu mm = new MorgenmadMenu();\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Main program = new Main();\r\n        String[] processingArgs = {&quot;Teknologi FitnessApp&quot;};\r\n        PApplet.runSketch(processingArgs, program);\r\n    }\r\n\r\n    public void settings() {\r\n        size(800, 800);\r\n\r\n    }\r\n\r\n    public void draw() {\r\n        if (mainWindow &amp;&amp; !fitnessAppSportsUd&#248;verWindow) {\r\n            windowTitle(&quot;Teknologi FitnessApp&quot;);\r\n\r\n            gui.draw();\r\n            System.out.println(&quot;main = &quot; + mainWindow);\r\n\r\n\r\n        }\r\n        if (!mainWindow &amp;&amp; fitnessAppSportsUd&#248;verWindow) {\r\n            closePreviousWindow();\r\n            System.out.println(&quot;main = &quot; + mainWindow);\r\n            stop();\r\n        }\r\n\r\n    }\r\n\r\n    private void closePreviousWindow() {\r\n        if (fitnessAppSportsUd&#248;verWindow) {\r\n            Frame[] frames = Frame.getFrames();\r\n            for (Frame frame : frames) {\r\n                if (frame.getTitle().equals(&quot;Teknologi FitnessApp&quot;)) {\r\n                    frame.dispose();\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n        Frame[] frames = Frame.getFrames();\r\n        for (Frame frame : frames) {\r\n            if (frame.getTitle().equals(&quot;FitnessAppSportsUd&#248;ver&quot;) &amp;&amp; morgenmadWindow) {\r\n                frame.dispose();\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    public void mousePressed() {\r\n        //gui.mousePosition();\r\n\r\n        if (gui.knap1.overKnap()) {\r\n            drawFitnessAppSportsUd&#248;ver();\r\n        }\r\n    }\r\n\r\n    void drawFitnessAppSportsUd&#248;ver() {\r\n        mainWindow = false;\r\n        fitnessAppSportsUd&#248;verWindow = true;\r\n        System.out.println(&quot;FITNESSAPP DRAWN&quot;);\r\n        PApplet.runSketch(fitnessAppSportsUd&#248;verArgs, fasu);\r\n\r\n    }\r\n\r\n    void drawMorgenmadMenu() {\r\n        fitnessAppSportsUd&#248;verWindow = false;\r\n        morgenmadWindow = true;\r\n        System.out.println(&quot;MORGENMADMENU DRAWN&quot;);\r\n        PApplet.runSketch(morgenmadArgs, mm);\r\n\r\n    }\r\n\r\n    class FitnessAppSportsUd&#248;ver extends PApplet {\r\n\r\n        FitnessAppSportsUd&#248;ver() {\r\n            morgenmadKnap = new Knap(this, 722, 527, 50, 50, 0, 210);\r\n        }\r\n\r\n        public void settings() {\r\n            size(800, 800);\r\n            image = loadImage(&quot;teknologi fitnessapp2.png&quot;);\r\n        }\r\n\r\n        public void draw() {\r\n            if (fitnessAppSportsUd&#248;verWindow &amp;&amp; !morgenmadWindow) {\r\n                morgenmadKnap.draw();\r\n\r\n                System.out.println(&quot;fit = &quot; + fitnessAppSportsUd&#248;verWindow + &quot; morgenmad = &quot; + morgenmadWindow + &quot; main = &quot; + mainWindow);\r\n\r\n            }\r\n            if (!fitnessAppSportsUd&#248;verWindow &amp;&amp; morgenmadWindow) {\r\n                closePreviousWindow();\r\n                System.out.println(&quot;fit = &quot; + fitnessAppSportsUd&#248;verWindow + &quot; morgenmad = &quot; + morgenmadWindow + &quot; main = &quot; + mainWindow);\r\n                stop();\r\n            }\r\n        }\r\n\r\n        public void mousePressed() {\r\n\r\n            if (morgenmadKnap.overKnap()) {\r\n                drawMorgenmadMenu();\r\n            }\r\n        }\r\n    }\r\n\r\n    class MorgenmadMenu extends PApplet {\r\n        Knap tilbageKnap = new Knap(this, 20, 100, 100, 100, 0, 210);\r\n\r\n        public void settings() {\r\n            size(800, 800);\r\n        }\r\n\r\n        public void draw() {\r\n            if (morgenmadWindow &amp;&amp; !fitnessAppSportsUd&#248;verWindow) {\r\n                background(255, 255, 255);\r\n\r\n                tilbageKnap.draw();\r\n\r\n                System.out.println(&quot;morgenmad = &quot; + morgenmadWindow + &quot; fit = &quot; + fitnessAppSportsUd&#248;verWindow + &quot; main = &quot; + mainWindow);\r\n\r\n            }\r\n            if (!morgenmadWindow &amp;&amp; fitnessAppSportsUd&#248;verWindow) {\r\n                closePreviousWindow();\r\n                System.out.println(&quot;morgenmad = &quot; + morgenmadWindow + &quot; fit = &quot; + fitnessAppSportsUd&#248;verWindow + &quot; main = &quot; + mainWindow);\r\n                stop();\r\n            }\r\n        }\r\n\r\n        public void mousePressed() {\r\n            if (tilbageKnap.overKnap()) {\r\n                openPreviousWindow();\r\n            }\r\n        }\r\n\r\n        void openPreviousWindow() {\r\n            Frame[] frames = Frame.getFrames();\r\n            for (Frame frame : frames) {\r\n                if (frame.getTitle().equals(&quot;MorgenmadMenu&quot;)) {\r\n                    //drawFitnessAppSportsUd&#248;ver();\r\n                    System.out.println(&quot;FITNESSAPP DRAWN OPENPREVIOUS WINDOW&quot;);\r\n\r\n                    morgenmadWindow = false;\r\n                    fitnessAppSportsUd&#248;verWindow = true;\r\n\r\n                    PApplet.runSketch(fitnessAppSportsUd&#248;verArgs, fasu);\r\n\r\n\r\n                    frame.dispose();\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    class GUI {\r\n        PApplet p;\r\n        Knap knap1;\r\n        PImage image;\r\n\r\n        public GUI(PApplet p) {\r\n            this.p = p;\r\n            knap1 = new Knap(p, 319, 675, 190, 100, 255, 100);\r\n        }\r\n\r\n        void draw() {\r\n            knap1.draw();\r\n\r\n            displayTekst();\r\n\r\n            image = p.loadImage(&quot;girl healthy.jpg&quot;);\r\n            image.resize(600, 530);\r\n            p.image(image, p.width / 2 - 285, 122);\r\n        }\r\n\r\n\r\n        void displayTekst() {\r\n            p.fill(0);\r\n            p.textSize(40);\r\n            p.text(&quot;Velkommen til FitForSport&quot;, p.width / 2 - 210, 50);\r\n            p.smooth();\r\n\r\n            p.textSize(20);\r\n            p.text(&quot;Du har taget det f&#248;rste skridt for et bedre liv med sport&quot;, p.width / 2 - 210, 100);\r\n            p.smooth();\r\n\r\n            p.textSize(60);\r\n            p.text(&quot;Start&quot;, 355, 740);\r\n            p.smooth();\r\n        }\r\n\r\n        void mousePosition() {\r\n            System.out.println(&quot;X koordinat &quot; + p.mouseX + &quot; Y koordinat &quot; + p.mouseY);\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n\r\n    class Knap {\r\n        PApplet p;\r\n        int farve, hover;\r\n        float posX, posY, width, height;\r\n\r\n        public Knap(PApplet p, float posX, float posY, float width, float height, int f, int h) {\r\n            this.p = p;\r\n            this.posX = posX;\r\n            this.posY = posY;\r\n            this.width = width;\r\n            this.height = height;\r\n            farve = f;\r\n            hover = h;\r\n        }\r\n\r\n        boolean overKnap() {\r\n            if (p.mouseX &gt;= posX &amp;&amp; p.mouseX &lt;= posX + width &amp;&amp; p.mouseY &gt;= posY &amp;&amp; p.mouseY &lt;= posY + height) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        void draw() {\r\n            if (overKnap())\r\n                p.fill(hover);\r\n            else\r\n                p.fill(farve);\r\n            p.rect(posX, posY, width, height);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve made a debugging system in order to make sure that the draw() methods are not running at the same time. What is interesting to note is that it seems like the openPreviousWindow(); method runs twice when you click on the button at some point, and then the program crashes. I&#39;ve done so the program prints something out when this method is being called, and you can see here that it runs twice and then the program crashes.\r\n\r\n````\r\nmorgenmad = true fit = false main = false\r\nmorgenmad = true fit = false main = false\r\nmorgenmad = true fit = false main = false\r\nFITNESSAPP DRAWN OPENPREVIOUS WINDOW\r\nfit = true morgenmad = false main = false\r\nFITNESSAPP DRAWN OPENPREVIOUS WINDOW\r\nfit = true morgenmad = false main = false\r\nfit = true morgenmad = false main = false\r\nhandleDraw() called before finishing\r\n\r\n````","title":"Java Processing, My processing program gives handleDraw() called before finishing error when opening new sketches continuously","body":"<p>currently I'm struggling with a massive problem with my Java Processing program. I'm making a program so when you click a button, it opens a new sketch (a new window) and closes the previous one. In the new window, there's a back button where you can go back to the previous window.</p>\n<p>If I click the &quot;back button&quot; for the 2nd time, when it opens the previous window, the program crashes and gives the following error:</p>\n<pre><code>handleDraw() called before finishing\n</code></pre>\n<p>The weird thing is that the program only crashes after I click the buttons a couple of times. Every time, the program crashes after clicking a total of 5 buttons. Instead of crashing, I should of course be able to open and close the two different sketches (windows) repeatedly.</p>\n<p>I've made sure that the draw(); methods can't run at the same time.</p>\n<p>Notes:\nThe &quot;Knap&quot; class is a button class.\nThe &quot;Fitness&quot;, &quot;Main&quot; and &quot;Morgenmad&quot; classes all extends from PApplet so I can create an instance of each class and then run the draw(); and settings(); method in each class by using PApplet.runSketch(); whenever I want to, in order to open a new window. I know this is not the best way to do it, but I'm writing this for a project and it's too late to completely rewrite.</p>\n<p>Here is the code:\n(Keep in mind that my program is actually much bigger than the code I've provided, but I've removed all the code that is not relevant in terms of showcasing the issue I'm having. I've also put the GUI and Knap class in the same file, so it's easier to show my code in here)</p>\n<pre><code>import processing.core.PImage;\nimport java.awt.*;\n\npublic class Main extends PApplet {\n    GUI gui = new GUI(this);\n    boolean fitnessAppSportsUdøverWindow = false;\n    boolean morgenmadWindow = false;\n    boolean mainWindow = true;\n\n    PImage image;\n    String[] fitnessAppSportsUdøverArgs = {&quot;FitnessAppSportsUdøver&quot;};\n    String[] morgenmadArgs = {&quot;Morgenmad&quot;};\n    Knap morgenmadKnap;\n    FitnessAppSportsUdøver fasu = new FitnessAppSportsUdøver();\n    MorgenmadMenu mm = new MorgenmadMenu();\n\n\n    public static void main(String[] args) {\n        Main program = new Main();\n        String[] processingArgs = {&quot;Teknologi FitnessApp&quot;};\n        PApplet.runSketch(processingArgs, program);\n    }\n\n    public void settings() {\n        size(800, 800);\n\n    }\n\n    public void draw() {\n        if (mainWindow &amp;&amp; !fitnessAppSportsUdøverWindow) {\n            windowTitle(&quot;Teknologi FitnessApp&quot;);\n\n            gui.draw();\n            System.out.println(&quot;main = &quot; + mainWindow);\n\n\n        }\n        if (!mainWindow &amp;&amp; fitnessAppSportsUdøverWindow) {\n            closePreviousWindow();\n            System.out.println(&quot;main = &quot; + mainWindow);\n            stop();\n        }\n\n    }\n\n    private void closePreviousWindow() {\n        if (fitnessAppSportsUdøverWindow) {\n            Frame[] frames = Frame.getFrames();\n            for (Frame frame : frames) {\n                if (frame.getTitle().equals(&quot;Teknologi FitnessApp&quot;)) {\n                    frame.dispose();\n\n                }\n\n            }\n        }\n        Frame[] frames = Frame.getFrames();\n        for (Frame frame : frames) {\n            if (frame.getTitle().equals(&quot;FitnessAppSportsUdøver&quot;) &amp;&amp; morgenmadWindow) {\n                frame.dispose();\n\n            }\n        }\n    }\n\n    public void mousePressed() {\n        //gui.mousePosition();\n\n        if (gui.knap1.overKnap()) {\n            drawFitnessAppSportsUdøver();\n        }\n    }\n\n    void drawFitnessAppSportsUdøver() {\n        mainWindow = false;\n        fitnessAppSportsUdøverWindow = true;\n        System.out.println(&quot;FITNESSAPP DRAWN&quot;);\n        PApplet.runSketch(fitnessAppSportsUdøverArgs, fasu);\n\n    }\n\n    void drawMorgenmadMenu() {\n        fitnessAppSportsUdøverWindow = false;\n        morgenmadWindow = true;\n        System.out.println(&quot;MORGENMADMENU DRAWN&quot;);\n        PApplet.runSketch(morgenmadArgs, mm);\n\n    }\n\n    class FitnessAppSportsUdøver extends PApplet {\n\n        FitnessAppSportsUdøver() {\n            morgenmadKnap = new Knap(this, 722, 527, 50, 50, 0, 210);\n        }\n\n        public void settings() {\n            size(800, 800);\n            image = loadImage(&quot;teknologi fitnessapp2.png&quot;);\n        }\n\n        public void draw() {\n            if (fitnessAppSportsUdøverWindow &amp;&amp; !morgenmadWindow) {\n                morgenmadKnap.draw();\n\n                System.out.println(&quot;fit = &quot; + fitnessAppSportsUdøverWindow + &quot; morgenmad = &quot; + morgenmadWindow + &quot; main = &quot; + mainWindow);\n\n            }\n            if (!fitnessAppSportsUdøverWindow &amp;&amp; morgenmadWindow) {\n                closePreviousWindow();\n                System.out.println(&quot;fit = &quot; + fitnessAppSportsUdøverWindow + &quot; morgenmad = &quot; + morgenmadWindow + &quot; main = &quot; + mainWindow);\n                stop();\n            }\n        }\n\n        public void mousePressed() {\n\n            if (morgenmadKnap.overKnap()) {\n                drawMorgenmadMenu();\n            }\n        }\n    }\n\n    class MorgenmadMenu extends PApplet {\n        Knap tilbageKnap = new Knap(this, 20, 100, 100, 100, 0, 210);\n\n        public void settings() {\n            size(800, 800);\n        }\n\n        public void draw() {\n            if (morgenmadWindow &amp;&amp; !fitnessAppSportsUdøverWindow) {\n                background(255, 255, 255);\n\n                tilbageKnap.draw();\n\n                System.out.println(&quot;morgenmad = &quot; + morgenmadWindow + &quot; fit = &quot; + fitnessAppSportsUdøverWindow + &quot; main = &quot; + mainWindow);\n\n            }\n            if (!morgenmadWindow &amp;&amp; fitnessAppSportsUdøverWindow) {\n                closePreviousWindow();\n                System.out.println(&quot;morgenmad = &quot; + morgenmadWindow + &quot; fit = &quot; + fitnessAppSportsUdøverWindow + &quot; main = &quot; + mainWindow);\n                stop();\n            }\n        }\n\n        public void mousePressed() {\n            if (tilbageKnap.overKnap()) {\n                openPreviousWindow();\n            }\n        }\n\n        void openPreviousWindow() {\n            Frame[] frames = Frame.getFrames();\n            for (Frame frame : frames) {\n                if (frame.getTitle().equals(&quot;MorgenmadMenu&quot;)) {\n                    //drawFitnessAppSportsUdøver();\n                    System.out.println(&quot;FITNESSAPP DRAWN OPENPREVIOUS WINDOW&quot;);\n\n                    morgenmadWindow = false;\n                    fitnessAppSportsUdøverWindow = true;\n\n                    PApplet.runSketch(fitnessAppSportsUdøverArgs, fasu);\n\n\n                    frame.dispose();\n\n                }\n            }\n        }\n    }\n\n\n    class GUI {\n        PApplet p;\n        Knap knap1;\n        PImage image;\n\n        public GUI(PApplet p) {\n            this.p = p;\n            knap1 = new Knap(p, 319, 675, 190, 100, 255, 100);\n        }\n\n        void draw() {\n            knap1.draw();\n\n            displayTekst();\n\n            image = p.loadImage(&quot;girl healthy.jpg&quot;);\n            image.resize(600, 530);\n            p.image(image, p.width / 2 - 285, 122);\n        }\n\n\n        void displayTekst() {\n            p.fill(0);\n            p.textSize(40);\n            p.text(&quot;Velkommen til FitForSport&quot;, p.width / 2 - 210, 50);\n            p.smooth();\n\n            p.textSize(20);\n            p.text(&quot;Du har taget det første skridt for et bedre liv med sport&quot;, p.width / 2 - 210, 100);\n            p.smooth();\n\n            p.textSize(60);\n            p.text(&quot;Start&quot;, 355, 740);\n            p.smooth();\n        }\n\n        void mousePosition() {\n            System.out.println(&quot;X koordinat &quot; + p.mouseX + &quot; Y koordinat &quot; + p.mouseY);\n            System.out.println(&quot;&quot;);\n        }\n    }\n\n    class Knap {\n        PApplet p;\n        int farve, hover;\n        float posX, posY, width, height;\n\n        public Knap(PApplet p, float posX, float posY, float width, float height, int f, int h) {\n            this.p = p;\n            this.posX = posX;\n            this.posY = posY;\n            this.width = width;\n            this.height = height;\n            farve = f;\n            hover = h;\n        }\n\n        boolean overKnap() {\n            if (p.mouseX &gt;= posX &amp;&amp; p.mouseX &lt;= posX + width &amp;&amp; p.mouseY &gt;= posY &amp;&amp; p.mouseY &lt;= posY + height) {\n                return true;\n            }\n            return false;\n        }\n\n        void draw() {\n            if (overKnap())\n                p.fill(hover);\n            else\n                p.fill(farve);\n            p.rect(posX, posY, width, height);\n        }\n    }\n}\n</code></pre>\n<p>I've made a debugging system in order to make sure that the draw() methods are not running at the same time. What is interesting to note is that it seems like the openPreviousWindow(); method runs twice when you click on the button at some point, and then the program crashes. I've done so the program prints something out when this method is being called, and you can see here that it runs twice and then the program crashes.</p>\n<pre><code>morgenmad = true fit = false main = false\nmorgenmad = true fit = false main = false\nmorgenmad = true fit = false main = false\nFITNESSAPP DRAWN OPENPREVIOUS WINDOW\nfit = true morgenmad = false main = false\nFITNESSAPP DRAWN OPENPREVIOUS WINDOW\nfit = true morgenmad = false main = false\nfit = true morgenmad = false main = false\nhandleDraw() called before finishing\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1682208407,"post_id":76082499,"comment_id":134179305,"body_markdown":"The iterator is no longer clean","body":"The iterator is no longer clean"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1682209894,"post_id":76082499,"comment_id":134179397,"body_markdown":"If may not modify the collection before calling `next()`. The iterator is created when the class is loaded, then you&#39;re calling `add()` before calling `next()`.","body":"If may not modify the collection before calling <code>next()</code>. The iterator is created when the class is loaded, then you&#39;re calling <code>add()</code> before calling <code>next()</code>."}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682209718,"creation_date":1682209718,"answer_id":76082552,"question_id":76082499,"body_markdown":"If you declare the Iterator inside the main function before the &quot;while&quot; loop, you still get the &quot;ConcurrentModificationException&quot;; But if you declare it after the &quot;while&quot; loop, it is ok.\r\n\r\nThe reason is as per spec, during iterating the java collection, any add or remove operation on the original collection could cause fast fail &quot;ConcurrentModificationException&quot;. ","title":"Why am I getting ConcurrentModificationException here?","body":"<p>If you declare the Iterator inside the main function before the &quot;while&quot; loop, you still get the &quot;ConcurrentModificationException&quot;; But if you declare it after the &quot;while&quot; loop, it is ok.</p>\n<p>The reason is as per spec, during iterating the java collection, any add or remove operation on the original collection could cause fast fail &quot;ConcurrentModificationException&quot;.</p>\n"}],"owner":{"account_id":17070153,"reputation":83,"user_id":12351180,"display_name":"Aurorachilles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1682209718,"creation_date":1682208178,"question_id":76082499,"body_markdown":"I am trying to run the following code \r\n\r\n    class test {\r\n\r\n        private static Set &lt;Integer&gt; list_of_files = new HashSet&lt;Integer&gt;();\r\n        private static Iterator i = list_of_files.iterator();\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Random random = new Random();\r\n            while(list_of_files.size()&lt;= 15)\r\n            {\r\n                list_of_files.add(random.nextInt(40));\r\n            }\r\n        \r\n        int fist = (Integer)i.next();\r\n        }\r\n    }\r\n\r\nThe above code is throwing **java.util.ConcurrentModificationException**.\r\n\r\nThis does not happen when I declare the Iterator inside the main function.\r\nCan someone explain me why this is happening?","title":"Why am I getting ConcurrentModificationException here?","body":"<p>I am trying to run the following code</p>\n<pre><code>class test {\n\n    private static Set &lt;Integer&gt; list_of_files = new HashSet&lt;Integer&gt;();\n    private static Iterator i = list_of_files.iterator();\n\n    public static void main(String[] args) {\n\n        Random random = new Random();\n        while(list_of_files.size()&lt;= 15)\n        {\n            list_of_files.add(random.nextInt(40));\n        }\n    \n    int fist = (Integer)i.next();\n    }\n}\n</code></pre>\n<p>The above code is throwing <strong>java.util.ConcurrentModificationException</strong>.</p>\n<p>This does not happen when I declare the Iterator inside the main function.\nCan someone explain me why this is happening?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682224804,"post_id":76082521,"comment_id":134180240,"body_markdown":"`R.string.emulator_host_name :\n                R.string.default_host_name` Sorry, we have no idea which host names you use. Or which setup you use.","body":"<code>R.string.emulator_host_name :                 R.string.default_host_name</code> Sorry, we have no idea which host names you use. Or which setup you use."}],"owner":{"account_id":28383476,"reputation":1,"user_id":21710380,"display_name":"Arthur Thuma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682209244,"creation_date":1682208762,"question_id":76082521,"body_markdown":"I&#39;m trying to establish a connection between the device and the server using the host name. But, while running the application, the process never succeeded, and the onFailure method executes every time I open the Sign Up activity. I thought at first that the host name process threw a NullPointerException, but I made sure that it was working fine. Below, there is a code sample of the whole process. If anyone can give me advice,\r\nThank you...\r\n\r\nConnection Process (with onSuccess and onFailure methods) in the overridden onResume method\r\n```\r\n@Override\r\n    public void onResume() {\r\n        super.onResume();\r\n\r\n        final LoginActivity parent = (LoginActivity) requireActivity();\r\n\r\n        final SharedPreferences sharedPref = PreferenceManager.getDefaultSharedPreferences(parent);\r\n        String hostName = sharedPref.getString(Utils.PREFS_HOST_NAME, MyApp.getDefaultHostName());\r\n        boolean tls = sharedPref.getBoolean(Utils.PREFS_USE_TLS, MyApp.getDefaultTLS());\r\n\r\n        final Node node = Cache.getNode();\r\n        node.connect(hostName, tls, false).thenApply(new PromisedReply.SuccessListener&lt;ServerMessage&gt;() {\r\n            @Override\r\n            public PromisedReply&lt;ServerMessage&gt; onSuccess(ServerMessage result) {\r\n                List&lt;String&gt; methods = UiUtils.getRequiredCredMethods(tinode, &quot;auth&quot;);\r\n                setupCredentials(parent, methods.toArray(new String[]{}));\r\n                return null;\r\n            }\r\n        }).thenCatch(new PromisedReply.FailureListener&lt;ServerMessage&gt;() {\r\n            @Override\r\n            public &lt;E extends Exception&gt; PromisedReply&lt;ServerMessage&gt; onFailure(E err) {\r\n                Log.w(TAG, &quot;Failed to connect&quot;, err);\r\n                if (parent.isFinishing() || parent.isDestroyed()) {\r\n                    return null;\r\n                }\r\n                parent.runOnUiThread(() -&gt; {\r\n                    parent.findViewById(R.id.signUp).setEnabled(false);\r\n                    Toast.makeText(parent, R.string.unable_to_use_service, Toast.LENGTH_LONG).show();\r\n                });\r\n                return null;\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\nGetting the default hostname process in the application class.\r\n\r\n```\r\npublic static String getDefaultHostName() {\r\n        return sContext.getResources().getString(isEmulator() ?\r\n                R.string.emulator_host_name :\r\n                R.string.default_host_name);\r\n    }\r\n\r\n//Initializing and getContext processes in the application class.\r\npublic MyApp() {\r\n        sContext = this;\r\n    }\r\n\r\n    public static Context getAppContext() {\r\n        return sContext;\r\n    }\r\n```\r\n\r\nisEmulator method to specify if it&#39;s running on an emulator or not.\r\n\r\n```\r\npublic static boolean isEmulator() {\r\n        return Build.FINGERPRINT.startsWith(&quot;sdk_gphone_x86&quot;)\r\n                || Build.FINGERPRINT.startsWith(&quot;unknown&quot;)\r\n                || Build.MODEL.contains(&quot;google_sdk&quot;)\r\n                || Build.MODEL.contains(&quot;Emulator&quot;)\r\n                || Build.MODEL.contains(&quot;Android SDK built for x86&quot;)\r\n                || Build.MANUFACTURER.contains(&quot;Genymotion&quot;)\r\n                || (Build.BRAND.startsWith(&quot;generic&quot;) &amp;&amp; Build.DEVICE.startsWith(&quot;generic&quot;))\r\n                || &quot;google_sdk&quot;.equals(Build.PRODUCT)\r\n                || Build.PRODUCT.startsWith(&quot;sdk&quot;)\r\n                || Build.PRODUCT.startsWith(&quot;vbox&quot;);\r\n    }\r\n```\r\n\r\n\r\nThank you everyone...","title":"When trying to connect with the server by the hostname, the onFailure method always executes?","body":"<p>I'm trying to establish a connection between the device and the server using the host name. But, while running the application, the process never succeeded, and the onFailure method executes every time I open the Sign Up activity. I thought at first that the host name process threw a NullPointerException, but I made sure that it was working fine. Below, there is a code sample of the whole process. If anyone can give me advice,\nThank you...</p>\n<p>Connection Process (with onSuccess and onFailure methods) in the overridden onResume method</p>\n<pre><code>@Override\n    public void onResume() {\n        super.onResume();\n\n        final LoginActivity parent = (LoginActivity) requireActivity();\n\n        final SharedPreferences sharedPref = PreferenceManager.getDefaultSharedPreferences(parent);\n        String hostName = sharedPref.getString(Utils.PREFS_HOST_NAME, MyApp.getDefaultHostName());\n        boolean tls = sharedPref.getBoolean(Utils.PREFS_USE_TLS, MyApp.getDefaultTLS());\n\n        final Node node = Cache.getNode();\n        node.connect(hostName, tls, false).thenApply(new PromisedReply.SuccessListener&lt;ServerMessage&gt;() {\n            @Override\n            public PromisedReply&lt;ServerMessage&gt; onSuccess(ServerMessage result) {\n                List&lt;String&gt; methods = UiUtils.getRequiredCredMethods(tinode, &quot;auth&quot;);\n                setupCredentials(parent, methods.toArray(new String[]{}));\n                return null;\n            }\n        }).thenCatch(new PromisedReply.FailureListener&lt;ServerMessage&gt;() {\n            @Override\n            public &lt;E extends Exception&gt; PromisedReply&lt;ServerMessage&gt; onFailure(E err) {\n                Log.w(TAG, &quot;Failed to connect&quot;, err);\n                if (parent.isFinishing() || parent.isDestroyed()) {\n                    return null;\n                }\n                parent.runOnUiThread(() -&gt; {\n                    parent.findViewById(R.id.signUp).setEnabled(false);\n                    Toast.makeText(parent, R.string.unable_to_use_service, Toast.LENGTH_LONG).show();\n                });\n                return null;\n            }\n        });\n    }\n</code></pre>\n<p>Getting the default hostname process in the application class.</p>\n<pre><code>public static String getDefaultHostName() {\n        return sContext.getResources().getString(isEmulator() ?\n                R.string.emulator_host_name :\n                R.string.default_host_name);\n    }\n\n//Initializing and getContext processes in the application class.\npublic MyApp() {\n        sContext = this;\n    }\n\n    public static Context getAppContext() {\n        return sContext;\n    }\n</code></pre>\n<p>isEmulator method to specify if it's running on an emulator or not.</p>\n<pre><code>public static boolean isEmulator() {\n        return Build.FINGERPRINT.startsWith(&quot;sdk_gphone_x86&quot;)\n                || Build.FINGERPRINT.startsWith(&quot;unknown&quot;)\n                || Build.MODEL.contains(&quot;google_sdk&quot;)\n                || Build.MODEL.contains(&quot;Emulator&quot;)\n                || Build.MODEL.contains(&quot;Android SDK built for x86&quot;)\n                || Build.MANUFACTURER.contains(&quot;Genymotion&quot;)\n                || (Build.BRAND.startsWith(&quot;generic&quot;) &amp;&amp; Build.DEVICE.startsWith(&quot;generic&quot;))\n                || &quot;google_sdk&quot;.equals(Build.PRODUCT)\n                || Build.PRODUCT.startsWith(&quot;sdk&quot;)\n                || Build.PRODUCT.startsWith(&quot;vbox&quot;);\n    }\n</code></pre>\n<p>Thank you everyone...</p>\n"},{"tags":["java","macos","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":28142361,"reputation":56,"user_id":21505209,"display_name":"ZhinckIron"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1682205694,"creation_date":1682205660,"answer_id":76082393,"question_id":76082244,"body_markdown":"I solved this problem uninstalling and installing again the extension and all its dependences. If you have also installed &quot;Extension Pack for Java&quot; then start by uninstalling that extension first.","title":"&quot;Language Support for Java is required. Please install and enable it.&quot; -VS Code Endless loop","body":"<p>I solved this problem uninstalling and installing again the extension and all its dependences. If you have also installed &quot;Extension Pack for Java&quot; then start by uninstalling that extension first.</p>\n"}],"owner":{"account_id":13371391,"reputation":31,"user_id":9649702,"display_name":"Roman N."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1682249399,"accepted_answer_id":76082393,"answer_count":1,"score":0,"last_activity_date":1682205694,"creation_date":1682203169,"question_id":76082244,"body_markdown":"In VS Code, every time I run any of my Java programs, I get [this error](https://i.stack.imgur.com/N1EVF.png) at the bottom right corner. Whenever I press &quot;install&quot;, I get prompted to [reload the window](https://i.stack.imgur.com/PN7nX.png), but when I do this and try running again, it gives me the same error. Under &quot;Java Projects&quot; in the bottom left corner, it also says to install the Extension Pack for Java, even though I already have that installed too. \r\n\r\nI have Java JDK 17 and all of the required extensions for VS Code, plus I&#39;ve added Java to my Mac&#39;s PATH variable, but to no avail. Restarting VS Code doesn&#39;t work either. Any other suggestions?","title":"&quot;Language Support for Java is required. Please install and enable it.&quot; -VS Code Endless loop","body":"<p>In VS Code, every time I run any of my Java programs, I get <a href=\"https://i.stack.imgur.com/N1EVF.png\" rel=\"nofollow noreferrer\">this error</a> at the bottom right corner. Whenever I press &quot;install&quot;, I get prompted to <a href=\"https://i.stack.imgur.com/PN7nX.png\" rel=\"nofollow noreferrer\">reload the window</a>, but when I do this and try running again, it gives me the same error. Under &quot;Java Projects&quot; in the bottom left corner, it also says to install the Extension Pack for Java, even though I already have that installed too.</p>\n<p>I have Java JDK 17 and all of the required extensions for VS Code, plus I've added Java to my Mac's PATH variable, but to no avail. Restarting VS Code doesn't work either. Any other suggestions?</p>\n"},{"tags":["java","if-statement","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1682210805,"post_id":76082180,"comment_id":134179454,"body_markdown":"Convert your input to lower or upper case, this way you can compare the text in a more uniform way","body":"Convert your input to lower or upper case, this way you can compare the text in a more uniform way"}],"owner":{"account_id":28383042,"reputation":1,"user_id":21710010,"display_name":"hersh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682201976,"creation_date":1682201976,"question_id":76082180,"body_markdown":"I am working on a workout program which displays workout exercises after the user inputs the desired workout exercises through the GUI (JOptionPane). \r\n\r\n\r\n```\r\nString name = JOptionPane.showInputDialog(&quot;Welcome to the workout and dietary health plan app, Enter your name&quot;);\r\n\t\t\r\n\t\tint age = Integer.parseInt(JOptionPane.showInputDialog(&quot;Hello &quot; + name + &quot;, what is your age? &quot;));\r\n\t\t\r\n\t\tif(age &lt; 60 &amp;&amp; age &gt; 15) {\r\n\t\t\tString typeAdvice = JOptionPane.showInputDialog(&quot;You are the right age to use this app, would you like advice on a workout plan, or a diet plan?&quot;);\r\n\t\t\tif(typeAdvice.contains(&quot;workout&quot;) || typeAdvice.contains(&quot;Workout&quot;)) {\r\n\t\t\t\tString group = JOptionPane.showInputDialog(&quot;What group would you like to workout?&quot;);\r\n\t\t\t\tif(group.contains(&quot;Chest&quot;) || group.contains(&quot;chest&quot;)) {\r\n\t\t\t\t\tJOptionPane.showInputDialog(null,  &quot;Chest Workouts: Bench Press, Incline Dumbbell Press, Bar Dips, Standing Cable Chest Fly&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\n\r\n\r\nWhen I run the program , the first and second if statement I show works as expected. However, when it goes to my third if statement it fails. Basically, I input the required age and workout, but when it asks me the group I enter &quot;chest&quot;, and the code just terminates.\r\n\r\n\r\nCould my problem be with the JOptionPane not displaying the message or the code before it?\r\n\r\nThank You","title":"JOptionPane not displaying message properly","body":"<p>I am working on a workout program which displays workout exercises after the user inputs the desired workout exercises through the GUI (JOptionPane).</p>\n<pre><code>String name = JOptionPane.showInputDialog(&quot;Welcome to the workout and dietary health plan app, Enter your name&quot;);\n        \n        int age = Integer.parseInt(JOptionPane.showInputDialog(&quot;Hello &quot; + name + &quot;, what is your age? &quot;));\n        \n        if(age &lt; 60 &amp;&amp; age &gt; 15) {\n            String typeAdvice = JOptionPane.showInputDialog(&quot;You are the right age to use this app, would you like advice on a workout plan, or a diet plan?&quot;);\n            if(typeAdvice.contains(&quot;workout&quot;) || typeAdvice.contains(&quot;Workout&quot;)) {\n                String group = JOptionPane.showInputDialog(&quot;What group would you like to workout?&quot;);\n                if(group.contains(&quot;Chest&quot;) || group.contains(&quot;chest&quot;)) {\n                    JOptionPane.showInputDialog(null,  &quot;Chest Workouts: Bench Press, Incline Dumbbell Press, Bar Dips, Standing Cable Chest Fly&quot;);\n                }\n            }\n</code></pre>\n<p>When I run the program , the first and second if statement I show works as expected. However, when it goes to my third if statement it fails. Basically, I input the required age and workout, but when it asks me the group I enter &quot;chest&quot;, and the code just terminates.</p>\n<p>Could my problem be with the JOptionPane not displaying the message or the code before it?</p>\n<p>Thank You</p>\n"},{"tags":["java","dictionary","count","cpu-word"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1682110588,"post_id":76076604,"comment_id":134169769,"body_markdown":"`Arrays.stream(str.split(&quot; &quot;)).collect(Collectors.groupingBy(s -&gt; s, Collectors.counting()))`","body":"<code>Arrays.stream(str.split(&quot; &quot;)).collect(Collectors.groupingBy(s -&gt; s, Collectors.counting()))</code>"},{"owner":{"account_id":27932374,"reputation":11,"user_id":21330091,"display_name":"Mary"},"score":0,"creation_date":1682112816,"post_id":76076604,"comment_id":134170088,"body_markdown":"I am a new to coding. Do I use that instead of : Map&lt;String, Integer&gt; map = new Hash Map&lt;String, Integer&gt;();","body":"I am a new to coding. Do I use that instead of : Map&lt;String, Integer&gt; map = new Hash Map&lt;String, Integer&gt;();"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1682113179,"post_id":76076604,"comment_id":134170143,"body_markdown":"You assign the result to a `Map&lt;String, Long&gt;`.","body":"You assign the result to a <code>Map&lt;String, Long&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682199354,"creation_date":1682113772,"answer_id":76076913,"question_id":76076604,"body_markdown":"The code you may want to write accoringly to the description:\r\n```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        String input = &quot;Hello world Hello all&quot;;\r\n        Map&lt;String, Integer&gt; wordMap = countWords(input);\r\n        System.out.println(wordMap); // {all=1, world=1, Hello=2}\r\n    }\r\n\r\n    private static HashMap&lt;String, Integer&gt; countWords(final String text) {\r\n        HashMap&lt;String, Integer&gt; wordMap = new HashMap&lt;&gt;();\r\n        String[] words = text.split(&quot; &quot;); // split the input string by space\r\n        for (String word : words) {\r\n            if (wordMap.containsKey(word)) {\r\n                wordMap.put(word, wordMap.get(word) + 1); // increment count of existing word\r\n            } else {\r\n                wordMap.put(word, 1); // add new word to the map\r\n            }\r\n        }\r\n        return wordMap;\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\nNote that it can be improved this way:\r\n```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        String input = &quot;Hello world Hello all&quot;;\r\n        Map&lt;String, Integer&gt; wordMap = countWords(input);\r\n        System.out.println(wordMap); // {all=1, world=1, Hello=2}\r\n    }\r\n\r\n    private static HashMap&lt;String, Integer&gt; countWords(final String text) {\r\n        HashMap&lt;String, Integer&gt; wordMap = new HashMap&lt;&gt;();\r\n        String[] words = text.split(&quot; &quot;); // split the input string by space\r\n        for (String word : words) {\r\n            wordMap.merge(word, 1, Integer::sum);\r\n        }\r\n        return wordMap;\r\n    }\r\n}\r\n```\r\nOr that way:\r\n```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        String input = &quot;Hello world Hello all&quot;;\r\n        Map&lt;String, Integer&gt; wordMap = countWords(input);\r\n        System.out.println(wordMap); // {all=1, world=1, Hello=2}\r\n    }\r\n\r\n    private static Map&lt;String, Integer&gt; countWords(final String text) {\r\n        return Arrays.stream(text.split(&quot; &quot;))\r\n            .collect(groupingBy(identity(), summingInt(x -&gt; 1)));\r\n    }\r\n}\r\n```\r\n","title":"Word Map Counter","body":"<p>The code you may want to write accoringly to the description:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        String input = &quot;Hello world Hello all&quot;;\n        Map&lt;String, Integer&gt; wordMap = countWords(input);\n        System.out.println(wordMap); // {all=1, world=1, Hello=2}\n    }\n\n    private static HashMap&lt;String, Integer&gt; countWords(final String text) {\n        HashMap&lt;String, Integer&gt; wordMap = new HashMap&lt;&gt;();\n        String[] words = text.split(&quot; &quot;); // split the input string by space\n        for (String word : words) {\n            if (wordMap.containsKey(word)) {\n                wordMap.put(word, wordMap.get(word) + 1); // increment count of existing word\n            } else {\n                wordMap.put(word, 1); // add new word to the map\n            }\n        }\n        return wordMap;\n    }\n}\n</code></pre>\n<hr />\n<p>Note that it can be improved this way:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        String input = &quot;Hello world Hello all&quot;;\n        Map&lt;String, Integer&gt; wordMap = countWords(input);\n        System.out.println(wordMap); // {all=1, world=1, Hello=2}\n    }\n\n    private static HashMap&lt;String, Integer&gt; countWords(final String text) {\n        HashMap&lt;String, Integer&gt; wordMap = new HashMap&lt;&gt;();\n        String[] words = text.split(&quot; &quot;); // split the input string by space\n        for (String word : words) {\n            wordMap.merge(word, 1, Integer::sum);\n        }\n        return wordMap;\n    }\n}\n</code></pre>\n<p>Or that way:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        String input = &quot;Hello world Hello all&quot;;\n        Map&lt;String, Integer&gt; wordMap = countWords(input);\n        System.out.println(wordMap); // {all=1, world=1, Hello=2}\n    }\n\n    private static Map&lt;String, Integer&gt; countWords(final String text) {\n        return Arrays.stream(text.split(&quot; &quot;))\n            .collect(groupingBy(identity(), summingInt(x -&gt; 1)));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682200779,"creation_date":1682200779,"answer_id":76082119,"question_id":76076604,"body_markdown":"Here is yet another way. Use [Map.merge](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)).\r\n```\r\nMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\nString s = &quot;one three    five four   four&quot;\r\n        + &quot;            two three five     four  four&quot;\r\n        + &quot;   five five  three    two five&quot;;\r\n```\r\n`\\\\s+` - splits on one or more white space characters\r\n```\r\nfor (String word : s.split(&quot;\\\\s+&quot;)) {\r\n    map.merge(word, 1, Integer::sum);\r\n}\r\n\r\nmap.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nfour=4\r\none=1\r\ntwo=2\r\nfive=5\r\nthree=3\r\n","title":"Word Map Counter","body":"<p>Here is yet another way. Use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Map.merge</a>.</p>\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\nString s = &quot;one three    five four   four&quot;\n        + &quot;            two three five     four  four&quot;\n        + &quot;   five five  three    two five&quot;;\n</code></pre>\n<p><code>\\\\s+</code> - splits on one or more white space characters</p>\n<pre><code>for (String word : s.split(&quot;\\\\s+&quot;)) {\n    map.merge(word, 1, Integer::sum);\n}\n\nmap.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>four=4\none=1\ntwo=2\nfive=5\nthree=3\n</code></pre>\n"}],"owner":{"account_id":27932374,"reputation":11,"user_id":21330091,"display_name":"Mary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682200779,"creation_date":1682110012,"question_id":76076604,"body_markdown":"how do I instantiate a map, using the split(&quot; &quot;) on words, and iterate through the resulting array.\r\n     * Inside of the resulting for loop, you should insert a new key to the map every time you encounter a word that is not already a key in the map, and add to the word&#39;s count value every time you encounter a word that already exists in the map.\r\n\r\n    Map&lt;String, Integer&gt; map = new Hash Map&lt;String, Integer&gt;();\r\n        for (String s : string Array) {\r\n            if (containerization(s)) {\r\n                map.put(s, map.get(s) + 1);\r\n            } else {\r\n                map.put(s, 1);\r\n            }\r\n        }\r\n    \r\n      \r\n        return map;\r\n    \r\n    }\r\n}","title":"Word Map Counter","body":"<p>how do I instantiate a map, using the split(&quot; &quot;) on words, and iterate through the resulting array.\n* Inside of the resulting for loop, you should insert a new key to the map every time you encounter a word that is not already a key in the map, and add to the word's count value every time you encounter a word that already exists in the map.</p>\n<pre><code>Map&lt;String, Integer&gt; map = new Hash Map&lt;String, Integer&gt;();\n    for (String s : string Array) {\n        if (containerization(s)) {\n            map.put(s, map.get(s) + 1);\n        } else {\n            map.put(s, 1);\n        }\n    }\n\n  \n    return map;\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","xamarin","binding","metadata","aar"],"answers":[{"tags":[],"owner":{"account_id":7195495,"reputation":283,"user_id":5494473,"display_name":"Danil Kurkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521039912,"creation_date":1521039912,"answer_id":49281160,"question_id":48865159,"body_markdown":"I did resolve this issue - \r\nthe packages are available to download\r\n\r\nPM&gt; Install-Package marketingcloudsdkAndroid -Version 1.0.7\r\n\r\nPM&gt; Install-Package marketingcloudsdkiOS -Version 1.0.1\r\n\r\nFor future references - I had to add node to the whole class to make it work.\r\nThe project can be looked at my\r\n\r\nhttps://github.com/danilkurkin1/marketingcloudsdk/blob/master/marketingcloudsdk/Transforms/Metadata.xml","title":"Xamarin aar binding issue - methods of the class are not visible","body":"<p>I did resolve this issue - \nthe packages are available to download</p>\n\n<p>PM> Install-Package marketingcloudsdkAndroid -Version 1.0.7</p>\n\n<p>PM> Install-Package marketingcloudsdkiOS -Version 1.0.1</p>\n\n<p>For future references - I had to add node to the whole class to make it work.\nThe project can be looked at my</p>\n\n<p><a href=\"https://github.com/danilkurkin1/marketingcloudsdk/blob/master/marketingcloudsdk/Transforms/Metadata.xml\" rel=\"nofollow noreferrer\">https://github.com/danilkurkin1/marketingcloudsdk/blob/master/marketingcloudsdk/Transforms/Metadata.xml</a></p>\n"},{"tags":[],"owner":{"account_id":6235201,"reputation":1,"user_id":4850740,"display_name":"Ihor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682200060,"creation_date":1682200060,"answer_id":76082077,"question_id":48865159,"body_markdown":"Try to use this package\r\n \r\n```dotnet add package MarketingCloud.MobilePushSDK.Android```","title":"Xamarin aar binding issue - methods of the class are not visible","body":"<p>Try to use this package</p>\n<p><code>dotnet add package MarketingCloud.MobilePushSDK.Android</code></p>\n"}],"owner":{"account_id":7195495,"reputation":283,"user_id":5494473,"display_name":"Danil Kurkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682200060,"creation_date":1519039535,"question_id":48865159,"body_markdown":"I am having a trouble to create dll for Marketingcloud sdk by Salesforce.  Since the last update I am having a trouble to create bindings to access Initialization class. java lib code is as follows: \r\n\r\n\r\n\t\tpublic final class MarketingCloudSdk extends d.b { ... }\r\n\t\t\r\n\t\t...\r\n\t\r\n\t\tstatic abstract class b\r\n\t\t  {\r\n\t\t    abstract void a(int paramInt);\r\n\t\t  }\r\n\t\r\n\t\tpublic static @interface a {}\r\n\r\n\r\nWhat I am doing in Metadata.xml:\r\n\r\n\t\t &lt;attr path=&quot;/api/package[@name=&#39;com.salesforce.marketingcloud&#39;]/class[@name=&#39;a&#39;]&quot; name=&quot;obfuscated&quot;&gt;false&lt;/attr&gt;\r\n\t\t  &lt;attr path=&quot;/api/package[@name=&#39;com.salesforce.marketingcloud.d&#39;]/class[@name=&#39;b&#39;]&quot; name=&quot;obfuscated&quot;&gt;false&lt;/attr&gt;\r\n\t\t &lt;!--CS0542\t&#39;D&#39;: member names cannot be the same as their enclosing type--&gt;\r\n\t\t  &lt;attr path=&quot;/api/package[@name=&#39;com.salesforce.marketingcloud&#39;]/class[@name=&#39;d&#39;]&quot; name=&quot;managedName&quot;&gt;dd&lt;/attr&gt;\r\n\t\t  &lt;attr path=&quot;/api/package[@name=&#39;com.salesforce.marketingcloud&#39;]/class[@name=&#39;d&#39;]&quot; name=&quot;obfuscated&quot;&gt;false&lt;/attr&gt;\r\n\t\t&lt;attr path=&quot;/api/package[@name=&#39;com.salesforce.marketingcloud.d&#39;]/class[@name=&#39;b&#39;]&quot; name=&quot;obfuscated&quot;&gt;false&lt;/attr&gt;\r\n\t\t \r\n\t\t&lt;add-node path=&quot;/api/package[@name=&#39;com.salesforce.marketingcloud&#39;]&quot;&gt;\r\n\t\t    &lt;class abstract=&quot;false&quot; deprecated=&quot;not deprecated&quot; final=&quot;true&quot; name=&quot;MarketingCloudSdk&quot; static=&quot;false&quot; visibility=&quot;public&quot; extends=&quot;java.lang.Object&quot;&gt;\r\n\t\t      &lt;constructor deprecated=&quot;not deprecated&quot; final=&quot;false&quot; name=&quot;MarketingCloudSdk&quot; static=&quot;false&quot; type=&quot;com.salesforce.marketingcloud.MarketingCloudSdk&quot; visibility=&quot;public&quot; /&gt;\r\n\t\t    &lt;/class&gt;\r\n\t\t  &lt;/add-node&gt;\r\n\r\n\r\n\r\nResult -&gt; have dll built with Com.Salesforce.Marketingcloud.MarketingCloudSdk available, however the methods of the class are not there apart from  public static abstract interface InitializationListener and public static abstract interface WhenReadyListener.  public static void init(...), public static MarketingCloudSdk getInstance(), etc are not &quot;visible&quot;\r\n\r\n\r\nI could not find any information on how to describe inherited classes in Metadata.xml any help would be much appreciated\r\n\r\nLink to [aar][1] \r\n\r\n\r\n\r\nThank you.\r\n\r\n\r\n  [1]: http://salesforce-marketingcloud.github.io/JB4A-SDK-Android/repository/com/salesforce/marketingcloud/marketingcloudsdk/5.4.4/","title":"Xamarin aar binding issue - methods of the class are not visible","body":"<p>I am having a trouble to create dll for Marketingcloud sdk by Salesforce.  Since the last update I am having a trouble to create bindings to access Initialization class. java lib code is as follows: </p>\n\n<pre><code>    public final class MarketingCloudSdk extends d.b { ... }\n\n    ...\n\n    static abstract class b\n      {\n        abstract void a(int paramInt);\n      }\n\n    public static @interface a {}\n</code></pre>\n\n<p>What I am doing in Metadata.xml:</p>\n\n<pre><code>     &lt;attr path=\"/api/package[@name='com.salesforce.marketingcloud']/class[@name='a']\" name=\"obfuscated\"&gt;false&lt;/attr&gt;\n      &lt;attr path=\"/api/package[@name='com.salesforce.marketingcloud.d']/class[@name='b']\" name=\"obfuscated\"&gt;false&lt;/attr&gt;\n     &lt;!--CS0542 'D': member names cannot be the same as their enclosing type--&gt;\n      &lt;attr path=\"/api/package[@name='com.salesforce.marketingcloud']/class[@name='d']\" name=\"managedName\"&gt;dd&lt;/attr&gt;\n      &lt;attr path=\"/api/package[@name='com.salesforce.marketingcloud']/class[@name='d']\" name=\"obfuscated\"&gt;false&lt;/attr&gt;\n    &lt;attr path=\"/api/package[@name='com.salesforce.marketingcloud.d']/class[@name='b']\" name=\"obfuscated\"&gt;false&lt;/attr&gt;\n\n    &lt;add-node path=\"/api/package[@name='com.salesforce.marketingcloud']\"&gt;\n        &lt;class abstract=\"false\" deprecated=\"not deprecated\" final=\"true\" name=\"MarketingCloudSdk\" static=\"false\" visibility=\"public\" extends=\"java.lang.Object\"&gt;\n          &lt;constructor deprecated=\"not deprecated\" final=\"false\" name=\"MarketingCloudSdk\" static=\"false\" type=\"com.salesforce.marketingcloud.MarketingCloudSdk\" visibility=\"public\" /&gt;\n        &lt;/class&gt;\n      &lt;/add-node&gt;\n</code></pre>\n\n<p>Result -> have dll built with Com.Salesforce.Marketingcloud.MarketingCloudSdk available, however the methods of the class are not there apart from  public static abstract interface InitializationListener and public static abstract interface WhenReadyListener.  public static void init(...), public static MarketingCloudSdk getInstance(), etc are not \"visible\"</p>\n\n<p>I could not find any information on how to describe inherited classes in Metadata.xml any help would be much appreciated</p>\n\n<p>Link to <a href=\"http://salesforce-marketingcloud.github.io/JB4A-SDK-Android/repository/com/salesforce/marketingcloud/marketingcloudsdk/5.4.4/\" rel=\"nofollow noreferrer\">aar</a> </p>\n\n<p>Thank you.</p>\n"},{"tags":["java","mockito","java-11"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1543408986,"post_id":53519442,"comment_id":93908006,"body_markdown":"Just for a compatibility *You should check what is the underlying byte-buddy version, I guess it should be 1.9.0. Just make sure that with a direct dependency and confirm if it works or not.*","body":"Just for a compatibility <i>You should check what is the underlying byte-buddy version, I guess it should be 1.9.0. Just make sure that with a direct dependency and confirm if it works or not.</i>"},{"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"score":0,"creation_date":1543409686,"post_id":53519442,"comment_id":93908465,"body_markdown":"Check, still nothing change...","body":"Check, still nothing change..."},{"owner":{"account_id":4285843,"reputation":4366,"user_id":3503685,"accept_rate":72,"display_name":"StasKolodyuk"},"score":0,"creation_date":1543410355,"post_id":53519442,"comment_id":93908856,"body_markdown":"Try to upgrade jackson libraries to 2.9.7","body":"Try to upgrade jackson libraries to 2.9.7"},{"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"score":0,"creation_date":1543410490,"post_id":53519442,"comment_id":93908930,"body_markdown":"I have 2.9.7 for jackson-databind and jackson-annotations","body":"I have 2.9.7 for jackson-databind and jackson-annotations"},{"owner":{"account_id":4312932,"reputation":23962,"user_id":3523579,"accept_rate":90,"display_name":"Mikhail Kholodkov"},"score":0,"creation_date":1543427352,"post_id":53519442,"comment_id":93919482,"body_markdown":"Please paste ObjectMapper/ObjectBuilder configuration","body":"Please paste ObjectMapper/ObjectBuilder configuration"},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1691739465,"post_id":53519442,"comment_id":135535111,"body_markdown":"Cf. https://stackoverflow.com/questions/74430283/error-when-using-mockito-mocksomeobject-class-and-object-mapper and https://stackoverflow.com/questions/58658250/mock-interface-with-mockito-so-it-can-be-serialized-by-jackson. tl;dr: Mocks and Jackson don&#39;t play along well.","body":"Cf. <a href=\"https://stackoverflow.com/questions/74430283/error-when-using-mockito-mocksomeobject-class-and-object-mapper\" title=\"error when using mockito mocksomeobject class and object mapper\">stackoverflow.com/questions/74430283/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/58658250/mock-interface-with-mockito-so-it-can-be-serialized-by-jackson\" title=\"mock interface with mockito so it can be serialized by jackson\">stackoverflow.com/questions/58658250/&hellip;</a>. tl;dr: Mocks and Jackson don&#39;t play along well."}],"answers":[{"tags":[],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1552310507,"creation_date":1543486040,"answer_id":53536446,"question_id":53519442,"body_markdown":"I fix this test using real object not mocked dto&#39;s","title":"No serializer found while using mockito with Java 11","body":"<p>I fix this test using real object not mocked dto's</p>\n"},{"tags":[],"owner":{"account_id":1285195,"reputation":141,"user_id":1238419,"display_name":"iamcoming"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682198940,"creation_date":1682198940,"answer_id":76082007,"question_id":53519442,"body_markdown":"add following dependency fixed mine.\r\n\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;","title":"No serializer found while using mockito with Java 11","body":"<p>add following dependency fixed mine.</p>\n<pre><code>&lt;groupId&gt;org.mockito&lt;/groupId&gt;\n&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n</code></pre>\n"}],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5376,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":53536446,"answer_count":2,"score":6,"last_activity_date":1682198940,"creation_date":1543407934,"question_id":53519442,"body_markdown":"I created a test for my controller and service using mockito. While I use java 8 everything is Ok, but after migration to Java 11, I have this error. Maybe someone can help me fix this test?\r\n\r\n    public class ConfigurationControllerTest {\r\n    \r\n    \t@Mock\r\n    \tprivate ConfigurationService configurationService;\r\n    \r\n    \t@InjectMocks\r\n    \tprivate ConfigurationController controller;\r\n    \r\n    \tprivate MockMvc mockMvc;\r\n    \r\n    \t@Before\r\n    \tpublic void setUp() {\r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t\tmockMvc = MockMvcBuilders\r\n    \t\t\t\t.standaloneSetup(controller)\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void find() throws Exception {\r\n    \t\t//given\r\n    \t\tfinal ConfigurationsDto configDto = mock(ConfigurationsDto.class);\r\n    \t\tgiven(configurationService.find(any())).willReturn(Arrays.asList(configDto));\r\n    \r\n    \r\n    \t\t//when and then\r\n    \t\tmockMvc\r\n    \t\t\t\t.perform(get(&quot;/config/1.0.0/&quot;)\r\n    \t\t\t\t\t\t.accept(MediaType.APPLICATION_JSON))\r\n    \t\t\t\t.andExpect(status().isOk());\r\n    \t}\r\n    }\r\n\r\nAfter run, I recived https status 500 and error:\r\n\r\n&gt; [main] ERROR app.controllers.global.AdviceController - No serializer found for class org.mockito.internal.debugging.LocationImpl and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.Collections$SingletonList[0]-&gt;app.dtos.ConfigurationsDto$MockitoMock$534475338[&quot;mockitoInterceptor&quot;]-&gt;org.mockito.internal.creation.bytebuddy.MockMethodInterceptor[&quot;mockHandler&quot;]-&gt;org.mockito.internal.handler.InvocationNotifierHandler[&quot;invocationContainer&quot;]-&gt;org.mockito.internal.stubbing.InvocationContainerImpl[&quot;invocationForStubbing&quot;]-&gt;org.mockito.internal.invocation.InvocationMatcher[&quot;invocation&quot;]-&gt;org.mockito.internal.invocation.InterceptedInvocation[&quot;location&quot;])\r\n\r\n\r\nOf course, I add the needed dependency in pom:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.23.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"No serializer found while using mockito with Java 11","body":"<p>I created a test for my controller and service using mockito. While I use java 8 everything is Ok, but after migration to Java 11, I have this error. Maybe someone can help me fix this test?</p>\n\n<pre><code>public class ConfigurationControllerTest {\n\n    @Mock\n    private ConfigurationService configurationService;\n\n    @InjectMocks\n    private ConfigurationController controller;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        mockMvc = MockMvcBuilders\n                .standaloneSetup(controller)\n                .build();\n    }\n\n    @Test\n    public void find() throws Exception {\n        //given\n        final ConfigurationsDto configDto = mock(ConfigurationsDto.class);\n        given(configurationService.find(any())).willReturn(Arrays.asList(configDto));\n\n\n        //when and then\n        mockMvc\n                .perform(get(\"/config/1.0.0/\")\n                        .accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk());\n    }\n}\n</code></pre>\n\n<p>After run, I recived https status 500 and error:</p>\n\n<blockquote>\n  <p>[main] ERROR app.controllers.global.AdviceController - No serializer found for class org.mockito.internal.debugging.LocationImpl and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.Collections$SingletonList[0]->app.dtos.ConfigurationsDto$MockitoMock$534475338[\"mockitoInterceptor\"]->org.mockito.internal.creation.bytebuddy.MockMethodInterceptor[\"mockHandler\"]->org.mockito.internal.handler.InvocationNotifierHandler[\"invocationContainer\"]->org.mockito.internal.stubbing.InvocationContainerImpl[\"invocationForStubbing\"]->org.mockito.internal.invocation.InvocationMatcher[\"invocation\"]->org.mockito.internal.invocation.InterceptedInvocation[\"location\"])</p>\n</blockquote>\n\n<p>Of course, I add the needed dependency in pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;2.23.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","ssl","redis","certificate","lettuce"],"owner":{"account_id":20666338,"reputation":41,"user_id":15173097,"display_name":"JShao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682198122,"creation_date":1682198122,"question_id":76081960,"body_markdown":"I am able to connect to Redis via\r\n\r\n```\r\nredis-cli --tls --cert ~/cert/test/redis.example.com.chain.pem --key ~/cert/test/redis.example.com.key \\\r\n-h [redis-endpoint] -p 6379 \r\nand\r\nauth username password\r\n```\r\n\r\nAnd I&#39;m trying to write Java code using Lettuce(ver 6.0.x), but not able to connect. \r\n\r\n\r\nHere are the steps I tried:\r\n1. creating key\r\nopenssl req -new -newkey rsa:2048 -sha256 -keyout redis.example.com.key.pem -subj &quot;/&quot;\r\nopenssl rsa -in redis.example.com.key.pem -out redis.example.com.key\r\n2. \r\nI was able to connect to Redis cluster via Redis-cli command line\r\n```\r\nredis-cli --tls --cert ~/cert/test/redis.example.com.chain.pem --key ~/cert/test/redis.example.com.key -h redis.example.com.key.com -p 6375 \r\n```\r\nauth username password\r\n3. creating Key store\r\n```\r\nopenssl pkcs12 -export -in redis.example.com.chain.pem -inkey redis.example.com.key.pem -out keystore.p12\r\n```\r\n4. creating trust store\r\n```\r\nkeytool -importcert -file root_ca.pem -destkeystore root-ca.truststore.p12 -storetype pkcs12 -alias root-ca\r\nkeytool -importcert -file corporate_root_ca.pem -destkeystore root-ca.truststore.p12 -storetype pkcs12 -alias cm-root-ca\r\n```\r\n6. Java code\r\n```\r\n          RedisURI redisUri = RedisURI.Builder.redis(enterpriseConfig.getEndpoint())\r\n              .withSsl(true)\r\n              .withAuthentication(userName, password)\r\n              .withPort(port)\r\n              .build();\r\n          ClusterTopologyRefreshOptions topologyRefreshOptions = ClusterTopologyRefreshOptions.builder()\r\n              .enablePeriodicRefresh()\r\n              .enableAllAdaptiveRefreshTriggers()\r\n              .refreshTriggersReconnectAttempts(3)\r\n              .build();\r\n\r\n          RedisClusterClient cluster = RedisClusterClient.create(redisUri);\r\n          ClusterClientOptions clientOptions = ClusterClientOptions.builder()\r\n              .topologyRefreshOptions(topologyRefreshOptions)\r\n              .autoReconnect(true)\r\n              .sslOptions(buildSslOptions())\r\n              .build();\r\n          cluster.setOptions(clientOptions);\r\n          System.out.println(&quot;connecting ... &quot;);\r\n          return cluster.connect();\r\n```\r\n\t\t  \r\n7.  buildSslOptions()\r\n``` \r\n  private static SslOptions buildSslOptions()\r\n      throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException, UnrecoverableKeyException {\r\n    Map&lt;String, String&gt; clientCert = ConfigLoader.getConfiguration().getClientCert();\r\n    if (clientCert != null){\r\n      String baseDir = clientCert.get(CERT_BASE_DIR);\r\n      String slash = &quot;/&quot;;\r\n      if (baseDir.lastIndexOf(&quot;/&quot;) == baseDir.length() - 1) {\r\n        slash = &quot;&quot;;\r\n      }\r\n      String keystore = baseDir + slash + clientCert.get(KEY_STORE);\r\n      String keystoreType = clientCert.get(KEY_STORE_TYPE);\r\n      String keystorePassword = clientCert.get(KEY_STORE_PASSWORD);\r\n      String truststore = baseDir + slash + clientCert.get(TRUST_STORE);\r\n      String truststoreType = clientCert.get(TRUST_STORE_TYPE);\r\n      String truststorePassword = clientCert.get(TRUST_STORE_PASSWORD);\r\n\r\n      KeyStore keyStore = KeyStore.getInstance(keystoreType);\r\n      FileInputStream keyStoreFile = new FileInputStream(keystore);\r\n      keyStore.load(keyStoreFile, keystorePassword.toCharArray());\r\n\r\n      KeyStore trustStore = KeyStore.getInstance(truststoreType);\r\n      FileInputStream trustStoreFile = new FileInputStream(truststore);\r\n      trustStore.load(trustStoreFile, truststorePassword.toCharArray());\r\n\r\n      KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n      keyManagerFactory.init(keyStore, keystorePassword.toCharArray());\r\n      TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n      trustManagerFactory.init(trustStore);\r\n\r\n      return SslOptions.builder()\r\n          .keyManager(keyManagerFactory)\r\n          .trustManager(trustManagerFactory)\r\n          .build();\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n```\r\nThe Errors I got \r\n```\r\nconnecting ...\r\nException in thread &quot;main&quot; com.google.common.util.concurrent.UncheckedExecutionException: io.lettuce.core.RedisConnectionException: Unable to establish a connection to Redis Cluster\r\n\r\n...\r\nCaused by: io.lettuce.core.cluster.topology.DefaultClusterTopologyRefresh$CannotRetrieveClusterPartitions: Cannot retrieve cluster partitions from [rediss://[username_masked]:*****************@[redis_url]:6379]\r\n\r\n...\r\nDetails:\r\n\t[rediss://[username_masked]:*****************@[redis_url]:6379]: ERR command is not allowed\r\n\r\n\tSuppressed: io.lettuce.core.RedisCommandExecutionException: ERR command is not allowed\r\n```\r\n\r\nWhat did I miss? \r\n\r\n\r\n","title":"Connecting to Redis cluster using Lettuce lib and TLS (Trust store and key store)","body":"<p>I am able to connect to Redis via</p>\n<pre><code>redis-cli --tls --cert ~/cert/test/redis.example.com.chain.pem --key ~/cert/test/redis.example.com.key \\\n-h [redis-endpoint] -p 6379 \nand\nauth username password\n</code></pre>\n<p>And I'm trying to write Java code using Lettuce(ver 6.0.x), but not able to connect.</p>\n<p>Here are the steps I tried:</p>\n<ol>\n<li>creating key\nopenssl req -new -newkey rsa:2048 -sha256 -keyout redis.example.com.key.pem -subj &quot;/&quot;\nopenssl rsa -in redis.example.com.key.pem -out redis.example.com.key</li>\n<li></li>\n</ol>\n<p>I was able to connect to Redis cluster via Redis-cli command line</p>\n<pre><code>redis-cli --tls --cert ~/cert/test/redis.example.com.chain.pem --key ~/cert/test/redis.example.com.key -h redis.example.com.key.com -p 6375 \n</code></pre>\n<p>auth username password\n3. creating Key store</p>\n<pre><code>openssl pkcs12 -export -in redis.example.com.chain.pem -inkey redis.example.com.key.pem -out keystore.p12\n</code></pre>\n<ol start=\"4\">\n<li>creating trust store</li>\n</ol>\n<pre><code>keytool -importcert -file root_ca.pem -destkeystore root-ca.truststore.p12 -storetype pkcs12 -alias root-ca\nkeytool -importcert -file corporate_root_ca.pem -destkeystore root-ca.truststore.p12 -storetype pkcs12 -alias cm-root-ca\n</code></pre>\n<ol start=\"6\">\n<li>Java code</li>\n</ol>\n<pre><code>          RedisURI redisUri = RedisURI.Builder.redis(enterpriseConfig.getEndpoint())\n              .withSsl(true)\n              .withAuthentication(userName, password)\n              .withPort(port)\n              .build();\n          ClusterTopologyRefreshOptions topologyRefreshOptions = ClusterTopologyRefreshOptions.builder()\n              .enablePeriodicRefresh()\n              .enableAllAdaptiveRefreshTriggers()\n              .refreshTriggersReconnectAttempts(3)\n              .build();\n\n          RedisClusterClient cluster = RedisClusterClient.create(redisUri);\n          ClusterClientOptions clientOptions = ClusterClientOptions.builder()\n              .topologyRefreshOptions(topologyRefreshOptions)\n              .autoReconnect(true)\n              .sslOptions(buildSslOptions())\n              .build();\n          cluster.setOptions(clientOptions);\n          System.out.println(&quot;connecting ... &quot;);\n          return cluster.connect();\n</code></pre>\n<ol start=\"7\">\n<li>buildSslOptions()</li>\n</ol>\n<pre><code>  private static SslOptions buildSslOptions()\n      throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException, UnrecoverableKeyException {\n    Map&lt;String, String&gt; clientCert = ConfigLoader.getConfiguration().getClientCert();\n    if (clientCert != null){\n      String baseDir = clientCert.get(CERT_BASE_DIR);\n      String slash = &quot;/&quot;;\n      if (baseDir.lastIndexOf(&quot;/&quot;) == baseDir.length() - 1) {\n        slash = &quot;&quot;;\n      }\n      String keystore = baseDir + slash + clientCert.get(KEY_STORE);\n      String keystoreType = clientCert.get(KEY_STORE_TYPE);\n      String keystorePassword = clientCert.get(KEY_STORE_PASSWORD);\n      String truststore = baseDir + slash + clientCert.get(TRUST_STORE);\n      String truststoreType = clientCert.get(TRUST_STORE_TYPE);\n      String truststorePassword = clientCert.get(TRUST_STORE_PASSWORD);\n\n      KeyStore keyStore = KeyStore.getInstance(keystoreType);\n      FileInputStream keyStoreFile = new FileInputStream(keystore);\n      keyStore.load(keyStoreFile, keystorePassword.toCharArray());\n\n      KeyStore trustStore = KeyStore.getInstance(truststoreType);\n      FileInputStream trustStoreFile = new FileInputStream(truststore);\n      trustStore.load(trustStoreFile, truststorePassword.toCharArray());\n\n      KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n      keyManagerFactory.init(keyStore, keystorePassword.toCharArray());\n      TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n      trustManagerFactory.init(trustStore);\n\n      return SslOptions.builder()\n          .keyManager(keyManagerFactory)\n          .trustManager(trustManagerFactory)\n          .build();\n    } else {\n      return null;\n    }\n  }\n</code></pre>\n<p>The Errors I got</p>\n<pre><code>connecting ...\nException in thread &quot;main&quot; com.google.common.util.concurrent.UncheckedExecutionException: io.lettuce.core.RedisConnectionException: Unable to establish a connection to Redis Cluster\n\n...\nCaused by: io.lettuce.core.cluster.topology.DefaultClusterTopologyRefresh$CannotRetrieveClusterPartitions: Cannot retrieve cluster partitions from [rediss://[username_masked]:*****************@[redis_url]:6379]\n\n...\nDetails:\n    [rediss://[username_masked]:*****************@[redis_url]:6379]: ERR command is not allowed\n\n    Suppressed: io.lettuce.core.RedisCommandExecutionException: ERR command is not allowed\n</code></pre>\n<p>What did I miss?</p>\n"},{"tags":["java","windows","batch-file"],"comments":[{"owner":{"account_id":5582693,"reputation":587,"user_id":4424117,"display_name":"newuserua_ext"},"score":0,"creation_date":1682198166,"post_id":76081921,"comment_id":134178418,"body_markdown":"Java_home param should be first row of list for path","body":"Java_home param should be first row of list for path"},{"owner":{"account_id":28372160,"reputation":27,"user_id":21700578,"display_name":"PleasePleasePleaseHelp"},"score":0,"creation_date":1682201424,"post_id":76081921,"comment_id":134178732,"body_markdown":"So, the %JAVA_HOME%\\bin environment variable should be on the first row of both User env vars and System env vars? I tried this with no luck. Or are you saying %JAVA_HOME% should be at the top of these lists?","body":"So, the %JAVA_HOME%\\bin environment variable should be on the first row of both User env vars and System env vars? I tried this with no luck. Or are you saying %JAVA_HOME% should be at the top of these lists?"},{"owner":{"account_id":5198511,"reputation":13393,"user_id":4158862,"display_name":"SomethingDark"},"score":0,"creation_date":1682203033,"post_id":76081921,"comment_id":134178895,"body_markdown":"I can&#39;t prove it because I don&#39;t have multiple versions of Java installed, but I suspect that your problem stems from the fact that you&#39;re running a batch script from a Powershell window, which causes the script to run as a child process, which means that the environment does not get transferred back to the parent shell. Run the script from a CMD window instead of a Powershell window.","body":"I can&#39;t prove it because I don&#39;t have multiple versions of Java installed, but I suspect that your problem stems from the fact that you&#39;re running a batch script from a Powershell window, which causes the script to run as a child process, which means that the environment does not get transferred back to the parent shell. Run the script from a CMD window instead of a Powershell window."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1682243229,"post_id":76081921,"comment_id":134181720,"body_markdown":"This should tell you why your change isn&#39;t working after each script: run `echo %PATH%` , `where java` and  `where java.exe` before `java -version`, add that to the question. You&#39;ll need to clean up your system variables to exclude the multiple Java choices such as oracle javapath. Don&#39;t use images for text / scripts, also include them in question.","body":"This should tell you why your change isn&#39;t working after each script: run <code>echo %PATH%</code> , <code>where java</code> and  <code>where java.exe</code> before <code>java -version</code>, add that to the question. You&#39;ll need to clean up your system variables to exclude the multiple Java choices such as oracle javapath. Don&#39;t use images for text / scripts, also include them in question."},{"owner":{"account_id":5582693,"reputation":587,"user_id":4424117,"display_name":"newuserua_ext"},"score":0,"creation_date":1682283196,"post_id":76081921,"comment_id":134186963,"body_markdown":"@PleasePleasePleaseHelp  i hope this will help you to figure it out. https://java2blog.com/how-to-set-java-path-windows-10/ , if still not works try to move up at the top of list. Because system works with first match.","body":"@PleasePleasePleaseHelp  i hope this will help you to figure it out. <a href=\"https://java2blog.com/how-to-set-java-path-windows-10/\" rel=\"nofollow noreferrer\">java2blog.com/how-to-set-java-path-windows-10</a> , if still not works try to move up at the top of list. Because system works with first match."},{"owner":{"account_id":28372160,"reputation":27,"user_id":21700578,"display_name":"PleasePleasePleaseHelp"},"score":0,"creation_date":1682284208,"post_id":76081921,"comment_id":134187080,"body_markdown":"Ok, got it working and am now able to switch java versions via the .bat scripts I created! Thank you newuserua_ext and @SomethingDark. After moving the %JAVA_HOME%\\bin to the top of the env vars for both User and System and using the Command Prompt instead of Powershell, I&#39;m able to switch between the versions","body":"Ok, got it working and am now able to switch java versions via the .bat scripts I created! Thank you newuserua_ext and @SomethingDark. After moving the %JAVA_HOME%\\bin to the top of the env vars for both User and System and using the Command Prompt instead of Powershell, I&#39;m able to switch between the versions"}],"owner":{"account_id":28372160,"reputation":27,"user_id":21700578,"display_name":"PleasePleasePleaseHelp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682197988,"creation_date":1682197433,"question_id":76081921,"body_markdown":"I am trying to switch between Java versions (back and forth between v8 and v11) on a Windows 10 computer. I&#39;ve tried changing my environment variables manually setting JAVA_HOME to v8, however it seems I can&#39;t switch out of v11. \r\n\r\n[My current System Path Environment Variables](https://i.stack.imgur.com/wKVv3.png)\r\n\r\n[My current User Path Environment Variables](https://i.stack.imgur.com/eM3UH.png)\r\n\r\nI&#39;ve also created .bat scripts to change between Java versions via a command in the Terminal (java8, java11). The .bat scripts are able to execute, however the Java version doesn&#39;t change. The .bat script is included in my User Path and System Path variables and the directory is `C\\Users\\BOL\\Java Scripts`. \r\n\r\n[My cmd line commands](https://i.stack.imgur.com/TJQXT.png)\r\n\r\n[My .bat scripts][1]\r\n\r\nAnyone have an idea why I am unable to change between versions? I don&#39;t care on how I can switch versions, just want to be able to switch them :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NqtY7.png","title":"Unable to switch Java versions by executing script created in a .bat file (Windows)","body":"<p>I am trying to switch between Java versions (back and forth between v8 and v11) on a Windows 10 computer. I've tried changing my environment variables manually setting JAVA_HOME to v8, however it seems I can't switch out of v11.</p>\n<p><a href=\"https://i.stack.imgur.com/wKVv3.png\" rel=\"nofollow noreferrer\">My current System Path Environment Variables</a></p>\n<p><a href=\"https://i.stack.imgur.com/eM3UH.png\" rel=\"nofollow noreferrer\">My current User Path Environment Variables</a></p>\n<p>I've also created .bat scripts to change between Java versions via a command in the Terminal (java8, java11). The .bat scripts are able to execute, however the Java version doesn't change. The .bat script is included in my User Path and System Path variables and the directory is <code>C\\Users\\BOL\\Java Scripts</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/TJQXT.png\" rel=\"nofollow noreferrer\">My cmd line commands</a></p>\n<p><a href=\"https://i.stack.imgur.com/NqtY7.png\" rel=\"nofollow noreferrer\">My .bat scripts</a></p>\n<p>Anyone have an idea why I am unable to change between versions? I don't care on how I can switch versions, just want to be able to switch them :)</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1682196939,"post_id":76081697,"comment_id":134178295,"body_markdown":"The dot is used between schema and table name. In your case abc would be schema and users the table.","body":"The dot is used between schema and table name. In your case abc would be schema and users the table."}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682197794,"creation_date":1682197308,"answer_id":76081915,"question_id":76081697,"body_markdown":"Hibernate does not do this _by default_ (at least Hibernate 6 does not).\r\n\r\nIf I have:\r\n\r\n```java\r\n\t@Entity(name = &quot;TestTableEntity&quot;)\r\n\t@Table(name = &quot;test.table&quot;)\r\n\tpublic class TestTableEntity { ... }\r\n```\r\n\r\nThen, by default, Hibernate produces the following DDL with a quoted identifier:\r\n\r\n```sql\r\n    create table &quot;test.table&quot; ( ... )\r\n```\r\n\r\nHowever, my guess is that you have a custom naming strategy configured (most likely a `PhysicalNamingStrategy`), and the naming strategy is responsible for post-processing the table name.\r\n\r\nP.S. I&#39;m not sure, but I have in the back of my head that maybe Spring adds its own &quot;opinionated&quot; i.e. non-JPA-standard naming strategy by default, so if that&#39;s correct, you probably need to turn that off.\r\n\r\n#### UPDATE\r\n\r\nYes, Spring is the culprit here, see here for more information:\r\n\r\n&lt;https://www.jpa-buddy.com/blog/hibernate-naming-strategies-jpa-specification-vs-springboot-opinionation/&gt;\r\n\r\nI *really* wish Spring would not do this sort of crap that goes against the JPA spec and the Hibernate documentation, leaving users confused, and getting in the way of people trying to map legacy database schemas.","title":"When automatically creating the table in PostgreSQL, Spring Boot application names the table name wrong if the name contains the dot","body":"<p>Hibernate does not do this <em>by default</em> (at least Hibernate 6 does not).</p>\n<p>If I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity(name = &quot;TestTableEntity&quot;)\n    @Table(name = &quot;test.table&quot;)\n    public class TestTableEntity { ... }\n</code></pre>\n<p>Then, by default, Hibernate produces the following DDL with a quoted identifier:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create table &quot;test.table&quot; ( ... )\n</code></pre>\n<p>However, my guess is that you have a custom naming strategy configured (most likely a <code>PhysicalNamingStrategy</code>), and the naming strategy is responsible for post-processing the table name.</p>\n<p>P.S. I'm not sure, but I have in the back of my head that maybe Spring adds its own &quot;opinionated&quot; i.e. non-JPA-standard naming strategy by default, so if that's correct, you probably need to turn that off.</p>\n<h4>UPDATE</h4>\n<p>Yes, Spring is the culprit here, see here for more information:</p>\n<p><a href=\"https://www.jpa-buddy.com/blog/hibernate-naming-strategies-jpa-specification-vs-springboot-opinionation/\" rel=\"nofollow noreferrer\">https://www.jpa-buddy.com/blog/hibernate-naming-strategies-jpa-specification-vs-springboot-opinionation/</a></p>\n<p>I <em>really</em> wish Spring would not do this sort of crap that goes against the JPA spec and the Hibernate documentation, leaving users confused, and getting in the way of people trying to map legacy database schemas.</p>\n"}],"owner":{"account_id":19746980,"reputation":35,"user_id":14459170,"display_name":"Asitha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76081915,"answer_count":1,"score":0,"last_activity_date":1682197794,"creation_date":1682193790,"question_id":76081697,"body_markdown":"I have an Entity as follows - \r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;abc.users&quot;)\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\npublic class UserEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Column(unique = true, nullable = false)\r\n    private String username;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n}\r\n\r\n```\r\n\r\nIn my application.properties I have set the following parameters \r\n\r\n```\r\n#postgres configuration\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/abc\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nOnce the application starts it creates the table name as `abc_users` instead of `abc.users` which was intended.\r\n\r\nFollowing is the logline I see related to table creation when the application starts.\r\n\r\n```Hibernate: create table abc_users (id uuid not null, password varchar(255) not null, username varchar(255) not null, primary key (id))```\r\n\r\nIt seems to hibernate is replacing the dot with the underscore.\r\n\r\nI couldn&#39;t find a solution for this anywhere.","title":"When automatically creating the table in PostgreSQL, Spring Boot application names the table name wrong if the name contains the dot","body":"<p>I have an Entity as follows -</p>\n<pre><code>@Entity\n@Table(name=&quot;abc.users&quot;)\n@Getter\n@Setter\n@RequiredArgsConstructor\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(unique = true, nullable = false)\n    private String username;\n\n    @Column(nullable = false)\n    private String password;\n}\n\n</code></pre>\n<p>In my application.properties I have set the following parameters</p>\n<pre><code>#postgres configuration\nspring.datasource.url=jdbc:postgresql://localhost:5432/abc\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>Once the application starts it creates the table name as <code>abc_users</code> instead of <code>abc.users</code> which was intended.</p>\n<p>Following is the logline I see related to table creation when the application starts.</p>\n<p><code>Hibernate: create table abc_users (id uuid not null, password varchar(255) not null, username varchar(255) not null, primary key (id))</code></p>\n<p>It seems to hibernate is replacing the dot with the underscore.</p>\n<p>I couldn't find a solution for this anywhere.</p>\n"},{"tags":["java","maven","build","pom.xml"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1682271861,"post_id":76081867,"comment_id":134185356,"body_markdown":"To activate profiles you cannot use properties defined in the POM. This includes properties from other profiles.","body":"To activate profiles you cannot use properties defined in the POM. This includes properties from other profiles."},{"owner":{"account_id":6347400,"reputation":71,"user_id":6472402,"display_name":"Harshit Panchal"},"score":0,"creation_date":1683040381,"post_id":76081867,"comment_id":134303861,"body_markdown":"@JFabianMeier where is it mentioned? Can u give me reference doc.","body":"@JFabianMeier where is it mentioned? Can u give me reference doc."}],"owner":{"account_id":6347400,"reputation":71,"user_id":6472402,"display_name":"Harshit Panchal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682196828,"creation_date":1682196508,"question_id":76081867,"body_markdown":"if we want to activate a profile &#39;java8&#39; based on if installed jdk is 1.8. and only if other profile &#39;dev&#39; is also active. so to achieve that i have setted a property isDev and checking this property in java8 activation condition.\r\n\r\n```\r\n&lt;profiles&gt;\r\n &lt;profile&gt;\r\n    &lt;id&gt;dev&lt;/id&gt;\r\n    &lt;properties&gt;\r\n        &lt;isDev&gt;true&lt;/isDev&gt;\r\n    &lt;/properties&gt;\r\n    ...\r\n  &lt;/profile&gt;\r\n\r\n  &lt;profile&gt;\r\n    &lt;id&gt;java8&lt;/id&gt;\r\n    &lt;activation&gt;\r\n      &lt;jdk&gt;1.8&lt;/jdk&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;isDev&lt;/name&gt;\r\n        &lt;value&gt;true&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;/activation&gt;\r\n    ...\r\n  &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\n\r\nwhen i list all activated profile with command `mvn -Pdev help:active-profiles` only dev is active\r\n*output:*\r\n```  \r\nThe following profiles are active:\r\n\r\n - dev (source: com.myproject:tts:3.2.0)\r\n```\r\n \r\n\r\nmaven.version 3.8.1","title":"Profile not activating with multiple conditions and jdk","body":"<p>if we want to activate a profile 'java8' based on if installed jdk is 1.8. and only if other profile 'dev' is also active. so to achieve that i have setted a property isDev and checking this property in java8 activation condition.</p>\n<pre><code>&lt;profiles&gt;\n &lt;profile&gt;\n    &lt;id&gt;dev&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;isDev&gt;true&lt;/isDev&gt;\n    &lt;/properties&gt;\n    ...\n  &lt;/profile&gt;\n\n  &lt;profile&gt;\n    &lt;id&gt;java8&lt;/id&gt;\n    &lt;activation&gt;\n      &lt;jdk&gt;1.8&lt;/jdk&gt;\n      &lt;property&gt;\n        &lt;name&gt;isDev&lt;/name&gt;\n        &lt;value&gt;true&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;/activation&gt;\n    ...\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>when i list all activated profile with command <code>mvn -Pdev help:active-profiles</code> only dev is active\n<em>output:</em></p>\n<pre><code>The following profiles are active:\n\n - dev (source: com.myproject:tts:3.2.0)\n</code></pre>\n<p>maven.version 3.8.1</p>\n"},{"tags":["java","spring-boot","locking","read-committed","repeatable-read"],"answers":[{"tags":[],"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682185364,"creation_date":1682185364,"answer_id":76081070,"question_id":76080712,"body_markdown":"I can&#39;t believe this.\r\nThe second select is reading the value from the entityManager cache? How can this is be possible.\r\n\r\nadding `entityManager.clear()` just before the `myRepo.findById(counts.getId());` yeild the correct count as expected.\r\n\r\n@vlad-mihalcea your expertise is welcome here. \r\nIs this normal? Why are the values being read from the cache. It doesn&#39;t make any sense no?\r\n\r\nHow many application don&#39;t know this and are currently vulnerable to this issue ?","title":"JPA with Isolation.READ_COMMITTED acts as REPEATABLE_READ","body":"<p>I can't believe this.\nThe second select is reading the value from the entityManager cache? How can this is be possible.</p>\n<p>adding <code>entityManager.clear()</code> just before the <code>myRepo.findById(counts.getId());</code> yeild the correct count as expected.</p>\n<p>@vlad-mihalcea your expertise is welcome here.\nIs this normal? Why are the values being read from the cache. It doesn't make any sense no?</p>\n<p>How many application don't know this and are currently vulnerable to this issue ?</p>\n"}],"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682195758,"creation_date":1682180924,"question_id":76080712,"body_markdown":"I&#39;m seeing a behaviours that is a little strange in my test JPA app.\r\n\r\nSimple table;\r\n\r\n```\r\nid\r\ncount\r\n```\r\n\r\n @Transactional(isolation = Isolation.READ_COMMITTED)\r\n public void testCount() {\r\n\r\n     // I randomly fetch a row which has a count &gt; 4\r\n     Counts counts = myRepo.findFirstCountGreaterThanOrderByRandom(4);\r\n\r\n     // This is a findById with explicit lock (SELECT * FROM counts WHERE id = 1 FOR UPDATE)\r\n     counts = myRepo.findById(counts.getId());\r\n     counts.setCount(1);\r\n     log.info(&quot;counts = {}, counts);\r\n  }\r\n\r\n\r\n\r\nThis is a simple piece of code that randomly fetches a row from the DB that has a count &gt; 4 and then call again the DB with a findById using FOR UPDATE.\r\n\r\nNow if I do this:\r\n\r\n - put a break point on the `myRepo.findById(counts.getId());`\r\n - I open a MySQL Terminal and enter a new transaction\r\n```\r\n     BEGIN\r\n     UPDATE car SET count = 1; \r\n```\r\n\r\n - In the code I step next, it will correct block until the MySQL transaction commits;\r\n - In the MySQL Terminal I `COMMIT;`\r\n - In the code the lock is released and it continues to the `log.info`\r\n\r\n\r\nThere to my surprised the count is 4... (and not the expected 1)\r\n\r\nIf I do the opposit test\r\n\r\n - In the code I put a break after the FOR UPDATE on the `log.info` line\r\n - I open a MySQL Terminal\r\n - List item\r\n```\r\n    BEGIN\r\n    SELECT * FROM counts where count &gt; 4 LIMIT 1;\r\n    SELECT * FROM counts where id = 1 FOR UPDATE // it will lock here, good\r\n ```\r\n\r\n - In the code I continue and let it commit;\r\n - In the MySQL terminal the select continues and the count is correct 1\r\n\r\n\r\nWhy does in the code the behaviour is like a repeatable read even though I specify READ-COMMITTED?\r\nIn jpa the issue is clearly the first read because if I remove it and I directly select for update after the lock gets released I correctly get the right count of 1\r\n\r\nI have enabled the all transactions debug logs and I can see the right READ-COMMITTED is opened.\r\n\r\nI&#39;m using Spring Boot 2.7.0 and MySQL 8.0\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JPA with Isolation.READ_COMMITTED acts as REPEATABLE_READ","body":"<p>I'm seeing a behaviours that is a little strange in my test JPA app.</p>\n<p>Simple table;</p>\n<pre><code>id\ncount\n</code></pre>\n<p>@Transactional(isolation = Isolation.READ_COMMITTED)\npublic void testCount() {</p>\n<pre><code> // I randomly fetch a row which has a count &gt; 4\n Counts counts = myRepo.findFirstCountGreaterThanOrderByRandom(4);\n\n // This is a findById with explicit lock (SELECT * FROM counts WHERE id = 1 FOR UPDATE)\n counts = myRepo.findById(counts.getId());\n counts.setCount(1);\n log.info(&quot;counts = {}, counts);\n</code></pre>\n<p>}</p>\n<p>This is a simple piece of code that randomly fetches a row from the DB that has a count &gt; 4 and then call again the DB with a findById using FOR UPDATE.</p>\n<p>Now if I do this:</p>\n<ul>\n<li>put a break point on the <code>myRepo.findById(counts.getId());</code></li>\n<li>I open a MySQL Terminal and enter a new transaction</li>\n</ul>\n<pre><code>     BEGIN\n     UPDATE car SET count = 1; \n</code></pre>\n<ul>\n<li>In the code I step next, it will correct block until the MySQL transaction commits;</li>\n<li>In the MySQL Terminal I <code>COMMIT;</code></li>\n<li>In the code the lock is released and it continues to the <code>log.info</code></li>\n</ul>\n<p>There to my surprised the count is 4... (and not the expected 1)</p>\n<p>If I do the opposit test</p>\n<ul>\n<li>In the code I put a break after the FOR UPDATE on the <code>log.info</code> line</li>\n<li>I open a MySQL Terminal</li>\n<li>List item</li>\n</ul>\n<pre><code>    BEGIN\n    SELECT * FROM counts where count &gt; 4 LIMIT 1;\n    SELECT * FROM counts where id = 1 FOR UPDATE // it will lock here, good\n</code></pre>\n<ul>\n<li>In the code I continue and let it commit;</li>\n<li>In the MySQL terminal the select continues and the count is correct 1</li>\n</ul>\n<p>Why does in the code the behaviour is like a repeatable read even though I specify READ-COMMITTED?\nIn jpa the issue is clearly the first read because if I remove it and I directly select for update after the lock gets released I correctly get the right count of 1</p>\n<p>I have enabled the all transactions debug logs and I can see the right READ-COMMITTED is opened.</p>\n<p>I'm using Spring Boot 2.7.0 and MySQL 8.0</p>\n"},{"tags":["java","automation","push-notification","appium"],"owner":{"account_id":28382475,"reputation":1,"user_id":21709533,"display_name":"Sirisha Subramani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682195206,"creation_date":1682195206,"question_id":76081779,"body_markdown":"I am working on automating an app where the flow is, Once I get involved in the game, I will have to react to push notifications that are received in specific time intervals. I can currently achieve this by writing a wait. But I would like to know if there is an alternate way to do this. Is it possible to write any handler that would be called on receiving push notifications.So that I can trigger my automation code from there. Thanks in advance for your help.\r\n\r\nI am looking for something similar to FCM, but mine is not a app code, its automation code, so not sure if it can be used here.","title":"Appium trigger test case on receiving push notification","body":"<p>I am working on automating an app where the flow is, Once I get involved in the game, I will have to react to push notifications that are received in specific time intervals. I can currently achieve this by writing a wait. But I would like to know if there is an alternate way to do this. Is it possible to write any handler that would be called on receiving push notifications.So that I can trigger my automation code from there. Thanks in advance for your help.</p>\n<p>I am looking for something similar to FCM, but mine is not a app code, its automation code, so not sure if it can be used here.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":10339654,"reputation":2356,"user_id":7626492,"display_name":"Rohan Stark"},"score":0,"creation_date":1505463298,"post_id":46233995,"comment_id":79432957,"body_markdown":"Since you&#39;re getting both types of `ClassCastException`s, I think the problem is that node from which you&#39;re trying to retrieve data has a few children that are `Long`, and other children that are `Double`. Please post your Database structure.","body":"Since you&#39;re getting both types of <code>ClassCastException</code>s, I think the problem is that node from which you&#39;re trying to retrieve data has a few children that are <code>Long</code>, and other children that are <code>Double</code>. Please post your Database structure."},{"owner":{"account_id":7647480,"reputation":482,"user_id":5797564,"accept_rate":19,"display_name":"Zack"},"score":0,"creation_date":1505464119,"post_id":46233995,"comment_id":79433425,"body_markdown":"@Rohan Stark. I just posted it now...","body":"@Rohan Stark. I just posted it now..."}],"answers":[{"tags":[],"owner":{"account_id":10339654,"reputation":2356,"user_id":7626492,"display_name":"Rohan Stark"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1505465659,"creation_date":1505465659,"answer_id":46235551,"question_id":46233995,"body_markdown":"I think I can see the problem from your Database Screenshot. You have one `total` node&#39;s value as &quot;5.16&quot;. While, another `total`&#39;s value is &quot;0&quot; (I also assume that you have a lot more `total` nodes with values as &quot;0&quot;).\r\n\r\nSo, you&#39;re getting a `ClassCastException` no matter what you do because &quot;5.16&quot; is treated as a `Double`, while &quot;0&quot; is treated as a `Long` - and you&#39;re retrieving both in the same query.\r\n\r\nThe simplest solution is to change your &quot;0&quot; to &quot;0.0&quot;. This would make all `total` nodes hold `Double` values. Then, you just have to call the following to retrieve the value :-\r\n\r\n    Double price = (Double) snapshot.child(&quot;total&quot;).getValue();\r\n\r\n \r\n\r\n\r\n","title":"Get Double From Firebase","body":"<p>I think I can see the problem from your Database Screenshot. You have one <code>total</code> node's value as \"5.16\". While, another <code>total</code>'s value is \"0\" (I also assume that you have a lot more <code>total</code> nodes with values as \"0\").</p>\n\n<p>So, you're getting a <code>ClassCastException</code> no matter what you do because \"5.16\" is treated as a <code>Double</code>, while \"0\" is treated as a <code>Long</code> - and you're retrieving both in the same query.</p>\n\n<p>The simplest solution is to change your \"0\" to \"0.0\". This would make all <code>total</code> nodes hold <code>Double</code> values. Then, you just have to call the following to retrieve the value :-</p>\n\n<pre><code>Double price = (Double) snapshot.child(\"total\").getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8700796,"reputation":2564,"user_id":6510908,"display_name":"B-GangsteR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545355433,"creation_date":1545355433,"answer_id":53878110,"question_id":46233995,"body_markdown":"It is because 0 is treated and stored as Long, not Double. To make code work in both cases, do:\r\n\r\n\r\n    double val = 0;\r\n    Number num = (Number) snapshot.child(&quot;total&quot;).getValue();\r\n    if (num != null) {\r\n        val = num.doubleValue();\r\n    }\r\n        ","title":"Get Double From Firebase","body":"<p>It is because 0 is treated and stored as Long, not Double. To make code work in both cases, do:</p>\n\n<pre><code>double val = 0;\nNumber num = (Number) snapshot.child(\"total\").getValue();\nif (num != null) {\n    val = num.doubleValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20568645,"reputation":2034,"user_id":15097422,"display_name":"lets start coding"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622403578,"creation_date":1622403578,"answer_id":67765148,"question_id":46233995,"body_markdown":"I am a newbie and might be wrong, I was facing the same issue today and the only workaround I could find was this.\r\n\r\n```\r\n// I am trying to convert the required data\r\n// I use Kotlin Langauage\r\n\r\nfun getData(snapshot: DataSnapshot) : Double{\r\n\r\n    val a :Any? = snapshot.child(&quot;required_data&quot;).value\r\n\r\n    val b : Double = if(a != null &amp;&amp; a.toString() != &quot;0&quot;){ \r\n        a as Double\r\n     } else 0.0\r\n    return b\r\n}\r\n```","title":"Get Double From Firebase","body":"<p>I am a newbie and might be wrong, I was facing the same issue today and the only workaround I could find was this.</p>\n<pre><code>// I am trying to convert the required data\n// I use Kotlin Langauage\n\nfun getData(snapshot: DataSnapshot) : Double{\n\n    val a :Any? = snapshot.child(&quot;required_data&quot;).value\n\n    val b : Double = if(a != null &amp;&amp; a.toString() != &quot;0&quot;){ \n        a as Double\n     } else 0.0\n    return b\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12007645,"reputation":342,"user_id":8785483,"display_name":"DatGeoudon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682194570,"creation_date":1682194102,"answer_id":76081722,"question_id":46233995,"body_markdown":"Top answer uses a trick but we can instead use the class `Number`. It gives a one liner which is a lot cleaner:\r\n```kotlin\r\nval myDouble = (snapshot.child(&quot;data&quot;).value as Number).toDouble()\r\n```\r\n\r\nif you want to handle `null` values as well:\r\n```kotlin\r\nval myDouble = (snapshot.child(&quot;data&quot;).value as Number?)?.toDouble()\r\n// myDouble: Double?\r\n```\r\n\r\nor coalesce to a default value:\r\n```kotlin\r\nval myDouble = (snapshot.child(&quot;data&quot;).value as Number?)?.toDouble() ?: 0.0\r\n```\r\n\r\nOr if you want a function to do the work:\r\n\r\n```kotlin\r\nfun getData(snapshot: DataSnapshot, defaultValue: Double = 0.0): Double {\r\n    return (snapshot.value as Number?)?.toDouble() ?: 0.0\r\n}\r\n```\r\n\r\nNote that it will still crash if the data is not number-based.","title":"Get Double From Firebase","body":"<p>Top answer uses a trick but we can instead use the class <code>Number</code>. It gives a one liner which is a lot cleaner:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myDouble = (snapshot.child(&quot;data&quot;).value as Number).toDouble()\n</code></pre>\n<p>if you want to handle <code>null</code> values as well:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myDouble = (snapshot.child(&quot;data&quot;).value as Number?)?.toDouble()\n// myDouble: Double?\n</code></pre>\n<p>or coalesce to a default value:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myDouble = (snapshot.child(&quot;data&quot;).value as Number?)?.toDouble() ?: 0.0\n</code></pre>\n<p>Or if you want a function to do the work:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getData(snapshot: DataSnapshot, defaultValue: Double = 0.0): Double {\n    return (snapshot.value as Number?)?.toDouble() ?: 0.0\n}\n</code></pre>\n<p>Note that it will still crash if the data is not number-based.</p>\n"}],"owner":{"account_id":7647480,"reputation":482,"user_id":5797564,"accept_rate":19,"display_name":"Zack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46235551,"answer_count":4,"score":1,"last_activity_date":1682194570,"creation_date":1505460323,"question_id":46233995,"body_markdown":"I am trying to get a double from firebase object using dataSnapshot but each time I try to, I&#39;m getting an error saying that `java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Double` and when I try to maybe Cast it to a Long just to observe what&#39;s gonna happen I get this Error `java.lang.ClassCastException: java.lang.Double cannot be cast to java.lang.Long`, so in short the error is vice versa. This is the code I&#39;m using to get my total in Firebase dataSnapshot:\r\n\r\n     mDatabaseReference.child(mAuth.getCurrentUser().getUid()).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n                if (!isPrinted) {\r\n                    System.out.println(&quot;Children&quot; + dataSnapshot.getChildrenCount());\r\n                    for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                        Double price = (Double) snapshot.child(&quot;total&quot;).getValue();\r\n                        System.out.println(&quot;Price: &quot; + String.valueOf(price));\r\n                    }\r\n                    isPrinted = true;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n            }\r\n        });\r\n\r\nand this is the code I&#39;m using to save the total on firebase:\r\n\r\n    double total = holder.quantity * price;\r\n                       dataSnapshot.child(code).child(&quot;total&quot;).getRef().setValue(total);\r\n\r\nI&#39;m looking to retrieve the total from firebase using `Double` but it gives me the `ClassCastException`. Please help with a solution.\r\nI also tried looking [here][1] for a solution but did not find anything \r\n\r\n\r\nThis is my FirebaseDatabase where I&#39;m querying from: [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41691463/how-to-retrieve-double-values-saved-under-one-key-in-firebase#\r\n  [2]: https://i.stack.imgur.com/B6vr4.png","title":"Get Double From Firebase","body":"<p>I am trying to get a double from firebase object using dataSnapshot but each time I try to, I'm getting an error saying that <code>java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Double</code> and when I try to maybe Cast it to a Long just to observe what's gonna happen I get this Error <code>java.lang.ClassCastException: java.lang.Double cannot be cast to java.lang.Long</code>, so in short the error is vice versa. This is the code I'm using to get my total in Firebase dataSnapshot:</p>\n\n<pre><code> mDatabaseReference.child(mAuth.getCurrentUser().getUid()).addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n\n            if (!isPrinted) {\n                System.out.println(\"Children\" + dataSnapshot.getChildrenCount());\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                    Double price = (Double) snapshot.child(\"total\").getValue();\n                    System.out.println(\"Price: \" + String.valueOf(price));\n                }\n                isPrinted = true;\n            }\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n        }\n    });\n</code></pre>\n\n<p>and this is the code I'm using to save the total on firebase:</p>\n\n<pre><code>double total = holder.quantity * price;\n                   dataSnapshot.child(code).child(\"total\").getRef().setValue(total);\n</code></pre>\n\n<p>I'm looking to retrieve the total from firebase using <code>Double</code> but it gives me the <code>ClassCastException</code>. Please help with a solution.\nI also tried looking <a href=\"https://stackoverflow.com/questions/41691463/how-to-retrieve-double-values-saved-under-one-key-in-firebase#\">here</a> for a solution but did not find anything </p>\n\n<p>This is my FirebaseDatabase where I'm querying from: <a href=\"https://i.stack.imgur.com/B6vr4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B6vr4.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","debugging","netbeans"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1682197234,"post_id":76081724,"comment_id":134178326,"body_markdown":"Could the program be waiting for you to interact with a dialog box or other component? Try minimizing the NetBeans window to check.","body":"Could the program be waiting for you to interact with a dialog box or other component? Try minimizing the NetBeans window to check."},{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":1,"creation_date":1682322621,"post_id":76081724,"comment_id":134190900,"body_markdown":"I experienced in the past that NetBeans was not &quot;accepting&quot; breakpoints and the deletion of the cache was the only solution. Btw.: the name for the Driver class you use is since 5 years deprecated (https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-api-changes.html) and `com.mysql.cj.jdbc.Driver` should be used instead.","body":"I experienced in the past that NetBeans was not &quot;accepting&quot; breakpoints and the deletion of the cache was the only solution. Btw.: the name for the Driver class you use is since 5 years deprecated (<a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-api-changes.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>) and <code>com.mysql.cj.jdbc.Driver</code> should be used instead."}],"owner":{"account_id":2890104,"reputation":7,"user_id":2479098,"display_name":"cjingeorgia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682194494,"creation_date":1682194126,"question_id":76081724,"body_markdown":"In Netbeans debugger, when I put a break point on the first few lines of code it works fine. However, anything below the &quot;try&quot; the application hangs, the highlight does not turn green and the options to step into, etc, are grayed out. (also the Boolean &#39;BigList&#39; IS true, so that&#39;s not the issue).\r\n\r\n\r\n```\r\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    //process declines  \r\n    setCursor(new Cursor(Cursor.WAIT_CURSOR));\r\n    JFrame f;\r\n    f = new JFrame(&quot;Frame&quot;);\r\n    final JDialog dialog = new JDialog(f, true); // modal\r\n       \r\n    dialog.setUndecorated(true);\r\n    JProgressBar bar = new JProgressBar();\r\n    bar.setIndeterminate(true);\r\n    bar.setStringPainted(true);\r\n    bar.setString(&quot;Please wait&quot;);\r\n    dialog.setLocation(100, 100);\r\n    dialog.add(bar);\r\n    dialog.pack();\r\n    dialog.setVisible(true);\r\n        \r\n    \r\n    try {\r\n        String jdbcURL = &quot;jdbc:mysql://1.1.1.1:3306/common&quot;;\r\n        String username = &quot;root&quot;;\r\n        String password = &quot;pass&quot;;\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        Connection connection = null;\r\n        connection = DriverManager.getConnection(jdbcURL, username, password);\r\n        if (bigList) {\r\n```","title":"Netbeans debugger doesn&#39;t run to break point or offer options (step into, over etc)","body":"<p>In Netbeans debugger, when I put a break point on the first few lines of code it works fine. However, anything below the &quot;try&quot; the application hangs, the highlight does not turn green and the options to step into, etc, are grayed out. (also the Boolean 'BigList' IS true, so that's not the issue).</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    //process declines  \n    setCursor(new Cursor(Cursor.WAIT_CURSOR));\n    JFrame f;\n    f = new JFrame(&quot;Frame&quot;);\n    final JDialog dialog = new JDialog(f, true); // modal\n       \n    dialog.setUndecorated(true);\n    JProgressBar bar = new JProgressBar();\n    bar.setIndeterminate(true);\n    bar.setStringPainted(true);\n    bar.setString(&quot;Please wait&quot;);\n    dialog.setLocation(100, 100);\n    dialog.add(bar);\n    dialog.pack();\n    dialog.setVisible(true);\n        \n    \n    try {\n        String jdbcURL = &quot;jdbc:mysql://1.1.1.1:3306/common&quot;;\n        String username = &quot;root&quot;;\n        String password = &quot;pass&quot;;\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        Connection connection = null;\n        connection = DriverManager.getConnection(jdbcURL, username, password);\n        if (bigList) {\n</code></pre>\n"},{"tags":["java","android","android-studio","caching","android-espresso"],"answers":[{"tags":[],"owner":{"account_id":6471187,"reputation":127,"user_id":5011382,"display_name":"Thomas Gales"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1593305217,"creation_date":1593297718,"answer_id":62616302,"question_id":61480388,"body_markdown":"**Clearing the database once per test class**\r\n---------------------------------------------\r\n\r\nAdd the following code to your Android Test class:\r\n\r\n    companion object {\r\n        @BeforeClass\r\n        fun clearDatabase() {\r\n            InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;pm clear PACKAGE_NAME&quot;).close()\r\n        }\r\n    }\r\n\r\n**Clearing the database before every test**\r\n-------------------------------------------\r\n\r\nAn alternative way to have the database cleared before each test run is to set the clearPackageData flag while using [Android Test Orchestrator](https://developer.android.com/training/testing/junit-runner#ato-gradle). This will &quot;remove all shared state from your device&#39;s CPU and memory after each test:&quot;\r\n\r\n\r\n&gt; Add the following statements to your project&#39;s build.gradle file:\r\n&gt; \r\n&gt;     android {\r\n&gt;       defaultConfig {\r\n&gt;        ...\r\n&gt;        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n&gt;     \r\n&gt;        // The following argument makes the Android Test Orchestrator run its\r\n&gt;        // &quot;pm clear&quot; command after each test invocation. This command ensures\r\n&gt;        // that the app&#39;s state is completely cleared between tests.\r\n&gt;        testInstrumentationRunnerArguments clearPackageData: &#39;true&#39;\r\n&gt;      }\r\n&gt;     \r\n&gt;       testOptions {\r\n&gt;         execution &#39;ANDROIDX_TEST_ORCHESTRATOR&#39;\r\n&gt;       }\r\n&gt;     }\r\n&gt;     \r\n&gt;     dependencies {\r\n&gt;       androidTestImplementation &#39;androidx.test:runner:1.1.0&#39;\r\n&gt;       androidTestUtil &#39;androidx.test:orchestrator:1.1.0&#39;\r\n&gt;     }","title":"Clear/delete cache before evrey test case using espresso in android studio","body":"<h2><strong>Clearing the database once per test class</strong></h2>\n<p>Add the following code to your Android Test class:</p>\n<pre><code>companion object {\n    @BeforeClass\n    fun clearDatabase() {\n        InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;pm clear PACKAGE_NAME&quot;).close()\n    }\n}\n</code></pre>\n<h2><strong>Clearing the database before every test</strong></h2>\n<p>An alternative way to have the database cleared before each test run is to set the clearPackageData flag while using <a href=\"https://developer.android.com/training/testing/junit-runner#ato-gradle\" rel=\"noreferrer\">Android Test Orchestrator</a>. This will &quot;remove all shared state from your device's CPU and memory after each test:&quot;</p>\n<blockquote>\n<p>Add the following statements to your project's build.gradle file:</p>\n<pre><code>android {\n  defaultConfig {\n   ...\n   testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n   // The following argument makes the Android Test Orchestrator run its\n   // &quot;pm clear&quot; command after each test invocation. This command ensures\n   // that the app's state is completely cleared between tests.\n   testInstrumentationRunnerArguments clearPackageData: 'true'\n }\n\n  testOptions {\n    execution 'ANDROIDX_TEST_ORCHESTRATOR'\n  }\n}\n\ndependencies {\n  androidTestImplementation 'androidx.test:runner:1.1.0'\n  androidTestUtil 'androidx.test:orchestrator:1.1.0'\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26094309,"reputation":1,"user_id":19790650,"display_name":"PRASANTH"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1661102658,"creation_date":1660799163,"answer_id":73397693,"question_id":61480388,"body_markdown":"\r\nKotlin\r\n\r\n```\r\n@Test\r\nfun clearStorage() {\r\n    InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;pm clear PACKAGE NAME&quot;).close()\r\n}\r\n```","title":"Clear/delete cache before evrey test case using espresso in android studio","body":"<p>Kotlin</p>\n<pre><code>@Test\nfun clearStorage() {\n    InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;pm clear PACKAGE NAME&quot;).close()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682193834,"creation_date":1682191261,"answer_id":76081509,"question_id":61480388,"body_markdown":"For me, I added `BuildConfig` to find the package for you (in chance you change it later)\r\n\r\n \r\n\r\n      @Before\r\n        fun setup() {\r\n            InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;pm clear ${BuildConfig.APPLICATION_ID}&quot;).close()\r\n        }\r\n\r\nThe second way of doing it is easily adding a single line into the build gradle\r\n\r\n    android {\r\n     defaultConfig {\r\n      ...\r\n      testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    \r\n      // The following argument makes the Android Test Orchestrator run its\r\n      // &quot;pm clear&quot; command after each test invocation. This command ensures\r\n      // that the app&#39;s state is completely cleared between tests.\r\n      testInstrumentationRunnerArguments clearPackageData: &#39;true&#39;\r\n     }\r\n    \r\n     testOptions {\r\n      execution &#39;ANDROIDX_TEST_ORCHESTRATOR&#39;\r\n     }\r\n    }\r\n    \r\n    dependencies {\r\n     androidTestImplementation &#39;androidx.test:runner:1.1.0&#39;\r\n     androidTestUtil &#39;androidx.test:orchestrator:1.1.0&#39;\r\n    }\r\n\r\nRefers to: https://developer.android.com/training/testing/instrumented-tests/androidx-test-libraries/runner#enable-gradle\r\n","title":"Clear/delete cache before evrey test case using espresso in android studio","body":"<p>For me, I added <code>BuildConfig</code> to find the package for you (in chance you change it later)</p>\n<pre><code>  @Before\n    fun setup() {\n        InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;pm clear ${BuildConfig.APPLICATION_ID}&quot;).close()\n    }\n</code></pre>\n<p>The second way of doing it is easily adding a single line into the build gradle</p>\n<pre><code>android {\n defaultConfig {\n  ...\n  testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n  // The following argument makes the Android Test Orchestrator run its\n  // &quot;pm clear&quot; command after each test invocation. This command ensures\n  // that the app's state is completely cleared between tests.\n  testInstrumentationRunnerArguments clearPackageData: 'true'\n }\n\n testOptions {\n  execution 'ANDROIDX_TEST_ORCHESTRATOR'\n }\n}\n\ndependencies {\n androidTestImplementation 'androidx.test:runner:1.1.0'\n androidTestUtil 'androidx.test:orchestrator:1.1.0'\n}\n</code></pre>\n<p>Refers to: <a href=\"https://developer.android.com/training/testing/instrumented-tests/androidx-test-libraries/runner#enable-gradle\" rel=\"nofollow noreferrer\">https://developer.android.com/training/testing/instrumented-tests/androidx-test-libraries/runner#enable-gradle</a></p>\n"}],"owner":{"account_id":18429341,"reputation":33,"user_id":13424859,"display_name":"Gal El"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5046,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1682193834,"creation_date":1588077583,"question_id":61480388,"body_markdown":"I wrote tests in Android Studio using espresso.\r\nNow there are a number of tests that before I run I have to delete the app&#39;s cache.\r\nI tried a lot of options that I know but nothing worked out.\r\nI searched the site for the problem and tried the results but none of them worked either.\r\n\r\nFor example, there is a stage in the app that causes a change gender addressing(My app is in foreign language) and I test a number of things in this section, I log in from 3 different test users and each one has a different view that cann&#39;t change unless cache is deleted and without deleting the cache I cann&#39;t run them together but I can run each one of them separately.\r\nThe app defines itself in the momnet the user logs in so to switch users I need to delete the app cache.  \r\n\r\nI attached some links here of what I tried and should have worked but didn&#39;t.\r\nThey may be able to help and explain\r\n\r\nhttps://stackoverflow.com/questions/48681204/clear-database-before-testcase-espresso\r\n\r\nhttps://stackoverflow.com/questions/37597080/reset-app-state-between-instrumentationtestcase-runs\r\n\r\nhttps://github.com/chiuki/espresso-samples/issues/3\r\n\r\nhttps://discuss.appium.io/t/android-how-to-clear-app-data-before-test/7166/10","title":"Clear/delete cache before evrey test case using espresso in android studio","body":"<p>I wrote tests in Android Studio using espresso.\nNow there are a number of tests that before I run I have to delete the app's cache.\nI tried a lot of options that I know but nothing worked out.\nI searched the site for the problem and tried the results but none of them worked either.</p>\n\n<p>For example, there is a stage in the app that causes a change gender addressing(My app is in foreign language) and I test a number of things in this section, I log in from 3 different test users and each one has a different view that cann't change unless cache is deleted and without deleting the cache I cann't run them together but I can run each one of them separately.\nThe app defines itself in the momnet the user logs in so to switch users I need to delete the app cache.  </p>\n\n<p>I attached some links here of what I tried and should have worked but didn't.\nThey may be able to help and explain</p>\n\n<p><a href=\"https://stackoverflow.com/questions/48681204/clear-database-before-testcase-espresso\">Clear database before testcase espresso</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/37597080/reset-app-state-between-instrumentationtestcase-runs\">Reset app state between InstrumentationTestCase runs</a></p>\n\n<p><a href=\"https://github.com/chiuki/espresso-samples/issues/3\" rel=\"nofollow noreferrer\">https://github.com/chiuki/espresso-samples/issues/3</a></p>\n\n<p><a href=\"https://discuss.appium.io/t/android-how-to-clear-app-data-before-test/7166/10\" rel=\"nofollow noreferrer\">https://discuss.appium.io/t/android-how-to-clear-app-data-before-test/7166/10</a></p>\n"},{"tags":["java","android","android-permissions","android-espresso"],"answers":[{"tags":[],"owner":{"account_id":1051589,"reputation":14287,"user_id":1055395,"display_name":"Anatolii"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1528984932,"creation_date":1528984932,"answer_id":50859369,"question_id":50856546,"body_markdown":"What you&#39;re doing is almost correct except that you should &quot;sleep&quot; a bit after executing the shell command. That&#39;s what your method body could look like:        \r\n\r\n        ArrayList&lt;String&gt; permissions = new ArrayList&lt;&gt;();\r\n        permissions.add(Manifest.permission.ACCESS_FINE_LOCATION);\r\n        //add here your other permissions\r\n\r\n        for (int i = 0; i &lt; permissions.size(); i++) {\r\n            String command = String.format(&quot;pm grant %s %s&quot;, getTargetContext().getPackageName(), permissions.get(i));\r\n            getInstrumentation().getUiAutomation().executeShellCommand(command);\r\n            // wait a bit until the command is finished\r\n            SystemClock.sleep(1000);\r\n        }","title":"Auto grant permissions for Espresso UI Testing","body":"<p>What you're doing is almost correct except that you should \"sleep\" a bit after executing the shell command. That's what your method body could look like:        </p>\n\n<pre><code>    ArrayList&lt;String&gt; permissions = new ArrayList&lt;&gt;();\n    permissions.add(Manifest.permission.ACCESS_FINE_LOCATION);\n    //add here your other permissions\n\n    for (int i = 0; i &lt; permissions.size(); i++) {\n        String command = String.format(\"pm grant %s %s\", getTargetContext().getPackageName(), permissions.get(i));\n        getInstrumentation().getUiAutomation().executeShellCommand(command);\n        // wait a bit until the command is finished\n        SystemClock.sleep(1000);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682192573,"creation_date":1682192573,"answer_id":76081610,"question_id":50856546,"body_markdown":"Kotlin way can be done this way\r\n\r\n    @Before\r\n        fun setup() {\r\n            val permission = Manifest.permission.POST_NOTIFICATIONS\r\n             InstrumentationRegistry.getInstrumentation().uiAutomation.grantRuntimePermission(BuildConfig.APPLICATION_ID, permission)\r\n    }\r\n\r\nYou can still add a forEach for each permission if you add all of them into a list (like the first answer)","title":"Auto grant permissions for Espresso UI Testing","body":"<p>Kotlin way can be done this way</p>\n<pre><code>@Before\n    fun setup() {\n        val permission = Manifest.permission.POST_NOTIFICATIONS\n         InstrumentationRegistry.getInstrumentation().uiAutomation.grantRuntimePermission(BuildConfig.APPLICATION_ID, permission)\n}\n</code></pre>\n<p>You can still add a forEach for each permission if you add all of them into a list (like the first answer)</p>\n"}],"owner":{"account_id":1864928,"reputation":652,"user_id":1688731,"accept_rate":54,"display_name":"Sebek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3659,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":50859369,"answer_count":2,"score":5,"last_activity_date":1682192573,"creation_date":1528975880,"question_id":50856546,"body_markdown":"I&#39;m trying to avoid having to manually grant permissions on every single UI test built with Espresso. \r\n\r\nI have tried:\r\n\r\n     @Rule\r\n        public GrantPermissionRule permissionRule = GrantPermissionRule.grant(\r\n                android.Manifest.permission.INTERNET,\r\n                android.Manifest.permission.READ_PHONE_STATE,\r\n                android.Manifest.permission.ACCESS_NETWORK_STATE,\r\n                android.Manifest.permission.ACCESS_FINE_LOCATION.....)\r\n\r\nand\r\n\r\n     @Before\r\n        public void grantPhonePermission()\r\n            {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M)\r\n                    {\r\n                        getInstrumentation().getUiAutomation().executeShellCommand(\r\n                                &quot;pm grant &quot; + getTargetContext().getPackageName()\r\n                                        + &quot; android.permission.ACCESS_FINE_LOCATION&quot;);\r\n                    }\r\n            }\r\n\r\n\r\nAnd here&#39;s most of my gradle file :\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 24\r\n    buildToolsVersion &#39;26.0.2&#39;\r\n    defaultConfig {\r\n        minSdkVersion 14\r\n        targetSdkVersion 23\r\n        testInstrumentationRunner \r\n    &#39;android.support.test.runner.AndroidJUnitRunner&#39;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), \r\n    &#39;proguard-rules.txt&#39;\r\n            debuggable false\r\n            jniDebuggable false\r\n            buildConfigField &quot;boolean&quot;, &quot;UseProduction&quot;, &quot;true&quot;\r\n        }\r\n        qa {\r\n            initWith debug\r\n            debuggable true\r\n            applicationIdSuffix &quot;.qa&quot; \r\n            buildConfigField &quot;boolean&quot;, &quot;UseProduction&quot;, &quot;false&quot;\r\n        }\r\n        debug {\r\n            debuggable true\r\n            testCoverageEnabled = false\r\n            buildConfigField &quot;boolean&quot;, &quot;UseProduction&quot;, &quot;true&quot;\r\n        }\r\n\r\n    }\r\n\r\n    flavorDimensions &quot;standard&quot;\r\n\r\n    productFlavors {\r\n        standard\r\n                {\r\n                    buildConfigField &quot;boolean&quot;, &quot;ChinaBuild&quot;, &quot;false&quot;\r\n                    buildConfigField &quot;boolean&quot;, &quot;YTOBuild&quot;, &quot;false&quot;\r\n                }\r\n       ....\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_7\r\n        targetCompatibility JavaVersion.VERSION_1_7\r\n    }\r\n    sourceSets {\r\n        main {\r\n            java.srcDirs = [&#39;src/main/java&#39;]\r\n        }\r\n    }\r\n   \r\n\r\n    dependencies {\r\n    implementation &#39;com.android.support:support-v4:24.2.1&#39;\r\n    implementation &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n    implementation &#39;com.android.support:design:24.2.1&#39;\r\n    implementation &#39;com.android.support:recyclerview-v7:24.2.1&#39;\r\n    implementation &#39;com.android.support:percent:24.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:10.0.1&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso- \r\n    core:3.0.2&#39;\r\n    androidTestImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;org.hamcrest:hamcrest-library:1.3&#39;\r\n    androidTestImplementation &#39;org.mockito:mockito-core:2.+&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test:rules:1.0.2&#39;\r\n    }\r\n\r\n\r\n\r\nNone of it works.\r\nAs you can see I&#39;m targeting API 23 so `GrantPermissionRule` should work. Any ideas? I&#39;ve been stuck on this for 3 days. :(\r\n\r\nIt looks like my post is mostly code, I should add more details... But not sure what more needs to be said.","title":"Auto grant permissions for Espresso UI Testing","body":"<p>I'm trying to avoid having to manually grant permissions on every single UI test built with Espresso. </p>\n\n<p>I have tried:</p>\n\n<pre><code> @Rule\n    public GrantPermissionRule permissionRule = GrantPermissionRule.grant(\n            android.Manifest.permission.INTERNET,\n            android.Manifest.permission.READ_PHONE_STATE,\n            android.Manifest.permission.ACCESS_NETWORK_STATE,\n            android.Manifest.permission.ACCESS_FINE_LOCATION.....)\n</code></pre>\n\n<p>and</p>\n\n<pre><code> @Before\n    public void grantPhonePermission()\n        {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M)\n                {\n                    getInstrumentation().getUiAutomation().executeShellCommand(\n                            \"pm grant \" + getTargetContext().getPackageName()\n                                    + \" android.permission.ACCESS_FINE_LOCATION\");\n                }\n        }\n</code></pre>\n\n<p>And here's most of my gradle file :</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 24\nbuildToolsVersion '26.0.2'\ndefaultConfig {\n    minSdkVersion 14\n    targetSdkVersion 23\n    testInstrumentationRunner \n'android.support.test.runner.AndroidJUnitRunner'\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), \n'proguard-rules.txt'\n        debuggable false\n        jniDebuggable false\n        buildConfigField \"boolean\", \"UseProduction\", \"true\"\n    }\n    qa {\n        initWith debug\n        debuggable true\n        applicationIdSuffix \".qa\" \n        buildConfigField \"boolean\", \"UseProduction\", \"false\"\n    }\n    debug {\n        debuggable true\n        testCoverageEnabled = false\n        buildConfigField \"boolean\", \"UseProduction\", \"true\"\n    }\n\n}\n\nflavorDimensions \"standard\"\n\nproductFlavors {\n    standard\n            {\n                buildConfigField \"boolean\", \"ChinaBuild\", \"false\"\n                buildConfigField \"boolean\", \"YTOBuild\", \"false\"\n            }\n   ....\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_7\n    targetCompatibility JavaVersion.VERSION_1_7\n}\nsourceSets {\n    main {\n        java.srcDirs = ['src/main/java']\n    }\n}\n\n\ndependencies {\nimplementation 'com.android.support:support-v4:24.2.1'\nimplementation 'com.android.support:appcompat-v7:24.2.1'\nimplementation 'com.android.support:design:24.2.1'\nimplementation 'com.android.support:recyclerview-v7:24.2.1'\nimplementation 'com.android.support:percent:24.2.1'\nimplementation 'com.google.firebase:firebase-messaging:10.0.1'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso- \ncore:3.0.2'\nandroidTestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'org.hamcrest:hamcrest-library:1.3'\nandroidTestImplementation 'org.mockito:mockito-core:2.+'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test:rules:1.0.2'\n}\n</code></pre>\n\n<p>None of it works.\nAs you can see I'm targeting API 23 so <code>GrantPermissionRule</code> should work. Any ideas? I've been stuck on this for 3 days. :(</p>\n\n<p>It looks like my post is mostly code, I should add more details... But not sure what more needs to be said.</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs","amazon-kinesis"],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682192363,"creation_date":1682192363,"question_id":76081592,"body_markdown":"I have a use case(**Scenario 1**) where I have a `lambda` which listens to `kinesis streams` from `DynamoDB` changes, if there is an error while processing any record in the batch of `kinesis stream` I return the `sequence number` of the record back so that the batch can be split(as mentioned over [here][1]) and since I have defined the `max retries`, after the retries are exhausted the failed record goes to `SQS`. \r\n\r\nThis SQS also we are planning to have it as event source of the same above lambda(**Scenario 2**). Now the issue is, in case of single event source of `KDS`(**Scenario 1**) I was using `RequestHandler` and for batch failure I was returning the `sequence number of failed record` in the `StreamEventResponse`. In **Scenario 2**, I am using `RequestStreamHandler` since I have multiple event sources(KDS and SQS) and I am writing the `sequence number of failed record` as below in the `OutputStream`. However it looks like `Lambda` is not treating it as failure and not performing any retries. Is there a way to achieve **scenario 2** using `RequestStreamHandler` where I can return the `seq number for lambda to retry`?\r\n\r\n\r\n**Scenario 2 where KDS and SQS are the event sources for the same lambda**\r\n\r\n\r\n \r\n\r\n     public void handleRequest(InputStream input, OutputStream output, Context context) throws IOException\r\n    {\r\n    \r\n          final byte[] byteArray= IOUtils.toByteArray(input);\r\n          String request= new String(byteArray, StandardCharSets.UTF_8);\r\n          KinesisEvent kinesisEvent=new ObjectMapper.readValue(request,KinesisEvent.class);\r\n          String seqNo= kinesisEvent.getRecords().get(0).getKinesis().getSequenceNumber();\r\n          List&lt;StreamEventResponse.BatchItemFailure&gt; batchItemFailures = new ArrayList();\r\n          batchItemFailures.add(new StreamEventResponse.BatchItemFailure(seqNo));\r\n          byte[] failures = SerializationUtils.serialize(new StreamEventResponse(batchItemFailures));\r\n\r\n          output.write(failures); \r\n\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/with-kinesis.html#services-kinesis-batchfailurereporting","title":"Using RequestStreamHandler for multiple event sources and split on batch failures","body":"<p>I have a use case(<strong>Scenario 1</strong>) where I have a <code>lambda</code> which listens to <code>kinesis streams</code> from <code>DynamoDB</code> changes, if there is an error while processing any record in the batch of <code>kinesis stream</code> I return the <code>sequence number</code> of the record back so that the batch can be split(as mentioned over <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-kinesis.html#services-kinesis-batchfailurereporting\" rel=\"nofollow noreferrer\">here</a>) and since I have defined the <code>max retries</code>, after the retries are exhausted the failed record goes to <code>SQS</code>.</p>\n<p>This SQS also we are planning to have it as event source of the same above lambda(<strong>Scenario 2</strong>). Now the issue is, in case of single event source of <code>KDS</code>(<strong>Scenario 1</strong>) I was using <code>RequestHandler</code> and for batch failure I was returning the <code>sequence number of failed record</code> in the <code>StreamEventResponse</code>. In <strong>Scenario 2</strong>, I am using <code>RequestStreamHandler</code> since I have multiple event sources(KDS and SQS) and I am writing the <code>sequence number of failed record</code> as below in the <code>OutputStream</code>. However it looks like <code>Lambda</code> is not treating it as failure and not performing any retries. Is there a way to achieve <strong>scenario 2</strong> using <code>RequestStreamHandler</code> where I can return the <code>seq number for lambda to retry</code>?</p>\n<p><strong>Scenario 2 where KDS and SQS are the event sources for the same lambda</strong></p>\n<pre><code> public void handleRequest(InputStream input, OutputStream output, Context context) throws IOException\n{\n\n      final byte[] byteArray= IOUtils.toByteArray(input);\n      String request= new String(byteArray, StandardCharSets.UTF_8);\n      KinesisEvent kinesisEvent=new ObjectMapper.readValue(request,KinesisEvent.class);\n      String seqNo= kinesisEvent.getRecords().get(0).getKinesis().getSequenceNumber();\n      List&lt;StreamEventResponse.BatchItemFailure&gt; batchItemFailures = new ArrayList();\n      batchItemFailures.add(new StreamEventResponse.BatchItemFailure(seqNo));\n      byte[] failures = SerializationUtils.serialize(new StreamEventResponse(batchItemFailures));\n\n      output.write(failures); \n\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1682189220,"post_id":76081339,"comment_id":134177423,"body_markdown":"just store in a json file and read with gson or similar.","body":"just store in a json file and read with gson or similar."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1682190639,"post_id":76081339,"comment_id":134177549,"body_markdown":"Have you looked at other methods in the `Map` interface? For example, there&#39;s `ofEntries` that takes a variable number of arguments.","body":"Have you looked at other methods in the <code>Map</code> interface? For example, there&#39;s <code>ofEntries</code> that takes a variable number of arguments."}],"answers":[{"tags":[],"owner":{"account_id":355707,"reputation":2299,"user_id":694804,"display_name":"jCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682190722,"creation_date":1682190722,"answer_id":76081475,"question_id":76081339,"body_markdown":"Starting with Java 9, you can initialize a Map from given values by using [Map.ofEntries(...) and the Map.entry(k,v)][1] function:\r\n\r\n    private static final Map&lt;String,Integer&gt; m = Map.ofEntries(\r\n            Map.entry(&quot;a&quot;, 1),\r\n            Map.entry(&quot;b&quot;, 2)\r\n    );\r\n\r\nThe resulting Map is immutable. `null` is not allowed as a key, and duplicate keys aren&#39;t allowed either.\r\n\r\nIf you want the values to be stored outside of your code, then you can use any data format that preserves the types (e.g. JSON). You can store the data in a a properties file that gets embedded into to compiled artifact, then read back via `ClassLoader.getResourceAsStream(name)` and then convert the binary data to your data structure / Map.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-","title":"Best Way To Store Unchanging Key-Value Pairs That Are Known Beforehand In Java","body":"<p>Starting with Java 9, you can initialize a Map from given values by using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\" rel=\"nofollow noreferrer\">Map.ofEntries(...) and the Map.entry(k,v)</a> function:</p>\n<pre><code>private static final Map&lt;String,Integer&gt; m = Map.ofEntries(\n        Map.entry(&quot;a&quot;, 1),\n        Map.entry(&quot;b&quot;, 2)\n);\n</code></pre>\n<p>The resulting Map is immutable. <code>null</code> is not allowed as a key, and duplicate keys aren't allowed either.</p>\n<p>If you want the values to be stored outside of your code, then you can use any data format that preserves the types (e.g. JSON). You can store the data in a a properties file that gets embedded into to compiled artifact, then read back via <code>ClassLoader.getResourceAsStream(name)</code> and then convert the binary data to your data structure / Map.</p>\n"}],"owner":{"account_id":25781013,"reputation":423,"user_id":19526639,"display_name":"muell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682204219,"answer_count":1,"score":0,"last_activity_date":1682190722,"creation_date":1682188697,"question_id":76081339,"body_markdown":"I want to store a small number (eg. 20) of key value pairs in Java. I know the values beforehand, and they won&#39;t change. I just need to be able to access them somehow to use in my calculations. In JavaScript, I would simply hard-code an object for this purpose. So my first idea was to use a map. However, from what I&#39;ve seen, I can&#39;t explicitly initialise a map (`map = { &quot;key1&quot;: 1, &quot;key2&quot;: 2, ...}`) but would have to call `map.put()` twenty times. Is there another way? Or is there perhaps a different data structure better suited for this purpose? Or would the easiest way be to store the data in a file, and then read it at runtime, and if so, what filetype works best for this / with Java?","title":"Best Way To Store Unchanging Key-Value Pairs That Are Known Beforehand In Java","body":"<p>I want to store a small number (eg. 20) of key value pairs in Java. I know the values beforehand, and they won't change. I just need to be able to access them somehow to use in my calculations. In JavaScript, I would simply hard-code an object for this purpose. So my first idea was to use a map. However, from what I've seen, I can't explicitly initialise a map (<code>map = { &quot;key1&quot;: 1, &quot;key2&quot;: 2, ...}</code>) but would have to call <code>map.put()</code> twenty times. Is there another way? Or is there perhaps a different data structure better suited for this purpose? Or would the easiest way be to store the data in a file, and then read it at runtime, and if so, what filetype works best for this / with Java?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":91954,"reputation":2671,"user_id":252243,"display_name":"Sean Carroll"},"score":1,"creation_date":1462504433,"post_id":36722857,"comment_id":61673572,"body_markdown":"What version of spring and are you using spring security? Specifically I&#39;m wondering if you are using spring security what options are set for the security HTTP response headers. https://docs.spring.io/spring-security/site/docs/current/reference/html/headers.html","body":"What version of spring and are you using spring security? Specifically I&#39;m wondering if you are using spring security what options are set for the security HTTP response headers. <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/headers.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/h&zwnj;&#8203;tml/&hellip;</a>"},{"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"score":1,"creation_date":1462514790,"post_id":36722857,"comment_id":61676698,"body_markdown":"@SeanCarroll I&#39;m not using Spring Security. Spring version is `4.2.4`.","body":"@SeanCarroll I&#39;m not using Spring Security. Spring version is <code>4.2.4</code>."}],"answers":[{"tags":[],"owner":{"account_id":4155170,"reputation":29,"user_id":3406651,"display_name":"prad121"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1462496711,"creation_date":1462474931,"answer_id":37058318,"question_id":36722857,"body_markdown":"Add some random numbers(current time in milisecs) at the end of the URL. like service URL is\r\n\r\n    http://localhost:7001/rest/getBook/5\r\n\r\nSo instead of making call to above URL, u append some random numbers at end while making the above service call\r\n\r\n    /rest/getBook/5?_time-in-milisec\r\n\r\nIt requires little be tweaking of service call in javascript.\r\n\r\n    URL = http://localhost:7001/rest/getBook/5 + &quot;?_&quot; +new Date()\r\n\r\nSince each time URL is different, It does not refer to browser cache.","title":"How to correctly prevent caching of 302 redirect location?","body":"<p>Add some random numbers(current time in milisecs) at the end of the URL. like service URL is</p>\n\n<pre><code>http://localhost:7001/rest/getBook/5\n</code></pre>\n\n<p>So instead of making call to above URL, u append some random numbers at end while making the above service call</p>\n\n<pre><code>/rest/getBook/5?_time-in-milisec\n</code></pre>\n\n<p>It requires little be tweaking of service call in javascript.</p>\n\n<pre><code>URL = http://localhost:7001/rest/getBook/5 + \"?_\" +new Date()\n</code></pre>\n\n<p>Since each time URL is different, It does not refer to browser cache.</p>\n"},{"tags":[],"owner":{"account_id":1669688,"reputation":2200,"user_id":1536382,"display_name":"Testo Testini"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1682190021,"creation_date":1462502423,"answer_id":37063361,"question_id":36722857,"body_markdown":"If one Chrome instance has cached page `/username` the page is not hit by that Chrome as effect of the redirect because Chrome reads the `Location` header and serves the cached page.\r\n\r\nMaybe one time you visited the page while trying cache headers and now your Chrome thinks it must cache it, maybe even forever.\r\n\r\nYou need to invalidate the cache (with that Chrome) for the `/username` page:\r\n\r\n 1. setup the `/username` page to be **always** served with headers that disable caching, like those suggested by rev_dihazum or how is done in [Spring WebContentGenerator][1].\r\n 2. Clear the cache manually or visit `/username` and hit CTRL+R while being in the page: page will be actually requested, cache disabling headers will be read and from that moment the page will be again requested each time to the server, including when is requested as effect of a redirect.\r\n\r\n\r\nIf the page is public and users, whose browsers you cannot control, have already cached it, then problem is worse and you may choose one of the following:\r\n\r\n1. wait for cache to expire\r\n1. change name to the page \r\n1. add some random number, more or less as suggested by prad121, to the `Location` URL to make it unique, a variation of 2)\r\n\r\nNote that [`Last-Modified`][2] time format is `Tue, 15 Nov 1994 08:12:31 GMT`, you may use the `setDateHeader` method to set it as a `long`\r\n\r\nYou may look into [WebContentGenerator][3] to see other caching code in Spring.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/support/WebContentGenerator.java#L575\r\n  [2]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.29\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/support/WebContentGenerator.java#L509","title":"How to correctly prevent caching of 302 redirect location?","body":"<p>If one Chrome instance has cached page <code>/username</code> the page is not hit by that Chrome as effect of the redirect because Chrome reads the <code>Location</code> header and serves the cached page.</p>\n<p>Maybe one time you visited the page while trying cache headers and now your Chrome thinks it must cache it, maybe even forever.</p>\n<p>You need to invalidate the cache (with that Chrome) for the <code>/username</code> page:</p>\n<ol>\n<li>setup the <code>/username</code> page to be <strong>always</strong> served with headers that disable caching, like those suggested by rev_dihazum or how is done in <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/support/WebContentGenerator.java#L575\" rel=\"nofollow noreferrer\">Spring WebContentGenerator</a>.</li>\n<li>Clear the cache manually or visit <code>/username</code> and hit CTRL+R while being in the page: page will be actually requested, cache disabling headers will be read and from that moment the page will be again requested each time to the server, including when is requested as effect of a redirect.</li>\n</ol>\n<p>If the page is public and users, whose browsers you cannot control, have already cached it, then problem is worse and you may choose one of the following:</p>\n<ol>\n<li>wait for cache to expire</li>\n<li>change name to the page</li>\n<li>add some random number, more or less as suggested by prad121, to the <code>Location</code> URL to make it unique, a variation of 2)</li>\n</ol>\n<p>Note that <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.29\" rel=\"nofollow noreferrer\"><code>Last-Modified</code></a> time format is <code>Tue, 15 Nov 1994 08:12:31 GMT</code>, you may use the <code>setDateHeader</code> method to set it as a <code>long</code></p>\n<p>You may look into <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/support/WebContentGenerator.java#L509\" rel=\"nofollow noreferrer\">WebContentGenerator</a> to see other caching code in Spring.</p>\n"},{"tags":[],"owner":{"account_id":1246991,"reputation":3366,"user_id":1208222,"accept_rate":80,"display_name":"Troncador"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1485732669,"creation_date":1462940302,"answer_id":37153048,"question_id":36722857,"body_markdown":"1) You have to try to force Chrome to not use the cache,\r\n\r\nhttps://stackoverflow.com/questions/49547/making-sure-a-web-page-is-not-cached-across-all-browsers\r\n\r\nLike the answer of that question suggest you have to put this header in the http response:\r\n\r\n    response.header(&quot;Cache-Control: no-cache, no-store, must-revalidate&quot;); // HTTP 1.1.\r\n    response.header(&quot;Pragma: no-cache&quot;); // HTTP 1.0.\r\n    response.header(&quot;Expires: 0&quot;); // Proxies.\r\n\r\n2) You can make a little trick\r\n\r\nYou can program to respond any request with the follow format with the same controller:\r\n\r\n    http://localhost:8080/spitter/username-{timestamp}\r\n\r\nThen you change your links in your page to have the last timestamp before send the request.\r\n\r\nIn this case, event if chrome caches the page it doesn&#39;t matter.\r\n\r\nInstead of timestamp you can use any other methodology, like &quot;autoincrement&quot; or &quot;uuid&quot;. ","title":"How to correctly prevent caching of 302 redirect location?","body":"<p>1) You have to try to force Chrome to not use the cache,</p>\n\n<p><a href=\"https://stackoverflow.com/questions/49547/making-sure-a-web-page-is-not-cached-across-all-browsers\">How to control web page caching, across all browsers?</a></p>\n\n<p>Like the answer of that question suggest you have to put this header in the http response:</p>\n\n<pre><code>response.header(\"Cache-Control: no-cache, no-store, must-revalidate\"); // HTTP 1.1.\nresponse.header(\"Pragma: no-cache\"); // HTTP 1.0.\nresponse.header(\"Expires: 0\"); // Proxies.\n</code></pre>\n\n<p>2) You can make a little trick</p>\n\n<p>You can program to respond any request with the follow format with the same controller:</p>\n\n<pre><code>http://localhost:8080/spitter/username-{timestamp}\n</code></pre>\n\n<p>Then you change your links in your page to have the last timestamp before send the request.</p>\n\n<p>In this case, event if chrome caches the page it doesn't matter.</p>\n\n<p>Instead of timestamp you can use any other methodology, like \"autoincrement\" or \"uuid\". </p>\n"},{"tags":[],"owner":{"account_id":2373456,"reputation":1793,"user_id":2077499,"accept_rate":50,"display_name":"dr. rAI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463013383,"creation_date":1463013383,"answer_id":37175409,"question_id":36722857,"body_markdown":"Maybe you can try using an ETag for your page. \r\n\r\nI am not exactly sure if I correctly understand your redirect scenario though.\r\n\r\nLet&#39;s say you have some display page that contains a `username` and you have some second page that provides **Editing** for your data and you want to be able to change the `username` there and press a button to save it an get back to the display page thereafter.\r\n\r\nOne option would be to include the `username` in the URL (like `...&amp;username=Jack`). Since the username has changed, the URL would change as well (i.e. `...&amp;username=Jim`). In this case, Chrome would not have a cached version of the display page for Jack and would get a fresh version of it from the server. (If you have any field that you don&#39;t want to mention explicitly in the URL you could calculate a checksum over all fields and add this as a parameter like `...&amp;check=12345678`).\r\n\r\nAnother option would be to have the server generate an ETag - so let&#39;s look into this in detail. What we want is that the server app is in charge to tell the browser if the data needs a refresh or can be taken from the Cache, right?\r\n\r\n[![Using Etag for letting the server determine if the data is up-to-date or needs refresh][1]][1]\r\n\r\n\r\n_{ Please forgive me that I am not using your very example here since I am currently developing on a different Stack - however, I think your problem can be solved with your Java/Spring Stack the same way }_\r\n\r\nHave a look at the screenshot in the section **Response Headers** and about in the middle you see **ETag**. This id is generated by the server - so the server app is in control here. (Maybe this [article][2] helps you if you haven&#39;t implemented an ETag yet.)\r\n\r\n_So what happens?_ As soon as the content changes on the server, the ETag changes as well - the _Browser_ sees the ETag in the response, respects that the server is in charge and asks the server if the content has changed and if so kicks out the cached page with the expired content and requests a new one from the server.\r\n\r\nYou have to make sure, of course, that as soon as the server learns that the user has changed from _Jack_ to _Jim_ (or any other field accordingly) the server app generates the new ETag for this user&#39;s display page.\r\n\r\nHope it helps!\r\n\r\n  [1]: http://i.stack.imgur.com/TzDrJ.jpg\r\n  [2]: http://www.baeldung.com/2013/01/11/etags-for-rest-with-spring/","title":"How to correctly prevent caching of 302 redirect location?","body":"<p>Maybe you can try using an ETag for your page. </p>\n\n<p>I am not exactly sure if I correctly understand your redirect scenario though.</p>\n\n<p>Let's say you have some display page that contains a <code>username</code> and you have some second page that provides <strong>Editing</strong> for your data and you want to be able to change the <code>username</code> there and press a button to save it an get back to the display page thereafter.</p>\n\n<p>One option would be to include the <code>username</code> in the URL (like <code>...&amp;username=Jack</code>). Since the username has changed, the URL would change as well (i.e. <code>...&amp;username=Jim</code>). In this case, Chrome would not have a cached version of the display page for Jack and would get a fresh version of it from the server. (If you have any field that you don't want to mention explicitly in the URL you could calculate a checksum over all fields and add this as a parameter like <code>...&amp;check=12345678</code>).</p>\n\n<p>Another option would be to have the server generate an ETag - so let's look into this in detail. What we want is that the server app is in charge to tell the browser if the data needs a refresh or can be taken from the Cache, right?</p>\n\n<p><a href=\"https://i.stack.imgur.com/TzDrJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TzDrJ.jpg\" alt=\"Using Etag for letting the server determine if the data is up-to-date or needs refresh\"></a></p>\n\n<p><em>{ Please forgive me that I am not using your very example here since I am currently developing on a different Stack - however, I think your problem can be solved with your Java/Spring Stack the same way }</em></p>\n\n<p>Have a look at the screenshot in the section <strong>Response Headers</strong> and about in the middle you see <strong>ETag</strong>. This id is generated by the server - so the server app is in control here. (Maybe this <a href=\"http://www.baeldung.com/2013/01/11/etags-for-rest-with-spring/\" rel=\"nofollow noreferrer\">article</a> helps you if you haven't implemented an ETag yet.)</p>\n\n<p><em>So what happens?</em> As soon as the content changes on the server, the ETag changes as well - the <em>Browser</em> sees the ETag in the response, respects that the server is in charge and asks the server if the content has changed and if so kicks out the cached page with the expired content and requests a new one from the server.</p>\n\n<p>You have to make sure, of course, that as soon as the server learns that the user has changed from <em>Jack</em> to <em>Jim</em> (or any other field accordingly) the server app generates the new ETag for this user's display page.</p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":4601070,"reputation":234,"user_id":3731807,"display_name":"Oleksandr Kelepko"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1463028793,"creation_date":1463028793,"answer_id":37177569,"question_id":36722857,"body_markdown":"You can use POSTs instead of GETs. POSTs are not cached.","title":"How to correctly prevent caching of 302 redirect location?","body":"<p>You can use POSTs instead of GETs. POSTs are not cached.</p>\n"}],"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23229,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":37063361,"answer_count":5,"score":26,"last_activity_date":1682190021,"creation_date":1461079636,"question_id":36722857,"body_markdown":"I&#39;ve encountered next problem with *Post/Redirect/Get* pattern.\r\nWhen performing `GET` after redirect Chrome takes the page from cache.\r\nSo user sees stale data.\r\n\r\n[![302 chrome from cache][1]][1]\r\n\r\nI&#39;ve tried following to force/support revalidation\r\n\r\n    if (request.checkNotModified(sinceLastTweet)) return null;\r\n    response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n    response.setHeader(&quot;Last-Modified&quot;, String.valueOf(sinceLastTweet));\r\nBut only `no-store` causes a server request.\r\n\r\nWhy Chrome takes the page from cache when performing redirect?\r\n\r\n\r\n----------\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n    @RequestMapping(method = GET)\r\n    public String home(ModelMap model, @PathVariable String username, HttpServletResponse response, WebRequest request) {\r\n        // response.setHeader(&quot;Cache-Control&quot;, &quot;no-store&quot;);\r\n\r\n        List&lt;Tweet&gt; tweets = tweetRepository.findAll();\r\n        // long sinceLastTweet = tweets.get(0).getTimestamp().toEpochMilli();\r\n        // if (request.checkNotModified(sinceLastTweet)) return null;\r\n        // response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n        // response.setHeader(&quot;Last-Modified&quot;, String.valueOf(sinceLastTweet));\r\n\r\n        model.addAttribute(&quot;tweets&quot;, tweets);\r\n        model.addAttribute(&quot;tweet&quot;, new Tweet());\r\n        model.addAttribute(&quot;username&quot;, username);\r\n\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/rnwEJ.png\r\n  [2]: http://i.stack.imgur.com/jAqfu.png","title":"How to correctly prevent caching of 302 redirect location?","body":"<p>I've encountered next problem with <em>Post/Redirect/Get</em> pattern.\nWhen performing <code>GET</code> after redirect Chrome takes the page from cache.\nSo user sees stale data.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rnwEJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rnwEJ.png\" alt=\"302 chrome from cache\"></a></p>\n\n<p>I've tried following to force/support revalidation</p>\n\n<pre><code>if (request.checkNotModified(sinceLastTweet)) return null;\nresponse.setHeader(\"Cache-Control\", \"no-cache\");\nresponse.setHeader(\"Last-Modified\", String.valueOf(sinceLastTweet));\n</code></pre>\n\n<p>But only <code>no-store</code> causes a server request.</p>\n\n<p>Why Chrome takes the page from cache when performing redirect?</p>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/jAqfu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jAqfu.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>@RequestMapping(method = GET)\npublic String home(ModelMap model, @PathVariable String username, HttpServletResponse response, WebRequest request) {\n    // response.setHeader(\"Cache-Control\", \"no-store\");\n\n    List&lt;Tweet&gt; tweets = tweetRepository.findAll();\n    // long sinceLastTweet = tweets.get(0).getTimestamp().toEpochMilli();\n    // if (request.checkNotModified(sinceLastTweet)) return null;\n    // response.setHeader(\"Cache-Control\", \"no-cache\");\n    // response.setHeader(\"Last-Modified\", String.valueOf(sinceLastTweet));\n\n    model.addAttribute(\"tweets\", tweets);\n    model.addAttribute(\"tweet\", new Tweet());\n    model.addAttribute(\"username\", username);\n\n    return \"home\";\n}\n</code></pre>\n"},{"tags":["java","casting","java-17"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1682186422,"post_id":76081130,"comment_id":134177082,"body_markdown":"It is not poissbile to change abstraction to invoke your login for both? e.g. add abstract method which will be implemented separately for each child class?","body":"It is not poissbile to change abstraction to invoke your login for both? e.g. add abstract method which will be implemented separately for each child class?"},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1682186647,"post_id":76081130,"comment_id":134177111,"body_markdown":"Can you ensure that there is no subclass other than `Child1` that also has `type == Type.ONE`?","body":"Can you ensure that there is no subclass other than <code>Child1</code> that also has <code>type == Type.ONE</code>?"},{"owner":{"account_id":15845585,"reputation":123,"user_id":11432982,"display_name":"Vid"},"score":0,"creation_date":1682186856,"post_id":76081130,"comment_id":134177137,"body_markdown":"@notAPPP It&#39;s not possible to modify any of these classes. Importing from an internal library","body":"@notAPPP It&#39;s not possible to modify any of these classes. Importing from an internal library"},{"owner":{"account_id":15845585,"reputation":123,"user_id":11432982,"display_name":"Vid"},"score":0,"creation_date":1682186879,"post_id":76081130,"comment_id":134177139,"body_markdown":"@Manfred yes we can endure that when type is One it&#39;s always Child1","body":"@Manfred yes we can endure that when type is One it&#39;s always Child1"}],"answers":[{"tags":[],"owner":{"account_id":6743408,"reputation":556,"user_id":5195839,"display_name":"Tomer Aberbach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682187181,"creation_date":1682187181,"answer_id":76081224,"question_id":76081130,"body_markdown":"If the fields of the child classes have a similar structure, then you could make the parent class abstract and add abstract methods for the child classes to implement:\r\n\r\n```java\r\npublic abstract class Parent {\r\n    private Type type;\r\n\r\n    protected abstract String getField();\r\n}\r\n\r\npublic class Child1 extends Parent {\r\n    private String someField;\r\n    public Child1() {\r\n        super(Type.One);\r\n    }\r\n\r\n    @Override\r\n    protected String getField() {\r\n        return someField;\r\n    }\r\n}\r\n\r\npublic class Child2 extends Parent {\r\n    private String someOtherField;\r\n    public Child2() {\r\n        super(Type.Two);\r\n    }\r\n\r\n    @Override\r\n    protected String getField() {\r\n        return someOtherField;\r\n    }\r\n}\r\n```\r\n\r\nThen you don&#39;t need the `switch`. You can just write `parent.getField()` to access the fields.\r\n\r\nIf the fields do not have a similar structure, then you can use the [visitor pattern](https://en.wikipedia.org/wiki/Visitor_pattern):\r\n\r\n```java\r\npublic interface Visitor {\r\n  void visit(Child1 child);\r\n\r\n  void visit(Child2 child);\r\n}\r\n\r\npublic abstract class Parent {\r\n    private Type type;\r\n\r\n    public abstract void accept(Visitor visitor);\r\n}\r\n\r\npublic class Child1 extends Parent {\r\n    private String someField;\r\n    public Child1() {\r\n        super(Type.One);\r\n    }\r\n\r\n    @Override\r\n    public void accept(Visitor visitor) {\r\n        visitor.visit(this);\r\n    }\r\n}\r\n\r\npublic class Child2 extends Parent {\r\n    private String someOtherField;\r\n    public Child2() {\r\n        super(Type.Two);\r\n    }\r\n\r\n    @Override\r\n    public void accept(Visitor visitor) {\r\n        visitor.visit(this);\r\n    }\r\n}\r\n```\r\n\r\nAnd use like so:\r\n```java\r\nparent.accept(new Visitor() {\r\n  @Override\r\n  public void visit(Child1 child) {\r\n    // Child1 logic...\r\n  }\r\n\r\n  @Override\r\n  public void visit(Child2 child) {\r\n    // Child2 logic...\r\n  }\r\n});\r\n```\r\n\r\nNote that although the `accept` implementations in each child class look the same, they are actually different in behavior. The `Visitor` interface&#39;s `visit` method is overloaded so `visitor.visit(this)` will delegate to the overload associated with the current child class.\r\n\r\nLastly, with either one of these solutions, if you weren&#39;t using the `type` field for anything other than the `switch`, then you should be able to get rid of the `type` field.\r\n\r\nEDIT: If you can&#39;t modify any of these classes, then there&#39;s no way to get around casting.","title":"How to avoid casting in java where we have the parent class object?","body":"<p>If the fields of the child classes have a similar structure, then you could make the parent class abstract and add abstract methods for the child classes to implement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Parent {\n    private Type type;\n\n    protected abstract String getField();\n}\n\npublic class Child1 extends Parent {\n    private String someField;\n    public Child1() {\n        super(Type.One);\n    }\n\n    @Override\n    protected String getField() {\n        return someField;\n    }\n}\n\npublic class Child2 extends Parent {\n    private String someOtherField;\n    public Child2() {\n        super(Type.Two);\n    }\n\n    @Override\n    protected String getField() {\n        return someOtherField;\n    }\n}\n</code></pre>\n<p>Then you don't need the <code>switch</code>. You can just write <code>parent.getField()</code> to access the fields.</p>\n<p>If the fields do not have a similar structure, then you can use the <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">visitor pattern</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Visitor {\n  void visit(Child1 child);\n\n  void visit(Child2 child);\n}\n\npublic abstract class Parent {\n    private Type type;\n\n    public abstract void accept(Visitor visitor);\n}\n\npublic class Child1 extends Parent {\n    private String someField;\n    public Child1() {\n        super(Type.One);\n    }\n\n    @Override\n    public void accept(Visitor visitor) {\n        visitor.visit(this);\n    }\n}\n\npublic class Child2 extends Parent {\n    private String someOtherField;\n    public Child2() {\n        super(Type.Two);\n    }\n\n    @Override\n    public void accept(Visitor visitor) {\n        visitor.visit(this);\n    }\n}\n</code></pre>\n<p>And use like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>parent.accept(new Visitor() {\n  @Override\n  public void visit(Child1 child) {\n    // Child1 logic...\n  }\n\n  @Override\n  public void visit(Child2 child) {\n    // Child2 logic...\n  }\n});\n</code></pre>\n<p>Note that although the <code>accept</code> implementations in each child class look the same, they are actually different in behavior. The <code>Visitor</code> interface's <code>visit</code> method is overloaded so <code>visitor.visit(this)</code> will delegate to the overload associated with the current child class.</p>\n<p>Lastly, with either one of these solutions, if you weren't using the <code>type</code> field for anything other than the <code>switch</code>, then you should be able to get rid of the <code>type</code> field.</p>\n<p>EDIT: If you can't modify any of these classes, then there's no way to get around casting.</p>\n"},{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682187531,"creation_date":1682187531,"answer_id":76081249,"question_id":76081130,"body_markdown":"If you want to use subclass-specific properties, you need to cast `parent` to the respective subclass. But I would do it in a safe way, as the language does not know about the additional constraint that `type == Type.ONE` corresponds to `Child1` and `type == Type.TWO` corresponds to `Child2`:\r\n```java\r\nif (parent instanceof Child1 child1) {\r\n    // logic using child1\r\n}\r\nif (parent instanceof Child2 child2) {\r\n    // logic using child2\r\n}\r\n```","title":"How to avoid casting in java where we have the parent class object?","body":"<p>If you want to use subclass-specific properties, you need to cast <code>parent</code> to the respective subclass. But I would do it in a safe way, as the language does not know about the additional constraint that <code>type == Type.ONE</code> corresponds to <code>Child1</code> and <code>type == Type.TWO</code> corresponds to <code>Child2</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (parent instanceof Child1 child1) {\n    // logic using child1\n}\nif (parent instanceof Child2 child2) {\n    // logic using child2\n}\n</code></pre>\n"}],"owner":{"account_id":15845585,"reputation":123,"user_id":11432982,"display_name":"Vid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682189737,"creation_date":1682186143,"question_id":76081130,"body_markdown":"Use case - &lt;br&gt;\r\nI have a parent class and 2 children classes analogous to following\r\n```\r\npublic class Parent {\r\n    private Type type;\r\n}\r\n\r\npublic class Child1 extends Parent {\r\n    private String someField;\r\n    public Child1() {\r\n        super(Type.One);\r\n    }\r\n}\r\n\r\npublic class Child2 extends Parent {\r\n    private String someOtherField;\r\n    public Child2() {\r\n        super(Type.Two);\r\n    }\r\n}\r\n```\r\nIn the business logic, I have the parent class object and I want to access the children classes&#39; variables based on the Type enum&#39;s value. Is there any other better &amp; clear approach than casting with switch/visitor?&lt;br&gt;\r\nWhat I am using -\r\n```\r\nswitch(parent.type){\r\n    case Type.One:\r\n        Child1 child = (Child1) parent;\r\n        // logic\r\n        break;\r\n    case Type.Two:\r\n        Child1 child = (Child1) parent;\r\n        // logic\r\n        break;\r\n}\r\n```\r\nDisclaimer - We are using java 17 and I can&#39;t change it to java 17 preview to make use of switch with pattern matching.\r\nEdit - Can&#39;t modify any of these classes.","title":"How to avoid casting in java where we have the parent class object?","body":"<p>Use case - <br>\nI have a parent class and 2 children classes analogous to following</p>\n<pre><code>public class Parent {\n    private Type type;\n}\n\npublic class Child1 extends Parent {\n    private String someField;\n    public Child1() {\n        super(Type.One);\n    }\n}\n\npublic class Child2 extends Parent {\n    private String someOtherField;\n    public Child2() {\n        super(Type.Two);\n    }\n}\n</code></pre>\n<p>In the business logic, I have the parent class object and I want to access the children classes' variables based on the Type enum's value. Is there any other better &amp; clear approach than casting with switch/visitor?<br>\nWhat I am using -</p>\n<pre><code>switch(parent.type){\n    case Type.One:\n        Child1 child = (Child1) parent;\n        // logic\n        break;\n    case Type.Two:\n        Child1 child = (Child1) parent;\n        // logic\n        break;\n}\n</code></pre>\n<p>Disclaimer - We are using java 17 and I can't change it to java 17 preview to make use of switch with pattern matching.\nEdit - Can't modify any of these classes.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1593095124,"creation_date":1593093881,"answer_id":62577261,"question_id":62558552,"body_markdown":"You can add this in test properties/app properties:\r\n\r\n    spring.main.web-application-type=reactive\r\n\r\nThis begins to be required when servlet and webflux are both in classpath. Check here: https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-detecting-web-app-type","title":"Error when using @EnableWebFluxSecurity in springboot","body":"<p>You can add this in test properties/app properties:</p>\n<pre><code>spring.main.web-application-type=reactive\n</code></pre>\n<p>This begins to be required when servlet and webflux are both in classpath. Check here: <a href=\"https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-detecting-web-app-type\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-detecting-web-app-type</a></p>\n"},{"tags":[],"owner":{"account_id":19733384,"reputation":117,"user_id":14448394,"display_name":"divad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682188431,"creation_date":1682188431,"answer_id":76081317,"question_id":62558552,"body_markdown":"In non-testing scenarios, add the property stated by @WesternGun to the classpath (at resources/application.properties). It seems to prevent the registration of a second conversionServicePostProcessor bean when spring MVC and spring webflux are present in the classpath. ","title":"Error when using @EnableWebFluxSecurity in springboot","body":"<p>In non-testing scenarios, add the property stated by @WesternGun to the classpath (at resources/application.properties). It seems to prevent the registration of a second conversionServicePostProcessor bean when spring MVC and spring webflux are present in the classpath.</p>\n"}],"owner":{"account_id":11840303,"reputation":355,"user_id":9295414,"display_name":"FinishedHim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12862,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":62577261,"answer_count":2,"score":20,"last_activity_date":1682188431,"creation_date":1593012317,"question_id":62558552,"body_markdown":"Currently I&#180;m trying to integrate JWT Authentication in an existing Spring Boot Webflux Project.\r\nAs a template I used this medium article: https://medium.com/@ard333/authentication-and-authorization-using-jwt-on-spring-webflux-29b81f813e78.  \r\nIf I put the Annotation @EnableWebFluxSecurity inside my WebSecurityConfig the following error occurs:\r\n\r\n\r\n&gt;The bean &#39;conversionServicePostProcessor&#39;, defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class], could not be registered. A bean with that name has already\r\nbeen defined in class path resource [org/springframework/security/config/annotation/web/reactive/WebFluxSecurityConfiguration.class] and overriding is disabled.\r\n\r\n\r\nBasicaly it&#180;s the same error as in this post https://stackoverflow.com/questions/58929368/error-creating-bean-named-conversionservicepostprocessor-when-using-spring-boo but the answers didn&#180;t help for me and I can&#180;t comment on answers.\r\n\r\nIn the previous post two solutions are mentioned that didn&#180;t work for me.\r\nRemoving the websocket dependency didn&#180;t help and setting &quot;spring.main.allow-bean-definition-overriding=true&quot; seems to override my own Configuration, because my route /auth/login/guest is still responding 401.\r\n\r\nHere is my WebSecurityConfiguration:\r\n```lang-java\r\npackage de.thm.arsnova.frag.jetzt.backend.config;\r\n\r\nimport de.thm.arsnova.frag.jetzt.backend.security.AuthenticationManager;\r\nimport de.thm.arsnova.frag.jetzt.backend.security.SecurityContextRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableReactiveMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\r\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\r\nimport org.springframework.security.web.server.SecurityWebFilterChain;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n    private final SecurityContextRepository securityContextRepository;\r\n\r\n    @Autowired\r\n    public WebSecurityConfig(AuthenticationManager authenticationManager, SecurityContextRepository securityContextRepository) {\r\n        this.authenticationManager = authenticationManager;\r\n        this.securityContextRepository = securityContextRepository;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n        return http\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint((swe, e) -&gt;\r\n                        Mono.fromRunnable(() -&gt; swe.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED))\r\n                ).accessDeniedHandler((swe, e) -&gt;\r\n                        Mono.fromRunnable(() -&gt; swe.getResponse().setStatusCode(HttpStatus.FORBIDDEN))\r\n                ).and()\r\n                .csrf().disable()\r\n                .formLogin().disable()\r\n                .httpBasic().disable()\r\n                .authenticationManager(authenticationManager)\r\n                .securityContextRepository(securityContextRepository)\r\n                .authorizeExchange()\r\n                .pathMatchers(HttpMethod.OPTIONS).permitAll()\r\n                .pathMatchers(&quot;/auth/login/guest&quot;).permitAll()\r\n                .anyExchange().authenticated()\r\n                .and().build();\r\n    }\r\n}\r\n```\r\n\r\nand my pom.xml\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;de.thm.arsnova.frag.jetzt&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;frag.jetzt-backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;spring-boot-version&gt;2.3.0.RELEASE&lt;/spring-boot-version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-boot-version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- LogBack dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.5&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;version&gt;${spring-boot-version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;6.4.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;url&gt;jdbc:postgresql://localhost:5432/fragjetzt&lt;/url&gt;\r\n\t\t\t\t\t&lt;user&gt;fragjetzt&lt;/user&gt;\r\n\t\t\t\t\t&lt;password&gt;fragjetzt&lt;/password&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```","title":"Error when using @EnableWebFluxSecurity in springboot","body":"<p>Currently I´m trying to integrate JWT Authentication in an existing Spring Boot Webflux Project.\nAs a template I used this medium article: <a href=\"https://medium.com/@ard333/authentication-and-authorization-using-jwt-on-spring-webflux-29b81f813e78\" rel=\"noreferrer\">https://medium.com/@ard333/authentication-and-authorization-using-jwt-on-spring-webflux-29b81f813e78</a>.<br />\nIf I put the Annotation @EnableWebFluxSecurity inside my WebSecurityConfig the following error occurs:</p>\n<blockquote>\n<p>The bean 'conversionServicePostProcessor', defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class], could not be registered. A bean with that name has already\nbeen defined in class path resource [org/springframework/security/config/annotation/web/reactive/WebFluxSecurityConfiguration.class] and overriding is disabled.</p>\n</blockquote>\n<p>Basicaly it´s the same error as in this post <a href=\"https://stackoverflow.com/questions/58929368/error-creating-bean-named-conversionservicepostprocessor-when-using-spring-boo\">Error creating bean named `conversionServicePostProcessor` when using spring-boot-admin-server</a> but the answers didn´t help for me and I can´t comment on answers.</p>\n<p>In the previous post two solutions are mentioned that didn´t work for me.\nRemoving the websocket dependency didn´t help and setting &quot;spring.main.allow-bean-definition-overriding=true&quot; seems to override my own Configuration, because my route /auth/login/guest is still responding 401.</p>\n<p>Here is my WebSecurityConfiguration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.thm.arsnova.frag.jetzt.backend.config;\n\nimport de.thm.arsnova.frag.jetzt.backend.security.AuthenticationManager;\nimport de.thm.arsnova.frag.jetzt.backend.security.SecurityContextRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.config.annotation.method.configuration.EnableReactiveMethodSecurity;\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\nimport org.springframework.security.web.server.SecurityWebFilterChain;\nimport reactor.core.publisher.Mono;\n\n@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\npublic class WebSecurityConfig {\n\n    private final AuthenticationManager authenticationManager;\n    private final SecurityContextRepository securityContextRepository;\n\n    @Autowired\n    public WebSecurityConfig(AuthenticationManager authenticationManager, SecurityContextRepository securityContextRepository) {\n        this.authenticationManager = authenticationManager;\n        this.securityContextRepository = securityContextRepository;\n    }\n\n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        return http\n                .exceptionHandling()\n                .authenticationEntryPoint((swe, e) -&gt;\n                        Mono.fromRunnable(() -&gt; swe.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED))\n                ).accessDeniedHandler((swe, e) -&gt;\n                        Mono.fromRunnable(() -&gt; swe.getResponse().setStatusCode(HttpStatus.FORBIDDEN))\n                ).and()\n                .csrf().disable()\n                .formLogin().disable()\n                .httpBasic().disable()\n                .authenticationManager(authenticationManager)\n                .securityContextRepository(securityContextRepository)\n                .authorizeExchange()\n                .pathMatchers(HttpMethod.OPTIONS).permitAll()\n                .pathMatchers(&quot;/auth/login/guest&quot;).permitAll()\n                .anyExchange().authenticated()\n                .and().build();\n    }\n}\n</code></pre>\n<p>and my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;de.thm.arsnova.frag.jetzt&lt;/groupId&gt;\n    &lt;artifactId&gt;frag.jetzt-backend&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;spring-boot-version&gt;2.3.0.RELEASE&lt;/spring-boot-version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot-version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- LogBack dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;version&gt;${spring-boot-version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;6.4.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;url&gt;jdbc:postgresql://localhost:5432/fragjetzt&lt;/url&gt;\n                    &lt;user&gt;fragjetzt&lt;/user&gt;\n                    &lt;password&gt;fragjetzt&lt;/password&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":27317635,"reputation":737,"user_id":20831888,"display_name":"Kozydot"},"score":0,"creation_date":1682182840,"post_id":76080861,"comment_id":134176603,"body_markdown":"can you elaborate? any code snippets?","body":"can you elaborate? any code snippets?"},{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1682183675,"post_id":76080861,"comment_id":134176715,"body_markdown":"If you have spring security check if actuator is properly configured e.g. SecurityWebFilterChain","body":"If you have spring security check if actuator is properly configured e.g. SecurityWebFilterChain"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682185631,"post_id":76080861,"comment_id":134176980,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1682439204,"post_id":76080861,"comment_id":134214484,"body_markdown":"@Rajeshb, let me check and fix it","body":"@Rajeshb, let me check and fix it"}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682188245,"creation_date":1682188245,"answer_id":76081304,"question_id":76080861,"body_markdown":"Actuator endpoints require authentication by default.\r\n\r\nYou need to provide correct credentials to access the endpoints or you can disable security for all Spring Boot Actuator endpoints:\r\n \r\n```\r\nmanagement.security.enabled=false\r\nmanagement.endpoints.web.exposure.include=*\r\n``` \r\nin your configuration file.","title":"Actuator Health check in java for env endpoint is not working","body":"<p>Actuator endpoints require authentication by default.</p>\n<p>You need to provide correct credentials to access the endpoints or you can disable security for all Spring Boot Actuator endpoints:</p>\n<pre><code>management.security.enabled=false\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n<p>in your configuration file.</p>\n"}],"owner":{"account_id":27758757,"reputation":21,"user_id":21191614,"display_name":"Rajeshb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682188245,"creation_date":1682182779,"question_id":76080861,"body_markdown":"Actuator endpoint of env is not working. Other end point such as health and info are worked.  \r\n\r\nI used management.endpoints.web.exposure.include=* in application.yml, still getting 401 unauthorised","title":"Actuator Health check in java for env endpoint is not working","body":"<p>Actuator endpoint of env is not working. Other end point such as health and info are worked.</p>\n<p>I used management.endpoints.web.exposure.include=* in application.yml, still getting 401 unauthorised</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682173195,"post_id":76080094,"comment_id":134175372,"body_markdown":"Start over with the initializer and get it to build and run from the command line.  Do not involve any ide before that works.","body":"Start over with the initializer and get it to build and run from the command line.  Do not involve any ide before that works."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1682174657,"post_id":76080094,"comment_id":134175569,"body_markdown":"@Thorbj&#248;rnRavnAndersen this already seems to work &quot;I am able to run it from terminal in IntelliJ using command mvn spring-boot:run&quot;","body":"@Thorbj&#248;rnRavnAndersen this already seems to work &quot;I am able to run it from terminal in IntelliJ using command mvn spring-boot:run&quot;"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1682174695,"post_id":76080094,"comment_id":134175576,"body_markdown":"Try to remove the .idea folder from the project directory and start IntelliJ again","body":"Try to remove the .idea folder from the project directory and start IntelliJ again"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1682176682,"post_id":76080094,"comment_id":134175829,"body_markdown":"@SimonMartinelli Deleted .idea folder after closing the project, imported again , rebuild and still the issue persists.","body":"@SimonMartinelli Deleted .idea folder after closing the project, imported again , rebuild and still the issue persists."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682187087,"post_id":76080094,"comment_id":134177158,"body_markdown":"@SimonMartinelli I didn&#39;t read it that way - my bad probably.  The error message shows that the classpath does not contain the spring libraries which hints that IntelliJ for some reason is confused.  When this happens I remove the folder completely, reclone it from whereever it is put in git, and tell IntelliJ to open the folder.  This essentially resets everything.","body":"@SimonMartinelli I didn&#39;t read it that way - my bad probably.  The error message shows that the classpath does not contain the spring libraries which hints that IntelliJ for some reason is confused.  When this happens I remove the folder completely, reclone it from whereever it is put in git, and tell IntelliJ to open the folder.  This essentially resets everything."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1682501211,"post_id":76080094,"comment_id":134224653,"body_markdown":"Do you have **Add Dependencies with provided scope to classpath** option set in Run/Debug Configuration: https://imgur.com/izg9dsc.png ?","body":"Do you have <b>Add Dependencies with provided scope to classpath</b> option set in Run/Debug Configuration: <a href=\"https://imgur.com/izg9dsc.png\" rel=\"nofollow noreferrer\">imgur.com/izg9dsc.png</a> ?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1682501237,"post_id":76080094,"comment_id":134224662,"body_markdown":"Can you provide this project to check?","body":"Can you provide this project to check?"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1682577531,"post_id":76080094,"comment_id":134238507,"body_markdown":"@Andrey I would provide it but I deleted the extracted project as I had zip file, after extracting again and importing it&#39;s working fine now. If you still need it let me know. I added the dev tool and actuator dependency from maven in IntelliJ and it caused the issue but this time I copied dependency from exploring pom.xml at start.spring.io and it worked fine. Still not sure what caused it.","body":"@Andrey I would provide it but I deleted the extracted project as I had zip file, after extracting again and importing it&#39;s working fine now. If you still need it let me know. I added the dev tool and actuator dependency from maven in IntelliJ and it caused the issue but this time I copied dependency from exploring pom.xml at start.spring.io and it worked fine. Still not sure what caused it."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1682577745,"post_id":76080094,"comment_id":134238550,"body_markdown":"@Andrey Also I do not have the option  *Add Dependencies with provided scope to classpath* set in IntelliJ","body":"@Andrey Also I do not have the option  <i>Add Dependencies with provided scope to classpath</i> set in IntelliJ"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682187363,"creation_date":1682172882,"question_id":76080094,"body_markdown":"I am trying to run basic spring boot app in IntelliJ. I get the below error and the project automatically stops running.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\r\n    \tat com.shivam.org.myapp.MyappApplication.main(MyappApplication.java:10)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 1 more \r\n\r\nAs per [this][1] link I fixed my `JAVA_HOME` value to JDK 17 and I am able to run it from terminal in IntelliJ using command `mvn spring-boot:run` but when I right click and run the `Application.java` of my project I get the above exception. I have also tried deleting the repository folder content in `.m2` directory, restarted IntelliJ but it fails to run. Also I generated this project from [start.spring.io][2] and imported in IntelliJ it was running fine, today I just added actuator and devtools in pom.xml and started facing this issue. I removed the dependencies and still not fixed. I am using spring boot 3.0.6 and Java 17.\r\n\r\nMaven dependency tree\r\n\r\n    PS C:\\Users\\shiva\\Documents\\spring-projects\\myapp\\myapp&gt; mvn dependency:tree\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------------------&lt; com.shivam.org:myapp &gt;------------------------\r\n    [INFO] Building myapp 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-dependency-plugin:3.3.0:tree (default-cli) @ myapp ---\r\n    [INFO] com.shivam.org:myapp:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.6:provided\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.6:provided\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.6:provided\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.6:provided\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.6:provided\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.7:provided\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.7:provided\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:provided\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:provided\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.7:provided\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:provided\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:provided\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.6:provided\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:provided\r\n    [INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:provided\r\n    [INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:provided\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:provided\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:provided\r\n    [INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:provided\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.6:provided\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8:provided\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8:provided\r\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8:provided\r\n    [INFO] |  +- org.springframework:spring-web:jar:6.0.8:provided\r\n    [INFO] |  |  +- org.springframework:spring-beans:jar:6.0.8:provided\r\n    [INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.10.6:provided\r\n    [INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.10.6:provided\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.8:provided\r\n    [INFO] |     +- org.springframework:spring-aop:jar:6.0.8:provided\r\n    [INFO] |     +- org.springframework:spring-context:jar:6.0.8:provided\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:6.0.8:provided\r\n    [INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.0.6:test\r\n    [INFO]    +- org.springframework.boot:spring-boot-test:jar:3.0.6:test\r\n    [INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.6:test\r\n    [INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n    [INFO]    |  +- net.minidev:json-smart:jar:2.4.10:test\r\n    [INFO]    |  |  \\- net.minidev:accessors-smart:jar:2.4.9:test\r\n    [INFO]    |  |     \\- org.ow2.asm:asm:jar:9.3:test\r\n    [INFO]    |  \\- org.slf4j:slf4j-api:jar:2.0.7:provided\r\n    [INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:test\r\n    [INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:test\r\n    [INFO]    +- org.assertj:assertj-core:jar:3.23.1:test\r\n    [INFO]    |  \\- net.bytebuddy:byte-buddy:jar:1.12.23:test\r\n    [INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\r\n    [INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n    [INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n    [INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n    [INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n    [INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n    [INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n    [INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n    [INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n    [INFO]    +- org.mockito:mockito-core:jar:4.8.1:test\r\n    [INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\r\n    [INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\r\n    [INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\r\n    [INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n    [INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n    [INFO]    +- org.springframework:spring-core:jar:6.0.8:provided\r\n    [INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.8:provided\r\n    [INFO]    +- org.springframework:spring-test:jar:6.0.8:test\r\n    [INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.678 s\r\n    [INFO] Finished at: 2023-04-22T19:43:10+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    PS C:\\Users\\shiva\\Documents\\spring-projects\\myapp\\myapp&gt; \r\n\r\n\r\n  [1]: https://mkyong.com/maven/maven-error-invalid-target-release-17/\r\n  [2]: https://start.spring.io/","title":"Spring boot project not running in Intellij","body":"<p>I am trying to run basic spring boot app in IntelliJ. I get the below error and the project automatically stops running.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\n    at com.shivam.org.myapp.MyappApplication.main(MyappApplication.java:10)\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 1 more \n</code></pre>\n<p>As per <a href=\"https://mkyong.com/maven/maven-error-invalid-target-release-17/\" rel=\"nofollow noreferrer\">this</a> link I fixed my <code>JAVA_HOME</code> value to JDK 17 and I am able to run it from terminal in IntelliJ using command <code>mvn spring-boot:run</code> but when I right click and run the <code>Application.java</code> of my project I get the above exception. I have also tried deleting the repository folder content in <code>.m2</code> directory, restarted IntelliJ but it fails to run. Also I generated this project from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> and imported in IntelliJ it was running fine, today I just added actuator and devtools in pom.xml and started facing this issue. I removed the dependencies and still not fixed. I am using spring boot 3.0.6 and Java 17.</p>\n<p>Maven dependency tree</p>\n<pre><code>PS C:\\Users\\shiva\\Documents\\spring-projects\\myapp\\myapp&gt; mvn dependency:tree\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------&lt; com.shivam.org:myapp &gt;------------------------\n[INFO] Building myapp 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:3.3.0:tree (default-cli) @ myapp ---\n[INFO] com.shivam.org:myapp:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.6:provided\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.6:provided\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.6:provided\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.6:provided\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.6:provided\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.7:provided\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.7:provided\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:provided\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:provided\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.7:provided\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:provided\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:provided\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.6:provided\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:provided\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:provided\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:provided\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:provided\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:provided\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:provided\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.6:provided\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8:provided\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8:provided\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8:provided\n[INFO] |  +- org.springframework:spring-web:jar:6.0.8:provided\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.8:provided\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.10.6:provided\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.10.6:provided\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.8:provided\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.8:provided\n[INFO] |     +- org.springframework:spring-context:jar:6.0.8:provided\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.8:provided\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.0.6:test\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.0.6:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.6:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO]    |  +- net.minidev:json-smart:jar:2.4.10:test\n[INFO]    |  |  \\- net.minidev:accessors-smart:jar:2.4.9:test\n[INFO]    |  |     \\- org.ow2.asm:asm:jar:9.3:test\n[INFO]    |  \\- org.slf4j:slf4j-api:jar:2.0.7:provided\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:test\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:test\n[INFO]    +- org.assertj:assertj-core:jar:3.23.1:test\n[INFO]    |  \\- net.bytebuddy:byte-buddy:jar:1.12.23:test\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n[INFO]    +- org.mockito:mockito-core:jar:4.8.1:test\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:6.0.8:provided\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.8:provided\n[INFO]    +- org.springframework:spring-test:jar:6.0.8:test\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.678 s\n[INFO] Finished at: 2023-04-22T19:43:10+05:30\n[INFO] ------------------------------------------------------------------------\nPS C:\\Users\\shiva\\Documents\\spring-projects\\myapp\\myapp&gt; \n</code></pre>\n"},{"tags":["java","eclipse","nullpointerexception","lombok"],"comments":[{"owner":{"account_id":5272463,"reputation":11007,"user_id":4210332,"accept_rate":80,"display_name":"Rajat"},"score":0,"creation_date":1441166673,"post_id":32344460,"comment_id":52562968,"body_markdown":"possible duplicate of [How to handle null string in java](http://stackoverflow.com/questions/22902705/how-to-handle-null-string-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/22902705/how-to-handle-null-string-in-java\">How to handle null string in java</a>"},{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":0,"creation_date":1441167493,"post_id":32344460,"comment_id":52563176,"body_markdown":"It is not a duplicate. He likes to know if there is an existing solution for auto setting the values.","body":"It is not a duplicate. He likes to know if there is an existing solution for auto setting the values."},{"owner":{"account_id":4476563,"reputation":5607,"user_id":3641545,"accept_rate":79,"display_name":"Zarwan"},"score":0,"creation_date":1441167948,"post_id":32344460,"comment_id":52563273,"body_markdown":"This might help: http://stackoverflow.com/questions/271526/avoiding-null-statements-in-java","body":"This might help: <a href=\"http://stackoverflow.com/questions/271526/avoiding-null-statements-in-java\" title=\"avoiding null statements in java\">stackoverflow.com/questions/271526/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3340288,"reputation":67,"user_id":2806715,"display_name":"rone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441167921,"creation_date":1441167400,"answer_id":32344558,"question_id":32344460,"body_markdown":"Why don&#39;t you use just a method? You can make it static if you want, so that you can access it by className. Or put your helper methods that you need in oneClass and extend it. \r\n\r\n    public String getFieldValue(Object o ){\r\n        if(o instanceof someEntity){\r\n            someEntity se = (someEntity) o\r\n            if(someEntity.getField() != null){\r\n                return someEntity.getField();\r\n            }else{\r\n                return &quot;&quot;; \r\n            }\r\n        }else if(o instanceof someOtherEntity){\r\n           ...\r\n        }\r\n    }","title":"How to handle null values in Java (eclipse IDE)","body":"<p>Why don't you use just a method? You can make it static if you want, so that you can access it by className. Or put your helper methods that you need in oneClass and extend it. </p>\n\n<pre><code>public String getFieldValue(Object o ){\n    if(o instanceof someEntity){\n        someEntity se = (someEntity) o\n        if(someEntity.getField() != null){\n            return someEntity.getField();\n        }else{\n            return \"\"; \n        }\n    }else if(o instanceof someOtherEntity){\n       ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441167840,"creation_date":1441167840,"answer_id":32344626,"question_id":32344460,"body_markdown":"You would need to build a custom annotation for this or any purpose of yours. You can create an Annotation for you with `@Target(ElementType.PARAMETER)` and sue reflection to map it as required. But this is so lengthy process which doesn&#39;t need much of your time. Instead just write a method and just call it.\r\n\r\nI can&#39;t think of an API readily available. As you pointed out, lombok doesn&#39;t do that for you.","title":"How to handle null values in Java (eclipse IDE)","body":"<p>You would need to build a custom annotation for this or any purpose of yours. You can create an Annotation for you with <code>@Target(ElementType.PARAMETER)</code> and sue reflection to map it as required. But this is so lengthy process which doesn't need much of your time. Instead just write a method and just call it.</p>\n\n<p>I can't think of an API readily available. As you pointed out, lombok doesn't do that for you.</p>\n"},{"tags":[],"owner":{"account_id":4339560,"reputation":1742,"user_id":3543182,"accept_rate":25,"display_name":"M. Shaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1441168318,"creation_date":1441168318,"answer_id":32344675,"question_id":32344460,"body_markdown":"Have a look at [`Optional`][1]. Using the sample provided, the following can throw a NPE if any of the methods called returns a null value:\r\n\r\n    String version = computer.getSoundcard().getUSB().getVersion();\r\n\r\nTo avoid that or excessive `if (x != null)` checks, using `Optional` you can use:\r\n\r\n    String name = computer.flatMap(Computer::getSoundcard)\r\n                              .flatMap(Soundcard::getUSB)\r\n                              .map(USB::getVersion)\r\n                              .orElse(&quot;UNKNOWN&quot;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"How to handle null values in Java (eclipse IDE)","body":"<p>Have a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow\"><code>Optional</code></a>. Using the sample provided, the following can throw a NPE if any of the methods called returns a null value:</p>\n\n<pre><code>String version = computer.getSoundcard().getUSB().getVersion();\n</code></pre>\n\n<p>To avoid that or excessive <code>if (x != null)</code> checks, using <code>Optional</code> you can use:</p>\n\n<pre><code>String name = computer.flatMap(Computer::getSoundcard)\n                          .flatMap(Soundcard::getUSB)\n                          .map(USB::getVersion)\n                          .orElse(\"UNKNOWN\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4437257,"reputation":129,"user_id":3612771,"accept_rate":75,"display_name":"D V Santhosh Kiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682187031,"creation_date":1682187031,"answer_id":76081214,"question_id":32344460,"body_markdown":"Updating answer with JDK17:\r\n\r\nI have a helper method like\r\n\r\n    public class NpeHelper {\r\n     public static &lt;T&gt; Optional&lt;T&gt; ofNullable(final Supplier&lt;T&gt; resolver) {\r\n            try {\r\n                final T result = resolver.get();\r\n                return Optional.ofNullable(result);\r\n            } catch (NullPointerException e) {\r\n                return Optional.empty();\r\n            }\r\n        }\r\n    }\r\n\r\nI can use this helper function as \r\n\r\n    model.addField_25(NpeHelper.ofNullable(()-&gt; entity.getField_37()).orElse(&lt;AnyObject&lt;));\r\n\r\nFor Nullable streams validation I&#39;m using \r\nApacheCommons&#39; [CollectionUtils.emptyIfNull()][1];\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#emptyIfNull-java.util.Collection-","title":"How to handle null values in Java (eclipse IDE)","body":"<p>Updating answer with JDK17:</p>\n<p>I have a helper method like</p>\n<pre><code>public class NpeHelper {\n public static &lt;T&gt; Optional&lt;T&gt; ofNullable(final Supplier&lt;T&gt; resolver) {\n        try {\n            final T result = resolver.get();\n            return Optional.ofNullable(result);\n        } catch (NullPointerException e) {\n            return Optional.empty();\n        }\n    }\n}\n</code></pre>\n<p>I can use this helper function as</p>\n<pre><code>model.addField_25(NpeHelper.ofNullable(()-&gt; entity.getField_37()).orElse(&lt;AnyObject&lt;));\n</code></pre>\n<p>For Nullable streams validation I'm using\nApacheCommons' <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#emptyIfNull-java.util.Collection-\" rel=\"nofollow noreferrer\">CollectionUtils.emptyIfNull()</a>;</p>\n"}],"owner":{"account_id":4437257,"reputation":129,"user_id":3612771,"accept_rate":75,"display_name":"D V Santhosh Kiran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32344675,"answer_count":4,"score":0,"last_activity_date":1682187031,"creation_date":1441166580,"question_id":32344460,"body_markdown":"I&#39;m working on an API (Eclipse IDE - Kepler), JDK 1.7)\r\nI need a shortcut like \r\n*@IfNotNullUpdate* \r\n\r\nconsider the following e.g. \r\n\r\n    Model model = new Model();\r\n    String field1 = entity.getField1() != null ? entity.getField1() : &quot;&quot;;\r\n    model.setField1(field1);\r\n\r\nso that I can simply write it like\r\n\r\n    model.setField1( @IfNotNullUpdate entity.getField1(),&quot;&quot;);\r\n\r\nI don&#39;t want to have any NullPointerExceptions. It will be a great help If it can work like builder pattern. for e.g.\r\n\r\n    model.addField_25(@IfNotNullUpdate entity.getField_37())\r\n         .addField_16(@IfNotNullUpdate entity.getField_69());\r\n\r\nI tried @NonNull of [lombok](https://projectlombok.org/features/NonNull.html). It just ensures that param is not null which is not my requirement. \r\n\r\nAnd of-course assert() can&#39;t be a solution. Hope I&#39;m able to explain my requirement well.\r\n\r\nThanks in advance.","title":"How to handle null values in Java (eclipse IDE)","body":"<p>I'm working on an API (Eclipse IDE - Kepler), JDK 1.7)\nI need a shortcut like \n<em>@IfNotNullUpdate</em> </p>\n\n<p>consider the following e.g. </p>\n\n<pre><code>Model model = new Model();\nString field1 = entity.getField1() != null ? entity.getField1() : \"\";\nmodel.setField1(field1);\n</code></pre>\n\n<p>so that I can simply write it like</p>\n\n<pre><code>model.setField1( @IfNotNullUpdate entity.getField1(),\"\");\n</code></pre>\n\n<p>I don't want to have any NullPointerExceptions. It will be a great help If it can work like builder pattern. for e.g.</p>\n\n<pre><code>model.addField_25(@IfNotNullUpdate entity.getField_37())\n     .addField_16(@IfNotNullUpdate entity.getField_69());\n</code></pre>\n\n<p>I tried @NonNull of <a href=\"https://projectlombok.org/features/NonNull.html\" rel=\"nofollow\">lombok</a>. It just ensures that param is not null which is not my requirement. </p>\n\n<p>And of-course assert() can't be a solution. Hope I'm able to explain my requirement well.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-security","filter"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1558465443,"post_id":56244830,"comment_id":99108152,"body_markdown":"Maybe try a [OncePerRequestFilter](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/OncePerRequestFilter.html)?","body":"Maybe try a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/OncePerRequestFilter.html\" rel=\"nofollow noreferrer\">OncePerRequestFilter</a>?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1558466331,"post_id":56244830,"comment_id":99108594,"body_markdown":"Your question is unclear. The way it&#39;s phrased makes it sound like you want the *order* of the filters to be URL-dependent, but it seems more like you want the filters *themselves* to to be URL-dependent. Please edit and clarify.","body":"Your question is unclear. The way it&#39;s phrased makes it sound like you want the <i>order</i> of the filters to be URL-dependent, but it seems more like you want the filters <i>themselves</i> to to be URL-dependent. Please edit and clarify."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1558511286,"post_id":56244830,"comment_id":99120980,"body_markdown":"You question is not clear. 1. *I want to apply this order only to request that starts with (/api)* Do you want to change the order for other URLs or do you want to remove the filters for other URLs at all? 2. *but I didnt like to add my filters after the ChannelProcessingFilter* You could also add them before, if that is your question. 3. *this makes requests to be processed two times* The order has nothing to do that your filters are executed twice.","body":"You question is not clear. 1. <i>I want to apply this order only to request that starts with (/api)</i> Do you want to change the order for other URLs or do you want to remove the filters for other URLs at all? 2. <i>but I didnt like to add my filters after the ChannelProcessingFilter</i> You could also add them before, if that is your question. 3. <i>this makes requests to be processed two times</i> The order has nothing to do that your filters are executed twice."}],"answers":[{"tags":[],"owner":{"account_id":998888,"reputation":66,"user_id":1014170,"display_name":"majid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558466409,"creation_date":1558466409,"answer_id":56245103,"question_id":56244830,"body_markdown":"Read [this][1] issue detail which is exactly what you are asking. It readout \r\n\r\n&gt; Spring Security doesn&#39;t set an order on the Filter bean that it\r\n&gt; creates. This means that, when Boot is creating a\r\n&gt; FilterRegistrationBean for it, it gets the default order which is\r\n&gt; LOWEST_PRECEDENCE.\r\n&gt; \r\n&gt; If you want your own Filter to go after Spring Security&#39;s you can\r\n&gt; create your own registration for Spring Security&#39;s filter and specify\r\n&gt; the order.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/1640","title":"Spring Security Filter order per url","body":"<p>Read <a href=\"https://github.com/spring-projects/spring-boot/issues/1640\" rel=\"nofollow noreferrer\">this</a> issue detail which is exactly what you are asking. It readout </p>\n\n<blockquote>\n  <p>Spring Security doesn't set an order on the Filter bean that it\n  creates. This means that, when Boot is creating a\n  FilterRegistrationBean for it, it gets the default order which is\n  LOWEST_PRECEDENCE.</p>\n  \n  <p>If you want your own Filter to go after Spring Security's you can\n  create your own registration for Spring Security's filter and specify\n  the order.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682186952,"creation_date":1682186952,"answer_id":76081204,"question_id":56244830,"body_markdown":"You must override this method in your filter:\r\n```kotlin\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) {\r\n        RequestMatcher uriMatcher = new AntPathRequestMatcher(&quot;/api/some/url&quot;, HttpMethod.GET.name());\r\n        RequestMatcher matcher = new NegatedRequestMatcher(uriMatcher);\r\n        return matcher.matches(request);\r\n    }\r\n```","title":"Spring Security Filter order per url","body":"<p>You must override this method in your filter:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) {\n        RequestMatcher uriMatcher = new AntPathRequestMatcher(&quot;/api/some/url&quot;, HttpMethod.GET.name());\n        RequestMatcher matcher = new NegatedRequestMatcher(uriMatcher);\n        return matcher.matches(request);\n    }\n</code></pre>\n"}],"owner":{"account_id":2625552,"reputation":6783,"user_id":2272636,"accept_rate":67,"display_name":"Mohamed Taboubi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682186952,"creation_date":1558465162,"question_id":56244830,"body_markdown":"I have two filters that process my httpRequest and adds headers and data.\r\n\r\nI want to apply my filters in a certain order of execution. So I ve tried : \r\n\r\n\r\n    @Component\r\n    @Order(1)\r\n    public class FirstFilter implements Filter { //**** }\r\n    \r\n    @Component\r\n    @Order(2)\r\n    public class SecondFilter implements Filter { //**** }\r\n\r\n\r\nand This works fine. However I want to apply this order only to request that starts with (/api) and not to all request.. so the @Order annotation is not doing what I want to..\r\n\r\n\r\nI&#39;ve tried : \r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n    http\r\n\r\n            .antMatcher(&quot;/api/**&quot;)\r\n            .addFilterAfter(new FirstFilter (), ChannelProcessingFilter.class)\r\n            .addFilterAfter(new SecondtFilter (), FirstFilter .class)\r\n\r\n\r\nand this works too, but I didnt like to add my filters after the ChannelProcessingFilter .. this makes requests to be processed two times by my filters! and not only one time! \r\n\r\nAny idea ?\r\n\r\n\r\n","title":"Spring Security Filter order per url","body":"<p>I have two filters that process my httpRequest and adds headers and data.</p>\n\n<p>I want to apply my filters in a certain order of execution. So I ve tried : </p>\n\n<pre><code>@Component\n@Order(1)\npublic class FirstFilter implements Filter { //**** }\n\n@Component\n@Order(2)\npublic class SecondFilter implements Filter { //**** }\n</code></pre>\n\n<p>and This works fine. However I want to apply this order only to request that starts with (/api) and not to all request.. so the @Order annotation is not doing what I want to..</p>\n\n<p>I've tried : </p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\nhttp\n\n        .antMatcher(\"/api/**\")\n        .addFilterAfter(new FirstFilter (), ChannelProcessingFilter.class)\n        .addFilterAfter(new SecondtFilter (), FirstFilter .class)\n</code></pre>\n\n<p>and this works too, but I didnt like to add my filters after the ChannelProcessingFilter .. this makes requests to be processed two times by my filters! and not only one time! </p>\n\n<p>Any idea ?</p>\n"},{"tags":["java","weblogic","primavera"],"comments":[{"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"score":0,"creation_date":1382951259,"post_id":16038279,"comment_id":29144298,"body_markdown":"This error is from the client and is not necessarily related to the deployment you just made, plus your error message doesn&#39;t actually show any errors. Check the client version to make sure it is correct, plus remove any duplicated JVMs on the client.","body":"This error is from the client and is not necessarily related to the deployment you just made, plus your error message doesn&#39;t actually show any errors. Check the client version to make sure it is correct, plus remove any duplicated JVMs on the client."}],"answers":[{"tags":[],"owner":{"account_id":1316478,"reputation":95,"user_id":1263199,"accept_rate":75,"display_name":"gwrichard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1383688333,"creation_date":1383688333,"answer_id":19799773,"question_id":16038279,"body_markdown":"The problem ended up being the Java SE client installed on the client side machines. Versions of Java newer than 6_u32 don&#39;t seem to play well with P6 8.1. By uninstalling the Java client and accessing P6 web I was prompted to installed an ealier version of Java. \r\n\r\nOnce the earlier Java verion was installed full functionality to P6 web was available.","title":"Null Pointer Exception in Primavera P6 8.1","body":"<p>The problem ended up being the Java SE client installed on the client side machines. Versions of Java newer than 6_u32 don't seem to play well with P6 8.1. By uninstalling the Java client and accessing P6 web I was prompted to installed an ealier version of Java. </p>\n\n<p>Once the earlier Java verion was installed full functionality to P6 web was available.</p>\n"}],"owner":{"account_id":1316478,"reputation":95,"user_id":1263199,"accept_rate":75,"display_name":"gwrichard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19799773,"answer_count":1,"score":0,"last_activity_date":1682186699,"creation_date":1366118559,"question_id":16038279,"body_markdown":"I am getting a null pointer exception in a Primavera P6 8.1 installation. The exception only occurs in one section of the web-client: Application settings.P6 web and the P6 API are deployed on the same WebLogic (10.3.5) node running on a Windows Server 2008 R2 installation. I have done this installation using this same software stack a dozen times and don&#39;t have this issue on any of the other installs.\r\n\r\nExact error below:\r\n\r\n\t\r\n\r\n    Match: beginTraversal\r\n    Match: digest selected JREDesc: JREDesc[version 1.6.0_20+, heap=-1--1, args=null, href=http://java.sun.com/products/autodl/j2se, sel=false, null, null], JREInfo: JREInfo for index 0:\r\n        platform is: 1.7\r\n        product is: 1.7.0_17\r\n        location is: http://java.sun.com/products/autodl/j2se\r\n        path is: C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\r\n        args is: null\r\n        native platform is: Windows, x86 [ x86, 32bit ]\r\n        JavaFX runtime is: JavaFX 2.2.7 found at C:\\Program Files (x86)\\Java\\jre7\\\r\n        enabled is: true\r\n        registered is: true\r\n        system is: true\r\n    \r\n    \tMatch: ignoring maxHeap: -1\r\n    \tMatch: ignoring InitHeap: -1\r\n    \tMatch: digesting vmargs: null\r\n    \tMatch: digested vmargs: [JVMParameters: isSecure: true, args: ]\r\n    \tMatch: JVM args after accumulation: [JVMParameters: isSecure: true, args: ]\r\n    \tMatch: digest LaunchDesc: http://localhost:7001/p6/action/jnlp/appletsjnlp.jnlp?mainClass=com.primavera.pvapplets.adminpreferences.AdminPreferencesApplet&amp;classPath=adminpreferences.jar,prm-applets-common.jar,forms-1.0.7.jar,prm-guisupport.jar,prm-to.jar,jide.jar,tablesupport.jar,formsupport.jar,applets-bo.jar,commons-lang.jar,prm-common.jar,resource_strings.jar,prm-img.jar,commons-logging.jar&amp;name=AdminPreferences&amp;version=8.1.2.0.0602\r\n    \tMatch: digest properties: []\r\n    \tMatch: JVM args: [JVMParameters: isSecure: true, args: ]\r\n    \tMatch: endTraversal ..\r\n    \tMatch: JVM args final: \r\n    \tMatch: Running JREInfo Version    match: 1.7.0.17 == 1.7.0.17\r\n    \t Match: Running JVM args match: have:&lt;&gt;  satisfy want:&lt;&gt;\r\n    Java Plug-in 10.17.2.02\r\n    Using JRE version 1.7.0_17-b02 Java HotSpot(TM) Client VM\r\n    User home directory = C:\\Users\\gwrichard\r\n    ----------------------------------------------------\r\n    c:   clear console window\r\n    f:   finalize objects on finalization queue\r\n    g:   garbage collect\r\n    h:   display this help message\r\n    l:   dump classloader list\r\n    m:   print memory usage\r\n    o:   trigger logging\r\n    q:   hide console\r\n    r:   reload policy configuration\r\n    s:   dump system and deployment properties\r\n    t:   dump thread list\r\n    v:   dump thread stack\r\n    x:   clear classloader cache\r\n    0-5: set trace level to &lt;n&gt;\r\n    ----------------------------------------------------\r\n\r\n","title":"Null Pointer Exception in Primavera P6 8.1","body":"<p>I am getting a null pointer exception in a Primavera P6 8.1 installation. The exception only occurs in one section of the web-client: Application settings.P6 web and the P6 API are deployed on the same WebLogic (10.3.5) node running on a Windows Server 2008 R2 installation. I have done this installation using this same software stack a dozen times and don't have this issue on any of the other installs.</p>\n\n<p>Exact error below:</p>\n\n<pre><code>Match: beginTraversal\nMatch: digest selected JREDesc: JREDesc[version 1.6.0_20+, heap=-1--1, args=null, href=http://java.sun.com/products/autodl/j2se, sel=false, null, null], JREInfo: JREInfo for index 0:\n    platform is: 1.7\n    product is: 1.7.0_17\n    location is: http://java.sun.com/products/autodl/j2se\n    path is: C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\n    args is: null\n    native platform is: Windows, x86 [ x86, 32bit ]\n    JavaFX runtime is: JavaFX 2.2.7 found at C:\\Program Files (x86)\\Java\\jre7\\\n    enabled is: true\n    registered is: true\n    system is: true\n\n    Match: ignoring maxHeap: -1\n    Match: ignoring InitHeap: -1\n    Match: digesting vmargs: null\n    Match: digested vmargs: [JVMParameters: isSecure: true, args: ]\n    Match: JVM args after accumulation: [JVMParameters: isSecure: true, args: ]\n    Match: digest LaunchDesc: http://localhost:7001/p6/action/jnlp/appletsjnlp.jnlp?mainClass=com.primavera.pvapplets.adminpreferences.AdminPreferencesApplet&amp;classPath=adminpreferences.jar,prm-applets-common.jar,forms-1.0.7.jar,prm-guisupport.jar,prm-to.jar,jide.jar,tablesupport.jar,formsupport.jar,applets-bo.jar,commons-lang.jar,prm-common.jar,resource_strings.jar,prm-img.jar,commons-logging.jar&amp;name=AdminPreferences&amp;version=8.1.2.0.0602\n    Match: digest properties: []\n    Match: JVM args: [JVMParameters: isSecure: true, args: ]\n    Match: endTraversal ..\n    Match: JVM args final: \n    Match: Running JREInfo Version    match: 1.7.0.17 == 1.7.0.17\n     Match: Running JVM args match: have:&lt;&gt;  satisfy want:&lt;&gt;\nJava Plug-in 10.17.2.02\nUsing JRE version 1.7.0_17-b02 Java HotSpot(TM) Client VM\nUser home directory = C:\\Users\\gwrichard\n----------------------------------------------------\nc:   clear console window\nf:   finalize objects on finalization queue\ng:   garbage collect\nh:   display this help message\nl:   dump classloader list\nm:   print memory usage\no:   trigger logging\nq:   hide console\nr:   reload policy configuration\ns:   dump system and deployment properties\nt:   dump thread list\nv:   dump thread stack\nx:   clear classloader cache\n0-5: set trace level to &lt;n&gt;\n----------------------------------------------------\n</code></pre>\n"},{"tags":["java","list","jsp","ejb","requestdispatcher"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1682273830,"post_id":76077373,"comment_id":134185626,"body_markdown":"EJB and web development in general is very broad question. What kind of help do you need?","body":"EJB and web development in general is very broad question. What kind of help do you need?"}],"answers":[{"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682186496,"creation_date":1682185412,"answer_id":76081073,"question_id":76077373,"body_markdown":"Your problem is that you put list into the request:\r\n\r\n```\r\n request.setAttribute(&quot;productTypeList&quot;, productTypes);\r\n```\r\n\r\nbut read it from the session, which is not existing so returns `null`:\r\n```\r\nList&lt;ProductType&gt; productList = (List&lt;ProductType&gt;)session.getAttribute(&quot;productTypeList&quot;);\r\n```\r\n\r\nRequest attributes are correctly passed when you use `dispatcher.forward`.  \r\nSo your JSTL code should look like this (remove the whole line that sets the `productList` variable as it is the line that nullifies the variable.):\r\n```\r\n    &lt;c:forEach items=&quot;${productTypeList}&quot; var = &quot;product&quot;&gt;\r\n        &lt;p&gt;&lt;c:out value=&quot;${product.getProductName()}&quot;/&gt;&lt;/p&gt;\r\n    &lt;/c:forEach&gt;\r\n```\r\n\r\nThe `${productTypeList}` expression will scan any scope for given attribute, but if you want to fix it to the request scope and only look in there you can use this form `${requestScope.productTypeList}`\r\n\r\nMake sure that you use same name as you have once `productTypeList` and then `productList`.  \r\n\r\n\r\nAlso remove the line:\r\n```\r\n response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n```\r\nas if you use the `dispatcher.forward` you shouldn&#39;t write to the response, before you forward.\r\n\r\n\r\nOne additional comment is that it looks like you have way too many layers for such simple app.\r\nYou should just inject `@EJB` which should be your DAO and Facade in your servlet code and in EJB use `EntityManager`. There is no point to have Facade if you just have one DAO. It is only useful when you want to hide your DB complexity from the servlet layer.  \r\nAlso dont create interfaces if you just have single implementation, waist of time and makes code harder to maintain. When you will have need for many implementations you can always refactor your code.\r\n","title":"Passing a List from servlet to a JSP file","body":"<p>Your problem is that you put list into the request:</p>\n<pre><code> request.setAttribute(&quot;productTypeList&quot;, productTypes);\n</code></pre>\n<p>but read it from the session, which is not existing so returns <code>null</code>:</p>\n<pre><code>List&lt;ProductType&gt; productList = (List&lt;ProductType&gt;)session.getAttribute(&quot;productTypeList&quot;);\n</code></pre>\n<p>Request attributes are correctly passed when you use <code>dispatcher.forward</code>.<br />\nSo your JSTL code should look like this (remove the whole line that sets the <code>productList</code> variable as it is the line that nullifies the variable.):</p>\n<pre><code>    &lt;c:forEach items=&quot;${productTypeList}&quot; var = &quot;product&quot;&gt;\n        &lt;p&gt;&lt;c:out value=&quot;${product.getProductName()}&quot;/&gt;&lt;/p&gt;\n    &lt;/c:forEach&gt;\n</code></pre>\n<p>The <code>${productTypeList}</code> expression will scan any scope for given attribute, but if you want to fix it to the request scope and only look in there you can use this form <code>${requestScope.productTypeList}</code></p>\n<p>Make sure that you use same name as you have once <code>productTypeList</code> and then <code>productList</code>.</p>\n<p>Also remove the line:</p>\n<pre><code> response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n</code></pre>\n<p>as if you use the <code>dispatcher.forward</code> you shouldn't write to the response, before you forward.</p>\n<p>One additional comment is that it looks like you have way too many layers for such simple app.\nYou should just inject <code>@EJB</code> which should be your DAO and Facade in your servlet code and in EJB use <code>EntityManager</code>. There is no point to have Facade if you just have one DAO. It is only useful when you want to hide your DB complexity from the servlet layer.<br />\nAlso dont create interfaces if you just have single implementation, waist of time and makes code harder to maintain. When you will have need for many implementations you can always refactor your code.</p>\n"}],"owner":{"account_id":28375705,"reputation":1,"user_id":21703794,"display_name":"jacob040"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682186496,"creation_date":1682120798,"question_id":76077373,"body_markdown":"I have an assignment where I&#39;m supposed to make a simple website using EJB, JPA, JSP and some other stuff such as CSS and javascript.\r\n\r\nI&#39;m trying to send a list containing all the products that are stored in my database. I first create and populate a list with the ProductType objects in my servlet which is then passed to my JSP through the RequestDispatcher. In my JSP I use JSTL to iterate through the list and print the names of the products.\r\n\r\n\r\nNothing gets printed however. And I know through earlier testing with the JSTL choose statement that the list is null.\r\nI also tried populating a list in the servlet and then &quot;printing&quot; the product names on my servlet. When I ran the servlet on my server the product names were shown. That tells me that it&#39;s not a problem with my database or the way I&#39;m retrieving my ProductType objects/tuples but rather that something is wrong when I pass the list from my servlet to my JSP.\r\n\r\n\r\nHere is my relevant servlet code:\r\n\r\n```\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t\tList&lt;ProductType&gt; productTypes = facade.getAllProducts();\r\n\t\t\r\n\t    // Set the list of product names as a request attribute\r\n\t    request.setAttribute(&quot;productTypeList&quot;, productTypes);\r\n\r\n\t    // Forward the request to the homePage.jsp page\r\n\t    RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;homePage.jsp&quot;);\r\n\t    dispatcher.forward(request, response);\r\n\t    \r\n\t}\r\n```\r\n\r\n\r\nAnd here is my relevant code from my homePage.jsp file\r\n\r\n```\r\n\t&lt;p&gt;\r\n\t\tOur products\t\r\n\t&lt;/p&gt;\r\n\r\n\t&lt;%\r\n\t List&lt;ProductType&gt; productList = (List&lt;ProductType&gt;)session.getAttribute(&quot;productTypeList&quot;);\r\n\t request.setAttribute(&quot;productList&quot;, productList);\r\n\t%&gt;\r\n\t&lt;c:forEach items=&quot;${productTypeList}&quot; var = &quot;product&quot;&gt;\r\n\t\t&lt;p&gt;&lt;c:out value=&quot;${product.getProductName()}&quot;/&gt;&lt;/p&gt;\r\n\t&lt;/c:forEach&gt;\r\n```\r\n\r\nFigured that I might aswell post the code for retrieving the ProductType objects too\r\n\r\n\r\nFacade\r\n\r\n```\r\n    @EJB\r\n    ProductTypeEAOLocal productTypeEAO;\r\n\r\n    public List&lt;ProductType&gt; getAllProducts() {\r\n    \treturn productTypeEAO.getAllProductTypes();\r\n    }\r\n```\r\n\r\n\r\nProductTypeEAOImpl\r\n```\r\n    public List&lt;ProductType&gt; getAllProductTypes() {\r\n        return em.createQuery(&quot;SELECT p FROM ProductType p&quot;, ProductType.class).getResultList();\r\n    }\r\n```\r\n\r\nI&#39;m not really sure what I&#39;m doing wrong, I&#39;m quite new to EJB and web-developement in general.\r\nFrom looking around online this seems like it&#39;s the way to go about it and I&#39;m kind of at my wits end to be honest. Would very much appreciate some help.\r\n\r\n","title":"Passing a List from servlet to a JSP file","body":"<p>I have an assignment where I'm supposed to make a simple website using EJB, JPA, JSP and some other stuff such as CSS and javascript.</p>\n<p>I'm trying to send a list containing all the products that are stored in my database. I first create and populate a list with the ProductType objects in my servlet which is then passed to my JSP through the RequestDispatcher. In my JSP I use JSTL to iterate through the list and print the names of the products.</p>\n<p>Nothing gets printed however. And I know through earlier testing with the JSTL choose statement that the list is null.\nI also tried populating a list in the servlet and then &quot;printing&quot; the product names on my servlet. When I ran the servlet on my server the product names were shown. That tells me that it's not a problem with my database or the way I'm retrieving my ProductType objects/tuples but rather that something is wrong when I pass the list from my servlet to my JSP.</p>\n<p>Here is my relevant servlet code:</p>\n<pre><code>    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n        List&lt;ProductType&gt; productTypes = facade.getAllProducts();\n        \n        // Set the list of product names as a request attribute\n        request.setAttribute(&quot;productTypeList&quot;, productTypes);\n\n        // Forward the request to the homePage.jsp page\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;homePage.jsp&quot;);\n        dispatcher.forward(request, response);\n        \n    }\n</code></pre>\n<p>And here is my relevant code from my homePage.jsp file</p>\n<pre><code>    &lt;p&gt;\n        Our products    \n    &lt;/p&gt;\n\n    &lt;%\n     List&lt;ProductType&gt; productList = (List&lt;ProductType&gt;)session.getAttribute(&quot;productTypeList&quot;);\n     request.setAttribute(&quot;productList&quot;, productList);\n    %&gt;\n    &lt;c:forEach items=&quot;${productTypeList}&quot; var = &quot;product&quot;&gt;\n        &lt;p&gt;&lt;c:out value=&quot;${product.getProductName()}&quot;/&gt;&lt;/p&gt;\n    &lt;/c:forEach&gt;\n</code></pre>\n<p>Figured that I might aswell post the code for retrieving the ProductType objects too</p>\n<p>Facade</p>\n<pre><code>    @EJB\n    ProductTypeEAOLocal productTypeEAO;\n\n    public List&lt;ProductType&gt; getAllProducts() {\n        return productTypeEAO.getAllProductTypes();\n    }\n</code></pre>\n<p>ProductTypeEAOImpl</p>\n<pre><code>    public List&lt;ProductType&gt; getAllProductTypes() {\n        return em.createQuery(&quot;SELECT p FROM ProductType p&quot;, ProductType.class).getResultList();\n    }\n</code></pre>\n<p>I'm not really sure what I'm doing wrong, I'm quite new to EJB and web-developement in general.\nFrom looking around online this seems like it's the way to go about it and I'm kind of at my wits end to be honest. Would very much appreciate some help.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"score":0,"creation_date":1620876779,"post_id":67513526,"comment_id":119332479,"body_markdown":"Storage Access Framework should still work: https://stackoverflow.com/questions/36546606/how-to-create-new-folder-in-sd-card-by-using-storage-access-framework","body":"Storage Access Framework should still work: <a href=\"https://stackoverflow.com/questions/36546606/how-to-create-new-folder-in-sd-card-by-using-storage-access-framework\" title=\"how to create new folder in sd card by using storage access framework\">stackoverflow.com/questions/36546606/&hellip;</a>"},{"owner":{"account_id":14181413,"reputation":45,"user_id":10244866,"display_name":"YoussefHammad"},"score":0,"creation_date":1620877171,"post_id":67513526,"comment_id":119332529,"body_markdown":"@ashu It states in the answer that the user &quot;chooses &quot; where the app&#39;s directory is created, isn&#39;t there a way that would automatically create the directory when the user starts the app for the first time?","body":"@ashu It states in the answer that the user &quot;chooses &quot; where the app&#39;s directory is created, isn&#39;t there a way that would automatically create the directory when the user starts the app for the first time?"},{"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"score":1,"creation_date":1620878232,"post_id":67513526,"comment_id":119332684,"body_markdown":"I think that&#39;s the point of removing direct storage access in recent versions. Google wants Android users to know when an app writes their storage","body":"I think that&#39;s the point of removing direct storage access in recent versions. Google wants Android users to know when an app writes their storage"},{"owner":{"account_id":14181413,"reputation":45,"user_id":10244866,"display_name":"YoussefHammad"},"score":0,"creation_date":1620878914,"post_id":67513526,"comment_id":119332818,"body_markdown":"@ashu But in the case of WhatsApp, Telegram and a few others (MyBoy, MatsuPlayer, CamScanner, Dcoder, those are the ones I have) There&#39;s a directory created for them already without me choosing where exactly that directory should exist. The only possible exmplanation for that is that these directories were created before that update, but I remember I downloaded one of them recently","body":"@ashu But in the case of WhatsApp, Telegram and a few others (MyBoy, MatsuPlayer, CamScanner, Dcoder, those are the ones I have) There&#39;s a directory created for them already without me choosing where exactly that directory should exist. The only possible exmplanation for that is that these directories were created before that update, but I remember I downloaded one of them recently"},{"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"score":1,"creation_date":1620879099,"post_id":67513526,"comment_id":119332845,"body_markdown":"We don&#39;t know if those apps are targeting Android 11 yet. Once they do, they shouldn&#39;t be able to have regular access to the external file system on Android 11 and higher.","body":"We don&#39;t know if those apps are targeting Android 11 yet. Once they do, they shouldn&#39;t be able to have regular access to the external file system on Android 11 and higher."},{"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"score":1,"creation_date":1620901074,"post_id":67513526,"comment_id":119339174,"body_markdown":"Looks like everyone **will be** forced to migrate from legacy to newer storage model on targetting Android 11. https://developer.android.com/about/versions/11/privacy/storage","body":"Looks like everyone <b>will be</b> forced to migrate from legacy to newer storage model on targetting Android 11. <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/11/privacy/storage</a>"}],"owner":{"account_id":14181413,"reputation":45,"user_id":10244866,"display_name":"YoussefHammad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682186056,"creation_date":1620876544,"question_id":67513526,"body_markdown":"I&#39;ve been searching for a good 7hrs now as to how to create a directory in Internal Storage upon the starting of the app for the first time (similar to what WhatsApp and many other apps do)\r\n\r\nI came to the conclusion that this code doesn&#39;t work anymore since it&#39;s deprecated, and starting from Android 11 it just doesn&#39;t work\r\n\r\n    File file = new File(Environment.getExternalStorageDirectory(),&quot;AppName&quot;);\r\n    file.mkdirs();\r\n\r\nI&#39;ve seen in a YouTube comment that it&#39;s simply not possible to do what I&#39;m aiming for starting from Android 11, and that the most I can do is create the directory in Internal Storage/Android/data/data/com.example.myapp but how is it not possible? I&#39;ve seen many apps having that feature\r\n","title":"Creating a Directory in Internal Storage after Android 11","body":"<p>I've been searching for a good 7hrs now as to how to create a directory in Internal Storage upon the starting of the app for the first time (similar to what WhatsApp and many other apps do)</p>\n<p>I came to the conclusion that this code doesn't work anymore since it's deprecated, and starting from Android 11 it just doesn't work</p>\n<pre><code>File file = new File(Environment.getExternalStorageDirectory(),&quot;AppName&quot;);\nfile.mkdirs();\n</code></pre>\n<p>I've seen in a YouTube comment that it's simply not possible to do what I'm aiming for starting from Android 11, and that the most I can do is create the directory in Internal Storage/Android/data/data/com.example.myapp but how is it not possible? I've seen many apps having that feature</p>\n"},{"tags":["java","3d"],"owner":{"account_id":26929635,"reputation":91,"user_id":20502329,"display_name":"JoeSwansonJunior999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682185845,"creation_date":1682185518,"question_id":76081079,"body_markdown":"I wanted to try drawing 3D Objects like a cube etc. and i got it working farely well. The problem is, that the cubes right side and left side are different in size and looks, even though, they should look the same. The second problem is, that the cube keeps glitching out, when i draw behind the *camera*. \r\nThe code:\r\n```\r\nimport javax.swing.JFrame;\r\npublic class GameFrame extends JFrame{\r\n  public GameFrame(){\r\n    this.add(new GamePanel());\r\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    this.setVisible(true);\r\n    this.setResizable(false);\r\n    this.pack();\r\n    this.setLocationRelativeTo(null);\r\n    }\r\n  public static void main(String[] args) {\r\n  new GameFrame();  \r\n  } // end of main\r\n} // end of class GameFrame\r\n\r\n\r\n\r\npublic class DimensionPoint {\r\n  int x,y,z = 0;\r\n  public DimensionPoint(int x, int y, int z){\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n    }\r\n  public int getXprojected(int length){\r\n    return length == -z ? x*length/(length+z+1) : x*length/(length+z);       //Temporary, because you can&#39;t divide by zero\r\n    }\r\n  public int getYprojected(int length){\r\n    return length == -z ? x*length/(length+z+1): y*length/(length+z);\r\n    }\r\n  public int getZ(){\r\n    return z;\r\n    }\r\n} // end of class Point\r\n\r\n\r\n\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\npublic class GamePanel extends JPanel implements ActionListener{\r\n  static final int width = 800;\r\n  static final int height = 800;                                                                                                                     \r\n  DimensionPoint[] cube = new DimensionPoint[8];\r\n  int pos = 75;\r\n  public GamePanel(){\r\n    this.setPreferredSize(new Dimension(width,height));\r\n    this.setBackground(Color.gray);\r\n    this.setFocusable(true);\r\n    setCube(100,400,10,200,cube);\r\n    }\r\n  \r\n  public void paintComponent(Graphics g){\r\n    super.paintComponent(g);\r\n    draw(g);\r\n    }\r\n  public void draw(Graphics g){\r\n      g.setColor(Color.black);\r\n      if (cube[5].getZ() &gt; -pos+9) { // This is also only temporary. When you change the size of the cube, it sometimes still glitches out, or dissapears before leaving the screen\r\n        drawCube(g,cube);\r\n        }\r\n    }\r\n  public void setCube(int anfangX, int anfangY, int anfangZ,int size, DimensionPoint[] p){\r\n    p[0] = new DimensionPoint(anfangX,anfangY-size,anfangZ);\r\n    p[1] = new DimensionPoint(anfangX,anfangY,anfangZ);\r\n    p[2] = new DimensionPoint(anfangX+size,anfangY-size,anfangZ);                                \r\n    p[3] = new DimensionPoint(anfangX+size,anfangY,anfangZ);                                   \r\n    p[4] = new DimensionPoint(anfangX,anfangY-size,anfangZ+size/10);\r\n    p[5] = new DimensionPoint(anfangX,anfangY,anfangZ+size/10);\r\n    p[6] = new DimensionPoint(anfangX+size,anfangY-size,anfangZ+size/10);\r\n    p[7] = new DimensionPoint(anfangX+size,anfangY,anfangZ+size/10);\r\n    }\r\n  public void drawCube(Graphics g,DimensionPoint[] p){\r\n      g.drawLine(p[0].getXprojected(pos),p[0].getYprojected(pos),p[1].getXprojected(pos),p[1].getYprojected(pos));\r\n      g.drawLine(p[0].getXprojected(pos),p[0].getYprojected(pos),p[2].getXprojected(pos),p[2].getYprojected(pos));\r\n      g.drawLine(p[0].getXprojected(pos),p[0].getYprojected(pos),p[4].getXprojected(pos),p[4].getYprojected(pos));\r\n      g.drawLine(p[1].getXprojected(pos),p[1].getYprojected(pos),p[3].getXprojected(pos),p[3].getYprojected(pos));\r\n      g.drawLine(p[1].getXprojected(pos),p[1].getYprojected(pos),p[5].getXprojected(pos),p[5].getYprojected(pos));\r\n      g.drawLine(p[2].getXprojected(pos),p[2].getYprojected(pos),p[6].getXprojected(pos),p[6].getYprojected(pos));\r\n      g.drawLine(p[2].getXprojected(pos),p[2].getYprojected(pos),p[3].getXprojected(pos),p[3].getYprojected(pos));\r\n      g.drawLine(p[3].getXprojected(pos),p[3].getYprojected(pos),p[7].getXprojected(pos),p[7].getYprojected(pos));\r\n      g.drawLine(p[4].getXprojected(pos),p[4].getYprojected(pos),p[5].getXprojected(pos),p[5].getYprojected(pos));\r\n      g.drawLine(p[4].getXprojected(pos),p[4].getYprojected(pos),p[6].getXprojected(pos),p[6].getYprojected(pos));\r\n      g.drawLine(p[7].getXprojected(pos),p[7].getYprojected(pos),p[6].getXprojected(pos),p[6].getYprojected(pos));\r\n      g.drawLine(p[7].getXprojected(pos),p[7].getYprojected(pos),p[5].getXprojected(pos),p[5].getYprojected(pos));\r\n    }\r\n  @Override\r\n  public void actionPerformed(ActionEvent e){ }\r\n} // end of class GamePanel\r\n```\r\n\r\nI tried minimizing the code as far as possible, and i hope the mistake can be found. Thank you for the advice.","title":"How can i make my simple 3D objects look mathematically correct?","body":"<p>I wanted to try drawing 3D Objects like a cube etc. and i got it working farely well. The problem is, that the cubes right side and left side are different in size and looks, even though, they should look the same. The second problem is, that the cube keeps glitching out, when i draw behind the <em>camera</em>.\nThe code:</p>\n<pre><code>import javax.swing.JFrame;\npublic class GameFrame extends JFrame{\n  public GameFrame(){\n    this.add(new GamePanel());\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setVisible(true);\n    this.setResizable(false);\n    this.pack();\n    this.setLocationRelativeTo(null);\n    }\n  public static void main(String[] args) {\n  new GameFrame();  \n  } // end of main\n} // end of class GameFrame\n\n\n\npublic class DimensionPoint {\n  int x,y,z = 0;\n  public DimensionPoint(int x, int y, int z){\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    }\n  public int getXprojected(int length){\n    return length == -z ? x*length/(length+z+1) : x*length/(length+z);       //Temporary, because you can't divide by zero\n    }\n  public int getYprojected(int length){\n    return length == -z ? x*length/(length+z+1): y*length/(length+z);\n    }\n  public int getZ(){\n    return z;\n    }\n} // end of class Point\n\n\n\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.awt.*;\npublic class GamePanel extends JPanel implements ActionListener{\n  static final int width = 800;\n  static final int height = 800;                                                                                                                     \n  DimensionPoint[] cube = new DimensionPoint[8];\n  int pos = 75;\n  public GamePanel(){\n    this.setPreferredSize(new Dimension(width,height));\n    this.setBackground(Color.gray);\n    this.setFocusable(true);\n    setCube(100,400,10,200,cube);\n    }\n  \n  public void paintComponent(Graphics g){\n    super.paintComponent(g);\n    draw(g);\n    }\n  public void draw(Graphics g){\n      g.setColor(Color.black);\n      if (cube[5].getZ() &gt; -pos+9) { // This is also only temporary. When you change the size of the cube, it sometimes still glitches out, or dissapears before leaving the screen\n        drawCube(g,cube);\n        }\n    }\n  public void setCube(int anfangX, int anfangY, int anfangZ,int size, DimensionPoint[] p){\n    p[0] = new DimensionPoint(anfangX,anfangY-size,anfangZ);\n    p[1] = new DimensionPoint(anfangX,anfangY,anfangZ);\n    p[2] = new DimensionPoint(anfangX+size,anfangY-size,anfangZ);                                \n    p[3] = new DimensionPoint(anfangX+size,anfangY,anfangZ);                                   \n    p[4] = new DimensionPoint(anfangX,anfangY-size,anfangZ+size/10);\n    p[5] = new DimensionPoint(anfangX,anfangY,anfangZ+size/10);\n    p[6] = new DimensionPoint(anfangX+size,anfangY-size,anfangZ+size/10);\n    p[7] = new DimensionPoint(anfangX+size,anfangY,anfangZ+size/10);\n    }\n  public void drawCube(Graphics g,DimensionPoint[] p){\n      g.drawLine(p[0].getXprojected(pos),p[0].getYprojected(pos),p[1].getXprojected(pos),p[1].getYprojected(pos));\n      g.drawLine(p[0].getXprojected(pos),p[0].getYprojected(pos),p[2].getXprojected(pos),p[2].getYprojected(pos));\n      g.drawLine(p[0].getXprojected(pos),p[0].getYprojected(pos),p[4].getXprojected(pos),p[4].getYprojected(pos));\n      g.drawLine(p[1].getXprojected(pos),p[1].getYprojected(pos),p[3].getXprojected(pos),p[3].getYprojected(pos));\n      g.drawLine(p[1].getXprojected(pos),p[1].getYprojected(pos),p[5].getXprojected(pos),p[5].getYprojected(pos));\n      g.drawLine(p[2].getXprojected(pos),p[2].getYprojected(pos),p[6].getXprojected(pos),p[6].getYprojected(pos));\n      g.drawLine(p[2].getXprojected(pos),p[2].getYprojected(pos),p[3].getXprojected(pos),p[3].getYprojected(pos));\n      g.drawLine(p[3].getXprojected(pos),p[3].getYprojected(pos),p[7].getXprojected(pos),p[7].getYprojected(pos));\n      g.drawLine(p[4].getXprojected(pos),p[4].getYprojected(pos),p[5].getXprojected(pos),p[5].getYprojected(pos));\n      g.drawLine(p[4].getXprojected(pos),p[4].getYprojected(pos),p[6].getXprojected(pos),p[6].getYprojected(pos));\n      g.drawLine(p[7].getXprojected(pos),p[7].getYprojected(pos),p[6].getXprojected(pos),p[6].getYprojected(pos));\n      g.drawLine(p[7].getXprojected(pos),p[7].getYprojected(pos),p[5].getXprojected(pos),p[5].getYprojected(pos));\n    }\n  @Override\n  public void actionPerformed(ActionEvent e){ }\n} // end of class GamePanel\n</code></pre>\n<p>I tried minimizing the code as far as possible, and i hope the mistake can be found. Thank you for the advice.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1682197491,"post_id":76081096,"comment_id":134178356,"body_markdown":"The solution would be to configure your spring boot application for read-committed. Otherwise Hibernate uses the cached value and &quot;don&#39;t see&quot; the changes made by another application.","body":"The solution would be to configure your spring boot application for read-committed. Otherwise Hibernate uses the cached value and &quot;don&#39;t see&quot; the changes made by another application."}],"owner":{"account_id":15615432,"reputation":179,"user_id":13719128,"display_name":"Anubhav Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682185761,"creation_date":1682185761,"question_id":76081096,"body_markdown":"I am using JpaRepository in SpringBoot for an Entity. A service method runs and processes 100s of such entity. Time taken to process on entity is approx 30 seconds. At first, all entity would have status &quot;IN_QUEUE&quot;. While the process is running, I can update the status of the entity to &quot;CANCELLED&quot; from a different endpoint. The service method has the logic to check the status of entity and if it is &quot;CANCELLED&quot;, it shouldn&#39;t pick it up. \r\n\r\nThe issue is, the updated value is not visible to JpaRepository (or SpringBoot). I put the debug point, and called the repositories&#39; fetch method. I updated the value directly in DB to &quot;CANCELLED&quot;, but the SpringBoot still sees the value as &quot;IN_QUEUE&quot; only. \r\n\r\nIs there any configuration which I need to do so that SpringBoot sees the updated value? If no, then is there any other way to achieve the &quot;CANCELLED&quot; feature?","title":"Springboot fetching stale data from database","body":"<p>I am using JpaRepository in SpringBoot for an Entity. A service method runs and processes 100s of such entity. Time taken to process on entity is approx 30 seconds. At first, all entity would have status &quot;IN_QUEUE&quot;. While the process is running, I can update the status of the entity to &quot;CANCELLED&quot; from a different endpoint. The service method has the logic to check the status of entity and if it is &quot;CANCELLED&quot;, it shouldn't pick it up.</p>\n<p>The issue is, the updated value is not visible to JpaRepository (or SpringBoot). I put the debug point, and called the repositories' fetch method. I updated the value directly in DB to &quot;CANCELLED&quot;, but the SpringBoot still sees the value as &quot;IN_QUEUE&quot; only.</p>\n<p>Is there any configuration which I need to do so that SpringBoot sees the updated value? If no, then is there any other way to achieve the &quot;CANCELLED&quot; feature?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682191023,"post_id":76080952,"comment_id":134177592,"body_markdown":"Why do you need it?","body":"Why do you need it?"},{"owner":{"account_id":6347400,"reputation":71,"user_id":6472402,"display_name":"Harshit Panchal"},"score":0,"creation_date":1682192013,"post_id":76080952,"comment_id":134177719,"body_markdown":"@Thorbj&#248;rn i want to activate a profile based on installed java major version.","body":"@Thorbj&#248;rn i want to activate a profile based on installed java major version."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682198617,"post_id":76080952,"comment_id":134178455,"body_markdown":"So your code base behaves differently for different versions of Java?  How come you chose that approach?","body":"So your code base behaves differently for different versions of Java?  How come you chose that approach?"},{"owner":{"account_id":6347400,"reputation":71,"user_id":6472402,"display_name":"Harshit Panchal"},"score":0,"creation_date":1682229092,"post_id":76080952,"comment_id":134180530,"body_markdown":"@Thorbj&#248;rn actually i want the build process to behave differently for java&#39;s. im building my code with all the kind&#39;s of java&#39;s by frequently switching them. and based on java&#39;s we pass different jvmparams and setting properties and switching plugins etc.","body":"@Thorbj&#248;rn actually i want the build process to behave differently for java&#39;s. im building my code with all the kind&#39;s of java&#39;s by frequently switching them. and based on java&#39;s we pass different jvmparams and setting properties and switching plugins etc."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682317438,"post_id":76080952,"comment_id":134190050,"body_markdown":"jvmparams, plugins and properties?  To compile your code??  Or for testing?","body":"jvmparams, plugins and properties?  To compile your code??  Or for testing?"},{"owner":{"account_id":6347400,"reputation":71,"user_id":6472402,"display_name":"Harshit Panchal"},"score":0,"creation_date":1682397259,"post_id":76080952,"comment_id":134204544,"body_markdown":"@Thorbj&#248;rn majorly for testing.","body":"@Thorbj&#248;rn majorly for testing."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682406082,"post_id":76080952,"comment_id":134205642,"body_markdown":"Then it is not building, it is testing.  I don’t think this will end in a maintainable solution. Consider reworking it into a maven module per test platform (sharing whatever is needed).","body":"Then it is not building, it is testing.  I don’t think this will end in a maintainable solution. Consider reworking it into a maven module per test platform (sharing whatever is needed)."},{"owner":{"account_id":6347400,"reputation":71,"user_id":6472402,"display_name":"Harshit Panchal"},"score":0,"creation_date":1682422285,"post_id":76080952,"comment_id":134209318,"body_markdown":"@Thorbj&#248;rn we are building our module also with different properties per java version. and also according to java version we are passing those properties into project and creating some properties there. and creating multiple builds having different source and target combinations.","body":"@Thorbj&#248;rn we are building our module also with different properties per java version. and also according to java version we are passing those properties into project and creating some properties there. and creating multiple builds having different source and target combinations."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682184441,"creation_date":1682184441,"answer_id":76081012,"question_id":76080952,"body_markdown":"Use Java built-in System property `java.version`\r\n\r\nReference https://books.sonatype.com/mvnref-book/reference/resource-filtering-sect-properties.html","title":"How to get current java version inside pom.xml","body":"<p>Use Java built-in System property <code>java.version</code></p>\n<p>Reference <a href=\"https://books.sonatype.com/mvnref-book/reference/resource-filtering-sect-properties.html\" rel=\"nofollow noreferrer\">https://books.sonatype.com/mvnref-book/reference/resource-filtering-sect-properties.html</a></p>\n"}],"owner":{"account_id":6347400,"reputation":71,"user_id":6472402,"display_name":"Harshit Panchal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682185743,"creation_date":1682183767,"question_id":76080952,"body_markdown":"how can we access current installed java version inside pom.xml. and set it into maven properties.\r\nwhen we are changing the java version frequently is there any way to retrieve it in maven properties.\r\n\r\ni want to do something like this\r\n\r\n```\r\n&lt;project&gt;\r\n...\r\n &lt;properties&gt;\r\n    &lt;installedJava&gt;${currentJavaVersion}&lt;/installedJava&gt;\r\n  &lt;/properties&gt;\r\n...\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\ni saw some answeres which suggest to know java version using `mvn -version` command. but it give us version in  command shell not in maven at build time.\r\n\r\n**And further i also want to know** can we retrieve the major version only. like &quot;17&quot; from &quot;17.0.6&quot;","title":"How to get current java version inside pom.xml","body":"<p>how can we access current installed java version inside pom.xml. and set it into maven properties.\nwhen we are changing the java version frequently is there any way to retrieve it in maven properties.</p>\n<p>i want to do something like this</p>\n<pre><code>&lt;project&gt;\n...\n &lt;properties&gt;\n    &lt;installedJava&gt;${currentJavaVersion}&lt;/installedJava&gt;\n  &lt;/properties&gt;\n...\n&lt;/project&gt;\n</code></pre>\n<p>i saw some answeres which suggest to know java version using <code>mvn -version</code> command. but it give us version in  command shell not in maven at build time.</p>\n<p><strong>And further i also want to know</strong> can we retrieve the major version only. like &quot;17&quot; from &quot;17.0.6&quot;</p>\n"},{"tags":["java","android","unit-testing","kotlin","android-espresso"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637800560,"creation_date":1637797441,"answer_id":70104259,"question_id":70104210,"body_markdown":"Espresso are not unit tests and you&#39;re probably lacking a dependency:\r\n\r\n    testImplementation &quot;androidx.test:monitor:1.4.0&quot;","title":"Android Espresso: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;","body":"<p>Espresso are not unit tests and you're probably lacking a dependency:</p>\n<pre><code>testImplementation &quot;androidx.test:monitor:1.4.0&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638151054,"creation_date":1638151054,"answer_id":70149039,"question_id":70104210,"body_markdown":"I fixed this problem by removing the following line in my `build.gradle` file:\r\n\r\n```\r\nimplementation &#39;androidx.test:core-ktx:1.4.0&#39;\r\n```\r\n\r\n\r\n\r\n","title":"Android Espresso: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;","body":"<p>I fixed this problem by removing the following line in my <code>build.gradle</code> file:</p>\n<pre><code>implementation 'androidx.test:core-ktx:1.4.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21578355,"reputation":41,"user_id":15910049,"display_name":"David Rafat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654631929,"creation_date":1654631929,"answer_id":72536908,"question_id":70104210,"body_markdown":"you can solve the problem by adding\r\n`implementation &quot;androidx.test:core:1.4.1-alpha04&quot;`\r\nand changing the version of espresso to `3.5.0-alpha04`\r\nyou can understand more from this link\r\n&lt;https://github.com/android/android-test/issues/1315&gt;","title":"Android Espresso: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;","body":"<p>you can solve the problem by adding\n<code>implementation &quot;androidx.test:core:1.4.1-alpha04&quot;</code>\nand changing the version of espresso to <code>3.5.0-alpha04</code>\nyou can understand more from this link\n<a href=\"https://github.com/android/android-test/issues/1315\" rel=\"nofollow noreferrer\">https://github.com/android/android-test/issues/1315</a></p>\n"},{"tags":[],"owner":{"account_id":3660498,"reputation":740,"user_id":6291061,"display_name":"william xyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682185664,"creation_date":1682185664,"answer_id":76081087,"question_id":70104210,"body_markdown":"None of these answers worked for me. What worked was adding this specifically as `debugImplementation` to `build.gradle`.\r\n\r\n```\r\ndebugImplementation &quot;androidx.test:monitor:1.6.0&quot;\r\n```\r\n\r\nSource: [github][1]\r\n\r\n\r\n  [1]: https://github.com/android/android-test/issues/1589#issuecomment-1316971699","title":"Android Espresso: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;","body":"<p>None of these answers worked for me. What worked was adding this specifically as <code>debugImplementation</code> to <code>build.gradle</code>.</p>\n<pre><code>debugImplementation &quot;androidx.test:monitor:1.6.0&quot;\n</code></pre>\n<p>Source: <a href=\"https://github.com/android/android-test/issues/1589#issuecomment-1316971699\" rel=\"nofollow noreferrer\">github</a></p>\n"}],"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4210,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":70149039,"answer_count":4,"score":4,"last_activity_date":1682185664,"creation_date":1637797074,"question_id":70104210,"body_markdown":"For an app I am making I have added the following UI test code:\r\n\r\n```\r\n@LargeTest\r\n@RunWith(AndroidJUnit4::class)\r\nclass MainActivityTest {\r\n\r\n    @Rule\r\n    @JvmField\r\n    var mActivityTestRule = ActivityTestRule(MainActivity::class.java)\r\n\r\n    @Test\r\n    fun uitest_dialogIsShown() {\r\n        onView(withId(R.id.floatingActionButton)).perform(click())\r\n\r\n        onView(withText(&quot;Please input an appropriate span count value between 1 and 100:&quot;))\r\n            .inRoot(isDialog())\r\n            .check(matches(isDisplayed()))\r\n    }\r\n}\r\n```\r\nWhenever I run UI tests, I get the following exception:\r\n\r\n```\r\n2021-11-04 19:47:13.298 6457-6496/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 6457\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~1cBxUPGvZ9-st1nQ3fjOvg==/com.realtomjoney.pyxlmoose.test-VyOwXpNZ2XUs63sLUMZveQ==/base.apk&quot;, zip file &quot;/data/app/~~U_0CC4jTsCAqP3A1qVYV1A==/com.realtomjoney.pyxlmoose-Byn_NDW0yN-7_fOcrgQO-w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~1cBxUPGvZ9-st1nQ3fjOvg==/com.realtomjoney.pyxlmoose.test-VyOwXpNZ2XUs63sLUMZveQ==/lib/x86_64, /data/app/~~U_0CC4jTsCAqP3A1qVYV1A==/com.realtomjoney.pyxlmoose-Byn_NDW0yN-7_fOcrgQO-w==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 19:51:18.309 6775-6798/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 6775\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~9eUxQaX7nbr79YPJlVQsFg==/com.realtomjoney.pyxlmoose.test-xuUtn0i67c_hz-GDuMVQgA==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~9eUxQaX7nbr79YPJlVQsFg==/com.realtomjoney.pyxlmoose.test-xuUtn0i67c_hz-GDuMVQgA==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 19:55:09.409 6967-7004/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 6967\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~fULPcF44NgcKCpuwKR5lHA==/com.realtomjoney.pyxlmoose.test-H-KHYRNt8ei53g5_34EiXQ==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~fULPcF44NgcKCpuwKR5lHA==/com.realtomjoney.pyxlmoose.test-H-KHYRNt8ei53g5_34EiXQ==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 19:56:33.028 7133-7158/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 7133\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~U3fFFzguF6B6EP1xeftE0g==/com.realtomjoney.pyxlmoose.test-jPO03IuyhHjn7aSdtUYdpQ==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~U3fFFzguF6B6EP1xeftE0g==/com.realtomjoney.pyxlmoose.test-jPO03IuyhHjn7aSdtUYdpQ==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 19:57:33.922 7259-7312/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 7259\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~5sT64He_bsmo7GYldhR4BQ==/com.realtomjoney.pyxlmoose.test-mXKCT3PwPlIYtUHydiUE8A==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~5sT64He_bsmo7GYldhR4BQ==/com.realtomjoney.pyxlmoose.test-mXKCT3PwPlIYtUHydiUE8A==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:01:22.627 7481-7507/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 7481\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~HYEMhxOJHTO21YfMOmi6bA==/com.realtomjoney.pyxlmoose.test-KLb_D8__Miz7y1IKfSkouw==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~HYEMhxOJHTO21YfMOmi6bA==/com.realtomjoney.pyxlmoose.test-KLb_D8__Miz7y1IKfSkouw==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:02:11.479 7605-7654/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 7605\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~A7UND5UmLOPQE0hjOCkaRw==/com.realtomjoney.pyxlmoose.test-nyh8mDQAHliAe6L78dXcGg==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~A7UND5UmLOPQE0hjOCkaRw==/com.realtomjoney.pyxlmoose.test-nyh8mDQAHliAe6L78dXcGg==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:02:55.039 7746-7795/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 7746\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~Am2-9l3iwhZVI6IEM8265w==/com.realtomjoney.pyxlmoose.test-EbLdbTKao67SC-ngjoHE7Q==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~Am2-9l3iwhZVI6IEM8265w==/com.realtomjoney.pyxlmoose.test-EbLdbTKao67SC-ngjoHE7Q==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:03:05.232 7909-7935/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 7909\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~YNb6zFX3JmsNu92j87X3wA==/com.realtomjoney.pyxlmoose.test-PLLDtudoh5PbZURWUPctiw==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~YNb6zFX3JmsNu92j87X3wA==/com.realtomjoney.pyxlmoose.test-PLLDtudoh5PbZURWUPctiw==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:05:48.894 8081-8130/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 8081\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~mO79vJVTZ-urkDvSq_HZKw==/com.realtomjoney.pyxlmoose.test-3544Ixdu-E3E1jyP5exasA==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~mO79vJVTZ-urkDvSq_HZKw==/com.realtomjoney.pyxlmoose.test-3544Ixdu-E3E1jyP5exasA==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:06:08.849 8207-8259/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 8207\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~aBeMLwXUbOZiJk2DykSYug==/com.realtomjoney.pyxlmoose.test-ksPhMNhyGos-lE5sQwcHzg==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~aBeMLwXUbOZiJk2DykSYug==/com.realtomjoney.pyxlmoose.test-ksPhMNhyGos-lE5sQwcHzg==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:06:20.193 8364-8388/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 8364\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~yo63aoWQGLjkXWlqj5syfw==/com.realtomjoney.pyxlmoose.test-vuXZhbEhmMInj4ztj0s-ug==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~yo63aoWQGLjkXWlqj5syfw==/com.realtomjoney.pyxlmoose.test-vuXZhbEhmMInj4ztj0s-ug==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:06:46.580 8482-8521/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 8482\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~U2Qrw4_AcDHcRwJ93BT0Wg==/com.realtomjoney.pyxlmoose.test-Ib-zMWEdygJL0xI3M-WgkA==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~U2Qrw4_AcDHcRwJ93BT0Wg==/com.realtomjoney.pyxlmoose.test-Ib-zMWEdygJL0xI3M-WgkA==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:19:59.251 8759-8803/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 8759\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~K4KgUJ_-JECPlDxPG_Djug==/com.realtomjoney.pyxlmoose.test-XUhqM1pFjOLvLBkELB9LNA==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~K4KgUJ_-JECPlDxPG_Djug==/com.realtomjoney.pyxlmoose.test-XUhqM1pFjOLvLBkELB9LNA==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)&#160;\r\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)&#160;\r\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)&#160;\r\n2021-11-04 20:30:32.493 9077-9122/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\r\n    Process: com.realtomjoney.pyxlmoose, PID: 9077\r\n    java.lang.NoClassDefFoundError: Failed resolution of: ...\r\n```\r\n\r\nUnfortunately, **I have tried to look at other people&#39;s questions who have had the same problem** and the solutions offered **have not been of help** - it would be great if I could get this issue resolved so I can make UI tests for my app.\r\n\r\nHere is my build.gradle file:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;kotlin-android&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    testOptions {\r\n        unitTests.includeAndroidResources = true\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.realtomjoney.pyxlmoose&quot;\r\n        minSdk 27\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n    testOptions {\r\n        unitTests.returnDefaultValues = true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.1&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.test:core-ktx:1.4.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0-alpha03&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0-alpha05&#39;\r\n    androidTestImplementation &#39;androidx.test:core:1.4.0&#39;\r\n    androidTestImplementation &quot;com.android.support:support-annotations:28.0.0&quot;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test:rules:1.0.2&#39;\r\n    testImplementation &#39;androidx.test:core-ktx:1.4.0&#39;\r\n    testImplementation &#39;androidx.test.ext:junit-ktx:1.1.3&#39;\r\n    testImplementation &#39;org.robolectric:robolectric:4.4&#39;\r\n    testImplementation &#39;androidx.test.ext:truth:1.4.0&#39;\r\n    testImplementation &#39;com.google.truth:truth:1.0&#39;\r\n    testImplementation &#39;org.mockito:mockito-core:3.3.3&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.4.1-alpha03&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:truth:1.4.0&#39;\r\n    androidTestImplementation &#39;com.google.truth:truth:1.0&#39;\r\n    debugImplementation &quot;androidx.test:core:1.4.0&quot;\r\n    androidTestImplementation &quot;androidx.test:runner:1.4.0&quot;\r\n    androidTestImplementation &quot;androidx.test:rules:1.4.0&quot;\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:3.4.0&quot;\r\n}\r\n```\r\n**I have no idea what&#39;s causing this issue.**\r\n\r\nIf anyone can assist that would be great!\r\n\r\n*(If this question is poorly written please let me know.)*\r\n","title":"Android Espresso: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;","body":"<p>For an app I am making I have added the following UI test code:</p>\n<pre><code>@LargeTest\n@RunWith(AndroidJUnit4::class)\nclass MainActivityTest {\n\n    @Rule\n    @JvmField\n    var mActivityTestRule = ActivityTestRule(MainActivity::class.java)\n\n    @Test\n    fun uitest_dialogIsShown() {\n        onView(withId(R.id.floatingActionButton)).perform(click())\n\n        onView(withText(&quot;Please input an appropriate span count value between 1 and 100:&quot;))\n            .inRoot(isDialog())\n            .check(matches(isDisplayed()))\n    }\n}\n</code></pre>\n<p>Whenever I run UI tests, I get the following exception:</p>\n<pre><code>2021-11-04 19:47:13.298 6457-6496/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 6457\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~1cBxUPGvZ9-st1nQ3fjOvg==/com.realtomjoney.pyxlmoose.test-VyOwXpNZ2XUs63sLUMZveQ==/base.apk&quot;, zip file &quot;/data/app/~~U_0CC4jTsCAqP3A1qVYV1A==/com.realtomjoney.pyxlmoose-Byn_NDW0yN-7_fOcrgQO-w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~1cBxUPGvZ9-st1nQ3fjOvg==/com.realtomjoney.pyxlmoose.test-VyOwXpNZ2XUs63sLUMZveQ==/lib/x86_64, /data/app/~~U_0CC4jTsCAqP3A1qVYV1A==/com.realtomjoney.pyxlmoose-Byn_NDW0yN-7_fOcrgQO-w==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 19:51:18.309 6775-6798/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 6775\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~9eUxQaX7nbr79YPJlVQsFg==/com.realtomjoney.pyxlmoose.test-xuUtn0i67c_hz-GDuMVQgA==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~9eUxQaX7nbr79YPJlVQsFg==/com.realtomjoney.pyxlmoose.test-xuUtn0i67c_hz-GDuMVQgA==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 19:55:09.409 6967-7004/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 6967\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~fULPcF44NgcKCpuwKR5lHA==/com.realtomjoney.pyxlmoose.test-H-KHYRNt8ei53g5_34EiXQ==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~fULPcF44NgcKCpuwKR5lHA==/com.realtomjoney.pyxlmoose.test-H-KHYRNt8ei53g5_34EiXQ==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 19:56:33.028 7133-7158/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 7133\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~U3fFFzguF6B6EP1xeftE0g==/com.realtomjoney.pyxlmoose.test-jPO03IuyhHjn7aSdtUYdpQ==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~U3fFFzguF6B6EP1xeftE0g==/com.realtomjoney.pyxlmoose.test-jPO03IuyhHjn7aSdtUYdpQ==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 19:57:33.922 7259-7312/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 7259\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~5sT64He_bsmo7GYldhR4BQ==/com.realtomjoney.pyxlmoose.test-mXKCT3PwPlIYtUHydiUE8A==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~5sT64He_bsmo7GYldhR4BQ==/com.realtomjoney.pyxlmoose.test-mXKCT3PwPlIYtUHydiUE8A==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:01:22.627 7481-7507/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 7481\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~HYEMhxOJHTO21YfMOmi6bA==/com.realtomjoney.pyxlmoose.test-KLb_D8__Miz7y1IKfSkouw==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~HYEMhxOJHTO21YfMOmi6bA==/com.realtomjoney.pyxlmoose.test-KLb_D8__Miz7y1IKfSkouw==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:02:11.479 7605-7654/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 7605\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~A7UND5UmLOPQE0hjOCkaRw==/com.realtomjoney.pyxlmoose.test-nyh8mDQAHliAe6L78dXcGg==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~A7UND5UmLOPQE0hjOCkaRw==/com.realtomjoney.pyxlmoose.test-nyh8mDQAHliAe6L78dXcGg==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:02:55.039 7746-7795/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 7746\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~Am2-9l3iwhZVI6IEM8265w==/com.realtomjoney.pyxlmoose.test-EbLdbTKao67SC-ngjoHE7Q==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~Am2-9l3iwhZVI6IEM8265w==/com.realtomjoney.pyxlmoose.test-EbLdbTKao67SC-ngjoHE7Q==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:03:05.232 7909-7935/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 7909\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~YNb6zFX3JmsNu92j87X3wA==/com.realtomjoney.pyxlmoose.test-PLLDtudoh5PbZURWUPctiw==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~YNb6zFX3JmsNu92j87X3wA==/com.realtomjoney.pyxlmoose.test-PLLDtudoh5PbZURWUPctiw==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:05:48.894 8081-8130/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 8081\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~mO79vJVTZ-urkDvSq_HZKw==/com.realtomjoney.pyxlmoose.test-3544Ixdu-E3E1jyP5exasA==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~mO79vJVTZ-urkDvSq_HZKw==/com.realtomjoney.pyxlmoose.test-3544Ixdu-E3E1jyP5exasA==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:06:08.849 8207-8259/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 8207\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~aBeMLwXUbOZiJk2DykSYug==/com.realtomjoney.pyxlmoose.test-ksPhMNhyGos-lE5sQwcHzg==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~aBeMLwXUbOZiJk2DykSYug==/com.realtomjoney.pyxlmoose.test-ksPhMNhyGos-lE5sQwcHzg==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:06:20.193 8364-8388/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 8364\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~yo63aoWQGLjkXWlqj5syfw==/com.realtomjoney.pyxlmoose.test-vuXZhbEhmMInj4ztj0s-ug==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~yo63aoWQGLjkXWlqj5syfw==/com.realtomjoney.pyxlmoose.test-vuXZhbEhmMInj4ztj0s-ug==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:06:46.580 8482-8521/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 8482\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~U2Qrw4_AcDHcRwJ93BT0Wg==/com.realtomjoney.pyxlmoose.test-Ib-zMWEdygJL0xI3M-WgkA==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~U2Qrw4_AcDHcRwJ93BT0Wg==/com.realtomjoney.pyxlmoose.test-Ib-zMWEdygJL0xI3M-WgkA==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:19:59.251 8759-8803/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 8759\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/platform/io/FileTestStorage;\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636)\n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433)\n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.test.platform.io.FileTestStorage&quot; on path: DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/system/framework/android.test.base.jar&quot;, zip file &quot;/data/app/~~K4KgUJ_-JECPlDxPG_Djug==/com.realtomjoney.pyxlmoose.test-XUhqM1pFjOLvLBkELB9LNA==/base.apk&quot;, zip file &quot;/data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~K4KgUJ_-JECPlDxPG_Djug==/com.realtomjoney.pyxlmoose.test-XUhqM1pFjOLvLBkELB9LNA==/lib/x86_64, /data/app/~~OOAovBMGWN3BM4FoM0V0uw==/com.realtomjoney.pyxlmoose-ZKeHj2YKiPi9DbleSh6xqQ==/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at androidx.test.runner.AndroidJUnitRunner.registerTestStorage(AndroidJUnitRunner.java:636) \n        at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:433) \n        at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2248) \n2021-11-04 20:30:32.493 9077-9122/? E/AndroidRuntime: FATAL EXCEPTION: Instr: androidx.test.runner.AndroidJUnitRunner\n    Process: com.realtomjoney.pyxlmoose, PID: 9077\n    java.lang.NoClassDefFoundError: Failed resolution of: ...\n</code></pre>\n<p>Unfortunately, <strong>I have tried to look at other people's questions who have had the same problem</strong> and the solutions offered <strong>have not been of help</strong> - it would be great if I could get this issue resolved so I can make UI tests for my app.</p>\n<p>Here is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n}\n\nandroid {\n    compileSdk 31\n\n    testOptions {\n        unitTests.includeAndroidResources = true\n    }\n\n    defaultConfig {\n        applicationId &quot;com.realtomjoney.pyxlmoose&quot;\n        minSdk 27\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        viewBinding true\n    }\n    testOptions {\n        unitTests.returnDefaultValues = true\n    }\n}\n\ndependencies {\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.1'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.test:core-ktx:1.4.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0-alpha03'\n    implementation 'com.google.android.material:material:1.5.0-alpha05'\n    androidTestImplementation 'androidx.test:core:1.4.0'\n    androidTestImplementation &quot;com.android.support:support-annotations:28.0.0&quot;\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test:rules:1.0.2'\n    testImplementation 'androidx.test:core-ktx:1.4.0'\n    testImplementation 'androidx.test.ext:junit-ktx:1.1.3'\n    testImplementation 'org.robolectric:robolectric:4.4'\n    testImplementation 'androidx.test.ext:truth:1.4.0'\n    testImplementation 'com.google.truth:truth:1.0'\n    testImplementation 'org.mockito:mockito-core:3.3.3'\n    androidTestImplementation 'androidx.test:rules:1.4.1-alpha03'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation 'androidx.test:runner:1.4.0'\n    androidTestImplementation 'androidx.test:rules:1.4.0'\n    androidTestImplementation 'androidx.test.ext:truth:1.4.0'\n    androidTestImplementation 'com.google.truth:truth:1.0'\n    debugImplementation &quot;androidx.test:core:1.4.0&quot;\n    androidTestImplementation &quot;androidx.test:runner:1.4.0&quot;\n    androidTestImplementation &quot;androidx.test:rules:1.4.0&quot;\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:3.4.0&quot;\n}\n</code></pre>\n<p><strong>I have no idea what's causing this issue.</strong></p>\n<p>If anyone can assist that would be great!</p>\n<p><em>(If this question is poorly written please let me know.)</em></p>\n"},{"tags":["java","algorithm","infinite-loop","genetic-algorithm"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1682188199,"post_id":76081038,"comment_id":134177293,"body_markdown":"I don&#39;t think you have provided enough/the right code to make this answerable (see also: [mre]). We have to trust that your magic numbers are right, which they might not be. One suggestion could be to take a closer look at the solution where it stopped. Is it solved? (yes -&gt; fix your fitness function; no -&gt; ???).","body":"I don&#39;t think you have provided enough/the right code to make this answerable (see also: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). We have to trust that your magic numbers are right, which they might not be. One suggestion could be to take a closer look at the solution where it stopped. Is it solved? (yes -&gt; fix your fitness function; no -&gt; ???)."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1682188478,"post_id":76081038,"comment_id":134177332,"body_markdown":"Assuming your fitness function is ok, this sounds like a classic [stuck in a local minimum](https://cs.stackexchange.com/questions/54828/how-to-avoid-getting-stuck-on-local-optimum-for-genetic-algorithms) problem. Which does not have an easy solution but there are various methods to avoid it/work around it.","body":"Assuming your fitness function is ok, this sounds like a classic <a href=\"https://cs.stackexchange.com/questions/54828/how-to-avoid-getting-stuck-on-local-optimum-for-genetic-algorithms\">stuck in a local minimum</a> problem. Which does not have an easy solution but there are various methods to avoid it/work around it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1682188599,"post_id":76081038,"comment_id":134177341,"body_markdown":"Genetic algorithms don&#39;t necessarily provide optimal solutions. They are intended to provide &quot;good enough&quot; solutions.","body":"Genetic algorithms don&#39;t necessarily provide optimal solutions. They are intended to provide &quot;good enough&quot; solutions."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1682189045,"post_id":76081038,"comment_id":134177395,"body_markdown":"How do you define &quot;optimal solution&quot; for Soduku?  Perhaps `numberOfErrors == 0`, where `numberOfErrors` is a count of &quot;duplicates&quot; in a row, column, or 3 x 3 (for normal size)?","body":"How do you define &quot;optimal solution&quot; for Soduku?  Perhaps <code>numberOfErrors == 0</code>, where <code>numberOfErrors</code> is a count of &quot;duplicates&quot; in a row, column, or 3 x 3 (for normal size)?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1682189352,"post_id":76081038,"comment_id":134177431,"body_markdown":"Off-topic: I wouldn&#39;t have `new Random ()` in a loop like that. I would have one `Random` Object, instantiated early.","body":"Off-topic: I wouldn&#39;t have <code>new Random ()</code> in a loop like that. I would have one <code>Random</code> Object, instantiated early."},{"owner":{"account_id":59464,"reputation":11815,"user_id":177931,"accept_rate":83,"display_name":"ldog"},"score":1,"creation_date":1683522966,"post_id":76081038,"comment_id":134373987,"body_markdown":"AFAIK genetic algorithm is one of a myriad of possible heuristics to solve hard optimization problems. These heuristics generally come with no guarantees. Why do you expect the algorithm to work in this case? To confirm whether this is an implementation issue or short coming of the chosen approach, can you try smaller instances of sudoku (6x6 grid?) Or somehow simplify the problem and see if the generic algorithm works then?","body":"AFAIK genetic algorithm is one of a myriad of possible heuristics to solve hard optimization problems. These heuristics generally come with no guarantees. Why do you expect the algorithm to work in this case? To confirm whether this is an implementation issue or short coming of the chosen approach, can you try smaller instances of sudoku (6x6 grid?) Or somehow simplify the problem and see if the generic algorithm works then?"}],"owner":{"account_id":28381319,"reputation":1,"user_id":21708557,"display_name":"Adrian Pradas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682185497,"creation_date":1682184770,"question_id":76081038,"body_markdown":"I want to solve a sudoku witch is represented in a unidimensional array by a genetic algorithm with the chromosomes and all of that already generated, the genetic algorithm is based on a population (we start with a population of 100 chromosomes) and a fitness function for each one of them, as the algorithm runs the mean of fitness functions of the set of chromosomes gets bigger as the maximun value does too, because off crossovers that we do between the chromosomes and mutations of them too\r\n\r\nAs the algorithm tries to solve it the maximun value of the fitness reaches 159 but to solve it we need 162, in order to clasify it as a solved sudoku.\r\n\r\nI don t know if anyone can tell with this introduction and this code what did we do wrong.\r\n\r\n\r\n``` boolean encontrado = false;\r\n\r\n        while(!encontrado) {\r\n            encontrado = newPopulation(encontrado,listOfIndividuals,initialSudoku);\r\n        }\r\n\r\n\r\n```\r\nthat function change the populations doing the functions that i told before and it s code is this\r\n\r\n```\r\nprivate static boolean newPopulation (boolean encontrado, List&lt;int[]&gt; listOfIndividuals, int[] initialSudoku) {\r\n        boolean returnBoolean = false;\r\n        List&lt;int[]&gt; aux = new ArrayList&lt;&gt;();\r\n        int a&#241;adidos = 0;\r\n        int cnt = 0;\r\n        int max = 0;\r\n        Random alea = new Random();\r\n        while (a&#241;adidos != 100 &amp;&amp; !returnBoolean) {\r\n            int rnd = alea.nextInt(101);\r\n            int f = fitness(listOfIndividuals.get(cnt),initialSudoku);\r\n            int p = Math.round(((100 * f) - 1800) / 144);\r\n            if (f == 162) {\r\n                System.out.println(&quot;HE ENCONTRADO EL FITNESS LIMITE&quot;);\r\n                returnBoolean = true;\r\n                aux.add(0,listOfIndividuals.get(cnt));\r\n                continue;\r\n            } else if (p &gt;= rnd) {\r\n                aux.add(listOfIndividuals.get(cnt));\r\n                a&#241;adidos++;\r\n                max += f;\r\n\r\n                if(a&#241;adidos % 2 == 0) {\r\n                    crossover(aux,a&#241;adidos-2,a&#241;adidos-1);\r\n\r\n                }\r\n            }\r\n\r\n            if (cnt + 1 == 100) {\r\n                cnt = 0;\r\n            } else {\r\n                cnt++;\r\n            }\r\n        }\r\n\r\n        if (!returnBoolean) {\r\n            mutationGroup(aux,initialSudoku);\r\n        }\r\n        System.out.println(&quot;The mean is  &quot; + max/aux.size());\r\n        System.out.println();\r\n        System.out.println();\r\n        listOfIndividuals.clear();\r\n\r\n        for (int j = 0; j &lt; aux.size(); j++) {\r\n            listOfIndividuals.add(aux.get(j));\r\n        }\r\n        return returnBoolean;\r\n    }\r\n```\r\n\r\n\r\n\r\n.............................","title":"Genetic Algorithm doesn t ever get the optimal solution","body":"<p>I want to solve a sudoku witch is represented in a unidimensional array by a genetic algorithm with the chromosomes and all of that already generated, the genetic algorithm is based on a population (we start with a population of 100 chromosomes) and a fitness function for each one of them, as the algorithm runs the mean of fitness functions of the set of chromosomes gets bigger as the maximun value does too, because off crossovers that we do between the chromosomes and mutations of them too</p>\n<p>As the algorithm tries to solve it the maximun value of the fitness reaches 159 but to solve it we need 162, in order to clasify it as a solved sudoku.</p>\n<p>I don t know if anyone can tell with this introduction and this code what did we do wrong.</p>\n<pre><code>\n        while(!encontrado) {\n            encontrado = newPopulation(encontrado,listOfIndividuals,initialSudoku);\n        }\n\n\n</code></pre>\n<p>that function change the populations doing the functions that i told before and it s code is this</p>\n<pre><code>private static boolean newPopulation (boolean encontrado, List&lt;int[]&gt; listOfIndividuals, int[] initialSudoku) {\n        boolean returnBoolean = false;\n        List&lt;int[]&gt; aux = new ArrayList&lt;&gt;();\n        int añadidos = 0;\n        int cnt = 0;\n        int max = 0;\n        Random alea = new Random();\n        while (añadidos != 100 &amp;&amp; !returnBoolean) {\n            int rnd = alea.nextInt(101);\n            int f = fitness(listOfIndividuals.get(cnt),initialSudoku);\n            int p = Math.round(((100 * f) - 1800) / 144);\n            if (f == 162) {\n                System.out.println(&quot;HE ENCONTRADO EL FITNESS LIMITE&quot;);\n                returnBoolean = true;\n                aux.add(0,listOfIndividuals.get(cnt));\n                continue;\n            } else if (p &gt;= rnd) {\n                aux.add(listOfIndividuals.get(cnt));\n                añadidos++;\n                max += f;\n\n                if(añadidos % 2 == 0) {\n                    crossover(aux,añadidos-2,añadidos-1);\n\n                }\n            }\n\n            if (cnt + 1 == 100) {\n                cnt = 0;\n            } else {\n                cnt++;\n            }\n        }\n\n        if (!returnBoolean) {\n            mutationGroup(aux,initialSudoku);\n        }\n        System.out.println(&quot;The mean is  &quot; + max/aux.size());\n        System.out.println();\n        System.out.println();\n        listOfIndividuals.clear();\n\n        for (int j = 0; j &lt; aux.size(); j++) {\n            listOfIndividuals.add(aux.get(j));\n        }\n        return returnBoolean;\n    }\n</code></pre>\n<p>.............................</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682317632,"post_id":76080386,"comment_id":134190076,"body_markdown":"YOu aren&#39;t autowiring anything. There is no setter, so no way for the XML way to determine what to inject (hence `null`), if you add `@Autowired` without explicitly enabling it with either `&lt;context:annotation-config /&gt;` or by `&lt;context:component-scan /&gt;` it won&#39;t work either as it won&#39;t proces `@Autowired` without that.","body":"YOu aren&#39;t autowiring anything. There is no setter, so no way for the XML way to determine what to inject (hence <code>null</code>), if you add <code>@Autowired</code> without explicitly enabling it with either <code>&lt;context:annotation-config &#47;&gt;</code> or by <code>&lt;context:component-scan &#47;&gt;</code> it won&#39;t work either as it won&#39;t proces <code>@Autowired</code> without that."}],"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682185400,"creation_date":1682176787,"question_id":76080386,"body_markdown":"I am currently learning Spring AutoWiring Concept. I came across a situation. I created a `Engine` interface and then two implementations of this Interface one being `FerrariEngine` and another as `HondaEngine`. Now I am trying to autowire this in `Car` class using `autowire=&quot;byType&quot;` in `xml` config. But the code is throwing the error as `Engine` is null. Is it that Spring cannot identify interface implemented class using byType??\r\n\r\nPlease help me in understanding why this error is occuring.\r\n\r\n`Car.java`\r\n\r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n    \r\n//@Component\r\npublic class Car {\r\n    // @Autowired\r\n    private Engine engine;\r\n\r\n    public void printEngineName() {\r\n        System.out.println(engine.getEngineName());\r\n    }\r\n}\r\n```    \r\n`Engine.java`\r\n\r\n```java    \r\nimport org.springframework.stereotype.Component;\r\n\r\n\r\npublic interface Engine {\r\n    String getEngineName();\r\n}\r\n```    \r\n`FerrariEngine.java`\r\n\r\n```java    \r\npublic class FerrariEngine implements Engine {\r\n    @Override\r\n    public String getEngineName() {\r\n        return &quot;FerrariEngine&quot;;\r\n    }\r\n}\r\n```    \r\n`HondaEngine.java`\r\n\r\n```java    \r\npublic class HondaEngine implements Engine {\r\n\r\n    @Override\r\n    public String getEngineName() {\r\n        return &quot;HondaEngine&quot;;\r\n    }\r\n}\r\n```    \r\n`Driver.java`\r\n\r\n```java    \r\npublic class Driver {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        ApplicationContext context1 = new ClassPathXmlApplicationContext(&quot;resources/primaryautowire.xml&quot;);\r\n        Car car1 = (Car) context1.getBean(&quot;car&quot;);\r\n        /*\r\n         * String[] beanNames = context1.getBeanDefinitionNames();\r\n         * for(String name: beanNames)\r\n         * System.out.println(name);\r\n         */\r\n        car1.printEngineName();\r\n    }\r\n}\r\n```    \r\n`primaryautowire.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    xmlns:c=&quot;http://www.springframework.org/schema/c&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n                        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd\r\n                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;\r\n    xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n&gt;\r\n\r\n    &lt;bean class=&quot;Spring3AdvancedWiring.primarybean.HondaEngine&quot; primary=&quot;true&quot;&gt;\r\n&lt;/bean&gt;\r\n\r\n    &lt;bean class=&quot;Spring3AdvancedWiring.primarybean.FerrariEngine&quot;&gt;\r\n&lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;car&quot; class=&quot;Spring3AdvancedWiring.primarybean.Car&quot; autowire=&quot;byType&quot;&gt;\r\n&lt;/bean&gt;\r\n\r\n    &lt;!--&lt;context:annotation-config/&gt;--&gt;\r\n&lt;/beans&gt;\r\n```    \r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Spring3AdvancedWiring.primarybean.Engine.getEngineName()&quot; because &quot;this.engine&quot; is null\r\n    \tat Spring3AdvancedWiring.primarybean.Car.printEngineName(Car.java:14)\r\n    \tat Spring3AdvancedWiring.primarybean.Driver.main(Driver.java:20)\r\n\r\n","title":"autowire bytype fails incase of interface implementations","body":"<p>I am currently learning Spring AutoWiring Concept. I came across a situation. I created a <code>Engine</code> interface and then two implementations of this Interface one being <code>FerrariEngine</code> and another as <code>HondaEngine</code>. Now I am trying to autowire this in <code>Car</code> class using <code>autowire=&quot;byType&quot;</code> in <code>xml</code> config. But the code is throwing the error as <code>Engine</code> is null. Is it that Spring cannot identify interface implemented class using byType??</p>\n<p>Please help me in understanding why this error is occuring.</p>\n<p><code>Car.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n    \n//@Component\npublic class Car {\n    // @Autowired\n    private Engine engine;\n\n    public void printEngineName() {\n        System.out.println(engine.getEngineName());\n    }\n}\n</code></pre>\n<p><code>Engine.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.stereotype.Component;\n\n\npublic interface Engine {\n    String getEngineName();\n}\n</code></pre>\n<p><code>FerrariEngine.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FerrariEngine implements Engine {\n    @Override\n    public String getEngineName() {\n        return &quot;FerrariEngine&quot;;\n    }\n}\n</code></pre>\n<p><code>HondaEngine.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HondaEngine implements Engine {\n\n    @Override\n    public String getEngineName() {\n        return &quot;HondaEngine&quot;;\n    }\n}\n</code></pre>\n<p><code>Driver.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Driver {\n\n    public static void main(String[] args) {\n\n        ApplicationContext context1 = new ClassPathXmlApplicationContext(&quot;resources/primaryautowire.xml&quot;);\n        Car car1 = (Car) context1.getBean(&quot;car&quot;);\n        /*\n         * String[] beanNames = context1.getBeanDefinitionNames();\n         * for(String name: beanNames)\n         * System.out.println(name);\n         */\n        car1.printEngineName();\n    }\n}\n</code></pre>\n<p><code>primaryautowire.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:c=&quot;http://www.springframework.org/schema/c&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd\n                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;\n    xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n&gt;\n\n    &lt;bean class=&quot;Spring3AdvancedWiring.primarybean.HondaEngine&quot; primary=&quot;true&quot;&gt;\n&lt;/bean&gt;\n\n    &lt;bean class=&quot;Spring3AdvancedWiring.primarybean.FerrariEngine&quot;&gt;\n&lt;/bean&gt;\n\n    &lt;bean id=&quot;car&quot; class=&quot;Spring3AdvancedWiring.primarybean.Car&quot; autowire=&quot;byType&quot;&gt;\n&lt;/bean&gt;\n\n    &lt;!--&lt;context:annotation-config/&gt;--&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Spring3AdvancedWiring.primarybean.Engine.getEngineName()&quot; because &quot;this.engine&quot; is null\n    at Spring3AdvancedWiring.primarybean.Car.printEngineName(Car.java:14)\n    at Spring3AdvancedWiring.primarybean.Driver.main(Driver.java:20)\n</code></pre>\n"},{"tags":["java","android","bottom-sheet"],"answers":[{"tags":[],"owner":{"account_id":10449948,"reputation":144,"user_id":7703895,"display_name":"ALBPT"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1490271559,"creation_date":1490271559,"answer_id":42975843,"question_id":42959780,"body_markdown":"Write this:\r\n\r\n\r\n        mBottomSheetBehavior.setPeekHeight(0);","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>Write this:</p>\n\n<pre><code>    mBottomSheetBehavior.setPeekHeight(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9699581,"reputation":472,"user_id":7194993,"display_name":"Pietro Scarampella"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1500384747,"creation_date":1500384747,"answer_id":45168291,"question_id":42959780,"body_markdown":"first you have to add the attribute\r\n\r\n    app:behavior_hideable=&quot;true&quot;\r\n\r\nin your \r\n\r\n    &lt;android.support.v4.widget.NestedScrollView\r\n        android:id=&quot;@+id/bottom_sheet&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;350dp&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        android:clipToPadding=&quot;true&quot;\r\n        app:layout_behavior=&quot;android.support.design.widget.BottomSheetBehavior&quot;&gt;\r\n\r\nAnd then you can hide the bottom sheet using \r\n\r\n    mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN)\r\nand not \r\n\r\n    mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED)\r\n\r\n\r\nthe state COLLAPSED is between HIDDEN and EXPANDED and his heigth must be specified by the attribute:\r\n\r\n    app:behavior_peekHeight=&quot;200dp&quot;\r\n\r\n\r\n\r\n","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>first you have to add the attribute</p>\n\n<pre><code>app:behavior_hideable=\"true\"\n</code></pre>\n\n<p>in your </p>\n\n<pre><code>&lt;android.support.v4.widget.NestedScrollView\n    android:id=\"@+id/bottom_sheet\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"350dp\"\n    android:background=\"?android:attr/windowBackground\"\n    android:clipToPadding=\"true\"\n    app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"&gt;\n</code></pre>\n\n<p>And then you can hide the bottom sheet using </p>\n\n<pre><code>mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN)\n</code></pre>\n\n<p>and not </p>\n\n<pre><code>mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED)\n</code></pre>\n\n<p>the state COLLAPSED is between HIDDEN and EXPANDED and his heigth must be specified by the attribute:</p>\n\n<pre><code>app:behavior_peekHeight=\"200dp\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10212232,"reputation":2394,"user_id":7538976,"display_name":"Kishore Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539886519,"creation_date":1512815821,"answer_id":47727647,"question_id":42959780,"body_markdown":"Inside `onCreate` add these lines, it can hide the bottombar\r\n\r\n    mBottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);\r\n    mBottomSheetBehavior.setHideable(true); //Important to add\r\n    mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN); //Important to add","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>Inside <code>onCreate</code> add these lines, it can hide the bottombar</p>\n\n<pre><code>mBottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);\nmBottomSheetBehavior.setHideable(true); //Important to add\nmBottomSheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN); //Important to add\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7405400,"reputation":3577,"user_id":5634470,"accept_rate":45,"display_name":"RoCkDevstack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525706011,"creation_date":1525706011,"answer_id":50217419,"question_id":42959780,"body_markdown":"In my case I was using `BottomSheetDialog`. \r\n\r\n**`app:behavior_hideable`** - attribute is used to determine **if our bottom sheet will hide when it is swiped down**. In other words bottom sheet top be off screen, if the peek height isn’t set.\r\n\r\n**`app:behavior_peekHeight`** - attribute value used to represent how much pixels the bottom sheet will be visible.\r\n\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/bottom_sheet_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:elevation=&quot;10dp&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/colorPrimaryDerived&quot;\r\n    app:layout_behavior=&quot;@string/bottom_sheet_behavior&quot;\r\n    app:behavior_hideable=&quot;true&quot;\r\n    app:behavior_peekHeight=&quot;0dp&quot;&gt; ........... &lt;/LinearLayout&gt;\r\n\r\nI set the peekHeight to 50dp. And peek height has nothing to do with the bottomSheet layout height itself which I set 200dp (for example only). \r\n\r\n[![peek][1]][1]\r\n\r\nYou can view the changes in your XML viewer if the bottom sheet is expanded, if so add the `app:behavior_peekHeight = 0dp `from the xml layout and it will hide and also inform you of the current state. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ht1Qn.png","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>In my case I was using <code>BottomSheetDialog</code>. </p>\n\n<p><strong><code>app:behavior_hideable</code></strong> - attribute is used to determine <strong>if our bottom sheet will hide when it is swiped down</strong>. In other words bottom sheet top be off screen, if the peek height isn’t set.</p>\n\n<p><strong><code>app:behavior_peekHeight</code></strong> - attribute value used to represent how much pixels the bottom sheet will be visible.</p>\n\n<pre><code>&lt;LinearLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/bottom_sheet_container\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:elevation=\"10dp\"\nandroid:orientation=\"vertical\"\nandroid:background=\"@color/colorPrimaryDerived\"\napp:layout_behavior=\"@string/bottom_sheet_behavior\"\napp:behavior_hideable=\"true\"\napp:behavior_peekHeight=\"0dp\"&gt; ........... &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I set the peekHeight to 50dp. And peek height has nothing to do with the bottomSheet layout height itself which I set 200dp (for example only). </p>\n\n<p><a href=\"https://i.stack.imgur.com/Ht1Qn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ht1Qn.png\" alt=\"peek\"></a></p>\n\n<p>You can view the changes in your XML viewer if the bottom sheet is expanded, if so add the <code>app:behavior_peekHeight = 0dp</code>from the xml layout and it will hide and also inform you of the current state. </p>\n"},{"tags":[],"owner":{"account_id":5519125,"reputation":713,"user_id":4382732,"display_name":"Marius Kohmann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525940553,"creation_date":1525940553,"answer_id":50268558,"question_id":42959780,"body_markdown":"In my case i was not able to hide the bottomsheet and it was placed on top of my view. I found out that `animateLayoutChanges = &quot;true&quot;` in my layout file was causing this issue.","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>In my case i was not able to hide the bottomsheet and it was placed on top of my view. I found out that <code>animateLayoutChanges = \"true\"</code> in my layout file was causing this issue.</p>\n"},{"tags":[],"owner":{"account_id":8978952,"reputation":1,"user_id":6694782,"display_name":"Dany T Mpofu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682185151,"creation_date":1555605858,"answer_id":55750464,"question_id":42959780,"body_markdown":"You can manually hide that bottom sheet by setting the visibility of the parent linear layout to gone \r\nput this line in your code when you want to hide it.\r\n\r\nfirstly check if its showing otherwise hide it.\r\n\r\n``if (confirmLayoutBehaviour.getState() != BottomSheetBehavior.STATE_EXPANDED) {\r\n            //todo hide your bottom sheet if its already open\r\n                            confirmLayout.setVisibility(View.GONE);\r\n                        } else {\r\n           //set it to visible if its not open\r\n                            confirmLayout.setVisibility(View.VISIBLE);\r\n                        }``\r\n\r\nit worked for me please try it","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>You can manually hide that bottom sheet by setting the visibility of the parent linear layout to gone\nput this line in your code when you want to hide it.</p>\n<p>firstly check if its showing otherwise hide it.</p>\n<p><code>if (confirmLayoutBehaviour.getState() != BottomSheetBehavior.STATE_EXPANDED) { //todo hide your bottom sheet if its already open confirmLayout.setVisibility(View.GONE); } else { //set it to visible if its not open confirmLayout.setVisibility(View.VISIBLE); }</code></p>\n<p>it worked for me please try it</p>\n"},{"tags":[],"owner":{"account_id":8695467,"reputation":99,"user_id":6506973,"display_name":"Vicente Domingos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582159763,"creation_date":1582159763,"answer_id":60311417,"question_id":42959780,"body_markdown":"When Collapsed set app:behavior_hideable=&quot;false&quot;","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>When Collapsed set app:behavior_hideable=\"false\"</p>\n"},{"tags":[],"owner":{"account_id":8920083,"reputation":1222,"user_id":6657015,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623245619,"creation_date":1623245619,"answer_id":67905206,"question_id":42959780,"body_markdown":"You need to just simply add the below code and it works perfectly.\r\n\r\nTo hide the bottomsheet:-\r\n\r\n    bottomSheetBehavior.state = BottomSheetBehavior.STATE_HIDDEN\r\n\r\nTo show the bottomsheet:-\r\n\r\n     bottomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>You need to just simply add the below code and it works perfectly.</p>\n<p>To hide the bottomsheet:-</p>\n<pre><code>bottomSheetBehavior.state = BottomSheetBehavior.STATE_HIDDEN\n</code></pre>\n<p>To show the bottomsheet:-</p>\n<pre><code> bottomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED\n</code></pre>\n"}],"owner":{"account_id":9614279,"reputation":347,"user_id":7137642,"accept_rate":39,"display_name":"alb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19708,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":42975843,"answer_count":8,"score":9,"last_activity_date":1682185151,"creation_date":1490206807,"question_id":42959780,"body_markdown":"I&#39;m having problems with my [tag:Bottom-Sheet] because when I open the activity it is on, blocking the view\r\n[![enter image description here][1]][1]\r\n\r\nThis happens, I think, because of the XML attribute declaring the [tag:Bottom-Sheet] with 350dp of height:\r\n\r\n    &lt;android.support.v4.widget.NestedScrollView\r\n        android:id=&quot;@+id/bottom_sheet&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;350dp&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        android:clipToPadding=&quot;true&quot;\r\n        app:layout_behavior=&quot;android.support.design.widget.BottomSheetBehavior&quot;&gt;\r\n\r\n\r\nThe thing is, I can&#39;t change that value to 0dp because the next time when I try to open the [tag:Bottom-Sheet], there is no [tag:Bottom-Sheet], because the height is 0dp, so it won&#39;t show anything. \r\nMy question is, is there a way to declare the [tag:Bottom-Sheet] off? (I&#39;ve tried to setState to STATE_COLLAPSED but didn&#39;t work).\r\nBellow is the java code that interacts with the Bottom Sheet.\r\n JAVA:\r\n\r\n    View bottomSheet = findViewById( R.id.bottom_sheet );\r\n            mBottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);\r\n            mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n            mBottomSheetBehavior.setBottomSheetCallback(new BottomSheetBehavior.BottomSheetCallback() {\r\n                @Override\r\n                public void onStateChanged(View bottomSheet, int newState) {\r\n                    if (newState == BottomSheetBehavior.STATE_COLLAPSED) {\r\n                        //mBottomSheetBehavior.setPeekHeight(0);\r\n                        //mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n                        //mBottomSheetBehavior.isHideable();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onSlide(View bottomSheet, float slideOffset) {\r\n    \r\n                }\r\n            });\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b60r8.png","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>I'm having problems with my <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a> because when I open the activity it is on, blocking the view\n<a href=\"https://i.stack.imgur.com/b60r8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b60r8.png\" alt=\"enter image description here\"></a></p>\n\n<p>This happens, I think, because of the XML attribute declaring the <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a> with 350dp of height:</p>\n\n<pre><code>&lt;android.support.v4.widget.NestedScrollView\n    android:id=\"@+id/bottom_sheet\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"350dp\"\n    android:background=\"?android:attr/windowBackground\"\n    android:clipToPadding=\"true\"\n    app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"&gt;\n</code></pre>\n\n<p>The thing is, I can't change that value to 0dp because the next time when I try to open the <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a>, there is no <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a>, because the height is 0dp, so it won't show anything. \nMy question is, is there a way to declare the <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a> off? (I've tried to setState to STATE_COLLAPSED but didn't work).\nBellow is the java code that interacts with the Bottom Sheet.\n JAVA:</p>\n\n<pre><code>View bottomSheet = findViewById( R.id.bottom_sheet );\n        mBottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);\n        mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n        mBottomSheetBehavior.setBottomSheetCallback(new BottomSheetBehavior.BottomSheetCallback() {\n            @Override\n            public void onStateChanged(View bottomSheet, int newState) {\n                if (newState == BottomSheetBehavior.STATE_COLLAPSED) {\n                    //mBottomSheetBehavior.setPeekHeight(0);\n                    //mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n                    //mBottomSheetBehavior.isHideable();\n                }\n            }\n\n            @Override\n            public void onSlide(View bottomSheet, float slideOffset) {\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","winapi","filesystems","jna"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1682050997,"post_id":76067944,"comment_id":134157962,"body_markdown":"I&#39;m not sure your union is modeled correctly.  Where is `FILE_ID_128` defined, and does it actually allocate 128 bits even if you&#39;re only assigning a value to the 64-bit member?","body":"I&#39;m not sure your union is modeled correctly.  Where is <code>FILE_ID_128</code> defined, and does it actually allocate 128 bits even if you&#39;re only assigning a value to the 64-bit member?"},{"owner":{"account_id":17006035,"reputation":361,"user_id":12302220,"display_name":"Andriy Y"},"score":0,"creation_date":1682061175,"post_id":76067944,"comment_id":134159344,"body_markdown":"@DanielWiddis, this what you see in the post - is the last version I was trying. The DUMMYUNIONNAME was Structure, Pointer, there were NO DUMMYUNIONNAME, but just Id, etc. I was trying from 4 - to 512 bits - error code never changed. I&#39;m desperate actually to find a solution.","body":"@DanielWiddis, this what you see in the post - is the last version I was trying. The DUMMYUNIONNAME was Structure, Pointer, there were NO DUMMYUNIONNAME, but just Id, etc. I was trying from 4 - to 512 bits - error code never changed. I&#39;m desperate actually to find a solution."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682184693,"creation_date":1682184693,"answer_id":76081031,"question_id":76067944,"body_markdown":"You&#39;ve incorrectly initialized your `FILE_ID_DESCRIPTOR` values:\r\n```java\r\nnew FILE_ID_DESCRIPTOR(\r\n   FILE_ID_DESCRIPTOR.sizeOf(),\r\n   0,\r\n   new DUMMYUNIONNAME(fii.FileId.Identifier)\r\n);\r\n```\r\nYou&#39;re passing the `Type` parameter as 0, indicating you want the `long FileId` from the union.\r\n\r\nBut you have hardcoded your dummy union constructor to assign the value to the 8-byte `long` member when the value of `fii.FileId.Identifier` is a 16-byte array.\r\n\r\nYou&#39;ve indicated in the comments that:\r\n&gt; this what you see in the post - is the last version I was trying. The DUMMYUNIONNAME was Structure, Pointer, there were NO DUMMYUNIONNAME, but just Id, etc. I was trying from 4 - to 512 bits - error code never changed. \r\n\r\nThere is exactly one right answer and it&#39;s 16 bytes (128 bits).  However, if you pass a `Type` of 0, it&#39;s only reading the first 8 bytes (64 bits) of your `fii.FileId.Identifier`.\r\n\r\nMost likely you want to set/read the `ExtendedFileId` field in the union, by setting a `Type` of 2.\r\n\r\nThere are several other issues with your code that are not the cause of the error:\r\n1. You are over-allocating memory when creating the `FILE_ID_INFO` by giving 128 bytes to `p`.  You haven&#39;t shown your mapping for it, but it&#39;s an 8-byte `long` followed by a structure wrapping a 16-byte array so you only need 24 bytes. \r\n2. You don&#39;t need to implement your own `sizeOf()`.  JNA&#39;s `Structure` has a `size()` method that does exactly what you&#39;re asking.  Or you can just use your knowledge that in this case the size is always 24.\r\n3. The `dwSize` field of `FILE_ID_DESCRIPTOR` is a `DWORD` not a `UINT`.  Since these are both 32-bit values it doesn&#39;t make a difference.  Since Java does not have a concept of signed integers you may as well just simplify and pass an `int` here.\r\n4. If you want to actually leverage JNA&#39;s `Union` class you should fully implement it including overriding the `read()` in the union to read the appropriate native value.  In your case, you&#39;re only writing it for use once, so you can just skip the complexity of the union and directly assign the internal field you want.  If that&#39;s the largest size value (the `FILE_ID_128`) you can just assign it directly. If it&#39;s a smaller size value (the `long` then you could just add padding to make sure the entire structure size is 24 bytes).","title":"Java JNA OpenFileById fails with error code 87 InvalidParameter","body":"<p>You've incorrectly initialized your <code>FILE_ID_DESCRIPTOR</code> values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new FILE_ID_DESCRIPTOR(\n   FILE_ID_DESCRIPTOR.sizeOf(),\n   0,\n   new DUMMYUNIONNAME(fii.FileId.Identifier)\n);\n</code></pre>\n<p>You're passing the <code>Type</code> parameter as 0, indicating you want the <code>long FileId</code> from the union.</p>\n<p>But you have hardcoded your dummy union constructor to assign the value to the 8-byte <code>long</code> member when the value of <code>fii.FileId.Identifier</code> is a 16-byte array.</p>\n<p>You've indicated in the comments that:</p>\n<blockquote>\n<p>this what you see in the post - is the last version I was trying. The DUMMYUNIONNAME was Structure, Pointer, there were NO DUMMYUNIONNAME, but just Id, etc. I was trying from 4 - to 512 bits - error code never changed.</p>\n</blockquote>\n<p>There is exactly one right answer and it's 16 bytes (128 bits).  However, if you pass a <code>Type</code> of 0, it's only reading the first 8 bytes (64 bits) of your <code>fii.FileId.Identifier</code>.</p>\n<p>Most likely you want to set/read the <code>ExtendedFileId</code> field in the union, by setting a <code>Type</code> of 2.</p>\n<p>There are several other issues with your code that are not the cause of the error:</p>\n<ol>\n<li>You are over-allocating memory when creating the <code>FILE_ID_INFO</code> by giving 128 bytes to <code>p</code>.  You haven't shown your mapping for it, but it's an 8-byte <code>long</code> followed by a structure wrapping a 16-byte array so you only need 24 bytes.</li>\n<li>You don't need to implement your own <code>sizeOf()</code>.  JNA's <code>Structure</code> has a <code>size()</code> method that does exactly what you're asking.  Or you can just use your knowledge that in this case the size is always 24.</li>\n<li>The <code>dwSize</code> field of <code>FILE_ID_DESCRIPTOR</code> is a <code>DWORD</code> not a <code>UINT</code>.  Since these are both 32-bit values it doesn't make a difference.  Since Java does not have a concept of signed integers you may as well just simplify and pass an <code>int</code> here.</li>\n<li>If you want to actually leverage JNA's <code>Union</code> class you should fully implement it including overriding the <code>read()</code> in the union to read the appropriate native value.  In your case, you're only writing it for use once, so you can just skip the complexity of the union and directly assign the internal field you want.  If that's the largest size value (the <code>FILE_ID_128</code>) you can just assign it directly. If it's a smaller size value (the <code>long</code> then you could just add padding to make sure the entire structure size is 24 bytes).</li>\n</ol>\n"}],"owner":{"account_id":17006035,"reputation":361,"user_id":12302220,"display_name":"Andriy Y"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76081031,"answer_count":1,"score":2,"last_activity_date":1682184906,"creation_date":1682021593,"question_id":76067944,"body_markdown":"I&#39;m trying to get file **HANDLE** by NTFS file id.\r\n\r\n1. Having file HANLDE I&#39;m getting **FILE_ID_INFO**\r\n```java\r\nMemory p = new Memory(128);\r\n            Kernel32.INSTANCE.GetFileInformationByHandleEx(\r\n    hFile, \r\n    WinBase.FileIdInfo,\r\n    p,\r\n    new DWORD(p.size())\r\n);\r\nFILE_ID_INFO fii = new FILE_ID_INFO(p);\r\n```\r\nFrom FILE_ID_INFO I can get **VolumeSerialNumber** and **FileId.Identifier**\r\n\r\n2. Now when I have that - I want to open HANDLE using VolumeSerialNumber and FileId.Identifier\r\n3. First using **Kernel32Util.getLogicalDriveStrings()** and **Kernel32.INSTANCE.GetVolumeInformation** I can find VolumeId by VolumeSerialNumber - which in my case would be D:\\\r\n4. Now I open HANDLE for D:\\ using **Kernel32.INSTANCE.CreateFile**\r\n```java\r\nKernel32.INSTANCE.CreateFile(\r\n    path,\r\n    FILE_READ_ATTRIBUTES,\r\n    1 | 2 | 4,\r\n    null,\r\n    OPEN_EXISTING,\r\n    FILE_FLAG_BACKUP_SEMANTICS,\r\n    null\r\n)\r\n```\r\n\r\n5. And last step - using [OpenFileById][1] I&#39;m trying open file HANDLE by its id.\r\nMethod definition\r\n```java\r\nHANDLE OpenFileById(\r\n    HANDLE hVolumeHint,\r\n    Structure lpFileId,\r\n    int dwDesiredAccess,\r\n    int dwShareMode,\r\n    SECURITY_ATTRIBUTES lpSecurityAttributes,\r\n    int dwFlagsAndAttributes\r\n);\r\n```\r\nRequired structure\r\n```java\r\n@FieldOrder({&quot;dwSize&quot;, &quot;Type&quot;, &quot;Id&quot;})\r\npublic static class FILE_ID_DESCRIPTOR extends Structure {\r\n\r\n    public UINT dwSize;\r\n    public int Type;\r\n    public DUMMYUNIONNAME Id;\r\n\r\n    @FieldOrder({&quot;FileId&quot;, &quot;ObjectId&quot;, &quot;ExtendedFileId&quot;})\r\n    public static class DUMMYUNIONNAME extends Union {\r\n\r\n        public long FileId;\r\n        public GUID ObjectId;\r\n        public FILE_ID_128 ExtendedFileId;\r\n\r\n        public DUMMYUNIONNAME() {\r\n             super();\r\n        }\r\n\r\n        public DUMMYUNIONNAME(long Id) {\r\n            this.FileId = Id;\r\n            write();\r\n        }\r\n    }\r\n\r\n    public static UINT sizeOf() {\r\n        return new UINT(Native.getNativeSize(FILE_ID_DESCRIPTOR.class, null));\r\n    }\r\n\r\n    public FILE_ID_DESCRIPTOR() {\r\n        super();\r\n    }\r\n\r\n    public FILE_ID_DESCRIPTOR(Pointer memory) {\r\n        super(memory);\r\n        read();\r\n    }\r\n\r\n    public FILE_ID_DESCRIPTOR(UINT dwSize, int type,\r\n            DUMMYUNIONNAME id) {\r\n        this.dwSize = dwSize;\r\n        this.Type = type;\r\n        this.Id = id;\r\n        write();\r\n    }\r\n}\r\n```\r\nUsage\r\n```java\r\nFILE_ID_DESCRIPTOR fileIdDesc = new FILE_ID_DESCRIPTOR(FILE_ID_DESCRIPTOR.sizeOf(), 0, new DUMMYUNIONNAME(fii.FileId.Identifier));\r\nHANDLE handle = Kernel32.INSTANCE.OpenFileById(hVolume, fileIdDesc, FILE_READ_ATTRIBUTES, 1 | 2 | 4, null, FILE_FLAG_BACKUP_SEMANTICS);\r\n```\r\nWhen I after executing\r\n**Kernel32.INSTANCE.GetLastError();**\r\nIt gives me - 87 Invalid Parameter.\r\n\r\nI&#39;ve change FILE_ID_DESCRIPTOR to accept long instead of byte[], and other changes - but everytime - same error.\r\n\r\nSimilar code works successfully in C#, but I need it to run in Java as well.\r\n\r\nPlease advise.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-openfilebyid","title":"Java JNA OpenFileById fails with error code 87 InvalidParameter","body":"<p>I'm trying to get file <strong>HANDLE</strong> by NTFS file id.</p>\n<ol>\n<li>Having file HANLDE I'm getting <strong>FILE_ID_INFO</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Memory p = new Memory(128);\n            Kernel32.INSTANCE.GetFileInformationByHandleEx(\n    hFile, \n    WinBase.FileIdInfo,\n    p,\n    new DWORD(p.size())\n);\nFILE_ID_INFO fii = new FILE_ID_INFO(p);\n</code></pre>\n<p>From FILE_ID_INFO I can get <strong>VolumeSerialNumber</strong> and <strong>FileId.Identifier</strong></p>\n<ol start=\"2\">\n<li>Now when I have that - I want to open HANDLE using VolumeSerialNumber and FileId.Identifier</li>\n<li>First using <strong>Kernel32Util.getLogicalDriveStrings()</strong> and <strong>Kernel32.INSTANCE.GetVolumeInformation</strong> I can find VolumeId by VolumeSerialNumber - which in my case would be D:\\</li>\n<li>Now I open HANDLE for D:\\ using <strong>Kernel32.INSTANCE.CreateFile</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Kernel32.INSTANCE.CreateFile(\n    path,\n    FILE_READ_ATTRIBUTES,\n    1 | 2 | 4,\n    null,\n    OPEN_EXISTING,\n    FILE_FLAG_BACKUP_SEMANTICS,\n    null\n)\n</code></pre>\n<ol start=\"5\">\n<li>And last step - using <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-openfilebyid\" rel=\"nofollow noreferrer\">OpenFileById</a> I'm trying open file HANDLE by its id.\nMethod definition</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>HANDLE OpenFileById(\n    HANDLE hVolumeHint,\n    Structure lpFileId,\n    int dwDesiredAccess,\n    int dwShareMode,\n    SECURITY_ATTRIBUTES lpSecurityAttributes,\n    int dwFlagsAndAttributes\n);\n</code></pre>\n<p>Required structure</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FieldOrder({&quot;dwSize&quot;, &quot;Type&quot;, &quot;Id&quot;})\npublic static class FILE_ID_DESCRIPTOR extends Structure {\n\n    public UINT dwSize;\n    public int Type;\n    public DUMMYUNIONNAME Id;\n\n    @FieldOrder({&quot;FileId&quot;, &quot;ObjectId&quot;, &quot;ExtendedFileId&quot;})\n    public static class DUMMYUNIONNAME extends Union {\n\n        public long FileId;\n        public GUID ObjectId;\n        public FILE_ID_128 ExtendedFileId;\n\n        public DUMMYUNIONNAME() {\n             super();\n        }\n\n        public DUMMYUNIONNAME(long Id) {\n            this.FileId = Id;\n            write();\n        }\n    }\n\n    public static UINT sizeOf() {\n        return new UINT(Native.getNativeSize(FILE_ID_DESCRIPTOR.class, null));\n    }\n\n    public FILE_ID_DESCRIPTOR() {\n        super();\n    }\n\n    public FILE_ID_DESCRIPTOR(Pointer memory) {\n        super(memory);\n        read();\n    }\n\n    public FILE_ID_DESCRIPTOR(UINT dwSize, int type,\n            DUMMYUNIONNAME id) {\n        this.dwSize = dwSize;\n        this.Type = type;\n        this.Id = id;\n        write();\n    }\n}\n</code></pre>\n<p>Usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>FILE_ID_DESCRIPTOR fileIdDesc = new FILE_ID_DESCRIPTOR(FILE_ID_DESCRIPTOR.sizeOf(), 0, new DUMMYUNIONNAME(fii.FileId.Identifier));\nHANDLE handle = Kernel32.INSTANCE.OpenFileById(hVolume, fileIdDesc, FILE_READ_ATTRIBUTES, 1 | 2 | 4, null, FILE_FLAG_BACKUP_SEMANTICS);\n</code></pre>\n<p>When I after executing\n<strong>Kernel32.INSTANCE.GetLastError();</strong>\nIt gives me - 87 Invalid Parameter.</p>\n<p>I've change FILE_ID_DESCRIPTOR to accept long instead of byte[], and other changes - but everytime - same error.</p>\n<p>Similar code works successfully in C#, but I need it to run in Java as well.</p>\n<p>Please advise.</p>\n"},{"tags":["java","java-io","bufferedwriter"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1583998621,"post_id":60648839,"comment_id":107301504,"body_markdown":"I believe there is no real difference, despite the first one not being available in very old version of Java (also have a look at [Path.of](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)) (does the same as the `FileSystems` solution))","body":"I believe there is no real difference, despite the first one not being available in very old version of Java (also have a look at <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)\" rel=\"nofollow noreferrer\">Path.of</a> (does the same as the <code>FileSystems</code> solution))"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1583999175,"post_id":60648839,"comment_id":107301695,"body_markdown":"I will go out on a limb and state that the second is better because simpler all round. The only real reason to use the first would be if you wanted to write to an oddball filesystem like a ZIP file.","body":"I will go out on a limb and state that the second is better because simpler all round. The only real reason to use the first would be if you wanted to write to an oddball filesystem like a ZIP file."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1583999799,"post_id":60648839,"comment_id":107301920,"body_markdown":"@user207421 substitute first line by `Path.of(&quot;file.txt&quot;)` and inline in second line - both are equally simple IMHO (but probably I would also use second (more used to it))","body":"@user207421 substitute first line by <code>Path.of(&quot;file.txt&quot;)</code> and inline in second line - both are equally simple IMHO (but probably I would also use second (more used to it))"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1583999876,"post_id":60648839,"comment_id":107301955,"body_markdown":"@user85421 I said &#39;simpler *all round*&#39;. That doesn&#39;t just cover the one line of user code: it includes the underlying implementation, especially  the data path to the target file.","body":"@user85421 I said &#39;simpler <i>all round</i>&#39;. That doesn&#39;t just cover the one line of user code: it includes the underlying implementation, especially  the data path to the target file."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682184763,"creation_date":1587819574,"answer_id":61426032,"question_id":60648839,"body_markdown":"The **default** character set used by `Files.newBufferedWriter` is UTF8, but in pre-JDK18 JVM new `FileWriter` will default to your Java platform System property `file.encoding` which might not be UTF8.\r\n\r\nIf you are the writer and reader of the file it&#39;s safest to use the UTF8 versions - using `Files.newBufferedReader/Writer`, or supply the character set parameter to either style `FileReader/Writer` / `Files.newBufferedReader/Writer`.\r\n\r\nThis avoids problems when deploying the same application in multiple JDKs and/or locations where the default character set might differ, as you may write files in one location which appear to be corrupt to the same application reading from different location.\r\n\r\nAs of JDK18 the work for [JEP 400: UTF-8 by Default][1] means that the default charset for `FileWriter` is also UTF-8 and the former platform default is stored as new system property `native.encoding`. If you use `FileWriter` in pre-JDK18 without specifying the character encoding it will be a good idea to test and fix your applications before upgrading to JDK18+. This can be done with:\r\n\r\n    // pre-JDK18 only:\r\n    java -Dfile.encoding=UTF-8 ...\r\n\r\nThe JEP mentions `file.encoding=COMPAT` mode to keep the pre-JDK18 behaviour when running JDK18+ so you could mix JDK18 + pre-JDK18 deployments or allow more time to resolve the character set definitions.  The JEP also suggests a way to determine the traditional environment-driven selection for the default charset.\r\n\r\n  [1]: https://openjdk.org/jeps/400\r\n","title":"create java.io.BufferedWriter using java.nio.Files or java.io classes","body":"<p>The <strong>default</strong> character set used by <code>Files.newBufferedWriter</code> is UTF8, but in pre-JDK18 JVM new <code>FileWriter</code> will default to your Java platform System property <code>file.encoding</code> which might not be UTF8.</p>\n<p>If you are the writer and reader of the file it's safest to use the UTF8 versions - using <code>Files.newBufferedReader/Writer</code>, or supply the character set parameter to either style <code>FileReader/Writer</code> / <code>Files.newBufferedReader/Writer</code>.</p>\n<p>This avoids problems when deploying the same application in multiple JDKs and/or locations where the default character set might differ, as you may write files in one location which appear to be corrupt to the same application reading from different location.</p>\n<p>As of JDK18 the work for <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">JEP 400: UTF-8 by Default</a> means that the default charset for <code>FileWriter</code> is also UTF-8 and the former platform default is stored as new system property <code>native.encoding</code>. If you use <code>FileWriter</code> in pre-JDK18 without specifying the character encoding it will be a good idea to test and fix your applications before upgrading to JDK18+. This can be done with:</p>\n<pre><code>// pre-JDK18 only:\njava -Dfile.encoding=UTF-8 ...\n</code></pre>\n<p>The JEP mentions <code>file.encoding=COMPAT</code> mode to keep the pre-JDK18 behaviour when running JDK18+ so you could mix JDK18 + pre-JDK18 deployments or allow more time to resolve the character set definitions.  The JEP also suggests a way to determine the traditional environment-driven selection for the default charset.</p>\n"}],"owner":{"account_id":13939472,"reputation":45,"user_id":10065772,"display_name":"HNP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61426032,"answer_count":1,"score":0,"last_activity_date":1682184763,"creation_date":1583995428,"question_id":60648839,"body_markdown":"What is the difference between these two?\r\n\r\n    Path path = FileSystems.getDefault().getPath(&quot;file.txt&quot;);\r\n    BufferedWriter bw = Files.newBufferedWriter(path);\r\n\r\nand\r\n\r\n    BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(&quot;file.txt&quot;));\r\n\r\nWhich of these two methods is better?\r\n","title":"create java.io.BufferedWriter using java.nio.Files or java.io classes","body":"<p>What is the difference between these two?</p>\n\n<pre><code>Path path = FileSystems.getDefault().getPath(\"file.txt\");\nBufferedWriter bw = Files.newBufferedWriter(path);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(\"file.txt\"));\n</code></pre>\n\n<p>Which of these two methods is better?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682184250,"creation_date":1682184250,"answer_id":76080989,"question_id":76080729,"body_markdown":"In Relative layout, you need to specify the position of the view relative to other views like layout_below, layout_above etc., you have not specified anything. That&#39;s why the 2 views are overlapping.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;5dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_hello&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;Hello Chenura&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/simpleEditText&quot;\r\n        android:layout_below=&quot;@id/txt_hello&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:lines=&quot;1&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:background=&quot;#0099FF&quot;\r\n        android:text=&quot;Click to say &#39;welcome&#39;&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n    \r\nAdding android:layout_below=&quot;@id/txt_hello&quot; will take solve of your problem\r\nAlso, change android:layout_height of txt_hello to &quot;wrap_content&quot;","title":"TextView is not showing on the gui in java in android","body":"<p>In Relative layout, you need to specify the position of the view relative to other views like layout_below, layout_above etc., you have not specified anything. That's why the 2 views are overlapping.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_margin=&quot;5dp&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/txt_hello&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:textSize=&quot;25sp&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:text=&quot;Hello Chenura&quot;/&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/simpleEditText&quot;\n    android:layout_below=&quot;@id/txt_hello&quot;\n    android:maxLines=&quot;1&quot;\n    android:lines=&quot;1&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;/&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button1&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;50dp&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:background=&quot;#0099FF&quot;\n    android:text=&quot;Click to say 'welcome'&quot;/&gt;\n</code></pre>\n\n    \nAdding android:layout_below=\"@id/txt_hello\" will take solve of your problem\nAlso, change android:layout_height of txt_hello to \"wrap_content\"\n"},{"tags":[],"owner":{"account_id":28020964,"reputation":1205,"user_id":21401783,"display_name":"Dinux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682184507,"creation_date":1682184507,"answer_id":76081018,"question_id":76080729,"body_markdown":"Modified code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;5dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_hello&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; &lt;!--Change fill_parent to wrap_content--&gt;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;Hello Chenura&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/simpleEditText&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:lines=&quot;1&quot;\r\n        android:layout_below=&quot;@id/txt_hello&quot; &lt;!--Position relative to TextView--&gt;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:background=&quot;#0099FF&quot;\r\n        android:text=&quot;Click to say &#39;welcome&#39;&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\nYou need to add `android:layout_below=&quot;@id/txt_hello&quot;` to the EditText in order to position it relative to the TextView. You also need to add `wrap_content` in place of `fill_parent` because `fill_parent` makes the TextView cover the whole screen, hiding the other widgets.","title":"TextView is not showing on the gui in java in android","body":"<p>Modified code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;5dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txt_hello&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; &lt;!--Change fill_parent to wrap_content--&gt;\n        android:textSize=&quot;25sp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;Hello Chenura&quot;/&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/simpleEditText&quot;\n        android:maxLines=&quot;1&quot;\n        android:lines=&quot;1&quot;\n        android:layout_below=&quot;@id/txt_hello&quot; &lt;!--Position relative to TextView--&gt;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:background=&quot;#0099FF&quot;\n        android:text=&quot;Click to say 'welcome'&quot;/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>You need to add <code>android:layout_below=&quot;@id/txt_hello&quot;</code> to the EditText in order to position it relative to the TextView. You also need to add <code>wrap_content</code> in place of <code>fill_parent</code> because <code>fill_parent</code> makes the TextView cover the whole screen, hiding the other widgets.</p>\n"}],"owner":{"account_id":25302884,"reputation":17,"user_id":19126877,"display_name":"MaxMouse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76081018,"answer_count":2,"score":0,"last_activity_date":1682184507,"creation_date":1682181211,"question_id":76080729,"body_markdown":"I&#39;m trying to make a simple gui for an android app using java and xml.\r\nBut, the Textedit is showing on the TextView and therefore, the TextView is not showing. Here is my xml code,\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;5dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_hello&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;Hello Chenura&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/simpleEditText&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:lines=&quot;1&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:background=&quot;#0099FF&quot;\r\n        android:text=&quot;Click to say &#39;welcome&#39;&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\nI changed the layout linear to relative, but nothing happened.\r\n\r\nHere&#39;s the screenshot of thr gui,\r\n[Gui of the app][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wOnnv.png","title":"TextView is not showing on the gui in java in android","body":"<p>I'm trying to make a simple gui for an android app using java and xml.\nBut, the Textedit is showing on the TextView and therefore, the TextView is not showing. Here is my xml code,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;5dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txt_hello&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;fill_parent&quot;\n        android:textSize=&quot;25sp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;Hello Chenura&quot;/&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/simpleEditText&quot;\n        android:maxLines=&quot;1&quot;\n        android:lines=&quot;1&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:background=&quot;#0099FF&quot;\n        android:text=&quot;Click to say 'welcome'&quot;/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I changed the layout linear to relative, but nothing happened.</p>\n<p>Here's the screenshot of thr gui,\n<a href=\"https://i.stack.imgur.com/wOnnv.png\" rel=\"nofollow noreferrer\">Gui of the app</a></p>\n"},{"tags":["java","docker","selenium-webdriver","junit","selenium-grid"],"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682184172,"creation_date":1682184172,"question_id":76080979,"body_markdown":"I am unable to start a new chrome browser session in a docker container using Java. Please see code below:\r\n\r\n```\r\n\r\npackage remoteTesting;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\npublic class chromeStandAloneTest {\r\n    public static void main(String[] args) throws MalformedURLException, InterruptedException {\r\n        ChromeOptions opt = new ChromeOptions();\r\n        RemoteWebDriver driver = new RemoteWebDriver(new URL (&quot;http://localhost:4444/wd/hub&quot;), opt);\r\n        driver.get(&quot;http://www.google.com&quot;);\r\n        Thread.sleep(3000);\r\n        System.out.println( &quot;Test executed suuccessfully&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am getting the following error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n```\r\n\r\n\r\n\r\nUpdated to selenium-java v4.9.0","title":"Unable to start a new chrome session in docker container","body":"<p>I am unable to start a new chrome browser session in a docker container using Java. Please see code below:</p>\n<pre><code>\npackage remoteTesting;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class chromeStandAloneTest {\n    public static void main(String[] args) throws MalformedURLException, InterruptedException {\n        ChromeOptions opt = new ChromeOptions();\n        RemoteWebDriver driver = new RemoteWebDriver(new URL (&quot;http://localhost:4444/wd/hub&quot;), opt);\n        driver.get(&quot;http://www.google.com&quot;);\n        Thread.sleep(3000);\n        System.out.println( &quot;Test executed suuccessfully&quot;);\n    }\n}\n</code></pre>\n<p>I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n</code></pre>\n<p>Updated to selenium-java v4.9.0</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1019283,"reputation":2243,"user_id":1030126,"accept_rate":96,"display_name":"papezjustin"},"score":11,"creation_date":1427396338,"post_id":29286714,"comment_id":46770744,"body_markdown":"Instead of simply downvoting, how about leaving a comment as to the reason for the downvote?","body":"Instead of simply downvoting, how about leaving a comment as to the reason for the downvote?"}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1427397098,"creation_date":1427396786,"answer_id":29286865,"question_id":29286714,"body_markdown":"Go to:\r\n\r\n&gt;File =&gt; Project structure\r\n\r\nAnd check: `Project`, `Modules` and `SDKs` tabs:\r\n\r\n![enter image description here][1]\r\n\r\nIf at `SDKs` Java 1.8 Sdk isn&#39;t selected just add it.  \r\n\r\nAnd press `OK`. \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vtKLf.png","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>Go to:</p>\n\n<blockquote>\n  <p>File => Project structure</p>\n</blockquote>\n\n<p>And check: <code>Project</code>, <code>Modules</code> and <code>SDKs</code> tabs:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vtKLf.png\" alt=\"enter image description here\"></p>\n\n<p>If at <code>SDKs</code> Java 1.8 Sdk isn't selected just add it.  </p>\n\n<p>And press <code>OK</code>. </p>\n"},{"tags":[],"owner":{"account_id":1019283,"reputation":2243,"user_id":1030126,"accept_rate":96,"display_name":"papezjustin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1427397010,"creation_date":1427397010,"answer_id":29286919,"question_id":29286714,"body_markdown":"Updating from IntelliJ version 14.0.3 to 14.1 seemed to fix the problem.","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>Updating from IntelliJ version 14.0.3 to 14.1 seemed to fix the problem.</p>\n"},{"tags":[],"owner":{"account_id":6680628,"reputation":122,"user_id":5153955,"display_name":"Tendai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517914209,"creation_date":1517912187,"answer_id":48640523,"question_id":29286714,"body_markdown":"If the update solution given above doesn&#39;t work for somebody, consider not using the *bin* directory like the one used in the **PATH environment** but rather the *java root directory*. In short instead of:\r\n\r\n&gt; path_to_java_folder\\java\\bin\\\r\n\r\nuse:\r\n\r\n&gt; path_to_java_folder\\java\\\r\n\r\nand everything will work just fine.","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>If the update solution given above doesn't work for somebody, consider not using the <em>bin</em> directory like the one used in the <strong>PATH environment</strong> but rather the <em>java root directory</em>. In short instead of:</p>\n\n<blockquote>\n  <p>path_to_java_folder\\java\\bin\\</p>\n</blockquote>\n\n<p>use:</p>\n\n<blockquote>\n  <p>path_to_java_folder\\java\\</p>\n</blockquote>\n\n<p>and everything will work just fine.</p>\n"},{"tags":[],"owner":{"account_id":4264634,"reputation":810,"user_id":3488026,"display_name":"mz496"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1550778271,"creation_date":1550778271,"answer_id":54815046,"question_id":29286714,"body_markdown":"I suddenly started seeing this issue when upgrading my Java SDK from 1.8 to 10.\r\n\r\nI went to `File &gt; Project Structure &gt; SDKs`, JDK home path was in red so I clicked the folder icon to the right of the path.\r\n\r\nEven though the Finder window that popped up already had me in the correct directory `/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home` (maybe it dropped me wherever my newly updated classpath said Java was?), the path that was displayed in red wasn&#39;t the same as that path. Instead, it was using the old one, something like `/Library/Java/JavaVirtualMachines/jdk-1.8_(???)/Contents/Home`. Clicked OK and the JDK home path was updated to the correct directory, clicked Apply/OK and everything was fine after that.\r\n\r\n\r\nFor reference,\r\n\r\n`IntelliJ IDEA 2018.2.1 (Community Edition)\r\nBuild #IC-182.3911.36, built on August 6, 2018\r\nJRE: 1.8.0_152-release-1248-b8 x86_64\r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\nmacOS 10.12.6`","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>I suddenly started seeing this issue when upgrading my Java SDK from 1.8 to 10.</p>\n\n<p>I went to <code>File &gt; Project Structure &gt; SDKs</code>, JDK home path was in red so I clicked the folder icon to the right of the path.</p>\n\n<p>Even though the Finder window that popped up already had me in the correct directory <code>/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home</code> (maybe it dropped me wherever my newly updated classpath said Java was?), the path that was displayed in red wasn't the same as that path. Instead, it was using the old one, something like <code>/Library/Java/JavaVirtualMachines/jdk-1.8_(???)/Contents/Home</code>. Clicked OK and the JDK home path was updated to the correct directory, clicked Apply/OK and everything was fine after that.</p>\n\n<p>For reference,</p>\n\n<p><code>IntelliJ IDEA 2018.2.1 (Community Edition)\nBuild #IC-182.3911.36, built on August 6, 2018\nJRE: 1.8.0_152-release-1248-b8 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nmacOS 10.12.6</code></p>\n"},{"tags":[],"owner":{"account_id":23628494,"reputation":21,"user_id":17660617,"display_name":"Omar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682183718,"creation_date":1682183718,"answer_id":76080942,"question_id":29286714,"body_markdown":"I had the same problem, so, I had to clean my project again and install it from Maven. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0IP6o.png","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>I had the same problem, so, I had to clean my project again and install it from Maven. <a href=\"https://i.stack.imgur.com/0IP6o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0IP6o.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1019283,"reputation":2243,"user_id":1030126,"accept_rate":96,"display_name":"papezjustin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62482,"favorite_count":0,"down_vote_count":2,"up_vote_count":34,"accepted_answer_id":29286865,"answer_count":5,"score":32,"last_activity_date":1682183718,"creation_date":1427396266,"question_id":29286714,"body_markdown":"Update: Not sure why this is marked as a duplicate. I had already linked to the other post stating that none of the suggestions / answers work for me. In addition, their question seems to be related to an issue using Windows VMs via Mac, which is irrelevant for me.\r\n\r\nI am using IntelliJ IDEA 14.0.3. I have selected the &#39;Java Hello World&#39; sample. When I try and run the program I receive the error: &quot;Error: java: Cannot find JDK &#39;1.8&#39; for module &#39;Deliverable4&#39;. I have tried every single suggestion from this post https://stackoverflow.com/questions/14278936/intellij-java-cannot-find-jdk-1-7-for-module but still can&#39;t this to work. Any help would be greatly appreciated.","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>Update: Not sure why this is marked as a duplicate. I had already linked to the other post stating that none of the suggestions / answers work for me. In addition, their question seems to be related to an issue using Windows VMs via Mac, which is irrelevant for me.</p>\n\n<p>I am using IntelliJ IDEA 14.0.3. I have selected the 'Java Hello World' sample. When I try and run the program I receive the error: \"Error: java: Cannot find JDK '1.8' for module 'Deliverable4'. I have tried every single suggestion from this post <a href=\"https://stackoverflow.com/questions/14278936/intellij-java-cannot-find-jdk-1-7-for-module\">intellij - java: Cannot find JDK &#39;1.7&#39; for module</a> but still can't this to work. Any help would be greatly appreciated.</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":25109,"reputation":6880,"user_id":64301,"accept_rate":92,"display_name":"Tom Neyland"},"score":1,"creation_date":1249497060,"post_id":1234912,"comment_id":1060754,"body_markdown":"Yeah, jFrame.dispose() should close the window and clean everything up?","body":"Yeah, jFrame.dispose() should close the window and clean everything up?"},{"owner":{"account_id":72937,"reputation":17125,"user_id":210342,"accept_rate":82,"display_name":"greenoldman"},"score":5,"creation_date":1323201884,"post_id":1234912,"comment_id":10380746,"body_markdown":"Because dispose is not 1:1 equivalent of closing the window by clicking at [x]?","body":"Because dispose is not 1:1 equivalent of closing the window by clicking at [x]?"},{"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"score":2,"creation_date":1356627196,"post_id":1234912,"comment_id":19428490,"body_markdown":"Yes good question, I want a user click on an [x] button I explicitly supply on an undecorated override of a JFrame to act *exactly* as if the user had clicked on the OS supplied [x] button on an OS specific decorated JFrame window.","body":"Yes good question, I want a user click on an [x] button I explicitly supply on an undecorated override of a JFrame to act <i>exactly</i> as if the user had clicked on the OS supplied [x] button on an OS specific decorated JFrame window."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1365292809,"post_id":1234912,"comment_id":22568822,"body_markdown":"How about this.dispatchEvent(wev); instead of Toolkit.getDefaultToolkit...  The former is what the accepted answer suggests.","body":"How about this.dispatchEvent(wev); instead of Toolkit.getDefaultToolkit...  The former is what the accepted answer suggests."}],"answers":[{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1249498139,"creation_date":1249498139,"answer_id":1235046,"question_id":1234912,"body_markdown":"     setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n","title":"How to programmatically close a JFrame?","body":"<pre><code> setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1401593948,"creation_date":1249500962,"answer_id":1235283,"question_id":1234912,"body_markdown":"If by Alt-F4 or X you mean &quot;Exit the Application Immediately Without Regard for What Other Windows or Threads are Running&quot;, then `System.exit(...)` will do *exactly* what you want in a very abrupt, brute-force, and possibly problematic fashion.\r\n\r\nIf by Alt-F4 or X you mean hide the window, then `frame.setVisible(false)` is how you &quot;close&quot; the window. The window will continue to consume resources/memory but can be made visible again very quickly.\r\n\r\nIf by Alt-F4 or X you mean hide the window and dispose of any resources it is consuming, then `frame.dispose()` is how you &quot;close&quot; the window. If the frame was the last visible window and there are no other non-daemon threads running, the program will exit. If you show the window again, it will have to reinitialize all of the native resources again (graphics buffer, window handles, etc).\r\n\r\n`dispose()` might be closest to the behavior that you really want. If your app has multiple windows open, do you want Alt-F4 or X to quit the app or just close the active window?\r\n\r\nThe [Java Swing Tutorial on Window Listeners][1] may help clarify things for you.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/events/windowlistener.html","title":"How to programmatically close a JFrame?","body":"<p>If by Alt-F4 or X you mean \"Exit the Application Immediately Without Regard for What Other Windows or Threads are Running\", then <code>System.exit(...)</code> will do <em>exactly</em> what you want in a very abrupt, brute-force, and possibly problematic fashion.</p>\n\n<p>If by Alt-F4 or X you mean hide the window, then <code>frame.setVisible(false)</code> is how you \"close\" the window. The window will continue to consume resources/memory but can be made visible again very quickly.</p>\n\n<p>If by Alt-F4 or X you mean hide the window and dispose of any resources it is consuming, then <code>frame.dispose()</code> is how you \"close\" the window. If the frame was the last visible window and there are no other non-daemon threads running, the program will exit. If you show the window again, it will have to reinitialize all of the native resources again (graphics buffer, window handles, etc).</p>\n\n<p><code>dispose()</code> might be closest to the behavior that you really want. If your app has multiple windows open, do you want Alt-F4 or X to quit the app or just close the active window?</p>\n\n<p>The <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/events/windowlistener.html\" rel=\"noreferrer\">Java Swing Tutorial on Window Listeners</a> may help clarify things for you.</p>\n"},{"tags":[],"owner":{"account_id":19430,"reputation":6843,"user_id":45581,"accept_rate":95,"display_name":"Alex"},"down_vote_count":11,"up_vote_count":171,"is_accepted":false,"score":160,"last_activity_date":1249501325,"creation_date":1249501325,"answer_id":1235321,"question_id":1234912,"body_markdown":"    setVisible(false); //you can&#39;t see me!\r\n    dispose(); //Destroy the JFrame object\r\n\r\nNot too tricky.\r\n\r\n","title":"How to programmatically close a JFrame?","body":"<pre><code>setVisible(false); //you can't see me!\ndispose(); //Destroy the JFrame object\n</code></pre>\n\n<p>Not too tricky.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":383,"is_accepted":true,"score":383,"last_activity_date":1459468891,"creation_date":1249509616,"answer_id":1235994,"question_id":1234912,"body_markdown":"If you want the GUI to behave as if you clicked the `X` close button then you need to dispatch a window closing event to the `Window`. The `ExitAction` from [Closing An Application][1] allows you to add this functionality to a menu item or any component that uses `Action`s easily.\r\n\r\n    frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2009/05/01/closing-an-application/","title":"How to programmatically close a JFrame?","body":"<p>If you want the GUI to behave as if you clicked the <code>X</code> close button then you need to dispatch a window closing event to the <code>Window</code>. The <code>ExitAction</code> from <a href=\"http://tips4java.wordpress.com/2009/05/01/closing-an-application/\" rel=\"noreferrer\">Closing An Application</a> allows you to add this functionality to a menu item or any component that uses <code>Action</code>s easily.</p>\n\n<pre><code>frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":696633,"reputation":89,"user_id":568969,"display_name":"niranaam"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1409140400,"creation_date":1294594065,"answer_id":4640574,"question_id":1234912,"body_markdown":"Not only to close the JFrame but also to trigger WindowListener events, try this:\r\n\r\n    myFrame.dispatchEvent(new WindowEvent(myFrame, WindowEvent.WINDOW_CLOSING));\r\n\r\n","title":"How to programmatically close a JFrame?","body":"<p>Not only to close the JFrame but also to trigger WindowListener events, try this:</p>\n\n<pre><code>myFrame.dispatchEvent(new WindowEvent(myFrame, WindowEvent.WINDOW_CLOSING));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346181,"reputation":11476,"user_id":679553,"accept_rate":86,"display_name":"Gazihan Alankus"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1301286422,"creation_date":1301280018,"answer_id":5454119,"question_id":1234912,"body_markdown":"If you have done this to make sure the user can&#39;t close the window:\r\n\r\n    frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\nThen you should change your `pullThePlug()` method to be\r\n\r\n    public void pullThePlug() {\r\n        // this will make sure WindowListener.windowClosing() et al. will be called.\r\n        WindowEvent wev = new WindowEvent(this, WindowEvent.WINDOW_CLOSING);\r\n        Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(wev);\r\n\r\n        // this will hide and dispose the frame, so that the application quits by\r\n        // itself if there is nothing else around. \r\n        setVisible(false);\r\n        dispose();\r\n        // if you have other similar frames around, you should dispose them, too.\r\n\r\n        // finally, call this to really exit. \r\n        // i/o libraries such as WiiRemoteJ need this. \r\n        // also, this is what swing does for JFrame.EXIT_ON_CLOSE\r\n        System.exit(0); \r\n    }\r\n\r\nI found this to be the only way that plays nice with the `WindowListener` and `JFrame.DO_NOTHING_ON_CLOSE`.","title":"How to programmatically close a JFrame?","body":"<p>If you have done this to make sure the user can't close the window:</p>\n\n<pre><code>frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n</code></pre>\n\n<p>Then you should change your <code>pullThePlug()</code> method to be</p>\n\n<pre><code>public void pullThePlug() {\n    // this will make sure WindowListener.windowClosing() et al. will be called.\n    WindowEvent wev = new WindowEvent(this, WindowEvent.WINDOW_CLOSING);\n    Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(wev);\n\n    // this will hide and dispose the frame, so that the application quits by\n    // itself if there is nothing else around. \n    setVisible(false);\n    dispose();\n    // if you have other similar frames around, you should dispose them, too.\n\n    // finally, call this to really exit. \n    // i/o libraries such as WiiRemoteJ need this. \n    // also, this is what swing does for JFrame.EXIT_ON_CLOSE\n    System.exit(0); \n}\n</code></pre>\n\n<p>I found this to be the only way that plays nice with the <code>WindowListener</code> and <code>JFrame.DO_NOTHING_ON_CLOSE</code>.</p>\n"},{"tags":[],"owner":{"account_id":424621,"reputation":1092,"user_id":804714,"display_name":"stjepano"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1409140314,"creation_date":1309002241,"answer_id":6477508,"question_id":1234912,"body_markdown":"Best way to close a Swing frame programmatically is to make it behave like it would when the &quot;X&quot; button is pressed. To do that you will need to implement WindowAdapter that suits your needs and set frame&#39;s default close operation to do nothing (DO_NOTHING_ON_CLOSE).\r\n\r\nInitialize your frame like this:\r\n\r\n    private WindowAdapter windowAdapter = null;\r\n\r\n    private void initFrame() {\r\n        \r\n        this.windowAdapter = new WindowAdapter() {\r\n            // WINDOW_CLOSING event handler\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                super.windowClosing(e);\r\n                // You can still stop closing if you want to\r\n                int res = JOptionPane.showConfirmDialog(ClosableFrame.this, &quot;Are you sure you want to close?&quot;, &quot;Close?&quot;, JOptionPane.YES_NO_OPTION);\r\n                if ( res == 0 ) {\r\n                    // dispose method issues the WINDOW_CLOSED event\r\n                    ClosableFrame.this.dispose();\r\n                }\r\n            }\r\n\r\n            // WINDOW_CLOSED event handler\r\n            @Override\r\n            public void windowClosed(WindowEvent e) {\r\n                super.windowClosed(e);\r\n                // Close application if you want to with System.exit(0)\r\n                // but don&#39;t forget to dispose of all resources \r\n                // like child frames, threads, ...\r\n                // System.exit(0);\r\n            }\r\n        };\r\n        \r\n        // when you press &quot;X&quot; the WINDOW_CLOSING event is called but that is it\r\n        // nothing else happens\r\n        this.setDefaultCloseOperation(ClosableFrame.DO_NOTHING_ON_CLOSE);\r\n        // don&#39;t forget this\r\n        this.addWindowListener(this.windowAdapter);\r\n    }\r\n\r\nYou can close the frame programmatically by sending it the WINDOW_CLOSING event, like this:\r\n\r\n    WindowEvent closingEvent = new WindowEvent(targetFrame, WindowEvent.WINDOW_CLOSING);\r\n    Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(closingEvent);\r\n\r\nThis will close the frame like the &quot;X&quot; button was pressed.\r\n","title":"How to programmatically close a JFrame?","body":"<p>Best way to close a Swing frame programmatically is to make it behave like it would when the \"X\" button is pressed. To do that you will need to implement WindowAdapter that suits your needs and set frame's default close operation to do nothing (DO_NOTHING_ON_CLOSE).</p>\n\n<p>Initialize your frame like this:</p>\n\n<pre><code>private WindowAdapter windowAdapter = null;\n\nprivate void initFrame() {\n\n    this.windowAdapter = new WindowAdapter() {\n        // WINDOW_CLOSING event handler\n        @Override\n        public void windowClosing(WindowEvent e) {\n            super.windowClosing(e);\n            // You can still stop closing if you want to\n            int res = JOptionPane.showConfirmDialog(ClosableFrame.this, \"Are you sure you want to close?\", \"Close?\", JOptionPane.YES_NO_OPTION);\n            if ( res == 0 ) {\n                // dispose method issues the WINDOW_CLOSED event\n                ClosableFrame.this.dispose();\n            }\n        }\n\n        // WINDOW_CLOSED event handler\n        @Override\n        public void windowClosed(WindowEvent e) {\n            super.windowClosed(e);\n            // Close application if you want to with System.exit(0)\n            // but don't forget to dispose of all resources \n            // like child frames, threads, ...\n            // System.exit(0);\n        }\n    };\n\n    // when you press \"X\" the WINDOW_CLOSING event is called but that is it\n    // nothing else happens\n    this.setDefaultCloseOperation(ClosableFrame.DO_NOTHING_ON_CLOSE);\n    // don't forget this\n    this.addWindowListener(this.windowAdapter);\n}\n</code></pre>\n\n<p>You can close the frame programmatically by sending it the WINDOW_CLOSING event, like this:</p>\n\n<pre><code>WindowEvent closingEvent = new WindowEvent(targetFrame, WindowEvent.WINDOW_CLOSING);\nToolkit.getDefaultToolkit().getSystemEventQueue().postEvent(closingEvent);\n</code></pre>\n\n<p>This will close the frame like the \"X\" button was pressed.</p>\n"},{"tags":[],"owner":{"account_id":1946404,"reputation":31,"user_id":1751452,"display_name":"rkd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1350424793,"creation_date":1350424510,"answer_id":12924062,"question_id":1234912,"body_markdown":"This examples shows how to realize the confirmed window close operation.\r\n\r\nThe window has a Window adapter which switches the default close operation to `EXIT_ON_CLOSE `or `DO_NOTHING_ON_CLOSE` dependent on your answer in the `OptionDialog`.\r\n\r\nThe method `closeWindow` of the `ConfirmedCloseWindow` fires a close window event and can be used anywhere i.e. as an action of an menu item\r\n\r\n    public class WindowConfirmedCloseAdapter extends WindowAdapter {\r\n        \r\n        public void windowClosing(WindowEvent e) {\r\n\r\n            Object options[] = {&quot;Yes&quot;, &quot;No&quot;};\r\n\r\n            int close = JOptionPane.showOptionDialog(e.getComponent(),\r\n                    &quot;Really want to close this application?\\n&quot;, &quot;Attention&quot;,\r\n                    JOptionPane.YES_NO_OPTION,\r\n                    JOptionPane.INFORMATION_MESSAGE,\r\n                    null,\r\n                    options,\r\n                    null);\r\n\r\n            if(close == JOptionPane.YES_OPTION) {\r\n               ((JFrame)e.getSource()).setDefaultCloseOperation(\r\n                       JFrame.EXIT_ON_CLOSE);\r\n            } else {\r\n               ((JFrame)e.getSource()).setDefaultCloseOperation(\r\n                       JFrame.DO_NOTHING_ON_CLOSE);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class ConfirmedCloseWindow extends JFrame {\r\n    \r\n        public ConfirmedCloseWindow() {\r\n            \r\n            addWindowListener(new WindowConfirmedCloseAdapter());\r\n        }\r\n    \r\n        private void closeWindow() {\r\n            processWindowEvent(new WindowEvent(this, WindowEvent.WINDOW_CLOSING));\r\n        }\r\n    }\r\n\r\n\r\n    ","title":"How to programmatically close a JFrame?","body":"<p>This examples shows how to realize the confirmed window close operation.</p>\n\n<p>The window has a Window adapter which switches the default close operation to <code>EXIT_ON_CLOSE</code>or <code>DO_NOTHING_ON_CLOSE</code> dependent on your answer in the <code>OptionDialog</code>.</p>\n\n<p>The method <code>closeWindow</code> of the <code>ConfirmedCloseWindow</code> fires a close window event and can be used anywhere i.e. as an action of an menu item</p>\n\n<pre><code>public class WindowConfirmedCloseAdapter extends WindowAdapter {\n\n    public void windowClosing(WindowEvent e) {\n\n        Object options[] = {\"Yes\", \"No\"};\n\n        int close = JOptionPane.showOptionDialog(e.getComponent(),\n                \"Really want to close this application?\\n\", \"Attention\",\n                JOptionPane.YES_NO_OPTION,\n                JOptionPane.INFORMATION_MESSAGE,\n                null,\n                options,\n                null);\n\n        if(close == JOptionPane.YES_OPTION) {\n           ((JFrame)e.getSource()).setDefaultCloseOperation(\n                   JFrame.EXIT_ON_CLOSE);\n        } else {\n           ((JFrame)e.getSource()).setDefaultCloseOperation(\n                   JFrame.DO_NOTHING_ON_CLOSE);\n        }\n    }\n}\n\npublic class ConfirmedCloseWindow extends JFrame {\n\n    public ConfirmedCloseWindow() {\n\n        addWindowListener(new WindowConfirmedCloseAdapter());\n    }\n\n    private void closeWindow() {\n        processWindowEvent(new WindowEvent(this, WindowEvent.WINDOW_CLOSING));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356628888,"creation_date":1356628888,"answer_id":14058587,"question_id":1234912,"body_markdown":"You have to insert the call into the AWT message queue so all the timing happens correctly, otherwise it will not dispatch the correct event sequence, especially in a multi-threaded program.  When this is done you may handle the resulting event sequence exactly as you would if the user has clicked on the [x] button for an OS suppled decorated JFrame.\r\n\r\n    public void closeWindow()\r\n    {\r\n        if(awtWindow_ != null) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    awtWindow_.dispatchEvent(new WindowEvent(awtWindow_, WindowEvent.WINDOW_CLOSING));\r\n                }\r\n            });\r\n        }\r\n    }\r\n","title":"How to programmatically close a JFrame?","body":"<p>You have to insert the call into the AWT message queue so all the timing happens correctly, otherwise it will not dispatch the correct event sequence, especially in a multi-threaded program.  When this is done you may handle the resulting event sequence exactly as you would if the user has clicked on the [x] button for an OS suppled decorated JFrame.</p>\n\n<pre><code>public void closeWindow()\n{\n    if(awtWindow_ != null) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                awtWindow_.dispatchEvent(new WindowEvent(awtWindow_, WindowEvent.WINDOW_CLOSING));\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3300209,"reputation":16209,"user_id":2776559,"accept_rate":78,"display_name":"Megatron"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1401815331,"creation_date":1401815331,"answer_id":24021044,"question_id":1234912,"body_markdown":"Based on the answers already provided here, this is the way I implemented it:\r\n\r\n    JFrame frame= new JFrame()\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n    // frame stuffs here ...\r\n\r\n    frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\r\n\r\nThe JFrame gets the event to close and upon closing, exits.","title":"How to programmatically close a JFrame?","body":"<p>Based on the answers already provided here, this is the way I implemented it:</p>\n\n<pre><code>JFrame frame= new JFrame()\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n// frame stuffs here ...\n\nframe.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\n</code></pre>\n\n<p>The JFrame gets the event to close and upon closing, exits.</p>\n"},{"tags":[],"owner":{"account_id":2016507,"reputation":5631,"user_id":1803692,"accept_rate":96,"display_name":"Vogel612"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409139645,"creation_date":1409139645,"answer_id":25526228,"question_id":1234912,"body_markdown":"Posting what was in the question body as CW answer.\r\n\r\nWanted to share the results, mainly derived from following camickr&#39;s link.  Basically I need to throw a `WindowEvent.WINDOW_CLOSING` at the application&#39;s event queue. Here&#39;s a synopsis of what the solution looks like\r\n\r\n    // closing down the window makes sense as a method, so here are\r\n    // the salient parts of what happens with the JFrame extending class ..\r\n\r\n        public class FooWindow extends JFrame {\r\n            public FooWindow() {\r\n                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                setBounds(5, 5, 400, 300);  // yeah yeah, this is an example ;P\r\n                setVisible(true);\r\n            }\r\n            public void pullThePlug() {\r\n                    WindowEvent wev = new WindowEvent(this, WindowEvent.WINDOW_CLOSING);\r\n                    Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(wev);\r\n            }\r\n        }\r\n    \r\n    // Here&#39;s how that would be employed from elsewhere -\r\n\r\n        // someplace the window gets created ..\r\n        FooWindow fooey = new FooWindow();\r\n        ...\r\n        // and someplace else, you can close it thusly\r\n        fooey.pullThePlug();","title":"How to programmatically close a JFrame?","body":"<p>Posting what was in the question body as CW answer.</p>\n\n<p>Wanted to share the results, mainly derived from following camickr's link.  Basically I need to throw a <code>WindowEvent.WINDOW_CLOSING</code> at the application's event queue. Here's a synopsis of what the solution looks like</p>\n\n<pre><code>// closing down the window makes sense as a method, so here are\n// the salient parts of what happens with the JFrame extending class ..\n\n    public class FooWindow extends JFrame {\n        public FooWindow() {\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            setBounds(5, 5, 400, 300);  // yeah yeah, this is an example ;P\n            setVisible(true);\n        }\n        public void pullThePlug() {\n                WindowEvent wev = new WindowEvent(this, WindowEvent.WINDOW_CLOSING);\n                Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(wev);\n        }\n    }\n\n// Here's how that would be employed from elsewhere -\n\n    // someplace the window gets created ..\n    FooWindow fooey = new FooWindow();\n    ...\n    // and someplace else, you can close it thusly\n    fooey.pullThePlug();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4526333,"reputation":1103,"user_id":3678023,"accept_rate":86,"display_name":"Aaron Esau"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1676400339,"creation_date":1421957641,"answer_id":28097851,"question_id":1234912,"body_markdown":"Stop the program:\r\n\r\n    System.exit(0);\r\n\r\nClose the window:\r\n\r\n    frame.dispose();\r\n\r\nHide the window:\r\n\r\n    frame.setVisible(false);","title":"How to programmatically close a JFrame?","body":"<p>Stop the program:</p>\n<pre><code>System.exit(0);\n</code></pre>\n<p>Close the window:</p>\n<pre><code>frame.dispose();\n</code></pre>\n<p>Hide the window:</p>\n<pre><code>frame.setVisible(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4670307,"reputation":11,"user_id":3782247,"display_name":"Mena Nashaat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437824833,"creation_date":1437824833,"answer_id":31626144,"question_id":1234912,"body_markdown":"If you do not want your application to terminate when a JFrame is closed, \r\nuse:\r\n    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE)\r\n\r\ninstead of:\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\nFrom the documentation:\r\n\r\n`DO_NOTHING_ON_CLOSE (defined in WindowConstants)`: Don&#39;t do anything; require the program to handle the operation in the windowClosing method of a registered WindowListener object.\r\n\r\n`HIDE_ON_CLOSE (defined in WindowConstants)`: Automatically hide the frame after invoking any registered WindowListener objects.\r\n\r\n`DISPOSE_ON_CLOSE (defined in WindowConstants)`: Automatically hide and dispose the frame after invoking any registered WindowListener objects.\r\n\r\n`EXIT_ON_CLOSE (defined in JFrame)`: Exit the application using the System exit method. Use this only in applications.\r\n\r\nmight still be useful:\r\nYou can use `setVisible(false)` on your JFrame if you want to display the same frame again.\r\nOtherwise call `dispose()` to remove all of the native screen resources.\r\n\r\n#copied from Peter Lang\r\nhttps://stackoverflow.com/a/1944474/3782247","title":"How to programmatically close a JFrame?","body":"<p>If you do not want your application to terminate when a JFrame is closed, \nuse:\n    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE)</p>\n\n<p>instead of:\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</p>\n\n<p>From the documentation:</p>\n\n<p><code>DO_NOTHING_ON_CLOSE (defined in WindowConstants)</code>: Don't do anything; require the program to handle the operation in the windowClosing method of a registered WindowListener object.</p>\n\n<p><code>HIDE_ON_CLOSE (defined in WindowConstants)</code>: Automatically hide the frame after invoking any registered WindowListener objects.</p>\n\n<p><code>DISPOSE_ON_CLOSE (defined in WindowConstants)</code>: Automatically hide and dispose the frame after invoking any registered WindowListener objects.</p>\n\n<p><code>EXIT_ON_CLOSE (defined in JFrame)</code>: Exit the application using the System exit method. Use this only in applications.</p>\n\n<p>might still be useful:\nYou can use <code>setVisible(false)</code> on your JFrame if you want to display the same frame again.\nOtherwise call <code>dispose()</code> to remove all of the native screen resources.</p>\n\n<h1>copied from Peter Lang</h1>\n\n<p><a href=\"https://stackoverflow.com/a/1944474/3782247\">https://stackoverflow.com/a/1944474/3782247</a></p>\n"},{"tags":[],"owner":{"account_id":4141733,"reputation":4569,"user_id":3396808,"display_name":"Jaimin Patel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1517983982,"creation_date":1457432009,"answer_id":35864536,"question_id":1234912,"body_markdown":"Exiting from Java running process is very easy, basically you need to do just two simple things: \r\n\r\n1. Call java method `System.exit(...)` at at application&#39;s quit point. \r\nFor example, if your application is frame based, you can add listener `WindowAdapter` and and call `System.exit(...)` inside its method `windowClosing(WindowEvent e)`. \r\n\r\n\r\nNote: you must call `System.exit(...)` otherwise your program is error involved.\r\n\r\n2. Avoiding unexpected java exceptions to make sure the exit method can be called always. \r\nIf you add `System.exit(...)` at right point, but It does not mean that the method can be called always, because unexpected java exceptions may prevent the method from been called. \r\n\r\nThis is strongly related to your programming skills. \r\n\r\n\r\n** Following is a simplest sample (`JFrame` based) which shows you how to call exit method \r\n\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n     \r\n    public class ExitApp extends JFrame\r\n    {\r\n       public ExitApp()\r\n       {\r\n          addWindowListener(new WindowAdapter()\r\n          {\r\n             public void windowClosing(WindowEvent e)\r\n             {\r\n               dispose();\r\n               System.exit(0); //calling the method is a must\r\n             }\r\n          });\r\n       }\r\n     \r\n       public static void main(String[] args)\r\n       {\r\n          ExitApp app=new ExitApp();\r\n          app.setBounds(133,100,532,400);\r\n          app.setVisible(true);\r\n       }\r\n    }","title":"How to programmatically close a JFrame?","body":"<p>Exiting from Java running process is very easy, basically you need to do just two simple things: </p>\n\n<ol>\n<li>Call java method <code>System.exit(...)</code> at at application's quit point. \nFor example, if your application is frame based, you can add listener <code>WindowAdapter</code> and and call <code>System.exit(...)</code> inside its method <code>windowClosing(WindowEvent e)</code>. </li>\n</ol>\n\n<p>Note: you must call <code>System.exit(...)</code> otherwise your program is error involved.</p>\n\n<ol start=\"2\">\n<li>Avoiding unexpected java exceptions to make sure the exit method can be called always. \nIf you add <code>System.exit(...)</code> at right point, but It does not mean that the method can be called always, because unexpected java exceptions may prevent the method from been called. </li>\n</ol>\n\n<p>This is strongly related to your programming skills. </p>\n\n<p>** Following is a simplest sample (<code>JFrame</code> based) which shows you how to call exit method </p>\n\n<pre><code>import java.awt.event.*;\nimport javax.swing.*;\n\npublic class ExitApp extends JFrame\n{\n   public ExitApp()\n   {\n      addWindowListener(new WindowAdapter()\n      {\n         public void windowClosing(WindowEvent e)\n         {\n           dispose();\n           System.exit(0); //calling the method is a must\n         }\n      });\n   }\n\n   public static void main(String[] args)\n   {\n      ExitApp app=new ExitApp();\n      app.setBounds(133,100,532,400);\n      app.setVisible(true);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8993422,"reputation":119,"user_id":6704626,"display_name":"Harita M"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472709717,"creation_date":1470915785,"answer_id":38895421,"question_id":1234912,"body_markdown":"If you really do not want your application to terminate when a JFrame is closed then,\r\n \r\nuse : `setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);`\r\n\r\ninstead of : `setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);`\r\n\r\n*Here&#39;s a synopsis of what the solution looks like,*\r\n\r\n     myFrame.dispatchEvent(new WindowEvent(myFrame, WindowEvent.WINDOW_CLOSING));","title":"How to programmatically close a JFrame?","body":"<p>If you really do not want your application to terminate when a JFrame is closed then,</p>\n\n<p>use : <code>setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);</code></p>\n\n<p>instead of : <code>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</code></p>\n\n<p><em>Here's a synopsis of what the solution looks like,</em></p>\n\n<pre><code> myFrame.dispatchEvent(new WindowEvent(myFrame, WindowEvent.WINDOW_CLOSING));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8886612,"reputation":588,"user_id":6634682,"display_name":"r_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500315362,"creation_date":1472728492,"answer_id":39270054,"question_id":1234912,"body_markdown":"I have tried this, write your own code for **formWindowClosing()** event.\r\n\r\n     private void formWindowClosing(java.awt.event.WindowEvent evt) {                                   \r\n        int selectedOption = JOptionPane.showConfirmDialog(null,\r\n                &quot;Do you want to exit?&quot;,\r\n                &quot;FrameToClose&quot;,\r\n                JOptionPane.YES_NO_OPTION);\r\n        if (selectedOption == JOptionPane.YES_OPTION) {\r\n            setVisible(false);\r\n            dispose();\r\n        } else {\r\n            setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);\r\n        }\r\n    }    \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis asks user whether he want to exit the Frame or Application.","title":"How to programmatically close a JFrame?","body":"<p>I have tried this, write your own code for <strong>formWindowClosing()</strong> event.</p>\n\n<pre><code> private void formWindowClosing(java.awt.event.WindowEvent evt) {                                   \n    int selectedOption = JOptionPane.showConfirmDialog(null,\n            \"Do you want to exit?\",\n            \"FrameToClose\",\n            JOptionPane.YES_NO_OPTION);\n    if (selectedOption == JOptionPane.YES_OPTION) {\n        setVisible(false);\n        dispose();\n    } else {\n        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);\n    }\n}    \n</code></pre>\n\n\n\n<p>This asks user whether he want to exit the Frame or Application.</p>\n"}],"owner":{"account_id":39758,"reputation":12690,"user_id":114847,"accept_rate":85,"display_name":"JustJeff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693070,"favorite_count":0,"down_vote_count":0,"up_vote_count":292,"accepted_answer_id":1235994,"answer_count":16,"score":292,"last_activity_date":1682183058,"creation_date":1249496670,"question_id":1234912,"body_markdown":"What&#39;s the correct way to get a `JFrame` to close, the same as if the user had hit the `X` close button, or pressed &lt;kbd&gt;Alt + F4&lt;/kbd&gt; (on Windows)?\r\n\r\nI have my default close operation set the way I want, via:\r\n\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\nIt does exactly what I want with the aforementioned controls.  This question isn&#39;t about that.\r\n\r\nWhat I really want to do is cause the GUI to behave in the same way as a press of `X` close button would cause it to behave.\r\n\r\nSuppose I were to extend `WindowAdaptor`, then add an instance of my adapter as a listener via `addWindowListener()`.  I would like to see the same sequence of calls through `windowDeactivated()`, `windowClosing()`, and `windowClosed()` as would occur with the `X` close button.  Not so much tearing up the window as telling it to tear itself up, so to speak.","title":"How to programmatically close a JFrame?","body":"<p>What's the correct way to get a <code>JFrame</code> to close, the same as if the user had hit the <code>X</code> close button, or pressed <kbd>Alt + F4</kbd> (on Windows)?</p>\n<p>I have my default close operation set the way I want, via:</p>\n<pre><code>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n</code></pre>\n<p>It does exactly what I want with the aforementioned controls.  This question isn't about that.</p>\n<p>What I really want to do is cause the GUI to behave in the same way as a press of <code>X</code> close button would cause it to behave.</p>\n<p>Suppose I were to extend <code>WindowAdaptor</code>, then add an instance of my adapter as a listener via <code>addWindowListener()</code>.  I would like to see the same sequence of calls through <code>windowDeactivated()</code>, <code>windowClosing()</code>, and <code>windowClosed()</code> as would occur with the <code>X</code> close button.  Not so much tearing up the window as telling it to tear itself up, so to speak.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":2,"creation_date":1682177904,"post_id":76080329,"comment_id":134175953,"body_markdown":"This `start([^stop]*)` you tried would be [`start((?:(?!stop).)*)`](https://regex101.com/r/SlnQ4b/1) and known as [tempered greedy token](http://www.rexegg.com/regex-quantifiers.html#tempered_greed) (at least at *rexegg.com*). Pretty sure, this question is a dupe.","body":"This <code>start([^stop]*)</code> you tried would be <a href=\"https://regex101.com/r/SlnQ4b/1\" rel=\"nofollow noreferrer\"><code>start((?:(?!stop).)*)</code></a> and known as <a href=\"http://www.rexegg.com/regex-quantifiers.html#tempered_greed\" rel=\"nofollow noreferrer\">tempered greedy token</a> (at least at <i>rexegg.com</i>). Pretty sure, this question is a dupe."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682176516,"creation_date":1682176516,"answer_id":76080359,"question_id":76080329,"body_markdown":"You can use lookaround assertions to mark the beginning and end of the match. Making `.*` lazy, the first possible opportunity to end the match will be taken:\r\n\r\n    (?&lt;=start).*?(?=stop|$)\r\n\r\nThe `$` matches with the end-of-input, which will occur when there is no `stop` following.","title":"Regex in Java which matches everything except a certain substring","body":"<p>You can use lookaround assertions to mark the beginning and end of the match. Making <code>.*</code> lazy, the first possible opportunity to end the match will be taken:</p>\n<pre><code>(?&lt;=start).*?(?=stop|$)\n</code></pre>\n<p>The <code>$</code> matches with the end-of-input, which will occur when there is no <code>stop</code> following.</p>\n"}],"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682182909,"creation_date":1682176202,"question_id":76080329,"body_markdown":"I&#39;m looking for a regular expression which matches as much as possible without a certain substring. For example in &quot;19weojustartspdfoj0u23stop308rstop23ij&quot; I want to match with a expression like &quot;start([^stop]*)&quot; the substring &quot;spdfoj0u23&quot;. The same expression should match &quot;q039sdfkjfds&quot; in &quot;12ejipstartq039sdfkjfds&quot; (here we have no stop, therefore we get everyting after &quot;start&quot;.","title":"Regex in Java which matches everything except a certain substring","body":"<p>I'm looking for a regular expression which matches as much as possible without a certain substring. For example in &quot;19weojustartspdfoj0u23stop308rstop23ij&quot; I want to match with a expression like &quot;start([^stop]*)&quot; the substring &quot;spdfoj0u23&quot;. The same expression should match &quot;q039sdfkjfds&quot; in &quot;12ejipstartq039sdfkjfds&quot; (here we have no stop, therefore we get everyting after &quot;start&quot;.</p>\n"},{"tags":["java","gradle","micronaut","junit-jupiter"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1682627139,"post_id":76080853,"comment_id":134249956,"body_markdown":"Maybe you should read up on MN test: https://micronaut-projects.github.io/micronaut-test/latest/guide/index.html \n\nUsing http://127.0.0.1:8080/  in a MN test is new to me.","body":"Maybe you should read up on MN test: <a href=\"https://micronaut-projects.github.io/micronaut-test/latest/guide/index.html\" rel=\"nofollow noreferrer\">micronaut-projects.github.io/micronaut-test/latest/guide/&hellip;</a>   Using <a href=\"http://127.0.0.1:8080/\" rel=\"nofollow noreferrer\">127.0.0.1:8080</a>  in a MN test is new to me."}],"owner":{"account_id":992808,"reputation":1157,"user_id":1009577,"accept_rate":85,"display_name":"Friso Kluitenberg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682182701,"creation_date":1682182701,"question_id":76080853,"body_markdown":"Recently I am using micronaut libraries to move some controllers which are meant to be reused. However, i cant figure out how to test those controllers. The get included in the application just fine, but on there own the tests case timesout. How can i fix this?\r\n\r\n```groovy\r\n# build.gradle\r\napply plugin: &quot;io.micronaut.library&quot;\r\n\r\n\r\nmicronaut {\r\n    runtime(&quot;netty&quot;)\r\n    testRuntime(&quot;junit5&quot;)\r\n}\r\n\r\n\r\ndependencies {\r\n    api(&quot;io.micronaut:micronaut-http&quot;)\r\n    api(&quot;io.micronaut:micronaut-http-server&quot;)\r\n    testImplementation(&quot;io.micronaut:micronaut-http-server&quot;)\r\n    testImplementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n\r\n...\r\n\r\n```\r\n\r\nHumanController.java\r\n```java\r\npackage fri.so.common;\r\n\r\n\r\nimport io.micronaut.core.io.ResourceLoader;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Get;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\n@Controller\r\npublic class HumansController {\r\n\r\n  private final ResourceLoader resourceLoader;\r\n\r\n  public HumansController(ResourceLoader resourceLoader) {\r\n    this.resourceLoader = resourceLoader;\r\n  }\r\n\r\n  @Get(&quot;/humans.txt&quot;)\r\n  public InputStream humans() throws IOException {\r\n\r\n    return resourceLoader.getResourceAsStream(&quot;classpath:humans.txt&quot;)\r\n            .orElseThrow(() -&gt; new IOException(&quot;Could not load humans.txt file&quot;));\r\n  }\r\n}\r\n```\r\n\r\nHumanControllerTest.java\r\n```java\r\npackage fri.so.common;\r\n\r\nimport io.micronaut.http.client.HttpClient;\r\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\n@MicronautTest\r\nclass HumansControllerTest {\r\n\r\n    @Test\r\n    void testHumans() throws MalformedURLException {\r\n        Assertions.assertTrue(true);\r\n        String response = HttpClient.create(new URL(&quot;http://127.0.0.1:8080/&quot;)).toBlocking().retrieve(&quot;humans.txt&quot;);\r\n\r\n    }\r\n}\r\n```\r\n","title":"Testing a micronaut library","body":"<p>Recently I am using micronaut libraries to move some controllers which are meant to be reused. However, i cant figure out how to test those controllers. The get included in the application just fine, but on there own the tests case timesout. How can i fix this?</p>\n<pre><code># build.gradle\napply plugin: &quot;io.micronaut.library&quot;\n\n\nmicronaut {\n    runtime(&quot;netty&quot;)\n    testRuntime(&quot;junit5&quot;)\n}\n\n\ndependencies {\n    api(&quot;io.micronaut:micronaut-http&quot;)\n    api(&quot;io.micronaut:micronaut-http-server&quot;)\n    testImplementation(&quot;io.micronaut:micronaut-http-server&quot;)\n    testImplementation(&quot;io.micronaut:micronaut-http-client&quot;)\n\n...\n\n</code></pre>\n<p>HumanController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fri.so.common;\n\n\nimport io.micronaut.core.io.ResourceLoader;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Controller\npublic class HumansController {\n\n  private final ResourceLoader resourceLoader;\n\n  public HumansController(ResourceLoader resourceLoader) {\n    this.resourceLoader = resourceLoader;\n  }\n\n  @Get(&quot;/humans.txt&quot;)\n  public InputStream humans() throws IOException {\n\n    return resourceLoader.getResourceAsStream(&quot;classpath:humans.txt&quot;)\n            .orElseThrow(() -&gt; new IOException(&quot;Could not load humans.txt file&quot;));\n  }\n}\n</code></pre>\n<p>HumanControllerTest.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fri.so.common;\n\nimport io.micronaut.http.client.HttpClient;\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n@MicronautTest\nclass HumansControllerTest {\n\n    @Test\n    void testHumans() throws MalformedURLException {\n        Assertions.assertTrue(true);\n        String response = HttpClient.create(new URL(&quot;http://127.0.0.1:8080/&quot;)).toBlocking().retrieve(&quot;humans.txt&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","google-chrome","zooming","selenium4"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":1,"creation_date":1682082402,"post_id":76072471,"comment_id":134163966,"body_markdown":"I just tried code #1 above  and it works , Please note that the zoom setting in Chrome will still show 100% even though the page has actually zoomed out. You can test this by increasing the zoom level to 50%, which should make it more obvious that the page has indeed zoomed out.","body":"I just tried code #1 above  and it works , Please note that the zoom setting in Chrome will still show 100% even though the page has actually zoomed out. You can test this by increasing the zoom level to 50%, which should make it more obvious that the page has indeed zoomed out."},{"owner":{"account_id":9616958,"reputation":104,"user_id":12843029,"display_name":"Jagruuti"},"score":0,"creation_date":1682085628,"post_id":76072471,"comment_id":134164811,"body_markdown":"I just zoomed out to 50% and can see that it has indeed zoomed out. But now for me it appears to be the issue with the screen resolution and display.\nThanks for the reply. I will mark this as an answer.\nAlso, can you just copy paste the answer in the Answer section so that I can mark it?","body":"I just zoomed out to 50% and can see that it has indeed zoomed out. But now for me it appears to be the issue with the screen resolution and display. Thanks for the reply. I will mark this as an answer. Also, can you just copy paste the answer in the Answer section so that I can mark it?"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1682182597,"post_id":76072471,"comment_id":134176577,"body_markdown":"Great ! i have added it as an answer below","body":"Great ! i have added it as an answer below"}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682182572,"creation_date":1682182572,"answer_id":76080843,"question_id":76072471,"body_markdown":"I just tried code #1 above and it works , Please note that the zoom setting in Chrome will still show 100% even though the page has actually zoomed out. You can test this by increasing the zoom level to 50%, which should make it more obvious that the page has indeed zoomed out.\r\n\r\n    JavascriptExecutor jse= (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;document.body.style.zoom=&#39;50%&#39;&quot;);","title":"Unable to change the zoom level in Selenium 4","body":"<p>I just tried code #1 above and it works , Please note that the zoom setting in Chrome will still show 100% even though the page has actually zoomed out. You can test this by increasing the zoom level to 50%, which should make it more obvious that the page has indeed zoomed out.</p>\n<pre><code>JavascriptExecutor jse= (JavascriptExecutor)driver;\njse.executeScript(&quot;document.body.style.zoom='50%'&quot;);\n</code></pre>\n"}],"owner":{"account_id":9616958,"reputation":104,"user_id":12843029,"display_name":"Jagruuti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76080843,"answer_count":1,"score":0,"last_activity_date":1682182572,"creation_date":1682074632,"question_id":76072471,"body_markdown":"I have just migrated my existing code to selenium4.Disable of automation information bar has been made mandate in the latest browser versions so I&#39;m trying to change the zoom level for a particular page through scripting, but it does not seem to work on my machine. \r\nI have tried below piece of codes-\r\n\r\n1) \r\n```\r\nJavascriptExecutor jse= (JavascriptExecutor)driver;\r\njse.executeScript(&quot;document.body.style.zoom=&#39;90%&#39;&quot;);\r\n```\r\n2) \r\n```\r\nWebElement html= driver.findElement(By.tagName(&quot;html&quot;));\r\nhtml.sendKeys(Keys.chord(Keys.CONTROL,Keys.SUBTRACT));\r\n```\r\n\r\nBoth of them are **not** working. After trying to evaluate the expression in Intellij during runtime, I&#39;m getting *null* for the second line of code in the 1st code whereas it is coming as *undefined* in the second line of code for the 2nd code.\r\n\r\nI cannot share the complete code snippet or application image considering I&#39;m working on VDI.\r\n\r\nI&#39;m trying to understand the cause of these piece of codes not working on my machine. Has anyone faced a similar issue or knows about this?\r\n\r\nLet me know for any more details.","title":"Unable to change the zoom level in Selenium 4","body":"<p>I have just migrated my existing code to selenium4.Disable of automation information bar has been made mandate in the latest browser versions so I'm trying to change the zoom level for a particular page through scripting, but it does not seem to work on my machine.\nI have tried below piece of codes-</p>\n<p>1)</p>\n<pre><code>JavascriptExecutor jse= (JavascriptExecutor)driver;\njse.executeScript(&quot;document.body.style.zoom='90%'&quot;);\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>WebElement html= driver.findElement(By.tagName(&quot;html&quot;));\nhtml.sendKeys(Keys.chord(Keys.CONTROL,Keys.SUBTRACT));\n</code></pre>\n<p>Both of them are <strong>not</strong> working. After trying to evaluate the expression in Intellij during runtime, I'm getting <em>null</em> for the second line of code in the 1st code whereas it is coming as <em>undefined</em> in the second line of code for the 2nd code.</p>\n<p>I cannot share the complete code snippet or application image considering I'm working on VDI.</p>\n<p>I'm trying to understand the cause of these piece of codes not working on my machine. Has anyone faced a similar issue or knows about this?</p>\n<p>Let me know for any more details.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":80110,"reputation":905,"user_id":226733,"accept_rate":100,"display_name":"Nick Hristov"},"score":1,"creation_date":1513006253,"post_id":47756049,"comment_id":82473250,"body_markdown":"Why do you do the modulus operation on vouchers? That does not seem useful at all.","body":"Why do you do the modulus operation on vouchers? That does not seem useful at all."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1513006314,"post_id":47756049,"comment_id":82473289,"body_markdown":"Because of their similar spelling, I suspect that by &quot;cicle&quot; you mean &quot;cycle&quot;. From there and context, I am inclined to think that the English word you actually want is &quot;loop&quot;.","body":"Because of their similar spelling, I suspect that by &quot;cicle&quot; you mean &quot;cycle&quot;. From there and context, I am inclined to think that the English word you actually want is &quot;loop&quot;."},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513006331,"post_id":47756049,"comment_id":82473304,"body_markdown":"what i can do ?","body":"what i can do ?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1513006519,"post_id":47756049,"comment_id":82473421,"body_markdown":"I&#39;m not talking about your variable naming, though we do prefer code written in English here.  Rather, I&#39;m talking about the problem description.  That&#39;s rather more important from the perspective of answering the question.","body":"I&#39;m not talking about your variable naming, though we do prefer code written in English here.  Rather, I&#39;m talking about the problem description.  That&#39;s rather more important from the perspective of answering the question."},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513006741,"post_id":47756049,"comment_id":82473581,"body_markdown":"i want a loop, every time people insert money the program print how much piece of chocolate he can get and also how much voucher get. If he has 6 voucher he can get 1 piece of chocolate for free. So for example first i time i have 6$ i get 7 piece of chocolate. Second time i have 8$ i get 8 piece of chocolate and remains to me 3 voucher. Third time i insert 13$ i get 14 piece of chocolate and exc ...","body":"i want a loop, every time people insert money the program print how much piece of chocolate he can get and also how much voucher get. If he has 6 voucher he can get 1 piece of chocolate for free. So for example first i time i have 6$ i get 7 piece of chocolate. Second time i have 8$ i get 8 piece of chocolate and remains to me 3 voucher. Third time i insert 13$ i get 14 piece of chocolate and exc ..."},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513007059,"post_id":47756049,"comment_id":82473802,"body_markdown":"nobody can help me ?","body":"nobody can help me ?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1513007355,"post_id":47756049,"comment_id":82473997,"body_markdown":"Seriously?  No answer in 22 minutes and it&#39;s &quot;nobody can help me?&quot;","body":"Seriously?  No answer in 22 minutes and it&#39;s &quot;nobody can help me?&quot;"},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513007476,"post_id":47756049,"comment_id":82474081,"body_markdown":"@JohnBollinger which answer ?","body":"@JohnBollinger which answer ?"},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513007669,"post_id":47756049,"comment_id":82474206,"body_markdown":"the first question which @NickHristov made i can&#39;t answer because i don&#39;t now the answer","body":"the first question which @NickHristov made i can&#39;t answer because i don&#39;t now the answer"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513008481,"creation_date":1513008128,"answer_id":47756743,"question_id":47756049,"body_markdown":"The problem statement is:\r\n\r\n&gt; Write a program wich receive an N value and print how much piece of\r\n&gt; chocolate you can eat and how much valid voucher remains to you at the\r\n&gt; end. Use a cicle wich change chocolate and voucher every time that\r\n&gt; there are to much voucher for get 1 piece of chocolate for free. [sic]\r\n\r\nThe English translation is a bit tricky to follow, but what I think it asks for is rather different from what your code actually does.  Your program loops to perform multiple runs in which it requests an amount of money and attempts to directly compute the amount of chocolate and vouchers that can be obtained by spending all the money in the candy machine.\r\n\r\nWhat the problem actually seems to be asking for, however, is a loop wherein at each iteration you reduce the number of vouchers by six if that many are available, otherwise you reduce the amount of money by one unit if any remains, else you quit the loop.  In each iteration you increase the number of chocolates purchased and the number of vouchers available by one each.  At the end, you then report the number of chocolates purchased and the number of vouchers left.  Doing that will not require any division or modular arithmetic.\r\n\r\n----\r\n\r\nDoing that is also inefficient, as you seem to recognize, but your approach to performing the computation more directly breaks down for large amounts of money.  If you really want to do it that way, contrary to the seeming intent of the assignment, then consider this approach:\r\n\r\n - each dollar gets you one chocolate and one voucher\r\n - each six vouchers gets you one chocolate and one voucher, for a *net* cost of five vouchers per chocolate\r\n - but unless you started with 0 dollars, you must end with at least one voucher, because every purchase provides one.  (In other words, you cannot buy a chocolate with your last five vouchers.)\r\n\r\nThus, if you want to do it this way then the formulae would be\r\n\r\n    chocolate =\r\n        dollars               // purchases for dollars\r\n        + (dollars - 1) / 5;  // purchases for vouchers\r\n\r\nand\r\n\r\n    vouchers = (dollars - 1) % 5 + 1;\r\n\r\nRemember to account for the special case where you start with 0 dollars, and therefore end with 0 chocolate and 0 vouchers.\r\n","title":"Java program, cycle works only 2 times","body":"<p>The problem statement is:</p>\n\n<blockquote>\n  <p>Write a program wich receive an N value and print how much piece of\n  chocolate you can eat and how much valid voucher remains to you at the\n  end. Use a cicle wich change chocolate and voucher every time that\n  there are to much voucher for get 1 piece of chocolate for free. [sic]</p>\n</blockquote>\n\n<p>The English translation is a bit tricky to follow, but what I think it asks for is rather different from what your code actually does.  Your program loops to perform multiple runs in which it requests an amount of money and attempts to directly compute the amount of chocolate and vouchers that can be obtained by spending all the money in the candy machine.</p>\n\n<p>What the problem actually seems to be asking for, however, is a loop wherein at each iteration you reduce the number of vouchers by six if that many are available, otherwise you reduce the amount of money by one unit if any remains, else you quit the loop.  In each iteration you increase the number of chocolates purchased and the number of vouchers available by one each.  At the end, you then report the number of chocolates purchased and the number of vouchers left.  Doing that will not require any division or modular arithmetic.</p>\n\n<hr>\n\n<p>Doing that is also inefficient, as you seem to recognize, but your approach to performing the computation more directly breaks down for large amounts of money.  If you really want to do it that way, contrary to the seeming intent of the assignment, then consider this approach:</p>\n\n<ul>\n<li>each dollar gets you one chocolate and one voucher</li>\n<li>each six vouchers gets you one chocolate and one voucher, for a <em>net</em> cost of five vouchers per chocolate</li>\n<li>but unless you started with 0 dollars, you must end with at least one voucher, because every purchase provides one.  (In other words, you cannot buy a chocolate with your last five vouchers.)</li>\n</ul>\n\n<p>Thus, if you want to do it this way then the formulae would be</p>\n\n<pre><code>chocolate =\n    dollars               // purchases for dollars\n    + (dollars - 1) / 5;  // purchases for vouchers\n</code></pre>\n\n<p>and</p>\n\n<pre><code>vouchers = (dollars - 1) % 5 + 1;\n</code></pre>\n\n<p>Remember to account for the special case where you start with 0 dollars, and therefore end with 0 chocolate and 0 vouchers.</p>\n"},{"tags":[],"owner":{"account_id":6242532,"reputation":622,"user_id":4855672,"accept_rate":30,"display_name":"Safi Ullah Ibne Sultan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1513008875,"creation_date":1513008875,"answer_id":47756952,"question_id":47756049,"body_markdown":"I think this program meet your demand\r\n  \r\n\r\n    int dollar,pieceOfChocolate,voucher,dollar2,voucher2,pieceOfChocolate2;\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;How much dollar do you have&quot;);\r\n    \r\n         dollar = in.nextInt();\r\n    \t// voucher=\r\n    \t pieceOfChocolate=dollar;\r\n    \t voucher=pieceOfChocolate;\r\n    \t pieceOfChocolate=dollar+voucher/6;\r\n    \t voucher = voucher%6;\r\n        System.out.println(&quot;you have  &quot;+pieceOfChocolate+&quot; chocolates and remaining voucher &quot;+voucher);\r\n    \r\n        boolean ciclo = true;\r\n    \r\n        while(ciclo){\r\n    \r\n            System.out.println(&quot;How much dollar do you have&quot;);\r\n    \r\n            dollar2 = in.nextInt();\r\n    \t\tpieceOfChocolate=dollar2;\r\n    \t voucher = voucher+pieceOfChocolate;\r\n    \t pieceOfChocolate=dollar2+voucher/6;\r\n    \t voucher = voucher%6;\r\n    \t \r\n         if(voucher==0)\r\n    \t\t break;\r\n    \r\n           System.out.println(&quot;you have  &quot;+pieceOfChocolate+&quot; chocolates and  remaining voucher &quot;+voucher);\r\n           }","title":"Java program, cycle works only 2 times","body":"<p>I think this program meet your demand</p>\n\n<pre><code>int dollar,pieceOfChocolate,voucher,dollar2,voucher2,pieceOfChocolate2;\n    Scanner in = new Scanner(System.in);\n    System.out.println(\"How much dollar do you have\");\n\n     dollar = in.nextInt();\n    // voucher=\n     pieceOfChocolate=dollar;\n     voucher=pieceOfChocolate;\n     pieceOfChocolate=dollar+voucher/6;\n     voucher = voucher%6;\n    System.out.println(\"you have  \"+pieceOfChocolate+\" chocolates and remaining voucher \"+voucher);\n\n    boolean ciclo = true;\n\n    while(ciclo){\n\n        System.out.println(\"How much dollar do you have\");\n\n        dollar2 = in.nextInt();\n        pieceOfChocolate=dollar2;\n     voucher = voucher+pieceOfChocolate;\n     pieceOfChocolate=dollar2+voucher/6;\n     voucher = voucher%6;\n\n     if(voucher==0)\n         break;\n\n       System.out.println(\"you have  \"+pieceOfChocolate+\" chocolates and  remaining voucher \"+voucher);\n       }\n</code></pre>\n"}],"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":47756952,"answer_count":2,"score":-1,"last_activity_date":1682181837,"creation_date":1513005767,"question_id":47756049,"body_markdown":"I&#39;m making an exercise that asked me to make a program in java which does these things: \r\n\r\nSuppose that you can buy from an automatic machine at school 1 piece of chocolate for 1$.  \r\nInside the chocolate is a voucher. If you have 6 voucher you can get 1 piece of chocolate for free.  \r\nSuppose that you have N $ and you want to buy some chocolate. For example if you have 6$ you can get 7 piece of chocolate (because you have 6 voucher that are inside the 6 piece of chocolate and wit this 6 voucher you can get 1 piece of chocolate for free). Now you have only 1 voucher valid which is the voucher of the 7&#176; piece of chocolate. For example with 12 $ you can get 14 piece of chocolate and remains to you 2 voucher.\r\n\r\nWrite a program which receives an N value and prints how many pieces of chocolate you can eat and how much valid voucher remains to you at the end. Use a cycle which change chocolate and voucher every time that \r\nthere are too much voucher for get 1 piece of chocolate for free. \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Ripasso {\r\n\t\r\n\tpublic static void main (String [] args) {\r\n\t\t\r\n\t\t\tString risposta;\r\n\t\t\tint dollar,pieceOfChocolate,voucher,dollar2,voucher2,pieceOfChocolate2;\r\n\t\t\tScanner tastiera = new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;How much dollar do you have&quot;);\r\n\t\t\t\r\n\t\t\tdollar = tastiera.nextInt();\r\n\t\t\tpieceOfChocolate = dollar;\r\n\t\t\tvoucher = pieceOfChocolate;\r\n           \r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;You insert &quot; + dollar + &quot; dollar which gives you &quot; + pieceOfChocolate + &quot; piece of Chocolate&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;You also have &quot; + voucher + &quot; voucher&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;Every time you have 6 valid voucher you can get 1 piece of chocolate for free&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;You can get &quot; + (dollar/6) + &quot; piece of Chocolate for free&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;Now you have &quot; + (pieceOfChocolate = (dollar/6) + pieceOfChocolate) +  &quot; piece of Chocolate&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\t\r\n            voucher = dollar%6;\r\n\t\t\tSystem.out.println(&quot;And you also have &quot; + voucher + &quot; voucher&quot;);\r\n\t\t\t\r\n\t\t\tboolean ciclo = true;\r\n\t\t\t\r\n\t\t\twhile(ciclo){\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;How much dollar do you have&quot;);\r\n\t\t\t\t\r\n\t\t\t\tdollar2 = tastiera.nextInt();\r\n\t\t\t\tvoucher = dollar%6;\r\n\t\t\t\tvoucher2 = dollar2%6;\r\n\t\t\t\tpieceOfChocolate = dollar2;\r\n                pieceOfChocolate2 = (voucher2+voucher)/6;\r\n\t\t\t\t\r\n\t\t\t\tif (((voucher2+voucher)%6)&lt;0){\r\n\t\t\t\t\tciclo = false;\r\n\t\t\t\t} \r\n\t\t\t\t\r\n                System.out.println(&quot;&quot;);\r\n\t\t\t\tSystem.out.println(&quot;You can get &quot; + (dollar2/6) + &quot; piece of Chocolate for free&quot;);\r\n\t\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Now you have &quot; + (pieceOfChocolate = (dollar2/6) + pieceOfChocolate2 + pieceOfChocolate ) +  &quot; piece of Chocolate&quot;);\r\n\t\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\tSystem.out.println(&quot;And also you have &quot; + ((voucher2+voucher)%6) + &quot; voucher&quot;);\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\r\n\t} \r\n\r\n    }\r\n\t\r\nIf I want to insert for 3 time money, and calculate how many pieces of chocolate have and also valid voucher this program not work, only 2 time works. The third time shows the value of the 2 time.\r\n\r\nThank you for help.\t","title":"Java program, cycle works only 2 times","body":"<p>I'm making an exercise that asked me to make a program in java which does these things:</p>\n<p>Suppose that you can buy from an automatic machine at school 1 piece of chocolate for 1$.<br />\nInside the chocolate is a voucher. If you have 6 voucher you can get 1 piece of chocolate for free.<br />\nSuppose that you have N $ and you want to buy some chocolate. For example if you have 6$ you can get 7 piece of chocolate (because you have 6 voucher that are inside the 6 piece of chocolate and wit this 6 voucher you can get 1 piece of chocolate for free). Now you have only 1 voucher valid which is the voucher of the 7° piece of chocolate. For example with 12 $ you can get 14 piece of chocolate and remains to you 2 voucher.</p>\n<p>Write a program which receives an N value and prints how many pieces of chocolate you can eat and how much valid voucher remains to you at the end. Use a cycle which change chocolate and voucher every time that\nthere are too much voucher for get 1 piece of chocolate for free.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Ripasso {\n\npublic static void main (String [] args) {\n    \n        String risposta;\n        int dollar,pieceOfChocolate,voucher,dollar2,voucher2,pieceOfChocolate2;\n        Scanner tastiera = new Scanner(System.in);\n        System.out.println(&quot;How much dollar do you have&quot;);\n        \n        dollar = tastiera.nextInt();\n        pieceOfChocolate = dollar;\n        voucher = pieceOfChocolate;\n       \n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;You insert &quot; + dollar + &quot; dollar which gives you &quot; + pieceOfChocolate + &quot; piece of Chocolate&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;You also have &quot; + voucher + &quot; voucher&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Every time you have 6 valid voucher you can get 1 piece of chocolate for free&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;You can get &quot; + (dollar/6) + &quot; piece of Chocolate for free&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Now you have &quot; + (pieceOfChocolate = (dollar/6) + pieceOfChocolate) +  &quot; piece of Chocolate&quot;);\n        System.out.println(&quot;&quot;); \n        voucher = dollar%6;\n        System.out.println(&quot;And you also have &quot; + voucher + &quot; voucher&quot;);\n        \n        boolean ciclo = true;\n        \n        while(ciclo){\n            \n            System.out.println(&quot;How much dollar do you have&quot;);\n            \n            dollar2 = tastiera.nextInt();\n            voucher = dollar%6;\n            voucher2 = dollar2%6;\n            pieceOfChocolate = dollar2;\n            pieceOfChocolate2 = (voucher2+voucher)/6;\n            \n            if (((voucher2+voucher)%6)&lt;0){\n                ciclo = false;\n            } \n            \n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;You can get &quot; + (dollar2/6) + &quot; piece of Chocolate for free&quot;);\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Now you have &quot; + (pieceOfChocolate = (dollar2/6) + pieceOfChocolate2 + pieceOfChocolate ) +  &quot; piece of Chocolate&quot;);\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;And also you have &quot; + ((voucher2+voucher)%6) + &quot; voucher&quot;);\n            \n            }\n\n} \n\n}\n</code></pre>\n<p>If I want to insert for 3 time money, and calculate how many pieces of chocolate have and also valid voucher this program not work, only 2 time works. The third time shows the value of the 2 time.</p>\n<p>Thank you for help.</p>\n"},{"tags":["java","swing","jframe","action","jbutton"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1682079929,"post_id":76073092,"comment_id":134163346,"body_markdown":"Set visible should work. The most obvious error is that you&#39;re calling `setVisible(false);` on the wrong object. You need to make a complete example because right now there are a lot of things missing. Also please stick to java naming conventions.","body":"Set visible should work. The most obvious error is that you&#39;re calling <code>setVisible(false);</code> on the wrong object. You need to make a complete example because right now there are a lot of things missing. Also please stick to java naming conventions."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682080205,"post_id":76073092,"comment_id":134163423,"body_markdown":"`JFrame NavigationGUITest = new JFrame()` is creating a frame that is not the same as  `class NavigationGUITest extends JFrame`; first one is being displayed, but `setVisisble(false)` is being called on second one - but, since missing some code, no idea what is happening with second frame (`NavigationGUITest` instance)","body":"<code>JFrame NavigationGUITest = new JFrame()</code> is creating a frame that is not the same as  <code>class NavigationGUITest extends JFrame</code>; first one is being displayed, but <code>setVisisble(false)</code> is being called on second one - but, since missing some code, no idea what is happening with second frame (<code>NavigationGUITest</code> instance)"},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1682081252,"post_id":76073092,"comment_id":134163688,"body_markdown":"@matt: Thanks very much for taking an interest! I&#39;ve edited the question to include my NavigationGUITest.form. That is all the code present in my src directory.  I&#39;m using intellij.\n\nI&#39;ll take a look at the main Java naming conventions and edit the code accordingly.","body":"@matt: Thanks very much for taking an interest! I&#39;ve edited the question to include my NavigationGUITest.form. That is all the code present in my src directory.  I&#39;m using intellij.  I&#39;ll take a look at the main Java naming conventions and edit the code accordingly."},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1682082797,"post_id":76073092,"comment_id":134164062,"body_markdown":"@user16320675: Thanks very much for your help! I now realise I created two separate JFrames and my setVisible(false) function was only hiding one of them!","body":"@user16320675: Thanks very much for your help! I now realise I created two separate JFrames and my setVisible(false) function was only hiding one of them!"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682081549,"creation_date":1682081549,"answer_id":76073347,"question_id":76073092,"body_markdown":"You&#39;re making this mistake a couple times.\r\n\r\n    JFrame NavigationGUITest = new JFrame();\r\n    NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\r\n\r\nWhy would you use `setContentPane`? Just try.\r\n\r\n    NavigationGUITest navigationGUITest = new NavigationGUITest(); \r\n\r\nThen if you must.\r\n\r\n    navigationGUITest.setContentPane( navigationGUITest.NavigationButtonsPanel );\r\n\r\n","title":"The setVisible(false) function for a JFrame does not make the JFrame disappear","body":"<p>You're making this mistake a couple times.</p>\n<pre><code>JFrame NavigationGUITest = new JFrame();\nNavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\n</code></pre>\n<p>Why would you use <code>setContentPane</code>? Just try.</p>\n<pre><code>NavigationGUITest navigationGUITest = new NavigationGUITest(); \n</code></pre>\n<p>Then if you must.</p>\n<pre><code>navigationGUITest.setContentPane( navigationGUITest.NavigationButtonsPanel );\n</code></pre>\n"}],"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76073347,"answer_count":1,"score":-1,"last_activity_date":1682180623,"creation_date":1682079486,"question_id":76073092,"body_markdown":"I&#39;m trying to make a button on a JFrame cause that JFrame to disappear and call another JFrame. It should reappear in the same state later when the new JFrame is dismissed. I can call the new JFrame successfully, but the setVisible(false) function appears to do nothing.\r\n\r\nHere&#39;s the code for the JFrame I want to make disappear temporarily.\r\n\r\nFirst the Main class:\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run () {\r\n                JFrame NavigationGUITest = new JFrame();\r\n                NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\r\n                NavigationGUITest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                NavigationGUITest.pack();\r\n                NavigationGUITest.setSize(300,400);\r\n                NavigationGUITest.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThen the JFrame class for the Frame I want to make disappear (but that refuses to disappear):\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run () {\r\n                JFrame NavigationGUITest = new JFrame();\r\n                NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\r\n                NavigationGUITest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                NavigationGUITest.pack();\r\n                NavigationGUITest.setSize(300,400);\r\n                NavigationGUITest.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve used a different syntax for each of the action listeners to illustrate how my problem turns up in both cases.\r\n\r\nFinally, here&#39;s my navigationGUITest.form:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;form xmlns=&quot;http://www.intellij.com/uidesigner/form/&quot; version=&quot;1&quot; bind-to-class=&quot;NavigationGUITest&quot;&gt;\r\n  &lt;grid id=&quot;27dc6&quot; binding=&quot;NavigationButtonsPanel&quot; layout-manager=&quot;GridLayoutManager&quot; row-count=&quot;2&quot; column-count=&quot;1&quot; same-size-horizontally=&quot;false&quot; same-size-vertically=&quot;false&quot; hgap=&quot;-1&quot; vgap=&quot;-1&quot;&gt;\r\n    &lt;margin top=&quot;0&quot; left=&quot;0&quot; bottom=&quot;0&quot; right=&quot;0&quot;/&gt;\r\n    &lt;constraints&gt;\r\n      &lt;xy x=&quot;20&quot; y=&quot;20&quot; width=&quot;500&quot; height=&quot;400&quot;/&gt;\r\n    &lt;/constraints&gt;\r\n    &lt;properties/&gt;\r\n    &lt;border type=&quot;none&quot;/&gt;\r\n    &lt;children&gt;\r\n      &lt;component id=&quot;9b808&quot; class=&quot;javax.swing.JButton&quot; binding=&quot;CreateNewRecordBtn&quot;&gt;\r\n        &lt;constraints&gt;\r\n          &lt;grid row=&quot;0&quot; column=&quot;0&quot; row-span=&quot;1&quot; col-span=&quot;1&quot; vsize-policy=&quot;0&quot; hsize-policy=&quot;3&quot; anchor=&quot;0&quot; fill=&quot;1&quot; indent=&quot;0&quot; use-parent-layout=&quot;false&quot;/&gt;\r\n        &lt;/constraints&gt;\r\n        &lt;properties&gt;\r\n          &lt;text value=&quot;Create a new record&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/component&gt;\r\n      &lt;component id=&quot;dbdac&quot; class=&quot;javax.swing.JButton&quot; binding=&quot;EditRecordBtn&quot;&gt;\r\n        &lt;constraints&gt;\r\n          &lt;grid row=&quot;1&quot; column=&quot;0&quot; row-span=&quot;1&quot; col-span=&quot;1&quot; vsize-policy=&quot;0&quot; hsize-policy=&quot;3&quot; anchor=&quot;0&quot; fill=&quot;1&quot; indent=&quot;0&quot; use-parent-layout=&quot;false&quot;/&gt;\r\n        &lt;/constraints&gt;\r\n        &lt;properties&gt;\r\n          &lt;text value=&quot;Edit an existing record&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/component&gt;\r\n    &lt;/children&gt;\r\n  &lt;/grid&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nTo recap. my question is: why doesn&#39;t setVisible(false) in the actionlistener clauses for the buttons cause the Navigation JFrame to disappear?\r\n\r\nI&#39;m perfectly sure I&#39;m missing something pretty obvious, but for the life of me I can&#39;t identify what it is.\r\n\r\n","title":"The setVisible(false) function for a JFrame does not make the JFrame disappear","body":"<p>I'm trying to make a button on a JFrame cause that JFrame to disappear and call another JFrame. It should reappear in the same state later when the new JFrame is dismissed. I can call the new JFrame successfully, but the setVisible(false) function appears to do nothing.</p>\n<p>Here's the code for the JFrame I want to make disappear temporarily.</p>\n<p>First the Main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run () {\n                JFrame NavigationGUITest = new JFrame();\n                NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\n                NavigationGUITest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                NavigationGUITest.pack();\n                NavigationGUITest.setSize(300,400);\n                NavigationGUITest.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n<p>Then the JFrame class for the Frame I want to make disappear (but that refuses to disappear):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run () {\n                JFrame NavigationGUITest = new JFrame();\n                NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\n                NavigationGUITest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                NavigationGUITest.pack();\n                NavigationGUITest.setSize(300,400);\n                NavigationGUITest.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n<p>I've used a different syntax for each of the action listeners to illustrate how my problem turns up in both cases.</p>\n<p>Finally, here's my navigationGUITest.form:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;form xmlns=&quot;http://www.intellij.com/uidesigner/form/&quot; version=&quot;1&quot; bind-to-class=&quot;NavigationGUITest&quot;&gt;\n  &lt;grid id=&quot;27dc6&quot; binding=&quot;NavigationButtonsPanel&quot; layout-manager=&quot;GridLayoutManager&quot; row-count=&quot;2&quot; column-count=&quot;1&quot; same-size-horizontally=&quot;false&quot; same-size-vertically=&quot;false&quot; hgap=&quot;-1&quot; vgap=&quot;-1&quot;&gt;\n    &lt;margin top=&quot;0&quot; left=&quot;0&quot; bottom=&quot;0&quot; right=&quot;0&quot;/&gt;\n    &lt;constraints&gt;\n      &lt;xy x=&quot;20&quot; y=&quot;20&quot; width=&quot;500&quot; height=&quot;400&quot;/&gt;\n    &lt;/constraints&gt;\n    &lt;properties/&gt;\n    &lt;border type=&quot;none&quot;/&gt;\n    &lt;children&gt;\n      &lt;component id=&quot;9b808&quot; class=&quot;javax.swing.JButton&quot; binding=&quot;CreateNewRecordBtn&quot;&gt;\n        &lt;constraints&gt;\n          &lt;grid row=&quot;0&quot; column=&quot;0&quot; row-span=&quot;1&quot; col-span=&quot;1&quot; vsize-policy=&quot;0&quot; hsize-policy=&quot;3&quot; anchor=&quot;0&quot; fill=&quot;1&quot; indent=&quot;0&quot; use-parent-layout=&quot;false&quot;/&gt;\n        &lt;/constraints&gt;\n        &lt;properties&gt;\n          &lt;text value=&quot;Create a new record&quot;/&gt;\n        &lt;/properties&gt;\n      &lt;/component&gt;\n      &lt;component id=&quot;dbdac&quot; class=&quot;javax.swing.JButton&quot; binding=&quot;EditRecordBtn&quot;&gt;\n        &lt;constraints&gt;\n          &lt;grid row=&quot;1&quot; column=&quot;0&quot; row-span=&quot;1&quot; col-span=&quot;1&quot; vsize-policy=&quot;0&quot; hsize-policy=&quot;3&quot; anchor=&quot;0&quot; fill=&quot;1&quot; indent=&quot;0&quot; use-parent-layout=&quot;false&quot;/&gt;\n        &lt;/constraints&gt;\n        &lt;properties&gt;\n          &lt;text value=&quot;Edit an existing record&quot;/&gt;\n        &lt;/properties&gt;\n      &lt;/component&gt;\n    &lt;/children&gt;\n  &lt;/grid&gt;\n&lt;/form&gt;\n</code></pre>\n<p>To recap. my question is: why doesn't setVisible(false) in the actionlistener clauses for the buttons cause the Navigation JFrame to disappear?</p>\n<p>I'm perfectly sure I'm missing something pretty obvious, but for the life of me I can't identify what it is.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1681654046,"post_id":76003921,"comment_id":134087877,"body_markdown":"what do you mean under &quot;reuse&quot;? Do you want to define JPA annotations in MappedSuperClass and define particular sequence in child classes?","body":"what do you mean under &quot;reuse&quot;? Do you want to define JPA annotations in MappedSuperClass and define particular sequence in child classes?"},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1681658634,"post_id":76003921,"comment_id":134088570,"body_markdown":"yes, I want to reuse the Counter definition but pass in the variable sequence_name and other values as dynamic parameter from extended child classes","body":"yes, I want to reuse the Counter definition but pass in the variable sequence_name and other values as dynamic parameter from extended child classes"},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1681768644,"post_id":76003921,"comment_id":134107454,"body_markdown":"what db engine you use oracle or mysql etc..?","body":"what db engine you use oracle or mysql etc..?"},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":2,"creation_date":1681805345,"post_id":76003921,"comment_id":134111709,"body_markdown":"why do you need this? Having static sequences defined for you db and inside your entities is way easier to understand also way easier to do. There is no point I can think of where this will come in handy and fix a problem you might face. And even speaking of that: Do not fix problems which are not there!","body":"why do you need this? Having static sequences defined for you db and inside your entities is way easier to understand also way easier to do. There is no point I can think of where this will come in handy and fix a problem you might face. And even speaking of that: Do not fix problems which are not there!"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681660435,"creation_date":1681660435,"answer_id":76028793,"question_id":76003921,"body_markdown":"The main idea could be override `org.hibernate.id.enhanced.SequenceStyleGenerator` in the following way:\r\n\r\n\r\n```java\r\n@Target(TYPE)\r\n@Retention(RUNTIME)\r\n@Inherited\r\npublic @interface EntityAwareGeneratorParams {\r\n\r\n    String sequence();\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class EntityAwareGenerator extends SequenceStyleGenerator {\r\n\r\n    public static final String NAME = EntityAwareGenerator.class.getName();\r\n\r\n    @Override\r\n    public void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\r\n        String entityName = params.getProperty(ENTITY_NAME);\r\n        if (entityName == null) {\r\n            throw new IllegalStateException(&quot;Entity name must not be null&quot;);\r\n        }\r\n\r\n        Class&lt;?&gt; entityClass = serviceRegistry.requireService(ClassLoaderService.class)\r\n                .classForName(entityName);\r\n\r\n        EntityAwareGeneratorParams generatorParams = entityClass.getAnnotation(EntityAwareGeneratorParams.class);\r\n        if (generatorParams == null) {\r\n            throw new IllegalStateException(String.format(\r\n                    &quot;Annotation @%s is not present for class %s&quot;,\r\n                    EntityAwareGeneratorParams.class.getName(),\r\n                    entityClass.getName()\r\n            ));\r\n        }\r\n\r\n        params.setProperty(SEQUENCE_PARAM, generatorParams.sequence());\r\n\r\n        super.configure(type, params, serviceRegistry);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMappedSuperClass:\r\n\r\n```java\r\n@Id\r\n@GeneratedValue(generator = &quot;entity-aware-generator&quot;, strategy = GenerationType.SEQUENCE)\r\n@GenericGenerator(name = &quot;entity-aware-generator&quot;, strategy = EntityAwareGenerator.NAME, ...)\r\nprivate Long id;\r\n```\r\n\r\nChild classes:\r\n\r\n```\r\n@Entity\r\n@EntityAwareGeneratorParams(sequence=&quot;another sequence&quot;)\r\n```","title":"How to dynamically create sequence generators in JPA","body":"<p>The main idea could be override <code>org.hibernate.id.enhanced.SequenceStyleGenerator</code> in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(TYPE)\n@Retention(RUNTIME)\n@Inherited\npublic @interface EntityAwareGeneratorParams {\n\n    String sequence();\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class EntityAwareGenerator extends SequenceStyleGenerator {\n\n    public static final String NAME = EntityAwareGenerator.class.getName();\n\n    @Override\n    public void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\n        String entityName = params.getProperty(ENTITY_NAME);\n        if (entityName == null) {\n            throw new IllegalStateException(&quot;Entity name must not be null&quot;);\n        }\n\n        Class&lt;?&gt; entityClass = serviceRegistry.requireService(ClassLoaderService.class)\n                .classForName(entityName);\n\n        EntityAwareGeneratorParams generatorParams = entityClass.getAnnotation(EntityAwareGeneratorParams.class);\n        if (generatorParams == null) {\n            throw new IllegalStateException(String.format(\n                    &quot;Annotation @%s is not present for class %s&quot;,\n                    EntityAwareGeneratorParams.class.getName(),\n                    entityClass.getName()\n            ));\n        }\n\n        params.setProperty(SEQUENCE_PARAM, generatorParams.sequence());\n\n        super.configure(type, params, serviceRegistry);\n    }\n\n}\n</code></pre>\n<p>MappedSuperClass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(generator = &quot;entity-aware-generator&quot;, strategy = GenerationType.SEQUENCE)\n@GenericGenerator(name = &quot;entity-aware-generator&quot;, strategy = EntityAwareGenerator.NAME, ...)\nprivate Long id;\n</code></pre>\n<p>Child classes:</p>\n<pre><code>@Entity\n@EntityAwareGeneratorParams(sequence=&quot;another sequence&quot;)\n</code></pre>\n"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1682180122,"creation_date":1681378603,"question_id":76003921,"body_markdown":"I want to reuse Counter by passing the sequence name `order_sequence` dynamically to this class, how can this be achieved\r\n\r\n    public class Counter  {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(generator = &quot;sequence-generator&quot;)\r\n    \t@GenericGenerator(name = &quot;sequence-generator&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\r\n    \t\t\t@Parameter(name = &quot;sequence_name&quot;, value = &quot;order_sequence&quot;),\r\n    \t\t\t@Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;), @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;) })\r\n    \tprivate Long counter;\r\n    \r\n    }","title":"How to dynamically create sequence generators in JPA","body":"<p>I want to reuse Counter by passing the sequence name <code>order_sequence</code> dynamically to this class, how can this be achieved</p>\n<pre><code>public class Counter  {\n    \n    @Id\n    @GeneratedValue(generator = &quot;sequence-generator&quot;)\n    @GenericGenerator(name = &quot;sequence-generator&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\n            @Parameter(name = &quot;sequence_name&quot;, value = &quot;order_sequence&quot;),\n            @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;), @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;) })\n    private Long counter;\n\n}\n</code></pre>\n"},{"tags":["java","generics","abstract-class"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1682131322,"post_id":76076964,"comment_id":134171631,"body_markdown":"You can&#39;t, but you shouldn&#39;t need to.","body":"You can&#39;t, but you shouldn&#39;t need to."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682116880,"creation_date":1682116880,"answer_id":76077153,"question_id":76076964,"body_markdown":"Make the method generic:\r\n\r\n```\r\nprivate &lt;T&gt; List&lt;Pair&lt;String, T&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, T&gt;&gt; list) {\r\n   List&lt;Pair&lt;String, T&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n   list.forEach(item-&gt; {\r\n     //do something\r\n     deduplicatedItems.add(item);\r\n   });\r\n   return deduplicatedItems;\r\n}\r\n```\r\n\r\nIf A and B both implement the same interface or extend a common parent class, and you want &quot;do something&quot; to interact with the elements in that way, put a bound on T:\r\n\r\n```\r\nprivate &lt;T extends MyCommonType&gt; List&lt;Pair&lt;String, T&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, T&gt;&gt; list) {\r\n```\r\n\r\n","title":"Java determine the type of class for a list in generic class","body":"<p>Make the method generic:</p>\n<pre><code>private &lt;T&gt; List&lt;Pair&lt;String, T&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, T&gt;&gt; list) {\n   List&lt;Pair&lt;String, T&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n   list.forEach(item-&gt; {\n     //do something\n     deduplicatedItems.add(item);\n   });\n   return deduplicatedItems;\n}\n</code></pre>\n<p>If A and B both implement the same interface or extend a common parent class, and you want &quot;do something&quot; to interact with the elements in that way, put a bound on T:</p>\n<pre><code>private &lt;T extends MyCommonType&gt; List&lt;Pair&lt;String, T&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, T&gt;&gt; list) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682180113,"creation_date":1682180113,"answer_id":76080647,"question_id":76076964,"body_markdown":"You should not be checking the type.  You definitely should not write something like `if (element instanceof A) { } else if (element instanceof B) { } else if` etc.\r\n\r\nThe problem is that your method doesn’t know how to check two instances of type V for equality.  Since your method doesn’t have that information, you should force callers to provide that information:\r\n\r\n    private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(\r\n                        List&lt;Pair&lt;String, V&gt;&gt; list,\r\n                        BiPredicate&lt;? super V, ? super V&gt; equalityChecker) {\r\n\r\n        List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n        List&lt;V&gt; existingValues = new ArrayList&lt;&gt;();\r\n\r\n        for (Pair&lt;String, V&gt;&gt; pair : list) {\r\n            V value = pair.getValue();\r\n            if (existingValues.stream().noneMatch(\r\n                v -&gt; equalityChecker.test(v, value)) {\r\n\r\n                existingValues.add(value);\r\n                deduplicatedItems.add(pair);\r\n            }\r\n        }\r\n\r\n        return deduplicatedItems;\r\n    }\r\n\r\n[BiPredicate](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/BiPredicate.html) is an interface that tests two values and returns a boolean based on them.  An example usage might be:\r\n\r\n    List&lt;Pair&lt;String, String&gt;&gt; numbers = new ArrayList&lt;&gt;();\r\n    numbers.add(Pair.of(&quot;1&quot;, &quot;ONE&quot;));\r\n    numbers.add(Pair.of(&quot;1&quot;, &quot;one&quot;));\r\n    numbers.add(Pair.of(&quot;2&quot;, &quot;TWO&quot;));\r\n    numbers.add(Pair.of(&quot;2&quot;, &quot;two&quot;));\r\n    numbers.add(Pair.of(&quot;3&quot;, &quot;THREE&quot;));\r\n    numbers.add(Pair.of(&quot;3&quot;, &quot;three&quot;));\r\n\r\n    List&lt;Pair&lt;String, String&gt;&gt; uniqueNumbers =\r\n        deduplicateItems(numbers, String::equalsIgnoreCase);\r\n\r\nIf every class that V will ever represent has a reliable [equals](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) method defined, you don’t need the second argument, and you can use a Set to make checking for duplicate values more efficient:\r\n\r\n    private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, V&gt;&gt; list) {\r\n\r\n        List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n        Set&lt;V&gt; existingValues = new HashSet&lt;&gt;();\r\n\r\n        for (Pair&lt;String, V&gt;&gt; pair : list) {\r\n            if (existingValues.add(pair.getValue())) {\r\n                deduplicatedItems.add(pair);\r\n            }\r\n        }\r\n\r\n        return deduplicatedItems;\r\n    }\r\n\r\nThe above works because the [Set.add method](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#add(E)) makes this guarantee:\r\n\r\n&gt; **Returns:**\r\n&gt;\r\n&gt; `true` if this set did not already contain the specified element\r\n\r\nOf course, you can also define both of the above deduplicateItems methods, and let calling code decide which is appropriate in a given situation.\r\n","title":"Java determine the type of class for a list in generic class","body":"<p>You should not be checking the type.  You definitely should not write something like <code>if (element instanceof A) { } else if (element instanceof B) { } else if</code> etc.</p>\n<p>The problem is that your method doesn’t know how to check two instances of type V for equality.  Since your method doesn’t have that information, you should force callers to provide that information:</p>\n<pre><code>private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(\n                    List&lt;Pair&lt;String, V&gt;&gt; list,\n                    BiPredicate&lt;? super V, ? super V&gt; equalityChecker) {\n\n    List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n    List&lt;V&gt; existingValues = new ArrayList&lt;&gt;();\n\n    for (Pair&lt;String, V&gt;&gt; pair : list) {\n        V value = pair.getValue();\n        if (existingValues.stream().noneMatch(\n            v -&gt; equalityChecker.test(v, value)) {\n\n            existingValues.add(value);\n            deduplicatedItems.add(pair);\n        }\n    }\n\n    return deduplicatedItems;\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/BiPredicate.html\" rel=\"nofollow noreferrer\">BiPredicate</a> is an interface that tests two values and returns a boolean based on them.  An example usage might be:</p>\n<pre><code>List&lt;Pair&lt;String, String&gt;&gt; numbers = new ArrayList&lt;&gt;();\nnumbers.add(Pair.of(&quot;1&quot;, &quot;ONE&quot;));\nnumbers.add(Pair.of(&quot;1&quot;, &quot;one&quot;));\nnumbers.add(Pair.of(&quot;2&quot;, &quot;TWO&quot;));\nnumbers.add(Pair.of(&quot;2&quot;, &quot;two&quot;));\nnumbers.add(Pair.of(&quot;3&quot;, &quot;THREE&quot;));\nnumbers.add(Pair.of(&quot;3&quot;, &quot;three&quot;));\n\nList&lt;Pair&lt;String, String&gt;&gt; uniqueNumbers =\n    deduplicateItems(numbers, String::equalsIgnoreCase);\n</code></pre>\n<p>If every class that V will ever represent has a reliable <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">equals</a> method defined, you don’t need the second argument, and you can use a Set to make checking for duplicate values more efficient:</p>\n<pre><code>private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, V&gt;&gt; list) {\n\n    List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n    Set&lt;V&gt; existingValues = new HashSet&lt;&gt;();\n\n    for (Pair&lt;String, V&gt;&gt; pair : list) {\n        if (existingValues.add(pair.getValue())) {\n            deduplicatedItems.add(pair);\n        }\n    }\n\n    return deduplicatedItems;\n}\n</code></pre>\n<p>The above works because the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#add(E)\" rel=\"nofollow noreferrer\">Set.add method</a> makes this guarantee:</p>\n<blockquote>\n<p><strong>Returns:</strong></p>\n<p><code>true</code> if this set did not already contain the specified element</p>\n</blockquote>\n<p>Of course, you can also define both of the above deduplicateItems methods, and let calling code decide which is appropriate in a given situation.</p>\n"}],"owner":{"account_id":15757876,"reputation":119,"user_id":11370492,"display_name":"underachiever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682180113,"creation_date":1682114395,"question_id":76076964,"body_markdown":"I&#39;m new to Java generics and I&#39;m currently stuck with determining the type of Pair object (apache&#39;s) in a list.\r\n\r\nI have two classes A and B and both have a method that&#39;s doing the exact same operation (code duplication). \r\n\r\nThe method is something like this:\r\n\r\n```\r\nprivate List&lt;Pair&lt;String, A&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, A&gt;&gt; list) {\r\n   \r\n   List&lt;Pair&lt;String, A&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n   list.forEach(item-&gt; {\r\n     //do something\r\n     deduplicatedItems.add(item);\r\n   });\r\n\r\n}\r\n```\r\nThe same exact method is in class B (the type of Value in Pair is B).\r\n\r\nI would like to create a generic abstract class that can handle this operation.\r\n\r\nI have so far:\r\n\r\n```\r\npublic abstract class AbstractHelper&lt;V&gt; {\r\n     \r\n      private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, V&gt;&gt; list) {\r\n      \r\n      List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n    \r\n      //problem here determining the type of class for this generic\r\n   });\r\n\r\n      }\r\n}\r\n```\r\n\r\nI would like to determine the type of V and cast that to be able to access the get() methods.\r\n\r\nIs using `list.get(0) instanceof A` the right way to do? I feel like that maybe too naive but I could be wrong here.","title":"Java determine the type of class for a list in generic class","body":"<p>I'm new to Java generics and I'm currently stuck with determining the type of Pair object (apache's) in a list.</p>\n<p>I have two classes A and B and both have a method that's doing the exact same operation (code duplication).</p>\n<p>The method is something like this:</p>\n<pre><code>private List&lt;Pair&lt;String, A&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, A&gt;&gt; list) {\n   \n   List&lt;Pair&lt;String, A&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n   list.forEach(item-&gt; {\n     //do something\n     deduplicatedItems.add(item);\n   });\n\n}\n</code></pre>\n<p>The same exact method is in class B (the type of Value in Pair is B).</p>\n<p>I would like to create a generic abstract class that can handle this operation.</p>\n<p>I have so far:</p>\n<pre><code>public abstract class AbstractHelper&lt;V&gt; {\n     \n      private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, V&gt;&gt; list) {\n      \n      List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n    \n      //problem here determining the type of class for this generic\n   });\n\n      }\n}\n</code></pre>\n<p>I would like to determine the type of V and cast that to be able to access the get() methods.</p>\n<p>Is using <code>list.get(0) instanceof A</code> the right way to do? I feel like that maybe too naive but I could be wrong here.</p>\n"},{"tags":["java","spring","maven","intellij-idea"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681561205,"post_id":76022157,"comment_id":134078320,"body_markdown":"How is this inconvenient?","body":"How is this inconvenient?"}],"answers":[{"tags":[],"owner":{"account_id":11563256,"reputation":401,"user_id":8472357,"display_name":"Hasan Kaan TURAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681561767,"creation_date":1681561767,"answer_id":76022279,"question_id":76022157,"body_markdown":"I think it&#39;s close to impossible. Because the generate menu is actually a basic plugin of intellij. So you may need to develop a plugin to remove it.","title":"How to disable Add Dependency in Generate menu","body":"<p>I think it's close to impossible. Because the generate menu is actually a basic plugin of intellij. So you may need to develop a plugin to remove it.</p>\n"},{"tags":[],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681571241,"creation_date":1681571241,"answer_id":76023087,"question_id":76022157,"body_markdown":"This seems to be a regression bug in IntelliJ 2023.1 and will be fixed with 2023.1.1 and 2023.2, see [IDEA-314227][1]. Once these versions have been released, consider updating.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-314227","title":"How to disable Add Dependency in Generate menu","body":"<p>This seems to be a regression bug in IntelliJ 2023.1 and will be fixed with 2023.1.1 and 2023.2, see <a href=\"https://youtrack.jetbrains.com/issue/IDEA-314227\" rel=\"nofollow noreferrer\">IDEA-314227</a>. Once these versions have been released, consider updating.</p>\n"}],"owner":{"account_id":27145220,"reputation":1,"user_id":20685545,"display_name":"pedri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682179924,"creation_date":1681560371,"question_id":76022157,"body_markdown":"I configure one project in Spring and later I open new Project in Maven and when I press Alt+Insert, I have new options like _Add Dependency..._. It&#39;s very inconvenient. How to disable this?\r\n\r\n[Problem](https://i.stack.imgur.com/r4n3V.png)","title":"How to disable Add Dependency in Generate menu","body":"<p>I configure one project in Spring and later I open new Project in Maven and when I press Alt+Insert, I have new options like <em>Add Dependency...</em>. It's very inconvenient. How to disable this?</p>\n<p><a href=\"https://i.stack.imgur.com/r4n3V.png\" rel=\"nofollow noreferrer\">Problem</a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1682087307,"post_id":76074103,"comment_id":134165225,"body_markdown":"Components don&#39;t have &quot;names&quot;, but really what you need to do first and foremost is to fix this broken code by getting all that code out of the main method. It has no business there and its placement there is harming you and your ability to move forward. Instead, GUI code should be OOP-complaint code, just like non-GUI code, with instance methods and fields, and by doing this, you can gain references to your GUI components and solve your problem. The static main method should be used only to create your main objects and set them in motion, that&#39;s it.","body":"Components don&#39;t have &quot;names&quot;, but really what you need to do first and foremost is to fix this broken code by getting all that code out of the main method. It has no business there and its placement there is harming you and your ability to move forward. Instead, GUI code should be OOP-complaint code, just like non-GUI code, with instance methods and fields, and by doing this, you can gain references to your GUI components and solve your problem. The static main method should be used only to create your main objects and set them in motion, that&#39;s it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1682087400,"post_id":76074103,"comment_id":134165245,"body_markdown":"Also, don&#39;t create your key components inline, like you&#39;re doing here: `jPanel.add(new TextField(attributeName));`. Instead, if you need access to that text field (which should be a JTextField, by the way), make it an instance field.","body":"Also, don&#39;t create your key components inline, like you&#39;re doing here: <code>jPanel.add(new TextField(attributeName));</code>. Instead, if you need access to that text field (which should be a JTextField, by the way), make it an instance field."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1682088088,"post_id":76074103,"comment_id":134165400,"body_markdown":"`// need generate this component programmatically` If this is what you are asking (I honestly can&#39;t tell, the question is a little all over the place), then we&#39;d need to see the DB data and how you read it.  I think you&#39;re going to need a lot more code than you have, but let&#39;s get the basic question correct first.  Can you show us how the data is read from the database so we can see how perhaps you might generate that field?","body":"<code>&#47;&#47; need generate this component programmatically</code> If this is what you are asking (I honestly can&#39;t tell, the question is a little all over the place), then we&#39;d need to see the DB data and how you read it.  I think you&#39;re going to need a lot more code than you have, but let&#39;s get the basic question correct first.  Can you show us how the data is read from the database so we can see how perhaps you might generate that field?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1682088188,"post_id":76074103,"comment_id":134165426,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682090802,"post_id":76074103,"comment_id":134166017,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682089200,"creation_date":1682088231,"answer_id":76074255,"question_id":76074103,"body_markdown":"What you need to do first and foremost is to fix this broken code by getting all that code out of the main method. It has no business there and its placement there is harming you and your ability to move forward by \r\n1. Limiting an object&#39;s visibility by declaring its variable in a restricted scope as per Java&#39;s scoping rules, and\r\n2. By restricting your important code to the static world where you lose all advantages of OOPs that Java has to offer.\r\n\r\nInstead, GUI code should be OOP-complaint code, just like non-GUI code, with instance methods and fields, and by doing this, you can gain references to your GUI components and solve your problem. The static main method should be used only to create your main objects and set them in motion, that&#39;s it.\r\n\r\nAlso, don&#39;t create your key components inline, like you&#39;re doing here: `jPanel.add(new TextField(attributeName));`. Instead, if you need access to that text field (which should be a JTextField, by the way), make it an instance field.\r\n\r\nSo, you look to be tying a collection of String attributes to JTextFields. One way to do this is to use a JTable. Another is to create a HashMap that uses the attribute name String as a key and a JTextField as a value. This way the text field&#39;s text can be obtained and also set via the the attribute key value:\r\n\r\n```\r\n// here ATTRIBUTES is a constant String array, but it represents a list of attributes\r\n// that can be obtained however you want\r\npublic static final String[] ATTRIBUTES = {&quot;Name&quot;, &quot;Age&quot;, &quot;Address&quot;};\r\n\r\nprivate Map&lt;String, JTextField&gt; attributeMap = new HashMap&lt;&gt;();\r\n```\r\n\r\nFor example:\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.GridLayout;\r\nimport javax.swing.*;\r\n\r\npublic class GuiFoo01 extends JPanel {\r\n    // here ATTRIBUTES is a constant String array, but it represents a list of attributes\r\n    // that can be obtained however you want\r\n    public static final String[] ATTRIBUTES = {&quot;Name&quot;, &quot;Age&quot;, &quot;Address&quot;};\r\n\r\n    private JButton button = new JButton(&quot;Save&quot;);\r\n\r\n    // this is a map that ties attribute Strings to text fields\r\n    private Map&lt;String, JTextField&gt; attributeMap = new HashMap&lt;&gt;();\r\n\r\n    public GuiFoo01() {\r\n        JPanel attributePanel = new JPanel(new GridLayout(0, 2));\r\n        for (String attribute : ATTRIBUTES) {\r\n            JTextField textField = new JTextField(10);\r\n            attributePanel.add(new JLabel(attribute));\r\n            attributePanel.add(textField);\r\n            attributeMap.put(attribute, textField);\r\n        }\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.add(button);        \r\n\r\n        setLayout(new BorderLayout());\r\n        add(attributePanel, BorderLayout.CENTER);\r\n        add(buttonPanel, BorderLayout.PAGE_END);\r\n\r\n        button.addActionListener(e -&gt; {\r\n            // do something\r\n        });\r\n    }\r\n\r\n    public void setAttribute(String attribute, String value) {\r\n        JTextField textField = attributeMap.get(attribute);\r\n        if (textField != null) {\r\n            textField.setText(value);\r\n        }\r\n    }\r\n\r\n    public String getAttribute(String attribute) {\r\n        JTextField textField = attributeMap.get(attribute);\r\n        if (textField != null) {\r\n            return textField.getText();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(new GuiFoo01());\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```","title":"How can I get the UI component name so I can set and get the values from and to DB?","body":"<p>What you need to do first and foremost is to fix this broken code by getting all that code out of the main method. It has no business there and its placement there is harming you and your ability to move forward by</p>\n<ol>\n<li>Limiting an object's visibility by declaring its variable in a restricted scope as per Java's scoping rules, and</li>\n<li>By restricting your important code to the static world where you lose all advantages of OOPs that Java has to offer.</li>\n</ol>\n<p>Instead, GUI code should be OOP-complaint code, just like non-GUI code, with instance methods and fields, and by doing this, you can gain references to your GUI components and solve your problem. The static main method should be used only to create your main objects and set them in motion, that's it.</p>\n<p>Also, don't create your key components inline, like you're doing here: <code>jPanel.add(new TextField(attributeName));</code>. Instead, if you need access to that text field (which should be a JTextField, by the way), make it an instance field.</p>\n<p>So, you look to be tying a collection of String attributes to JTextFields. One way to do this is to use a JTable. Another is to create a HashMap that uses the attribute name String as a key and a JTextField as a value. This way the text field's text can be obtained and also set via the the attribute key value:</p>\n<pre><code>// here ATTRIBUTES is a constant String array, but it represents a list of attributes\n// that can be obtained however you want\npublic static final String[] ATTRIBUTES = {&quot;Name&quot;, &quot;Age&quot;, &quot;Address&quot;};\n\nprivate Map&lt;String, JTextField&gt; attributeMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>For example:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport javax.swing.*;\n\npublic class GuiFoo01 extends JPanel {\n    // here ATTRIBUTES is a constant String array, but it represents a list of attributes\n    // that can be obtained however you want\n    public static final String[] ATTRIBUTES = {&quot;Name&quot;, &quot;Age&quot;, &quot;Address&quot;};\n\n    private JButton button = new JButton(&quot;Save&quot;);\n\n    // this is a map that ties attribute Strings to text fields\n    private Map&lt;String, JTextField&gt; attributeMap = new HashMap&lt;&gt;();\n\n    public GuiFoo01() {\n        JPanel attributePanel = new JPanel(new GridLayout(0, 2));\n        for (String attribute : ATTRIBUTES) {\n            JTextField textField = new JTextField(10);\n            attributePanel.add(new JLabel(attribute));\n            attributePanel.add(textField);\n            attributeMap.put(attribute, textField);\n        }\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.add(button);        \n\n        setLayout(new BorderLayout());\n        add(attributePanel, BorderLayout.CENTER);\n        add(buttonPanel, BorderLayout.PAGE_END);\n\n        button.addActionListener(e -&gt; {\n            // do something\n        });\n    }\n\n    public void setAttribute(String attribute, String value) {\n        JTextField textField = attributeMap.get(attribute);\n        if (textField != null) {\n            textField.setText(value);\n        }\n    }\n\n    public String getAttribute(String attribute) {\n        JTextField textField = attributeMap.get(attribute);\n        if (textField != null) {\n            return textField.getText();\n        }\n        return null;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(new GuiFoo01());\n            frame.pack();\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28169604,"reputation":3,"user_id":21528347,"display_name":"user21528347"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76074255,"answer_count":1,"score":0,"last_activity_date":1682179774,"creation_date":1682087039,"question_id":76074103,"body_markdown":"I am trying to develop a Java Swing UI. We have a simple employee details application where we take input from the user and store it in a database. \r\n\r\nThis my table structure:\r\n\r\n[DB Table Structure ](https://i.stack.imgur.com/JFGs8.png)\r\n\r\nI am able to store the data successfully in db table. We are restricting the user to only a few fields (again it is based on admin choice), where admin will maintain some configuration in somewhere (like in filesystem).\r\n\r\n[Allowed Field](https://i.stack.imgur.com/RHEIC.png) \r\n\r\nCurrently, we are allowing two fields the user can update. So, when this form is opened, it will populate previous value from db. Once we press the save button it should get persist in db by catching ActionListener event of Jbutton. With below program I can generate component.\r\n\r\n```java\r\npublic class TextFieldDemo extends JFrame {\r\n\r\n    static JFrame jframe;\r\n    static JButton jButton;\r\n\r\n    public static void main(String[] args) {\r\n        jframe = new JFrame(&quot;JText Field Demo&quot;);\r\n        String allowedUpdateField = &quot;Name, Adress&quot;; // reading from DB/FS\r\n        JPanel jPanel = new JPanel(new GridLayout(0, 1));\r\n\r\n        List&lt;String&gt; attributeList = new ArrayList&lt;String&gt;(Arrays.asList(allowedUpdateField.split(&quot;,&quot;)));\r\n        for (String attributeName : attributeList) {\r\n            jPanel.add(new JLabel(attributeName));\r\n            jPanel.add(new TextField(attributeName)); // need generate this component programmatically \r\n        }\r\n        jButton = new JButton(&quot;Save&quot;);\r\n        jPanel.add(jButton);\r\n        jframe.add(jPanel);\r\n        jframe.setSize(300, 300);\r\n        jframe.show(true);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand the output it generate (ignore the layout which I need to work):\r\n[Swing UI Output](https://i.stack.imgur.com/t2Ti1.png)\r\n\r\nHow can I get the component name so I can set and get the values from and to DB?\r\n","title":"How can I get the UI component name so I can set and get the values from and to DB?","body":"<p>I am trying to develop a Java Swing UI. We have a simple employee details application where we take input from the user and store it in a database.</p>\n<p>This my table structure:</p>\n<p><a href=\"https://i.stack.imgur.com/JFGs8.png\" rel=\"nofollow noreferrer\">DB Table Structure </a></p>\n<p>I am able to store the data successfully in db table. We are restricting the user to only a few fields (again it is based on admin choice), where admin will maintain some configuration in somewhere (like in filesystem).</p>\n<p><a href=\"https://i.stack.imgur.com/RHEIC.png\" rel=\"nofollow noreferrer\">Allowed Field</a></p>\n<p>Currently, we are allowing two fields the user can update. So, when this form is opened, it will populate previous value from db. Once we press the save button it should get persist in db by catching ActionListener event of Jbutton. With below program I can generate component.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TextFieldDemo extends JFrame {\n\n    static JFrame jframe;\n    static JButton jButton;\n\n    public static void main(String[] args) {\n        jframe = new JFrame(&quot;JText Field Demo&quot;);\n        String allowedUpdateField = &quot;Name, Adress&quot;; // reading from DB/FS\n        JPanel jPanel = new JPanel(new GridLayout(0, 1));\n\n        List&lt;String&gt; attributeList = new ArrayList&lt;String&gt;(Arrays.asList(allowedUpdateField.split(&quot;,&quot;)));\n        for (String attributeName : attributeList) {\n            jPanel.add(new JLabel(attributeName));\n            jPanel.add(new TextField(attributeName)); // need generate this component programmatically \n        }\n        jButton = new JButton(&quot;Save&quot;);\n        jPanel.add(jButton);\n        jframe.add(jPanel);\n        jframe.setSize(300, 300);\n        jframe.show(true);\n    }\n\n}\n</code></pre>\n<p>and the output it generate (ignore the layout which I need to work):\n<a href=\"https://i.stack.imgur.com/t2Ti1.png\" rel=\"nofollow noreferrer\">Swing UI Output</a></p>\n<p>How can I get the component name so I can set and get the values from and to DB?</p>\n"},{"tags":["java","list","removeall"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":4,"creation_date":1270996757,"post_id":2617369,"comment_id":2629189,"body_markdown":"for a start, give some code so that we don&#39;t guess","body":"for a start, give some code so that we don&#39;t guess"},{"owner":{"account_id":102191,"reputation":40009,"user_id":274466,"display_name":"ig0774"},"score":0,"creation_date":1270997255,"post_id":2617369,"comment_id":2629219,"body_markdown":"I think the question might be clearer if you could show the code for what you are trying to do.","body":"I think the question might be clearer if you could show the code for what you are trying to do."},{"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"score":0,"creation_date":1271005658,"post_id":2617369,"comment_id":2629742,"body_markdown":"It&#39;s been suggested here and below, but specifically please post the code for your `equals` and `hashCode` methods. You probably tried these but wrote them incorrectly. This is the correct approach and will work with `removeAll()` if done right.","body":"It&#39;s been suggested here and below, but specifically please post the code for your <code>equals</code> and <code>hashCode</code> methods. You probably tried these but wrote them incorrectly. This is the correct approach and will work with <code>removeAll()</code> if done right."}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1682147355,"creation_date":1270996806,"answer_id":2617380,"question_id":2617369,"body_markdown":"Java Collections already cater for your scenario. Call [`Collection.removeAll(Collection)`][1] and it&#39;ll remove all the items from the passed in collection using the `equals()` method to test for equality.\r\n\r\n    List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n    Collections.addAll(list1, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);\r\n    List&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\r\n    Collections.addAll(list2, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;);\r\n    list1.removeAll(list2); // now contains &quot;one&quot;, &quot;two&quot;\r\n\r\nTo make this work the objects you&#39;re storing just need to properly implement the equals/hashCode contract, which is: given any two objects `a` and `b`:\r\n\r\n    a.equals(b) == b.equals(a)\r\n\r\nand:\r\n\r\n    a.hashCode() == b.hashCode() if a.equals(b)\r\n\r\nImproperly defined equals and hashCode methods create undefined behaviour and are the common cause of collections related issues.\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#removeAll(java.util.Collection)\r\n\r\n\r\n","title":"Problem with implementing removeAll for List of custom object","body":"<p>Java Collections already cater for your scenario. Call <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#removeAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collection.removeAll(Collection)</code></a> and it'll remove all the items from the passed in collection using the <code>equals()</code> method to test for equality.</p>\n<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\nCollections.addAll(list1, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);\nList&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\nCollections.addAll(list2, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;);\nlist1.removeAll(list2); // now contains &quot;one&quot;, &quot;two&quot;\n</code></pre>\n<p>To make this work the objects you're storing just need to properly implement the equals/hashCode contract, which is: given any two objects <code>a</code> and <code>b</code>:</p>\n<pre><code>a.equals(b) == b.equals(a)\n</code></pre>\n<p>and:</p>\n<pre><code>a.hashCode() == b.hashCode() if a.equals(b)\n</code></pre>\n<p>Improperly defined equals and hashCode methods create undefined behaviour and are the common cause of collections related issues.</p>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1270997049,"creation_date":1270997049,"answer_id":2617389,"question_id":2617369,"body_markdown":"Overriding `equals` and `hashCode` methods is enough to make method `removeAll` work on custom objects. \r\n\r\nIt&#39;s likely that you didn&#39;t override them in a proper way. Some code will help us a lot.","title":"Problem with implementing removeAll for List of custom object","body":"<p>Overriding <code>equals</code> and <code>hashCode</code> methods is enough to make method <code>removeAll</code> work on custom objects. </p>\n\n<p>It's likely that you didn't override them in a proper way. Some code will help us a lot.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270999250,"creation_date":1270999250,"answer_id":2617507,"question_id":2617369,"body_markdown":"You said:\n\n&gt; ... Since my List is created on a custom object, the removeAll method won&#39;t work for me.\n\nAs others have stated, .removeAll() should work for the scenario you described, even for custom objects, as long as the custom objects obey the contracts that Java Collections expects of its objects, including a properly implement equals() and hashCode() method.\n\n&gt; I have tried various methods to make this work: - implemented equals() and hashCode for the custom object comprising the list - implemented the Comparable Interface for the custom object - implemented the Comparator Interface for the custom object ...\n\nIt sounds like your are shot-gunning different approaches: coding one, trying it, quickly coding another, trying it, coding yet another, ... It make be worthwhile to slow down and try to understand why each approach failed and/or determine why that approach won&#39;t work for your situation, before moving on to the next.  If you&#39;ve already investigated and determined why each approach won&#39;t work, please explain in your question.  If you haven&#39;t, then let us help by posting code.\n\nSince most people agree the first approach (.removeall()) should have work and since custom objects are involved, why not take a quick review of this StackOverflow question to see if anything jumps out of you:\n\n&gt; [Overriding equals and hashCode in Java][1]\n&gt;\n&gt; &quot;What issues / pitfalls do I need to consider when overriding equals and hashCode in a java class?&quot;\n\n\n  [1]: https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\n","title":"Problem with implementing removeAll for List of custom object","body":"<p>You said:</p>\n<blockquote>\n<p>... Since my List is created on a custom object, the removeAll method won't work for me.</p>\n</blockquote>\n<p>As others have stated, .removeAll() should work for the scenario you described, even for custom objects, as long as the custom objects obey the contracts that Java Collections expects of its objects, including a properly implement equals() and hashCode() method.</p>\n<blockquote>\n<p>I have tried various methods to make this work: - implemented equals() and hashCode for the custom object comprising the list - implemented the Comparable Interface for the custom object - implemented the Comparator Interface for the custom object ...</p>\n</blockquote>\n<p>It sounds like your are shot-gunning different approaches: coding one, trying it, quickly coding another, trying it, coding yet another, ... It make be worthwhile to slow down and try to understand why each approach failed and/or determine why that approach won't work for your situation, before moving on to the next.  If you've already investigated and determined why each approach won't work, please explain in your question.  If you haven't, then let us help by posting code.</p>\n<p>Since most people agree the first approach (.removeall()) should have work and since custom objects are involved, why not take a quick review of this StackOverflow question to see if anything jumps out of you:</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\">Overriding equals and hashCode in Java</a></p>\n<p>&quot;What issues / pitfalls do I need to consider when overriding equals and hashCode in a java class?&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3432379,"reputation":1,"user_id":2876419,"display_name":"sharonD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381679378,"creation_date":1381679378,"answer_id":19347078,"question_id":2617369,"body_markdown":"I have found that his original statement it true. removeAll works automatically only if you override the remove in the iterator. Just overriding the remove in the Collection is not enough because the removeAll (and clear and retainAll) all use the iterator to work. Since you should not change the underlying collection while using the iterator except for the remove in the iterator, if you do not override the remove in the iterator, the removeAll, clear and retainAll will not work. If you throw an UnsupportedOperationException in the remove method inside the iterator, that is what you will see if you call one of the three methods discussed.","title":"Problem with implementing removeAll for List of custom object","body":"<p>I have found that his original statement it true. removeAll works automatically only if you override the remove in the iterator. Just overriding the remove in the Collection is not enough because the removeAll (and clear and retainAll) all use the iterator to work. Since you should not change the underlying collection while using the iterator except for the remove in the iterator, if you do not override the remove in the iterator, the removeAll, clear and retainAll will not work. If you throw an UnsupportedOperationException in the remove method inside the iterator, that is what you will see if you call one of the three methods discussed.</p>\n"}],"owner":{"account_id":607124,"reputation":59,"user_id":313938,"display_name":"Jay "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20144,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1682248543,"answer_count":4,"score":5,"last_activity_date":1682179264,"creation_date":1270996570,"question_id":2617369,"body_markdown":"I have a scenario in my code where I need to compare two lists and remove from the first list, objects which are present in the second list. Akin to how the &quot;removeAll&quot; object works for List. Since my list is created on a custom object, the removeAll method won&#39;t work for me.\r\n\r\nI have tried various methods to make this work:\r\n- implemented equals() and hashCode for the custom object comprising the list\r\n- implemented the Comparable Interface for the custom object\r\n- implemented the Comparator Interface for the custom object\r\n\r\nI&#39;ve even tried using the Apache Common&#39;s CollectionUtils and ListUtils methods (subtract, intersect, removeAll). None seem to work.\r\n\r\nI understand I will perhaps need to write some custom removal code. But not sure how to go about doing that. Any pointers helping me move in the right direction will be really appreciated.\r\n\r\n","title":"Problem with implementing removeAll for List of custom object","body":"<p>I have a scenario in my code where I need to compare two lists and remove from the first list, objects which are present in the second list. Akin to how the &quot;removeAll&quot; object works for List. Since my list is created on a custom object, the removeAll method won't work for me.</p>\n<p>I have tried various methods to make this work:</p>\n<ul>\n<li>implemented equals() and hashCode for the custom object comprising the list</li>\n<li>implemented the Comparable Interface for the custom object</li>\n<li>implemented the Comparator Interface for the custom object</li>\n</ul>\n<p>I've even tried using the Apache Common's CollectionUtils and ListUtils methods (subtract, intersect, removeAll). None seem to work.</p>\n<p>I understand I will perhaps need to write some custom removal code. But not sure how to go about doing that. Any pointers helping me move in the right direction will be really appreciated.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":8027216,"reputation":31,"user_id":6053671,"display_name":"Aniruddha Kumbhar"},"score":0,"creation_date":1682181272,"post_id":76080573,"comment_id":134176402,"body_markdown":"@OneToOne(fetch = FetchType.EAGER, optional = false) --&gt; helped to form inner join query as below but error still persists","body":"@OneToOne(fetch = FetchType.EAGER, optional = false) --&gt; helped to form inner join query as below but error still persists"},{"owner":{"account_id":8027216,"reputation":31,"user_id":6053671,"display_name":"Aniruddha Kumbhar"},"score":0,"creation_date":1682181370,"post_id":76080573,"comment_id":134176412,"body_markdown":"select e0_.expenseid as expensei1_1_2_, e0_.amount as amount2_1_2_, e0_.categoryid as category6_1_2_, e0_.comment as comment3_1_2_, e0_.createddate as createdd4_1_2_, e0_.expensedetails as expensed5_1_2_, e0_.paymenttypeid as paymentt7_1_2_, c1_.categoryid as c1_0_0_, c1_.categoryname as category2_0_0_, c1_.categorytype as category3_0_0_, p2_.paymenttypeid as paymentt1_3_1_, p2_.paymenttype as paymentt2_3_1_ from expense e0_ inner join category c1_ on e0_.categoryid=c1_.categoryid inner join payment p2_ on e0_.paymenttypeid=p2_.paymenttypeid where e0_.categoryid=?","body":"select e0_.expenseid as expensei1_1_2_, e0_.amount as amount2_1_2_, e0_.categoryid as category6_1_2_, e0_.comment as comment3_1_2_, e0_.createddate as createdd4_1_2_, e0_.expensedetails as expensed5_1_2_, e0_.paymenttypeid as paymentt7_1_2_, c1_.categoryid as c1_0_0_, c1_.categoryname as category2_0_0_, c1_.categorytype as category3_0_0_, p2_.paymenttypeid as paymentt1_3_1_, p2_.paymenttype as paymentt2_3_1_ from expense e0_ inner join category c1_ on e0_.categoryid=c1_.categoryid inner join payment p2_ on e0_.paymenttypeid=p2_.paymenttypeid where e0_.categoryid=?"}],"owner":{"account_id":8027216,"reputation":31,"user_id":6053671,"display_name":"Aniruddha Kumbhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682179205,"creation_date":1682179205,"question_id":76080573,"body_markdown":"Below query is not getting applied -\r\n```\r\n@Query(nativeQuery = true, value = &quot;select e.expenseid, e.expensedetails, e.amount, e.createddate,e.comment, c.*, p.* from Expense e inner join Category c on e.categoryid = c.categoryid inner join Payment p on e.paymenttypeid = p.paymenttypeid where c.categorytype = &#39;Expense&#39;&quot;)\r\n    List&lt;Expense&gt; findAllRecords();\r\n```\r\n\r\nJPA returning below query -\r\n```\r\nselect expense0_.expenseid as expensei1_1_2_, expense0_.amount as amount2_1_2_, expense0_.categoryid as category6_1_2_, expense0_.comment as comment3_1_2_, expense0_.createddate as createdd4_1_2_, expense0_.expensedetails as expensed5_1_2_, expense0_.paymenttypeid as paymentt7_1_2_, category1_.categoryid as category1_0_0_, category1_.categoryname as category2_0_0_, category1_.categorytype as category3_0_0_, payment2_.paymenttypeid as paymentt1_3_1_, payment2_.paymenttype as paymentt2_3_1_ from expense expense0_ left outer join category category1_ on expense0_.categoryid=category1_.categoryid left outer join payment payment2_ on expense0_.paymenttypeid=payment2_.paymenttypeid where expense0_.categoryid=?\r\n```\r\n\r\nExpense pojo -\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;expense&quot;)\r\npublic class Expense {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int expenseid;\r\n    @Column(nullable = true)\r\n    private String expensedetails;\r\n    private Double amount;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER)\r\n    @JsonManagedReference(value = &quot;expense&quot;)\r\n    @JoinColumn(name=&quot;categoryid&quot;)\r\n    private Category categoryExpense;\r\n\r\n    private String comment;\r\n    private Date createddate;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER)\r\n    @JsonManagedReference(value = &quot;expense&quot;)\r\n    @JoinColumn(name=&quot;paymenttypeid&quot;)\r\n    private Payment paymentExpense;\r\n\r\n}\r\n```\r\n\r\nHow the native query mentioned inside @Query annotation will be applied? As per my understanding that query will resolve the runtime exception","title":"JPA Exception - More than one row with the given identifier was found: 4, for class: com.study.expensecalculator.entity.Expense","body":"<p>Below query is not getting applied -</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;select e.expenseid, e.expensedetails, e.amount, e.createddate,e.comment, c.*, p.* from Expense e inner join Category c on e.categoryid = c.categoryid inner join Payment p on e.paymenttypeid = p.paymenttypeid where c.categorytype = 'Expense'&quot;)\n    List&lt;Expense&gt; findAllRecords();\n</code></pre>\n<p>JPA returning below query -</p>\n<pre><code>select expense0_.expenseid as expensei1_1_2_, expense0_.amount as amount2_1_2_, expense0_.categoryid as category6_1_2_, expense0_.comment as comment3_1_2_, expense0_.createddate as createdd4_1_2_, expense0_.expensedetails as expensed5_1_2_, expense0_.paymenttypeid as paymentt7_1_2_, category1_.categoryid as category1_0_0_, category1_.categoryname as category2_0_0_, category1_.categorytype as category3_0_0_, payment2_.paymenttypeid as paymentt1_3_1_, payment2_.paymenttype as paymentt2_3_1_ from expense expense0_ left outer join category category1_ on expense0_.categoryid=category1_.categoryid left outer join payment payment2_ on expense0_.paymenttypeid=payment2_.paymenttypeid where expense0_.categoryid=?\n</code></pre>\n<p>Expense pojo -</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;expense&quot;)\npublic class Expense {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int expenseid;\n    @Column(nullable = true)\n    private String expensedetails;\n    private Double amount;\n\n    @OneToOne(fetch = FetchType.EAGER)\n    @JsonManagedReference(value = &quot;expense&quot;)\n    @JoinColumn(name=&quot;categoryid&quot;)\n    private Category categoryExpense;\n\n    private String comment;\n    private Date createddate;\n\n    @OneToOne(fetch = FetchType.EAGER)\n    @JsonManagedReference(value = &quot;expense&quot;)\n    @JoinColumn(name=&quot;paymenttypeid&quot;)\n    private Payment paymentExpense;\n\n}\n</code></pre>\n<p>How the native query mentioned inside @Query annotation will be applied? As per my understanding that query will resolve the runtime exception</p>\n"},{"tags":["java","rest","tcp","resttemplate"],"comments":[{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1682180933,"post_id":76080548,"comment_id":134176355,"body_markdown":"Maybe you can use Spring Boot Actuator to get the detail information.","body":"Maybe you can use Spring Boot Actuator to get the detail information."},{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1682183951,"post_id":76080548,"comment_id":134176763,"body_markdown":"use AOP e.g. interceptor (PerformanceMonitorInterceptor )","body":"use AOP e.g. interceptor (PerformanceMonitorInterceptor )"}],"owner":{"account_id":19125803,"reputation":3,"user_id":13968807,"display_name":"王纾林"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682178824,"creation_date":1682178824,"question_id":76080548,"body_markdown":"this is my code,but i know it&#39;s not accurate because it called function,so how can i get the accurate response time which consists of tcp handshack,transfer time and so on .thank you very much.\r\n```java\r\n        long startTime = System.currentTimeMillis();\r\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, requestEntity, String.class);\r\n        long endTime = System.currentTimeMillis();\r\n        System.out.println(endTime-startTime+&quot;ms&quot;);\r\n```","title":"how to get Response time when I ues resttemplate","body":"<p>this is my code,but i know it's not accurate because it called function,so how can i get the accurate response time which consists of tcp handshack,transfer time and so on .thank you very much.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        long startTime = System.currentTimeMillis();\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, requestEntity, String.class);\n        long endTime = System.currentTimeMillis();\n        System.out.println(endTime-startTime+&quot;ms&quot;);\n</code></pre>\n"},{"tags":["java","android","string","class"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1682178460,"post_id":76080197,"comment_id":134176027,"body_markdown":"`MainActivity MainAct = new MainActivity();` you should *never* create an activity instance like this. This will make a whole new activity (not the same as the one that was shown previously) and it will not be correctly bound to its lifecycle, so many things will be null and crash if you try to use it. You should use an intent to pass data from one activity to another. Have a look [here](https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application).","body":"<code>MainActivity MainAct = new MainActivity();</code> you should <i>never</i> create an activity instance like this. This will make a whole new activity (not the same as the one that was shown previously) and it will not be correctly bound to its lifecycle, so many things will be null and crash if you try to use it. You should use an intent to pass data from one activity to another. Have a look <a href=\"https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682178794,"creation_date":1682178794,"answer_id":76080545,"question_id":76080197,"body_markdown":"You can&#39;t just reference one activity view&#39;s data in the other activity. Pass the data with the Intent when you switch activities as you have done here.\r\n\r\n    Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\r\n                intent.putExtra(&quot;image&quot;, image);\r\n\r\nPass the value of content of &#39;result&#39; with the intent when you switch activities. That should solve the problem.","title":"I cant seem to get one of the String Value in a Method from another java class","body":"<p>You can't just reference one activity view's data in the other activity. Pass the data with the Intent when you switch activities as you have done here.</p>\n<pre><code>Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\n            intent.putExtra(&quot;image&quot;, image);\n</code></pre>\n<p>Pass the value of content of 'result' with the intent when you switch activities. That should solve the problem.</p>\n"}],"owner":{"account_id":28379979,"reputation":3,"user_id":21707408,"display_name":"AsianOnCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76080545,"answer_count":1,"score":0,"last_activity_date":1682178794,"creation_date":1682174369,"question_id":76080197,"body_markdown":"The whole code works fine and the application runs completely fine, But my problem is getting the string value of the result TextView from another java class.\r\n\r\nIn the classifyImage() method, the &quot; result.setText(classes[maxPos]); &quot; works and it changes the Text of the result TextView, but I cant seem to get the text value of result from another java class. it just returns blank.\r\n \r\n\r\nIm gonna put my whole MainActivity below, but just skip to the classifyImage() method the part where result.setText(classes[maxPos]); is located, since that&#39;s where my problem is focusing. and I also pasted my 2nd Java class below.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView result, confidence;\r\n    ImageView imageView;\r\n    Button picture, gallery, guides;\r\n    int imageSize = 224;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        result = findViewById(R.id.result);\r\n        confidence = findViewById(R.id.confidence);\r\n        imageView = findViewById(R.id.imageView);\r\n        picture = findViewById(R.id.button);\r\n        gallery = findViewById(R.id.button2);\r\n        guides = findViewById(R.id.button3);\r\n\r\n        picture.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Launch camera if we have permission\r\n                if (checkSelfPermission(Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n                    Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                    startActivityForResult(cameraIntent, 3);\r\n                } else {\r\n                    //Request camera permission if we don&#39;t have it.\r\n                    requestPermissions(new String[]{Manifest.permission.CAMERA}, 100);\r\n                }\r\n            }\r\n        });\r\n\r\n        gallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent cameraIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                startActivityForResult(cameraIntent, 1);\r\n            }\r\n        });\r\n\r\n        guides.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                startActivity(new Intent(MainActivity.this, PlantInfoActivity.class));\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void classifyImage(Bitmap image) {\r\n\r\n        PlantClasses PlantClass = new PlantClasses();\r\n        PlantInfoActivity PlantInfo = new PlantInfoActivity();\r\n\r\n        try {\r\n            Model model = Model.newInstance(getApplicationContext());\r\n\r\n            // Creates inputs for reference.\r\n            TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\r\n            ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\r\n            byteBuffer.order(ByteOrder.nativeOrder());\r\n\r\n            // get 1D array of 224 * 224 pixels in image\r\n            int[] intValues = new int[imageSize * imageSize];\r\n            image.getPixels(intValues, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\r\n\r\n            // iterate over pixels and extract R, G, and B values. Add to bytebuffer.\r\n            int pixel = 0;\r\n            for (int i = 0; i &lt; imageSize; i++) {\r\n                for (int j = 0; j &lt; imageSize; j++) {\r\n                    int val = intValues[pixel++]; // RGB\r\n                    byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 255.f));\r\n                    byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 255.f));\r\n                    byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 255.f));\r\n                }\r\n            }\r\n\r\n            inputFeature0.loadBuffer(byteBuffer);\r\n\r\n            // Runs model inference and gets result.\r\n            Model.Outputs outputs = model.process(inputFeature0);\r\n            TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n\r\n            float[] confidences = outputFeature0.getFloatArray();\r\n            // find the index of the class with the biggest confidence.\r\n            int maxPos = 0;\r\n            float maxConfidence = 0;\r\n            for (int i = 0; i &lt; confidences.length; i++) {\r\n                if (confidences[i] &gt; maxConfidence) {\r\n                    maxConfidence = confidences[i];\r\n                    maxPos = i;\r\n                }\r\n            }\r\n\r\n            String[] classes = PlantClass.plantclass;\r\n\r\n            result.setText(classes[maxPos]);\r\n            confidence.setText(String.format(&quot;%.1f%%&quot;, maxConfidence * 100));\r\n            guides.setVisibility(View.VISIBLE);\r\n\r\n            // Releases model resources if no longer used.\r\n            model.close();\r\n\r\n        } catch (IOException e) {\r\n            // TODO Handle the exception\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if(resultCode == RESULT_OK){\r\n            if(requestCode == 3){\r\n                Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                int dimension = Math.min(image.getWidth(), image.getHeight());\r\n                image = ThumbnailUtils.extractThumbnail(image, dimension, dimension);\r\n                imageView.setImageBitmap(image);\r\n\r\n\r\n                image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\r\n                Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\r\n                intent.putExtra(&quot;image&quot;, image);\r\n\r\n                classifyImage(image);\r\n\r\n            }else{\r\n                Uri dat = data.getData();\r\n                Bitmap image = null;\r\n                try {\r\n                    image = MediaStore.Images.Media.getBitmap(this.getContentResolver(), dat);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                imageView.setImageBitmap(image);\r\n\r\n                image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\r\n                Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\r\n                intent.putExtra(&quot;image&quot;, image);\r\n\r\n                classifyImage(image);\r\n            }\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n}\r\n```\r\n\r\n\r\nBelow is the 2nd class where I want to use the value of result. I aim to change the value of plantname2 to the same value of result. specifically i want to set the Text of plantname2 to the same Text as result. but i still cant seem to retrieve the string value of result in the main activity.\r\n\r\n\r\n```\r\npublic class PlantInfoActivity extends AppCompatActivity {\r\n\r\n    MainActivity MainAct = new MainActivity();\r\n\r\n\r\n    Button backbutton;\r\n    ImageView imageView2;\r\n    TextView plantname2;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_plant_info);\r\n\r\n        plantname2 = findViewById(R.id.plantname2);\r\n        backbutton = findViewById(R.id.backbutton);\r\n        imageView2 = findViewById(R.id.imageView2);\r\n\r\n        backbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nContext of the program. it uses image recognition to identify plants, after selecting a photo from the gallery or taking a picture, it identifies the plants by outputting the image of the plant above and outputting the name of plant which is the result. and the confidence rate value of the plant.\r\n\r\nTHEN THIS IS WHERE THE PROBLEM BEGINS\r\nthere is a button that switches to a new activity to show more texts/information about the plant.\r\nthere is a TextView in that new activity where it should suppose to display the same Value of the result.\r\n\r\n\r\nI&#39;ve tried adding this to my 2nd java class in the onCreate method.\r\n\r\n```\r\nString resultString = MainAct.result.getText().toString();\r\n        plantname2.setText(resultString);\r\n```\r\n\r\nBut it just seems to crash after switching to the other activity.\r\n\r\nI&#39;ve also tried using the MainActivity&#39;s classifyImage() method to change the TextView of the 2nd Activity. but it just crashes after selecting a photo.\r\n\r\n```\r\n            result.setText(classes[maxPos]);\r\n            confidence.setText(String.format(&quot;%.1f%%&quot;, maxConfidence * 100));\r\n            guides.setVisibility(View.VISIBLE);\r\n\r\n            PlantInfo.plantname2.setText(classes[maxPos]);\r\n```\r\n\r\nI&#39;ve Tried testing and declaring public strings outside the onCreate method. and setting the string to a fixed value just to test. like\r\n```\r\nString plantname = &quot;test&quot;\r\n```\r\nand use that call that variable in the 2nd class and use it to set the text. IT WORKS but when i try to change it to a value from the result. it just crashes. \r\n\r\nplease Bear with me and my problems, im still learning Java and im at lost now, i hope you guys can help me. thanks in advance.","title":"I cant seem to get one of the String Value in a Method from another java class","body":"<p>The whole code works fine and the application runs completely fine, But my problem is getting the string value of the result TextView from another java class.</p>\n<p>In the classifyImage() method, the &quot; result.setText(classes[maxPos]); &quot; works and it changes the Text of the result TextView, but I cant seem to get the text value of result from another java class. it just returns blank.</p>\n<p>Im gonna put my whole MainActivity below, but just skip to the classifyImage() method the part where result.setText(classes[maxPos]); is located, since that's where my problem is focusing. and I also pasted my 2nd Java class below.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView result, confidence;\n    ImageView imageView;\n    Button picture, gallery, guides;\n    int imageSize = 224;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        result = findViewById(R.id.result);\n        confidence = findViewById(R.id.confidence);\n        imageView = findViewById(R.id.imageView);\n        picture = findViewById(R.id.button);\n        gallery = findViewById(R.id.button2);\n        guides = findViewById(R.id.button3);\n\n        picture.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Launch camera if we have permission\n                if (checkSelfPermission(Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n                    Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                    startActivityForResult(cameraIntent, 3);\n                } else {\n                    //Request camera permission if we don't have it.\n                    requestPermissions(new String[]{Manifest.permission.CAMERA}, 100);\n                }\n            }\n        });\n\n        gallery.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent cameraIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                startActivityForResult(cameraIntent, 1);\n            }\n        });\n\n        guides.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view) {\n\n                startActivity(new Intent(MainActivity.this, PlantInfoActivity.class));\n\n            }\n        });\n    }\n\n\n    public void classifyImage(Bitmap image) {\n\n        PlantClasses PlantClass = new PlantClasses();\n        PlantInfoActivity PlantInfo = new PlantInfoActivity();\n\n        try {\n            Model model = Model.newInstance(getApplicationContext());\n\n            // Creates inputs for reference.\n            TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\n            ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\n            byteBuffer.order(ByteOrder.nativeOrder());\n\n            // get 1D array of 224 * 224 pixels in image\n            int[] intValues = new int[imageSize * imageSize];\n            image.getPixels(intValues, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\n\n            // iterate over pixels and extract R, G, and B values. Add to bytebuffer.\n            int pixel = 0;\n            for (int i = 0; i &lt; imageSize; i++) {\n                for (int j = 0; j &lt; imageSize; j++) {\n                    int val = intValues[pixel++]; // RGB\n                    byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 255.f));\n                    byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 255.f));\n                    byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 255.f));\n                }\n            }\n\n            inputFeature0.loadBuffer(byteBuffer);\n\n            // Runs model inference and gets result.\n            Model.Outputs outputs = model.process(inputFeature0);\n            TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n\n            float[] confidences = outputFeature0.getFloatArray();\n            // find the index of the class with the biggest confidence.\n            int maxPos = 0;\n            float maxConfidence = 0;\n            for (int i = 0; i &lt; confidences.length; i++) {\n                if (confidences[i] &gt; maxConfidence) {\n                    maxConfidence = confidences[i];\n                    maxPos = i;\n                }\n            }\n\n            String[] classes = PlantClass.plantclass;\n\n            result.setText(classes[maxPos]);\n            confidence.setText(String.format(&quot;%.1f%%&quot;, maxConfidence * 100));\n            guides.setVisibility(View.VISIBLE);\n\n            // Releases model resources if no longer used.\n            model.close();\n\n        } catch (IOException e) {\n            // TODO Handle the exception\n        }\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if(resultCode == RESULT_OK){\n            if(requestCode == 3){\n                Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\n                int dimension = Math.min(image.getWidth(), image.getHeight());\n                image = ThumbnailUtils.extractThumbnail(image, dimension, dimension);\n                imageView.setImageBitmap(image);\n\n\n                image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\n                Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\n                intent.putExtra(&quot;image&quot;, image);\n\n                classifyImage(image);\n\n            }else{\n                Uri dat = data.getData();\n                Bitmap image = null;\n                try {\n                    image = MediaStore.Images.Media.getBitmap(this.getContentResolver(), dat);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                imageView.setImageBitmap(image);\n\n                image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\n                Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\n                intent.putExtra(&quot;image&quot;, image);\n\n                classifyImage(image);\n            }\n        }\n\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n}\n</code></pre>\n<p>Below is the 2nd class where I want to use the value of result. I aim to change the value of plantname2 to the same value of result. specifically i want to set the Text of plantname2 to the same Text as result. but i still cant seem to retrieve the string value of result in the main activity.</p>\n<pre><code>public class PlantInfoActivity extends AppCompatActivity {\n\n    MainActivity MainAct = new MainActivity();\n\n\n    Button backbutton;\n    ImageView imageView2;\n    TextView plantname2;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_plant_info);\n\n        plantname2 = findViewById(R.id.plantname2);\n        backbutton = findViewById(R.id.backbutton);\n        imageView2 = findViewById(R.id.imageView2);\n\n        backbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                finish();\n            }\n        });\n\n    }\n\n}\n</code></pre>\n<p>Context of the program. it uses image recognition to identify plants, after selecting a photo from the gallery or taking a picture, it identifies the plants by outputting the image of the plant above and outputting the name of plant which is the result. and the confidence rate value of the plant.</p>\n<p>THEN THIS IS WHERE THE PROBLEM BEGINS\nthere is a button that switches to a new activity to show more texts/information about the plant.\nthere is a TextView in that new activity where it should suppose to display the same Value of the result.</p>\n<p>I've tried adding this to my 2nd java class in the onCreate method.</p>\n<pre><code>String resultString = MainAct.result.getText().toString();\n        plantname2.setText(resultString);\n</code></pre>\n<p>But it just seems to crash after switching to the other activity.</p>\n<p>I've also tried using the MainActivity's classifyImage() method to change the TextView of the 2nd Activity. but it just crashes after selecting a photo.</p>\n<pre><code>            result.setText(classes[maxPos]);\n            confidence.setText(String.format(&quot;%.1f%%&quot;, maxConfidence * 100));\n            guides.setVisibility(View.VISIBLE);\n\n            PlantInfo.plantname2.setText(classes[maxPos]);\n</code></pre>\n<p>I've Tried testing and declaring public strings outside the onCreate method. and setting the string to a fixed value just to test. like</p>\n<pre><code>String plantname = &quot;test&quot;\n</code></pre>\n<p>and use that call that variable in the 2nd class and use it to set the text. IT WORKS but when i try to change it to a value from the result. it just crashes.</p>\n<p>please Bear with me and my problems, im still learning Java and im at lost now, i hope you guys can help me. thanks in advance.</p>\n"},{"tags":["java","ocr","tesseract","asprise-ocr-api"],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682176979,"creation_date":1682173267,"question_id":76080121,"body_markdown":"I have this image:\r\n\r\n[![image][1]][1]\r\n\r\nAnd I try to read all of these numbers.\r\n\r\nI was trying with \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.asprise.ocr&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-ocr-api&lt;/artifactId&gt;\r\n    &lt;version&gt;15.3.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nOcr.setUp();\r\nOcr ocr = new Ocr();\r\nocr.startEngine(&quot;eng&quot;, Ocr.SPEED_SLOW);\r\nString s = ocr.recognize(new File[]{new File(&quot;img.png&quot;)}, Ocr.RECOGNIZE_TYPE_TEXT, Ocr.OUTPUT_FORMAT_PLAINTEXT);\r\nSystem.out.println(&quot;Result: &quot; + s);\r\nocr.stopEngine();\r\n```\r\nAnd \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n    &lt;version&gt;5.7.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n//+ installed tesseract-ocr - 5.3.1.20230401\r\n\r\nTesseract tesseract = new Tesseract();\r\ntesseract.setDatapath(&quot;D:\\\\programming\\\\tessaract-ocr\\\\tessdata&quot;);\r\nString text = tesseract.doOCR(new File(&quot;img.png&quot;));\r\nSystem.out.print(text);\r\n```\r\n\r\nBut in both cases the output is just some random chars.\r\n\r\nThere is a way that I can read the numbers from image?\r\n\r\nEdit1: I tried with bigger numbers, and still the same problem: \r\n\r\n[![bigger numbers][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/M9PDH.png\r\n  [2]: https://i.stack.imgur.com/7AGYz.png","title":"Read all numbers from image","body":"<p>I have this image:</p>\n<p><a href=\"https://i.stack.imgur.com/M9PDH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9PDH.png\" alt=\"image\" /></a></p>\n<p>And I try to read all of these numbers.</p>\n<p>I was trying with</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.asprise.ocr&lt;/groupId&gt;\n    &lt;artifactId&gt;java-ocr-api&lt;/artifactId&gt;\n    &lt;version&gt;15.3.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n\nOcr.setUp();\nOcr ocr = new Ocr();\nocr.startEngine(&quot;eng&quot;, Ocr.SPEED_SLOW);\nString s = ocr.recognize(new File[]{new File(&quot;img.png&quot;)}, Ocr.RECOGNIZE_TYPE_TEXT, Ocr.OUTPUT_FORMAT_PLAINTEXT);\nSystem.out.println(&quot;Result: &quot; + s);\nocr.stopEngine();\n</code></pre>\n<p>And</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n    &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n    &lt;version&gt;5.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n//+ installed tesseract-ocr - 5.3.1.20230401\n\nTesseract tesseract = new Tesseract();\ntesseract.setDatapath(&quot;D:\\\\programming\\\\tessaract-ocr\\\\tessdata&quot;);\nString text = tesseract.doOCR(new File(&quot;img.png&quot;));\nSystem.out.print(text);\n</code></pre>\n<p>But in both cases the output is just some random chars.</p>\n<p>There is a way that I can read the numbers from image?</p>\n<p>Edit1: I tried with bigger numbers, and still the same problem:</p>\n<p><a href=\"https://i.stack.imgur.com/7AGYz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7AGYz.png\" alt=\"bigger numbers\" /></a></p>\n"},{"tags":["java","spring","dependency-inversion"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1681770260,"post_id":76039575,"comment_id":134107679,"body_markdown":"Try removing @Repository from the interface.  Or add @Primary to `DefaultFooBarRepository`.  And see @Conditional when there are multiple instances to choose from.","body":"Try removing @Repository from the interface.  Or add @Primary to <code>DefaultFooBarRepository</code>.  And see @Conditional when there are multiple instances to choose from."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1681799190,"post_id":76039575,"comment_id":134110448,"body_markdown":"Hi G. &#128075;, Same reason/issue as with [other question](https://stackoverflow.com/q/75860160/592355): While it is *theoretically* possible to `@Autowire` &quot;methods&quot; (im- vs. ex-plicitly!) ...&quot;I never saw this&quot; except for -getter/setter, -`@Configuration#Bean`, -&quot;constructor&quot; &quot;methods&quot;… With &quot;handler methods&quot; you create an ambiguity (for the handling of method parameters) So &quot;implicit autowiring&quot; is no option (for &quot;handler methods&quot;) at all! ..I will/can try/test &quot;explicit auto wiring&quot;, but have few hope.. :)","body":"Hi G. 👋, Same reason/issue as with <a href=\"https://stackoverflow.com/q/75860160/592355\">other question</a>: While it is <i>theoretically</i> possible to <code>@Autowire</code> &quot;methods&quot; (im- vs. ex-plicitly!) ...&quot;I never saw this&quot; except for -getter/setter, -<code>@Configuration#Bean</code>, -&quot;constructor&quot; &quot;methods&quot;… With &quot;handler methods&quot; you create an ambiguity (for the handling of method parameters) So &quot;implicit autowiring&quot; is no option (for &quot;handler methods&quot;) at all! ..I will/can try/test &quot;explicit auto wiring&quot;, but have few hope.. :)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1681799391,"post_id":76039575,"comment_id":134110491,"body_markdown":"Also when (trying to) doing so, you have to make (at least few) considerations about &quot;scope&quot;.... While a &quot;controller/repository/service/...&quot; is &quot;singleton&quot; by default... A &quot;handler method&quot; is &quot;request[-session]-scopable&quot; ;)","body":"Also when (trying to) doing so, you have to make (at least few) considerations about &quot;scope&quot;.... While a &quot;controller/repository/service/...&quot; is &quot;singleton&quot; by default... A &quot;handler method&quot; is &quot;request[-session]-scopable&quot; ;)"}],"answers":[{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681770555,"creation_date":1681770555,"answer_id":76039741,"question_id":76039575,"body_markdown":"I think the problem here is the same one in https://stackoverflow.com/q/75860160 : Spring doesn&#39;t do normal injection in the controller request handlers, but instead only supports a limited number of objects. Full dependency injection only works in the constructor.\r\n\r\nSo I moved the injection to the controller constructor, and it worked fine, even for the interface:\r\n\r\n```java\r\npublic FooBarController(FooBarRepository fooBarRepository) {\r\n  …\r\n}\r\n```","title":"Spring inject interface in controller request handler method when implementation annotated","body":"<p>I think the problem here is the same one in <a href=\"https://stackoverflow.com/q/75860160\">Spring MVC inject `Environment` in constructor but not in request handler method</a> : Spring doesn't do normal injection in the controller request handlers, but instead only supports a limited number of objects. Full dependency injection only works in the constructor.</p>\n<p>So I moved the injection to the controller constructor, and it worked fine, even for the interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public FooBarController(FooBarRepository fooBarRepository) {\n  …\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682176681,"creation_date":1681804709,"answer_id":76042127,"question_id":76039575,"body_markdown":"Hmhmh, &quot;explicit auto-wiring&quot; (so *using* the `@Autowired` annotation) seems NOT to help!\r\n\r\n- [https://start.spring.io](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.5&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web)\r\n- and very basic sample:\r\n\r\n   ```lang-java\r\n   package com.example.demo;\r\n\r\n   /* import org.springframework...*/\r\n\r\n   @SpringBootApplication\r\n   public class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n     SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Component\r\n    static class SomeBean {\r\n\r\n    }\r\n\r\n    @Controller\r\n    static class DemoController {\r\n     @GetMapping(&quot;/hello&quot;)\r\n     public @ResponseBody String hello(@Autowired SomeBean someBean, String q) {\r\n      System.err.println(someBean);\r\n      return &quot;Hello, &quot; + q;\r\n     }\r\n    }\r\n   }\r\n   ```\r\n... works NOT as expected! (`someBean` reference changes with every request ;(;(\r\n\r\n... &quot;SomeBean&quot; is treated as [&quot;Controller method argument&quot;][1], and corresponds with (last row/entry):\r\n\r\n&gt;Any other argument\r\n\r\n&gt;If a method argument is not matched to any of the earlier values in this table and it is a simple type (as determined by `BeanUtils#isSimpleProperty`), it is resolved as a `@RequestParam`. Otherwise, it is resolved as a `@ModelAttribute`.\r\n\r\n(spring-web populates this &quot;param/attrib&quot; via existing default/resolvable constructor)\r\n\r\n\r\n----------\r\n\r\nDoing (e.g.) so:\r\n\r\n```lang-java\r\n@Controller\r\nstatic class DemoController {\r\n\r\n  @Autowired SomeBean someBean;\r\n\r\n  @GetMapping(&quot;/hello&quot;)\r\n  public @ResponseBody String hello(String q) {\r\n    System.err.println(someBean);\r\n\treturn &quot;Hello, &quot; + q;\r\n  }\r\n}\r\n```\r\n(moving `someBean` to an  &quot;autowired field&quot;,) &quot;fix-/changes everything&quot;/works as expected.\r\n\r\n\r\n----------\r\n\r\n### Overall Scenario\r\n\r\n&gt; Accessing a (rarely changing) &quot;list of values&quot; via thymeleaf:spring-mvc\r\n\r\n[`@ModelAttribute`][2] (on controller(!)/method level) is documented/recommended by both, [spring][3] and [thymeleaf][4].\r\n\r\n```lang-java\r\n// in your @[Rest]Controller (annotated) class (to be tested with: @ControllerAdvice!=;)\r\n@ModelAttribute(&quot;fooBars&quot;)\r\npublic List&lt;FooBarVO&gt; fooBars(/* also with arguments like @PathVariable, @RequestParam, ...*/) {\r\n  return fooRepository.findAll(); // or even fooService.findAllCached()... fooRepository/-Service comes through &quot;normal&quot; spring dependency injection (of your choice... manual/auto/exotic ((final/)field/accessor/(constuctor/)parameter...)\r\n}\r\n```\r\n\r\nTo access (in all templates rendered by this controller class) like:\r\n```lang-html\r\n&lt;xx th:each=&quot;foo : ${fooBars}&quot;&gt;\r\n  ...\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ModelAttribute.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-modelattrib-method-args\r\n  [4]: https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html","title":"Spring inject interface in controller request handler method when implementation annotated","body":"<p>Hmhmh, &quot;explicit auto-wiring&quot; (so <em>using</em> the <code>@Autowired</code> annotation) seems NOT to help!</p>\n<ul>\n<li><p><a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.5&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web\" rel=\"nofollow noreferrer\">https://start.spring.io</a></p>\n</li>\n<li><p>and very basic sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\n/* import org.springframework...*/\n\n@SpringBootApplication\npublic class DemoApplication {\n\n  public static void main(String[] args) {\n   SpringApplication.run(DemoApplication.class, args);\n  }\n\n  @Component\n  static class SomeBean {\n\n  }\n\n  @Controller\n  static class DemoController {\n   @GetMapping(&quot;/hello&quot;)\n   public @ResponseBody String hello(@Autowired SomeBean someBean, String q) {\n    System.err.println(someBean);\n    return &quot;Hello, &quot; + q;\n   }\n  }\n}\n</code></pre>\n</li>\n</ul>\n<p>... works NOT as expected! (<code>someBean</code> reference changes with every request ;(;(</p>\n<p>... &quot;SomeBean&quot; is treated as <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments\" rel=\"nofollow noreferrer\">&quot;Controller method argument&quot;</a>, and corresponds with (last row/entry):</p>\n<blockquote>\n<p>Any other argument</p>\n</blockquote>\n<blockquote>\n<p>If a method argument is not matched to any of the earlier values in this table and it is a simple type (as determined by <code>BeanUtils#isSimpleProperty</code>), it is resolved as a <code>@RequestParam</code>. Otherwise, it is resolved as a <code>@ModelAttribute</code>.</p>\n</blockquote>\n<p>(spring-web populates this &quot;param/attrib&quot; via existing default/resolvable constructor)</p>\n<hr />\n<p>Doing (e.g.) so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\nstatic class DemoController {\n\n  @Autowired SomeBean someBean;\n\n  @GetMapping(&quot;/hello&quot;)\n  public @ResponseBody String hello(String q) {\n    System.err.println(someBean);\n    return &quot;Hello, &quot; + q;\n  }\n}\n</code></pre>\n<p>(moving <code>someBean</code> to an  &quot;autowired field&quot;,) &quot;fix-/changes everything&quot;/works as expected.</p>\n<hr />\n<h3>Overall Scenario</h3>\n<blockquote>\n<p>Accessing a (rarely changing) &quot;list of values&quot; via thymeleaf:spring-mvc</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ModelAttribute.html\" rel=\"nofollow noreferrer\"><code>@ModelAttribute</code></a> (on controller(!)/method level) is documented/recommended by both, <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-modelattrib-method-args\" rel=\"nofollow noreferrer\">spring</a> and <a href=\"https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html\" rel=\"nofollow noreferrer\">thymeleaf</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// in your @[Rest]Controller (annotated) class (to be tested with: @ControllerAdvice!=;)\n@ModelAttribute(&quot;fooBars&quot;)\npublic List&lt;FooBarVO&gt; fooBars(/* also with arguments like @PathVariable, @RequestParam, ...*/) {\n  return fooRepository.findAll(); // or even fooService.findAllCached()... fooRepository/-Service comes through &quot;normal&quot; spring dependency injection (of your choice... manual/auto/exotic ((final/)field/accessor/(constuctor/)parameter...)\n}\n</code></pre>\n<p>To access (in all templates rendered by this controller class) like:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;xx th:each=&quot;foo : ${fooBars}&quot;&gt;\n  ...\n</code></pre>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682176681,"creation_date":1681768502,"question_id":76039575,"body_markdown":"I have a simple `FooBarRepository` interface. I have a single implementation called `DefaultFooBarRespository`, which looks like this:\r\n\r\n```java\r\n@Repository(&quot;fooBarRepository&quot;)\r\npublic class DefaultFooBarRepository implements FooBarRepository {\r\n  …\r\n}\r\n```\r\n\r\nI know that Spring is instantiating `DefaultFooBarRepository` and giving it a bean name of `fooBarRepository`, because in my Thymeleaf view I can do something like:\r\n\r\n```html\r\n&lt;li th:each=&quot;fooBar: ${@fooBarRepository.getFooBars()}&quot; …\r\n```\r\n\r\nAs we all know, it&#39;s best to program to interfaces. After all I might want to wire up a different implementation of `FooBarRepository` at some point. So in my MVC controller `FooBarController` I try to inject the interface:\r\n\r\n```\r\n@GetMapping\r\npublic String getFooBars(FooBarRepository repository) {\r\n  …\r\n}\r\n```\r\n\r\nThat results in an error:\r\n\r\n&gt; `java.lang.IllegalStateException: No primary or single unique constructor found for interface ….FooBarRepository`\r\n\r\nSpring I suppose is trying to create an instance of `FooBarRepository`, not realizing that the `DefaultFooBarRepository` it already created is an instance of `FooBarRepository`.\r\n\r\nI imagine I could create a separate class annotated with `@Configuration` and have a method that returns an `FooBarRepository`. I could even probably inject the `DefaultFooBarRepository` instance into this method and return it as the `FooBarRepository`.\r\n\r\nBut why should I have to do all that? Spring is already creating a `DefaultFooBarRepository`, adding it to the context, giving it a bean name, etc. How can I tell Spring simply to register the `DefaultFooBarRepository` with the `FooBarRepository` interface rather than the `DefaultFooBarRepository` implementation? Is there another annotation or an annotation parameter I can add to `DefaultFooBarRepository` or something?\r\n\r\n_Update:_ And this is even stranger: in `FooBarController` I tried to inject `DefaultFooBarRepository`:\r\n\r\n```\r\n@GetMapping\r\npublic String getFooBars(DefaultFooBarRepository repository) {\r\n  …\r\n}\r\n```\r\n\r\nThen I get another error saying that one of the parameters of the `DefaultFooBarRepository` constructor is `null`—specifically a `@ConfigurationProperties` annotated class `AppProperties`. It appears that in the controller `GET` handler it&#39;s trying to create an instance of `DefaultFooBarRepository`. But Spring should have already scanned the classes and instantiated both `AppProperties` and `DefaultFooBarRepository`. And we know it did, because as I mentioned the Thymeleaf view can access `@fooBarRepository.getFooBars()`. What am I missing here? Why can&#39;t the controller see any of the bean classes the the view can see?","title":"Spring inject interface in controller request handler method when implementation annotated","body":"<p>I have a simple <code>FooBarRepository</code> interface. I have a single implementation called <code>DefaultFooBarRespository</code>, which looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository(&quot;fooBarRepository&quot;)\npublic class DefaultFooBarRepository implements FooBarRepository {\n  …\n}\n</code></pre>\n<p>I know that Spring is instantiating <code>DefaultFooBarRepository</code> and giving it a bean name of <code>fooBarRepository</code>, because in my Thymeleaf view I can do something like:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;li th:each=&quot;fooBar: ${@fooBarRepository.getFooBars()}&quot; …\n</code></pre>\n<p>As we all know, it's best to program to interfaces. After all I might want to wire up a different implementation of <code>FooBarRepository</code> at some point. So in my MVC controller <code>FooBarController</code> I try to inject the interface:</p>\n<pre><code>@GetMapping\npublic String getFooBars(FooBarRepository repository) {\n  …\n}\n</code></pre>\n<p>That results in an error:</p>\n<blockquote>\n<p><code>java.lang.IllegalStateException: No primary or single unique constructor found for interface ….FooBarRepository</code></p>\n</blockquote>\n<p>Spring I suppose is trying to create an instance of <code>FooBarRepository</code>, not realizing that the <code>DefaultFooBarRepository</code> it already created is an instance of <code>FooBarRepository</code>.</p>\n<p>I imagine I could create a separate class annotated with <code>@Configuration</code> and have a method that returns an <code>FooBarRepository</code>. I could even probably inject the <code>DefaultFooBarRepository</code> instance into this method and return it as the <code>FooBarRepository</code>.</p>\n<p>But why should I have to do all that? Spring is already creating a <code>DefaultFooBarRepository</code>, adding it to the context, giving it a bean name, etc. How can I tell Spring simply to register the <code>DefaultFooBarRepository</code> with the <code>FooBarRepository</code> interface rather than the <code>DefaultFooBarRepository</code> implementation? Is there another annotation or an annotation parameter I can add to <code>DefaultFooBarRepository</code> or something?</p>\n<p><em>Update:</em> And this is even stranger: in <code>FooBarController</code> I tried to inject <code>DefaultFooBarRepository</code>:</p>\n<pre><code>@GetMapping\npublic String getFooBars(DefaultFooBarRepository repository) {\n  …\n}\n</code></pre>\n<p>Then I get another error saying that one of the parameters of the <code>DefaultFooBarRepository</code> constructor is <code>null</code>—specifically a <code>@ConfigurationProperties</code> annotated class <code>AppProperties</code>. It appears that in the controller <code>GET</code> handler it's trying to create an instance of <code>DefaultFooBarRepository</code>. But Spring should have already scanned the classes and instantiated both <code>AppProperties</code> and <code>DefaultFooBarRepository</code>. And we know it did, because as I mentioned the Thymeleaf view can access <code>@fooBarRepository.getFooBars()</code>. What am I missing here? Why can't the controller see any of the bean classes the the view can see?</p>\n"},{"tags":["java","json","spring-boot","jackson","deserialization"],"comments":[{"owner":{"account_id":20575533,"reputation":21,"user_id":15102806,"display_name":"Bharadwaj Joshi"},"score":0,"creation_date":1682092168,"post_id":76074747,"comment_id":134166312,"body_markdown":"EDIT: I want to take this JSON and convert it back to the Sale Object using Jackson ObjectMapper.readValue(json, Sale.class);","body":"EDIT: I want to take this JSON and convert it back to the Sale Object using Jackson ObjectMapper.readValue(json, Sale.class);"},{"owner":{"account_id":20575533,"reputation":21,"user_id":15102806,"display_name":"Bharadwaj Joshi"},"score":0,"creation_date":1682096879,"post_id":76074747,"comment_id":134167373,"body_markdown":"@OleV.V. yes, that was a typo. I&#39;m using com.fasterxml.jackson.annotation.JsonFormat (capital F)","body":"@OleV.V. yes, that was a typo. I&#39;m using com.fasterxml.jackson.annotation.JsonFormat (capital F)"},{"owner":{"account_id":20575533,"reputation":21,"user_id":15102806,"display_name":"Bharadwaj Joshi"},"score":0,"creation_date":1682097279,"post_id":76074747,"comment_id":134167436,"body_markdown":"@OleV.V. yes, you will be able to deserialize it because the format was : &quot;saleDateTime&quot;:&quot;2023-04-04T16:28:45&quot; after serializing. Now, how will you deserialize it if the format was what I&#39;ve shown in my main question? Bcoz that&#39;s how I am getting it from my DB. I want to be able to write a custom deserializer for that format of date data because we have a lot of production data like that. I will have to find a way to deserialize objects given a date like that. I hope it made sense.","body":"@OleV.V. yes, you will be able to deserialize it because the format was : &quot;saleDateTime&quot;:&quot;2023-04-04T16:28:45&quot; after serializing. Now, how will you deserialize it if the format was what I&#39;ve shown in my main question? Bcoz that&#39;s how I am getting it from my DB. I want to be able to write a custom deserializer for that format of date data because we have a lot of production data like that. I will have to find a way to deserialize objects given a date like that. I hope it made sense."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682157447,"post_id":76074747,"comment_id":134173520,"body_markdown":"Are you storing JSON in your database? In one of my previous projects we did that, partly because we were required to document what JSON we had sent to some other party. It gave us a lot of problems.","body":"Are you storing JSON in your database? In one of my previous projects we did that, partly because we were required to document what JSON we had sent to some other party. It gave us a lot of problems."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682157602,"post_id":76074747,"comment_id":134173530,"body_markdown":"Preferred solution: If the JSON was generated from Java (which it probably is since the date and time can probably only be a serialized `LocalDateTime`), find the library and settings used for that, and it will probably be able to deserialize back. Could even be a Jackson version from before your organization started using jackson-datatype-jr310.","body":"Preferred solution: If the JSON was generated from Java (which it probably is since the date and time can probably only be a serialized <code>LocalDateTime</code>), find the library and settings used for that, and it will probably be able to deserialize back. Could even be a Jackson version from before your organization started using jackson-datatype-jr310."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682160039,"post_id":76074747,"comment_id":134173799,"body_markdown":"If the preferred solution in my previous comment cannot work, there’s the more handheld solution: Fit your `Sale` class with a method for unpacking the sales datetime structure into a `LocalDateTime` as described [on Baeldung](https://www.baeldung.com/jackson-nested-values), section 5 (and definitely other places too). Your method will receive a map of maps of `Integer` with the numbers from JSON.","body":"If the preferred solution in my previous comment cannot work, there’s the more handheld solution: Fit your <code>Sale</code> class with a method for unpacking the sales datetime structure into a <code>LocalDateTime</code> as described <a href=\"https://www.baeldung.com/jackson-nested-values\" rel=\"nofollow noreferrer\">on Baeldung</a>, section 5 (and definitely other places too). Your method will receive a map of maps of <code>Integer</code> with the numbers from JSON."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682160049,"post_id":76074747,"comment_id":134173801,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253282/discussion-between-ole-v-v-and-bharadwaj-joshi).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253282/discussion-between-ole-v-v-and-bharadwaj-joshi\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682176356,"creation_date":1682176356,"answer_id":76080345,"question_id":76074747,"body_markdown":"The following works. Essentially it&#39;s your third option - not sure what you missed.\r\n\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.time.LocalDateTime;\r\n    \r\n    import com.example.demo.model.Sale;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.node.IntNode;\r\n    \r\n    public class CustomLocalDateTimeDeserializer extends StdDeserializer&lt;LocalDateTime&gt; { \r\n    public CustomLocalDateTimeDeserializer() { \r\n        this(null); \r\n    } \r\n\r\n    public CustomLocalDateTimeDeserializer(Class&lt;?&gt; vc) { \r\n        super(vc); \r\n    }\r\n\r\n    @Override\r\n    public LocalDateTime deserialize(JsonParser jp, DeserializationContext ctxt) \r\n      throws IOException, JsonProcessingException {\r\n        JsonNode node = jp.getCodec().readTree(jp);\r\n        \r\n        JsonNode date = node.get(&quot;date&quot;);\r\n        int year = (Integer) ((IntNode) date.get(&quot;year&quot;)).numberValue();\r\n\t\tint month = (Integer) ((IntNode) date.get(&quot;month&quot;)).numberValue();\r\n\t\tint dayOfMonth = (Integer) ((IntNode) date.get(&quot;day&quot;)).numberValue();\r\n        \r\n        \r\n        JsonNode time = node.get(&quot;time&quot;);\r\n \t\tint hour = (Integer) ((IntNode) time.get(&quot;hour&quot;)).numberValue();\r\n\t\tint minute = (Integer) ((IntNode) time.get(&quot;minute&quot;)).numberValue();\r\n\t\tint second = (Integer) ((IntNode) time.get(&quot;second&quot;)).numberValue();\r\n\t\tint nanoOfSecond = (Integer) ((IntNode) time.get(&quot;nano&quot;)).numberValue();\r\n       \t\r\n\t\treturn LocalDateTime.of(year, month, dayOfMonth, hour, minute, second, nanoOfSecond);\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n    \tObjectMapper mapper = new ObjectMapper();\r\n    \tSimpleModule module = new SimpleModule();\r\n    \tmodule.addDeserializer(LocalDateTime.class, new CustomLocalDateTimeDeserializer());\r\n    \tmapper.registerModule(module);\r\n    \t\r\n    \t\r\n    \tString json = &quot;{\\r\\n&quot; + \r\n    \t\t\t&quot;   \\&quot;storeNumber\\&quot;: \\&quot;023\\&quot;,\\r\\n&quot; + \r\n    \t\t\t&quot;   \\&quot;saleDateTime\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t&quot;     \\&quot;date\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;year\\&quot; : 2023,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;month\\&quot; : 4,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;day\\&quot; : 4\\r\\n&quot; + \r\n    \t\t\t&quot;     },\\r\\n&quot; + \r\n    \t\t\t&quot;     \\&quot;time\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;hour\\&quot; : 16,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;minute\\&quot; : 28,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;second\\&quot; : 45,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;nano\\&quot; : 0\\r\\n&quot; + \r\n    \t\t\t&quot;     }\\r\\n&quot; + \r\n    \t\t\t&quot;  }\\r\\n&quot; + \r\n    \t\t\t&quot;}&quot;;\r\n    \t\r\n\r\n    \tSale readValue = mapper.readValue(json, Sale.class);\r\n    \t\r\n    \tSystem.out.println(readValue);\r\n    }\r\n\r\n    }\r\n\r\nOutput is as follows:\r\n\r\n    Sale(storeNumber=023, saleDateTime=2023-04-04T16:28:45)\r\n\r\nDependencies - nothing special\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Deserialize JSON Date which is in timestamp format to Java Object which has LocalDatetime","body":"<p>The following works. Essentially it's your third option - not sure what you missed.</p>\n<pre><code>import java.io.IOException;\nimport java.time.LocalDateTime;\n\nimport com.example.demo.model.Sale;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.node.IntNode;\n\npublic class CustomLocalDateTimeDeserializer extends StdDeserializer&lt;LocalDateTime&gt; { \npublic CustomLocalDateTimeDeserializer() { \n    this(null); \n} \n\npublic CustomLocalDateTimeDeserializer(Class&lt;?&gt; vc) { \n    super(vc); \n}\n\n@Override\npublic LocalDateTime deserialize(JsonParser jp, DeserializationContext ctxt) \n  throws IOException, JsonProcessingException {\n    JsonNode node = jp.getCodec().readTree(jp);\n    \n    JsonNode date = node.get(&quot;date&quot;);\n    int year = (Integer) ((IntNode) date.get(&quot;year&quot;)).numberValue();\n    int month = (Integer) ((IntNode) date.get(&quot;month&quot;)).numberValue();\n    int dayOfMonth = (Integer) ((IntNode) date.get(&quot;day&quot;)).numberValue();\n    \n    \n    JsonNode time = node.get(&quot;time&quot;);\n    int hour = (Integer) ((IntNode) time.get(&quot;hour&quot;)).numberValue();\n    int minute = (Integer) ((IntNode) time.get(&quot;minute&quot;)).numberValue();\n    int second = (Integer) ((IntNode) time.get(&quot;second&quot;)).numberValue();\n    int nanoOfSecond = (Integer) ((IntNode) time.get(&quot;nano&quot;)).numberValue();\n    \n    return LocalDateTime.of(year, month, dayOfMonth, hour, minute, second, nanoOfSecond);\n}\n\npublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper();\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(LocalDateTime.class, new CustomLocalDateTimeDeserializer());\n    mapper.registerModule(module);\n    \n    \n    String json = &quot;{\\r\\n&quot; + \n            &quot;   \\&quot;storeNumber\\&quot;: \\&quot;023\\&quot;,\\r\\n&quot; + \n            &quot;   \\&quot;saleDateTime\\&quot;: {\\r\\n&quot; + \n            &quot;     \\&quot;date\\&quot;: {\\r\\n&quot; + \n            &quot;      \\&quot;year\\&quot; : 2023,\\r\\n&quot; + \n            &quot;      \\&quot;month\\&quot; : 4,\\r\\n&quot; + \n            &quot;      \\&quot;day\\&quot; : 4\\r\\n&quot; + \n            &quot;     },\\r\\n&quot; + \n            &quot;     \\&quot;time\\&quot;: {\\r\\n&quot; + \n            &quot;      \\&quot;hour\\&quot; : 16,\\r\\n&quot; + \n            &quot;      \\&quot;minute\\&quot; : 28,\\r\\n&quot; + \n            &quot;      \\&quot;second\\&quot; : 45,\\r\\n&quot; + \n            &quot;      \\&quot;nano\\&quot; : 0\\r\\n&quot; + \n            &quot;     }\\r\\n&quot; + \n            &quot;  }\\r\\n&quot; + \n            &quot;}&quot;;\n    \n\n    Sale readValue = mapper.readValue(json, Sale.class);\n    \n    System.out.println(readValue);\n}\n\n}\n</code></pre>\n<p>Output is as follows:</p>\n<pre><code>Sale(storeNumber=023, saleDateTime=2023-04-04T16:28:45)\n</code></pre>\n<p>Dependencies - nothing special</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":20575533,"reputation":21,"user_id":15102806,"display_name":"Bharadwaj Joshi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682176356,"creation_date":1682091923,"question_id":76074747,"body_markdown":"Project Details:\r\nSpring Boot with Gradle\r\n\r\nMy java class:\r\n```\r\npublic class Sale{\r\n   private String storeNumber;\r\n   @JsonFormat(pattern  = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n   private LocalDateTime saleDateTime;\r\n   // getter, setter\r\n}\r\n```\r\n\r\nThis object gets serialized as JSON and looks like:\r\n```\r\n{\r\n   &quot;storeNumber&quot;: &quot;023&quot;,\r\n   &quot;saleDateTime&quot;: {\r\n     &quot;date&quot;: {\r\n      &quot;year&quot; : 2023,\r\n      &quot;month&quot; : 4,\r\n      &quot;day&quot; : 4\r\n     },\r\n     &quot;time&quot;: {\r\n      &quot;hour&quot; : 16,\r\n      &quot;minute&quot; : 28,\r\n      &quot;second&quot; : 45,\r\n      &quot;nano&quot; : 0\r\n     }\r\n  }\r\n}\r\n```\r\n\r\nI want to take this JSON and convert it back to the Sale Object using Jackson ObjectMapper.readValue(json, Sale.class);\r\nHow will you deserialize it from format shown? Because that&#39;s how I am getting it from my DB. I want to be able to write a custom deserializer for that format of date data because we have a lot of production data like that. I will have to find a way to deserialize objects given a date like that. \r\n\r\nWhat I have tried so far:\r\n- added gradle dependency of jackson-datatype-jr310\r\n- registered JavaTimeModule as mapper.registerModule(new JavaTimeModule());\r\n- made a custom deserializer extending JsonDeserializer&lt;LocalDateTime&gt; and Overriding public LocalDateTime deserialize(JsonParser p, DeserializationContext context) and registering the same with ObjectMapper as mapper.registerModule(LocalDateTime.class, new CustomDeserializer())\r\n\r\nBut it&#39;s not working. I get the Jackon MismatchedInputException: Cannot deserialize value of type &#39;java.time.LocalDateTime&#39; from Object value (token &#39;JsonToken.START_OBJECT&#39;)\r\n","title":"Deserialize JSON Date which is in timestamp format to Java Object which has LocalDatetime","body":"<p>Project Details:\nSpring Boot with Gradle</p>\n<p>My java class:</p>\n<pre><code>public class Sale{\n   private String storeNumber;\n   @JsonFormat(pattern  = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n   private LocalDateTime saleDateTime;\n   // getter, setter\n}\n</code></pre>\n<p>This object gets serialized as JSON and looks like:</p>\n<pre><code>{\n   &quot;storeNumber&quot;: &quot;023&quot;,\n   &quot;saleDateTime&quot;: {\n     &quot;date&quot;: {\n      &quot;year&quot; : 2023,\n      &quot;month&quot; : 4,\n      &quot;day&quot; : 4\n     },\n     &quot;time&quot;: {\n      &quot;hour&quot; : 16,\n      &quot;minute&quot; : 28,\n      &quot;second&quot; : 45,\n      &quot;nano&quot; : 0\n     }\n  }\n}\n</code></pre>\n<p>I want to take this JSON and convert it back to the Sale Object using Jackson ObjectMapper.readValue(json, Sale.class);\nHow will you deserialize it from format shown? Because that's how I am getting it from my DB. I want to be able to write a custom deserializer for that format of date data because we have a lot of production data like that. I will have to find a way to deserialize objects given a date like that.</p>\n<p>What I have tried so far:</p>\n<ul>\n<li>added gradle dependency of jackson-datatype-jr310</li>\n<li>registered JavaTimeModule as mapper.registerModule(new JavaTimeModule());</li>\n<li>made a custom deserializer extending JsonDeserializer and Overriding public LocalDateTime deserialize(JsonParser p, DeserializationContext context) and registering the same with ObjectMapper as mapper.registerModule(LocalDateTime.class, new CustomDeserializer())</li>\n</ul>\n<p>But it's not working. I get the Jackon MismatchedInputException: Cannot deserialize value of type 'java.time.LocalDateTime' from Object value (token 'JsonToken.START_OBJECT')</p>\n"},{"tags":["java","apache-kafka","spring-webflux","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682170588,"creation_date":1682170588,"answer_id":76079926,"question_id":76078612,"body_markdown":"You don&#39;t provide topics to consume from.\r\nSee these options of the `ReceiverOptions`:\r\n\r\n    /**\r\n     * Sets subscription using manual assignment to the specified partitions.\r\n     * This assignment is enabled when the receive Flux of a {@link KafkaReceiver} using this\r\n     * options instance is subscribed to. Any existing subscriptions or assignments on this\r\n     * option are deleted.\r\n     * @return options instance with new partition assignment\r\n     */\r\n    @NonNull\r\n    ReceiverOptions&lt;K, V&gt; assignment(Collection&lt;TopicPartition&gt; partitions);\r\n\r\n    /**\r\n     * Sets subscription using group management to the specified collection of topics.\r\n     * This subscription is enabled when the receive Flux of a {@link KafkaReceiver} using this\r\n     * options instance is subscribed to. Any existing subscriptions or assignments on this\r\n     * option are deleted.\r\n     * @return options instance with new subscription\r\n     */\r\n    @NonNull\r\n    ReceiverOptions&lt;K, V&gt; subscription(Collection&lt;String&gt; topics);\r\n\r\n    /**\r\n     * Sets subscription using group management to the specified pattern.\r\n     * This subscription is enabled when the receive Flux of a {@link KafkaReceiver} using this\r\n     * options instance is subscribed to. Any existing subscriptions or assignments on this\r\n     * option are deleted. Topics are dynamically assigned or removed when topics\r\n     * matching the pattern are created or deleted.\r\n     * @return options instance with new subscription\r\n     */\r\n    @NonNull\r\n    ReceiverOptions&lt;K, V&gt; subscription(Pattern pattern);","title":"Spring webFlux No subscriptions have been created for Kafka Streams","body":"<p>You don't provide topics to consume from.\nSee these options of the <code>ReceiverOptions</code>:</p>\n<pre><code>/**\n * Sets subscription using manual assignment to the specified partitions.\n * This assignment is enabled when the receive Flux of a {@link KafkaReceiver} using this\n * options instance is subscribed to. Any existing subscriptions or assignments on this\n * option are deleted.\n * @return options instance with new partition assignment\n */\n@NonNull\nReceiverOptions&lt;K, V&gt; assignment(Collection&lt;TopicPartition&gt; partitions);\n\n/**\n * Sets subscription using group management to the specified collection of topics.\n * This subscription is enabled when the receive Flux of a {@link KafkaReceiver} using this\n * options instance is subscribed to. Any existing subscriptions or assignments on this\n * option are deleted.\n * @return options instance with new subscription\n */\n@NonNull\nReceiverOptions&lt;K, V&gt; subscription(Collection&lt;String&gt; topics);\n\n/**\n * Sets subscription using group management to the specified pattern.\n * This subscription is enabled when the receive Flux of a {@link KafkaReceiver} using this\n * options instance is subscribed to. Any existing subscriptions or assignments on this\n * option are deleted. Topics are dynamically assigned or removed when topics\n * matching the pattern are created or deleted.\n * @return options instance with new subscription\n */\n@NonNull\nReceiverOptions&lt;K, V&gt; subscription(Pattern pattern);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4801578,"reputation":81,"user_id":3878073,"display_name":"user3878073"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682176257,"creation_date":1682176257,"answer_id":76080338,"question_id":76078612,"body_markdown":"for streaming we need to add receiver options so in the configuration i made the following changes \r\n\r\n    @Bean\r\n        public ReceiverOptions&lt;String, String&gt; \r\n\r\n    kafkaReceiverOptions(KafkaProperties kafkaProperties) {\r\n            ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(kafkaProperties.buildConsumerProperties());\r\n            return basicReceiverOptions.subscription(Collections.singletonList(&quot;topic_name&quot;))\r\n                    .addAssignListener(receiverPartitions -&gt; System.out.println(&quot;onPartitionAssigned &quot;+ receiverPartitions))\r\n                    .addRevokeListener(receiverPartitions -&gt; System.out.println(&quot;onPartitionsRevoked &quot;+ receiverPartitions));\r\n        }\r\n\r\n\r\nand in the consumerTemplate \r\n\r\n \r\n\r\n    @Bean\r\n        public ReactiveKafkaConsumerTemplate&lt;String, String&gt; reactiveKafkaConsumerTemplateTemplate(\r\n                ReceiverOptions&lt;String, String&gt; kafkaReceiverOptions) {\r\n            return new ReactiveKafkaConsumerTemplate&lt;&gt;(kafkaReceiverOptions);\r\n        }\r\n\r\n","title":"Spring webFlux No subscriptions have been created for Kafka Streams","body":"<p>for streaming we need to add receiver options so in the configuration i made the following changes</p>\n<pre><code>@Bean\n    public ReceiverOptions&lt;String, String&gt; \n\nkafkaReceiverOptions(KafkaProperties kafkaProperties) {\n        ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(kafkaProperties.buildConsumerProperties());\n        return basicReceiverOptions.subscription(Collections.singletonList(&quot;topic_name&quot;))\n                .addAssignListener(receiverPartitions -&gt; System.out.println(&quot;onPartitionAssigned &quot;+ receiverPartitions))\n                .addRevokeListener(receiverPartitions -&gt; System.out.println(&quot;onPartitionsRevoked &quot;+ receiverPartitions));\n    }\n</code></pre>\n<p>and in the consumerTemplate</p>\n<pre><code>@Bean\n    public ReactiveKafkaConsumerTemplate&lt;String, String&gt; reactiveKafkaConsumerTemplateTemplate(\n            ReceiverOptions&lt;String, String&gt; kafkaReceiverOptions) {\n        return new ReactiveKafkaConsumerTemplate&lt;&gt;(kafkaReceiverOptions);\n    }\n</code></pre>\n"}],"owner":{"account_id":4801578,"reputation":81,"user_id":3878073,"display_name":"user3878073"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76079926,"answer_count":2,"score":0,"last_activity_date":1682176257,"creation_date":1682150678,"question_id":76078612,"body_markdown":"i&#39;m trying to publish message to a Kafka topic using spring web-flux, these are the configurations \r\n\r\n\r\n    @Bean\r\n        public ReactiveKafkaProducerTemplate&lt;String, String&gt; reactiveKafkaProducerTemplate(\r\n                KafkaProperties properties) {\r\n            Map&lt;String, Object&gt; props = properties.buildProducerProperties();\r\n            return new ReactiveKafkaProducerTemplate&lt;String, String&gt;(SenderOptions.create(props));\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    @Bean\r\n        public ReactiveKafkaConsumerTemplate&lt;String, String&gt; reactiveKafkaConsumerTemplateTemplate(\r\n                KafkaProperties properties) {\r\n            Map&lt;String, Object&gt; props = properties.buildConsumerProperties();\r\n            return new ReactiveKafkaConsumerTemplate&lt;&gt;(ReceiverOptions.create(props));\r\n        }\r\n\r\n\r\nThen i try to stream all the values present in the topic\r\n\r\n     @GetMapping(value = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;String&gt; postToKafka() {\r\n        return consumerTemplate.receiveAtMostOnce().map(rec -&gt; rec.value()).doOnNext(System.out::println);\r\n    \r\n    \r\n    }\r\n\r\nbut instead of getting data present in the topics i&#39;m getting these error \r\n\r\njava.lang.IllegalStateException: No subscriptions have been created\r\n\tat reactor.kafka.receiver.ReceiverOptions.subscriber(ReceiverOptions.java:385) ~[reactor-kafka-1.3.3.jar:1.3.3]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ Handler \r\n\r\n","title":"Spring webFlux No subscriptions have been created for Kafka Streams","body":"<p>i'm trying to publish message to a Kafka topic using spring web-flux, these are the configurations</p>\n<pre><code>@Bean\n    public ReactiveKafkaProducerTemplate&lt;String, String&gt; reactiveKafkaProducerTemplate(\n            KafkaProperties properties) {\n        Map&lt;String, Object&gt; props = properties.buildProducerProperties();\n        return new ReactiveKafkaProducerTemplate&lt;String, String&gt;(SenderOptions.create(props));\n\n\n\n    }\n\n\n@Bean\n    public ReactiveKafkaConsumerTemplate&lt;String, String&gt; reactiveKafkaConsumerTemplateTemplate(\n            KafkaProperties properties) {\n        Map&lt;String, Object&gt; props = properties.buildConsumerProperties();\n        return new ReactiveKafkaConsumerTemplate&lt;&gt;(ReceiverOptions.create(props));\n    }\n</code></pre>\n<p>Then i try to stream all the values present in the topic</p>\n<pre><code> @GetMapping(value = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;String&gt; postToKafka() {\n    return consumerTemplate.receiveAtMostOnce().map(rec -&gt; rec.value()).doOnNext(System.out::println);\n\n\n}\n</code></pre>\n<p>but instead of getting data present in the topics i'm getting these error</p>\n<p>java.lang.IllegalStateException: No subscriptions have been created\nat reactor.kafka.receiver.ReceiverOptions.subscriber(ReceiverOptions.java:385) ~[reactor-kafka-1.3.3.jar:1.3.3]\nSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nError has been observed at the following site(s):\n*__checkpoint ⇢ Handler</p>\n"},{"tags":["javascript","java","vue.js","cors"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1682184153,"post_id":76080282,"comment_id":134176791,"body_markdown":"check here: https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application","body":"check here: <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\" title=\"how to configure cors in a spring boot spring security application\">stackoverflow.com/questions/36968963/&hellip;</a>"}],"owner":{"account_id":24698282,"reputation":81,"user_id":18589924,"display_name":"4SadMemeXD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682175480,"creation_date":1682175480,"question_id":76080282,"body_markdown":"I have controller like this\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/country/&quot;)\r\n    @RequiredArgsConstructor\r\n    @CrossOrigin(origins = &quot;http://localhost:8082&quot;)\r\n    public class CountryController {\r\n        private final CountryService countryService;\r\n    \r\n        @GetMapping(&quot;getAll&quot;)\r\n        public ResponseEntity&lt;GetAllCountriesResponse&gt; getAllCountries() {\r\n            return ResponseEntity.ok(countryService.getAllCountriesResponse());\r\n        }\r\n    }\r\n\r\nand i&#39;m trying to send request from vue js app on http://localhost:8082/ to server on http://localhost:8081/\r\n\r\nlike so \r\n\r\naxios(&quot;http://localhost:8081/api/v1/country/getAll&quot;)\r\n\r\nwhen i&#39;m using postman everything is fine, but when i try to do this in vue js i get \r\n\r\nAcess to XMLHttpRequest at &#39;http://localhost:8081/api/v1/country/getAll&#39; from origin &#39;http://localhost:8082&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nHow can i configure this on spring v3.0.1\r\n","title":"Can&#39;t configure Cors on java spring / vue js","body":"<p>I have controller like this</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/country/&quot;)\n@RequiredArgsConstructor\n@CrossOrigin(origins = &quot;http://localhost:8082&quot;)\npublic class CountryController {\n    private final CountryService countryService;\n\n    @GetMapping(&quot;getAll&quot;)\n    public ResponseEntity&lt;GetAllCountriesResponse&gt; getAllCountries() {\n        return ResponseEntity.ok(countryService.getAllCountriesResponse());\n    }\n}\n</code></pre>\n<p>and i'm trying to send request from vue js app on http://localhost:8082/ to server on http://localhost:8081/</p>\n<p>like so</p>\n<p>axios(&quot;http://localhost:8081/api/v1/country/getAll&quot;)</p>\n<p>when i'm using postman everything is fine, but when i try to do this in vue js i get</p>\n<p>Acess to XMLHttpRequest at 'http://localhost:8081/api/v1/country/getAll' from origin 'http://localhost:8082' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p>How can i configure this on spring v3.0.1</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682165724,"post_id":75880081,"comment_id":134174366,"body_markdown":"I have updated my answer with good news.","body":"I have updated my answer with good news."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682174223,"creation_date":1680185942,"answer_id":75889411,"question_id":75880081,"body_markdown":"I suspect the issue is the use of `consumes = MediaType.APPLICATION_JSON_VALUE`. It should be `consumes = {MediaType.APPLICATION_NDJSON_VALUE}`. Similarly, on the client `.contentType(MediaType.APPLICATION_JSON)` should be `.contentType(MediaType.APPLICATION_NDJSON)`\r\n\r\nHere is a complete example (client &amp; server) of passing a `Flux&lt;Integer&gt;` as body *and* receiving one as a response.\r\n\r\n**Controller**\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import reactor.core.publisher.Flux;\r\n    \r\n    @RestController\r\n    public class MyController {\r\n    \r\n    \t@PostMapping(path = &quot;/post&quot;, consumes = {MediaType.APPLICATION_NDJSON_VALUE})\r\n    \tFlux&lt;Integer&gt; create(@RequestBody Flux&lt;Integer&gt; integerStream) {\r\n    \t\tintegerStream.log().subscribe(i -&gt; {\r\n    \t\t\tSystem.out.println(i);\r\n    \t\t});\r\n    \r\n    \t\treturn Flux.just(5, 6, 7);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Client**\r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    import reactor.core.publisher.Flux;\r\n    \r\n    public class PostFlux {\r\n    \r\n        private static WebClient webClient = WebClient.create(&quot;http://localhost:8080&quot;);\r\n    \r\n        public static void main(String[] args) {\r\n    \t\r\n    \t    Flux&lt;Integer&gt; integerFlux = Flux.just(1, 2, 3, 4, 5);\r\n    \r\n    \t    Flux&lt;Integer&gt; result = webClient.post().uri(&quot;/post&quot;).contentType(MediaType.APPLICATION_NDJSON)\r\n    \t\t\t.body(integerFlux, Integer.class).retrieve().bodyToFlux(Integer.class);\r\n    \t\t\t\r\n    \t    List&lt;Integer&gt; list = result.collectList().block();\r\n    \t\r\n    \t    System.out.println(list);\r\n        }\r\n    \r\n    }\r\n\r\nDependencies\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt; &lt;!--or 2.7.10 --&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;monostuff&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;monostuff&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;&lt;!--or 11 --&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nThe server can also be tested with a curl as follows. Note how a Flux is posted using newlines between each value.\r\n\r\nWindows: `curl http://localhost:8080/post -H &quot;Content-type: application/x-ndjson&quot; --data &quot;1\\n2\\n3\\n4\\n&quot;`\r\n\r\nUnix: curl `&#39;http://localhost:8080/post&#39; --header &#39;Content-type: application/x-ndjson&#39; --data &#39;1\\n2\\n3\\n4\\n&#39;`\r\n\r\nThe server can be tested with Postman by following the accepted answer [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45437217/how-to-send-elasticsearch-multi-search-request-in-postman\r\n\r\n\r\n","title":"How to send a flux of integers from one microservice to another","body":"<p>I suspect the issue is the use of <code>consumes = MediaType.APPLICATION_JSON_VALUE</code>. It should be <code>consumes = {MediaType.APPLICATION_NDJSON_VALUE}</code>. Similarly, on the client <code>.contentType(MediaType.APPLICATION_JSON)</code> should be <code>.contentType(MediaType.APPLICATION_NDJSON)</code></p>\n<p>Here is a complete example (client &amp; server) of passing a <code>Flux&lt;Integer&gt;</code> as body <em>and</em> receiving one as a response.</p>\n<p><strong>Controller</strong></p>\n<pre><code>import org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport reactor.core.publisher.Flux;\n\n@RestController\npublic class MyController {\n\n    @PostMapping(path = &quot;/post&quot;, consumes = {MediaType.APPLICATION_NDJSON_VALUE})\n    Flux&lt;Integer&gt; create(@RequestBody Flux&lt;Integer&gt; integerStream) {\n        integerStream.log().subscribe(i -&gt; {\n            System.out.println(i);\n        });\n\n        return Flux.just(5, 6, 7);\n    }\n\n}\n</code></pre>\n<p><strong>Client</strong></p>\n<pre><code>import java.util.List;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport reactor.core.publisher.Flux;\n\npublic class PostFlux {\n\n    private static WebClient webClient = WebClient.create(&quot;http://localhost:8080&quot;);\n\n    public static void main(String[] args) {\n    \n        Flux&lt;Integer&gt; integerFlux = Flux.just(1, 2, 3, 4, 5);\n\n        Flux&lt;Integer&gt; result = webClient.post().uri(&quot;/post&quot;).contentType(MediaType.APPLICATION_NDJSON)\n            .body(integerFlux, Integer.class).retrieve().bodyToFlux(Integer.class);\n            \n        List&lt;Integer&gt; list = result.collectList().block();\n    \n        System.out.println(list);\n    }\n\n}\n</code></pre>\n<p>Dependencies</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt; &lt;!--or 2.7.10 --&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;monostuff&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;monostuff&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;&lt;!--or 11 --&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The server can also be tested with a curl as follows. Note how a Flux is posted using newlines between each value.</p>\n<p>Windows: <code>curl http://localhost:8080/post -H &quot;Content-type: application/x-ndjson&quot; --data &quot;1\\n2\\n3\\n4\\n&quot;</code></p>\n<p>Unix: curl <code>'http://localhost:8080/post' --header 'Content-type: application/x-ndjson' --data '1\\n2\\n3\\n4\\n'</code></p>\n<p>The server can be tested with Postman by following the accepted answer <a href=\"https://stackoverflow.com/questions/45437217/how-to-send-elasticsearch-multi-search-request-in-postman\">here</a>.</p>\n"}],"owner":{"account_id":11387612,"reputation":51,"user_id":8348819,"display_name":"Ronit Nath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1682174223,"creation_date":1680109054,"question_id":75880081,"body_markdown":"I am new to Spring WebFlux and WebClient. I am working on a PoC where I have designed two microservices. I am trying to send a flux of integers using a post request from service A which I intend to consume in service B. I took help from the [link][1] to develop the  the sender (A) and the receiver (B) code.\r\n\r\n**Service A:**\r\n\r\n```\r\n Flux&lt;Integer&gt; integerFlux = Flux.just(1,2,3,4,5);\r\n WebClient.create(&quot;http://localhost:9002/registry&quot;)\r\n          .post()\r\n          .uri(&quot;/packages&quot;)\r\n          .contentType(MediaType.APPLICATION_JSON)\r\n          .body(integerFlux, Integer.class)\r\n          .retrieve()\r\n          .bodyToMono(Void.class)\r\n          .block();\r\n```\r\n\r\n**Service B:**\r\n\r\n```\r\n    @PostMapping(value = &quot;/packages&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Void&gt; createPackage(@RequestBody Flux&lt;Integer&gt; integerFlux) {\r\n        this.registryService.createPackage(integerFlux);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\nWhen I execute the post request from service A, I get the following error logs:\r\n\r\n**Service A:**\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://localhost:9002/registry/packages\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:239) ~[spring-webflux-5.3.24.jar:5.3.24]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ 500 from POST http://localhost:9002/registry/packages [DefaultWebClient]\r\n```\r\n\r\n**Service B:**\r\n\r\n```\r\n Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class reactor.core.publisher.Flux]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `reactor.core.publisher.Flux` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `reactor.core.publisher.Flux` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n```\r\n\r\n\r\nI also tried changing the content-type to **application/nd-json**, but in that case I am getting a **415 Unsupported Media Type Error**. The fix in this [link][2] did not help me either.\r\n\r\nCan anyone help me understand where am I going wrong?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69142662/is-it-possible-to-pass-flux-to-the-body-of-webclient-post\r\n  [2]: https://stackoverflow.com/questions/49299224/cannot-construct-instance-of-reactor-core-publisher-mono-spring-cloud-openfeig","title":"How to send a flux of integers from one microservice to another","body":"<p>I am new to Spring WebFlux and WebClient. I am working on a PoC where I have designed two microservices. I am trying to send a flux of integers using a post request from service A which I intend to consume in service B. I took help from the <a href=\"https://stackoverflow.com/questions/69142662/is-it-possible-to-pass-flux-to-the-body-of-webclient-post\">link</a> to develop the  the sender (A) and the receiver (B) code.</p>\n<p><strong>Service A:</strong></p>\n<pre><code> Flux&lt;Integer&gt; integerFlux = Flux.just(1,2,3,4,5);\n WebClient.create(&quot;http://localhost:9002/registry&quot;)\n          .post()\n          .uri(&quot;/packages&quot;)\n          .contentType(MediaType.APPLICATION_JSON)\n          .body(integerFlux, Integer.class)\n          .retrieve()\n          .bodyToMono(Void.class)\n          .block();\n</code></pre>\n<p><strong>Service B:</strong></p>\n<pre><code>    @PostMapping(value = &quot;/packages&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Void&gt; createPackage(@RequestBody Flux&lt;Integer&gt; integerFlux) {\n        this.registryService.createPackage(integerFlux);\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n    }\n</code></pre>\n<p>When I execute the post request from service A, I get the following error logs:</p>\n<p><strong>Service A:</strong></p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://localhost:9002/registry/packages\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:239) ~[spring-webflux-5.3.24.jar:5.3.24]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ 500 from POST http://localhost:9002/registry/packages [DefaultWebClient]\n</code></pre>\n<p><strong>Service B:</strong></p>\n<pre><code> Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class reactor.core.publisher.Flux]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `reactor.core.publisher.Flux` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `reactor.core.publisher.Flux` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n</code></pre>\n<p>I also tried changing the content-type to <strong>application/nd-json</strong>, but in that case I am getting a <strong>415 Unsupported Media Type Error</strong>. The fix in this <a href=\"https://stackoverflow.com/questions/49299224/cannot-construct-instance-of-reactor-core-publisher-mono-spring-cloud-openfeig\">link</a> did not help me either.</p>\n<p>Can anyone help me understand where am I going wrong?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682173637,"creation_date":1682173637,"answer_id":76080152,"question_id":76079492,"body_markdown":"I think you have some issue here in this part of code. Check again as to which layout you want to inflate with which view.\r\n\r\n    binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();`\r\n\r\n\r\nI have a feeling that binding.getRoot() is not returning FirstFragment as it should. Why dont you debug and verify if its indeed returning &#39;FirstFragment&#39;.","title":"Cannot resolve symbol &quot;editText&quot; android | binding","body":"<p>I think you have some issue here in this part of code. Check again as to which layout you want to inflate with which view.</p>\n<pre><code>binding = FragmentFirstBinding.inflate(inflater, container, false);\n    return binding.getRoot();`\n</code></pre>\n<p>I have a feeling that binding.getRoot() is not returning FirstFragment as it should. Why dont you debug and verify if its indeed returning 'FirstFragment'.</p>\n"}],"owner":{"account_id":23873359,"reputation":175,"user_id":17874799,"display_name":"User1986"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682173637,"creation_date":1682164308,"question_id":76079492,"body_markdown":"I&#39;m currently making an android app, and it all works. Here is my code for the first fragment:\r\n```\r\npackage com.example.matha;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.navigation.fragment.NavHostFragment;\r\n\r\nimport com.example.matha.databinding.FragmentFirstBinding;\r\n\r\npublic class FirstFragment extends Fragment {\r\n    int correct_answer;\r\n    private FragmentFirstBinding binding;\r\n    private MathQuiz mathQuiz;\r\n\r\n    @Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        mathQuiz = new MathQuiz();\r\n        askQuestion();\r\n\r\n\r\n        /*\r\n        binding.answerEt.setOnEditorActionListener(new EditText.OnEditorActionListener() {\r\n            @Override\r\n            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\r\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                    String answerString = binding.answerEt.getText().toString();\r\n                    int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\r\n                    System.out.println(&quot;USER SAID: &quot; + answer);\r\n\r\n                    boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\r\n                    if (correct) {\r\n                        askQuestion();\r\n                    } else {\r\n                        //updateLives();\r\n                        askQuestion();\r\n                    }\r\n                    binding.answerEt.setText(&quot;&quot;);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        */\r\n\r\n\r\n\r\n        binding.submitButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String answerString = binding.answerEt.getText().toString();\r\n                int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\r\n                System.out.println(&quot;USER SAID: &quot;+answer);\r\n\r\n                boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\r\n                if (correct) {\r\n                    askQuestion();\r\n                } else {\r\n                    //updateLives();\r\n                    askQuestion();\r\n\r\n                }\r\n                binding.answerEt.setText(&quot;&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void askQuestion() {\r\n        MathQuiz.MyQuestion question = mathQuiz.generateQuestion();\r\n        correct_answer = question.correct;\r\n        binding.questionTw.setText(String.valueOf(question.string));\r\n\r\n    }\r\n\r\n    private void updateLives() {\r\n        int lives = mathQuiz.getLives();\r\n        if (lives &lt;= 0) {\r\n\r\n        }}}\r\n```\r\n\r\nand here is my MathQuiz:\r\n```\r\npackage com.example.matha;\r\nimport java.util.Random;\r\n\r\npublic class MathQuiz {\r\n    int xmin = 1;\r\n    int xmax = 25;\r\n    int ymin = 1;\r\n    int ymax = 25;\r\n    int score = 0;\r\n\r\n    int allowed_fails = 3;\r\n    int allowed_corrects = 10;\r\n\r\n    int correct_answer = 0;\r\n    int x = 0;\r\n    int y = 0;\r\n    int questions_correct = 0;\r\n    int questions_wrong = 0;\r\n    private Random random;\r\n\r\n    private int lives;\r\n    private int numQuestions;\r\n\r\n    public MathQuiz() {\r\n        random = new Random();\r\n        score = 0;\r\n        lives = 3;\r\n        numQuestions = 0;\r\n    }\r\n\r\n    public MyQuestion generateQuestion() {\r\n        x = (int) (Math.random() * (xmax - xmin + 1)) + xmin;\r\n        y = (int) (Math.random() * (ymax - ymin + 1)) + ymin;\r\n        MyQuestion question = new MyQuestion();\r\n        question.correct = x * y;\r\n        question.string = x +&quot;*&quot;+y;\r\n        return question;\r\n    }\r\n    public class MyQuestion {\r\n        public String string;\r\n        public int correct;\r\n    }\r\n    public boolean checkAnswer(int answer, int correct_answer) {\r\n        boolean correct = answer == correct_answer;\r\n        if (correct) {\r\n            score++;\r\n        } else {\r\n            lives--;\r\n        }\r\n        numQuestions++;\r\n        return correct;\r\n    }\r\n\r\n    public int getScore() {\r\n        return score;\r\n    }\r\n\r\n    public int getLives() {\r\n        return lives;\r\n    }\r\n\r\n    public int getNumQuestions() {\r\n        return numQuestions;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nHere is my xml:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/answer_et&quot;\r\n        android:layout_width=&quot;300sp&quot;\r\n        android:layout_height=&quot;100sp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;numberDecimal&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.412&quot;\r\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/question_tw&quot;\r\n        android:layout_width=&quot;248dp&quot;\r\n        android:layout_height=&quot;73dp&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        android:layout_marginBottom=&quot;78dp&quot;\r\n        android:text=&quot;x * y&quot;\r\n        android:textSize=&quot;34sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/answer_et&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.291&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/score_tw&quot;\r\n        android:layout_width=&quot;92dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:text=&quot;Score:&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/lives_tw&quot;\r\n        android:layout_width=&quot;92dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_marginStart=&quot;210dp&quot;\r\n        android:text=&quot;Lives:&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/score_tw&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/submitButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Submit&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/answer_et&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\nI&#39;m trying to make the function that gets executed when the &quot;submit button&quot; is pressed get executed when this little check icon gets pressed (bottom left):\r\n[![enter image description here][1]][1]\r\n\r\nI tried the following:\r\n```\r\nbinding.answerEt.setOnEditorActionListener(new EditText.OnEditorActionListener() {\r\n            @Override\r\n            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\r\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                    String answerString = binding.answerEt.getText().toString();\r\n                    int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\r\n                    System.out.println(&quot;USER SAID: &quot; + answer);\r\n\r\n                    boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\r\n                    if (correct) {\r\n                        askQuestion();\r\n                    } else {\r\n                        //updateLives();\r\n                        askQuestion();\r\n                    }\r\n                    binding.answerEt.setText(&quot;&quot;);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n   ```\r\n\r\n\r\nBut it wont work and gives 5 errors:\r\nCannot resolve symbol &#39;EditText&#39;\r\nMethod does not override method from its superclass\r\nCannot resolve symbol &#39;TextView&#39;\r\nCannot resolve symbol &#39;KeyEvent&#39;\r\nCannot resolve symbol &#39;EditorInfo&#39;\r\n\r\nI tried a lot but i don&#39;t know how to fix this. Does anybody know a resource where the stuff like buttons, and edittext gets teached?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/egVko.png","title":"Cannot resolve symbol &quot;editText&quot; android | binding","body":"<p>I'm currently making an android app, and it all works. Here is my code for the first fragment:</p>\n<pre><code>package com.example.matha;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.navigation.fragment.NavHostFragment;\n\nimport com.example.matha.databinding.FragmentFirstBinding;\n\npublic class FirstFragment extends Fragment {\n    int correct_answer;\n    private FragmentFirstBinding binding;\n    private MathQuiz mathQuiz;\n\n    @Override\n    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        mathQuiz = new MathQuiz();\n        askQuestion();\n\n\n        /*\n        binding.answerEt.setOnEditorActionListener(new EditText.OnEditorActionListener() {\n            @Override\n            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\n                    String answerString = binding.answerEt.getText().toString();\n                    int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\n                    System.out.println(&quot;USER SAID: &quot; + answer);\n\n                    boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\n                    if (correct) {\n                        askQuestion();\n                    } else {\n                        //updateLives();\n                        askQuestion();\n                    }\n                    binding.answerEt.setText(&quot;&quot;);\n                    return true;\n                }\n                return false;\n            }\n        });\n        */\n\n\n\n        binding.submitButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String answerString = binding.answerEt.getText().toString();\n                int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\n                System.out.println(&quot;USER SAID: &quot;+answer);\n\n                boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\n                if (correct) {\n                    askQuestion();\n                } else {\n                    //updateLives();\n                    askQuestion();\n\n                }\n                binding.answerEt.setText(&quot;&quot;);\n            }\n        });\n    }\n\n    private void askQuestion() {\n        MathQuiz.MyQuestion question = mathQuiz.generateQuestion();\n        correct_answer = question.correct;\n        binding.questionTw.setText(String.valueOf(question.string));\n\n    }\n\n    private void updateLives() {\n        int lives = mathQuiz.getLives();\n        if (lives &lt;= 0) {\n\n        }}}\n</code></pre>\n<p>and here is my MathQuiz:</p>\n<pre><code>package com.example.matha;\nimport java.util.Random;\n\npublic class MathQuiz {\n    int xmin = 1;\n    int xmax = 25;\n    int ymin = 1;\n    int ymax = 25;\n    int score = 0;\n\n    int allowed_fails = 3;\n    int allowed_corrects = 10;\n\n    int correct_answer = 0;\n    int x = 0;\n    int y = 0;\n    int questions_correct = 0;\n    int questions_wrong = 0;\n    private Random random;\n\n    private int lives;\n    private int numQuestions;\n\n    public MathQuiz() {\n        random = new Random();\n        score = 0;\n        lives = 3;\n        numQuestions = 0;\n    }\n\n    public MyQuestion generateQuestion() {\n        x = (int) (Math.random() * (xmax - xmin + 1)) + xmin;\n        y = (int) (Math.random() * (ymax - ymin + 1)) + ymin;\n        MyQuestion question = new MyQuestion();\n        question.correct = x * y;\n        question.string = x +&quot;*&quot;+y;\n        return question;\n    }\n    public class MyQuestion {\n        public String string;\n        public int correct;\n    }\n    public boolean checkAnswer(int answer, int correct_answer) {\n        boolean correct = answer == correct_answer;\n        if (correct) {\n            score++;\n        } else {\n            lives--;\n        }\n        numQuestions++;\n        return correct;\n    }\n\n    public int getScore() {\n        return score;\n    }\n\n    public int getLives() {\n        return lives;\n    }\n\n    public int getNumQuestions() {\n        return numQuestions;\n    }\n\n}\n\n</code></pre>\n<p>Here is my xml:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.FirstFragment&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/answer_et&quot;\n        android:layout_width=&quot;300sp&quot;\n        android:layout_height=&quot;100sp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;numberDecimal&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.412&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/question_tw&quot;\n        android:layout_width=&quot;248dp&quot;\n        android:layout_height=&quot;73dp&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:layout_marginBottom=&quot;78dp&quot;\n        android:text=&quot;x * y&quot;\n        android:textSize=&quot;34sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/answer_et&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.291&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/score_tw&quot;\n        android:layout_width=&quot;92dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:text=&quot;Score:&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/lives_tw&quot;\n        android:layout_width=&quot;92dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_marginStart=&quot;210dp&quot;\n        android:text=&quot;Lives:&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/score_tw&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/submitButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Submit&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/answer_et&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I'm trying to make the function that gets executed when the &quot;submit button&quot; is pressed get executed when this little check icon gets pressed (bottom left):\n<a href=\"https://i.stack.imgur.com/egVko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/egVko.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried the following:</p>\n<pre><code>binding.answerEt.setOnEditorActionListener(new EditText.OnEditorActionListener() {\n            @Override\n            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\n                    String answerString = binding.answerEt.getText().toString();\n                    int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\n                    System.out.println(&quot;USER SAID: &quot; + answer);\n\n                    boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\n                    if (correct) {\n                        askQuestion();\n                    } else {\n                        //updateLives();\n                        askQuestion();\n                    }\n                    binding.answerEt.setText(&quot;&quot;);\n                    return true;\n                }\n                return false;\n            }\n        });\n</code></pre>\n<p>But it wont work and gives 5 errors:\nCannot resolve symbol 'EditText'\nMethod does not override method from its superclass\nCannot resolve symbol 'TextView'\nCannot resolve symbol 'KeyEvent'\nCannot resolve symbol 'EditorInfo'</p>\n<p>I tried a lot but i don't know how to fix this. Does anybody know a resource where the stuff like buttons, and edittext gets teached?</p>\n"},{"tags":["java","android","mongodb","android-studio","realm"],"answers":[{"tags":[],"owner":{"account_id":28380102,"reputation":26,"user_id":21707509,"display_name":"3speedy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682173626,"creation_date":1682173626,"answer_id":76080151,"question_id":76067151,"body_markdown":"I&#39;ve had the same problem.\r\n\r\nI updated the Realm Gradle plugin to version 10.15.1:\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:8.0.0&#39;\r\n        classpath &#39;io.realm:realm-gradle-plugin:10.15.1&#39;\r\n    }\r\n\r\nThe error disappeared after a sync and rebuild of the project.\r\n\r\nMy Android studio Grandle JDK are 17.0.6.\r\n\r\nI hope these tips are helpful to you.","title":"Realm Local Database not working with Android Studio (Java)","body":"<p>I've had the same problem.</p>\n<p>I updated the Realm Gradle plugin to version 10.15.1:</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:8.0.0'\n    classpath 'io.realm:realm-gradle-plugin:10.15.1'\n}\n</code></pre>\n<p>The error disappeared after a sync and rebuild of the project.</p>\n<p>My Android studio Grandle JDK are 17.0.6.</p>\n<p>I hope these tips are helpful to you.</p>\n"}],"owner":{"account_id":18052367,"reputation":25,"user_id":13121718,"display_name":"Dushyant Kumar Behera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76080151,"answer_count":1,"score":1,"last_activity_date":1682173626,"creation_date":1682014768,"question_id":76067151,"body_markdown":"This is added to my build.gradle Project file:\r\n\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;io.realm:realm-gradle-plugin:10.15.0&quot;\r\n    }\r\n}\r\n```\r\n\r\nThis is added to my build.gradle Application file:\r\n\r\n```\r\napply plugin: &quot;realm-android&quot;\r\n\r\nimplementation &#39;io.realm:realm-gradle-plugin:10.15.0&#39;\r\n```\r\n\r\nError is:\r\n\r\n```\r\n&gt; java.lang.IllegalAccessError: class io.realm.processor.Utils (in unnamed module @0x319c63c6) cannot access class com.sun.tools.javac.code.Symbol$ClassSymbol (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.code to unnamed module @0x319c63c6\r\n```\r\n\r\n\r\nGradle Sync is successful but Build fails with error described. I am using AGP 8.0.0 and Gradle version 8.1 with Java version VERSION_11 and min sdk 24 and target sdk 33.","title":"Realm Local Database not working with Android Studio (Java)","body":"<p>This is added to my build.gradle Project file:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;io.realm:realm-gradle-plugin:10.15.0&quot;\n    }\n}\n</code></pre>\n<p>This is added to my build.gradle Application file:</p>\n<pre><code>apply plugin: &quot;realm-android&quot;\n\nimplementation 'io.realm:realm-gradle-plugin:10.15.0'\n</code></pre>\n<p>Error is:</p>\n<pre><code>&gt; java.lang.IllegalAccessError: class io.realm.processor.Utils (in unnamed module @0x319c63c6) cannot access class com.sun.tools.javac.code.Symbol$ClassSymbol (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.code to unnamed module @0x319c63c6\n</code></pre>\n<p>Gradle Sync is successful but Build fails with error described. I am using AGP 8.0.0 and Gradle version 8.1 with Java version VERSION_11 and min sdk 24 and target sdk 33.</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682173619,"creation_date":1682173619,"answer_id":76080148,"question_id":76079957,"body_markdown":"Regardless of using reactive programming via Mono or not, when a method it called, the code it contains will be executed. So when your method\r\n\r\n    public Mono&lt;Void&gt; getMono3() {\r\n\r\n        log.info(&quot;Message from thread: {} and method mono3&quot;, Thread.currentThread().getId());\r\n        return Mono.empty();\r\n    }\r\n\r\nis called, it will generate the log entry.\r\n\r\nWhen you have the following line\r\n\r\n    fromRunnable2.then(getMono3()).then(getMono4()).subscribe();\r\n\r\nthe methods `getMono3()` and `getMono4()` have to be called to evaluate this statement. **But** they have to be called. This means you get the log entries\r\n\r\n    19:07:10.980 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono3\r\n    19:07:10.981 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono4\r\n\r\nbecause java will evaluate your expression to finally something like\r\n\r\n    fromRunnable2.then(Mono.empty()).then(Mono.empty()).subscribe();\r\n\r\nAfter that, when the log entries are already generated, your subscription will run and you get the `message from main2` message from the \r\n\r\n    Mono&lt;Void&gt; fromRunnable2 = Mono.fromRunnable(() -&gt; log.info(&quot;message from main2&quot;);\r\n\r\nrunnable. That&#39;s why you get the log entries from `mono3` and `mono4` &quot;first&quot;, and then the log entry &quot;message from main2&quot;.\r\n\r\nBasically, your `log.info()` calls are not &quot;in the chain&quot; of the Mono subscription (like in `getMono1()` and `getMono2()`).","title":"What&#39;s the difference between the following code blocks","body":"<p>Regardless of using reactive programming via Mono or not, when a method it called, the code it contains will be executed. So when your method</p>\n<pre><code>public Mono&lt;Void&gt; getMono3() {\n\n    log.info(&quot;Message from thread: {} and method mono3&quot;, Thread.currentThread().getId());\n    return Mono.empty();\n}\n</code></pre>\n<p>is called, it will generate the log entry.</p>\n<p>When you have the following line</p>\n<pre><code>fromRunnable2.then(getMono3()).then(getMono4()).subscribe();\n</code></pre>\n<p>the methods <code>getMono3()</code> and <code>getMono4()</code> have to be called to evaluate this statement. <strong>But</strong> they have to be called. This means you get the log entries</p>\n<pre><code>19:07:10.980 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono3\n19:07:10.981 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono4\n</code></pre>\n<p>because java will evaluate your expression to finally something like</p>\n<pre><code>fromRunnable2.then(Mono.empty()).then(Mono.empty()).subscribe();\n</code></pre>\n<p>After that, when the log entries are already generated, your subscription will run and you get the <code>message from main2</code> message from the</p>\n<pre><code>Mono&lt;Void&gt; fromRunnable2 = Mono.fromRunnable(() -&gt; log.info(&quot;message from main2&quot;);\n</code></pre>\n<p>runnable. That's why you get the log entries from <code>mono3</code> and <code>mono4</code> &quot;first&quot;, and then the log entry &quot;message from main2&quot;.</p>\n<p>Basically, your <code>log.info()</code> calls are not &quot;in the chain&quot; of the Mono subscription (like in <code>getMono1()</code> and <code>getMono2()</code>).</p>\n"}],"owner":{"account_id":271918,"reputation":839,"user_id":562714,"accept_rate":25,"display_name":"Harsha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76080148,"answer_count":1,"score":0,"last_activity_date":1682173619,"creation_date":1682171089,"question_id":76079957,"body_markdown":"I am new to reactive programming and want to understand some of the basics.\r\n\r\n     @Test\r\n        public void testMonoThen() {\r\n            Mono&lt;Void&gt; fromRunnable = Mono.fromRunnable(() -&gt; log.info(&quot;message from main&quot;));\r\n            fromRunnable.then(getMono1()).then(getMono2()).subscribe();\r\n    \r\n            //vs\r\n    \r\n            Mono&lt;Void&gt; fromRunnable2 = Mono.fromRunnable(() -&gt; log.info(&quot;message from main2&quot;));\r\n            fromRunnable2.then(getMono3()).then(getMono4()).subscribe();\r\n            \r\n        }\r\n    \r\n        public Mono&lt;Void&gt; getMono1() {\r\n    \r\n            return Mono.fromRunnable(\r\n                    () -&gt; log.info(&quot;Message from thread: {} and method mono1&quot;, Thread.currentThread().getId()));\r\n        }\r\n    \r\n        public Mono&lt;Void&gt; getMono2() {\r\n    \r\n            return Mono.fromRunnable(\r\n                    () -&gt; log.info(&quot;Message from thread: {} and method mono2&quot;, Thread.currentThread().getId()));\r\n        }\r\n    \r\n        public Mono&lt;Void&gt; getMono3() {\r\n    \r\n            log.info(&quot;Message from thread: {} and method mono3&quot;, Thread.currentThread().getId());\r\n            return Mono.empty();\r\n        }\r\n    \r\n        public Mono&lt;Void&gt; getMono4() {\r\n            log.info(&quot;Message from thread: {} and method mono4&quot;, Thread.currentThread().getId());\r\n            return Mono.empty();\r\n        }\r\n\r\nIs there any difference between getMono3 and getMono1 functions from the execution perspective. Why the order of log message is not the same i.e. message from main is not printed in the same order.\r\n\r\noutput:\r\n\r\n    19:07:10.971 [main] DEBUG reactor.util.Loggers - Using Slf4j logging framework\r\n    19:07:10.977 [main] INFO com.reactivetests.SampleTest - message from main\r\n    19:07:10.977 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono1\r\n    19:07:10.979 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono2\r\n    19:07:10.980 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono3\r\n    19:07:10.981 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono4\r\n    19:07:10.981 [main] INFO com.reactivetests.SampleTest - message from main2\r\n\r\n","title":"What&#39;s the difference between the following code blocks","body":"<p>I am new to reactive programming and want to understand some of the basics.</p>\n<pre><code> @Test\n    public void testMonoThen() {\n        Mono&lt;Void&gt; fromRunnable = Mono.fromRunnable(() -&gt; log.info(&quot;message from main&quot;));\n        fromRunnable.then(getMono1()).then(getMono2()).subscribe();\n\n        //vs\n\n        Mono&lt;Void&gt; fromRunnable2 = Mono.fromRunnable(() -&gt; log.info(&quot;message from main2&quot;));\n        fromRunnable2.then(getMono3()).then(getMono4()).subscribe();\n        \n    }\n\n    public Mono&lt;Void&gt; getMono1() {\n\n        return Mono.fromRunnable(\n                () -&gt; log.info(&quot;Message from thread: {} and method mono1&quot;, Thread.currentThread().getId()));\n    }\n\n    public Mono&lt;Void&gt; getMono2() {\n\n        return Mono.fromRunnable(\n                () -&gt; log.info(&quot;Message from thread: {} and method mono2&quot;, Thread.currentThread().getId()));\n    }\n\n    public Mono&lt;Void&gt; getMono3() {\n\n        log.info(&quot;Message from thread: {} and method mono3&quot;, Thread.currentThread().getId());\n        return Mono.empty();\n    }\n\n    public Mono&lt;Void&gt; getMono4() {\n        log.info(&quot;Message from thread: {} and method mono4&quot;, Thread.currentThread().getId());\n        return Mono.empty();\n    }\n</code></pre>\n<p>Is there any difference between getMono3 and getMono1 functions from the execution perspective. Why the order of log message is not the same i.e. message from main is not printed in the same order.</p>\n<p>output:</p>\n<pre><code>19:07:10.971 [main] DEBUG reactor.util.Loggers - Using Slf4j logging framework\n19:07:10.977 [main] INFO com.reactivetests.SampleTest - message from main\n19:07:10.977 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono1\n19:07:10.979 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono2\n19:07:10.980 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono3\n19:07:10.981 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono4\n19:07:10.981 [main] INFO com.reactivetests.SampleTest - message from main2\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2252789,"reputation":6208,"user_id":1984680,"accept_rate":99,"display_name":"minerals"},"score":0,"creation_date":1695110718,"post_id":75640395,"comment_id":135976827,"body_markdown":"Rename your `libs` to `rootProject.libs`. The answer was given here: Here is a dup with the answer: https://stackoverflow.com/questions/75547262/gradle-use-central-declaration-of-dependencies-in-subprojects-block","body":"Rename your <code>libs</code> to <code>rootProject.libs</code>. The answer was given here: Here is a dup with the answer: <a href=\"https://stackoverflow.com/questions/75547262/gradle-use-central-declaration-of-dependencies-in-subprojects-block\" title=\"gradle use central declaration of dependencies in subprojects block\">stackoverflow.com/questions/75547262/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25620024,"reputation":15,"user_id":19392086,"display_name":"DaVaMu"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1682173579,"creation_date":1682173579,"answer_id":76080144,"question_id":75640395,"body_markdown":"Gradle recommends using this:\r\n\r\n[Convention Plugins][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html#sec:convention_plugins","title":"Why does the dependency declared in libs.versions.toml not work in subprojects?","body":"<p>Gradle recommends using this:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html#sec:convention_plugins\" rel=\"nofollow noreferrer\">Convention Plugins</a></p>\n"}],"owner":{"account_id":23353633,"reputation":61,"user_id":17426905,"display_name":"CoolLoong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1682173579,"creation_date":1677994429,"question_id":75640395,"body_markdown":"I&#39;m writing a build script for a multi-module project using gradle 8.0.2, declaring some dependencies in the libs.versions.toml file, and my build script is as follows\r\n```\r\nbuildscript {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        maven {\r\n            url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath(&quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;)\r\n    }\r\n\r\n}\r\n\r\nplugins{\r\n    `kotlin-dsl`\r\n}\r\n\r\ngroup = &quot;xxx&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_19\r\n\r\nsubprojects {\r\n    apply(plugin = &quot;java&quot;)\r\n    apply(plugin = &quot;checkstyle&quot;)\r\n    apply(plugin = &quot;maven-publish&quot;)\r\n    apply(plugin = &quot;com.github.johnrengelman.shadow&quot;)\r\n    // common deps + repos\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        api(libs.jsr305)\r\n        testImplementation(libs.bundles.junit)\r\n\r\n        compileOnly(libs.lombok)\r\n        annotationProcessor(libs.lombok)\r\n\r\n        testCompileOnly(libs.lombok)\r\n        testAnnotationProcessor(libs.lombok)\r\n    }\r\n\r\n    java {\r\n        withSourcesJar()\r\n    }\r\n\r\n    tasks.named&lt;Test&gt;(&quot;test&quot;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n    tasks.withType&lt;JavaCompile&gt;() {\r\n        options.encoding = &quot;UTF-8&quot;\r\n    }\r\n\r\n    tasks.withType&lt;Javadoc&gt;() {\r\n        options.encoding = &quot;UTF-8&quot;\r\n    }\r\n}\r\n```\r\n\r\nI want to apply these common dependencies in each subproject, which are defined in libs.versions.toml, and I can guarantee that libs.versions.toml is written without problems, but I can&#39;t get it to work in subprojects\r\n\r\nError:\r\n```\r\nExtension with name &#39;libs&#39; does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing, checkstyle, publishing, shadow]\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.UnknownDomainObjectException: Extension with name &#39;libs&#39; does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing, checkstyle, publishing, shadow]\r\n```","title":"Why does the dependency declared in libs.versions.toml not work in subprojects?","body":"<p>I'm writing a build script for a multi-module project using gradle 8.0.2, declaring some dependencies in the libs.versions.toml file, and my build script is as follows</p>\n<pre><code>buildscript {\n    repositories {\n        gradlePluginPortal()\n        maven {\n            url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\n        }\n    }\n    dependencies {\n        classpath(&quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;)\n    }\n\n}\n\nplugins{\n    `kotlin-dsl`\n}\n\ngroup = &quot;xxx&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_19\n\nsubprojects {\n    apply(plugin = &quot;java&quot;)\n    apply(plugin = &quot;checkstyle&quot;)\n    apply(plugin = &quot;maven-publish&quot;)\n    apply(plugin = &quot;com.github.johnrengelman.shadow&quot;)\n    // common deps + repos\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        api(libs.jsr305)\n        testImplementation(libs.bundles.junit)\n\n        compileOnly(libs.lombok)\n        annotationProcessor(libs.lombok)\n\n        testCompileOnly(libs.lombok)\n        testAnnotationProcessor(libs.lombok)\n    }\n\n    java {\n        withSourcesJar()\n    }\n\n    tasks.named&lt;Test&gt;(&quot;test&quot;) {\n        useJUnitPlatform()\n    }\n\n    tasks.withType&lt;JavaCompile&gt;() {\n        options.encoding = &quot;UTF-8&quot;\n    }\n\n    tasks.withType&lt;Javadoc&gt;() {\n        options.encoding = &quot;UTF-8&quot;\n    }\n}\n</code></pre>\n<p>I want to apply these common dependencies in each subproject, which are defined in libs.versions.toml, and I can guarantee that libs.versions.toml is written without problems, but I can't get it to work in subprojects</p>\n<p>Error:</p>\n<pre><code>Extension with name 'libs' does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing, checkstyle, publishing, shadow]\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.UnknownDomainObjectException: Extension with name 'libs' does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing, checkstyle, publishing, shadow]\n</code></pre>\n"},{"tags":["java","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":19879560,"reputation":196,"user_id":14563862,"display_name":"Gabriel Frassl"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1604323543,"creation_date":1604323543,"answer_id":64646458,"question_id":64645528,"body_markdown":"From your Code Snippet it seems to me as if your description actually belongs into the @RequestBody Annotation instead of the @Schema Annotation.\r\n\r\nWith @Schema you define and describe your Models but what you actually want to do is to describe the parameter in the context of your operation.\r\n\r\nTry something along the lines of:\r\n\r\n    @PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\r\n        public ResponseEntity&lt;Book&gt; addBook(\r\n                @RequestBody(description = &quot;Book to add.&quot;, required = true,\r\n                            content = @Content(\r\n                                    schema=@Schema(implementation = Book.class)))\t\r\n                @Valid Book book\r\n        ) {\r\n            return ResponseEntity.ok(bookRepository.add(Book));\r\n    }","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<p>From your Code Snippet it seems to me as if your description actually belongs into the @RequestBody Annotation instead of the @Schema Annotation.</p>\n<p>With @Schema you define and describe your Models but what you actually want to do is to describe the parameter in the context of your operation.</p>\n<p>Try something along the lines of:</p>\n<pre><code>@PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\n    public ResponseEntity&lt;Book&gt; addBook(\n            @RequestBody(description = &quot;Book to add.&quot;, required = true,\n                        content = @Content(\n                                schema=@Schema(implementation = Book.class)))   \n            @Valid Book book\n    ) {\n        return ResponseEntity.ok(bookRepository.add(Book));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8572630,"reputation":1229,"user_id":6422944,"display_name":"geeekfa"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1604394355,"creation_date":1604394355,"answer_id":64659696,"question_id":64645528,"body_markdown":"Thanks to Gabriel Frassl.\r\n\r\nwe should use \r\n\r\n&gt; `io.swagger.v3.oas.annotations.parameters.RequestBody`\r\n\r\n\r\ninstead of \r\n\r\n&gt; `org.springframework.web.bind.annotation.RequestBody`\r\n\r\n\r\n&lt;/br&gt;\r\n\r\n\r\nso we have good stuffs like `description` , `content` , ...\r\n\r\n","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<p>Thanks to Gabriel Frassl.</p>\n<p>we should use</p>\n<blockquote>\n<p><code>io.swagger.v3.oas.annotations.parameters.RequestBody</code></p>\n</blockquote>\n<p>instead of</p>\n<blockquote>\n<p><code>org.springframework.web.bind.annotation.RequestBody</code></p>\n</blockquote>\n\n<p>so we have good stuffs like <code>description</code> , <code>content</code> , ...</p>\n"},{"tags":[],"owner":{"account_id":20717968,"reputation":19,"user_id":15212976,"display_name":"FiveFingers"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1637565760,"creation_date":1637563791,"answer_id":70061879,"question_id":64645528,"body_markdown":"    @PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;Book&gt; addBook(\r\n            @RequestBody(description = &quot;Book to add.&quot;, required = true,\r\n                        content = @Content(\r\n                                schema=@Schema(implementation = Book.class)))   \r\n            @Valid @org.springframework.web.bind.annotation.RequestBody Book book\r\n    ) {\r\n        return ResponseEntity.ok(bookRepository.add(Book));\r\n    }\r\n\r\nFor that I add @RequestBody from springframework. It works to me.","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<pre><code>@PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\npublic ResponseEntity&lt;Book&gt; addBook(\n        @RequestBody(description = &quot;Book to add.&quot;, required = true,\n                    content = @Content(\n                            schema=@Schema(implementation = Book.class)))   \n        @Valid @org.springframework.web.bind.annotation.RequestBody Book book\n) {\n    return ResponseEntity.ok(bookRepository.add(Book));\n}\n</code></pre>\n<p>For that I add @RequestBody from springframework. It works to me.</p>\n"},{"tags":[],"owner":{"account_id":4390305,"reputation":795,"user_id":3586021,"display_name":"Echsecutor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682173279,"creation_date":1682172668,"answer_id":76080079,"question_id":64645528,"body_markdown":"To add to the `io.swagger.v3.oas.annotations.parameters.RequestBody` solution that was pointed out in other answers:\r\n\r\n- Mind that you do not want to remove the `org.springframework.web.bind.annotation` RequestBody Annotation when you add the swagger annotation. This might break the endpoint&#39;s boddy binding.\r\n\r\n- You can also add a `@Parameter(description = &quot;...&quot;)` (i.e. `io.swagger.v3.oas.annotations.Parameter`) to **any** parameter of your endpoint. This works also for `@RequestHeader`, `@PathVariable`,... which might not come with a handy `io.swagger.v3.oas.annotations.parameters` version like `RequestBody`.","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<p>To add to the <code>io.swagger.v3.oas.annotations.parameters.RequestBody</code> solution that was pointed out in other answers:</p>\n<ul>\n<li><p>Mind that you do not want to remove the <code>org.springframework.web.bind.annotation</code> RequestBody Annotation when you add the swagger annotation. This might break the endpoint's boddy binding.</p>\n</li>\n<li><p>You can also add a <code>@Parameter(description = &quot;...&quot;)</code> (i.e. <code>io.swagger.v3.oas.annotations.Parameter</code>) to <strong>any</strong> parameter of your endpoint. This works also for <code>@RequestHeader</code>, <code>@PathVariable</code>,... which might not come with a handy <code>io.swagger.v3.oas.annotations.parameters</code> version like <code>RequestBody</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":8572630,"reputation":1229,"user_id":6422944,"display_name":"geeekfa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26579,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":64646458,"answer_count":4,"score":12,"last_activity_date":1682173279,"creation_date":1604319679,"question_id":64645528,"body_markdown":"I want to have a **description** for ```RequestBody``` in spring boot openapi 3 .\r\nso i make my code like this :\r\n\r\n```javascript\r\n@PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;Book&gt; addBook(\r\n            @Schema(\r\n                    description = &quot;Book to add.&quot;,\r\n                    required=true,\r\n                    schema=@Schema(implementation = Book.class))\r\n            @Valid @RequestBody Book book\r\n    ) {\r\n        return ResponseEntity.ok(bookRepository.add(Book));\r\n}\r\n```\r\n\r\n```RequestBody``` **description** is ```Book to add.```\r\nMy desire UI is like this :\r\n\r\n[![desire][1]][1]\r\n\r\n\r\nBut nothings happen ! There is no **description** in my UI.\r\n\r\n**description** was added to ```Schemas``` panel ```Book``` entity !!!\r\n[![result][2]][2]\r\n\r\nWhat is the problem ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wCe7v.png\r\n  [2]: https://i.stack.imgur.com/iKP7O.png","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<p>I want to have a <strong>description</strong> for <code>RequestBody</code> in spring boot openapi 3 .\nso i make my code like this :</p>\n<pre class=\"lang-js prettyprint-override\"><code>@PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\n    public ResponseEntity&lt;Book&gt; addBook(\n            @Schema(\n                    description = &quot;Book to add.&quot;,\n                    required=true,\n                    schema=@Schema(implementation = Book.class))\n            @Valid @RequestBody Book book\n    ) {\n        return ResponseEntity.ok(bookRepository.add(Book));\n}\n</code></pre>\n<p><code>RequestBody</code> <strong>description</strong> is <code>Book to add.</code>\nMy desire UI is like this :</p>\n<p><a href=\"https://i.stack.imgur.com/wCe7v.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wCe7v.png\" alt=\"desire\" /></a></p>\n<p>But nothings happen ! There is no <strong>description</strong> in my UI.</p>\n<p><strong>description</strong> was added to <code>Schemas</code> panel <code>Book</code> entity !!!\n<a href=\"https://i.stack.imgur.com/iKP7O.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iKP7O.png\" alt=\"result\" /></a></p>\n<p>What is the problem ?</p>\n"},{"tags":["java","spring-mvc","configuration"],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682173278,"creation_date":1682173278,"question_id":76080124,"body_markdown":"I use &quot;CommonsMultipartResolver&quot; to work with file upload but when I configure the bean it gives an error: &quot;Cannot find class [org.springframework.web.multipart.commons.CommonsMultipartResolver] for bean with name &#39;multipartResolver&#39; defined in ServletContext resource [/ WEB-INF/PhoneAccessories-servlet.xml]&quot; please help me:\r\n[![here is the picture](https://i.stack.imgur.com/TaklF.png)](https://i.stack.imgur.com/TaklF.png)\r\nthis is my file.xml:\r\n```\r\n?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txm&lt;lns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\r\n\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.dth.Controller&quot;&gt;&lt;/context:component-scan&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.dth.DAO&quot;&gt;&lt;/context:component-scan&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.dth.Service&quot;&gt;&lt;/context:component-scan&gt;\r\n\t&lt;import resource=&quot;classpath:IoC.xml&quot; /&gt;\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t\r\n\t&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;&lt;/bean&gt;\r\n\t\r\n\t\r\n\t&lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\r\n\t&lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\r\n\t\r\n&lt;/beans&gt;\r\n````\r\n\r\n\r\nthis is my pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.dth&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PhoneAccessories&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;finalName&gt;project name&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Cannot find class [org.springframework.web.multipart.commons.CommonsMultipartResolver]","body":"<p>I use &quot;CommonsMultipartResolver&quot; to work with file upload but when I configure the bean it gives an error: &quot;Cannot find class [org.springframework.web.multipart.commons.CommonsMultipartResolver] for bean with name 'multipartResolver' defined in ServletContext resource [/ WEB-INF/PhoneAccessories-servlet.xml]&quot; please help me:\n<a href=\"https://i.stack.imgur.com/TaklF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TaklF.png\" alt=\"here is the picture\" /></a>\nthis is my file.xml:</p>\n<pre><code>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xm&lt;lns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\n        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\n\n\n    &lt;context:component-scan base-package=&quot;com.dth.Controller&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;context:component-scan base-package=&quot;com.dth.DAO&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;context:component-scan base-package=&quot;com.dth.Service&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;import resource=&quot;classpath:IoC.xml&quot; /&gt;\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n    \n    \n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;&lt;/bean&gt;\n    \n    \n    &lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\n    &lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>this is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.dth&lt;/groupId&gt;\n    &lt;artifactId&gt;PhoneAccessories&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n    &lt;version&gt;1.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;project name&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"owner":{"account_id":28354792,"reputation":3,"user_id":21685708,"display_name":"L Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682173225,"creation_date":1682173225,"question_id":76080118,"body_markdown":"Im trying to generate new fragment and pull the data he hold but I get a nullObject exception\r\n\r\ncall to generate a new fragment:\r\n\r\n```\r\n    private void initializeBuyFragment(CardFragment cardFragment, View view) {\r\n        Card card;\r\n        if (random.nextInt(51) == 0)\r\n            card = new WildCard();\r\n        else card = new Card();\r\n\r\n        Bundle args = new Bundle();\r\n        cardFragment = CardFragment.newInstance(card);\r\n        args.putSerializable(&quot;key&quot;,card);\r\n        cardFragment.setArguments(args);\r\n        makeFragment(cardFragment, view);\r\n    }\r\n    \r\n    private void makeFragment(CardFragment cardFragment, View view) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .setReorderingAllowed(true)\r\n                .replace(view.getId(), cardFragment)\r\n                .commit();\r\n\r\n    }\r\n```\r\nfragment implementation:\r\n\r\n```\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        card = (Card) getActivity().getIntent().getSerializableExtra(KEY);\r\n        }\r\n\r\npublic static CardFragment newInstance(Card card) {\r\n        CardFragment fragment = new CardFragment();\r\n        Bundle bundle = new Bundle();\r\n        bundle.putSerializable(KEY, card);\r\n        fragment.setArguments(bundle);\r\n        return fragment;\r\n    }\r\n```\r\n\r\n\r\n\r\nI tried manually setting cardFragments card in initializeBuyFragment but when I debugged once it got to makeFragment it his card was once again null\r\n\r\nhow do I fix this?","title":"fragment hold null object when replacing","body":"<p>Im trying to generate new fragment and pull the data he hold but I get a nullObject exception</p>\n<p>call to generate a new fragment:</p>\n<pre><code>    private void initializeBuyFragment(CardFragment cardFragment, View view) {\n        Card card;\n        if (random.nextInt(51) == 0)\n            card = new WildCard();\n        else card = new Card();\n\n        Bundle args = new Bundle();\n        cardFragment = CardFragment.newInstance(card);\n        args.putSerializable(&quot;key&quot;,card);\n        cardFragment.setArguments(args);\n        makeFragment(cardFragment, view);\n    }\n    \n    private void makeFragment(CardFragment cardFragment, View view) {\n        getSupportFragmentManager().beginTransaction()\n                .setReorderingAllowed(true)\n                .replace(view.getId(), cardFragment)\n                .commit();\n\n    }\n</code></pre>\n<p>fragment implementation:</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        card = (Card) getActivity().getIntent().getSerializableExtra(KEY);\n        }\n\npublic static CardFragment newInstance(Card card) {\n        CardFragment fragment = new CardFragment();\n        Bundle bundle = new Bundle();\n        bundle.putSerializable(KEY, card);\n        fragment.setArguments(bundle);\n        return fragment;\n    }\n</code></pre>\n<p>I tried manually setting cardFragments card in initializeBuyFragment but when I debugged once it got to makeFragment it his card was once again null</p>\n<p>how do I fix this?</p>\n"},{"tags":["java","android","android-studio","mobile","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681852742,"post_id":76048906,"comment_id":134123219,"body_markdown":"What is the Android version of the device you use for testing? The two Bluetooth permission you have mentioned are Android 12+ only.","body":"What is the Android version of the device you use for testing? The two Bluetooth permission you have mentioned are Android 12+ only."},{"owner":{"account_id":28342978,"reputation":11,"user_id":21675664,"display_name":"Volt"},"score":0,"creation_date":1681895943,"post_id":76048906,"comment_id":134129396,"body_markdown":"My phone is on android 8. I removed these permissions and the program &quot;works&quot; as mentionned before (connecting to GATT is ok, but discovering devices gets me the same logs as [gatt.discoverServices() log](https://i.stack.imgur.com/XflMu.png)). I found an exemple program [(See BluetoothLeGatt project)](https://github.com/VoltXd/connectivity-samples) which works well and seems to work approximatly like [my project](https://github.com/VoltXd/MyFirstApp). Any idea ?","body":"My phone is on android 8. I removed these permissions and the program &quot;works&quot; as mentionned before (connecting to GATT is ok, but discovering devices gets me the same logs as <a href=\"https://i.stack.imgur.com/XflMu.png\" rel=\"nofollow noreferrer\">gatt.discoverServices() log</a>). I found an exemple program <a href=\"https://github.com/VoltXd/connectivity-samples\" rel=\"nofollow noreferrer\">(See BluetoothLeGatt project)</a> which works well and seems to work approximatly like <a href=\"https://github.com/VoltXd/MyFirstApp\" rel=\"nofollow noreferrer\">my project</a>. Any idea ?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681896679,"post_id":76048906,"comment_id":134129571,"body_markdown":"The permissions you use are exclusive to Android 12+ devices. So on Android below 12 you have to query different permissions: https://stackoverflow.com/q/67722950/150978","body":"The permissions you use are exclusive to Android 12+ devices. So on Android below 12 you have to query different permissions: <a href=\"https://stackoverflow.com/q/67722950/150978\">stackoverflow.com/q/67722950/150978</a>"}],"answers":[{"tags":[],"owner":{"account_id":28342978,"reputation":11,"user_id":21675664,"display_name":"Volt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682173156,"creation_date":1682173156,"answer_id":76080114,"question_id":76048906,"body_markdown":"More debug allow me to see that `onServicesDiscovered()` was called, the real issue was with the `BroadcastReceiver`. Before calling the function `registerReceiver`, I forgot to add the action `ACTION_GATT_SERVICES_DISCOVERED` in the IntentFilter. Adding this action fixed the problem.","title":"BLE gatt.discoverServices() returns true but onServicesDiscovered is never called","body":"<p>More debug allow me to see that <code>onServicesDiscovered()</code> was called, the real issue was with the <code>BroadcastReceiver</code>. Before calling the function <code>registerReceiver</code>, I forgot to add the action <code>ACTION_GATT_SERVICES_DISCOVERED</code> in the IntentFilter. Adding this action fixed the problem.</p>\n"}],"owner":{"account_id":28342978,"reputation":11,"user_id":21675664,"display_name":"Volt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76080114,"answer_count":1,"score":0,"last_activity_date":1682173156,"creation_date":1681850789,"question_id":76048906,"body_markdown":"I am making an Android app for a school project, I just need to be able to communicate with a device using BLE. \r\n\r\nI am at the point where I am connected to the GATT server of my device, but i can&#39;t find any services as `onServicesDiscovered` callback is never called.\r\nI have followed the instructions of [android - BLE gatt.discoverServices() returns true but Callback never fires - Stack Overflow](https://stackoverflow.com/questions/48764878/ble-gatt-discoverservices-returns-true-but-callback-never-fires/76048704#76048704) and [android - onServicesDiscovered never called while connecting to GATT Server - Stack Overflow](https://stackoverflow.com/questions/41434555/onservicesdiscovered-never-called-while-connecting-to-gatt-server) but it doesn&#39;t makes it work... \r\n\r\nI also replied to one of these posts, here is my message : \r\n&gt;I am currently getting the same issue, without beeing able to correct it with a delay. I even called `gatt.discoverServices()` using a button to ensure the connection to be done before searching for services but doesn&#39;t work either.\\\r\n&gt;When I press this button, I get this [`gatt.discoverServices()` log][1].\\\r\n&gt;Have you got any idea on how to deal with it ?\\\r\n&gt;**Edit**: the following two permissions are in my manifest but I can&#39;t manage to let the user enable them, they seem to be not granted at start. **BUT**, all the methods that seemed to need these permissions at this point are working fine (`bluetoothAdapter.startDiscovery()` or `device.getName()` for instance).\r\n```java\r\nManifest.permissions.BLUETOOTH_CONNECT\r\nManifest.permissions.BLUETOOTH_SCAN\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/XflMu.png\r\n\r\nAny idea on how to deal with it ?","title":"BLE gatt.discoverServices() returns true but onServicesDiscovered is never called","body":"<p>I am making an Android app for a school project, I just need to be able to communicate with a device using BLE.</p>\n<p>I am at the point where I am connected to the GATT server of my device, but i can't find any services as <code>onServicesDiscovered</code> callback is never called.\nI have followed the instructions of <a href=\"https://stackoverflow.com/questions/48764878/ble-gatt-discoverservices-returns-true-but-callback-never-fires/76048704#76048704\">android - BLE gatt.discoverServices() returns true but Callback never fires - Stack Overflow</a> and <a href=\"https://stackoverflow.com/questions/41434555/onservicesdiscovered-never-called-while-connecting-to-gatt-server\">android - onServicesDiscovered never called while connecting to GATT Server - Stack Overflow</a> but it doesn't makes it work...</p>\n<p>I also replied to one of these posts, here is my message :</p>\n<blockquote>\n<p>I am currently getting the same issue, without beeing able to correct it with a delay. I even called <code>gatt.discoverServices()</code> using a button to ensure the connection to be done before searching for services but doesn't work either.<br />\nWhen I press this button, I get this <a href=\"https://i.stack.imgur.com/XflMu.png\" rel=\"nofollow noreferrer\"><code>gatt.discoverServices()</code> log</a>.<br />\nHave you got any idea on how to deal with it ?<br />\n<strong>Edit</strong>: the following two permissions are in my manifest but I can't manage to let the user enable them, they seem to be not granted at start. <strong>BUT</strong>, all the methods that seemed to need these permissions at this point are working fine (<code>bluetoothAdapter.startDiscovery()</code> or <code>device.getName()</code> for instance).</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Manifest.permissions.BLUETOOTH_CONNECT\nManifest.permissions.BLUETOOTH_SCAN\n</code></pre>\n<p>Any idea on how to deal with it ?</p>\n"},{"tags":["java","configuration","spring-boot","servlet-filters"],"comments":[{"owner":{"account_id":223472,"reputation":3596,"user_id":482702,"accept_rate":82,"display_name":"lrxw"},"score":1,"creation_date":1528201953,"post_id":19825946,"comment_id":88409622,"body_markdown":"Note, that the Filter added with @WebFilter does not behave like a real filter in Servlet spec. It will be a spring bean called after a lot of other spring beans and not like real filters before any servlet code.","body":"Note, that the Filter added with @WebFilter does not behave like a real filter in Servlet spec. It will be a spring bean called after a lot of other spring beans and not like real filters before any servlet code."},{"owner":{"account_id":2310465,"reputation":975,"user_id":2028705,"display_name":"Keaz"},"score":0,"creation_date":1529740607,"post_id":19825946,"comment_id":88992354,"body_markdown":"can you tell me you exact requirement. If you want filter classes for ComponentScan then there is an annotation for that &quot;@ComponentScan.Filter&quot;","body":"can you tell me you exact requirement. If you want filter classes for ComponentScan then there is an annotation for that &quot;@ComponentScan.Filter&quot;"},{"owner":{"account_id":12807728,"reputation":311,"user_id":10891247,"display_name":"ZahraAsgharzade"},"score":0,"creation_date":1618375648,"post_id":19825946,"comment_id":118579476,"body_markdown":"you should write more detail, we have different type of filter, ex: filter for requests , client side filter to filter from a list and so on","body":"you should write more detail, we have different type of filter, ex: filter for requests , client side filter to filter from a list and so on"}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":1,"up_vote_count":86,"is_accepted":false,"score":85,"last_activity_date":1505888047,"creation_date":1383812255,"answer_id":19830906,"question_id":19825946,"body_markdown":"There isn&#39;t a special annotation to denote a servlet filter. You just declare a `@Bean` of type `Filter` (or `FilterRegistrationBean`). An example (adding a custom header to all responses) is in Boot&#39;s own [EndpointWebMvcAutoConfiguration](https://github.com/spring-projects/spring-boot/blob/1.5.x/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcAutoConfiguration.java);\r\n\r\nIf you only declare a `Filter` it will be applied to all requests. If you also add a `FilterRegistrationBean` you can additionally specify individual servlets and url patterns to apply.\r\n\r\n**Note:**\r\n\r\nAs of Spring Boot 1.4, `FilterRegistrationBean` is not deprecated and simply moved packages from `org.springframework.boot.context.embedded.FilterRegistrationBean` to `org.springframework.boot.web.servlet.FilterRegistrationBean`","title":"How can I add a filter class in Spring Boot?","body":"<p>There isn't a special annotation to denote a servlet filter. You just declare a <code>@Bean</code> of type <code>Filter</code> (or <code>FilterRegistrationBean</code>). An example (adding a custom header to all responses) is in Boot's own <a href=\"https://github.com/spring-projects/spring-boot/blob/1.5.x/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcAutoConfiguration.java\" rel=\"noreferrer\">EndpointWebMvcAutoConfiguration</a>;</p>\n\n<p>If you only declare a <code>Filter</code> it will be applied to all requests. If you also add a <code>FilterRegistrationBean</code> you can additionally specify individual servlets and url patterns to apply.</p>\n\n<p><strong>Note:</strong></p>\n\n<p>As of Spring Boot 1.4, <code>FilterRegistrationBean</code> is not deprecated and simply moved packages from <code>org.springframework.boot.context.embedded.FilterRegistrationBean</code> to <code>org.springframework.boot.web.servlet.FilterRegistrationBean</code></p>\n"},{"tags":[],"owner":{"account_id":5981642,"reputation":1381,"user_id":4700488,"display_name":"tegatai"},"down_vote_count":0,"up_vote_count":132,"is_accepted":false,"score":132,"last_activity_date":1469600693,"creation_date":1427048313,"answer_id":29198075,"question_id":19825946,"body_markdown":"Here is an example of one method of including a custom filter in a Spring Boot MVC application.  Be sure to include the package in a component scan:\r\n\r\n    package com.dearheart.gtsc.filters;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.context.annotation.Profile;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class XClacksOverhead implements Filter {\r\n    \r\n      public static final String X_CLACKS_OVERHEAD = &quot;X-Clacks-Overhead&quot;;\r\n      \r\n      @Override\r\n      public void doFilter(ServletRequest req, ServletResponse res,\r\n          FilterChain chain) throws IOException, ServletException {\r\n        \r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n        response.setHeader(X_CLACKS_OVERHEAD, &quot;GNU Terry Pratchett&quot;);\r\n        chain.doFilter(req, res);\r\n      }\r\n    \r\n      @Override\r\n      public void destroy() {}\r\n      \r\n      @Override\r\n      public void init(FilterConfig arg0) throws ServletException {}\r\n    \r\n    }\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Here is an example of one method of including a custom filter in a Spring Boot MVC application.  Be sure to include the package in a component scan:</p>\n\n<pre><code>package com.dearheart.gtsc.filters;\n\nimport java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class XClacksOverhead implements Filter {\n\n  public static final String X_CLACKS_OVERHEAD = \"X-Clacks-Overhead\";\n\n  @Override\n  public void doFilter(ServletRequest req, ServletResponse res,\n      FilterChain chain) throws IOException, ServletException {\n\n    HttpServletResponse response = (HttpServletResponse) res;\n    response.setHeader(X_CLACKS_OVERHEAD, \"GNU Terry Pratchett\");\n    chain.doFilter(req, res);\n  }\n\n  @Override\n  public void destroy() {}\n\n  @Override\n  public void init(FilterConfig arg0) throws ServletException {}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1783732,"reputation":11618,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"down_vote_count":0,"up_vote_count":185,"is_accepted":false,"score":185,"last_activity_date":1620806749,"creation_date":1433480956,"answer_id":30658752,"question_id":19825946,"body_markdown":"If you want to setup a third-party filter you can use `FilterRegistrationBean`.\r\n\r\nFor example, the equivalent of *web.xml*:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n         &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;com.somecompany.SomeFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/url/*&lt;/url-pattern&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;paramName&lt;/param-name&gt;\r\n            &lt;param-value&gt;paramValue&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nThese will be the two beans in your `@Configuration` file:\r\n\r\n    @Bean\r\n    public FilterRegistrationBean someFilterRegistration() {\r\n\r\n        FilterRegistrationBean registration = new FilterRegistrationBean();\r\n        registration.setFilter(someFilter());\r\n        registration.addUrlPatterns(&quot;/url/*&quot;);\r\n        registration.addInitParameter(&quot;paramName&quot;, &quot;paramValue&quot;);\r\n        registration.setName(&quot;someFilter&quot;);\r\n        registration.setOrder(1);\r\n        return registration;\r\n    }\r\n\r\n    public Filter someFilter() {\r\n        return new SomeFilter();\r\n    }\r\n\r\nThe above was tested with Spring Boot 1.2.3.\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>If you want to setup a third-party filter you can use <code>FilterRegistrationBean</code>.</p>\n<p>For example, the equivalent of <em>web.xml</em>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n     &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.somecompany.SomeFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/url/*&lt;/url-pattern&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;paramName&lt;/param-name&gt;\n        &lt;param-value&gt;paramValue&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>These will be the two beans in your <code>@Configuration</code> file:</p>\n<pre><code>@Bean\npublic FilterRegistrationBean someFilterRegistration() {\n\n    FilterRegistrationBean registration = new FilterRegistrationBean();\n    registration.setFilter(someFilter());\n    registration.addUrlPatterns(&quot;/url/*&quot;);\n    registration.addInitParameter(&quot;paramName&quot;, &quot;paramValue&quot;);\n    registration.setName(&quot;someFilter&quot;);\n    registration.setOrder(1);\n    return registration;\n}\n\npublic Filter someFilter() {\n    return new SomeFilter();\n}\n</code></pre>\n<p>The above was tested with Spring Boot 1.2.3.</p>\n"},{"tags":[],"owner":{"account_id":214378,"reputation":2516,"user_id":468315,"accept_rate":33,"display_name":"barryku"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1505081810,"creation_date":1450229090,"answer_id":34302505,"question_id":19825946,"body_markdown":"There are three ways to add your filter,\r\n\r\n 1. Annotate your filter with one of the Spring stereotypes such as `@Component` \r\n 2. Register a `@Bean` with `Filter` type in Spring `@Configuration`\r\n 3. Register a `@Bean` with `FilterRegistrationBean` type in Spring `@Configuration`\r\n\r\nEither #1 or #2 will do if you want your filter applies to all requests without customization, use #3 otherwise. You don&#39;t need to specify component scan for #1 to work as long as you place your filter class in the same or sub-package of your `SpringApplication` class.  For #3, use along with #2 is only necessary when you want Spring to manage your filter class such as have it auto wired dependencies.  It works just fine for me to new my filter which doesn&#39;t need any dependency autowiring/injection. \r\n\r\nAlthough combining #2 and #3 works fine, I was surprised it doesn&#39;t end up with two filters applying twice.  My guess is that Spring combines the two beans as one when it calls the same method to create both of them.  In case you want to use #3 alone with authowiring, you can `AutowireCapableBeanFactory`. The following is an example, \r\n\r\n    private @Autowired AutowireCapableBeanFactory beanFactory;\r\n    \t\r\n    \t@Bean\r\n        public FilterRegistrationBean myFilter() {\r\n            FilterRegistrationBean registration = new FilterRegistrationBean();\r\n            Filter myFilter = new MyFilter();\r\n            beanFactory.autowireBean(myFilter);\r\n            registration.setFilter(myFilter);\r\n            registration.addUrlPatterns(&quot;/myfilterpath/*&quot;);\r\n            return registration;\r\n        }\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>There are three ways to add your filter,</p>\n\n<ol>\n<li>Annotate your filter with one of the Spring stereotypes such as <code>@Component</code> </li>\n<li>Register a <code>@Bean</code> with <code>Filter</code> type in Spring <code>@Configuration</code></li>\n<li>Register a <code>@Bean</code> with <code>FilterRegistrationBean</code> type in Spring <code>@Configuration</code></li>\n</ol>\n\n<p>Either #1 or #2 will do if you want your filter applies to all requests without customization, use #3 otherwise. You don't need to specify component scan for #1 to work as long as you place your filter class in the same or sub-package of your <code>SpringApplication</code> class.  For #3, use along with #2 is only necessary when you want Spring to manage your filter class such as have it auto wired dependencies.  It works just fine for me to new my filter which doesn't need any dependency autowiring/injection. </p>\n\n<p>Although combining #2 and #3 works fine, I was surprised it doesn't end up with two filters applying twice.  My guess is that Spring combines the two beans as one when it calls the same method to create both of them.  In case you want to use #3 alone with authowiring, you can <code>AutowireCapableBeanFactory</code>. The following is an example, </p>\n\n<pre><code>private @Autowired AutowireCapableBeanFactory beanFactory;\n\n    @Bean\n    public FilterRegistrationBean myFilter() {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        Filter myFilter = new MyFilter();\n        beanFactory.autowireBean(myFilter);\n        registration.setFilter(myFilter);\n        registration.addUrlPatterns(\"/myfilterpath/*\");\n        return registration;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1621855106,"creation_date":1470663472,"answer_id":38830715,"question_id":19825946,"body_markdown":"From the Spring documentation,\r\n\r\n[Embedded servlet containers - Add a Servlet, Filter or Listener to an application][1]\r\n\r\n&gt; To add a Servlet, Filter, or Servlet *Listener provide a **@Bean**\r\n&gt; definition for it.\r\n\r\nFor example:\r\n\r\n    @Bean\r\n    public Filter compressFilter() {\r\n        CompressingFilter compressFilter = new CompressingFilter();\r\n        return compressFilter;\r\n    }\r\n\r\nAdd this `@Bean` configuration to your `@Configuration` class and the filter will be registered on startup.\r\n\r\nAlso you can add Servlets, Filters, and Listeners using classpath scanning,\r\n\r\n&gt; @WebServlet, @WebFilter, and @WebListener annotated classes can be\r\n&gt; automatically registered with an embedded servlet container by\r\n&gt; annotating a @Configuration class with @ServletComponentScan and\r\n&gt; specifying the package(s) containing the components that you want to\r\n&gt; register. By default, @ServletComponentScan will scan from the package\r\n&gt; of the annotated class.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/html/howto-embedded-servlet-containers.html\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>From the Spring documentation,</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/html/howto-embedded-servlet-containers.html\" rel=\"nofollow noreferrer\">Embedded servlet containers - Add a Servlet, Filter or Listener to an application</a></p>\n<blockquote>\n<p>To add a Servlet, Filter, or Servlet *Listener provide a <strong>@Bean</strong>\ndefinition for it.</p>\n</blockquote>\n<p>For example:</p>\n<pre><code>@Bean\npublic Filter compressFilter() {\n    CompressingFilter compressFilter = new CompressingFilter();\n    return compressFilter;\n}\n</code></pre>\n<p>Add this <code>@Bean</code> configuration to your <code>@Configuration</code> class and the filter will be registered on startup.</p>\n<p>Also you can add Servlets, Filters, and Listeners using classpath scanning,</p>\n<blockquote>\n<p>@WebServlet, @WebFilter, and @WebListener annotated classes can be\nautomatically registered with an embedded servlet container by\nannotating a @Configuration class with @ServletComponentScan and\nspecifying the package(s) containing the components that you want to\nregister. By default, @ServletComponentScan will scan from the package\nof the annotated class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5663754,"reputation":597,"user_id":4480554,"display_name":"DPancs"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1620807229,"creation_date":1493747230,"answer_id":43744163,"question_id":19825946,"body_markdown":"Here is an example of my custom Filter class:\r\n\r\n    package com.dawson.controller.filter;\r\n\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.GenericFilterBean;\r\n\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n\r\n\r\n    @Component\r\n    public class DawsonApiFilter extends GenericFilterBean {\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest req = (HttpServletRequest) request;\r\n            if (req.getHeader(&quot;x-dawson-nonce&quot;) == null || req.getHeader(&quot;x-dawson-signature&quot;) == null) {\r\n                HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n                httpResponse.setContentType(&quot;application/json&quot;);\r\n                httpResponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Required headers not specified in the request&quot;);\r\n                return;\r\n            }\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nAnd I added it to the Spring Boot configuration by adding it to Configuration class as follows:\r\n\r\n    package com.dawson.configuration;\r\n\r\n    import com.fasterxml.jackson.datatype.hibernate5.Hibernate5Module;\r\n    import com.dawson.controller.filter.DawsonApiFilter;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\r\n\r\n    @SpringBootApplication\r\n    public class ApplicationConfiguration {\r\n        @Bean\r\n        public FilterRegistrationBean dawsonApiFilter() {\r\n            FilterRegistrationBean registration = new FilterRegistrationBean();\r\n            registration.setFilter(new DawsonApiFilter());\r\n\r\n            // In case you want the filter to apply to specific URL patterns only\r\n            registration.addUrlPatterns(&quot;/dawson/*&quot;);\r\n            return registration;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Here is an example of my custom Filter class:</p>\n<pre><code>package com.dawson.controller.filter;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.GenericFilterBean;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n\n@Component\npublic class DawsonApiFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        if (req.getHeader(&quot;x-dawson-nonce&quot;) == null || req.getHeader(&quot;x-dawson-signature&quot;) == null) {\n            HttpServletResponse httpResponse = (HttpServletResponse) response;\n            httpResponse.setContentType(&quot;application/json&quot;);\n            httpResponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Required headers not specified in the request&quot;);\n            return;\n        }\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>And I added it to the Spring Boot configuration by adding it to Configuration class as follows:</p>\n<pre><code>package com.dawson.configuration;\n\nimport com.fasterxml.jackson.datatype.hibernate5.Hibernate5Module;\nimport com.dawson.controller.filter.DawsonApiFilter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\n\n@SpringBootApplication\npublic class ApplicationConfiguration {\n    @Bean\n    public FilterRegistrationBean dawsonApiFilter() {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        registration.setFilter(new DawsonApiFilter());\n\n        // In case you want the filter to apply to specific URL patterns only\n        registration.addUrlPatterns(&quot;/dawson/*&quot;);\n        return registration;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2611247,"reputation":1756,"user_id":2261315,"accept_rate":60,"display_name":"Andrei Epure"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1620807316,"creation_date":1499337617,"answer_id":44946652,"question_id":19825946,"body_markdown":"If you use Spring Boot + Spring Security, you can do that in the security configuration.\r\n\r\nIn the below example, I&#39;m adding a custom filter before the UsernamePasswordAuthenticationFilter (see [all the default Spring Security filters and their order][1]).\r\n\r\n&lt;!-- language-java --&gt;\r\n\r\n    @EnableWebSecurity\r\n    class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Autowired FilterDependency filterDependency;\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .addFilterBefore(\r\n                    new MyFilter(filterDependency),\r\n                    UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    }\r\n\r\nAnd the filter class\r\n\r\n&lt;!-- language-java --&gt;\r\n\r\n    class MyFilter extends OncePerRequestFilter  {\r\n        private final FilterDependency filterDependency;\r\n\r\n        public MyFilter(FilterDependency filterDependency) {\r\n            this.filterDependency = filterDependency;\r\n        }\r\n\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n\r\n            // Filter\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#filter-ordering\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>If you use Spring Boot + Spring Security, you can do that in the security configuration.</p>\n<p>In the below example, I'm adding a custom filter before the UsernamePasswordAuthenticationFilter (see <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#filter-ordering\" rel=\"nofollow noreferrer\">all the default Spring Security filters and their order</a>).</p>\n\n<pre><code>@EnableWebSecurity\nclass SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired FilterDependency filterDependency;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .addFilterBefore(\n                new MyFilter(filterDependency),\n                UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>And the filter class</p>\n\n<pre><code>class MyFilter extends OncePerRequestFilter  {\n    private final FilterDependency filterDependency;\n\n    public MyFilter(FilterDependency filterDependency) {\n        this.filterDependency = filterDependency;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n        HttpServletResponse response,\n        FilterChain filterChain)\n        throws ServletException, IOException {\n\n        // Filter\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2038924,"reputation":324,"user_id":1820592,"display_name":"Cwrwhaf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620807479,"creation_date":1500374512,"answer_id":45164472,"question_id":19825946,"body_markdown":"You can use @WebFilter javax.servlet.annotation.WebFilter on a class that implements javax.servlet.Filter:\r\n\r\n    @WebFilter(urlPatterns = &quot;/*&quot;)\r\n    public class MyFilter implements Filter {\r\n    }\r\n\r\nThen use @ServletComponentScan to register.\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>You can use @WebFilter javax.servlet.annotation.WebFilter on a class that implements javax.servlet.Filter:</p>\n<pre><code>@WebFilter(urlPatterns = &quot;/*&quot;)\npublic class MyFilter implements Filter {\n}\n</code></pre>\n<p>Then use @ServletComponentScan to register.</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1549820530,"creation_date":1503473481,"answer_id":45833337,"question_id":19825946,"body_markdown":"Using the @WebFilter annotation, it can be done as follows:\r\n\r\n    @WebFilter(urlPatterns = {&quot;/*&quot; })\r\n    public class AuthenticationFilter implements Filter{\r\n\r\n        private static Logger logger = Logger.getLogger(AuthenticationFilter.class);\r\n    \t\r\n        @Override\r\n        public void destroy() {\r\n            // TODO Auto-generated method stub\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest arg0, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException {\r\n    \r\n             logger.info(&quot;checking client id in filter&quot;);\r\n            HttpServletRequest request = (HttpServletRequest) arg0;\r\n            String clientId = request.getHeader(&quot;clientId&quot;);\r\n            if (StringUtils.isNotEmpty(clientId)) {\r\n                chain.doFilter(request, response);\r\n            } else {\r\n                logger.error(&quot;client id missing.&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void init(FilterConfig arg0) throws ServletException {\r\n            // TODO Auto-generated method stub\r\n    \r\n        }\r\n\r\n    }\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Using the @WebFilter annotation, it can be done as follows:</p>\n\n<pre><code>@WebFilter(urlPatterns = {\"/*\" })\npublic class AuthenticationFilter implements Filter{\n\n    private static Logger logger = Logger.getLogger(AuthenticationFilter.class);\n\n    @Override\n    public void destroy() {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest arg0, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n         logger.info(\"checking client id in filter\");\n        HttpServletRequest request = (HttpServletRequest) arg0;\n        String clientId = request.getHeader(\"clientId\");\n        if (StringUtils.isNotEmpty(clientId)) {\n            chain.doFilter(request, response);\n        } else {\n            logger.error(\"client id missing.\");\n        }\n    }\n\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11905801,"reputation":10,"user_id":8712383,"display_name":"Saravanan"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1620807642,"creation_date":1510319026,"answer_id":47223428,"question_id":19825946,"body_markdown":"Filters are mostly used in logger files. It varies according to the logger you using in the project.\r\n\r\nLet me explain for log4j2:\r\n\r\n    &lt;Filters&gt;\r\n        &lt;!-- It prevents an error --&gt;\r\n        &lt;ThresholdFilter level=&quot;error&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n\r\n        &lt;!-- It prevents debug --&gt;\r\n        &lt;ThresholdFilter level=&quot;debug&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; /&gt;\r\n\r\n        &lt;!-- It allows all levels except debug/trace --&gt;\r\n        &lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\r\n    &lt;/Filters&gt;\r\n\r\nFilters are used to restrict the data and I used the threshold filter further to restrict the levels of data in the flow. I mentioned the levels that can be restricted over there.\r\n\r\nFor your further reference, see the level order of log4j2 - Log4J Levels: ALL &gt; TRACE &gt; DEBUG &gt; INFO &gt; WARN &gt; ERROR &gt; FATAL &gt; OFF\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Filters are mostly used in logger files. It varies according to the logger you using in the project.</p>\n<p>Let me explain for log4j2:</p>\n<pre><code>&lt;Filters&gt;\n    &lt;!-- It prevents an error --&gt;\n    &lt;ThresholdFilter level=&quot;error&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\n\n    &lt;!-- It prevents debug --&gt;\n    &lt;ThresholdFilter level=&quot;debug&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; /&gt;\n\n    &lt;!-- It allows all levels except debug/trace --&gt;\n    &lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\n&lt;/Filters&gt;\n</code></pre>\n<p>Filters are used to restrict the data and I used the threshold filter further to restrict the levels of data in the flow. I mentioned the levels that can be restricted over there.</p>\n<p>For your further reference, see the level order of log4j2 - Log4J Levels: ALL &gt; TRACE &gt; DEBUG &gt; INFO &gt; WARN &gt; ERROR &gt; FATAL &gt; OFF</p>\n"},{"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1653831081,"creation_date":1513429821,"answer_id":47846023,"question_id":19825946,"body_markdown":"**UPDATE: 2022-05-29:**\r\n\r\nThere are two simple ways to do this in Spring Boot 1.5.8.RELEASE and there isn&#39;t any need for XML.\r\n\r\n**First way:**\r\n\r\nIf you do not have any specific URL pattern, you can use @Component like this (full code and details are here https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/3_spring-boot-filter , look at README.txt to start):\r\n\r\n    @Component\r\n    public class ExampleFilter implements Filter {\r\n        ...\r\n    }\r\n\r\n**Second way:**\r\n\r\nIf you want to use URL patterns, you can use @WebFilter like this (full code and details are here https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/4_spring-boot-filter-urlpattern , look at README.txt to start):\r\n\r\n    @WebFilter(urlPatterns = &quot;/api/count&quot;)\r\n    public class ExampleFilter implements Filter {\r\n        ...\r\n    }\r\n\r\nBut you also need to add @ServletComponentScan annotation in your @SpringBootApplication class:\r\n\r\n    @ServletComponentScan\r\n    @SpringBootApplication\r\n    public class MyApplication extends SpringBootServletInitializer {\r\n        ...\r\n    }\r\n\r\nNote that @Component is Spring&#39;s annotation, but @WebFilter is not. @WebFilter is Servlet 3 annotation.\r\n\r\nBoth ways, you just need a basic Spring Boot dependency in *pom.xml* (there isn&#39;t any need for an explicit Tomcat embedded jasper)\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n\r\n        &lt;groupId&gt;com.surasint.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-04&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**WARNING:** The first way, if the Controller in Spring Boot returns to a JSP file, the request will pass the filter twice.\r\n\r\nWhile, in the second way, the request will pass the filter only once.\r\n\r\nI prefer the second way, because it is more similar to default behavior in [the Servlet specification][1].\r\n\r\n  [1]: https://docs.oracle.com/cd/E19879-01/819-3669/6n5sg7b0b/index.html\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p><strong>UPDATE: 2022-05-29:</strong></p>\n<p>There are two simple ways to do this in Spring Boot 1.5.8.RELEASE and there isn't any need for XML.</p>\n<p><strong>First way:</strong></p>\n<p>If you do not have any specific URL pattern, you can use @Component like this (full code and details are here <a href=\"https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/3_spring-boot-filter\" rel=\"noreferrer\">https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/3_spring-boot-filter</a> , look at README.txt to start):</p>\n<pre><code>@Component\npublic class ExampleFilter implements Filter {\n    ...\n}\n</code></pre>\n<p><strong>Second way:</strong></p>\n<p>If you want to use URL patterns, you can use @WebFilter like this (full code and details are here <a href=\"https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/4_spring-boot-filter-urlpattern\" rel=\"noreferrer\">https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/4_spring-boot-filter-urlpattern</a> , look at README.txt to start):</p>\n<pre><code>@WebFilter(urlPatterns = &quot;/api/count&quot;)\npublic class ExampleFilter implements Filter {\n    ...\n}\n</code></pre>\n<p>But you also need to add @ServletComponentScan annotation in your @SpringBootApplication class:</p>\n<pre><code>@ServletComponentScan\n@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {\n    ...\n}\n</code></pre>\n<p>Note that @Component is Spring's annotation, but @WebFilter is not. @WebFilter is Servlet 3 annotation.</p>\n<p>Both ways, you just need a basic Spring Boot dependency in <em>pom.xml</em> (there isn't any need for an explicit Tomcat embedded jasper)</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.surasint.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-04&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>WARNING:</strong> The first way, if the Controller in Spring Boot returns to a JSP file, the request will pass the filter twice.</p>\n<p>While, in the second way, the request will pass the filter only once.</p>\n<p>I prefer the second way, because it is more similar to default behavior in <a href=\"https://docs.oracle.com/cd/E19879-01/819-3669/6n5sg7b0b/index.html\" rel=\"noreferrer\">the Servlet specification</a>.</p>\n"},{"tags":[],"owner":{"account_id":3583904,"reputation":53,"user_id":2991480,"display_name":"Muni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620808186,"creation_date":1515143231,"answer_id":48110321,"question_id":19825946,"body_markdown":"You can also make a filter by using `@WebFilter` and implementing `Filter`. It will do.\r\n\r\n    @Configuration\r\n    public class AppInConfig\r\n    {\r\n        @Bean\r\n        @Order(1)\r\n        public FilterRegistrationBean aiFilterRegistration()\r\n        {\r\n            FilterRegistrationBean registration = new FilterRegistrationBean();\r\n            registration.setFilter(new TrackingFilter());\r\n            registration.addUrlPatterns(&quot;/**&quot;);\r\n            registration.setOrder(1);\r\n            return registration;\r\n        }\r\n\r\n        @Bean(name = &quot;TrackingFilter&quot;)\r\n        public Filter TrackingFilter()\r\n        {\r\n            return new TrackingFilter();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>You can also make a filter by using <code>@WebFilter</code> and implementing <code>Filter</code>. It will do.</p>\n<pre><code>@Configuration\npublic class AppInConfig\n{\n    @Bean\n    @Order(1)\n    public FilterRegistrationBean aiFilterRegistration()\n    {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        registration.setFilter(new TrackingFilter());\n        registration.addUrlPatterns(&quot;/**&quot;);\n        registration.setOrder(1);\n        return registration;\n    }\n\n    @Bean(name = &quot;TrackingFilter&quot;)\n    public Filter TrackingFilter()\n    {\n        return new TrackingFilter();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12839136,"reputation":1,"user_id":9287696,"display_name":"oaoit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520514477,"creation_date":1517896496,"answer_id":48636339,"question_id":19825946,"body_markdown":"First, add `@ServletComponentScan` to your SpringBootApplication class.\r\n\r\n    @ServletComponentScan\r\n    public class Application {\r\n\r\nSecond, create a filter file extending Filter or third-party filter class and add `@WebFilter` to this file like this:\r\n\r\n    @Order(1) //optional\r\n    @WebFilter(filterName = &quot;XXXFilter&quot;, urlPatterns = &quot;/*&quot;,\r\n        dispatcherTypes = {DispatcherType.REQUEST, DispatcherType.FORWARD},\r\n        initParams = {@WebInitParam(name = &quot;confPath&quot;, value = &quot;classpath:/xxx.xml&quot;)})\r\n    public class XXXFilter extends Filter{\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>First, add <code>@ServletComponentScan</code> to your SpringBootApplication class.</p>\n\n<pre><code>@ServletComponentScan\npublic class Application {\n</code></pre>\n\n<p>Second, create a filter file extending Filter or third-party filter class and add <code>@WebFilter</code> to this file like this:</p>\n\n<pre><code>@Order(1) //optional\n@WebFilter(filterName = \"XXXFilter\", urlPatterns = \"/*\",\n    dispatcherTypes = {DispatcherType.REQUEST, DispatcherType.FORWARD},\n    initParams = {@WebInitParam(name = \"confPath\", value = \"classpath:/xxx.xml\")})\npublic class XXXFilter extends Filter{\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620808440,"creation_date":1519672529,"answer_id":48995554,"question_id":19825946,"body_markdown":"I saw a lot of answers here, but I didn&#39;t try any of them. I&#39;ve just created the filter as in the following code.\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import javax.servlet.*;\r\n    import javax.servlet.annotation.WebFilter;\r\n    import java.io.IOException;\r\n\r\n    @WebFilter(urlPatterns = &quot;/Admin&quot;)\r\n    @Configuration\r\n    public class AdminFilter implements Filter{\r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse  servletResponse, FilterChain filterChain) throws IOException, ServletException      {\r\n        System.out.println(&quot;happened&quot;);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n\r\n        }\r\n    }\r\n\r\nAnd I left the remaining Spring Boot application as it was.\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>I saw a lot of answers here, but I didn't try any of them. I've just created the filter as in the following code.</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport javax.servlet.*;\nimport javax.servlet.annotation.WebFilter;\nimport java.io.IOException;\n\n@WebFilter(urlPatterns = &quot;/Admin&quot;)\n@Configuration\npublic class AdminFilter implements Filter{\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse  servletResponse, FilterChain filterChain) throws IOException, ServletException      {\n    System.out.println(&quot;happened&quot;);\n\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n<p>And I left the remaining Spring Boot application as it was.</p>\n"},{"tags":[],"owner":{"account_id":1379003,"reputation":1405,"user_id":1312410,"display_name":"Vasily Komarov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620808608,"creation_date":1522669414,"answer_id":49610652,"question_id":19825946,"body_markdown":"It&#39;s more an advice than an answer, but if you are using a Spring MVC in your web application the good idea is to use Spring HandlerInterceptor instead of Filter.\r\n\r\nIt can do the same job, but also\r\n - Can work with ModelAndView\r\n - Its methods can be called before and after request processing, or after request completion.\r\n - It can be easily tested\r\n\r\n### 1. Implement HandlerInterceptor interface and add a @Component annotation to your class\r\n\r\n    @Component\r\n    public class SecurityInterceptor implements HandlerInterceptor {\r\n\r\n        private static Logger log = LoggerFactory.getLogger(SecurityInterceptor.class);\r\n\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n            request.getSession(true);\r\n            if(isLoggedIn(request))\r\n                return true;\r\n\r\n            response.getWriter().write(&quot;{\\&quot;loggedIn\\&quot;:false}&quot;);\r\n            return false;\r\n        }\r\n\r\n        private boolean isLoggedIn(HttpServletRequest request) {\r\n            try {\r\n                UserSession userSession = (UserSession) request.getSession(true).getAttribute(&quot;userSession&quot;);\r\n                return userSession != null &amp;&amp; userSession.isLoggedIn();\r\n            } catch(IllegalStateException ex) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception {\r\n\r\n        }\r\n    }\r\n\r\n### 2. Configure your Interceptor\r\n\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n\r\n        private HandlerInterceptor securityInterceptor;\r\n\r\n        @Autowired\r\n        public void setSecurityInterceptor(HandlerInterceptor securityInterceptor) {\r\n            this.securityInterceptor = securityInterceptor;\r\n        }\r\n\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(securityInterceptor).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/login&quot;, &quot;/logout&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>It's more an advice than an answer, but if you are using a Spring MVC in your web application the good idea is to use Spring HandlerInterceptor instead of Filter.</p>\n<p>It can do the same job, but also</p>\n<ul>\n<li>Can work with ModelAndView</li>\n<li>Its methods can be called before and after request processing, or after request completion.</li>\n<li>It can be easily tested</li>\n</ul>\n<h3>1. Implement HandlerInterceptor interface and add a @Component annotation to your class</h3>\n<pre><code>@Component\npublic class SecurityInterceptor implements HandlerInterceptor {\n\n    private static Logger log = LoggerFactory.getLogger(SecurityInterceptor.class);\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        request.getSession(true);\n        if(isLoggedIn(request))\n            return true;\n\n        response.getWriter().write(&quot;{\\&quot;loggedIn\\&quot;:false}&quot;);\n        return false;\n    }\n\n    private boolean isLoggedIn(HttpServletRequest request) {\n        try {\n            UserSession userSession = (UserSession) request.getSession(true).getAttribute(&quot;userSession&quot;);\n            return userSession != null &amp;&amp; userSession.isLoggedIn();\n        } catch(IllegalStateException ex) {\n            return false;\n        }\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception {\n\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception {\n\n    }\n}\n</code></pre>\n<h3>2. Configure your Interceptor</h3>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    private HandlerInterceptor securityInterceptor;\n\n    @Autowired\n    public void setSecurityInterceptor(HandlerInterceptor securityInterceptor) {\n        this.securityInterceptor = securityInterceptor;\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(securityInterceptor).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/login&quot;, &quot;/logout&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10635104,"reputation":165,"user_id":7832049,"display_name":"Rahul Anand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650899392,"creation_date":1528284664,"answer_id":50719356,"question_id":19825946,"body_markdown":"Use:\r\n\r\n```java\r\n@WebFilter(urlPatterns=&quot;/*&quot;)\r\npublic class XSSFilter implements Filter {\r\n\r\n    private static final org.apache.log4j.Logger LOGGER = LogManager.getLogger(XSSFilter.class);\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n        LOGGER.info(&quot;Initiating XSSFilter... &quot;);\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n            throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n        HttpRequestWrapper requestWrapper = new HttpRequestWrapper(req);\r\n        chain.doFilter(requestWrapper, response);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n        LOGGER.info(&quot;Destroying XSSFilter... &quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou need to implement Filter, and it needs to be annotated with `@WebFilter(urlPatterns=&quot;/*&quot;)`.\r\n\r\nAnd in the Application or Configuration classes, you need to add `@ServletComponentScan`. By this, your filter will get registered.\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebFilter(urlPatterns=&quot;/*&quot;)\npublic class XSSFilter implements Filter {\n\n    private static final org.apache.log4j.Logger LOGGER = LogManager.getLogger(XSSFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        LOGGER.info(&quot;Initiating XSSFilter... &quot;);\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpRequestWrapper requestWrapper = new HttpRequestWrapper(req);\n        chain.doFilter(requestWrapper, response);\n    }\n\n    @Override\n    public void destroy() {\n        LOGGER.info(&quot;Destroying XSSFilter... &quot;);\n    }\n\n}\n</code></pre>\n<p>You need to implement Filter, and it needs to be annotated with <code>@WebFilter(urlPatterns=&quot;/*&quot;)</code>.</p>\n<p>And in the Application or Configuration classes, you need to add <code>@ServletComponentScan</code>. By this, your filter will get registered.</p>\n"},{"tags":[],"owner":{"account_id":9928255,"reputation":1591,"user_id":7349101,"display_name":"Shaunak Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620808856,"creation_date":1528869332,"answer_id":50829937,"question_id":19825946,"body_markdown":"I saw the answer [by Vasily Komarov][1]. Here is a similar approach, but using abstract _HandlerInterceptorAdapter_ class instead of using _HandlerInterceptor_.\r\n\r\nHere is an example...\r\n\r\n    @Component\r\n    public class CustomInterceptor extends HandlerInterceptorAdapter {\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n            throws Exception {\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    public class InterceptorConfig extends WebMvcConfigurerAdapter {\r\n\r\n        @Autowired\r\n        private CustomInterceptor customInterceptor ;\r\n\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(customInterceptor );\r\n        }\r\n\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/19825946/how-can-i-add-a-filter-class-in-spring-boot/49610652#49610652\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>I saw the answer <a href=\"https://stackoverflow.com/questions/19825946/how-can-i-add-a-filter-class-in-spring-boot/49610652#49610652\">by Vasily Komarov</a>. Here is a similar approach, but using abstract <em>HandlerInterceptorAdapter</em> class instead of using <em>HandlerInterceptor</em>.</p>\n<p>Here is an example...</p>\n<pre><code>@Component\npublic class CustomInterceptor extends HandlerInterceptorAdapter {\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n        throws Exception {\n    }\n}\n\n@Configuration\npublic class InterceptorConfig extends WebMvcConfigurerAdapter {\n\n    @Autowired\n    private CustomInterceptor customInterceptor ;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(customInterceptor );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13715324,"reputation":191,"user_id":9896584,"display_name":"Philip Dilip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620809250,"creation_date":1554632572,"answer_id":55557895,"question_id":19825946,"body_markdown":"As you all know, Spring Boot is a wonderful way of developing a web application or stand-alone application with minimum configuration and opinionated setup.\r\n\r\nThis is how I have achieved a web filter development in a Spring Boot application\r\n\r\nMy SpringBootApp specifications:\r\n\r\nSpring Boot version: 2.0.4.RELEASE &lt;br/&gt;\r\nJava version: 8.0 &lt;br/&gt;\r\nServlet specification: Servlet 3.0 (Mandatory and Important)\r\n\r\nI declared my web filter in the following manner, adhering to the Servlet specification 3.0\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nThis is the *programmatic* way of defining a filter as a replacement to *web.xml*-based definitions.\r\n\r\nThe &quot;@Webfilter&quot; annotation will be processed by the container during deployment. The Filter class, in which it is found, will be created as per the configuration and applied to the URL patterns, javax.servlet.Servlets and javax.servlet.DispatcherTypes.\r\n\r\nTo avoid Web.xml completely and to achieve &quot;Deployable&quot; WebApp:\r\n\r\nTo deploy a Spring Boot application as &quot;Traditional WAR&quot;, the application class should extend SpringBootServletInitializer.\r\n\r\n**NOTE:**\r\n\r\nSpringBootServletInitializer is a &quot;programmatic implementation&quot; of *web.xml* with reference to the Servlet 3.0+ specifications, which requires an implementation of WebApplicationInitializer.\r\n\r\nThus, SpringBootApplication doesn&#39;t require &quot;web.xml&quot; as its application class (after extending SpringBootServletInitializer). It scans for\r\n\r\n - @WebFilter,\r\n - @WebListener and\r\n - @WebServlet.\r\n\r\n&gt; Annotation @ServletComponentScan\r\n\r\nThis annotation enables scanning base packages for the web components annotated with @WebFilter, @WebListener and @WebServlet.\r\n\r\nDue to the fact that embedded containers do not support @WebServlet, @WebFilter and @WebListener annotations, Spring Boot, relying greatly on embedded containers, introduced this new annotation @ServletComponentScan to support some dependent JAR files that use these three annotations.\r\n\r\nScanning is only performed when using an embedded Servlet container.\r\n\r\n&gt; The following is my Spring Boot application class definition:\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nCustom Servlet Initializer:\r\n\r\nHere: I have defined a *custom class*: &quot;ServletInitializer&quot; which extends Class: SpringBootServletInitializer.\r\n\r\nAs explained earlier, SpringBootServletInitializer is responsible for scanning annotations:\r\n\r\n - @WebFilter,\r\n - @WebListener and\r\n - @WebServlet.\r\n\r\nAnd hence the Spring Boot application class should\r\n\r\n - Either extend the class: SpringBootServletInitializer *or*\r\n - extend the custom class which extends the class: SpringBootServletInitializer\r\n\r\n[![Enter image description here][3]][3]\r\n\r\n  [1]: https://i.stack.imgur.com/Z5OIM.png\r\n  [2]: https://i.stack.imgur.com/DmnKu.png\r\n  [3]: https://i.stack.imgur.com/p3y1K.png\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>As you all know, Spring Boot is a wonderful way of developing a web application or stand-alone application with minimum configuration and opinionated setup.</p>\n<p>This is how I have achieved a web filter development in a Spring Boot application</p>\n<p>My SpringBootApp specifications:</p>\n<p>Spring Boot version: 2.0.4.RELEASE <br/>\nJava version: 8.0 <br/>\nServlet specification: Servlet 3.0 (Mandatory and Important)</p>\n<p>I declared my web filter in the following manner, adhering to the Servlet specification 3.0</p>\n<p><a href=\"https://i.stack.imgur.com/Z5OIM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z5OIM.png\" alt=\"Enter image description here\" /></a></p>\n<p>This is the <em>programmatic</em> way of defining a filter as a replacement to <em>web.xml</em>-based definitions.</p>\n<p>The &quot;@Webfilter&quot; annotation will be processed by the container during deployment. The Filter class, in which it is found, will be created as per the configuration and applied to the URL patterns, javax.servlet.Servlets and javax.servlet.DispatcherTypes.</p>\n<p>To avoid Web.xml completely and to achieve &quot;Deployable&quot; WebApp:</p>\n<p>To deploy a Spring Boot application as &quot;Traditional WAR&quot;, the application class should extend SpringBootServletInitializer.</p>\n<p><strong>NOTE:</strong></p>\n<p>SpringBootServletInitializer is a &quot;programmatic implementation&quot; of <em>web.xml</em> with reference to the Servlet 3.0+ specifications, which requires an implementation of WebApplicationInitializer.</p>\n<p>Thus, SpringBootApplication doesn't require &quot;web.xml&quot; as its application class (after extending SpringBootServletInitializer). It scans for</p>\n<ul>\n<li>@WebFilter,</li>\n<li>@WebListener and</li>\n<li>@WebServlet.</li>\n</ul>\n<blockquote>\n<p>Annotation @ServletComponentScan</p>\n</blockquote>\n<p>This annotation enables scanning base packages for the web components annotated with @WebFilter, @WebListener and @WebServlet.</p>\n<p>Due to the fact that embedded containers do not support @WebServlet, @WebFilter and @WebListener annotations, Spring Boot, relying greatly on embedded containers, introduced this new annotation @ServletComponentScan to support some dependent JAR files that use these three annotations.</p>\n<p>Scanning is only performed when using an embedded Servlet container.</p>\n<blockquote>\n<p>The following is my Spring Boot application class definition:</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/DmnKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DmnKu.png\" alt=\"Enter image description here\" /></a></p>\n<p>Custom Servlet Initializer:</p>\n<p>Here: I have defined a <em>custom class</em>: &quot;ServletInitializer&quot; which extends Class: SpringBootServletInitializer.</p>\n<p>As explained earlier, SpringBootServletInitializer is responsible for scanning annotations:</p>\n<ul>\n<li>@WebFilter,</li>\n<li>@WebListener and</li>\n<li>@WebServlet.</li>\n</ul>\n<p>And hence the Spring Boot application class should</p>\n<ul>\n<li>Either extend the class: SpringBootServletInitializer <em>or</em></li>\n<li>extend the custom class which extends the class: SpringBootServletInitializer</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/p3y1K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p3y1K.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2820277,"reputation":470,"user_id":2424178,"display_name":"Yogesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620809505,"creation_date":1559128152,"answer_id":56359179,"question_id":19825946,"body_markdown":"Filters, as the name suggest, used to perform filtering on either the request to a resource or on the response from a resource, or both. Spring Boot provides a few options to register custom filters in the Spring Boot application. Let’s look at the different options.\r\n\r\n**1. Define Spring Boot filter and invocation order**\r\n\r\nImplement the *Filter* interface to create a new filter in Spring Boot.\r\n\r\n    @Configuration\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class CustomFilter implements Filter {\r\n\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(CustomFilter.class);\r\n\r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            LOGGER.info(&quot;########## Initiating Custom filter ##########&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest,\r\n                             ServletResponse servletResponse,\r\n                             FilterChain filterChain)\r\n                             throws IOException, ServletException {\r\n\r\n            HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n\r\n            LOGGER.info(&quot;Logging Request  {} : {}&quot;, request.getMethod(), request.getRequestURI());\r\n\r\n            // Call next filter in the filter chain\r\n            filterChain.doFilter(request, response);\r\n\r\n            LOGGER.info(&quot;Logging Response :{}&quot;, response.getContentType());\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n            // TODO: 7/4/2018\r\n        }\r\n    }\r\n\r\nLet’s quickly look at some important points in the above code\r\n\r\n - The filter registered by the ***@Component*** annotation.\r\n - To fire filters in the right order, we needed to use the ***@Order*** annotation.\r\n\r\n        @Component\r\n        @Order(1)\r\n        public class CustomFirstFilter implements Filter {\r\n\r\n        }\r\n\r\n        @Component\r\n        @Order(2)\r\n        public class CustomSecondFilter implements Filter {\r\n\r\n        }\r\n\r\nIn the above code, CustomFirstFilter will run before the CustomSecondFilter.\r\n\r\n&gt; The lower the number, the higher the precedence\r\n\r\n**2. URL Pattern**\r\n\r\nIf the convention-based mapping is not flexible enough, we can use ***FilterRegistrationBean*** for the complete control of the application. Here, don’t use ***@Component*** annotation for the filter class but register the filter using a ***FilterRegistrationBean***.\r\n\r\n    public class CustomURLFilter implements Filter {\r\n\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(CustomURLFilter.class);\r\n\r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            LOGGER.info(&quot;########## Initiating CustomURLFilter filter ##########&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n\r\n            HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n\r\n            LOGGER.info(&quot;This Filter is only called when request is mapped for /customer resource&quot;);\r\n\r\n            // Call the next filter in the filter chain\r\n            filterChain.doFilter(request, response);\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n\r\n        }\r\n    }\r\n\r\nRegister the custom Filter using ***FilterRegistrationBean***.\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n        @Bean\r\n        public FilterRegistrationBean &lt; CustomURLFilter &gt; filterRegistrationBean() {\r\n            FilterRegistrationBean &lt; CustomURLFilter &gt; registrationBean = new FilterRegistrationBean();\r\n            CustomURLFilter customURLFilter = new CustomURLFilter();\r\n\r\n            registrationBean.setFilter(customURLFilter);\r\n            registrationBean.addUrlPatterns(&quot;/greeting/*&quot;);\r\n            registrationBean.setOrder(2); // Set precedence\r\n            return registrationBean;\r\n        }\r\n    }\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Filters, as the name suggest, used to perform filtering on either the request to a resource or on the response from a resource, or both. Spring Boot provides a few options to register custom filters in the Spring Boot application. Let’s look at the different options.</p>\n<p><strong>1. Define Spring Boot filter and invocation order</strong></p>\n<p>Implement the <em>Filter</em> interface to create a new filter in Spring Boot.</p>\n<pre><code>@Configuration\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class CustomFilter implements Filter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(CustomFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        LOGGER.info(&quot;########## Initiating Custom filter ##########&quot;);\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest,\n                         ServletResponse servletResponse,\n                         FilterChain filterChain)\n                         throws IOException, ServletException {\n\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n\n        LOGGER.info(&quot;Logging Request  {} : {}&quot;, request.getMethod(), request.getRequestURI());\n\n        // Call next filter in the filter chain\n        filterChain.doFilter(request, response);\n\n        LOGGER.info(&quot;Logging Response :{}&quot;, response.getContentType());\n    }\n\n    @Override\n    public void destroy() {\n        // TODO: 7/4/2018\n    }\n}\n</code></pre>\n<p>Let’s quickly look at some important points in the above code</p>\n<ul>\n<li><p>The filter registered by the <em><strong>@Component</strong></em> annotation.</p>\n</li>\n<li><p>To fire filters in the right order, we needed to use the <em><strong>@Order</strong></em> annotation.</p>\n<pre><code> @Component\n @Order(1)\n public class CustomFirstFilter implements Filter {\n\n }\n\n @Component\n @Order(2)\n public class CustomSecondFilter implements Filter {\n\n }\n</code></pre>\n</li>\n</ul>\n<p>In the above code, CustomFirstFilter will run before the CustomSecondFilter.</p>\n<blockquote>\n<p>The lower the number, the higher the precedence</p>\n</blockquote>\n<p><strong>2. URL Pattern</strong></p>\n<p>If the convention-based mapping is not flexible enough, we can use <em><strong>FilterRegistrationBean</strong></em> for the complete control of the application. Here, don’t use <em><strong>@Component</strong></em> annotation for the filter class but register the filter using a <em><strong>FilterRegistrationBean</strong></em>.</p>\n<pre><code>public class CustomURLFilter implements Filter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(CustomURLFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        LOGGER.info(&quot;########## Initiating CustomURLFilter filter ##########&quot;);\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n\n        LOGGER.info(&quot;This Filter is only called when request is mapped for /customer resource&quot;);\n\n        // Call the next filter in the filter chain\n        filterChain.doFilter(request, response);\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n<p>Register the custom Filter using <em><strong>FilterRegistrationBean</strong></em>.</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public FilterRegistrationBean &lt; CustomURLFilter &gt; filterRegistrationBean() {\n        FilterRegistrationBean &lt; CustomURLFilter &gt; registrationBean = new FilterRegistrationBean();\n        CustomURLFilter customURLFilter = new CustomURLFilter();\n\n        registrationBean.setFilter(customURLFilter);\n        registrationBean.addUrlPatterns(&quot;/greeting/*&quot;);\n        registrationBean.setOrder(2); // Set precedence\n        return registrationBean;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16029896,"reputation":160,"user_id":11569124,"display_name":"Ghulam Murtaza"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563973218,"creation_date":1563972634,"answer_id":57183382,"question_id":19825946,"body_markdown":"This filter will also help you to allow cross origin access\r\n\r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class SimpleCORSFilter implements Filter {\r\n    \r\n    \tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n    \t\t\r\n    \t\t \tHttpServletResponse response = (HttpServletResponse) res;\r\n    \t\t    HttpServletRequest request = (HttpServletRequest) req;\r\n    \t\t    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    \t\t    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n    \t\t    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;20000&quot;);\r\n    \t\t    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with, authorization, Content-Type, Authorization, credential, X-XSRF-TOKEN&quot;);\r\n      \r\n    \t\t    if(&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\r\n    \t\t        response.setStatus(HttpServletResponse.SC_OK);\r\n    \t\t    } else {\r\n    \t\t        chain.doFilter(req, res);\r\n    \t\t    }\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic void destroy() {}\r\n    \r\n    \t@Override\r\n    \tpublic void init(FilterConfig arg0) throws ServletException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"How can I add a filter class in Spring Boot?","body":"<p>This filter will also help you to allow cross origin access</p>\n\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class SimpleCORSFilter implements Filter {\n\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n\n            HttpServletResponse response = (HttpServletResponse) res;\n            HttpServletRequest request = (HttpServletRequest) req;\n            response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n            response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n            response.setHeader(\"Access-Control-Max-Age\", \"20000\");\n            response.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with, authorization, Content-Type, Authorization, credential, X-XSRF-TOKEN\");\n\n            if(\"OPTIONS\".equalsIgnoreCase(request.getMethod())) {\n                response.setStatus(HttpServletResponse.SC_OK);\n            } else {\n                chain.doFilter(req, res);\n            }\n    }\n\n\n    public void destroy() {}\n\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1329420,"reputation":1035,"user_id":1273619,"display_name":"isaolmez"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1564213570,"creation_date":1564213570,"answer_id":57230193,"question_id":19825946,"body_markdown":"We have roughly four different options to [register a filter using Spring][1].\r\n\r\nFirstly, we can create a Spring bean implementing *Filter* or extending *HttpFilter*:\r\n\r\n    @Component\r\n    public class MyFilter extends HttpFilter {\r\n\r\n        @Override\r\n        protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) \r\n            throws IOException, ServletException {\r\n            // Implementation details...\r\n\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nSecondly, we can create a Spring bean extending *GenericFilterBean*:\r\n\r\n    @Component\r\n    public class MyFilter extends GenericFilterBean {\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain)\r\n      throws IOException, ServletException {\r\n        //Implementation details...\r\n\r\n            chain.doFilter(currentRequest, servletResponse);\r\n        }\r\n    }\r\nAlternatively we can use the *FilterRegistrationBean* class:\r\n\r\n    @Configuration\r\n    public class FilterConfiguration {\r\n\r\n        private final MyFilter myFilter;\r\n\r\n        @Autowired\r\n        public FilterConfiguration(MyFilter myFilter) {\r\n            this.myFilter = myFilter;\r\n        }\r\n\r\n        @Bean\r\n        public FilterRegistrationBean&lt;MyFilter&gt; myFilterRegistration() {\r\n            FilterRegistrationBean&lt;DateLoggingFilter&gt; filterRegistrationBean = new FilterRegistrationBean&lt;&gt;();\r\n            filterRegistrationBean.setFilter(myFilter);\r\n            filterRegistrationBean.setUrlPatterns(Collections.singletonList(&quot;/*&quot;));\r\n            filterRegistrationBean.setDispatcherTypes(DispatcherType.REQUEST);\r\n            filterRegistrationBean.setOrder(Ordered.LOWEST_PRECEDENCE - 1);\r\n            return filterRegistrationBean;\r\n        }\r\n    }\r\n\r\nAnd lastly we can use the *@WebFilter* annotation with *@ServletComponentScan*:\r\n\r\n    @WebFilter(urlPatterns = &quot;/*&quot;, dispatcherTypes = {DispatcherType.REQUEST})\r\n    public class MyFilter extends HttpFilter {\r\n\r\n        @Override\r\n        protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n      throws IOException, ServletException {\r\n            // Implementation details...\r\n\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.javabyexamples.com/creating-filter-using-spring-mvc/","title":"How can I add a filter class in Spring Boot?","body":"<p>We have roughly four different options to <a href=\"http://www.javabyexamples.com/creating-filter-using-spring-mvc/\" rel=\"noreferrer\">register a filter using Spring</a>.</p>\n\n<p>Firstly, we can create a Spring bean implementing <em>Filter</em> or extending <em>HttpFilter</em>:</p>\n\n<pre><code>@Component\npublic class MyFilter extends HttpFilter {\n\n    @Override\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) \n        throws IOException, ServletException {\n        // Implementation details...\n\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n\n<p>Secondly, we can create a Spring bean extending <em>GenericFilterBean</em>:</p>\n\n<pre><code>@Component\npublic class MyFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain)\n  throws IOException, ServletException {\n    //Implementation details...\n\n        chain.doFilter(currentRequest, servletResponse);\n    }\n}\n</code></pre>\n\n<p>Alternatively we can use the <em>FilterRegistrationBean</em> class:</p>\n\n<pre><code>@Configuration\npublic class FilterConfiguration {\n\n    private final MyFilter myFilter;\n\n    @Autowired\n    public FilterConfiguration(MyFilter myFilter) {\n        this.myFilter = myFilter;\n    }\n\n    @Bean\n    public FilterRegistrationBean&lt;MyFilter&gt; myFilterRegistration() {\n        FilterRegistrationBean&lt;DateLoggingFilter&gt; filterRegistrationBean = new FilterRegistrationBean&lt;&gt;();\n        filterRegistrationBean.setFilter(myFilter);\n        filterRegistrationBean.setUrlPatterns(Collections.singletonList(\"/*\"));\n        filterRegistrationBean.setDispatcherTypes(DispatcherType.REQUEST);\n        filterRegistrationBean.setOrder(Ordered.LOWEST_PRECEDENCE - 1);\n        return filterRegistrationBean;\n    }\n}\n</code></pre>\n\n<p>And lastly we can use the <em>@WebFilter</em> annotation with <em>@ServletComponentScan</em>:</p>\n\n<pre><code>@WebFilter(urlPatterns = \"/*\", dispatcherTypes = {DispatcherType.REQUEST})\npublic class MyFilter extends HttpFilter {\n\n    @Override\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n  throws IOException, ServletException {\n        // Implementation details...\n\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8074479,"reputation":193,"user_id":6222252,"display_name":"Slimane Deb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620809639,"creation_date":1566340169,"answer_id":57582283,"question_id":19825946,"body_markdown":"You need two main things:\r\n\r\n- Add `@ServletComponentScan` to your Main Class\r\n- You may add a package named filter inside it. You create a `Filter` class that has the following:\r\n\r\n        @Component\r\n        @Order(Ordered.HIGHEST_PRECEDENCE)\r\n        public class RequestFilter implements Filter {\r\n\r\n            // whatever field you have\r\n\r\n            public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) {\r\n                HttpServletResponse response = (HttpServletResponse) res;\r\n                HttpServletRequest request = (HttpServletRequest) req;\r\n\r\n                // Whatever implementation you want\r\n\r\n                try {\r\n                    chain.doFilter(req, res);\r\n                } catch(Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            public void init(FilterConfig filterConfig) {\r\n            }\r\n\r\n            public void destroy() {\r\n            }\r\n        }\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>You need two main things:</p>\n<ul>\n<li><p>Add <code>@ServletComponentScan</code> to your Main Class</p>\n</li>\n<li><p>You may add a package named filter inside it. You create a <code>Filter</code> class that has the following:</p>\n<pre><code>  @Component\n  @Order(Ordered.HIGHEST_PRECEDENCE)\n  public class RequestFilter implements Filter {\n\n      // whatever field you have\n\n      public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) {\n          HttpServletResponse response = (HttpServletResponse) res;\n          HttpServletRequest request = (HttpServletRequest) req;\n\n          // Whatever implementation you want\n\n          try {\n              chain.doFilter(req, res);\n          } catch(Exception e) {\n              e.printStackTrace();\n          }\n      }\n\n      public void init(FilterConfig filterConfig) {\n      }\n\n      public void destroy() {\n      }\n  }\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620809749,"creation_date":1578633624,"answer_id":59675880,"question_id":19825946,"body_markdown":"Step 1: Create a filter component by implementing the *Filter* interface.\r\n\r\n    @Component\r\n    public class PerformanceFilter implements Filter {\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException {\r\n\r\n            ...\r\n            ...\r\n        }\r\n\r\n    }\r\n\r\nStep 2: Set this filter to the URI patterns using FilterRegistrationBean.\r\n\r\n    @Configuration\r\n    public class FilterConfig {\r\n        @Bean\r\n        public FilterRegistrationBean&lt;PerformanceFilter&gt; perfFilter() {\r\n            FilterRegistrationBean&lt;PerformanceFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\r\n            registration.setFilter(new PerformanceFilter());\r\n            registration.addUrlPatterns(&quot;/*&quot;);\r\n            return registration;\r\n        }\r\n    }\r\n\r\nYou can refer to [this link][1] for a complete application.\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2019/09/how-to-add-filter-to-spring-boot.html\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Step 1: Create a filter component by implementing the <em>Filter</em> interface.</p>\n<pre><code>@Component\npublic class PerformanceFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        ...\n        ...\n    }\n\n}\n</code></pre>\n<p>Step 2: Set this filter to the URI patterns using FilterRegistrationBean.</p>\n<pre><code>@Configuration\npublic class FilterConfig {\n    @Bean\n    public FilterRegistrationBean&lt;PerformanceFilter&gt; perfFilter() {\n        FilterRegistrationBean&lt;PerformanceFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\n        registration.setFilter(new PerformanceFilter());\n        registration.addUrlPatterns(&quot;/*&quot;);\n        return registration;\n    }\n}\n</code></pre>\n<p>You can refer to <a href=\"https://self-learning-java-tutorial.blogspot.com/2019/09/how-to-add-filter-to-spring-boot.html\" rel=\"nofollow noreferrer\">this link</a> for a complete application.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633777739,"creation_date":1633777739,"answer_id":69506160,"question_id":19825946,"body_markdown":"For Spring Boot in any configuration class I&#39;ve done:\r\n\r\n    @Bean\r\n    public OncePerRequestFilter myFilter() {\r\n        return new OncePerRequestFilter() {\r\n            @Override\r\n            protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n                AuthUser authUser = SecurityUtil.safeGet(); // applied after secutiry filters\r\n                ...\r\n                filterChain.doFilter(request, response);\r\n            }\r\n        };\r\n    }\r\n\r\nThat&#39;s all, no any registration needed. See also https://stackoverflow.com/questions/13152946/what-is-onceperrequestfilter","title":"How can I add a filter class in Spring Boot?","body":"<p>For Spring Boot in any configuration class I've done:</p>\n<pre><code>@Bean\npublic OncePerRequestFilter myFilter() {\n    return new OncePerRequestFilter() {\n        @Override\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n            AuthUser authUser = SecurityUtil.safeGet(); // applied after secutiry filters\n            ...\n            filterChain.doFilter(request, response);\n        }\n    };\n}\n</code></pre>\n<p>That's all, no any registration needed. See also <a href=\"https://stackoverflow.com/questions/13152946/what-is-onceperrequestfilter\">What is OncePerRequestFilter?</a></p>\n"},{"tags":[],"owner":{"account_id":8594459,"reputation":814,"user_id":6437920,"display_name":"Joel Wembo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662983503,"creation_date":1662983503,"answer_id":73688863,"question_id":19825946,"body_markdown":" Annotate your filter with one of the Spring stereotypes such as @Component. Register a @Bean with Filter type in Spring @Configuration. Register a @Bean with FilterRegistrationBean type in Spring @Configuration.","title":"How can I add a filter class in Spring Boot?","body":"<p>Annotate your filter with one of the Spring stereotypes such as @Component. Register a @Bean with Filter type in Spring @Configuration. Register a @Bean with FilterRegistrationBean type in Spring @Configuration.</p>\n"},{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672947011,"creation_date":1672947011,"answer_id":75023479,"question_id":19825946,"body_markdown":"For filtering based on any criteria and for any list in spring boot, **query language** is more flexible and allows us to filter down to exactly the resources we need.\r\nFor instance, if we have simple entity like User and define it like this.\r\n\r\n    @Entity\r\n    public class User {\r\n    @Id\r\n    @GeneratedValue(strategy = \r\n    GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n\r\n    private int age;\r\n    \r\n    //Setter and getter as usual\r\n\r\nThen we create a UserSpecification that implements the Specification interface, and we&#39;re going to pass in our own constraint to construct the actual query. In this part methods related to **criteria** and **builder** as defined are very useful and flexible.\r\n\r\n    public class UserSpecification implements Specification&lt;User&gt; {\r\n\r\n    private SearchCriteria criteria;\r\n\r\n    @Override\r\n    public Predicate toPredicate\r\n      (Root&lt;User&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n \r\n        if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\r\n            return builder.greaterThanOrEqualTo(\r\n              root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n        } \r\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\r\n            return builder.lessThanOrEqualTo(\r\n              root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n        } \r\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\r\n            if (root.get(criteria.getKey()).getJavaType() == String.class) {\r\n                return builder.like(\r\n                  root.&lt;String&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\r\n            } else {\r\n                return builder.equal(root.get(criteria.getKey()), criteria.getValue());\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    }\r\n\r\nAnd beside we create a Specification based on some simple constraints that represented in the following SearchCriteria class, any criteria can be create like this:\r\n\r\n    public class SearchCriteria {\r\n    private String key;\r\n    private String operation;\r\n    private Object value;\r\n     }\r\n\r\nAt the end define UserRepository and extend JpaSpecificationExecutor,\r\n\r\n    public interface UserRepository \r\n    extends JpaRepository&lt;User, Long&gt;, \r\n    JpaSpecificationExecutor&lt;User&gt; {}\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>For filtering based on any criteria and for any list in spring boot, <strong>query language</strong> is more flexible and allows us to filter down to exactly the resources we need.\nFor instance, if we have simple entity like User and define it like this.</p>\n<pre><code>@Entity\npublic class User {\n@Id\n@GeneratedValue(strategy = \nGenerationType.AUTO)\nprivate Long id;\n\nprivate String firstName;\nprivate String lastName;\nprivate String email;\n\nprivate int age;\n\n//Setter and getter as usual\n</code></pre>\n<p>Then we create a UserSpecification that implements the Specification interface, and we're going to pass in our own constraint to construct the actual query. In this part methods related to <strong>criteria</strong> and <strong>builder</strong> as defined are very useful and flexible.</p>\n<pre><code>public class UserSpecification implements Specification&lt;User&gt; {\n\nprivate SearchCriteria criteria;\n\n@Override\npublic Predicate toPredicate\n  (Root&lt;User&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n\n    if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\n        return builder.greaterThanOrEqualTo(\n          root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\n    } \n    else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\n        return builder.lessThanOrEqualTo(\n          root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\n    } \n    else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\n        if (root.get(criteria.getKey()).getJavaType() == String.class) {\n            return builder.like(\n              root.&lt;String&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\n        } else {\n            return builder.equal(root.get(criteria.getKey()), criteria.getValue());\n        }\n    }\n    return null;\n}\n}\n</code></pre>\n<p>And beside we create a Specification based on some simple constraints that represented in the following SearchCriteria class, any criteria can be create like this:</p>\n<pre><code>public class SearchCriteria {\nprivate String key;\nprivate String operation;\nprivate Object value;\n }\n</code></pre>\n<p>At the end define UserRepository and extend JpaSpecificationExecutor,</p>\n<pre><code>public interface UserRepository \nextends JpaRepository&lt;User, Long&gt;, \nJpaSpecificationExecutor&lt;User&gt; {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12046249,"reputation":479,"user_id":8811143,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680773971,"creation_date":1680773971,"answer_id":75948031,"question_id":19825946,"body_markdown":"Here is pretty simple way of defining Filter:\r\n\r\n    @Component\r\n    @Order(1)\r\n    public class SampleFilter implements Filter {\r\n    \r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n    \r\n            System.out.println(&quot;Sample Filter initialized&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            // with Spring Dependency Injection this method will not be invoked\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\r\n    \r\n        \r\n    \r\n            chain.doFilter(servletRequest, servletResponse);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n    \r\n        }\r\n    }","title":"How can I add a filter class in Spring Boot?","body":"<p>Here is pretty simple way of defining Filter:</p>\n<pre><code>@Component\n@Order(1)\npublic class SampleFilter implements Filter {\n\n\n    @PostConstruct\n    public void init() {\n\n        System.out.println(&quot;Sample Filter initialized&quot;);\n\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        // with Spring Dependency Injection this method will not be invoked\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\n\n    \n\n        chain.doFilter(servletRequest, servletResponse);\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15773347"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680774659,"creation_date":1680774659,"answer_id":75948129,"question_id":19825946,"body_markdown":"Here is a simple Example how to use `FilterRegistrationBean`:\r\n\r\n    import javax.servlet.*;\r\n    import java.io.IOException;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class MySpringBootApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MySpringBootApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean&lt;MyCustomFilter&gt; myCustomFilterRegistrationBean() {\r\n            FilterRegistrationBean&lt;MyCustomFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n            registrationBean.setFilter(new MyCustomFilter());\r\n            registrationBean.addUrlPatterns(&quot;/*&quot;); /\r\n            return registrationBean;\r\n        }\r\n    \r\n        public static class MyCustomFilter implements Filter {\r\n    \r\n            @Override\r\n            public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n                    throws IOException, ServletException {\r\n                // Your filter logic comes here\r\n            \r\n                filterChain.doFilter(servletRequest, servletResponse);\r\n            }\r\n        }\r\n    }\r\n\r\nHere are some useful resources:\r\n\r\n* https://spring.io/guides\r\n* https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#boot-features-registering-filters\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Here is a simple Example how to use <code>FilterRegistrationBean</code>:</p>\n<pre><code>import javax.servlet.*;\nimport java.io.IOException;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class MySpringBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MySpringBootApplication.class, args);\n    }\n\n    @Bean\n    public FilterRegistrationBean&lt;MyCustomFilter&gt; myCustomFilterRegistrationBean() {\n        FilterRegistrationBean&lt;MyCustomFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new MyCustomFilter());\n        registrationBean.addUrlPatterns(&quot;/*&quot;); /\n        return registrationBean;\n    }\n\n    public static class MyCustomFilter implements Filter {\n\n        @Override\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n                throws IOException, ServletException {\n            // Your filter logic comes here\n        \n            filterChain.doFilter(servletRequest, servletResponse);\n        }\n    }\n}\n</code></pre>\n<p>Here are some useful resources:</p>\n<ul>\n<li><a href=\"https://spring.io/guides\" rel=\"nofollow noreferrer\">https://spring.io/guides</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#boot-features-registering-filters\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#boot-features-registering-filters</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682172645,"creation_date":1682172645,"answer_id":76080076,"question_id":19825946,"body_markdown":"## Short answer to your question:  \r\n```kotlin\r\n@Component\r\nclass MyCustomFilter : OncePerRequestFilter() {\r\n    override fun doFilterInternal(\r\n        request: HttpServletRequest,\r\n        response: HttpServletResponse,\r\n        filterChain: FilterChain\r\n    ) {\r\n        //some work: adding headers, working with authentication or something else\r\n        filterChain.doFilter(request, response)\r\n    }\r\n}\r\n```\r\n\r\n## More details below:\r\nLet&#39;s say we have the following chain:\r\n\r\n```kotlin\r\n@Bean\r\n@Throws(Exception::class)\r\nfun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n    http.authorizeRequests()\r\n        .antMatchers(HttpMethod.POST, &quot;/first&quot;, &quot;/second&quot;)\r\n        .authenticated()\r\n        .anyRequest()\r\n        .permitAll()\r\n        .and()\r\n        .httpBasic()\r\n        .authenticationEntryPoint(auditAuthenticationEntryPoint)\r\n        .and()\r\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and().formLogin().disable()\r\n        .csrf().disable()\r\n        .cors().configurationSource(corsConfigurationSource())\r\n    return http.build()\r\n}\r\n```\r\n\r\nAnd we want to add the following filter to this chain between some specific filters.\r\n\r\nHere are a few ways to add our filter to the chain:  \r\n#### 1) adding the @Order annotation to the filter:  \r\n```kotlin\r\n@Component\r\n@Order(5)\r\nclass MyCustomFilter : OncePerRequestFilter()\r\n```\r\n*Note that:*\r\n* If you do not specify an order in the annotation, then the default order is: ```Ordered.LOWEST_PRECEDENCE``` - your filter will be the last one in the chain.\r\n* If you are working with Authentication in your filter (through authentication providers) then ```Ordered.LOWEST_PRECEDENCE``` and ```Ordered.HIGHEST_PRECEDENCE```\r\nnot suitable for your case because:\r\n  * in case ```Ordered.HIGHEST_PRECEDENCE``` filter```SecurityContextPersistenceFilter``` which will be executed after your \r\n  filter will clear the SecurityContext even if your filter added an Authentication object to the SecurityContext\r\n  * in the case of ```Ordered.LOWEST_PRECEDENCE``` your filter will not be called at all: AnonymousAuthenticationFilter will set the Authentication object to\r\n  Anonymous and you will receive a 401 or 403 response before the chain calls your filter\r\n  * In this case, you need to get the chain and determine the specific order of your filter\r\n  via the ```FilterChainProxy``` and the ```doFilter(ServletRequest request, ServletResponse response)``` method, getting ```this.additionalFilters```. For example, ```5```.\r\n  But this is not the best way to determine the order\r\n#### 2) The standard (and best) way is through setting up the filter chain itself:\r\n```kotlin\r\n    @Bean\r\n    @Throws(Exception::class)\r\n    fun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n        http.authorizeRequests()\r\n            ...\r\n            .addFilterBefore(MyCustomFulter(), BasicAuthenticationFilter::class.java)\r\n            ...\r\n        return http.build()\r\n    }\r\n```\r\n### 3) Injecting a filter into a chain in @PostConstruct\r\nIn my case, .addFilterBefore() was not possible due to the fact that \r\nthe filter was added from the starter. My starter needs to add a filter \r\nto each chain after the LogoutFilter. Since there can be multiple chains in \r\na context, I add a filter to each one. Thus, when adding my starter to the application\r\n, the filter is added to the required place without any additional configuration:\r\n```kotlin\r\n@Configuration\r\n@ComponentScan\r\n@ConfigurationPropertiesScan\r\nclass CommonConfig {\r\n    @Autowired\r\n    lateinit var chains: List&lt;SecurityFilterChain&gt;\r\n\r\n    @Autowired\r\n    lateinit var myCustomFilter: MyCustomFilter\r\n\r\n    @PostConstruct\r\n    fun post() {\r\n        chains.forEach {\r\n            for (i in it.filters.indices){\r\n                if (it.filters[i] is LogoutFilter) {\r\n                    it.filters.add(i + 1, myCustomFilter)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How can I add a filter class in Spring Boot?","body":"<h2>Short answer to your question:</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass MyCustomFilter : OncePerRequestFilter() {\n    override fun doFilterInternal(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        filterChain: FilterChain\n    ) {\n        //some work: adding headers, working with authentication or something else\n        filterChain.doFilter(request, response)\n    }\n}\n</code></pre>\n<h2>More details below:</h2>\n<p>Let's say we have the following chain:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Bean\n@Throws(Exception::class)\nfun filterChain(http: HttpSecurity): SecurityFilterChain {\n    http.authorizeRequests()\n        .antMatchers(HttpMethod.POST, &quot;/first&quot;, &quot;/second&quot;)\n        .authenticated()\n        .anyRequest()\n        .permitAll()\n        .and()\n        .httpBasic()\n        .authenticationEntryPoint(auditAuthenticationEntryPoint)\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and().formLogin().disable()\n        .csrf().disable()\n        .cors().configurationSource(corsConfigurationSource())\n    return http.build()\n}\n</code></pre>\n<p>And we want to add the following filter to this chain between some specific filters.</p>\n<p>Here are a few ways to add our filter to the chain:</p>\n<h4>1) adding the @Order annotation to the filter:</h4>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Order(5)\nclass MyCustomFilter : OncePerRequestFilter()\n</code></pre>\n<p><em>Note that:</em></p>\n<ul>\n<li>If you do not specify an order in the annotation, then the default order is: <code>Ordered.LOWEST_PRECEDENCE</code> - your filter will be the last one in the chain.</li>\n<li>If you are working with Authentication in your filter (through authentication providers) then <code>Ordered.LOWEST_PRECEDENCE</code> and <code>Ordered.HIGHEST_PRECEDENCE</code>\nnot suitable for your case because:\n<ul>\n<li>in case <code>Ordered.HIGHEST_PRECEDENCE</code> filter<code>SecurityContextPersistenceFilter</code> which will be executed after your\nfilter will clear the SecurityContext even if your filter added an Authentication object to the SecurityContext</li>\n<li>in the case of <code>Ordered.LOWEST_PRECEDENCE</code> your filter will not be called at all: AnonymousAuthenticationFilter will set the Authentication object to\nAnonymous and you will receive a 401 or 403 response before the chain calls your filter</li>\n<li>In this case, you need to get the chain and determine the specific order of your filter\nvia the <code>FilterChainProxy</code> and the <code>doFilter(ServletRequest request, ServletResponse response)</code> method, getting <code>this.additionalFilters</code>. For example, <code>5</code>.\nBut this is not the best way to determine the order</li>\n</ul>\n</li>\n</ul>\n<h4>2) The standard (and best) way is through setting up the filter chain itself:</h4>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Bean\n    @Throws(Exception::class)\n    fun filterChain(http: HttpSecurity): SecurityFilterChain {\n        http.authorizeRequests()\n            ...\n            .addFilterBefore(MyCustomFulter(), BasicAuthenticationFilter::class.java)\n            ...\n        return http.build()\n    }\n</code></pre>\n<h3>3) Injecting a filter into a chain in @PostConstruct</h3>\n<p>In my case, .addFilterBefore() was not possible due to the fact that\nthe filter was added from the starter. My starter needs to add a filter\nto each chain after the LogoutFilter. Since there can be multiple chains in\na context, I add a filter to each one. Thus, when adding my starter to the application\n, the filter is added to the required place without any additional configuration:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@ComponentScan\n@ConfigurationPropertiesScan\nclass CommonConfig {\n    @Autowired\n    lateinit var chains: List&lt;SecurityFilterChain&gt;\n\n    @Autowired\n    lateinit var myCustomFilter: MyCustomFilter\n\n    @PostConstruct\n    fun post() {\n        chains.forEach {\n            for (i in it.filters.indices){\n                if (it.filters[i] is LogoutFilter) {\n                    it.filters.add(i + 1, myCustomFilter)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":42992,"reputation":8592,"user_id":125470,"accept_rate":44,"display_name":"janetsmith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414063,"favorite_count":0,"down_vote_count":1,"up_vote_count":287,"answer_count":29,"score":286,"last_activity_date":1682172645,"creation_date":1383785536,"question_id":19825946,"body_markdown":"Is there any annotation for a `Filter` class (for web applications) in Spring Boot? Perhaps `@Filter`?\r\n\r\nI want to add a custom filter in my project.\r\n\r\n[The Spring Boot Reference Guide][0] mentioned about\r\n`FilterRegistrationBean`, but I am not sure how to use it.\r\n\r\n  [0]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Is there any annotation for a <code>Filter</code> class (for web applications) in Spring Boot? Perhaps <code>@Filter</code>?</p>\n<p>I want to add a custom filter in my project.</p>\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/\" rel=\"noreferrer\">The Spring Boot Reference Guide</a> mentioned about\n<code>FilterRegistrationBean</code>, but I am not sure how to use it.</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1682175969,"post_id":76080040,"comment_id":134175742,"body_markdown":"Did you compile the controller? Does a file `sample/Controller.class` exist? `javac --module-path lib --add-modules=javafx.controls,javafx.fxml sample/Controller.java`","body":"Did you compile the controller? Does a file <code>sample&#47;Controller.class</code> exist? <code>javac --module-path lib --add-modules=javafx.controls,javafx.fxml sample&#47;Controller.java</code>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1682176016,"post_id":76080040,"comment_id":134175749,"body_markdown":"In general, IMO, it is easier to develop with build tools (e.g. Maven).","body":"In general, IMO, it is easier to develop with build tools (e.g. Maven)."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682180984,"post_id":76080040,"comment_id":134176361,"body_markdown":"Are you using an IDE? It will simplify this type of stuff.","body":"Are you using an IDE? It will simplify this type of stuff."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682181067,"post_id":76080040,"comment_id":134176372,"body_markdown":"I like `Netbeans` `Modular` with  `Maven`. https://openjfx.io/openjfx-docs/","body":"I like <code>Netbeans</code> <code>Modular</code> with  <code>Maven</code>. <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1682181230,"post_id":76080040,"comment_id":134176394,"body_markdown":"I see `fx:root`; are you developing [_Custom Components_](https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#custom_components)?","body":"I see <code>fx:root</code>; are you developing <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#custom_components\" rel=\"nofollow noreferrer\"><i>Custom Components</i></a>?"}],"owner":{"account_id":27909933,"reputation":11,"user_id":21312346,"display_name":"Awc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682172058,"creation_date":1682172058,"question_id":76080040,"body_markdown":"I am trying to link my controller Controller.java to my sample.fxml , however whatever I try it seems that it cannot find my controller class. The game works just fine when I do not include the controller.\r\n\r\nPartial stack trace:\r\n\r\n```\r\n    Exception in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: javafx.fxml.LoadException: \r\n/Users/awc/GitRepos/comp16412-coursework-2__z78295ac/src/main/sample/sample.fxml:12\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:935)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$RootElement.processAttribute(FXMLLoader.java:1302)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:757)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\r\n\tat sample.Main.start(Main.java:26)\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n\tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n\tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\tat javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\nCaused by: java.lang.ClassNotFoundException: sample.Controller\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:933)\r\n\t... 14 more \r\n```\r\nI have read many different forums and tried several different things, such as making a package, running the command from different directories, and adding fx:root tag. I have tried using absolute and relative file paths. I am also stating the package name when declaring the controller in sample.fxml: \r\n```fx:controller=&quot;sample.Controller&quot;```\r\nMy controller is also public. \r\n\r\nThis is the [file hierachy][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S0yFS.png\r\n\r\n\r\nI am running from the main directory, with commands:\r\n\r\n```\r\njavac --module-path lib --add-modules=javafx.controls,javafx.fxml sample/Main.java\r\njava --module-path lib --add-modules=javafx.controls,javafx.fxml sample.Main\r\n\r\n```\r\n\r\n**Controller.java**\r\n```\r\npackage sample;\r\n\r\nimport javafx.scene.Node;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class Controller {\r\n\r\n    public Button startButton;\r\n    public VBox playerNames;\r\n\r\n    public void startGame(){\r\n\r\n        for (Node node : playerNames.getChildren()) {\r\n            System.out.println(&quot;Id: &quot; + node.getId());\r\n            if (node instanceof TextField) {\r\n                // clear\r\n                ((TextField)node).setText(&quot;&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n**Main.java**\r\n\r\n```\r\npackage sample;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\n\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n    \r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;sample.fxml&quot;));\r\n        loader.setRoot(this);\r\n        // loader.setController(this);\r\n        loader.setClassLoader(getClass().getClassLoader()); // set the plugin&#39;s class loader\r\n\r\n        // Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n        \r\n        Parent root = (Parent) loader.load();\r\n        primaryStage.setTitle((&quot;Hello world&quot;));\r\n        primaryStage.setScene(new Scene(root, 1000, 500));\r\n        primaryStage.show();\r\n\r\n    }\r\n\r\n    \r\n}\r\n\r\n```\r\n**sample.fxml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n&lt;?import sample.*?&gt;\r\n\r\n&lt;fx:root maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-background-color: black;&quot; type=&quot;BorderPane&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sample.Controller&quot;&gt;\r\n   &lt;center&gt;\r\n      &lt;VBox fx:id=&quot;playerNames&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; style=&quot;-fx-padding: 30;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;TextField prefHeight=&quot;26.0&quot; prefWidth=&quot;541.0&quot; promptText=&quot;Player 1&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField promptText=&quot;Player 2&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField promptText=&quot;Player 3&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField promptText=&quot;Player 4&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField prefHeight=&quot;26.0&quot; prefWidth=&quot;363.0&quot; promptText=&quot;Player 5&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n         &lt;/children&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n      &lt;/VBox&gt;\r\n   &lt;/center&gt;\r\n   &lt;right&gt;\r\n      &lt;Text fill=&quot;WHITE&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Selfish Space Game - Original Implementation by Ridleys Games&quot; wrappingWidth=&quot;124.04833984375&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets right=&quot;50.0&quot; /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;18.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n   &lt;/right&gt;\r\n   &lt;padding&gt;\r\n      &lt;Insets right=&quot;20.0&quot; /&gt;\r\n   &lt;/padding&gt;\r\n   &lt;top&gt;\r\n      &lt;HBox prefHeight=&quot;26.0&quot; prefWidth=&quot;607.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Rules&quot;&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;30.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Load Saved Game&quot;&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;30.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets top=&quot;10.0&quot; /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n      &lt;/HBox&gt;\r\n   &lt;/top&gt;\r\n   &lt;bottom&gt;\r\n      &lt;Button fx:id=&quot;startButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#startGame&quot; text=&quot;Start Game!&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets bottom=&quot;50.0&quot; /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;22.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/bottom&gt;\r\n&lt;/fx:root&gt;\r\n```\r\n\r\nAny help is much appreciated. Thank you.","title":"Java FXML Cannot find controller class","body":"<p>I am trying to link my controller Controller.java to my sample.fxml , however whatever I try it seems that it cannot find my controller class. The game works just fine when I do not include the controller.</p>\n<p>Partial stack trace:</p>\n<pre><code>    Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: javafx.fxml.LoadException: \n/Users/awc/GitRepos/comp16412-coursework-2__z78295ac/src/main/sample/sample.fxml:12\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:935)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$RootElement.processAttribute(FXMLLoader.java:1302)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:757)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\n    at sample.Main.start(Main.java:26)\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\nCaused by: java.lang.ClassNotFoundException: sample.Controller\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:933)\n    ... 14 more \n</code></pre>\n<p>I have read many different forums and tried several different things, such as making a package, running the command from different directories, and adding fx:root tag. I have tried using absolute and relative file paths. I am also stating the package name when declaring the controller in sample.fxml:\n<code>fx:controller=&quot;sample.Controller&quot;</code>\nMy controller is also public.</p>\n<p>This is the <a href=\"https://i.stack.imgur.com/S0yFS.png\" rel=\"nofollow noreferrer\">file hierachy</a></p>\n<p>I am running from the main directory, with commands:</p>\n<pre><code>javac --module-path lib --add-modules=javafx.controls,javafx.fxml sample/Main.java\njava --module-path lib --add-modules=javafx.controls,javafx.fxml sample.Main\n\n</code></pre>\n<p><strong>Controller.java</strong></p>\n<pre><code>package sample;\n\nimport javafx.scene.Node;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\n\npublic class Controller {\n\n    public Button startButton;\n    public VBox playerNames;\n\n    public void startGame(){\n\n        for (Node node : playerNames.getChildren()) {\n            System.out.println(&quot;Id: &quot; + node.getId());\n            if (node instanceof TextField) {\n                // clear\n                ((TextField)node).setText(&quot;&quot;);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\n\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n    \n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;sample.fxml&quot;));\n        loader.setRoot(this);\n        // loader.setController(this);\n        loader.setClassLoader(getClass().getClassLoader()); // set the plugin's class loader\n\n        // Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\n        \n        Parent root = (Parent) loader.load();\n        primaryStage.setTitle((&quot;Hello world&quot;));\n        primaryStage.setScene(new Scene(root, 1000, 500));\n        primaryStage.show();\n\n    }\n\n    \n}\n\n</code></pre>\n<p><strong>sample.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n&lt;?import sample.*?&gt;\n\n&lt;fx:root maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-background-color: black;&quot; type=&quot;BorderPane&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sample.Controller&quot;&gt;\n   &lt;center&gt;\n      &lt;VBox fx:id=&quot;playerNames&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; style=&quot;-fx-padding: 30;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;TextField prefHeight=&quot;26.0&quot; prefWidth=&quot;541.0&quot; promptText=&quot;Player 1&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;TextField promptText=&quot;Player 2&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;TextField promptText=&quot;Player 3&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;TextField promptText=&quot;Player 4&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;TextField prefHeight=&quot;26.0&quot; prefWidth=&quot;363.0&quot; promptText=&quot;Player 5&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n         &lt;/children&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets /&gt;\n         &lt;/BorderPane.margin&gt;\n      &lt;/VBox&gt;\n   &lt;/center&gt;\n   &lt;right&gt;\n      &lt;Text fill=&quot;WHITE&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Selfish Space Game - Original Implementation by Ridleys Games&quot; wrappingWidth=&quot;124.04833984375&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets right=&quot;50.0&quot; /&gt;\n         &lt;/BorderPane.margin&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n   &lt;/right&gt;\n   &lt;padding&gt;\n      &lt;Insets right=&quot;20.0&quot; /&gt;\n   &lt;/padding&gt;\n   &lt;top&gt;\n      &lt;HBox prefHeight=&quot;26.0&quot; prefWidth=&quot;607.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Rules&quot;&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;30.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Load Saved Game&quot;&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;30.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets top=&quot;10.0&quot; /&gt;\n         &lt;/BorderPane.margin&gt;\n      &lt;/HBox&gt;\n   &lt;/top&gt;\n   &lt;bottom&gt;\n      &lt;Button fx:id=&quot;startButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#startGame&quot; text=&quot;Start Game!&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets bottom=&quot;50.0&quot; /&gt;\n         &lt;/BorderPane.margin&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;22.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n   &lt;/bottom&gt;\n&lt;/fx:root&gt;\n</code></pre>\n<p>Any help is much appreciated. Thank you.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","arraylist"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682150953,"post_id":76078476,"comment_id":134172937,"body_markdown":"Aside from my answer, if you understand Kotlin, this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5) will help. Here is the corresponding [repo](https://github.com/alexmamo/RealtimeDatabase).","body":"Aside from my answer, if you understand Kotlin, this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/RealtimeDatabase\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682150920,"creation_date":1682150920,"answer_id":76078627,"question_id":76078476,"body_markdown":"Data is loaded from Firebase Realtime Database asynchronous. So there is no way you can calculate the size of the `questionlists` before the data is loaded completely. The solution is always the same. Any code that needs to use data that comes from a Realtime Database, needs to be inside the `onDataChange()` method or be called from there.\r\n\r\nSo in your particular case, you should call the `loadnewquestion()` method from within the `onDataChange()`, in order to see the size of the list. To solve this, please move the following line of code:\r\n\r\n    loadnewquestion();\r\n\r\nBefore:\r\n\r\n    progressDialog.hide();\r\n\r\nOne more thing, stop ignoring errors. At a minimum, please add:\r\n\r\n    Log.d(TAG, error.getMessage());\r\n\r\nInside the `onCancelled()`. If you don&#39;t and your request fails, you&#39;ll never know why.","title":"I am not able to get the size of the arraylist on creation of the activity","body":"<p>Data is loaded from Firebase Realtime Database asynchronous. So there is no way you can calculate the size of the <code>questionlists</code> before the data is loaded completely. The solution is always the same. Any code that needs to use data that comes from a Realtime Database, needs to be inside the <code>onDataChange()</code> method or be called from there.</p>\n<p>So in your particular case, you should call the <code>loadnewquestion()</code> method from within the <code>onDataChange()</code>, in order to see the size of the list. To solve this, please move the following line of code:</p>\n<pre><code>loadnewquestion();\n</code></pre>\n<p>Before:</p>\n<pre><code>progressDialog.hide();\n</code></pre>\n<p>One more thing, stop ignoring errors. At a minimum, please add:</p>\n<pre><code>Log.d(TAG, error.getMessage());\n</code></pre>\n<p>Inside the <code>onCancelled()</code>. If you don't and your request fails, you'll never know why.</p>\n"}],"owner":{"account_id":28266281,"reputation":3,"user_id":21610190,"display_name":"settipalli sudheendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76078627,"answer_count":1,"score":0,"last_activity_date":1682172017,"creation_date":1682148107,"question_id":76078476,"body_markdown":"I am a real beginner with Android and I have been trying to make a simple quiz app using Firebase but when I want to get the size of the ArrayList which contains the questions, the size of the array list is zero on the creation of the activity but when I restart the quiz from the alert dialog box everything works fine. I am not able to find out what the problem is. Any suggestion would be really helpful\r\n\r\nThis is my code\r\n```\r\nTextView totalquestions,question;\r\n    Button ansa,ansb,ansc,ansd,submit;\r\n\r\n    int score=0;\r\n\r\n    int currentquestionindex=0;\r\n    String selectedanswer=&quot;&quot;;\r\n    private final List&lt;Questionlist&gt; questionlists= new ArrayList&lt;&gt;();\r\n    int tq;\r\n    int testno=0;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_python);\r\n        Swipetorefresh();\r\n\r\n\r\n        totalquestions=findViewById(R.id.totalquestions3_python);\r\n        question=findViewById(R.id.python_q);\r\n        ansa=findViewById(R.id.py_ansa);\r\n        ansb=findViewById(R.id.py_ansb);\r\n        ansc=findViewById(R.id.py_ansc);\r\n        ansd=findViewById(R.id.py_ansd);\r\n        submit=findViewById(R.id.py_submit);\r\n\r\n        ProgressDialog progressDialog = new ProgressDialog(Python.this);\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.setMessage(&quot;Loading....&quot;);\r\n        progressDialog.show();\r\n\r\n        DatabaseReference databaseReference= FirebaseDatabase.getInstance().getReference();\r\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for(DataSnapshot dataSnapshot : snapshot.child(&quot;Python&quot;).getChildren()){\r\n                    String questions=dataSnapshot.child(&quot;question&quot;).getValue(String.class);\r\n                    String getansa = dataSnapshot.child(&quot;option1&quot;).getValue(String.class);\r\n                    String getansb = dataSnapshot.child(&quot;option2&quot;).getValue(String.class);\r\n                    String getansc = dataSnapshot.child(&quot;option3&quot;).getValue(String.class);\r\n                    String getansd = dataSnapshot.child(&quot;option4&quot;).getValue(String.class);\r\n                    String getans = dataSnapshot.child(&quot;answer&quot;).getValue(String.class);\r\n\r\n\r\n\r\n                    Questionlist questionlist = new Questionlist(questions,getansa,getansb,getansc,getansd,getans);\r\n                    questionlists.add(questionlist);\r\n\r\n                }\r\n\r\n                progressDialog.hide();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        ansa.setOnClickListener(this);\r\n        ansb.setOnClickListener(this);\r\n        ansc.setOnClickListener(this);\r\n        ansd.setOnClickListener(this);\r\n        submit.setOnClickListener(this);\r\n loadnewquestion();\r\n\r\n\r\n    }\r\n\r\n   private void loadnewquestion() {\r\n       tq=questionlists.size();\r\n\r\n       totalquestions.setText(&quot;Total Questions: &quot;+tq);\r\n\r\n        if(currentquestionindex == tq){\r\n            \r\n            finishquiz();\r\n            return;\r\n\r\n        }\r\n\r\n        question.setText(questionlists.get(currentquestionindex).getQuestion());\r\n        ansa.setText(questionlists.get(currentquestionindex).getOption1());\r\n       ansb.setText(questionlists.get(currentquestionindex).getOption2());\r\n       ansc.setText(questionlists.get(currentquestionindex).getOption3());\r\n       ansd.setText(questionlists.get(currentquestionindex).getOption4());\r\n\r\n\r\n      \r\n    }\r\n private void finishquiz() {\r\n       \r\n        String passstatus=&quot;&quot;;\r\n        if(score&gt;tq*0.60){\r\n            passstatus=&quot;passed&quot;;\r\n        }\r\n        else{\r\n            passstatus=&quot;failed&quot;;\r\n        }\r\n\r\n        new AlertDialog.Builder(this)\r\n                .setTitle(passstatus)\r\n                .setMessage(&quot;score is &quot;+ score+&quot; out of &quot;+tq)\r\n                .setPositiveButton(&quot;restart&quot;,((dialogInterface, i) -&gt; restartquiz()))\r\n                .setNegativeButton(&quot;go back&quot;,((dialogInterface, i) -&gt; goback()))\r\n                .setCancelable(false)\r\n                .show();\r\n    }\r\n\r\n    private void goback() {\r\n        startActivity(new Intent(Python.this,daily_quiz.class));\r\n    }\r\n\r\n    private void restartquiz() {\r\n        score=0;\r\n        currentquestionindex=0;\r\n        loadnewquestion();\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        ansa.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\r\n        ansb.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\r\n        ansc.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\r\n        ansd.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\r\n\r\n        Button clickedbutton = (Button) view;\r\n        if (clickedbutton.getId() == R.id.py_submit) {\r\n\r\n\r\n\r\n\r\n                String getanswer = questionlists.get(currentquestionindex).getAnswer();\r\n                if (selectedanswer.equals(getanswer)) {\r\n                    score++;\r\n\r\n                }\r\n                currentquestionindex++;\r\n                loadnewquestion();\r\n\r\n        }\r\n\r\n             else {\r\n                    selectedanswer = clickedbutton.getText().toString();\r\n                    clickedbutton.setBackgroundDrawable(getDrawable(R.drawable.selected_ans));\r\n                }\r\n            }\r\n}\r\n\r\n```\r\n\r\nThis is the image of my database:\r\n\r\n![enter image description here](https://i.stack.imgur.com/kBKel.png)\r\n\r\n \r\n\r\nI tried it the static way by just writing the questions in another java class and then calling it in the main class, this way the size of the array is found on the creation of the activity but when I call it from the database it is creating problems.","title":"I am not able to get the size of the arraylist on creation of the activity","body":"<p>I am a real beginner with Android and I have been trying to make a simple quiz app using Firebase but when I want to get the size of the ArrayList which contains the questions, the size of the array list is zero on the creation of the activity but when I restart the quiz from the alert dialog box everything works fine. I am not able to find out what the problem is. Any suggestion would be really helpful</p>\n<p>This is my code</p>\n<pre><code>TextView totalquestions,question;\n    Button ansa,ansb,ansc,ansd,submit;\n\n    int score=0;\n\n    int currentquestionindex=0;\n    String selectedanswer=&quot;&quot;;\n    private final List&lt;Questionlist&gt; questionlists= new ArrayList&lt;&gt;();\n    int tq;\n    int testno=0;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_python);\n        Swipetorefresh();\n\n\n        totalquestions=findViewById(R.id.totalquestions3_python);\n        question=findViewById(R.id.python_q);\n        ansa=findViewById(R.id.py_ansa);\n        ansb=findViewById(R.id.py_ansb);\n        ansc=findViewById(R.id.py_ansc);\n        ansd=findViewById(R.id.py_ansd);\n        submit=findViewById(R.id.py_submit);\n\n        ProgressDialog progressDialog = new ProgressDialog(Python.this);\n        progressDialog.setCancelable(false);\n        progressDialog.setMessage(&quot;Loading....&quot;);\n        progressDialog.show();\n\n        DatabaseReference databaseReference= FirebaseDatabase.getInstance().getReference();\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for(DataSnapshot dataSnapshot : snapshot.child(&quot;Python&quot;).getChildren()){\n                    String questions=dataSnapshot.child(&quot;question&quot;).getValue(String.class);\n                    String getansa = dataSnapshot.child(&quot;option1&quot;).getValue(String.class);\n                    String getansb = dataSnapshot.child(&quot;option2&quot;).getValue(String.class);\n                    String getansc = dataSnapshot.child(&quot;option3&quot;).getValue(String.class);\n                    String getansd = dataSnapshot.child(&quot;option4&quot;).getValue(String.class);\n                    String getans = dataSnapshot.child(&quot;answer&quot;).getValue(String.class);\n\n\n\n                    Questionlist questionlist = new Questionlist(questions,getansa,getansb,getansc,getansd,getans);\n                    questionlists.add(questionlist);\n\n                }\n\n                progressDialog.hide();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        ansa.setOnClickListener(this);\n        ansb.setOnClickListener(this);\n        ansc.setOnClickListener(this);\n        ansd.setOnClickListener(this);\n        submit.setOnClickListener(this);\n loadnewquestion();\n\n\n    }\n\n   private void loadnewquestion() {\n       tq=questionlists.size();\n\n       totalquestions.setText(&quot;Total Questions: &quot;+tq);\n\n        if(currentquestionindex == tq){\n            \n            finishquiz();\n            return;\n\n        }\n\n        question.setText(questionlists.get(currentquestionindex).getQuestion());\n        ansa.setText(questionlists.get(currentquestionindex).getOption1());\n       ansb.setText(questionlists.get(currentquestionindex).getOption2());\n       ansc.setText(questionlists.get(currentquestionindex).getOption3());\n       ansd.setText(questionlists.get(currentquestionindex).getOption4());\n\n\n      \n    }\n private void finishquiz() {\n       \n        String passstatus=&quot;&quot;;\n        if(score&gt;tq*0.60){\n            passstatus=&quot;passed&quot;;\n        }\n        else{\n            passstatus=&quot;failed&quot;;\n        }\n\n        new AlertDialog.Builder(this)\n                .setTitle(passstatus)\n                .setMessage(&quot;score is &quot;+ score+&quot; out of &quot;+tq)\n                .setPositiveButton(&quot;restart&quot;,((dialogInterface, i) -&gt; restartquiz()))\n                .setNegativeButton(&quot;go back&quot;,((dialogInterface, i) -&gt; goback()))\n                .setCancelable(false)\n                .show();\n    }\n\n    private void goback() {\n        startActivity(new Intent(Python.this,daily_quiz.class));\n    }\n\n    private void restartquiz() {\n        score=0;\n        currentquestionindex=0;\n        loadnewquestion();\n    }\n\n    @Override\n    public void onClick(View view) {\n        ansa.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\n        ansb.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\n        ansc.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\n        ansd.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\n\n        Button clickedbutton = (Button) view;\n        if (clickedbutton.getId() == R.id.py_submit) {\n\n\n\n\n                String getanswer = questionlists.get(currentquestionindex).getAnswer();\n                if (selectedanswer.equals(getanswer)) {\n                    score++;\n\n                }\n                currentquestionindex++;\n                loadnewquestion();\n\n        }\n\n             else {\n                    selectedanswer = clickedbutton.getText().toString();\n                    clickedbutton.setBackgroundDrawable(getDrawable(R.drawable.selected_ans));\n                }\n            }\n}\n\n</code></pre>\n<p>This is the image of my database:</p>\n<p><img src=\"https://i.stack.imgur.com/kBKel.png\" alt=\"enter image description here\" /></p>\n<p>I tried it the static way by just writing the questions in another java class and then calling it in the main class, this way the size of the array is found on the creation of the activity but when I call it from the database it is creating problems.</p>\n"},{"tags":["java","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682171829,"creation_date":1682171829,"answer_id":76080022,"question_id":76079077,"body_markdown":"It appears that there is an error in the birthday parameter you are trying to send. The format is not correct. It should be something like this:\r\n\r\n    { &#39;nickname&#39;: &#39;bob&#39;, &#39;kind&#39;: &#39;cat&#39;, &#39;birthday&#39;: &#39;2023-04-22T15:00:00Z&#39; }\r\n\r\nIf you only want to store just the year, month, and day, please refer to https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html.\r\n","title":"Failed to read post request in Spring Boot app (400)","body":"<p>It appears that there is an error in the birthday parameter you are trying to send. The format is not correct. It should be something like this:</p>\n<pre><code>{ 'nickname': 'bob', 'kind': 'cat', 'birthday': '2023-04-22T15:00:00Z' }\n</code></pre>\n<p>If you only want to store just the year, month, and day, please refer to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html</a>.</p>\n"}],"owner":{"account_id":28332188,"reputation":1,"user_id":21666290,"display_name":"Jan Potarski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682171829,"creation_date":1682158187,"question_id":76079077,"body_markdown":"I wrote simple CRUD Spring Boot app, but the POST endpoints don&#39;t work for some reason. I send the correct set of key-value pairs, \r\nBut I get the same error every time:\r\n\r\n\r\n```\r\n{\r\n    &quot;nickname&quot;: &quot;bob&quot;,\r\n    &quot;kind&quot;: &quot;cat&quot;,\r\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\r\n    &quot;vetRecords&quot;: null\r\n}\r\n\r\n{\r\n    &quot;type&quot;: &quot;about:blank&quot;,\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\r\n    &quot;instance&quot;: &quot;/api/v1/users/4/animals&quot;\r\n}\r\n\r\n```\r\n\r\n\r\nI tried sending same request with debugger, but it doesn&#39;t stop in moment when I provide request. CommonsRequestLoggingFilter also shows only this: \r\n\r\n\r\n```\r\n2023-04-22T13:59:47.087+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /api/v1/users/4/animals]\r\n2023-04-22T13:59:47.344+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA: POST /api/v1/users/4/animals, payload=\r\n{\r\n    &quot;nickname&quot;: &quot;bob&quot;,\r\n    &quot;kind&quot;: &quot;cat&quot;,\r\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\r\n    &quot;vetRecords&quot;: null\r\n}]\r\n```\r\n\r\n\r\nController:\r\n\r\n\r\n```\r\n@PostMapping(&quot;{id}/animals&quot;)\r\n    public AnimalDto createAnimal(@PathVariable Long id,\r\n                                  @Validated(OnCreate.class) @RequestBody AnimalDto animalDto) {\r\n        Animal animal = animalMapper.toEntity(animalDto);\r\n        Animal createdAnimal = animalService.create(animal, id);\r\n        return animalMapper.toDto(createdAnimal);\r\n    }\r\n```\r\n\r\nDTO:\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class AnimalDto {\r\n    @NotNull(message = &quot;Id must be not null&quot;, groups = OnUpdate.class)\r\n    private Long id;\r\n\r\n    @NotNull(message = &quot;Animal name must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\r\n    @Length(max = 256, message = &quot;Animal name must be less than 256 symbols&quot;)\r\n    private String nickname;\r\n\r\n    @NotNull(message = &quot;Animal kind must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\r\n    @Length(max = 256, message = &quot;Animal kind must be less than 256 symbols&quot;)\r\n    private String kind;\r\n\r\n    @NotNull(message = &quot;Animal age must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\r\n    private Date birthday;\r\n\r\n    private List&lt;VetRecord&gt; vetRecords;\r\n}\r\n```\r\n\r\nEntity:\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Animal {\r\n\r\n    private Long id;\r\n    private String nickname;\r\n    private String kind;\r\n    private Date birthday;\r\n    private List&lt;VetRecord&gt; vetRecords;\r\n}\r\n```\r\n\r\nMapper (MapStruct):\r\n\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface AnimalMapper {\r\n\r\n    AnimalDto toDto(Animal animal);\r\n\r\n    List&lt;AnimalDto&gt; toDto(List&lt;Animal&gt; animals);\r\n\r\n    Animal toEntity(AnimalDto animalDto);\r\n}\r\n```\r\n\r\n","title":"Failed to read post request in Spring Boot app (400)","body":"<p>I wrote simple CRUD Spring Boot app, but the POST endpoints don't work for some reason. I send the correct set of key-value pairs,\nBut I get the same error every time:</p>\n<pre><code>{\n    &quot;nickname&quot;: &quot;bob&quot;,\n    &quot;kind&quot;: &quot;cat&quot;,\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\n    &quot;vetRecords&quot;: null\n}\n\n{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\n    &quot;instance&quot;: &quot;/api/v1/users/4/animals&quot;\n}\n\n</code></pre>\n<p>I tried sending same request with debugger, but it doesn't stop in moment when I provide request. CommonsRequestLoggingFilter also shows only this:</p>\n<pre><code>2023-04-22T13:59:47.087+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /api/v1/users/4/animals]\n2023-04-22T13:59:47.344+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA: POST /api/v1/users/4/animals, payload=\n{\n    &quot;nickname&quot;: &quot;bob&quot;,\n    &quot;kind&quot;: &quot;cat&quot;,\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\n    &quot;vetRecords&quot;: null\n}]\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;{id}/animals&quot;)\n    public AnimalDto createAnimal(@PathVariable Long id,\n                                  @Validated(OnCreate.class) @RequestBody AnimalDto animalDto) {\n        Animal animal = animalMapper.toEntity(animalDto);\n        Animal createdAnimal = animalService.create(animal, id);\n        return animalMapper.toDto(createdAnimal);\n    }\n</code></pre>\n<p>DTO:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AnimalDto {\n    @NotNull(message = &quot;Id must be not null&quot;, groups = OnUpdate.class)\n    private Long id;\n\n    @NotNull(message = &quot;Animal name must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\n    @Length(max = 256, message = &quot;Animal name must be less than 256 symbols&quot;)\n    private String nickname;\n\n    @NotNull(message = &quot;Animal kind must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\n    @Length(max = 256, message = &quot;Animal kind must be less than 256 symbols&quot;)\n    private String kind;\n\n    @NotNull(message = &quot;Animal age must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\n    private Date birthday;\n\n    private List&lt;VetRecord&gt; vetRecords;\n}\n</code></pre>\n<p>Entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Animal {\n\n    private Long id;\n    private String nickname;\n    private String kind;\n    private Date birthday;\n    private List&lt;VetRecord&gt; vetRecords;\n}\n</code></pre>\n<p>Mapper (MapStruct):</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface AnimalMapper {\n\n    AnimalDto toDto(Animal animal);\n\n    List&lt;AnimalDto&gt; toDto(List&lt;Animal&gt; animals);\n\n    Animal toEntity(AnimalDto animalDto);\n}\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":104665,"reputation":15134,"user_id":279691,"accept_rate":83,"display_name":"Betamoo"},"score":0,"creation_date":1275995994,"post_id":408820,"comment_id":3060420,"body_markdown":"Related: http://stackoverflow.com/questions/2994304/is-java-swing-still-in-use/2994324#2994324","body":"Related: <a href=\"http://stackoverflow.com/questions/2994304/is-java-swing-still-in-use/2994324#2994324\" title=\"is java swing still in use\">stackoverflow.com/questions/2994304/is-java-swing-still-in-u&zwnj;&#8203;se/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1230976138,"creation_date":1230976138,"answer_id":408828,"question_id":408820,"body_markdown":"[Swing vs AWT][1].  Basically AWT came first and is a set of heavyweight UI components (meaning they are wrappers for operating system objects) whereas Swing built on top of AWT with a richer set of lightweight components.\r\n\r\nAny serious Java UI work is done in Swing not AWT, which was primarily used for applets.\r\n\r\n\r\n  [1]: http://dn.codegear.com/article/26970","title":"What is the difference between Swing and AWT?","body":"<p><a href=\"http://dn.codegear.com/article/26970\" rel=\"noreferrer\">Swing vs AWT</a>.  Basically AWT came first and is a set of heavyweight UI components (meaning they are wrappers for operating system objects) whereas Swing built on top of AWT with a richer set of lightweight components.</p>\n\n<p>Any serious Java UI work is done in Swing not AWT, which was primarily used for applets.</p>\n"},{"tags":[],"owner":{"account_id":9733,"reputation":98806,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"down_vote_count":0,"up_vote_count":256,"is_accepted":true,"score":256,"last_activity_date":1375212200,"creation_date":1230976291,"answer_id":408830,"question_id":408820,"body_markdown":"AWT is a Java interface to native system GUI code present in your OS. It will not work the same on every system, although it tries.\r\n\r\nSwing is a more-or-less pure-Java GUI. It uses AWT to create an operating system window and then paints pictures of buttons, labels, text, checkboxes, etc., into that window and responds to all of your mouse-clicks, key entries, etc., deciding for itself what to do instead of letting the operating system handle it. Thus Swing is 100% portable and is the same across platforms (although it is skinnable and has a &quot;pluggable look and feel&quot; that can make it look more or less like how the native windows and widgets would look).\r\n\r\nThese are vastly different approaches to GUI toolkits and have a lot of consequences. A full answer to your question would try to explore all of those. :)  Here are a couple:\r\n\r\nAWT is a cross-platform interface, so even though it uses the underlying OS or native GUI toolkit for its functionality, it doesn&#39;t provide access to everything that those toolkits can do. Advanced or newer AWT widgets that might exist on one platform might not be supported on another. Features of widgets that aren&#39;t the same on every platform might not be supported, or worse, they might work differently on each platform. People used to invest lots of effort to get their AWT applications to work consistently across platforms - for instance, they may try to make calls into native code from Java.\r\n\r\nBecause AWT uses native GUI widgets, your OS knows about them and handles putting them in front of each other, etc., whereas Swing widgets are meaningless pixels within a window from your OS&#39;s point of view. Swing itself handles your widgets&#39; layout and stacking.  Mixing AWT and Swing is highly unsupported and can lead to ridiculous results, such as native buttons that obscure everything else in the dialog box in which they reside because everything else was created with Swing.\r\n\r\nBecause Swing tries to do everything possible in Java other than the very raw graphics routines provided by a native GUI window, it used to incur quite a performance penalty compared to AWT. This made Swing unfortunately slow to catch on. However, this has shrunk dramatically over the last several years due to more optimized JVMs, faster machines, and (I presume) optimization of the Swing internals. Today a Swing application can run fast enough to be serviceable or even zippy, and almost indistinguishable from an application using native widgets. Some will say it took far too long to get to this point, but most will say that it is well worth it.\r\n\r\nFinally, you might also want to check out SWT (the GUI toolkit used for Eclipse, and an alternative to both AWT and Swing), which is somewhat of a return to the AWT idea of accessing native Widgets through Java.","title":"What is the difference between Swing and AWT?","body":"<p>AWT is a Java interface to native system GUI code present in your OS. It will not work the same on every system, although it tries.</p>\n\n<p>Swing is a more-or-less pure-Java GUI. It uses AWT to create an operating system window and then paints pictures of buttons, labels, text, checkboxes, etc., into that window and responds to all of your mouse-clicks, key entries, etc., deciding for itself what to do instead of letting the operating system handle it. Thus Swing is 100% portable and is the same across platforms (although it is skinnable and has a \"pluggable look and feel\" that can make it look more or less like how the native windows and widgets would look).</p>\n\n<p>These are vastly different approaches to GUI toolkits and have a lot of consequences. A full answer to your question would try to explore all of those. :)  Here are a couple:</p>\n\n<p>AWT is a cross-platform interface, so even though it uses the underlying OS or native GUI toolkit for its functionality, it doesn't provide access to everything that those toolkits can do. Advanced or newer AWT widgets that might exist on one platform might not be supported on another. Features of widgets that aren't the same on every platform might not be supported, or worse, they might work differently on each platform. People used to invest lots of effort to get their AWT applications to work consistently across platforms - for instance, they may try to make calls into native code from Java.</p>\n\n<p>Because AWT uses native GUI widgets, your OS knows about them and handles putting them in front of each other, etc., whereas Swing widgets are meaningless pixels within a window from your OS's point of view. Swing itself handles your widgets' layout and stacking.  Mixing AWT and Swing is highly unsupported and can lead to ridiculous results, such as native buttons that obscure everything else in the dialog box in which they reside because everything else was created with Swing.</p>\n\n<p>Because Swing tries to do everything possible in Java other than the very raw graphics routines provided by a native GUI window, it used to incur quite a performance penalty compared to AWT. This made Swing unfortunately slow to catch on. However, this has shrunk dramatically over the last several years due to more optimized JVMs, faster machines, and (I presume) optimization of the Swing internals. Today a Swing application can run fast enough to be serviceable or even zippy, and almost indistinguishable from an application using native widgets. Some will say it took far too long to get to this point, but most will say that it is well worth it.</p>\n\n<p>Finally, you might also want to check out SWT (the GUI toolkit used for Eclipse, and an alternative to both AWT and Swing), which is somewhat of a return to the AWT idea of accessing native Widgets through Java.</p>\n"},{"tags":[],"owner":{"account_id":19561,"reputation":886,"user_id":45934,"accept_rate":100,"display_name":"Access Denied"},"down_vote_count":2,"up_vote_count":39,"is_accepted":false,"score":37,"last_activity_date":1467815582,"creation_date":1230979699,"answer_id":408884,"question_id":408820,"body_markdown":" The base difference that which already everyone mentioned is that one is **heavy weight** and other is **light weight**. Let me explain, basically what the term heavy weight means is that when you&#39;re using the awt components the native code used for getting the view component **is generated by the Operating System**, thats why it the look and feel changes **from OS to OS.** Where as in swing components its the responsibility of **JVM to generate the view for the components.** Another statement which i saw is that **swing is MVC based and awt is not.**\r\n","title":"What is the difference between Swing and AWT?","body":"<p>The base difference that which already everyone mentioned is that one is <strong>heavy weight</strong> and other is <strong>light weight</strong>. Let me explain, basically what the term heavy weight means is that when you're using the awt components the native code used for getting the view component <strong>is generated by the Operating System</strong>, thats why it the look and feel changes <strong>from OS to OS.</strong> Where as in swing components its the responsibility of <strong>JVM to generate the view for the components.</strong> Another statement which i saw is that <strong>swing is MVC based and awt is not.</strong></p>\n"},{"tags":[],"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1246935410,"creation_date":1246935410,"answer_id":1090158,"question_id":408820,"body_markdown":"As far as when AWT may be more useful than Swing -\r\n\r\n - you may be targeting an older JVM or platform that doesn&#39;t support Swing. This used to really come into play if you were building Applets - you wanted to target the lowest common denominator so people wouldn&#39;t have to install a newer Java plugin.  I&#39;m not sure what the current most widely installed version of the Java plugin is - this may be different today.\r\n - some people prefer the native look of AWT over Swing&#39;s &#39;not quite there&#39; platform skins. (There are better 3rd party native looking skins than Swing&#39;s implementations BTW) Lots of people preferred using AWT&#39;s FileDialog over Swing&#39;s FileChooser because it gave the platform file dialog most people were used to rather than the &#39;weird&#39; custom Swing one.","title":"What is the difference between Swing and AWT?","body":"<p>As far as when AWT may be more useful than Swing -</p>\n\n<ul>\n<li>you may be targeting an older JVM or platform that doesn't support Swing. This used to really come into play if you were building Applets - you wanted to target the lowest common denominator so people wouldn't have to install a newer Java plugin.  I'm not sure what the current most widely installed version of the Java plugin is - this may be different today.</li>\n<li>some people prefer the native look of AWT over Swing's 'not quite there' platform skins. (There are better 3rd party native looking skins than Swing's implementations BTW) Lots of people preferred using AWT's FileDialog over Swing's FileChooser because it gave the platform file dialog most people were used to rather than the 'weird' custom Swing one.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2311193,"reputation":67,"user_id":2029285,"display_name":"arsh"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1536853411,"creation_date":1359640290,"answer_id":14627362,"question_id":408820,"body_markdown":" - swing component provide much flexible user interface because it\r\n   follow model view controller(mvc).\r\n - awt is not mvc based.\r\n - swing works faster.\r\n - awt does not work faster.\r\n - swing components are light weight.\r\n - awt components are heavy weight.\r\n - swing occupies less memory space.\r\n - awt occupies more memory space.\r\n - swing component is platform independent.\r\n - awt is platform dependent.\r\n - swing require javax.swing package.\r\n - awt require javax.awt package.","title":"What is the difference between Swing and AWT?","body":"<ul>\n<li>swing component provide much flexible user interface because it\nfollow model view controller(mvc).</li>\n<li>awt is not mvc based.</li>\n<li>swing works faster.</li>\n<li>awt does not work faster.</li>\n<li>swing components are light weight.</li>\n<li>awt components are heavy weight.</li>\n<li>swing occupies less memory space.</li>\n<li>awt occupies more memory space.</li>\n<li>swing component is platform independent.</li>\n<li>awt is platform dependent.</li>\n<li>swing require javax.swing package.</li>\n<li>awt require javax.awt package.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2397493,"reputation":81,"user_id":2096024,"display_name":"deepika"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1390080290,"creation_date":1361459937,"answer_id":15005785,"question_id":408820,"body_markdown":"**Swing:**\r\n\r\n1. Swing is part of the java foundation classes.\r\n2. Swing components are platform-independent.\r\n3. Swing components are lightweight components because swing sits on the top of awt.\r\n\r\n**AWT:**\r\n\r\n1. AWT is called the abstract window tool.\r\n2. AWT components are platform-dependent.\r\n3. AWT components are heavyweight components.","title":"What is the difference between Swing and AWT?","body":"<p><strong>Swing:</strong></p>\n\n<ol>\n<li>Swing is part of the java foundation classes.</li>\n<li>Swing components are platform-independent.</li>\n<li>Swing components are lightweight components because swing sits on the top of awt.</li>\n</ol>\n\n<p><strong>AWT:</strong></p>\n\n<ol>\n<li>AWT is called the abstract window tool.</li>\n<li>AWT components are platform-dependent.</li>\n<li>AWT components are heavyweight components.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2622856,"reputation":39,"user_id":2270515,"display_name":"B.DastagiriReddy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1365687465,"creation_date":1365687465,"answer_id":15950286,"question_id":408820,"body_markdown":"**AWT**\r\n1 . AWT occupies more memory space\r\n2 . AWT is platform dependent\r\n3 . AWT require javax.awt package\r\n\r\n**swings**\r\n1 . Swing occupies less memory space\r\n2 . Swing component is platform independent\r\n3 . Swing requires javax.swing package\r\n\r\n","title":"What is the difference between Swing and AWT?","body":"<p><strong>AWT</strong>\n1 . AWT occupies more memory space\n2 . AWT is platform dependent\n3 . AWT require javax.awt package</p>\n\n<p><strong>swings</strong>\n1 . Swing occupies less memory space\n2 . Swing component is platform independent\n3 . Swing requires javax.swing package</p>\n"},{"tags":[],"owner":{"account_id":2830118,"reputation":101,"user_id":2431861,"display_name":"Surendra Bharadwaj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1391753405,"creation_date":1369820121,"answer_id":16810355,"question_id":408820,"body_markdown":"Several consequences result from this difference between AWT and Swing.\r\n\r\nAWT is a thin layer of code on top of the OS, whereas Swing is much larger.\r\nSwing also has very much richer functionality. Using AWT, you have to\r\nimplement a lot of things yourself, while Swing has them built in. For\r\nGUI-intensive work, AWT feels very primitive to work with compared to Swing.\r\nBecause Swing implements GUI functionality itself rather than relying on the\r\nhost OS, it can offer a richer environment on all platforms Java runs on.\r\nAWT is more limited in supplying the same functionality on all platforms\r\nbecause not all platforms implement the same-looking controls in the same\r\nways.\r\n\r\nSwing components are called &quot;lightweight&quot; because they do not require a\r\nnative OS object to implement their functionality. `JDialog` and `JFrame` are\r\nheavyweight, because they do have a peer. So components like `JButton`,\r\n`JTextArea`, etc., are lightweight because they do not have an OS peer.\r\n\r\n\r\n\r\n&gt; A **peer** is a widget provided by the operating system, such as a\r\n&gt; button object or an entry field object.\r\n\r\n","title":"What is the difference between Swing and AWT?","body":"<p>Several consequences result from this difference between AWT and Swing.</p>\n\n<p>AWT is a thin layer of code on top of the OS, whereas Swing is much larger.\nSwing also has very much richer functionality. Using AWT, you have to\nimplement a lot of things yourself, while Swing has them built in. For\nGUI-intensive work, AWT feels very primitive to work with compared to Swing.\nBecause Swing implements GUI functionality itself rather than relying on the\nhost OS, it can offer a richer environment on all platforms Java runs on.\nAWT is more limited in supplying the same functionality on all platforms\nbecause not all platforms implement the same-looking controls in the same\nways.</p>\n\n<p>Swing components are called \"lightweight\" because they do not require a\nnative OS object to implement their functionality. <code>JDialog</code> and <code>JFrame</code> are\nheavyweight, because they do have a peer. So components like <code>JButton</code>,\n<code>JTextArea</code>, etc., are lightweight because they do not have an OS peer.</p>\n\n<blockquote>\n  <p>A <strong>peer</strong> is a widget provided by the operating system, such as a\n  button object or an entry field object.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18572672,"reputation":378,"user_id":14229006,"display_name":"Nine Tails"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606483098,"creation_date":1606482745,"answer_id":65037967,"question_id":408820,"body_markdown":"Java 8\r\n# Swing\r\n\r\n - It is a part of Java Foundation Classes\r\n - Swing is built on AWT\r\n - Swing components are lightweight\r\n - Swing supports pluggable look and feel\r\n - Platform independent\r\n - Uses MVC : Model-View-Controller architecture\r\n - package : javax.swing\r\n - Unlike Swing’s other components,\r\nwhich are lightweight, the top-level containers are heavyweight.\r\n\r\n# AWT - Abstract Window Toolkit\r\n\r\n - Platform dependent\r\n - AWT components are heavyweight\r\n - package java.awt\r\n\r\n","title":"What is the difference between Swing and AWT?","body":"<p>Java 8</p>\n<h1>Swing</h1>\n<ul>\n<li>It is a part of Java Foundation Classes</li>\n<li>Swing is built on AWT</li>\n<li>Swing components are lightweight</li>\n<li>Swing supports pluggable look and feel</li>\n<li>Platform independent</li>\n<li>Uses MVC : Model-View-Controller architecture</li>\n<li>package : javax.swing</li>\n<li>Unlike Swing’s other components,\nwhich are lightweight, the top-level containers are heavyweight.</li>\n</ul>\n<h1>AWT - Abstract Window Toolkit</h1>\n<ul>\n<li>Platform dependent</li>\n<li>AWT components are heavyweight</li>\n<li>package java.awt</li>\n</ul>\n"}],"owner":{"account_id":14374,"reputation":6122,"user_id":29515,"accept_rate":72,"display_name":"Samiksha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232760,"favorite_count":0,"down_vote_count":2,"up_vote_count":248,"accepted_answer_id":408830,"answer_count":9,"score":246,"last_activity_date":1682170223,"creation_date":1230975785,"question_id":408820,"body_markdown":"Can someone please explain me what&#39;s the difference between Swing and AWT?\r\n\r\nAre there any cases where AWT is more useful/advised to use than swing or vice-versa?","title":"What is the difference between Swing and AWT?","body":"<p>Can someone please explain me what's the difference between Swing and AWT?</p>\n\n<p>Are there any cases where AWT is more useful/advised to use than swing or vice-versa?</p>\n"},{"tags":["java","maven","maven-archetype"],"comments":[{"owner":{"account_id":5011487,"reputation":1319,"user_id":4027644,"display_name":"Niveathika"},"score":0,"creation_date":1556216646,"post_id":47346613,"comment_id":98372358,"body_markdown":"Did you find a solution for this?","body":"Did you find a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":15208882,"reputation":395,"user_id":10974363,"display_name":"Squake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560523222,"creation_date":1560523222,"answer_id":56600391,"question_id":47346613,"body_markdown":"It does not seem you can actually do that: https://maven.apache.org/archetype/archetype-models/archetype-descriptor/archetype-descriptor.html#class_requiredProperty\r\n\r\nAccording the documentation you can specify a default or a validation regex. If they are declared you will be prompted with de default value.","title":"Maven custom archetype: Is there a way to have properties not prompted to the user?","body":"<p>It does not seem you can actually do that: <a href=\"https://maven.apache.org/archetype/archetype-models/archetype-descriptor/archetype-descriptor.html#class_requiredProperty\" rel=\"nofollow noreferrer\">https://maven.apache.org/archetype/archetype-models/archetype-descriptor/archetype-descriptor.html#class_requiredProperty</a></p>\n\n<p>According the documentation you can specify a default or a validation regex. If they are declared you will be prompted with de default value.</p>\n"},{"tags":[],"owner":{"account_id":5697859,"reputation":1,"user_id":4503843,"display_name":"DavidH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682169142,"creation_date":1681828036,"answer_id":76045820,"question_id":47346613,"body_markdown":"It looks like this functionality is now supported.\r\n\r\nIf you specify a default value, it will not be prompted for unless you specify \r\n\r\n`-DaskForDefaultPropertyValues`\r\n\r\nFound a reference to it in the source code:\r\n\r\nhttps://github.com/apache/maven-archetype/blob/master/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java\r\n\r\nAlso in the documentation :\r\n\r\nhttps://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html","title":"Maven custom archetype: Is there a way to have properties not prompted to the user?","body":"<p>It looks like this functionality is now supported.</p>\n<p>If you specify a default value, it will not be prompted for unless you specify</p>\n<p><code>-DaskForDefaultPropertyValues</code></p>\n<p>Found a reference to it in the source code:</p>\n<p><a href=\"https://github.com/apache/maven-archetype/blob/master/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-archetype/blob/master/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java</a></p>\n<p>Also in the documentation :</p>\n<p><a href=\"https://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html</a></p>\n"}],"owner":{"account_id":10934050,"reputation":31,"user_id":8036322,"display_name":"Pablo Portillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682169142,"creation_date":1510908834,"question_id":47346613,"body_markdown":"So I am doing an archetype and I want to use some properties but don&#180;t want them to be prompted to the user.\r\n\r\nSo for example, I have this code:\r\n\r\n        \t \r\n        &lt;requiredProperty key=&quot;grupo&quot;&gt;\r\n        \t&lt;defaultValue&gt;${artifactId.substring(0,8).toLowerCase()}&lt;/defaultValue&gt;\r\n    \t&lt;/requiredProperty&gt;\r\n\r\nAnd I want to use the defaultValue for the parameter grupo WITHOUT asking the user to accept it as the default value.\r\n\r\nThis question was already asked: https://stackoverflow.com/questions/34021316/maven-create-archetype-is-there-a-way-to-declare-properties-defaulted-to-a-val But it was not answered.\r\n\r\nThank you very much for your time","title":"Maven custom archetype: Is there a way to have properties not prompted to the user?","body":"<p>So I am doing an archetype and I want to use some properties but don´t want them to be prompted to the user.</p>\n\n<p>So for example, I have this code:</p>\n\n<pre><code>    &lt;requiredProperty key=\"grupo\"&gt;\n        &lt;defaultValue&gt;${artifactId.substring(0,8).toLowerCase()}&lt;/defaultValue&gt;\n    &lt;/requiredProperty&gt;\n</code></pre>\n\n<p>And I want to use the defaultValue for the parameter grupo WITHOUT asking the user to accept it as the default value.</p>\n\n<p>This question was already asked: <a href=\"https://stackoverflow.com/questions/34021316/maven-create-archetype-is-there-a-way-to-declare-properties-defaulted-to-a-val\">Maven create archetype: Is there a way to declare properties (defaulted to a value) so as not to have them prompted?</a> But it was not answered.</p>\n\n<p>Thank you very much for your time</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682164959,"creation_date":1682164959,"answer_id":76079528,"question_id":76079496,"body_markdown":"As per my understanding, Lombok `@NoArgsConstructor` will generate a `no arguments/default constructor`, by default generated constructor will be `public`.\r\n\r\n    @NoArgsConstructor\r\n    public class NoArgsDemo {\r\n    \r\n      private Long id; \r\n      private String username;\r\n    }\r\n\r\nFrom the docs, \r\n\r\n&gt; @NoArgsConstructor will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless @NoArgsConstructor(force = true) is used, then all final fields are initialized with 0 / false / null.\r\n\r\nReference link: [Lombok NoArgsConstructor][1]\r\n\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"Lombok @Value with public no-args constructor","body":"<p>As per my understanding, Lombok <code>@NoArgsConstructor</code> will generate a <code>no arguments/default constructor</code>, by default generated constructor will be <code>public</code>.</p>\n<pre><code>@NoArgsConstructor\npublic class NoArgsDemo {\n\n  private Long id; \n  private String username;\n}\n</code></pre>\n<p>From the docs,</p>\n<blockquote>\n<p>@NoArgsConstructor will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless @NoArgsConstructor(force = true) is used, then all final fields are initialized with 0 / false / null.</p>\n</blockquote>\n<p>Reference link: <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">Lombok NoArgsConstructor</a></p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682167766,"creation_date":1682167766,"answer_id":76079721,"question_id":76079496,"body_markdown":"You should annotate the class `@NoArgsConstructor(force = true)`. Using just `@NoArgsConstructor` will cause a compiler error, because `@Value` makes the fields final.\r\n\r\nFrom the [documentation][1]. \r\n\r\n&gt; `@NoArgsConstructor` will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless `@NoArgsConstructor(force = true)` is used, then all final fields are initialized with 0 / false / null. \r\n\r\nAlso note that:\r\n\r\n&gt; For fields with constraints, such as `@NonNull` fields, no check is generated, so be aware that these constraints will generally not be fulfilled until those fields are properly initialized later.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"Lombok @Value with public no-args constructor","body":"<p>You should annotate the class <code>@NoArgsConstructor(force = true)</code>. Using just <code>@NoArgsConstructor</code> will cause a compiler error, because <code>@Value</code> makes the fields final.</p>\n<p>From the <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<blockquote>\n<p><code>@NoArgsConstructor</code> will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless <code>@NoArgsConstructor(force = true)</code> is used, then all final fields are initialized with 0 / false / null.</p>\n</blockquote>\n<p>Also note that:</p>\n<blockquote>\n<p>For fields with constraints, such as <code>@NonNull</code> fields, no check is generated, so be aware that these constraints will generally not be fulfilled until those fields are properly initialized later.</p>\n</blockquote>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682167766,"creation_date":1682164446,"question_id":76079496,"body_markdown":"I have the below `Occurrence` class, i added the `@Value` annotation to make it immutable, and i set extraPrivate to true for to add a private no-args constructor.\r\n\r\n    @Builder\r\n    @Value\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    public class Occurrence {\r\n      .....\r\n    }\r\n\r\n**lombok.config**\r\n\r\n    config.stopBubbling = true\r\n    lombok.getter.noIsPrefix = true\r\n    lombok.noArgsConstructor.extraPrivate = true\r\n\r\nIs there a way to add a **public no-args constructor** ?","title":"Lombok @Value with public no-args constructor","body":"<p>I have the below <code>Occurrence</code> class, i added the <code>@Value</code> annotation to make it immutable, and i set extraPrivate to true for to add a private no-args constructor.</p>\n<pre><code>@Builder\n@Value\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\npublic class Occurrence {\n  .....\n}\n</code></pre>\n<p><strong>lombok.config</strong></p>\n<pre><code>config.stopBubbling = true\nlombok.getter.noIsPrefix = true\nlombok.noArgsConstructor.extraPrivate = true\n</code></pre>\n<p>Is there a way to add a <strong>public no-args constructor</strong> ?</p>\n"},{"tags":["java","decrement"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682167142,"post_id":76079657,"comment_id":134174530,"body_markdown":"&quot;the value is used before getting change&quot; exactly - the value still changes. Why did you expect the value to stay at 10, when the second `a--` is run?","body":"&quot;the value is used before getting change&quot; exactly - the value still changes. Why did you expect the value to stay at 10, when the second <code>a--</code> is run?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1682167617,"post_id":76079657,"comment_id":134174593,"body_markdown":"The real-world output is &quot;your pull request is rejected; reformulate that expression for clarity&quot;.","body":"The real-world output is &quot;your pull request is rejected; reformulate that expression for clarity&quot;."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682168929,"post_id":76079657,"comment_id":134174793,"body_markdown":"The operands used in a multiplication are evaluated left to right. Evaluating the left `a--` yields 10 as you expected and decrements `a` to 9. Now I leave to you what happens when the right operands is evaluated. :-)","body":"The operands used in a multiplication are evaluated left to right. Evaluating the left <code>a--</code> yields 10 as you expected and decrements <code>a</code> to 9. Now I leave to you what happens when the right operands is evaluated. :-)"}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682167366,"creation_date":1682167366,"answer_id":76079688,"question_id":76079657,"body_markdown":"Java sees `A * B`, so it first needs to compute both arguments, A and B.\r\n\r\nThe left operand (A) `a--` is executed, making `a = 9`, but **returning the value it had before**, so `10`.\r\n\r\nWe now have `10 * a--`. Next, Java executes the right operand (B) and we get `a = 8`, but we use the value it had before the decrement, so `9`.\r\n\r\nWe get `10 * 9`, which is `90`. And `a = 8`.","title":"Post decrement, what is a-- * a--?","body":"<p>Java sees <code>A * B</code>, so it first needs to compute both arguments, A and B.</p>\n<p>The left operand (A) <code>a--</code> is executed, making <code>a = 9</code>, but <strong>returning the value it had before</strong>, so <code>10</code>.</p>\n<p>We now have <code>10 * a--</code>. Next, Java executes the right operand (B) and we get <code>a = 8</code>, but we use the value it had before the decrement, so <code>9</code>.</p>\n<p>We get <code>10 * 9</code>, which is <code>90</code>. And <code>a = 8</code>.</p>\n"}],"owner":{"account_id":28327547,"reputation":1,"user_id":21662339,"display_name":"rahul7214"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1682168152,"answer_count":1,"score":-6,"last_activity_date":1682167510,"creation_date":1682166958,"question_id":76079657,"body_markdown":"&gt; ```java\r\n&gt; int a = 10;\r\n&gt; System.out.println(a-- * a--);\r\n&gt; ```\r\n&gt;\r\n&gt; what will be the output of these print statement and why??\r\n\r\nin post decrement we actually observe that \r\n* the value is used before getting change\r\n\r\nbut here I am getting in one of the operator (a--) is  10 and in another operator (a--) with which we are multiplying is getting 9.\r\n\r\noverall the output which I came across is 100 but the actual output is 90 \r\n\r\nplease explain how?","title":"Post decrement, what is a-- * a--?","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>int a = 10;\nSystem.out.println(a-- * a--);\n</code></pre>\n<p>what will be the output of these print statement and why??</p>\n</blockquote>\n<p>in post decrement we actually observe that</p>\n<ul>\n<li>the value is used before getting change</li>\n</ul>\n<p>but here I am getting in one of the operator (a--) is  10 and in another operator (a--) with which we are multiplying is getting 9.</p>\n<p>overall the output which I came across is 100 but the actual output is 90</p>\n<p>please explain how?</p>\n"},{"tags":["java","docker","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"score":0,"creation_date":1510752706,"post_id":47299204,"comment_id":81567756,"body_markdown":"Btw, i use zookeeper and kafka in docker containers","body":"Btw, i use zookeeper and kafka in docker containers"},{"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"score":5,"creation_date":1511206359,"post_id":47299204,"comment_id":81752697,"body_markdown":"I found my error. When using kafka inside a Docker container, you need to specify the KAFKA_ADVERTISED_HOST_NAME in the yml file. This enables producers and consumers outside of the container to interact with kafka.","body":"I found my error. When using kafka inside a Docker container, you need to specify the KAFKA_ADVERTISED_HOST_NAME in the yml file. This enables producers and consumers outside of the container to interact with kafka."},{"owner":{"account_id":126503,"reputation":2554,"user_id":323044,"accept_rate":26,"display_name":"Alessandro Dionisi"},"score":0,"creation_date":1519224675,"post_id":47299204,"comment_id":84823635,"body_markdown":"Which value did you use?","body":"Which value did you use?"}],"answers":[{"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682167047,"creation_date":1530133987,"answer_id":51071495,"question_id":47299204,"body_markdown":"Using Docker and with Kafka image you need to add the following environment parameters to the container:\r\n\r\n&gt; KAFKA_ZOOKEEPER_CONNECT = X.X.X.X:XXXX (your zookeeper IP or domain : PORT default 2181)\r\n&gt;\r\n&gt; KAFKA_ADVERTISED_HOST_NAME = X.X.X.X (your kafka IP or domain)\r\n&gt;\r\n&gt; KAFKA_ADVERTISED_PORT = XXXX (your kafka PORT number default 9092)\r\n\r\nOptionally:\r\n\r\n&gt; KAFKA_BROKER_ID = 999 (some value) \r\n&gt;\r\n&gt; KAFKA_CREATE_TOPICS=test:1:1 (some topic name to create at start)\r\n\r\nIf it doesn&#39;t work and you still get same message (&quot;Expiring X record(s) for xxxxx: XXXXX ms has passed since batch creation plus linger time&quot;) you can try cleaning the kafka data from zookeeper.","title":"Expiring 1 record(s) for xxxxx: 30030 ms has passed since batch creation plus linger time","body":"<p>Using Docker and with Kafka image you need to add the following environment parameters to the container:</p>\n<blockquote>\n<p>KAFKA_ZOOKEEPER_CONNECT = X.X.X.X:XXXX (your zookeeper IP or domain : PORT default 2181)</p>\n<p>KAFKA_ADVERTISED_HOST_NAME = X.X.X.X (your kafka IP or domain)</p>\n<p>KAFKA_ADVERTISED_PORT = XXXX (your kafka PORT number default 9092)</p>\n</blockquote>\n<p>Optionally:</p>\n<blockquote>\n<p>KAFKA_BROKER_ID = 999 (some value)</p>\n<p>KAFKA_CREATE_TOPICS=test:1:1 (some topic name to create at start)</p>\n</blockquote>\n<p>If it doesn't work and you still get same message (&quot;Expiring X record(s) for xxxxx: XXXXX ms has passed since batch creation plus linger time&quot;) you can try cleaning the kafka data from zookeeper.</p>\n"}],"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8041,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1682167047,"creation_date":1510718756,"question_id":47299204,"body_markdown":"**My use case:**\r\nUsing Postman, I call a Spring boot soap endpoint. The endpoint creates a KafkaProducer and send a message to a specific topic. I also have a TaskScheduler to consume the topic.\r\n\r\n**The problem:**\r\nWhen calling soap to push a message to a topic, I get this error:\r\n\r\n&gt; 2017-11-14 21:29:31.463 ERROR 6389 --- [ad | producer-3]\r\n&gt; DomainEntityProducer                     : Expiring 1 record(s) for\r\n&gt; DomainEntityCommandStream-0: 30030 ms has passed since batch creation\r\n&gt; plus linger time 2017-11-14 21:29:31.464 ERROR 6389 ---\r\n&gt; [nio-8080-exec-6] DomainEntityProducer                     :\r\n&gt; org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s)\r\n&gt; for DomainEntityCommandStream-0: 30030 ms has passed since batch\r\n&gt; creation plus linger time\r\n\r\nHere’s the method I use to push to the topic:\r\n\r\n    public DomainEntity push(DomainEntity pDomainEntity) throws Exception {\r\n        logger.log(Level.INFO, &quot;streaming...&quot;);\r\n        wKafkaProperties.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n        wKafkaProperties.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        wKafkaProperties.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        KafkaProducer wKafkaProducer = new KafkaProducer(wKafkaProperties);\r\n        ProducerRecord wProducerRecord = new ProducerRecord(&quot;DomainEntityCommandStream&quot;, getJSON(pDomainEntity));\r\n        wKafkaProducer.send(wProducerRecord, (RecordMetadata r, Exception e) -&gt; {\r\n            if (e != null) {\r\n                logger.log(Level.SEVERE, e.getMessage());\r\n            }\r\n        }).get();\r\n        return pDomainEntity;\r\n    }\r\n\r\n\r\nUsing command shell scripts \r\n\r\n&gt; ./kafka-console-producer.sh --broker-list 10.0.1.15:9092 --topic\r\n&gt; DomainEntityCommandStream\r\n\r\nand \r\n\r\n&gt; ./kafka-console-consumer.sh --boostrap-server 10.0.1.15:9092 --topic\r\n&gt; DomainEntityCommandStream --from-beginning\r\n\r\nworks very well.\r\n\r\nGoing through some related problems on Stackoverflow, I have tried to purge the topic:\r\n\r\n&gt; ./kafka-topics.sh --zookeeper 10.0.1.15:9092 --alter --topic\r\n&gt; DomainEntityCommandStream --config retention.ms=1000\r\n\r\nLooking at kafka logs, I see that retention time was altered.\r\n\r\nBut, no luck, I get the same error.\r\n\r\nThe payload is ridiculously small, so why should I change batch.size?\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n    \t\t\t\t  xmlns:gs=&quot;http://soap.problem.com&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;gs:streamDomainEntityRequest&gt;\r\n             &lt;gs:domainEntity&gt;\r\n                    &lt;gs:name&gt;12345&lt;/gs:name&gt;\r\n                    &lt;gs:value&gt;Quebec&lt;/gs:value&gt;\r\n                    &lt;gs:version&gt;666&lt;/gs:version&gt;\r\n                &lt;/gs:domainEntity&gt;\r\n          &lt;/gs:streamDomainEntityRequest&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\n","title":"Expiring 1 record(s) for xxxxx: 30030 ms has passed since batch creation plus linger time","body":"<p><strong>My use case:</strong>\nUsing Postman, I call a Spring boot soap endpoint. The endpoint creates a KafkaProducer and send a message to a specific topic. I also have a TaskScheduler to consume the topic.</p>\n\n<p><strong>The problem:</strong>\nWhen calling soap to push a message to a topic, I get this error:</p>\n\n<blockquote>\n  <p>2017-11-14 21:29:31.463 ERROR 6389 --- [ad | producer-3]\n  DomainEntityProducer                     : Expiring 1 record(s) for\n  DomainEntityCommandStream-0: 30030 ms has passed since batch creation\n  plus linger time 2017-11-14 21:29:31.464 ERROR 6389 ---\n  [nio-8080-exec-6] DomainEntityProducer                     :\n  org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s)\n  for DomainEntityCommandStream-0: 30030 ms has passed since batch\n  creation plus linger time</p>\n</blockquote>\n\n<p>Here’s the method I use to push to the topic:</p>\n\n<pre><code>public DomainEntity push(DomainEntity pDomainEntity) throws Exception {\n    logger.log(Level.INFO, \"streaming...\");\n    wKafkaProperties.put(\"bootstrap.servers\", \"localhost:9092\");\n    wKafkaProperties.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n    wKafkaProperties.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n    KafkaProducer wKafkaProducer = new KafkaProducer(wKafkaProperties);\n    ProducerRecord wProducerRecord = new ProducerRecord(\"DomainEntityCommandStream\", getJSON(pDomainEntity));\n    wKafkaProducer.send(wProducerRecord, (RecordMetadata r, Exception e) -&gt; {\n        if (e != null) {\n            logger.log(Level.SEVERE, e.getMessage());\n        }\n    }).get();\n    return pDomainEntity;\n}\n</code></pre>\n\n<p>Using command shell scripts </p>\n\n<blockquote>\n  <p>./kafka-console-producer.sh --broker-list 10.0.1.15:9092 --topic\n  DomainEntityCommandStream</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>./kafka-console-consumer.sh --boostrap-server 10.0.1.15:9092 --topic\n  DomainEntityCommandStream --from-beginning</p>\n</blockquote>\n\n<p>works very well.</p>\n\n<p>Going through some related problems on Stackoverflow, I have tried to purge the topic:</p>\n\n<blockquote>\n  <p>./kafka-topics.sh --zookeeper 10.0.1.15:9092 --alter --topic\n  DomainEntityCommandStream --config retention.ms=1000</p>\n</blockquote>\n\n<p>Looking at kafka logs, I see that retention time was altered.</p>\n\n<p>But, no luck, I get the same error.</p>\n\n<p>The payload is ridiculously small, so why should I change batch.size?</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\n                  xmlns:gs=\"http://soap.problem.com\"&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;gs:streamDomainEntityRequest&gt;\n         &lt;gs:domainEntity&gt;\n                &lt;gs:name&gt;12345&lt;/gs:name&gt;\n                &lt;gs:value&gt;Quebec&lt;/gs:value&gt;\n                &lt;gs:version&gt;666&lt;/gs:version&gt;\n            &lt;/gs:domainEntity&gt;\n      &lt;/gs:streamDomainEntityRequest&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":["java","generics","inheritance"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1682166973,"post_id":76079640,"comment_id":134174505,"body_markdown":"Just declare one type parameter, not two, when declaring the subclass then. Is `public abstract class SubClass1&lt;T&gt; extends BaseClass &lt;T, String&gt;{}` what you are looking for?","body":"Just declare one type parameter, not two, when declaring the subclass then. Is <code>public abstract class SubClass1&lt;T&gt; extends BaseClass &lt;T, String&gt;{}</code> what you are looking for?"}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682167018,"creation_date":1682167018,"answer_id":76079664,"question_id":76079640,"body_markdown":"Sure. The syntax for `SubClass1` would be:\r\n\r\n```java\r\npublic abstract class SubClass1&lt;T&gt; extends BaseClass&lt;T, String&gt; {}\r\n```\r\n\r\nSo not `SubClass1&lt;T, String&gt;`, just `SubClass1&lt;T&gt;`, since that is the only generic parameter for this particular class.","title":"Is it possible define a Java generic class with &lt;T, Class&gt; parameters?","body":"<p>Sure. The syntax for <code>SubClass1</code> would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class SubClass1&lt;T&gt; extends BaseClass&lt;T, String&gt; {}\n</code></pre>\n<p>So not <code>SubClass1&lt;T, String&gt;</code>, just <code>SubClass1&lt;T&gt;</code>, since that is the only generic parameter for this particular class.</p>\n"}],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76079664,"answer_count":1,"score":1,"last_activity_date":1682167018,"creation_date":1682166698,"question_id":76079640,"body_markdown":"I am trying to define a base class as:\r\n\r\n    public abstract class BaseClass &lt;T, R&gt; implements Interface1 &lt;T&gt;, Interface2 &lt;R&gt;{}\r\nand in a subclass do \r\n\r\n    public abstract class SubClass1 &lt;T, String&gt;extends BaseClass &lt;T, String&gt;{}\r\n\r\nBasically fix one parameter type and keep the other 1 generic for whoever extends SubClass1.\r\nIs it possible to do so?","title":"Is it possible define a Java generic class with &lt;T, Class&gt; parameters?","body":"<p>I am trying to define a base class as:</p>\n<pre><code>public abstract class BaseClass &lt;T, R&gt; implements Interface1 &lt;T&gt;, Interface2 &lt;R&gt;{}\n</code></pre>\n<p>and in a subclass do</p>\n<pre><code>public abstract class SubClass1 &lt;T, String&gt;extends BaseClass &lt;T, String&gt;{}\n</code></pre>\n<p>Basically fix one parameter type and keep the other 1 generic for whoever extends SubClass1.\nIs it possible to do so?</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"owner":{"account_id":28363017,"reputation":11,"user_id":21692743,"display_name":"Dhruv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682166885,"creation_date":1682150051,"question_id":76078582,"body_markdown":"I am using Spring Kafka in my application, and when the load is too high, it throws the timeout exception:\r\n\r\n```\r\nException: Expiring XX record(s) for topic_name: 600904 ms has passed since batch creation plus linger time at org.springframework.kafka.core.KafkaTemplate.lambda\r\norg.apache.kafka.common.errors.TimeoutException: Expiring 54 record(s) for topic_name: 600904 ms has passed since batch creation plus linger time\r\n```\r\n\r\nI have tried with multiple producer configurations.\r\n\r\n`Changed linger.ms to 0,10,100 and 1000.\r\nChanged batch.size to 131072 and 65000\r\nIncreased the request.timeout.ms to 100000 and 600000`\r\nRest, all the configs are mostly the default ones.\r\n\r\nBy changing these properties, we are reducing or delaying the errors a bit, but still not completely eliminating them.\r\n\r\nI am using the Kafka send() method with a callback. I have tried calling this method async as well, but still no luck.\r\n\r\nEach message would be around 4-6 KB. And 2-3 millions of messages are sent in a short span of time. We have a total of 10 partitions.\r\n\r\nI have seen that calling flush() can help in this case, but that will reduce the performance and increase the sending time.\r\n\r\nIs there anything else apart the configurations which can be done to fix this issue ? \r\nOr if there is any other configuration which needs to be changed ?","title":"Kafka throwing timeout error on high load with error : org.apache.kafka.common.errors.TimeoutException","body":"<p>I am using Spring Kafka in my application, and when the load is too high, it throws the timeout exception:</p>\n<pre><code>Exception: Expiring XX record(s) for topic_name: 600904 ms has passed since batch creation plus linger time at org.springframework.kafka.core.KafkaTemplate.lambda\norg.apache.kafka.common.errors.TimeoutException: Expiring 54 record(s) for topic_name: 600904 ms has passed since batch creation plus linger time\n</code></pre>\n<p>I have tried with multiple producer configurations.</p>\n<p><code>Changed linger.ms to 0,10,100 and 1000. Changed batch.size to 131072 and 65000 Increased the request.timeout.ms to 100000 and 600000</code>\nRest, all the configs are mostly the default ones.</p>\n<p>By changing these properties, we are reducing or delaying the errors a bit, but still not completely eliminating them.</p>\n<p>I am using the Kafka send() method with a callback. I have tried calling this method async as well, but still no luck.</p>\n<p>Each message would be around 4-6 KB. And 2-3 millions of messages are sent in a short span of time. We have a total of 10 partitions.</p>\n<p>I have seen that calling flush() can help in this case, but that will reduce the performance and increase the sending time.</p>\n<p>Is there anything else apart the configurations which can be done to fix this issue ?\nOr if there is any other configuration which needs to be changed ?</p>\n"},{"tags":["java","sql","postgresql"],"comments":[{"owner":{"account_id":403207,"reputation":32989,"user_id":770830,"accept_rate":71,"display_name":"bereal"},"score":3,"creation_date":1679474018,"post_id":75809898,"comment_id":133726641,"body_markdown":"It is likely a parameterized query, what library/language are you using?","body":"It is likely a parameterized query, what library/language are you using?"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679476545,"creation_date":1679476545,"answer_id":75810309,"question_id":75809898,"body_markdown":"This is a parameterized query. `?1` is a parameter that need to be provided when executing the query.\r\n\r\nSince it is a delete query it doesn&#39;t fetch anything.\r\nThe expression `region = ?1` matches those rows where the value of region is the same as the value provided for the parameter.\r\n\r\nHow you provide the parameter depends on the environment you are working in. \r\nMost of the time you encounter this kind of construct when using SQL in other general purpose languages like C, Python, or Java.\r\n","title":"Delete from stu where region = ?1","body":"<p>This is a parameterized query. <code>?1</code> is a parameter that need to be provided when executing the query.</p>\n<p>Since it is a delete query it doesn't fetch anything.\nThe expression <code>region = ?1</code> matches those rows where the value of region is the same as the value provided for the parameter.</p>\n<p>How you provide the parameter depends on the environment you are working in.\nMost of the time you encounter this kind of construct when using SQL in other general purpose languages like C, Python, or Java.</p>\n"}],"owner":{"account_id":24863817,"reputation":21,"user_id":18739201,"display_name":"chandana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75810309,"answer_count":1,"score":0,"last_activity_date":1682166714,"creation_date":1679473788,"question_id":75809898,"body_markdown":"`delete from stu where region = ?1`\r\n\r\nCan anyone help me to understand this query?\r\n\r\n\r\n`=?` (what type of data,it will fetch)","title":"Delete from stu where region = ?1","body":"<p><code>delete from stu where region = ?1</code></p>\n<p>Can anyone help me to understand this query?</p>\n<p><code>=?</code> (what type of data,it will fetch)</p>\n"},{"tags":["java","loops","filter","foreach","stream"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682163490,"post_id":76079404,"comment_id":134174133,"body_markdown":"What is the criterion for a cart item to match a master list item? Are there any matches in your example data?","body":"What is the criterion for a cart item to match a master list item? Are there any matches in your example data?"},{"owner":{"account_id":28378885,"reputation":1,"user_id":21706482,"display_name":"Sandy Java "},"score":0,"creation_date":1682163638,"post_id":76079404,"comment_id":134174148,"body_markdown":"The item name in master list should match the name in the itemId and the price should match. There are other attributes in the cart items, but they are not used in comparison. Hence I have not shown them. In the example, the customer ID 123 matches with the master list.","body":"The item name in master list should match the name in the itemId and the price should match. There are other attributes in the cart items, but they are not used in comparison. Hence I have not shown them. In the example, the customer ID 123 matches with the master list."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682165394,"post_id":76079404,"comment_id":134174330,"body_markdown":"Ah, so `itemId` is the concatenation of `customerId` and `itemName` with a hyphen in between. I understand why I didn’t see this readily. I recommend you edit your question and explain.","body":"Ah, so <code>itemId</code> is the concatenation of <code>customerId</code> and <code>itemName</code> with a hyphen in between. I understand why I didn’t see this readily. I recommend you edit your question and explain."}],"answers":[{"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682163795,"creation_date":1682163795,"answer_id":76079461,"question_id":76079404,"body_markdown":"Yes, You can use Java streams to solve this, Try this code in your code :\r\n\r\n    List&lt;Customer&gt; customersWithAllItems = customers.stream()\r\n                .filter(customer -&gt; {\r\n            List&lt;String&gt; customerItemNames = customer.getCartItems().stream()\r\n                .map(item -&gt; item.getItemId().split(&quot;-&quot;)[1]) \r\n                .collect(Collectors.toList());\r\n            List&lt;String&gt; masterItemNames = masterListItems.stream()\r\n                .map(Item::getItemName)\r\n                .collect(Collectors.toList());\r\n            return masterItemNames.containsAll(customerItemNames);\r\n        })\r\n                .collect(Collectors.toList());\r\n\r\n ","title":"Java stream to compare elements of two lists and find matches","body":"<p>Yes, You can use Java streams to solve this, Try this code in your code :</p>\n<pre><code>List&lt;Customer&gt; customersWithAllItems = customers.stream()\n            .filter(customer -&gt; {\n        List&lt;String&gt; customerItemNames = customer.getCartItems().stream()\n            .map(item -&gt; item.getItemId().split(&quot;-&quot;)[1]) \n            .collect(Collectors.toList());\n        List&lt;String&gt; masterItemNames = masterListItems.stream()\n            .map(Item::getItemName)\n            .collect(Collectors.toList());\n        return masterItemNames.containsAll(customerItemNames);\n    })\n            .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":28378885,"reputation":1,"user_id":21706482,"display_name":"Sandy Java "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682166376,"creation_date":1682162931,"question_id":76079404,"body_markdown":"New to java.\r\nI have two lists - the list of customers with all the items in their cart and the master list of items. The following are the example of the two objects\r\n\r\nCustomer\r\n```\r\n[\r\n{\r\n    &quot;customerId&quot;: 123,\r\n    &quot;cartItems&quot;: [\r\n        {\r\n            &quot;itemId&quot;: &quot;123-XYZ&quot;,\r\n            &quot;itemPrice&quot;: 200\r\n        }, \r\n        {\r\n            &quot;itemId&quot;: &quot;123-ABC&quot;,\r\n            &quot;itemPrice&quot;: 100\r\n        }\r\n    ]\r\n},\r\n{\r\n    &quot;customerId&quot;: 987,\r\n    &quot;cartItems&quot;: [\r\n        {\r\n            &quot;itemId&quot;: &quot;987-XYZ&quot;,\r\n            &quot;itemPrice&quot;: 200\r\n        }\r\n    ]\r\n}\r\n]\r\n```\r\nThe itemID in the customer object contains the customer ID and the item name separated by &quot;-&quot;. \r\n\r\n\r\nMaster list of items\r\n```\r\n[\r\n    {\r\n        &quot;itemName&quot;: &quot;XYZ&quot;,\r\n        &quot;itemPrice&quot;: 200\r\n    },\r\n    {\r\n        &quot;itemName&quot;: &quot;ABC&quot;,\r\n        &quot;itemPrice&quot;: 100\r\n    }\r\n]\r\n```\r\n\r\nI want to compare the two lists and find the customer who has all the items from the master list. The master list is dynamic and can change from time to time. \r\nI am able to execute this using simple for loop with two items in the master list. Kindly suggest if stream function can be used to solve this correctly.\r\n\r\n\r\n```\r\nfor(Customer customer: customers) {\r\n    List&lt;Item&gt; items = customer.getItems();\r\n\r\n    for(Item item: items) {\r\n        if(item.getItemId().contains(masterListItems.getItemName()) &amp; item.getItemPrice().equals(masterListItems.getItemPrice()) {\r\n            System.out.println(&quot;Item found&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Java stream to compare elements of two lists and find matches","body":"<p>New to java.\nI have two lists - the list of customers with all the items in their cart and the master list of items. The following are the example of the two objects</p>\n<p>Customer</p>\n<pre><code>[\n{\n    &quot;customerId&quot;: 123,\n    &quot;cartItems&quot;: [\n        {\n            &quot;itemId&quot;: &quot;123-XYZ&quot;,\n            &quot;itemPrice&quot;: 200\n        }, \n        {\n            &quot;itemId&quot;: &quot;123-ABC&quot;,\n            &quot;itemPrice&quot;: 100\n        }\n    ]\n},\n{\n    &quot;customerId&quot;: 987,\n    &quot;cartItems&quot;: [\n        {\n            &quot;itemId&quot;: &quot;987-XYZ&quot;,\n            &quot;itemPrice&quot;: 200\n        }\n    ]\n}\n]\n</code></pre>\n<p>The itemID in the customer object contains the customer ID and the item name separated by &quot;-&quot;.</p>\n<p>Master list of items</p>\n<pre><code>[\n    {\n        &quot;itemName&quot;: &quot;XYZ&quot;,\n        &quot;itemPrice&quot;: 200\n    },\n    {\n        &quot;itemName&quot;: &quot;ABC&quot;,\n        &quot;itemPrice&quot;: 100\n    }\n]\n</code></pre>\n<p>I want to compare the two lists and find the customer who has all the items from the master list. The master list is dynamic and can change from time to time.\nI am able to execute this using simple for loop with two items in the master list. Kindly suggest if stream function can be used to solve this correctly.</p>\n<pre><code>for(Customer customer: customers) {\n    List&lt;Item&gt; items = customer.getItems();\n\n    for(Item item: items) {\n        if(item.getItemId().contains(masterListItems.getItemName()) &amp; item.getItemPrice().equals(masterListItems.getItemPrice()) {\n            System.out.println(&quot;Item found&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-camel","camel-rest"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1682185366,"post_id":76078350,"comment_id":134176941,"body_markdown":"You should maybe add (in ExceptionProcessor ) a &quot;Content-Type&quot; header with &quot;application/json&quot;","body":"You should maybe add (in ExceptionProcessor ) a &quot;Content-Type&quot; header with &quot;application/json&quot;"}],"owner":{"account_id":9886087,"reputation":51,"user_id":7320571,"display_name":"nik123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682165045,"creation_date":1682145517,"question_id":76078350,"body_markdown":"I am using apache camel to expose rest endpoint from my application.\r\nWhen rest endpoint is successfully executed it is returning expected JSON response like below.\r\n\r\n    {\r\n      &quot;key1&quot;: &quot;value1&quot;,\r\n      &quot;key2&quot;: 123\r\n    }\r\n\r\nwhen there is an exception, onException camel clause get executed and in that case its not returning json response, instead it return java object representation like below\r\n\r\n    com.mypackage.Response@27f674d\r\n\r\nSample route definition as below.\r\n\r\n        rest(&quot;&quot;)\r\n        .consumes(&quot;application/json&quot;)\r\n        .produces(&quot;application/json&quot;)    \r\n        .post(&quot;/endpoint&quot;)\r\n        .bindingMode(RestBindingMode.json)\r\n        .type(Request.class)\r\n        .outType(Response.class)\r\n        .to(&quot;direct:endpoint&quot;)\r\n\r\nRoute endpoint defination\r\n\r\n    onException(Exception.class)\r\n    .process(new ExceptionProcessor())\r\n    .convertBodyTo(Response.class)\r\n    .handled(true);\r\n\r\n    from(&quot;direct:endpoint&quot;)\r\n    .streamCaching()\r\n    .process(...)\r\n    .process(...)\r\n    .end()\r\n\r\nExceptionProcessor sample implementation.\r\n\r\n    public class ExceptionProcessor implements Processor{\r\n        public void process(Exchange exchange) throws Exception{\r\n            Response res = new Response();\r\n            res.setKey1(&quot;value1&quot;);\r\n            res.setKey2(123);\r\n            exchange.getMessage().setBody(res);\r\n        }\r\n    }\r\n\r\nWhy onException is returning response as java object string representation?\r\nHow can it return JSON response in case of exception?\r\n","title":"Apache camel &quot;onException&quot; not returning JSON response","body":"<p>I am using apache camel to expose rest endpoint from my application.\nWhen rest endpoint is successfully executed it is returning expected JSON response like below.</p>\n<pre><code>{\n  &quot;key1&quot;: &quot;value1&quot;,\n  &quot;key2&quot;: 123\n}\n</code></pre>\n<p>when there is an exception, onException camel clause get executed and in that case its not returning json response, instead it return java object representation like below</p>\n<pre><code>com.mypackage.Response@27f674d\n</code></pre>\n<p>Sample route definition as below.</p>\n<pre><code>    rest(&quot;&quot;)\n    .consumes(&quot;application/json&quot;)\n    .produces(&quot;application/json&quot;)    \n    .post(&quot;/endpoint&quot;)\n    .bindingMode(RestBindingMode.json)\n    .type(Request.class)\n    .outType(Response.class)\n    .to(&quot;direct:endpoint&quot;)\n</code></pre>\n<p>Route endpoint defination</p>\n<pre><code>onException(Exception.class)\n.process(new ExceptionProcessor())\n.convertBodyTo(Response.class)\n.handled(true);\n\nfrom(&quot;direct:endpoint&quot;)\n.streamCaching()\n.process(...)\n.process(...)\n.end()\n</code></pre>\n<p>ExceptionProcessor sample implementation.</p>\n<pre><code>public class ExceptionProcessor implements Processor{\n    public void process(Exchange exchange) throws Exception{\n        Response res = new Response();\n        res.setKey1(&quot;value1&quot;);\n        res.setKey2(123);\n        exchange.getMessage().setBody(res);\n    }\n}\n</code></pre>\n<p>Why onException is returning response as java object string representation?\nHow can it return JSON response in case of exception?</p>\n"},{"tags":["java","eclipse","intellij-idea","kotlin","jetbrains-ide"],"answers":[{"tags":[],"owner":{"account_id":2527365,"reputation":142481,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1682164686,"creation_date":1437287433,"answer_id":31498603,"question_id":31494013,"body_markdown":"It seems that it&#39;s possible, but there&#39;s no tool for that, just code. There are tests in [j2k module](https://github.com/JetBrains/intellij-community/tree/idea/231.8770.17/plugins/kotlin/j2k) in Kotlin Github repository, the example below is taken from the [tests (AbstractJavaToKotlinConverterSingleFileTest)](https://github.com/JetBrains/intellij-community/blob/idea/231.8770.17/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt):\r\n\r\n    private fun fileToKotlin(text: String, settings: ConverterSettings, project: Project): String {\r\n        val file = createJavaFile(text)\r\n        val converter = JavaToKotlinConverter(project, settings,\r\n                                              IdeaReferenceSearcher, IdeaResolverForConverter)\r\n        return converter.filesToKotlin(listOf(file), J2kPostProcessor(formatCode = true)).results.single()\r\n    }\r\n\r\nI suppose, you can make a .jar of that module and write your own simple wrapper for `JavaToKotlinConverter` to make it work on files.\r\n\r\n---\r\nUPD: the code has migrated to the `intellij-community` repository, you can find relevant tests here: https://github.com/JetBrains/intellij-community/blob/2382372993bee233bc6fce95c3917a68a33da111/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt","title":"Run Java to Kotlin converter from the command line?","body":"<p>It seems that it's possible, but there's no tool for that, just code. There are tests in <a href=\"https://github.com/JetBrains/intellij-community/tree/idea/231.8770.17/plugins/kotlin/j2k\" rel=\"nofollow noreferrer\">j2k module</a> in Kotlin Github repository, the example below is taken from the <a href=\"https://github.com/JetBrains/intellij-community/blob/idea/231.8770.17/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt\" rel=\"nofollow noreferrer\">tests (AbstractJavaToKotlinConverterSingleFileTest)</a>:</p>\n<pre><code>private fun fileToKotlin(text: String, settings: ConverterSettings, project: Project): String {\n    val file = createJavaFile(text)\n    val converter = JavaToKotlinConverter(project, settings,\n                                          IdeaReferenceSearcher, IdeaResolverForConverter)\n    return converter.filesToKotlin(listOf(file), J2kPostProcessor(formatCode = true)).results.single()\n}\n</code></pre>\n<p>I suppose, you can make a .jar of that module and write your own simple wrapper for <code>JavaToKotlinConverter</code> to make it work on files.</p>\n<hr />\n<p>UPD: the code has migrated to the <code>intellij-community</code> repository, you can find relevant tests here: <a href=\"https://github.com/JetBrains/intellij-community/blob/2382372993bee233bc6fce95c3917a68a33da111/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/intellij-community/blob/2382372993bee233bc6fce95c3917a68a33da111/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt</a></p>\n"}],"owner":{"account_id":50430,"reputation":2241,"user_id":150435,"accept_rate":75,"display_name":"Travis Spencer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2717,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":31498603,"answer_count":1,"score":15,"last_activity_date":1682164686,"creation_date":1437242725,"question_id":31494013,"body_markdown":"You can use the Kotlin plug-ins for Intellij and Eclipse to convert Java files to Kotlin. Can this conversion be done from the command line some how without either of these IDEs?","title":"Run Java to Kotlin converter from the command line?","body":"<p>You can use the Kotlin plug-ins for Intellij and Eclipse to convert Java files to Kotlin. Can this conversion be done from the command line some how without either of these IDEs?</p>\n"},{"tags":["java","xml","logging","logback"],"comments":[{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":1,"creation_date":1392728259,"post_id":21831815,"comment_id":33082967,"body_markdown":"How are you running the code? You can try by replacing the \\ by / for file path. Sometimes it doesn&#39;t work","body":"How are you running the code? You can try by replacing the \\ by / for file path. Sometimes it doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":17912,"reputation":3052,"user_id":40570,"accept_rate":60,"display_name":"shabby"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1392873148,"creation_date":1392872886,"answer_id":21898643,"question_id":21831815,"body_markdown":"    And I&#39;ve copied it into the root of several locations in my classpath\r\n\r\nlogback has a default way of finding the configuration file here is how the documentation goes:\r\n\r\n&gt;Let us begin by discussing the initialization steps that logback follows to try to configure itself:\r\n    \r\n&gt;1. Logback tries to find a file called logback.groovy in the classpath.\r\n    \r\n&gt;2. If no such file is found, logback tries to find a file called logback-test.xml in the classpath.\r\n\r\n&gt;3. If no such file is found, it checks for the file logback.xml in the classpath..\r\n\r\n&gt;4. If neither file is found, logback configures itself automatically using the BasicConfigurator which will cause logging output to be directed to the console.\r\n\r\n\r\nso probably in your case it is loading the basic configuration when you are seeing the output in console. You can try specifying the path in class-path or do it programatically like [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21885787/setting-logback-xml-path-programatically","title":"Logback Could NOT find resource logback.xml","body":"<pre><code>And I've copied it into the root of several locations in my classpath\n</code></pre>\n\n<p>logback has a default way of finding the configuration file here is how the documentation goes:</p>\n\n<blockquote>\n  <p>Let us begin by discussing the initialization steps that logback follows to try to configure itself:</p>\n  \n  <ol>\n  <li><p>Logback tries to find a file called logback.groovy in the classpath.</p></li>\n  <li><p>If no such file is found, logback tries to find a file called logback-test.xml in the classpath.</p></li>\n  <li><p>If no such file is found, it checks for the file logback.xml in the classpath..</p></li>\n  <li><p>If neither file is found, logback configures itself automatically using the BasicConfigurator which will cause logging output to be directed to the console.</p></li>\n  </ol>\n</blockquote>\n\n<p>so probably in your case it is loading the basic configuration when you are seeing the output in console. You can try specifying the path in class-path or do it programatically like <a href=\"https://stackoverflow.com/questions/21885787/setting-logback-xml-path-programatically\">this</a></p>\n"},{"tags":[],"owner":{"account_id":16904937,"reputation":1,"user_id":12225425,"display_name":"rishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644072515,"creation_date":1644072515,"answer_id":70999078,"question_id":21831815,"body_markdown":"One short and quick solution that works for me for this particular problem is to delete that logback.xml and maven update the project","title":"Logback Could NOT find resource logback.xml","body":"<p>One short and quick solution that works for me for this particular problem is to delete that logback.xml and maven update the project</p>\n"},{"tags":[],"owner":{"account_id":22089978,"reputation":142,"user_id":16348170,"display_name":"hidden_machine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662368994,"creation_date":1662368994,"answer_id":73606997,"question_id":21831815,"body_markdown":"For me the problem arose due to mistakenly having 2 slf4j-api libraries on the classpath. Removing one of them did the trick.","title":"Logback Could NOT find resource logback.xml","body":"<p>For me the problem arose due to mistakenly having 2 slf4j-api libraries on the classpath. Removing one of them did the trick.</p>\n"},{"tags":[],"owner":{"account_id":3159500,"reputation":1541,"user_id":8919607,"display_name":"Pradeep Anchan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682163529,"creation_date":1682163529,"answer_id":76079439,"question_id":21831815,"body_markdown":"For me, the problem got resolved when i restarted my IDE (Intellij-Idea).\\\r\nIt somehow had cached the java-util-logging library and no amount of tweaking was fixing the issue.\\\r\nFinally the restart did the trick.","title":"Logback Could NOT find resource logback.xml","body":"<p>For me, the problem got resolved when i restarted my IDE (Intellij-Idea).<br />\nIt somehow had cached the java-util-logging library and no amount of tweaking was fixing the issue.<br />\nFinally the restart did the trick.</p>\n"}],"owner":{"account_id":3221258,"reputation":340,"user_id":2718665,"accept_rate":38,"display_name":"M_Tech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43256,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1682163529,"creation_date":1392647808,"question_id":21831815,"body_markdown":"It&#39;s working to output to console.\r\nlogger.info(&quot;Hello world info.&quot;); //works just fine...\r\n\r\nHowever the following code returns &#39;Could NOT find resource&#39; error:\r\n\r\n    Logger logger = LoggerFactory.getLogger(&quot;framework.Utilities._Test&quot;);\r\n    LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n    StatusPrinter.print(lc);\r\n\r\nI&#39;m using the following XML:\r\n\r\n    &lt;configuration&gt;\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;C:\\Reports\\logBack.log&lt;/file&gt;\r\n        &lt;!-- encoders are assigned by default the type\r\n             ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nAnd I&#39;ve copied it into the root of several locations in my classpath (Windows7\\Environment Variables\\System Variables\\Path) but I still get the error &#39;resource not found&#39;. Any ideas? \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Logback Could NOT find resource logback.xml","body":"<p>It's working to output to console.\nlogger.info(\"Hello world info.\"); //works just fine...</p>\n\n<p>However the following code returns 'Could NOT find resource' error:</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(\"framework.Utilities._Test\");\nLoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\nStatusPrinter.print(lc);\n</code></pre>\n\n<p>I'm using the following XML:</p>\n\n<pre><code>&lt;configuration&gt;\n&lt;appender name=\"FILE\" class=\"ch.qos.logback.core.FileAppender\"&gt;\n    &lt;file&gt;C:\\Reports\\logBack.log&lt;/file&gt;\n    &lt;!-- encoders are assigned by default the type\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=\"debug\"&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>And I've copied it into the root of several locations in my classpath (Windows7\\Environment Variables\\System Variables\\Path) but I still get the error 'resource not found'. Any ideas? </p>\n"},{"tags":["java","text","utf-8","codepages","windows-1256"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405425125,"post_id":24757262,"comment_id":38412208,"body_markdown":"You mean ASCII, rather than ANSI?","body":"You mean ASCII, rather than ANSI?"},{"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"score":0,"creation_date":1405426315,"post_id":24757262,"comment_id":38412967,"body_markdown":"yes i&#39;m using the windows 1256 encoding","body":"yes i&#39;m using the windows 1256 encoding"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405429505,"post_id":24757262,"comment_id":38415161,"body_markdown":"... which is not ASCII","body":"... which is not ASCII"},{"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"score":1,"creation_date":1405481390,"post_id":24757262,"comment_id":38439331,"body_markdown":"Windows-1256 is the ANSI code page if the system locale is set to Arabic.","body":"Windows-1256 is the ANSI code page if the system locale is set to Arabic."}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405426635,"creation_date":1405424827,"answer_id":24757429,"question_id":24757262,"body_markdown":"There isn&#39;t one. ANSI is a pretty old standard by the [American National Standards Institute][1]. It doesn&#39;t support RTL languages like Arabic or Hebrew.\r\n\r\nThe Wikipedia Article &quot;[ANSI escape code][2]&quot; lists all the codes that it supports.\r\n\r\nThe workaround is to use a font which renders the glyphs (characters) you need, print them in the opposite order and use cursor movement commands to right align the text.\r\n\r\n**[EDIT]** You&#39;re confusing a couple of things. First of all, ANSI is a set of escape sequences to control your terminal.\r\n\r\nASCII, Windows 1256 and UTF-8 are character encodings (i.e. ways to represent text as sequences of octets or bytes).\r\n\r\nUnicode is a library of glyphs. It tries to contain each and every glyph that you need to display text in any language. You can encode Unicode data using UTF-8, -16, etc. to serialize it.\r\n\r\nThe special Unicode Character `RIGHT-TO-LEFT EMBEDDING` (U+202B) has no representation in any other character encoding.\r\n\r\nYou will have to write a program to parse the input and then you will have to output the text to the printer, sorting the characters in the correct order. There is no shortcut to do this.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/American_National_Standards_Institute\r\n  [2]: http://en.wikipedia.org/wiki/ANSI_escape_code","title":"ANSI value of RTL character","body":"<p>There isn't one. ANSI is a pretty old standard by the <a href=\"http://en.wikipedia.org/wiki/American_National_Standards_Institute\" rel=\"nofollow\">American National Standards Institute</a>. It doesn't support RTL languages like Arabic or Hebrew.</p>\n\n<p>The Wikipedia Article \"<a href=\"http://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow\">ANSI escape code</a>\" lists all the codes that it supports.</p>\n\n<p>The workaround is to use a font which renders the glyphs (characters) you need, print them in the opposite order and use cursor movement commands to right align the text.</p>\n\n<p><strong>[EDIT]</strong> You're confusing a couple of things. First of all, ANSI is a set of escape sequences to control your terminal.</p>\n\n<p>ASCII, Windows 1256 and UTF-8 are character encodings (i.e. ways to represent text as sequences of octets or bytes).</p>\n\n<p>Unicode is a library of glyphs. It tries to contain each and every glyph that you need to display text in any language. You can encode Unicode data using UTF-8, -16, etc. to serialize it.</p>\n\n<p>The special Unicode Character <code>RIGHT-TO-LEFT EMBEDDING</code> (U+202B) has no representation in any other character encoding.</p>\n\n<p>You will have to write a program to parse the input and then you will have to output the text to the printer, sorting the characters in the correct order. There is no shortcut to do this.</p>\n"},{"tags":[],"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1405481587,"creation_date":1405481587,"answer_id":24771753,"question_id":24757262,"body_markdown":"Windows-1256 is the &quot;ANSI code page&quot; if the system locale is set to Arabic.\r\nA misnomer, but that what is called by all MS documentation...\r\nIn the Windows world &quot;ANSI code page&quot; should read &quot;system code page&quot;\r\n\r\nAnyway, U+202B has no equivalent in  in windows-1256.\r\nYou can probably achieve what you need with\r\n\r\n    U+200E\tLEFT-TO-RIGHT MARK    0xFD in windows-1256\r\n    U+200F\tRIGHT-TO-LEFT MARK    0xFE in windows-1256\t\r\n","title":"ANSI value of RTL character","body":"<p>Windows-1256 is the \"ANSI code page\" if the system locale is set to Arabic.\nA misnomer, but that what is called by all MS documentation...\nIn the Windows world \"ANSI code page\" should read \"system code page\"</p>\n\n<p>Anyway, U+202B has no equivalent in  in windows-1256.\nYou can probably achieve what you need with</p>\n\n<pre><code>U+200E  LEFT-TO-RIGHT MARK    0xFD in windows-1256\nU+200F  RIGHT-TO-LEFT MARK    0xFE in windows-1256  \n</code></pre>\n"}],"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":24771753,"answer_count":2,"score":-1,"last_activity_date":1682162850,"creation_date":1405424349,"question_id":24757262,"body_markdown":"I want to know the ANSI value of the character &quot;\\u202B&quot; that make RTL alignment in the text file, the problem that I&#39;ve used it in UTF8 file and it makes the text RTL but when the text file is ANSI it shows marks &quot;???&quot; that means that this character not identified, so any one can know what&#39;s the opposite code for this character in ANSI?","title":"ANSI value of RTL character","body":"<p>I want to know the ANSI value of the character \"\\u202B\" that make RTL alignment in the text file, the problem that I've used it in UTF8 file and it makes the text RTL but when the text file is ANSI it shows marks \"???\" that means that this character not identified, so any one can know what's the opposite code for this character in ANSI?</p>\n"},{"tags":["java","android","multithreading","surfaceview"],"answers":[{"tags":[],"owner":{"account_id":26533325,"reputation":164,"user_id":20165200,"display_name":"Harshavardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682005316,"creation_date":1681839943,"answer_id":76047639,"question_id":76044923,"body_markdown":"Your **&#39;MyThread&#39;** class appears to be drawing everything on the main UI thread. As a result, the UI freezes due to more work.\r\n\r\nThe best way to avoid this is to create a **&#39;Runnable&#39;** that performs the drawing and forwards it to the **&#39;Handler&#39;** on its own thread.\r\n\r\nHere is how you can modify your code to accomplish this:\r\n\r\nLoader.java\r\n\r\n        public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        Canvas[] canvases = differentCanvasesMap.get(0);\r\n        Bitmap[] bitmaps = differentFramesMap.get(0);\r\n        for (int i = 0; i &lt; canvases.length; i++) {\r\n            canvases[i].drawBitmap(bitmaps[i], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        }\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n    \r\n    private static void iterTmxFrames() {\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                framesFirstAnimIter++;\r\n                framesSecondAnimIter++;\r\n                framesThirdAnimIter++;\r\n                if (framesFirstAnimIter == 3) {\r\n                    framesFirstAnimIter = 0;\r\n                }\r\n                if (framesSecondAnimIter == 2) {\r\n                    framesSecondAnimIter = 0;\r\n                }\r\n                if (framesThirdAnimIter == 2) {\r\n                    framesThirdAnimIter = 0;\r\n                }\r\n    \r\n                // Post the drawing to a handler on a separate thread\r\n                handler.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Canvas[] canvases = differentCanvasesMap.get(0);\r\n                        Bitmap[] bitmaps = differentFramesMap.get(0);\r\n                        for (int i = 0; i &lt; canvases.length; i++) {\r\n                            canvases[i].drawBitmap(bitmaps[i], 0, 0, null);\r\n                        }\r\n                    }\r\n                });\r\n    \r\n                handler.postDelayed(runnable, 1000);\r\n            }\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n\r\nIn the **&#39;drawTmxMaps()&#39;** method, a loop is created to iterate over each canvas and bitmap and draw them all at one time.\r\n\r\nIn the **&#39;iterTmxFrames()&#39;** method, we use a **&#39;Handler&#39;** to post a **&#39;Runnable&#39;** where it separates the threads every 1000ms.\r\n\r\nThe **&#39;Runnable&#39;** performs the actual drawing on the canvas utilizing the bitmaps from **&#39;differentFramesMap&#39;**\r\n\r\nIn the **&#39;MyThread&#39;** class, call **&#39;Loader.drawTmxMaps()&#39;** to draw the bitmaps. Following this, **&#39;surfaceHolder.unlockCanvasAndPost(canvas)**&#39; can be used to post the resulting **&#39;Canvas&#39;** objects to the **&#39;SurfaceHolder&#39;**.\r\n\r\nAfter this, **&#39;SurfaceView&#39;** should no longer freeze or lag when scrolling.\r\n\r\n\r\nIn fact, SurfaceView should be moved from the main UI thread to a separate thread\r\n\r\n1. Create a new thread to handle the surfaceView movement.\r\n\r\n    private class MoveSurfaceViewThread extends Thread {\r\n    private final SurfaceView surfaceView;\r\n    private final float moveX;\r\n    private final float moveY;\r\n \r\n    public MoveSurfaceViewThread(SurfaceView surfaceView, float moveX, float moveY) {\r\n        this.surfaceView = surfaceView;\r\n        this.moveX = moveX;\r\n        this.moveY = moveY;\r\n    }\r\n \r\n    @Override\r\n    public void run() {\r\n        surfaceView.setX(moveX);\r\n        surfaceView.setY(moveY);\r\n    }\r\n    }\r\n\r\n2. In your custom GestureDetector, create an instance of the \r\n   MoveSurfaceViewThread and start it on scroll\r\n\r\n   \r\n\r\n        public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, \r\n        float distanceY) {\r\n        float moveX = gameSurface.getX() - distanceX;\r\n        float moveY = gameSurface.getY() - distanceY;\r\n     \r\n        // Create a new thread to move the surfaceView\r\n        MoveSurfaceViewThread moveSurfaceViewThread = new \r\n        MoveSurfaceViewThread(gameSurface, moveX, moveY);\r\n        moveSurfaceViewThread.start();\r\n        return true;\r\n        }\r\n\r\n\r\nPutting SurfaceView on a separate thread will make the app more responsive and prevent the UI thread from being blocked.\r\n\r\n\r\n\r\n","title":"Android drawing bitmap multiple times and then onScroll causes ANR","body":"<p>Your <strong>'MyThread'</strong> class appears to be drawing everything on the main UI thread. As a result, the UI freezes due to more work.</p>\n<p>The best way to avoid this is to create a <strong>'Runnable'</strong> that performs the drawing and forwards it to the <strong>'Handler'</strong> on its own thread.</p>\n<p>Here is how you can modify your code to accomplish this:</p>\n<p>Loader.java</p>\n<pre><code>    public static void drawTmxMaps(Canvas canvas, Context context) {\n    Canvas[] canvases = differentCanvasesMap.get(0);\n    Bitmap[] bitmaps = differentFramesMap.get(0);\n    for (int i = 0; i &lt; canvases.length; i++) {\n        canvases[i].drawBitmap(bitmaps[i], 0, 0, PaintTemplates.getInstance(context).pMap);\n    }\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\nprivate static void iterTmxFrames() {\n    runnable = new Runnable() {\n        @Override\n        public void run() {\n            framesFirstAnimIter++;\n            framesSecondAnimIter++;\n            framesThirdAnimIter++;\n            if (framesFirstAnimIter == 3) {\n                framesFirstAnimIter = 0;\n            }\n            if (framesSecondAnimIter == 2) {\n                framesSecondAnimIter = 0;\n            }\n            if (framesThirdAnimIter == 2) {\n                framesThirdAnimIter = 0;\n            }\n\n            // Post the drawing to a handler on a separate thread\n            handler.post(new Runnable() {\n                @Override\n                public void run() {\n                    Canvas[] canvases = differentCanvasesMap.get(0);\n                    Bitmap[] bitmaps = differentFramesMap.get(0);\n                    for (int i = 0; i &lt; canvases.length; i++) {\n                        canvases[i].drawBitmap(bitmaps[i], 0, 0, null);\n                    }\n                }\n            });\n\n            handler.postDelayed(runnable, 1000);\n        }\n    };\n    handler.postDelayed(runnable, 1000);\n}\n</code></pre>\n<p>In the <strong>'drawTmxMaps()'</strong> method, a loop is created to iterate over each canvas and bitmap and draw them all at one time.</p>\n<p>In the <strong>'iterTmxFrames()'</strong> method, we use a <strong>'Handler'</strong> to post a <strong>'Runnable'</strong> where it separates the threads every 1000ms.</p>\n<p>The <strong>'Runnable'</strong> performs the actual drawing on the canvas utilizing the bitmaps from <strong>'differentFramesMap'</strong></p>\n<p>In the <strong>'MyThread'</strong> class, call <strong>'Loader.drawTmxMaps()'</strong> to draw the bitmaps. Following this, <strong>'surfaceHolder.unlockCanvasAndPost(canvas)</strong>' can be used to post the resulting <strong>'Canvas'</strong> objects to the <strong>'SurfaceHolder'</strong>.</p>\n<p>After this, <strong>'SurfaceView'</strong> should no longer freeze or lag when scrolling.</p>\n<p>In fact, SurfaceView should be moved from the main UI thread to a separate thread</p>\n<ol>\n<li><p>Create a new thread to handle the surfaceView movement.</p>\n<p>private class MoveSurfaceViewThread extends Thread {\nprivate final SurfaceView surfaceView;\nprivate final float moveX;\nprivate final float moveY;</p>\n<p>public MoveSurfaceViewThread(SurfaceView surfaceView, float moveX, float moveY) {\nthis.surfaceView = surfaceView;\nthis.moveX = moveX;\nthis.moveY = moveY;\n}</p>\n<p>@Override\npublic void run() {\nsurfaceView.setX(moveX);\nsurfaceView.setY(moveY);\n}\n}</p>\n</li>\n<li><p>In your custom GestureDetector, create an instance of the\nMoveSurfaceViewThread and start it on scroll</p>\n<pre><code> public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, \n float distanceY) {\n float moveX = gameSurface.getX() - distanceX;\n float moveY = gameSurface.getY() - distanceY;\n\n // Create a new thread to move the surfaceView\n MoveSurfaceViewThread moveSurfaceViewThread = new \n MoveSurfaceViewThread(gameSurface, moveX, moveY);\n moveSurfaceViewThread.start();\n return true;\n }\n</code></pre>\n</li>\n</ol>\n<p>Putting SurfaceView on a separate thread will make the app more responsive and prevent the UI thread from being blocked.</p>\n"},{"tags":[],"owner":{"account_id":26533325,"reputation":164,"user_id":20165200,"display_name":"Harshavardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682059514,"creation_date":1682005212,"answer_id":76065927,"question_id":76044923,"body_markdown":"Your code should look like this:\r\n\r\n**Loader.java:**\r\n\r\n    public class Loader {\r\n    private static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\r\n    private static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\r\n    private static boolean isIterStarted = false;\r\n    private static int framesFirstAnimIter = 0;\r\n    private static int framesSecondAnimIter = 0;\r\n    private static int framesThirdAnimIter = 0;\r\n    private static Handler handler = new Handler(Looper.getMainLooper());\r\n    private static Runnable runnable;\r\n\r\n    public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n    private static void iterTmxFrames() {\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                framesFirstAnimIter++;\r\n                framesSecondAnimIter++;\r\n                framesThirdAnimIter++;\r\n                if (framesFirstAnimIter == 3)\r\n                    framesFirstAnimIter = 0;\r\n                if (framesSecondAnimIter == 2)\r\n                    framesSecondAnimIter = 0;\r\n                if (framesThirdAnimIter == 2)\r\n                    framesThirdAnimIter = 0;\r\n                handler.postDelayed(runnable, 1000);\r\n            }\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n    }\r\n\r\n**MyThread.java:**\r\n\r\n    public class MyThread extends Thread {\r\n    private final SurfaceHolder surfaceHolder;\r\n    private final GameSurface gameSurface;\r\n    private boolean isRunning;\r\n    private long delay = 33; // 30 FPS\r\n    private long startTime;\r\n    private long loopTime;\r\n    private float scrollX;\r\n    private float scrollY;\r\n\r\n    public MyThread(SurfaceHolder surfaceHolder, GameSurface gameSurface) {\r\n        this.surfaceHolder = surfaceHolder;\r\n        this.gameSurface = gameSurface;\r\n    }\r\n\r\n    public void setRunning(boolean running) {\r\n        isRunning = running;\r\n    }\r\n\r\n    public void setScroll(float scrollX, float scrollY) {\r\n        this.scrollX = scrollX;\r\n        this.scrollY = scrollY;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (isRunning) {\r\n            startTime = SystemClock.uptimeMillis();\r\n            Canvas canvas = surfaceHolder.lockCanvas(null);\r\n            if (canvas != null) {\r\n                synchronized (surfaceHolder) {\r\n                    canvas.translate(-scrollX, -scrollY);\r\n                    Loader.drawTmxMaps(canvas, gameSurface.getContext());\r\n                    surfaceHolder.unlockCanvasAndPost(canvas);\r\n                }\r\n            }\r\n            loopTime = SystemClock.uptimeMillis() - startTime;\r\n            if (loopTime &lt; delay) {\r\n                try {\r\n                    Thread.sleep(delay - loopTime);\r\n                } catch (InterruptedException e) {\r\n                    Log.e(&quot;Interrupted ex&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }\r\n","title":"Android drawing bitmap multiple times and then onScroll causes ANR","body":"<p>Your code should look like this:</p>\n<p><strong>Loader.java:</strong></p>\n<pre><code>public class Loader {\nprivate static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\nprivate static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\nprivate static boolean isIterStarted = false;\nprivate static int framesFirstAnimIter = 0;\nprivate static int framesSecondAnimIter = 0;\nprivate static int framesThirdAnimIter = 0;\nprivate static Handler handler = new Handler(Looper.getMainLooper());\nprivate static Runnable runnable;\n\npublic static void drawTmxMaps(Canvas canvas, Context context) {\n    canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\nprivate static void iterTmxFrames() {\n    runnable = new Runnable() {\n        @Override\n        public void run() {\n            framesFirstAnimIter++;\n            framesSecondAnimIter++;\n            framesThirdAnimIter++;\n            if (framesFirstAnimIter == 3)\n                framesFirstAnimIter = 0;\n            if (framesSecondAnimIter == 2)\n                framesSecondAnimIter = 0;\n            if (framesThirdAnimIter == 2)\n                framesThirdAnimIter = 0;\n            handler.postDelayed(runnable, 1000);\n        }\n    };\n    handler.postDelayed(runnable, 1000);\n}\n}\n</code></pre>\n<p><strong>MyThread.java:</strong></p>\n<pre><code>public class MyThread extends Thread {\nprivate final SurfaceHolder surfaceHolder;\nprivate final GameSurface gameSurface;\nprivate boolean isRunning;\nprivate long delay = 33; // 30 FPS\nprivate long startTime;\nprivate long loopTime;\nprivate float scrollX;\nprivate float scrollY;\n\npublic MyThread(SurfaceHolder surfaceHolder, GameSurface gameSurface) {\n    this.surfaceHolder = surfaceHolder;\n    this.gameSurface = gameSurface;\n}\n\npublic void setRunning(boolean running) {\n    isRunning = running;\n}\n\npublic void setScroll(float scrollX, float scrollY) {\n    this.scrollX = scrollX;\n    this.scrollY = scrollY;\n}\n\n@Override\npublic void run() {\n    while (isRunning) {\n        startTime = SystemClock.uptimeMillis();\n        Canvas canvas = surfaceHolder.lockCanvas(null);\n        if (canvas != null) {\n            synchronized (surfaceHolder) {\n                canvas.translate(-scrollX, -scrollY);\n                Loader.drawTmxMaps(canvas, gameSurface.getContext());\n                surfaceHolder.unlockCanvasAndPost(canvas);\n            }\n        }\n        loopTime = SystemClock.uptimeMillis() - startTime;\n        if (loopTime &lt; delay) {\n            try {\n                Thread.sleep(delay - loopTime);\n            } catch (InterruptedException e) {\n                Log.e(&quot;Interrupted ex&quot;, e.getMessage());\n            }\n        }\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76065927,"answer_count":2,"score":0,"last_activity_date":1682162456,"creation_date":1681822697,"question_id":76044923,"body_markdown":"I want to do `canvas.drawBitmap(...)` multiple times but now app freezes (ANR) once I move my SurfaceView (call         `surfaceView.setX(gs.moveX); surfaceView.setY(gs.moveY); ` in `onScroll(...)`) in my SurfaceView class with custom GestureDetector. This SurfaceView flow is controlled by GameThread in which I draw 3 times `canvas.drawBitmap(...)`. What is worth noticing is that when I comment out second or third `canvas.drawBitmap(...)` from `drawTmxMaps(...)` then app scrolls almost correctly - almost because it works but scrolling is laggy. \r\n\r\nSo how to solve my problem?\r\n\r\nHere is my code.\r\n\r\nLoader.java\r\n\r\n    private static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\r\n    private static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\r\n\r\n    (...)\r\n\r\n    public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n    private static void iterTmxFrames() {\r\n        runnable = () -&gt; {\r\n            framesFirstAnimIter++;\r\n            framesSecondAnimIter++;\r\n            framesThirdAnimIter++;\r\n            if (framesFirstAnimIter == 3)\r\n                framesFirstAnimIter = 0;\r\n            if (framesSecondAnimIter == 2)\r\n                framesSecondAnimIter = 0;\r\n            if (framesThirdAnimIter == 2)\r\n                framesThirdAnimIter = 0;\r\n            handler.postDelayed(runnable, 1000);\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n\r\n\r\n\r\nMyThread.java\r\n\r\n        @Override\r\n    public void run() {\r\n        while (isRunning) {\r\n            startTime = SystemClock.uptimeMillis();\r\n            Canvas canvas = surfaceHolder.lockCanvas(null);\r\n            if (canvas != null) {\r\n                synchronized (surfaceHolder) {\r\n\r\n                    TmxLoader.drawTmxMaps(canvas, gameSurface.getContext());\r\n\r\n                    surfaceHolder.unlockCanvasAndPost(canvas);\r\n                }\r\n            }\r\n\r\n            loopTime = SystemClock.uptimeMillis() - startTime;\r\n\r\n            if (loopTime &lt; delay) {\r\n                try {\r\n                    Thread.sleep(delay - loopTime);\r\n                } catch (InterruptedException e) {\r\n                    Log.e(&quot;Interupted ex&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**EDIT after answer**\r\n\r\nNow there is no ANR but the surface seems not to refresh because thre are old positions of canvas on the screen. It looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSolved by simply adding `canvas.drawARGB(255, 0, 0, 0);` as a first method in GameThread run().\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KGlQx.jpg","title":"Android drawing bitmap multiple times and then onScroll causes ANR","body":"<p>I want to do <code>canvas.drawBitmap(...)</code> multiple times but now app freezes (ANR) once I move my SurfaceView (call         <code>surfaceView.setX(gs.moveX); surfaceView.setY(gs.moveY); </code> in <code>onScroll(...)</code>) in my SurfaceView class with custom GestureDetector. This SurfaceView flow is controlled by GameThread in which I draw 3 times <code>canvas.drawBitmap(...)</code>. What is worth noticing is that when I comment out second or third <code>canvas.drawBitmap(...)</code> from <code>drawTmxMaps(...)</code> then app scrolls almost correctly - almost because it works but scrolling is laggy.</p>\n<p>So how to solve my problem?</p>\n<p>Here is my code.</p>\n<p>Loader.java</p>\n<pre><code>private static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\nprivate static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\n\n(...)\n\npublic static void drawTmxMaps(Canvas canvas, Context context) {\n    canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\nprivate static void iterTmxFrames() {\n    runnable = () -&gt; {\n        framesFirstAnimIter++;\n        framesSecondAnimIter++;\n        framesThirdAnimIter++;\n        if (framesFirstAnimIter == 3)\n            framesFirstAnimIter = 0;\n        if (framesSecondAnimIter == 2)\n            framesSecondAnimIter = 0;\n        if (framesThirdAnimIter == 2)\n            framesThirdAnimIter = 0;\n        handler.postDelayed(runnable, 1000);\n    };\n    handler.postDelayed(runnable, 1000);\n}\n</code></pre>\n<p>MyThread.java</p>\n<pre><code>    @Override\npublic void run() {\n    while (isRunning) {\n        startTime = SystemClock.uptimeMillis();\n        Canvas canvas = surfaceHolder.lockCanvas(null);\n        if (canvas != null) {\n            synchronized (surfaceHolder) {\n\n                TmxLoader.drawTmxMaps(canvas, gameSurface.getContext());\n\n                surfaceHolder.unlockCanvasAndPost(canvas);\n            }\n        }\n\n        loopTime = SystemClock.uptimeMillis() - startTime;\n\n        if (loopTime &lt; delay) {\n            try {\n                Thread.sleep(delay - loopTime);\n            } catch (InterruptedException e) {\n                Log.e(&quot;Interupted ex&quot;, e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>EDIT after answer</strong></p>\n<p>Now there is no ANR but the surface seems not to refresh because thre are old positions of canvas on the screen. It looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/KGlQx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KGlQx.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Solved by simply adding <code>canvas.drawARGB(255, 0, 0, 0);</code> as a first method in GameThread run().</p>\n"},{"tags":["java","logging","stream","log4j"],"answers":[{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1347346622,"creation_date":1347345886,"answer_id":12364125,"question_id":12363027,"body_markdown":"Simple solution would be to write your own inputStream wrapper\r\n\r\nSomething like:\r\n\r\n    class LogingInputStream extends BufferedStream {\r\n        ByteArrayOutputStream copy4log = new ByteArrayOutputStream();\r\n        InputStream source;\r\n\r\n        public LogingInputStream( InputStream source ) { this.source = source; }\r\n        \r\n        public int read() {\r\n            int value = source.read()\r\n            logCopy.write( value );\r\n            return value;\r\n        }\r\n\r\n        public void close() {\r\n            source.close();\r\n            StreamUtils.copy(xml, new LogOutputStreamUtil(copy4log, Level.INFO));\r\n            copy4log.close();\r\n        }\r\n\r\n        .....more code here\r\n    }\r\n\r\nAnyway, general idea is that you need to intercept inputstream read methods.\r\n\r\nThere are other ways to accomplish this like copying source inputStream into a buffer (bytearray, string or whatever suits you), logging that buffer, and creating another inputStream around buffer and returning it to a caller instead source inputStream. It is simpler to do, but is it right solution depends on your usecase.","title":"Log Stream data using log4j","body":"<p>Simple solution would be to write your own inputStream wrapper</p>\n\n<p>Something like:</p>\n\n<pre><code>class LogingInputStream extends BufferedStream {\n    ByteArrayOutputStream copy4log = new ByteArrayOutputStream();\n    InputStream source;\n\n    public LogingInputStream( InputStream source ) { this.source = source; }\n\n    public int read() {\n        int value = source.read()\n        logCopy.write( value );\n        return value;\n    }\n\n    public void close() {\n        source.close();\n        StreamUtils.copy(xml, new LogOutputStreamUtil(copy4log, Level.INFO));\n        copy4log.close();\n    }\n\n    .....more code here\n}\n</code></pre>\n\n<p>Anyway, general idea is that you need to intercept inputstream read methods.</p>\n\n<p>There are other ways to accomplish this like copying source inputStream into a buffer (bytearray, string or whatever suits you), logging that buffer, and creating another inputStream around buffer and returning it to a caller instead source inputStream. It is simpler to do, but is it right solution depends on your usecase.</p>\n"},{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682159248,"creation_date":1576106262,"answer_id":59295556,"question_id":12363027,"body_markdown":"This is a very old question, however the other option to doing this these days would be to use the [log4J IOStreams](https://logging.apache.org/log4j/2.x/log4j-iostreams.html) classes. These allow you to present a Streaming interface, but have the results go to a log file of your choice.","title":"Log Stream data using log4j","body":"<p>This is a very old question, however the other option to doing this these days would be to use the <a href=\"https://logging.apache.org/log4j/2.x/log4j-iostreams.html\" rel=\"nofollow noreferrer\">log4J IOStreams</a> classes. These allow you to present a Streaming interface, but have the results go to a log file of your choice.</p>\n"}],"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12364125,"answer_count":2,"score":0,"last_activity_date":1682159248,"creation_date":1347339671,"question_id":12363027,"body_markdown":"I am getting stream data from an http connection.\r\nI want to log the stream to log files using log4j.\r\n\r\nI need this stream further to do some other operations (must be retained)\r\n\r\nHow can I do that?\r\n\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n    connection.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\r\n    InputStream xml = connection.getInputStream();\r\n\r\nI tried this one:\r\n\r\n`StreamUtils.copy(xml, new LogOutputStreamUtil(log, Level.INFO));`\r\n\r\nwhere LogOutputStreamUtil from http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm\r\n\r\n\r\nBut as soon as it got logged. Stream is getting closed :(","title":"Log Stream data using log4j","body":"<p>I am getting stream data from an http connection.\nI want to log the stream to log files using log4j.</p>\n\n<p>I need this stream further to do some other operations (must be retained)</p>\n\n<p>How can I do that?</p>\n\n<pre><code>HttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestMethod(\"GET\");\nconnection.setRequestProperty(\"Accept\", \"application/xml\");\nInputStream xml = connection.getInputStream();\n</code></pre>\n\n<p>I tried this one:</p>\n\n<p><code>StreamUtils.copy(xml, new LogOutputStreamUtil(log, Level.INFO));</code></p>\n\n<p>where LogOutputStreamUtil from <a href=\"http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm\" rel=\"nofollow\">http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm</a></p>\n\n<p>But as soon as it got logged. Stream is getting closed :(</p>\n"},{"tags":["java","spring","spring-cloud","completable-future","spring-cloud-sleuth"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682159116,"creation_date":1612532690,"answer_id":66064406,"question_id":66064271,"body_markdown":"What you can do is retrieve the span (e.g. via `tracer.currentSpan()`) before `log.info(&quot;first&quot;)`, pass the span to the lambda with `log.info(&quot;second&quot;)` and manually continue the trace via `tracer.withSpanInScope(span)`. It would look like this:\r\n\r\n    Span span = tracer.currentSpan();\r\n    log.info(&quot;first&quot;);\r\n    apnsClient.sendNotification(...).handle((response, cause) -&gt; {\r\n         try (SpanInScope ws = tracer.withSpanInScope(span)) {\r\n             log.info(&quot;second&quot;);\r\n         }\r\n    });","title":"Keep trace/span across CompletableFuture in Spring Cloud Sleuth","body":"<p>What you can do is retrieve the span (e.g. via <code>tracer.currentSpan()</code>) before <code>log.info(&quot;first&quot;)</code>, pass the span to the lambda with <code>log.info(&quot;second&quot;)</code> and manually continue the trace via <code>tracer.withSpanInScope(span)</code>. It would look like this:</p>\n<pre><code>Span span = tracer.currentSpan();\nlog.info(&quot;first&quot;);\napnsClient.sendNotification(...).handle((response, cause) -&gt; {\n     try (SpanInScope ws = tracer.withSpanInScope(span)) {\n         log.info(&quot;second&quot;);\n     }\n});\n</code></pre>\n"}],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66064406,"answer_count":1,"score":2,"last_activity_date":1682159116,"creation_date":1612532275,"question_id":66064271,"body_markdown":"I am using Sleuth with `CompletableFuture.handle`. Example:\r\n\r\n```\r\nlog.info(&quot;first&quot;);\r\napnsClient.sendNotification(...).handle((response, cause) -&gt; {\r\n     log.info(&quot;second&quot;);\r\n});\r\n```\r\n\r\nI want the `second` log to have the same trace id as the `first` log. However, it does not. Thus I wonder what to do? Thanks!\r\n\r\nP.S. I cannot control how `apnsClient.sendNotification` manage threads (since that is from [Pushy](https://github.com/jchambers/pushy)), so there is no way to use things like [LazyTraceExecutor](https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/integrations.html#sleuth-async-executor-service-integration).","title":"Keep trace/span across CompletableFuture in Spring Cloud Sleuth","body":"<p>I am using Sleuth with <code>CompletableFuture.handle</code>. Example:</p>\n<pre><code>log.info(&quot;first&quot;);\napnsClient.sendNotification(...).handle((response, cause) -&gt; {\n     log.info(&quot;second&quot;);\n});\n</code></pre>\n<p>I want the <code>second</code> log to have the same trace id as the <code>first</code> log. However, it does not. Thus I wonder what to do? Thanks!</p>\n<p>P.S. I cannot control how <code>apnsClient.sendNotification</code> manage threads (since that is from <a href=\"https://github.com/jchambers/pushy\" rel=\"nofollow noreferrer\">Pushy</a>), so there is no way to use things like <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/integrations.html#sleuth-async-executor-service-integration\" rel=\"nofollow noreferrer\">LazyTraceExecutor</a>.</p>\n"},{"tags":["java","arrays","for-loop","object"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1682156241,"post_id":76078884,"comment_id":134173417,"body_markdown":"What do you think that `for(int i=0; i &lt; arrFast.length;i++) { arrFast[i] = charg1; }` does? (A) set some entry of `arrFast` to `charg1`, (B) set all entries of `arrFast` to `charg1`?","body":"What do you think that <code>for(int i=0; i &lt; arrFast.length;i++) { arrFast[i] = charg1; }</code> does? (A) set some entry of <code>arrFast</code> to <code>charg1</code>, (B) set all entries of <code>arrFast</code> to <code>charg1</code>?"},{"owner":{"account_id":28378324,"reputation":1,"user_id":21706014,"display_name":"liraz"},"score":0,"creation_date":1682156604,"post_id":76078884,"comment_id":134173446,"body_markdown":"so how can i refer each time to a diffrent object?","body":"so how can i refer each time to a diffrent object?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1682157601,"post_id":76078884,"comment_id":134173529,"body_markdown":"You could for example use an additional field per array that contains the first free index (`int arrFastFirstFree` and `int arrUsFirstFree`). Or your for loop could check the entry in the array and if it is null then store the object at that position and stop the loop. Or you could use a pre-made helper class like `java.util.ArrayList`","body":"You could for example use an additional field per array that contains the first free index (<code>int arrFastFirstFree</code> and <code>int arrUsFirstFree</code>). Or your for loop could check the entry in the array and if it is null then store the object at that position and stop the loop. Or you could use a pre-made helper class like <code>java.util.ArrayList</code>"},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1682157844,"post_id":76078884,"comment_id":134173554,"body_markdown":"Instead of filling the array completely with the current value each time (which is exactly what the `For loop` does) you should write the current value into the current array element! So eg `arrUs[currentUs++] = charg1;` ... btw write `If (highway == true)` or better `if (highway)` but not `if (highway = true)`","body":"Instead of filling the array completely with the current value each time (which is exactly what the <code>For loop</code> does) you should write the current value into the current array element! So eg <code>arrUs[currentUs++] = charg1;</code> ... btw write <code>If (highway == true)</code> or better <code>if (highway)</code> but not <code>if (highway = true)</code>"}],"answers":[{"tags":[],"owner":{"account_id":28378609,"reputation":1,"user_id":21706249,"display_name":"Cauterium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682158292,"creation_date":1682158292,"answer_id":76079085,"question_id":76078884,"body_markdown":"The problem is, that you are setting every entry in your array to charg1 inside the for loops.\r\nIf you want to use an array here you could do something like this:\r\n\r\n    for(int i = 0, i &lt; arrFast.length(); i++) {\r\n        if (arrFast[i] == null) {\r\n            arrFast[i] = charg1;\r\n            break;\r\n        }\r\n    }\r\n\r\nHere you iterate through the array, check for each entry, if it is free and set the first free entry to charg1, but there might still be the case, that the array is full, in which case it would remain unchanged.\r\n\r\nWhat I&#39;d rather suggest, is that you use an ArrayList instead:\r\n\r\n    private ArrayList&lt;ChargingPoint&gt; listFast = new ArrayList&lt;ChargingPoint&gt;(); // Create a new ArrayList to store your ChargingPoints\r\n    listFast.add(charg1) // Add a new ChargingPoint to the ArrayList\r\n\r\nThat way you don&#39;t have to worry about the list getting full. You can also remove entries from the list using .remove() and some other useful stuff.","title":"Adding an object to object array in java","body":"<p>The problem is, that you are setting every entry in your array to charg1 inside the for loops.\nIf you want to use an array here you could do something like this:</p>\n<pre><code>for(int i = 0, i &lt; arrFast.length(); i++) {\n    if (arrFast[i] == null) {\n        arrFast[i] = charg1;\n        break;\n    }\n}\n</code></pre>\n<p>Here you iterate through the array, check for each entry, if it is free and set the first free entry to charg1, but there might still be the case, that the array is full, in which case it would remain unchanged.</p>\n<p>What I'd rather suggest, is that you use an ArrayList instead:</p>\n<pre><code>private ArrayList&lt;ChargingPoint&gt; listFast = new ArrayList&lt;ChargingPoint&gt;(); // Create a new ArrayList to store your ChargingPoints\nlistFast.add(charg1) // Add a new ChargingPoint to the ArrayList\n</code></pre>\n<p>That way you don't have to worry about the list getting full. You can also remove entries from the list using .remove() and some other useful stuff.</p>\n"}],"owner":{"account_id":28378324,"reputation":1,"user_id":21706014,"display_name":"liraz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682158292,"creation_date":1682155140,"question_id":76078884,"body_markdown":"i have a class named ChargingPoint and i created a 2 objects arrays of ChargingPoint in a class named fuelSt\r\nIn the class FuelSt i created an object named charg1 so that i can add objects to the arrays \r\nIn the main im creating 4 ChargingPoints\r\n2 that have the letter f and needs to be added to the array arrFast \r\n2 who have the letter u and needs to be added to the array arrUs\r\n\r\nsomehow its showing me only the last element multiple times and i dont understand why\r\nthank u in advance\r\n \r\n\r\nim trying the put 2 objects in arrFast\r\nand 2 objects in arrUs\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n**ChargingPoint class=**\r\npublic class ChargingPoint {\r\n\r\n\tprivate double kw;\r\n\tprivate double trf;\r\n    private char isFast;\r\n    private String code;\r\n    \r\n   \r\n    \r\n    \r\n    public ChargingPoint (String code,char isFast) {\r\n    this.code = code;\r\n    this.isFast = isFast;\r\n    trf = 1.5;\r\n    \r\n    \r\n    }\r\n    public void setTRF(double trf ) {\r\n    \tif(trf &gt;=0) {\r\n    \t\tthis.trf = trf;\r\n    \t\t\r\n    \t}\r\n    \telse{\r\n    \t\tSystem.out.println(&quot;Error,invaild input&quot;);\r\n    \t}\r\n    }\r\n    public void setKW(double kw) {\r\n    \tif(kw &gt;=0) {\r\n    \t\tthis.kw= kw;\r\n    \t\t\r\n    \t}\r\n    \telse {\r\n    \t\tSystem.out.println(&quot;Error,invaild input&quot;);\r\n    \t\r\n    \t}\r\n    \t}\r\n\r\n    public double getKW() {\r\n    \treturn kw;\r\n    }\r\n    public double getTRF() {\r\n    \treturn trf;\r\n    }\r\n    public char getISFAST() {\r\n    return isFast;\r\n    }\r\n    public String getCODE() {\r\n    \treturn code;\r\n    }\r\n    public double consumptionTotal(double KW,double TRF) {\r\n    \tdouble sum;\r\n    \tthis.kw = KW;\r\n    \tthis.trf = TRF;\r\n    \tsum = (TRF*KW);\r\n    \treturn sum;\r\n    }\r\n    public void print(){\r\n    \tSystem.out.println(&quot;kw =&quot; + kw + &quot;, trf =&quot; + trf + &quot;, isFast =&quot; + isFast + &quot;, code =&quot; + code);\r\n    \t\r\n    }\r\n    public ChargingPoint() {\r\n    }\r\n    public char getIsFast() {\r\n    \treturn isFast;\r\n    \t\r\n    }\r\n    \r\n    public double consumptionTotal() {\r\n\t\treturn (trf*kw);\r\n\t}\r\n   public String toString() {\r\n        return &quot;kw: &quot;+this.kw+&quot; &quot;+&quot;isfast: &quot;+this.isFast + &quot; &quot;+&quot;code: &quot;+this.code;\r\n     }\r\n```\r\n\r\n \r\n   \r\n    \r\n   \r\n\r\n\r\n\r\n```\r\n**FuelSt class=**\r\npublic class FuelSt {\r\n\t\r\n\tprivate ChargingPoint[] arrUs;\r\n\tprivate int currentUs ;\r\n    private ChargingPoint[] arrFast;\r\n\tprivate int currentFt ;\r\n    private boolean highway = true;\r\n    ChargingPoint charg1 = new ChargingPoint();\r\n    ChargingPoint charg2 = new ChargingPoint();\r\n    \r\n \r\n   \r\n    \r\n    public FuelSt (boolean highway) {\r\n    \tif(highway = true) {\r\n    \t\tthis.highway = highway;\r\n    \t\tdouble c;\r\n    \t\tc = charg1.consumptionTotal();\r\n    \t\tc = c -((c*13)/100);\r\n    \t}\r\n    \telse {\r\n    \t\tthis.highway =false;\r\n    \t}\r\n    \t\r\n\r\n    }\r\n    \r\n   \r\n\tpublic boolean addChargingPoint (ChargingPoint charg1){\r\n    \t//ChargingPoint[] arrFast = new ChargingPoint[30];\r\n    \t//ChargingPoint[] arrUs = new ChargingPoint[30];\r\n\t\r\n    \tif(charg1.getIsFast() == &#39;f&#39;) {\r\n    \t\tif(arrFast == null) {\r\n    \t\tarrFast = new ChargingPoint[30];\r\n    \t\t}\r\n    \t\telse {\r\n\r\n    \t\tfor(int i=0; i &lt; arrFast.length;i++) {\r\n    \t\t\t  arrFast[i] = charg1; \r\n    \t\t\t \r\n    \t\t\t\r\n\r\n    \t        \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t}\r\n            else if (charg1.getIsFast() == &#39;u&#39;) {\r\n    \t\tif(arrUs == null) {\r\n        \t\tarrUs = new ChargingPoint[30];\r\n        \t\t}\r\n    \t\telse {\r\n    \t\tfor(int i=0; i &lt; arrUs.length;i++) {\r\n    \t\t\tarrUs[i] = charg1;\r\n    \t\t\tcurrentUs++;\r\n    \t\t\t\r\n    \t }\r\n            }\r\n            }\r\n            \r\n\r\n\r\n\r\n    \t\t\r\n        return false;\r\n}\r\n```\r\n\r\n\t\t\t\r\n```\r\n**Main=**\r\npublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t System.out.print(&quot;is the fuel next to a highway?&quot;);  \r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tboolean yes = in.nextBoolean();\r\n\t\t \r\n\t    FuelSt fuelroad = new FuelSt(yes);\r\n\t    \r\n\t \r\n\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\tdouble kw = in.nextDouble();\r\n\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\tchar isFast = (char)System.in.read();\r\n\t    System.out.println(&quot;type code&quot;);\r\n\t\tString code = in.next();\r\n\t\tChargingPoint chargF= new ChargingPoint(code,isFast);\r\n\t\tchargF.setKW(kw);\r\n\t\tfuelroad.addChargingPoint(chargF);\r\n\t\tchargF.print();\r\n\t\t\r\n\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\tdouble kw1 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\tchar isFast1 = (char)System.in.read();\r\n\t    System.out.println(&quot;type code&quot;);\r\n\t\tString code1 = in.next();\r\n\t\tChargingPoint chargF1= new ChargingPoint(code1,isFast1);\r\n\t\tchargF1.setKW(kw1);\r\n\t\tfuelroad.addChargingPoint(chargF1);\r\n\t\t\r\n\t\tchargF1.print();\r\n\t\tSystem.out.println(Arrays.toString(fuelroad.getarrFast()));\r\n\t\t//System.out.println(fuelroad.getarrFast());\r\n\t\t\r\n\t\r\n\t\r\n\t\t\r\n\t\t  \r\n\t\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\t\tdouble kw2 = in.nextDouble();\r\n\t\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\t\tchar isFast2 = (char)System.in.read();\r\n\t\t    System.out.println(&quot;type code&quot;);\r\n\t\t\tString code2 = in.next();\r\n\t\t\tChargingPoint chargU = new ChargingPoint(code2,isFast2);\r\n\t\t\tchargU.setKW(kw2);\r\n\t\t    fuelroad.addChargingPoint(chargU);\r\n\t\t\tchargU.print();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\t\tdouble kw3 = in.nextDouble();\r\n\t\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\t\tchar isFast3 = (char)System.in.read();\r\n\t\t    System.out.println(&quot;type code&quot;);\r\n\t\t\tString code3 = in.next();\r\n\t\t    ChargingPoint chargU1 = new ChargingPoint(code3,isFast3);\r\n\t\t    chargU1.setKW(kw3);\r\n\t\t\tfuelroad.addChargingPoint(chargU1);\r\n\t\t\tchargU1.print();\r\n\t\t\t\r\n```\r\n","title":"Adding an object to object array in java","body":"<p>i have a class named ChargingPoint and i created a 2 objects arrays of ChargingPoint in a class named fuelSt\nIn the class FuelSt i created an object named charg1 so that i can add objects to the arrays\nIn the main im creating 4 ChargingPoints\n2 that have the letter f and needs to be added to the array arrFast\n2 who have the letter u and needs to be added to the array arrUs</p>\n<p>somehow its showing me only the last element multiple times and i dont understand why\nthank u in advance</p>\n<p>im trying the put 2 objects in arrFast\nand 2 objects in arrUs</p>\n<pre><code>**ChargingPoint class=**\npublic class ChargingPoint {\n\n    private double kw;\n    private double trf;\n    private char isFast;\n    private String code;\n    \n   \n    \n    \n    public ChargingPoint (String code,char isFast) {\n    this.code = code;\n    this.isFast = isFast;\n    trf = 1.5;\n    \n    \n    }\n    public void setTRF(double trf ) {\n        if(trf &gt;=0) {\n            this.trf = trf;\n            \n        }\n        else{\n            System.out.println(&quot;Error,invaild input&quot;);\n        }\n    }\n    public void setKW(double kw) {\n        if(kw &gt;=0) {\n            this.kw= kw;\n            \n        }\n        else {\n            System.out.println(&quot;Error,invaild input&quot;);\n        \n        }\n        }\n\n    public double getKW() {\n        return kw;\n    }\n    public double getTRF() {\n        return trf;\n    }\n    public char getISFAST() {\n    return isFast;\n    }\n    public String getCODE() {\n        return code;\n    }\n    public double consumptionTotal(double KW,double TRF) {\n        double sum;\n        this.kw = KW;\n        this.trf = TRF;\n        sum = (TRF*KW);\n        return sum;\n    }\n    public void print(){\n        System.out.println(&quot;kw =&quot; + kw + &quot;, trf =&quot; + trf + &quot;, isFast =&quot; + isFast + &quot;, code =&quot; + code);\n        \n    }\n    public ChargingPoint() {\n    }\n    public char getIsFast() {\n        return isFast;\n        \n    }\n    \n    public double consumptionTotal() {\n        return (trf*kw);\n    }\n   public String toString() {\n        return &quot;kw: &quot;+this.kw+&quot; &quot;+&quot;isfast: &quot;+this.isFast + &quot; &quot;+&quot;code: &quot;+this.code;\n     }\n</code></pre>\n<pre><code>**FuelSt class=**\npublic class FuelSt {\n    \n    private ChargingPoint[] arrUs;\n    private int currentUs ;\n    private ChargingPoint[] arrFast;\n    private int currentFt ;\n    private boolean highway = true;\n    ChargingPoint charg1 = new ChargingPoint();\n    ChargingPoint charg2 = new ChargingPoint();\n    \n \n   \n    \n    public FuelSt (boolean highway) {\n        if(highway = true) {\n            this.highway = highway;\n            double c;\n            c = charg1.consumptionTotal();\n            c = c -((c*13)/100);\n        }\n        else {\n            this.highway =false;\n        }\n        \n\n    }\n    \n   \n    public boolean addChargingPoint (ChargingPoint charg1){\n        //ChargingPoint[] arrFast = new ChargingPoint[30];\n        //ChargingPoint[] arrUs = new ChargingPoint[30];\n    \n        if(charg1.getIsFast() == 'f') {\n            if(arrFast == null) {\n            arrFast = new ChargingPoint[30];\n            }\n            else {\n\n            for(int i=0; i &lt; arrFast.length;i++) {\n                  arrFast[i] = charg1; \n                 \n                \n\n                \n                }\n            }\n            }\n            else if (charg1.getIsFast() == 'u') {\n            if(arrUs == null) {\n                arrUs = new ChargingPoint[30];\n                }\n            else {\n            for(int i=0; i &lt; arrUs.length;i++) {\n                arrUs[i] = charg1;\n                currentUs++;\n                \n         }\n            }\n            }\n            \n\n\n\n            \n        return false;\n}\n</code></pre>\n<pre><code>**Main=**\npublic static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n         System.out.print(&quot;is the fuel next to a highway?&quot;);  \n        Scanner in = new Scanner(System.in);\n        boolean yes = in.nextBoolean();\n         \n        FuelSt fuelroad = new FuelSt(yes);\n        \n     \n        System.out.println(&quot;type kw&quot;);\n        double kw = in.nextDouble();\n        System.out.println(&quot;type u/f&quot;);\n        char isFast = (char)System.in.read();\n        System.out.println(&quot;type code&quot;);\n        String code = in.next();\n        ChargingPoint chargF= new ChargingPoint(code,isFast);\n        chargF.setKW(kw);\n        fuelroad.addChargingPoint(chargF);\n        chargF.print();\n        \n        System.out.println(&quot;type kw&quot;);\n        double kw1 = in.nextDouble();\n        System.out.println(&quot;type u/f&quot;);\n        char isFast1 = (char)System.in.read();\n        System.out.println(&quot;type code&quot;);\n        String code1 = in.next();\n        ChargingPoint chargF1= new ChargingPoint(code1,isFast1);\n        chargF1.setKW(kw1);\n        fuelroad.addChargingPoint(chargF1);\n        \n        chargF1.print();\n        System.out.println(Arrays.toString(fuelroad.getarrFast()));\n        //System.out.println(fuelroad.getarrFast());\n        \n    \n    \n        \n          \n            System.out.println(&quot;type kw&quot;);\n            double kw2 = in.nextDouble();\n            System.out.println(&quot;type u/f&quot;);\n            char isFast2 = (char)System.in.read();\n            System.out.println(&quot;type code&quot;);\n            String code2 = in.next();\n            ChargingPoint chargU = new ChargingPoint(code2,isFast2);\n            chargU.setKW(kw2);\n            fuelroad.addChargingPoint(chargU);\n            chargU.print();\n            \n            \n            System.out.println(&quot;type kw&quot;);\n            double kw3 = in.nextDouble();\n            System.out.println(&quot;type u/f&quot;);\n            char isFast3 = (char)System.in.read();\n            System.out.println(&quot;type code&quot;);\n            String code3 = in.next();\n            ChargingPoint chargU1 = new ChargingPoint(code3,isFast3);\n            chargU1.setKW(kw3);\n            fuelroad.addChargingPoint(chargU1);\n            chargU1.print();\n            \n</code></pre>\n"},{"tags":["java","spring-boot","testing","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597776741,"post_id":63471868,"comment_id":112243070,"body_markdown":"its is quite simple, you are blocking a reactive application, and blocking is not allowed. If you wish to test reactive return types use the `StepVerifier` and not `assert` https://projectreactor.io/docs/core/release/reference/#_testing_a_scenario_with_stepverifier","body":"its is quite simple, you are blocking a reactive application, and blocking is not allowed. If you wish to test reactive return types use the <code>StepVerifier</code> and not <code>assert</code> <a href=\"https://projectreactor.io/docs/core/release/reference/#_testing_a_scenario_with_stepverifier\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/&hellip;</a>"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597787001,"post_id":63471868,"comment_id":112246820,"body_markdown":"@ThomasAndolf - Unfortunately doesn&#39;t seem that simple.  I tried with StepVerifier and the result is the same only the error message end changes to ` [Context0{}] and the name is [stepVerifier ]` instead of the current one posted in the question.","body":"@ThomasAndolf - Unfortunately doesn&#39;t seem that simple.  I tried with StepVerifier and the result is the same only the error message end changes to ` [Context0{}] and the name is [stepVerifier ]` instead of the current one posted in the question."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597817901,"post_id":63471868,"comment_id":112253648,"body_markdown":"Dont explain your code, post what you have tried because it is the solution and you are probably implementing it wrong.","body":"Dont explain your code, post what you have tried because it is the solution and you are probably implementing it wrong."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597818806,"post_id":63471868,"comment_id":112253944,"body_markdown":"@ThomasAndolf - sure mate. I have updated the question with the StepVerifier implementation and the error which seems still same issue.","body":"@ThomasAndolf - sure mate. I have updated the question with the StepVerifier implementation and the error which seems still same issue."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597822143,"post_id":63471868,"comment_id":112255219,"body_markdown":"i read up a bit on the exception and it has somerthing to do when you are not registering beans correctly in the spring context. i dont like the usage of `@DirtiesContext` can you please produce a small reproducible example.","body":"i read up a bit on the exception and it has somerthing to do when you are not registering beans correctly in the spring context. i dont like the usage of <code>@DirtiesContext</code> can you please produce a small reproducible example."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597824536,"post_id":63471868,"comment_id":112256342,"body_markdown":"Hi, thanks for the support, I will try to do that. Also, I noticed that if I run those same tests directly from IntelliJ they actually pass, but not when running from the command line, or in the pipeline, so I am more puzzled by it now.","body":"Hi, thanks for the support, I will try to do that. Also, I noticed that if I run those same tests directly from IntelliJ they actually pass, but not when running from the command line, or in the pipeline, so I am more puzzled by it now."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597831160,"post_id":63471868,"comment_id":112259498,"body_markdown":"Then check your java versions could be that","body":"Then check your java versions could be that"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597831373,"post_id":63471868,"comment_id":112259596,"body_markdown":"Yep, sure. First thing I did. They&#39;re exactly the same. What I noticed is that if I run the tests in isolation they always pass, but when running all tests(even from IntelliJ) the reactive ones fail with this error.","body":"Yep, sure. First thing I did. They&#39;re exactly the same. What I noticed is that if I run the tests in isolation they always pass, but when running all tests(even from IntelliJ) the reactive ones fail with this error."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597832349,"post_id":63471868,"comment_id":112260026,"body_markdown":"Then you have what is called overbleeding between tests and in pretty sure the `@DirtiesContext` has something to do with it. If you declare it, it will destroy the entire context between tests. You should avoid using it because it slows down tests. Instead try with the aproach, clean up, set up test data, assert for each test using a combination of `@Before` and such to avoid test overbleeding.","body":"Then you have what is called overbleeding between tests and in pretty sure the <code>@DirtiesContext</code> has something to do with it. If you declare it, it will destroy the entire context between tests. You should avoid using it because it slows down tests. Instead try with the aproach, clean up, set up test data, assert for each test using a combination of <code>@Before</code> and such to avoid test overbleeding."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597832546,"post_id":63471868,"comment_id":112260114,"body_markdown":"Many think that `@DirtiesContext` is a simple way to just &quot;reset&quot; your application, but its not, destroying and rebuilding the context takes time. Only reason to use it is if you are doing something that makes the context irreparable for instance changing the state of something etc.","body":"Many think that <code>@DirtiesContext</code> is a simple way to just &quot;reset&quot; your application, but its not, destroying and rebuilding the context takes time. Only reason to use it is if you are doing something that makes the context irreparable for instance changing the state of something etc."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597833106,"post_id":63471868,"comment_id":112260364,"body_markdown":"but it is hard to give any more advice without seeing your full source code.","body":"but it is hard to give any more advice without seeing your full source code."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597845077,"post_id":63471868,"comment_id":112266367,"body_markdown":"Hi, I finally manage to sort it out. I will publish an answer for what solved in my case. relevant to notice that this project uses a combination of Spring MVC and WebFlux so it&#39;s running in Tomcat.","body":"Hi, I finally manage to sort it out. I will publish an answer for what solved in my case. relevant to notice that this project uses a combination of Spring MVC and WebFlux so it&#39;s running in Tomcat."}],"answers":[{"tags":[],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597845331,"creation_date":1597845331,"answer_id":63488585,"question_id":63471868,"body_markdown":"I finally manage to sort it out, unfortunately not sure of the root cause but what fixed it was removing the properties from the @SpringBootTest annotation and using it&#39;s defaults. Clearly something has changed in there with the upgrade of the dependencies which caused the issue. \r\n\r\nSo it works when like this: \r\n\r\n    ...\r\n    @RunWith(SpringRunner.class)\r\n\r\n    // below annotation properties were removed which fixed the tests...\r\n    @SpringBootTest\r\n\r\n    @Import({AccountApiClient.class,...})\r\n    @DirtiesContext\r\n    @AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\r\n     ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\r\n     consumerName = &quot;AccountServiceV2&quot;,\r\n     stubsPerConsumer = true)\r\n    public class AccountsClientTest {","title":"Spring Boot WebFlux tests failing after upgrade to Spring Boot 2.2","body":"<p>I finally manage to sort it out, unfortunately not sure of the root cause but what fixed it was removing the properties from the @SpringBootTest annotation and using it's defaults. Clearly something has changed in there with the upgrade of the dependencies which caused the issue.</p>\n<p>So it works when like this:</p>\n<pre><code>...\n@RunWith(SpringRunner.class)\n\n// below annotation properties were removed which fixed the tests...\n@SpringBootTest\n\n@Import({AccountApiClient.class,...})\n@DirtiesContext\n@AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\n ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\n consumerName = &quot;AccountServiceV2&quot;,\n stubsPerConsumer = true)\npublic class AccountsClientTest {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598542950,"creation_date":1598542950,"answer_id":63619608,"question_id":63471868,"body_markdown":"I have a similar issue after adding \r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI solved this by removing @DirtiesContext","title":"Spring Boot WebFlux tests failing after upgrade to Spring Boot 2.2","body":"<p>I have a similar issue after adding</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I solved this by removing @DirtiesContext</p>\n"}],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63488585,"answer_count":2,"score":0,"last_activity_date":1682158139,"creation_date":1597764567,"question_id":63471868,"body_markdown":"I have some Spring Boot integration tests which worked fine in Spring Boot 2.1 but now that I have upgraded to Spring Boot 2.2 they&#39;re failing. Using default spring-boot parent dependency management. Some failing tests which used to work are as simple as this example: \r\n\r\n    ...\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(\r\n     webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n     properties = {&quot;spring.sleuth.enabled=false&quot;})\r\n    @Import({AccountApiClient.class,...})\r\n    @DirtiesContext\r\n    @AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\r\n     ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\r\n     consumerName = &quot;AccountServiceV2&quot;,\r\n     stubsPerConsumer = true)\r\n    public class AccountsClientTest {\r\n    \r\n    @Autowired\r\n    AccountService accountService;\r\n\r\n    @Test\r\n    public void verifyAccountsShouldReturnEmpty() {\r\n        Mono&lt;List&lt;Accounts&gt;&gt; acc = accountService.getAccounts(new AccountId(ACC_ID));\r\n        assertThat(acc.block(), hasSize(0));\r\n     }\r\n     ...\r\n\r\nBefore the upgrade, this test passes as expected but after the upgrade, it fails with the following error: \r\n\r\n```\r\n[ERROR] verifyAccountsShouldReturnEmpty  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\r\nreactor.core.Exceptions$ReactiveException: java.lang.AssertionError: Spring Context [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7d605944, started on Tue Aug 18 10:00:09 CEST 2020, parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a035db9] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [blocking]\r\n```\r\n\r\nI have many tests with similar behaviour after upgrading. It fails on line `assertThat(acc.block(), hasSize(0));` \r\n\r\nWhat might be causing this?\r\n\r\nUpdate\r\n---\r\n\r\nI&#39;ve tried changing the test to use StepVerifier as suggested in comments but didn&#39;t work: \r\n\r\n    @Test\r\n    public void verifyAccountsShouldReturnEmpty() {\r\n      StepVerifier.create(\r\n          accountService.getAccounts(new AccountId(ACC_ID)))\r\n          .expectNext(Collections.emptyList())\r\n          .verifyComplete();\r\n    }\r\n\r\nThe end of the error just changed to: `parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@985b9f6] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [stepVerifier ]))` which seems the same issue as using block but now with StepVerifier.\r\n","title":"Spring Boot WebFlux tests failing after upgrade to Spring Boot 2.2","body":"<p>I have some Spring Boot integration tests which worked fine in Spring Boot 2.1 but now that I have upgraded to Spring Boot 2.2 they're failing. Using default spring-boot parent dependency management. Some failing tests which used to work are as simple as this example:</p>\n<pre><code>...\n@RunWith(SpringRunner.class)\n@SpringBootTest(\n webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n properties = {&quot;spring.sleuth.enabled=false&quot;})\n@Import({AccountApiClient.class,...})\n@DirtiesContext\n@AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\n ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\n consumerName = &quot;AccountServiceV2&quot;,\n stubsPerConsumer = true)\npublic class AccountsClientTest {\n\n@Autowired\nAccountService accountService;\n\n@Test\npublic void verifyAccountsShouldReturnEmpty() {\n    Mono&lt;List&lt;Accounts&gt;&gt; acc = accountService.getAccounts(new AccountId(ACC_ID));\n    assertThat(acc.block(), hasSize(0));\n }\n ...\n</code></pre>\n<p>Before the upgrade, this test passes as expected but after the upgrade, it fails with the following error:</p>\n<pre><code>[ERROR] verifyAccountsShouldReturnEmpty  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\nreactor.core.Exceptions$ReactiveException: java.lang.AssertionError: Spring Context [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7d605944, started on Tue Aug 18 10:00:09 CEST 2020, parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a035db9] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [blocking]\n</code></pre>\n<p>I have many tests with similar behaviour after upgrading. It fails on line <code>assertThat(acc.block(), hasSize(0));</code></p>\n<p>What might be causing this?</p>\n<h2>Update</h2>\n<p>I've tried changing the test to use StepVerifier as suggested in comments but didn't work:</p>\n<pre><code>@Test\npublic void verifyAccountsShouldReturnEmpty() {\n  StepVerifier.create(\n      accountService.getAccounts(new AccountId(ACC_ID)))\n      .expectNext(Collections.emptyList())\n      .verifyComplete();\n}\n</code></pre>\n<p>The end of the error just changed to: <code>parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@985b9f6] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [stepVerifier ]))</code> which seems the same issue as using block but now with StepVerifier.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682167346,"post_id":76078960,"comment_id":134174557,"body_markdown":"Why: `Each project need to pick up the maven_setting.xml ` is this neccesary???","body":"Why: <code>Each project need to pick up the maven_setting.xml </code> is this neccesary???"}],"owner":{"account_id":152408,"reputation":6071,"user_id":366916,"accept_rate":50,"display_name":"bharathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682157539,"creation_date":1682156441,"question_id":76078960,"body_markdown":"I have around 25 project. Right now, I am building manually one by one. I thought of using maven reactor module.\r\n\r\nEach project what I have I run manually with following commands\r\n\r\n    mvn clean install -s devops/ci/maven_setting.xml.\r\n\r\nThis maven_setting.xml have the activeProfiles. Each project will have different activeProfiles.\r\n\r\n\r\nNow the problem is I am try to run all the projects together by creating maven reactor.\r\n\r\nBelow is the pom.xml file where I have included all projects.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n     &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mt.pom&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mt-base-retail-pom&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;mt-base-retail-pom&lt;/name&gt;\r\n     &lt;profiles&gt;\r\n       &lt;profile&gt;\r\n          &lt;id&gt;all-parent-pom&lt;/id&gt;\r\n          &lt;modules&gt;\r\n\t\t     &lt;module&gt;../mt-base-parent-pom&lt;/module&gt;&gt;\r\n\t\t     &lt;module&gt;../mt-functional-service-pom&lt;/module&gt; etc\r\n\t      &lt;/modules&gt;\r\n\t   &lt;/profile&gt;\r\n\t   &lt;profile&gt;\r\n          &lt;id&gt;all-common-sdk&lt;/id&gt;\r\n          &lt;modules&gt;\r\n\t\t     &lt;module&gt;../mt-elasticsearch-starter&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-entity-annotation-processor&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-mongodb-starter&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-neo4j-starter&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-sql-starter&lt;/module&gt;  etc\r\n\t      &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n\t   &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nNow when I try to build all-common-sdk projects with \r\n\r\n    mvn clean install -P all-common-sdk\r\n\r\nEach project need to pick up the maven_setting.xml from its own subfolder which is not happening.\r\n\r\nHow to make the maven_setting.xml as part of maven modules.\r\n\r\nNote: This maven_settings.xml will have different active profiles for each project.\r\n\r\nPlease let me if there is any other way as well so that I can build all projects at a time in single shot.\r\n\r\n","title":"How do I run each module with different commands in maven reactor","body":"<p>I have around 25 project. Right now, I am building manually one by one. I thought of using maven reactor module.</p>\n<p>Each project what I have I run manually with following commands</p>\n<pre><code>mvn clean install -s devops/ci/maven_setting.xml.\n</code></pre>\n<p>This maven_setting.xml have the activeProfiles. Each project will have different activeProfiles.</p>\n<p>Now the problem is I am try to run all the projects together by creating maven reactor.</p>\n<p>Below is the pom.xml file where I have included all projects.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.mt.pom&lt;/groupId&gt;\n&lt;artifactId&gt;mt-base-retail-pom&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;name&gt;mt-base-retail-pom&lt;/name&gt;\n &lt;profiles&gt;\n   &lt;profile&gt;\n      &lt;id&gt;all-parent-pom&lt;/id&gt;\n      &lt;modules&gt;\n         &lt;module&gt;../mt-base-parent-pom&lt;/module&gt;&gt;\n         &lt;module&gt;../mt-functional-service-pom&lt;/module&gt; etc\n      &lt;/modules&gt;\n   &lt;/profile&gt;\n   &lt;profile&gt;\n      &lt;id&gt;all-common-sdk&lt;/id&gt;\n      &lt;modules&gt;\n         &lt;module&gt;../mt-elasticsearch-starter&lt;/module&gt;\n         &lt;module&gt;../mt-entity-annotation-processor&lt;/module&gt;\n         &lt;module&gt;../mt-mongodb-starter&lt;/module&gt;\n         &lt;module&gt;../mt-neo4j-starter&lt;/module&gt;\n         &lt;module&gt;../mt-sql-starter&lt;/module&gt;  etc\n      &lt;/modules&gt;\n    &lt;/profile&gt;\n   &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Now when I try to build all-common-sdk projects with</p>\n<pre><code>mvn clean install -P all-common-sdk\n</code></pre>\n<p>Each project need to pick up the maven_setting.xml from its own subfolder which is not happening.</p>\n<p>How to make the maven_setting.xml as part of maven modules.</p>\n<p>Note: This maven_settings.xml will have different active profiles for each project.</p>\n<p>Please let me if there is any other way as well so that I can build all projects at a time in single shot.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5712315,"reputation":260,"user_id":4513858,"accept_rate":9,"display_name":"localplutonium"},"score":3,"creation_date":1461395595,"post_id":36807712,"comment_id":61188967,"body_markdown":"just make a new array that is +1 size of the old one put the new item at the first index and then fill in the rest with the old","body":"just make a new array that is +1 size of the old one put the new item at the first index and then fill in the rest with the old"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1461396076,"post_id":36807712,"comment_id":61189078,"body_markdown":"Make a `StackArray` that wraps an `Array`.","body":"Make a <code>StackArray</code> that wraps an <code>Array</code>."}],"answers":[{"tags":[],"owner":{"account_id":4490621,"reputation":3759,"user_id":3651800,"display_name":"Matt Coubrough"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461395562,"creation_date":1461395562,"answer_id":36807842,"question_id":36807712,"body_markdown":"As per the [Java tutorials][1] (which I thoroughly recommend beginners to work through)\r\n\r\n&gt; An *array* is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed. \r\n\r\nBecause arrays cannot be resized - you can *overwrite* the first element, but to perform an *insert* you must create a new array 1 larger than the previous one, put your new element in the first position and fill the rest of the array with the existing elements.\r\n\r\n**Of course, in practice don&#39;t do this. Instead use a collection that suits your actual use-case.**\r\n\r\nSo the actual answer to your question is: The simplest way to add an item to front of a java array is to use a better collection type such as a [Deque][2].\r\n\r\nI cannot think of *any* valid reason in Java to not use a more appropriate collection than a raw array if inserting to the front is required. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>As per the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow\">Java tutorials</a> (which I thoroughly recommend beginners to work through)</p>\n\n<blockquote>\n  <p>An <em>array</em> is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed. </p>\n</blockquote>\n\n<p>Because arrays cannot be resized - you can <em>overwrite</em> the first element, but to perform an <em>insert</em> you must create a new array 1 larger than the previous one, put your new element in the first position and fill the rest of the array with the existing elements.</p>\n\n<p><strong>Of course, in practice don't do this. Instead use a collection that suits your actual use-case.</strong></p>\n\n<p>So the actual answer to your question is: The simplest way to add an item to front of a java array is to use a better collection type such as a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html\" rel=\"nofollow\">Deque</a>.</p>\n\n<p>I cannot think of <em>any</em> valid reason in Java to not use a more appropriate collection than a raw array if inserting to the front is required. </p>\n"},{"tags":[],"owner":{"account_id":8157508,"reputation":1007,"user_id":6142587,"display_name":"Carlos Parra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461396300,"creation_date":1461396300,"answer_id":36807950,"question_id":36807712,"body_markdown":"Why not just use an ArrayList?\r\n\r\nYou could use an Array convert it to a List as follows:\r\n\r\n    List&lt;Integer&gt; myList = Arrays.asList(1,2,3); \r\n    //Instead of 1,2,3 you could create an Integer array: Integer[] myArray = {1,2,3};\r\n    \r\n    myList.add(0, 25);\r\n\r\n\r\nIf you decide doing this way, you could check the answers of this question:\r\n\r\nhttps://stackoverflow.com/questions/12949690/java-arrays-how-to-add-elements-at-the-beginning\r\n\r\nor just check out the documentation:\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Why not just use an ArrayList?</p>\n\n<p>You could use an Array convert it to a List as follows:</p>\n\n<pre><code>List&lt;Integer&gt; myList = Arrays.asList(1,2,3); \n//Instead of 1,2,3 you could create an Integer array: Integer[] myArray = {1,2,3};\n\nmyList.add(0, 25);\n</code></pre>\n\n<p>If you decide doing this way, you could check the answers of this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12949690/java-arrays-how-to-add-elements-at-the-beginning\">Java Arrays how to add elements at the beginning</a></p>\n\n<p>or just check out the documentation:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html</a></p>\n"},{"tags":[],"owner":{"account_id":253349,"reputation":7254,"user_id":531984,"accept_rate":67,"display_name":"Eminem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461398838,"creation_date":1461398838,"answer_id":36808293,"question_id":36807712,"body_markdown":"    for(int i = roadVehicles.length; i &gt; 0; i--) {\r\n        if (roadVehicles[i-1] != null) {\r\n            roadVehicles[i] = roadVehicles[i-1];                \r\n        }\r\n    }\r\n    roadVehicles[0] = car;","title":"Simplest way to add an item to beginning of an array in Java","body":"<pre><code>for(int i = roadVehicles.length; i &gt; 0; i--) {\n    if (roadVehicles[i-1] != null) {\n        roadVehicles[i] = roadVehicles[i-1];                \n    }\n}\nroadVehicles[0] = car;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8307126,"reputation":76,"user_id":6243715,"display_name":"Dario Corsetti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461399452,"creation_date":1461399452,"answer_id":36808389,"question_id":36807712,"body_markdown":"Once created an array cannot be resized. If you have to add an element you&#39;ll need to create a new array.\r\nIf you know the array type it&#39;s trivial, but a nicer solution will work with any array type, using the `java.lang.reflect.Array`\r\n\r\nExample code:\r\n\r\n    public static Object addElementInFrontOfArray(Object array, Object element) {\r\n         int newArraySize = Array.getLength(array)+1;\r\n         Object newArray = Array.newInstance(element.getClass(), newArraySize);\r\n         //Add first element\r\n         Array.set(newArray, 0, element);\r\n         for (int i=1 ; i&lt;newArraySize; i++) {\r\n             Array.set(newArray, i, Array.get(array, i-1));\r\n         }\r\n         return newArray;\r\n    }\r\n\r\nConsider that you can pass a int[] array as parameter but a Integer[] arrary will be returned","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Once created an array cannot be resized. If you have to add an element you'll need to create a new array.\nIf you know the array type it's trivial, but a nicer solution will work with any array type, using the <code>java.lang.reflect.Array</code></p>\n\n<p>Example code:</p>\n\n<pre><code>public static Object addElementInFrontOfArray(Object array, Object element) {\n     int newArraySize = Array.getLength(array)+1;\n     Object newArray = Array.newInstance(element.getClass(), newArraySize);\n     //Add first element\n     Array.set(newArray, 0, element);\n     for (int i=1 ; i&lt;newArraySize; i++) {\n         Array.set(newArray, i, Array.get(array, i-1));\n     }\n     return newArray;\n}\n</code></pre>\n\n<p>Consider that you can pass a int[] array as parameter but a Integer[] arrary will be returned</p>\n"},{"tags":[],"owner":{"account_id":7008272,"reputation":7615,"user_id":5372008,"display_name":"Teocci"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1615236803,"creation_date":1537509185,"answer_id":52437408,"question_id":36807712,"body_markdown":"There are two ways to do this. One, using `Objects` or another using `generics`. I recommend you to use `generics` because gives you more flexibility as you gonna see in these examples.\r\n\r\nIn this first implementation the function `add2BeginningOfArray` is using `generics`:\r\n\r\n```java\r\npublic static &lt;T&gt; T[] add2BeginningOfArray(T[] elements, T element)\r\n{\r\n    T[] newArray = Arrays.copyOf(elements, elements.length + 1);\r\n    newArray[0] = element;\r\n    System.arraycopy(elements, 0, newArray, 1, elements.length);\r\n\r\n    return newArray;\r\n}\r\n```\r\n\r\nCalling this function is really simple. For instance, if you have a class `Dot` and you want to add an element to the beginning of an array of `Dot` objects you just need to do this:\r\n\r\n```java\r\nint size = 20;\r\nDot[] dots = new Dot[size];\r\nfor (int i = 0; i &lt; size; i++) {\r\n    dots[i] = new Dot(&quot;This is a dot&quot;);\r\n}\r\n\r\nDot goal = new Dot(&quot;This is a goal&quot;);\r\n\r\nSystem.out.println(Arrays.toString(add2BeginningOfArray(dots, goal)));\r\n```\r\nYou can also implement a function declaring the function parameters as `Object` as shown in this example:\r\n\r\n```java\r\npublic static Object[] add2BeginningOfArray(Object[] elements, Object element){\r\n    Object[] tempArr = new Object[elements.length + 1];\r\n    tempArr[0] = element;\r\n    System.arraycopy(elements, 0, tempArr, 1, elements.length);\r\n}\r\n```\r\n\r\nNow, what is the problem?  Well, not a big problem but now you need to declare your array as `Object[]` and use this kind of declaration to work with it.\r\n\r\n```java\r\nObject[] foo = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;};\r\n\r\n//adding an element to the beginning array\r\nObject[] numbers = add2BeginningOfArray(foo, &quot;1&quot;);\r\nSystem.out.println(Arrays.toString(numbers));\r\n```\r\n\r\nFor me the `generics` approach is cleaner and more scalable, so I really recommend it over the `Object` approach. \r\n","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>There are two ways to do this. One, using <code>Objects</code> or another using <code>generics</code>. I recommend you to use <code>generics</code> because gives you more flexibility as you gonna see in these examples.</p>\n<p>In this first implementation the function <code>add2BeginningOfArray</code> is using <code>generics</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T[] add2BeginningOfArray(T[] elements, T element)\n{\n    T[] newArray = Arrays.copyOf(elements, elements.length + 1);\n    newArray[0] = element;\n    System.arraycopy(elements, 0, newArray, 1, elements.length);\n\n    return newArray;\n}\n</code></pre>\n<p>Calling this function is really simple. For instance, if you have a class <code>Dot</code> and you want to add an element to the beginning of an array of <code>Dot</code> objects you just need to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int size = 20;\nDot[] dots = new Dot[size];\nfor (int i = 0; i &lt; size; i++) {\n    dots[i] = new Dot(&quot;This is a dot&quot;);\n}\n\nDot goal = new Dot(&quot;This is a goal&quot;);\n\nSystem.out.println(Arrays.toString(add2BeginningOfArray(dots, goal)));\n</code></pre>\n<p>You can also implement a function declaring the function parameters as <code>Object</code> as shown in this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Object[] add2BeginningOfArray(Object[] elements, Object element){\n    Object[] tempArr = new Object[elements.length + 1];\n    tempArr[0] = element;\n    System.arraycopy(elements, 0, tempArr, 1, elements.length);\n}\n</code></pre>\n<p>Now, what is the problem?  Well, not a big problem but now you need to declare your array as <code>Object[]</code> and use this kind of declaration to work with it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object[] foo = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;};\n\n//adding an element to the beginning array\nObject[] numbers = add2BeginningOfArray(foo, &quot;1&quot;);\nSystem.out.println(Arrays.toString(numbers));\n</code></pre>\n<p>For me the <code>generics</code> approach is cleaner and more scalable, so I really recommend it over the <code>Object</code> approach.</p>\n"},{"tags":[],"owner":{"account_id":8434780,"reputation":669,"user_id":6329250,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546859031,"creation_date":1543571612,"answer_id":53555082,"question_id":36807712,"body_markdown":"Apache Commons Lang class &#39;ArrayUtils&#39; makes this very easy, if that is an option for you:\r\n\r\n    char[] arrayA = {&#39;b&#39;, &#39;c&#39;};\r\n\tchar[] arrayB = ArrayUtils.add(arrayA, 0, &#39;a&#39;);\r\n    // arrayB: [a, b, c]","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Apache Commons Lang class 'ArrayUtils' makes this very easy, if that is an option for you:</p>\n\n<pre><code>char[] arrayA = {'b', 'c'};\nchar[] arrayB = ArrayUtils.add(arrayA, 0, 'a');\n// arrayB: [a, b, c]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4020618,"reputation":46,"user_id":3311110,"display_name":"user3311110"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545851695,"creation_date":1545851695,"answer_id":53936189,"question_id":36807712,"body_markdown":"Considering this source\r\n\r\nhttps://www.journaldev.com/763/java-array-add-elements\r\n\r\nyou can add new elements at the beginning of you array by doing this:\r\n\r\n        public static Object[] add(Object[] arr, Object... elements){\r\n        Object[] tempArr = new Object[arr.length+elements.length];\r\n        System.arraycopy(arr, 0, tempArr, elements.length, arr.length);\r\n\r\n        for(int i=0; i &lt; elements.length; i++)\r\n            tempArr[i] = elements[i];\r\n        return tempArr;\r\n\r\n    }","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Considering this source</p>\n\n<p><a href=\"https://www.journaldev.com/763/java-array-add-elements\" rel=\"nofollow noreferrer\">https://www.journaldev.com/763/java-array-add-elements</a></p>\n\n<p>you can add new elements at the beginning of you array by doing this:</p>\n\n<pre><code>    public static Object[] add(Object[] arr, Object... elements){\n    Object[] tempArr = new Object[arr.length+elements.length];\n    System.arraycopy(arr, 0, tempArr, elements.length, arr.length);\n\n    for(int i=0; i &lt; elements.length; i++)\n        tempArr[i] = elements[i];\n    return tempArr;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108996,"reputation":740,"user_id":289037,"accept_rate":50,"display_name":"PMorganCA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553195172,"creation_date":1553195172,"answer_id":55287614,"question_id":36807712,"body_markdown":"here&#39;s a concrete example of the simplest way I could find:\r\n\r\n    \tList&lt;StackTraceElement&gt; stack = new ArrayList&lt;StackTraceElement&gt; (Arrays.asList (e.getStackTrace()));\r\n\t\tstack.add (0, new StackTraceElement (&quot;class&quot;, &quot;method&quot;, &quot;file&quot;, 25439));\r\n\t\tStackTraceElement[] newStack = new StackTraceElement[stack.size()];\r\n\t\tnewStack = stack.toArray (newStack);  \r\n\t\te.setStackTrace (newStack);\r\n\r\nBasically it uses `java.util.Arrays.asList()` to turn the array into a `List`, adds to the list and then turns the list back into an array with `List.toArray()`.\r\n\r\nAs everybody has said, you can&#39;t really add to the beginning of an array unless you shift all the elements by one first, or as in my solution, you make a new array.","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>here's a concrete example of the simplest way I could find:</p>\n\n<pre><code>    List&lt;StackTraceElement&gt; stack = new ArrayList&lt;StackTraceElement&gt; (Arrays.asList (e.getStackTrace()));\n    stack.add (0, new StackTraceElement (\"class\", \"method\", \"file\", 25439));\n    StackTraceElement[] newStack = new StackTraceElement[stack.size()];\n    newStack = stack.toArray (newStack);  \n    e.setStackTrace (newStack);\n</code></pre>\n\n<p>Basically it uses <code>java.util.Arrays.asList()</code> to turn the array into a <code>List</code>, adds to the list and then turns the list back into an array with <code>List.toArray()</code>.</p>\n\n<p>As everybody has said, you can't really add to the beginning of an array unless you shift all the elements by one first, or as in my solution, you make a new array.</p>\n"},{"tags":[],"owner":{"account_id":21242194,"reputation":11,"user_id":15625474,"display_name":"Lukas"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1618336566,"creation_date":1618336566,"answer_id":67080054,"question_id":36807712,"body_markdown":"Just .unshift()\r\n\r\nThis adds an element to the beginning of an array.","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Just .unshift()</p>\n<p>This adds an element to the beginning of an array.</p>\n"},{"tags":[],"owner":{"account_id":9269537,"reputation":722,"user_id":6883983,"display_name":"Roman Lototskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682155462,"creation_date":1682154605,"answer_id":76078855,"question_id":36807712,"body_markdown":"I used this method:\r\n\r\n    public void addFront(Item item) { //add item to the front\r\n        Item temp = arr[0];\r\n        arr[0] = item;\r\n        for (int i = 1; i &lt; arr.length - 1; i++) {\r\n            Item temp2 = arr[i];\r\n            arr[i] = temp;\r\n            temp = temp2;\r\n        }\r\n    }\r\n\r\nStill you shoud manage resising or ArrayIndexOutOfBoundsException in case you add more elements than initially predifined length of your array. \r\nIt was exercise 3.5.27 from &quot;Algorithms&quot; fourth edition from Robert Sedgewick &amp; Kevin Wayne.\r\n","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>I used this method:</p>\n<pre><code>public void addFront(Item item) { //add item to the front\n    Item temp = arr[0];\n    arr[0] = item;\n    for (int i = 1; i &lt; arr.length - 1; i++) {\n        Item temp2 = arr[i];\n        arr[i] = temp;\n        temp = temp2;\n    }\n}\n</code></pre>\n<p>Still you shoud manage resising or ArrayIndexOutOfBoundsException in case you add more elements than initially predifined length of your array.\nIt was exercise 3.5.27 from &quot;Algorithms&quot; fourth edition from Robert Sedgewick &amp; Kevin Wayne.</p>\n"}],"owner":{"account_id":253349,"reputation":7254,"user_id":531984,"accept_rate":67,"display_name":"Eminem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43082,"favorite_count":0,"down_vote_count":6,"up_vote_count":16,"accepted_answer_id":36808293,"answer_count":10,"score":10,"last_activity_date":1682155462,"creation_date":1461394745,"question_id":36807712,"body_markdown":"I need the **simplest** way to add an item to the front of an Java array.  \r\nI need the Java array NOT the ArrayList.","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>I need the <strong>simplest</strong> way to add an item to the front of an Java array.<br />\nI need the Java array NOT the ArrayList.</p>\n"},{"tags":["java","file-io","iostream","inputstream","outputstream"],"comments":[{"owner":{"account_id":10448,"reputation":91684,"user_id":19746,"accept_rate":91,"display_name":"Piskvor left the building"},"score":0,"creation_date":1303564172,"post_id":5764323,"comment_id":6601478,"body_markdown":"Could you read the whole file as a byte stream, then find your delimiters in there, put the parts into byte arrays and read those as the respective streams?","body":"Could you read the whole file as a byte stream, then find your delimiters in there, put the parts into byte arrays and read those as the respective streams?"},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303564578,"post_id":5764323,"comment_id":6601515,"body_markdown":"That may work up until the object that needs to be read, but I feel there might be a more direct way.","body":"That may work up until the object that needs to be read, but I feel there might be a more direct way."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303565249,"creation_date":1303565249,"answer_id":5764422,"question_id":5764323,"body_markdown":"Redesign the file. There is no sensible way of implementing it as presently designed. For example the object presupposes an ObjectOutputStream, which has a header - where&#39;s that going to go? And how are you going to know where to switch from bytes to chars?\r\n\r\nI would probably use an ObjectOutputStream for the whole thing and write everything as objects. Then Serialization solves all those problems for you. After all you don&#39;t actually care what&#39;s in the file, only how to read and write it.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>Redesign the file. There is no sensible way of implementing it as presently designed. For example the object presupposes an ObjectOutputStream, which has a header - where's that going to go? And how are you going to know where to switch from bytes to chars?</p>\n\n<p>I would probably use an ObjectOutputStream for the whole thing and write everything as objects. Then Serialization solves all those problems for you. After all you don't actually care what's in the file, only how to read and write it.</p>\n"},{"tags":[],"owner":{"account_id":325673,"reputation":1405,"user_id":646998,"accept_rate":83,"display_name":"Christopher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303571781,"creation_date":1303571781,"answer_id":5765000,"question_id":5764323,"body_markdown":"Can you change the structure of the file? It is unclear because the first sentence of your question contradicts being able to add delineators. If you &lt;b&gt;can&lt;/b&gt; change the file structure you could output the different data types into separate files. I would consider this the &#39;proper&#39; way to delineate the data streams.\r\n\r\nIf you are stuck with the file the way it is then you will need to write an interface to the file&#39;s structure which in practice is a shopping list of read operations and a lot of exception handling. A hackish way to program because it will require a hex editor and a lot of trial and error but it works in certain cases.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>Can you change the structure of the file? It is unclear because the first sentence of your question contradicts being able to add delineators. If you <b>can</b> change the file structure you could output the different data types into separate files. I would consider this the 'proper' way to delineate the data streams.</p>\n\n<p>If you are stuck with the file the way it is then you will need to write an interface to the file's structure which in practice is a shopping list of read operations and a lot of exception handling. A hackish way to program because it will require a hex editor and a lot of trial and error but it works in certain cases.</p>\n"},{"tags":[],"owner":{"account_id":106190,"reputation":9362,"user_id":282968,"accept_rate":73,"display_name":"MJB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303583545,"creation_date":1303583545,"answer_id":5766087,"question_id":5764323,"body_markdown":"Why not write the file as XML, possibly with a nice simple library like XSTream. If you are concerned about space, wrap it in gzip compression.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>Why not write the file as XML, possibly with a nice simple library like XSTream. If you are concerned about space, wrap it in gzip compression.</p>\n"},{"tags":[],"owner":{"account_id":211113,"reputation":376,"user_id":463100,"display_name":"Noah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303596631,"creation_date":1303596631,"answer_id":5767287,"question_id":5764323,"body_markdown":"If you have control over the file format, and it&#39;s not an exceptionally large file (i.e. &lt; 1 GiB), have you thought about using Google&#39;s Protocol Buffers?\r\n\r\nThey generate code that parses (and serializes) file/byte[] content. Protocol buffers use a tagging approach on every value that includes (1) field number and (2) a type, so they have nice properties such as forward/backward compatability with optional fields etc. They are fairly well optimized for both speed and file size, adding only ~2 bytes of overhead for a short byte[], with ~2-4 additional bytes to encode the length on larger byte[] fields (VarInt encoded lengths).\r\n\r\nThis could be overkill, but if you have a bunch of different fields &amp; types, protobuf is really helpful. See: http://code.google.com/p/protobuf/.\r\n\r\nAn alternative is Thrift by Facebook, with support for a few more languages although possibly less use in the wild last I checked.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>If you have control over the file format, and it's not an exceptionally large file (i.e. &lt; 1 GiB), have you thought about using Google's Protocol Buffers?</p>\n\n<p>They generate code that parses (and serializes) file/byte[] content. Protocol buffers use a tagging approach on every value that includes (1) field number and (2) a type, so they have nice properties such as forward/backward compatability with optional fields etc. They are fairly well optimized for both speed and file size, adding only ~2 bytes of overhead for a short byte[], with ~2-4 additional bytes to encode the length on larger byte[] fields (VarInt encoded lengths).</p>\n\n<p>This could be overkill, but if you have a bunch of different fields &amp; types, protobuf is really helpful. See: <a href=\"http://code.google.com/p/protobuf/\" rel=\"nofollow\">http://code.google.com/p/protobuf/</a>.</p>\n\n<p>An alternative is Thrift by Facebook, with support for a few more languages although possibly less use in the wild last I checked.</p>\n"},{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1303597962,"creation_date":1303597962,"answer_id":5767410,"question_id":5764323,"body_markdown":"As **EJP** already suggested, use ObjectOutputStream and ObjectInputStream an0d wrap your other elements as an object(s). I&#39;m giving as an answer so I could show an example (it&#39;s hard to do it in comment) EJP - if you want to embed it in your question, please do and I&#39;ll delete the answer.\r\n\r\n    class MyWrapedData implements serializeable{\r\n        private String string1;\r\n        private String string2;\r\n        private char   char1;\r\n        // constructors\r\n        // getters setters\r\n    }\r\n\r\nWrite to file:\r\n\r\n    ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(fileName));\r\n    out.writeObject(myWrappedDataInstance);\r\n    out.flush();\r\n\r\nRead from file\r\n\r\n    ObjectInputStream in = new ObjectInputStream(new FileInputStream(fileName));\r\n    Object obj = in.readObject();\r\n    MyWrapedData wraped = null;\r\n    if ((obj != null) &amp;&amp; (obj instanceof MyWrappedData))\r\n        wraped = (MyWrapedData)obj;\r\n    // get the specific elements from the wraped object\r\n\r\nsee very clear example here: [Read][1] and [Write][2]\r\n\r\n\r\n  [1]: http://www.javadb.com/reading-objects-from-file-using-objectinputstream\r\n  [2]: http://www.javadb.com/writing-objects-to-file-with-objectoutputstream","title":"What is the proper way to write/read a file with different IO streams","body":"<p>As <strong>EJP</strong> already suggested, use ObjectOutputStream and ObjectInputStream an0d wrap your other elements as an object(s). I'm giving as an answer so I could show an example (it's hard to do it in comment) EJP - if you want to embed it in your question, please do and I'll delete the answer.</p>\n\n<pre><code>class MyWrapedData implements serializeable{\n    private String string1;\n    private String string2;\n    private char   char1;\n    // constructors\n    // getters setters\n}\n</code></pre>\n\n<p>Write to file:</p>\n\n<pre><code>ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(fileName));\nout.writeObject(myWrappedDataInstance);\nout.flush();\n</code></pre>\n\n<p>Read from file</p>\n\n<pre><code>ObjectInputStream in = new ObjectInputStream(new FileInputStream(fileName));\nObject obj = in.readObject();\nMyWrapedData wraped = null;\nif ((obj != null) &amp;&amp; (obj instanceof MyWrappedData))\n    wraped = (MyWrapedData)obj;\n// get the specific elements from the wraped object\n</code></pre>\n\n<p>see very clear example here: <a href=\"http://www.javadb.com/reading-objects-from-file-using-objectinputstream\" rel=\"nofollow\">Read</a> and <a href=\"http://www.javadb.com/writing-objects-to-file-with-objectoutputstream\" rel=\"nofollow\">Write</a></p>\n"},{"tags":[],"owner":{"account_id":327864,"reputation":51,"user_id":650483,"display_name":"Thiago Veronezi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306861141,"creation_date":1306861141,"answer_id":6190945,"question_id":5764323,"body_markdown":"If the structure of your file is not fixed, consider using a wrapper per type. First you need to create the interface of your wrapper classes….\r\n\r\n&lt;pre&gt;\r\ninterface MyWrapper extends Serializable {\r\n\tvoid accept(MyWrapperVisitor visitor);\r\n}\r\n&lt;/pre&gt;\r\n\r\nThen you create the MyWrapperVisitor interface…\r\n\r\n&lt;pre&gt;\r\ninterface MyWrapperVisitor {\r\n\tvoid visit(MyString wrapper);\r\n\tvoid visit(MyChar wrapper);\r\n\tvoid visit(MyLong wrapper);\r\n\tvoid visit(MyCustomObject wrapper);\r\n}\r\n&lt;/pre&gt;\r\n\r\nThen you create your wrapper classes…\r\n\r\n&lt;pre&gt;\r\nclass MyString implements MyWrapper {\r\n\tpublic final String value;\r\n\r\n\tpublic MyString(String value) {\r\n\t\tsuper();\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void accept(MyWrapperVisitor visitor) {\r\n\t\tvisitor.visit(this);\r\n\t\t\r\n\t}\r\n}\r\n.\r\n.\r\n.\r\n&lt;/pre&gt;\r\n\r\nAnd finally you read your objects…\r\n\r\n&lt;pre&gt;\r\nfinal InputStream in = new FileInputStream(myfile);\r\nfinal ObjectInputStream objIn = new ObjectInputStream(in);\r\nfinal MyWrapperVisitor visitor = new MyWrapperVisitor() {\r\n\t@Override\r\n\tpublic void visit(MyString wrapper) {\r\n\t\t//your logic here\r\n\t\t\r\n\t}\r\n\t.\r\n\t.\r\n\t.\r\n};\r\n\r\n//loop over all your objects here\r\nfinal MyWrapper wrapper = (MyWrapper) objIn.readObject();\r\nwrapper.accept(visitor);\r\n&lt;/pre&gt;","title":"What is the proper way to write/read a file with different IO streams","body":"<p>If the structure of your file is not fixed, consider using a wrapper per type. First you need to create the interface of your wrapper classes….</p>\n\n<pre>\ninterface MyWrapper extends Serializable {\n    void accept(MyWrapperVisitor visitor);\n}\n</pre>\n\n<p>Then you create the MyWrapperVisitor interface…</p>\n\n<pre>\ninterface MyWrapperVisitor {\n    void visit(MyString wrapper);\n    void visit(MyChar wrapper);\n    void visit(MyLong wrapper);\n    void visit(MyCustomObject wrapper);\n}\n</pre>\n\n<p>Then you create your wrapper classes…</p>\n\n<pre>\nclass MyString implements MyWrapper {\n    public final String value;\n\n    public MyString(String value) {\n        super();\n        this.value = value;\n    }\n\n    @Override\n    public void accept(MyWrapperVisitor visitor) {\n        visitor.visit(this);\n\n    }\n}\n.\n.\n.\n</pre>\n\n<p>And finally you read your objects…</p>\n\n<pre>\nfinal InputStream in = new FileInputStream(myfile);\nfinal ObjectInputStream objIn = new ObjectInputStream(in);\nfinal MyWrapperVisitor visitor = new MyWrapperVisitor() {\n    @Override\n    public void visit(MyString wrapper) {\n        //your logic here\n\n    }\n    .\n    .\n    .\n};\n\n//loop over all your objects here\nfinal MyWrapper wrapper = (MyWrapper) objIn.readObject();\nwrapper.accept(visitor);\n</pre>\n"}],"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5767410,"answer_count":6,"score":2,"last_activity_date":1682154308,"creation_date":1303563898,"question_id":5764323,"body_markdown":"I have a file that contains bytes, chars, and an object, all of which need to be written then read.  What would be the best way to utilize Java&#39;s different IO streams for writing and reading these data types?  \r\n\r\nMore specifically, is there a proper way to add delimiters and recognize those delimiters, then triggering what stream should be used?  I believe I need some clarification on using multiple streams in the same file, something I have never studied before.  A thorough explanation would be a sufficient answer.\r\n","title":"What is the proper way to write/read a file with different IO streams","body":"<p>I have a file that contains bytes, chars, and an object, all of which need to be written then read.  What would be the best way to utilize Java's different IO streams for writing and reading these data types?</p>\n<p>More specifically, is there a proper way to add delimiters and recognize those delimiters, then triggering what stream should be used?  I believe I need some clarification on using multiple streams in the same file, something I have never studied before.  A thorough explanation would be a sufficient answer.</p>\n"},{"tags":["java","android","kotlin","gradle","build"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1682151321,"post_id":76078578,"comment_id":134172962,"body_markdown":"`None of us have ever worked with android before` ?? I think you mean: `None of us have ever worked with Android Studio before`. Add that tag. You have problems with Android Studio. Not with Android.","body":"<code>None of us have ever worked with android before</code> ?? I think you mean: <code>None of us have ever worked with Android Studio before</code>. Add that tag. You have problems with Android Studio. Not with Android."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1682152794,"post_id":76078578,"comment_id":134173084,"body_markdown":"I disagree. The issue is with the Gradle build, and has nothing to do with the IDE. It would be exactly the same on the command line. Nothing in this question is specific to Android Studio, so it would be an inappropriate tag for this question.","body":"I disagree. The issue is with the Gradle build, and has nothing to do with the IDE. It would be exactly the same on the command line. Nothing in this question is specific to Android Studio, so it would be an inappropriate tag for this question."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682151984,"creation_date":1682151984,"answer_id":76078690,"question_id":76078578,"body_markdown":"`lifecycle-extensions` was discontinued after version 2.2.0, but you are specifying version 2.6.1. You can remove this line:\r\n\r\n    implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\r\n\r\nYou are already using the various `-ktx` versions of the lifecycle libraries, which is now the correct way to get the extensions.\r\n\r\nIn your `buildscript` block in the other file, you should replace `jcenter()` with `mavenCentral()` and you can remove the following, since it is redundant to using `google()`:\r\n\r\n        maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }","title":"Bunch of errors when trying to build app on android studio. How to fix?","body":"<p><code>lifecycle-extensions</code> was discontinued after version 2.2.0, but you are specifying version 2.6.1. You can remove this line:</p>\n<pre><code>implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\n</code></pre>\n<p>You are already using the various <code>-ktx</code> versions of the lifecycle libraries, which is now the correct way to get the extensions.</p>\n<p>In your <code>buildscript</code> block in the other file, you should replace <code>jcenter()</code> with <code>mavenCentral()</code> and you can remove the following, since it is redundant to using <code>google()</code>:</p>\n<pre><code>    maven {\n        url &quot;https://maven.google.com&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682153811,"creation_date":1682153811,"answer_id":76078802,"question_id":76078578,"body_markdown":"You are trying to import version 2.6.1 of the `android.arch.lifecycle:extensions` library which does not exist.\r\n\r\nAccording to the [Google maven repository](https://maven.google.com/web/m_index.html#android.arch.lifecycle:extensions:1.1.1) the latest version is 1.1.1. ","title":"Bunch of errors when trying to build app on android studio. How to fix?","body":"<p>You are trying to import version 2.6.1 of the <code>android.arch.lifecycle:extensions</code> library which does not exist.</p>\n<p>According to the <a href=\"https://maven.google.com/web/m_index.html#android.arch.lifecycle:extensions:1.1.1\" rel=\"nofollow noreferrer\">Google maven repository</a> the latest version is 1.1.1.</p>\n"}],"owner":{"account_id":28377965,"reputation":13,"user_id":21705710,"display_name":"epicobadah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76078690,"answer_count":2,"score":1,"last_activity_date":1682153811,"creation_date":1682150001,"question_id":76078578,"body_markdown":"So I have a group project I am working on in which we are developing an android app. None of us have ever worked with android before, and have been largely learning off of youtube tutorials. We&#39;ve been having success, but as I finished with my component, I started getting errors on build and I have no idea what they mean.[Build errors, therest of which just saying the debug failed.](https://i.stack.imgur.com/jIibH.png) it seems like it may just be dependencies or gradle issues, but most of the project is in java and I did this in kotlin so maybe that&#39;s an issue, but I am not sure what to do. \r\n\r\n\r\nBelow are the dependencies in my build.gradle(Module:app)\r\n\r\n```\r\ndependencies {\r\n\r\n    def lifecycle_version = &quot;2.6.1&quot;\r\n    def nav_version = &quot;2.5.3&quot;\r\n    def recyclerview_version = &quot;1.3.0&quot;\r\n    def material_version = &quot;1.4.0-alpha01&quot;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth-ktx:21.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.5.0&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-firestore:8.0.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    // ViewModel\r\n    implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\r\n    // LiveData\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\r\n\r\n    // Navigation\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\r\n\r\n    // recyclerview\r\n    implementation &quot;androidx.recyclerview:recyclerview:$recyclerview_version&quot;\r\n\r\n    // material\r\n    implementation &quot;com.google.android.material:material:$material_version&quot;\r\n\r\n\r\n    //OTP PIN\r\n}\r\n```\r\n\r\nand below here is my entire build.gradle(project)\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &quot;1.4.31&quot;\r\n    repositories{\r\n        google()\r\n        jcenter()\r\n        maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.5.3&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\r\n        classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n}\r\n```\r\n\r\n\r\n\r\nI wasn&#39;t really sure what to try, but I went and tried to update the versions of implementations like lifecycle, navigation, recyclerview and material. None of these seemed to have worked though. I also tried adding maven to my repositories, but seemingly to no success. I am not sure if this is an error with my actual code, as the project is mostly java but I did my component in kotlin, but I didn&#39;t think that should be an issue, and the errors seem to be build/gradle related. Any help/ideas is appreciated.","title":"Bunch of errors when trying to build app on android studio. How to fix?","body":"<p>So I have a group project I am working on in which we are developing an android app. None of us have ever worked with android before, and have been largely learning off of youtube tutorials. We've been having success, but as I finished with my component, I started getting errors on build and I have no idea what they mean.<a href=\"https://i.stack.imgur.com/jIibH.png\" rel=\"nofollow noreferrer\">Build errors, therest of which just saying the debug failed.</a> it seems like it may just be dependencies or gradle issues, but most of the project is in java and I did this in kotlin so maybe that's an issue, but I am not sure what to do.</p>\n<p>Below are the dependencies in my build.gradle(Module:app)</p>\n<pre><code>dependencies {\n\n    def lifecycle_version = &quot;2.6.1&quot;\n    def nav_version = &quot;2.5.3&quot;\n    def recyclerview_version = &quot;1.3.0&quot;\n    def material_version = &quot;1.4.0-alpha01&quot;\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth-ktx:21.3.0'\n    implementation 'com.google.firebase:firebase-auth:21.3.0'\n    implementation 'com.google.firebase:firebase-firestore:24.5.0'\n    implementation 'com.firebaseui:firebase-ui-firestore:8.0.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    // ViewModel\n    implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\n    // LiveData\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\n\n    // Navigation\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n    // recyclerview\n    implementation &quot;androidx.recyclerview:recyclerview:$recyclerview_version&quot;\n\n    // material\n    implementation &quot;com.google.android.material:material:$material_version&quot;\n\n\n    //OTP PIN\n}\n</code></pre>\n<p>and below here is my entire build.gradle(project)</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.4.31&quot;\n    repositories{\n        google()\n        jcenter()\n        maven {\n            url &quot;https://maven.google.com&quot;\n        }\n    }\n    dependencies {\n        def nav_version = &quot;2.5.3&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\n        classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n<p>I wasn't really sure what to try, but I went and tried to update the versions of implementations like lifecycle, navigation, recyclerview and material. None of these seemed to have worked though. I also tried adding maven to my repositories, but seemingly to no success. I am not sure if this is an error with my actual code, as the project is mostly java but I did my component in kotlin, but I didn't think that should be an issue, and the errors seem to be build/gradle related. Any help/ideas is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jackson","java-17"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1682157626,"post_id":76078716,"comment_id":134173532,"body_markdown":"Can&#39;t test right now, but if I remember correctly you need to use `@JsonProperty` on every parameter in the constructor.","body":"Can&#39;t test right now, but if I remember correctly you need to use <code>@JsonProperty</code> on every parameter in the constructor."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1682157661,"post_id":76078716,"comment_id":134173540,"body_markdown":"Which version of Jackson are you using? https://github.com/FasterXML/jackson-databind/issues/2709","body":"Which version of Jackson are you using? <a href=\"https://github.com/FasterXML/jackson-databind/issues/2709\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/2709</a>"},{"owner":{"account_id":12672203,"reputation":27,"user_id":9209365,"display_name":"Binary"},"score":0,"creation_date":1682163063,"post_id":76078716,"comment_id":134174091,"body_markdown":"Adding `@JsonProperty` fixed it for me. Strange how it works without it in 2 other dtos I have, but it doesn&#39;t on this one. thanks, @chaosfire","body":"Adding <code>@JsonProperty</code> fixed it for me. Strange how it works without it in 2 other dtos I have, but it doesn&#39;t on this one. thanks, @chaosfire"}],"owner":{"account_id":12672203,"reputation":27,"user_id":9209365,"display_name":"Binary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682153190,"creation_date":1682152407,"question_id":76078716,"body_markdown":"I have a method in a rest controller that takes a JSON request body and should deserialize it into a record called TransactionDTO, but it keeps giving me the error: `Could not resolve parameter [0] in private org.springframework.http.ResponseEntity&lt;com.web.store.app.backend.dto.TransactionDTO&gt; com.web.store.app.backend.controller.TransactionController.saveTransaction(com.web.store.app.backend.dto.TransactionDTO): JSON parse error: Can not set final java.util.List field com.web.store.app.backend.dto.TransactionDTO.productIds to java.util.ArrayList`\r\n\r\nI know that the problem is because I am using a record. When I change it to a class and remove the final from the parameters it works, but I want to avoid using a class as a DTO if possible.\r\n\r\nthe method:\r\n\r\n```\r\n    @PostMapping(value = &quot;add&quot;)\r\n    private ResponseEntity&lt;TransactionDTO&gt; saveTransaction(@Valid @RequestBody TransactionDTO transactionDTO) {\r\n\r\n        return transactionService.saveTransaction(transactionDTO).map(\r\n                transaction -&gt; ResponseEntity.status(HttpStatus.CREATED).body(transaction)).orElseGet(\r\n                () -&gt; ResponseEntity\r\n                        .status(HttpStatus.BAD_REQUEST)\r\n                        .build());\r\n    }\r\n```\r\n\r\nTransactionDTO:\r\n\r\n```\r\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\npublic record TransactionDTO(String id, Long userId,\r\n                             @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mmXXX&quot;, shape = JsonFormat.Shape.STRING)\r\n                             ZonedDateTime createdAt, List&lt;String&gt; productIds) {}\r\n```\r\n\r\nThe request used:\r\n\r\n`curl --location &#39;localhost:8080/transaction/api/add&#39; \\ --header &#39;Content-Type: application/json&#39; \\ --data &#39;{     &quot;id&quot;: &quot;TRNS03&quot;,     &quot;user_id&quot;: 1,     &quot;created_at&quot;:&quot;2023-03-19T06:33-06:00&quot;,     &quot;product_ids&quot;:[&quot;PRD003&quot;] }&#39;`\r\n\r\n","title":"Deserializing a JSON into a record causes JSON parse error","body":"<p>I have a method in a rest controller that takes a JSON request body and should deserialize it into a record called TransactionDTO, but it keeps giving me the error: <code>Could not resolve parameter [0] in private org.springframework.http.ResponseEntity&lt;com.web.store.app.backend.dto.TransactionDTO&gt; com.web.store.app.backend.controller.TransactionController.saveTransaction(com.web.store.app.backend.dto.TransactionDTO): JSON parse error: Can not set final java.util.List field com.web.store.app.backend.dto.TransactionDTO.productIds to java.util.ArrayList</code></p>\n<p>I know that the problem is because I am using a record. When I change it to a class and remove the final from the parameters it works, but I want to avoid using a class as a DTO if possible.</p>\n<p>the method:</p>\n<pre><code>    @PostMapping(value = &quot;add&quot;)\n    private ResponseEntity&lt;TransactionDTO&gt; saveTransaction(@Valid @RequestBody TransactionDTO transactionDTO) {\n\n        return transactionService.saveTransaction(transactionDTO).map(\n                transaction -&gt; ResponseEntity.status(HttpStatus.CREATED).body(transaction)).orElseGet(\n                () -&gt; ResponseEntity\n                        .status(HttpStatus.BAD_REQUEST)\n                        .build());\n    }\n</code></pre>\n<p>TransactionDTO:</p>\n<pre><code>@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic record TransactionDTO(String id, Long userId,\n                             @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mmXXX&quot;, shape = JsonFormat.Shape.STRING)\n                             ZonedDateTime createdAt, List&lt;String&gt; productIds) {}\n</code></pre>\n<p>The request used:</p>\n<p><code>curl --location 'localhost:8080/transaction/api/add' \\ --header 'Content-Type: application/json' \\ --data '{     &quot;id&quot;: &quot;TRNS03&quot;,     &quot;user_id&quot;: 1,     &quot;created_at&quot;:&quot;2023-03-19T06:33-06:00&quot;,     &quot;product_ids&quot;:[&quot;PRD003&quot;] }'</code></p>\n"},{"tags":["java","date","enums","java.util.scanner"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682151950,"post_id":76078060,"comment_id":134173016,"body_markdown":"Using enums is a good idea. You need not create your own `Month` enum, it is built in already, and it’s better not to &quot;reinvent the wheel&quot;. Inport `java.time.Month`. You may consider an enum for the astrological signs too. Inside each of the cases of your switch statement you will still need if-else for choosing between the two possible Zodiac sings for that month.","body":"Using enums is a good idea. You need not create your own <code>Month</code> enum, it is built in already, and it’s better not to &quot;reinvent the wheel&quot;. Inport <code>java.time.Month</code>. You may consider an enum for the astrological signs too. Inside each of the cases of your switch statement you will still need if-else for choosing between the two possible Zodiac sings for that month."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682152336,"post_id":76078060,"comment_id":134173043,"body_markdown":"It may not be what your mentor intended, but for production code one would use a `DateTimeFormatter.ofPattern(&quot;MMMM&quot;, Locale.ENGLISH)` and convert into a `Month` enum value using `Month.from(yourDateTimeFormatter.parse(userInputString))`.","body":"It may not be what your mentor intended, but for production code one would use a <code>DateTimeFormatter.ofPattern(&quot;MMMM&quot;, Locale.ENGLISH)</code> and convert into a <code>Month</code> enum value using <code>Month.from(yourDateTimeFormatter.parse(userInputString))</code>."},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682181547,"post_id":76078060,"comment_id":134176439,"body_markdown":"I think what I&#39;m confused on is how I implement this with my scanner input, I&#39;m not sure If the way I&#39;ve constructed the program makes it out of scope or not","body":"I think what I&#39;m confused on is how I implement this with my scanner input, I&#39;m not sure If the way I&#39;ve constructed the program makes it out of scope or not"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682191087,"post_id":76078060,"comment_id":134177601,"body_markdown":"I had intended `userInputString` to be the string read from the user through your scanner -- what is caled  `birthMonth` in your code, yes, sorry, using a different name was confusing.","body":"I had intended <code>userInputString</code> to be the string read from the user through your scanner -- what is caled  <code>birthMonth</code> in your code, yes, sorry, using a different name was confusing."},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682192936,"post_id":76078060,"comment_id":134177822,"body_markdown":"Thank you. I think another issue I&#39;m having Is I&#39;m not sure if these methods should be in the main method or outside of it. When It&#39;s outside the main method I&#39;m struggling to understand what&#39;s actually supposed to be in my main method. This challenge is really exposing what I do and don&#39;t know lol","body":"Thank you. I think another issue I&#39;m having Is I&#39;m not sure if these methods should be in the main method or outside of it. When It&#39;s outside the main method I&#39;m struggling to understand what&#39;s actually supposed to be in my main method. This challenge is really exposing what I do and don&#39;t know lol"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682193409,"post_id":76078060,"comment_id":134177883,"body_markdown":"I understand. It’s a design decision what to put where, so there isn’t just one correct answer. Options include: (1) Put it in the `main` method and pass the `Month` object obtained as argument to the method you are calling. (2) Pass the string from the user to the method and convert to `Month` inside the method. (3) Code a separate method for reading the user input and converting it. This method would then return a `Month` object after having read the input through the scanner and converted.","body":"I understand. It’s a design decision what to put where, so there isn’t just one correct answer. Options include: (1) Put it in the <code>main</code> method and pass the <code>Month</code> object obtained as argument to the method you are calling. (2) Pass the string from the user to the method and convert to <code>Month</code> inside the method. (3) Code a separate method for reading the user input and converting it. This method would then return a <code>Month</code> object after having read the input through the scanner and converted."},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682194831,"post_id":76078060,"comment_id":134178029,"body_markdown":"also I&#39;m having a problem where im trying to switch for each case, but i keep getting &quot;January cannot be resolved to a variable&quot; when trying to pass in the user input for each case. I&#39;m using switch(Month.valueOf(birthMonth)) and I&#39;m unsure why this doesn&#39;t work","body":"also I&#39;m having a problem where im trying to switch for each case, but i keep getting &quot;January cannot be resolved to a variable&quot; when trying to pass in the user input for each case. I&#39;m using switch(Month.valueOf(birthMonth)) and I&#39;m unsure why this doesn&#39;t work"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682198644,"post_id":76078060,"comment_id":134178458,"body_markdown":"If you are using the built-in `Month` enum, the constants are named `JANUARY`, etc., in all uppercase (this follows the Java naming conventions). So you need `switch (Month.valueOf(birthMonth.toUpperCase()))` and then `case Month.JANUARY:`,, etc.","body":"If you are using the built-in <code>Month</code> enum, the constants are named <code>JANUARY</code>, etc., in all uppercase (this follows the Java naming conventions). So you need <code>switch (Month.valueOf(birthMonth.toUpperCase()))</code> and then <code>case Month.JANUARY:</code>,, etc."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682139114,"creation_date":1682139114,"answer_id":76078076,"question_id":76078060,"body_markdown":"You can use the `valueOf` method on the `enum` type to convert a `String` to the corresponding enum.\r\n\r\n```java\r\nswitch (Month.valueOf(birthMonth)) {\r\ncase January -&gt; System.out.println(&quot;January&quot;); // or do something else...\r\n// etc...\r\n}\r\n```\r\n\r\nYou might also want to catch `IllegalArgumentException` in case the user enters an invalid month.","title":"How to combine scanner input and enum for months of the year?","body":"<p>You can use the <code>valueOf</code> method on the <code>enum</code> type to convert a <code>String</code> to the corresponding enum.</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (Month.valueOf(birthMonth)) {\ncase January -&gt; System.out.println(&quot;January&quot;); // or do something else...\n// etc...\n}\n</code></pre>\n<p>You might also want to catch <code>IllegalArgumentException</code> in case the user enters an invalid month.</p>\n"}],"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682152393,"creation_date":1682138643,"question_id":76078060,"body_markdown":"I&#39;m trying to play around with a program I made to tell you what your zodiac sign is and previously I was just running scannner inuput through if statements to determine the sign given birth month and birth day. Now my mentor has challenged me to use enum and switching between months of the year. My problem is conceptually I&#39;m very confused as to how to bring these two concepts together\r\n\r\nHere&#39;s my code below so far but I&#39;m really just shooting in the dark here\r\n```\r\nimport java.util.Scanner;\r\n\r\nenum Month {\r\n    \r\nJanuary,\r\nFebruary,\r\nMarch,\r\nApril,\r\nMay,\r\nJune,\r\nJuly,\r\nAugust,\r\nSeptember,\r\nOctober,\r\nNovember,\r\nDecember\r\n}\r\n\r\nclass MyStarSign3 {\r\n\r\n    Month month;\r\n\r\n    public EnumTest(Month month) {\r\n\r\n        this.month = month;\r\n    }\r\n\r\n    public void monthBorn() {\r\n        switch (month) {\r\n\r\n            case January:\r\n\r\n\r\n            case February:\r\n\r\n\r\n            case March:\r\n\r\n\r\n            case April:\r\n\r\n\r\n            case May:\r\n\r\n\r\n            case June: \r\n\r\n\r\n            case July:\r\n\r\n\r\n            case August:\r\n\r\n\r\n            case September:\r\n\r\n\r\n            case October:\r\n\r\n\r\n            case November:\r\n\r\n\r\n            case December:\r\n\r\n\r\n            default:\r\n\r\n\r\n                \r\n        }\r\n    }\r\n\r\n\r\n                public static void main(String[] args) {\r\n\r\n                        Scanner monthInput = new Scanner(System.in);\r\n\r\n                        String birthMonth = monthInput.nextLine();\r\n\r\n                }\r\n\r\n}\r\n```","title":"How to combine scanner input and enum for months of the year?","body":"<p>I'm trying to play around with a program I made to tell you what your zodiac sign is and previously I was just running scannner inuput through if statements to determine the sign given birth month and birth day. Now my mentor has challenged me to use enum and switching between months of the year. My problem is conceptually I'm very confused as to how to bring these two concepts together</p>\n<p>Here's my code below so far but I'm really just shooting in the dark here</p>\n<pre><code>import java.util.Scanner;\n\nenum Month {\n    \nJanuary,\nFebruary,\nMarch,\nApril,\nMay,\nJune,\nJuly,\nAugust,\nSeptember,\nOctober,\nNovember,\nDecember\n}\n\nclass MyStarSign3 {\n\n    Month month;\n\n    public EnumTest(Month month) {\n\n        this.month = month;\n    }\n\n    public void monthBorn() {\n        switch (month) {\n\n            case January:\n\n\n            case February:\n\n\n            case March:\n\n\n            case April:\n\n\n            case May:\n\n\n            case June: \n\n\n            case July:\n\n\n            case August:\n\n\n            case September:\n\n\n            case October:\n\n\n            case November:\n\n\n            case December:\n\n\n            default:\n\n\n                \n        }\n    }\n\n\n                public static void main(String[] args) {\n\n                        Scanner monthInput = new Scanner(System.in);\n\n                        String birthMonth = monthInput.nextLine();\n\n                }\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9510,"page":482,"page_size":100}
