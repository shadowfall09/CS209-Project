{"items":[{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3044638,"reputation":1627,"user_id":2580649,"display_name":"PakkuDon"},"score":2,"creation_date":1400726378,"post_id":23796951,"comment_id":36602616,"body_markdown":"What is `setArray` and what&#39;s the purpose of the call to `getSetArray()`?","body":"What is <code>setArray</code> and what&#39;s the purpose of the call to <code>getSetArray()</code>?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1400726508,"post_id":23796951,"comment_id":36602644,"body_markdown":"what line are you getting the NPE on?","body":"what line are you getting the NPE on?"},{"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"score":0,"creation_date":1400727011,"post_id":23796951,"comment_id":36602750,"body_markdown":"these are my line of error\n\njava.lang.NullPointerException\n    at java.util.ComparableTimSort.binarySort(ComparableTimSort.java:232)\n    at java.util.ComparableTimSort.sort(ComparableTimSort.java:176)\n    at java.util.ComparableTimSort.sort(ComparableTimSort.java:146)\n    at java.util.Arrays.sort(Arrays.java:472)\n    at setadt.SetADT.sorted(SetADT.java:280)\n    at setadt.SetADTDriver_sol.main(SetADTDriver_sol.java:233)","body":"these are my line of error  java.lang.NullPointerException     at java.util.ComparableTimSort.binarySort(ComparableTimSort.jav&zwnj;&#8203;a:232)     at java.util.ComparableTimSort.sort(ComparableTimSort.java:176)     at java.util.ComparableTimSort.sort(ComparableTimSort.java:146)     at java.util.Arrays.sort(Arrays.java:472)     at setadt.SetADT.sorted(SetADT.java:280)     at setadt.SetADTDriver_sol.main(SetADTDriver_sol.java:233)"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1400727120,"post_id":23796951,"comment_id":36602776,"body_markdown":"What version of Java are you on? Line 232 in `ComparableTimSort.java` for me is in the middle of a javadoc comment...","body":"What version of Java are you on? Line 232 in <code>ComparableTimSort.java</code> for me is in the middle of a javadoc comment..."},{"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"score":0,"creation_date":1400727222,"post_id":23796951,"comment_id":36602799,"body_markdown":"I&#39;m not quite sure my teacher told me to download the program called &quot;netbeans&quot; on verious 7.2","body":"I&#39;m not quite sure my teacher told me to download the program called &quot;netbeans&quot; on verious 7.2"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1400727427,"post_id":23796951,"comment_id":36602845,"body_markdown":"That&#39;s an IDE, not your Java version... What happens if you open up a command prompt and type in &quot;java -version&quot;?","body":"That&#39;s an IDE, not your Java version... What happens if you open up a command prompt and type in &quot;java -version&quot;?"},{"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"score":0,"creation_date":1400727525,"post_id":23796951,"comment_id":36602863,"body_markdown":"not sure if it helps but I posted my whole code","body":"not sure if it helps but I posted my whole code"},{"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"score":0,"creation_date":1400727669,"post_id":23796951,"comment_id":36602900,"body_markdown":"when i type in &quot;java- version&quot; in cmd it says \n&quot;unrecongnized option&quot;\n&quot;Error:could not creat the java virtual machine.&quot;\n&quot;Error: a fatal expetion has occurred. program will exit.&quot;","body":"when i type in &quot;java- version&quot; in cmd it says  &quot;unrecongnized option&quot; &quot;Error:could not creat the java virtual machine.&quot; &quot;Error: a fatal expetion has occurred. program will exit.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400727905,"creation_date":1400727905,"answer_id":23797172,"question_id":23796951,"body_markdown":"See if any elements of `setArray` are null. `Arrays.sort()` requires that each element of the array being sorted has to be non-null: [&quot;All elements in the array must implement the Comparable interface.&quot;][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort%28java.lang.Object%5B%5D%29","title":"Why do I have NullPointerException in my sort implementation?","body":"<p>See if any elements of <code>setArray</code> are null. <code>Arrays.sort()</code> requires that each element of the array being sorted has to be non-null: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort%28java.lang.Object%5B%5D%29\" rel=\"nofollow\">\"All elements in the array must implement the Comparable interface.\"</a></p>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1400728924,"creation_date":1400728458,"answer_id":23797247,"question_id":23796951,"body_markdown":"The cause of NPE is that you store null in your array. The implementation of [ComparableTimSort][1] does not check for null. \r\n\r\n\r\n     private static void binarySort(Object[] a, int lo, int hi, int start) {\r\n     214         assert lo &lt;= start &amp;&amp; start &lt;= hi;\r\n     215         if (start == lo)\r\n     216             start++;\r\n     217         for ( ; start &lt; hi; start++) {\r\n     218             @SuppressWarnings(&quot;unchecked&quot;)\r\n     219             Comparable&lt;Object&gt; pivot = (Comparable) a[start];\r\n     220 \r\n     221             // Set left (and right) to the index where a[start] (pivot) belongs\r\n     222             int left = lo;\r\n     223             int right = start;\r\n     224             assert left &lt;= right;\r\n     225             /*\r\n     226              * Invariants:\r\n     227              *   pivot &gt;= all in [lo, left).\r\n     228              *   pivot &lt;  all in [right, start).\r\n     229              */\r\n     230             while (left &lt; right) {\r\n     231                 int mid = (left + right) &gt;&gt;&gt; 1;\r\n     232                 if (pivot.compareTo(a[mid]) &lt; 0)\r\n     233                     right = mid;\r\n     234                 else\r\n     235                     left = mid + 1;\r\n     236             }\r\n     237             assert left == right;\r\n     238 \r\n\r\n\r\nYou must assure that null value is not stored in your array. \r\n\r\n\r\nTo do that you must assert that argument passed in method `add` is not null and create a copy of your container before sorting to valid size. \r\n\r\n\r\n    public Object[] sorted() {\r\n    \r\n        Object[] toSort = Arrays.copyOf(getSetArray(),getSize());\r\n        Arrays.sort(toSort);\r\n        return toSort;\r\n    }\r\n\r\n[1]:http://cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/share/classes/java/util/ComparableTimSort.java.html\r\n","title":"Why do I have NullPointerException in my sort implementation?","body":"<p>The cause of NPE is that you store null in your array. The implementation of <a href=\"http://cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/share/classes/java/util/ComparableTimSort.java.html\" rel=\"nofollow\">ComparableTimSort</a> does not check for null. </p>\n\n<pre><code> private static void binarySort(Object[] a, int lo, int hi, int start) {\n 214         assert lo &lt;= start &amp;&amp; start &lt;= hi;\n 215         if (start == lo)\n 216             start++;\n 217         for ( ; start &lt; hi; start++) {\n 218             @SuppressWarnings(\"unchecked\")\n 219             Comparable&lt;Object&gt; pivot = (Comparable) a[start];\n 220 \n 221             // Set left (and right) to the index where a[start] (pivot) belongs\n 222             int left = lo;\n 223             int right = start;\n 224             assert left &lt;= right;\n 225             /*\n 226              * Invariants:\n 227              *   pivot &gt;= all in [lo, left).\n 228              *   pivot &lt;  all in [right, start).\n 229              */\n 230             while (left &lt; right) {\n 231                 int mid = (left + right) &gt;&gt;&gt; 1;\n 232                 if (pivot.compareTo(a[mid]) &lt; 0)\n 233                     right = mid;\n 234                 else\n 235                     left = mid + 1;\n 236             }\n 237             assert left == right;\n 238 \n</code></pre>\n\n<p>You must assure that null value is not stored in your array. </p>\n\n<p>To do that you must assert that argument passed in method <code>add</code> is not null and create a copy of your container before sorting to valid size. </p>\n\n<pre><code>public Object[] sorted() {\n\n    Object[] toSort = Arrays.copyOf(getSetArray(),getSize());\n    Arrays.sort(toSort);\n    return toSort;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676037069,"creation_date":1675874285,"answer_id":75388923,"question_id":23796951,"body_markdown":"While the other answers (at this point in time) are correct in that none of the elements of your array/list should be `null`, however, the explanations given are only suggestive.  This is because the contracts of the JDK&#39;s collection sort methods don&#39;t directly address `null` elements except to say:\r\n\r\n * From `Collections.sort()`: *All elements in the list must implement the Comparable interface.*\r\n * From `List.sort()`: *All elements in this list must be mutually comparable using the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the list).*\r\n * From `Arrays.sort()`: *All elements in the array must be mutually comparable by the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the array).*\r\n\r\nFrom simple interpretation of the contracts of these sort methods, `null` indeed does not implement `Comparable` nor is it going to be safe during a cast.  **Indirectly speaking, you can&#39;t have `null` in your sortable collection.**\r\n\r\nIf you can change the contract on your collection to disallow `null` elements, then you&#39;re done.\r\n\r\nHowever, that doesn&#39;t resolve the **glaring contract requirement in `java.lang.Comparable`**:\r\n\r\n&gt; *Note that null is not an instance of any class, and e.compareTo(null) should throw a NullPointerException even though e.equals(null) returns false.*\r\n\r\nThis requires code in your `Comparable` implementation to handle a `null` argument.\r\n\r\nIf you&#39;ve gotten here because your test code didn&#39;t throw the right `NullPointerException` when attempting to sort your test list with a `null` element, you&#39;re testing the wrong thing.  But there&#39;s tradeoffs even after testing the right thing.\r\n\r\n`java.util.ComparableTimSort.countRunAndMakeAscending()` assumes element 1 is not `null`.  If it is, you get the unexpected NPE - but not the one you were expecting from your `Comparable` implementation.\r\n\r\n__The Fix__\r\n\r\nMaybe you&#39;re here because you&#39;re trying to get 100% test coverage on your method that sorts a collection.  The Collection Framework&#39;s sort methods won&#39;t accept `null` in your collection even though they don&#39;t directly speak to it, but your `Comparable` implementation must still handle a `null`.\r\n\r\nYou must instead test your Comparable implementation directly with a `null` parameter.  This may require raising its visibility to *default*, i.e. package visibility and then write a test method directly against your `Comparable` implementation.\r\n\r\nYour `Comparable.compareTo(T)` method might look something like:\r\n```\r\npublic class ListManipulator {\r\n\tprivate List&lt;Percentage&gt; mylist;\r\n\tclass Percentage implements Comparable&lt;Percentage&gt; {\r\n\t\t@Override\r\n\t\tpublic int compareTo(Percentage o) {\r\n\t\t\tif (o == null) {\r\n\t\t\t\tthrow new NullPointerException(&quot;null is not comparable&quot;);\r\n\t\t\t}\r\n\t\t\tif (o.percent == percent) {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\telse if (this.percent &lt; o.percent) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\telse return 1;\r\n\t\t}\r\n\t\t...\r\n\t}\r\n\t...\r\n}\r\n```\r\n\r\nYou&#39;ll need test code similar to:\r\n```\r\n\ttry {\r\n\t\tcut = new ListManipulator();\r\n\t\tcut.new Percentage(10).compareTo(null);\r\n\t\tfail(&quot;should have thrown a NullPointerException: cannot have a null value&quot;);\r\n\t}\r\n\tcatch (NullPointerException e) {\r\n\t\tassertThat(e.getMessage(), is(notNullValue()));\r\n\t\tSystem.out.println(e.getMessage());\r\n\t}\r\n```\r\n\r\nThe drawback here is possibly needing to raise the visibility of your `Comparable` implementation.  At the end of the day, it gets the test coverage you wanted.\r\n\r\nHowever, if you don&#39;t want to raise the visibility of your `Comparable` because your code is highly cohesive and not coupled (nice work!) then decide if you can live with less than 100% test coverage.\r\n\r\nAn ugly alternative places a `null` in a test list at position `0` and a valid element at position `1`.  Sorting that will produce the NPE you were looking for but at the expense of writing test code coupled to implementation details in the JDK.  **Don&#39;t do this.**\r\n\r\n__Bottom Line__\r\n\r\nIdeally, you should be directly testing your `Comparable` implementation to verify your null handling code, as shown above.  If you&#39;re in the practice of disabling the JVM&#39;s visibility restrictions when your test cases run, then you won&#39;t need to raise the visibility of your `Comparable` implementation.\r\n","title":"Why do I have NullPointerException in my sort implementation?","body":"<p>While the other answers (at this point in time) are correct in that none of the elements of your array/list should be <code>null</code>, however, the explanations given are only suggestive.  This is because the contracts of the JDK's collection sort methods don't directly address <code>null</code> elements except to say:</p>\n<ul>\n<li>From <code>Collections.sort()</code>: <em>All elements in the list must implement the Comparable interface.</em></li>\n<li>From <code>List.sort()</code>: <em>All elements in this list must be mutually comparable using the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the list).</em></li>\n<li>From <code>Arrays.sort()</code>: <em>All elements in the array must be mutually comparable by the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the array).</em></li>\n</ul>\n<p>From simple interpretation of the contracts of these sort methods, <code>null</code> indeed does not implement <code>Comparable</code> nor is it going to be safe during a cast.  <strong>Indirectly speaking, you can't have <code>null</code> in your sortable collection.</strong></p>\n<p>If you can change the contract on your collection to disallow <code>null</code> elements, then you're done.</p>\n<p>However, that doesn't resolve the <strong>glaring contract requirement in <code>java.lang.Comparable</code></strong>:</p>\n<blockquote>\n<p><em>Note that null is not an instance of any class, and e.compareTo(null) should throw a NullPointerException even though e.equals(null) returns false.</em></p>\n</blockquote>\n<p>This requires code in your <code>Comparable</code> implementation to handle a <code>null</code> argument.</p>\n<p>If you've gotten here because your test code didn't throw the right <code>NullPointerException</code> when attempting to sort your test list with a <code>null</code> element, you're testing the wrong thing.  But there's tradeoffs even after testing the right thing.</p>\n<p><code>java.util.ComparableTimSort.countRunAndMakeAscending()</code> assumes element 1 is not <code>null</code>.  If it is, you get the unexpected NPE - but not the one you were expecting from your <code>Comparable</code> implementation.</p>\n<p><strong>The Fix</strong></p>\n<p>Maybe you're here because you're trying to get 100% test coverage on your method that sorts a collection.  The Collection Framework's sort methods won't accept <code>null</code> in your collection even though they don't directly speak to it, but your <code>Comparable</code> implementation must still handle a <code>null</code>.</p>\n<p>You must instead test your Comparable implementation directly with a <code>null</code> parameter.  This may require raising its visibility to <em>default</em>, i.e. package visibility and then write a test method directly against your <code>Comparable</code> implementation.</p>\n<p>Your <code>Comparable.compareTo(T)</code> method might look something like:</p>\n<pre><code>public class ListManipulator {\n    private List&lt;Percentage&gt; mylist;\n    class Percentage implements Comparable&lt;Percentage&gt; {\n        @Override\n        public int compareTo(Percentage o) {\n            if (o == null) {\n                throw new NullPointerException(&quot;null is not comparable&quot;);\n            }\n            if (o.percent == percent) {\n                return 0;\n            }\n            else if (this.percent &lt; o.percent) {\n                return -1;\n            }\n            else return 1;\n        }\n        ...\n    }\n    ...\n}\n</code></pre>\n<p>You'll need test code similar to:</p>\n<pre><code>    try {\n        cut = new ListManipulator();\n        cut.new Percentage(10).compareTo(null);\n        fail(&quot;should have thrown a NullPointerException: cannot have a null value&quot;);\n    }\n    catch (NullPointerException e) {\n        assertThat(e.getMessage(), is(notNullValue()));\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n<p>The drawback here is possibly needing to raise the visibility of your <code>Comparable</code> implementation.  At the end of the day, it gets the test coverage you wanted.</p>\n<p>However, if you don't want to raise the visibility of your <code>Comparable</code> because your code is highly cohesive and not coupled (nice work!) then decide if you can live with less than 100% test coverage.</p>\n<p>An ugly alternative places a <code>null</code> in a test list at position <code>0</code> and a valid element at position <code>1</code>.  Sorting that will produce the NPE you were looking for but at the expense of writing test code coupled to implementation details in the JDK.  <strong>Don't do this.</strong></p>\n<p><strong>Bottom Line</strong></p>\n<p>Ideally, you should be directly testing your <code>Comparable</code> implementation to verify your null handling code, as shown above.  If you're in the practice of disabling the JVM's visibility restrictions when your test cases run, then you won't need to raise the visibility of your <code>Comparable</code> implementation.</p>\n"}],"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6657,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":23797247,"answer_count":3,"score":-1,"last_activity_date":1676037069,"creation_date":1400726326,"question_id":23796951,"body_markdown":"I&#39;m working on my assignment and I am suppose to create a sort method for my array. However, I&#39;m getting a null pointer error in my sort method and I&#39;m not sure why. This is my code below.\r\n\r\n\r\n    public Object[] sorted() {\r\n        getSetArray();\r\n        Arrays.sort(setArray);\r\n        return setArray;\r\n    }\r\n\r\n\r\n\r\n\r\n&gt; these are my line of error java.lang.NullPointerException at\r\n&gt; java.util.ComparableTimSort.binarySort(ComparableTimSort.java:232) at\r\n&gt; java.util.ComparableTimSort.sort(ComparableTimSort.java:176) at\r\n&gt; java.util.ComparableTimSort.sort(ComparableTimSort.java:146) at\r\n&gt; java.util.Arrays.sort(Arrays.java:472) at\r\n&gt; setadt.SetADT.sorted(SetADT.java:280) at\r\n&gt; setadt.SetADTDriver_sol.main(SetADTDriver_sol.java:233)\r\n\r\n\r\n    package setadt;\r\n    import java.util.*;\r\n    \r\n    \r\n    \r\n    public class SetADT {\r\n    \r\n        private static Random rand = new Random();\r\n        private final int DEFAULT_CAPACITY = 100;\r\n        private final int NOT_FOUND = -1;\r\n        private int size;\r\n        private Object[] setArray;\r\n    \r\n        public SetADT() {\r\n            size = 0;\r\n            setArray = new Object[DEFAULT_CAPACITY];\r\n        }\r\n    \r\n        public SetADT(int capacity) {\r\n            size = 0;\r\n            setArray = new Object[capacity];\r\n        }\r\n    \r\n        public void add(Object newElement) {\r\n    \r\n            if (size() == setArray.length) {\r\n                resize();\r\n            }\r\n            if(!contains(newElement) == true){\r\n               setArray[size] = newElement;\r\n             size++;   \r\n            }\r\n            //System.out.println(newElement +&quot;\\t&quot; + size);\r\n        }\r\n    \r\n        public void addAll(SetADT set) {\r\n    \r\n            Object[] temp = set.getSetArray();\r\n    \r\n            for (int i = 0; i &lt; set.size(); i++) {\r\n                if (!this.containsValue(temp[i])) {\r\n                    add(temp[i]);\r\n                }\r\n            }\r\n        }\r\n       public boolean contains(Object element) {\r\n    \r\n            for (int i = 0; i &lt; size; i++) {\r\n                if (setArray[i].equals(element)) {\r\n                    return true;\r\n                }\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n        public boolean containsValue(Object element) {\r\n    \r\n            for (int i = 0; i &lt; size; i++) {\r\n                if (setArray[i].toString().equals(element.toString())) {\r\n                    return true;\r\n                }\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n        public boolean equals(SetADT set) {\r\n    \r\n            boolean result = false;\r\n            Object element;\r\n    \r\n            if (size() == set.size()) {\r\n                result = true;\r\n                for (int i = 0; i &lt; size(); i++) {\r\n                    element = setArray[i];\r\n                    if (!set.contains(element)) {\r\n                        return false;\r\n    \r\n                    }\r\n                }\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n        public boolean isEmpty() {\r\n    \r\n            if (size == 0) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public Object remove(Object element) {\r\n    \r\n            Object result = new Integer(NOT_FOUND);\r\n            int search = NOT_FOUND;\r\n    \r\n            if (!isEmpty()) {\r\n                for (int i = 0; i &lt; size() &amp;&amp; search == NOT_FOUND; i++) {\r\n                    if (setArray[i].equals(element)) {\r\n                        search = i;\r\n                    }\r\n                }\r\n    \r\n                if (search != NOT_FOUND) {\r\n    \r\n                    result = setArray[search];\r\n    \r\n                    setArray[search] = setArray[size - 1];\r\n                    setArray[size - 1] = null;\r\n                    size--;\r\n                }\r\n            }\r\n    \r\n            return result;\r\n        }\r\n        public Object removeRandom() {\r\n            int element;\r\n            Object value = new Integer(NOT_FOUND);\r\n    \r\n            if (!isEmpty()) {\r\n    \r\n                element = rand.nextInt(size);\r\n                value = setArray[element];\r\n    \r\n                setArray[element] = setArray[size - 1];\r\n                setArray[size - 1] = null;\r\n                size--;\r\n            }\r\n    \r\n            return value;\r\n        }\r\n        public int size() {\r\n    \r\n            return size;\r\n        }\r\n        public SetADT union(SetADT set) {\r\n    \r\n            SetADT newSet = new SetADT();\r\n    \r\n            newSet.addAll(this);\r\n            newSet.addAll(set);\r\n    \r\n            return newSet;\r\n        }\r\n    \r\n        private void resize() {\r\n    \r\n            Object[] newArray = new Object[setArray.length * 2];\r\n    \r\n            for (int i = 0; i &lt; setArray.length; i++) {\r\n                newArray[i] = setArray[i];\r\n            }\r\n    \r\n            setArray = newArray;\r\n        }\r\n    \r\n        public Object[] getSetArray() {\r\n    \r\n            return setArray;\r\n        }\r\n    \r\n        public String toString() {\r\n            String result = &quot;&quot;;\r\n    \r\n            for (int i = 0; i &lt; size(); i++) {\r\n                if ((i % 10) == 0 &amp;&amp; i != 0) {\r\n                    result += &quot;\\n&quot;;\r\n                } \r\n    \r\n                result = result + setArray[i].toString() + &quot;\\t&quot;;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public SetADT intersection(SetADT set) {\r\n            \r\n            SetADT newSet = new SetADT(); \r\n            for(int index = 0; index &lt; set.size; index++){\r\n                if(set.contains(set) == set.contains(setArray)){\r\n                    newSet.add(set);\r\n                }   \r\n            }\r\n            return newSet;\r\n        }\r\n    \r\n        public SetADT difference(SetADT set) {\r\n            \r\n            SetADT newSet = new SetADT();\r\n            for(int index = 0; index &lt; set.size; index++){\r\n                if(set.contains(set) == false){\r\n                \r\n                    newSet.add(set);\r\n                }\r\n            }\r\n            return newSet;\r\n        }\r\n    \r\n        public Object[] sorted() {\r\n            setArray = getSetArray();\r\n            Arrays.sort(setArray);\r\n            return setArray;\r\n        }\r\n    \r\n        public static String getObjectArray(Object[] o) {\r\n            String s = &quot;&quot;;\r\n            for (int i = 0; i &lt; o.length; i++) {\r\n                s += (o[i] + &quot; &quot;);\r\n            }\r\n            return s;\r\n    \r\n        }\r\n    }\r\n","title":"Why do I have NullPointerException in my sort implementation?","body":"<p>I'm working on my assignment and I am suppose to create a sort method for my array. However, I'm getting a null pointer error in my sort method and I'm not sure why. This is my code below.</p>\n\n<pre><code>public Object[] sorted() {\n    getSetArray();\n    Arrays.sort(setArray);\n    return setArray;\n}\n</code></pre>\n\n<blockquote>\n  <p>these are my line of error java.lang.NullPointerException at\n  java.util.ComparableTimSort.binarySort(ComparableTimSort.java:232) at\n  java.util.ComparableTimSort.sort(ComparableTimSort.java:176) at\n  java.util.ComparableTimSort.sort(ComparableTimSort.java:146) at\n  java.util.Arrays.sort(Arrays.java:472) at\n  setadt.SetADT.sorted(SetADT.java:280) at\n  setadt.SetADTDriver_sol.main(SetADTDriver_sol.java:233)</p>\n</blockquote>\n\n<pre><code>package setadt;\nimport java.util.*;\n\n\n\npublic class SetADT {\n\n    private static Random rand = new Random();\n    private final int DEFAULT_CAPACITY = 100;\n    private final int NOT_FOUND = -1;\n    private int size;\n    private Object[] setArray;\n\n    public SetADT() {\n        size = 0;\n        setArray = new Object[DEFAULT_CAPACITY];\n    }\n\n    public SetADT(int capacity) {\n        size = 0;\n        setArray = new Object[capacity];\n    }\n\n    public void add(Object newElement) {\n\n        if (size() == setArray.length) {\n            resize();\n        }\n        if(!contains(newElement) == true){\n           setArray[size] = newElement;\n         size++;   \n        }\n        //System.out.println(newElement +\"\\t\" + size);\n    }\n\n    public void addAll(SetADT set) {\n\n        Object[] temp = set.getSetArray();\n\n        for (int i = 0; i &lt; set.size(); i++) {\n            if (!this.containsValue(temp[i])) {\n                add(temp[i]);\n            }\n        }\n    }\n   public boolean contains(Object element) {\n\n        for (int i = 0; i &lt; size; i++) {\n            if (setArray[i].equals(element)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public boolean containsValue(Object element) {\n\n        for (int i = 0; i &lt; size; i++) {\n            if (setArray[i].toString().equals(element.toString())) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public boolean equals(SetADT set) {\n\n        boolean result = false;\n        Object element;\n\n        if (size() == set.size()) {\n            result = true;\n            for (int i = 0; i &lt; size(); i++) {\n                element = setArray[i];\n                if (!set.contains(element)) {\n                    return false;\n\n                }\n            }\n        }\n\n        return result;\n    }\n\n    public boolean isEmpty() {\n\n        if (size == 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public Object remove(Object element) {\n\n        Object result = new Integer(NOT_FOUND);\n        int search = NOT_FOUND;\n\n        if (!isEmpty()) {\n            for (int i = 0; i &lt; size() &amp;&amp; search == NOT_FOUND; i++) {\n                if (setArray[i].equals(element)) {\n                    search = i;\n                }\n            }\n\n            if (search != NOT_FOUND) {\n\n                result = setArray[search];\n\n                setArray[search] = setArray[size - 1];\n                setArray[size - 1] = null;\n                size--;\n            }\n        }\n\n        return result;\n    }\n    public Object removeRandom() {\n        int element;\n        Object value = new Integer(NOT_FOUND);\n\n        if (!isEmpty()) {\n\n            element = rand.nextInt(size);\n            value = setArray[element];\n\n            setArray[element] = setArray[size - 1];\n            setArray[size - 1] = null;\n            size--;\n        }\n\n        return value;\n    }\n    public int size() {\n\n        return size;\n    }\n    public SetADT union(SetADT set) {\n\n        SetADT newSet = new SetADT();\n\n        newSet.addAll(this);\n        newSet.addAll(set);\n\n        return newSet;\n    }\n\n    private void resize() {\n\n        Object[] newArray = new Object[setArray.length * 2];\n\n        for (int i = 0; i &lt; setArray.length; i++) {\n            newArray[i] = setArray[i];\n        }\n\n        setArray = newArray;\n    }\n\n    public Object[] getSetArray() {\n\n        return setArray;\n    }\n\n    public String toString() {\n        String result = \"\";\n\n        for (int i = 0; i &lt; size(); i++) {\n            if ((i % 10) == 0 &amp;&amp; i != 0) {\n                result += \"\\n\";\n            } \n\n            result = result + setArray[i].toString() + \"\\t\";\n        }\n        return result;\n    }\n\n    public SetADT intersection(SetADT set) {\n\n        SetADT newSet = new SetADT(); \n        for(int index = 0; index &lt; set.size; index++){\n            if(set.contains(set) == set.contains(setArray)){\n                newSet.add(set);\n            }   \n        }\n        return newSet;\n    }\n\n    public SetADT difference(SetADT set) {\n\n        SetADT newSet = new SetADT();\n        for(int index = 0; index &lt; set.size; index++){\n            if(set.contains(set) == false){\n\n                newSet.add(set);\n            }\n        }\n        return newSet;\n    }\n\n    public Object[] sorted() {\n        setArray = getSetArray();\n        Arrays.sort(setArray);\n        return setArray;\n    }\n\n    public static String getObjectArray(Object[] o) {\n        String s = \"\";\n        for (int i = 0; i &lt; o.length; i++) {\n            s += (o[i] + \" \");\n        }\n        return s;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","timer","scheduled-tasks","executorservice","scheduledexecutorservice"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1648861540,"post_id":71712004,"comment_id":126738576,"body_markdown":"Be careful not to post paragraphs with line-breaks. I fixed some of them. And I broke up your lengthy paragraph into logical chunks — hopefully, please verify that my edits make sense.","body":"Be careful not to post paragraphs with line-breaks. I fixed some of them. And I broke up your lengthy paragraph into logical chunks — hopefully, please verify that my edits make sense."},{"owner":{"account_id":3535938,"reputation":4695,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1648988227,"post_id":71712004,"comment_id":126757196,"body_markdown":"You seem to ask for the impossible. Using a **single thread** executor, if the task starting at time 5000 takes 3000, how shall the executor start a task at 6000. That single thread just does not get a chance to schedule another task before 8000. You seem be asking for `newScheduledThreadPool`, though be aware that if on long term average your tasks take longer than the rate you want, you&#39;ll always eventually run out of threads.","body":"You seem to ask for the impossible. Using a <b>single thread</b> executor, if the task starting at time 5000 takes 3000, how shall the executor start a task at 6000. That single thread just does not get a chance to schedule another task before 8000. You seem be asking for <code>newScheduledThreadPool</code>, though be aware that if on long term average your tasks take longer than the rate you want, you&#39;ll always eventually run out of threads."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1648989560,"post_id":71712004,"comment_id":126757471,"body_markdown":"@Harald sorry, but you seem to have completely misunderstood the question. What I&#39;m looking for is easy to implement. E.g. `while (true) { long start = time(); task.run(); long sleep = period - time() + start; if (sleep &gt; 0) sleep(sleep); }`. I&#39;m just looking for a `Timer`- or `ScheduledExecutorService`-like implementation of this.","body":"@Harald sorry, but you seem to have completely misunderstood the question. What I&#39;m looking for is easy to implement. E.g. <code>while (true) { long start = time(); task.run(); long sleep = period - time() + start; if (sleep &gt; 0) sleep(sleep); }</code>. I&#39;m just looking for a <code>Timer</code>- or <code>ScheduledExecutorService</code>-like implementation of this."}],"answers":[{"tags":[],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676034872,"creation_date":1649224866,"answer_id":71761712,"question_id":71712004,"body_markdown":"It turns out that I have a wrong assumption in my question.\r\n\r\n&gt; A `Timer` has very similar methods that do the same thing.\r\n\r\nIn fact, this isn&#39;t true. Although the Java API Docs state that [`Timer#schedule(TimerTask, long, long)`][1]\r\n\r\n&gt; Schedules the specified task for repeated fixed-delay execution,\r\n\r\nit doesn&#39;t do the same thing as [`ScheduledThreadPoolExecutor#scheduleWithFixedDelay(…)`][2]. See the following comparison when executing the code from the question with all methods.\r\n\r\n```\r\n|-------|----------|----------|\r\n|       | STPE     | Timer    |\r\n|-------|----------|----------|\r\n|       | 0: 0     | 0: 0     |\r\n|       | 5012: 1  | 5007: 1  |\r\n|       | 6018: 2  | 5007: 2  | &lt;--\r\n|       | 7024: 3  | 6019: 3  |\r\n| Fixed | 8025: 4  | 7019: 4  |\r\n| delay | 9029: 5  | 8022: 5  |\r\n|       | 10037: 6 | 9024: 6  |\r\n|       | 11042: 7 | 10027: 7 |\r\n|       | 12050: 8 | 11042: 8 |\r\n|       | ...      | ...      |\r\n|-------|----------|----------|\r\n|       | 0: 0     | 0: 0     |\r\n|       | 5024: 1  | 5014: 1  |\r\n|       | 5024: 2  | 5014: 2  |\r\n|       | 5024: 3  | 5014: 3  |\r\n| Fixed | 5024: 4  | 5015: 4  |\r\n| rate  | 5025: 5  | 5015: 5  |\r\n|       | 5025: 6  | 5015: 6  |\r\n|       | 6025: 7  | 6002: 7  |\r\n|       | 7024: 8  | 7002: 8  |\r\n|       | ...      | ...      |\r\n|-------|----------|----------|\r\n```\r\n\r\nThus `Timer#schedule(TimerTask, long, long)` is in fact what I&#39;m looking for. The difference is that `ScheduledThreadPoolExecutor#scheduleWithFixedDelay(…)` adds a fixed delay between the completion of the current task and the execution of the next task (this is bad because the task computation time always affects the effective period), whereas `Timer#schedule(TimerTask, long, long)` re-schedules the next task at the current time (before executing the current task) + a period later. (In contrast, the fixed rate methods don&#39;t use the current time + a period, but always the planned execution time + a period. This leads to a burst of ticks when running behind a long time.)\r\n\r\nHowever, although `Timer#schedule(TimerTask, long, long)` satisfies my requirements, it isn&#39;t an ideal solution in my opinion either. The best solution is to use fixed rate scheduling as long as the task computation time doesn&#39;t exceed the specified period, and only if it does, the subsequent period is executed based on fixed delay scheduling, discarding the delay.\r\n\r\nHowever, this isn&#39;t possible with the JDK&#39;s `ScheduledThreadPoolExecutor` and `Timer` because they both habe only two hardcoded so-called (in other frameworks) `Trigger`s each, one for fixed rate scheduling and one for fixed delay scheduling. [Here][3] are the `Trigger`s of `ScheduledThreadPoolExecutor` and [here][4] are the `Trigger`s of `Timer`.\r\n\r\nThe `Trigger` of `ScheduledThreadPoolExecutor` for fixed rate scheduling is for example `time += p`. When this is replaced with another `Trigger`, namely `time = Math.max(System.nanoTime(), time + p)`, it does exactly what I am asking for in my question, namely scheduling at fixed rate without catching up.\r\n\r\nThe problem is that it&#39;s not possible to schedule tasks with custom `Trigger`s with the JDK&#39;s inbuilt options `ScheduledThreadPoolExecutor` and `Timer`. Luckily there are some open-source libraries/frameworks, which provide schedulers that support scheduling tasks with custom `Trigger`s.\r\n\r\nExamples for such libraries/frameworks are [Wisp][5], [Quartz][6] and the [Spring Framework][7]. For demonstration I will use the Spring Framework&#39;s class [`ThreadPoolTaskScheduler`][8], which has the method [`#schedule(Runnable, Trigger)`][9] that uses a custom [`Trigger`][10]. For standard fixed rate and fixed delay scheduling there is already an implementation, namely [`PeriodicTrigger`][11]. However, to schedule a task at fixed rate without catching up, one can use the following `Trigger`.\r\n\r\n```java\r\nThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\nthreadPoolTaskScheduler.setPoolSize(1);\r\nthreadPoolTaskScheduler.initialize();\r\nthreadPoolTaskScheduler.schedule(task, t -&gt; {\r\n    Date lastExecution = t.lastScheduledExecutionTime();\r\n    Date lastCompletion = t.lastCompletionTime();\r\n\r\n    if (lastExecution == null || lastCompletion == null) {\r\n        return new Date(t.getClock().millis() + delay);\r\n    }\r\n\r\n    return new Date(Math.max(lastCompletion.getTime(), lastExecution.getTime() + period));\r\n});\r\n```\r\n\r\nWhen using this scheduler, the result is the same as in the table above for the `Timer`, when fixed delay scheduling is used, except that this scheduler is much more precise because true fixed rate scheduling is used as much as possible.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Timer.html#schedule(java.util.TimerTask,long,long)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\r\n  [3]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ScheduledThreadPoolExecutor.java#L276-L285\r\n  [4]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Timer.java#L555-L559\r\n  [5]: https://github.com/Coreoz/Wisp\r\n  [6]: https://github.com/quartz-scheduler/quartz\r\n  [7]: https://github.com/spring-projects/spring-framework\r\n  [8]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html\r\n  [9]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html#schedule-java.lang.Runnable-org.springframework.scheduling.Trigger-\r\n  [10]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/Trigger.html\r\n  [11]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/PeriodicTrigger.html","title":"SingleThreadScheduledExecutor or Timer scheduleAtFixedRate but don&#39;t catch up?","body":"<p>It turns out that I have a wrong assumption in my question.</p>\n<blockquote>\n<p>A <code>Timer</code> has very similar methods that do the same thing.</p>\n</blockquote>\n<p>In fact, this isn't true. Although the Java API Docs state that <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Timer.html#schedule(java.util.TimerTask,long,long)\" rel=\"nofollow noreferrer\"><code>Timer#schedule(TimerTask, long, long)</code></a></p>\n<blockquote>\n<p>Schedules the specified task for repeated fixed-delay execution,</p>\n</blockquote>\n<p>it doesn't do the same thing as <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor#scheduleWithFixedDelay(…)</code></a>. See the following comparison when executing the code from the question with all methods.</p>\n<pre><code>|-------|----------|----------|\n|       | STPE     | Timer    |\n|-------|----------|----------|\n|       | 0: 0     | 0: 0     |\n|       | 5012: 1  | 5007: 1  |\n|       | 6018: 2  | 5007: 2  | &lt;--\n|       | 7024: 3  | 6019: 3  |\n| Fixed | 8025: 4  | 7019: 4  |\n| delay | 9029: 5  | 8022: 5  |\n|       | 10037: 6 | 9024: 6  |\n|       | 11042: 7 | 10027: 7 |\n|       | 12050: 8 | 11042: 8 |\n|       | ...      | ...      |\n|-------|----------|----------|\n|       | 0: 0     | 0: 0     |\n|       | 5024: 1  | 5014: 1  |\n|       | 5024: 2  | 5014: 2  |\n|       | 5024: 3  | 5014: 3  |\n| Fixed | 5024: 4  | 5015: 4  |\n| rate  | 5025: 5  | 5015: 5  |\n|       | 5025: 6  | 5015: 6  |\n|       | 6025: 7  | 6002: 7  |\n|       | 7024: 8  | 7002: 8  |\n|       | ...      | ...      |\n|-------|----------|----------|\n</code></pre>\n<p>Thus <code>Timer#schedule(TimerTask, long, long)</code> is in fact what I'm looking for. The difference is that <code>ScheduledThreadPoolExecutor#scheduleWithFixedDelay(…)</code> adds a fixed delay between the completion of the current task and the execution of the next task (this is bad because the task computation time always affects the effective period), whereas <code>Timer#schedule(TimerTask, long, long)</code> re-schedules the next task at the current time (before executing the current task) + a period later. (In contrast, the fixed rate methods don't use the current time + a period, but always the planned execution time + a period. This leads to a burst of ticks when running behind a long time.)</p>\n<p>However, although <code>Timer#schedule(TimerTask, long, long)</code> satisfies my requirements, it isn't an ideal solution in my opinion either. The best solution is to use fixed rate scheduling as long as the task computation time doesn't exceed the specified period, and only if it does, the subsequent period is executed based on fixed delay scheduling, discarding the delay.</p>\n<p>However, this isn't possible with the JDK's <code>ScheduledThreadPoolExecutor</code> and <code>Timer</code> because they both habe only two hardcoded so-called (in other frameworks) <code>Trigger</code>s each, one for fixed rate scheduling and one for fixed delay scheduling. <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ScheduledThreadPoolExecutor.java#L276-L285\" rel=\"nofollow noreferrer\">Here</a> are the <code>Trigger</code>s of <code>ScheduledThreadPoolExecutor</code> and <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Timer.java#L555-L559\" rel=\"nofollow noreferrer\">here</a> are the <code>Trigger</code>s of <code>Timer</code>.</p>\n<p>The <code>Trigger</code> of <code>ScheduledThreadPoolExecutor</code> for fixed rate scheduling is for example <code>time += p</code>. When this is replaced with another <code>Trigger</code>, namely <code>time = Math.max(System.nanoTime(), time + p)</code>, it does exactly what I am asking for in my question, namely scheduling at fixed rate without catching up.</p>\n<p>The problem is that it's not possible to schedule tasks with custom <code>Trigger</code>s with the JDK's inbuilt options <code>ScheduledThreadPoolExecutor</code> and <code>Timer</code>. Luckily there are some open-source libraries/frameworks, which provide schedulers that support scheduling tasks with custom <code>Trigger</code>s.</p>\n<p>Examples for such libraries/frameworks are <a href=\"https://github.com/Coreoz/Wisp\" rel=\"nofollow noreferrer\">Wisp</a>, <a href=\"https://github.com/quartz-scheduler/quartz\" rel=\"nofollow noreferrer\">Quartz</a> and the <a href=\"https://github.com/spring-projects/spring-framework\" rel=\"nofollow noreferrer\">Spring Framework</a>. For demonstration I will use the Spring Framework's class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolTaskScheduler</code></a>, which has the method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html#schedule-java.lang.Runnable-org.springframework.scheduling.Trigger-\" rel=\"nofollow noreferrer\"><code>#schedule(Runnable, Trigger)</code></a> that uses a custom <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/Trigger.html\" rel=\"nofollow noreferrer\"><code>Trigger</code></a>. For standard fixed rate and fixed delay scheduling there is already an implementation, namely <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/PeriodicTrigger.html\" rel=\"nofollow noreferrer\"><code>PeriodicTrigger</code></a>. However, to schedule a task at fixed rate without catching up, one can use the following <code>Trigger</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\nthreadPoolTaskScheduler.setPoolSize(1);\nthreadPoolTaskScheduler.initialize();\nthreadPoolTaskScheduler.schedule(task, t -&gt; {\n    Date lastExecution = t.lastScheduledExecutionTime();\n    Date lastCompletion = t.lastCompletionTime();\n\n    if (lastExecution == null || lastCompletion == null) {\n        return new Date(t.getClock().millis() + delay);\n    }\n\n    return new Date(Math.max(lastCompletion.getTime(), lastExecution.getTime() + period));\n});\n</code></pre>\n<p>When using this scheduler, the result is the same as in the table above for the <code>Timer</code>, when fixed delay scheduling is used, except that this scheduler is much more precise because true fixed rate scheduling is used as much as possible.</p>\n"}],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1676034872,"creation_date":1648841844,"question_id":71712004,"body_markdown":"Currently I&#39;m using an [`Executors.newSingleThreadScheduledExecutor()`][1] to schedule a task periodically. The `ScheduledExecutorService` provides two options for this, namely:\r\n\r\n 1. [`ScheduledExecutorService#scheduleWithFixedDelay(…)`][2]\r\n 2. [`ScheduledExecutorService#scheduleAtFixedRate(…)`][3]\r\n\r\nA `Timer` has very similar methods that do the same thing. The problem is that none of those do exactly what I want. \r\n\r\nThe task that I want to schedule will often take a significant part of the period and sometimes even exceed it (depending on how much work there is currently). \r\n\r\n - I don&#39;t want to use `#scheduleWithFixedDelay` because in this case the task computation time and the period will add up, thus the period will almost always be too long (and depend on the task computation time), even if the period isn&#39;t exceeded. \r\n - So it seems like `#scheduleAtFixedRate` is what I want. However,\r\n   consider the case where there are several subsequent periods with too long task computation times, or consider a single period with a task computation time that has an order of magnitude of multiple periods. This will result in multiple periods that are too short afterwards because the `ScheduledExecutorService` or the `Timer` tries to catch up. The delay can grow indefinitely and affect many periods afterwards, causing a busy CPU when it&#39;s maybe not even necessary anymore.\r\n\r\nWhat I want is `#scheduleAtFixedRate` but the period should never be shorter than specified (it shouldn&#39;t try to catch up). With the following code I want to demonstrate this with an example.\r\n\r\n```java\r\npublic final class Test {\r\n    private static int i = 0;\r\n\r\n    public static void main(String[] args) {\r\n        long start = System.currentTimeMillis();\r\n        System.out.println((System.currentTimeMillis() - start) + &quot;: &quot; + i);\r\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\r\n        scheduledExecutorService.scheduleWithFixedDelay(() -&gt; {\r\n            i++;\r\n\r\n            if (i == 1) {\r\n                try {\r\n                    Thread.sleep(5000L);\r\n                } catch (InterruptedException e) {\r\n                    Thread.currentThread().interrupt();\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            System.out.println((System.currentTimeMillis() - start) + &quot;: &quot; + i);\r\n        }, 0L, 1000L, TimeUnit.MILLISECONDS);\r\n    }\r\n}\r\n```\r\n\r\nThe output of this code using `#scheduleWithFixedDelay` is something like this.\r\n\r\n```\r\n0: 0\r\n5012: 1\r\n6018: 2\r\n7024: 3\r\n8025: 4\r\n9029: 5\r\n10037: 6\r\n11042: 7\r\n12050: 8\r\n...\r\n```\r\n\r\nThe output of this code using `#scheduleAtFixedRate` is something like this.\r\n\r\n```\r\n0: 0\r\n5024: 1\r\n5024: 2\r\n5024: 3\r\n5024: 4\r\n5025: 5\r\n5025: 6\r\n6025: 7\r\n7024: 8\r\n...\r\n```\r\n\r\n(Ignore the least significant time digits.) What I actually want is a `#schedule` method that bahaves like this.\r\n\r\n```\r\n0: 0\r\n5000: 1\r\n5000: 2\r\n6000: 3\r\n7000: 4\r\n8000: 5\r\n9000: 6\r\n10000: 7\r\n11000: 8\r\n...\r\n```\r\n\r\nI think this is similar to how game loops work. The question is, does Java have an inbuilt way, similar to `ScheduledExecutorService` or `Timer`, to schedule a task like that. If not, is there an easy way to implement this or are there any external libraries that I can use for this, without reinventing the wheel?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor()\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\r\n  [3]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)","title":"SingleThreadScheduledExecutor or Timer scheduleAtFixedRate but don&#39;t catch up?","body":"<p>Currently I'm using an <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor()\" rel=\"nofollow noreferrer\"><code>Executors.newSingleThreadScheduledExecutor()</code></a> to schedule a task periodically. The <code>ScheduledExecutorService</code> provides two options for this, namely:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService#scheduleWithFixedDelay(…)</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService#scheduleAtFixedRate(…)</code></a></li>\n</ol>\n<p>A <code>Timer</code> has very similar methods that do the same thing. The problem is that none of those do exactly what I want.</p>\n<p>The task that I want to schedule will often take a significant part of the period and sometimes even exceed it (depending on how much work there is currently).</p>\n<ul>\n<li>I don't want to use <code>#scheduleWithFixedDelay</code> because in this case the task computation time and the period will add up, thus the period will almost always be too long (and depend on the task computation time), even if the period isn't exceeded.</li>\n<li>So it seems like <code>#scheduleAtFixedRate</code> is what I want. However,\nconsider the case where there are several subsequent periods with too long task computation times, or consider a single period with a task computation time that has an order of magnitude of multiple periods. This will result in multiple periods that are too short afterwards because the <code>ScheduledExecutorService</code> or the <code>Timer</code> tries to catch up. The delay can grow indefinitely and affect many periods afterwards, causing a busy CPU when it's maybe not even necessary anymore.</li>\n</ul>\n<p>What I want is <code>#scheduleAtFixedRate</code> but the period should never be shorter than specified (it shouldn't try to catch up). With the following code I want to demonstrate this with an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Test {\n    private static int i = 0;\n\n    public static void main(String[] args) {\n        long start = System.currentTimeMillis();\n        System.out.println((System.currentTimeMillis() - start) + &quot;: &quot; + i);\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\n        scheduledExecutorService.scheduleWithFixedDelay(() -&gt; {\n            i++;\n\n            if (i == 1) {\n                try {\n                    Thread.sleep(5000L);\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                    e.printStackTrace();\n                }\n            }\n\n            System.out.println((System.currentTimeMillis() - start) + &quot;: &quot; + i);\n        }, 0L, 1000L, TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n<p>The output of this code using <code>#scheduleWithFixedDelay</code> is something like this.</p>\n<pre><code>0: 0\n5012: 1\n6018: 2\n7024: 3\n8025: 4\n9029: 5\n10037: 6\n11042: 7\n12050: 8\n...\n</code></pre>\n<p>The output of this code using <code>#scheduleAtFixedRate</code> is something like this.</p>\n<pre><code>0: 0\n5024: 1\n5024: 2\n5024: 3\n5024: 4\n5025: 5\n5025: 6\n6025: 7\n7024: 8\n...\n</code></pre>\n<p>(Ignore the least significant time digits.) What I actually want is a <code>#schedule</code> method that bahaves like this.</p>\n<pre><code>0: 0\n5000: 1\n5000: 2\n6000: 3\n7000: 4\n8000: 5\n9000: 6\n10000: 7\n11000: 8\n...\n</code></pre>\n<p>I think this is similar to how game loops work. The question is, does Java have an inbuilt way, similar to <code>ScheduledExecutorService</code> or <code>Timer</code>, to schedule a task like that. If not, is there an easy way to implement this or are there any external libraries that I can use for this, without reinventing the wheel?</p>\n"},{"tags":["java","spring-boot","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":3388916,"reputation":1080,"user_id":7537885,"display_name":"Hermann Steidel"},"score":0,"creation_date":1551879129,"post_id":55010362,"comment_id":96801634,"body_markdown":"What does your Swagger Docket configuration look like?","body":"What does your Swagger Docket configuration look like?"},{"owner":{"account_id":2623128,"reputation":775,"user_id":2270735,"accept_rate":50,"display_name":"Alberto"},"score":0,"creation_date":1551896868,"post_id":55010362,"comment_id":96812353,"body_markdown":"I have edited the post to add the Swagger configuration","body":"I have edited the post to add the Swagger configuration"}],"answers":[{"tags":[],"owner":{"account_id":11252448,"reputation":3639,"user_id":8253209,"display_name":"Matt Ke"},"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1676034373,"creation_date":1551905042,"answer_id":55031852,"question_id":55010362,"body_markdown":"You have added the `@ApiIgnore` annotation on an interface. It looks like, this annotation doesn&#39;t work when added on an interface. (I really don&#39;t understand why `@Api` works on an interface and `@ApiIgnore` don&#39;t. &#128533;)\r\n\r\nAdd the annotation directly to your controller class. This should solve your problem.\r\n\r\nThe `hidden` property on the `@Api` annotation doesn&#39;t work currently. (See [this](https://github.com/springfox/springfox/issues/2437) GitHub issue.)\r\n\r\n---\r\n\r\nFor Springdoc see: https://stackoverflow.com/questions/62102261","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>You have added the <code>@ApiIgnore</code> annotation on an interface. It looks like, this annotation doesn't work when added on an interface. (I really don't understand why <code>@Api</code> works on an interface and <code>@ApiIgnore</code> don't. 😕)</p>\n<p>Add the annotation directly to your controller class. This should solve your problem.</p>\n<p>The <code>hidden</code> property on the <code>@Api</code> annotation doesn't work currently. (See <a href=\"https://github.com/springfox/springfox/issues/2437\" rel=\"nofollow noreferrer\">this</a> GitHub issue.)</p>\n<hr />\n<p>For Springdoc see: <a href=\"https://stackoverflow.com/questions/62102261\">How to hide endpoints from OpenAPI documentation with Springdoc</a></p>\n"},{"tags":[],"owner":{"account_id":13678404,"reputation":444,"user_id":9869329,"display_name":"Purushotham CK"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1557761821,"creation_date":1557760759,"answer_id":56115342,"question_id":55010362,"body_markdown":"One more way is to use `@ApiOperation(hidden = true)`\r\nThis can be used at controller/handler level method.\r\nE.g.\r\n\r\n    @RestController\r\n    public HomeController{\r\n    @ApiOperation(value = &quot;&lt;Your Message&gt;&quot;, hidden = true)\r\n        public String getMessage(@RequestParam(value = &quot;msg&quot;) final String msg){\r\n            return msg;\r\n        }\r\n    }","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>One more way is to use <code>@ApiOperation(hidden = true)</code>\nThis can be used at controller/handler level method.\nE.g.</p>\n\n<pre><code>@RestController\npublic HomeController{\n@ApiOperation(value = \"&lt;Your Message&gt;\", hidden = true)\n    public String getMessage(@RequestParam(value = \"msg\") final String msg){\n        return msg;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":251436,"reputation":924,"user_id":528821,"display_name":"Good Lux"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1574210847,"creation_date":1574210847,"answer_id":58945012,"question_id":55010362,"body_markdown":"Another option is to just remove the @Api completely, and your controller and its methods shouldn&#39;t be picked up by swagger. \r\n","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>Another option is to just remove the @Api completely, and your controller and its methods shouldn't be picked up by swagger. </p>\n"},{"tags":[],"owner":{"account_id":2431775,"reputation":566,"user_id":2122524,"display_name":"user2122524"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583257961,"creation_date":1583257961,"answer_id":60513001,"question_id":55010362,"body_markdown":"  The scenario where we want to hide only a particular method(s) from the class. For swagger.v3 there is an annotation with name `Hidden` in `io.swagger.core.v3:swagger-annotations:2.0.10 jar`. Methods to be hidden can be annotated with `Hidden` annotation as shown below. The below method shows the method with `DELETE` operation which needs to be hidden from the swagger documentation.\r\n\r\n    @DELETE\r\n    @Hidden\r\n    public void deleteList(int id) {\r\n    //code goes here.\r\n    }","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>The scenario where we want to hide only a particular method(s) from the class. For swagger.v3 there is an annotation with name <code>Hidden</code> in <code>io.swagger.core.v3:swagger-annotations:2.0.10 jar</code>. Methods to be hidden can be annotated with <code>Hidden</code> annotation as shown below. The below method shows the method with <code>DELETE</code> operation which needs to be hidden from the swagger documentation.</p>\n\n<pre><code>@DELETE\n@Hidden\npublic void deleteList(int id) {\n//code goes here.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6132618,"reputation":301,"user_id":4782364,"display_name":"u33how"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1586166343,"creation_date":1586161157,"answer_id":61055598,"question_id":55010362,"body_markdown":"For *OpenAPI3* and *SpringBoot*:  \r\nI used @Hidden annotation on a method of a controller.  \r\nIt seems to work both at method level and controller level.\r\n\r\n@Hidden annotation was imported from using:\r\n```\r\nimport io.swagger.v3.oas.annotations;\r\n```","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>For <em>OpenAPI3</em> and <em>SpringBoot</em>:<br>\nI used @Hidden annotation on a method of a controller.<br>\nIt seems to work both at method level and controller level.</p>\n\n<p>@Hidden annotation was imported from using:</p>\n\n<pre><code>import io.swagger.v3.oas.annotations;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3017894,"reputation":51,"user_id":2559534,"display_name":"Helias Karagozidis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642004920,"creation_date":1642004920,"answer_id":70685050,"question_id":55010362,"body_markdown":"Another different great way is to define the visible paths on the SpringFox Configuration \r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SpringFoxConfig {\r\n\r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(Predicates.or(PathSelectors.ant(&quot;/rtm/**&quot;), PathSelectors.ant(&quot;/appview/**&quot;)))\r\n                    .build().apiInfo(apiEndPointsInfo());\r\n        }\r\n    }\r\n\r\nThis way you can define the visible paths centraly and avoid puting swagger annotations on many controllers.\r\n  ","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>Another different great way is to define the visible paths on the SpringFox Configuration</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SpringFoxConfig {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(Predicates.or(PathSelectors.ant(&quot;/rtm/**&quot;), PathSelectors.ant(&quot;/appview/**&quot;)))\n                .build().apiInfo(apiEndPointsInfo());\n    }\n}\n</code></pre>\n<p>This way you can define the visible paths centraly and avoid puting swagger annotations on many controllers.</p>\n"}],"owner":{"account_id":2623128,"reputation":775,"user_id":2270735,"accept_rate":50,"display_name":"Alberto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72966,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":55031852,"answer_count":6,"score":20,"last_activity_date":1676034373,"creation_date":1551814946,"question_id":55010362,"body_markdown":"I have a Spring Boot project with next dependency of Springfox:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t&lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I have my Interface:\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import io.swagger.annotations.Api;\r\n    import io.swagger.annotations.ApiOperation;\r\n    import springfox.documentation.annotations.ApiIgnore;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/cache&quot;)\r\n    @ApiIgnore\r\n    @Api(hidden = true)\r\n    public interface CacheController {\r\n    \r\n    \t@RequestMapping(\r\n    \t\tvalue = &quot;clear/&quot;,\r\n    \t\tmethod = RequestMethod.GET,\r\n    \t\tproduces = {MediaType.APPLICATION_JSON_VALUE, MediaType.TEXT_PLAIN_VALUE}\r\n    \t)\r\n    \t@ApiOperation(value = &quot;&quot;, hidden = true)\r\n    \tResponseEntity&lt;String&gt; clearToken();\r\n    }\r\n\r\nThe annotations `@ApiIgnore` and `@Api(hidden = true)` (I&#39;ve tested them separately and they don&#39;t work either.) haven&#39;t effects to hide the documentation. It only works if the annotation is over the method, but I would like hide them all since I have other endpoints I&#39;d like to hide.\r\n\r\nSome ideas?\r\n\r\nEDIT:\r\n\r\nThis is my Swagger configuration:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    import springfox.documentation.builders.ApiInfoBuilder;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.builders.ResponseMessageBuilder;\r\n    import springfox.documentation.service.ApiInfo;\r\n    import springfox.documentation.service.ApiKey;\r\n    import springfox.documentation.service.AuthorizationScope;\r\n    import springfox.documentation.service.Contact;\r\n    import springfox.documentation.service.ResponseMessage;\r\n    import springfox.documentation.service.SecurityReference;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spi.service.contexts.SecurityContext;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \t\r\n    \tpublic static String API_KEY_NAME;\r\n    \r\n    \t@Bean\r\n        public Docket apiDocumentation() {\r\n    \t\tList&lt;ResponseMessage&gt; errorList = this.defineResponseMessages();\r\n    \t\t\r\n            return new Docket(DocumentationType.SWAGGER_2)  \r\n              .select()       \r\n              .apis(RequestHandlerSelectors.basePackage(&quot;my.package.rest&quot;))              \r\n              .paths(PathSelectors.any())                          \r\n              .build()\r\n              .useDefaultResponseMessages(true)\r\n              .globalResponseMessage(RequestMethod.GET, errorList)\r\n              .securitySchemes(Arrays.asList(this.apiKey()))\r\n              .securityContexts(Arrays.asList(this.securityContext()))\r\n              .apiInfo(this.apiInfo());                                          \r\n        }\r\n    \t\r\n    \t@Value(&quot;${server.security.apiKeyName}&quot;)\r\n    \tpublic void setApiKeyName(final String apiKeyName) {\r\n    \t\tSwaggerConfig.API_KEY_NAME = apiKeyName;\r\n    \t}\r\n    \r\n    \tprivate ApiKey apiKey() {\r\n    \t\treturn new ApiKey(&quot;apiKey&quot;, API_KEY_NAME, &quot;header&quot;);\r\n    \t}\r\n    \t\r\n    \tprivate SecurityContext securityContext() {\r\n    \t\treturn SecurityContext.builder()\r\n    \t\t\t.securityReferences(defaultAuth())\r\n    \t\t\t.forPaths(PathSelectors.any()).build();\r\n    \t}\r\n    \t\r\n    \tprivate List&lt;SecurityReference&gt; defaultAuth() {\r\n    \t\tAuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\r\n    \t\tAuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\r\n    \t\tauthorizationScopes[0] = authorizationScope;\r\n    \t\treturn Arrays.asList(new SecurityReference(&quot;apiKey&quot;, authorizationScopes));\r\n    \t}\r\n    \r\n    \tprivate List&lt;ResponseMessage&gt; defineResponseMessages() {\r\n    \t\tList&lt;ResponseMessage&gt; errorList = new ArrayList&lt;ResponseMessage&gt;();\r\n    \t\t\r\n    \t\tResponseMessage responseMessage = new ResponseMessageBuilder()\r\n    \t\t\t.code(HttpStatus.INTERNAL_SERVER_ERROR.value())\r\n    \t\t\t.message(HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase())\r\n    \t\t\t.build();\r\n    \t\t\r\n    \t\terrorList.add(responseMessage);\r\n    \t\t\r\n    \t\tresponseMessage = new ResponseMessageBuilder()\r\n    \t\t\t\t.code(HttpStatus.UNAUTHORIZED.value())\r\n    \t\t\t\t.message(HttpStatus.UNAUTHORIZED.getReasonPhrase())\r\n    \t\t\t\t.build();\r\n    \t\t\r\n    \t\terrorList.add(responseMessage);\r\n    \t\t\r\n    \t\tresponseMessage = new ResponseMessageBuilder()\r\n    \t\t\t\t.code(HttpStatus.NOT_FOUND.value())\r\n    \t\t\t\t.message(HttpStatus.NOT_FOUND.getReasonPhrase())\r\n    \t\t\t\t.build();\r\n    \t\t\r\n    \t\terrorList.add(responseMessage);\r\n    \t\t\r\n    \t\treturn errorList;\r\n    \t}\r\n    \t\r\n    \tprivate ApiInfo apiInfo() {\r\n    \t\tApiInfoBuilder apiInfoBuilder = new ApiInfoBuilder();\r\n    \t\treturn apiInfoBuilder\r\n    \t\t\t.title(&quot;My API&quot;)\r\n    \t\t\t.description(&quot;Description&quot;)\r\n    \t\t\t.version(&quot;1.0.0 Beta&quot;)\r\n    \t\t\t.build();\r\n    \t}\r\n    }\r\n\r\n","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>I have a Spring Boot project with next dependency of Springfox:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And I have my Interface:</p>\n\n<pre><code>import org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport springfox.documentation.annotations.ApiIgnore;\n\n@RestController\n@RequestMapping(value = \"/cache\")\n@ApiIgnore\n@Api(hidden = true)\npublic interface CacheController {\n\n    @RequestMapping(\n        value = \"clear/\",\n        method = RequestMethod.GET,\n        produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.TEXT_PLAIN_VALUE}\n    )\n    @ApiOperation(value = \"\", hidden = true)\n    ResponseEntity&lt;String&gt; clearToken();\n}\n</code></pre>\n\n<p>The annotations <code>@ApiIgnore</code> and <code>@Api(hidden = true)</code> (I've tested them separately and they don't work either.) haven't effects to hide the documentation. It only works if the annotation is over the method, but I would like hide them all since I have other endpoints I'd like to hide.</p>\n\n<p>Some ideas?</p>\n\n<p>EDIT:</p>\n\n<p>This is my Swagger configuration:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.builders.ResponseMessageBuilder;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.ApiKey;\nimport springfox.documentation.service.AuthorizationScope;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.service.ResponseMessage;\nimport springfox.documentation.service.SecurityReference;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spi.service.contexts.SecurityContext;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    public static String API_KEY_NAME;\n\n    @Bean\n    public Docket apiDocumentation() {\n        List&lt;ResponseMessage&gt; errorList = this.defineResponseMessages();\n\n        return new Docket(DocumentationType.SWAGGER_2)  \n          .select()       \n          .apis(RequestHandlerSelectors.basePackage(\"my.package.rest\"))              \n          .paths(PathSelectors.any())                          \n          .build()\n          .useDefaultResponseMessages(true)\n          .globalResponseMessage(RequestMethod.GET, errorList)\n          .securitySchemes(Arrays.asList(this.apiKey()))\n          .securityContexts(Arrays.asList(this.securityContext()))\n          .apiInfo(this.apiInfo());                                          \n    }\n\n    @Value(\"${server.security.apiKeyName}\")\n    public void setApiKeyName(final String apiKeyName) {\n        SwaggerConfig.API_KEY_NAME = apiKeyName;\n    }\n\n    private ApiKey apiKey() {\n        return new ApiKey(\"apiKey\", API_KEY_NAME, \"header\");\n    }\n\n    private SecurityContext securityContext() {\n        return SecurityContext.builder()\n            .securityReferences(defaultAuth())\n            .forPaths(PathSelectors.any()).build();\n    }\n\n    private List&lt;SecurityReference&gt; defaultAuth() {\n        AuthorizationScope authorizationScope = new AuthorizationScope(\"global\", \"accessEverything\");\n        AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\n        authorizationScopes[0] = authorizationScope;\n        return Arrays.asList(new SecurityReference(\"apiKey\", authorizationScopes));\n    }\n\n    private List&lt;ResponseMessage&gt; defineResponseMessages() {\n        List&lt;ResponseMessage&gt; errorList = new ArrayList&lt;ResponseMessage&gt;();\n\n        ResponseMessage responseMessage = new ResponseMessageBuilder()\n            .code(HttpStatus.INTERNAL_SERVER_ERROR.value())\n            .message(HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase())\n            .build();\n\n        errorList.add(responseMessage);\n\n        responseMessage = new ResponseMessageBuilder()\n                .code(HttpStatus.UNAUTHORIZED.value())\n                .message(HttpStatus.UNAUTHORIZED.getReasonPhrase())\n                .build();\n\n        errorList.add(responseMessage);\n\n        responseMessage = new ResponseMessageBuilder()\n                .code(HttpStatus.NOT_FOUND.value())\n                .message(HttpStatus.NOT_FOUND.getReasonPhrase())\n                .build();\n\n        errorList.add(responseMessage);\n\n        return errorList;\n    }\n\n    private ApiInfo apiInfo() {\n        ApiInfoBuilder apiInfoBuilder = new ApiInfoBuilder();\n        return apiInfoBuilder\n            .title(\"My API\")\n            .description(\"Description\")\n            .version(\"1.0.0 Beta\")\n            .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","routes","apache-camel","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":17332701,"reputation":86,"user_id":12555370,"display_name":"Artique"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676034182,"creation_date":1676034182,"answer_id":75411512,"question_id":75372840,"body_markdown":"The `@Consume` annotation in Apache Camel is used to subscribe to a Camel endpoint and consume messages from it. The endpoint can be either a direct endpoint or any other type of endpoint such as a JMS queue or a REST endpoint, depending on your use case.\r\n\r\nThe endpoint URI, which is specified in the uri attribute of the `@Consume` annotation, determines where the messages are consumed from. In your example, `direct:products.create.validate.interceptor` and `direct:listAccountsPostHook` are both direct endpoints.\r\n\r\nIn Apache Camel, direct endpoints are in-memory endpoints that allow you to send messages directly to another endpoint in the same JVM. The mapping between the endpoint and the method that consumes the messages is done by Camel&#39;s routing engine.\r\nMore on Camel Direct endpoints you can read [here](https://camel.apache.org/components/3.20.x/direct-component.html).\r\n\r\nTo understand how the messages are being consumed, you should look at the Camel routes that are defined in your project. In a Spring Boot project, you can define your Camel routes in a `RouteBuilder` class. This is where you would specify the mapping between the direct endpoint and the method that will consume the messages.\r\n\r\nFor example, if you have a `RouteBuilder` class that looks like this:\r\n\r\n```\r\npublic class MyRouteBuilder extends RouteBuilder {\r\n  @Override\r\n  public void configure() {\r\n    from(&quot;direct:products.create.validate.interceptor&quot;)\r\n      .to(&quot;bean:myBean?method=executeCreate&quot;);\r\n  }\r\n}\r\n```\r\n\r\nIn this example, the direct endpoint `direct:products.create.validate.interceptor` is mapped to the `executeCreate` method in the `myBean` bean. The `?method=executeCreate` part of the to URI tells Camel **to** call the executeCreate method on the myBean bean when a message is received at the endpoint.\r\n\r\nSo, in short, you should look for the Camel routes in your project that define the mapping between the endpoint and the method that consumes the messages.","title":"How @Consume from Apache Camel does the mapping in Spring Boot project?","body":"<p>The <code>@Consume</code> annotation in Apache Camel is used to subscribe to a Camel endpoint and consume messages from it. The endpoint can be either a direct endpoint or any other type of endpoint such as a JMS queue or a REST endpoint, depending on your use case.</p>\n<p>The endpoint URI, which is specified in the uri attribute of the <code>@Consume</code> annotation, determines where the messages are consumed from. In your example, <code>direct:products.create.validate.interceptor</code> and <code>direct:listAccountsPostHook</code> are both direct endpoints.</p>\n<p>In Apache Camel, direct endpoints are in-memory endpoints that allow you to send messages directly to another endpoint in the same JVM. The mapping between the endpoint and the method that consumes the messages is done by Camel's routing engine.\nMore on Camel Direct endpoints you can read <a href=\"https://camel.apache.org/components/3.20.x/direct-component.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>To understand how the messages are being consumed, you should look at the Camel routes that are defined in your project. In a Spring Boot project, you can define your Camel routes in a <code>RouteBuilder</code> class. This is where you would specify the mapping between the direct endpoint and the method that will consume the messages.</p>\n<p>For example, if you have a <code>RouteBuilder</code> class that looks like this:</p>\n<pre><code>public class MyRouteBuilder extends RouteBuilder {\n  @Override\n  public void configure() {\n    from(&quot;direct:products.create.validate.interceptor&quot;)\n      .to(&quot;bean:myBean?method=executeCreate&quot;);\n  }\n}\n</code></pre>\n<p>In this example, the direct endpoint <code>direct:products.create.validate.interceptor</code> is mapped to the <code>executeCreate</code> method in the <code>myBean</code> bean. The <code>?method=executeCreate</code> part of the to URI tells Camel <strong>to</strong> call the executeCreate method on the myBean bean when a message is received at the endpoint.</p>\n<p>So, in short, you should look for the Camel routes in your project that define the mapping between the endpoint and the method that consumes the messages.</p>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75411512,"answer_count":1,"score":2,"last_activity_date":1676034182,"creation_date":1675769976,"question_id":75372840,"body_markdown":"I&#39;m learning about Apache Camel routes in Spring Boot projects and I have a project that does extension from some endpoints. The endpoints are not in this project, only the extension is done here. The extension is done using @Consume from org.apache.camel in this way:\r\n\r\n    @Consume(uri = &quot;direct:products.create.validate.interceptor&quot;)\r\n    public void executeCreate(RequestWrapper&lt;Product&gt; productWrapper) {\r\n    ...\r\n    }\r\n\r\nI try to understand how this direct:products.create.validate.interceptor is mapped to an endpoint from another service. Can somebody explain me how this @Consume annotation does the mapping?\r\nOr another example is this:\r\n\r\n    @Consume(uri = &quot;direct:listAccountsPostHook&quot;)\r\n    public void executeCreate(RequestWrapper&lt;Account&gt; accountWrapper) {\r\n    ...\r\n    }\r\n\r\nWhere should I look to understand how they are mapped? In the controller of the other service? I can&#39;t find any example with @Consume. Thank you!","title":"How @Consume from Apache Camel does the mapping in Spring Boot project?","body":"<p>I'm learning about Apache Camel routes in Spring Boot projects and I have a project that does extension from some endpoints. The endpoints are not in this project, only the extension is done here. The extension is done using @Consume from org.apache.camel in this way:</p>\n<pre><code>@Consume(uri = &quot;direct:products.create.validate.interceptor&quot;)\npublic void executeCreate(RequestWrapper&lt;Product&gt; productWrapper) {\n...\n}\n</code></pre>\n<p>I try to understand how this direct:products.create.validate.interceptor is mapped to an endpoint from another service. Can somebody explain me how this @Consume annotation does the mapping?\nOr another example is this:</p>\n<pre><code>@Consume(uri = &quot;direct:listAccountsPostHook&quot;)\npublic void executeCreate(RequestWrapper&lt;Account&gt; accountWrapper) {\n...\n}\n</code></pre>\n<p>Where should I look to understand how they are mapped? In the controller of the other service? I can't find any example with @Consume. Thank you!</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1542209669,"post_id":53303571,"comment_id":93488176,"body_markdown":"It&#39;s the utf8 byte order mark. Some editors save the BOM inside the file (in order to be used as a header) which regularly causes confusion because it is optional.","body":"It&#39;s the utf8 byte order mark. Some editors save the BOM inside the file (in order to be used as a header) which regularly causes confusion because it is optional."}],"answers":[{"tags":[],"owner":{"account_id":48070,"reputation":99600,"user_id":142637,"accept_rate":100,"display_name":"sloth"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1542209589,"creation_date":1542209589,"answer_id":53303683,"question_id":53303571,"body_markdown":"Are you sure it&#39;s not `239 187 191`? (`EF BB BF` in hex)\n\nYou&#39;re seeing the [byte order mark][1] of the file:\n\n&gt; The byte order mark (BOM) is a Unicode character, U+FEFF BYTE ORDER MARK (BOM), whose appearance as a magic number at the start of a text stream can signal several things to a program reading the text:\n&gt;\n&gt;    The byte order, or endianness, of the text stream;  \n&gt;    The fact that the text stream&#39;s encoding is Unicode, to a high level of confidence;  \n&gt;    Which Unicode encoding the text stream is encoded as.\n\n\n  [1]: https://en.wikipedia.org/wiki/Byte_order_mark","title":"Why does the FileReader stream read 239, 187, 191 from a textfile?","body":"<p>Are you sure it's not <code>239 187 191</code>? (<code>EF BB BF</code> in hex)</p>\n<p>You're seeing the <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\">byte order mark</a> of the file:</p>\n<blockquote>\n<p>The byte order mark (BOM) is a Unicode character, U+FEFF BYTE ORDER MARK (BOM), whose appearance as a magic number at the start of a text stream can signal several things to a program reading the text:</p>\n<p>The byte order, or endianness, of the text stream;<br />\nThe fact that the text stream's encoding is Unicode, to a high level of confidence;<br />\nWhich Unicode encoding the text stream is encoded as.</p>\n</blockquote>\n"}],"owner":{"account_id":13785848,"reputation":165,"user_id":9949802,"display_name":"Mireodon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3626,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":53303683,"answer_count":1,"score":8,"last_activity_date":1676034017,"creation_date":1542209239,"question_id":53303571,"body_markdown":"I have a text file with a just a character &#39;T&#39; inside, and I have created a read stream to output to the console what is being read and I got 239, 187, 191 and 84, I understand that 84 represents &#39;T&#39;, I know 239, 187, 191 represent other characters as well but I don&#39;t have those characters in my text file, what is going on??\r\n\r\n    public class Test {\r\n    \r\n       public static void main(String args[]) throws IOException {  \r\n          FileInputStream in = null;\r\n    \r\n          try {\r\n             in = new FileInputStream(&quot;input.txt&quot;);         \r\n             int c;\r\n             while ((c = in.read()) != -1) {\r\n            \t System.out.println(c);\r\n       \r\n             }\r\n          }finally {\r\n             if (in != null) {\r\n                in.close();\r\n             }\r\n          }\r\n       }\r\n    }","title":"Why does the FileReader stream read 239, 187, 191 from a textfile?","body":"<p>I have a text file with a just a character 'T' inside, and I have created a read stream to output to the console what is being read and I got 239, 187, 191 and 84, I understand that 84 represents 'T', I know 239, 187, 191 represent other characters as well but I don't have those characters in my text file, what is going on??</p>\n\n<pre><code>public class Test {\n\n   public static void main(String args[]) throws IOException {  \n      FileInputStream in = null;\n\n      try {\n         in = new FileInputStream(\"input.txt\");         \n         int c;\n         while ((c = in.read()) != -1) {\n             System.out.println(c);\n\n         }\n      }finally {\n         if (in != null) {\n            in.close();\n         }\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7363309,"reputation":260,"user_id":5605881,"display_name":"TheZero"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662716956,"creation_date":1662716956,"answer_id":73660265,"question_id":73659494,"body_markdown":"I have 2 option for you.\r\n\r\n 1. If you just want set text size/ margin for only one screen size. Create file `dimens` on `values` folder. And use that code `getResources().getDimension(R.dimen.dimen_name)`. The point is `dimens` just allow  dp, sp and px. But I think that is enough.\r\n 2. In case you want set for multi-screen. You can use that lib `com.intuit.sdp:sdp-android` and call multi-dimension like that `getResources().getDimension(R.dimen._1sdp)`","title":"How to set the dimensions of a view programatically using sdp in andorid?","body":"<p>I have 2 option for you.</p>\n<ol>\n<li>If you just want set text size/ margin for only one screen size. Create file <code>dimens</code> on <code>values</code> folder. And use that code <code>getResources().getDimension(R.dimen.dimen_name)</code>. The point is <code>dimens</code> just allow  dp, sp and px. But I think that is enough.</li>\n<li>In case you want set for multi-screen. You can use that lib <code>com.intuit.sdp:sdp-android</code> and call multi-dimension like that <code>getResources().getDimension(R.dimen._1sdp)</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662718001,"creation_date":1662718001,"answer_id":73660471,"question_id":73659494,"body_markdown":"You could make ur dimens.xml file and enter your desired margins/dimensions for each density.\r\n\r\nI would suggest using a library from https://github.com/intuit/sdp\r\n\r\nYou could use this to set your margins or dimensions using \r\n\r\n```\r\nJava -&gt;\r\ngetResources.getDimension(R.dimen._**sdp);\r\n\r\nKotlin -&gt;\r\nresources.getDimension(R.dimen._**sdp)\r\n```\r\n\r\nIf u want progmatically set text size or sp sizes, use this https://github.com/intuit/ssp\r\n\r\n```\r\nJava -&gt;\r\ntasks.setTextSize(getResources.getDimension(R.dimen._**ssp);\r\n\r\nKotlin -&gt;\r\ntasks.setTextSize(resources.getDimension(R.dimen._**ssp)\r\n```\r\n\r\nHope this helps! :)\r\n","title":"How to set the dimensions of a view programatically using sdp in andorid?","body":"<p>You could make ur dimens.xml file and enter your desired margins/dimensions for each density.</p>\n<p>I would suggest using a library from <a href=\"https://github.com/intuit/sdp\" rel=\"nofollow noreferrer\">https://github.com/intuit/sdp</a></p>\n<p>You could use this to set your margins or dimensions using</p>\n<pre><code>Java -&gt;\ngetResources.getDimension(R.dimen._**sdp);\n\nKotlin -&gt;\nresources.getDimension(R.dimen._**sdp)\n</code></pre>\n<p>If u want progmatically set text size or sp sizes, use this <a href=\"https://github.com/intuit/ssp\" rel=\"nofollow noreferrer\">https://github.com/intuit/ssp</a></p>\n<pre><code>Java -&gt;\ntasks.setTextSize(getResources.getDimension(R.dimen._**ssp);\n\nKotlin -&gt;\ntasks.setTextSize(resources.getDimension(R.dimen._**ssp)\n</code></pre>\n<p>Hope this helps! :)</p>\n"},{"tags":[],"owner":{"account_id":27752667,"reputation":1,"user_id":21186811,"display_name":"451-F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676033906,"creation_date":1676033831,"answer_id":75411456,"question_id":73659494,"body_markdown":"in Kotlin I solved it this way\r\n\r\n    headerTimer.layoutParams.height = resources.getDimension(com.intuit.sdp.R.dimen._180sdp).toInt()\r\n\r\nand it works correctly\r\n\r\n  ","title":"How to set the dimensions of a view programatically using sdp in andorid?","body":"<p>in Kotlin I solved it this way</p>\n<pre><code>headerTimer.layoutParams.height = resources.getDimension(com.intuit.sdp.R.dimen._180sdp).toInt()\n</code></pre>\n<p>and it works correctly</p>\n"}],"owner":{"account_id":23537247,"reputation":730,"user_id":17582019,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73660265,"answer_count":3,"score":2,"last_activity_date":1676033906,"creation_date":1662712826,"question_id":73659494,"body_markdown":"I want to programmatically set the dimensions of `TextView`. But I&#39;m using `sdp` and `ssp` values. How can I use these values to set the dimensions of a textview programatically.\r\n\r\n    TextView tasks = new TextView(this);\r\n    tasks.setText(name);\r\n    tasks.setTextSize(??);\r\n    tasks.setMargin(??)\r\n    ViewGroup.LayoutParams l1 = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, height??); // what is the height input here?\r\n\r\nAnd how to set the text size (ssp) and margin/padding (sdp)? \r\n\r\n","title":"How to set the dimensions of a view programatically using sdp in andorid?","body":"<p>I want to programmatically set the dimensions of <code>TextView</code>. But I'm using <code>sdp</code> and <code>ssp</code> values. How can I use these values to set the dimensions of a textview programatically.</p>\n<pre><code>TextView tasks = new TextView(this);\ntasks.setText(name);\ntasks.setTextSize(??);\ntasks.setMargin(??)\nViewGroup.LayoutParams l1 = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, height??); // what is the height input here?\n</code></pre>\n<p>And how to set the text size (ssp) and margin/padding (sdp)?</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1657544047,"post_id":72938859,"comment_id":128828194,"body_markdown":"That proves that your browser is not sending that header. Why do you expect that to happen?","body":"That proves that your browser is not sending that header. Why do you expect that to happen?"},{"owner":{"account_id":19360557,"reputation":11,"user_id":14155884,"display_name":"Madan Mohan Mishra"},"score":0,"creation_date":1657546126,"post_id":72938859,"comment_id":128829081,"body_markdown":"Browser is sending the header, I have verified that.","body":"Browser is sending the header, I have verified that."},{"owner":{"account_id":19360557,"reputation":11,"user_id":14155884,"display_name":"Madan Mohan Mishra"},"score":0,"creation_date":1657559973,"post_id":72938859,"comment_id":128834626,"body_markdown":"Any help will be really appreciated, just to highlight I am running both front end and backend in localhost but at different ports","body":"Any help will be really appreciated, just to highlight I am running both front end and backend in localhost but at different ports"}],"answers":[{"tags":[],"owner":{"account_id":15984107,"reputation":1,"user_id":11535084,"display_name":"Михаил Егоров"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657579046,"creation_date":1657578037,"answer_id":72945229,"question_id":72938859,"body_markdown":"i guess in browser your request could be not cors (crosserver). Case frontend and backend running on same domain - localhost. When you are using Postman, your request is cross domain.","title":"Getting request.getHeader(&quot;Authorization&quot;) as null while hitting api from browser but not in postman","body":"<p>i guess in browser your request could be not cors (crosserver). Case frontend and backend running on same domain - localhost. When you are using Postman, your request is cross domain.</p>\n"}],"owner":{"account_id":19360557,"reputation":11,"user_id":14155884,"display_name":"Madan Mohan Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2562,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676033630,"creation_date":1657543688,"question_id":72938859,"body_markdown":"Here is my filter which I have written in java that will intercept all the incoming http request.\r\n\r\nWhen I am trying to get or print `request.getHeader(&quot;Authorization&quot;)`, it is giving me `null` but if I am hitting same request from postman, I am getting the value of it.\r\n\r\n```\r\npackage com.web.filter;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.Filter;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.FilterConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class CORSFilter implements Filter{\r\n\t\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws \r\n\t\tIOException, ServletException {\r\n\t\tHttpServletResponse response = (HttpServletResponse) res;\r\n\t\tHttpServletRequest request = (HttpServletRequest) req;\r\n\t\tString header=request.getHeader(&quot;Authorization&quot;);\r\n\t\t\t\t\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;*&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n\r\n\t\tif (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\t            \r\n\t\t\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n\t\t} else {\r\n\t\t\tchain.doFilter(req, res);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void init(FilterConfig filterConfig) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void destroy() {\r\n\t}\r\n}\r\n```","title":"Getting request.getHeader(&quot;Authorization&quot;) as null while hitting api from browser but not in postman","body":"<p>Here is my filter which I have written in java that will intercept all the incoming http request.</p>\n<p>When I am trying to get or print <code>request.getHeader(&quot;Authorization&quot;)</code>, it is giving me <code>null</code> but if I am hitting same request from postman, I am getting the value of it.</p>\n<pre><code>package com.web.filter;\n\nimport java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class CORSFilter implements Filter{\n    \n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws \n        IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) res;\n        HttpServletRequest request = (HttpServletRequest) req;\n        String header=request.getHeader(&quot;Authorization&quot;);\n                \n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n\n        if (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {              \n            response.setStatus(HttpServletResponse.SC_OK);\n        } else {\n            chain.doFilter(req, res);\n        }\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n"},{"tags":["java","android","dialog","fragment"],"answers":[{"tags":[],"owner":{"account_id":10698530,"reputation":582,"user_id":7874746,"display_name":"Abdullah Javed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676033569,"creation_date":1676033569,"answer_id":75411402,"question_id":75410265,"body_markdown":"Use `getActivity()` instead of `MoviesFragFragmentActivity.this`","title":"How to display an Alert Dialog in a fragment","body":"<p>Use <code>getActivity()</code> instead of <code>MoviesFragFragmentActivity.this</code></p>\n"}],"owner":{"account_id":23727738,"reputation":13,"user_id":17747424,"display_name":"user17747424"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676033569,"creation_date":1676027184,"question_id":75410265,"body_markdown":"I am trying to display a custom Alert Dialog in a fragment. The name of my fragment is MoviesFragFragmentActivity.java\r\n\r\nHere is my code:\r\n\r\n```\r\nfinal AlertDialog dialog1 = new AlertDialog.Builder(MoviesFragFragmentActivity.this).create();\r\nView inflate = getLayoutInflater().inflate(R.layout.custom3,null); \r\ndialog1.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\ndialog1.setView(inflate);\r\nTextView t1 = (TextView) inflate.findViewById(R.id.t1);\r\n\r\nTextView t2 = (TextView) inflate.findViewById(R.id.t2);\r\n\r\nTextView t3 = (TextView) inflate.findViewById(R.id.t3);\r\n\r\nLinearLayout b1 = (LinearLayout) inflate.findViewById(R.id.b1);\r\n\r\nImageView i1 = (ImageView) inflate.findViewById(R.id.i1);\r\n\r\nLinearLayout bg = (LinearLayout) inflate.findViewById(R.id.bg);\r\nt1.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/en_medium.ttf&quot;), 0);\r\nt2.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/sansation_regular.ttf&quot;), 0);\r\nt3.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/sansation_regular.ttf&quot;), 0);\r\ni1.setImageResource(R.drawable.splash);\r\ni1.getDrawable().setColorFilter(Color.parseColor(&quot;#008DCD&quot;), PorterDuff.Mode.SRC_IN);\r\nt1.setText(&quot;Oh,No...&quot;);\r\nt2.setText(&quot;This feature is not available yet, try after new update &quot;);\r\nt3.setText(&quot;Try again&quot;);\r\n_rippleRoundStroke(bg, &quot;#FAFAFA&quot;, &quot;#000000&quot;, 40, 0, &quot;#000000&quot;);\r\n_CardView(b1, 10, 100, &quot;#008DCD&quot;, true);\r\nb1.setOnClickListener(new View.OnClickListener(){ public void onClick(View v){ \r\n\t\t// Default item selected on bottom navigation onCreate\r\n\t\tbottomnavigation4.getMenu().findItem(2).setChecked(true);\r\n\t\tSketchwareUtil.showMessage(getApplicationContext(), &quot;Try again later&quot;);\r\n\t\tdialog1.dismiss();\r\n\t}\r\n});\r\ndialog1.setCancelable(false);\r\ndialog1.show();\r\n```\r\nOn compilation, it gives me this error:\r\n1. ERROR in /storage/emulated/0/.sketchware/mysc/680/app/src/main/java/com/liquidapps/movieapp/MoviesFragFragmentActivity.java (at line 601)\r\n\r\n\tfinal AlertDialog dialog1 = new AlertDialog.Builder(MoviesFragFragmentActivity.this).create();\r\nThe constructor AlertDialog.Builder(MoviesFragFragmentActivity) is undefined\r\n\r\nHow does I display my alert dialog in my Fragment?\r\n\r\nI tried using the same code in an activity (Main activity.java) and it works fine, but once I use the code in a fragment, I receive the error.","title":"How to display an Alert Dialog in a fragment","body":"<p>I am trying to display a custom Alert Dialog in a fragment. The name of my fragment is MoviesFragFragmentActivity.java</p>\n<p>Here is my code:</p>\n<pre><code>final AlertDialog dialog1 = new AlertDialog.Builder(MoviesFragFragmentActivity.this).create();\nView inflate = getLayoutInflater().inflate(R.layout.custom3,null); \ndialog1.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\ndialog1.setView(inflate);\nTextView t1 = (TextView) inflate.findViewById(R.id.t1);\n\nTextView t2 = (TextView) inflate.findViewById(R.id.t2);\n\nTextView t3 = (TextView) inflate.findViewById(R.id.t3);\n\nLinearLayout b1 = (LinearLayout) inflate.findViewById(R.id.b1);\n\nImageView i1 = (ImageView) inflate.findViewById(R.id.i1);\n\nLinearLayout bg = (LinearLayout) inflate.findViewById(R.id.bg);\nt1.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/en_medium.ttf&quot;), 0);\nt2.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/sansation_regular.ttf&quot;), 0);\nt3.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/sansation_regular.ttf&quot;), 0);\ni1.setImageResource(R.drawable.splash);\ni1.getDrawable().setColorFilter(Color.parseColor(&quot;#008DCD&quot;), PorterDuff.Mode.SRC_IN);\nt1.setText(&quot;Oh,No...&quot;);\nt2.setText(&quot;This feature is not available yet, try after new update &quot;);\nt3.setText(&quot;Try again&quot;);\n_rippleRoundStroke(bg, &quot;#FAFAFA&quot;, &quot;#000000&quot;, 40, 0, &quot;#000000&quot;);\n_CardView(b1, 10, 100, &quot;#008DCD&quot;, true);\nb1.setOnClickListener(new View.OnClickListener(){ public void onClick(View v){ \n        // Default item selected on bottom navigation onCreate\n        bottomnavigation4.getMenu().findItem(2).setChecked(true);\n        SketchwareUtil.showMessage(getApplicationContext(), &quot;Try again later&quot;);\n        dialog1.dismiss();\n    }\n});\ndialog1.setCancelable(false);\ndialog1.show();\n</code></pre>\n<p>On compilation, it gives me this error:</p>\n<ol>\n<li><p>ERROR in /storage/emulated/0/.sketchware/mysc/680/app/src/main/java/com/liquidapps/movieapp/MoviesFragFragmentActivity.java (at line 601)</p>\n<p>final AlertDialog dialog1 = new AlertDialog.Builder(MoviesFragFragmentActivity.this).create();\nThe constructor AlertDialog.Builder(MoviesFragFragmentActivity) is undefined</p>\n</li>\n</ol>\n<p>How does I display my alert dialog in my Fragment?</p>\n<p>I tried using the same code in an activity (Main activity.java) and it works fine, but once I use the code in a fragment, I receive the error.</p>\n"},{"tags":["java","tomcat","intellij-idea","servlets"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1675998434,"post_id":75406539,"comment_id":133053116,"body_markdown":"That means Tomcat is running, and the URL you&#39;re hitting doesn&#39;t exist. Seems more like a web app config/code issue than a Tomcat issue so far.","body":"That means Tomcat is running, and the URL you&#39;re hitting doesn&#39;t exist. Seems more like a web app config/code issue than a Tomcat issue so far."},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1675998967,"post_id":75406539,"comment_id":133053173,"body_markdown":"I see. So, what would you advise me to check / update?","body":"I see. So, what would you advise me to check / update?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675999001,"post_id":75406539,"comment_id":133053176,"body_markdown":"Your web app config and code?","body":"Your web app config and code?"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1675999160,"post_id":75406539,"comment_id":133053196,"body_markdown":"Here is my web config [web.xml]: \n\n&lt;!DOCTYPE web-app PUBLIC\n        &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n        &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n&lt;/web-app&gt;","body":"Here is my web config [web.xml]:   &lt;!DOCTYPE web-app PUBLIC         &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;         &quot;<a href=\"http://java.sun.com/dtd/web-app_2_3.dtd\" rel=\"nofollow noreferrer\">java.sun.com/dtd/web-app_2_3.dtd</a>&quot; &gt;  &lt;web-app&gt;     &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;  &lt;/web-app&gt;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675999820,"post_id":75406539,"comment_id":133053273,"body_markdown":"(1) Your picture Screen 2, Tomcat - Deployment \n**Application context** , is empty,  set **Application context:**  value **filter**, (2) browser, open `http://localhost:8080/filter`","body":"(1) Your picture Screen 2, Tomcat - Deployment  <b>Application context</b> , is empty,  set <b>Application context:</b>  value <b>filter</b>, (2) browser, open <code>http:&#47;&#47;localhost:8080&#47;filter</code>"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1676000212,"post_id":75406539,"comment_id":133053312,"body_markdown":"@life888888 I added `/filter` into Application context field, but still getting 404&#129300;","body":"@life888888 I added <code>&#47;filter</code> into Application context field, but still getting 404🤔"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1676000366,"post_id":75406539,"comment_id":133053322,"body_markdown":"by default, there was `/filter_war_exploded`, but I had removed it to land directly on the home page","body":"by default, there was <code>&#47;filter_war_exploded</code>, but I had removed it to land directly on the home page"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1676000985,"post_id":75406539,"comment_id":133053406,"body_markdown":"By default,  when you deployment `XXX.war`  to tomcat, application context will be `XXX`, mapping to url , will be `http://localhost:8080/XXX`. application context `/` will mapping to `http://localhost:8080/`, application context `/` default is for Tomcat Root,","body":"By default,  when you deployment <code>XXX.war</code>  to tomcat, application context will be <code>XXX</code>, mapping to url , will be <code>http:&#47;&#47;localhost:8080&#47;XXX</code>. application context <code>&#47;</code> will mapping to <code>http:&#47;&#47;localhost:8080&#47;</code>, application context <code>&#47;</code> default is for Tomcat Root,"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1676001332,"post_id":75406539,"comment_id":133053453,"body_markdown":"Your browser error message have `The requestd resource [/login] is not available`. You need check this request `/login` is come from your code, or come from tomcat config?","body":"Your browser error message have <code>The requestd resource [&#47;login] is not available</code>. You need check this request <code>&#47;login</code> is come from your code, or come from tomcat config?"}],"answers":[{"tags":[],"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676001512,"creation_date":1676001512,"answer_id":75406800,"question_id":75406539,"body_markdown":"In your forked sample project&#39;s `src/main/webapp/index.jsp` file, it contains this part:\r\n\r\n```\r\n&lt;jsp:forward page=&quot;/login&quot;/&gt;\r\n```\r\n\r\nActually, you have already accessed the index page successfully, and it redirects to the `/login` page which does not exist in your project so 404 here.\r\n\r\nBut you have an `src/main/webapp/login.jsp` file in this project, so you could access the `http://localhost:8080/xxxx/login.jsp`.\r\n\r\nIf you change the `&lt;jsp:forward page=&quot;/login&quot;/&gt;` to `&lt;jsp:forward page=&quot;/login.jsp&quot;/&gt;`, it would help too.","title":"How to setup Tomcat 9 server to run it on Intellij IDEA UE (macOS)","body":"<p>In your forked sample project's <code>src/main/webapp/index.jsp</code> file, it contains this part:</p>\n<pre><code>&lt;jsp:forward page=&quot;/login&quot;/&gt;\n</code></pre>\n<p>Actually, you have already accessed the index page successfully, and it redirects to the <code>/login</code> page which does not exist in your project so 404 here.</p>\n<p>But you have an <code>src/main/webapp/login.jsp</code> file in this project, so you could access the <code>http://localhost:8080/xxxx/login.jsp</code>.</p>\n<p>If you change the <code>&lt;jsp:forward page=&quot;/login&quot;/&gt;</code> to <code>&lt;jsp:forward page=&quot;/login.jsp&quot;/&gt;</code>, it would help too.</p>\n"},{"tags":[],"owner":{"account_id":18304375,"reputation":11,"user_id":13328487,"display_name":"Sendi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676033372,"creation_date":1676033372,"answer_id":75411372,"question_id":75406539,"body_markdown":"Adding &quot;/&quot; (slash) to the Application context in the deployment tab should do it. \r\n\r\nIf that doesn&#39;t solve it, then go to [this page.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa","title":"How to setup Tomcat 9 server to run it on Intellij IDEA UE (macOS)","body":"<p>Adding &quot;/&quot; (slash) to the Application context in the deployment tab should do it.</p>\n<p>If that doesn't solve it, then go to <a href=\"https://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa\">this page.</a></p>\n"}],"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75406800,"answer_count":2,"score":0,"last_activity_date":1676033372,"creation_date":1675998167,"question_id":75406539,"body_markdown":"I forked this [Java Project][1] and set up Tomcat 9 as usual. But, when I start the server running, I get `HTTP Status 404`.\r\n\r\nWhich part of my Tomcat / IntelliJ IDEA, do I have to update? I&#39;m using IntelliJ Ultimate with Tomcat 9 and 10 (both installed, but using 9) on macOS - MacBook Air (M1, 2020).\r\n\r\nHere are some relevant screenshots from my project:\r\n1. Tomcat Server\r\n[![enter image description here][2]][2]\r\n\r\n2. Tomcat Deployment\r\n[![enter image description here][3]][3]\r\n\r\n3. Browser\r\n[![enter image description here][4]][4]\r\n\r\n4. Artifact\r\n[![enter image description here][5]][5]\r\n\r\n5. pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;filter&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n             \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n  [1]: https://github.com/SarvarKh/stage2-module2-task2\r\n  [2]: https://i.stack.imgur.com/NxQA3.jpg\r\n  [3]: https://i.stack.imgur.com/YVCLM.png\r\n  [4]: https://i.stack.imgur.com/9ooeU.jpg\r\n  [5]: https://i.stack.imgur.com/ymhAp.jpg","title":"How to setup Tomcat 9 server to run it on Intellij IDEA UE (macOS)","body":"<p>I forked this <a href=\"https://github.com/SarvarKh/stage2-module2-task2\" rel=\"nofollow noreferrer\">Java Project</a> and set up Tomcat 9 as usual. But, when I start the server running, I get <code>HTTP Status 404</code>.</p>\n<p>Which part of my Tomcat / IntelliJ IDEA, do I have to update? I'm using IntelliJ Ultimate with Tomcat 9 and 10 (both installed, but using 9) on macOS - MacBook Air (M1, 2020).</p>\n<p>Here are some relevant screenshots from my project:</p>\n<ol>\n<li><p>Tomcat Server\n<a href=\"https://i.stack.imgur.com/NxQA3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NxQA3.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Tomcat Deployment\n<a href=\"https://i.stack.imgur.com/YVCLM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVCLM.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Browser\n<a href=\"https://i.stack.imgur.com/9ooeU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ooeU.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Artifact\n<a href=\"https://i.stack.imgur.com/ymhAp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymhAp.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>pom.xml</p>\n</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;filter&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n             \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","liquibase"],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676033336,"creation_date":1675849579,"question_id":75383904,"body_markdown":"I updated the org.liquibase:liquibase-core from 4.16.1 to 4.19.0.\r\n\r\nMy lquibase.xml is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n          http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.5.xsd&quot;&gt;\r\n        &lt;includeAll path=&quot;classpath:db/migration&quot;/&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\n\r\nWith the version 4.19.0 find no more files in &quot;classpath:db/migration&quot;. But I do no know why.\r\n\r\nTo do the migration I use the following code\r\n\r\n           try (final var connection = DatabaseUtils.createMySQLConnection(db, user, pass) {\r\n    \r\n                final var contexts = new Contexts();\r\n    \r\n                final Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(connection));\r\n                final Liquibase liquibase = new liquibase.Liquibase(&quot;db/liquibase.xml&quot;, new ClassLoaderResourceAccessor(), database);\r\n                liquibase.update(contexts, new LabelExpression());\r\n            } catch (final Exception ex) {\r\n                logger.error(ExceptionUtils.getStackTrace(ex));\r\n            }\r\n\r\n\r\nAny idea why no files found in db/migration ?","title":"liquibase no migration files found in jar","body":"<p>I updated the org.liquibase:liquibase-core from 4.16.1 to 4.19.0.</p>\n<p>My lquibase.xml is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.5.xsd&quot;&gt;\n    &lt;includeAll path=&quot;classpath:db/migration&quot;/&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>With the version 4.19.0 find no more files in &quot;classpath:db/migration&quot;. But I do no know why.</p>\n<p>To do the migration I use the following code</p>\n<pre><code>       try (final var connection = DatabaseUtils.createMySQLConnection(db, user, pass) {\n\n            final var contexts = new Contexts();\n\n            final Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(connection));\n            final Liquibase liquibase = new liquibase.Liquibase(&quot;db/liquibase.xml&quot;, new ClassLoaderResourceAccessor(), database);\n            liquibase.update(contexts, new LabelExpression());\n        } catch (final Exception ex) {\n            logger.error(ExceptionUtils.getStackTrace(ex));\n        }\n</code></pre>\n<p>Any idea why no files found in db/migration ?</p>\n"},{"tags":["java","swing","oop","uml","sequence-diagram"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676025833,"post_id":75409857,"comment_id":133058550,"body_markdown":"The sequence should be implementation independent - that is to say, the sequence could be implemented on a text or web or desktop or mobile interface, it shouldn&#39;t matter.  If your model classes are tightly coupled to your UI then you have a problem.  Your model classes should do just that, model the data, the UI will then interact with them, against what the sequence diagram is describing.  My suggestion - to consider the UI in the diagram, &quot;how&quot; the use interacts with the flow should not be of concern.","body":"The sequence should be implementation independent - that is to say, the sequence could be implemented on a text or web or desktop or mobile interface, it shouldn&#39;t matter.  If your model classes are tightly coupled to your UI then you have a problem.  Your model classes should do just that, model the data, the UI will then interact with them, against what the sequence diagram is describing.  My suggestion - to consider the UI in the diagram, &quot;how&quot; the use interacts with the flow should not be of concern."},{"owner":{"account_id":24512771,"reputation":11,"user_id":18426888,"display_name":"Adrian Floroiu"},"score":0,"creation_date":1676029314,"post_id":75409857,"comment_id":133059534,"body_markdown":"So let&#39;s say I want to draw a sequence diagram for the customer login process. Considering my classes structure, which object should the customer actor send the message &quot;input account number and PIN&quot;? My answer would be that it needs to send the message to the ATM object. However, in my case, the inputs are received in a CustomerLogin class, which represents the login Swing form, so it represents the UI. In CustomerLogin I create a Customer object, for which I call the login() method.","body":"So let&#39;s say I want to draw a sequence diagram for the customer login process. Considering my classes structure, which object should the customer actor send the message &quot;input account number and PIN&quot;? My answer would be that it needs to send the message to the ATM object. However, in my case, the inputs are received in a CustomerLogin class, which represents the login Swing form, so it represents the UI. In CustomerLogin I create a Customer object, for which I call the login() method."}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676033261,"creation_date":1676033261,"answer_id":75411353,"question_id":75409857,"body_markdown":"The class diagram without any of the app&#39;s internals is a &quot;domain model&quot;. Its goal is not to document all possible classes used in your apps, but to focus on the domain knowledge, independently of how the app is implemented. The diagram would stay the same if you had a real ATM device, if you would implement a web service, or if you would use any other UI framework.\r\n\r\nSo you made a clear choice on what you wanted the diagram to show.  You could perfectly have chosen to have monstrous class diagram including in addition the classes required for the business logic, for database interaction and for the UI (e.g. using the famous [Entity Boundary Control][1] pattern). The diagram would then be more dependent on your implementation choices.  \r\n\r\nFor the sequence diagram, it&#39;s the same.  There is no best way to draft this diagram.  **The question is only about what you want this diagram to focus on**: do you want to model the **domain logic** ?  In this case you would use your domain classes and show how they interact.  Or do you want to model the **detailed application design** , in which case you could envisage to add also UI classes. But the diagrams would then quickly become very complex, and you&#39;d better break them down into several simpler SDs, each focusing on some parts of your detailed technical design.    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Entity-control-boundary","title":"Draw sequence diagrams for a Java Swing application","body":"<p>The class diagram without any of the app's internals is a &quot;domain model&quot;. Its goal is not to document all possible classes used in your apps, but to focus on the domain knowledge, independently of how the app is implemented. The diagram would stay the same if you had a real ATM device, if you would implement a web service, or if you would use any other UI framework.</p>\n<p>So you made a clear choice on what you wanted the diagram to show.  You could perfectly have chosen to have monstrous class diagram including in addition the classes required for the business logic, for database interaction and for the UI (e.g. using the famous <a href=\"https://en.wikipedia.org/wiki/Entity-control-boundary\" rel=\"nofollow noreferrer\">Entity Boundary Control</a> pattern). The diagram would then be more dependent on your implementation choices.</p>\n<p>For the sequence diagram, it's the same.  There is no best way to draft this diagram.  <strong>The question is only about what you want this diagram to focus on</strong>: do you want to model the <strong>domain logic</strong> ?  In this case you would use your domain classes and show how they interact.  Or do you want to model the <strong>detailed application design</strong> , in which case you could envisage to add also UI classes. But the diagrams would then quickly become very complex, and you'd better break them down into several simpler SDs, each focusing on some parts of your detailed technical design.</p>\n"}],"owner":{"account_id":24512771,"reputation":11,"user_id":18426888,"display_name":"Adrian Floroiu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1676117425,"accepted_answer_id":75411353,"answer_count":1,"score":-1,"last_activity_date":1676033261,"creation_date":1676025129,"question_id":75409857,"body_markdown":"I have a simple ATM system implemented in Java using Swing (I know Swing isn&#39;t really used anymore but I wanted it to be simple). The way I implemented it is as follows:\r\n\r\n - I have a `Customer` class which holds information about a customer and has a `login()` method\r\n - I have an `Account` class which holds information about an account and has methods for withdrawing, depositing and transferring money\r\n - I have a `Transaction` class which holds information about a transaction and has a `generateReceipt()` method that creates and exports a PDF with transaction info\r\n - I have an `ATM` class which holds the logged in account and the corresponding customer and has static methods for getting transactions, such as the current account transactions\r\n - Finally, I have an `Admin` class with username and password as attributes and methods for getting all the customers and accounts, adding a customer or creating an account and deleting a customer or an account.\r\n\r\nMy application uses a MySQL database for storing information and making updates. Also, customers can have multiple accounts and one can log in the system using the account number and PIN.\r\n\r\nI drew the use case diagrams, and the class diagram, not considering my UI in the class diagram.\r\n\r\nI have a hard time creating sequence diagrams for this application, as all my classes and objects are used in classes made with Swing.\r\nMy question is: how should I structure my sequence diagrams, considering the fact that it is a Swing application? Should I add the UI classes or should I make it more conceptual and only describe the process and relations between my other 5 classes?\r\nAny help is highly appreciated!\r\n\r\nI tried separating as much logic from the actual UI, but I still can&#39;t figure out how should my sequence diagrams look, as a customer and the admin interacts with the Swing frames.","title":"Draw sequence diagrams for a Java Swing application","body":"<p>I have a simple ATM system implemented in Java using Swing (I know Swing isn't really used anymore but I wanted it to be simple). The way I implemented it is as follows:</p>\n<ul>\n<li>I have a <code>Customer</code> class which holds information about a customer and has a <code>login()</code> method</li>\n<li>I have an <code>Account</code> class which holds information about an account and has methods for withdrawing, depositing and transferring money</li>\n<li>I have a <code>Transaction</code> class which holds information about a transaction and has a <code>generateReceipt()</code> method that creates and exports a PDF with transaction info</li>\n<li>I have an <code>ATM</code> class which holds the logged in account and the corresponding customer and has static methods for getting transactions, such as the current account transactions</li>\n<li>Finally, I have an <code>Admin</code> class with username and password as attributes and methods for getting all the customers and accounts, adding a customer or creating an account and deleting a customer or an account.</li>\n</ul>\n<p>My application uses a MySQL database for storing information and making updates. Also, customers can have multiple accounts and one can log in the system using the account number and PIN.</p>\n<p>I drew the use case diagrams, and the class diagram, not considering my UI in the class diagram.</p>\n<p>I have a hard time creating sequence diagrams for this application, as all my classes and objects are used in classes made with Swing.\nMy question is: how should I structure my sequence diagrams, considering the fact that it is a Swing application? Should I add the UI classes or should I make it more conceptual and only describe the process and relations between my other 5 classes?\nAny help is highly appreciated!</p>\n<p>I tried separating as much logic from the actual UI, but I still can't figure out how should my sequence diagrams look, as a customer and the admin interacts with the Swing frames.</p>\n"},{"tags":["java","spring","annotations","event-handling"],"answers":[{"tags":[],"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676033009,"creation_date":1676033009,"answer_id":75411300,"question_id":75399119,"body_markdown":"Got it. Should&#39;ve added dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nNow it works.","title":"When trying to use @RepositoryEventHandler annotatin I get &#39;Cannot resolve symbol &#39;RepositoryEventHandler&#39; and the annotation is colored red","body":"<p>Got it. Should've added dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now it works.</p>\n"}],"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75411300,"answer_count":1,"score":0,"last_activity_date":1676033009,"creation_date":1675948448,"question_id":75399119,"body_markdown":"my problem is that when I&#39;m trying to use @RepositoryEventHandeler annotation I get &quot;Cannot resolve symbol &#39;RepositoryEventHandler&#39;&quot; information, as if Spring didn&#39;t recognize this annotation, I checked and it does not look like I need to add any dependencies for it to work. It&#39;s my first attempt at using it so maybe I got the whole idea behind it wrong. What am I doing wrong? Thanks in advance.\r\n\r\nConfiguration class where I create a bean from class annotated with @RepositoryEventHandler\r\n\r\n```\r\n@Configuration\r\npublic class ConfigurationBeans {\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AbsenceRepositoryEventHandler absenceRepositoryEventHandler() {\r\n        return new AbsenceRepositoryEventHandler();\r\n    }\r\n}\r\n\r\n```\r\n\r\nRepository\r\n\r\n```\r\n@Repository\r\npublic interface AbsenceRepository extends JpaRepository&lt;Absence, Long&gt; {\r\n    List&lt;Absence&gt; findAbsencesByBarberId(Long barberId);\r\n\r\n    List&lt;Absence&gt; findAbsencesByWorkDay_Id(Long workDayId);\r\n}\r\n\r\n```\r\nEntity\r\n\r\n```\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;absences&quot;)\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Absence {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @NotNull\r\n    @JoinColumn(name = &quot;barber_id&quot;)\r\n    private Barber barber;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;work_day_id&quot;)\r\n    private WorkDay workDay;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;absence_start&quot;)\r\n    private LocalTime absenceStart;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;absence_end&quot;)\r\n    private LocalTime absenceEnd;\r\n}\r\n```\r\n\r\nClass annotated with @RepositoryEventHandler (this annotation is all red and gives Cannot resolve symbol &#39;RepositoryEventHandle info)\r\n\r\n```\r\n@RepositoryEventHandler(Absence.class)\r\npublic class AbsenceRepositoryEventHandler {\r\n\r\n    @HandleBeforeCreate\r\n    public void handleAbsenceBeforeCreate(Absence absence){\r\n    }\r\n}\r\n```\r\nController class\r\n\r\n```\r\n@RestController\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n\r\npublic class AbsenceController {\r\n\r\n    private final AbsenceServiceImpl absenceService;\r\n    private final AbsenceRepository absenceRepository;\r\n\r\n    @GetMapping(&quot;/absences&quot;)\r\n    public List&lt;Absence&gt; getAllAbsences() {\r\n        return absenceRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/absencesById&quot;)\r\n    public AbsenceDto getAbsencesById(@RequestParam Long id) {\r\n        return absenceService.getAbsenceById(id);\r\n    }\r\n\r\n    @GetMapping(&quot;/absencesByBarber&quot;)\r\n    public List&lt;AbsenceDto&gt; getAbsencesByBarber(@RequestParam Long id) {\r\n        return absenceService.getAbsenceByBarber(id);\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/absencesByWorkDay&quot;)\r\n    public List&lt;AbsenceDto&gt; getAbsencesByWorkDay(@RequestParam Long id) {\r\n        return absenceService.getAbsenceByWorkDay(id);\r\n    }\r\n\r\n    @PostMapping(&quot;/absence&quot;)\r\n    public AbsenceDto createAbsence(@RequestBody @Valid CreateAbsenceDto absenceDto) {\r\n        return absenceService.addAbsence(absenceDto);\r\n    }\r\n\r\n\r\n    @PutMapping(&quot;/update/absence/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; updateAbsence(@PathVariable(&quot;id&quot;) long id, @RequestBody @Valid AbsenceDto absence) {\r\n        absenceService.updateAbsence(id, absence);\r\n        return new ResponseEntity&lt;&gt;(&quot;Absence was updated.&quot;, HttpStatus.OK);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/delete/absence/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; deleteAbsence(@PathVariable(&quot;id&quot;) long id) {\r\n        absenceService.removeAbsence(id);\r\n        return new ResponseEntity&lt;&gt;(&quot;Absence was deleted.&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"When trying to use @RepositoryEventHandler annotatin I get &#39;Cannot resolve symbol &#39;RepositoryEventHandler&#39; and the annotation is colored red","body":"<p>my problem is that when I'm trying to use @RepositoryEventHandeler annotation I get &quot;Cannot resolve symbol 'RepositoryEventHandler'&quot; information, as if Spring didn't recognize this annotation, I checked and it does not look like I need to add any dependencies for it to work. It's my first attempt at using it so maybe I got the whole idea behind it wrong. What am I doing wrong? Thanks in advance.</p>\n<p>Configuration class where I create a bean from class annotated with @RepositoryEventHandler</p>\n<pre><code>@Configuration\npublic class ConfigurationBeans {\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AbsenceRepositoryEventHandler absenceRepositoryEventHandler() {\n        return new AbsenceRepositoryEventHandler();\n    }\n}\n\n</code></pre>\n<p>Repository</p>\n<pre><code>@Repository\npublic interface AbsenceRepository extends JpaRepository&lt;Absence, Long&gt; {\n    List&lt;Absence&gt; findAbsencesByBarberId(Long barberId);\n\n    List&lt;Absence&gt; findAbsencesByWorkDay_Id(Long workDayId);\n}\n\n</code></pre>\n<p>Entity</p>\n<pre><code>@Getter\n@Entity\n@Table(name = &quot;absences&quot;)\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Absence {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne\n    @NotNull\n    @JoinColumn(name = &quot;barber_id&quot;)\n    private Barber barber;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;work_day_id&quot;)\n    private WorkDay workDay;\n\n    @NotNull\n    @Column(name = &quot;absence_start&quot;)\n    private LocalTime absenceStart;\n\n    @NotNull\n    @Column(name = &quot;absence_end&quot;)\n    private LocalTime absenceEnd;\n}\n</code></pre>\n<p>Class annotated with @RepositoryEventHandler (this annotation is all red and gives Cannot resolve symbol 'RepositoryEventHandle info)</p>\n<pre><code>@RepositoryEventHandler(Absence.class)\npublic class AbsenceRepositoryEventHandler {\n\n    @HandleBeforeCreate\n    public void handleAbsenceBeforeCreate(Absence absence){\n    }\n}\n</code></pre>\n<p>Controller class</p>\n<pre><code>@RestController\n@AllArgsConstructor\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n\npublic class AbsenceController {\n\n    private final AbsenceServiceImpl absenceService;\n    private final AbsenceRepository absenceRepository;\n\n    @GetMapping(&quot;/absences&quot;)\n    public List&lt;Absence&gt; getAllAbsences() {\n        return absenceRepository.findAll();\n    }\n\n    @GetMapping(&quot;/absencesById&quot;)\n    public AbsenceDto getAbsencesById(@RequestParam Long id) {\n        return absenceService.getAbsenceById(id);\n    }\n\n    @GetMapping(&quot;/absencesByBarber&quot;)\n    public List&lt;AbsenceDto&gt; getAbsencesByBarber(@RequestParam Long id) {\n        return absenceService.getAbsenceByBarber(id);\n    }\n\n\n    @GetMapping(&quot;/absencesByWorkDay&quot;)\n    public List&lt;AbsenceDto&gt; getAbsencesByWorkDay(@RequestParam Long id) {\n        return absenceService.getAbsenceByWorkDay(id);\n    }\n\n    @PostMapping(&quot;/absence&quot;)\n    public AbsenceDto createAbsence(@RequestBody @Valid CreateAbsenceDto absenceDto) {\n        return absenceService.addAbsence(absenceDto);\n    }\n\n\n    @PutMapping(&quot;/update/absence/{id}&quot;)\n    public ResponseEntity&lt;String&gt; updateAbsence(@PathVariable(&quot;id&quot;) long id, @RequestBody @Valid AbsenceDto absence) {\n        absenceService.updateAbsence(id, absence);\n        return new ResponseEntity&lt;&gt;(&quot;Absence was updated.&quot;, HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;/delete/absence/{id}&quot;)\n    public ResponseEntity&lt;String&gt; deleteAbsence(@PathVariable(&quot;id&quot;) long id) {\n        absenceService.removeAbsence(id);\n        return new ResponseEntity&lt;&gt;(&quot;Absence was deleted.&quot;, HttpStatus.OK);\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14221799,"reputation":280,"user_id":10273851,"display_name":"OjtamOjtam"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1633118251,"creation_date":1633118251,"answer_id":69411398,"question_id":69409938,"body_markdown":"easy random documentation doesn&#39;t show a way to do it, but you can just change your get methods. \r\nCode person.getAge() to always return java.lang.Math.abs() of whatever has been generated by the library etc.","title":"How to limit the range of generating numbers in EasyRandom library","body":"<p>easy random documentation doesn't show a way to do it, but you can just change your get methods.\nCode person.getAge() to always return java.lang.Math.abs() of whatever has been generated by the library etc.</p>\n"},{"tags":[],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634891941,"creation_date":1634891941,"answer_id":69673857,"question_id":69409938,"body_markdown":"You can do the following:\r\n\r\n```\r\nEnhancedRandom enhancedRandom = aNewEnhancedRandomBuilder()\r\n                .randomize(Double.class, new DoubleRangeRandomizer(1, 10))\r\n                .build()\r\n```\r\n\r\nBased on the answer here: https://github.com/j-easy/easy-random/issues/276","title":"How to limit the range of generating numbers in EasyRandom library","body":"<p>You can do the following:</p>\n<pre><code>EnhancedRandom enhancedRandom = aNewEnhancedRandomBuilder()\n                .randomize(Double.class, new DoubleRangeRandomizer(1, 10))\n                .build()\n</code></pre>\n<p>Based on the answer here: <a href=\"https://github.com/j-easy/easy-random/issues/276\" rel=\"nofollow noreferrer\">https://github.com/j-easy/easy-random/issues/276</a></p>\n"},{"tags":[],"owner":{"account_id":11675548,"reputation":1,"user_id":8549229,"display_name":"manerajona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676032963,"creation_date":1675875502,"answer_id":75389173,"question_id":69409938,"body_markdown":"You can try with `Randomizer&lt;T&gt;`, for example using `BigDecimal` with scale of 9:\r\n\r\n    Randomizer&lt;BigDecimal&gt; randomizer =\r\n            new BigDecimalRandomizer(9, RoundingMode.DOWN);\r\n\r\n    EasyRandom easyRandom = new EasyRandom(\r\n            new EasyRandomParameters()\r\n                .randomize(BigDecimal.class, randomizer)\r\n    );\r\n\r\nDoc: https://www.javadoc.io/doc/org.jeasy/easy-random-core/4.0.0/org/jeasy/random/api/Randomizer.html\r\n","title":"How to limit the range of generating numbers in EasyRandom library","body":"<p>You can try with <code>Randomizer&lt;T&gt;</code>, for example using <code>BigDecimal</code> with scale of 9:</p>\n<pre><code>Randomizer&lt;BigDecimal&gt; randomizer =\n        new BigDecimalRandomizer(9, RoundingMode.DOWN);\n\nEasyRandom easyRandom = new EasyRandom(\n        new EasyRandomParameters()\n            .randomize(BigDecimal.class, randomizer)\n);\n</code></pre>\n<p>Doc: <a href=\"https://www.javadoc.io/doc/org.jeasy/easy-random-core/4.0.0/org/jeasy/random/api/Randomizer.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.jeasy/easy-random-core/4.0.0/org/jeasy/random/api/Randomizer.html</a></p>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676032963,"creation_date":1633109663,"question_id":69409938,"body_markdown":"EasyRandom library to fill an object with random values\r\n\r\nfor example:\r\n\r\n```java\r\npublic EasyRandomParameters getParametersForEasyRandom() {\r\n\r\n        final long seedForRandom = Integer.MAX_VALUE;\r\n        final int objectPoolSize = 100;\r\n        final int randomizationDepth = 5;\r\n        final int minStringLength = 3;\r\n        final int maxStringLength = 50;\r\n        final int minCollectionSize = 3;\r\n        final int maxCollectionSize = 3;\r\n\r\n\r\n        EasyRandomParameters parameters = new EasyRandomParameters()\r\n                .seed(seedForRandom)\r\n                .objectPoolSize(objectPoolSize)\r\n                .randomizationDepth(randomizationDepth)\r\n                .stringLengthRange(minStringLength, maxStringLength)\r\n                .collectionSizeRange(minCollectionSize, maxCollectionSize)\r\n                .scanClasspathForConcreteTypes(true)\r\n                .overrideDefaultInitialization(true)\r\n                .ignoreRandomizationErrors(true);\r\n\r\n\r\n        return parameters;\r\n    }\r\n```\r\n- test\r\n\r\n```java\r\n@Test\r\nvoid givenDefaultConfiguration_thenGenerateSingleObject() {\r\n    EasyRandom generator = new EasyRandom();\r\n    Person person = generator.nextObject(Person.class);\r\n\r\n    assertNotNull(person.getAge());\r\n    assertNotNull(person.getFirstName());\r\n    assertNotNull(person.getLastName());\r\n}\r\n```\r\n\r\n\r\n&gt; Person[firstName=&#39;eOMtThyhVNLWUZNRcBaQKxI&#39;, lastName=&#39;yedUsFwdkelQbxeTeQOvaScfqIOOmaa&#39;, age=-1188957731]\r\n\r\nWhile the library is running, it can generate negative values in Integer and Long type fields, and too large a range, how can this be limited, the main thing is that there are no negative values?\r\n","title":"How to limit the range of generating numbers in EasyRandom library","body":"<p>EasyRandom library to fill an object with random values</p>\n<p>for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public EasyRandomParameters getParametersForEasyRandom() {\n\n        final long seedForRandom = Integer.MAX_VALUE;\n        final int objectPoolSize = 100;\n        final int randomizationDepth = 5;\n        final int minStringLength = 3;\n        final int maxStringLength = 50;\n        final int minCollectionSize = 3;\n        final int maxCollectionSize = 3;\n\n\n        EasyRandomParameters parameters = new EasyRandomParameters()\n                .seed(seedForRandom)\n                .objectPoolSize(objectPoolSize)\n                .randomizationDepth(randomizationDepth)\n                .stringLengthRange(minStringLength, maxStringLength)\n                .collectionSizeRange(minCollectionSize, maxCollectionSize)\n                .scanClasspathForConcreteTypes(true)\n                .overrideDefaultInitialization(true)\n                .ignoreRandomizationErrors(true);\n\n\n        return parameters;\n    }\n</code></pre>\n<ul>\n<li>test</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid givenDefaultConfiguration_thenGenerateSingleObject() {\n    EasyRandom generator = new EasyRandom();\n    Person person = generator.nextObject(Person.class);\n\n    assertNotNull(person.getAge());\n    assertNotNull(person.getFirstName());\n    assertNotNull(person.getLastName());\n}\n</code></pre>\n<blockquote>\n<p>Person[firstName='eOMtThyhVNLWUZNRcBaQKxI', lastName='yedUsFwdkelQbxeTeQOvaScfqIOOmaa', age=-1188957731]</p>\n</blockquote>\n<p>While the library is running, it can generate negative values in Integer and Long type fields, and too large a range, how can this be limited, the main thing is that there are no negative values?</p>\n"},{"tags":["java","json","serialization","jackson","http-message-converter"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1675980542,"post_id":75403474,"comment_id":133050401,"body_markdown":"So `leistungszeitraum` works as expected?","body":"So <code>leistungszeitraum</code> works as expected?"},{"owner":{"account_id":20067946,"reputation":11,"user_id":14713290,"display_name":"Tobias Walter"},"score":0,"creation_date":1676022115,"post_id":75403474,"comment_id":133057446,"body_markdown":"yes it does - there are multiple other classes with the same approach and it works fine","body":"yes it does - there are multiple other classes with the same approach and it works fine"},{"owner":{"account_id":20067946,"reputation":11,"user_id":14713290,"display_name":"Tobias Walter"},"score":0,"creation_date":1676022608,"post_id":75403474,"comment_id":133057585,"body_markdown":"but this is the only YearMonth type","body":"but this is the only YearMonth type"}],"answers":[{"tags":[],"owner":{"account_id":20067946,"reputation":11,"user_id":14713290,"display_name":"Tobias Walter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676032772,"creation_date":1676032772,"answer_id":75411264,"question_id":75403474,"body_markdown":"Solved it with:\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM&quot;)\r\n    @JsonAlias(&quot;abrechnungsMonat&quot;)\r\n    @JsonDeserialize(using = YearMonthDeserializer.class)\r\n    @JsonSerialize(using = YearMonthSerializer.class)\r\n    private YearMonth abrechnungsmonat;","title":"Conflicting/ambiguous property name definitions while serializing","body":"<p>Solved it with:</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM&quot;)\n@JsonAlias(&quot;abrechnungsMonat&quot;)\n@JsonDeserialize(using = YearMonthDeserializer.class)\n@JsonSerialize(using = YearMonthSerializer.class)\nprivate YearMonth abrechnungsmonat;\n</code></pre>\n"}],"owner":{"account_id":20067946,"reputation":11,"user_id":14713290,"display_name":"Tobias Walter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676032772,"creation_date":1675970612,"question_id":75403474,"body_markdown":"I have a class AusgangsrechnungGeneral which has a property &quot;abrechnungsmonat&quot;. It is set from JSON via Jackson which has the same property, but defined as &quot;abrechnungsMonat&quot; - which works fine.\r\n\r\nNow I need to deserialize the property from \r\n\r\n**&quot;abrechnungsMonat&quot; -\\&gt; &quot;abrechnungsmonat&quot;**\r\n\r\nbut serialize it as  \r\n\r\n**&quot;abrechnungsmonat&quot;**\r\n\r\nTherefore I implemented follwong code:\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM&quot;)\r\n    @JsonDeserialize(using = YearMonthDeserializer.class)\r\n    @JsonSetter(&quot;abrechnungsMonat&quot;)\r\n    private YearMonth abrechnungsmonat;\r\n\r\n    @JsonGetter(&quot;abrechnungsmonat&quot;)\r\n    public YearMonth getAbrechnungsmonat() {\r\n        return this.abrechnungsmonat;\r\n    }\r\n\r\n**For other properties this method works fine**, but here I got the following Error:\r\n\r\n*java.lang.IllegalStateException: Conflicting/ambiguous property name definitions (implicit name &#39;abrechnungsmonat&#39;): found multiple explicit names: [abrechnungsmonat, abrechnungsMonat], but also implicit accessor: [field com.itf.ghost.propartsyncservice.api.rechnung.propartmodel.AusgangsrechnungGeneral#abrechnungsmonat][visible=true,ignore=false,explicitName=false]*\r\n\r\nI am using Lombok, but as far as I know Lombok will not generate additional getters if they are already defined. This is the class:\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@ToString(callSuper = true)\r\n@SuperBuilder\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class AusgangsrechnungGeneral extends Rechnung {\r\n\r\n    @JsonSetter(&quot;leistungsZeitraum&quot;)\r\n    private String leistungszeitraum;\r\n\r\n    @JsonGetter(&quot;leistungszeitraum&quot;)\r\n    public String getLeistugnszeitraum() {\r\n        return this.leistungszeitraum;\r\n    }\r\n\r\n    private String filePath;\r\n\r\n    private Boolean isProberechnung;\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    @JsonDeserialize(using = LocalDateDeserializer.class)\r\n    private LocalDate bezahltAm;\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    @JsonDeserialize(using = LocalDateDeserializer.class)\r\n    private LocalDate zahlungErwartetAm;\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM&quot;)\r\n    @JsonDeserialize(using = YearMonthDeserializer.class)\r\n    @JsonSetter(&quot;abrechnungsMonat&quot;)\r\n    private YearMonth abrechnungsmonat;\r\n\r\n    @JsonGetter(&quot;abrechnungsmonat&quot;)\r\n    public YearMonth getAbrechnungsmonat() {\r\n        return this.abrechnungsmonat;\r\n    }\r\n\r\n    @JsonSetter(&quot;kundenId&quot;)\r\n    private Long kunde;\r\n\r\n    @JsonGetter(&quot;kunde&quot;)\r\n    public Long getKunde() {\r\n        return this.kunde;\r\n    }\r\n\r\n    @JsonSetter(&quot;abls&quot;)\r\n    private List&lt;AbrechenbareLeistung&gt; abrechenbareLeistungen;\r\n\r\n    @JsonGetter(&quot;abrechenbareLeistungen&quot;)\r\n    public List&lt;AbrechenbareLeistung&gt; getAbrechenbareLeistungen() {\r\n        return this.abrechenbareLeistungen;\r\n    }\r\n}\r\n\r\n```","title":"Conflicting/ambiguous property name definitions while serializing","body":"<p>I have a class AusgangsrechnungGeneral which has a property &quot;abrechnungsmonat&quot;. It is set from JSON via Jackson which has the same property, but defined as &quot;abrechnungsMonat&quot; - which works fine.</p>\n<p>Now I need to deserialize the property from</p>\n<p><strong>&quot;abrechnungsMonat&quot; -&gt; &quot;abrechnungsmonat&quot;</strong></p>\n<p>but serialize it as</p>\n<p><strong>&quot;abrechnungsmonat&quot;</strong></p>\n<p>Therefore I implemented follwong code:</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM&quot;)\n@JsonDeserialize(using = YearMonthDeserializer.class)\n@JsonSetter(&quot;abrechnungsMonat&quot;)\nprivate YearMonth abrechnungsmonat;\n\n@JsonGetter(&quot;abrechnungsmonat&quot;)\npublic YearMonth getAbrechnungsmonat() {\n    return this.abrechnungsmonat;\n}\n</code></pre>\n<p><strong>For other properties this method works fine</strong>, but here I got the following Error:</p>\n<p><em>java.lang.IllegalStateException: Conflicting/ambiguous property name definitions (implicit name 'abrechnungsmonat'): found multiple explicit names: [abrechnungsmonat, abrechnungsMonat], but also implicit accessor: [field com.itf.ghost.propartsyncservice.api.rechnung.propartmodel.AusgangsrechnungGeneral#abrechnungsmonat][visible=true,ignore=false,explicitName=false]</em></p>\n<p>I am using Lombok, but as far as I know Lombok will not generate additional getters if they are already defined. This is the class:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@ToString(callSuper = true)\n@SuperBuilder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class AusgangsrechnungGeneral extends Rechnung {\n\n    @JsonSetter(&quot;leistungsZeitraum&quot;)\n    private String leistungszeitraum;\n\n    @JsonGetter(&quot;leistungszeitraum&quot;)\n    public String getLeistugnszeitraum() {\n        return this.leistungszeitraum;\n    }\n\n    private String filePath;\n\n    private Boolean isProberechnung;\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    private LocalDate bezahltAm;\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    private LocalDate zahlungErwartetAm;\n\n    @JsonFormat(pattern=&quot;yyyy-MM&quot;)\n    @JsonDeserialize(using = YearMonthDeserializer.class)\n    @JsonSetter(&quot;abrechnungsMonat&quot;)\n    private YearMonth abrechnungsmonat;\n\n    @JsonGetter(&quot;abrechnungsmonat&quot;)\n    public YearMonth getAbrechnungsmonat() {\n        return this.abrechnungsmonat;\n    }\n\n    @JsonSetter(&quot;kundenId&quot;)\n    private Long kunde;\n\n    @JsonGetter(&quot;kunde&quot;)\n    public Long getKunde() {\n        return this.kunde;\n    }\n\n    @JsonSetter(&quot;abls&quot;)\n    private List&lt;AbrechenbareLeistung&gt; abrechenbareLeistungen;\n\n    @JsonGetter(&quot;abrechenbareLeistungen&quot;)\n    public List&lt;AbrechenbareLeistung&gt; getAbrechenbareLeistungen() {\n        return this.abrechenbareLeistungen;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-camel","jaxb","integration"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676032313,"creation_date":1647339688,"answer_id":71480559,"question_id":71423226,"body_markdown":"## Generating classes from XSD with CLI tool\r\n\r\nYou can use xjc command-line tool that comes pre-installed with at JDK 8 to generate jaxb classes. \r\n\r\n**Example:**\r\n```bash\r\nxjc material.xsd\r\n\r\n# With groupId\r\nxjc -p &lt;groupId&gt; material.xsd\r\n\r\n# With groupId and bindings configuration file\r\nxjc -p &lt;groupId&gt; -b bindings.xjb material.xsd\r\n```\r\n\r\n## Generating classes from XSD using maven plugin\r\n\r\nAlternatively you can use maven plugin to do the same. By default the plugin will look for schema xsd files from `src/main/xsd` and  bindings xjb files from `src/main/xjb`\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;xjc&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;xjc&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;packageName&gt;com.example.group&lt;/packageName&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nIf you&#39;re using JDK 11 or later you&#39;ll also have to include couple of related dependencies that are no longer included in the JDK. \r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nWith these maven should generate the classes to `target/generated-sources/jaxb` folder after running `mvn clean install`. With maven plugin you&#39;re better off creating separate api-project for these and adding it as a dependency for your camel integration project.\r\n\r\n## Usage in camel\r\n\r\nYou can use jaxb with camel by creating JaxbDataFormat using JAXBContext instance. \r\n\r\n```java\r\nJAXBContext jaxbContext = JAXBContext.newInstance(Materials.class);\r\nJaxbDataFormat jaxbDataformat = new JaxbDataFormat(jaxbContext);\r\n\r\nfrom(&quot;direct:marshalMaterials&quot;)\r\n    .routeId(&quot;marshalMaterials&quot;)\r\n    .marshal(jaxbDataformat)\r\n    .log(&quot;${body}&quot;);\r\n```\r\n\r\nSince you&#39;re querying a database that by default returns list of maps, you&#39;ll have to convert it to appropriate Jaxb object. You can use generated `ObjectFactory` class to generate different jaxb class instances.\r\n\r\nWith JDK 11 you might also need following dependencies\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- versions obtained from dependency-management camel-bom --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n## Namespace change from javax to jakarta\r\n\r\nMore recent versions of jaxb are using jakarta namespace instead of javax. If you want to use the newer jakarta namespace instead you can use `jaxb2-maven-plugin` and `jakarta.xml.bind-api` version 3.x or higher. Support for Jakarta namespace is planned for Camel 4.x so if you&#39;re using Camel 3.x you might want to wait or upgrade to that first. \r\n\r\n## Bindings XJB files \r\n\r\nWith bindings xjb files you can tweak how classes get generated like change class or property names, prevent nested class mess etc. \r\n\r\n**Example: Empty binding file template**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jaxb:bindings xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; \r\n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot; \r\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    version=&quot;2.1&quot; \r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;&gt;\r\n\r\n    ...\r\n\r\n&lt;/jaxb:bindings&gt;\r\n```","title":"How to generate JAXB data format from XSD schema?","body":"<h2>Generating classes from XSD with CLI tool</h2>\n<p>You can use xjc command-line tool that comes pre-installed with at JDK 8 to generate jaxb classes.</p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>xjc material.xsd\n\n# With groupId\nxjc -p &lt;groupId&gt; material.xsd\n\n# With groupId and bindings configuration file\nxjc -p &lt;groupId&gt; -b bindings.xjb material.xsd\n</code></pre>\n<h2>Generating classes from XSD using maven plugin</h2>\n<p>Alternatively you can use maven plugin to do the same. By default the plugin will look for schema xsd files from <code>src/main/xsd</code> and  bindings xjb files from <code>src/main/xjb</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;packageName&gt;com.example.group&lt;/packageName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>If you're using JDK 11 or later you'll also have to include couple of related dependencies that are no longer included in the JDK.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n        &lt;version&gt;2.3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>With these maven should generate the classes to <code>target/generated-sources/jaxb</code> folder after running <code>mvn clean install</code>. With maven plugin you're better off creating separate api-project for these and adding it as a dependency for your camel integration project.</p>\n<h2>Usage in camel</h2>\n<p>You can use jaxb with camel by creating JaxbDataFormat using JAXBContext instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JAXBContext jaxbContext = JAXBContext.newInstance(Materials.class);\nJaxbDataFormat jaxbDataformat = new JaxbDataFormat(jaxbContext);\n\nfrom(&quot;direct:marshalMaterials&quot;)\n    .routeId(&quot;marshalMaterials&quot;)\n    .marshal(jaxbDataformat)\n    .log(&quot;${body}&quot;);\n</code></pre>\n<p>Since you're querying a database that by default returns list of maps, you'll have to convert it to appropriate Jaxb object. You can use generated <code>ObjectFactory</code> class to generate different jaxb class instances.</p>\n<p>With JDK 11 you might also need following dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- versions obtained from dependency-management camel-bom --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>Namespace change from javax to jakarta</h2>\n<p>More recent versions of jaxb are using jakarta namespace instead of javax. If you want to use the newer jakarta namespace instead you can use <code>jaxb2-maven-plugin</code> and <code>jakarta.xml.bind-api</code> version 3.x or higher. Support for Jakarta namespace is planned for Camel 4.x so if you're using Camel 3.x you might want to wait or upgrade to that first.</p>\n<h2>Bindings XJB files</h2>\n<p>With bindings xjb files you can tweak how classes get generated like change class or property names, prevent nested class mess etc.</p>\n<p><strong>Example: Empty binding file template</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jaxb:bindings xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; \n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot; \n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    version=&quot;2.1&quot; \n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;&gt;\n\n    ...\n\n&lt;/jaxb:bindings&gt;\n</code></pre>\n"}],"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3870,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71480559,"answer_count":1,"score":1,"last_activity_date":1676032313,"creation_date":1646911071,"question_id":71423226,"body_markdown":"When I try to marshal data I got from the database in Apache Camel using JAXB and providing XSD schema I get the error\r\n\r\n&gt; java.io.org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.util.LinkedHashMap to the required type: java.io.InputStream with value {id=5, number=5599, type=B3, ... }\r\n\r\nwhen I try to send the message to ActiveMQ. I&#39;m new to integration and this is my intern Camel project. When I marshal the message to json everything is alright. I thought about converting the message to json and then to XML, but it seems to me that isn&#39;t the way I should do it. I&#39;ve got a prepared XSD schema that looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n           xmlns:pc=&quot;com.release11.packages&quot;\r\n           targetNamespace=&quot;com.release11.materials&quot;&gt;\r\n    &lt;xs:import schemaLocation=&quot;packages.xsd&quot;\r\n               namespace=&quot;com.release11.packages&quot;/&gt;\r\n\r\n    &lt;xs:simpleType name=&quot;materialTypeType&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n            &lt;xs:enumeration value=&quot;A1&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;A2&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;A3&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;B1&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;B2&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;B3&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;C1&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;C2&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;C3&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n\r\n    &lt;xs:complexType name=&quot;materialType&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;Id&quot; type=&quot;xs:integer&quot;/&gt;\r\n            &lt;xs:element name=&quot;Number&quot; type=&quot;xs:integer&quot;/&gt;\r\n            &lt;xs:element name=&quot;Type&quot; type=&quot;materialTypeType&quot;/&gt;\r\n            &lt;xs:element name=&quot;Name&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;xs:element name=&quot;Description&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;xs:element name=&quot;Is_deleted&quot; type=&quot;xs:boolean&quot;/&gt;\r\n            &lt;xs:element ref=&quot;pc:Packages&quot; minOccurs=&quot;0&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\n    &lt;xs:complexType name=&quot;materialsType&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;Material&quot; type=&quot;materialType&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\n    &lt;xs:element name=&quot;Materials&quot; type=&quot;materialsType&quot;/&gt;\r\n\r\n    &lt;/xs:schema&gt;\r\n\r\nI tried to find the answer on the web, but I found nothing useful or I couldn&#39;t understand the answer so I need someone to explain this to me. Please help me.\r\n\r\nHere&#39;s my code:\r\n\r\n    public class InputAdapter {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        BasicDataSource dataSource = new BasicDataSource();\r\n        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/Packages&quot;);\r\n        dataSource.setUsername(&quot;uname&quot;);\r\n        dataSource.setPassword(&quot;passwd&quot;);\r\n        SimpleRegistry registry = new SimpleRegistry();\r\n        registry.bind(&quot;dataSource&quot;, dataSource);\r\n\r\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\r\n        activeMQConnectionFactory.setBrokerURL(&quot;tcp://127.0.0.1:61616&quot;);\r\n\r\n        Connection connection = activeMQConnectionFactory.createConnection();\r\n        connection.start();\r\n\r\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n        Destination destination = session.createQueue(&quot;MESSAGES_RAW&quot;);\r\n\r\n        MessageProducer producer = session.createProducer(destination);\r\n        producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n\r\n        CamelContext context = new DefaultCamelContext(registry);\r\n        context.addComponent(&quot;activemq&quot;, JmsComponent.jmsComponentAutoAcknowledge(activeMQConnectionFactory));\r\n\r\n        context.addRoutes(new RouteBuilder() {\r\n            @Override\r\n            public void configure() {\r\n                JaxbDataFormat dataFormat = new JaxbDataFormat();\r\n                dataFormat.setSchemaLocation(&quot;material.xsd&quot;);\r\n\r\n                from(&quot;timer://foo?repeatCount=1&quot;)\r\n                        .setBody(constant(&quot;SELECT * FROM material;&quot;))\r\n                        .to(&quot;jdbc:dataSource&quot;)\r\n                        .split(body())\r\n                        .marshal(dataFormat)\r\n                        .to(&quot;activemq:queue:MESSAGES_RAW&quot;);\r\n            }\r\n        });\r\n        context.start();\r\n        Thread.sleep(1000);\r\n        context.stop();\r\n    }\r\n    }\r\n\r\n","title":"How to generate JAXB data format from XSD schema?","body":"<p>When I try to marshal data I got from the database in Apache Camel using JAXB and providing XSD schema I get the error</p>\n<blockquote>\n<p>java.io.org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.util.LinkedHashMap to the required type: java.io.InputStream with value {id=5, number=5599, type=B3, ... }</p>\n</blockquote>\n<p>when I try to send the message to ActiveMQ. I'm new to integration and this is my intern Camel project. When I marshal the message to json everything is alright. I thought about converting the message to json and then to XML, but it seems to me that isn't the way I should do it. I've got a prepared XSD schema that looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n       xmlns:pc=&quot;com.release11.packages&quot;\n       targetNamespace=&quot;com.release11.materials&quot;&gt;\n&lt;xs:import schemaLocation=&quot;packages.xsd&quot;\n           namespace=&quot;com.release11.packages&quot;/&gt;\n\n&lt;xs:simpleType name=&quot;materialTypeType&quot;&gt;\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:enumeration value=&quot;A1&quot;/&gt;\n        &lt;xs:enumeration value=&quot;A2&quot;/&gt;\n        &lt;xs:enumeration value=&quot;A3&quot;/&gt;\n        &lt;xs:enumeration value=&quot;B1&quot;/&gt;\n        &lt;xs:enumeration value=&quot;B2&quot;/&gt;\n        &lt;xs:enumeration value=&quot;B3&quot;/&gt;\n        &lt;xs:enumeration value=&quot;C1&quot;/&gt;\n        &lt;xs:enumeration value=&quot;C2&quot;/&gt;\n        &lt;xs:enumeration value=&quot;C3&quot;/&gt;\n    &lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n\n&lt;xs:complexType name=&quot;materialType&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;Id&quot; type=&quot;xs:integer&quot;/&gt;\n        &lt;xs:element name=&quot;Number&quot; type=&quot;xs:integer&quot;/&gt;\n        &lt;xs:element name=&quot;Type&quot; type=&quot;materialTypeType&quot;/&gt;\n        &lt;xs:element name=&quot;Name&quot; type=&quot;xs:string&quot;/&gt;\n        &lt;xs:element name=&quot;Description&quot; type=&quot;xs:string&quot;/&gt;\n        &lt;xs:element name=&quot;Is_deleted&quot; type=&quot;xs:boolean&quot;/&gt;\n        &lt;xs:element ref=&quot;pc:Packages&quot; minOccurs=&quot;0&quot;/&gt;\n    &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n\n&lt;xs:complexType name=&quot;materialsType&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;Material&quot; type=&quot;materialType&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n    &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n\n&lt;xs:element name=&quot;Materials&quot; type=&quot;materialsType&quot;/&gt;\n\n&lt;/xs:schema&gt;\n</code></pre>\n<p>I tried to find the answer on the web, but I found nothing useful or I couldn't understand the answer so I need someone to explain this to me. Please help me.</p>\n<p>Here's my code:</p>\n<pre><code>public class InputAdapter {\n\npublic static void main(String[] args) throws Exception {\n\n    BasicDataSource dataSource = new BasicDataSource();\n    dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\n    dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/Packages&quot;);\n    dataSource.setUsername(&quot;uname&quot;);\n    dataSource.setPassword(&quot;passwd&quot;);\n    SimpleRegistry registry = new SimpleRegistry();\n    registry.bind(&quot;dataSource&quot;, dataSource);\n\n    ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\n    activeMQConnectionFactory.setBrokerURL(&quot;tcp://127.0.0.1:61616&quot;);\n\n    Connection connection = activeMQConnectionFactory.createConnection();\n    connection.start();\n\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    Destination destination = session.createQueue(&quot;MESSAGES_RAW&quot;);\n\n    MessageProducer producer = session.createProducer(destination);\n    producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\n\n    CamelContext context = new DefaultCamelContext(registry);\n    context.addComponent(&quot;activemq&quot;, JmsComponent.jmsComponentAutoAcknowledge(activeMQConnectionFactory));\n\n    context.addRoutes(new RouteBuilder() {\n        @Override\n        public void configure() {\n            JaxbDataFormat dataFormat = new JaxbDataFormat();\n            dataFormat.setSchemaLocation(&quot;material.xsd&quot;);\n\n            from(&quot;timer://foo?repeatCount=1&quot;)\n                    .setBody(constant(&quot;SELECT * FROM material;&quot;))\n                    .to(&quot;jdbc:dataSource&quot;)\n                    .split(body())\n                    .marshal(dataFormat)\n                    .to(&quot;activemq:queue:MESSAGES_RAW&quot;);\n        }\n    });\n    context.start();\n    Thread.sleep(1000);\n    context.stop();\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","reactive"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1576186073,"post_id":59312867,"comment_id":104827755,"body_markdown":"Post a complete minimal example reproducing the issue. What you posted can&#39;t even compile: methodB() returns a String, and String doesn&#39;t have a flatMap() method.","body":"Post a complete minimal example reproducing the issue. What you posted can&#39;t even compile: methodB() returns a String, and String doesn&#39;t have a flatMap() method."},{"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"score":0,"creation_date":1576190611,"post_id":59312867,"comment_id":104829298,"body_markdown":"@JBNizet I apologize, I had a typo, but you should be able to figure it out. Strings don&#39;t have a flatMap, but Mono does.","body":"@JBNizet I apologize, I had a typo, but you should be able to figure it out. Strings don&#39;t have a flatMap, but Mono does."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1576190689,"post_id":59312867,"comment_id":104829318,"body_markdown":"I don&#39;t have any issue with my code. You have. So do what&#39;s needed to get help: post a minimal reproducible example. Don&#39;t make us guess what could be wrong in the code you didn&#39;t post.","body":"I don&#39;t have any issue with my code. You have. So do what&#39;s needed to get help: post a minimal reproducible example. Don&#39;t make us guess what could be wrong in the code you didn&#39;t post."},{"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"score":0,"creation_date":1576191355,"post_id":59312867,"comment_id":104829513,"body_markdown":"No reason to be snappy. I posted here to get help and gave enough information that I thought was necessary. Turns out that our when condition was not matching, so the mapper had a null response, hence the exception.","body":"No reason to be snappy. I posted here to get help and gave enough information that I thought was necessary. Turns out that our when condition was not matching, so the mapper had a null response, hence the exception."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1576192477,"post_id":59312867,"comment_id":104829830,"body_markdown":"I understand that. But after you posted the question, and I asked you to post a minimal example, you refused to post it. We don&#39;t ask that to be snappy. We ask that because we need it to help you.","body":"I understand that. But after you posted the question, and I asked you to post a minimal example, you refused to post it. We don&#39;t ask that to be snappy. We ask that because we need it to help you."},{"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"score":0,"creation_date":1576262948,"post_id":59312867,"comment_id":104855932,"body_markdown":"@JBNizet I&#39;m sorry. This was a minimal example that I came up with as the real problem was too complicated to post. I find that if the question is too complicated, it is likely not to get answered. Unfortunately, at a fault of my own, I didn&#39;t test the example before posting as I was posting for a friend. But after running this short example on my own time, it compiled and passed in testing, which led me to the reason of the exception: the Mockito expression was wrong. Much appreciation for your help and sorry for wasting your time.","body":"@JBNizet I&#39;m sorry. This was a minimal example that I came up with as the real problem was too complicated to post. I find that if the question is too complicated, it is likely not to get answered. Unfortunately, at a fault of my own, I didn&#39;t test the example before posting as I was posting for a friend. But after running this short example on my own time, it compiled and passed in testing, which led me to the reason of the exception: the Mockito expression was wrong. Much appreciation for your help and sorry for wasting your time."},{"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"score":1,"creation_date":1595369798,"post_id":59312867,"comment_id":111449748,"body_markdown":"I don&#39;t think this should be downvoted. I have the same question and can&#39;t think of a more precise way to phrase it..","body":"I don&#39;t think this should be downvoted. I have the same question and can&#39;t think of a more precise way to phrase it.."}],"answers":[{"tags":[],"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1576191726,"creation_date":1576191726,"answer_id":59313916,"question_id":59312867,"body_markdown":"Turns out that if anybody gets an issue like this, be sure `Mockito.when` is defined correctly. If it doesn&#39;t match, then it returns null. Hence the exception. \r\n\r\nOn a side note, I had left some information out of my question to make it a little less complicated, but turns out that the example I had described worked perfectly. Reworking through it shown the actual code I had didn&#39;t match the when clause.","title":"Why does mocking a response of Mono.empty() inside flatmap end in error?","body":"<p>Turns out that if anybody gets an issue like this, be sure <code>Mockito.when</code> is defined correctly. If it doesn't match, then it returns null. Hence the exception. </p>\n\n<p>On a side note, I had left some information out of my question to make it a little less complicated, but turns out that the example I had described worked perfectly. Reworking through it shown the actual code I had didn't match the when clause.</p>\n"},{"tags":[],"owner":{"account_id":766390,"reputation":540,"user_id":797512,"display_name":"jeremyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607445755,"creation_date":1607445755,"answer_id":65203130,"question_id":59312867,"body_markdown":"It might be worth mentioning (especially since I&#39;m converting code that returns Optional into code that returns Mono and I just realised this) that while Mockito returns Optional.empty() so you don&#39;t have to explicitly set-up `when` expectations, it doesn&#39;t (out of the box at least) do anything similar for Mono. Mockito returns null and you get NullPointerExceptions.\r\n\r\nHope this helps anyone who stumbles upon it.","title":"Why does mocking a response of Mono.empty() inside flatmap end in error?","body":"<p>It might be worth mentioning (especially since I'm converting code that returns Optional into code that returns Mono and I just realised this) that while Mockito returns Optional.empty() so you don't have to explicitly set-up <code>when</code> expectations, it doesn't (out of the box at least) do anything similar for Mono. Mockito returns null and you get NullPointerExceptions.</p>\n<p>Hope this helps anyone who stumbles upon it.</p>\n"}],"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3629,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":59313916,"answer_count":2,"score":1,"last_activity_date":1676032168,"creation_date":1576185564,"question_id":59312867,"body_markdown":"We have a methodA which returns:\r\n\r\n    return bObj.methodB()\r\n        .flatMap(x -&gt; cObj.methodC(x));\r\n\r\nmethodB returns `Mono&lt;String&gt;` and methodC returns `Mono&lt;Void&gt;`.\r\n\r\nWhen using Mockito, methodB we are able to mock, but methodC we are not.\r\n\r\n    when(bObj.methodB()).thenReturn(Mono.just(&quot;x&quot;));\r\n    when(cObj.methodC(eq(&quot;x&quot;))).thenReturn(Mono.empty());\r\n\r\n    aObj.methodA();\r\n\r\nWhen this runs, we get the following exception:\r\n\r\n    java.lang.NullPointerException: The mapper returned a null Publisher\r\n\r\nWhen running the application, this works fine, but when running with Mockito, it doesn&#39;t. I assume it&#39;s something to do with the flatMap, but can&#39;t figure it out. Referencing [this question](https://stackoverflow.com/questions/58215810/returning-a-null-in-a-map-versus-flatmap-in-reactor) it seems like it should work, but doesn&#39;t. Any ideas?","title":"Why does mocking a response of Mono.empty() inside flatmap end in error?","body":"<p>We have a methodA which returns:</p>\n\n<pre><code>return bObj.methodB()\n    .flatMap(x -&gt; cObj.methodC(x));\n</code></pre>\n\n<p>methodB returns <code>Mono&lt;String&gt;</code> and methodC returns <code>Mono&lt;Void&gt;</code>.</p>\n\n<p>When using Mockito, methodB we are able to mock, but methodC we are not.</p>\n\n<pre><code>when(bObj.methodB()).thenReturn(Mono.just(\"x\"));\nwhen(cObj.methodC(eq(\"x\"))).thenReturn(Mono.empty());\n\naObj.methodA();\n</code></pre>\n\n<p>When this runs, we get the following exception:</p>\n\n<pre><code>java.lang.NullPointerException: The mapper returned a null Publisher\n</code></pre>\n\n<p>When running the application, this works fine, but when running with Mockito, it doesn't. I assume it's something to do with the flatMap, but can't figure it out. Referencing <a href=\"https://stackoverflow.com/questions/58215810/returning-a-null-in-a-map-versus-flatmap-in-reactor\">this question</a> it seems like it should work, but doesn't. Any ideas?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":11577458,"reputation":385,"user_id":8482314,"display_name":"Lyze"},"score":1,"creation_date":1507012762,"post_id":46538176,"comment_id":80031332,"body_markdown":"Do other statements work? If not check permissions of the database and if the user has proper access rights.","body":"Do other statements work? If not check permissions of the database and if the user has proper access rights."},{"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1507013100,"post_id":46538176,"comment_id":80031481,"body_markdown":"Its small app with `HSQL` database and no defined roles.","body":"Its small app with <code>HSQL</code> database and no defined roles."}],"answers":[{"tags":[],"owner":{"account_id":3875481,"reputation":114,"user_id":3209635,"accept_rate":50,"display_name":"ismailzakky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507014310,"creation_date":1507014310,"answer_id":46538887,"question_id":46538176,"body_markdown":"Try to change your\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt;{\r\n    \r\n        User save(User user);\r\n    \r\n        @Query(&quot;SELECT t.name FROM User t where t.id = :id&quot;)\r\n        String findNameById(@Param(&quot;id&quot;) Long id);\r\n    \r\n        @Query(&quot;UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id&quot;)\r\n        User update (@Param(&quot;id&quot;) Long id);\r\n    }\r\n\r\n\r\nTo \r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Integer&gt;{\r\n        \r\n            User save(User user);\r\n        \r\n            @Query(&quot;SELECT t.name FROM User t where t.id = :id&quot;)\r\n            String findNameById(@Param(&quot;id&quot;) Integer id);\r\n        \r\n            @Query(&quot;UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id&quot;)\r\n            User update (@Param(&quot;id&quot;) Integer id);\r\n    }\r\n\r\nidk if this will solve your problem, \r\nbut as i see, your userrepository set Long as Entity ID type, but your User Entitiy Id use Integer as it&#39;s type.","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare SQL statement","body":"<p>Try to change your</p>\n\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt;{\n\n    User save(User user);\n\n    @Query(\"SELECT t.name FROM User t where t.id = :id\")\n    String findNameById(@Param(\"id\") Long id);\n\n    @Query(\"UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id\")\n    User update (@Param(\"id\") Long id);\n}\n</code></pre>\n\n<p>To </p>\n\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Integer&gt;{\n\n        User save(User user);\n\n        @Query(\"SELECT t.name FROM User t where t.id = :id\")\n        String findNameById(@Param(\"id\") Integer id);\n\n        @Query(\"UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id\")\n        User update (@Param(\"id\") Integer id);\n}\n</code></pre>\n\n<p>idk if this will solve your problem, \nbut as i see, your userrepository set Long as Entity ID type, but your User Entitiy Id use Integer as it's type.</p>\n"},{"tags":[],"owner":{"account_id":15708013,"reputation":1,"user_id":11334221,"display_name":"Shams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676032161,"creation_date":1568094870,"answer_id":57864761,"question_id":46538176,"body_markdown":"Add this to your application.yml file\r\n\r\n    spring:   \r\n      jpa:\r\n        show-sql: true\r\n        generate-ddl: true\r\n        hibernate:\r\n          ddl-auto: create-drop","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare SQL statement","body":"<p>Add this to your application.yml file</p>\n<pre><code>spring:   \n  jpa:\n    show-sql: true\n    generate-ddl: true\n    hibernate:\n      ddl-auto: create-drop\n</code></pre>\n"}],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15568,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46538887,"answer_count":2,"score":3,"last_activity_date":1676032161,"creation_date":1507011168,"question_id":46538176,"body_markdown":"I work with small Spring boot app and I get the error triggered by the method `findAll()` from the controller, \r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @GetMapping(value = &quot;/&quot;)\r\n        public String index() {\r\n            return &quot;redirect:/users&quot;;\r\n        }\r\n    \r\n    \r\n        @GetMapping(value = &quot;/users&quot;)\r\n        public String showAllUsers(Model model) {\r\n    \r\n            model.addAttribute(&quot;users&quot;, userService.findAll());\r\n            return &quot;list&quot;;\r\n        }\r\n    }\r\n\r\n\r\nThe important part of the error stack is,\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select user0_.id as id1_1_, user0_.address as address2_1_, user0_.confirm_password as confirm_3_1_, user0_.country as country4_1_, user0_.email as email5_1_, user0_.name as name6_1_, user0_.newsletter as newslett7_1_, user0_.number as number8_1_, user0_.password as password9_1_, user0_.sex as sex10_1_ from user user0_]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n    \r\n    Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: USER0_.ADDRESS in statement [select user0_.id as id1_1_, user0_.address as address2_1_, user0_.confirm_password as confirm_3_1_, user0_.country as country4_1_, user0_.email as email5_1_, user0_.name as name6_1_, user0_.newsletter as newslett7_1_, user0_.number as number8_1_, user0_.password as password9_1_, user0_.sex as sex10_1_ from user user0_]\r\n    \r\n    Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: USER0_.ADDRESS\r\n\r\n\r\n\r\nThe entity class is provided, \r\n\r\n    @Entity\r\n    public class User {\r\n    \r\n        // form:hidden - hidden value\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        Integer id;\r\n    \r\n        // form:input - textbox\r\n        @Column(name = &quot;name&quot;, columnDefinition = &quot;VARCHAR(30)&quot;, nullable = false)\r\n        String name;\r\n    \r\n        // form:input - textbox\r\n        @Column(name = &quot;email&quot;, columnDefinition = &quot;VARCHAR(50)&quot;, nullable = false)\r\n        String email;\r\n    \r\n        // form:textarea - textarea\r\n        @Column(name = &quot;address&quot;, columnDefinition = &quot;VARCHAR(255)&quot;, nullable = true)\r\n        String address;\r\n    \r\n        // form:input - password\r\n        @Column(name = &quot;password&quot;, columnDefinition = &quot;VARCHAR(20)&quot;, nullable = false)\r\n        String password;\r\n    \r\n        // form:input - password\r\n        String confirmPassword;\r\n    \r\n        // form:checkbox - single checkbox\r\n        @Column(name = &quot;newsletter&quot;, nullable = true)\r\n        boolean newsletter;\r\n    \r\n        // form:checkboxes - multiple checkboxes\r\n    //    @Column(columnDefinition = &quot;VARCHAR(500)&quot;, nullable = false)\r\n        @ElementCollection\r\n        List&lt;String&gt; framework;\r\n    \r\n        // form:radiobutton - radio button\r\n        @Column(name = &quot;sex&quot;, columnDefinition = &quot;VARCHAR(1)&quot;, nullable = true)\r\n        String sex;\r\n    \r\n        // form:radiobuttons - radio button\r\n        @Column(name = &quot;number&quot;, nullable = true)\r\n        Integer number;\r\n    \r\n        // form:select - form:option - dropdown - single select\r\n        @Column(name = &quot;&quot;, columnDefinition = &quot;VARCHAR(10)&quot;, nullable = true)\r\n        String country;\r\n    \r\n        // form:select - multiple=true - dropdown - multiple select\r\n    //    @Column(columnDefinition = &quot;VARCHAR(500)&quot;, nullable = true)\r\n        @ElementCollection\r\n        List&lt;String&gt; skill;\r\n    \r\n        //Check if this is for New of Update\r\n        public boolean isNew() {\r\n            return (this.id == null);\r\n        }\r\n    \r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        public String getConfirmPassword() {\r\n            return confirmPassword;\r\n        }\r\n    \r\n        public void setConfirmPassword(String confirmPassword) {\r\n            this.confirmPassword = confirmPassword;\r\n        }\r\n    \r\n        public boolean isNewsletter() {\r\n            return newsletter;\r\n        }\r\n    \r\n        public void setNewsletter(boolean newsletter) {\r\n            this.newsletter = newsletter;\r\n        }\r\n    \r\n        public List&lt;String&gt; getFramework() {\r\n            return framework;\r\n        }\r\n    \r\n        public void setFramework(List&lt;String&gt; framework) {\r\n            this.framework = framework;\r\n        }\r\n    \r\n        public String getSex() {\r\n            return sex;\r\n        }\r\n    \r\n        public void setSex(String sex) {\r\n            this.sex = sex;\r\n        }\r\n    \r\n        public Integer getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setNumber(Integer number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        public String getCountry() {\r\n            return country;\r\n        }\r\n    \r\n        public void setCountry(String country) {\r\n            this.country = country;\r\n        }\r\n    \r\n        public List&lt;String&gt; getSkill() {\r\n            return skill;\r\n        }\r\n    \r\n        public void setSkill(List&lt;String&gt; skill) {\r\n            this.skill = skill;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof User)) return false;\r\n    \r\n            User user = (User) o;\r\n    \r\n            if (isNewsletter() != user.isNewsletter()) return false;\r\n            if (!getId().equals(user.getId())) return false;\r\n            if (!getName().equals(user.getName())) return false;\r\n            if (!getEmail().equals(user.getEmail())) return false;\r\n            if (getAddress() != null ? !getAddress().equals(user.getAddress()) : user.getAddress() != null) return false;\r\n            if (!getPassword().equals(user.getPassword())) return false;\r\n            if (getConfirmPassword() != null ? !getConfirmPassword().equals(user.getConfirmPassword()) : user.getConfirmPassword() != null)\r\n                return false;\r\n            if (!getFramework().equals(user.getFramework())) return false;\r\n            if (getSex() != null ? !getSex().equals(user.getSex()) : user.getSex() != null) return false;\r\n            if (getNumber() != null ? !getNumber().equals(user.getNumber()) : user.getNumber() != null) return false;\r\n            if (getCountry() != null ? !getCountry().equals(user.getCountry()) : user.getCountry() != null) return false;\r\n            return getSkill() != null ? getSkill().equals(user.getSkill()) : user.getSkill() == null;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n    \r\n            int result = getId().hashCode();\r\n    \r\n            result = 31 * result + getName().hashCode();\r\n            result = 31 * result + getEmail().hashCode();\r\n            result = 31 * result + (getAddress() != null ? getAddress().hashCode() : 0);\r\n            result = 31 * result + getPassword().hashCode();\r\n            result = 31 * result + (getConfirmPassword() != null ? getConfirmPassword().hashCode() : 0);\r\n            result = 31 * result + (isNewsletter() ? 1 : 0);\r\n            result = 31 * result + getFramework().hashCode();\r\n            result = 31 * result + (getSex() != null ? getSex().hashCode() : 0);\r\n            result = 31 * result + (getNumber() != null ? getNumber().hashCode() : 0);\r\n            result = 31 * result + (getCountry() != null ? getCountry().hashCode() : 0);\r\n            result = 31 * result + (getSkill() != null ? getSkill().hashCode() : 0);\r\n            return result;\r\n        }\r\n    }\r\n\r\n\r\nThe interfaces in the repositoy directory provided, \r\n\r\n    @NoRepositoryBean\r\n    public interface CrudRepository&lt;T, ID extends Serializable&gt;\r\n            extends Repository&lt;T, ID&gt; {\r\n    \r\n        &lt;S extends T&gt; S save(S entity);\r\n    \r\n        T findOne(ID primaryKey);\r\n    \r\n        Iterable&lt;T&gt; findAll();\r\n    \r\n        Long count();\r\n    \r\n        void delete(T entity);\r\n        void delete(ID idx);\r\n    \r\n        boolean exists(ID primaryKey);\r\n    \r\n        // … more functionality omitted.\r\n    }\r\n\r\n\r\nand, the extension of the interface, \r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt;{\r\n    \r\n        User save(User user);\r\n    \r\n        @Query(&quot;SELECT t.name FROM User t where t.id = :id&quot;)\r\n        String findNameById(@Param(&quot;id&quot;) Long id);\r\n    \r\n        @Query(&quot;UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id&quot;)\r\n        User update (@Param(&quot;id&quot;) Long id);\r\n    }\r\n\r\nThe user controller class is provided earlier. If I turn off the `address` field, it shows error to the another field. I can provide more info if required. What is the issue here?\r\n\r\n\r\n\r\nI commented out all but the Id and name, and still having the same type of errors, \r\n\r\n    Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: USER0_.NAME in statement [select user0_.id as id1_1_, user0_.name as name2_1_ from user user0_]\r\n    \r\n    ....\r\n    ....\r\n    Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: USER0_.NAME\r\n\r\n\r\nHere is 2 line smore of the error, \r\n\r\n    2017-10-03 12:50:52.537 ERROR 8116 --- [on(2)-127.0.0.1] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: create table user (id integer generated by default as identity (start with 1), name VARCHAR(30) not null, primary key (id))\r\n    2017-10-03 12:50:52.538 ERROR 8116 --- [on(2)-127.0.0.1] org.hibernate.tool.hbm2ddl.SchemaExport  : object name already exists: USER in statement [create table user (id integer generated by default as identity (start with 1), name VARCHAR(30) not null, primary key (id))]\r\n\r\n\r\n\r\nI assume the issue is with the lack of privileges. I have simple config file that is empty now, \r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = {\r\n            &quot;com.boot.repository&quot;,\r\n            &quot;com.boot.entity&quot;\r\n    })\r\n    @EnableTransactionManagement\r\n    class PersistenceContext {\r\n    \r\n    }\r\n\r\n\r\nHow would I enable the priviledges for the user in the app?\r\n\r\n\r\n","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare SQL statement","body":"<p>I work with small Spring boot app and I get the error triggered by the method <code>findAll()</code> from the controller, </p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/\")\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(value = \"/\")\n    public String index() {\n        return \"redirect:/users\";\n    }\n\n\n    @GetMapping(value = \"/users\")\n    public String showAllUsers(Model model) {\n\n        model.addAttribute(\"users\", userService.findAll());\n        return \"list\";\n    }\n}\n</code></pre>\n\n<p>The important part of the error stack is,</p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select user0_.id as id1_1_, user0_.address as address2_1_, user0_.confirm_password as confirm_3_1_, user0_.country as country4_1_, user0_.email as email5_1_, user0_.name as name6_1_, user0_.newsletter as newslett7_1_, user0_.number as number8_1_, user0_.password as password9_1_, user0_.sex as sex10_1_ from user user0_]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\n\nCaused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: USER0_.ADDRESS in statement [select user0_.id as id1_1_, user0_.address as address2_1_, user0_.confirm_password as confirm_3_1_, user0_.country as country4_1_, user0_.email as email5_1_, user0_.name as name6_1_, user0_.newsletter as newslett7_1_, user0_.number as number8_1_, user0_.password as password9_1_, user0_.sex as sex10_1_ from user user0_]\n\nCaused by: org.hsqldb.HsqlException: user lacks privilege or object not found: USER0_.ADDRESS\n</code></pre>\n\n<p>The entity class is provided, </p>\n\n<pre><code>@Entity\npublic class User {\n\n    // form:hidden - hidden value\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Integer id;\n\n    // form:input - textbox\n    @Column(name = \"name\", columnDefinition = \"VARCHAR(30)\", nullable = false)\n    String name;\n\n    // form:input - textbox\n    @Column(name = \"email\", columnDefinition = \"VARCHAR(50)\", nullable = false)\n    String email;\n\n    // form:textarea - textarea\n    @Column(name = \"address\", columnDefinition = \"VARCHAR(255)\", nullable = true)\n    String address;\n\n    // form:input - password\n    @Column(name = \"password\", columnDefinition = \"VARCHAR(20)\", nullable = false)\n    String password;\n\n    // form:input - password\n    String confirmPassword;\n\n    // form:checkbox - single checkbox\n    @Column(name = \"newsletter\", nullable = true)\n    boolean newsletter;\n\n    // form:checkboxes - multiple checkboxes\n//    @Column(columnDefinition = \"VARCHAR(500)\", nullable = false)\n    @ElementCollection\n    List&lt;String&gt; framework;\n\n    // form:radiobutton - radio button\n    @Column(name = \"sex\", columnDefinition = \"VARCHAR(1)\", nullable = true)\n    String sex;\n\n    // form:radiobuttons - radio button\n    @Column(name = \"number\", nullable = true)\n    Integer number;\n\n    // form:select - form:option - dropdown - single select\n    @Column(name = \"\", columnDefinition = \"VARCHAR(10)\", nullable = true)\n    String country;\n\n    // form:select - multiple=true - dropdown - multiple select\n//    @Column(columnDefinition = \"VARCHAR(500)\", nullable = true)\n    @ElementCollection\n    List&lt;String&gt; skill;\n\n    //Check if this is for New of Update\n    public boolean isNew() {\n        return (this.id == null);\n    }\n\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getConfirmPassword() {\n        return confirmPassword;\n    }\n\n    public void setConfirmPassword(String confirmPassword) {\n        this.confirmPassword = confirmPassword;\n    }\n\n    public boolean isNewsletter() {\n        return newsletter;\n    }\n\n    public void setNewsletter(boolean newsletter) {\n        this.newsletter = newsletter;\n    }\n\n    public List&lt;String&gt; getFramework() {\n        return framework;\n    }\n\n    public void setFramework(List&lt;String&gt; framework) {\n        this.framework = framework;\n    }\n\n    public String getSex() {\n        return sex;\n    }\n\n    public void setSex(String sex) {\n        this.sex = sex;\n    }\n\n    public Integer getNumber() {\n        return number;\n    }\n\n    public void setNumber(Integer number) {\n        this.number = number;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n\n    public List&lt;String&gt; getSkill() {\n        return skill;\n    }\n\n    public void setSkill(List&lt;String&gt; skill) {\n        this.skill = skill;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof User)) return false;\n\n        User user = (User) o;\n\n        if (isNewsletter() != user.isNewsletter()) return false;\n        if (!getId().equals(user.getId())) return false;\n        if (!getName().equals(user.getName())) return false;\n        if (!getEmail().equals(user.getEmail())) return false;\n        if (getAddress() != null ? !getAddress().equals(user.getAddress()) : user.getAddress() != null) return false;\n        if (!getPassword().equals(user.getPassword())) return false;\n        if (getConfirmPassword() != null ? !getConfirmPassword().equals(user.getConfirmPassword()) : user.getConfirmPassword() != null)\n            return false;\n        if (!getFramework().equals(user.getFramework())) return false;\n        if (getSex() != null ? !getSex().equals(user.getSex()) : user.getSex() != null) return false;\n        if (getNumber() != null ? !getNumber().equals(user.getNumber()) : user.getNumber() != null) return false;\n        if (getCountry() != null ? !getCountry().equals(user.getCountry()) : user.getCountry() != null) return false;\n        return getSkill() != null ? getSkill().equals(user.getSkill()) : user.getSkill() == null;\n    }\n\n    @Override\n    public int hashCode() {\n\n        int result = getId().hashCode();\n\n        result = 31 * result + getName().hashCode();\n        result = 31 * result + getEmail().hashCode();\n        result = 31 * result + (getAddress() != null ? getAddress().hashCode() : 0);\n        result = 31 * result + getPassword().hashCode();\n        result = 31 * result + (getConfirmPassword() != null ? getConfirmPassword().hashCode() : 0);\n        result = 31 * result + (isNewsletter() ? 1 : 0);\n        result = 31 * result + getFramework().hashCode();\n        result = 31 * result + (getSex() != null ? getSex().hashCode() : 0);\n        result = 31 * result + (getNumber() != null ? getNumber().hashCode() : 0);\n        result = 31 * result + (getCountry() != null ? getCountry().hashCode() : 0);\n        result = 31 * result + (getSkill() != null ? getSkill().hashCode() : 0);\n        return result;\n    }\n}\n</code></pre>\n\n<p>The interfaces in the repositoy directory provided, </p>\n\n<pre><code>@NoRepositoryBean\npublic interface CrudRepository&lt;T, ID extends Serializable&gt;\n        extends Repository&lt;T, ID&gt; {\n\n    &lt;S extends T&gt; S save(S entity);\n\n    T findOne(ID primaryKey);\n\n    Iterable&lt;T&gt; findAll();\n\n    Long count();\n\n    void delete(T entity);\n    void delete(ID idx);\n\n    boolean exists(ID primaryKey);\n\n    // … more functionality omitted.\n}\n</code></pre>\n\n<p>and, the extension of the interface, </p>\n\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt;{\n\n    User save(User user);\n\n    @Query(\"SELECT t.name FROM User t where t.id = :id\")\n    String findNameById(@Param(\"id\") Long id);\n\n    @Query(\"UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id\")\n    User update (@Param(\"id\") Long id);\n}\n</code></pre>\n\n<p>The user controller class is provided earlier. If I turn off the <code>address</code> field, it shows error to the another field. I can provide more info if required. What is the issue here?</p>\n\n<p>I commented out all but the Id and name, and still having the same type of errors, </p>\n\n<pre><code>Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: USER0_.NAME in statement [select user0_.id as id1_1_, user0_.name as name2_1_ from user user0_]\n\n....\n....\nCaused by: org.hsqldb.HsqlException: user lacks privilege or object not found: USER0_.NAME\n</code></pre>\n\n<p>Here is 2 line smore of the error, </p>\n\n<pre><code>2017-10-03 12:50:52.537 ERROR 8116 --- [on(2)-127.0.0.1] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: create table user (id integer generated by default as identity (start with 1), name VARCHAR(30) not null, primary key (id))\n2017-10-03 12:50:52.538 ERROR 8116 --- [on(2)-127.0.0.1] org.hibernate.tool.hbm2ddl.SchemaExport  : object name already exists: USER in statement [create table user (id integer generated by default as identity (start with 1), name VARCHAR(30) not null, primary key (id))]\n</code></pre>\n\n<p>I assume the issue is with the lack of privileges. I have simple config file that is empty now, </p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = {\n        \"com.boot.repository\",\n        \"com.boot.entity\"\n})\n@EnableTransactionManagement\nclass PersistenceContext {\n\n}\n</code></pre>\n\n<p>How would I enable the priviledges for the user in the app?</p>\n"},{"tags":["java","c++","apache-arrow"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1675976026,"post_id":75402797,"comment_id":133049275,"body_markdown":"Please show code instead of a description of the code.","body":"Please show code instead of a description of the code."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1676031578,"post_id":75402797,"comment_id":133060221,"body_markdown":"Unless I am wildly off the mark, you can get a raw pointer by doing `array.data()-&gt;GetValues(0)`. But your bigger problem is that `importArray` transfers ownership of the data from Java to C++, so you somehow need to transfer it back?","body":"Unless I am wildly off the mark, you can get a raw pointer by doing <code>array.data()-&gt;GetValues(0)</code>. But your bigger problem is that <code>importArray</code> transfers ownership of the data from Java to C++, so you somehow need to transfer it back?"},{"owner":{"account_id":26954504,"reputation":11,"user_id":20523124,"display_name":"Timothy Miller"},"score":0,"creation_date":1676035330,"post_id":75402797,"comment_id":133061271,"body_markdown":"Unfortunately, GetValues returns a const pointer, which indicates to me that if I were to strip away the const, the container might not be designed to handle the new values being added.","body":"Unfortunately, GetValues returns a const pointer, which indicates to me that if I were to strip away the const, the container might not be designed to handle the new values being added."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1676036038,"post_id":75402797,"comment_id":133061502,"body_markdown":"There is a very real difference between creating an array from scratch and filling an existing vector with data. Can you please edit your post with at least some pseudocode that explains what you are trying to do? Why is allocating from Java a requirement? How is the builder approach &quot;incredibly slow&quot;?","body":"There is a very real difference between creating an array from scratch and filling an existing vector with data. Can you please edit your post with at least some pseudocode that explains what you are trying to do? Why is allocating from Java a requirement? How is the builder approach &quot;incredibly slow&quot;?"},{"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"score":0,"creation_date":1676336145,"post_id":75402797,"comment_id":133113156,"body_markdown":"The other thing is: why allocate it in Java? Why not make a JNI call, have the C++ _allocate and fill_ the vector, then export the array from C++ to Java?","body":"The other thing is: why allocate it in Java? Why not make a JNI call, have the C++ <i>allocate and fill</i> the vector, then export the array from C++ to Java?"},{"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"score":0,"creation_date":1676336195,"post_id":75402797,"comment_id":133113163,"body_markdown":"And for why Value() is slow, and why you can&#39;t get more direct access: what have you tried, and what isn&#39;t working?","body":"And for why Value() is slow, and why you can&#39;t get more direct access: what have you tried, and what isn&#39;t working?"},{"owner":{"account_id":26954504,"reputation":11,"user_id":20523124,"display_name":"Timothy Miller"},"score":0,"creation_date":1676383339,"post_id":75402797,"comment_id":133122893,"body_markdown":"I&#39;m comparing Apache Arrow to nio off-heap buffers. Value() is slow because it goes through multiple layers of abstraction for each access. I can get a raw pointer, and that helps. For writing, I can&#39;t seem to find a way around using an ArrayBuilder, and AppendValues requires a copy. Then the import/export operations to change ownership are very expensive.","body":"I&#39;m comparing Apache Arrow to nio off-heap buffers. Value() is slow because it goes through multiple layers of abstraction for each access. I can get a raw pointer, and that helps. For writing, I can&#39;t seem to find a way around using an ArrayBuilder, and AppendValues requires a copy. Then the import/export operations to change ownership are very expensive."},{"owner":{"account_id":26954504,"reputation":11,"user_id":20523124,"display_name":"Timothy Miller"},"score":0,"creation_date":1676383397,"post_id":75402797,"comment_id":133122920,"body_markdown":"I&#39;ve done a variety of benchmark comparisons between using nio buffers and Arrow, and using nio buffers is orders of magnitude faster for allocation and access by both Java and native code.","body":"I&#39;ve done a variety of benchmark comparisons between using nio buffers and Arrow, and using nio buffers is orders of magnitude faster for allocation and access by both Java and native code."}],"owner":{"account_id":26954504,"reputation":11,"user_id":20523124,"display_name":"Timothy Miller"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676031848,"creation_date":1675966462,"question_id":75402797,"body_markdown":"Main question\r\n---\r\n\r\nI am working with Apache Arrow vectors, and I&#39;d like some help on figuring out how to fill a vector from C++ code that was created in Java. I have figured out how to create them in Java, share them with native code, and read the contents. But creating a new vector in C++ and filling it using a builder is incredibly slow. \r\n\r\nI would like to figure out how to do the following:\r\n\r\n- Allocate an Arrow vector in Java and pass it to C++ code.\r\n  - I assume this is the same as if I created a vector in Java that I want to read in C++; see below.\r\n- Get a raw pointer in C++ and write directly to the memory allocated in Java.\r\n  - I know how to get a raw pointer from a Buffer object, but not from something like an Int32Array.\r\n- Finalize the vector, set the length, etc.\r\n  - I have no idea at all how to do this.\r\n- Be able to just read it in Java with minimal extra overhead.\r\n\r\n-----\r\n\r\nAppendix\r\n---\r\n\r\nFor reference, here&#39;s how I have been exporting vectors from Java that I want to read in C++.\r\n\r\n- In Java:\r\n  - Have a RootAllocator manage a memory pool.\r\n  - Allocate an Arrow vector using that allocator.\r\n  - Call `vector.allocateNew` to reserve capacity.\r\n  - Use `vector.set(index, data)` to fill the vector.\r\n  - Call `vector.setValueCount` to finalize the vector.\r\n  - Allocate an ArrowSchema and an ArrowArray.\r\n  - Call `Data.exportVector` to populate them with data about the vector.\r\n  - Pass the array and schema pointers through JNI.\r\n- In C++:\r\n  - Call `arrow::ImportArray` with the array and schema pointers\r\n  - Use `ValueOrDie` and a static cast to get access to vector of the right type.\r\n- Back in Java:\r\n  - Read the vector data\r\n  - call `close()` when finished to free memory.\r\n\r\nI have found calling `vector_ptr-&gt;Value(index)` to be *incredibly slow.* Supposedly, there is a `raw_values` method that I should be able to use to get direct pointer to the data, but I can&#39;t figure out how to get access to that from an Int32Array.","title":"How to fill Java-managed Apache Arrow vector from JNI/C++ with zero copy","body":"<h2>Main question</h2>\n<p>I am working with Apache Arrow vectors, and I'd like some help on figuring out how to fill a vector from C++ code that was created in Java. I have figured out how to create them in Java, share them with native code, and read the contents. But creating a new vector in C++ and filling it using a builder is incredibly slow.</p>\n<p>I would like to figure out how to do the following:</p>\n<ul>\n<li>Allocate an Arrow vector in Java and pass it to C++ code.\n<ul>\n<li>I assume this is the same as if I created a vector in Java that I want to read in C++; see below.</li>\n</ul>\n</li>\n<li>Get a raw pointer in C++ and write directly to the memory allocated in Java.\n<ul>\n<li>I know how to get a raw pointer from a Buffer object, but not from something like an Int32Array.</li>\n</ul>\n</li>\n<li>Finalize the vector, set the length, etc.\n<ul>\n<li>I have no idea at all how to do this.</li>\n</ul>\n</li>\n<li>Be able to just read it in Java with minimal extra overhead.</li>\n</ul>\n<hr />\n<h2>Appendix</h2>\n<p>For reference, here's how I have been exporting vectors from Java that I want to read in C++.</p>\n<ul>\n<li>In Java:\n<ul>\n<li>Have a RootAllocator manage a memory pool.</li>\n<li>Allocate an Arrow vector using that allocator.</li>\n<li>Call <code>vector.allocateNew</code> to reserve capacity.</li>\n<li>Use <code>vector.set(index, data)</code> to fill the vector.</li>\n<li>Call <code>vector.setValueCount</code> to finalize the vector.</li>\n<li>Allocate an ArrowSchema and an ArrowArray.</li>\n<li>Call <code>Data.exportVector</code> to populate them with data about the vector.</li>\n<li>Pass the array and schema pointers through JNI.</li>\n</ul>\n</li>\n<li>In C++:\n<ul>\n<li>Call <code>arrow::ImportArray</code> with the array and schema pointers</li>\n<li>Use <code>ValueOrDie</code> and a static cast to get access to vector of the right type.</li>\n</ul>\n</li>\n<li>Back in Java:\n<ul>\n<li>Read the vector data</li>\n<li>call <code>close()</code> when finished to free memory.</li>\n</ul>\n</li>\n</ul>\n<p>I have found calling <code>vector_ptr-&gt;Value(index)</code> to be <em>incredibly slow.</em> Supposedly, there is a <code>raw_values</code> method that I should be able to use to get direct pointer to the data, but I can't figure out how to get access to that from an Int32Array.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1676003385,"post_id":75406941,"comment_id":133053734,"body_markdown":"What&#39;s the problem?","body":"What&#39;s the problem?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676003398,"post_id":75406941,"comment_id":133053736,"body_markdown":"You can pass the `int` value `a` to as many functions as you like. But perhaps I don&#39;t understand what you mean.","body":"You can pass the <code>int</code> value <code>a</code> to as many functions as you like. But perhaps I don&#39;t understand what you mean."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676003561,"post_id":75406941,"comment_id":133053756,"body_markdown":"I&#39;m not sure that I know exactly what you&#39;re asking, but it sounds like you only want to run the three lines from `Scanner s= ...` down to `int a= s.nextInt();` once.  You could try picking them up and moving them to before the beginning of the `for` loop.","body":"I&#39;m not sure that I know exactly what you&#39;re asking, but it sounds like you only want to run the three lines from <code>Scanner s= ...</code> down to <code>int a= s.nextInt();</code> once.  You could try picking them up and moving them to before the beginning of the <code>for</code> loop."},{"owner":{"account_id":27750030,"reputation":1,"user_id":21184615,"display_name":"Elizabeth Meza"},"score":0,"creation_date":1676003631,"post_id":75406941,"comment_id":133053767,"body_markdown":"When it runs it currently asks the user to enter a number six times, I need it to only ask the user once and if they enter for example 40, to increment 6 times, ex. 41, 42,43,45","body":"When it runs it currently asks the user to enter a number six times, I need it to only ask the user once and if they enter for example 40, to increment 6 times, ex. 41, 42,43,45"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676003706,"post_id":75406941,"comment_id":133053777,"body_markdown":"So, start with my suggestion, then adjust things if you don&#39;t get the result you want.","body":"So, start with my suggestion, then adjust things if you don&#39;t get the result you want."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676003769,"post_id":75406941,"comment_id":133053787,"body_markdown":"You should also be aware that an `int` is only just large enough to hold the 46th Fibonacci number.  If you&#39;re going to try to calculate a bigger Fibonacci number than that, you&#39;ll need `long` instead.","body":"You should also be aware that an <code>int</code> is only just large enough to hold the 46th Fibonacci number.  If you&#39;re going to try to calculate a bigger Fibonacci number than that, you&#39;ll need <code>long</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":16834348,"reputation":21,"user_id":12171444,"display_name":"jironemo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676003766,"creation_date":1676003766,"answer_id":75406992,"question_id":75406941,"body_markdown":"Move your Scanner and int a outside the for loop. Currently, the Scanner is being run 6 consecutive times. ","title":"how do I create the number entered into 6 consecutive calls in java?","body":"<p>Move your Scanner and int a outside the for loop. Currently, the Scanner is being run 6 consecutive times.</p>\n"},{"tags":[],"owner":{"account_id":26882945,"reputation":81,"user_id":20463038,"display_name":"pizzamonkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676004520,"creation_date":1676004520,"answer_id":75407065,"question_id":75406941,"body_markdown":"This will run everything inside the brackets 6 times. If you want only the second part to be run 6 times, confine it to that.\r\n\r\nAlso you never defined start, so your timing code won&#39;t work at all.\r\n\r\n```\r\n     public static void main(String args[])\r\n    {\r\n        int n =6;\r\n        \r\n\r\n       long start=new Date().getTime();\r\n       Scanner s=new Scanner(System.in);\r\n       System.out.println(&quot;Enter a number: &quot;);\r\n       int a= s.nextInt();\r\n       for (int i=1; i&lt;= n; ++i){\r\n            long start=new Date().getTime();\r\n            System.out.println(&quot;This Fibonacci number =&quot; +fibonacci(a));\r\n            long end=new Date().getTime();\r\n            System.out.println(&quot;seconds used for this calculation =&quot;+((end-start)/1000));\r\n\r\n        }\r\n\r\n    }\r\n```","title":"how do I create the number entered into 6 consecutive calls in java?","body":"<p>This will run everything inside the brackets 6 times. If you want only the second part to be run 6 times, confine it to that.</p>\n<p>Also you never defined start, so your timing code won't work at all.</p>\n<pre><code>     public static void main(String args[])\n    {\n        int n =6;\n        \n\n       long start=new Date().getTime();\n       Scanner s=new Scanner(System.in);\n       System.out.println(&quot;Enter a number: &quot;);\n       int a= s.nextInt();\n       for (int i=1; i&lt;= n; ++i){\n            long start=new Date().getTime();\n            System.out.println(&quot;This Fibonacci number =&quot; +fibonacci(a));\n            long end=new Date().getTime();\n            System.out.println(&quot;seconds used for this calculation =&quot;+((end-start)/1000));\n\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":27750030,"reputation":1,"user_id":21184615,"display_name":"Elizabeth Meza"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1676030807,"creation_date":1676003179,"question_id":75406941,"body_markdown":"I am having trouble implementing a consecutive call here. For example I want the user to only enter a number once, say 40.. and have 6 consecutive calls.\r\n\r\n```java\r\nimport java.util.Date;\r\nimport java.util.Scanner;\r\n\r\nclass Main\r\n{\r\n    public static int count = 0;\r\n\r\n    public static int fibonacci(int a)\r\n    {\r\n        count +=1;\r\n        if (a&lt;=1)\r\n        {\r\n            return a;\r\n        }\r\n        return fibonacci(a-1)+fibonacci(a-2);\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        int n =6;\r\n        for (int i=1; i&lt;= n; ++i){\r\n            long start=new Date().getTime();\r\n            Scanner s=new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            int a= s.nextInt();\r\n\r\n            System.out.println(&quot;This Fibonacci number =&quot; +fibonacci(a));\r\n            long end=new Date().getTime();\r\n            System.out.println(&quot;seconds used for this calculation =&quot;+((end-start)/1000));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nthis is what I have so far.","title":"how do I create the number entered into 6 consecutive calls in java?","body":"<p>I am having trouble implementing a consecutive call here. For example I want the user to only enter a number once, say 40.. and have 6 consecutive calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\nimport java.util.Scanner;\n\nclass Main\n{\n    public static int count = 0;\n\n    public static int fibonacci(int a)\n    {\n        count +=1;\n        if (a&lt;=1)\n        {\n            return a;\n        }\n        return fibonacci(a-1)+fibonacci(a-2);\n    }\n\n    public static void main(String args[])\n    {\n        int n =6;\n        for (int i=1; i&lt;= n; ++i){\n            long start=new Date().getTime();\n            Scanner s=new Scanner(System.in);\n            System.out.println(&quot;Enter a number: &quot;);\n            int a= s.nextInt();\n\n            System.out.println(&quot;This Fibonacci number =&quot; +fibonacci(a));\n            long end=new Date().getTime();\n            System.out.println(&quot;seconds used for this calculation =&quot;+((end-start)/1000));\n        }\n    }\n}\n</code></pre>\n<p>this is what I have so far.</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1676003227,"post_id":75406898,"comment_id":133053712,"body_markdown":"Change the condition to `if (Character.isDigit(lst5[i]) != Character.isDigit(lst5[j]) ? Character.isDigit(lst5[i]) : lst5[i] &gt; lst5[j])`","body":"Change the condition to <code>if (Character.isDigit(lst5[i]) != Character.isDigit(lst5[j]) ? Character.isDigit(lst5[i]) : lst5[i] &gt; lst5[j])</code>"}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676006028,"creation_date":1676004910,"answer_id":75407103,"question_id":75406898,"body_markdown":"Your first for loop should be:\r\n\r\n    for (int i = 0; i &lt; lst5.length-2; i++)\r\n\r\nTo more directly answer your question, the expression\r\n\r\n    (!Character.isDigit(lst5[i]) &amp;&amp; !Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j])\r\n\r\nfalls through by evaluating to false when both characters are already-sorted digits.  The next expression `(lst5[i] &lt; lst5[j] &amp;&amp; (Character.isDigit(lst5[i]))` is treated as though there&#39;s certainty that the characters are neither both digits nor both non-digits, which is a fallacy as they could also reach that third expression when already in sorted order.\r\n","title":"Sorting array of chars without using built-in sort()?","body":"<p>Your first for loop should be:</p>\n<pre><code>for (int i = 0; i &lt; lst5.length-2; i++)\n</code></pre>\n<p>To more directly answer your question, the expression</p>\n<pre><code>(!Character.isDigit(lst5[i]) &amp;&amp; !Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j])\n</code></pre>\n<p>falls through by evaluating to false when both characters are already-sorted digits.  The next expression <code>(lst5[i] &lt; lst5[j] &amp;&amp; (Character.isDigit(lst5[i]))</code> is treated as though there's certainty that the characters are neither both digits nor both non-digits, which is a fallacy as they could also reach that third expression when already in sorted order.</p>\n"}],"owner":{"account_id":92573,"reputation":13381,"user_id":253656,"accept_rate":80,"display_name":"ipkiss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75407103,"answer_count":1,"score":-1,"last_activity_date":1676030669,"creation_date":1676002666,"question_id":75406898,"body_markdown":"I have the following code:\r\n\r\n```java\r\nString input5 = &quot;A2B3C1&quot;;\r\nchar[] lst5 = input5.toCharArray();\r\n  \r\nfor (int i = 0; i &lt; lst5.length; i++) {\r\n    for (int j = i + 1; j &lt; lst5.length; j++) {\r\n        if ((Character.isDigit(lst5[i]) &amp;&amp; Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j]) || \r\n                (!Character.isDigit(lst5[i]) &amp;&amp; !Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j]) || \r\n                (lst5[i] &lt; lst5[j] &amp;&amp; (Character.isDigit(lst5[i])))) {\r\n            char tmp = lst5[i];\r\n            lst5[i] = lst5[j];\r\n            lst5[j] = tmp;\r\n        }\r\n    }\r\n\r\n}\r\nSystem.out.println(lst5);\r\n```\r\n\r\nWhat I expected: &quot;ABC123&quot;\\\r\nBut I got: &quot;ABC132&quot;\r\n\r\nWhat did I do wrong?","title":"Sorting array of chars without using built-in sort()?","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input5 = &quot;A2B3C1&quot;;\nchar[] lst5 = input5.toCharArray();\n  \nfor (int i = 0; i &lt; lst5.length; i++) {\n    for (int j = i + 1; j &lt; lst5.length; j++) {\n        if ((Character.isDigit(lst5[i]) &amp;&amp; Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j]) || \n                (!Character.isDigit(lst5[i]) &amp;&amp; !Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j]) || \n                (lst5[i] &lt; lst5[j] &amp;&amp; (Character.isDigit(lst5[i])))) {\n            char tmp = lst5[i];\n            lst5[i] = lst5[j];\n            lst5[j] = tmp;\n        }\n    }\n\n}\nSystem.out.println(lst5);\n</code></pre>\n<p>What I expected: &quot;ABC123&quot;<br />\nBut I got: &quot;ABC132&quot;</p>\n<p>What did I do wrong?</p>\n"},{"tags":["java","memory","jvm","version","methodhandle"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1676030316,"creation_date":1676023865,"answer_id":75409623,"question_id":75407367,"body_markdown":"The main reason for the high memory consumption is, of course, the option `-XX:+UseEpsilonGC`, as turning off the garbage collector implies having all temporary objects in memory instead of being reclaimed.\r\n\r\nYou can simply make a heap dump at the end of the program to see the dominating objects and use a profiling tool to track the allocations. I found quite a lot `StringBuilder` instances in Java 11 (170,000) and in turn, `byte[]` arrays, compared to Java 17 (4,000 `StringBuilder` instances). One of the source of allocations revealed by [async-profiler] was `jdk.internal.org.objectweb.asm.Type` which is a class of the [ASM library] embedded in Java.\r\n\r\nJava 11 uses version 6 of this library whereas Java 17 uses version 8. [In-between these versions] there is a change documented as\r\n\r\n&gt; small optimizations in asm.Type\r\n\r\nOne of the frequently invoked methods in this class is\r\n\r\n&gt; ```java\r\n&gt; public String getDescriptor() {\r\n&gt;     StringBuilder buf = new StringBuilder();\r\n&gt;     getDescriptor(buf);\r\n&gt;     return buf.toString();\r\n&gt; }\r\n&gt; ```\r\n\r\nwe don’t need to dig into the actual implementation method to see that there’s a `StringBuilder` allocated unconditionally. In contrast, the newer implementation looks like\r\n\r\n&gt; ```java\r\n&gt; public String getDescriptor() {\r\n&gt;     if (sort == OBJECT) {\r\n&gt;         return valueBuffer.substring(valueBegin - 1, valueEnd + 1);\r\n&gt;     } else if (sort == INTERNAL) {\r\n&gt;         return &#39;L&#39; + valueBuffer.substring(valueBegin, valueEnd) + &#39;;&#39;;\r\n&gt;     } else {\r\n&gt;         return valueBuffer.substring(valueBegin, valueEnd);\r\n&gt;     }\r\n&gt; }\r\n&gt; ```\r\n\r\nwhich will allocate a `StringBuilder` only in some cases. This especially applies to your case of having lots `int` or `long` parameters, which will end up at the last branch, just calling `substring` on the method signature to produce a string equal to `&quot;I&quot;` or `&quot;J&quot;`. In contrast, the old code allocated a `StringBuilder` instance and a `byte[]` array of length 16 (the default capacity) in addition to the result string, for each invocation.\r\n\r\nThere might be more allocations sites, differing between the Java versions, but I think this provides you with the necessary information about where to search and how to search.\r\n\r\n[async-profiler]: https://github.com/jvm-profiling-tools/async-profiler\r\n[ASM library]: https://asm.ow2.io/index.html\r\n[In-between these versions]: https://asm.ow2.io/versions.html#7.1","title":"What?! 3 vs 36 MiB for a no-op 254-ary method call via a method handle","body":"<p>The main reason for the high memory consumption is, of course, the option <code>-XX:+UseEpsilonGC</code>, as turning off the garbage collector implies having all temporary objects in memory instead of being reclaimed.</p>\n<p>You can simply make a heap dump at the end of the program to see the dominating objects and use a profiling tool to track the allocations. I found quite a lot <code>StringBuilder</code> instances in Java 11 (170,000) and in turn, <code>byte[]</code> arrays, compared to Java 17 (4,000 <code>StringBuilder</code> instances). One of the source of allocations revealed by <a href=\"https://github.com/jvm-profiling-tools/async-profiler\" rel=\"noreferrer\">async-profiler</a> was <code>jdk.internal.org.objectweb.asm.Type</code> which is a class of the <a href=\"https://asm.ow2.io/index.html\" rel=\"noreferrer\">ASM library</a> embedded in Java.</p>\n<p>Java 11 uses version 6 of this library whereas Java 17 uses version 8. <a href=\"https://asm.ow2.io/versions.html#7.1\" rel=\"noreferrer\">In-between these versions</a> there is a change documented as</p>\n<blockquote>\n<p>small optimizations in asm.Type</p>\n</blockquote>\n<p>One of the frequently invoked methods in this class is</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public String getDescriptor() {\n    StringBuilder buf = new StringBuilder();\n    getDescriptor(buf);\n    return buf.toString();\n}\n</code></pre>\n</blockquote>\n<p>we don’t need to dig into the actual implementation method to see that there’s a <code>StringBuilder</code> allocated unconditionally. In contrast, the newer implementation looks like</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public String getDescriptor() {\n    if (sort == OBJECT) {\n        return valueBuffer.substring(valueBegin - 1, valueEnd + 1);\n    } else if (sort == INTERNAL) {\n        return 'L' + valueBuffer.substring(valueBegin, valueEnd) + ';';\n    } else {\n        return valueBuffer.substring(valueBegin, valueEnd);\n    }\n}\n</code></pre>\n</blockquote>\n<p>which will allocate a <code>StringBuilder</code> only in some cases. This especially applies to your case of having lots <code>int</code> or <code>long</code> parameters, which will end up at the last branch, just calling <code>substring</code> on the method signature to produce a string equal to <code>&quot;I&quot;</code> or <code>&quot;J&quot;</code>. In contrast, the old code allocated a <code>StringBuilder</code> instance and a <code>byte[]</code> array of length 16 (the default capacity) in addition to the result string, for each invocation.</p>\n<p>There might be more allocations sites, differing between the Java versions, but I think this provides you with the necessary information about where to search and how to search.</p>\n"}],"owner":{"account_id":12782866,"reputation":307,"user_id":11079979,"display_name":"Aliaksei Budavei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":75409623,"answer_count":1,"score":-1,"last_activity_date":1676030316,"creation_date":1676007766,"question_id":75407367,"body_markdown":"It could be shown (see _below_ a rewritten [test case](https://bitbucket.org/zzzyxwvut/ate/src/657638671a39e58aa4c7c134be462d6a51f1b24e/ate/src/org.zzzyxwvut.ate/tests/tester/ate/ArgumentableCardinalityTests.java)) that method handles for 254-ary methods claim less memory in Java 17 than in Java 11, when compiled and run by its tools.\r\n\r\nSince no method-handle- or reflection-related features are advertised in release summaries for Java versions from [11](https://openjdk.org/projects/jdk/11/) to [17](https://openjdk.org/projects/jdk/17/), I&#39;m curious: what changes have contributed to less memory consumption?\r\n\r\n---\r\n\r\nThis is a rewritten test case `ArityLimits.java`:\r\n```java\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.lang.invoke.MethodHandles.Lookup;\r\nimport java.lang.invoke.MethodHandles;\r\nimport java.lang.reflect.Method;\r\nimport java.lang.reflect.Modifier;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.function.Consumer;\r\nimport java.util.function.Supplier;\r\n\r\nclass ArityLimits\r\n{\r\n\tpublic static void main(String[] args) throws Throwable\r\n\t{\r\n\t\t// Pick an implementation with the 1st argument, e.g. core.\r\n\t\tfinal Invocable invocable = (args.length &gt; 0\r\n\t\t\t\t\t&amp;&amp; args[0].equalsIgnoreCase(&quot;core&quot;))\r\n\t\t\t? new CoreInvoker(ArityLimits::new)\r\n\t\t\t: new HandleInvoker(ArityLimits::new,\r\n\t\t\t\tMethodHandles.privateLookupIn(\r\n\t\t\t\t\t\tArityLimits.class,\r\n\t\t\t\t\t\tMethodHandles.lookup()));\r\n\r\n\t\t// Pick which methods to call with the 2nd argument, e.g.\r\n\t\t// $(( 1|2|4|8 )).\r\n\t\tfinal int agenda = (args.length &gt; 1)\r\n\t\t\t? 0xf &amp; Integer.parseInt(args[1])\r\n\t\t\t: (1 | 2 | 4 | 8);\r\n\t\tfinal Map&lt;String, List&lt;?&gt;&gt; arguments = new HashMap&lt;&gt;(8);\r\n\r\n\t\tif ((agenda &amp; 1) != 0)\r\n\t\t\targuments.put(&quot;passCrunchLongsFix128&quot;,\r\n\t\t\t\tCollections.nCopies(128 - 2 /* (handle, this) */, 0L));\r\n\r\n\t\tif ((agenda &amp; 2) != 0)\r\n\t\t\targuments.put(&quot;passClassCrunchLongsFix128&quot;,\r\n\t\t\t\tCollections.nCopies(128 - 1 /* (handle) */, 0L));\r\n\r\n\t\tif ((agenda &amp; 4) != 0)\r\n\t\t\targuments.put(&quot;passCrunchIntsFix255&quot;,\r\n\t\t\t\tCollections.nCopies(255 - 2 /* (handle, this) */, 0));\r\n\r\n\t\tif ((agenda &amp; 8) != 0)\r\n\t\t\targuments.put(&quot;passClassCrunchIntsFix255&quot;,\r\n\t\t\t\tCollections.nCopies(255 - 1 /* (handle) */, 0));\r\n\r\n\t\tfinal Consumer&lt;Method&gt; announcer = (&quot;Linux&quot;.equalsIgnoreCase(\r\n\t\t\t\t\tSystem.getProperty(&quot;os.name&quot;, &quot;&quot;)))\r\n\t\t\t? method -&gt; System.err.format(&quot;\\033[7m%s\\033[0m%n&quot;,\r\n\t\t\t\t\t\t\tmethod.getName())\r\n\t\t\t: method -&gt; System.err.println(method.getName());\r\n\r\n\t\tfor (Method method : ArityLimits.class.getDeclaredMethods()) {\r\n\t\t\tfinal List&lt;?&gt; methodArgs = arguments.get(\r\n\t\t\t\t\t\t\tmethod.getName());\r\n\r\n\t\t\tif (methodArgs == null)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tinvocable.invoke(method, methodArgs);\r\n\t\t\tannouncer.accept(method);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate interface Invocable\r\n\t{\r\n\t\tvoid invoke(Method method, List&lt;?&gt; args) throws Throwable;\r\n\r\n\t\tstatic boolean warnTooManyArgs(Method method, List&lt;?&gt; args)\r\n\t\t{\r\n\t\t\tif (method.isVarArgs() || args.size() &lt; 256)\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tSystem.err.println(method.getName()\r\n\t\t\t\t\t.concat(&quot;: too many arguments&quot;));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static final class CoreInvoker implements Invocable\r\n\t{\r\n\t\tprivate final Supplier&lt;?&gt; instanceer;\r\n\r\n\t\tCoreInvoker(Supplier&lt;?&gt; instanceer)\r\n\t\t{\r\n\t\t\tthis.instanceer = instanceer;\r\n\t\t}\r\n\r\n\t\tpublic void invoke(Method method, List&lt;?&gt; args)\r\n\t\t\t\t\tthrows ReflectiveOperationException\r\n\t\t{\r\n\t\t\tif (Invocable.warnTooManyArgs(method, args))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tmethod.invoke((Modifier.isStatic(method.getModifiers()))\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: instanceer.get(),\r\n\t\t\t\targs.toArray());\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static final class HandleInvoker implements Invocable\r\n\t{\r\n\t\tprivate final Supplier&lt;?&gt; instanceer;\r\n\t\tprivate final Lookup lookup;\r\n\r\n\t\tHandleInvoker(Supplier&lt;?&gt; instanceer, Lookup lookup)\r\n\t\t{\r\n\t\t\tthis.instanceer = instanceer;\r\n\t\t\tthis.lookup = lookup;\r\n\t\t}\r\n\r\n\t\tpublic void invoke(Method method, List&lt;?&gt; args) throws Throwable\r\n\t\t{\r\n\t\t\t// Here a handle shall check its parameter constraints.\r\n\t\t\tfinal MethodHandle mh1 = lookup.unreflect(method);\r\n\r\n\t\t\tif (Invocable.warnTooManyArgs(method, args))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tfinal MethodHandle mh2 = (Modifier.isStatic(\r\n\t\t\t\t\t\t\tmethod.getModifiers()))\r\n\t\t\t\t? mh1\r\n\t\t\t\t: mh1.bindTo(instanceer.get());\r\n\t\t\tmh2.invokeWithArguments(args);\r\n\t\t}\r\n\t}\r\n\r\n\tvoid passCrunchLongsFix128(/* MethodHandle mh, ArityLimits al, */\r\n\t\t\tlong _001, long _002, long _003, long _004, long _005,\r\n\t\t\tlong _006, long _007, long _008, long _009, long _010,\r\n\t\t\tlong _011, long _012, long _013, long _014, long _015,\r\n\t\t\tlong _016, long _017, long _018, long _019, long _020,\r\n\t\t\tlong _021, long _022, long _023, long _024, long _025,\r\n\t\t\tlong _026, long _027, long _028, long _029, long _030,\r\n\t\t\tlong _031, long _032, long _033, long _034, long _035,\r\n\t\t\tlong _036, long _037, long _038, long _039, long _040,\r\n\t\t\tlong _041, long _042, long _043, long _044, long _045,\r\n\t\t\tlong _046, long _047, long _048, long _049, long _050,\r\n\r\n\t\t\tlong _051, long _052, long _053, long _054, long _055,\r\n\t\t\tlong _056, long _057, long _058, long _059, long _060,\r\n\t\t\tlong _061, long _062, long _063, long _064, long _065,\r\n\t\t\tlong _066, long _067, long _068, long _069, long _070,\r\n\t\t\tlong _071, long _072, long _073, long _074, long _075,\r\n\t\t\tlong _076, long _077, long _078, long _079, long _080,\r\n\t\t\tlong _081, long _082, long _083, long _084, long _085,\r\n\t\t\tlong _086, long _087, long _088, long _089, long _090,\r\n\t\t\tlong _091, long _092, long _093, long _094, long _095,\r\n\t\t\tlong _096, long _097, long _098, long _099, long _100,\r\n\r\n\t\t\tlong _101, long _102, long _103, long _104, long _105,\r\n\t\t\tlong _106, long _107, long _108, long _109, long _110,\r\n\t\t\tlong _111, long _112, long _113, long _114, long _115,\r\n\t\t\tlong _116, long _117, long _118, long _119, long _120,\r\n\t\t\tlong _121, long _122, long _123, long _124, long _125,\r\n\t\t\tlong _126) { }\r\n\r\n\tstatic void passClassCrunchLongsFix128(/* MethodHandle mh, */\r\n\t\t\tlong _001, long _002, long _003, long _004, long _005,\r\n\t\t\tlong _006, long _007, long _008, long _009, long _010,\r\n\t\t\tlong _011, long _012, long _013, long _014, long _015,\r\n\t\t\tlong _016, long _017, long _018, long _019, long _020,\r\n\t\t\tlong _021, long _022, long _023, long _024, long _025,\r\n\t\t\tlong _026, long _027, long _028, long _029, long _030,\r\n\t\t\tlong _031, long _032, long _033, long _034, long _035,\r\n\t\t\tlong _036, long _037, long _038, long _039, long _040,\r\n\t\t\tlong _041, long _042, long _043, long _044, long _045,\r\n\t\t\tlong _046, long _047, long _048, long _049, long _050,\r\n\r\n\t\t\tlong _051, long _052, long _053, long _054, long _055,\r\n\t\t\tlong _056, long _057, long _058, long _059, long _060,\r\n\t\t\tlong _061, long _062, long _063, long _064, long _065,\r\n\t\t\tlong _066, long _067, long _068, long _069, long _070,\r\n\t\t\tlong _071, long _072, long _073, long _074, long _075,\r\n\t\t\tlong _076, long _077, long _078, long _079, long _080,\r\n\t\t\tlong _081, long _082, long _083, long _084, long _085,\r\n\t\t\tlong _086, long _087, long _088, long _089, long _090,\r\n\t\t\tlong _091, long _092, long _093, long _094, long _095,\r\n\t\t\tlong _096, long _097, long _098, long _099, long _100,\r\n\r\n\t\t\tlong _101, long _102, long _103, long _104, long _105,\r\n\t\t\tlong _106, long _107, long _108, long _109, long _110,\r\n\t\t\tlong _111, long _112, long _113, long _114, long _115,\r\n\t\t\tlong _116, long _117, long _118, long _119, long _120,\r\n\t\t\tlong _121, long _122, long _123, long _124, long _125,\r\n\t\t\tlong _126, long _127) { }\r\n\r\n\tvoid passCrunchIntsFix255(/* MethodHandle mh, ArityLimits al, */\r\n\t\t\tint _001, int _002, int _003, int _004, int _005,\r\n\t\t\tint _006, int _007, int _008, int _009, int _010,\r\n\t\t\tint _011, int _012, int _013, int _014, int _015,\r\n\t\t\tint _016, int _017, int _018, int _019, int _020,\r\n\t\t\tint _021, int _022, int _023, int _024, int _025,\r\n\t\t\tint _026, int _027, int _028, int _029, int _030,\r\n\t\t\tint _031, int _032, int _033, int _034, int _035,\r\n\t\t\tint _036, int _037, int _038, int _039, int _040,\r\n\t\t\tint _041, int _042, int _043, int _044, int _045,\r\n\t\t\tint _046, int _047, int _048, int _049, int _050,\r\n\r\n\t\t\tint _051, int _052, int _053, int _054, int _055,\r\n\t\t\tint _056, int _057, int _058, int _059, int _060,\r\n\t\t\tint _061, int _062, int _063, int _064, int _065,\r\n\t\t\tint _066, int _067, int _068, int _069, int _070,\r\n\t\t\tint _071, int _072, int _073, int _074, int _075,\r\n\t\t\tint _076, int _077, int _078, int _079, int _080,\r\n\t\t\tint _081, int _082, int _083, int _084, int _085,\r\n\t\t\tint _086, int _087, int _088, int _089, int _090,\r\n\t\t\tint _091, int _092, int _093, int _094, int _095,\r\n\t\t\tint _096, int _097, int _098, int _099, int _100,\r\n\r\n\t\t\tint _101, int _102, int _103, int _104, int _105,\r\n\t\t\tint _106, int _107, int _108, int _109, int _110,\r\n\t\t\tint _111, int _112, int _113, int _114, int _115,\r\n\t\t\tint _116, int _117, int _118, int _119, int _120,\r\n\t\t\tint _121, int _122, int _123, int _124, int _125,\r\n\t\t\tint _126, int _127, int _128, int _129, int _130,\r\n\t\t\tint _131, int _132, int _133, int _134, int _135,\r\n\t\t\tint _136, int _137, int _138, int _139, int _140,\r\n\t\t\tint _141, int _142, int _143, int _144, int _145,\r\n\t\t\tint _146, int _147, int _148, int _149, int _150,\r\n\r\n\t\t\tint _151, int _152, int _153, int _154, int _155,\r\n\t\t\tint _156, int _157, int _158, int _159, int _160,\r\n\t\t\tint _161, int _162, int _163, int _164, int _165,\r\n\t\t\tint _166, int _167, int _168, int _169, int _170,\r\n\t\t\tint _171, int _172, int _173, int _174, int _175,\r\n\t\t\tint _176, int _177, int _178, int _179, int _180,\r\n\t\t\tint _181, int _182, int _183, int _184, int _185,\r\n\t\t\tint _186, int _187, int _188, int _189, int _190,\r\n\t\t\tint _191, int _192, int _193, int _194, int _195,\r\n\t\t\tint _196, int _197, int _198, int _199, int _200,\r\n\r\n\t\t\tint _201, int _202, int _203, int _204, int _205,\r\n\t\t\tint _206, int _207, int _208, int _209, int _210,\r\n\t\t\tint _211, int _212, int _213, int _214, int _215,\r\n\t\t\tint _216, int _217, int _218, int _219, int _220,\r\n\t\t\tint _221, int _222, int _223, int _224, int _225,\r\n\t\t\tint _226, int _227, int _228, int _229, int _230,\r\n\t\t\tint _231, int _232, int _233, int _234, int _235,\r\n\t\t\tint _236, int _237, int _238, int _239, int _240,\r\n\t\t\tint _241, int _242, int _243, int _244, int _245,\r\n\t\t\tint _246, int _247, int _248, int _249, int _250,\r\n\r\n\t\t\tint _251, int _252, int _253) { }\r\n\r\n\tstatic void passClassCrunchIntsFix255(/* MethodHandle mh, */\r\n\t\t\tint _001, int _002, int _003, int _004, int _005,\r\n\t\t\tint _006, int _007, int _008, int _009, int _010,\r\n\t\t\tint _011, int _012, int _013, int _014, int _015,\r\n\t\t\tint _016, int _017, int _018, int _019, int _020,\r\n\t\t\tint _021, int _022, int _023, int _024, int _025,\r\n\t\t\tint _026, int _027, int _028, int _029, int _030,\r\n\t\t\tint _031, int _032, int _033, int _034, int _035,\r\n\t\t\tint _036, int _037, int _038, int _039, int _040,\r\n\t\t\tint _041, int _042, int _043, int _044, int _045,\r\n\t\t\tint _046, int _047, int _048, int _049, int _050,\r\n\r\n\t\t\tint _051, int _052, int _053, int _054, int _055,\r\n\t\t\tint _056, int _057, int _058, int _059, int _060,\r\n\t\t\tint _061, int _062, int _063, int _064, int _065,\r\n\t\t\tint _066, int _067, int _068, int _069, int _070,\r\n\t\t\tint _071, int _072, int _073, int _074, int _075,\r\n\t\t\tint _076, int _077, int _078, int _079, int _080,\r\n\t\t\tint _081, int _082, int _083, int _084, int _085,\r\n\t\t\tint _086, int _087, int _088, int _089, int _090,\r\n\t\t\tint _091, int _092, int _093, int _094, int _095,\r\n\t\t\tint _096, int _097, int _098, int _099, int _100,\r\n\r\n\t\t\tint _101, int _102, int _103, int _104, int _105,\r\n\t\t\tint _106, int _107, int _108, int _109, int _110,\r\n\t\t\tint _111, int _112, int _113, int _114, int _115,\r\n\t\t\tint _116, int _117, int _118, int _119, int _120,\r\n\t\t\tint _121, int _122, int _123, int _124, int _125,\r\n\t\t\tint _126, int _127, int _128, int _129, int _130,\r\n\t\t\tint _131, int _132, int _133, int _134, int _135,\r\n\t\t\tint _136, int _137, int _138, int _139, int _140,\r\n\t\t\tint _141, int _142, int _143, int _144, int _145,\r\n\t\t\tint _146, int _147, int _148, int _149, int _150,\r\n\r\n\t\t\tint _151, int _152, int _153, int _154, int _155,\r\n\t\t\tint _156, int _157, int _158, int _159, int _160,\r\n\t\t\tint _161, int _162, int _163, int _164, int _165,\r\n\t\t\tint _166, int _167, int _168, int _169, int _170,\r\n\t\t\tint _171, int _172, int _173, int _174, int _175,\r\n\t\t\tint _176, int _177, int _178, int _179, int _180,\r\n\t\t\tint _181, int _182, int _183, int _184, int _185,\r\n\t\t\tint _186, int _187, int _188, int _189, int _190,\r\n\t\t\tint _191, int _192, int _193, int _194, int _195,\r\n\t\t\tint _196, int _197, int _198, int _199, int _200,\r\n\r\n\t\t\tint _201, int _202, int _203, int _204, int _205,\r\n\t\t\tint _206, int _207, int _208, int _209, int _210,\r\n\t\t\tint _211, int _212, int _213, int _214, int _215,\r\n\t\t\tint _216, int _217, int _218, int _219, int _220,\r\n\t\t\tint _221, int _222, int _223, int _224, int _225,\r\n\t\t\tint _226, int _227, int _228, int _229, int _230,\r\n\t\t\tint _231, int _232, int _233, int _234, int _235,\r\n\t\t\tint _236, int _237, int _238, int _239, int _240,\r\n\t\t\tint _241, int _242, int _243, int _244, int _245,\r\n\t\t\tint _246, int _247, int _248, int _249, int _250,\r\n\r\n\t\t\tint _251, int _252, int _253, int _254) { }\r\n}\r\n```\r\n\r\nThis is an argument file `args`:\r\n```sh\r\n-XX:+UnlockExperimentalVMOptions\r\n-XX:+UseEpsilonGC\r\n-XX:+AlwaysPreTouch\r\n-Xms136m\r\n-Xmx136m\r\n-Xlog:heap*=info,gc=info\r\n```\r\n\r\nSave the files in, for example, a `/tmp` directory, and start a Java 11 version Docker container:\r\n\r\n```sh\r\ndocker run --entrypoint /bin/sh --interactive \\\r\n  --rm --tty --volume=&quot;/tmp:/tmp&quot; \\\r\n  --workdir=&quot;/tmp&quot; eclipse-temurin:11-jdk-alpine    # It may pull in ~200 MiB.\r\n\r\njavac -Xdiags:verbose -Xlint ArityLimits.java\r\njava @args ArityLimits handle $(( 1 | 2 | 4 | 8 ))  # 91/136 MiB of heap used\r\njava @args ArityLimits handle 8                     # 36/136 (see title)\r\njava @args ArityLimits core $(( 1 | 2 | 4 | 8 ))    #  1/136\r\njava @args ArityLimits core 8                       #  1/136\r\nrm *.class\r\nexit\r\n```\r\n\r\nNow, start a Java 17 version Docker container:\r\n\r\n```sh\r\ndocker run --entrypoint /bin/sh --interactive \\\r\n  --rm --tty --volume=&quot;/tmp:/tmp&quot; \\\r\n  --workdir=&quot;/tmp&quot; eclipse-temurin:17-jdk-alpine    # It may pull in ~200 MiB.\r\n\r\njavac -Xdiags:verbose -Xlint ArityLimits.java\r\njava @args ArityLimits handle $(( 1 | 2 | 4 | 8 ))  #  5/136 MiB of heap used\r\njava @args ArityLimits handle 8                     #  3/136 (see title)\r\njava @args ArityLimits core $(( 1 | 2 | 4 | 8 ))    #  1/136\r\njava @args ArityLimits core 8                       #  1/136\r\nrm *.class\r\nexit\r\n```\r\n","title":"What?! 3 vs 36 MiB for a no-op 254-ary method call via a method handle","body":"<p>It could be shown (see <em>below</em> a rewritten <a href=\"https://bitbucket.org/zzzyxwvut/ate/src/657638671a39e58aa4c7c134be462d6a51f1b24e/ate/src/org.zzzyxwvut.ate/tests/tester/ate/ArgumentableCardinalityTests.java\" rel=\"nofollow noreferrer\">test case</a>) that method handles for 254-ary methods claim less memory in Java 17 than in Java 11, when compiled and run by its tools.</p>\n<p>Since no method-handle- or reflection-related features are advertised in release summaries for Java versions from <a href=\"https://openjdk.org/projects/jdk/11/\" rel=\"nofollow noreferrer\">11</a> to <a href=\"https://openjdk.org/projects/jdk/17/\" rel=\"nofollow noreferrer\">17</a>, I'm curious: what changes have contributed to less memory consumption?</p>\n<hr />\n<p>This is a rewritten test case <code>ArityLimits.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles.Lookup;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Modifier;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Consumer;\nimport java.util.function.Supplier;\n\nclass ArityLimits\n{\n    public static void main(String[] args) throws Throwable\n    {\n        // Pick an implementation with the 1st argument, e.g. core.\n        final Invocable invocable = (args.length &gt; 0\n                    &amp;&amp; args[0].equalsIgnoreCase(&quot;core&quot;))\n            ? new CoreInvoker(ArityLimits::new)\n            : new HandleInvoker(ArityLimits::new,\n                MethodHandles.privateLookupIn(\n                        ArityLimits.class,\n                        MethodHandles.lookup()));\n\n        // Pick which methods to call with the 2nd argument, e.g.\n        // $(( 1|2|4|8 )).\n        final int agenda = (args.length &gt; 1)\n            ? 0xf &amp; Integer.parseInt(args[1])\n            : (1 | 2 | 4 | 8);\n        final Map&lt;String, List&lt;?&gt;&gt; arguments = new HashMap&lt;&gt;(8);\n\n        if ((agenda &amp; 1) != 0)\n            arguments.put(&quot;passCrunchLongsFix128&quot;,\n                Collections.nCopies(128 - 2 /* (handle, this) */, 0L));\n\n        if ((agenda &amp; 2) != 0)\n            arguments.put(&quot;passClassCrunchLongsFix128&quot;,\n                Collections.nCopies(128 - 1 /* (handle) */, 0L));\n\n        if ((agenda &amp; 4) != 0)\n            arguments.put(&quot;passCrunchIntsFix255&quot;,\n                Collections.nCopies(255 - 2 /* (handle, this) */, 0));\n\n        if ((agenda &amp; 8) != 0)\n            arguments.put(&quot;passClassCrunchIntsFix255&quot;,\n                Collections.nCopies(255 - 1 /* (handle) */, 0));\n\n        final Consumer&lt;Method&gt; announcer = (&quot;Linux&quot;.equalsIgnoreCase(\n                    System.getProperty(&quot;os.name&quot;, &quot;&quot;)))\n            ? method -&gt; System.err.format(&quot;\\033[7m%s\\033[0m%n&quot;,\n                            method.getName())\n            : method -&gt; System.err.println(method.getName());\n\n        for (Method method : ArityLimits.class.getDeclaredMethods()) {\n            final List&lt;?&gt; methodArgs = arguments.get(\n                            method.getName());\n\n            if (methodArgs == null)\n                continue;\n\n            invocable.invoke(method, methodArgs);\n            announcer.accept(method);\n        }\n    }\n\n    private interface Invocable\n    {\n        void invoke(Method method, List&lt;?&gt; args) throws Throwable;\n\n        static boolean warnTooManyArgs(Method method, List&lt;?&gt; args)\n        {\n            if (method.isVarArgs() || args.size() &lt; 256)\n                return false;\n\n            System.err.println(method.getName()\n                    .concat(&quot;: too many arguments&quot;));\n            return true;\n        }\n    }\n\n    private static final class CoreInvoker implements Invocable\n    {\n        private final Supplier&lt;?&gt; instanceer;\n\n        CoreInvoker(Supplier&lt;?&gt; instanceer)\n        {\n            this.instanceer = instanceer;\n        }\n\n        public void invoke(Method method, List&lt;?&gt; args)\n                    throws ReflectiveOperationException\n        {\n            if (Invocable.warnTooManyArgs(method, args))\n                return;\n\n            method.invoke((Modifier.isStatic(method.getModifiers()))\n                    ? null\n                    : instanceer.get(),\n                args.toArray());\n        }\n    }\n\n    private static final class HandleInvoker implements Invocable\n    {\n        private final Supplier&lt;?&gt; instanceer;\n        private final Lookup lookup;\n\n        HandleInvoker(Supplier&lt;?&gt; instanceer, Lookup lookup)\n        {\n            this.instanceer = instanceer;\n            this.lookup = lookup;\n        }\n\n        public void invoke(Method method, List&lt;?&gt; args) throws Throwable\n        {\n            // Here a handle shall check its parameter constraints.\n            final MethodHandle mh1 = lookup.unreflect(method);\n\n            if (Invocable.warnTooManyArgs(method, args))\n                return;\n\n            final MethodHandle mh2 = (Modifier.isStatic(\n                            method.getModifiers()))\n                ? mh1\n                : mh1.bindTo(instanceer.get());\n            mh2.invokeWithArguments(args);\n        }\n    }\n\n    void passCrunchLongsFix128(/* MethodHandle mh, ArityLimits al, */\n            long _001, long _002, long _003, long _004, long _005,\n            long _006, long _007, long _008, long _009, long _010,\n            long _011, long _012, long _013, long _014, long _015,\n            long _016, long _017, long _018, long _019, long _020,\n            long _021, long _022, long _023, long _024, long _025,\n            long _026, long _027, long _028, long _029, long _030,\n            long _031, long _032, long _033, long _034, long _035,\n            long _036, long _037, long _038, long _039, long _040,\n            long _041, long _042, long _043, long _044, long _045,\n            long _046, long _047, long _048, long _049, long _050,\n\n            long _051, long _052, long _053, long _054, long _055,\n            long _056, long _057, long _058, long _059, long _060,\n            long _061, long _062, long _063, long _064, long _065,\n            long _066, long _067, long _068, long _069, long _070,\n            long _071, long _072, long _073, long _074, long _075,\n            long _076, long _077, long _078, long _079, long _080,\n            long _081, long _082, long _083, long _084, long _085,\n            long _086, long _087, long _088, long _089, long _090,\n            long _091, long _092, long _093, long _094, long _095,\n            long _096, long _097, long _098, long _099, long _100,\n\n            long _101, long _102, long _103, long _104, long _105,\n            long _106, long _107, long _108, long _109, long _110,\n            long _111, long _112, long _113, long _114, long _115,\n            long _116, long _117, long _118, long _119, long _120,\n            long _121, long _122, long _123, long _124, long _125,\n            long _126) { }\n\n    static void passClassCrunchLongsFix128(/* MethodHandle mh, */\n            long _001, long _002, long _003, long _004, long _005,\n            long _006, long _007, long _008, long _009, long _010,\n            long _011, long _012, long _013, long _014, long _015,\n            long _016, long _017, long _018, long _019, long _020,\n            long _021, long _022, long _023, long _024, long _025,\n            long _026, long _027, long _028, long _029, long _030,\n            long _031, long _032, long _033, long _034, long _035,\n            long _036, long _037, long _038, long _039, long _040,\n            long _041, long _042, long _043, long _044, long _045,\n            long _046, long _047, long _048, long _049, long _050,\n\n            long _051, long _052, long _053, long _054, long _055,\n            long _056, long _057, long _058, long _059, long _060,\n            long _061, long _062, long _063, long _064, long _065,\n            long _066, long _067, long _068, long _069, long _070,\n            long _071, long _072, long _073, long _074, long _075,\n            long _076, long _077, long _078, long _079, long _080,\n            long _081, long _082, long _083, long _084, long _085,\n            long _086, long _087, long _088, long _089, long _090,\n            long _091, long _092, long _093, long _094, long _095,\n            long _096, long _097, long _098, long _099, long _100,\n\n            long _101, long _102, long _103, long _104, long _105,\n            long _106, long _107, long _108, long _109, long _110,\n            long _111, long _112, long _113, long _114, long _115,\n            long _116, long _117, long _118, long _119, long _120,\n            long _121, long _122, long _123, long _124, long _125,\n            long _126, long _127) { }\n\n    void passCrunchIntsFix255(/* MethodHandle mh, ArityLimits al, */\n            int _001, int _002, int _003, int _004, int _005,\n            int _006, int _007, int _008, int _009, int _010,\n            int _011, int _012, int _013, int _014, int _015,\n            int _016, int _017, int _018, int _019, int _020,\n            int _021, int _022, int _023, int _024, int _025,\n            int _026, int _027, int _028, int _029, int _030,\n            int _031, int _032, int _033, int _034, int _035,\n            int _036, int _037, int _038, int _039, int _040,\n            int _041, int _042, int _043, int _044, int _045,\n            int _046, int _047, int _048, int _049, int _050,\n\n            int _051, int _052, int _053, int _054, int _055,\n            int _056, int _057, int _058, int _059, int _060,\n            int _061, int _062, int _063, int _064, int _065,\n            int _066, int _067, int _068, int _069, int _070,\n            int _071, int _072, int _073, int _074, int _075,\n            int _076, int _077, int _078, int _079, int _080,\n            int _081, int _082, int _083, int _084, int _085,\n            int _086, int _087, int _088, int _089, int _090,\n            int _091, int _092, int _093, int _094, int _095,\n            int _096, int _097, int _098, int _099, int _100,\n\n            int _101, int _102, int _103, int _104, int _105,\n            int _106, int _107, int _108, int _109, int _110,\n            int _111, int _112, int _113, int _114, int _115,\n            int _116, int _117, int _118, int _119, int _120,\n            int _121, int _122, int _123, int _124, int _125,\n            int _126, int _127, int _128, int _129, int _130,\n            int _131, int _132, int _133, int _134, int _135,\n            int _136, int _137, int _138, int _139, int _140,\n            int _141, int _142, int _143, int _144, int _145,\n            int _146, int _147, int _148, int _149, int _150,\n\n            int _151, int _152, int _153, int _154, int _155,\n            int _156, int _157, int _158, int _159, int _160,\n            int _161, int _162, int _163, int _164, int _165,\n            int _166, int _167, int _168, int _169, int _170,\n            int _171, int _172, int _173, int _174, int _175,\n            int _176, int _177, int _178, int _179, int _180,\n            int _181, int _182, int _183, int _184, int _185,\n            int _186, int _187, int _188, int _189, int _190,\n            int _191, int _192, int _193, int _194, int _195,\n            int _196, int _197, int _198, int _199, int _200,\n\n            int _201, int _202, int _203, int _204, int _205,\n            int _206, int _207, int _208, int _209, int _210,\n            int _211, int _212, int _213, int _214, int _215,\n            int _216, int _217, int _218, int _219, int _220,\n            int _221, int _222, int _223, int _224, int _225,\n            int _226, int _227, int _228, int _229, int _230,\n            int _231, int _232, int _233, int _234, int _235,\n            int _236, int _237, int _238, int _239, int _240,\n            int _241, int _242, int _243, int _244, int _245,\n            int _246, int _247, int _248, int _249, int _250,\n\n            int _251, int _252, int _253) { }\n\n    static void passClassCrunchIntsFix255(/* MethodHandle mh, */\n            int _001, int _002, int _003, int _004, int _005,\n            int _006, int _007, int _008, int _009, int _010,\n            int _011, int _012, int _013, int _014, int _015,\n            int _016, int _017, int _018, int _019, int _020,\n            int _021, int _022, int _023, int _024, int _025,\n            int _026, int _027, int _028, int _029, int _030,\n            int _031, int _032, int _033, int _034, int _035,\n            int _036, int _037, int _038, int _039, int _040,\n            int _041, int _042, int _043, int _044, int _045,\n            int _046, int _047, int _048, int _049, int _050,\n\n            int _051, int _052, int _053, int _054, int _055,\n            int _056, int _057, int _058, int _059, int _060,\n            int _061, int _062, int _063, int _064, int _065,\n            int _066, int _067, int _068, int _069, int _070,\n            int _071, int _072, int _073, int _074, int _075,\n            int _076, int _077, int _078, int _079, int _080,\n            int _081, int _082, int _083, int _084, int _085,\n            int _086, int _087, int _088, int _089, int _090,\n            int _091, int _092, int _093, int _094, int _095,\n            int _096, int _097, int _098, int _099, int _100,\n\n            int _101, int _102, int _103, int _104, int _105,\n            int _106, int _107, int _108, int _109, int _110,\n            int _111, int _112, int _113, int _114, int _115,\n            int _116, int _117, int _118, int _119, int _120,\n            int _121, int _122, int _123, int _124, int _125,\n            int _126, int _127, int _128, int _129, int _130,\n            int _131, int _132, int _133, int _134, int _135,\n            int _136, int _137, int _138, int _139, int _140,\n            int _141, int _142, int _143, int _144, int _145,\n            int _146, int _147, int _148, int _149, int _150,\n\n            int _151, int _152, int _153, int _154, int _155,\n            int _156, int _157, int _158, int _159, int _160,\n            int _161, int _162, int _163, int _164, int _165,\n            int _166, int _167, int _168, int _169, int _170,\n            int _171, int _172, int _173, int _174, int _175,\n            int _176, int _177, int _178, int _179, int _180,\n            int _181, int _182, int _183, int _184, int _185,\n            int _186, int _187, int _188, int _189, int _190,\n            int _191, int _192, int _193, int _194, int _195,\n            int _196, int _197, int _198, int _199, int _200,\n\n            int _201, int _202, int _203, int _204, int _205,\n            int _206, int _207, int _208, int _209, int _210,\n            int _211, int _212, int _213, int _214, int _215,\n            int _216, int _217, int _218, int _219, int _220,\n            int _221, int _222, int _223, int _224, int _225,\n            int _226, int _227, int _228, int _229, int _230,\n            int _231, int _232, int _233, int _234, int _235,\n            int _236, int _237, int _238, int _239, int _240,\n            int _241, int _242, int _243, int _244, int _245,\n            int _246, int _247, int _248, int _249, int _250,\n\n            int _251, int _252, int _253, int _254) { }\n}\n</code></pre>\n<p>This is an argument file <code>args</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>-XX:+UnlockExperimentalVMOptions\n-XX:+UseEpsilonGC\n-XX:+AlwaysPreTouch\n-Xms136m\n-Xmx136m\n-Xlog:heap*=info,gc=info\n</code></pre>\n<p>Save the files in, for example, a <code>/tmp</code> directory, and start a Java 11 version Docker container:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run --entrypoint /bin/sh --interactive \\\n  --rm --tty --volume=&quot;/tmp:/tmp&quot; \\\n  --workdir=&quot;/tmp&quot; eclipse-temurin:11-jdk-alpine    # It may pull in ~200 MiB.\n\njavac -Xdiags:verbose -Xlint ArityLimits.java\njava @args ArityLimits handle $(( 1 | 2 | 4 | 8 ))  # 91/136 MiB of heap used\njava @args ArityLimits handle 8                     # 36/136 (see title)\njava @args ArityLimits core $(( 1 | 2 | 4 | 8 ))    #  1/136\njava @args ArityLimits core 8                       #  1/136\nrm *.class\nexit\n</code></pre>\n<p>Now, start a Java 17 version Docker container:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run --entrypoint /bin/sh --interactive \\\n  --rm --tty --volume=&quot;/tmp:/tmp&quot; \\\n  --workdir=&quot;/tmp&quot; eclipse-temurin:17-jdk-alpine    # It may pull in ~200 MiB.\n\njavac -Xdiags:verbose -Xlint ArityLimits.java\njava @args ArityLimits handle $(( 1 | 2 | 4 | 8 ))  #  5/136 MiB of heap used\njava @args ArityLimits handle 8                     #  3/136 (see title)\njava @args ArityLimits core $(( 1 | 2 | 4 | 8 ))    #  1/136\njava @args ArityLimits core 8                       #  1/136\nrm *.class\nexit\n</code></pre>\n"},{"tags":["java","android","kotlin","android-fragments","fragment"],"comments":[{"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"score":0,"creation_date":1677385951,"post_id":75410824,"comment_id":133326239,"body_markdown":"Fixed this issue by handling the removal of fragment from backstack. Read this answer for more : https://stackoverflow.com/questions/55932672/navigation-popupto-and-popuptoinclusive-arent-clearing-the-backstack","body":"Fixed this issue by handling the removal of fragment from backstack. Read this answer for more : <a href=\"https://stackoverflow.com/questions/55932672/navigation-popupto-and-popuptoinclusive-arent-clearing-the-backstack\" title=\"navigation popupto and popuptoinclusive arent clearing the backstack\">stackoverflow.com/questions/55932672/&hellip;</a>"}],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676030315,"creation_date":1676030315,"question_id":75410824,"body_markdown":"I am trying to move from one bottom sheet dialog fragment to another bottom sheet dialog fragment. While doing so, on my second bottom sheet dialog fragment I could see the first bottom sheet with (less focus).\r\n\r\nIs there a way to completely hide the first bottom sheet dialog upon an event such as onClick.\r\n\r\nFragments are implemented using Android Navigation component","title":"Moving from one bottom sheet dialog fragment to other shows the previous one in background","body":"<p>I am trying to move from one bottom sheet dialog fragment to another bottom sheet dialog fragment. While doing so, on my second bottom sheet dialog fragment I could see the first bottom sheet with (less focus).</p>\n<p>Is there a way to completely hide the first bottom sheet dialog upon an event such as onClick.</p>\n<p>Fragments are implemented using Android Navigation component</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","mapstruct","jpa-buddy"],"comments":[{"owner":{"account_id":1421571,"reputation":668,"user_id":1346076,"accept_rate":67,"display_name":"Vicki"},"score":0,"creation_date":1676026914,"post_id":75410018,"comment_id":133058879,"body_markdown":"It appears that this questions is answered [here](https://stackoverflow.com/q/47676369/1346076)","body":"It appears that this questions is answered <a href=\"https://stackoverflow.com/q/47676369/1346076\">here</a>"},{"owner":{"account_id":3775152,"reputation":91,"user_id":3136181,"display_name":"Andrey Belyaev"},"score":2,"creation_date":1676273364,"post_id":75410018,"comment_id":133096736,"body_markdown":"It looks like you haven&#39;t specified Lombok annotation processor in your build file. Please refer to the [Lombok documentation](https://projectlombok.org/setup/) to install it. The [link](https://stackoverflow.com/a/47684351/3136181) from the previous comment will help you to configure everything properly.","body":"It looks like you haven&#39;t specified Lombok annotation processor in your build file. Please refer to the <a href=\"https://projectlombok.org/setup/\" rel=\"nofollow noreferrer\">Lombok documentation</a> to install it. The <a href=\"https://stackoverflow.com/a/47684351/3136181\">link</a> from the previous comment will help you to configure everything properly."},{"owner":{"account_id":1421571,"reputation":668,"user_id":1346076,"accept_rate":67,"display_name":"Vicki"},"score":0,"creation_date":1676377195,"post_id":75410018,"comment_id":133120987,"body_markdown":"Hi Andrey, this was indeed the case and the problem has now been resolved. Thanks for your comment","body":"Hi Andrey, this was indeed the case and the problem has now been resolved. Thanks for your comment"}],"answers":[{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676030123,"creation_date":1676030123,"answer_id":75410793,"question_id":75410018,"body_markdown":"please define you entity like this,\r\n    \r\n     @Entity\r\n     @Data\r\n     @AllArgsConstructor\r\n     @NoArgsConstructor\r\n     public class ActivityType {\r\n        @Id\r\n        @Column(name = &quot;ActivityTypeId&quot;, nullable = false)\r\n        private Integer id;\r\n     \r\n        @Column(name = &quot;ActivityName&quot;, nullable = false, length = 30)\r\n        private String activityName;\r\n     \r\n        @Column(name = &quot;ActivityDescription&quot;)\r\n        private String activityDescription;\r\n     \r\n     }\r\n\r\nthen define ActivityTypeDTO like this,\r\n\r\n    @Data\r\n    public class ActivityTypeDTO {\r\n\r\n       @JsonProperty(&quot;id&quot;)\r\n       private Integer id;\r\n\r\n       @JsonProperty(&quot;ActivityName&quot;)\r\n       private String ActivityName;\r\n\r\n       @JsonProperty(&quot;activityDescription&quot;)\r\n       private String activityDescription;\r\n\r\nbest practice to use MapStruct is like this,\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = {})\r\n    public interface ActivityMapper extends EntityMapper&lt;ActivityTypeDTO, ActivityType&gt; {\r\n\r\n       ActivityTypeDTO toDto(ActivityType activityType);\r\n       ActivityType toEntity(ActivityTypeDTO activityTypeDTO);\r\n    }\r\n\r\nand EntityMApper in Mapper should be like this,\r\n\r\n    public interface EntityMapper&lt;D, E&gt; {\r\n       E toEntity(D dto);\r\n       D toDto(E entity);\r\n    }\r\n\r\nNow I am sure you mapper work correctly.","title":"Mapstruct in Spring Boot Sets all fields to null","body":"<p>please define you entity like this,</p>\n<pre><code> @Entity\n @Data\n @AllArgsConstructor\n @NoArgsConstructor\n public class ActivityType {\n    @Id\n    @Column(name = &quot;ActivityTypeId&quot;, nullable = false)\n    private Integer id;\n \n    @Column(name = &quot;ActivityName&quot;, nullable = false, length = 30)\n    private String activityName;\n \n    @Column(name = &quot;ActivityDescription&quot;)\n    private String activityDescription;\n \n }\n</code></pre>\n<p>then define ActivityTypeDTO like this,</p>\n<pre><code>@Data\npublic class ActivityTypeDTO {\n\n   @JsonProperty(&quot;id&quot;)\n   private Integer id;\n\n   @JsonProperty(&quot;ActivityName&quot;)\n   private String ActivityName;\n\n   @JsonProperty(&quot;activityDescription&quot;)\n   private String activityDescription;\n</code></pre>\n<p>best practice to use MapStruct is like this,</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = {})\npublic interface ActivityMapper extends EntityMapper&lt;ActivityTypeDTO, ActivityType&gt; {\n\n   ActivityTypeDTO toDto(ActivityType activityType);\n   ActivityType toEntity(ActivityTypeDTO activityTypeDTO);\n}\n</code></pre>\n<p>and EntityMApper in Mapper should be like this,</p>\n<pre><code>public interface EntityMapper&lt;D, E&gt; {\n   E toEntity(D dto);\n   D toDto(E entity);\n}\n</code></pre>\n<p>Now I am sure you mapper work correctly.</p>\n"}],"owner":{"account_id":1421571,"reputation":668,"user_id":1346076,"accept_rate":67,"display_name":"Vicki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676030123,"creation_date":1676025925,"question_id":75410018,"body_markdown":"I have Spring Boot application (v3.0.2, Java 17), and in it, a simple entity ActivityType and corresponding ActivityDto. \r\n\r\n```\r\n //Entity (uses Lombok 1.18.24)...\r\n \r\n     @Getter\r\n     @Setter\r\n     @Entity\r\n     public class ActivityType {\r\n     \t@Id\r\n     \t@Column(name = &quot;ActivityTypeId&quot;, nullable = false)\r\n     \tprivate Integer id;\r\n     \r\n     \t@Column(name = &quot;ActivityName&quot;, nullable = false, length = 30)\r\n     \tprivate String activityName;\r\n     \r\n     \t@Column(name = &quot;ActivityDescription&quot;)\r\n     \tprivate String activityDescription;\r\n     \r\n     }\r\n \r\n //DTO...\r\n \r\n         public record ActivityTypeDto(\r\n            Integer id, \r\n            String activityName, \r\n            String activityDescription) implements Serializable {\r\n         }\r\n```\r\n\r\n\r\nI&#39;m using IntelliJ Idea (v2022.2.4) and JPA Buddy (v2022.5.4-222)  to generate the Mapper Interface (MapStruct v1.5.3.Final).  When I build the Mapper implementation, in the generated code, both the `toEntity` and  `toDto` methods are incorrect.\r\n\r\n```\r\n @Component public class ActivityTypeMapperImpl implements ActivityTypeMapper {\r\n \r\n     @Override\r\n     public ActivityType toEntity(ActivityTypeDto activityTypeDto) {\r\n         if ( activityTypeDto == null ) {\r\n             return null;\r\n         }\r\n \r\n         ActivityType activityType = new ActivityType();\r\n \r\n         return activityType;\r\n     }\r\n \r\n     @Override\r\n     public ActivityTypeDto toDto(ActivityType activityType) {\r\n         if ( activityType == null ) {\r\n             return null;\r\n         }\r\n \r\n     // What&#39;s this all about?? Why not activityType.id, etc??\r\n         Integer id = null;\r\n         String activityName = null;\r\n         String activityDescription = null;\r\n \r\n         ActivityTypeDto activityTypeDto = new ActivityTypeDto( id, activityName, activityDescription );\r\n \r\n         return activityTypeDto;\r\n     }\r\n \r\n     @Override\r\n     public ActivityType partialUpdate(ActivityTypeDto activityTypeDto, ActivityType activityType) {\r\n         if ( activityTypeDto == null ) {\r\n             return activityType;\r\n         }\r\n \r\n         return activityType;\r\n     } \r\n```\r\n\r\nI&#39;ve tried various alternatives, including using a class for the DTO instead of a record, but no success. Looks like I&#39;ve missed something, but not sure what.\r\n\r\n\r\n----------\r\n\r\nUpdate: \r\n\r\nI can fix this by not using Lombok for the Entity getters/setters, which leads me on to final question, is there a setting on the MapStruct plugin to take Lomboz into account?\r\n\r\n\r\n\r\n\r\n","title":"Mapstruct in Spring Boot Sets all fields to null","body":"<p>I have Spring Boot application (v3.0.2, Java 17), and in it, a simple entity ActivityType and corresponding ActivityDto.</p>\n<pre><code> //Entity (uses Lombok 1.18.24)...\n \n     @Getter\n     @Setter\n     @Entity\n     public class ActivityType {\n        @Id\n        @Column(name = &quot;ActivityTypeId&quot;, nullable = false)\n        private Integer id;\n     \n        @Column(name = &quot;ActivityName&quot;, nullable = false, length = 30)\n        private String activityName;\n     \n        @Column(name = &quot;ActivityDescription&quot;)\n        private String activityDescription;\n     \n     }\n \n //DTO...\n \n         public record ActivityTypeDto(\n            Integer id, \n            String activityName, \n            String activityDescription) implements Serializable {\n         }\n</code></pre>\n<p>I'm using IntelliJ Idea (v2022.2.4) and JPA Buddy (v2022.5.4-222)  to generate the Mapper Interface (MapStruct v1.5.3.Final).  When I build the Mapper implementation, in the generated code, both the <code>toEntity</code> and  <code>toDto</code> methods are incorrect.</p>\n<pre><code> @Component public class ActivityTypeMapperImpl implements ActivityTypeMapper {\n \n     @Override\n     public ActivityType toEntity(ActivityTypeDto activityTypeDto) {\n         if ( activityTypeDto == null ) {\n             return null;\n         }\n \n         ActivityType activityType = new ActivityType();\n \n         return activityType;\n     }\n \n     @Override\n     public ActivityTypeDto toDto(ActivityType activityType) {\n         if ( activityType == null ) {\n             return null;\n         }\n \n     // What's this all about?? Why not activityType.id, etc??\n         Integer id = null;\n         String activityName = null;\n         String activityDescription = null;\n \n         ActivityTypeDto activityTypeDto = new ActivityTypeDto( id, activityName, activityDescription );\n \n         return activityTypeDto;\n     }\n \n     @Override\n     public ActivityType partialUpdate(ActivityTypeDto activityTypeDto, ActivityType activityType) {\n         if ( activityTypeDto == null ) {\n             return activityType;\n         }\n \n         return activityType;\n     } \n</code></pre>\n<p>I've tried various alternatives, including using a class for the DTO instead of a record, but no success. Looks like I've missed something, but not sure what.</p>\n<hr />\n<p>Update:</p>\n<p>I can fix this by not using Lombok for the Entity getters/setters, which leads me on to final question, is there a setting on the MapStruct plugin to take Lomboz into account?</p>\n"},{"tags":["java","spring-boot","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675867246,"creation_date":1675867246,"answer_id":75387389,"question_id":75381609,"body_markdown":"It does call that `query=&quot;SELECT * FROM Accounts&quot;` on every polling cycle and pulls `100` rows and probably in your case those are only first `100` since there is no other criteria to filter out. \r\n\r\nIn general it is bad practice to do a common `SELECT` without any `WHERE`.\r\n\r\nSee there is an `update` atribute to perform against just pulled rows. Your `SELECT` must be adjusted with a `WHERE` to take only those rows which have not been updated before. \r\n\r\nSee more info in docs: https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-inbound-channel-adapter\r\n\r\n","title":"Does Spring Integration&#39;s JDBC inbound channel adapter poll new records added the table?","body":"<p>It does call that <code>query=&quot;SELECT * FROM Accounts&quot;</code> on every polling cycle and pulls <code>100</code> rows and probably in your case those are only first <code>100</code> since there is no other criteria to filter out.</p>\n<p>In general it is bad practice to do a common <code>SELECT</code> without any <code>WHERE</code>.</p>\n<p>See there is an <code>update</code> atribute to perform against just pulled rows. Your <code>SELECT</code> must be adjusted with a <code>WHERE</code> to take only those rows which have not been updated before.</p>\n<p>See more info in docs: <a href=\"https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-inbound-channel-adapter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-inbound-channel-adapter</a></p>\n"}],"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75387389,"answer_count":1,"score":0,"last_activity_date":1676029941,"creation_date":1675833447,"question_id":75381609,"body_markdown":"I have written jdbcinboud channel adapter as below. I am using update query. however it is not working. The query retrieves two rows, but update statement does not set the `accType` of these two rows to &#39;P&#39;. \r\nPlease advise \r\n\r\n    &lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\r\n              channel=&quot;channel&quot;\r\n              data-source=&quot;dataSource&quot;\r\n              query=&quot;SELECT id, acct_nam FROM Accounts where accType =&#39;N&#39;&quot;       \r\n              update=&quot;update Accounts set accType=&#39;P&#39; where ID in (:id)        \r\n              row-mapper=&quot;AccountRowMapper&quot;\r\n              max-rows-per-poll=&quot;100&quot;&gt;\r\n        &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\r\n    &lt;/int-jdbc:inbound-channel-adapter&gt;","title":"Does Spring Integration&#39;s JDBC inbound channel adapter poll new records added the table?","body":"<p>I have written jdbcinboud channel adapter as below. I am using update query. however it is not working. The query retrieves two rows, but update statement does not set the <code>accType</code> of these two rows to 'P'.\nPlease advise</p>\n<pre><code>&lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\n          channel=&quot;channel&quot;\n          data-source=&quot;dataSource&quot;\n          query=&quot;SELECT id, acct_nam FROM Accounts where accType ='N'&quot;       \n          update=&quot;update Accounts set accType='P' where ID in (:id)        \n          row-mapper=&quot;AccountRowMapper&quot;\n          max-rows-per-poll=&quot;100&quot;&gt;\n    &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\n&lt;/int-jdbc:inbound-channel-adapter&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"score":0,"creation_date":1676035300,"post_id":75410717,"comment_id":133061263,"body_markdown":"It&#39;s possible that your models are missing getter/setter ?","body":"It&#39;s possible that your models are missing getter/setter ?"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1676042008,"post_id":75410717,"comment_id":133063521,"body_markdown":"@viglu I am using lombok for getter and setter","body":"@viglu I am using lombok for getter and setter"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1676254564,"post_id":75410717,"comment_id":133094464,"body_markdown":"Pls suggest something on this issue","body":"Pls suggest something on this issue"}],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676029750,"creation_date":1676029750,"question_id":75410717,"body_markdown":"I am using springdoc-openapi-ui for my web application but when I hit http://localhost:8080/swagger-ui/index.html in the browser I am getting 406 error code.\r\n\r\n  Below is the dependency in pom.xml \r\n  ``` \r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.14&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n ```\r\nAnd Spring Security config is \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SpringSecurityConfig {\r\n\r\n  @Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n\t\thttp.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\r\n\t\thttp.headers().frameOptions().sameOrigin();\r\n\t\treturn http.build();\r\n  }\r\n  \r\n  @Bean\r\n  public WebSecurityCustomizer webSecurityCustomizer() {\r\n      return web -&gt; web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;);\r\n  }\r\n  \r\n```\r\nSpring boot version I am using 2.7.7\r\n\r\nBelow is network detail via inspect element in chrome for the swagger-ui.config ..\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bl1Vo.png","title":"springdoc-openapi-ui returning 406 error-not-acceptable","body":"<p>I am using springdoc-openapi-ui for my web application but when I hit http://localhost:8080/swagger-ui/index.html in the browser I am getting 406 error code.</p>\n<p>Below is the dependency in pom.xml</p>\n<pre><code>  &lt;dependency&gt;\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n          &lt;version&gt;1.6.14&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>And Spring Security config is</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig {\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\n        http.headers().frameOptions().sameOrigin();\n        return http.build();\n  }\n  \n  @Bean\n  public WebSecurityCustomizer webSecurityCustomizer() {\n      return web -&gt; web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;);\n  }\n  \n</code></pre>\n<p>Spring boot version I am using 2.7.7</p>\n<p>Below is network detail via inspect element in chrome for the swagger-ui.config ..\n<a href=\"https://i.stack.imgur.com/Bl1Vo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bl1Vo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","maven","jaxb"],"answers":[{"tags":[],"owner":{"account_id":3058944,"reputation":445,"user_id":2592045,"display_name":"Romano"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583866769,"creation_date":1583863974,"answer_id":60623609,"question_id":56635095,"body_markdown":"Can you check what is the version of your JDK used by Eclipse against the one you use in your command line?\r\nI got a similar problem using Zulu 11, with jaxb2 as well.\r\nSince this might be related to https://github.com/eclipse-ee4j/jaxb-ri/issues/1220 try to make you Eclipse JDK compliance to match the one you are using in your console.\r\n\r\nEDIT: Moving from Maven 3.6.0 to 3.6.3 fixed the problem on my end, hopefully it will also be the case for you.","title":"maven-jaxb2-plugin reports prefix is already bound, only in Eclipse","body":"<p>Can you check what is the version of your JDK used by Eclipse against the one you use in your command line?\nI got a similar problem using Zulu 11, with jaxb2 as well.\nSince this might be related to <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/1220\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/jaxb-ri/issues/1220</a> try to make you Eclipse JDK compliance to match the one you are using in your console.</p>\n\n<p>EDIT: Moving from Maven 3.6.0 to 3.6.3 fixed the problem on my end, hopefully it will also be the case for you.</p>\n"},{"tags":[],"owner":{"account_id":20649586,"reputation":1,"user_id":15160221,"display_name":"Yuri.Detochkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676029728,"creation_date":1676029728,"answer_id":75410714,"question_id":56635095,"body_markdown":"I had this issue too with Maven 3.5.2\r\nThe Maven version on server is not up to me to change.\r\n\r\nSo I changed plugin version to **0.15.1** in pom.xml and it worked:\r\n\r\n    \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.15.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;","title":"maven-jaxb2-plugin reports prefix is already bound, only in Eclipse","body":"<p>I had this issue too with Maven 3.5.2\nThe Maven version on server is not up to me to change.</p>\n<p>So I changed plugin version to <strong>0.15.1</strong> in pom.xml and it worked:</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.15.1&lt;/version&gt;\n            &lt;executions&gt;\n</code></pre>\n"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676029728,"creation_date":1560787622,"question_id":56635095,"body_markdown":"I&#39;m trying to debug a Maven-based Spring Boot project.  It makes SOAP calls, and it uses the maven-jaxb2-plugin artifact in group org.jvnet.jaxb2.maven2 to generate Java classes from WSDL files.\r\n\r\nWhen I build this project from the mvn command line, it builds fine.\r\n\r\nHowever, when I load it into Eclipse (2019-03), I see errors like this in the Problems view:\r\n\r\n    org.apache.maven.plugin.PluginExecutionException: Execution addrole of goal org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.13.3:generate failed: Prefix &#39;&#39; is already bound to &#39;&#39;\r\n\t\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:148)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:331)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$7(MavenImpl.java:1342)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1341)\r\n\t\tat org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:52)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:137)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:173)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1$1.call(MavenBuilder.java:116)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:106)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201)\r\n\t\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)\r\n\t\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\r\n\t\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\r\n\t\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\r\n\t\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\r\n\t\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\r\n\t\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n\tCaused by: java.lang.IllegalArgumentException: Prefix &#39;&#39; is already bound to &#39;&#39;\r\n\t\tat com.sun.xml.txw2.StartTag.addNamespaceDecl(StartTag.java:191)\r\n\t\tat com.sun.xml.txw2.ContainerElement._namespace(ContainerElement.java:333)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t\tat com.sun.xml.txw2.ContainerElement.invoke(ContainerElement.java:134)\r\n\t\tat com.sun.proxy.$Proxy60._namespace(Unknown Source)\r\n\t\tat com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:174)\r\n\t\tat com.sun.tools.xjc.model.Model.generateCode(Model.java:292)\r\n\t\tat org.jvnet.mjiip.v_2_2.XJC22Mojo.generateCode(XJC22Mojo.java:66)\r\n\t\tat org.jvnet.mjiip.v_2_2.XJC22Mojo.doExecute(XJC22Mojo.java:41)\r\n\t\tat org.jvnet.mjiip.v_2_2.XJC22Mojo.doExecute(XJC22Mojo.java:28)\r\n\t\tat org.jvnet.jaxb2.maven2.RawXJC2Mojo.doExecute(RawXJC2Mojo.java:473)\r\n\t\tat org.jvnet.jaxb2.maven2.RawXJC2Mojo.execute(RawXJC2Mojo.java:316)\r\n\t\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\t\t... 30 more\r\n\r\nThe plugin is referenced in the pom like this:\r\n\r\n    \t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.13.3&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;suggestHandle&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;schemaDirectory&gt;${project.basedir}/src/main/resources/schemas/mpssoap&lt;/schemaDirectory&gt;\r\n\t\t\t\t\t&lt;schemaIncludes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;*.wsdl&lt;/include&gt;\r\n\t\t\t\t\t&lt;/schemaIncludes&gt;\r\n\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\r\nThis is followed by a dozen or so more execution elements, pointing to different subdirectories of src/main/resources.\r\n\r\nI already installed the &quot;m2e connector for jaxb&quot; plugin, but that didn&#39;t appear to make any difference.\r\n\r\nWhat else could be going wrong here?\r\n\r\nI&#39;m using Eclipse 2019-03 and v0.13.3 of the maven-jaxb2-plugin artifact.","title":"maven-jaxb2-plugin reports prefix is already bound, only in Eclipse","body":"<p>I'm trying to debug a Maven-based Spring Boot project.  It makes SOAP calls, and it uses the maven-jaxb2-plugin artifact in group org.jvnet.jaxb2.maven2 to generate Java classes from WSDL files.</p>\n\n<p>When I build this project from the mvn command line, it builds fine.</p>\n\n<p>However, when I load it into Eclipse (2019-03), I see errors like this in the Problems view:</p>\n\n<pre><code>org.apache.maven.plugin.PluginExecutionException: Execution addrole of goal org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.13.3:generate failed: Prefix '' is already bound to ''\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:148)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:331)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$7(MavenImpl.java:1342)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1341)\n    at org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:52)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:137)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:173)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1$1.call(MavenBuilder.java:116)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:106)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201)\n    at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\n    at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\n    at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\n    at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\n    at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: java.lang.IllegalArgumentException: Prefix '' is already bound to ''\n    at com.sun.xml.txw2.StartTag.addNamespaceDecl(StartTag.java:191)\n    at com.sun.xml.txw2.ContainerElement._namespace(ContainerElement.java:333)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at com.sun.xml.txw2.ContainerElement.invoke(ContainerElement.java:134)\n    at com.sun.proxy.$Proxy60._namespace(Unknown Source)\n    at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:174)\n    at com.sun.tools.xjc.model.Model.generateCode(Model.java:292)\n    at org.jvnet.mjiip.v_2_2.XJC22Mojo.generateCode(XJC22Mojo.java:66)\n    at org.jvnet.mjiip.v_2_2.XJC22Mojo.doExecute(XJC22Mojo.java:41)\n    at org.jvnet.mjiip.v_2_2.XJC22Mojo.doExecute(XJC22Mojo.java:28)\n    at org.jvnet.jaxb2.maven2.RawXJC2Mojo.doExecute(RawXJC2Mojo.java:473)\n    at org.jvnet.jaxb2.maven2.RawXJC2Mojo.execute(RawXJC2Mojo.java:316)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    ... 30 more\n</code></pre>\n\n<p>The plugin is referenced in the pom like this:</p>\n\n<pre><code>    &lt;plugin&gt;\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.13.3&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;suggestHandle&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;schemaDirectory&gt;${project.basedir}/src/main/resources/schemas/mpssoap&lt;/schemaDirectory&gt;\n                &lt;schemaIncludes&gt;\n                    &lt;include&gt;*.wsdl&lt;/include&gt;\n                &lt;/schemaIncludes&gt;\n                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n</code></pre>\n\n<p>This is followed by a dozen or so more execution elements, pointing to different subdirectories of src/main/resources.</p>\n\n<p>I already installed the \"m2e connector for jaxb\" plugin, but that didn't appear to make any difference.</p>\n\n<p>What else could be going wrong here?</p>\n\n<p>I'm using Eclipse 2019-03 and v0.13.3 of the maven-jaxb2-plugin artifact.</p>\n"},{"tags":["java","batch-file","batch-processing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675966684,"post_id":75402777,"comment_id":133046610,"body_markdown":"Are you sure test.exe is returning the correct exit code?","body":"Are you sure test.exe is returning the correct exit code?"},{"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"score":0,"creation_date":1675969704,"post_id":75402777,"comment_id":133047566,"body_markdown":"yes, in batch file I have checked ```IF %ERRORLEVEL% NEQ 0 ECHO error code=%ERRORLEVEL% ``` and the exit code is correctly shown. For example error code= 13","body":"yes, in batch file I have checked <code>IF %ERRORLEVEL% NEQ 0 ECHO error code=%ERRORLEVEL% </code> and the exit code is correctly shown. For example error code= 13"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675971266,"post_id":75402777,"comment_id":133048013,"body_markdown":"I don&#39;t see `/W` btw. But I do see `/WAIT`, which is probably what you want","body":"I don&#39;t see <code>&#47;W</code> btw. But I do see <code>&#47;WAIT</code>, which is probably what you want"},{"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"score":0,"creation_date":1675971427,"post_id":75402777,"comment_id":133048056,"body_markdown":"I do use /wait. Sorry, I missed to mention it before. I have now included it in my question.","body":"I do use /wait. Sorry, I missed to mention it before. I have now included it in my question."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675971480,"post_id":75402777,"comment_id":133048071,"body_markdown":"Well `/WAIT` is still not showing in the batch file itself, And you don&#39;t need start elsewhere (or wait for that matter)","body":"Well <code>&#47;WAIT</code> is still not showing in the batch file itself, And you don&#39;t need start elsewhere (or wait for that matter)"},{"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"score":0,"creation_date":1675971777,"post_id":75402777,"comment_id":133048156,"body_markdown":"Alright, I tried ```START /WAIT test.exe``` but still the same behavior","body":"Alright, I tried <code>START &#47;WAIT test.exe</code> but still the same behavior"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675973963,"post_id":75402777,"comment_id":133048687,"body_markdown":"Ok. Can you tighten up the editing to show the accurate code?","body":"Ok. Can you tighten up the editing to show the accurate code?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1675975214,"post_id":75402777,"comment_id":133049029,"body_markdown":"Why not run the .exe directly from Java?","body":"Why not run the .exe directly from Java?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676029630,"creation_date":1676028974,"answer_id":75410589,"question_id":75402777,"body_markdown":"You are asking Java to launch `CMD.EXE` with the command `start /wait test.bat` which starts a second `CMD.EXE` process. There is `EXIT %ERRORLEVEL%` in the second `CMD.EXE` but there is no call in the scriptlet which tells the first `CMD.EXE` to use the status code as `EXIT %ERRORLEVEL%`. Thus you don&#39;t get the non-zero code of `test.bat` passed up to first `CMD.EXE`.\r\n\r\nThe fix is easy as you don&#39;t need to use `start /wait`, just change the command to avoid second `CMD.EXE` process and then the `EXIT %ERRORLEVEL%` of the batch script applies to the only `CMD.EXE`:\r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;cmd /c test.bat&quot;);\r\n\r\nNote that `Runtime` is not a good way to launch sub-processes, use `ProcessBuilder` instead with cmd passed as `String[]` not `String` so that you don&#39;t need to escape spaces in parameters. \r\n\r\nHeed the warnings of the `Process` javadoc: **failure\r\n to promptly write the input stream or read the output stream of\r\n the process may cause the process to block, or even deadlock**. This means you should consume STDERR + STDOUT on different threads, or redirect STDERR to STDOUT, or redirect them to files or inherit IO streams - otherwise you may encounter problems. Many examples shown in StackOverflow won&#39;t work correctly.\r\n\r\n\r\n\r\n\r\n\r\n    \r\n","title":"Process.waitFor() returns 0 eventhough batch file being called exits with an errorcode other than 0","body":"<p>You are asking Java to launch <code>CMD.EXE</code> with the command <code>start /wait test.bat</code> which starts a second <code>CMD.EXE</code> process. There is <code>EXIT %ERRORLEVEL%</code> in the second <code>CMD.EXE</code> but there is no call in the scriptlet which tells the first <code>CMD.EXE</code> to use the status code as <code>EXIT %ERRORLEVEL%</code>. Thus you don't get the non-zero code of <code>test.bat</code> passed up to first <code>CMD.EXE</code>.</p>\n<p>The fix is easy as you don't need to use <code>start /wait</code>, just change the command to avoid second <code>CMD.EXE</code> process and then the <code>EXIT %ERRORLEVEL%</code> of the batch script applies to the only <code>CMD.EXE</code>:</p>\n<pre><code>Process process = Runtime.getRuntime().exec(&quot;cmd /c test.bat&quot;);\n</code></pre>\n<p>Note that <code>Runtime</code> is not a good way to launch sub-processes, use <code>ProcessBuilder</code> instead with cmd passed as <code>String[]</code> not <code>String</code> so that you don't need to escape spaces in parameters.</p>\n<p>Heed the warnings of the <code>Process</code> javadoc: <strong>failure\nto promptly write the input stream or read the output stream of\nthe process may cause the process to block, or even deadlock</strong>. This means you should consume STDERR + STDOUT on different threads, or redirect STDERR to STDOUT, or redirect them to files or inherit IO streams - otherwise you may encounter problems. Many examples shown in StackOverflow won't work correctly.</p>\n"}],"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75410589,"answer_count":1,"score":0,"last_activity_date":1676029630,"creation_date":1675966349,"question_id":75402777,"body_markdown":"I&#39;m starting a process (.bat) in java using java.lang.Process\r\n```\r\nRuntime.getRuntime().exec(&quot;cmd /c start /wait test.bat&quot;);\r\nexitCode = process.waitFor();\r\n```\r\nThe .bat process inturn calls .exe file, this .exe returns an exit code !=0 on error cases.\r\n```\r\nSTART /W test.exe\r\nEXIT %ERRORLEVEL%\r\n```\r\n\r\nI want to get back the exit code returned from the batch file, but still I get back exitcode=0 always. I referred [this](https://stackoverflow.com/questions/56982666/java-process-waitfor-returns-with-inconsistent-value) but does not help.\r\n\r\nPlease let me know how can I get back the actual returned exit code from the process.","title":"Process.waitFor() returns 0 eventhough batch file being called exits with an errorcode other than 0","body":"<p>I'm starting a process (.bat) in java using java.lang.Process</p>\n<pre><code>Runtime.getRuntime().exec(&quot;cmd /c start /wait test.bat&quot;);\nexitCode = process.waitFor();\n</code></pre>\n<p>The .bat process inturn calls .exe file, this .exe returns an exit code !=0 on error cases.</p>\n<pre><code>START /W test.exe\nEXIT %ERRORLEVEL%\n</code></pre>\n<p>I want to get back the exit code returned from the batch file, but still I get back exitcode=0 always. I referred <a href=\"https://stackoverflow.com/questions/56982666/java-process-waitfor-returns-with-inconsistent-value\">this</a> but does not help.</p>\n<p>Please let me know how can I get back the actual returned exit code from the process.</p>\n"},{"tags":["java","android","android-studio","tor"],"comments":[{"owner":{"account_id":11715705,"reputation":1082,"user_id":8576293,"display_name":"salmanseifian"},"score":0,"creation_date":1515937688,"post_id":48250069,"comment_id":83482964,"body_markdown":"what do you mean by live url?","body":"what do you mean by live url?"},{"owner":{"account_id":7348759,"reputation":1741,"user_id":5595678,"accept_rate":57,"display_name":"Johnny"},"score":0,"creation_date":1515938202,"post_id":48250069,"comment_id":83483092,"body_markdown":"@salman it means if you can ping it, it is accessible or not","body":"@salman it means if you can ping it, it is accessible or not"},{"owner":{"account_id":11715705,"reputation":1082,"user_id":8576293,"display_name":"salmanseifian"},"score":0,"creation_date":1515938361,"post_id":48250069,"comment_id":83483138,"body_markdown":"you can use [this](https://stackoverflow.com/questions/2786720/android-service-ping-url)","body":"you can use <a href=\"https://stackoverflow.com/questions/2786720/android-service-ping-url\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":6054393,"reputation":651,"user_id":6083410,"accept_rate":50,"display_name":"VINET"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676029027,"creation_date":1676029027,"answer_id":75410597,"question_id":48250069,"body_markdown":"You need to have a server on which the tor will work and already give from it either the desired status or the page that you need. For the site tor-sites.link we did the proxying of the tor through the tor launched into the container and the express.js server. You can see how it works at [previewer][1]. Schematically, it looks like this:\r\n\r\n1. HTTP request\r\n2. express.js server\r\n3. request to tor\r\n4. returning a response to the client\r\n\r\nThis way you can get data from the onino site.\r\n\r\nDockerfile: \r\n\r\n    FROM node:slim\r\n    \r\n    ENV PUPPETEER_SKIP_CHROMIUM_DOWNLOAD true\r\n    \r\n    RUN apt-get update &amp;&amp; apt-get install gnupg wget -y &amp;&amp; \\\r\n      wget --quiet --output-document=- https://dl-ssl.google.com/linux/linux_signing_key.pub | gpg --dearmor &gt; /etc/apt/trusted.gpg.d/google-archive.gpg &amp;&amp; \\\r\n      sh -c &#39;echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google.list&#39; &amp;&amp; \\\r\n      apt-get update &amp;&amp; \\\r\n      apt-get install google-chrome-stable -y --no-install-recommends &amp;&amp; \\\r\n      apt-get install tor -y --no-install-recommends &amp;&amp; \\\r\n      apt-get install torsocks -y --no-install-recommends &amp;&amp; \\\r\n      apt-get install curl gnupg &amp;&amp; \\\r\n      rm -rf /var/lib/apt/lists/*\r\n    \r\n    \r\n    WORKDIR /usr/src/app\r\n    \r\n    RUN mkdir src\r\n    RUN mkdir tmp\r\n    COPY ./src ./src\r\n    COPY ./package.json \\\r\n         ./ecosystem.config.js \\\r\n         ./tsconfig.json \\\r\n         ./\r\n    \r\n    RUN npm i -g pm2 npm@9.2.0\r\n    RUN yarn &amp;&amp; yarn build\r\n    \r\n    RUN rm -rf src\r\n    \r\n    \r\n    #HEALTHCHECK --start-period=150s --interval=300s --retries=99999 --timeout=120s CMD curl --fail http://localhost:3000/healthcheck || kill 1\r\n    \r\n    \r\n    EXPOSE 3000\r\n    \r\n    CMD [&quot;pm2-runtime&quot;, &quot;start&quot;, &quot;ecosystem.config.js&quot;]\r\n\r\n\r\n  [1]: https://www.tor-sites.link/previewer","title":"Check if Onion URL is live","body":"<p>You need to have a server on which the tor will work and already give from it either the desired status or the page that you need. For the site tor-sites.link we did the proxying of the tor through the tor launched into the container and the express.js server. You can see how it works at <a href=\"https://www.tor-sites.link/previewer\" rel=\"nofollow noreferrer\">previewer</a>. Schematically, it looks like this:</p>\n<ol>\n<li>HTTP request</li>\n<li>express.js server</li>\n<li>request to tor</li>\n<li>returning a response to the client</li>\n</ol>\n<p>This way you can get data from the onino site.</p>\n<p>Dockerfile:</p>\n<pre><code>FROM node:slim\n\nENV PUPPETEER_SKIP_CHROMIUM_DOWNLOAD true\n\nRUN apt-get update &amp;&amp; apt-get install gnupg wget -y &amp;&amp; \\\n  wget --quiet --output-document=- https://dl-ssl.google.com/linux/linux_signing_key.pub | gpg --dearmor &gt; /etc/apt/trusted.gpg.d/google-archive.gpg &amp;&amp; \\\n  sh -c 'echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google.list' &amp;&amp; \\\n  apt-get update &amp;&amp; \\\n  apt-get install google-chrome-stable -y --no-install-recommends &amp;&amp; \\\n  apt-get install tor -y --no-install-recommends &amp;&amp; \\\n  apt-get install torsocks -y --no-install-recommends &amp;&amp; \\\n  apt-get install curl gnupg &amp;&amp; \\\n  rm -rf /var/lib/apt/lists/*\n\n\nWORKDIR /usr/src/app\n\nRUN mkdir src\nRUN mkdir tmp\nCOPY ./src ./src\nCOPY ./package.json \\\n     ./ecosystem.config.js \\\n     ./tsconfig.json \\\n     ./\n\nRUN npm i -g pm2 npm@9.2.0\nRUN yarn &amp;&amp; yarn build\n\nRUN rm -rf src\n\n\n#HEALTHCHECK --start-period=150s --interval=300s --retries=99999 --timeout=120s CMD curl --fail http://localhost:3000/healthcheck || kill 1\n\n\nEXPOSE 3000\n\nCMD [&quot;pm2-runtime&quot;, &quot;start&quot;, &quot;ecosystem.config.js&quot;]\n</code></pre>\n"}],"owner":{"account_id":7348759,"reputation":1741,"user_id":5595678,"accept_rate":57,"display_name":"Johnny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676029027,"creation_date":1515936516,"question_id":48250069,"body_markdown":"I am making an Android application in Java. There is an onion Url that I want to check is live or not. Basically, Onion Url is mapped to an IP-address, so is there any Java library or API that can assist in determining this check?\r\nAny help in this regard will be appreciated.\r\nThanks.","title":"Check if Onion URL is live","body":"<p>I am making an Android application in Java. There is an onion Url that I want to check is live or not. Basically, Onion Url is mapped to an IP-address, so is there any Java library or API that can assist in determining this check?\nAny help in this regard will be appreciated.\nThanks.</p>\n"},{"tags":["java","zip","zipinputstream","zipexception"],"answers":[{"tags":[],"owner":{"account_id":19997482,"reputation":61,"user_id":14657204,"display_name":"barduchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676028864,"creation_date":1676028864,"answer_id":75410569,"question_id":75410466,"body_markdown":"I don&#39;t know if it is the best way to solve it, but I managed to ignore the empty directory entry with Reflections:\r\n\r\n        try{\r\n        ZipEntry ze = null;\r\n        while((ze = zin.getNextEntry()) != null){\r\n            if(!ze.isDirectory()){\r\n                // DO SOMETHING WITH THE FILE\r\n            } else if(ze.getName().startsWith(&quot;.&quot;)){ //CHECK IF IS THE AFOREMENTIONED DIRECTORY\r\n                // MAKE THE ENTRY NULL, THUS THE ZIPINPUTSTREAM WILL NEED TO FECTH ANOTHER\r\n                Field entry = zin.getClass().getDeclaredField(&quot;entry&quot;);\r\n                entry.setAccessible(true);\r\n                entry.set(zin, null);\r\n                \r\n                // MARK THE END OF THE DIRECTORY ENTRY                                                \r\n                Field eof = zin.getClass().getDeclaredField(&quot;entryEOF&quot;);\r\n                eof.setAccessible(true);\r\n                eof.set(zin, true);\r\n            }\r\n        }   \r\n    } catch (ZipException ex){\r\n        // EXCEPTION IS NOT THROWN ANYMORE\r\n    } finally {\r\n        zin.close();\r\n    }","title":"How to solve ZipException: Invalid Block lengths when reading ZipInputStream with empty directory inside zip file (Java)","body":"<p>I don't know if it is the best way to solve it, but I managed to ignore the empty directory entry with Reflections:</p>\n<pre><code>    try{\n    ZipEntry ze = null;\n    while((ze = zin.getNextEntry()) != null){\n        if(!ze.isDirectory()){\n            // DO SOMETHING WITH THE FILE\n        } else if(ze.getName().startsWith(&quot;.&quot;)){ //CHECK IF IS THE AFOREMENTIONED DIRECTORY\n            // MAKE THE ENTRY NULL, THUS THE ZIPINPUTSTREAM WILL NEED TO FECTH ANOTHER\n            Field entry = zin.getClass().getDeclaredField(&quot;entry&quot;);\n            entry.setAccessible(true);\n            entry.set(zin, null);\n            \n            // MARK THE END OF THE DIRECTORY ENTRY                                                \n            Field eof = zin.getClass().getDeclaredField(&quot;entryEOF&quot;);\n            eof.setAccessible(true);\n            eof.set(zin, true);\n        }\n    }   \n} catch (ZipException ex){\n    // EXCEPTION IS NOT THROWN ANYMORE\n} finally {\n    zin.close();\n}\n</code></pre>\n"}],"owner":{"account_id":19997482,"reputation":61,"user_id":14657204,"display_name":"barduchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75410569,"answer_count":1,"score":0,"last_activity_date":1676028864,"creation_date":1676028256,"question_id":75410466,"body_markdown":"I am getting the error &quot;ZipException: Invalid Block lengths&quot; when reading a ZipInputStream from my java code. \r\n\r\nMy zip file oppens and is extracted normally with my Zip file utility from windows, so it is not corrupted.\r\n\r\nThe first entry inside the zip file is an empty directory named &quot;.&quot; (is a zip file generated from other system that I don&#39;t have access to). When the code tries to get the next entry after the the &quot;.&quot; directory, the exception is thrown.\r\n\r\nI am getting this file from a SQL Database and don&#39;t want to store it in my file system before reading. Here is my code:\r\n\r\n\r\n```\r\ntry{\r\n    ZipEntry ze = null;\r\n    while((ze = zin.getNextEntry()) != null){ //zin is the ZipInputStream\r\n        if(!ze.isDirectory()){\r\n            // DO SOMETHING WITH THE FILE\r\n        }\r\n    }   \r\n} catch (ZipException ex){\r\n    # EXCEPTION THROWN\r\n} finally {\r\n    zin.close();\r\n}\r\n```\r\n","title":"How to solve ZipException: Invalid Block lengths when reading ZipInputStream with empty directory inside zip file (Java)","body":"<p>I am getting the error &quot;ZipException: Invalid Block lengths&quot; when reading a ZipInputStream from my java code.</p>\n<p>My zip file oppens and is extracted normally with my Zip file utility from windows, so it is not corrupted.</p>\n<p>The first entry inside the zip file is an empty directory named &quot;.&quot; (is a zip file generated from other system that I don't have access to). When the code tries to get the next entry after the the &quot;.&quot; directory, the exception is thrown.</p>\n<p>I am getting this file from a SQL Database and don't want to store it in my file system before reading. Here is my code:</p>\n<pre><code>try{\n    ZipEntry ze = null;\n    while((ze = zin.getNextEntry()) != null){ //zin is the ZipInputStream\n        if(!ze.isDirectory()){\n            // DO SOMETHING WITH THE FILE\n        }\n    }   \n} catch (ZipException ex){\n    # EXCEPTION THROWN\n} finally {\n    zin.close();\n}\n</code></pre>\n"},{"tags":["java","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":17293101,"reputation":56,"user_id":12524311,"display_name":"Anas Ablan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576390770,"creation_date":1576390770,"answer_id":59341651,"question_id":59341135,"body_markdown":"Usually to be specific on what are you sending to the telegram bot, you would communicate with the bot using commands, (telegram commands starts with /, and each command have a specific command handler on the server side), unfortunately, so far there is no way to send extra params along with the command to the telegram bot, you can use one of the workarounds mentioned in the conversation below : \r\nhttps://stackoverflow.com/questions/36059572/how-do-i-have-my-bot-respond-with-arguments\r\n \r\nif you are not familiar with bot commands using java, please refer to the following examples: \r\nhttps://www.programcreek.com/java-api-examples/?api=org.telegram.telegrambots.bots.AbsSender\r\n\r\nI hope this helps. ","title":"Telegram Bot - Process user response based on last bot question","body":"<p>Usually to be specific on what are you sending to the telegram bot, you would communicate with the bot using commands, (telegram commands starts with /, and each command have a specific command handler on the server side), unfortunately, so far there is no way to send extra params along with the command to the telegram bot, you can use one of the workarounds mentioned in the conversation below : \n<a href=\"https://stackoverflow.com/questions/36059572/how-do-i-have-my-bot-respond-with-arguments\">How do I have my Bot respond with arguments?</a></p>\n\n<p>if you are not familiar with bot commands using java, please refer to the following examples: \n<a href=\"https://www.programcreek.com/java-api-examples/?api=org.telegram.telegrambots.bots.AbsSender\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/?api=org.telegram.telegrambots.bots.AbsSender</a></p>\n\n<p>I hope this helps. </p>\n"},{"tags":[],"owner":{"account_id":15277484,"reputation":49,"user_id":12062970,"display_name":"Aleksey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576515092,"creation_date":1576515092,"answer_id":59361003,"question_id":59341135,"body_markdown":"One of the most popular tasks when developing telegram bots.&lt;br&gt; There is a solution, you need to install the **shapoapps/multibot_driver package** (composer require shapoapps/multibot_driver) for Laravel. &lt;br&gt;This package has a session manager, an analogue of sessions for web page users. After each user message, you record user input into the session on server side. When each new request(message) received, you read the data from the session and build the logic. \r\n&lt;br&gt; Here&#39;s the documentation - https://github.com/shapoapps/multibot_driver","title":"Telegram Bot - Process user response based on last bot question","body":"<p>One of the most popular tasks when developing telegram bots.<br> There is a solution, you need to install the <strong>shapoapps/multibot_driver package</strong> (composer require shapoapps/multibot_driver) for Laravel. <br>This package has a session manager, an analogue of sessions for web page users. After each user message, you record user input into the session on server side. When each new request(message) received, you read the data from the session and build the logic. \n<br> Here's the documentation - <a href=\"https://github.com/shapoapps/multibot_driver\" rel=\"nofollow noreferrer\">https://github.com/shapoapps/multibot_driver</a></p>\n"},{"tags":[],"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1604333017,"creation_date":1604296310,"answer_id":64640429,"question_id":59341135,"body_markdown":"Since it was quite hard to find ideas that could lead me to a solution (in **Java**), I am going to share mine here for the sake of future Java googlers. I am using [telegrambots library][1] together with Spring Boot/Data.\r\n\r\nThe best way to implement this flow is saving states on your database. To do so, **use the messages unique chat ids to distinguish a chat from another**.\r\n\r\nHere is the relevant part of the Java implementation (the logic pretty much applies to any language):\r\n\r\nThe entity that holds Telegram chat information related to a system user.\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_bot&quot;)\r\n    public class UserBot implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;chat_id&quot;, unique = true, nullable = false, length = 255)\r\n        private String chatId;\r\n    \r\n        @Column(name = &quot;bot_verification_code&quot;, length = 6)\r\n        private String botVerificationCode;\r\n    \r\n        @Enumerated\r\n        @Column(name = &quot;last_bot_state&quot;, columnDefinition = &quot;SMALLINT DEFAULT NULL&quot;)\r\n        private BotState lastBotState;\r\n    \r\n        @Column(columnDefinition = &quot;TINYINT(1)&quot;)\r\n        private boolean verified;\r\n    \r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        private User user;\r\n    }\r\n\r\n\r\nThe enum that represents all possible bot responses (states).\r\n\r\n    public enum BotState {\r\n        // Respostas do bot que representam estados\r\n        AUTH_STEP_1(&quot;Muito bem. Qual &#233; o seu e-mail no sistema?&quot;), AUTH_STEP_2(&quot;Enviei um c&#243;digo para o seu e-mail. Por favor, digite-o aqui.&quot;),\r\n        NO_STATE(&quot;&quot;);\r\n    \r\n        private final String state;\r\n    \r\n        private BotState(String state) {\r\n            this.state = state;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.state;\r\n        }\r\n    }\r\n\r\n\r\nThe service that receives messages and respond accordingly.\r\n\r\n    @Service\r\n    public class TelegramBotService extends TelegramLongPollingBot {\r\n    \r\n        @Autowired\r\n        private CodeUtils codeUtils;\r\n    \r\n        @Autowired\r\n        private UserBotRepository userBotRepository;\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Value(&quot;${telegram.bot.username}&quot;)\r\n        private String botUsername;\r\n    \r\n        @Value(&quot;${telegram.bot.token}&quot;)\r\n        private String botToken;\r\n    \r\n        @PostConstruct\r\n        public void registerBot() {\r\n            TelegramBotsApi botsApi = new TelegramBotsApi();\r\n            try {\r\n                botsApi.registerBot(this);\r\n            } catch (TelegramApiException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onUpdateReceived(Update update) {\r\n            if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n                String receivedMessage = update.getMessage().getText();\r\n                SendMessage sendMessage = null;\r\n    \r\n                // TODO: futuramente, tratar casos onde um usu&#225;rio chama um comando sem ainda estar autenticado\r\n                switch (receivedMessage) {\r\n                    case &quot;/autenticar&quot;:\r\n                        sendMessage = handleAuthentication(update);\r\n                        break;\r\n                    default:\r\n                        // Quando nenhum comando atender, ser&#225; um texto a ser checado de acordo com o estado anterior\r\n                        sendMessage = checkState(update);\r\n                }\r\n    \r\n                try {\r\n                    execute(sendMessage);\r\n                } catch (TelegramApiException e) {\r\n                    codeUtils.log(e.getMessage(), this);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private SendMessage handleAuthentication(Update update) {\r\n            SendMessage sendMessage = new SendMessage()\r\n                    .setChatId(update.getMessage().getChatId())\r\n                    .setText(BotState.AUTH_STEP_1.toString());\r\n    \r\n            UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\r\n    \r\n            if (userBot == null) {\r\n                userBot = new UserBot();\r\n                userBot.setChatId(update.getMessage().getChatId().toString());\r\n                userBot.setLastBotState(BotState.AUTH_STEP_1);\r\n            } else if (userBot.isVerified()) {\r\n                // Um texto simples enviado no sendMessage indica o fim de um fluxo\r\n                sendMessage.setText(&quot;Este aparelho j&#225; est&#225; autenticado no sistema.&quot;);\r\n                userBot.setLastBotState(null);\r\n            }\r\n    \r\n            userBotRepository.save(userBot);\r\n            return sendMessage;\r\n        }\r\n    \r\n        // Checa o estado anterior do bot em rela&#231;&#227;o ao chatId recebido\r\n        private SendMessage checkState(Update update) {\r\n            UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\r\n            SendMessage sendMessage = null;\r\n    \r\n            if (userBot == null || userBot.getLastBotState() == null)\r\n                return sendDefaultMessage(update);\r\n    \r\n            switch (Optional.ofNullable(userBot.getLastBotState()).orElse(BotState.NO_STATE)) {\r\n                case AUTH_STEP_1:\r\n                    sendMessage = sendCode(update);\r\n                    break;\r\n                case AUTH_STEP_2:\r\n                    sendMessage = validateCode(update);\r\n                    break;\r\n                default:\r\n                    sendMessage = sendDefaultMessage(update);\r\n            }\r\n    \r\n            return sendMessage;\r\n        }\r\n    \r\n        // Grava o c&#243;digo no banco e envia para o e-mail do usu&#225;rio\r\n        private SendMessage sendCode(Update update) {\r\n            User user = userRepository.findByEmail(update.getMessage().getText().toLowerCase());\r\n            SendMessage sendMessage = new SendMessage(update.getMessage().getChatId(), &quot;&quot;);\r\n    \r\n            if (user == null)\r\n                sendMessage.setText(&quot;N&#227;o encontrei nenhum usu&#225;rio no sistema com este e-mail :(&quot;);\r\n            else {\r\n                UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\r\n    \r\n                String verificationCode = Integer.toString(new Random().nextInt(899999) + 100000);\r\n                String text = &quot;Este &#233; um e-mail autom&#225;tico de verifica&#231;&#227;o de identidade. Informe este c&#243;digo para o bot do Telegram: &quot; + verificationCode;\r\n                codeUtils.sendEmail(new String[]{user.getEmail()}, &quot;CCR Laudos - C&#243;digo de Verifica&#231;&#227;o&quot;, text);\r\n    \r\n                // Associa a conversa&#231;&#227;o ao usu&#225;rio, mas a validade depende da flag verified\r\n                userBot.setUser(user);\r\n                userBot.setBotVerificationCode(verificationCode);\r\n                userBot.setLastBotState(BotState.AUTH_STEP_2);\r\n                userBotRepository.save(userBot);\r\n    \r\n                sendMessage.setText(BotState.AUTH_STEP_2.toString());\r\n            }\r\n    \r\n            return sendMessage;\r\n        }\r\n    \r\n        // Checa se o c&#243;digo informado foi o mesmo passado por e-mail para o usu&#225;rio a fim de autentic&#225;-lo\r\n        private SendMessage validateCode(Update update) {\r\n            UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\r\n            SendMessage sendMessage = new SendMessage(update.getMessage().getChatId(), &quot;&quot;);\r\n    \r\n            if (update.getMessage().getText().equals(userBot.getBotVerificationCode())) {\r\n                userBot.setVerified(true);\r\n                sendMessage.setText(&quot;O aparelho foi autenticado com sucesso. Voc&#234; passar&#225; a receber notifica&#231;&#245;es do sistema.&quot;);\r\n            } else {\r\n                userBot.setUser(null);\r\n                sendMessage.setText(&quot;C&#243;digo inv&#225;lido.&quot;);\r\n            }\r\n    \r\n            userBotRepository.save(userBot);\r\n            return sendMessage;\r\n        }\r\n    \r\n        private SendMessage sendDefaultMessage(Update update) {\r\n            String markdownMessage = &quot;N&#227;o entendi \\ud83e\\udd14 \\n&quot;\r\n                    + &quot;Que tal tentar um comando digitando */* ?&quot;;\r\n            return new SendMessage(update.getMessage().getChatId(), markdownMessage).setParseMode(ParseMode.MARKDOWN);\r\n        }\r\n    \r\n        @Override\r\n        public String getBotUsername() {\r\n            return this.botUsername;\r\n        }\r\n    \r\n        @Override\r\n        public String getBotToken() {\r\n            return this.botToken;\r\n        }\r\n    }\r\n\r\n\r\nThe implemented flow is:\r\n\r\n1. User sends /authenticate.\r\n\r\n2. System knows nothing about the device, so store the chat id and the last state. **The last state will be the response to the user.** System asks for the user&#39;s e-mail.\r\n\r\n3. User sends his e-mail.\r\n\r\n4. The text is not recognized as a command, so system checks if there is a last state relative to this chat id. If a previous state exists, use the incoming text as a parameter to this state&#39;s method. System sends a code to the user&#39;s e-mail and asks for it.\r\n\r\n5. User sends the code.\r\n\r\n6. System checks the previous state again and authenticates the user, if the code is correct.\r\n\r\nThat&#39;s it! Hope it helps someone.\r\n\r\n\r\n  [1]: https://github.com/rubenlagus/TelegramBots","title":"Telegram Bot - Process user response based on last bot question","body":"<p>Since it was quite hard to find ideas that could lead me to a solution (in <strong>Java</strong>), I am going to share mine here for the sake of future Java googlers. I am using <a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"noreferrer\">telegrambots library</a> together with Spring Boot/Data.</p>\n<p>The best way to implement this flow is saving states on your database. To do so, <strong>use the messages unique chat ids to distinguish a chat from another</strong>.</p>\n<p>Here is the relevant part of the Java implementation (the logic pretty much applies to any language):</p>\n<p>The entity that holds Telegram chat information related to a system user.</p>\n<pre><code>@Entity\n@Table(name = &quot;user_bot&quot;)\npublic class UserBot implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;chat_id&quot;, unique = true, nullable = false, length = 255)\n    private String chatId;\n\n    @Column(name = &quot;bot_verification_code&quot;, length = 6)\n    private String botVerificationCode;\n\n    @Enumerated\n    @Column(name = &quot;last_bot_state&quot;, columnDefinition = &quot;SMALLINT DEFAULT NULL&quot;)\n    private BotState lastBotState;\n\n    @Column(columnDefinition = &quot;TINYINT(1)&quot;)\n    private boolean verified;\n\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ManyToOne(fetch = FetchType.EAGER)\n    private User user;\n}\n</code></pre>\n<p>The enum that represents all possible bot responses (states).</p>\n<pre><code>public enum BotState {\n    // Respostas do bot que representam estados\n    AUTH_STEP_1(&quot;Muito bem. Qual é o seu e-mail no sistema?&quot;), AUTH_STEP_2(&quot;Enviei um código para o seu e-mail. Por favor, digite-o aqui.&quot;),\n    NO_STATE(&quot;&quot;);\n\n    private final String state;\n\n    private BotState(String state) {\n        this.state = state;\n    }\n\n    @Override\n    public String toString() {\n        return this.state;\n    }\n}\n</code></pre>\n<p>The service that receives messages and respond accordingly.</p>\n<pre><code>@Service\npublic class TelegramBotService extends TelegramLongPollingBot {\n\n    @Autowired\n    private CodeUtils codeUtils;\n\n    @Autowired\n    private UserBotRepository userBotRepository;\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Value(&quot;${telegram.bot.username}&quot;)\n    private String botUsername;\n\n    @Value(&quot;${telegram.bot.token}&quot;)\n    private String botToken;\n\n    @PostConstruct\n    public void registerBot() {\n        TelegramBotsApi botsApi = new TelegramBotsApi();\n        try {\n            botsApi.registerBot(this);\n        } catch (TelegramApiException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onUpdateReceived(Update update) {\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n            String receivedMessage = update.getMessage().getText();\n            SendMessage sendMessage = null;\n\n            // TODO: futuramente, tratar casos onde um usuário chama um comando sem ainda estar autenticado\n            switch (receivedMessage) {\n                case &quot;/autenticar&quot;:\n                    sendMessage = handleAuthentication(update);\n                    break;\n                default:\n                    // Quando nenhum comando atender, será um texto a ser checado de acordo com o estado anterior\n                    sendMessage = checkState(update);\n            }\n\n            try {\n                execute(sendMessage);\n            } catch (TelegramApiException e) {\n                codeUtils.log(e.getMessage(), this);\n            }\n        }\n    }\n\n    private SendMessage handleAuthentication(Update update) {\n        SendMessage sendMessage = new SendMessage()\n                .setChatId(update.getMessage().getChatId())\n                .setText(BotState.AUTH_STEP_1.toString());\n\n        UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\n\n        if (userBot == null) {\n            userBot = new UserBot();\n            userBot.setChatId(update.getMessage().getChatId().toString());\n            userBot.setLastBotState(BotState.AUTH_STEP_1);\n        } else if (userBot.isVerified()) {\n            // Um texto simples enviado no sendMessage indica o fim de um fluxo\n            sendMessage.setText(&quot;Este aparelho já está autenticado no sistema.&quot;);\n            userBot.setLastBotState(null);\n        }\n\n        userBotRepository.save(userBot);\n        return sendMessage;\n    }\n\n    // Checa o estado anterior do bot em relação ao chatId recebido\n    private SendMessage checkState(Update update) {\n        UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\n        SendMessage sendMessage = null;\n\n        if (userBot == null || userBot.getLastBotState() == null)\n            return sendDefaultMessage(update);\n\n        switch (Optional.ofNullable(userBot.getLastBotState()).orElse(BotState.NO_STATE)) {\n            case AUTH_STEP_1:\n                sendMessage = sendCode(update);\n                break;\n            case AUTH_STEP_2:\n                sendMessage = validateCode(update);\n                break;\n            default:\n                sendMessage = sendDefaultMessage(update);\n        }\n\n        return sendMessage;\n    }\n\n    // Grava o código no banco e envia para o e-mail do usuário\n    private SendMessage sendCode(Update update) {\n        User user = userRepository.findByEmail(update.getMessage().getText().toLowerCase());\n        SendMessage sendMessage = new SendMessage(update.getMessage().getChatId(), &quot;&quot;);\n\n        if (user == null)\n            sendMessage.setText(&quot;Não encontrei nenhum usuário no sistema com este e-mail :(&quot;);\n        else {\n            UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\n\n            String verificationCode = Integer.toString(new Random().nextInt(899999) + 100000);\n            String text = &quot;Este é um e-mail automático de verificação de identidade. Informe este código para o bot do Telegram: &quot; + verificationCode;\n            codeUtils.sendEmail(new String[]{user.getEmail()}, &quot;CCR Laudos - Código de Verificação&quot;, text);\n\n            // Associa a conversação ao usuário, mas a validade depende da flag verified\n            userBot.setUser(user);\n            userBot.setBotVerificationCode(verificationCode);\n            userBot.setLastBotState(BotState.AUTH_STEP_2);\n            userBotRepository.save(userBot);\n\n            sendMessage.setText(BotState.AUTH_STEP_2.toString());\n        }\n\n        return sendMessage;\n    }\n\n    // Checa se o código informado foi o mesmo passado por e-mail para o usuário a fim de autenticá-lo\n    private SendMessage validateCode(Update update) {\n        UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\n        SendMessage sendMessage = new SendMessage(update.getMessage().getChatId(), &quot;&quot;);\n\n        if (update.getMessage().getText().equals(userBot.getBotVerificationCode())) {\n            userBot.setVerified(true);\n            sendMessage.setText(&quot;O aparelho foi autenticado com sucesso. Você passará a receber notificações do sistema.&quot;);\n        } else {\n            userBot.setUser(null);\n            sendMessage.setText(&quot;Código inválido.&quot;);\n        }\n\n        userBotRepository.save(userBot);\n        return sendMessage;\n    }\n\n    private SendMessage sendDefaultMessage(Update update) {\n        String markdownMessage = &quot;Não entendi \\ud83e\\udd14 \\n&quot;\n                + &quot;Que tal tentar um comando digitando */* ?&quot;;\n        return new SendMessage(update.getMessage().getChatId(), markdownMessage).setParseMode(ParseMode.MARKDOWN);\n    }\n\n    @Override\n    public String getBotUsername() {\n        return this.botUsername;\n    }\n\n    @Override\n    public String getBotToken() {\n        return this.botToken;\n    }\n}\n</code></pre>\n<p>The implemented flow is:</p>\n<ol>\n<li><p>User sends /authenticate.</p>\n</li>\n<li><p>System knows nothing about the device, so store the chat id and the last state. <strong>The last state will be the response to the user.</strong> System asks for the user's e-mail.</p>\n</li>\n<li><p>User sends his e-mail.</p>\n</li>\n<li><p>The text is not recognized as a command, so system checks if there is a last state relative to this chat id. If a previous state exists, use the incoming text as a parameter to this state's method. System sends a code to the user's e-mail and asks for it.</p>\n</li>\n<li><p>User sends the code.</p>\n</li>\n<li><p>System checks the previous state again and authenticates the user, if the code is correct.</p>\n</li>\n</ol>\n<p>That's it! Hope it helps someone.</p>\n"}],"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7412,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":64640429,"answer_count":3,"score":8,"last_activity_date":1676028855,"creation_date":1576382381,"question_id":59341135,"body_markdown":"I want my Telegram bot to process user inputs based on the last question the bot asked. Basically, this is the flow:\r\n\r\n- User calls /authenticate command\r\n- Bot asks for email\r\n- User sends his email\r\n- Bot answers with a message about sending a code to the user&#39;s email for confirmation and asks for the user to type the code on the chat\r\n- User types the code\r\n- Bot validates the user code and user is authenticated and start receiving notifications\r\n\r\nThe problem is: how do i know that the user is answering a specific bot question in this flow?\r\n\r\nI thought about two ways to do so:\r\n\r\n- Send the message with force reply option so the user has to reply to the bot question. This would send me back the message to which the user is responding so i could compare the bot message string to see what was the answer about.\r\n\r\n- Store the last bot message somewhere, then when a message arrives, check what was the last bot message and assume that the user message is a response.\r\n\r\n\r\nIs there a better way? I am using Java with [telegrambots library][1].\r\n\r\n\r\n  [1]: https://github.com/rubenlagus/TelegramBots","title":"Telegram Bot - Process user response based on last bot question","body":"<p>I want my Telegram bot to process user inputs based on the last question the bot asked. Basically, this is the flow:</p>\n\n<ul>\n<li>User calls /authenticate command</li>\n<li>Bot asks for email</li>\n<li>User sends his email</li>\n<li>Bot answers with a message about sending a code to the user's email for confirmation and asks for the user to type the code on the chat</li>\n<li>User types the code</li>\n<li>Bot validates the user code and user is authenticated and start receiving notifications</li>\n</ul>\n\n<p>The problem is: how do i know that the user is answering a specific bot question in this flow?</p>\n\n<p>I thought about two ways to do so:</p>\n\n<ul>\n<li><p>Send the message with force reply option so the user has to reply to the bot question. This would send me back the message to which the user is responding so i could compare the bot message string to see what was the answer about.</p></li>\n<li><p>Store the last bot message somewhere, then when a message arrives, check what was the last bot message and assume that the user message is a response.</p></li>\n</ul>\n\n<p>Is there a better way? I am using Java with <a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"noreferrer\">telegrambots library</a>.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676028687,"post_id":75410327,"comment_id":133059372,"body_markdown":"The `identified by &#39;&lt;password&gt;&#39;` part doesn&#39;t belong in this statement, see [13.7.1.6 GRANT Statement](https://dev.mysql.com/doc/refman/8.0/en/grant.html). You seem to have combined two different solutions into one statement.","body":"The <code>identified by &#39;&lt;password&gt;&#39;</code> part doesn&#39;t belong in this statement, see <a href=\"https://dev.mysql.com/doc/refman/8.0/en/grant.html\" rel=\"nofollow noreferrer\">13.7.1.6 GRANT Statement</a>. You seem to have combined two different solutions into one statement."}],"owner":{"account_id":23411594,"reputation":1,"user_id":17473182,"display_name":"marcom966"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676028713,"answer_count":0,"score":0,"last_activity_date":1676028576,"creation_date":1676027458,"question_id":75410327,"body_markdown":"I know this question&#39;s been asked already a million times, but I can&#39;t connect my database to my back-end in Java. How do I solve this?\r\n\r\nI tried to grant all the permissions using this syntax:\r\n\r\n```sql\r\nGRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;mypassword&#39; \r\nWITH GRANT OPTION;\r\n```\r\n\r\nboth in MySQL Workbench and even from command line, but I get the following errors:\r\n\r\n[![Workbench][1]][1]\r\n\r\n[![Terminal][2]][2]\r\n\r\nI use windows 11.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rcipx.jpg\r\n  [2]: https://i.stack.imgur.com/76TEO.jpg","title":"java.sql.SQLException: Access denied for user &#39;&quot;root&quot;&#39;@&#39;localhost&#39; (using password: YES) spring boot windows","body":"<p>I know this question's been asked already a million times, but I can't connect my database to my back-end in Java. How do I solve this?</p>\n<p>I tried to grant all the permissions using this syntax:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'mypassword' \nWITH GRANT OPTION;\n</code></pre>\n<p>both in MySQL Workbench and even from command line, but I get the following errors:</p>\n<p><a href=\"https://i.stack.imgur.com/rcipx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rcipx.jpg\" alt=\"Workbench\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/76TEO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76TEO.jpg\" alt=\"Terminal\" /></a></p>\n<p>I use windows 11.</p>\n"},{"tags":["java","postgresql","hibernate","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676028402,"post_id":75405418,"comment_id":133059298,"body_markdown":"Given DBeaver also uses the PostgreSQL JDBC driver, it is likely that you either did something else in DBeaver, or DBeaver has special handling to give this the appearance of supporting parameters (e.g. by rewriting the query to use a literal on execute).","body":"Given DBeaver also uses the PostgreSQL JDBC driver, it is likely that you either did something else in DBeaver, or DBeaver has special handling to give this the appearance of supporting parameters (e.g. by rewriting the query to use a literal on execute)."},{"owner":{"account_id":9827023,"reputation":239,"user_id":7279957,"display_name":"Kaushik Patel"},"score":0,"creation_date":1676032981,"post_id":75405418,"comment_id":133060623,"body_markdown":"Got from DBeaver that it takes the parameter substitutes it in query itself and executes the final query on DB. Hence it is working on DBeaver. Finally SET statement cannot be used as parameterized queries.","body":"Got from DBeaver that it takes the parameter substitutes it in query itself and executes the final query on DB. Hence it is working on DBeaver. Finally SET statement cannot be used as parameterized queries."}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676000137,"creation_date":1676000137,"answer_id":75406680,"question_id":75405418,"body_markdown":"The SQL statement `SET` accepts no parameters. Only `SELECT`, `VALUES`, `INSERT`, `UPDATE`, `DELETE` and `MERGE` do.","title":"Syntax error at or near &quot;$1&quot; jdbc postgres -&gt; SET var=?","body":"<p>The SQL statement <code>SET</code> accepts no parameters. Only <code>SELECT</code>, <code>VALUES</code>, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> and <code>MERGE</code> do.</p>\n"}],"owner":{"account_id":9827023,"reputation":239,"user_id":7279957,"display_name":"Kaushik Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676028345,"creation_date":1675984314,"question_id":75405418,"body_markdown":"Trying to execute the following code : \r\n\r\n```java\r\nthis.getSessionFactory().getCurrentSession()\r\n        .createNativeQuery(&quot;SET app.variable = :variable&quot;)\r\n        .setParameter(&quot;variable&quot;,&quot;variableValue&quot;)\r\n        .executeUpdate();\r\n```\r\n\r\nIt is giving me the following error : \r\n\r\n```none\r\norg.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\r\n  Position: 26\r\n```\r\n\r\nI&#39;m not sure if this is a bug in JDBC or PostgreSQL.\r\n\r\nIt seems not a PostgreSQL issue as when I use the DBeaver using bind variables the query works fine.\r\n\r\n\r\n\r\n\r\n\r\nTried the same query by creating a prepared statement as well and the Result was same.","title":"Syntax error at or near &quot;$1&quot; jdbc postgres -&gt; SET var=?","body":"<p>Trying to execute the following code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.getSessionFactory().getCurrentSession()\n        .createNativeQuery(&quot;SET app.variable = :variable&quot;)\n        .setParameter(&quot;variable&quot;,&quot;variableValue&quot;)\n        .executeUpdate();\n</code></pre>\n<p>It is giving me the following error :</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\n  Position: 26\n</code></pre>\n<p>I'm not sure if this is a bug in JDBC or PostgreSQL.</p>\n<p>It seems not a PostgreSQL issue as when I use the DBeaver using bind variables the query works fine.</p>\n<p>Tried the same query by creating a prepared statement as well and the Result was same.</p>\n"},{"tags":["java","effective-java"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1428547718,"creation_date":1428547718,"answer_id":29528879,"question_id":29528850,"body_markdown":"`clone()` is widely regarded to have been a failed experiment for a number of reasons. In this case, someone passing in a `Date` could have passed in an `EvilDate extends Date` whose `clone()` method sneakily returned a copy that was still mutable by someone else.","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p><code>clone()</code> is widely regarded to have been a failed experiment for a number of reasons. In this case, someone passing in a <code>Date</code> could have passed in an <code>EvilDate extends Date</code> whose <code>clone()</code> method sneakily returned a copy that was still mutable by someone else.</p>\n"},{"tags":[],"owner":{"account_id":6095697,"reputation":362,"user_id":4756564,"display_name":"egracer"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1617289548,"creation_date":1428549040,"answer_id":29529092,"question_id":29528850,"body_markdown":"Consider this code:\r\n\r\n    public class MaliciousDate extends Date { /** malicious code here **/ }\r\n    \r\n    public class SomeClass {\r\n        public static void main(String[] args) {\r\n            MaliciousDate someDate = new MaliciousDate();\r\n            Date copyOfMaliciousDate = someDate;\r\n            Date anotherDate = copyOfMaliciousDate.clone();\r\n        }\r\n    }\r\n\r\nSince `copyOfMaliciousDate` is of type `Date`, you can call `clone()` and it will return a `Date` object, but calling `clone` on `copyOfMaliciousDate` executes the code written in the `MaliciousDate` class&#39; `clone()` because the _instance_ stored in `copyOfMaliciousDate` is a `MaliciousDate`.","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p>Consider this code:</p>\n<pre><code>public class MaliciousDate extends Date { /** malicious code here **/ }\n\npublic class SomeClass {\n    public static void main(String[] args) {\n        MaliciousDate someDate = new MaliciousDate();\n        Date copyOfMaliciousDate = someDate;\n        Date anotherDate = copyOfMaliciousDate.clone();\n    }\n}\n</code></pre>\n<p>Since <code>copyOfMaliciousDate</code> is of type <code>Date</code>, you can call <code>clone()</code> and it will return a <code>Date</code> object, but calling <code>clone</code> on <code>copyOfMaliciousDate</code> executes the code written in the <code>MaliciousDate</code> class' <code>clone()</code> because the <em>instance</em> stored in <code>copyOfMaliciousDate</code> is a <code>MaliciousDate</code>.</p>\n"},{"tags":[],"owner":{"account_id":325434,"reputation":25037,"user_id":646619,"accept_rate":90,"display_name":"Colonel Thirty Two"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574363060,"creation_date":1574363060,"answer_id":58982047,"question_id":29528850,"body_markdown":"I haven&#39;t read the book you quoted from, but that paragraph gives a poor justification and offers no protection against any sort of attack.\r\n\r\nThe quote mentions that an attacker with the ability to load code into your program could potentially submit a `Date` subclass with malicious methods, for example returning a subclass of `Date` from `clone`.\r\n\r\nBut that&#39;s only a minor way an attacker with the ability to load code can cause harm. They could also:\r\n\r\n* Use reflection to get read+write access to pretty much anything marked private,\r\n* Mess with the class loaders to load their own versions of classes,\r\n* Call `System.exit()` to stop your program, and\r\n* Do anything your program could do, like spawn other programs or access files.\r\n\r\nIf the attacker is running code in your process, the game&#39;s over and your process is compromised, and this silly little guard is not going to help.\r\n\r\nMaybe you think that clone is bad from a design standpoint, and that&#39;s fine, but please don&#39;t pretend that not using it will protect you from some security threat, because it won&#39;t.","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p>I haven't read the book you quoted from, but that paragraph gives a poor justification and offers no protection against any sort of attack.</p>\n\n<p>The quote mentions that an attacker with the ability to load code into your program could potentially submit a <code>Date</code> subclass with malicious methods, for example returning a subclass of <code>Date</code> from <code>clone</code>.</p>\n\n<p>But that's only a minor way an attacker with the ability to load code can cause harm. They could also:</p>\n\n<ul>\n<li>Use reflection to get read+write access to pretty much anything marked private,</li>\n<li>Mess with the class loaders to load their own versions of classes,</li>\n<li>Call <code>System.exit()</code> to stop your program, and</li>\n<li>Do anything your program could do, like spawn other programs or access files.</li>\n</ul>\n\n<p>If the attacker is running code in your process, the game's over and your process is compromised, and this silly little guard is not going to help.</p>\n\n<p>Maybe you think that clone is bad from a design standpoint, and that's fine, but please don't pretend that not using it will protect you from some security threat, because it won't.</p>\n"},{"tags":[],"owner":{"account_id":23655692,"reputation":1,"user_id":17684026,"display_name":"Abipriya Rajendran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676027424,"creation_date":1676027424,"answer_id":75410320,"question_id":29528850,"body_markdown":"Since Date class is non-final, it can be extended and the clone method can be overridden to store the instances which later can be accessed to modify the state.\r\n\r\nMaliciousDate.java\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    public class MaliciousDate extends Date {\r\n    \r\n        private static List&lt;MaliciousDate&gt; instances = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        public Object clone() {\r\n            instances.add(this);\r\n            return super.clone();\r\n        }\r\n    \r\n        public List&lt;MaliciousDate&gt; getInstances() {\r\n            return instances;\r\n        }\r\n    }\r\n \r\nPeriod.java\r\n   \r\n    import java.util.Date;\r\n    \r\n    public class Period {\r\n        private static Date start;\r\n        private static Date end;\r\n    \r\n        public Period(Date start, Date end) {\r\n            this.start = (Date) start.clone();\r\n            this.end = (Date) end.clone();\r\n            if (start.getTime() &gt; end.getTime()) {\r\n                throw new IllegalArgumentException(&quot;start is greater than end&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            MaliciousDate start = new MaliciousDate();\r\n            MaliciousDate end = new MaliciousDate();\r\n            Period p = new Period(start, end);\r\n            //...\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p>Since Date class is non-final, it can be extended and the clone method can be overridden to store the instances which later can be accessed to modify the state.</p>\n<p>MaliciousDate.java</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\npublic class MaliciousDate extends Date {\n\n    private static List&lt;MaliciousDate&gt; instances = new ArrayList&lt;&gt;();\n\n    @Override\n    public Object clone() {\n        instances.add(this);\n        return super.clone();\n    }\n\n    public List&lt;MaliciousDate&gt; getInstances() {\n        return instances;\n    }\n}\n</code></pre>\n<p>Period.java</p>\n<pre><code>import java.util.Date;\n\npublic class Period {\n    private static Date start;\n    private static Date end;\n\n    public Period(Date start, Date end) {\n        this.start = (Date) start.clone();\n        this.end = (Date) end.clone();\n        if (start.getTime() &gt; end.getTime()) {\n            throw new IllegalArgumentException(&quot;start is greater than end&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        MaliciousDate start = new MaliciousDate();\n        MaliciousDate end = new MaliciousDate();\n        Period p = new Period(start, end);\n        //...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2360404,"reputation":379,"user_id":2067197,"accept_rate":58,"display_name":"Kyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1503,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29529092,"answer_count":4,"score":6,"last_activity_date":1676027940,"creation_date":1428547539,"question_id":29528850,"body_markdown":"In Effective Java (Chapter 7), it says\r\n&gt;Note also that we did not use Date’s clone method to make the defensive copies. Because Date is nonfinal, the clone method is not guaranteed to return an object whose class is java.util.Date: it could return an instance of an untrusted subclass specifically designed for malicious mischief. Such a subclass could, for example, record a reference to each instance in a private static list at the time of its creation and allow the attacker to access this list. This would give the attacker free reign over all instances. To prevent this sort of attack, do not use the clone method to make a defensive copy of a parameter whose type is subclassable by untrusted parties.\r\n\r\nI don&#39;t quite understand its explanation. Why does clone() not return a Date object? How can the instance be of untrusted subclass?","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p>In Effective Java (Chapter 7), it says</p>\n\n<blockquote>\n  <p>Note also that we did not use Date’s clone method to make the defensive copies. Because Date is nonfinal, the clone method is not guaranteed to return an object whose class is java.util.Date: it could return an instance of an untrusted subclass specifically designed for malicious mischief. Such a subclass could, for example, record a reference to each instance in a private static list at the time of its creation and allow the attacker to access this list. This would give the attacker free reign over all instances. To prevent this sort of attack, do not use the clone method to make a defensive copy of a parameter whose type is subclassable by untrusted parties.</p>\n</blockquote>\n\n<p>I don't quite understand its explanation. Why does clone() not return a Date object? How can the instance be of untrusted subclass?</p>\n"},{"tags":["java","node.js","graalvm"],"answers":[{"tags":[],"owner":{"account_id":10162875,"reputation":11,"user_id":7505775,"display_name":"Pratha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675919920,"creation_date":1675919920,"answer_id":75394491,"question_id":75394475,"body_markdown":"The error message indicates that &quot;nodejs&quot; is not installed in the environment.\r\nTry using \r\n\r\n    Context c = Context.create(&quot;js&quot;);","title":"Graalvm not detecting nodejs","body":"<p>The error message indicates that &quot;nodejs&quot; is not installed in the environment.\nTry using</p>\n<pre><code>Context c = Context.create(&quot;js&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676027670,"creation_date":1676027670,"answer_id":75410368,"question_id":75394475,"body_markdown":"TL;DR; Creating a Context to execute node.js is not supported. You can execute plain JavaScript, but not node.js.\r\n\r\n==\r\n\r\nYou are making a category error here. Let me explain.\r\n\r\nAs stated in the Context javadoc (https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/Context.html)\r\n\r\n\r\n&gt; A polyglot context represents the global runtime state of all installed and permitted **languages**.\r\n\r\nNode.js is not a language. As stated on https://nodejs.org/en/\r\n\r\n&gt; Node.js&#174; is an open-source, cross-platform JavaScript **runtime environment**\r\n\r\nIt&#39;s an environment for executing JavaScript. GraalVM supports node.js as an environment for executing the GraalVM JavaScript Engine. When you install GraalVM node.js as you did, you can run \r\n\r\n```\r\n$GRAALVM_HOME/bin/nodejs -e &#39;console.log(1+1)&#39;\r\n```\r\n\r\nAnd it will happily work. This is because the nodejs executable here is a **runtimne enviroment**  for JavaScript which knows, for example, how to talk to your terminal when you tell it to `console.log`. But if you are running in your JVM application (which is a runtime itself and knows how to talk to your terminal as per our example) creating a Context to execute node.js does not make sense since node.js wants to talk to the terminal directly but in this case it would have to talk to the JVM since it&#39;s the one that talks to the terminal. This is a silly example but it illustrates the point I think.\r\n\r\nWhat you can do though, interestingly, is run your node.js application on GraalVM, call into some Java code that creates a Context with e.g. `ruby` as the language and execute ruby code inside Java code inside the node.js code. This works because the Context API was intentionally designed to be **embeddeable** into other applications and runtimes. This is **not true** for node.js.\r\n\r\n\r\nFinally, to sum up - you cannot create a Context for executing node.js, because Contexts are for **languages** and node.js is a **runtime environment**","title":"Graalvm not detecting nodejs","body":"<p>TL;DR; Creating a Context to execute node.js is not supported. You can execute plain JavaScript, but not node.js.</p>\n<p>==</p>\n<p>You are making a category error here. Let me explain.</p>\n<p>As stated in the Context javadoc (<a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/Context.html\" rel=\"nofollow noreferrer\">https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/Context.html</a>)</p>\n<blockquote>\n<p>A polyglot context represents the global runtime state of all installed and permitted <strong>languages</strong>.</p>\n</blockquote>\n<p>Node.js is not a language. As stated on <a href=\"https://nodejs.org/en/\" rel=\"nofollow noreferrer\">https://nodejs.org/en/</a></p>\n<blockquote>\n<p>Node.js® is an open-source, cross-platform JavaScript <strong>runtime environment</strong></p>\n</blockquote>\n<p>It's an environment for executing JavaScript. GraalVM supports node.js as an environment for executing the GraalVM JavaScript Engine. When you install GraalVM node.js as you did, you can run</p>\n<pre><code>$GRAALVM_HOME/bin/nodejs -e 'console.log(1+1)'\n</code></pre>\n<p>And it will happily work. This is because the nodejs executable here is a <strong>runtimne enviroment</strong>  for JavaScript which knows, for example, how to talk to your terminal when you tell it to <code>console.log</code>. But if you are running in your JVM application (which is a runtime itself and knows how to talk to your terminal as per our example) creating a Context to execute node.js does not make sense since node.js wants to talk to the terminal directly but in this case it would have to talk to the JVM since it's the one that talks to the terminal. This is a silly example but it illustrates the point I think.</p>\n<p>What you can do though, interestingly, is run your node.js application on GraalVM, call into some Java code that creates a Context with e.g. <code>ruby</code> as the language and execute ruby code inside Java code inside the node.js code. This works because the Context API was intentionally designed to be <strong>embeddeable</strong> into other applications and runtimes. This is <strong>not true</strong> for node.js.</p>\n<p>Finally, to sum up - you cannot create a Context for executing node.js, because Contexts are for <strong>languages</strong> and node.js is a <strong>runtime environment</strong></p>\n"}],"owner":{"account_id":24451181,"reputation":7,"user_id":18373413,"display_name":"Ezz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676027670,"creation_date":1675919681,"question_id":75394475,"body_markdown":"New to graalvm. Trying to run a node module in Intellij\r\n```\r\n        Context c = Context.create(&quot;nodejs&quot;);\r\n\r\n        try {\r\n            File birdJS = new File(PATH);\r\n            c.eval(Source.newBuilder(&quot;nodejs&quot;, birdJS).build());\r\n            Value testFunction = c.getBindings(&quot;nodejs&quot;).getMember(&quot;test&quot;);\r\n            String testResult = testFunction.execute().asString();\r\n            System.out.println(testResult);\r\n            Value callAPIFunction = c.getBindings(&quot;nodejs&quot;).getMember(&quot;callAPI&quot;);\r\n            String callAPIresult = callAPIFunction.execute().asString();\r\n            System.out.println(callAPIresult);\r\n\r\n        } catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n```\r\n but im getting this error (stack trace below):\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: A language with id &#39;nodejs&#39; is not installed. Installed languages are: [js].\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:131)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineImpl.throwNotInstalled(PolyglotEngineImpl.java:1109)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineImpl.requirePublicLanguage(PolyglotEngineImpl.java:1116)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.requirePublicLanguage(PolyglotContextImpl.java:1491)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.lookupLanguageContext(PolyglotContextImpl.java:1453)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.eval(PolyglotContextImpl.java:1462)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextDispatch.eval(PolyglotContextDispatch.java:63)\r\n\tat org.graalvm.sdk/org.graalvm.polyglot.Context.eval(Context.java:399)\r\n```\r\n\r\nBefore I changed it from a JavaScript file to a node module the code ran and returned as expected\r\n\r\nNode is definitely installed in graalvm, I can interact with it on the command line and when I check using gu list its there (version 22.3.1) along with js","title":"Graalvm not detecting nodejs","body":"<p>New to graalvm. Trying to run a node module in Intellij</p>\n<pre><code>        Context c = Context.create(&quot;nodejs&quot;);\n\n        try {\n            File birdJS = new File(PATH);\n            c.eval(Source.newBuilder(&quot;nodejs&quot;, birdJS).build());\n            Value testFunction = c.getBindings(&quot;nodejs&quot;).getMember(&quot;test&quot;);\n            String testResult = testFunction.execute().asString();\n            System.out.println(testResult);\n            Value callAPIFunction = c.getBindings(&quot;nodejs&quot;).getMember(&quot;callAPI&quot;);\n            String callAPIresult = callAPIFunction.execute().asString();\n            System.out.println(callAPIresult);\n\n        } catch (IOException e){\n            e.printStackTrace();\n        }\n</code></pre>\n<p>but im getting this error (stack trace below):</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: A language with id 'nodejs' is not installed. Installed languages are: [js].\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:131)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineImpl.throwNotInstalled(PolyglotEngineImpl.java:1109)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineImpl.requirePublicLanguage(PolyglotEngineImpl.java:1116)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.requirePublicLanguage(PolyglotContextImpl.java:1491)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.lookupLanguageContext(PolyglotContextImpl.java:1453)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.eval(PolyglotContextImpl.java:1462)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextDispatch.eval(PolyglotContextDispatch.java:63)\n    at org.graalvm.sdk/org.graalvm.polyglot.Context.eval(Context.java:399)\n</code></pre>\n<p>Before I changed it from a JavaScript file to a node module the code ran and returned as expected</p>\n<p>Node is definitely installed in graalvm, I can interact with it on the command line and when I check using gu list its there (version 22.3.1) along with js</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676027498,"creation_date":1676027498,"question_id":75410333,"body_markdown":"We&#39;ve deployed our `kafka-streams` application on real environment and observing metrics provided by the lib itself we noticed some weird peaks and drops.\r\n\r\nIs there any simple way to find why is it behaving in such way?\r\n\r\nI can&#39;t see any errors or problems in logs.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0pOPr.png","title":"Peaking and dropping end to end (E2E) latency for kafka streams app","body":"<p>We've deployed our <code>kafka-streams</code> application on real environment and observing metrics provided by the lib itself we noticed some weird peaks and drops.</p>\n<p>Is there any simple way to find why is it behaving in such way?</p>\n<p>I can't see any errors or problems in logs.</p>\n<p><a href=\"https://i.stack.imgur.com/0pOPr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0pOPr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","processbuilder","gradlew"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675961634,"post_id":75401810,"comment_id":133044963,"body_markdown":"You aren&#39;t reading the `Process`&#39;s error stream, which may be why you don&#39;t see any error but also don&#39;t see any expected output. You can do `pb.redirectErrorStream()` to redirect the process&#39;s error stream to its output stream. What do you see if you do that?","body":"You aren&#39;t reading the <code>Process</code>&#39;s error stream, which may be why you don&#39;t see any error but also don&#39;t see any expected output. You can do <code>pb.redirectErrorStream()</code> to redirect the process&#39;s error stream to its output stream. What do you see if you do that?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675961793,"post_id":75401810,"comment_id":133045015,"body_markdown":"You may also want to check out the [Gradle Tooling API](https://docs.gradle.org/current/userguide/third_party_integration.html#embedding).","body":"You may also want to check out the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html#embedding\" rel=\"nofollow noreferrer\">Gradle Tooling API</a>."},{"owner":{"account_id":27746258,"reputation":21,"user_id":21181692,"display_name":"jade"},"score":0,"creation_date":1676026388,"post_id":75401810,"comment_id":133058712,"body_markdown":"Once I had redirected the error stream, I realised it wasn&#39;t passing `--arg=&quot;argy&quot;`, just `&quot;argy&quot;`. \nSo I added \n`String myArgVar = &quot;argy&quot;;`, \n`String myArg = String.format(&quot;--args=\\&quot; %s&quot;, myArgVar);` and myArg instead of &quot;argy&quot; in the `processBuilder` section and it worked. Alas it only takes String arguments as user16320675 pointed out so I&#39;m now wading around the Gradle Tooling API, thanks Slaw! I think that&#39;s more what I was looking for.","body":"Once I had redirected the error stream, I realised it wasn&#39;t passing <code>--arg=&quot;argy&quot;</code>, just <code>&quot;argy&quot;</code>.  So I added  <code>String myArgVar = &quot;argy&quot;;</code>,  <code>String myArg = String.format(&quot;--args=\\&quot; %s&quot;, myArgVar);</code> and myArg instead of &quot;argy&quot; in the <code>processBuilder</code> section and it worked. Alas it only takes String arguments as user16320675 pointed out so I&#39;m now wading around the Gradle Tooling API, thanks Slaw! I think that&#39;s more what I was looking for."}],"answers":[{"tags":[],"owner":{"account_id":27746258,"reputation":21,"user_id":21181692,"display_name":"jade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676027347,"creation_date":1676027347,"answer_id":75410299,"question_id":75401810,"body_markdown":"After placing `pb.redirectErrorStream(true)`; before `pb.start()`, it became clear that I was passing &quot;argy&quot; as a command not an argument.\r\nTo run gradle, you need the command `./gradlew run --args=&quot;string_args&quot;` so I edited it to:\r\n\r\n```\r\n\r\n        String argy= &quot;argybargy\\&quot;&quot;;\r\n        String myArg = String.format(&quot;--args=\\&quot; %s&quot;, argy);\r\n\r\n\r\n        try {\r\n            String lines = null;\r\n\r\n            ProcessBuilder pb = new ProcessBuilder(&quot;./gradlew&quot;, &quot;run&quot;, myArg);\r\n\r\n            pb.redirectErrorStream(true);\r\n            Process pr = pb.start();\r\n            System.out.println(&quot;Processbuilder run&quot;);\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n            while ((lines = reader.readLine())!=null) {\r\n                System.out.println(&quot;Line: &quot; + lines);\r\n            } \r\n            \r\n\r\n        }\r\n        catch (IOException e)\r\n        { \r\n            System.out.print(&quot;error&quot;);\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nWhich now runs, passes the argument correctly, and redirects any errors to the terminal. Many thanks for all the help.","title":"Can&#39;t call Gradle with arguments from a java app using Process Builder, build fails","body":"<p>After placing <code>pb.redirectErrorStream(true)</code>; before <code>pb.start()</code>, it became clear that I was passing &quot;argy&quot; as a command not an argument.\nTo run gradle, you need the command <code>./gradlew run --args=&quot;string_args&quot;</code> so I edited it to:</p>\n<pre><code>\n        String argy= &quot;argybargy\\&quot;&quot;;\n        String myArg = String.format(&quot;--args=\\&quot; %s&quot;, argy);\n\n\n        try {\n            String lines = null;\n\n            ProcessBuilder pb = new ProcessBuilder(&quot;./gradlew&quot;, &quot;run&quot;, myArg);\n\n            pb.redirectErrorStream(true);\n            Process pr = pb.start();\n            System.out.println(&quot;Processbuilder run&quot;);\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n            while ((lines = reader.readLine())!=null) {\n                System.out.println(&quot;Line: &quot; + lines);\n            } \n            \n\n        }\n        catch (IOException e)\n        { \n            System.out.print(&quot;error&quot;);\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Which now runs, passes the argument correctly, and redirects any errors to the terminal. Many thanks for all the help.</p>\n"}],"owner":{"account_id":27746258,"reputation":21,"user_id":21181692,"display_name":"jade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676027347,"creation_date":1675961117,"question_id":75401810,"body_markdown":"I&#39;m trying to call a Gradle app from a separate java app, on Linux. I&#39;m using ProcessBuilder, which calls the Gradle app no problem when not passing an argument, and the Gradle app builds. But when I include an argument, it doesn&#39;t appear to run Gradle at all, but doesn&#39;t give an error, and still prints `Processbuilder run` to the Terminal.\r\n\r\nThis is in the main method:\r\n\r\n```\r\n        String cmd = &quot;./gradlew&quot;;\r\n\r\n        try {\r\n            String lines = null;\r\n\r\n            //This works but doesn&#39;t send an argument:\r\n            //ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;); \r\n\r\n            //won&#39;t run with an argument!\r\n            ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;, &quot;argy&quot;); \r\n\r\n            Process pr = pb.start();\r\n\r\n            System.out.println(&quot;Processbuilder run&quot;);\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n            while ((lines = reader.readLine())!=null) {\r\n                System.out.println(&quot;Line: &quot; + lines);\r\n            }\r\n            \r\n\r\n        }\r\n        catch (IOException e)\r\n        { \r\n            System.out.print(&quot;error&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    \r\n\r\n    }\r\n```\r\n\r\nTerminal output when run ProcessBuilder without `argy` :\r\n\r\n```\r\n    Processbuilder run\r\n    Line: &gt; Task :app:compileJava\r\n    Line: &gt; Task :app:processResources\r\n    Line: &gt; Task :app:classes\r\n    Line: \r\n    Line: &gt; Task :app:run\r\n    Line: \r\n    Line: BUILD SUCCESSFUL in 1s\r\n    Line: 3 actionable tasks: 3 executed\r\n`\r\n```\r\n\r\n\r\nTerminal output when run ProcessBuilder with `argy` :\r\n``` \r\n    Processbuilder run\r\n```\r\n\r\nI need to pass java objects through so I can&#39;t use `Runtime.getRuntime().exec()` as it only passes through a string as an argument.\r\n\r\nHow can I get ProcessBuilder to supply the argument to Gradle and have it run? Or is there some other way of calling a Gradle app from a totally separate java package?\r\n\r\n\r\n","title":"Can&#39;t call Gradle with arguments from a java app using Process Builder, build fails","body":"<p>I'm trying to call a Gradle app from a separate java app, on Linux. I'm using ProcessBuilder, which calls the Gradle app no problem when not passing an argument, and the Gradle app builds. But when I include an argument, it doesn't appear to run Gradle at all, but doesn't give an error, and still prints <code>Processbuilder run</code> to the Terminal.</p>\n<p>This is in the main method:</p>\n<pre><code>        String cmd = &quot;./gradlew&quot;;\n\n        try {\n            String lines = null;\n\n            //This works but doesn't send an argument:\n            //ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;); \n\n            //won't run with an argument!\n            ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;, &quot;argy&quot;); \n\n            Process pr = pb.start();\n\n            System.out.println(&quot;Processbuilder run&quot;);\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n            while ((lines = reader.readLine())!=null) {\n                System.out.println(&quot;Line: &quot; + lines);\n            }\n            \n\n        }\n        catch (IOException e)\n        { \n            System.out.print(&quot;error&quot;);\n            e.printStackTrace();\n        }\n    \n\n    }\n</code></pre>\n<p>Terminal output when run ProcessBuilder without <code>argy</code> :</p>\n<pre><code>    Processbuilder run\n    Line: &gt; Task :app:compileJava\n    Line: &gt; Task :app:processResources\n    Line: &gt; Task :app:classes\n    Line: \n    Line: &gt; Task :app:run\n    Line: \n    Line: BUILD SUCCESSFUL in 1s\n    Line: 3 actionable tasks: 3 executed\n`\n</code></pre>\n<p>Terminal output when run ProcessBuilder with <code>argy</code> :</p>\n<pre><code>    Processbuilder run\n</code></pre>\n<p>I need to pass java objects through so I can't use <code>Runtime.getRuntime().exec()</code> as it only passes through a string as an argument.</p>\n<p>How can I get ProcessBuilder to supply the argument to Gradle and have it run? Or is there some other way of calling a Gradle app from a totally separate java package?</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":5485279,"reputation":469,"user_id":4360272,"accept_rate":46,"display_name":"KurdTt-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676027221,"creation_date":1676027221,"question_id":75410274,"body_markdown":"I&#39;ve got old Android project in Java and I want to extend it with new API from Kotlin. The problem is, when I call more than one suspend function in project, it loses execution point. When suspend function calls another one, it does not return any value, but cuts off all code execution. I ran debugger with &quot;Suspend: All&quot; and still nothing.\r\n\r\nIn my `AuthAPI.java` file I&#39;ve got class with function (for now I&#39;ve removed callbacks):\r\n\r\n```\r\n    public void login(AuthType authType, String password) {\r\n        kotlinBackendApi.login(new AuthData(AuthType.PIN, password));\r\n    }\r\n```\r\n\r\nIn `KotlinBackendApi.kt` I&#39;ve created simply `Main` coroutine scope with launch method, that&#39;s my adapter for API:\r\n\r\n```\r\nprivate val scope = CoroutineScope(Job() + Dispatchers.Main)\r\n\r\nfun login(authData: AuthData) {\r\n        scope.launch() {\r\n            authenticator.authenticate(authData)\r\n        }\r\n    }\r\n```\r\n\r\nAuthenticator contains suspend function `authenticate`, that firstly call for JWT Token:\r\n\r\n```\r\noverride suspend fun authenticate(authData: AuthData) {\r\n        withContext(dispatcher) {\r\n            val orgAuthToken = getOrganizationToken()\r\n            // Other stuff\r\n            }\r\n        }\r\n```\r\n\r\nLater, `getOrganizationToken` is another suspend function:\r\n\r\n```\r\n    private suspend fun getOrganizationToken(): String {\r\n        return tokenJwtApi.getOrganizationToken()\r\n    }\r\n```\r\n\r\nIt breaks on line `return tokenJwtApi.getOrganizationToken()`. *It does not return any value*, like it seems to change coroutine to another one with scope UI, loosing conext in the meantime. Application hangs.","title":"Call Kotlin suspend function via Kotlin class in Java without freeze","body":"<p>I've got old Android project in Java and I want to extend it with new API from Kotlin. The problem is, when I call more than one suspend function in project, it loses execution point. When suspend function calls another one, it does not return any value, but cuts off all code execution. I ran debugger with &quot;Suspend: All&quot; and still nothing.</p>\n<p>In my <code>AuthAPI.java</code> file I've got class with function (for now I've removed callbacks):</p>\n<pre><code>    public void login(AuthType authType, String password) {\n        kotlinBackendApi.login(new AuthData(AuthType.PIN, password));\n    }\n</code></pre>\n<p>In <code>KotlinBackendApi.kt</code> I've created simply <code>Main</code> coroutine scope with launch method, that's my adapter for API:</p>\n<pre><code>private val scope = CoroutineScope(Job() + Dispatchers.Main)\n\nfun login(authData: AuthData) {\n        scope.launch() {\n            authenticator.authenticate(authData)\n        }\n    }\n</code></pre>\n<p>Authenticator contains suspend function <code>authenticate</code>, that firstly call for JWT Token:</p>\n<pre><code>override suspend fun authenticate(authData: AuthData) {\n        withContext(dispatcher) {\n            val orgAuthToken = getOrganizationToken()\n            // Other stuff\n            }\n        }\n</code></pre>\n<p>Later, <code>getOrganizationToken</code> is another suspend function:</p>\n<pre><code>    private suspend fun getOrganizationToken(): String {\n        return tokenJwtApi.getOrganizationToken()\n    }\n</code></pre>\n<p>It breaks on line <code>return tokenJwtApi.getOrganizationToken()</code>. <em>It does not return any value</em>, like it seems to change coroutine to another one with scope UI, loosing conext in the meantime. Application hangs.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-webflux","exponential-backoff"],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676026652,"creation_date":1675710935,"question_id":75365636,"body_markdown":"I have a `Kafka` consumer written in `Java` and `SpringBoot`.\r\nI am using `WebFlux` in order to make a call to trigger some actions on a third party server (and waiting the result of course).\r\nThis server has rate limit that is limiting me from making a lot of requests in a short time.\r\nIn order to prevent failures I intend to keep on trying calling the server using `WebFlux backoff`:\r\n```\r\nwebClientBuilder.build()\r\n.get()\r\n...\r\n.retryWhen(getRetryPolicyOnTooManyRequests())\r\n...\r\n\r\nprivate RetryBackoffSpec getRetryPolicyOnTooManyRequests() {\r\n    return Retry.backoff(20, Duration.ofSeconds(retryBackoffMinimumSeconds))\r\n        .filter(this::is429Error);\r\n}\r\n\r\nprivate boolean is429Error(Throwable throwable) {\r\n    return throwable instanceof WebClientResponseException\r\n        &amp;&amp; ((WebClientResponseException) throwable).getStatusCode() == HttpStatus.TOO_MANY_REQUESTS;\r\n}\r\n\r\n```\r\nMy questions are about the behavior I should expect from my kafka:\r\n\r\n 1. What will happen when I&#39;ll be `backoff`ing one of my calls? Will I be blocking the thread? Will a new thread be opened to process another message?\r\n 2. If I got the default consumer configurations (`max.poll.records`=500, `max.poll.interval.ms`=30000) and my backoff time will get to 5 minutes will the kafka group be rebalanced? \r\n 3. If so, is there a smarter way to tackle this issue so I won&#39;t get rebalanced\r\n    each time, other than just putting a super high number in `max.poll.interval.ms`\r\n\r\n","title":"WebFlux backoff and multi-threading in a kafka consumer flow","body":"<p>I have a <code>Kafka</code> consumer written in <code>Java</code> and <code>SpringBoot</code>.\nI am using <code>WebFlux</code> in order to make a call to trigger some actions on a third party server (and waiting the result of course).\nThis server has rate limit that is limiting me from making a lot of requests in a short time.\nIn order to prevent failures I intend to keep on trying calling the server using <code>WebFlux backoff</code>:</p>\n<pre><code>webClientBuilder.build()\n.get()\n...\n.retryWhen(getRetryPolicyOnTooManyRequests())\n...\n\nprivate RetryBackoffSpec getRetryPolicyOnTooManyRequests() {\n    return Retry.backoff(20, Duration.ofSeconds(retryBackoffMinimumSeconds))\n        .filter(this::is429Error);\n}\n\nprivate boolean is429Error(Throwable throwable) {\n    return throwable instanceof WebClientResponseException\n        &amp;&amp; ((WebClientResponseException) throwable).getStatusCode() == HttpStatus.TOO_MANY_REQUESTS;\n}\n\n</code></pre>\n<p>My questions are about the behavior I should expect from my kafka:</p>\n<ol>\n<li>What will happen when I'll be <code>backoff</code>ing one of my calls? Will I be blocking the thread? Will a new thread be opened to process another message?</li>\n<li>If I got the default consumer configurations (<code>max.poll.records</code>=500, <code>max.poll.interval.ms</code>=30000) and my backoff time will get to 5 minutes will the kafka group be rebalanced?</li>\n<li>If so, is there a smarter way to tackle this issue so I won't get rebalanced\neach time, other than just putting a super high number in <code>max.poll.interval.ms</code></li>\n</ol>\n"},{"tags":["java","angular","algorithm","aes","cbc-mode"],"answers":[{"tags":[],"owner":{"account_id":19185283,"reputation":41,"user_id":14016187,"display_name":"Antoine Dargouge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676022693,"creation_date":1676022693,"answer_id":75409381,"question_id":75408841,"body_markdown":"I finaly find a post who sayd they pkcs5 in java are the same as pkcs7 in angular\r\n--&gt;padding (128)\r\n\r\nsource:\r\nhttps://crypto.stackexchange.com/questions/9043/what-is-the-difference-between-pkcs5-padding-and-pkcs7-padding\r\n","title":"AES CBC algorithm/padding in java/angular","body":"<p>I finaly find a post who sayd they pkcs5 in java are the same as pkcs7 in angular\n--&gt;padding (128)</p>\n<p>source:\n<a href=\"https://crypto.stackexchange.com/questions/9043/what-is-the-difference-between-pkcs5-padding-and-pkcs7-padding\">https://crypto.stackexchange.com/questions/9043/what-is-the-difference-between-pkcs5-padding-and-pkcs7-padding</a></p>\n"},{"tags":[],"owner":{"account_id":26534196,"reputation":36,"user_id":20165976,"display_name":"Manali Lakhani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676026593,"creation_date":1676026593,"answer_id":75410149,"question_id":75408841,"body_markdown":"As per your code seems like, There is a issue with your PBEKeySpec and key length specification. \r\n**JAVA**: you must need to use &quot;AES/CBC/PKCS5Padding&quot; instead of &quot;AES/CBC/PKCS7Padding&quot;\r\n**Angular**: Make changes on key length and PBEKeySpec\r\n  let encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(&quot;hasan test&quot;), key,\r\n  {\r\n      keySize: 16,\r\n      iv: iv,\r\n      mode: CryptoJS.mode.CBC,\r\n      padding: CryptoJS.pad.Pkcs7\r\n  }).toString();\r\n","title":"AES CBC algorithm/padding in java/angular","body":"<p>As per your code seems like, There is a issue with your PBEKeySpec and key length specification.\n<strong>JAVA</strong>: you must need to use &quot;AES/CBC/PKCS5Padding&quot; instead of &quot;AES/CBC/PKCS7Padding&quot;\n<strong>Angular</strong>: Make changes on key length and PBEKeySpec\nlet encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(&quot;hasan test&quot;), key,\n{\nkeySize: 16,\niv: iv,\nmode: CryptoJS.mode.CBC,\npadding: CryptoJS.pad.Pkcs7\n}).toString();</p>\n"}],"owner":{"account_id":19185283,"reputation":41,"user_id":14016187,"display_name":"Antoine Dargouge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75410149,"answer_count":2,"score":2,"last_activity_date":1676026593,"creation_date":1676019388,"question_id":75408841,"body_markdown":"I have written this code in Angular to encrypt a string:\r\n\r\n\r\n    import { Injectable } from &#39;@angular/core&#39;;\r\n    import * as CryptoJS from &#39;crypto-js&#39;;\r\n    \r\n    @Injectable({\r\n        providedIn: &#39;root&#39;,\r\n      })\r\n    export class CryptoService {\r\n      \r\n      encrypt(message: string, clef: string): string {\r\n    \r\n        const salt = CryptoJS.SHA256(&quot;123456789123&quot;);\r\n    \r\n        const key = CryptoJS.PBKDF2(clef, salt, {\r\n          keySize: 128 / 32,\r\n          iterations: 1000\r\n      });\r\n    \r\n        // var key = CryptoJS.enc.Utf8.parse(clef);\r\n        let iv = CryptoJS.enc.Utf8.parse(clef);\r\n        let encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(message.toString()), key,\r\n        {\r\n            keySize: 128 / 8,\r\n            iv: iv,\r\n            mode: CryptoJS.mode.CBC,\r\n            padding: CryptoJS.pad.Pkcs7\r\n        });\r\n    \r\n    \r\n        // var encryptedMessage = CryptoJS.AES.encrypt(message.trim(), key).toString();\r\n    \r\n        return encrypted.toString();\r\n      }\r\n    \r\n      generateKey(): string {\r\n          let result = &#39;&#39;;\r\n          const characters = &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&#39;;\r\n          const charactersLength = characters.length;\r\n          let counter = 0;\r\n          while (counter &lt; 16) {\r\n          result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n          counter += 1;\r\n          }\r\n          return result;\r\n      }\r\n    }\r\n\r\nI transfer my key and encriptedMessage to the back for the decryption.\r\n\r\nI code dat on java:\r\n\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    \r\n    public class AESUtilService {\r\n    \t\r\n    \tprotected static final String salt = &quot;123456789123&quot;;\r\n    \t\r\n    \tpublic SecretKey getKeyFromPassword(String password)\r\n    \t\tthrows NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \t    \r\n    \t    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n    \t    KeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 1000, 128/32);\r\n    \t    SecretKey secret = factory.generateSecret(spec);\r\n    \t    return secret;\r\n    \t}\r\n        public String decrypt(String cipherText, SecretKey key)\r\n    \t\tthrows NoSuchPaddingException, NoSuchAlgorithmException,\r\n    \t\tInvalidAlgorithmParameterException, InvalidKeyException,\r\n    \t\tBadPaddingException, IllegalBlockSizeException {\r\n    \t\t    \r\n    \t\tString algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\r\n    \t\tIvParameterSpec iv = new IvParameterSpec(&quot;MnTQLHcWumIKTXpQ&quot;.getBytes());\r\n    \t\t\r\n    \t\tCipher cipher = Cipher.getInstance(algorithm);\r\n    \t\tcipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n    \t\tbyte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\r\n    \t\treturn new String(plainText);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nMy issue is the following.\r\nThe part of the code `Cipher cipher = Cipher.getInstance(algorithm);` crashes in java, if I use `String algorithm = &quot;AES/CBC/PKCS7Padding&quot;;`\r\nHowever it would pass with `String algorithm = &quot;AES/CBC/PKCS5Padding&quot;;`, but this time it&#39;s angular that would crash. **padding: CryptoJS.pad.Pkcs5**\r\n\r\nI can&#39;t find a solution for this problem, and that&#39;s why I ask for your help.\r\n","title":"AES CBC algorithm/padding in java/angular","body":"<p>I have written this code in Angular to encrypt a string:</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport * as CryptoJS from 'crypto-js';\n\n@Injectable({\n    providedIn: 'root',\n  })\nexport class CryptoService {\n  \n  encrypt(message: string, clef: string): string {\n\n    const salt = CryptoJS.SHA256(&quot;123456789123&quot;);\n\n    const key = CryptoJS.PBKDF2(clef, salt, {\n      keySize: 128 / 32,\n      iterations: 1000\n  });\n\n    // var key = CryptoJS.enc.Utf8.parse(clef);\n    let iv = CryptoJS.enc.Utf8.parse(clef);\n    let encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(message.toString()), key,\n    {\n        keySize: 128 / 8,\n        iv: iv,\n        mode: CryptoJS.mode.CBC,\n        padding: CryptoJS.pad.Pkcs7\n    });\n\n\n    // var encryptedMessage = CryptoJS.AES.encrypt(message.trim(), key).toString();\n\n    return encrypted.toString();\n  }\n\n  generateKey(): string {\n      let result = '';\n      const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      const charactersLength = characters.length;\n      let counter = 0;\n      while (counter &lt; 16) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      counter += 1;\n      }\n      return result;\n  }\n}\n</code></pre>\n<p>I transfer my key and encriptedMessage to the back for the decryption.</p>\n<p>I code dat on java:</p>\n<pre><code>import java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Base64;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\n\npublic class AESUtilService {\n    \n    protected static final String salt = &quot;123456789123&quot;;\n    \n    public SecretKey getKeyFromPassword(String password)\n        throws NoSuchAlgorithmException, InvalidKeySpecException {\n        \n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 1000, 128/32);\n        SecretKey secret = factory.generateSecret(spec);\n        return secret;\n    }\n    public String decrypt(String cipherText, SecretKey key)\n        throws NoSuchPaddingException, NoSuchAlgorithmException,\n        InvalidAlgorithmParameterException, InvalidKeyException,\n        BadPaddingException, IllegalBlockSizeException {\n            \n        String algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\n        IvParameterSpec iv = new IvParameterSpec(&quot;MnTQLHcWumIKTXpQ&quot;.getBytes());\n        \n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\n        return new String(plainText);\n    }\n    \n}\n</code></pre>\n<p>My issue is the following.\nThe part of the code <code>Cipher cipher = Cipher.getInstance(algorithm);</code> crashes in java, if I use <code>String algorithm = &quot;AES/CBC/PKCS7Padding&quot;;</code>\nHowever it would pass with <code>String algorithm = &quot;AES/CBC/PKCS5Padding&quot;;</code>, but this time it's angular that would crash. <strong>padding: CryptoJS.pad.Pkcs5</strong></p>\n<p>I can't find a solution for this problem, and that's why I ask for your help.</p>\n"},{"tags":["java","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":8070277,"reputation":911,"user_id":6083277,"display_name":"Romeo Sheshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660907148,"creation_date":1660907148,"answer_id":73415810,"question_id":73415368,"body_markdown":"Seems that the example may be an old example, actually you can use a different method based on the object you want instead of `members()` the `membersAsUser()`  actually the memberAsUser add the path microsoft.graph.user like this way \r\n\r\n    //microsoft ghraph source code\r\n    @Nonnull\r\n    public UserCollectionRequestBuilder membersAsUser() {\r\n        return new UserCollectionRequestBuilder(getRequestUrlWithAdditionalSegment(&quot;members&quot;) + &quot;/microsoft.graph.user&quot;, getClient(), null);\r\n    }\r\n\r\nso the example with be like this way \r\n   \r\n\r\n    UserCollectionPage user = graphClient.groups(&quot;{id}&quot;).membersAsUser()\r\n                    .buildRequest( requestOptions )\r\n                    .select(&quot;displayName,id&quot;)\r\n                    .orderBy(&quot;displayName&quot;)\r\n                    .get();","title":"Microsoft Graph API fetch user collection from Group members using java","body":"<p>Seems that the example may be an old example, actually you can use a different method based on the object you want instead of <code>members()</code> the <code>membersAsUser()</code>  actually the memberAsUser add the path microsoft.graph.user like this way</p>\n<pre><code>//microsoft ghraph source code\n@Nonnull\npublic UserCollectionRequestBuilder membersAsUser() {\n    return new UserCollectionRequestBuilder(getRequestUrlWithAdditionalSegment(&quot;members&quot;) + &quot;/microsoft.graph.user&quot;, getClient(), null);\n}\n</code></pre>\n<p>so the example with be like this way</p>\n<pre><code>UserCollectionPage user = graphClient.groups(&quot;{id}&quot;).membersAsUser()\n                .buildRequest( requestOptions )\n                .select(&quot;displayName,id&quot;)\n                .orderBy(&quot;displayName&quot;)\n                .get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314096,"reputation":335,"user_id":629096,"display_name":"stephen ebichondo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676026163,"creation_date":1676026163,"answer_id":75410066,"question_id":73415368,"body_markdown":"I had a similar issue with the groups endpoint \r\n\r\n    GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n    \r\n    LinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\r\n    requestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\r\n    GroupCollectionPage group = graphClient.users({id}).memberOf().microsoft.graph.group()\r\n\t.buildRequest( requestOptions )\r\n\t.filter(&quot;startswith(displayName, &#39;in&#39;)&quot;)\r\n\t.orderBy(&quot;displayName&quot;)\r\n\t.get();\r\n\r\nI had to work around it since .microsoft() method does not exist and isn&#39;t resolving to anything. \r\n\r\n      final GroupCollectionPage userGroups = _appClient.users({id})\r\n                .memberOfAsGroup()\r\n                .buildRequest(requestOptions)\r\n                .select(&quot;displayName,id,mail&quot;)\r\n                .filter(&quot;startswith(displayName, &#39;c&#39;)&quot;)\r\n                .orderBy(&quot;displayName&quot;)\r\n                .get();\r\n\r\n\r\n\r\n","title":"Microsoft Graph API fetch user collection from Group members using java","body":"<p>I had a similar issue with the groups endpoint</p>\n<pre><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nLinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\nrequestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\nGroupCollectionPage group = graphClient.users({id}).memberOf().microsoft.graph.group()\n.buildRequest( requestOptions )\n.filter(&quot;startswith(displayName, 'in')&quot;)\n.orderBy(&quot;displayName&quot;)\n.get();\n</code></pre>\n<p>I had to work around it since .microsoft() method does not exist and isn't resolving to anything.</p>\n<pre><code>  final GroupCollectionPage userGroups = _appClient.users({id})\n            .memberOfAsGroup()\n            .buildRequest(requestOptions)\n            .select(&quot;displayName,id,mail&quot;)\n            .filter(&quot;startswith(displayName, 'c')&quot;)\n            .orderBy(&quot;displayName&quot;)\n            .get();\n</code></pre>\n"}],"owner":{"account_id":5568337,"reputation":614,"user_id":4414667,"display_name":"Ahmet Eroğlu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676026163,"creation_date":1660904941,"question_id":73415368,"body_markdown":"I need to fetch the users from a group with certain ID. For this one there is a code snippet in the official documentation.\r\n\r\n\r\nhttps://learn.microsoft.com/en-us/graph/api/group-list-members?view=graph-rest-1.0&amp;tabs=java\r\n\r\n        GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n    \r\n    LinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\r\n    requestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\r\n    requestOptions.add(new QueryOption(&quot;$search&quot;, &quot;displayName:Pr&quot;));\r\n    \r\n    UserCollectionPage user = graphClient.groups(&quot;{id}&quot;).members().microsoft.graph.user()\r\n    \t.buildRequest( requestOptions )\r\n    \t.select(&quot;displayName,id&quot;)\r\n    \t.orderBy(&quot;displayName&quot;)\r\n    \t.get();\r\n\r\nAs can be seen from the above sample given, there is a chain call after members(). method, however although I use the latest version from maven central repository, .microsoft() method does not exist and isn&#39;t resolving to anything.\r\nIf I use members().buildRequest().get() then it brings me an another directory instance but not the usercollectionpage list. How can i fix this problem?","title":"Microsoft Graph API fetch user collection from Group members using java","body":"<p>I need to fetch the users from a group with certain ID. For this one there is a code snippet in the official documentation.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/api/group-list-members?view=graph-rest-1.0&amp;tabs=java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/group-list-members?view=graph-rest-1.0&amp;tabs=java</a></p>\n<pre><code>    GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nLinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\nrequestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\nrequestOptions.add(new QueryOption(&quot;$search&quot;, &quot;displayName:Pr&quot;));\n\nUserCollectionPage user = graphClient.groups(&quot;{id}&quot;).members().microsoft.graph.user()\n    .buildRequest( requestOptions )\n    .select(&quot;displayName,id&quot;)\n    .orderBy(&quot;displayName&quot;)\n    .get();\n</code></pre>\n<p>As can be seen from the above sample given, there is a chain call after members(). method, however although I use the latest version from maven central repository, .microsoft() method does not exist and isn't resolving to anything.\nIf I use members().buildRequest().get() then it brings me an another directory instance but not the usercollectionpage list. How can i fix this problem?</p>\n"},{"tags":["java","maven","maven-plugin","dependency-management"],"owner":{"account_id":27642790,"reputation":1,"user_id":21099385,"display_name":"silspi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676026071,"creation_date":1676025962,"question_id":75410027,"body_markdown":"I&#39;m trying to implement a Maven based Minecraft Plugin. For this I need some Jar files, such as Coreprotect or Craftbukkit. When I add them to my &quot;local-maven-repo&quot; in the project, it doesn&#39;t accept the dependency in the pom.xml file. \r\n\r\nHere are the methods I tried:\r\n\r\n1. I created the &quot;local-maven-repo&quot; in the pom.xml file:\r\n```\r\n&lt;repository&gt;\r\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\r\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```\r\n[&quot;local-maven-repo&quot; creation](https://i.stack.imgur.com/CGQQJ.png)\r\n\r\n2. I put the Jar files into the respective folder:\r\n[Jar files in repo folder](https://i.stack.imgur.com/cCZ2W.png)\r\n\r\n3. I added the dependency as follows and got this error:\r\n```\r\n&lt;dependency&gt;\r\n       &lt;groupId&gt;net.coreprotect&lt;/groupId&gt;\r\n       &lt;artifactId&gt;CoreProtect&lt;/artifactId&gt;\r\n       &lt;version&gt;21.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n       &lt;groupId&gt;org.bukkit.craftbukkit&lt;/groupId&gt;\r\n       &lt;artifactId&gt;craftbukkit&lt;/artifactId&gt;\r\n       &lt;version&gt;1.19.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n[Dependency and error message](https://i.stack.imgur.com/EVNHE.png)\r\n\r\n------------*\r\nAnother way I tried is, installing the jars via the commandline (from my Downloads folder into the &quot;local-maven-repo&quot;), using the following command:\r\nmvn install:install-file \r\n-DgroupId=net.coreprotect -DartifactId=Coreprotect -Dversion=21.3 \r\n-Dpackaging=jar -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=C:\\Users\\silsp\\Downloads\\CoreProtect-21.3.jar\r\n\r\nI am not 100% sure about the correct names in this command, however the error looks like this: \r\n[Maven build compile error](https://i.stack.imgur.com/eohCm.png)\r\nI don&#39;t know why it refers to &quot;.coreprotect&quot; as the lifecycle phase, so I am not sure how to fix this error.\r\n\r\nMy pom.xml file can be found under this likn: https://www.mediafire.com/file/6671dpyo040yace/pomStackOverflow.xml/file\r\n\r\nAny help or advices on how I get these Jar files as a dependency in my project is much appreciated.\r\n","title":"How to add a local Jar file as project dependency in Maven","body":"<p>I'm trying to implement a Maven based Minecraft Plugin. For this I need some Jar files, such as Coreprotect or Craftbukkit. When I add them to my &quot;local-maven-repo&quot; in the project, it doesn't accept the dependency in the pom.xml file.</p>\n<p>Here are the methods I tried:</p>\n<ol>\n<li>I created the &quot;local-maven-repo&quot; in the pom.xml file:</li>\n</ol>\n<pre><code>&lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CGQQJ.png\" rel=\"nofollow noreferrer\">&quot;local-maven-repo&quot; creation</a></p>\n<ol start=\"2\">\n<li><p>I put the Jar files into the respective folder:\n<a href=\"https://i.stack.imgur.com/cCZ2W.png\" rel=\"nofollow noreferrer\">Jar files in repo folder</a></p>\n</li>\n<li><p>I added the dependency as follows and got this error:</p>\n</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n       &lt;groupId&gt;net.coreprotect&lt;/groupId&gt;\n       &lt;artifactId&gt;CoreProtect&lt;/artifactId&gt;\n       &lt;version&gt;21.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n       &lt;groupId&gt;org.bukkit.craftbukkit&lt;/groupId&gt;\n       &lt;artifactId&gt;craftbukkit&lt;/artifactId&gt;\n       &lt;version&gt;1.19.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EVNHE.png\" rel=\"nofollow noreferrer\">Dependency and error message</a></p>\n<p>------------*\nAnother way I tried is, installing the jars via the commandline (from my Downloads folder into the &quot;local-maven-repo&quot;), using the following command:\nmvn install:install-file\n-DgroupId=net.coreprotect -DartifactId=Coreprotect -Dversion=21.3\n-Dpackaging=jar -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=C:\\Users\\silsp\\Downloads\\CoreProtect-21.3.jar</p>\n<p>I am not 100% sure about the correct names in this command, however the error looks like this:\n<a href=\"https://i.stack.imgur.com/eohCm.png\" rel=\"nofollow noreferrer\">Maven build compile error</a>\nI don't know why it refers to &quot;.coreprotect&quot; as the lifecycle phase, so I am not sure how to fix this error.</p>\n<p>My pom.xml file can be found under this likn: <a href=\"https://www.mediafire.com/file/6671dpyo040yace/pomStackOverflow.xml/file\" rel=\"nofollow noreferrer\">https://www.mediafire.com/file/6671dpyo040yace/pomStackOverflow.xml/file</a></p>\n<p>Any help or advices on how I get these Jar files as a dependency in my project is much appreciated.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","geospatial"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676018783,"creation_date":1676018783,"answer_id":75408743,"question_id":75407458,"body_markdown":"As it&#39;s stated [here][1] \r\n\r\n&gt; This query will throw the mentioned error: #1416 - Cannot get geometry object from data you send to the GEOMETRY field. This happens because the query is invalid. To prevent this exception from appearing, you need to fix your query to match the current version of MySQL or MariaDB.\r\n\r\nI think something is wrong about how you construct `Point` object, namely instead of `wktToGeometry` you should use `wktToPoint`:\r\n\r\n&gt; - ST_GeomFromText(wkt, srid) can return ANY spatial type that is supported by MySQL and can be represented by WKT. This makes it loosely typed if you want to think of it like that.\r\n&gt; - ST_PointFromText(wkt, srid) a strongly-typed POINT-constructor from Well-known text.\r\n\r\n\r\n  [1]: https://ourcodeworld.com/articles/read/1583/what-is-causing-mysql-error-1416-cannot-get-geometry-object-from-data-you-send-to-the-geometry-field#:~:text=This%20query%20will%20throw%20the,version%20of%20MySQL%20or%20MariaDB.","title":"How to insert Geo location using spring data JPA","body":"<p>As it's stated <a href=\"https://ourcodeworld.com/articles/read/1583/what-is-causing-mysql-error-1416-cannot-get-geometry-object-from-data-you-send-to-the-geometry-field#:%7E:text=This%20query%20will%20throw%20the,version%20of%20MySQL%20or%20MariaDB.\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>This query will throw the mentioned error: #1416 - Cannot get geometry object from data you send to the GEOMETRY field. This happens because the query is invalid. To prevent this exception from appearing, you need to fix your query to match the current version of MySQL or MariaDB.</p>\n</blockquote>\n<p>I think something is wrong about how you construct <code>Point</code> object, namely instead of <code>wktToGeometry</code> you should use <code>wktToPoint</code>:</p>\n<blockquote>\n<ul>\n<li>ST_GeomFromText(wkt, srid) can return ANY spatial type that is supported by MySQL and can be represented by WKT. This makes it loosely typed if you want to think of it like that.</li>\n<li>ST_PointFromText(wkt, srid) a strongly-typed POINT-constructor from Well-known text.</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676026063,"creation_date":1676026063,"answer_id":75410050,"question_id":75407458,"body_markdown":"I forgot mentioned one properties in my code. \r\nActually instead of simple MySql dialet we need to use below spatial dialet\r\n\r\n    hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56SpatialDialect\r\n\r\nAfter updating dialet it will work fine.","title":"How to insert Geo location using spring data JPA","body":"<p>I forgot mentioned one properties in my code.\nActually instead of simple MySql dialet we need to use below spatial dialet</p>\n<pre><code>hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56SpatialDialect\n</code></pre>\n<p>After updating dialet it will work fine.</p>\n"}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676026063,"creation_date":1676008948,"question_id":75407458,"body_markdown":"I am trying to insert Geo location into MySql database using spring data JPA. \r\nMySql Version : 5.7.17\r\n\r\nFor spring boot I have used 2.5.6 boot version and below dependency I have used\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nBelow is the Entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;USER_DETAILS&quot;)\r\n    @Getter\r\n    @Setter\r\n    @Data\r\n    public class UserDetails implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 3937414011943770889L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tprivate Integer id;\r\n    \r\n    \t@Column(name = &quot;USER_NAME&quot;)\r\n    \tprivate String userName;\r\n    \r\n    \t@Column(name = &quot;MOBILE_NO&quot;)\r\n    \tprivate String mobileNo;\r\n    \r\n    \t@Column(name = &quot;EMAIL_ID&quot;)\r\n    \tprivate String emailId;\r\n    \r\n    \t@Column(name = &quot;COORDINATE&quot;)\r\n    \tprivate Point point;\r\n\r\nFrom java side I have used below code\r\n\r\n\tpublic Geometry wktToGeometry(String wellKnownText) throws ParseException {\r\n\t\treturn new WKTReader().read(wellKnownText);\r\n\t}\r\n\r\n\tpublic void saveUser(String lat, String longitude) {\r\n\t\ttry {\r\n\t\t\tfinal User user = getUserDetails();\r\n\r\n\t\t\tUserDetails userDetails = new UserDetails();\r\n\t\t\tuserDetails.setUserName(user.getName());\r\n\t\t\tuserDetails.setEmailId(user.getEmail());\r\n\t\t\tuserDetails.setPoint( (Point) wktToGeometry(&quot;POINT (2 5)&quot;));\r\n\t\t\tuserDetailsRepository.save(userDetails);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Something went wrong!\\n&quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nBut after executing above code getting below issue\t\r\n\r\n    Hibernate: insert into user_details (email_id, mobile_no, coordinate, user_name) values (?, ?, ?, ?)\r\n    [2m2023-02-10 11:15:19.905[0;39m [33m WARN[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: 1416, SQLState: 22001\r\n    [2m2023-02-10 11:15:19.906[0;39m [31mERROR[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m Data truncation: Cannot get geometry object from data you send to the GEOMETRY field\r\n\r\nTable Structure\r\n\r\n  \r\n\r\n    CREATE TABLE USER_DETAILS (\r\n    \t  ID INT(10) NOT NULL AUTO_INCREMENT,\r\n    \t  USER_NAME VARCHAR(100) DEFAULT NULL,\r\n    \t  MOBILE_NO VARCHAR(10) DEFAULT NULL, \r\n    \t  EMAIL_ID VARCHAR(100) DEFAULT NULL,\r\n    \t  COORDINATE POINT NOT NULL,\r\n    \t  PRIMARY KEY (ID),\r\n    \t  SPATIAL INDEX (COORDINATE)\r\n    \t);","title":"How to insert Geo location using spring data JPA","body":"<p>I am trying to insert Geo location into MySql database using spring data JPA.\nMySql Version : 5.7.17</p>\n<p>For spring boot I have used 2.5.6 boot version and below dependency I have used</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Below is the Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;USER_DETAILS&quot;)\n@Getter\n@Setter\n@Data\npublic class UserDetails implements Serializable {\n\n    private static final long serialVersionUID = 3937414011943770889L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private Integer id;\n\n    @Column(name = &quot;USER_NAME&quot;)\n    private String userName;\n\n    @Column(name = &quot;MOBILE_NO&quot;)\n    private String mobileNo;\n\n    @Column(name = &quot;EMAIL_ID&quot;)\n    private String emailId;\n\n    @Column(name = &quot;COORDINATE&quot;)\n    private Point point;\n</code></pre>\n<p>From java side I have used below code</p>\n<pre><code>public Geometry wktToGeometry(String wellKnownText) throws ParseException {\n    return new WKTReader().read(wellKnownText);\n}\n\npublic void saveUser(String lat, String longitude) {\n    try {\n        final User user = getUserDetails();\n\n        UserDetails userDetails = new UserDetails();\n        userDetails.setUserName(user.getName());\n        userDetails.setEmailId(user.getEmail());\n        userDetails.setPoint( (Point) wktToGeometry(&quot;POINT (2 5)&quot;));\n        userDetailsRepository.save(userDetails);\n    } catch (Exception e) {\n        System.out.println(&quot;Something went wrong!\\n&quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>But after executing above code getting below issue</p>\n<pre><code>Hibernate: insert into user_details (email_id, mobile_no, coordinate, user_name) values (?, ?, ?, ?)\n[2m2023-02-10 11:15:19.905[0;39m [33m WARN[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: 1416, SQLState: 22001\n[2m2023-02-10 11:15:19.906[0;39m [31mERROR[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m Data truncation: Cannot get geometry object from data you send to the GEOMETRY field\n</code></pre>\n<p>Table Structure</p>\n<pre><code>CREATE TABLE USER_DETAILS (\n      ID INT(10) NOT NULL AUTO_INCREMENT,\n      USER_NAME VARCHAR(100) DEFAULT NULL,\n      MOBILE_NO VARCHAR(10) DEFAULT NULL, \n      EMAIL_ID VARCHAR(100) DEFAULT NULL,\n      COORDINATE POINT NOT NULL,\n      PRIMARY KEY (ID),\n      SPATIAL INDEX (COORDINATE)\n    );\n</code></pre>\n"},{"tags":["java","spring-cloud-config-server"],"owner":{"account_id":11661724,"reputation":23,"user_id":8539792,"display_name":"Eager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676025957,"creation_date":1676025957,"question_id":75410025,"body_markdown":"I am doing a POC on Config Server wherein I will connect to BitBucket repo and if any checkin happen in that repo, my Config Service will pick those changes. In the below code if I am providing bitbucket credentials (hardcoding username and password), its able to connect to BitBucket and everything is working fine. But if I try to provide SSH key, its throwing below error:\r\n***application.yml***\r\n```\r\nserver.port: 8888\r\n\r\nspring:\r\n  application.name: config-server\r\n  cloud.config.server.git.uri: ${url}\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          cloneOnStart: true\r\n          username: username\r\n          password: password\r\n          default-label: master\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: refresh\r\neureka:\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:7001/eureka/\r\n    registryFetchIntervalSeconds: 1\r\n  instance:\r\n    leaseRenewalIntervalInSeconds: 1\r\n```\r\nLike I said the above configuration is working fine. When I replaced with the below configuration.\r\n```\r\nserver.port: 8888\r\n\r\nspring:\r\n  application.name: config-server\r\n  cloud.config.server.git.uri: ${URL}\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          #cloneOnStart: true\r\n          ignore-local-ssh-settings: true\r\n          hostKey: ${hostKEY}\r\n          hostKeyAlgorithm: ssh-rsa\r\n          private-key: ${SSH PRIVATE KEY}\r\n\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: refresh\r\neureka:\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:7001/eureka/\r\n    registryFetchIntervalSeconds: 1\r\n  instance:\r\n    leaseRenewalIntervalInSeconds: 1\r\n```\r\nI am getting below error::\r\n```\r\n2023-02-10T12:26:39.276+05:30  INFO 24628 --- [           main] c.e.c.ConfigServerApplication            : Started ConfigServerApplication in 2.949 seconds (process running for 3.646)\r\n2023-02-10T12:26:41.041+05:30  WARN 24628 --- [2)-10.73.53.175] .c.s.e.MultipleJGitEnvironmentRepository : Error occured cloning to base directory.\r\n\r\norg.eclipse.jgit.api.errors.TransportException: https://bitbucketdc-cluster07.jpmchase.net/scm/ccbrft/ccbrap-config.git: Authentication is required but no CredentialsProvider has been registered\r\n```\r\nI created SSH Key using command :: ssh-keygen -m PEM -t rsa -b 4096 -C &quot;cigfid_dev@example.com\r\n\r\nAny help is appreciated.\r\n","title":"Configure SSH key with Config Server","body":"<p>I am doing a POC on Config Server wherein I will connect to BitBucket repo and if any checkin happen in that repo, my Config Service will pick those changes. In the below code if I am providing bitbucket credentials (hardcoding username and password), its able to connect to BitBucket and everything is working fine. But if I try to provide SSH key, its throwing below error:\n<em><strong>application.yml</strong></em></p>\n<pre><code>server.port: 8888\n\nspring:\n  application.name: config-server\n  cloud.config.server.git.uri: ${url}\n  cloud:\n    config:\n      server:\n        git:\n          cloneOnStart: true\n          username: username\n          password: password\n          default-label: master\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: refresh\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:7001/eureka/\n    registryFetchIntervalSeconds: 1\n  instance:\n    leaseRenewalIntervalInSeconds: 1\n</code></pre>\n<p>Like I said the above configuration is working fine. When I replaced with the below configuration.</p>\n<pre><code>server.port: 8888\n\nspring:\n  application.name: config-server\n  cloud.config.server.git.uri: ${URL}\n  cloud:\n    config:\n      server:\n        git:\n          #cloneOnStart: true\n          ignore-local-ssh-settings: true\n          hostKey: ${hostKEY}\n          hostKeyAlgorithm: ssh-rsa\n          private-key: ${SSH PRIVATE KEY}\n\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: refresh\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:7001/eureka/\n    registryFetchIntervalSeconds: 1\n  instance:\n    leaseRenewalIntervalInSeconds: 1\n</code></pre>\n<p>I am getting below error::</p>\n<pre><code>2023-02-10T12:26:39.276+05:30  INFO 24628 --- [           main] c.e.c.ConfigServerApplication            : Started ConfigServerApplication in 2.949 seconds (process running for 3.646)\n2023-02-10T12:26:41.041+05:30  WARN 24628 --- [2)-10.73.53.175] .c.s.e.MultipleJGitEnvironmentRepository : Error occured cloning to base directory.\n\norg.eclipse.jgit.api.errors.TransportException: https://bitbucketdc-cluster07.jpmchase.net/scm/ccbrft/ccbrap-config.git: Authentication is required but no CredentialsProvider has been registered\n</code></pre>\n<p>I created SSH Key using command :: ssh-keygen -m PEM -t rsa -b 4096 -C &quot;cigfid_dev@example.com</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android","flutter","connection","network-connection"],"comments":[{"owner":{"account_id":9286061,"reputation":183,"user_id":6895907,"display_name":"DMacAttack"},"score":0,"creation_date":1654178680,"post_id":71439413,"comment_id":128033433,"body_markdown":"Did you find an answer to this ?","body":"Did you find an answer to this ?"},{"owner":{"account_id":16810239,"reputation":3,"user_id":12153416,"display_name":"TuceT"},"score":0,"creation_date":1654255403,"post_id":71439413,"comment_id":128053049,"body_markdown":"Unfortunately I couldn&#39;t find","body":"Unfortunately I couldn&#39;t find"}],"owner":{"account_id":16810239,"reputation":3,"user_id":12153416,"display_name":"TuceT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676025922,"creation_date":1647005935,"question_id":71439413,"body_markdown":"My tablet has 2 network connections(UsbEtherhet and wifi) but I want to default connection Usb/Ethernet.\r\n\r\nAndroid 10 and previous versions default connection is Usb/Ethernet but Android 11 default connection is wifi .How can set default can you help?\r\n\r\nI&#39;m using flutter and kotlin for native (java is possible)","title":"Set default connection ethernet Java in Andorid?","body":"<p>My tablet has 2 network connections(UsbEtherhet and wifi) but I want to default connection Usb/Ethernet.</p>\n<p>Android 10 and previous versions default connection is Usb/Ethernet but Android 11 default connection is wifi .How can set default can you help?</p>\n<p>I'm using flutter and kotlin for native (java is possible)</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675948120,"post_id":75398885,"comment_id":133039821,"body_markdown":"AFAIK Maven runs all of its plugins in the same JVM, so you can&#39;t do that. The few cases where you can specify a JVM to run (such as for tests) are when the plugin itself launches a new JVM.","body":"AFAIK Maven runs all of its plugins in the same JVM, so you can&#39;t do that. The few cases where you can specify a JVM to run (such as for tests) are when the plugin itself launches a new JVM."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675950153,"post_id":75398885,"comment_id":133040495,"body_markdown":"Which plugin has such issues? Can you name it?","body":"Which plugin has such issues? Can you name it?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676025884,"creation_date":1676025884,"answer_id":75410007,"question_id":75398885,"body_markdown":"Depending on the plugins and the context, you may solve the problem by using separate Maven runs, i.e. run\r\n\r\n`mvn clean install`\r\n\r\nwith JDK17 and then run `mvn some:plugin` with a different JDK.","title":"use different java versions for different maven plugins","body":"<p>Depending on the plugins and the context, you may solve the problem by using separate Maven runs, i.e. run</p>\n<p><code>mvn clean install</code></p>\n<p>with JDK17 and then run <code>mvn some:plugin</code> with a different JDK.</p>\n"}],"owner":{"account_id":329066,"reputation":6021,"user_id":652378,"accept_rate":52,"display_name":"Chirlo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676025884,"creation_date":1675947182,"question_id":75398885,"body_markdown":"I have a pom including some plugins. The project&#39;s sources are java 17 and as such, the maven build is run with a jdk17+. Now, one of the plugins bound to the `site` lifecycle, let&#39;s say plugin `P1`,  is older and it doesn&#39;t work with java versions newer than 9 ( because of some deprecated API that is no longer present in the jdk)\r\n\r\nMy question is: is it possible to somehow configure in the pom that **some plugins** should be run with a different java version? \r\n\r\nMy intention is to run the plugin as it is, not wanting to re-write it or modify it in any way. \r\nI know about maven `toolchains`, but I don&#39;t see how this applies, as that configures the jdk version for all plugins. ","title":"use different java versions for different maven plugins","body":"<p>I have a pom including some plugins. The project's sources are java 17 and as such, the maven build is run with a jdk17+. Now, one of the plugins bound to the <code>site</code> lifecycle, let's say plugin <code>P1</code>,  is older and it doesn't work with java versions newer than 9 ( because of some deprecated API that is no longer present in the jdk)</p>\n<p>My question is: is it possible to somehow configure in the pom that <strong>some plugins</strong> should be run with a different java version?</p>\n<p>My intention is to run the plugin as it is, not wanting to re-write it or modify it in any way.\nI know about maven <code>toolchains</code>, but I don't see how this applies, as that configures the jdk version for all plugins.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676037337,"post_id":75410004,"comment_id":133061944,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27752368,"reputation":1,"user_id":21186571,"display_name":"Jove Garcia Florian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676025840,"creation_date":1676025840,"question_id":75410004,"body_markdown":"I do not manage to create an application on android studio to abcner a robot in bluetooth with the alphabot hc-05 and alsoi it is necessary to make a detector of intruder thanks to the detector of movement and send a sms when it detects an intruder\r\n\r\nI tried to create a code but it doesn&#39;t work","title":"Surveillance robot application on android studio","body":"<p>I do not manage to create an application on android studio to abcner a robot in bluetooth with the alphabot hc-05 and alsoi it is necessary to make a detector of intruder thanks to the detector of movement and send a sms when it detects an intruder</p>\n<p>I tried to create a code but it doesn't work</p>\n"},{"tags":["java","multithreading","concurrenthashmap","happens-before"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1622739725,"post_id":67825678,"comment_id":119884905,"body_markdown":"I would consider this to be implied by the thread-safety guarantee.","body":"I would consider this to be implied by the thread-safety guarantee."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1622797003,"post_id":67825678,"comment_id":119899831,"body_markdown":"You’re going back to the issue already [explained here](https://stackoverflow.com/a/67822241/2711488). The problem is, what does the caller of `read` do? It will see “the result of the latest `write`”, but which write was the latest write? Without any defined order, none may have happen yet and all of them may be running just now, concurrently to the caller of the `read` method.","body":"You’re going back to the issue already <a href=\"https://stackoverflow.com/a/67822241/2711488\">explained here</a>. The problem is, what does the caller of <code>read</code> do? It will see “the result of the latest <code>write</code>”, but which write was the latest write? Without any defined order, none may have happen yet and all of them may be running just now, concurrently to the caller of the <code>read</code> method."},{"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"score":0,"creation_date":1622816357,"post_id":67825678,"comment_id":119907973,"body_markdown":"Yes, it is good enough for visibility. I think it&#39;s a bit too much for visibility. For the `read()` method you can use `CHM.get()` and live happily ever after.","body":"Yes, it is good enough for visibility. I think it&#39;s a bit too much for visibility. For the <code>read()</code> method you can use <code>CHM.get()</code> and live happily ever after."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1622833684,"post_id":67825678,"comment_id":119914556,"body_markdown":"@TamasRev no you can&#39;t use `get`. The comments and the initial questions I linked discuss that much broader.","body":"@TamasRev no you can&#39;t use <code>get</code>. The comments and the initial questions I linked discuss that much broader."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1623203402,"post_id":67825678,"comment_id":120009585,"body_markdown":"@Holger do you mind posting an answer? I understood your point finally.","body":"@Holger do you mind posting an answer? I understood your point finally."}],"answers":[{"tags":[],"owner":{"account_id":21829083,"reputation":31,"user_id":16124211,"display_name":"pluk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622783005,"creation_date":1622783005,"answer_id":67831727,"question_id":67825678,"body_markdown":"The `compute()` javadoc [says](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1876) what this method does:\r\n&gt; Attempts to compute a mapping for the specified key and its current mapped value (or `null` if there is no current mapping).\r\n\r\nSo `compute()` **replaces** a value for the key.\r\n\r\nTo use `compute()` to modify the internal fields of some object (even the object is stored as a value in the map) is not what `compute()` was meant for.  \r\nTherefore, naturally, `compute()`&#39;s specification/documentation guarantees (and even says) nothing about that.\r\n\r\n\r\nRegarding `happens-before`, there are multiple mentions in the documentation:\r\n- [ConcurrentHashMap](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L89):\r\n    &gt; More formally, an update operation for a given key bears a _happens-before_ relation with any (non-null) retrieval for that key reporting the updated value.\r\n- [ConcurrentMap](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentMap.java#L55):  \r\n    &gt; Memory consistency effects: As with other concurrent collections, actions in a thread prior to placing an object into a `ConcurrentMap` as a key or value _happen-before_ actions subsequent to the access or removal of that object from the `ConcurrentMap` in another thread.\r\n- [java.util.concurrent](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/package-info.java#L270):  \r\n    &gt; Actions in a thread prior to placing an object into any concurrent collection _happen-before_ actions subsequent to the access or removal of that element from the collection in another thread.\r\n\r\nThe important thing is that the `happen-before` relation is only guaranteed between insertion/removal/retrieval of objects to/from the collection.  \r\nIn your case it is the same `State` object (only internal its fields are updated), so IMO according to documentation `ConcurrentHashMap` is even allowed to decide that nothing changed and skip the remaining synchronization steps.","title":"ConcurrentHashMap read/update only via compute method","body":"<p>The <code>compute()</code> javadoc <a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1876\" rel=\"nofollow noreferrer\">says</a> what this method does:</p>\n<blockquote>\n<p>Attempts to compute a mapping for the specified key and its current mapped value (or <code>null</code> if there is no current mapping).</p>\n</blockquote>\n<p>So <code>compute()</code> <strong>replaces</strong> a value for the key.</p>\n<p>To use <code>compute()</code> to modify the internal fields of some object (even the object is stored as a value in the map) is not what <code>compute()</code> was meant for.<br />\nTherefore, naturally, <code>compute()</code>'s specification/documentation guarantees (and even says) nothing about that.</p>\n<p>Regarding <code>happens-before</code>, there are multiple mentions in the documentation:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L89\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a>:\n<blockquote>\n<p>More formally, an update operation for a given key bears a <em>happens-before</em> relation with any (non-null) retrieval for that key reporting the updated value.</p>\n</blockquote>\n</li>\n<li><a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentMap.java#L55\" rel=\"nofollow noreferrer\">ConcurrentMap</a>:\n<blockquote>\n<p>Memory consistency effects: As with other concurrent collections, actions in a thread prior to placing an object into a <code>ConcurrentMap</code> as a key or value <em>happen-before</em> actions subsequent to the access or removal of that object from the <code>ConcurrentMap</code> in another thread.</p>\n</blockquote>\n</li>\n<li><a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/package-info.java#L270\" rel=\"nofollow noreferrer\">java.util.concurrent</a>:\n<blockquote>\n<p>Actions in a thread prior to placing an object into any concurrent collection <em>happen-before</em> actions subsequent to the access or removal of that element from the collection in another thread.</p>\n</blockquote>\n</li>\n</ul>\n<p>The important thing is that the <code>happen-before</code> relation is only guaranteed between insertion/removal/retrieval of objects to/from the collection.<br />\nIn your case it is the same <code>State</code> object (only internal its fields are updated), so IMO according to documentation <code>ConcurrentHashMap</code> is even allowed to decide that nothing changed and skip the remaining synchronization steps.</p>\n"},{"tags":[],"owner":{"account_id":6183990,"reputation":71,"user_id":4818628,"display_name":"Sergey Kosarev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676025693,"creation_date":1676025693,"answer_id":75409974,"question_id":67825678,"body_markdown":"There is `happens-before` between `Holder.read` and `Holder.write` methods obviously. But no any guaranties between `State.getAge` and `Holder.write`.\r\nif you want to read age you actually need to execute two operations:\r\n\r\n    (1) State state = holder.read(key);\r\n\r\n    (2) int age = state.getAge();\r\n\r\nSo, if `Holder.write` in another thread happens after (1) but before (2), you may see old age value in (2).\r\n\r\n","title":"ConcurrentHashMap read/update only via compute method","body":"<p>There is <code>happens-before</code> between <code>Holder.read</code> and <code>Holder.write</code> methods obviously. But no any guaranties between <code>State.getAge</code> and <code>Holder.write</code>.\nif you want to read age you actually need to execute two operations:</p>\n<pre><code>(1) State state = holder.read(key);\n\n(2) int age = state.getAge();\n</code></pre>\n<p>So, if <code>Holder.write</code> in another thread happens after (1) but before (2), you may see old age value in (2).</p>\n"}],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1676025693,"creation_date":1622739462,"question_id":67825678,"body_markdown":"This is basically a continuation of [this][1] or [this][2], or many others in that regard.\r\n\r\nMy question is probably simple, if I use `ConcurrentHashMap::compute` _only_, in both readers and writers of some value, is that enough to ensure _visibility_?\r\n\r\nI do know that `compute` method:\r\n\r\n&gt; The entire method invocation is performed atomically\r\n\r\nIs that enough to guarantee _visibility_? Specifically, is that true specification/documentation wise with regards to `happens-before`? To simplify my question, here is an example:\r\n\r\n\r\n    static class State {\r\n\t\tprivate int age;\r\n\r\n\t\tint getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\r\n\t\tState setAge(int age) {\r\n\t\t\tthis.age = age;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t} \r\n\r\n\r\nand :\r\n\r\n\r\n    // very simplified, no checks\r\n\tstatic class Holder {\r\n\r\n\t\tprivate static final ConcurrentHashMap&lt;String, State&gt; CHM = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\t\tpublic State read(String key) {\r\n\t\t\treturn CHM.compute(key, (x, y) -&gt; y);\r\n\t\t}\r\n\r\n\t\tpublic State write(String key, int age) {\r\n\t\t\treturn CHM.compute(key, (x, y) -&gt; y.setAge(y.getAge() + age));\r\n\t\t}\r\n\t}\r\n\r\nNo one has access to `CHM` and can only work via `Holder`.\r\n\r\nTo me the answer is obviously yes, this is safe and all readers will see the result of the latest `write` method. I just can&#39;t connect the dots with the documentation of `ConcurrentHashMap`, which is most probably obvious, but I seem to miss it. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67795988/atomic-updates-of-values-in-concurrent-hash-map-how-to\r\n  [2]: https://stackoverflow.com/questions/52577524/java-concurrenthashmap-computeifpresent-value-modification-visibility","title":"ConcurrentHashMap read/update only via compute method","body":"<p>This is basically a continuation of <a href=\"https://stackoverflow.com/questions/67795988/atomic-updates-of-values-in-concurrent-hash-map-how-to\">this</a> or <a href=\"https://stackoverflow.com/questions/52577524/java-concurrenthashmap-computeifpresent-value-modification-visibility\">this</a>, or many others in that regard.</p>\n<p>My question is probably simple, if I use <code>ConcurrentHashMap::compute</code> <em>only</em>, in both readers and writers of some value, is that enough to ensure <em>visibility</em>?</p>\n<p>I do know that <code>compute</code> method:</p>\n<blockquote>\n<p>The entire method invocation is performed atomically</p>\n</blockquote>\n<p>Is that enough to guarantee <em>visibility</em>? Specifically, is that true specification/documentation wise with regards to <code>happens-before</code>? To simplify my question, here is an example:</p>\n<pre><code>static class State {\n    private int age;\n\n    int getAge() {\n        return age;\n    }\n\n    State setAge(int age) {\n        this.age = age;\n        return this;\n    }\n} \n</code></pre>\n<p>and :</p>\n<pre><code>// very simplified, no checks\nstatic class Holder {\n\n    private static final ConcurrentHashMap&lt;String, State&gt; CHM = new ConcurrentHashMap&lt;&gt;();\n\n    public State read(String key) {\n        return CHM.compute(key, (x, y) -&gt; y);\n    }\n\n    public State write(String key, int age) {\n        return CHM.compute(key, (x, y) -&gt; y.setAge(y.getAge() + age));\n    }\n}\n</code></pre>\n<p>No one has access to <code>CHM</code> and can only work via <code>Holder</code>.</p>\n<p>To me the answer is obviously yes, this is safe and all readers will see the result of the latest <code>write</code> method. I just can't connect the dots with the documentation of <code>ConcurrentHashMap</code>, which is most probably obvious, but I seem to miss it.</p>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":1052629,"reputation":3982,"user_id":1056138,"accept_rate":50,"display_name":"ATrubka"},"score":0,"creation_date":1502126182,"post_id":26550124,"comment_id":78064431,"body_markdown":"Actually ResponseEntity&lt;Void&gt; works perfectly. See examples here: http://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example","body":"Actually ResponseEntity&lt;Void&gt; works perfectly. See examples here: <a href=\"http://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example\" rel=\"nofollow noreferrer\">concretepage.com/spring-4/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1414163169,"creation_date":1414163169,"answer_id":26550756,"question_id":26550124,"body_markdown":"Your method implementation is ambiguous, try the following , edited your code  a little bit and used `HttpStatus.NO_CONTENT` i.e 204 No Content as in place of `HttpStatus.OK`\r\n\r\n&gt; The server has fulfilled the request but does not need to return an\r\n&gt; entity-body, and might want to return updated metainformation. The\r\n&gt; response MAY include new or updated metainformation in the form of\r\n&gt; entity-headers, which if present SHOULD be associated with the\r\n&gt; requested variant.\r\n\r\n*Any value of **T** will be ignored for 204,  but not for 404*\r\n    \r\n  \r\n\r\n      public ResponseEntity&lt;?&gt; taxonomyPackageExists( @PathVariable final String key ) {\r\n                LOG.debug( &quot;taxonomyPackageExists queried with key: {0}&quot;, key ); //$NON-NLS-1$\r\n                final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\r\n                LOG.debug( &quot;Taxonomy key created: {0}&quot;, taxonomyKey ); //$NON-NLS-1$\r\n        \r\n                if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\r\n                    LOG.debug( &quot;Taxonomy package with key: {0} exists.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n                     return new ResponseEntity&lt;T&gt;(HttpStatus.NO_CONTENT);\r\n                } else {\r\n                   LOG.debug( &quot;Taxonomy package with key: {0} does NOT exist.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n                    return new ResponseEntity&lt;T&gt;( HttpStatus.NOT_FOUND );\r\n                }\r\n            \r\n        }","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>Your method implementation is ambiguous, try the following , edited your code  a little bit and used <code>HttpStatus.NO_CONTENT</code> i.e 204 No Content as in place of <code>HttpStatus.OK</code></p>\n\n<blockquote>\n  <p>The server has fulfilled the request but does not need to return an\n  entity-body, and might want to return updated metainformation. The\n  response MAY include new or updated metainformation in the form of\n  entity-headers, which if present SHOULD be associated with the\n  requested variant.</p>\n</blockquote>\n\n<p><em>Any value of <strong>T</strong> will be ignored for 204,  but not for 404</em></p>\n\n<pre><code>  public ResponseEntity&lt;?&gt; taxonomyPackageExists( @PathVariable final String key ) {\n            LOG.debug( \"taxonomyPackageExists queried with key: {0}\", key ); //$NON-NLS-1$\n            final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\n            LOG.debug( \"Taxonomy key created: {0}\", taxonomyKey ); //$NON-NLS-1$\n\n            if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\n                LOG.debug( \"Taxonomy package with key: {0} exists.\", taxonomyKey ); //$NON-NLS-1$\n                 return new ResponseEntity&lt;T&gt;(HttpStatus.NO_CONTENT);\n            } else {\n               LOG.debug( \"Taxonomy package with key: {0} does NOT exist.\", taxonomyKey ); //$NON-NLS-1$\n                return new ResponseEntity&lt;T&gt;( HttpStatus.NOT_FOUND );\n            }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1576686883,"creation_date":1414166350,"answer_id":26551712,"question_id":26550124,"body_markdown":"**NOTE: This is true for the version mentioned in the question, 4.1.1.RELEASE.**\r\n\r\nSpring MVC handles a `ResponseEntity` return value through `HttpEntityMethodProcessor`. \r\n\r\nWhen the `ResponseEntity` value doesn&#39;t have a body set, as is the case in your snippet, `HttpEntityMethodProcessor` tries to determine a content type for the response body from the parameterization of the `ResponseEntity` return type in the signature of the `@RequestMapping` handler method.\r\n\r\nSo for\r\n\r\n    public ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\r\n\r\nthat type will be `Void`. `HttpEntityMethodProcessor` will then loop through all its registered `HttpMessageConverter` instances and find one that can write a body for a `Void` type. Depending on your configuration, it may or may not find any.\r\n\r\nIf it does find any, it still needs to make sure that the corresponding body will be written with a Content-Type that matches the type(s) provided in the request&#39;s `Accept` header, `application/xml` in your case.\r\n\r\nIf after all these checks, no such `HttpMessageConverter` exists, Spring MVC  will decide that it cannot produce an acceptable response and therefore return a 406 Not Acceptable HTTP response.\r\n\r\nWith `ResponseEntity&lt;String&gt;`, Spring will use `String` as the response body and find `StringHttpMessageConverter` as a handler. And since `StringHttpMessageHandler` can produce content for any media type (provided in the `Accept` header), it will be able to handle the `application/xml` that your client is requesting.\r\n\r\n**Spring MVC has since been changed to only return 406 if the body in the `ResponseEntity` is NOT `null`. You won&#39;t see the behavior in the original question if you&#39;re using a more recent version of Spring MVC.**\r\n\r\n----------\r\n\r\n\r\nIn [iddy85&#39;s solution][1], which seems to suggest `ResponseEntity&lt;?&gt;`, the type for the body will be inferred as `Object`. If you have the correct libraries in your classpath, ie. Jackson (version &gt; 2.5.0) and its XML extension, Spring MVC will have access to `MappingJackson2XmlHttpMessageConverter` which it can use to produce `application/xml` for the type `Object`. **Their solution only works under these conditions.** Otherwise, it will fail for the same reason I&#39;ve described above.\r\n\r\n  [1]: https://stackoverflow.com/a/26550756/438154","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p><strong>NOTE: This is true for the version mentioned in the question, 4.1.1.RELEASE.</strong></p>\n\n<p>Spring MVC handles a <code>ResponseEntity</code> return value through <code>HttpEntityMethodProcessor</code>. </p>\n\n<p>When the <code>ResponseEntity</code> value doesn't have a body set, as is the case in your snippet, <code>HttpEntityMethodProcessor</code> tries to determine a content type for the response body from the parameterization of the <code>ResponseEntity</code> return type in the signature of the <code>@RequestMapping</code> handler method.</p>\n\n<p>So for</p>\n\n<pre><code>public ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\n</code></pre>\n\n<p>that type will be <code>Void</code>. <code>HttpEntityMethodProcessor</code> will then loop through all its registered <code>HttpMessageConverter</code> instances and find one that can write a body for a <code>Void</code> type. Depending on your configuration, it may or may not find any.</p>\n\n<p>If it does find any, it still needs to make sure that the corresponding body will be written with a Content-Type that matches the type(s) provided in the request's <code>Accept</code> header, <code>application/xml</code> in your case.</p>\n\n<p>If after all these checks, no such <code>HttpMessageConverter</code> exists, Spring MVC  will decide that it cannot produce an acceptable response and therefore return a 406 Not Acceptable HTTP response.</p>\n\n<p>With <code>ResponseEntity&lt;String&gt;</code>, Spring will use <code>String</code> as the response body and find <code>StringHttpMessageConverter</code> as a handler. And since <code>StringHttpMessageHandler</code> can produce content for any media type (provided in the <code>Accept</code> header), it will be able to handle the <code>application/xml</code> that your client is requesting.</p>\n\n<p><strong>Spring MVC has since been changed to only return 406 if the body in the <code>ResponseEntity</code> is NOT <code>null</code>. You won't see the behavior in the original question if you're using a more recent version of Spring MVC.</strong></p>\n\n<hr>\n\n<p>In <a href=\"https://stackoverflow.com/a/26550756/438154\">iddy85's solution</a>, which seems to suggest <code>ResponseEntity&lt;?&gt;</code>, the type for the body will be inferred as <code>Object</code>. If you have the correct libraries in your classpath, ie. Jackson (version > 2.5.0) and its XML extension, Spring MVC will have access to <code>MappingJackson2XmlHttpMessageConverter</code> which it can use to produce <code>application/xml</code> for the type <code>Object</code>. <strong>Their solution only works under these conditions.</strong> Otherwise, it will fail for the same reason I've described above.</p>\n"},{"tags":[],"owner":{"account_id":11892452,"reputation":3088,"user_id":8702849,"display_name":"adanilev"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1532405195,"creation_date":1532405195,"answer_id":51490312,"question_id":26550124,"body_markdown":"You can also not specify the type parameter which seems a bit cleaner and what Spring intended when looking at the [docs][1]:\r\n\r\n    @RequestMapping(method = RequestMethod.HEAD, value = Constants.KEY )\r\n    public ResponseEntity taxonomyPackageExists( @PathVariable final String key ){\r\n        // ...\r\n        return new ResponseEntity(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/http/ResponseEntity.html#ResponseEntity(org.springframework.http.HttpStatus)","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>You can also not specify the type parameter which seems a bit cleaner and what Spring intended when looking at the <a href=\"https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/http/ResponseEntity.html#ResponseEntity(org.springframework.http.HttpStatus)\" rel=\"noreferrer\">docs</a>:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.HEAD, value = Constants.KEY )\npublic ResponseEntity taxonomyPackageExists( @PathVariable final String key ){\n    // ...\n    return new ResponseEntity(HttpStatus.NO_CONTENT);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1676025508,"creation_date":1533678190,"answer_id":51735848,"question_id":26550124,"body_markdown":"According [Spring 4 MVC ResponseEntity.BodyBuilder and ResponseEntity Enhancements Example](https://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example) it could be written as:\r\n\r\n    ....\r\n       return ResponseEntity.ok().build();\r\n    ....\r\n       return ResponseEntity.noContent().build();\r\n\r\nUPDATE:\r\n\r\nIf returned value is `Optional`, there are convenient method, returned `ok()` or `notFound()`:\r\n```java\r\nreturn ResponseEntity.of(optional)\r\n```\r\n\r\nUPDATE 2: also feel free to use for status `OK(200)`\r\n\r\n    public void taxonomyPackageExists(...\r\n\r\nand for status `NO_CONTENT(204)`\r\n\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void taxonomyPackageExists(...\r\n","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>According <a href=\"https://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example\" rel=\"noreferrer\">Spring 4 MVC ResponseEntity.BodyBuilder and ResponseEntity Enhancements Example</a> it could be written as:</p>\n<pre><code>....\n   return ResponseEntity.ok().build();\n....\n   return ResponseEntity.noContent().build();\n</code></pre>\n<p>UPDATE:</p>\n<p>If returned value is <code>Optional</code>, there are convenient method, returned <code>ok()</code> or <code>notFound()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return ResponseEntity.of(optional)\n</code></pre>\n<p>UPDATE 2: also feel free to use for status <code>OK(200)</code></p>\n<pre><code>public void taxonomyPackageExists(...\n</code></pre>\n<p>and for status <code>NO_CONTENT(204)</code></p>\n<pre><code>@ResponseStatus(HttpStatus.NO_CONTENT)\npublic void taxonomyPackageExists(...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537536158,"creation_date":1537536158,"answer_id":52444715,"question_id":26550124,"body_markdown":"Personally, to deal with empty responses, I use in my Integration Tests the MockMvcResponse object like this : \r\n\r\n\r\n    MockMvcResponse response = RestAssuredMockMvc.given()\r\n                    .webAppContextSetup(webApplicationContext)\r\n                    .when()\r\n                    .get(&quot;/v1/ticket&quot;);\r\n    \r\n        assertThat(response.mockHttpServletResponse().getStatus()).isEqualTo(HttpStatus.NO_CONTENT.value());\r\n\r\nand in my controller I return empty response in a specific case like this : \r\n\r\n    return ResponseEntity.noContent().build();","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>Personally, to deal with empty responses, I use in my Integration Tests the MockMvcResponse object like this : </p>\n\n<pre><code>MockMvcResponse response = RestAssuredMockMvc.given()\n                .webAppContextSetup(webApplicationContext)\n                .when()\n                .get(\"/v1/ticket\");\n\n    assertThat(response.mockHttpServletResponse().getStatus()).isEqualTo(HttpStatus.NO_CONTENT.value());\n</code></pre>\n\n<p>and in my controller I return empty response in a specific case like this : </p>\n\n<pre><code>return ResponseEntity.noContent().build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1581428929,"creation_date":1581428929,"answer_id":60170361,"question_id":26550124,"body_markdown":"For Spring 5.2+ this works for me:\r\n\r\n\t@PostMapping(&quot;/foo&quot;)\r\n\tResponseEntity&lt;Void&gt; foo(@PathVariable UUID fooId) {\r\n\t\treturn fooService.findExam(fooId)\r\n\t\t\t\t.map(uri -&gt; ResponseEntity.noContent().&lt;Void&gt;build())\r\n\t\t\t\t.orElse(ResponseEntity.notFound().build());\r\n\t}","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>For Spring 5.2+ this works for me:</p>\n\n<pre><code>@PostMapping(\"/foo\")\nResponseEntity&lt;Void&gt; foo(@PathVariable UUID fooId) {\n    return fooService.findExam(fooId)\n            .map(uri -&gt; ResponseEntity.noContent().&lt;Void&gt;build())\n            .orElse(ResponseEntity.notFound().build());\n}\n</code></pre>\n"}],"owner":{"account_id":3472792,"reputation":1260,"user_id":2906739,"accept_rate":70,"display_name":"Matthias T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229555,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":26551712,"answer_count":6,"score":74,"last_activity_date":1676025508,"creation_date":1414161349,"question_id":26550124,"body_markdown":"We are implementing a REST API with Spring (4.1.1.). For certain HTTP requests, we would like to return a head with no body as a response. However, using `ResponseEntity&lt;Void&gt;` doesn&#39;t seem to work. When called with a `MockMvc` test, a 406 (Not acceptable) is returned. Using `ResponseEntity&lt;String&gt;` without a parameter value (`new  ResponseEntity&lt;String&gt;( HttpStatus.NOT_FOUND )`) works fine. \r\n\r\n\r\n\r\nMethod:\r\n   \r\n    @RequestMapping( method = RequestMethod.HEAD, value = Constants.KEY )\r\n    public ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\r\n\r\n        LOG.debug( &quot;taxonomyPackageExists queried with key: {0}&quot;, key ); //$NON-NLS-1$\r\n\r\n        final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\r\n\r\n        LOG.debug( &quot;Taxonomy key created: {0}&quot;, taxonomyKey ); //$NON-NLS-1$\r\n\r\n        if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\r\n\r\n            LOG.debug( &quot;Taxonomy package with key: {0} exists.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n\r\n            return new ResponseEntity&lt;Void&gt;( HttpStatus.OK );\r\n\r\n        } else {\r\n\r\n            LOG.debug( &quot;Taxonomy package with key: {0} does NOT exist.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n\r\n            return new ResponseEntity&lt;Void&gt;( HttpStatus.NOT_FOUND );\r\n        }\r\n\r\n    }\r\n\r\nTest case (TestNG):\r\n\r\n    public class TaxonomyQueryControllerTest {\r\n\r\n    private XbrlInstanceValidator   xbrlInstanceValidatorMock;\r\n    private TaxonomyQueryController underTest;\r\n    private MockMvc                 mockMvc;\r\n\r\n    @BeforeMethod\r\n    public void setUp() {\r\n        this.xbrlInstanceValidatorMock = createMock( XbrlInstanceValidator.class );\r\n        this.underTest = new TaxonomyQueryController( this.xbrlInstanceValidatorMock );\r\n        this.mockMvc = MockMvcBuilders.standaloneSetup( this.underTest ).build();\r\n    }\r\n\r\n    @Test\r\n    public void taxonomyPackageDoesNotExist() throws Exception {\r\n        // record\r\n        expect( this.xbrlInstanceValidatorMock.taxonomyPackageExists( anyObject( TaxonomyKey.class ) ) ).andStubReturn(\r\n                false );\r\n\r\n        // replay\r\n        replay( this.xbrlInstanceValidatorMock );\r\n\r\n        // do the test\r\n        final String taxonomyKey = RestDataFixture.taxonomyKeyString;\r\n\r\n        this.mockMvc.perform( head( &quot;/taxonomypackages/{key}&quot;, taxonomyKey ).accept( //$NON-NLS-1$\r\n                MediaType.APPLICATION_XML ) ).andExpect( status().isNotFound() );\r\n\r\n    }\r\n\r\n    }\r\n\r\nFails with this stack trace: \r\n\r\n    FAILED: taxonomyPackageDoesNotExist\r\n    java.lang.AssertionError: Status expected:&lt;404&gt; but was:&lt;406&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers$10.match(StatusResultMatchers.java:652)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:153)\r\n\tat de.zeb.control.application.xbrlstandalonevalidator.restservice.TaxonomyQueryControllerTest.taxonomyPackageDoesNotExist(TaxonomyQueryControllerTest.java:54)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:767)\r\n\tat org.testng.TestRunner.run(TestRunner.java:617)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\r\n\tat org.testng.TestNG.run(TestNG.java:1057)\r\n\tat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\r\n\r\n\r\n\r\n","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>We are implementing a REST API with Spring (4.1.1.). For certain HTTP requests, we would like to return a head with no body as a response. However, using <code>ResponseEntity&lt;Void&gt;</code> doesn't seem to work. When called with a <code>MockMvc</code> test, a 406 (Not acceptable) is returned. Using <code>ResponseEntity&lt;String&gt;</code> without a parameter value (<code>new  ResponseEntity&lt;String&gt;( HttpStatus.NOT_FOUND )</code>) works fine. </p>\n\n<p>Method:</p>\n\n<pre><code>@RequestMapping( method = RequestMethod.HEAD, value = Constants.KEY )\npublic ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\n\n    LOG.debug( \"taxonomyPackageExists queried with key: {0}\", key ); //$NON-NLS-1$\n\n    final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\n\n    LOG.debug( \"Taxonomy key created: {0}\", taxonomyKey ); //$NON-NLS-1$\n\n    if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\n\n        LOG.debug( \"Taxonomy package with key: {0} exists.\", taxonomyKey ); //$NON-NLS-1$\n\n        return new ResponseEntity&lt;Void&gt;( HttpStatus.OK );\n\n    } else {\n\n        LOG.debug( \"Taxonomy package with key: {0} does NOT exist.\", taxonomyKey ); //$NON-NLS-1$\n\n        return new ResponseEntity&lt;Void&gt;( HttpStatus.NOT_FOUND );\n    }\n\n}\n</code></pre>\n\n<p>Test case (TestNG):</p>\n\n<pre><code>public class TaxonomyQueryControllerTest {\n\nprivate XbrlInstanceValidator   xbrlInstanceValidatorMock;\nprivate TaxonomyQueryController underTest;\nprivate MockMvc                 mockMvc;\n\n@BeforeMethod\npublic void setUp() {\n    this.xbrlInstanceValidatorMock = createMock( XbrlInstanceValidator.class );\n    this.underTest = new TaxonomyQueryController( this.xbrlInstanceValidatorMock );\n    this.mockMvc = MockMvcBuilders.standaloneSetup( this.underTest ).build();\n}\n\n@Test\npublic void taxonomyPackageDoesNotExist() throws Exception {\n    // record\n    expect( this.xbrlInstanceValidatorMock.taxonomyPackageExists( anyObject( TaxonomyKey.class ) ) ).andStubReturn(\n            false );\n\n    // replay\n    replay( this.xbrlInstanceValidatorMock );\n\n    // do the test\n    final String taxonomyKey = RestDataFixture.taxonomyKeyString;\n\n    this.mockMvc.perform( head( \"/taxonomypackages/{key}\", taxonomyKey ).accept( //$NON-NLS-1$\n            MediaType.APPLICATION_XML ) ).andExpect( status().isNotFound() );\n\n}\n\n}\n</code></pre>\n\n<p>Fails with this stack trace: </p>\n\n<pre><code>FAILED: taxonomyPackageDoesNotExist\njava.lang.AssertionError: Status expected:&lt;404&gt; but was:&lt;406&gt;\nat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\nat org.springframework.test.web.servlet.result.StatusResultMatchers$10.match(StatusResultMatchers.java:652)\nat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:153)\nat de.zeb.control.application.xbrlstandalonevalidator.restservice.TaxonomyQueryControllerTest.taxonomyPackageDoesNotExist(TaxonomyQueryControllerTest.java:54)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\nat org.testng.TestRunner.privateRun(TestRunner.java:767)\nat org.testng.TestRunner.run(TestRunner.java:617)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\nat org.testng.SuiteRunner.run(SuiteRunner.java:240)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\nat org.testng.TestNG.run(TestNG.java:1057)\nat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\n</code></pre>\n"},{"tags":["java","android-studio","android-debug"],"answers":[{"tags":[],"owner":{"account_id":6544046,"reputation":51,"user_id":5060590,"display_name":"Anique Azhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676025070,"creation_date":1676025070,"answer_id":75409848,"question_id":75306605,"body_markdown":"Well, there is no direct way to modify an apk dynamically using java. All you can do is instrument the apk using any of instrumentation library which are written in multiple languages like tyscript or JavaScript. \r\n\r\nAmong these libraries,  [Frida][1] &amp; [Objection][2] are the most famous ones. Frida allows you to change any value, methods, return types of values, any thing loaded in memory. \r\n\r\nGood thing is that you dont need to learn smali, you can still use Java libraries to call any function on it. \r\n\r\nSample code in your case will look like\r\n \r\n\r\n    Java.perform(function() {\r\n    var object = Java.use(&#39;packageName.ActivityName&#39;);\r\n   \r\n    object.check.implementation = function() {\r\n        \r\n        return 3;\r\n    }\r\n    });\r\n\r\n  [1]: https://frida.re/\r\n  [2]: https://github.com/sensepost/objection\r\n\r\n","title":"How to use java language to dynamically debug APK in AndroidStudio?","body":"<p>Well, there is no direct way to modify an apk dynamically using java. All you can do is instrument the apk using any of instrumentation library which are written in multiple languages like tyscript or JavaScript.</p>\n<p>Among these libraries,  <a href=\"https://frida.re/\" rel=\"nofollow noreferrer\">Frida</a> &amp; <a href=\"https://github.com/sensepost/objection\" rel=\"nofollow noreferrer\">Objection</a> are the most famous ones. Frida allows you to change any value, methods, return types of values, any thing loaded in memory.</p>\n<p>Good thing is that you dont need to learn smali, you can still use Java libraries to call any function on it.</p>\n<p>Sample code in your case will look like</p>\n<pre><code>Java.perform(function() {\nvar object = Java.use('packageName.ActivityName');\n\nobject.check.implementation = function() {\n    \n    return 3;\n}\n});\n</code></pre>\n"}],"owner":{"account_id":23532552,"reputation":1,"user_id":17577951,"display_name":"Suceru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676025070,"creation_date":1675234502,"question_id":75306605,"body_markdown":"Requirement: I now have a `CrackMe.apk` without project file and code, I want to modify its code in java language without using smali and to dynamically debug the modified java file. I looked up many ways to dynamically debug the apk on the internet, and the internet is full of debugging using smali language, there is no case of debugging the apk using java language. Now, I am able to modify and run CrackMe.apk, but I don&#39;t know how to debug my code dynamically, I would like to ask how to implement dynamic debugging feature?\r\n\r\nSteps: I extract the dex file from `CrackMe.apk`, convert it to `classes.jar` file, remove the `android` and `androidx` packages from the jar file (not removing it will prompt the existence of the same package name after Add As Library).\r\nThen create a new blank project `test` in AS software, add `classes.jar` As Library. then create a new class `MainActivity.java` with the same name in the file path `src/main/com.XXX.XXX`, modify the code `if (this$0. check() == 999)` to `if (this$0.check() == 3)` and compile it. After compiling, overwrite the new MainActivity.class in the path `build\\intermediates\\javac\\debug\\classes\\com.XXX.XXX` with the `MainActivity.class` file of the same name in the old `classes.jar`, and then convert the `classes.jar` to `classes.dex` and replace the old `classes.dex`, then after signing it, it can be installed and run.\r\n\r\nDuring this process, can I debug the new MainActivity.java file at the AS software breakpoint in the test project path `src/main/com.XXX.XXX`. The class file generated by the test project is in the test project file path `build\\ intermediates\\javac\\debug\\classes\\com.XXX.XXX` in the test project. I want to dynamically debug `CrackMe.apk`, not `test-debug.apk`, MainActivity.java has nothing to do with the test project.  \r\nApkLink: [CrackMe.apk](https://www.dropbox.com/s/dyn1wbjj6d9p5lx/CrackMe.apk?dl=0)","title":"How to use java language to dynamically debug APK in AndroidStudio?","body":"<p>Requirement: I now have a <code>CrackMe.apk</code> without project file and code, I want to modify its code in java language without using smali and to dynamically debug the modified java file. I looked up many ways to dynamically debug the apk on the internet, and the internet is full of debugging using smali language, there is no case of debugging the apk using java language. Now, I am able to modify and run CrackMe.apk, but I don't know how to debug my code dynamically, I would like to ask how to implement dynamic debugging feature?</p>\n<p>Steps: I extract the dex file from <code>CrackMe.apk</code>, convert it to <code>classes.jar</code> file, remove the <code>android</code> and <code>androidx</code> packages from the jar file (not removing it will prompt the existence of the same package name after Add As Library).\nThen create a new blank project <code>test</code> in AS software, add <code>classes.jar</code> As Library. then create a new class <code>MainActivity.java</code> with the same name in the file path <code>src/main/com.XXX.XXX</code>, modify the code <code>if (this$0. check() == 999)</code> to <code>if (this$0.check() == 3)</code> and compile it. After compiling, overwrite the new MainActivity.class in the path <code>build\\intermediates\\javac\\debug\\classes\\com.XXX.XXX</code> with the <code>MainActivity.class</code> file of the same name in the old <code>classes.jar</code>, and then convert the <code>classes.jar</code> to <code>classes.dex</code> and replace the old <code>classes.dex</code>, then after signing it, it can be installed and run.</p>\n<p>During this process, can I debug the new MainActivity.java file at the AS software breakpoint in the test project path <code>src/main/com.XXX.XXX</code>. The class file generated by the test project is in the test project file path <code>build\\ intermediates\\javac\\debug\\classes\\com.XXX.XXX</code> in the test project. I want to dynamically debug <code>CrackMe.apk</code>, not <code>test-debug.apk</code>, MainActivity.java has nothing to do with the test project.<br />\nApkLink: <a href=\"https://www.dropbox.com/s/dyn1wbjj6d9p5lx/CrackMe.apk?dl=0\" rel=\"nofollow noreferrer\">CrackMe.apk</a></p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":5779615,"reputation":1456,"user_id":4560689,"display_name":"Chantell Osejo"},"score":0,"creation_date":1599858350,"post_id":61625060,"comment_id":112915909,"body_markdown":"Did you ever figure this out? I&#39;m running into this same problem.","body":"Did you ever figure this out? I&#39;m running into this same problem."},{"owner":{"account_id":1683176,"reputation":1761,"user_id":1546990,"accept_rate":91,"display_name":"GarlicBread"},"score":0,"creation_date":1600031778,"post_id":61625060,"comment_id":112952944,"body_markdown":"@ChantellOsejo: It&#39;s a while back now, but I don&#39;t think I did. All I could test was the workings of the RowCallbackHandler itself.","body":"@ChantellOsejo: It&#39;s a while back now, but I don&#39;t think I did. All I could test was the workings of the RowCallbackHandler itself."},{"owner":{"account_id":5779615,"reputation":1456,"user_id":4560689,"display_name":"Chantell Osejo"},"score":0,"creation_date":1600125128,"post_id":61625060,"comment_id":112983522,"body_markdown":"I did eventually come up with something, posted it as an answer here, maybe it&#39;ll be helpful for others (even though it&#39;s not a 1:1 mapping to what you are trying to do, I believe my answer can be flexed a bit to accomplish what you were trying to do here).","body":"I did eventually come up with something, posted it as an answer here, maybe it&#39;ll be helpful for others (even though it&#39;s not a 1:1 mapping to what you are trying to do, I believe my answer can be flexed a bit to accomplish what you were trying to do here)."}],"answers":[{"tags":[],"owner":{"account_id":5779615,"reputation":1456,"user_id":4560689,"display_name":"Chantell Osejo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600125030,"creation_date":1600125030,"answer_id":63892914,"question_id":61625060,"body_markdown":"I ran into this problem in my own code, thought I&#39;d share the solution here, even though it&#39;s slightly different than the situation above as I mock the jdbcTemplate as well.\r\n\r\n\r\n    @InjectMocks\r\n    private JdbcOperationRepository jdbcOperationRepository;\r\n\r\n    @Mock\r\n    private NamedParameterJdbcTemplate mockJdbcTemplate;\r\n\r\n    @Test\r\n    public void testMyResults() {\r\n      final ResultSet mockResult1 = mock(ResultSet.class);\r\n      when(mockResult1.getString(MY_COLUMN)).thenReturn(value);\r\n      // ... other when statements to mock the returned data\r\n    \r\n      doAnswer(invocation -&gt; {\r\n          RowCallbackHandler callbackHandler = invocation.getArgument(2);\r\n          callbackHandler.processRow(mockResult1);\r\n          callbackHandler.processRow(mockResult2);\r\n          return null;\r\n      }).when(mockJdbcTemplate).query(any(), any(), any(RowCallbackHandler.class));\r\n    }","title":"JUnit: mocking jdbcTemplate&#39;s query() method with a RowCallbackHandler","body":"<p>I ran into this problem in my own code, thought I'd share the solution here, even though it's slightly different than the situation above as I mock the jdbcTemplate as well.</p>\n<pre><code>@InjectMocks\nprivate JdbcOperationRepository jdbcOperationRepository;\n\n@Mock\nprivate NamedParameterJdbcTemplate mockJdbcTemplate;\n\n@Test\npublic void testMyResults() {\n  final ResultSet mockResult1 = mock(ResultSet.class);\n  when(mockResult1.getString(MY_COLUMN)).thenReturn(value);\n  // ... other when statements to mock the returned data\n\n  doAnswer(invocation -&gt; {\n      RowCallbackHandler callbackHandler = invocation.getArgument(2);\n      callbackHandler.processRow(mockResult1);\n      callbackHandler.processRow(mockResult2);\n      return null;\n  }).when(mockJdbcTemplate).query(any(), any(), any(RowCallbackHandler.class));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9835759,"reputation":471,"user_id":7286223,"display_name":"Raihanul Alam Hridoy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676024978,"creation_date":1676024978,"answer_id":75409832,"question_id":61625060,"body_markdown":"I was struggling with the same problem. First, you have to keep in mind that you can mock almost anything in spring boot using Junit tests.\r\n\r\nI am writing the solution in a generalized pattern so that everyone can get an idea how it gets implemented and used.\r\n\r\nSuppose, we have a function implemented in our BookService.java class:\r\n\r\n```java\r\n@Service\r\npublic class BookService {\r\n\r\n    @Inject\r\n    private NamedParameterJdbcOperations jdbcTemplate;\r\n    \r\n    @Inject\r\n    private FileHelper fileHelper;\r\n    \r\n    public List&lt;BookDTO&gt; getBooks(Long libraryId){\r\n        String sql = fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;);\r\n        \r\n        Map&lt;String, Object&gt; parameterMap = new HashMap&lt;&gt;();\r\n        if(libraryId!=null){\r\n            parameterMap.put(&quot;libraryId&quot;, libraryId);\r\n        }\r\n        \r\n        List&lt;BookDTO&gt; books = new ArrayList&lt;&gt;();\r\n        \r\n        jdbcTemplate.query(sql, parameterMap, rs -&gt; {\r\n            BookDTO book = new BookDTO();\r\n            book.setId(rs.getLong(&quot;id&quot;));\r\n            book.setName(rs.getString(&quot;name&quot;));\r\n            \r\n            if(rs.getObject(&quot;librarian&quot;) != null){\r\n                book.setLibrarian(rs.getString(&quot;librarian&quot;));\r\n            }\r\n            books.add(book);\r\n        });\r\n        \r\n        return books;\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow, we want to mock the functionality of the `jdbcTemplate.query()` method for the above service class.\r\n\r\nOur test should be written in this pattern:\r\n\r\n```\r\npublic class BookServiceMockTest {\r\n    @Mock\r\n    private NamedParameterJdbcOperations jdbcTemplate;\r\n    \r\n    @Mock\r\n    private FileHelper fileHelper;\r\n    \r\n    private BookService mockBookService;\r\n    \r\n    @Before\r\n    public void setup(){\r\n        mockBookService = new BookService();\r\n        // using reflectionUtils setFields of the fileHelper and jdbcTemplate.\r\n        // ....\r\n    }\r\n    \r\n    @Test\r\n    public void getBooksTest(){\r\n        \r\n        when(fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;)).thenReturn(&quot;SOME SQL&quot;);\r\n        doAnswer(invocation -&gt; {\r\n            // we are going to mock ResultSet class.\r\n            ResultSet rs = Mockito.mock(ResultSet.class);\r\n            when(rs.getLong(&quot;id&quot;)).thenReturn(1L);\r\n            when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;);\r\n            \r\n            // this will mock the if() statement\r\n            when(rs.getObject(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\r\n            \r\n            // this will mock the actual get statement call on getString() inside the if statement\r\n            when(rs.getString(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\r\n            \r\n            // the argument index is important here.\r\n            // we are doing getArgument(2).\r\n            // This means the third parameter passed in the jdbcTemplate.query(Param0, Param1, Param2) in the BookService.getBooks() function.\r\n            RowCallbackHandler rch = (RowCallbackHandler) invocation.getArgument(2);\r\n            // as we are mocking only one row..\r\n            rch.processRow(rs);\r\n            \r\n            /* // if we wanter two or more results:\r\n                when(rs.getLong(&quot;id&quot;)).thenReturn(1L).thenReturn(2L);\r\n                when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;).thenReturn(&quot;Dance of the Dragon&quot;);\r\n                int n = 2; // no of rows..\r\n                for(int i=0; i&lt;n; i++){\r\n                    rch.processRow(rs);\r\n                }\r\n            */\r\n            return null;\r\n        })\r\n        // the parameters used here are important. Any mismatch will result in unsuccessful.\r\n        .when(jdbcTemplate).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\r\n        \r\n        List&lt;BookDTO&gt; books = mockBookService.getBooks(anyLong());\r\n        \r\n        verify(jdbcTemplate, times(1)).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\r\n        \r\n        assertThat(books).hasSize(1);\r\n    }\r\n}\r\n```\r\n\r\nI hope this answered what you were looking for!","title":"JUnit: mocking jdbcTemplate&#39;s query() method with a RowCallbackHandler","body":"<p>I was struggling with the same problem. First, you have to keep in mind that you can mock almost anything in spring boot using Junit tests.</p>\n<p>I am writing the solution in a generalized pattern so that everyone can get an idea how it gets implemented and used.</p>\n<p>Suppose, we have a function implemented in our BookService.java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class BookService {\n\n    @Inject\n    private NamedParameterJdbcOperations jdbcTemplate;\n    \n    @Inject\n    private FileHelper fileHelper;\n    \n    public List&lt;BookDTO&gt; getBooks(Long libraryId){\n        String sql = fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;);\n        \n        Map&lt;String, Object&gt; parameterMap = new HashMap&lt;&gt;();\n        if(libraryId!=null){\n            parameterMap.put(&quot;libraryId&quot;, libraryId);\n        }\n        \n        List&lt;BookDTO&gt; books = new ArrayList&lt;&gt;();\n        \n        jdbcTemplate.query(sql, parameterMap, rs -&gt; {\n            BookDTO book = new BookDTO();\n            book.setId(rs.getLong(&quot;id&quot;));\n            book.setName(rs.getString(&quot;name&quot;));\n            \n            if(rs.getObject(&quot;librarian&quot;) != null){\n                book.setLibrarian(rs.getString(&quot;librarian&quot;));\n            }\n            books.add(book);\n        });\n        \n        return books;\n    }\n}\n\n</code></pre>\n<p>Now, we want to mock the functionality of the <code>jdbcTemplate.query()</code> method for the above service class.</p>\n<p>Our test should be written in this pattern:</p>\n<pre><code>public class BookServiceMockTest {\n    @Mock\n    private NamedParameterJdbcOperations jdbcTemplate;\n    \n    @Mock\n    private FileHelper fileHelper;\n    \n    private BookService mockBookService;\n    \n    @Before\n    public void setup(){\n        mockBookService = new BookService();\n        // using reflectionUtils setFields of the fileHelper and jdbcTemplate.\n        // ....\n    }\n    \n    @Test\n    public void getBooksTest(){\n        \n        when(fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;)).thenReturn(&quot;SOME SQL&quot;);\n        doAnswer(invocation -&gt; {\n            // we are going to mock ResultSet class.\n            ResultSet rs = Mockito.mock(ResultSet.class);\n            when(rs.getLong(&quot;id&quot;)).thenReturn(1L);\n            when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;);\n            \n            // this will mock the if() statement\n            when(rs.getObject(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\n            \n            // this will mock the actual get statement call on getString() inside the if statement\n            when(rs.getString(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\n            \n            // the argument index is important here.\n            // we are doing getArgument(2).\n            // This means the third parameter passed in the jdbcTemplate.query(Param0, Param1, Param2) in the BookService.getBooks() function.\n            RowCallbackHandler rch = (RowCallbackHandler) invocation.getArgument(2);\n            // as we are mocking only one row..\n            rch.processRow(rs);\n            \n            /* // if we wanter two or more results:\n                when(rs.getLong(&quot;id&quot;)).thenReturn(1L).thenReturn(2L);\n                when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;).thenReturn(&quot;Dance of the Dragon&quot;);\n                int n = 2; // no of rows..\n                for(int i=0; i&lt;n; i++){\n                    rch.processRow(rs);\n                }\n            */\n            return null;\n        })\n        // the parameters used here are important. Any mismatch will result in unsuccessful.\n        .when(jdbcTemplate).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\n        \n        List&lt;BookDTO&gt; books = mockBookService.getBooks(anyLong());\n        \n        verify(jdbcTemplate, times(1)).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\n        \n        assertThat(books).hasSize(1);\n    }\n}\n</code></pre>\n<p>I hope this answered what you were looking for!</p>\n"}],"owner":{"account_id":1683176,"reputation":1761,"user_id":1546990,"accept_rate":91,"display_name":"GarlicBread"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2903,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1676024978,"creation_date":1588723139,"question_id":61625060,"body_markdown":"I have the following code in my Java class in a Spring Boot (v. 2.2.1.RELEASE) application:\r\n\r\n    @Inject\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n    @Inject\r\n    private MyRowCallbackHandler myRowCallbackHandler;\r\n\r\n    public void myMethod() {\r\n        jdbcTemplate.query(MY_QUERY, myRowCallbackHandler);\r\n    }\r\n\r\nThe JDBC template object is an implementation of org.springframework.jdbc.core.JdbcTemplate and the handler is an implementation of org.springframework.jdbc.core.RowCallbackHandler.\r\n\r\nWith JUnit version 4 and Mockito, can I mimic the retrieval of one or more rows from a database by the query method, thus calling the handler&#39;s processRow() method?\r\n\r\nThanks for any assistance.","title":"JUnit: mocking jdbcTemplate&#39;s query() method with a RowCallbackHandler","body":"<p>I have the following code in my Java class in a Spring Boot (v. 2.2.1.RELEASE) application:</p>\n\n<pre><code>@Inject\nprivate JdbcTemplate jdbcTemplate;\n\n@Inject\nprivate MyRowCallbackHandler myRowCallbackHandler;\n\npublic void myMethod() {\n    jdbcTemplate.query(MY_QUERY, myRowCallbackHandler);\n}\n</code></pre>\n\n<p>The JDBC template object is an implementation of org.springframework.jdbc.core.JdbcTemplate and the handler is an implementation of org.springframework.jdbc.core.RowCallbackHandler.</p>\n\n<p>With JUnit version 4 and Mockito, can I mimic the retrieval of one or more rows from a database by the query method, thus calling the handler's processRow() method?</p>\n\n<p>Thanks for any assistance.</p>\n"},{"tags":["java","jmeter","ubuntu-16.04"],"answers":[{"tags":[],"owner":{"account_id":13260014,"reputation":1971,"user_id":9574885,"display_name":"sunny_teo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529058779,"creation_date":1529058779,"answer_id":50873812,"question_id":50869774,"body_markdown":"Try to open and save again your jmx with &quot;Save Test Plan As&quot; and run again. It may happen when your jmx file does not contain &quot;Test Plan&quot; or sometimes when it is not get saved properly.\nIf that does not work try to rename the default name of the &quot;Test Plan&quot; to something else like &quot;My Test Plan&quot;.\n\n\n[![enter image description here][1]][1]\n\nHope this help.\n\n  [1]: https://i.stack.imgur.com/4P0OF.png","title":"Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class! on ubunto","body":"<p>Try to open and save again your jmx with &quot;Save Test Plan As&quot; and run again. It may happen when your jmx file does not contain &quot;Test Plan&quot; or sometimes when it is not get saved properly.\nIf that does not work try to rename the default name of the &quot;Test Plan&quot; to something else like &quot;My Test Plan&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/4P0OF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4P0OF.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this help.</p>\n"},{"tags":[],"owner":{"account_id":27752300,"reputation":1,"user_id":21186511,"display_name":"user21186511"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024933,"creation_date":1676024933,"answer_id":75409821,"question_id":50869774,"body_markdown":"I just write jmeter before -n and -t command and then the path of script. It works for me\r\neg. jmeter -n -t (location of test script)","title":"Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class! on ubunto","body":"<p>I just write jmeter before -n and -t command and then the path of script. It works for me\neg. jmeter -n -t (location of test script)</p>\n"}],"owner":{"account_id":9857087,"reputation":29,"user_id":7301265,"display_name":"Sumit Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676024933,"creation_date":1529041811,"question_id":50869774,"body_markdown":"lenovo@lenovo-thinkcentre-mini:~/Documents/apache-jmeter-4.0/bin$ jmeter -n -t test.jmx -l my-test-plan-result.jtl -j my-test-plan-result.log -DTHREADS=500 -DRAMP_UP=60 -DDURATION=300\r\n\r\nCreating summariser &lt;summary&gt;\r\n\r\nCreated the tree successfully using test.jmx\r\n\r\nError in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class!","title":"Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class! on ubunto","body":"<p>lenovo@lenovo-thinkcentre-mini:~/Documents/apache-jmeter-4.0/bin$ jmeter -n -t test.jmx -l my-test-plan-result.jtl -j my-test-plan-result.log -DTHREADS=500 -DRAMP_UP=60 -DDURATION=300</p>\n\n<p>Creating summariser </p>\n\n<p>Created the tree successfully using test.jmx</p>\n\n<p>Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class!</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1676017312,"post_id":75408499,"comment_id":133056067,"body_markdown":"Did you read the docs?","body":"Did you read the docs?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676017335,"post_id":75408499,"comment_id":133056074,"body_markdown":"It&#39;s size 1 and size 2 (not 0 and 1)!","body":"It&#39;s size 1 and size 2 (not 0 and 1)!"},{"owner":{"account_id":16119704,"reputation":1,"user_id":11635962,"display_name":"Rohit Dhawan"},"score":0,"creation_date":1676018103,"post_id":75408499,"comment_id":133056272,"body_markdown":"Sorry for the typo. str1 size is 2 and str2 size is 1. str2 is clear as it has one space character. That&#39;s why the size is 1 but why the str1 size is 2? Considering that also has only one space character. I&#39;ve now corrected the typo in the question as well.","body":"Sorry for the typo. str1 size is 2 and str2 size is 1. str2 is clear as it has one space character. That&#39;s why the size is 1 but why the str1 size is 2? Considering that also has only one space character. I&#39;ve now corrected the typo in the question as well."}],"owner":{"account_id":16119704,"reputation":1,"user_id":11635962,"display_name":"Rohit Dhawan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676017295,"answer_count":0,"score":0,"last_activity_date":1676024721,"creation_date":1676017177,"question_id":75408499,"body_markdown":"When I was trying to split a string using comma delimiter and string was having just two characters: a comma and a trailing space. After split the size of array is 2 but when I use string having a leading space and a comma, the size of array after split is 1. Can anyone please explain in details about this difference and its reason. \r\n\r\n```\r\nString s1 = &quot;, &quot;;\r\nString s2 = &quot; ,&quot;;\r\nString[] str1 = s1.split(&quot;,&quot;);\r\nString[] str2 = s2.split(&quot;,&quot;);\r\n#str1 is of 2 size and str2 is of 1 size.\r\n```\r\n\r\nI can understand the reason of str2 size as 1 which is because split&#39;s default behaviour is to discard empty strings after delimiter but why the size of str1 is 2? Does it consider leading empty strings? If yes, when I take string with comma as the only character, why the size is 0? Does it not consider leading empty strings at that time?","title":"Java Split Method Behaviour","body":"<p>When I was trying to split a string using comma delimiter and string was having just two characters: a comma and a trailing space. After split the size of array is 2 but when I use string having a leading space and a comma, the size of array after split is 1. Can anyone please explain in details about this difference and its reason.</p>\n<pre><code>String s1 = &quot;, &quot;;\nString s2 = &quot; ,&quot;;\nString[] str1 = s1.split(&quot;,&quot;);\nString[] str2 = s2.split(&quot;,&quot;);\n#str1 is of 2 size and str2 is of 1 size.\n</code></pre>\n<p>I can understand the reason of str2 size as 1 which is because split's default behaviour is to discard empty strings after delimiter but why the size of str1 is 2? Does it consider leading empty strings? If yes, when I take string with comma as the only character, why the size is 0? Does it not consider leading empty strings at that time?</p>\n"},{"tags":["java","centering","image-rotation","affinetransform","blurry"],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024623,"creation_date":1676023812,"answer_id":75409612,"question_id":75409182,"body_markdown":"I would suggestion always rotating form the original image. Keep track of the total rotation.\r\n\r\n    int angleDegrees = 0;\r\n\r\nThat way there is less image quality degradation. Normally each time you use a bi-linear interpolation there will be some blurring.\r\n\r\n    AffineTransform transform = new AffineTransform();\r\n    angle += (angle + 1)%360;\r\n    transform.rotate(Math.toRad(angle), img.getWidth()/2, img.getHeight()/2);\r\n    AffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\r\n    BufferedImage rotatedImage = op.createCompatibleDestImage(img, ColorModel.getRGBdefault());\r\n    op.filter(img, rotatedImage);\r\n    lbIm1.setIcon(new ImageIcon(rotatedImage));\r\n    lbIm1.repaint();\r\n\r\nNote the icon is changing sizes because the destination image is large enough to hold the whole image. That means the center of the icon will appear to move.\r\n\r\nIf you create the destination image this way.\r\n\r\n    BufferedImage rotatedImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n\r\nThen the destination will be cropped, but stay the same size. That way the center of the image doesn&#39;t appear to move.\r\n\r\nThe transform you&#39;re using, translate + rotate + translate back, work with this technique to. The 1 degree rotation causes some rounding error in the size of the image. So I wonder if that is why the image &quot;runs away&quot;","title":"Revolve image around center (blurry and not exactly at center)","body":"<p>I would suggestion always rotating form the original image. Keep track of the total rotation.</p>\n<pre><code>int angleDegrees = 0;\n</code></pre>\n<p>That way there is less image quality degradation. Normally each time you use a bi-linear interpolation there will be some blurring.</p>\n<pre><code>AffineTransform transform = new AffineTransform();\nangle += (angle + 1)%360;\ntransform.rotate(Math.toRad(angle), img.getWidth()/2, img.getHeight()/2);\nAffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\nBufferedImage rotatedImage = op.createCompatibleDestImage(img, ColorModel.getRGBdefault());\nop.filter(img, rotatedImage);\nlbIm1.setIcon(new ImageIcon(rotatedImage));\nlbIm1.repaint();\n</code></pre>\n<p>Note the icon is changing sizes because the destination image is large enough to hold the whole image. That means the center of the icon will appear to move.</p>\n<p>If you create the destination image this way.</p>\n<pre><code>BufferedImage rotatedImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\n</code></pre>\n<p>Then the destination will be cropped, but stay the same size. That way the center of the image doesn't appear to move.</p>\n<p>The transform you're using, translate + rotate + translate back, work with this technique to. The 1 degree rotation causes some rounding error in the size of the image. So I wonder if that is why the image &quot;runs away&quot;</p>\n"}],"owner":{"account_id":19848299,"reputation":117,"user_id":14646358,"display_name":"RichS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676024623,"creation_date":1676021559,"question_id":75409182,"body_markdown":"I&#39;m trying to revolve a BufferedImage around its center. Here&#39;s my Code:\r\n```\r\nframe = new JFrame();\r\nGridBagLayout gLayout = new GridBagLayout();\r\nframe.getContentPane().setLayout(gLayout);\r\n\r\nlbIm1 = new JLabel(new ImageIcon(img));\r\nlbIm1.setPreferredSize(new Dimension(800, 800));\r\nTimer timer = new Timer(100, e -&gt; {\r\n\t\tAffineTransform transform = new AffineTransform();\r\n\t\ttransform.translate(img.getWidth()/2, img.getHeight()/2);\r\n\t\ttransform.rotate(Math.toRadians(1), 0, 0);\r\n\t\ttransform.translate(-img.getWidth()/2, -img.getHeight()/2);\r\n\t\tAffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\r\n\t\tBufferedImage rotatedImage = op.createCompatibleDestImage(img, img.getColorModel());\r\n\t\top.filter(img, rotatedImage);\r\n\t\tlbIm1.setIcon(new ImageIcon(rotatedImage));\r\n\t\timg = rotatedImage;\r\n\t\tlbIm1.repaint();\r\n});\r\ntimer.start();\r\n\r\nc.fill = GridBagConstraints.HORIZONTAL;\r\nc.gridx = 0;\r\nc.gridy = 1;\r\nframe.getContentPane().add(lbIm1, c);\r\n\r\nframe.pack();\r\nframe.setVisible(true);\r\n```\r\n\r\nThe image size is 512 x 512. The problem in this code are:\r\n1. The rotation is not exactly at center. It would rotate out of the screen.\r\n2. The imagine became blurry over time.\r\n\r\nI have searched online for a very long time and nothing seems to help. Any suggestions would be much appreciated. Thanks.","title":"Revolve image around center (blurry and not exactly at center)","body":"<p>I'm trying to revolve a BufferedImage around its center. Here's my Code:</p>\n<pre><code>frame = new JFrame();\nGridBagLayout gLayout = new GridBagLayout();\nframe.getContentPane().setLayout(gLayout);\n\nlbIm1 = new JLabel(new ImageIcon(img));\nlbIm1.setPreferredSize(new Dimension(800, 800));\nTimer timer = new Timer(100, e -&gt; {\n        AffineTransform transform = new AffineTransform();\n        transform.translate(img.getWidth()/2, img.getHeight()/2);\n        transform.rotate(Math.toRadians(1), 0, 0);\n        transform.translate(-img.getWidth()/2, -img.getHeight()/2);\n        AffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\n        BufferedImage rotatedImage = op.createCompatibleDestImage(img, img.getColorModel());\n        op.filter(img, rotatedImage);\n        lbIm1.setIcon(new ImageIcon(rotatedImage));\n        img = rotatedImage;\n        lbIm1.repaint();\n});\ntimer.start();\n\nc.fill = GridBagConstraints.HORIZONTAL;\nc.gridx = 0;\nc.gridy = 1;\nframe.getContentPane().add(lbIm1, c);\n\nframe.pack();\nframe.setVisible(true);\n</code></pre>\n<p>The image size is 512 x 512. The problem in this code are:</p>\n<ol>\n<li>The rotation is not exactly at center. It would rotate out of the screen.</li>\n<li>The imagine became blurry over time.</li>\n</ol>\n<p>I have searched online for a very long time and nothing seems to help. Any suggestions would be much appreciated. Thanks.</p>\n"},{"tags":["java","spring","validation","hibernate-validator"],"comments":[{"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"score":0,"creation_date":1683796530,"post_id":75403432,"comment_id":134422532,"body_markdown":"the `@NotBlank` and `@Email`(it is validate then not blank) validation are  independent,  so there is no need to controll the validation order","body":"the <code>@NotBlank</code> and <code>@Email</code>(it is validate then not blank) validation are  independent,  so there is no need to controll the validation order"}],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024592,"creation_date":1676024592,"answer_id":75409767,"question_id":75403432,"body_markdown":"Note that having validation group sequences means that as soon as one of the groups defined in the sequence generates at least one constraint violation, no further groups will be processed. With that said, one way to approach this could be:\r\n\r\nAdd groups to your constraints: \r\n\r\n    class User {\r\n    \t@NotBlank                                               // leave in the default group\r\n    \t@Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\r\n    \t@UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\r\n    \tprivate String email;\r\n    \r\n    \t@NotBlank                       // leave in the default group\r\n    \t@Length(min = 8)                // leave in the default group\r\n    \tprivate String password;\r\n    \r\n    \tpublic User(String email, String password) {\r\n    \t\tthis.email = email;\r\n    \t\tthis.password = password;\r\n    \t}\r\n    }\r\n\r\nand then define your sequences as:\r\n\r\n    @GroupSequence({Default.class, Second.class, Third.class})\r\n    interface UserCreateValidationGroupSequence {}\r\n    \r\n    @GroupSequence({Default.class, Second.class})\r\n    interface UserUpdateValidationGroupSequence {}\r\n\r\nand then you&#39;d pass either create or update sequence to the validator, in your case, it could be:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \tpublic void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\r\n    \tpublic void updateUser(@Validated(UserUpdateValidationGroupSequence.class) User user){...}\r\n    }\r\n\r\nNow, if you&#39;d like to keep the `updateUser()` service call without passing the specific group(sequence) and only mark it with `@Valid/@Validated` you can consider looking at default group sequence redefinition. In such case, you&#39;d add the default (update) sequence definition to your class:\r\n\r\n    @GroupSequence({User.class, Second.class})\r\n    class User {\r\n    \t@NotBlank                                               // leave in the default group\r\n    \t@Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\r\n    \t@UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\r\n    \tprivate String email;\r\n    \r\n    \t@NotBlank                       // leave in the default group\r\n    \t@Length(min = 8)                // leave in the default group\r\n    \tprivate String password;\r\n    \r\n    }\r\n\r\nhave the create sequence:\r\n\r\n    @GroupSequence({Default.class, Second.class, Third.class})\r\n    interface UserCreateValidationGroupSequence {}\r\n\r\nand finally, in service:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \tpublic void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\r\n    \tpublic void updateUser(@Valid User user){...}\r\n    }","title":"Bean validation - Combining validation groups and group sequence","body":"<p>Note that having validation group sequences means that as soon as one of the groups defined in the sequence generates at least one constraint violation, no further groups will be processed. With that said, one way to approach this could be:</p>\n<p>Add groups to your constraints:</p>\n<pre><code>class User {\n    @NotBlank                                               // leave in the default group\n    @Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\n    @UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\n    private String email;\n\n    @NotBlank                       // leave in the default group\n    @Length(min = 8)                // leave in the default group\n    private String password;\n\n    public User(String email, String password) {\n        this.email = email;\n        this.password = password;\n    }\n}\n</code></pre>\n<p>and then define your sequences as:</p>\n<pre><code>@GroupSequence({Default.class, Second.class, Third.class})\ninterface UserCreateValidationGroupSequence {}\n\n@GroupSequence({Default.class, Second.class})\ninterface UserUpdateValidationGroupSequence {}\n</code></pre>\n<p>and then you'd pass either create or update sequence to the validator, in your case, it could be:</p>\n<pre><code>@Service\npublic class UserService {\n    public void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\n    public void updateUser(@Validated(UserUpdateValidationGroupSequence.class) User user){...}\n}\n</code></pre>\n<p>Now, if you'd like to keep the <code>updateUser()</code> service call without passing the specific group(sequence) and only mark it with <code>@Valid/@Validated</code> you can consider looking at default group sequence redefinition. In such case, you'd add the default (update) sequence definition to your class:</p>\n<pre><code>@GroupSequence({User.class, Second.class})\nclass User {\n    @NotBlank                                               // leave in the default group\n    @Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\n    @UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\n    private String email;\n\n    @NotBlank                       // leave in the default group\n    @Length(min = 8)                // leave in the default group\n    private String password;\n\n}\n</code></pre>\n<p>have the create sequence:</p>\n<pre><code>@GroupSequence({Default.class, Second.class, Third.class})\ninterface UserCreateValidationGroupSequence {}\n</code></pre>\n<p>and finally, in service:</p>\n<pre><code>@Service\npublic class UserService {\n    public void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\n    public void updateUser(@Valid User user){...}\n}\n</code></pre>\n"}],"owner":{"account_id":17814639,"reputation":63,"user_id":12938483,"display_name":"PoCiTo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676024592,"creation_date":1675970351,"question_id":75403432,"body_markdown":"I have simple entity with some validations. I want some of them to run in certain order, and other to run only in particural case. So far I end with something like this, but dont know how to use the groups properly.\r\n\r\nEntity class\r\n\r\n    @Entity\r\n    public class User{\r\n    \t@NotBlank\t\t\t\t\t\t//This should go FIRST\r\n    \t@Email(regexp = &quot;xxxxx&quot;)\t\t//This should go SECOND\r\n    \t@UniqueEmail\t\t\t\t\t//This should go THIRD but only on create\r\n    \tprivate String email;\r\n    \t\r\n    \t@NotBlank\t\t\t\t\t\t//This should go FIRST\r\n    \t@Length(min = 8)\t\t\t\t//This should go FIRST\r\n    \tprivate String password;\r\n    }\r\n\r\nService class\r\n\r\n    @Service\r\n    public class UserService {\r\n    \tpublic void addUser(@Validated(OnCreate.class) User user){...}\r\n    \tpublic void updateUser(User user){...}\r\n    }\r\n\r\nValidation groups\r\n\r\n    public class UserValidationGroups {\r\n    \t@GroupSequence({Default.class, EmailFormatValid.class, UniqueEmail.class})\r\n    \tpublic interface UserValidationGroupSeqence{}\r\n    \tpublic interface UniqueEmail{}\r\n    \tpublic interface EmailFormatValid{}\r\n    \t\r\n    }\r\n\r\nHow can I make these validation to work the way as commented?","title":"Bean validation - Combining validation groups and group sequence","body":"<p>I have simple entity with some validations. I want some of them to run in certain order, and other to run only in particural case. So far I end with something like this, but dont know how to use the groups properly.</p>\n<p>Entity class</p>\n<pre><code>@Entity\npublic class User{\n    @NotBlank                       //This should go FIRST\n    @Email(regexp = &quot;xxxxx&quot;)        //This should go SECOND\n    @UniqueEmail                    //This should go THIRD but only on create\n    private String email;\n    \n    @NotBlank                       //This should go FIRST\n    @Length(min = 8)                //This should go FIRST\n    private String password;\n}\n</code></pre>\n<p>Service class</p>\n<pre><code>@Service\npublic class UserService {\n    public void addUser(@Validated(OnCreate.class) User user){...}\n    public void updateUser(User user){...}\n}\n</code></pre>\n<p>Validation groups</p>\n<pre><code>public class UserValidationGroups {\n    @GroupSequence({Default.class, EmailFormatValid.class, UniqueEmail.class})\n    public interface UserValidationGroupSeqence{}\n    public interface UniqueEmail{}\n    public interface EmailFormatValid{}\n    \n}\n</code></pre>\n<p>How can I make these validation to work the way as commented?</p>\n"},{"tags":["java","mockito","sap-commerce-cloud","hybris-data-hub"],"comments":[{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1675719408,"post_id":75365243,"comment_id":132986042,"body_markdown":"Have you tried performing &quot;Update Running System&quot; and &quot;Clear orphan types&quot; in hac?","body":"Have you tried performing &quot;Update Running System&quot; and &quot;Clear orphan types&quot; in hac?"},{"owner":{"account_id":18052411,"reputation":55,"user_id":13121754,"display_name":"Hero Hamada"},"score":0,"creation_date":1675757209,"post_id":75365243,"comment_id":132992003,"body_markdown":"@FelixSchildmann, yes I&#39;ve tried both of them, hac says there is no orphan type","body":"@FelixSchildmann, yes I&#39;ve tried both of them, hac says there is no orphan type"}],"answers":[{"tags":[],"owner":{"account_id":3644469,"reputation":784,"user_id":3037847,"display_name":"Ricardo Machado"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675761139,"creation_date":1675761139,"answer_id":75371094,"question_id":75365243,"body_markdown":"If you want to use ProductData from items.xml you should be using ProductDataModel instead of ProductData. ","title":"Hybris. Couldn&#39;t run any test because of NPE exception Item.getImplementation() not found","body":"<p>If you want to use ProductData from items.xml you should be using ProductDataModel instead of ProductData.</p>\n"}],"owner":{"account_id":18052411,"reputation":55,"user_id":13121754,"display_name":"Hero Hamada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75371094,"answer_count":1,"score":1,"last_activity_date":1676024567,"creation_date":1675708138,"question_id":75365243,"body_markdown":"I run Hybris locally. But I&#39;m getting error while running tests:\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;de.hybris.platform.jalo.Item$ItemImpl.isLocalCachingSupported()&quot; because the return value of &quot;de.hybris.platform.jalo.Item.getImplementation()&quot; is null\r\n\r\nat `ProductData` setter code lines:\r\n\r\n    \tpublic void setCode(final SessionContext ctx, final String value)\r\n\t{\r\n\t\tsetProperty(ctx, &quot;code&quot;.intern(),value);\r\n\t}\r\n\t\r\n\r\nIntegration and Unit test are same returns errors.\r\n \r\nBefore that `ant yunitinit` helped me. But this time I even have tried `ant clean all`, `ant initialize` but no changings.\r\n\r\nIt&#39;s my added item type. It generated correct table and class.\r\n\r\n    \t\t&lt;itemtype code=&quot;ProductData&quot; autocreate=&quot;true&quot; generate=&quot;true&quot;&gt;\r\n\t\t\t&lt;deployment table=&quot;ProductData&quot; typecode=&quot;30800&quot;/&gt;\r\n\t\t\t&lt;attributes&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;code&quot; type=&quot;java.lang.String&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;weight&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;height&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;length&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;width&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t&lt;/attributes&gt;\r\n\t\t&lt;/itemtype&gt;\r\n\r\nAnd test class itself:\r\n\r\n    package com.epam.trainingextension.setup.populator;\r\n\r\n    import com.epam.trainingextension.enums.ProductOption;\r\n    import com.epam.trainingextension.jalo.ProductData;\r\n    import de.hybris.bootstrap.annotations.IntegrationTest;\r\n    import de.hybris.bootstrap.annotations.UnitTest;\r\n    import de.hybris.platform.core.Registry;\r\n    import de.hybris.platform.core.model.product.ProductModel;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.junit.Assert.assertNull;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ProductPopulatorTest {\r\n        @InjectMocks\r\n        private ProductPopulator productPopulator;\r\n    \r\n        @Mock\r\n        private ProductModel productModel;\r\n    \r\n        @Test\r\n        public void testPopulate_whenPhysicalDimensionsOptionIsPassed_shouldPopulateWeight()\r\n        {\r\n            when(productModel.getCode()).thenReturn(&quot;productCode&quot;);\r\n            when(productModel.getWeight()).thenReturn(100.0);\r\n    \r\n            final ProductData productData = new ProductData();\r\n            productPopulator.populate(productModel, productData, Collections.singletonList(ProductOption.PHYSICAL_DIMENSIONS));\r\n    \r\n            assertEquals(&quot;productCode&quot;, productData.getCode());\r\n            assertEquals(100.0, productData.getWeight(), 0.0);\r\n        }\r\n    }\r\n\r\nTest was green, but I&#39;ve changed declaration of `ProductData`. I used `items.xml` instead of just usual declaration of class in packages. I thought maybe here was left orphans, but I don&#39;t have one. \r\n\r\n**Cause of error was that I had already ProductData in db, and I removed declaration of ProductData from items.xml how suggested in answers, and declared class instead**","title":"Hybris. Couldn&#39;t run any test because of NPE exception Item.getImplementation() not found","body":"<p>I run Hybris locally. But I'm getting error while running tests:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;de.hybris.platform.jalo.Item$ItemImpl.isLocalCachingSupported()&quot; because the return value of &quot;de.hybris.platform.jalo.Item.getImplementation()&quot; is null</p>\n</blockquote>\n<p>at <code>ProductData</code> setter code lines:</p>\n<pre><code>    public void setCode(final SessionContext ctx, final String value)\n{\n    setProperty(ctx, &quot;code&quot;.intern(),value);\n}\n</code></pre>\n<p>Integration and Unit test are same returns errors.</p>\n<p>Before that <code>ant yunitinit</code> helped me. But this time I even have tried <code>ant clean all</code>, <code>ant initialize</code> but no changings.</p>\n<p>It's my added item type. It generated correct table and class.</p>\n<pre><code>        &lt;itemtype code=&quot;ProductData&quot; autocreate=&quot;true&quot; generate=&quot;true&quot;&gt;\n        &lt;deployment table=&quot;ProductData&quot; typecode=&quot;30800&quot;/&gt;\n        &lt;attributes&gt;\n            &lt;attribute qualifier=&quot;code&quot; type=&quot;java.lang.String&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;weight&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;height&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;length&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;width&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n        &lt;/attributes&gt;\n    &lt;/itemtype&gt;\n</code></pre>\n<p>And test class itself:</p>\n<pre><code>package com.epam.trainingextension.setup.populator;\n\nimport com.epam.trainingextension.enums.ProductOption;\nimport com.epam.trainingextension.jalo.ProductData;\nimport de.hybris.bootstrap.annotations.IntegrationTest;\nimport de.hybris.bootstrap.annotations.UnitTest;\nimport de.hybris.platform.core.Registry;\nimport de.hybris.platform.core.model.product.ProductModel;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\nimport java.util.Collections;\nimport java.util.concurrent.TimeUnit;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNull;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class ProductPopulatorTest {\n    @InjectMocks\n    private ProductPopulator productPopulator;\n\n    @Mock\n    private ProductModel productModel;\n\n    @Test\n    public void testPopulate_whenPhysicalDimensionsOptionIsPassed_shouldPopulateWeight()\n    {\n        when(productModel.getCode()).thenReturn(&quot;productCode&quot;);\n        when(productModel.getWeight()).thenReturn(100.0);\n\n        final ProductData productData = new ProductData();\n        productPopulator.populate(productModel, productData, Collections.singletonList(ProductOption.PHYSICAL_DIMENSIONS));\n\n        assertEquals(&quot;productCode&quot;, productData.getCode());\n        assertEquals(100.0, productData.getWeight(), 0.0);\n    }\n}\n</code></pre>\n<p>Test was green, but I've changed declaration of <code>ProductData</code>. I used <code>items.xml</code> instead of just usual declaration of class in packages. I thought maybe here was left orphans, but I don't have one.</p>\n<p><strong>Cause of error was that I had already ProductData in db, and I removed declaration of ProductData from items.xml how suggested in answers, and declared class instead</strong></p>\n"},{"tags":["java","dns","java-web-start"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1322829639,"post_id":6140872,"comment_id":10307670,"body_markdown":"Note, that it is necessary for enforcement of the same-origin policy that DNS mappings are pinned.","body":"Note, that it is necessary for enforcement of the same-origin policy that DNS mappings are pinned."}],"answers":[{"tags":[],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306424544,"creation_date":1306424544,"answer_id":6141273,"question_id":6140872,"body_markdown":"Are you running this with javaws? If you are, have you tried\r\n\r\n    javaws -J-Dnetworkaddress.cache.ttl=0 yourapp.jnlp","title":"How to set Java DNS resolver cache TTL in Web Start application?","body":"<p>Are you running this with javaws? If you are, have you tried</p>\n\n<pre><code>javaws -J-Dnetworkaddress.cache.ttl=0 yourapp.jnlp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322555292,"creation_date":1322524285,"answer_id":8304052,"question_id":6140872,"body_markdown":"The simple answer is that `sun.net.InetAddressCachePolicy` is initialized only once in the static{} initializer taking into account the property you specify. Webstart loader obviously uses the class, hence it doesn&#39;t take your value.\r\n\r\nHowever, since the property may not be initialized you can use `InetAddressCachePolicy.setIfNotSet(InetAddressCachePolicy.NEVER)`.\r\n\r\nAlternatively there is a system property to add to the jnlp:\r\n*&lt; property name=&quot;com.sun.net.inetaddr.ttl&quot; value=&quot;0&quot; /&gt;*\r\n\r\nIf it is specified already by the webstart (have not tested) you can resort only on hacking via reflection `Field f= InetAddressCachePolicy.getDeclaredField(&quot;cachePolicy&quot;); f.setAccessible(true); f.setInt(0);` *which may or may not work.*\r\n\r\nGood luck and happy hacking!","title":"How to set Java DNS resolver cache TTL in Web Start application?","body":"<p>The simple answer is that <code>sun.net.InetAddressCachePolicy</code> is initialized only once in the static{} initializer taking into account the property you specify. Webstart loader obviously uses the class, hence it doesn't take your value.</p>\n\n<p>However, since the property may not be initialized you can use <code>InetAddressCachePolicy.setIfNotSet(InetAddressCachePolicy.NEVER)</code>.</p>\n\n<p>Alternatively there is a system property to add to the jnlp:\n<em>&lt; property name=\"com.sun.net.inetaddr.ttl\" value=\"0\" /></em></p>\n\n<p>If it is specified already by the webstart (have not tested) you can resort only on hacking via reflection <code>Field f= InetAddressCachePolicy.getDeclaredField(\"cachePolicy\"); f.setAccessible(true); f.setInt(0);</code> <em>which may or may not work.</em></p>\n\n<p>Good luck and happy hacking!</p>\n"}],"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2578,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1676024551,"creation_date":1306422696,"question_id":6140872,"body_markdown":"I am able to tell the Java DNS resolver not to cache like this:\r\n\r\n    java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;0&quot;);\r\n\r\nThis works just fine when the program is run directly from the JRE, however, when run from Web Start, this setting seems to be ignored, and it caches forever. I don&#39;t get a SecurityException.\r\n\r\nHowever, if I set the security manager to null, the setting will work in Web Start:\r\n\r\n    System.setSecurityManager(null);\r\n\r\nDoes anybody know a way to enable this property in Web Start without turning off the Security Manager? Also, if you can simply shed more light on what&#39;s going on, I&#39;d appreciate it.","title":"How to set Java DNS resolver cache TTL in Web Start application?","body":"<p>I am able to tell the Java DNS resolver not to cache like this:</p>\n\n<pre><code>java.security.Security.setProperty(\"networkaddress.cache.ttl\", \"0\");\n</code></pre>\n\n<p>This works just fine when the program is run directly from the JRE, however, when run from Web Start, this setting seems to be ignored, and it caches forever. I don't get a SecurityException.</p>\n\n<p>However, if I set the security manager to null, the setting will work in Web Start:</p>\n\n<pre><code>System.setSecurityManager(null);\n</code></pre>\n\n<p>Does anybody know a way to enable this property in Web Start without turning off the Security Manager? Also, if you can simply shed more light on what's going on, I'd appreciate it.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5000707,"reputation":1097,"user_id":4019835,"display_name":"Bouramas"},"score":0,"creation_date":1676012878,"post_id":75406234,"comment_id":133055035,"body_markdown":"Try this one: `&lt;dependency&gt;\n    &lt;groupId&gt;javax.sql&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.sql-api&lt;/artifactId&gt;\n    &lt;version&gt;XX.XX.XX&lt;/version&gt;\n&lt;/dependency&gt;`","body":"Try this one: <code>&lt;dependency&gt;     &lt;groupId&gt;javax.sql&lt;&#47;groupId&gt;     &lt;artifactId&gt;javax.sql-api&lt;&#47;artifactId&gt;     &lt;version&gt;XX.XX.XX&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676012912,"post_id":75406234,"comment_id":133055047,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":5534447,"reputation":42,"user_id":4393276,"display_name":"luckyqiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675997774,"creation_date":1675997774,"answer_id":75406495,"question_id":75406234,"body_markdown":"try to import this maven library\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"The type java.sql.SQLException cannot be resolved. It is indirectly referenced from required type com.alibaba.druid.pool.DruidDataSource","body":"<p>try to import this maven library</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.32&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26598430,"reputation":1,"user_id":20220402,"display_name":"Galen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024526,"creation_date":1676024526,"answer_id":75409752,"question_id":75406234,"body_markdown":"it should be jre compatibility issue, jre1.8 is ok","title":"The type java.sql.SQLException cannot be resolved. It is indirectly referenced from required type com.alibaba.druid.pool.DruidDataSource","body":"<p>it should be jre compatibility issue, jre1.8 is ok</p>\n"}],"owner":{"account_id":26598430,"reputation":1,"user_id":20220402,"display_name":"Galen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676024526,"creation_date":1675994002,"question_id":75406234,"body_markdown":"\r\n```\r\npackage com.test.redis.config;\r\n\r\nimport com.alibaba.druid.pool.DruidDataSource;\r\nimport com.alibaba.druid.support.http.StatViewServlet;\r\nimport com.alibaba.druid.support.http.WebStatFilter;\r\n \r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.SQLException;\r\n```\r\n\r\nIDEA SpringTooSuit4, maven pom.xml config jpa. \r\n\r\n-----------\r\njavax.sql.DataSource,java.sql.SQLException can not be resolved.\r\n\r\nno idea ............\r\nexpect import success","title":"The type java.sql.SQLException cannot be resolved. It is indirectly referenced from required type com.alibaba.druid.pool.DruidDataSource","body":"<pre><code>package com.test.redis.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport com.alibaba.druid.support.http.StatViewServlet;\nimport com.alibaba.druid.support.http.WebStatFilter;\n \n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\n</code></pre>\n<p>IDEA SpringTooSuit4, maven pom.xml config jpa.</p>\n<hr />\n<p>javax.sql.DataSource,java.sql.SQLException can not be resolved.</p>\n<p>no idea ............\nexpect import success</p>\n"},{"tags":["java","stdin","readline","ioexception"],"answers":[{"tags":[],"owner":{"account_id":2248,"reputation":7914,"user_id":3105,"accept_rate":86,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1496030531,"creation_date":1266758329,"answer_id":2305980,"question_id":2305966,"body_markdown":"You should add &quot;throws IOException&quot; to your main method:\r\n\r\n`public static void main(String[] args) throws IOException {`   \r\n\r\nYou can read a bit more about checked exceptions (which are specific to Java) in [JLS][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>You should add \"throws IOException\" to your main method:</p>\n\n<p><code>public static void main(String[] args) throws IOException {</code>   </p>\n\n<p>You can read a bit more about checked exceptions (which are specific to Java) in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html\" rel=\"noreferrer\">JLS</a>.</p>\n"},{"tags":[],"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1266758629,"creation_date":1266758629,"answer_id":2305992,"question_id":2305966,"body_markdown":"Java has a feature called &quot;checked exceptions&quot;. That means that there are certain kinds of exceptions, namely those that subclass Exception but not RuntimeException, such that if a method may throw them, it *must* list them in its throws declaration, say: void readData() throws IOException. IOException is one of those.\r\n\r\nThus, when you are calling a method that lists IOException in its throws declaration, you must either list it in your own throws declaration or catch it.\r\n\r\nThe rationale for the presence of checked exceptions is that for some kinds of exceptions, you must not ignore the fact that they may happen, because their happening is quite a regular situation, not a program error. So, the compiler helps you not to forget about the possibility of such an exception being raised and requires you to handle it in some way.\r\n\r\nHowever, not all checked exception classes in Java standard library fit under this rationale, but that&#39;s a totally different topic.","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>Java has a feature called \"checked exceptions\". That means that there are certain kinds of exceptions, namely those that subclass Exception but not RuntimeException, such that if a method may throw them, it <em>must</em> list them in its throws declaration, say: void readData() throws IOException. IOException is one of those.</p>\n\n<p>Thus, when you are calling a method that lists IOException in its throws declaration, you must either list it in your own throws declaration or catch it.</p>\n\n<p>The rationale for the presence of checked exceptions is that for some kinds of exceptions, you must not ignore the fact that they may happen, because their happening is quite a regular situation, not a program error. So, the compiler helps you not to forget about the possibility of such an exception being raised and requires you to handle it in some way.</p>\n\n<p>However, not all checked exception classes in Java standard library fit under this rationale, but that's a totally different topic.</p>\n"},{"tags":[],"owner":{"account_id":79066,"reputation":529,"user_id":224509,"accept_rate":40,"display_name":"Parth"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1445609852,"creation_date":1266764503,"answer_id":2306266,"question_id":2305966,"body_markdown":"Try again with this code snippet:\r\n\r\n    import java.io.*;\r\n\r\n    class IO {\r\n        public static void main(String[] args) {    \r\n            try {\r\n                BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \r\n                String userInput;    \r\n                while ((userInput = stdIn.readLine()) != null) {\r\n                    System.out.println(userInput);\r\n                }\r\n            } catch(IOException ie) {\r\n                ie.printStackTrace();\r\n            }   \r\n        }\r\n    }\r\n\r\n\r\n\r\nUsing `try-catch-finally` is better than using `throws`. Finding errors and debugging are easier when you use `try-catch-finally`.","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>Try again with this code snippet:</p>\n\n<pre><code>import java.io.*;\n\nclass IO {\n    public static void main(String[] args) {    \n        try {\n            BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \n            String userInput;    \n            while ((userInput = stdIn.readLine()) != null) {\n                System.out.println(userInput);\n            }\n        } catch(IOException ie) {\n            ie.printStackTrace();\n        }   \n    }\n}\n</code></pre>\n\n<p>Using <code>try-catch-finally</code> is better than using <code>throws</code>. Finding errors and debugging are easier when you use <code>try-catch-finally</code>.</p>\n"},{"tags":[],"owner":{"account_id":2246708,"reputation":17,"user_id":1979895,"display_name":"vivz"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1358754295,"creation_date":1358731672,"answer_id":14431324,"question_id":2305966,"body_markdown":"Reading input from keyboard is analogous to downloading files from the internet, the java io system opens connections with the source of data to be read using InputStream or Reader, you have to handle a situation where the connection can break by using IOExceptions\r\n\r\nIf you want to know exactly what it means to work with InputStreams and BufferedReader [this video][1] shows it\r\n\r\n\r\n[1]: http://www.youtube.com/watch?v=tXsZHUtmNs4","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>Reading input from keyboard is analogous to downloading files from the internet, the java io system opens connections with the source of data to be read using InputStream or Reader, you have to handle a situation where the connection can break by using IOExceptions</p>\n\n<p>If you want to know exactly what it means to work with InputStreams and BufferedReader <a href=\"http://www.youtube.com/watch?v=tXsZHUtmNs4\" rel=\"nofollow\">this video</a> shows it</p>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518017099,"creation_date":1518017099,"answer_id":48667399,"question_id":2305966,"body_markdown":"add &quot;throws IOException&quot; to your method like this:\r\n\r\n \r\n\r\n    public static void main(String args[]) throws  IOException{\r\n    \r\n            FileReader reader=new FileReader(&quot;db.properties&quot;);\r\n    \r\n            Properties p=new Properties();\r\n            p.load(reader);\r\n    \r\n            \r\n        }","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>add \"throws IOException\" to your method like this:</p>\n\n<pre><code>public static void main(String args[]) throws  IOException{\n\n        FileReader reader=new FileReader(\"db.properties\");\n\n        Properties p=new Properties();\n        p.load(reader);\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6498173,"reputation":908,"user_id":5130800,"display_name":"KoKlA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614353315,"creation_date":1614353315,"answer_id":66388540,"question_id":2305966,"body_markdown":"I got the Error even though i was catching the exception.\r\n\r\n        try {\r\n            bitmap = BitmapFactory.decodeStream(getAssets().open(&quot;kitten.jpg&quot;));\r\n        } catch (IOException e) {\r\n            Log.e(&quot;blabla&quot;, &quot;Error&quot;, e);\r\n            finish();\r\n        }\r\n\r\n\r\n\r\n\r\nIssue was that the IOException wasn&#39;t imported\r\n\r\n    import java.io.IOException;\r\n","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>I got the Error even though i was catching the exception.</p>\n<pre><code>    try {\n        bitmap = BitmapFactory.decodeStream(getAssets().open(&quot;kitten.jpg&quot;));\n    } catch (IOException e) {\n        Log.e(&quot;blabla&quot;, &quot;Error&quot;, e);\n        finish();\n    }\n</code></pre>\n<p>Issue was that the IOException wasn't imported</p>\n<pre><code>import java.io.IOException;\n</code></pre>\n"}],"owner":{"account_id":88863,"reputation":126149,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223300,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":2305980,"answer_count":6,"score":46,"last_activity_date":1676023610,"creation_date":1266758047,"question_id":2305966,"body_markdown":"I have the following simple code:\r\n\r\n    import java.io.*;\r\n    class IO {\r\n        public static void main(String[] args) {    \r\n    \t   BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \r\n    \t   String userInput;\t\r\n    \t   while ((userInput = stdIn.readLine()) != null) {\r\n    \t      System.out.println(userInput);\r\n    \t   }\r\n        }\r\n    }\r\n\r\nAnd I get the following error message:\r\n\r\n    ----------\r\n    1. ERROR in io.java (at line 10)\r\n    \twhile ((userInput = stdIn.readLine()) != null) {\r\n    \t                    ^^^^^^^^^^^^^^^^\r\n    Unhandled exception type IOException\r\n    ----------\r\n    1 problem (1 error)roman@roman-laptop:~/work/java$ mcedit io.java \r\n\r\nDoes anybody have any ideas why? I just tried to simplify the code given on the sum web site ([here][1]). Did I oversimplify?\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/networking/sockets/readingWriting.html","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>I have the following simple code:</p>\n\n<pre><code>import java.io.*;\nclass IO {\n    public static void main(String[] args) {    \n       BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \n       String userInput;    \n       while ((userInput = stdIn.readLine()) != null) {\n          System.out.println(userInput);\n       }\n    }\n}\n</code></pre>\n\n<p>And I get the following error message:</p>\n\n<pre><code>----------\n1. ERROR in io.java (at line 10)\n    while ((userInput = stdIn.readLine()) != null) {\n                        ^^^^^^^^^^^^^^^^\nUnhandled exception type IOException\n----------\n1 problem (1 error)roman@roman-laptop:~/work/java$ mcedit io.java \n</code></pre>\n\n<p>Does anybody have any ideas why? I just tried to simplify the code given on the sum web site (<a href=\"http://java.sun.com/docs/books/tutorial/networking/sockets/readingWriting.html\" rel=\"noreferrer\">here</a>). Did I oversimplify?</p>\n"},{"tags":["java","itext"],"owner":{"account_id":20146453,"reputation":1,"user_id":14774862,"display_name":"eldoxz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676023547,"creation_date":1676023324,"question_id":75409523,"body_markdown":"How to add all the content of a pdf to a second pdf that has a table. I want all the content to be placed in one cell. I am using the itext library. \r\n\r\nI tried the code as below but it only pastes the content of the pdf without keeping the table:\r\n```\r\nPdfReader reader2 = new PdfReader(outputFile);\r\n\r\nPdfContentByte cb1 = writer.getDirectContent();\r\nfor (int i = 1; i &lt;= reader2.getNumberOfPages(); i++) {\r\n    document.newPage();\r\n    PdfImportedPage page = writer.getImportedPage(reader2, i);\r\n    cb1.addTemplate(page,0,0);\r\n}\r\n```\r\n\r\nI want it to look like this: \r\n```none\r\n| Table A        | \r\n| -------------- | \r\n| Pdf 1 content  |\r\n| Pdf 1 content  |\r\n| Pdf 2 content  |\r\n| Pdf 1 content  |\r\n```","title":"Adding pdf content to the table","body":"<p>How to add all the content of a pdf to a second pdf that has a table. I want all the content to be placed in one cell. I am using the itext library.</p>\n<p>I tried the code as below but it only pastes the content of the pdf without keeping the table:</p>\n<pre><code>PdfReader reader2 = new PdfReader(outputFile);\n\nPdfContentByte cb1 = writer.getDirectContent();\nfor (int i = 1; i &lt;= reader2.getNumberOfPages(); i++) {\n    document.newPage();\n    PdfImportedPage page = writer.getImportedPage(reader2, i);\n    cb1.addTemplate(page,0,0);\n}\n</code></pre>\n<p>I want it to look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>| Table A        | \n| -------------- | \n| Pdf 1 content  |\n| Pdf 1 content  |\n| Pdf 2 content  |\n| Pdf 1 content  |\n</code></pre>\n"},{"tags":["javascript","java","overflow","int32"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676022838,"post_id":75409135,"comment_id":133057663,"body_markdown":"Related question that might help: https://stackoverflow.com/q/30678303/5133585","body":"Related question that might help: <a href=\"https://stackoverflow.com/q/30678303/5133585\">stackoverflow.com/q/30678303/5133585</a>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676022662,"creation_date":1676022662,"answer_id":75409370,"question_id":75409135,"body_markdown":"I can&#39;t provide a definitive answer as to exactly why you get these exact numbers; but consider that all numbers in JS are doubles.\r\n\r\nSo, whereas `current * 0x08088405` is done using integer arithmetic in Java, `a[0]*a[1]` is done using double arithmetic in JS, so these intermediate results are different; and the limited precision of a double means that adding 1 to that doesn&#39;t actually change the value:\r\n\r\n```\r\nconsole.log(a[0]*a[1]) =&gt; -215607868985706270\r\nconsole.log(a[0]*a[1] + a[2]) =&gt; = -215607868985706270\r\n```\r\n\r\nCompare this to Java, where integer arithmetic is used:\r\n\r\n```\r\nint[] a = { -1599751945, 0x08088405, 1};\r\nSystem.out.println(a[0]*a[1])          =&gt; 374601939\r\nSystem.out.println(a[0]*a[1] + a[2])   =&gt; 374601940\r\n```\r\n\r\nIf we make Java do this in double arithmetic:\r\n\r\n```\r\ndouble[] a = { -1599751945, 0x08088405, 1};\r\nSystem.out.println(a[0]*a[1]);         =&gt; -2.15607868985706272E17\r\nSystem.out.println(a[0]*a[1] + a[2]);  =&gt; -2.15607868985706272E17\r\n```\r\n\r\nYou can see that this is _almost_ the same, but differs in the least significant digit:\r\n\r\n```\r\n-215607868985706270  // JS\r\n-215607868985706272  // Java\r\n```\r\n\r\nI don&#39;t know why there is such a difference here.","title":"Int32 computation difference between Java and JavaScript","body":"<p>I can't provide a definitive answer as to exactly why you get these exact numbers; but consider that all numbers in JS are doubles.</p>\n<p>So, whereas <code>current * 0x08088405</code> is done using integer arithmetic in Java, <code>a[0]*a[1]</code> is done using double arithmetic in JS, so these intermediate results are different; and the limited precision of a double means that adding 1 to that doesn't actually change the value:</p>\n<pre><code>console.log(a[0]*a[1]) =&gt; -215607868985706270\nconsole.log(a[0]*a[1] + a[2]) =&gt; = -215607868985706270\n</code></pre>\n<p>Compare this to Java, where integer arithmetic is used:</p>\n<pre><code>int[] a = { -1599751945, 0x08088405, 1};\nSystem.out.println(a[0]*a[1])          =&gt; 374601939\nSystem.out.println(a[0]*a[1] + a[2])   =&gt; 374601940\n</code></pre>\n<p>If we make Java do this in double arithmetic:</p>\n<pre><code>double[] a = { -1599751945, 0x08088405, 1};\nSystem.out.println(a[0]*a[1]);         =&gt; -2.15607868985706272E17\nSystem.out.println(a[0]*a[1] + a[2]);  =&gt; -2.15607868985706272E17\n</code></pre>\n<p>You can see that this is <em>almost</em> the same, but differs in the least significant digit:</p>\n<pre><code>-215607868985706270  // JS\n-215607868985706272  // Java\n</code></pre>\n<p>I don't know why there is such a difference here.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676022807,"creation_date":1676022807,"answer_id":75409399,"question_id":75409135,"body_markdown":"Floating point numbers only support precision up to a specific number of digits. JavaScript promotes numbers larger than 32 bits to floating point numbers.\r\n\r\nJava is &quot;more correct&quot; here.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // -215607868985706285 is the 64 bit result of your multiplication\r\n    console.log(-215607868985706285); // will print -215607868985706285\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSee https://stackoverflow.com/questions/588004/is-floating-point-math-broken for a general discussion of this topic.","title":"Int32 computation difference between Java and JavaScript","body":"<p>Floating point numbers only support precision up to a specific number of digits. JavaScript promotes numbers larger than 32 bits to floating point numbers.</p>\n<p>Java is &quot;more correct&quot; here.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// -215607868985706285 is the 64 bit result of your multiplication\nconsole.log(-215607868985706285); // will print -215607868985706285</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>See <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a> for a general discussion of this topic.</p>\n"},{"tags":[],"owner":{"account_id":19619018,"reputation":127,"user_id":14359869,"display_name":"antonio_s87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676023381,"creation_date":1676023381,"answer_id":75409531,"question_id":75409135,"body_markdown":"Use Math.imul() in JavaScript. That should produce the correct result.\r\n\r\n    const a = new Int32Array(4)\r\n\r\n    a[0] = -1599751945\r\n    a[1] = 0x08088405\r\n    a[2] = 1\r\n    a[3] = Math.imul(a[0], a[1]) + a[2]\r\n\r\n    console.log(&#39;a[3] = &#39; + a[3])\r\n\r\nAdditional details as to why can be found [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21865422/14359869","title":"Int32 computation difference between Java and JavaScript","body":"<p>Use Math.imul() in JavaScript. That should produce the correct result.</p>\n<pre><code>const a = new Int32Array(4)\n\na[0] = -1599751945\na[1] = 0x08088405\na[2] = 1\na[3] = Math.imul(a[0], a[1]) + a[2]\n\nconsole.log('a[3] = ' + a[3])\n</code></pre>\n<p>Additional details as to why can be found <a href=\"https://stackoverflow.com/a/21865422/14359869\">here</a>.</p>\n"}],"owner":{"account_id":3780411,"reputation":45,"user_id":3140057,"display_name":"airone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1676025214,"accepted_answer_id":75409531,"answer_count":3,"score":4,"last_activity_date":1676023465,"creation_date":1676021314,"question_id":75409135,"body_markdown":"I need to rewrite some legacy Java code performing arithmetic transformations from Java to TypeScript/JavaScript. The problem is the legacy code uses the `int` Java type (signed 32-bits) and relies on overflows. I almost got what I want using Int32Array in JavaScript, but I still have a difference I can&#39;t explain. Look below.\r\n\r\nJava:\r\n\r\n```java\r\nint current = -1599751945;\r\nint next = current * 0x08088405 + 1;\r\nSystem.out.println(&quot;next = &quot; + next);\r\n```\r\n\r\nOutput: next = **374601940**\r\n\r\nJavascript:\r\n\r\n```js\r\nconst a = new Int32Array(4)\r\n\r\na[0] = -1599751945\r\na[1] = 0x08088405\r\na[2] = 1\r\na[3] = a[0]*a[1] + a[2]\r\n\r\nconsole.log(&#39;a[3] = &#39; + a[3])\r\n```\r\n\r\nOutput: a[3] = **374601952**\r\n\r\nCan someone explain the difference? And how can I get same result in JavaScript? I tried shift operations, coerce with |0, methods to convert etc., but best result is the one above.\r\n\r\n","title":"Int32 computation difference between Java and JavaScript","body":"<p>I need to rewrite some legacy Java code performing arithmetic transformations from Java to TypeScript/JavaScript. The problem is the legacy code uses the <code>int</code> Java type (signed 32-bits) and relies on overflows. I almost got what I want using Int32Array in JavaScript, but I still have a difference I can't explain. Look below.</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int current = -1599751945;\nint next = current * 0x08088405 + 1;\nSystem.out.println(&quot;next = &quot; + next);\n</code></pre>\n<p>Output: next = <strong>374601940</strong></p>\n<p>Javascript:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const a = new Int32Array(4)\n\na[0] = -1599751945\na[1] = 0x08088405\na[2] = 1\na[3] = a[0]*a[1] + a[2]\n\nconsole.log('a[3] = ' + a[3])\n</code></pre>\n<p>Output: a[3] = <strong>374601952</strong></p>\n<p>Can someone explain the difference? And how can I get same result in JavaScript? I tried shift operations, coerce with |0, methods to convert etc., but best result is the one above.</p>\n"},{"tags":["java","google-maps","ssl","google-app-engine","mocking"],"owner":{"account_id":18718450,"reputation":175,"user_id":13646924,"display_name":"TaeXtreme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676022747,"creation_date":1676022747,"question_id":75409390,"body_markdown":"I currently working on an app that need to call google maps fleet engine gRPC API. The App is implemented in Java 11 and connecting to google engine using [Fleet Engine Auth][1]. And right now, I try to create a mock fleet engine server using [Camouflage][2] API simulation tools that support gRPC. So far, the mock server is work when I use it with Postman. But when I try to use it with the app, the app fails to connect with the mock server. Then, I enable TLS in mock server using certificate and key that I generate using JDK keytool and openssl. After putting cert and key files into the mock and setting app config to match with the mock the app still won&#39;t connect to the mock server.\r\n\r\nIs there an alternative way to mocking google maps fleet engine gRPC API?\r\nOr what I need to do to set up a mock properly?\r\n\r\nError message when I am using mock server with TLS disable.\r\n```\r\ncom.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n\tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\r\n\tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\r\n\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\r\n\tat com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\r\n\tat com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\r\n\tat com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\r\n\tat com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\r\n\tat com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\r\n\tat com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tSuppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n\t\tat com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n\t\tat com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n\t\tat google.maps.fleetengine.v1.TripServiceClient.createTrip(TripServiceClient.java:178)\r\n\t\tat th.co.rbh.expodrd.services.proxy.TripServiceProxy.createTrip(TripServiceProxy.java:23)\r\n\t\tat th.co.rbh.expodrd.services.TripService.postTripNew(TripService.java:169)\r\n\t\tat th.co.rbh.expodrd.services.TripService$$FastClassBySpringCGLIB$$114d2f28.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\t\tat th.co.rbh.expodrd.services.TripService$$EnhancerBySpringCGLIB$$9e7db346.postTripNew(&lt;generated&gt;)\r\n\t\tat th.co.rbh.expodrd.controllers.TripController.postTrip(TripController.java:38)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat th.co.rbh.library.filter.RequestFilter.doFilterInternal(RequestFilter.java:117)\r\n\t\tat th.co.rbh.library.filter.RequestFilter.doFilter(RequestFilter.java:96)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat th.co.rbh.library.filter.CustomHeaderFilter.doFilter(CustomHeaderFilter.java:30)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat io.opentracing.contrib.web.servlet.filter.TracingFilter.doFilter(TracingFilter.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\t... 1 common frames omitted\r\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\r\n\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n\t... 3 common frames omitted\r\nCaused by: io.grpc.netty.shaded.io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 000000040000000000\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1254)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 common frames omitted\r\n```\r\n\r\nError when I am using mock with TLS\r\n```\r\ncom.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n\tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\r\n\tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\r\n\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\r\n\tat com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\r\n\tat com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\r\n\tat com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\r\n\tat com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\r\n\tat com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\r\n\tat com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tSuppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n\t\tat com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n\t\tat com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n\t\tat google.maps.fleetengine.v1.VehicleServiceClient.searchVehicles(VehicleServiceClient.java:675)\r\n\t\tat th.co.rbh.expodrd.services.proxy.VehicleServiceProxy.searchVehicles(VehicleServiceProxy.java:32)\r\n\t\tat th.co.rbh.expodrd.services.VehicleSearchService.searchVehicles(VehicleSearchService.java:69)\r\n\t\tat th.co.rbh.expodrd.services.ODRDStateAsync.matchVehicleToTrip(ODRDStateAsync.java:58)\r\n\t\tat th.co.rbh.expodrd.services.ODRDStateAsync$$FastClassBySpringCGLIB$$2f75af1a.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n\t\tat io.opentracing.contrib.spring.cloud.async.TraceAsyncAspect.traceBackgroundThread(TraceAsyncAspect.java:56)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n\t\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\t\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n\t\tat io.opentracing.contrib.concurrent.TracedCallable.call(TracedCallable.java:32)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\t... 3 common frames omitted\r\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\r\n\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n\t... 3 common frames omitted\r\nCaused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1771)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:776)\r\n\tat java.base/javax.net.ssl.SSLEngine.wrap(SSLEngine.java:522)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1079)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:970)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1443)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 common frames omitted\r\nCaused by: java.security.cert.CertificateException: No subject alternative names present\r\n\tat java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:142)\r\n\tat java.base/sun.security.util.HostnameChecker.match(HostnameChecker.java:101)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:455)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:429)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:283)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:141)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslClientContext$ExtendedTrustManagerVerifyCallback.verify(ReferenceCountedOpenSslClientContext.java:261)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslContext$AbstractCertificateVerifier.verify(ReferenceCountedOpenSslContext.java:700)\r\n\tat io.grpc.netty.shaded.io.netty.internal.tcnative.SSL.readFromSSL(Native Method)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.readPlaintextData(ReferenceCountedOpenSslEngine.java:595)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1202)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1324)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1367)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:206)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1380)\r\n\t... 21 common frames omitted\r\n\tSuppressed: javax.net.ssl.SSLHandshakeException: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED\r\n\t\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1287)\r\n\t\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1248)\r\n\t\t... 25 common frames omitted\r\n```\r\n\r\n  [1]: https://github.com/googlemaps/java-fleetengine-auth\r\n  [2]: https://testinggospels.github.io/camouflage/","title":"Cannot mock Google Maps gRPC service with TLS for Testing","body":"<p>I currently working on an app that need to call google maps fleet engine gRPC API. The App is implemented in Java 11 and connecting to google engine using <a href=\"https://github.com/googlemaps/java-fleetengine-auth\" rel=\"nofollow noreferrer\">Fleet Engine Auth</a>. And right now, I try to create a mock fleet engine server using <a href=\"https://testinggospels.github.io/camouflage/\" rel=\"nofollow noreferrer\">Camouflage</a> API simulation tools that support gRPC. So far, the mock server is work when I use it with Postman. But when I try to use it with the app, the app fails to connect with the mock server. Then, I enable TLS in mock server using certificate and key that I generate using JDK keytool and openssl. After putting cert and key files into the mock and setting app config to match with the mock the app still won't connect to the mock server.</p>\n<p>Is there an alternative way to mocking google maps fleet engine gRPC API?\nOr what I need to do to set up a mock properly?</p>\n<p>Error message when I am using mock server with TLS disable.</p>\n<pre><code>com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\n    at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n    at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\n    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\n    at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\n    at com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\n    at com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\n    at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\n    at com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\n    at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\n    at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n    at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at google.maps.fleetengine.v1.TripServiceClient.createTrip(TripServiceClient.java:178)\n        at th.co.rbh.expodrd.services.proxy.TripServiceProxy.createTrip(TripServiceProxy.java:23)\n        at th.co.rbh.expodrd.services.TripService.postTripNew(TripService.java:169)\n        at th.co.rbh.expodrd.services.TripService$$FastClassBySpringCGLIB$$114d2f28.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n        at th.co.rbh.expodrd.services.TripService$$EnhancerBySpringCGLIB$$9e7db346.postTripNew(&lt;generated&gt;)\n        at th.co.rbh.expodrd.controllers.TripController.postTrip(TripController.java:38)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at th.co.rbh.library.filter.RequestFilter.doFilterInternal(RequestFilter.java:117)\n        at th.co.rbh.library.filter.RequestFilter.doFilter(RequestFilter.java:96)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at th.co.rbh.library.filter.CustomHeaderFilter.doFilter(CustomHeaderFilter.java:30)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at io.opentracing.contrib.web.servlet.filter.TracingFilter.doFilter(TracingFilter.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        ... 1 common frames omitted\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\n    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\n    ... 3 common frames omitted\nCaused by: io.grpc.netty.shaded.io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 000000040000000000\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1254)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 common frames omitted\n</code></pre>\n<p>Error when I am using mock with TLS</p>\n<pre><code>com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\n    at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n    at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\n    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\n    at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\n    at com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\n    at com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\n    at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\n    at com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\n    at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\n    at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n    at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at google.maps.fleetengine.v1.VehicleServiceClient.searchVehicles(VehicleServiceClient.java:675)\n        at th.co.rbh.expodrd.services.proxy.VehicleServiceProxy.searchVehicles(VehicleServiceProxy.java:32)\n        at th.co.rbh.expodrd.services.VehicleSearchService.searchVehicles(VehicleSearchService.java:69)\n        at th.co.rbh.expodrd.services.ODRDStateAsync.matchVehicleToTrip(ODRDStateAsync.java:58)\n        at th.co.rbh.expodrd.services.ODRDStateAsync$$FastClassBySpringCGLIB$$2f75af1a.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n        at io.opentracing.contrib.spring.cloud.async.TraceAsyncAspect.traceBackgroundThread(TraceAsyncAspect.java:56)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n        at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n        at io.opentracing.contrib.concurrent.TracedCallable.call(TracedCallable.java:32)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 common frames omitted\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\n    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\n    ... 3 common frames omitted\nCaused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1771)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:776)\n    at java.base/javax.net.ssl.SSLEngine.wrap(SSLEngine.java:522)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1079)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:970)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1443)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 common frames omitted\nCaused by: java.security.cert.CertificateException: No subject alternative names present\n    at java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:142)\n    at java.base/sun.security.util.HostnameChecker.match(HostnameChecker.java:101)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:455)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:429)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:283)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:141)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslClientContext$ExtendedTrustManagerVerifyCallback.verify(ReferenceCountedOpenSslClientContext.java:261)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslContext$AbstractCertificateVerifier.verify(ReferenceCountedOpenSslContext.java:700)\n    at io.grpc.netty.shaded.io.netty.internal.tcnative.SSL.readFromSSL(Native Method)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.readPlaintextData(ReferenceCountedOpenSslEngine.java:595)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1202)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1324)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1367)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:206)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1380)\n    ... 21 common frames omitted\n    Suppressed: javax.net.ssl.SSLHandshakeException: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED\n        at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1287)\n        at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1248)\n        ... 25 common frames omitted\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675915437,"post_id":75393193,"comment_id":133031873,"body_markdown":"Why are you letting NPE occur, though?","body":"Why are you letting NPE occur, though?"},{"owner":{"account_id":24911703,"reputation":71,"user_id":18781174,"display_name":"loredon"},"score":0,"creation_date":1675929355,"post_id":75393193,"comment_id":133034200,"body_markdown":"NPE it&#39;s just an example, it can be w/e exception, how can i commit the record when i receive an exception and not process it anymore next time?","body":"NPE it&#39;s just an example, it can be w/e exception, how can i commit the record when i receive an exception and not process it anymore next time?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1675978510,"post_id":75393193,"comment_id":133049926,"body_markdown":"Use [`LogAndContinue`](https://docs.confluent.io/platform/current/streams/developer-guide/config-streams.html#default-deserialization-exception-handler) handler? But that is for deserialization... You still need to try-catch custom processors, and handle runtime exceptions on your own without crashing the JVM. Any &quot;handled/skipped&quot; offsets will be committed automatically.","body":"Use <a href=\"https://docs.confluent.io/platform/current/streams/developer-guide/config-streams.html#default-deserialization-exception-handler\" rel=\"nofollow noreferrer\"><code>LogAndContinue</code></a> handler? But that is for deserialization... You still need to try-catch custom processors, and handle runtime exceptions on your own without crashing the JVM. Any &quot;handled/skipped&quot; offsets will be committed automatically."},{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1677127897,"post_id":75393193,"comment_id":133277676,"body_markdown":"Instead of letting it fail, you can just let your processor not send any downstream record, ie, just don&#39;t call `forward()` and let the `process()` method return.","body":"Instead of letting it fail, you can just let your processor not send any downstream record, ie, just don&#39;t call <code>forward()</code> and let the <code>process()</code> method return."}],"answers":[{"tags":[],"owner":{"account_id":1106225,"reputation":631,"user_id":1097552,"display_name":"Lucas Brutschy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676022743,"creation_date":1676022743,"answer_id":75409389,"question_id":75393193,"body_markdown":"Everything that happens inside `CustomProcessor` is under your control. You can wrap your logic into a `try/catch` and route the results to different streams, e.g. by outputting a &quot;valid&quot; flag and using `KStream.split` to split the result of your processing into a DLQ and the result.","title":"Kafka Stream exceptions won&#39;t trigger commit on the input record","body":"<p>Everything that happens inside <code>CustomProcessor</code> is under your control. You can wrap your logic into a <code>try/catch</code> and route the results to different streams, e.g. by outputting a &quot;valid&quot; flag and using <code>KStream.split</code> to split the result of your processing into a DLQ and the result.</p>\n"}],"owner":{"account_id":24911703,"reputation":71,"user_id":18781174,"display_name":"loredon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75409389,"answer_count":1,"score":0,"last_activity_date":1676022743,"creation_date":1675904319,"question_id":75393193,"body_markdown":"I have a kafka stream that listens on a topic and outputs on another. For ex:\r\n\r\n    KStream&lt;String, String&gt; messageStream = builder.stream(inputTopic)\r\n    KStream&lt;String, String&gt; processedStream = messageStream.process(() -&gt; new CustomProcessor());\r\n    processedStream.to(outputTopic)\r\n\r\n\r\nInside the process method lets say a NPE occurs. I have implemented an uncaught exception handler that will handle this exception and send the record to dead latter queue. Ofc, this stream will close and after it starts again it will start processing the message again ( because it wasn&#39;t commited ). How can i avoid this? How can i commit the record when i receive the exception ?\r\n\r\n","title":"Kafka Stream exceptions won&#39;t trigger commit on the input record","body":"<p>I have a kafka stream that listens on a topic and outputs on another. For ex:</p>\n<pre><code>KStream&lt;String, String&gt; messageStream = builder.stream(inputTopic)\nKStream&lt;String, String&gt; processedStream = messageStream.process(() -&gt; new CustomProcessor());\nprocessedStream.to(outputTopic)\n</code></pre>\n<p>Inside the process method lets say a NPE occurs. I have implemented an uncaught exception handler that will handle this exception and send the record to dead latter queue. Ofc, this stream will close and after it starts again it will start processing the message again ( because it wasn't commited ). How can i avoid this? How can i commit the record when i receive the exception ?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1672230888,"post_id":74939781,"comment_id":132246597,"body_markdown":"There are errors. Don&#39;t ignore them. Look into the _Problems_ view.","body":"There are errors. Don&#39;t ignore them. Look into the <i>Problems</i> view."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672233879,"post_id":74939781,"comment_id":132247346,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1672246614,"post_id":74939781,"comment_id":132251372,"body_markdown":"[You first posted a cropped screenshot showing that there are errors](https://i.stack.imgur.com/qBWzE.png), [now there are only warnings](https://i.stack.imgur.com/Hjzty.png). Did you right-click the project and choose _Maven &gt; Update Project..._ after fixing those errors? Please show your `pom.xml`. Did you specified the Java version and the encoding in your `pom.xml`?","body":"<a href=\"https://i.stack.imgur.com/qBWzE.png\" rel=\"nofollow noreferrer\">You first posted a cropped screenshot showing that there are errors</a>, <a href=\"https://i.stack.imgur.com/Hjzty.png\" rel=\"nofollow noreferrer\">now there are only warnings</a>. Did you right-click the project and choose <i>Maven &gt; Update Project...</i> after fixing those errors? Please show your <code>pom.xml</code>. Did you specified the Java version and the encoding in your <code>pom.xml</code>?"},{"owner":{"account_id":27373224,"reputation":1,"user_id":20878979,"display_name":"Achut Dudhe"},"score":0,"creation_date":1672327494,"post_id":74939781,"comment_id":132268624,"body_markdown":"@howlger please see the updated post I have updated.","body":"@howlger please see the updated post I have updated."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1672329900,"post_id":74939781,"comment_id":132269320,"body_markdown":"What you saying and what you show differ. Right-click the project and choose _Maven &gt; Update Project..._ Are sure you want to use outdated Java 7 in your project (not recommended)? If yes, make sure to have configured a Java 7 JDK in the preferences _Java &gt; Installed JREs_.","body":"What you saying and what you show differ. Right-click the project and choose <i>Maven &gt; Update Project...</i> Are sure you want to use outdated Java 7 in your project (not recommended)? If yes, make sure to have configured a Java 7 JDK in the preferences <i>Java &gt; Installed JREs</i>."}],"answers":[{"tags":[],"owner":{"account_id":17002054,"reputation":105,"user_id":12299208,"display_name":"Sayan Dasgupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672234032,"creation_date":1672234032,"answer_id":74940841,"question_id":74939781,"body_markdown":"Yes, you wont get that. Its just a basic, very simple maven project that eclipse creates for you, so that you can structure the project as you like. \r\n\r\nYou now have 2 options:\r\n1. create all the structuring by yourself\r\n2. Create a new maven project and instead of selecting `select create a simple project`, select `from archetype`, and from there you can you can select what you like (Ex: maven-archetype-quickstart ) according to what you like.\r\n\r\nFor more info on setting up maven project with arch type search in youtube. You will get a lot of video tutorials. ","title":"not getting jre system library in maven project in eclipse java","body":"<p>Yes, you wont get that. Its just a basic, very simple maven project that eclipse creates for you, so that you can structure the project as you like.</p>\n<p>You now have 2 options:</p>\n<ol>\n<li>create all the structuring by yourself</li>\n<li>Create a new maven project and instead of selecting <code>select create a simple project</code>, select <code>from archetype</code>, and from there you can you can select what you like (Ex: maven-archetype-quickstart ) according to what you like.</li>\n</ol>\n<p>For more info on setting up maven project with arch type search in youtube. You will get a lot of video tutorials.</p>\n"}],"owner":{"account_id":27373224,"reputation":1,"user_id":20878979,"display_name":"Achut Dudhe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676022624,"creation_date":1672227434,"question_id":74939781,"body_markdown":"[![here is img][1]][1]\r\n\r\n\r\nNot getting java support after creating maven project in eclipse\r\nwhen maven project created I am not getting src/main/java,src/test/java and jre system libraries folders. i am following steps to create new project\r\nsteps to create\r\n\r\n** maven project: File--&gt;new--&gt;project--&gt;select maven project--&gt;next--&gt;select create a simple project--&gt;next--&gt;give project id and artifact id--&gt;finish.**\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n      &lt;groupId&gt;MavenProject1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MavenProject1&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n      &lt;name&gt;MavenProject1&lt;/name&gt;\r\n      &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LJyCk.png","title":"not getting jre system library in maven project in eclipse java","body":"<p><a href=\"https://i.stack.imgur.com/LJyCk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJyCk.png\" alt=\"here is img\" /></a></p>\n<p>Not getting java support after creating maven project in eclipse\nwhen maven project created I am not getting src/main/java,src/test/java and jre system libraries folders. i am following steps to create new project\nsteps to create</p>\n<p>** maven project: File--&gt;new--&gt;project--&gt;select maven project--&gt;next--&gt;select create a simple project--&gt;next--&gt;give project id and artifact id--&gt;finish.**</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;MavenProject1&lt;/groupId&gt;\n  &lt;artifactId&gt;MavenProject1&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;MavenProject1&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","postgresql","jpa","substring"],"owner":{"account_id":1098402,"reputation":628,"user_id":1091484,"accept_rate":86,"display_name":"Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676022604,"creation_date":1676022604,"question_id":75409355,"body_markdown":"I&#39;d like to define such an index: `create index annuaire_abc_substr_idx on annuaire(substring(abc,7,2));`\r\n\r\nWhith JPA Specification I&#39;d like to write something like this:\r\n```\r\n@Entity\r\n@Table(name = &quot;annuaire&quot;, \r\n    indexes = {\r\n            @Index(name = &quot;annuaire_abc_substr_idx&quot;, columnList = &quot;???&quot;)\r\n    }\r\n)\r\n```\r\n\r\nIs there a way to use this javax.persistence.Index annotation to work with a substring? ","title":"JPA Index specification on substring","body":"<p>I'd like to define such an index: <code>create index annuaire_abc_substr_idx on annuaire(substring(abc,7,2));</code></p>\n<p>Whith JPA Specification I'd like to write something like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;annuaire&quot;, \n    indexes = {\n            @Index(name = &quot;annuaire_abc_substr_idx&quot;, columnList = &quot;???&quot;)\n    }\n)\n</code></pre>\n<p>Is there a way to use this javax.persistence.Index annotation to work with a substring?</p>\n"},{"tags":["java","jdbc","keycloak"],"comments":[{"owner":{"account_id":12850072,"reputation":66,"user_id":9295251,"display_name":"BilledTrain380"},"score":0,"creation_date":1662984017,"post_id":73164634,"comment_id":130124985,"body_markdown":"I had that error everytime I did not build the image first. You probably should create your own Docker image and trigger a build of Keycloak first.","body":"I had that error everytime I did not build the image first. You probably should create your own Docker image and trigger a build of Keycloak first."}],"answers":[{"tags":[],"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676022076,"creation_date":1676022076,"answer_id":75409259,"question_id":73164634,"body_markdown":"Try:\r\n```\r\ndocker run \r\n    -v ~/realm/:/opt/keycloak/data/import \r\n    -e KC_DB_PASSWORD=pass \r\n    -e KC_DB_USERNAME=db \r\n    -e KC_DB_URL=&quot;jdbc:mysql://mydburl/keycloak&quot; \r\n    quay.io/keycloak/keycloak:18.0.2  \r\n    start-dev --import-realm\r\n```\r\n\r\nIt will import all the files within the `/opt/keycloak/data/import` directory\r\n\r\nOfficial docs [KC](https://www.keycloak.org/server/importExport)","title":"Keycloak import realm","body":"<p>Try:</p>\n<pre><code>docker run \n    -v ~/realm/:/opt/keycloak/data/import \n    -e KC_DB_PASSWORD=pass \n    -e KC_DB_USERNAME=db \n    -e KC_DB_URL=&quot;jdbc:mysql://mydburl/keycloak&quot; \n    quay.io/keycloak/keycloak:18.0.2  \n    start-dev --import-realm\n</code></pre>\n<p>It will import all the files within the <code>/opt/keycloak/data/import</code> directory</p>\n<p>Official docs <a href=\"https://www.keycloak.org/server/importExport\" rel=\"nofollow noreferrer\">KC</a></p>\n"}],"owner":{"account_id":10891121,"reputation":211,"user_id":8006868,"display_name":"Kucharsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676022076,"creation_date":1659087559,"question_id":73164634,"body_markdown":"I would like to import my realm to database. In keycloak 18 I can call command ```kc.sh start --import-realm```\r\nIt works great, but only if there is no realm in the external database.\r\nI tried to import the realm with the command:\r\n```\r\ndocker run \r\n    -v ~/realm/:/opt/keycloak/data/import \r\n    -e KC_DB_PASSWORD=pass \r\n    -e KC_DB_USERNAME=db \r\n    -e KC_DB_URL=&quot;jdbc:mysql://mydburl/keycloak&quot; \r\n    quay.io/keycloak/keycloak:18.0.2  \r\n    import \r\n    --file /opt/keycloak/data/import/realm-export.json\r\n    --override true\r\n```\r\nbut I get error:\r\n```\r\nNo suitable driver found for jjdbc:mysql://mydburl/keycloak \r\n```\r\nIs there any method to import realm before calling ```kc.sh start```?\r\nHow could I import the database drivers into the container? I tried to add a parameter\r\n```import -Dquarkus.datasource.jdbc.driver=mysql```\r\nbut it seems to have no effect","title":"Keycloak import realm","body":"<p>I would like to import my realm to database. In keycloak 18 I can call command <code>kc.sh start --import-realm</code>\nIt works great, but only if there is no realm in the external database.\nI tried to import the realm with the command:</p>\n<pre><code>docker run \n    -v ~/realm/:/opt/keycloak/data/import \n    -e KC_DB_PASSWORD=pass \n    -e KC_DB_USERNAME=db \n    -e KC_DB_URL=&quot;jdbc:mysql://mydburl/keycloak&quot; \n    quay.io/keycloak/keycloak:18.0.2  \n    import \n    --file /opt/keycloak/data/import/realm-export.json\n    --override true\n</code></pre>\n<p>but I get error:</p>\n<pre><code>No suitable driver found for jjdbc:mysql://mydburl/keycloak \n</code></pre>\n<p>Is there any method to import realm before calling <code>kc.sh start</code>?\nHow could I import the database drivers into the container? I tried to add a parameter\n<code>import -Dquarkus.datasource.jdbc.driver=mysql</code>\nbut it seems to have no effect</p>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":26910127,"reputation":1,"user_id":20485841,"display_name":"Kareem Alsayed Sleman"},"score":0,"creation_date":1675987684,"post_id":75405712,"comment_id":133051635,"body_markdown":"i forgot to say if more info needed on my code please tell me and ill provide you with everything thank you for your help","body":"i forgot to say if more info needed on my code please tell me and ill provide you with everything thank you for your help"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1675988429,"post_id":75405712,"comment_id":133051744,"body_markdown":"To summarise, instead of creating a new instance of scanner inside the if block, only create one scanner and reuse it over the entire program.","body":"To summarise, instead of creating a new instance of scanner inside the if block, only create one scanner and reuse it over the entire program."},{"owner":{"account_id":24925482,"reputation":101,"user_id":18793296,"display_name":"VinodA"},"score":0,"creation_date":1675988661,"post_id":75405712,"comment_id":133051784,"body_markdown":"What problem are you facing. Although I agree to Tim&#39;s comment, I could not find issues with your current code except that your open.getOpen() and close.getClose() does not really make sense. Why are you using that?","body":"What problem are you facing. Although I agree to Tim&#39;s comment, I could not find issues with your current code except that your open.getOpen() and close.getClose() does not really make sense. Why are you using that?"},{"owner":{"account_id":18424967,"reputation":61,"user_id":13421519,"display_name":"muhammad muzaib"},"score":0,"creation_date":1675989750,"post_id":75405712,"comment_id":133051944,"body_markdown":"can you show the error that shows up when you run the program? post a screenshot. Show more context so we know what you did before you encountered the error.","body":"can you show the error that shows up when you run the program? post a screenshot. Show more context so we know what you did before you encountered the error."},{"owner":{"account_id":18424967,"reputation":61,"user_id":13421519,"display_name":"muhammad muzaib"},"score":0,"creation_date":1675989894,"post_id":75405712,"comment_id":133051965,"body_markdown":"Read this: https://stackoverflow.com/help/how-to-ask \nThis tells you how to ask questions in a better way.","body":"Read this: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>  This tells you how to ask questions in a better way."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676392279,"post_id":75405712,"comment_id":133125995,"body_markdown":"Don&#39;t create multiple scanners on the same source, use one and only one scanner.","body":"Don&#39;t create multiple scanners on the same source, use one and only one scanner."}],"owner":{"account_id":26910127,"reputation":1,"user_id":20485841,"display_name":"Kareem Alsayed Sleman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676392297,"answer_count":0,"score":0,"last_activity_date":1676021415,"creation_date":1675987634,"question_id":75405712,"body_markdown":"im trying to make a program where only if you say yes to opening an account you can deposit money in it but im not sure on how to do it in my program the scanner inside of the if statemnt isnt working\r\nin other word if you said yes to opening an account after some steps i want to ask from user if he wants to deposit money or not\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class main{\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(bank.Name);\r\n        System.out.println(bank.location);\r\n        System.out.println(&quot;bank id is: &quot; + bank.bankId);\r\n\r\n        customer open = factory.getInstance(1);\r\n        customer close = factory.getInstance(2);\r\n        customer deposit = factory.getInstance(3);\r\n\r\n        System.out.print(&quot;you want to open or close account &quot;);  \r\n        Scanner y= new Scanner(System.in); \r\n        String str= y.nextLine();                \r\n        if(str.equals(&quot;open&quot;)  ){\r\n            System.out.println(open.getOpen());\r\n            System.out.print(&quot;would you like to deposit money in your account &quot;);\r\n            Scanner isdeposit= new Scanner(System.in); \r\n            String x= isdeposit.nextLine();\r\n            if(x.equals(&quot;yes&quot;) ){\r\n                System.out.println(deposit.getDeposit());\r\n            }\r\n        }\r\n        else if(str.equals(&quot;close&quot;)){\r\n        System.out.println(close.getClose());\r\n        }\r\n        else{\r\n        System.out.println(&quot;invlaid input&quot;);\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/S3AjB.png","title":"why is my scanner inside of my if statement not working","body":"<p>im trying to make a program where only if you say yes to opening an account you can deposit money in it but im not sure on how to do it in my program the scanner inside of the if statemnt isnt working\nin other word if you said yes to opening an account after some steps i want to ask from user if he wants to deposit money or not</p>\n<pre><code>import java.util.Scanner;\n\npublic class main{\n\n    public static void main(String[] args) {\n        System.out.println(bank.Name);\n        System.out.println(bank.location);\n        System.out.println(&quot;bank id is: &quot; + bank.bankId);\n\n        customer open = factory.getInstance(1);\n        customer close = factory.getInstance(2);\n        customer deposit = factory.getInstance(3);\n\n        System.out.print(&quot;you want to open or close account &quot;);  \n        Scanner y= new Scanner(System.in); \n        String str= y.nextLine();                \n        if(str.equals(&quot;open&quot;)  ){\n            System.out.println(open.getOpen());\n            System.out.print(&quot;would you like to deposit money in your account &quot;);\n            Scanner isdeposit= new Scanner(System.in); \n            String x= isdeposit.nextLine();\n            if(x.equals(&quot;yes&quot;) ){\n                System.out.println(deposit.getDeposit());\n            }\n        }\n        else if(str.equals(&quot;close&quot;)){\n        System.out.println(close.getClose());\n        }\n        else{\n        System.out.println(&quot;invlaid input&quot;);\n        }\n      }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/S3AjB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S3AjB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","static-methods","tradeoff"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1676015798,"post_id":75408273,"comment_id":133055678,"body_markdown":"Do you then need concrete implementations of `SwingDevHelper` that implement other methods from that interface? If the answer is &quot;no&quot; then you most probably don&#39;t need an interface.","body":"Do you then need concrete implementations of <code>SwingDevHelper</code> that implement other methods from that interface? If the answer is &quot;no&quot; then you most probably don&#39;t need an interface."},{"owner":{"account_id":9987217,"reputation":542,"user_id":7387935,"display_name":"Florian Bachmann"},"score":0,"creation_date":1676018480,"post_id":75408273,"comment_id":133056367,"body_markdown":"So you only see semantical difference? There would be no technical difference, e.g. in performance or visibility?","body":"So you only see semantical difference? There would be no technical difference, e.g. in performance or visibility?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1676019223,"post_id":75408273,"comment_id":133056568,"body_markdown":"There shouldn&#39;t be any difference in performance. If you are not sure, try both approaches and do actual measurements. About visibility, both methods would be public, they&#39;re functionally identical.","body":"There shouldn&#39;t be any difference in performance. If you are not sure, try both approaches and do actual measurements. About visibility, both methods would be public, they&#39;re functionally identical."},{"owner":{"account_id":7474452,"reputation":101,"user_id":5681287,"display_name":"taismile"},"score":0,"creation_date":1676019797,"post_id":75408273,"comment_id":133056757,"body_markdown":"method implement should be in class, \ninterface only method abstract without body \n\n```java\nvoid startSwingContainer(Container container)\n```","body":"method implement should be in class,  interface only method abstract without body   <code>java void startSwingContainer(Container container) </code>"}],"answers":[{"tags":[],"owner":{"account_id":6883244,"reputation":2541,"user_id":5289288,"display_name":"Max Farsikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017488,"creation_date":1676017488,"answer_id":75408537,"question_id":75408273,"body_markdown":"If this question is raised then this method does not belong to an interface (&#39;interface&#39; in broad meaning, not just Java). So it is always better to put it as low as possible. In other words, if it is possible -- keep it in a class, and move to interface only essential members.","title":"Should I place a public static method in a class or an interface?","body":"<p>If this question is raised then this method does not belong to an interface ('interface' in broad meaning, not just Java). So it is always better to put it as low as possible. In other words, if it is possible -- keep it in a class, and move to interface only essential members.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676021070,"creation_date":1676021070,"answer_id":75409103,"question_id":75408273,"body_markdown":"The difference comes in the instantiability of `SwingDevHelper`.\r\n\r\nIf you need to instantiate `SwingDevHelper`, it can be either an interface or a (final) class.\r\n\r\nIf you don&#39;t need to (and/or don&#39;t _want to_) instantiate `SwingDevHelper`, make it a class with a private constructor:\r\n\r\n```\r\npublic final class SwingDevHelper {\r\n    private SwingDevHelper() {}  // Prevents instantiation outside this class.\r\n\r\n    public static void startSwingContainer(Container container) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nMaking the class non-instantiable is a good idea where possible  (i.e. when an instance of that class is meaningless/useless) because it simplifies the reasoning about the code: you never have to worry about what to do when you encounter an instance of it.\r\n\r\nThere is an item specifically about this in _Effective Java_: it&#39;s Item 22 in 3rd Ed: &quot;Use interfaces only to define types&quot;. TL;DR: if `SwingDevHelper` isn&#39;t a meaningful type, don&#39;t use an interface.","title":"Should I place a public static method in a class or an interface?","body":"<p>The difference comes in the instantiability of <code>SwingDevHelper</code>.</p>\n<p>If you need to instantiate <code>SwingDevHelper</code>, it can be either an interface or a (final) class.</p>\n<p>If you don't need to (and/or don't <em>want to</em>) instantiate <code>SwingDevHelper</code>, make it a class with a private constructor:</p>\n<pre><code>public final class SwingDevHelper {\n    private SwingDevHelper() {}  // Prevents instantiation outside this class.\n\n    public static void startSwingContainer(Container container) {\n        ...\n    }\n}\n</code></pre>\n<p>Making the class non-instantiable is a good idea where possible  (i.e. when an instance of that class is meaningless/useless) because it simplifies the reasoning about the code: you never have to worry about what to do when you encounter an instance of it.</p>\n<p>There is an item specifically about this in <em>Effective Java</em>: it's Item 22 in 3rd Ed: &quot;Use interfaces only to define types&quot;. TL;DR: if <code>SwingDevHelper</code> isn't a meaningful type, don't use an interface.</p>\n"}],"owner":{"account_id":9987217,"reputation":542,"user_id":7387935,"display_name":"Florian Bachmann"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676021141,"answer_count":2,"score":0,"last_activity_date":1676021070,"creation_date":1676015676,"question_id":75408273,"body_markdown":"I wonder what considerations I should make, when I have to decide whether to take an interface or a class to place my static helper method in.\r\n\r\nConcrete example: I want to provide a little method, that I can call from the `main` method in Swing components, so I can faster iterate the development on them.\r\n\r\nShould I place it in an interface or in a class? \r\n\r\n```java\r\npublic final class SwingDevHelper {\r\n    public static void startSwingContainer(Container container) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```java\r\npublic interface SwingDevHelper {\r\n    static void startSwingContainer(Container container) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nDo I have to consider semantical or technical points, e.g. performance or visibility?","title":"Should I place a public static method in a class or an interface?","body":"<p>I wonder what considerations I should make, when I have to decide whether to take an interface or a class to place my static helper method in.</p>\n<p>Concrete example: I want to provide a little method, that I can call from the <code>main</code> method in Swing components, so I can faster iterate the development on them.</p>\n<p>Should I place it in an interface or in a class?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class SwingDevHelper {\n    public static void startSwingContainer(Container container) {\n        ...\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface SwingDevHelper {\n    static void startSwingContainer(Container container) {\n        ...\n    }\n}\n</code></pre>\n<p>Do I have to consider semantical or technical points, e.g. performance or visibility?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1357222471,"post_id":14140545,"comment_id":19581047,"body_markdown":"Hibernate tools (part of JBoss Tools) can autogenerate entities from a database schema. Don&#39;t ask me how to use it though, I only managed to make it work through seam-gen which is part of the Seam 2 framework.","body":"Hibernate tools (part of JBoss Tools) can autogenerate entities from a database schema. Don&#39;t ask me how to use it though, I only managed to make it work through seam-gen which is part of the Seam 2 framework."}],"answers":[{"tags":[],"owner":{"account_id":1087695,"reputation":2278,"user_id":1083026,"display_name":"Avinash T."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1409081419,"creation_date":1357222764,"answer_id":14140685,"question_id":14140545,"body_markdown":"You can generate classes using [Hibernate Tools][1]. There are two ways to generate these classes which is called as [Reverse Engineering and Code Generation][2][dead link] -\r\n\r\n 1. You can use Hibernate Tools Eclipse Plugin.\r\n 2. You can write Ant Script using Hibernate tools jar.\r\n\r\n\r\n  [1]: http://www.hibernate.org/subprojects/tools.html\r\n  [2]: http://docs.jboss.org/tools/3.2.1.GA/en/hibernatetools/html_single/#refeng_codegen","title":"How to create entity classes using database for all the existing tables?","body":"<p>You can generate classes using <a href=\"http://www.hibernate.org/subprojects/tools.html\" rel=\"nofollow\">Hibernate Tools</a>. There are two ways to generate these classes which is called as <a href=\"http://docs.jboss.org/tools/3.2.1.GA/en/hibernatetools/html_single/#refeng_codegen\" rel=\"nofollow\">Reverse Engineering and Code Generation</a>[dead link] -</p>\n\n<ol>\n<li>You can use Hibernate Tools Eclipse Plugin.</li>\n<li>You can write Ant Script using Hibernate tools jar.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2361162,"reputation":683,"user_id":2067816,"display_name":"John T"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676021038,"creation_date":1360748833,"answer_id":14850576,"question_id":14140545,"body_markdown":"You can try the **Telosys** code generator. It can help for this kind of job.\r\n\r\nIt allows to generate the Java (POJO) classes from any database \r\nwith the basic templates and you can also create your own \r\ntemplate (a Velocity file) to generate your DAO classes\r\n\r\n\r\nFor more information see [https://www.telosys.org][1] \r\n\r\n\r\n  [1]: http://www.telosys.org","title":"How to create entity classes using database for all the existing tables?","body":"<p>You can try the <strong>Telosys</strong> code generator. It can help for this kind of job.</p>\n<p>It allows to generate the Java (POJO) classes from any database\nwith the basic templates and you can also create your own\ntemplate (a Velocity file) to generate your DAO classes</p>\n<p>For more information see <a href=\"http://www.telosys.org\" rel=\"nofollow noreferrer\">https://www.telosys.org</a></p>\n"},{"tags":[],"owner":{"account_id":5036993,"reputation":2210,"user_id":4045489,"display_name":"Sheng.W"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1661849953,"creation_date":1418113202,"answer_id":27374224,"question_id":14140545,"body_markdown":"If you use JPA for persistence, you can use &quot;JPA tools&quot; provided by Eclipse to generate java entity class from tables. \r\n\r\nHere is the [tutorial][1] \r\n\r\n\r\n  [1]: http://shengwangi.blogspot.com/2014/12/how-to-create-java-classes-from-tables.html on my personal website. ","title":"How to create entity classes using database for all the existing tables?","body":"<p>If you use JPA for persistence, you can use &quot;JPA tools&quot; provided by Eclipse to generate java entity class from tables.</p>\n<p>Here is the [tutorial][1]</p>\n<p>[1]: <a href=\"http://shengwangi.blogspot.com/2014/12/how-to-create-java-classes-from-tables.html\" rel=\"nofollow noreferrer\">http://shengwangi.blogspot.com/2014/12/how-to-create-java-classes-from-tables.html</a> on my personal website.</p>\n"}],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110068,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":27374224,"answer_count":3,"score":24,"last_activity_date":1676021038,"creation_date":1357222287,"question_id":14140545,"body_markdown":"I am having tables created by a DBA and I intend to have\r\nentity classes for each table for further querying. Can any one suggest how to automatically create the entity classes using Eclipse? ","title":"How to create entity classes using database for all the existing tables?","body":"<p>I am having tables created by a DBA and I intend to have\nentity classes for each table for further querying. Can any one suggest how to automatically create the entity classes using Eclipse?</p>\n"},{"tags":["java","datetime","java-8"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1486004649,"post_id":41992970,"comment_id":71164067,"body_markdown":"Can you just trim off leading plus sign before parsing? Try parsing `str.replaceAll(&quot;^\\\\+&quot;, &quot;&quot;)`.","body":"Can you just trim off leading plus sign before parsing? Try parsing <code>str.replaceAll(&quot;^\\\\+&quot;, &quot;&quot;)</code>."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":3,"creation_date":1486028666,"post_id":41992970,"comment_id":71174164,"body_markdown":"What is the meaning of &quot;+&quot; in this format?","body":"What is the meaning of &quot;+&quot; in this format?"},{"owner":{"account_id":3616305,"reputation":127,"user_id":3016058,"display_name":"dhamechaSpeaks"},"score":0,"creation_date":1486092661,"post_id":41992970,"comment_id":71207524,"body_markdown":"Plus means the year is signed.","body":"Plus means the year is signed."},{"owner":{"account_id":3616305,"reputation":127,"user_id":3016058,"display_name":"dhamechaSpeaks"},"score":0,"creation_date":1486092700,"post_id":41992970,"comment_id":71207534,"body_markdown":"Yes I could trim of the plus but don&#39;t want to since joda.time can easily parse this. I expect java.time to take care of this.","body":"Yes I could trim of the plus but don&#39;t want to since joda.time can easily parse this. I expect java.time to take care of this."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676149965,"post_id":41992970,"comment_id":133080990,"body_markdown":"`LocalDateTime` is the wrong type to use here. Use an `OffsetDateTime` (or may consider `Instant`).","body":"<code>LocalDateTime</code> is the wrong type to use here. Use an <code>OffsetDateTime</code> (or may consider <code>Instant</code>)."}],"answers":[{"tags":[],"owner":{"account_id":1233122,"reputation":3934,"user_id":1197297,"accept_rate":67,"display_name":"StvnBrkdll"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1486043882,"creation_date":1486004061,"answer_id":41993463,"question_id":41992970,"body_markdown":"Java&#39;s `DateTimeFormatter` class may be of help. Here is some sample code that I believe addressses your problem (or at least gives you something to think about):\r\n\r\n      \r\n    class DateTimeTester {\r\n      ---\r\n      public static void main(String[] args) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;+yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n            .withZone(ZoneId.of(&quot;UTC&quot;));\r\n        LocalDateTime date = LocalDateTime.parse(&quot;+2017-02-26T01:02:03Z&quot;, formatter);\r\n        System.out.println(date);\r\n      }\r\n    }\r\n\r\nRefer to the section called ***Patterns for Formatting and Parsing*** in the [javadoc for DateTimeFormatter][1] for details about the format-string passed to `DateTimeFormatter.ofPattern()`.\r\n\r\nSomething to note:\r\n\r\n[Wikidata&#39;s list of available data types][2] says about the `time` data type: \r\n\r\n&quot;explicit value for point in time, represented as a timestamp ***resembling*** ISO 8601, e.g. +2013-01-01T00:00:00Z. **The year is always signed and padded to have between 4 and 16 digits**.&quot;.\r\n\r\nSo Wikidata&#39;s `time` data type only _resembles_ ISO 8601. \r\n\r\nIf your code needs to handle negative years (before year 0), you will need to adjust my suggested solution accordingly.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: https://www.wikidata.org/wiki/Special:ListDatatypes","title":"How do I convert an ISO 8601 date time String to java.time.LocalDateTime?","body":"<p>Java's <code>DateTimeFormatter</code> class may be of help. Here is some sample code that I believe addressses your problem (or at least gives you something to think about):</p>\n\n<pre><code>class DateTimeTester {\n  ---\n  public static void main(String[] args) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"+yyyy-MM-dd'T'HH:mm:ss'Z'\")\n        .withZone(ZoneId.of(\"UTC\"));\n    LocalDateTime date = LocalDateTime.parse(\"+2017-02-26T01:02:03Z\", formatter);\n    System.out.println(date);\n  }\n}\n</code></pre>\n\n<p>Refer to the section called <strong><em>Patterns for Formatting and Parsing</em></strong> in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">javadoc for DateTimeFormatter</a> for details about the format-string passed to <code>DateTimeFormatter.ofPattern()</code>.</p>\n\n<p>Something to note:</p>\n\n<p><a href=\"https://www.wikidata.org/wiki/Special:ListDatatypes\" rel=\"noreferrer\">Wikidata's list of available data types</a> says about the <code>time</code> data type: </p>\n\n<p>\"explicit value for point in time, represented as a timestamp <strong><em>resembling</em></strong> ISO 8601, e.g. +2013-01-01T00:00:00Z. <strong>The year is always signed and padded to have between 4 and 16 digits</strong>.\".</p>\n\n<p>So Wikidata's <code>time</code> data type only <em>resembles</em> ISO 8601. </p>\n\n<p>If your code needs to handle negative years (before year 0), you will need to adjust my suggested solution accordingly.</p>\n"},{"tags":[],"owner":{"account_id":1975639,"reputation":502,"user_id":1773490,"display_name":"Vincent Kelleher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675951888,"creation_date":1675951888,"answer_id":75399840,"question_id":41992970,"body_markdown":"A quick solution can be :\r\n\r\n    LocalDateTime.parse(yourDate, DateTimeFormatter.ISO_DATE_TIME);\r\n\r\nDon&#39;t forget to manage the `DateTimeParseException` in the case of a non supported date format &#128521;\r\n","title":"How do I convert an ISO 8601 date time String to java.time.LocalDateTime?","body":"<p>A quick solution can be :</p>\n<pre><code>LocalDateTime.parse(yourDate, DateTimeFormatter.ISO_DATE_TIME);\n</code></pre>\n<p>Don't forget to manage the <code>DateTimeParseException</code> in the case of a non supported date format 😉</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675962610,"creation_date":1675962610,"answer_id":75402102,"question_id":41992970,"body_markdown":"Unfortunately, [the accepted answer](https://stackoverflow.com/a/41993463/10819573) is wrong for three reasons:\r\n\r\n 1. The given date-time string `+2017-02-26T00:00:00Z` does not represent a `LocalDateTime`. It represents an [`OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html).\r\n 2. It uses a `+` sign with the pattern which means the pattern will fail to parse a date-time with a negative year.\r\n 3. [`&#39;Z&#39;` is not the same as `Z`](https://stackoverflow.com/a/67953075/10819573).\r\n\r\nYou can create the required `DateTimeFormatter` using the `DateTimeFormatterBuilder` as shown below:\r\n\r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n    \t\t\t\t.appendValue(ChronoField.YEAR, 4, 4, SignStyle.ALWAYS)\r\n    \t\t\t\t.appendPattern(&quot;-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)\r\n    \t\t\t\t.toFormatter(Locale.ENGLISH);\r\n    \t\tOffsetDateTime odt = OffsetDateTime.parse(&quot;+2017-02-26T00:00:00Z&quot;, parser);\r\n    \t\tSystem.out.println(odt);\r\n    \r\n    \t\t// If you want a LocalDateTime, you can get it from `odt`\r\n    \t\tLocalDateTime ldt = odt.toLocalDateTime();\r\n    \t\tSystem.out.println(ldt);\r\n    \t}\r\n    }\r\n\r\n**Output**:\r\n\r\n    2017-02-26T00:00Z\r\n    2017-02-26T00:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/QwJ5gV)\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"How do I convert an ISO 8601 date time String to java.time.LocalDateTime?","body":"<p>Unfortunately, <a href=\"https://stackoverflow.com/a/41993463/10819573\">the accepted answer</a> is wrong for three reasons:</p>\n<ol>\n<li>The given date-time string <code>+2017-02-26T00:00:00Z</code> does not represent a <code>LocalDateTime</code>. It represents an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a>.</li>\n<li>It uses a <code>+</code> sign with the pattern which means the pattern will fail to parse a date-time with a negative year.</li>\n<li><a href=\"https://stackoverflow.com/a/67953075/10819573\"><code>'Z'</code> is not the same as <code>Z</code></a>.</li>\n</ol>\n<p>You can create the required <code>DateTimeFormatter</code> using the <code>DateTimeFormatterBuilder</code> as shown below:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = new DateTimeFormatterBuilder()\n                .appendValue(ChronoField.YEAR, 4, 4, SignStyle.ALWAYS)\n                .appendPattern(&quot;-MM-dd'T'HH:mm:ssXXX&quot;)\n                .toFormatter(Locale.ENGLISH);\n        OffsetDateTime odt = OffsetDateTime.parse(&quot;+2017-02-26T00:00:00Z&quot;, parser);\n        System.out.println(odt);\n\n        // If you want a LocalDateTime, you can get it from `odt`\n        LocalDateTime ldt = odt.toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2017-02-26T00:00Z\n2017-02-26T00:00\n</code></pre>\n<p><a href=\"https://ideone.com/QwJ5gV\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":3616305,"reputation":127,"user_id":3016058,"display_name":"dhamechaSpeaks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20376,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":41993463,"answer_count":3,"score":9,"last_activity_date":1676020817,"creation_date":1486000059,"question_id":41992970,"body_markdown":"I am reading data from Wikidata. They represent their point in time property, P585 using ISO 8601 spec. However, the same beings with a +. \r\n\r\nIf I were using Joda then converting the String to joda dateTime would have been very simple. \r\n\r\n    new DateTime(dateTime, DateTimeZone.UTC);\r\n\r\nHowever, when I do `LocalDateTime.parse(&quot;+2017-02-26T00:00:00Z&quot;)` I get an error saying can&#39;t parse the character at index 0. Is there a reason for this in Java 8. Joda does it pretty easily without any errors. \r\n\r\nI also tried `LocalDateTime.parse(&quot;+2017-02-26T00:00:00Z&quot;, DateTimeFormatter.ISO_DATE_TIME)` but in vain. \r\n\r\nHow do we get around the Plus sign without having to remove it by string manipulation? ","title":"How do I convert an ISO 8601 date time String to java.time.LocalDateTime?","body":"<p>I am reading data from Wikidata. They represent their point in time property, P585 using ISO 8601 spec. However, the same beings with a +. </p>\n\n<p>If I were using Joda then converting the String to joda dateTime would have been very simple. </p>\n\n<pre><code>new DateTime(dateTime, DateTimeZone.UTC);\n</code></pre>\n\n<p>However, when I do <code>LocalDateTime.parse(\"+2017-02-26T00:00:00Z\")</code> I get an error saying can't parse the character at index 0. Is there a reason for this in Java 8. Joda does it pretty easily without any errors. </p>\n\n<p>I also tried <code>LocalDateTime.parse(\"+2017-02-26T00:00:00Z\", DateTimeFormatter.ISO_DATE_TIME)</code> but in vain. </p>\n\n<p>How do we get around the Plus sign without having to remove it by string manipulation? </p>\n"},{"tags":["java","sql","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676009878,"creation_date":1676009117,"answer_id":75407472,"question_id":75401768,"body_markdown":"You could load the customers with the `figures` relationship eagerly initialized.\r\nFor this case, an entity graph would be suitable. You&#39;d need to create a new repository method like this:\r\n```java\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\r\n\r\n    @EntityGraph(attributePaths = &quot;figures&quot;)\r\n    List&lt;Customer&gt; findWithFiguresBy(Pageable pageable);\r\n\r\n}\r\n```\r\nThen, you&#39;d need call this repository method when searching instead of the one you are using now. With this approach, your `figures` relationship can remain lazily fetched (which is generally important as [eager fetching is a code smell][1]), but whenever you need to fetch customers with the `figures` eagerly loaded, you can use this method.\r\n\r\nIf you want to lear more about entity graphs, I recommend these articles:\r\n- [JPA Entity Graph][2] by Hibernate maintainer Vlad Mihalcea\r\n- [JPA Entity Graph][3] by Baeldung\r\n\r\nSide note: if you had more than one association which needs to be loaded eagerly, you couldn&#39;t use an entity graph for that as it would [result in a MultipleBagFetchException][4]. Instead, you would load your parent entities as usual and then collect all ids into a list (say `customerIds`). Then, you&#39;d need to load all child associations (say `figures` and `otherFigures`) by the customer id (JPQL example: `select f from Figure f where f.customer.id in :customerIds`) and place the figures in a `Map&lt;Long, List&lt;Figure&gt;` (where the `Long` parameter is the customer id). Your mapper logic would then need to use the entities from the Maps for the DTOs instead  of directly from the parent entity.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/eager-fetching-is-a-code-smell/\r\n  [2]: https://vladmihalcea.com/jpa-entity-graph/\r\n  [3]: https://www.baeldung.com/jpa-entity-graph\r\n  [4]: https://vladmihalcea.com/hibernate-multiplebagfetchexception/","title":"How to paginate entities with OneToMany relationship with Fetch without warning firstResult/maxResults specified with collection fetch?","body":"<p>You could load the customers with the <code>figures</code> relationship eagerly initialized.\nFor this case, an entity graph would be suitable. You'd need to create a new repository method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\n\n    @EntityGraph(attributePaths = &quot;figures&quot;)\n    List&lt;Customer&gt; findWithFiguresBy(Pageable pageable);\n\n}\n</code></pre>\n<p>Then, you'd need call this repository method when searching instead of the one you are using now. With this approach, your <code>figures</code> relationship can remain lazily fetched (which is generally important as <a href=\"https://vladmihalcea.com/eager-fetching-is-a-code-smell/\" rel=\"nofollow noreferrer\">eager fetching is a code smell</a>), but whenever you need to fetch customers with the <code>figures</code> eagerly loaded, you can use this method.</p>\n<p>If you want to lear more about entity graphs, I recommend these articles:</p>\n<ul>\n<li><a href=\"https://vladmihalcea.com/jpa-entity-graph/\" rel=\"nofollow noreferrer\">JPA Entity Graph</a> by Hibernate maintainer Vlad Mihalcea</li>\n<li><a href=\"https://www.baeldung.com/jpa-entity-graph\" rel=\"nofollow noreferrer\">JPA Entity Graph</a> by Baeldung</li>\n</ul>\n<p>Side note: if you had more than one association which needs to be loaded eagerly, you couldn't use an entity graph for that as it would <a href=\"https://vladmihalcea.com/hibernate-multiplebagfetchexception/\" rel=\"nofollow noreferrer\">result in a MultipleBagFetchException</a>. Instead, you would load your parent entities as usual and then collect all ids into a list (say <code>customerIds</code>). Then, you'd need to load all child associations (say <code>figures</code> and <code>otherFigures</code>) by the customer id (JPQL example: <code>select f from Figure f where f.customer.id in :customerIds</code>) and place the figures in a <code>Map&lt;Long, List&lt;Figure&gt;</code> (where the <code>Long</code> parameter is the customer id). Your mapper logic would then need to use the entities from the Maps for the DTOs instead  of directly from the parent entity.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676020175,"creation_date":1676020175,"answer_id":75408962,"question_id":75401768,"body_markdown":"I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Customer.class)\r\n    public interface CustomerDTO {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        String getSurname();\r\n        String getLogin();\r\n        @Mapping(&quot;SIZE(figures)&quot;)\r\n        Integer getNumberOfFigures();\r\n        Role getRole();\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`CustomerDTO a = entityViewManager.find(entityManager, CustomerDTO.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;CustomerDTO&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"How to paginate entities with OneToMany relationship with Fetch without warning firstResult/maxResults specified with collection fetch?","body":"<p>I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Customer.class)\npublic interface CustomerDTO {\n    @IdMapping\n    Long getId();\n    String getName();\n    String getSurname();\n    String getLogin();\n    @Mapping(&quot;SIZE(figures)&quot;)\n    Integer getNumberOfFigures();\n    Role getRole();\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>CustomerDTO a = entityViewManager.find(entityManager, CustomerDTO.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;CustomerDTO&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":20646747,"reputation":316,"user_id":15158080,"display_name":"deja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676020175,"creation_date":1675960950,"question_id":75401768,"body_markdown":"I would like to be able to create pagination for pulling all customers from the database (MYSQL), but I encountered a hibernate n+1 problem, which I then solved, but I encountered another problem: 2023-02-09 16:57:04.933 WARN 11660 --- [io-8080-exec-10] o.h.h.internal.ast.QueryTranslatorImpl : HHH000104: firstResult/maxResults specified with collection fetch; applying in memory!\r\n\r\nThis problem I tried to solve with EntityGraph, but still nothing. Then I tried to use two Query, which collected the id and then used the IN clause, but this caused a huge sql query, which led to the generation of many &quot;IN&quot; which, with a huge dataset, can be problematic.\r\n\r\nI am currently in a quandary and do not know how to solve this problem. I would like the figures to be fetched along with the customers, but I have no idea how to do it in such a way that the pagination works properly\r\n\r\n\r\nI want to return CustomerDTO who have numberOfCreatedFigures attribute which is mapping from method in customer entity. This method is returning a size of customer figures.\r\nI am using lombok for args/getters/setters. I&#39;ve been trying to do everything, but nothing seems to fix the issue.\r\n\r\n**Config class with a mapper**\r\n\r\n    @Bean\r\n    public ModelMapper modelMapper() {\r\n        ModelMapper modelMapper = new ModelMapper();\r\n        modelMapper.createTypeMap(Customer.class, CustomerDTO.class)\r\n                .addMappings(mapper -&gt; mapper\r\n                        .map(Customer::numberOfCreatedFigures, CustomerDTO::setNumberOfFigures));\r\n        return modelMapper;\r\n    }\r\n\r\n**Customer class**\r\n\r\n    public class Customer implements UserDetails, Serializable {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n       @NotBlank(message = &quot;Your name cannot be blank&quot;)\r\n       private String name;\r\n       @NotBlank(message = &quot;Your name cannot be blank&quot;)\r\n       private String surname;\r\n       @NotBlank(message = &quot;Your login cannot be blank&quot;)\r\n       private String login;\r\n       @NotBlank(message = &quot;Your password cannot be blank&quot;)\r\n       private String password;\r\n       @Enumerated(EnumType.STRING)\r\n       private Role role;\r\n       private Boolean locked = false;\r\n       private Boolean enabled = true;\r\n       @OneToMany(mappedBy = &quot;createdBy&quot;,\r\n            cascade = {CascadeType.MERGE, CascadeType.PERSIST},\r\n            fetch = FetchType.LAZY,\r\n            orphanRemoval = true)\r\n       @ToString.Exclude\r\n       private Set&lt;Figure&gt; figures = new HashSet&lt;&gt;() ...;\r\n\r\n**Figure class**\r\n\r\n    public abstract class Figure implements Serializable {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n       @Column(updatable = false, insertable = false)\r\n       private String figureType;\r\n       @Version\r\n       private Integer version;\r\n       @ManyToOne(fetch = FetchType.LAZY)\r\n       @JoinColumn(name = &quot;created_by_id&quot;)\r\n       @CreatedBy\r\n       @ToString.Exclude\r\n       private Customer createdBy;\r\n       @CreatedDate\r\n       private LocalDate createdAt;\r\n       @LastModifiedDate\r\n       private LocalDate lastModifiedAt;\r\n       @ManyToOne(fetch = FetchType.LAZY)\r\n       @JoinColumn(name = &quot;last_modified_by_id&quot;)\r\n       @LastModifiedBy\r\n       @ToString.Exclude\r\n       private Customer lastModifiedBy;\r\n       private Integer numberOfModification = 0  ...;\r\n\r\n**CustomerDTO class**\r\n\r\n    public class CustomerDTO {\r\n       private Long id;\r\n       private String name;\r\n       private String surname;\r\n       private String login;\r\n       private Integer numberOfFigures;\r\n       private Role role;}\r\n\r\n**Method from Customer Controller**\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;Page&lt;CustomerDTO&gt;&gt; listAll(@PageableDefault Pageable pageable) {\r\n        return new ResponseEntity&lt;&gt;(customerService.listAll(pageable)\r\n                .map(customer -&gt; modelMapper\r\n                        .map(customer, CustomerDTO.class)), HttpStatus.OK);\r\n    }","title":"How to paginate entities with OneToMany relationship with Fetch without warning firstResult/maxResults specified with collection fetch?","body":"<p>I would like to be able to create pagination for pulling all customers from the database (MYSQL), but I encountered a hibernate n+1 problem, which I then solved, but I encountered another problem: 2023-02-09 16:57:04.933 WARN 11660 --- [io-8080-exec-10] o.h.h.internal.ast.QueryTranslatorImpl : HHH000104: firstResult/maxResults specified with collection fetch; applying in memory!</p>\n<p>This problem I tried to solve with EntityGraph, but still nothing. Then I tried to use two Query, which collected the id and then used the IN clause, but this caused a huge sql query, which led to the generation of many &quot;IN&quot; which, with a huge dataset, can be problematic.</p>\n<p>I am currently in a quandary and do not know how to solve this problem. I would like the figures to be fetched along with the customers, but I have no idea how to do it in such a way that the pagination works properly</p>\n<p>I want to return CustomerDTO who have numberOfCreatedFigures attribute which is mapping from method in customer entity. This method is returning a size of customer figures.\nI am using lombok for args/getters/setters. I've been trying to do everything, but nothing seems to fix the issue.</p>\n<p><strong>Config class with a mapper</strong></p>\n<pre><code>@Bean\npublic ModelMapper modelMapper() {\n    ModelMapper modelMapper = new ModelMapper();\n    modelMapper.createTypeMap(Customer.class, CustomerDTO.class)\n            .addMappings(mapper -&gt; mapper\n                    .map(Customer::numberOfCreatedFigures, CustomerDTO::setNumberOfFigures));\n    return modelMapper;\n}\n</code></pre>\n<p><strong>Customer class</strong></p>\n<pre><code>public class Customer implements UserDetails, Serializable {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n   @NotBlank(message = &quot;Your name cannot be blank&quot;)\n   private String name;\n   @NotBlank(message = &quot;Your name cannot be blank&quot;)\n   private String surname;\n   @NotBlank(message = &quot;Your login cannot be blank&quot;)\n   private String login;\n   @NotBlank(message = &quot;Your password cannot be blank&quot;)\n   private String password;\n   @Enumerated(EnumType.STRING)\n   private Role role;\n   private Boolean locked = false;\n   private Boolean enabled = true;\n   @OneToMany(mappedBy = &quot;createdBy&quot;,\n        cascade = {CascadeType.MERGE, CascadeType.PERSIST},\n        fetch = FetchType.LAZY,\n        orphanRemoval = true)\n   @ToString.Exclude\n   private Set&lt;Figure&gt; figures = new HashSet&lt;&gt;() ...;\n</code></pre>\n<p><strong>Figure class</strong></p>\n<pre><code>public abstract class Figure implements Serializable {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n   @Column(updatable = false, insertable = false)\n   private String figureType;\n   @Version\n   private Integer version;\n   @ManyToOne(fetch = FetchType.LAZY)\n   @JoinColumn(name = &quot;created_by_id&quot;)\n   @CreatedBy\n   @ToString.Exclude\n   private Customer createdBy;\n   @CreatedDate\n   private LocalDate createdAt;\n   @LastModifiedDate\n   private LocalDate lastModifiedAt;\n   @ManyToOne(fetch = FetchType.LAZY)\n   @JoinColumn(name = &quot;last_modified_by_id&quot;)\n   @LastModifiedBy\n   @ToString.Exclude\n   private Customer lastModifiedBy;\n   private Integer numberOfModification = 0  ...;\n</code></pre>\n<p><strong>CustomerDTO class</strong></p>\n<pre><code>public class CustomerDTO {\n   private Long id;\n   private String name;\n   private String surname;\n   private String login;\n   private Integer numberOfFigures;\n   private Role role;}\n</code></pre>\n<p><strong>Method from Customer Controller</strong></p>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;Page&lt;CustomerDTO&gt;&gt; listAll(@PageableDefault Pageable pageable) {\n    return new ResponseEntity&lt;&gt;(customerService.listAll(pageable)\n            .map(customer -&gt; modelMapper\n                    .map(customer, CustomerDTO.class)), HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","tomcat"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1670185891,"post_id":74679722,"comment_id":131811525,"body_markdown":"What errors are showing in the Console view?","body":"What errors are showing in the Console view?"}],"answers":[{"tags":[],"owner":{"account_id":9615582,"reputation":26,"user_id":7138503,"display_name":"Tatiana Limongi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670203746,"creation_date":1670179658,"answer_id":74679844,"question_id":74679722,"body_markdown":"You may want to check this website: https://websparrow.org/misc/server-tomcat-server-at-localhost-failed-to-start-in-eclipse\r\n\r\nOn this page, you will get the complete solution to how to resolve Tomcat Server at localhost failed to start. \r\n\r\nBasically, there are three ways.\r\n\r\nSolution 1:\r\n\r\n1-Go to your workspace directory &#187; .metadata &#187; .plugins &#187; org.eclipse.core.resources folder.\r\n\r\n2- Delete the .snap file.\r\n\r\n3- Restart your Eclipse IDE.\r\n\r\nSolution 2:\r\n\r\n1- Open the Servers tab from Windows &#187; Show View &#187; Servers menu.\r\n\r\n2- Right click on the server and delete it\r\n\r\n3-Create a new server by going New &#187; Server on server tab.\r\n\r\n4-Click on Configure runtime environments link.\r\n\r\n5-Select the Apache Tomcat Server and remove it. This will remove the Tomcat server configuration.\r\n\r\n6-Click on OK and exit the screen above now.\r\n\r\n7-From the screen below, choose Apache Tomcat server and click on Next button:\r\n\r\n8-Browse to Tomcat Installation Directory.\r\n\r\n9-Click on Next and choose which project you would like to deploy:\r\n\r\n10-Click on Finish after adding your project.\r\n\r\n11-Now launch your Server.\r\n\r\nSolution 3:\r\n\r\n1-Go to your workspace directory &#187; .metadata &#187; .plugins &#187; org.eclipse.wst.server.core folder.\r\n\r\n2- Delete the tmp folder.\r\n\r\n3- Restart your Eclipse IDE","title":"Server apache-tomcat-9.0.55 at localhost failed to start -- maven eclipse project","body":"<p>You may want to check this website: <a href=\"https://websparrow.org/misc/server-tomcat-server-at-localhost-failed-to-start-in-eclipse\" rel=\"nofollow noreferrer\">https://websparrow.org/misc/server-tomcat-server-at-localhost-failed-to-start-in-eclipse</a></p>\n<p>On this page, you will get the complete solution to how to resolve Tomcat Server at localhost failed to start.</p>\n<p>Basically, there are three ways.</p>\n<p>Solution 1:</p>\n<p>1-Go to your workspace directory » .metadata » .plugins » org.eclipse.core.resources folder.</p>\n<p>2- Delete the .snap file.</p>\n<p>3- Restart your Eclipse IDE.</p>\n<p>Solution 2:</p>\n<p>1- Open the Servers tab from Windows » Show View » Servers menu.</p>\n<p>2- Right click on the server and delete it</p>\n<p>3-Create a new server by going New » Server on server tab.</p>\n<p>4-Click on Configure runtime environments link.</p>\n<p>5-Select the Apache Tomcat Server and remove it. This will remove the Tomcat server configuration.</p>\n<p>6-Click on OK and exit the screen above now.</p>\n<p>7-From the screen below, choose Apache Tomcat server and click on Next button:</p>\n<p>8-Browse to Tomcat Installation Directory.</p>\n<p>9-Click on Next and choose which project you would like to deploy:</p>\n<p>10-Click on Finish after adding your project.</p>\n<p>11-Now launch your Server.</p>\n<p>Solution 3:</p>\n<p>1-Go to your workspace directory » .metadata » .plugins » org.eclipse.wst.server.core folder.</p>\n<p>2- Delete the tmp folder.</p>\n<p>3- Restart your Eclipse IDE</p>\n"}],"owner":{"account_id":24239058,"reputation":83,"user_id":18191714,"display_name":"imherebcsomethingisntworking"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74679844,"answer_count":1,"score":0,"last_activity_date":1676020167,"creation_date":1670178745,"question_id":74679722,"body_markdown":"I am working on a Maven Project on Eclipse and need apache tomcat to run the application on a server. For some reason, it is not working for me and I get an error that says &quot;Server apache-tomcat-9.0.55 at localhost failed to start.&quot;. This happened to me yesterday but I just right clicked on the server section and added the same server again and it worked. This is not working anymore. I have attached photos of my library, build path, preferences, and the error message. Below is my pom.xml file.\r\n\r\n\r\n```&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.prog&lt;/groupId&gt;\r\n  &lt;artifactId&gt;sampleApp&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;sampleApp Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;dependencies&gt;\r\n  &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n   &lt;version&gt;8.0.13&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n  \r\n  &lt;dependency&gt;\r\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n  &lt;version&gt;1.2&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n  &lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.1&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n    &lt;finalName&gt;sampleApp&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAny help at all would be extremely appreciated. I really have no idea what else to try. I&#39;ve been working on this for several hours now and have made no progress after watching dozens of videos. Thank you so much for your time.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5eyw4.png\r\n  [2]: https://i.stack.imgur.com/74aUJ.png\r\n  [3]: https://i.stack.imgur.com/f5Xlr.jpg\r\n  [4]: https://i.stack.imgur.com/V4vTq.png\r\n  [5]: https://i.stack.imgur.com/rLFOF.png","title":"Server apache-tomcat-9.0.55 at localhost failed to start -- maven eclipse project","body":"<p>I am working on a Maven Project on Eclipse and need apache tomcat to run the application on a server. For some reason, it is not working for me and I get an error that says &quot;Server apache-tomcat-9.0.55 at localhost failed to start.&quot;. This happened to me yesterday but I just right clicked on the server section and added the same server again and it worked. This is not working anymore. I have attached photos of my library, build path, preferences, and the error message. Below is my pom.xml file.</p>\n<pre><code>  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.prog&lt;/groupId&gt;\n  &lt;artifactId&gt;sampleApp&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;sampleApp Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n  &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n   &lt;version&gt;8.0.13&lt;/version&gt;\n&lt;/dependency&gt;\n\n  \n  &lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n  &lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n  &lt;/plugins&gt;\n    &lt;finalName&gt;sampleApp&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Any help at all would be extremely appreciated. I really have no idea what else to try. I've been working on this for several hours now and have made no progress after watching dozens of videos. Thank you so much for your time.</p>\n<p><a href=\"https://i.stack.imgur.com/5eyw4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5eyw4.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/74aUJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/74aUJ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/f5Xlr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5Xlr.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/V4vTq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V4vTq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","visual-studio-code","debugging","remote-debugging","language-server-protocol"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1676018155,"post_id":75408288,"comment_id":133056287,"body_markdown":"Have you checked out https://github.com/microsoft/vscode-mock-debug? That should teach you quite a lot about DAP and its implementation. The Java debugging extension is a much more complicated sample that mixes DAP and LSP so as to provide better user experience, but your own debugger adapter can live without LSP.","body":"Have you checked out <a href=\"https://github.com/microsoft/vscode-mock-debug\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode-mock-debug</a>? That should teach you quite a lot about DAP and its implementation. The Java debugging extension is a much more complicated sample that mixes DAP and LSP so as to provide better user experience, but your own debugger adapter can live without LSP."},{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1676019474,"post_id":75408288,"comment_id":133056655,"body_markdown":"Can you please read about [the problems with images of text](//meta.stackoverflow.com/a/285557/11107541) and then [edit] to **convert** your images of text into actual text? Likely useful: [/help/formatting](/help/formatting)","body":"Can you please read about <a href=\"//meta.stackoverflow.com/a/285557/11107541\">the problems with images of text</a> and then <a href=\"https://stackoverflow.com/posts/75408288/edit\">edit</a> to <b>convert</b> your images of text into actual text? Likely useful: <a href=\"/help/formatting\">/help/formatting</a>"},{"owner":{"account_id":18095523,"reputation":21,"user_id":14624570,"display_name":"Levon Muradyan"},"score":0,"creation_date":1676019570,"post_id":75408288,"comment_id":133056688,"body_markdown":"Thanks for the response @LexLi, I don&#39;t want to implement my own DAP, I want to use already written ones. I solved the problem of starting Debug Adapter for `js` and `python3` by finding their executables using `vscode` extension.\n\nStarting to investigate java, I understood that java is a little bit different there is no executable, you should have a port and connect to that port. So, I wanted to know is there an easy solution for java?","body":"Thanks for the response @LexLi, I don&#39;t want to implement my own DAP, I want to use already written ones. I solved the problem of starting Debug Adapter for <code>js</code> and <code>python3</code> by finding their executables using <code>vscode</code> extension.  Starting to investigate java, I understood that java is a little bit different there is no executable, you should have a port and connect to that port. So, I wanted to know is there an easy solution for java?"},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1676054741,"post_id":75408288,"comment_id":133067337,"body_markdown":"I see. So, what you really want is the actual debugger/debug server. Then the Java one Microsoft created is in https://github.com/microsoft/java-debug Sadly there isn&#39;t enough documentation around such components, so all you can do is digest the code.","body":"I see. So, what you really want is the actual debugger/debug server. Then the Java one Microsoft created is in <a href=\"https://github.com/microsoft/java-debug\" rel=\"nofollow noreferrer\">github.com/microsoft/java-debug</a> Sadly there isn&#39;t enough documentation around such components, so all you can do is digest the code."}],"owner":{"account_id":18095523,"reputation":21,"user_id":14624570,"display_name":"Levon Muradyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676019795,"creation_date":1676015760,"question_id":75408288,"body_markdown":"I want to have Debug Adapter Protocol for Java for my application, I did much research but found only `vscode` implementations that can&#39;t be used for my app (because it contains a local `vscode` package).\r\n\r\nI know that Debug Adapter Protocol for Java can be activated by giving some requests to the language server, which will return `port` as a response on which it will be available. I started to dive deep into codes from `vscode` and `vscode-java-debug`, but can&#39;t figure out which I need. I only found that `vscode` has the following wrapped command using which it activated java DAP.\r\n\r\n```\r\nexport const JAVA_START_DEBUGSESSION = &quot;vscode.java.startDebugSession&quot;;\r\n```\r\n\r\nMaybe someone knows, what kind of request is it or can give some examples?\r\n\r\nI activated the java language server using the following command below:\r\n```\r\njava \\\r\n\t-Declipse.application=org.eclipse.jdt.ls.core.id1 \\\r\n\t-Dosgi.bundles.defaultStartLevel=4 \\\r\n\t-Declipse.product=org.eclipse.jdt.ls.core.product \\\r\n\t-Dlog.level=ALL \\\r\n\t-noverify \\\r\n\t-Xmx1G \\\r\n\t--add-modules=ALL-SYSTEM \\\r\n\t--add-opens java.base/java.util=ALL-UNNAMED \\\r\n\t--add-opens java.base/java.lang=ALL-UNNAMED \\\r\n\t-jar ./plugins/org.eclipse.equinox.launcher_1.5.200.v20180922-1751.jar \\\r\n\t-configuration ./config_linux \\\r\n\t-data /path/to/data\r\n```\r\n\r\nYou can find more details from here: https://github.com/eclipse/eclipse.jdt.ls/blob/master/README.md#running-from-the-command-line","title":"Java Debug Adapter Protocol","body":"<p>I want to have Debug Adapter Protocol for Java for my application, I did much research but found only <code>vscode</code> implementations that can't be used for my app (because it contains a local <code>vscode</code> package).</p>\n<p>I know that Debug Adapter Protocol for Java can be activated by giving some requests to the language server, which will return <code>port</code> as a response on which it will be available. I started to dive deep into codes from <code>vscode</code> and <code>vscode-java-debug</code>, but can't figure out which I need. I only found that <code>vscode</code> has the following wrapped command using which it activated java DAP.</p>\n<pre><code>export const JAVA_START_DEBUGSESSION = &quot;vscode.java.startDebugSession&quot;;\n</code></pre>\n<p>Maybe someone knows, what kind of request is it or can give some examples?</p>\n<p>I activated the java language server using the following command below:</p>\n<pre><code>java \\\n    -Declipse.application=org.eclipse.jdt.ls.core.id1 \\\n    -Dosgi.bundles.defaultStartLevel=4 \\\n    -Declipse.product=org.eclipse.jdt.ls.core.product \\\n    -Dlog.level=ALL \\\n    -noverify \\\n    -Xmx1G \\\n    --add-modules=ALL-SYSTEM \\\n    --add-opens java.base/java.util=ALL-UNNAMED \\\n    --add-opens java.base/java.lang=ALL-UNNAMED \\\n    -jar ./plugins/org.eclipse.equinox.launcher_1.5.200.v20180922-1751.jar \\\n    -configuration ./config_linux \\\n    -data /path/to/data\n</code></pre>\n<p>You can find more details from here: <a href=\"https://github.com/eclipse/eclipse.jdt.ls/blob/master/README.md#running-from-the-command-line\" rel=\"nofollow noreferrer\">https://github.com/eclipse/eclipse.jdt.ls/blob/master/README.md#running-from-the-command-line</a></p>\n"},{"tags":["java","parsing"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1493740923,"post_id":2206065,"comment_id":74527760,"body_markdown":"[roaster](https://github.com/forge/roaster) offers a fluent API to work with Java code.","body":"<a href=\"https://github.com/forge/roaster\" rel=\"nofollow noreferrer\">roaster</a> offers a fluent API to work with Java code."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1573452215,"post_id":2206065,"comment_id":103873458,"body_markdown":"@koppor can it also parse catch blocks in the source?","body":"@koppor can it also parse catch blocks in the source?"}],"answers":[{"tags":[],"owner":{"account_id":77133,"reputation":878,"user_id":220363,"display_name":"arcticfox"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1573510662,"creation_date":1265366734,"answer_id":2206592,"question_id":2206065,"body_markdown":"Download the java parser from &lt;https://javaparser.org/&gt;\r\n\r\nYou&#39;ll have to write some code.  This code will invoke the parser... it will return you a CompilationUnit:\r\n\r\n                InputStream in = null;\r\n                CompilationUnit cu = null;\r\n                try\r\n                {\r\n                        in = new SEDInputStream(filename);\r\n                        cu = JavaParser.parse(in);\r\n                }\r\n                catch(ParseException x)\r\n                {\r\n                     // handle parse exceptions here.\r\n                }\r\n                finally\r\n                {\r\n                      in.close();\r\n                }\r\n                return cu;\r\n\r\nNote: SEDInputStream is a subclass of input stream. You can use a FileInputStream if you want.\r\n\r\n---\r\nYou&#39;ll have to create a visitor.  Your visitor will be easy because you&#39;re only interested in methods:\r\n\r\n      public class MethodVisitor extends VoidVisitorAdapter\r\n      {\r\n            public void visit(MethodDeclaration n, Object arg)\r\n            {\r\n                 // extract method information here.\r\n                 // put in to hashmap\r\n            }\r\n      }\r\n\r\n---\r\n\r\nTo invoke the visitor, do this:\r\n\r\n      MethodVisitor visitor = new MethodVisitor();\r\n      visitor.visit(cu, null);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java : parse java source code, extract methods","body":"<p>Download the java parser from <a href=\"https://javaparser.org/\" rel=\"noreferrer\">https://javaparser.org/</a></p>\n\n<p>You'll have to write some code.  This code will invoke the parser... it will return you a CompilationUnit:</p>\n\n<pre><code>            InputStream in = null;\n            CompilationUnit cu = null;\n            try\n            {\n                    in = new SEDInputStream(filename);\n                    cu = JavaParser.parse(in);\n            }\n            catch(ParseException x)\n            {\n                 // handle parse exceptions here.\n            }\n            finally\n            {\n                  in.close();\n            }\n            return cu;\n</code></pre>\n\n<p>Note: SEDInputStream is a subclass of input stream. You can use a FileInputStream if you want.</p>\n\n<hr>\n\n<p>You'll have to create a visitor.  Your visitor will be easy because you're only interested in methods:</p>\n\n<pre><code>  public class MethodVisitor extends VoidVisitorAdapter\n  {\n        public void visit(MethodDeclaration n, Object arg)\n        {\n             // extract method information here.\n             // put in to hashmap\n        }\n  }\n</code></pre>\n\n<hr>\n\n<p>To invoke the visitor, do this:</p>\n\n<pre><code>  MethodVisitor visitor = new MethodVisitor();\n  visitor.visit(cu, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1676019632,"creation_date":1673185662,"answer_id":75048248,"question_id":2206065,"body_markdown":"I implemented [lee][1]&#39;s suggestion, there is **no need of third party libraries to achieve that**, the following example prints the names of the methods (tested with Java 17 but should work with Java 1.6 with minor changes):\r\n\r\n    import com.sun.source.util.JavacTask;\r\n    import com.sun.source.tree.CompilationUnitTree;\r\n    import com.sun.source.tree.ClassTree;\r\n    import com.sun.source.tree.MethodTree;\r\n    import com.sun.source.tree.Tree;\r\n    import java.io.File;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import javax.tools.JavaCompiler;\r\n    import javax.tools.JavaFileObject;\r\n    import javax.tools.StandardJavaFileManager;\r\n    import javax.tools.ToolProvider;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(final String[] args) throws Exception {\r\n            final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            try (final StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, StandardCharsets.UTF_8)) {\r\n                final Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Arrays.asList(new File(args[0])));\r\n                final JavacTask javacTask = (JavacTask) compiler.getTask(null, fileManager, null, null, null, compilationUnits);\r\n                final Iterable&lt;? extends CompilationUnitTree&gt; compilationUnitTrees = javacTask.parse();\r\n                final ClassTree classTree = (ClassTree) compilationUnitTrees.iterator().next().getTypeDecls().get(0);\r\n                final List&lt;? extends Tree&gt; classMemberList = classTree.getMembers();\r\n                final List&lt;MethodTree&gt; classMethodMemberList = classMemberList.stream()\r\n                    .filter(MethodTree.class::isInstance)\r\n                    .map(MethodTree.class::cast)\r\n                    .collect(Collectors.toList());\r\n                // just prints the names of the methods\r\n                classMethodMemberList.stream().map(MethodTree::getName)\r\n                    .forEachOrdered(System.out::println);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nNote that other solutions except ANTLR don&#39;t support very latest versions of Java, javaparser doesn&#39;t fully support 19 currently (January 2023), JavaCC doesn&#39;t seem to support Java &gt;= 9 according to its public documentation.\r\n\r\n[Federico Tomassetti][2] [wrote in 2016 that there was no parsing functionality as part of the JDK][3], I replied that he was wrong. I have nothing against third party libraries but providing false information to developers in order to promote her/his stuff is not honest and is not the kind of behavior I expect on StackOverflow. I use some classes and APIs available in Java since Java 1.6 released in December 2006.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/510991/lee\r\n  [2]: https://stackoverflow.com/users/1782500/federico-tomassetti\r\n  [3]: https://stackoverflow.com/questions/2206065/java-parse-java-source-code-extract-methods/75048248#comment69397014_2206592","title":"Java : parse java source code, extract methods","body":"<p>I implemented <a href=\"https://stackoverflow.com/users/510991/lee\">lee</a>'s suggestion, there is <strong>no need of third party libraries to achieve that</strong>, the following example prints the names of the methods (tested with Java 17 but should work with Java 1.6 with minor changes):</p>\n<pre><code>import com.sun.source.util.JavacTask;\nimport com.sun.source.tree.CompilationUnitTree;\nimport com.sun.source.tree.ClassTree;\nimport com.sun.source.tree.MethodTree;\nimport com.sun.source.tree.Tree;\nimport java.io.File;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport javax.tools.JavaCompiler;\nimport javax.tools.JavaFileObject;\nimport javax.tools.StandardJavaFileManager;\nimport javax.tools.ToolProvider;\n\npublic class Main {\n\n    public static void main(final String[] args) throws Exception {\n        final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n        try (final StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, StandardCharsets.UTF_8)) {\n            final Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Arrays.asList(new File(args[0])));\n            final JavacTask javacTask = (JavacTask) compiler.getTask(null, fileManager, null, null, null, compilationUnits);\n            final Iterable&lt;? extends CompilationUnitTree&gt; compilationUnitTrees = javacTask.parse();\n            final ClassTree classTree = (ClassTree) compilationUnitTrees.iterator().next().getTypeDecls().get(0);\n            final List&lt;? extends Tree&gt; classMemberList = classTree.getMembers();\n            final List&lt;MethodTree&gt; classMethodMemberList = classMemberList.stream()\n                .filter(MethodTree.class::isInstance)\n                .map(MethodTree.class::cast)\n                .collect(Collectors.toList());\n            // just prints the names of the methods\n            classMethodMemberList.stream().map(MethodTree::getName)\n                .forEachOrdered(System.out::println);\n        }\n    }\n\n}\n</code></pre>\n<p>Note that other solutions except ANTLR don't support very latest versions of Java, javaparser doesn't fully support 19 currently (January 2023), JavaCC doesn't seem to support Java &gt;= 9 according to its public documentation.</p>\n<p><a href=\"https://stackoverflow.com/users/1782500/federico-tomassetti\">Federico Tomassetti</a> <a href=\"https://stackoverflow.com/questions/2206065/java-parse-java-source-code-extract-methods/75048248#comment69397014_2206592\">wrote in 2016 that there was no parsing functionality as part of the JDK</a>, I replied that he was wrong. I have nothing against third party libraries but providing false information to developers in order to promote her/his stuff is not honest and is not the kind of behavior I expect on StackOverflow. I use some classes and APIs available in Java since Java 1.6 released in December 2006.</p>\n"}],"owner":{"account_id":40817,"reputation":45766,"user_id":118437,"accept_rate":93,"display_name":"glmxndr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64265,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":2206592,"answer_count":2,"score":56,"last_activity_date":1676019632,"creation_date":1265360888,"question_id":2206065,"body_markdown":"I wish to parse java source code files, and extract the methods source code.\r\n\r\nI would need a method like this : \r\n\r\n    /** Returns a map with key = method name ; value = method source code */\r\n    Map&lt;String,String&gt; getMethods(File javaFile);\r\n\r\nIs there a simple way to achieve this, a library to help me build my method, etc. ?","title":"Java : parse java source code, extract methods","body":"<p>I wish to parse java source code files, and extract the methods source code.</p>\n\n<p>I would need a method like this : </p>\n\n<pre><code>/** Returns a map with key = method name ; value = method source code */\nMap&lt;String,String&gt; getMethods(File javaFile);\n</code></pre>\n\n<p>Is there a simple way to achieve this, a library to help me build my method, etc. ?</p>\n"},{"tags":["java","postgresql","jpa"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1676017038,"post_id":75407748,"comment_id":133055992,"body_markdown":"What version of Postgres dialect is configured for your dataSource? You probably should configure dialect to be 8.2+ version (where UUID support was introduced) or create custom UUID type converter, because by default UUID is being converted to `byte[]` which is not what you want","body":"What version of Postgres dialect is configured for your dataSource? You probably should configure dialect to be 8.2+ version (where UUID support was introduced) or create custom UUID type converter, because by default UUID is being converted to <code>byte[]</code> which is not what you want"},{"owner":{"account_id":3456301,"reputation":1630,"user_id":2894742,"accept_rate":63,"display_name":"Selva"},"score":0,"creation_date":1676018609,"post_id":75407748,"comment_id":133056405,"body_markdown":"I am using postgres version 42.4.1. I am facing issue only with jpa native queries. If I directly update entity(repository.save) or hql its working fine. I can update non null value only the issue with updating null","body":"I am using postgres version 42.4.1. I am facing issue only with jpa native queries. If I directly update entity(repository.save) or hql its working fine. I can update non null value only the issue with updating null"}],"owner":{"account_id":3456301,"reputation":1630,"user_id":2894742,"accept_rate":63,"display_name":"Selva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676018696,"creation_date":1676011640,"question_id":75407748,"body_markdown":"\r\nI am trying to update with null value in uuid column in postgres db using jpa\r\n\r\nHere is my code:\r\n\r\n\t\r\n\r\n    @Transactional\r\n        @Modifying\r\n        @Query(value = &quot;update student set teacher_id=:teacherId where studentId=:studentId&quot;, nativeQuery = true)\r\n        void updateTeacherUUID(@Param(&quot;teacherId&quot;) UUID teacherId, @Param(&quot;studentId&quot;) UUID studentId);\r\n\t\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n    \r\n       @Id\r\n       UUID studentId;\r\n       \r\n       @Type(type = &quot;org.hibernate.type.PostgresUUIDType&quot;)\r\n       @Column(name = &quot;teacher_id&quot;, columnDefinition = &quot;uuid&quot;)\r\n       UUID teacherId;\r\n    }\r\n\r\nI am getting below error when I try to update\r\n\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42804\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;teacher_id&quot; is of type uuid but expression is of type bytea\r\n      Hint: You will need to rewrite or cast the expression.\r\n      \r\nNote: This issue occurring only in jpa native queries If I update directly using repository.update or hql its working fine\r\n\r\nCan anyone please help me on this\r\n\r\n","title":"Unable to update null value in UUID column postrgres via jpa native query","body":"<p>I am trying to update with null value in uuid column in postgres db using jpa</p>\n<p>Here is my code:</p>\n<pre><code>@Transactional\n    @Modifying\n    @Query(value = &quot;update student set teacher_id=:teacherId where studentId=:studentId&quot;, nativeQuery = true)\n    void updateTeacherUUID(@Param(&quot;teacherId&quot;) UUID teacherId, @Param(&quot;studentId&quot;) UUID studentId);\n\n@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n   @Id\n   UUID studentId;\n   \n   @Type(type = &quot;org.hibernate.type.PostgresUUIDType&quot;)\n   @Column(name = &quot;teacher_id&quot;, columnDefinition = &quot;uuid&quot;)\n   UUID teacherId;\n}\n</code></pre>\n<p>I am getting below error when I try to update</p>\n<pre><code>o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42804\no.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;teacher_id&quot; is of type uuid but expression is of type bytea\n  Hint: You will need to rewrite or cast the expression.\n  \n</code></pre>\n<p>Note: This issue occurring only in jpa native queries If I update directly using repository.update or hql its working fine</p>\n<p>Can anyone please help me on this</p>\n"},{"tags":["java","arrays","collections","guava","colt"],"comments":[{"owner":{"account_id":982231,"reputation":3261,"user_id":1001686,"accept_rate":94,"display_name":"Zach Latta"},"score":0,"creation_date":1362300582,"post_id":15183982,"comment_id":21390451,"body_markdown":"Are you trying to intersect the values of a list of int arrays? What do you mean by &quot;straight forward way&quot;?","body":"Are you trying to intersect the values of a list of int arrays? What do you mean by &quot;straight forward way&quot;?"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1362300919,"post_id":15183982,"comment_id":21390516,"body_markdown":"&quot;Common&quot; meaning that they appear in *every* list, or in *more than one* list?","body":"&quot;Common&quot; meaning that they appear in <i>every</i> list, or in <i>more than one</i> list?"},{"owner":{"account_id":2225983,"reputation":2712,"user_id":1964750,"accept_rate":59,"display_name":"ravindrab"},"score":0,"creation_date":1362301736,"post_id":15183982,"comment_id":21390679,"body_markdown":"I meant by &quot;straight forward way&quot; a method in some kind of library like apache commons, colt, guava etc.","body":"I meant by &quot;straight forward way&quot; a method in some kind of library like apache commons, colt, guava etc."},{"owner":{"account_id":1988950,"reputation":209,"user_id":1783460,"display_name":"Mike"},"score":1,"creation_date":1362301988,"post_id":15183982,"comment_id":21390730,"body_markdown":"You can iterate through all elements in each array and populate Map. Where key is your integer value and value is counter of how many times this element is met.","body":"You can iterate through all elements in each array and populate Map. Where key is your integer value and value is counter of how many times this element is met."}],"answers":[{"tags":[],"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363931195,"creation_date":1362302199,"answer_id":15184202,"question_id":15183982,"body_markdown":"If you are looking for a function that returns elements that exist in all lists,\r\n\r\nthen the straight forward &amp; simple way is building a statistic { &lt; member, occurences &gt; }\r\n\r\nThe condition here is no duplicates among the same list,\r\n\r\n\r\n\r\n    private Set&lt;Integer&gt; getCommonElements(ArrayList&lt;Integer[]&gt; idList)\r\n    {\r\n\r\n        MapList&lt;Integer,Short&gt; stat = new MapList&lt;Integer,Short&gt;();\r\n\r\n        // Here we count how many times each value occur\r\n        for (int i = 0; i &lt; idList.size(); i++)\r\n        {\r\n            for (int j = 0; j &lt; idList.get(i).size; j++)\r\n            {\r\n                if (stat.containsKey(idList.get(i)[j]))\r\n                {\r\n                    stat.set(idList.get(i)[j], stat.get(idList.get(i)[j])+1);\r\n                }\r\n                else\r\n                {\r\n                    stat.add(idList.get(i)[j], 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Here we only keep value that occured in all lists\r\n        for (int i = 0; i &lt; stat.size(); i++)\r\n        {\r\n            if (stat.get(i) &lt; idList.size())\r\n            {\r\n                stat.remove(i);\r\n                i--;\r\n            }\r\n        }\r\n\r\n        return stat.keySet();\r\n    }","title":"Is there a way to find common elements in multiple lists?","body":"<p>If you are looking for a function that returns elements that exist in all lists,</p>\n\n<p>then the straight forward &amp; simple way is building a statistic { &lt; member, occurences > }</p>\n\n<p>The condition here is no duplicates among the same list,</p>\n\n<pre><code>private Set&lt;Integer&gt; getCommonElements(ArrayList&lt;Integer[]&gt; idList)\n{\n\n    MapList&lt;Integer,Short&gt; stat = new MapList&lt;Integer,Short&gt;();\n\n    // Here we count how many times each value occur\n    for (int i = 0; i &lt; idList.size(); i++)\n    {\n        for (int j = 0; j &lt; idList.get(i).size; j++)\n        {\n            if (stat.containsKey(idList.get(i)[j]))\n            {\n                stat.set(idList.get(i)[j], stat.get(idList.get(i)[j])+1);\n            }\n            else\n            {\n                stat.add(idList.get(i)[j], 1);\n            }\n        }\n    }\n\n    // Here we only keep value that occured in all lists\n    for (int i = 0; i &lt; stat.size(); i++)\n    {\n        if (stat.get(i) &lt; idList.size())\n        {\n            stat.remove(i);\n            i--;\n        }\n    }\n\n    return stat.keySet();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1970166,"reputation":2148,"user_id":1769353,"accept_rate":88,"display_name":"Amir Kost"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1362304476,"creation_date":1362304476,"answer_id":15184473,"question_id":15183982,"body_markdown":"You can transform the lists to sets, and then use `Set.retainAll` method for intersection between the different sets.\r\nOnce you intersect all sets, you are left with the common elements, and you can transform the resulting set back to a list.","title":"Is there a way to find common elements in multiple lists?","body":"<p>You can transform the lists to sets, and then use <code>Set.retainAll</code> method for intersection between the different sets.\nOnce you intersect all sets, you are left with the common elements, and you can transform the resulting set back to a list.</p>\n"},{"tags":[],"owner":{"account_id":908333,"reputation":1660,"user_id":942772,"accept_rate":80,"display_name":"Oussama Zoghlami"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1501279146,"creation_date":1362481679,"answer_id":15222223,"question_id":15183982,"body_markdown":"You can use Set&#39;s intersection method offered by [Guava](http://code.google.com/p/guava-libraries/), Here is a little example : \r\n\r\n    public &lt;T&gt; Set&lt;T&gt; intersection(List&lt;T&gt;... list) {\r\n    \tSet&lt;T&gt; result = Sets.newHashSet(list[0]);\r\n    \tfor (List&lt;T&gt; numbers : list) {\r\n    \t\tresult = Sets.intersection(result, Sets.newHashSet(numbers));\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\nHope that could help you","title":"Is there a way to find common elements in multiple lists?","body":"<p>You can use Set's intersection method offered by <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a>, Here is a little example : </p>\n\n<pre><code>public &lt;T&gt; Set&lt;T&gt; intersection(List&lt;T&gt;... list) {\n    Set&lt;T&gt; result = Sets.newHashSet(list[0]);\n    for (List&lt;T&gt; numbers : list) {\n        result = Sets.intersection(result, Sets.newHashSet(numbers));\n    }\n    return result;\n}\n</code></pre>\n\n<p>Hope that could help you</p>\n"},{"tags":[],"owner":{"account_id":4041930,"reputation":3,"user_id":3324510,"display_name":"ArunKR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403861164,"creation_date":1403861164,"answer_id":24448355,"question_id":15183982,"body_markdown":"    public class ArrayListImpl{\r\n      public static void main(String s[]){\r\n        ArrayList&lt;Integer&gt; al1=new ArrayList&lt;Integer&gt;();\r\n         al1.add(21);al1.add(23);al1.add(25);al1.add(26);\r\n        ArrayList&lt;Integer&gt; al2=new ArrayList&lt;Integer&gt;();\r\n         al2.add(15);al2.add(16);al2.add(23);al2.add(25);\r\n         ArrayList Al3=new ArrayList&lt;Integer&gt;();\r\n         al3.addAll(al1);\r\n          System.out.println(&quot;Al3 Elements :&quot;+al3);\r\n         al3.retainAll(al2); //Keeps common elements of (al1 &amp; al2) &amp; removes remaining elements\r\n           System.out.println(&quot;Common Elements Between Two Array List:&quot;+al3);  \r\n    }\r\n    }","title":"Is there a way to find common elements in multiple lists?","body":"<pre><code>public class ArrayListImpl{\n  public static void main(String s[]){\n    ArrayList&lt;Integer&gt; al1=new ArrayList&lt;Integer&gt;();\n     al1.add(21);al1.add(23);al1.add(25);al1.add(26);\n    ArrayList&lt;Integer&gt; al2=new ArrayList&lt;Integer&gt;();\n     al2.add(15);al2.add(16);al2.add(23);al2.add(25);\n     ArrayList Al3=new ArrayList&lt;Integer&gt;();\n     al3.addAll(al1);\n      System.out.println(\"Al3 Elements :\"+al3);\n     al3.retainAll(al2); //Keeps common elements of (al1 &amp; al2) &amp; removes remaining elements\n       System.out.println(\"Common Elements Between Two Array List:\"+al3);  \n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441194,"reputation":471,"user_id":831157,"accept_rate":83,"display_name":"Han Tuzun"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1412173305,"creation_date":1412173305,"answer_id":26143622,"question_id":15183982,"body_markdown":"We can use [`retainAll` method of Collections][1]. I initialised my `commons` arraylist with the first array list and called this for each remaining arraylists.\r\n\r\n\t\tList&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\tlists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 5)));\r\n\t\tlists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 6, 7, 9, 3)));\r\n\t\tlists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 10, 11)));\r\n\r\n\t\tList&lt;Integer&gt; commons = new ArrayList&lt;Integer&gt;();\r\n\t\tcommons.addAll(lists.get(1));\r\n\t\tfor (ListIterator&lt;List&lt;Integer&gt;&gt; iter = lists.listIterator(1); iter.hasNext(); ) {\r\n\t\t\tcommons.retainAll(iter.next());\r\n\t\t}\r\n\r\n\t\tSystem.out.println(commons);\r\n\t\tSystem.out.println(lists.get(1));\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#retainAll(java.util.Collection)","title":"Is there a way to find common elements in multiple lists?","body":"<p>We can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#retainAll(java.util.Collection)\" rel=\"noreferrer\"><code>retainAll</code> method of Collections</a>. I initialised my <code>commons</code> arraylist with the first array list and called this for each remaining arraylists.</p>\n\n<pre><code>    List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    lists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 5)));\n    lists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 6, 7, 9, 3)));\n    lists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 10, 11)));\n\n    List&lt;Integer&gt; commons = new ArrayList&lt;Integer&gt;();\n    commons.addAll(lists.get(1));\n    for (ListIterator&lt;List&lt;Integer&gt;&gt; iter = lists.listIterator(1); iter.hasNext(); ) {\n        commons.retainAll(iter.next());\n    }\n\n    System.out.println(commons);\n    System.out.println(lists.get(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6865601,"reputation":2052,"user_id":5278172,"display_name":"Rohit Jain"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1595746370,"creation_date":1538521379,"answer_id":52617572,"question_id":15183982,"body_markdown":"with Java 8 \r\n\r\n    ArrayList retain = list1.stream()\r\n                         .filter(list2::contains).filter(list3::contains).collect(toList())","title":"Is there a way to find common elements in multiple lists?","body":"<p>with Java 8</p>\n<pre><code>ArrayList retain = list1.stream()\n                     .filter(list2::contains).filter(list3::contains).collect(toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20844342,"reputation":1,"user_id":15310217,"display_name":"Pratik Mungalpara"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614643086,"creation_date":1614634511,"answer_id":66430018,"question_id":15183982,"body_markdown":"    public class commonvalue {\r\n    \r\n      \r\n       Public static void MyMethod(){\r\n            \r\n           Set&lt;integer&gt; S1 = new set&lt;integer&gt;{1,3,5};\r\n            Set&lt;integer&gt; S2 = new set&lt;integer&gt;{1,6,7,9,3};\r\n            Set&lt;integer&gt; S3 = new set&lt;integer&gt;{1,3,10,11};\r\n               \r\n                s2.retainall(s1);\r\n                s3.retainall(s2);\r\n           \r\n           system.debug(s3);\r\n    }\r\n    }\r\n\r\n","title":"Is there a way to find common elements in multiple lists?","body":"<pre><code>public class commonvalue {\n\n  \n   Public static void MyMethod(){\n        \n       Set&lt;integer&gt; S1 = new set&lt;integer&gt;{1,3,5};\n        Set&lt;integer&gt; S2 = new set&lt;integer&gt;{1,6,7,9,3};\n        Set&lt;integer&gt; S3 = new set&lt;integer&gt;{1,3,10,11};\n           \n            s2.retainall(s1);\n            s3.retainall(s2);\n       \n       system.debug(s3);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11260582,"reputation":102,"user_id":8259045,"display_name":"T4puSD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674638497,"creation_date":1674638497,"answer_id":75231851,"question_id":15183982,"body_markdown":"If you are using JAVA 8 streams. Then using stream reduce operation we can achieve the same.\r\n\r\nConsidering your example: Let&#39;s say\r\na = [1,3,5], b = [1,6,7,9,3] and c = [1,3,10,11]\r\n\r\n```java\r\n    List&lt;Integer&gt; commonElements = Stream.of(a,b,c)\r\n         .reduce((s1,s2) -&gt; {\r\n              s1.retainAll(s2); \r\n              return s1;\r\n          }).orElse(Collections.emptyList());\r\n```\r\nKeep in mind that after running this operation `a` will get modified with common values as well. So you will lose the actual value of `a`.\r\n\r\nSo elements of `a` and the result elements of `commonElements` will be essentially the same after running this operation.","title":"Is there a way to find common elements in multiple lists?","body":"<p>If you are using JAVA 8 streams. Then using stream reduce operation we can achieve the same.</p>\n<p>Considering your example: Let's say\na = [1,3,5], b = [1,6,7,9,3] and c = [1,3,10,11]</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;Integer&gt; commonElements = Stream.of(a,b,c)\n         .reduce((s1,s2) -&gt; {\n              s1.retainAll(s2); \n              return s1;\n          }).orElse(Collections.emptyList());\n</code></pre>\n<p>Keep in mind that after running this operation <code>a</code> will get modified with common values as well. So you will lose the actual value of <code>a</code>.</p>\n<p>So elements of <code>a</code> and the result elements of <code>commonElements</code> will be essentially the same after running this operation.</p>\n"},{"tags":[],"owner":{"account_id":2023117,"reputation":8402,"user_id":1808829,"accept_rate":80,"display_name":"Ayaz Alifov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676018047,"creation_date":1676018047,"answer_id":75408633,"question_id":15183982,"body_markdown":"Giving some another alternative code using retainAll capability of Set\r\n\r\n    public List getCommonItems(List... lists) {\r\n        Set&lt;Integer&gt; result = new HashSet&lt;&gt;(lists[0]);\r\n\r\n        for (List list : lists) {\r\n            result.retainAll(new HashSet&lt;&gt;(list));\r\n        }\r\n\r\n        return new ArrayList&lt;&gt;(result);;\r\n    }\r\n\r\n\r\n\r\nUsage:\r\n       \r\n     List list1 = [1, 2, 3]\r\n     List list2 = [3, 2, 1]\r\n     List list3 = [2, 5, 1]\r\n    \r\n     List commonItems = getCommonItems(list1, list2, list3)\r\n     System.out.println(&quot;Common items: &quot; + result);\r\n\r\n\r\nResult: \r\n\r\n    commonItems: [1, 2]","title":"Is there a way to find common elements in multiple lists?","body":"<p>Giving some another alternative code using retainAll capability of Set</p>\n<pre><code>public List getCommonItems(List... lists) {\n    Set&lt;Integer&gt; result = new HashSet&lt;&gt;(lists[0]);\n\n    for (List list : lists) {\n        result.retainAll(new HashSet&lt;&gt;(list));\n    }\n\n    return new ArrayList&lt;&gt;(result);;\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code> List list1 = [1, 2, 3]\n List list2 = [3, 2, 1]\n List list3 = [2, 5, 1]\n\n List commonItems = getCommonItems(list1, list2, list3)\n System.out.println(&quot;Common items: &quot; + result);\n</code></pre>\n<p>Result:</p>\n<pre><code>commonItems: [1, 2]\n</code></pre>\n"}],"owner":{"account_id":2225983,"reputation":2712,"user_id":1964750,"accept_rate":59,"display_name":"ravindrab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43915,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":15184473,"answer_count":9,"score":21,"last_activity_date":1676018047,"creation_date":1362300255,"question_id":15183982,"body_markdown":"I have a list of integer arrays. I need to find the common elements between those. What I can think of is an extension of what is listed in  [**Common elements in two lists**][1]\r\n\r\n    Example would be \r\n    [1,3,5],\r\n    [1,6,7,9,3],\r\n    [1,3,10,11]\r\n\r\n    should result in [1,3]\r\n\r\n**There are no duplicates in the arrays as well.**\r\n\r\nIs there a straight forward way to do this? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5943330/common-elements-in-two-lists","title":"Is there a way to find common elements in multiple lists?","body":"<p>I have a list of integer arrays. I need to find the common elements between those. What I can think of is an extension of what is listed in  <a href=\"https://stackoverflow.com/questions/5943330/common-elements-in-two-lists\"><strong>Common elements in two lists</strong></a></p>\n\n<pre><code>Example would be \n[1,3,5],\n[1,6,7,9,3],\n[1,3,10,11]\n\nshould result in [1,3]\n</code></pre>\n\n<p><strong>There are no duplicates in the arrays as well.</strong></p>\n\n<p>Is there a straight forward way to do this? </p>\n"},{"tags":["java","junit","mockito","entitymanager"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1675948015,"post_id":75398991,"comment_id":133039781,"body_markdown":"Are you using Spring Boot? Did you try anything with [`@DataJpaTest`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html)?","body":"Are you using Spring Boot? Did you try anything with <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\"><code>@DataJpaTest</code></a>?"},{"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"score":0,"creation_date":1675948560,"post_id":75398991,"comment_id":133039941,"body_markdown":"@dan1st no, I didn&#39;t. I&#39;m going to try it.","body":"@dan1st no, I didn&#39;t. I&#39;m going to try it."}],"answers":[{"tags":[],"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676018019,"creation_date":1676018019,"answer_id":75408628,"question_id":75398991,"body_markdown":"I don&#39;t know if it&#39;s a good solution, but I obtain 100% coverage.\r\n\r\n\r\n\r\n\t\r\n\t@Mock\r\n\tEntityManager entityManager;\r\n\t\r\n\t@Mock\r\n\tQuery query;\r\n\t\r\n\t@InjectMocks\r\n\tThSwapDaoImpl daoImpl;\r\n\r\n\t@BeforeEach\r\n\tvoid setUp() throws Exception {\r\n\t}\r\n\r\n\t@Test\r\n\tvoid test() {\r\n\t\t\r\n\t\twhen(entityManager.createNativeQuery(anyString())).thenReturn(query);\r\n\t\twhen(query.executeUpdate()).thenReturn(1);\r\n\t\tassertEquals(daoImpl.sendToHistorical(), 1);\r\n\t\r\n\t}\r\n\r\n","title":"Test EntityManager with JUnit and Mockito","body":"<p>I don't know if it's a good solution, but I obtain 100% coverage.</p>\n<pre><code>@Mock\nEntityManager entityManager;\n\n@Mock\nQuery query;\n\n@InjectMocks\nThSwapDaoImpl daoImpl;\n\n@BeforeEach\nvoid setUp() throws Exception {\n}\n\n@Test\nvoid test() {\n    \n    when(entityManager.createNativeQuery(anyString())).thenReturn(query);\n    when(query.executeUpdate()).thenReturn(1);\n    assertEquals(daoImpl.sendToHistorical(), 1);\n\n}\n</code></pre>\n"}],"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408628,"answer_count":1,"score":0,"last_activity_date":1676018019,"creation_date":1675947815,"question_id":75398991,"body_markdown":"I have tried to test the following class, but I have been unsuccessful.\r\n\r\n```\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n    @Transactional\r\n    public int sendToTableOne()\r\n    {\r\n        return em.createNativeQuery(&quot;INSERT INTO TABLE_ONE&quot;\r\n                        + &quot; SELECT * FROM TABLE_TWO&quot;)\r\n                .executeUpdate();\r\n    }\r\n```\r\n\r\n\r\n\r\nHow can I test this class?\r\n\r\nI&#39;m using JUnit Jupiter on Spring framework.\r\n\r\n","title":"Test EntityManager with JUnit and Mockito","body":"<p>I have tried to test the following class, but I have been unsuccessful.</p>\n<pre><code>    @PersistenceContext\n    private EntityManager em;\n\n    @Transactional\n    public int sendToTableOne()\n    {\n        return em.createNativeQuery(&quot;INSERT INTO TABLE_ONE&quot;\n                        + &quot; SELECT * FROM TABLE_TWO&quot;)\n                .executeUpdate();\n    }\n</code></pre>\n<p>How can I test this class?</p>\n<p>I'm using JUnit Jupiter on Spring framework.</p>\n"},{"tags":["java","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":2,"creation_date":1576068957,"post_id":59283655,"comment_id":104777788,"body_markdown":"try `boolean outcome = !(count &gt; 0)`","body":"try <code>boolean outcome = !(count &gt; 0)</code>"},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":2,"creation_date":1576068997,"post_id":59283655,"comment_id":104777813,"body_markdown":"The issue is that you are doing extra gymnastics on an operation that already produces a boolean.","body":"The issue is that you are doing extra gymnastics on an operation that already produces a boolean."},{"owner":{"account_id":10378344,"reputation":231,"user_id":7653889,"accept_rate":86,"display_name":"Dangerous Hamster"},"score":0,"creation_date":1576069076,"post_id":59283655,"comment_id":104777858,"body_markdown":"Thank you ! Not sure why could not think of that","body":"Thank you ! Not sure why could not think of that"},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1576069175,"post_id":59283655,"comment_id":104777905,"body_markdown":"The shorthand `if` sentence is still a complete if in the eye of the compiler, and that is what sonarqube is complaining about.","body":"The shorthand <code>if</code> sentence is still a complete if in the eye of the compiler, and that is what sonarqube is complaining about."}],"answers":[{"tags":[],"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1676017754,"creation_date":1576069108,"answer_id":59286384,"question_id":59283655,"body_markdown":"The issue is that you are doing *extra gymnastics* on an operation that already produces a `boolean`.\r\n\r\nIf I write out what you have coded in full syntax:\r\n\r\n    boolean outcome;\r\n    \r\n    if(count &gt; 0){\r\n      outcome = false;\r\n    } else {\r\n     outcome = true;\r\n    }\r\n\r\nessentially, you are reversing the `count &gt; 0`\r\n\r\nSo try \r\n```java \r\nboolean outcome = !(count &gt; 0)\r\n```  \r\nor even better \r\n```java \r\nboolean outcome = count &lt;= 0\r\n```","title":"Sonarqube : Boolean literals should not be redundant","body":"<p>The issue is that you are doing <em>extra gymnastics</em> on an operation that already produces a <code>boolean</code>.</p>\n<p>If I write out what you have coded in full syntax:</p>\n<pre><code>boolean outcome;\n\nif(count &gt; 0){\n  outcome = false;\n} else {\n outcome = true;\n}\n</code></pre>\n<p>essentially, you are reversing the <code>count &gt; 0</code></p>\n<p>So try</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean outcome = !(count &gt; 0)\n</code></pre>\n<p>or even better</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean outcome = count &lt;= 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10378344,"reputation":231,"user_id":7653889,"accept_rate":86,"display_name":"Dangerous Hamster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596008124,"creation_date":1596008124,"answer_id":63148572,"question_id":59283655,"body_markdown":"For reference to others I was being dumb and SonarQube correct in reporting the above as it&#39;s doing more than needed. Correct code is:\r\n\r\n    boolean outcome = count &gt; 0;\r\n\r\nyou do not need the ternary statement the result of count &gt; 0 is a true/false value...\r\n\r\nSo as stated above to reverse that outcome is simple\r\n\r\n     boolean outcome = !(count &gt; 0);","title":"Sonarqube : Boolean literals should not be redundant","body":"<p>For reference to others I was being dumb and SonarQube correct in reporting the above as it's doing more than needed. Correct code is:</p>\n<pre><code>boolean outcome = count &gt; 0;\n</code></pre>\n<p>you do not need the ternary statement the result of count &gt; 0 is a true/false value...</p>\n<p>So as stated above to reverse that outcome is simple</p>\n<pre><code> boolean outcome = !(count &gt; 0);\n</code></pre>\n"}],"owner":{"account_id":10378344,"reputation":231,"user_id":7653889,"accept_rate":86,"display_name":"Dangerous Hamster"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59286384,"answer_count":2,"score":1,"last_activity_date":1676017754,"creation_date":1576060047,"question_id":59283655,"body_markdown":"I have the following nice one liner : \r\n\r\n    boolean outcome = count &gt; 0 ? false : true;\r\n\r\nBut from sonaqube I get &#39;Remove the literal &quot;false&quot; boolean value&#39;\r\n\r\nThe [solution][1] seems to assume you can re-write as a function \r\n\r\nBut even that function will have that simple one liner and put me in the same position, I don&#39;t quite understand how to fix ? Ideas ?\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/tag/clumsy/RSPEC-1125","title":"Sonarqube : Boolean literals should not be redundant","body":"<p>I have the following nice one liner : </p>\n\n<pre><code>boolean outcome = count &gt; 0 ? false : true;\n</code></pre>\n\n<p>But from sonaqube I get 'Remove the literal \"false\" boolean value'</p>\n\n<p>The <a href=\"https://rules.sonarsource.com/java/tag/clumsy/RSPEC-1125\" rel=\"nofollow noreferrer\">solution</a> seems to assume you can re-write as a function </p>\n\n<p>But even that function will have that simple one liner and put me in the same position, I don't quite understand how to fix ? Ideas ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1614819400,"post_id":66456025,"comment_id":117504305,"body_markdown":"its spring boot autoconfiguration https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-hello-auto-configuration also i suggest you switch out jjwt for https://docs.spring.io/spring-security/site/docs/current/reference/html5/#spring-security-oauth2-jose as spring has default support for JOSE.","body":"its spring boot autoconfiguration <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-hello-auto-configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> also i suggest you switch out jjwt for <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#spring-security-oauth2-jose\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> as spring has default support for JOSE."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1614819505,"post_id":66456025,"comment_id":117504325,"body_markdown":"also spring boot has default support for jwt with already a built in jwt filter so no need to register your own custom jwt filter. https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture which means that if you want to use JWT all you need to to do is to register some beans , and then each application can define what endpoints they want JWT authentication on and they will get your bean. No nead to register a filter and build a custom filter chain.","body":"also spring boot has default support for jwt with already a built in jwt filter so no need to register your own custom jwt filter. <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> which means that if you want to use JWT all you need to to do is to register some beans , and then each application can define what endpoints they want JWT authentication on and they will get your bean. No nead to register a filter and build a custom filter chain."}],"answers":[{"tags":[],"owner":{"account_id":9020444,"reputation":305,"user_id":6721713,"accept_rate":40,"display_name":"Vlad  Yurevich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614877489,"creation_date":1614877489,"answer_id":66479661,"question_id":66456025,"body_markdown":"Initially, the default `SecurityFilterChain` are disabled if there is any `WebSecurityConfigurerAdapter`. However, it doesn&#39;t work if the priority of the spring security auto-configuration is higher than auto-configuration with your `WebSecurityConfigurerAdapter`.\r\n\r\n**Solution**: I added `@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)` above the auto-configuration class. There is no default security filter chain any longer :)\r\n\r\nAbout `@EnableGlobalMethodSecurity`... It was about caches. Suddenly, it got fixed.","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>Initially, the default <code>SecurityFilterChain</code> are disabled if there is any <code>WebSecurityConfigurerAdapter</code>. However, it doesn't work if the priority of the spring security auto-configuration is higher than auto-configuration with your <code>WebSecurityConfigurerAdapter</code>.</p>\n<p><strong>Solution</strong>: I added <code>@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)</code> above the auto-configuration class. There is no default security filter chain any longer :)</p>\n<p>About <code>@EnableGlobalMethodSecurity</code>... It was about caches. Suddenly, it got fixed.</p>\n"},{"tags":[],"owner":{"account_id":7972361,"reputation":80,"user_id":6016579,"display_name":"mabreu0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633990227,"creation_date":1633990227,"answer_id":69532969,"question_id":66456025,"body_markdown":"Take a look at project structure, there might be a securityFilterChain coming from xml configuration rather than class extension. XML with http tag.","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>Take a look at project structure, there might be a securityFilterChain coming from xml configuration rather than class extension. XML with http tag.</p>\n"},{"tags":[],"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650255179,"creation_date":1650255179,"answer_id":71907533,"question_id":66456025,"body_markdown":"For googlers\r\n\r\nYou can&#39;t use \r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http)...\r\nwhile extending `WebSecurityConfigurerAdapter`.\r\n\r\nEither choose above one or only override \r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http)\r\n\r\n","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>For googlers</p>\n<p>You can't use</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http)...\n</code></pre>\n<p>while extending <code>WebSecurityConfigurerAdapter</code>.</p>\n<p>Either choose above one or only override</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27749009,"reputation":1,"user_id":21183810,"display_name":"marichibo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017556,"creation_date":1675987664,"answer_id":75405718,"question_id":66456025,"body_markdown":"I resolved same error by changing order of servlets in web.xml.\r\n↓ no problem order xxx -&gt; yyy 〇  　yyy -&gt; xxx &#215;   \r\n\r\n\r\n    &lt;servlet&gt;\r\n       &lt;servlet-name&gt;xxxServlet&lt;/servlet-name&gt;\r\n       &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n       … ommit\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;xxxServlet&lt;/servlet-name&gt;\r\n       &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;servlet&gt; \r\n        &lt;servlet-name&gt;yyyServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n       … ommit\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n         &lt;servlet-name&gt;yyyServlet&lt;/servlet-name&gt;\r\n         &lt;url-pattern&gt;/yyy/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>I resolved same error by changing order of servlets in web.xml.\n↓ no problem order xxx -&gt; yyy 〇  　yyy -&gt; xxx ×</p>\n<pre><code>&lt;servlet&gt;\n   &lt;servlet-name&gt;xxxServlet&lt;/servlet-name&gt;\n   &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n   … ommit\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;xxxServlet&lt;/servlet-name&gt;\n   &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;servlet&gt; \n    &lt;servlet-name&gt;yyyServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n   … ommit\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n     &lt;servlet-name&gt;yyyServlet&lt;/servlet-name&gt;\n     &lt;url-pattern&gt;/yyy/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":9020444,"reputation":305,"user_id":6721713,"accept_rate":40,"display_name":"Vlad  Yurevich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10990,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1676017556,"creation_date":1614770554,"question_id":66456025,"body_markdown":"I&#39;m trying to create my own spring boot starter for my custom security configuration (LDAP + JWT) via defining configuration class which extends from `WebSecurityConfigurerAdapter`. However, when I launch my application with this starter I get:\r\n\r\n    IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain.\r\n    Please select just one.\r\n\r\nI found out that it&#39;s not possible any longer to do that due to [this issue of the spring security][1]. There is an assertion in WebSecurityConfiguration of the spring:\r\n\r\n[![Snapshot from WebSecurityConfiguration.java][2]][2]\r\n\r\n**I solved this** adding to the starter the following (according to the issue):\r\n\r\n    @Bean\r\n    @Order(1) //Explanation for this below\r\n    open fun filterChain(http: HttpSecurity, jwtHelper: JwtHelper): SecurityFilterChain {\r\n        return http.authorizeRequests()\r\n               ...\r\n                   .addFilterBefore(JwtAuthenticationFilter(jwtHelper), UsernamePasswordAuthenticationFilter::class.java)\r\n                   .and().build()\r\n    }\r\n    \r\n    @Bean\r\n    open fun authenticationProvider(ldapConfig: LdapConfig): ActiveDirectoryLdapAuthenticationProvider {\r\n        return ActiveDirectoryLdapAuthenticationProvider(...)\r\n    }\r\n\r\nI added `@Order(1)` because there are two `securityFilterChains`: mine (defined in the configurartion above) and another one from an unknown source. I suppose, the latter is the reason of impossibility of using `WebSecurityConfigurerAdapter`.\r\n## The main problem is that I can&#39;t find where that comes from. ##\r\n&lt;br/&gt;\r\n\r\nBreakpoint from `WebSecurityConfiguration`... just in case:\r\n[![Break point from WebSecurityConfiguration][3]][3]\r\n\r\nI assume, because of that I can&#39;t use `@EnableGlobalMethodSecurity(prePostEnabled = true)` \r\nas well. It says:\r\n\r\n    Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer\r\n    to already built object\r\n\r\n---\r\nHere is list of my dependencies:\r\n\r\n1) Module with models which is used by the starter (name: my-ldap-security-model):\r\n\r\n```\r\ndependencies {\r\n    compileOnly &#39;org.springframework.security:spring-security-core&#39;\r\n    compileOnly &#39;org.springframework:spring-web&#39;\r\n    compileOnly &#39;javax.servlet:javax.servlet-api&#39;\r\n    api &#39;jakarta.xml.bind:jakarta.xml.bind-api&#39;\r\n    api &#39;org.glassfish.jaxb:jaxb-runtime&#39;\r\n    api &#39;io.jsonwebtoken:jjwt&#39;\r\n}\r\n```\r\n2) Module with models which is used by the starter (name: my-ldap-security-spring-boot-starter):\r\n\r\n```\r\ndependencies {\r\n    compile project(&#39;:my-ldap-security-model&#39;)\r\n    compileOnly &#39;javax.servlet:javax.servlet-api&#39;\r\n    api &#39;org.springframework.security:spring-security-core&#39;\r\n    api &#39;org.springframework.security:spring-security-config&#39;\r\n    api &#39;org.springframework.security:spring-security-web&#39;\r\n    api &#39;org.springframework:spring-web&#39;\r\n    api &#39;org.springframework.security:spring-security-ldap&#39;\r\n}\r\n```\r\n3) App project:\r\n\r\n```\r\ndependencies {\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    implementation(&#39;com.demo.boot:my-ldap-security-spring-boot-starter:0.0.1&#39;)\r\n}\r\n```\r\n\r\n\r\n## Please, help me find out the root of that filter. ##\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/8804\r\n  [2]: https://i.stack.imgur.com/pMPBr.png\r\n  [3]: https://i.stack.imgur.com/dmYQL.png","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>I'm trying to create my own spring boot starter for my custom security configuration (LDAP + JWT) via defining configuration class which extends from <code>WebSecurityConfigurerAdapter</code>. However, when I launch my application with this starter I get:</p>\n<pre><code>IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain.\nPlease select just one.\n</code></pre>\n<p>I found out that it's not possible any longer to do that due to <a href=\"https://github.com/spring-projects/spring-security/issues/8804\" rel=\"noreferrer\">this issue of the spring security</a>. There is an assertion in WebSecurityConfiguration of the spring:</p>\n<p><a href=\"https://i.stack.imgur.com/pMPBr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pMPBr.png\" alt=\"Snapshot from WebSecurityConfiguration.java\" /></a></p>\n<p><strong>I solved this</strong> adding to the starter the following (according to the issue):</p>\n<pre><code>@Bean\n@Order(1) //Explanation for this below\nopen fun filterChain(http: HttpSecurity, jwtHelper: JwtHelper): SecurityFilterChain {\n    return http.authorizeRequests()\n           ...\n               .addFilterBefore(JwtAuthenticationFilter(jwtHelper), UsernamePasswordAuthenticationFilter::class.java)\n               .and().build()\n}\n\n@Bean\nopen fun authenticationProvider(ldapConfig: LdapConfig): ActiveDirectoryLdapAuthenticationProvider {\n    return ActiveDirectoryLdapAuthenticationProvider(...)\n}\n</code></pre>\n<p>I added <code>@Order(1)</code> because there are two <code>securityFilterChains</code>: mine (defined in the configurartion above) and another one from an unknown source. I suppose, the latter is the reason of impossibility of using <code>WebSecurityConfigurerAdapter</code>.</p>\n<h2>The main problem is that I can't find where that comes from.</h2>\n<br/>\n<p>Breakpoint from <code>WebSecurityConfiguration</code>... just in case:\n<a href=\"https://i.stack.imgur.com/dmYQL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dmYQL.png\" alt=\"Break point from WebSecurityConfiguration\" /></a></p>\n<p>I assume, because of that I can't use <code>@EnableGlobalMethodSecurity(prePostEnabled = true)</code>\nas well. It says:</p>\n<pre><code>Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer\nto already built object\n</code></pre>\n<hr />\n<p>Here is list of my dependencies:</p>\n<ol>\n<li>Module with models which is used by the starter (name: my-ldap-security-model):</li>\n</ol>\n<pre><code>dependencies {\n    compileOnly 'org.springframework.security:spring-security-core'\n    compileOnly 'org.springframework:spring-web'\n    compileOnly 'javax.servlet:javax.servlet-api'\n    api 'jakarta.xml.bind:jakarta.xml.bind-api'\n    api 'org.glassfish.jaxb:jaxb-runtime'\n    api 'io.jsonwebtoken:jjwt'\n}\n</code></pre>\n<ol start=\"2\">\n<li>Module with models which is used by the starter (name: my-ldap-security-spring-boot-starter):</li>\n</ol>\n<pre><code>dependencies {\n    compile project(':my-ldap-security-model')\n    compileOnly 'javax.servlet:javax.servlet-api'\n    api 'org.springframework.security:spring-security-core'\n    api 'org.springframework.security:spring-security-config'\n    api 'org.springframework.security:spring-security-web'\n    api 'org.springframework:spring-web'\n    api 'org.springframework.security:spring-security-ldap'\n}\n</code></pre>\n<ol start=\"3\">\n<li>App project:</li>\n</ol>\n<pre><code>dependencies {\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('com.demo.boot:my-ldap-security-spring-boot-starter:0.0.1')\n}\n</code></pre>\n<h2>Please, help me find out the root of that filter.</h2>\n"},{"tags":["java","spring","junit","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":9045259,"reputation":5321,"user_id":6737860,"display_name":"Thomas K&#229;sene"},"down_vote_count":0,"up_vote_count":348,"is_accepted":true,"score":348,"last_activity_date":1471888686,"creation_date":1471884960,"answer_id":39084906,"question_id":39084491,"body_markdown":"Indeed, Spring Boot does set itself up for the most part. You can probably already get rid of a lot of the code you posted, especially in `Application`.\r\n\r\nI wish you had included the package names of all your classes, or at least the ones for `Application` and `JpaTest`. The thing about `@DataJpaTest` and a few other annotations is that they look for a `@SpringBootConfiguration` annotation in the current package, and if they cannot find it there, they traverse the package hierarchy until they find it.\r\n\r\nFor example, if the fully qualified name for your test class was `com.example.test.JpaTest` and the one for your application was `com.example.Application`, then your test class would be able to find the `@SpringBootApplication` (and therein, the `@SpringBootConfiguration`).\r\n\r\nIf the application resided in a different branch of the package hierarchy, however, like `com.example.application.Application`, it would *not* find it.\r\n\r\nExample\r\n-------\r\n\r\nConsider the following Maven project:\r\n\r\n    my-test-project\r\n      +--pom.xml\r\n      +--src\r\n        +--main\r\n          +--com\r\n            +--example\r\n              +--Application.java\r\n        +--test\r\n          +--com\r\n            +--example\r\n              +--test\r\n                +--JpaTest.java\r\n\r\nAnd then the following content in `Application.java`:\r\n\r\n    package com.example;\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nFollowed by the contents of `JpaTest.java`:\r\n\r\n    package com.example.test;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    public class JpaTest {\r\n    \r\n        @Test\r\n        public void testDummy() {\r\n        }\r\n    }\r\n\r\nEverything should be working. If you create a new folder inside `src/main/com/example` called `app`, and then put your `Application.java` inside it (and update the `package` declaration inside the file), running the test will give you the following error:\r\n\r\n&gt; java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>Indeed, Spring Boot does set itself up for the most part. You can probably already get rid of a lot of the code you posted, especially in <code>Application</code>.</p>\n\n<p>I wish you had included the package names of all your classes, or at least the ones for <code>Application</code> and <code>JpaTest</code>. The thing about <code>@DataJpaTest</code> and a few other annotations is that they look for a <code>@SpringBootConfiguration</code> annotation in the current package, and if they cannot find it there, they traverse the package hierarchy until they find it.</p>\n\n<p>For example, if the fully qualified name for your test class was <code>com.example.test.JpaTest</code> and the one for your application was <code>com.example.Application</code>, then your test class would be able to find the <code>@SpringBootApplication</code> (and therein, the <code>@SpringBootConfiguration</code>).</p>\n\n<p>If the application resided in a different branch of the package hierarchy, however, like <code>com.example.application.Application</code>, it would <em>not</em> find it.</p>\n\n<h2>Example</h2>\n\n<p>Consider the following Maven project:</p>\n\n<pre><code>my-test-project\n  +--pom.xml\n  +--src\n    +--main\n      +--com\n        +--example\n          +--Application.java\n    +--test\n      +--com\n        +--example\n          +--test\n            +--JpaTest.java\n</code></pre>\n\n<p>And then the following content in <code>Application.java</code>:</p>\n\n<pre><code>package com.example;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Followed by the contents of <code>JpaTest.java</code>:</p>\n\n<pre><code>package com.example.test;\n\n@RunWith(SpringRunner.class)\n@DataJpaTest\npublic class JpaTest {\n\n    @Test\n    public void testDummy() {\n    }\n}\n</code></pre>\n\n<p>Everything should be working. If you create a new folder inside <code>src/main/com/example</code> called <code>app</code>, and then put your <code>Application.java</code> inside it (and update the <code>package</code> declaration inside the file), running the test will give you the following error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2685016,"reputation":1542,"user_id":2319588,"display_name":"Cameron Gagnon"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1496862273,"creation_date":1496862273,"answer_id":44420852,"question_id":39084491,"body_markdown":"In addition to what Thomas K&#229;sene said, you can also add\r\n\r\n    @SpringBootTest(classes=com.package.path.class)\r\n\r\nto the test annotation to specify where it should look for the other class if you didn&#39;t want to refactor your file hierarchy. This is what the error message hints at by saying:\r\n\r\n&gt;     Unable to find a @SpringBootConfiguration, you need to use \r\n&gt;     @ContextConfiguration or @SpringBootTest(classes=...) ...\r\n\r\n\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>In addition to what Thomas Kåsene said, you can also add</p>\n\n<pre><code>@SpringBootTest(classes=com.package.path.class)\n</code></pre>\n\n<p>to the test annotation to specify where it should look for the other class if you didn't want to refactor your file hierarchy. This is what the error message hints at by saying:</p>\n\n<blockquote>\n<pre><code>Unable to find a @SpringBootConfiguration, you need to use \n@ContextConfiguration or @SpringBootTest(classes=...) ...\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1948237,"reputation":2616,"user_id":1752917,"accept_rate":14,"display_name":"Mohammed Rafeeq"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1521460123,"creation_date":1507712030,"answer_id":46683917,"question_id":39084491,"body_markdown":"It is worth to check if you have refactored package name of your main class annotated with `@SpringBootApplication`. In that case the testcase should be in an appropriate package otherwise it will be looking for it in the older package . this was the case for me.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>It is worth to check if you have refactored package name of your main class annotated with <code>@SpringBootApplication</code>. In that case the testcase should be in an appropriate package otherwise it will be looking for it in the older package . this was the case for me.</p>\n"},{"tags":[],"owner":{"account_id":94872,"reputation":17207,"user_id":258772,"display_name":"mrts"},"down_vote_count":0,"up_vote_count":150,"is_accepted":false,"score":150,"last_activity_date":1602767741,"creation_date":1509379975,"answer_id":47019765,"question_id":39084491,"body_markdown":"Configuration is attached to the application class, so the following will set up everything correctly:\r\n\r\n    @SpringBootTest(classes = Application.class)\r\n\r\nExample from the JHipster project [here](https://github.com/jhipster/jhipster-sample-app/blob/e1fa8653cde8e1e7c4af88f223ae7b4c91513ad9/src/test/java/io/github/jhipster/sample/service/MailServiceIT.java).","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>Configuration is attached to the application class, so the following will set up everything correctly:</p>\n<pre><code>@SpringBootTest(classes = Application.class)\n</code></pre>\n<p>Example from the JHipster project <a href=\"https://github.com/jhipster/jhipster-sample-app/blob/e1fa8653cde8e1e7c4af88f223ae7b4c91513ad9/src/test/java/io/github/jhipster/sample/service/MailServiceIT.java\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1515984689,"creation_date":1515816443,"answer_id":48236834,"question_id":39084491,"body_markdown":"The **test slice** provided in Spring Boot 1.4 brought **feature** oriented test capabilities. \r\n\r\nFor example, \r\n\r\n**@JsonTest** provides a simple Jackson environment to test the json serialization and deserialization.\r\n\r\n**@WebMvcTest** provides a mock web environment, it can specify the controller class for test and inject the MockMvc in the test.\r\n\r\n\t@WebMvcTest(PostController.class)\r\n\tpublic class PostControllerMvcTest{\r\n\r\n\t\t@Inject MockMvc mockMvc;\r\n\r\n\t}\r\n\r\n**@DataJpaTest** will prepare an embedded database and provides basic JPA environment for the test.\r\n\r\n**@RestClientTest** provides REST client environment for the test, esp the RestTemplateBuilder etc.\r\n\r\nThese annotations are not composed with SpringBootTest, they are combined with a series of `AutoconfigureXXX` and a `@TypeExcludesFilter` annotations.\r\n\r\nHave a look at `@DataJpaTest`.\r\n\r\n\t@Target(ElementType.TYPE)\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\t@Documented\r\n\t@Inherited\r\n\t@BootstrapWith(SpringBootTestContextBootstrapper.class)\r\n\t@OverrideAutoConfiguration(enabled = false)\r\n\t@TypeExcludeFilters(DataJpaTypeExcludeFilter.class)\r\n\t@Transactional\r\n\t@AutoConfigureCache\r\n\t@AutoConfigureDataJpa\r\n\t@AutoConfigureTestDatabase\r\n\t@AutoConfigureTestEntityManager\r\n\t@ImportAutoConfiguration\r\n\tpublic @interface DataJpaTest {}\r\n\r\nYou can add your @AutoconfigureXXX annotation to override the default config.\r\n\r\n    @AutoConfigureTestDatabase(replace=NONE)\r\n    @DataJpaTest\r\n    public class TestClass{\r\n    }\r\n\t\r\nLet&#39;s have a look at your problem,\r\n\r\n1. Do not mix `@DataJpaTest` and `@SpringBootTest`, as said above `@DataJpaTest` will build the configuration in its own way(eg. by default, it will try to prepare an embedded H2 instead) from the application configuration inheritance. `@DataJpaTest` is designated for **test slice**.\r\n2. If you want to customize the configuration of `@DataJpaTest`, please read [this official blog entry](https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4) from Spring.io for this topic,(a little tedious).\r\n3. Split the configurations in `Application` into smaller configurations by features, such as `WebConfig`, `DataJpaConfig` etc. A **full featured configuration**(mixed web, data, security etc) also caused your **test slice** based tests to be failed. Check the [test samples](https://github.com/hantsy/angularjs-springmvc-sample-boot/tree/master/src/test/java/com/hantsylabs/restexample/springmvc/test/slice) in  [my sample](https://github.com/hantsy/angularjs-springmvc-sample-boot).\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>The <strong>test slice</strong> provided in Spring Boot 1.4 brought <strong>feature</strong> oriented test capabilities. </p>\n\n<p>For example, </p>\n\n<p><strong>@JsonTest</strong> provides a simple Jackson environment to test the json serialization and deserialization.</p>\n\n<p><strong>@WebMvcTest</strong> provides a mock web environment, it can specify the controller class for test and inject the MockMvc in the test.</p>\n\n<pre><code>@WebMvcTest(PostController.class)\npublic class PostControllerMvcTest{\n\n    @Inject MockMvc mockMvc;\n\n}\n</code></pre>\n\n<p><strong>@DataJpaTest</strong> will prepare an embedded database and provides basic JPA environment for the test.</p>\n\n<p><strong>@RestClientTest</strong> provides REST client environment for the test, esp the RestTemplateBuilder etc.</p>\n\n<p>These annotations are not composed with SpringBootTest, they are combined with a series of <code>AutoconfigureXXX</code> and a <code>@TypeExcludesFilter</code> annotations.</p>\n\n<p>Have a look at <code>@DataJpaTest</code>.</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@BootstrapWith(SpringBootTestContextBootstrapper.class)\n@OverrideAutoConfiguration(enabled = false)\n@TypeExcludeFilters(DataJpaTypeExcludeFilter.class)\n@Transactional\n@AutoConfigureCache\n@AutoConfigureDataJpa\n@AutoConfigureTestDatabase\n@AutoConfigureTestEntityManager\n@ImportAutoConfiguration\npublic @interface DataJpaTest {}\n</code></pre>\n\n<p>You can add your @AutoconfigureXXX annotation to override the default config.</p>\n\n<pre><code>@AutoConfigureTestDatabase(replace=NONE)\n@DataJpaTest\npublic class TestClass{\n}\n</code></pre>\n\n<p>Let's have a look at your problem,</p>\n\n<ol>\n<li>Do not mix <code>@DataJpaTest</code> and <code>@SpringBootTest</code>, as said above <code>@DataJpaTest</code> will build the configuration in its own way(eg. by default, it will try to prepare an embedded H2 instead) from the application configuration inheritance. <code>@DataJpaTest</code> is designated for <strong>test slice</strong>.</li>\n<li>If you want to customize the configuration of <code>@DataJpaTest</code>, please read <a href=\"https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4\" rel=\"noreferrer\">this official blog entry</a> from Spring.io for this topic,(a little tedious).</li>\n<li>Split the configurations in <code>Application</code> into smaller configurations by features, such as <code>WebConfig</code>, <code>DataJpaConfig</code> etc. A <strong>full featured configuration</strong>(mixed web, data, security etc) also caused your <strong>test slice</strong> based tests to be failed. Check the <a href=\"https://github.com/hantsy/angularjs-springmvc-sample-boot/tree/master/src/test/java/com/hantsylabs/restexample/springmvc/test/slice\" rel=\"noreferrer\">test samples</a> in  <a href=\"https://github.com/hantsy/angularjs-springmvc-sample-boot\" rel=\"noreferrer\">my sample</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3680017,"reputation":3,"user_id":3065164,"display_name":"Umesh G"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1539774468,"creation_date":1539774468,"answer_id":52853425,"question_id":39084491,"body_markdown":"    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureWebMvc;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    \r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @SpringBootTest\r\n    @AutoConfigureWebMvc\r\n    public class RepoTest {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ThingShiftDetailsRepository thingShiftDetailsRepo;\r\n    \t\r\n    \t@Test\r\n    \tpublic void findThingShiftDetails() {\r\n    \t\t\tShiftDetails details = new ShiftDetails();\r\n    \t\t\tdetails.setThingId(1);\r\n    \t\t\t\r\n    \t\t\tthingShiftDetailsRepo.save(details);\r\n    \t\t\t\r\n    \t\t\tShiftDetails dbDetails = thingShiftDetailsRepo.findByThingId(1);\r\n    \t\t\tSystem.out.println(dbDetails);\r\n    \t}\r\n    }\r\n\r\n\r\nAbove annotations worked well for me. I am using spring boot with JPA. ","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureWebMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n\n\n@RunWith(SpringRunner.class)\n@DataJpaTest\n@SpringBootTest\n@AutoConfigureWebMvc\npublic class RepoTest {\n\n    @Autowired\n    private ThingShiftDetailsRepository thingShiftDetailsRepo;\n\n    @Test\n    public void findThingShiftDetails() {\n            ShiftDetails details = new ShiftDetails();\n            details.setThingId(1);\n\n            thingShiftDetailsRepo.save(details);\n\n            ShiftDetails dbDetails = thingShiftDetailsRepo.findByThingId(1);\n            System.out.println(dbDetails);\n    }\n}\n</code></pre>\n\n<p>Above annotations worked well for me. I am using spring boot with JPA. </p>\n"},{"tags":[],"owner":{"account_id":2439515,"reputation":1653,"user_id":2128439,"accept_rate":77,"display_name":"silver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542119767,"creation_date":1542119767,"answer_id":53283358,"question_id":39084491,"body_markdown":"I think that the best solution for this issue is to align your tests folders structure with the application folder structure.\r\n\r\nI had the same issue which was caused by duplicating my project from a different folder structure project.\r\n\r\nif your test project and your application project will have the same structure you will not be required to add any special annotations to your tests classes and everything will work as is.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>I think that the best solution for this issue is to align your tests folders structure with the application folder structure.</p>\n\n<p>I had the same issue which was caused by duplicating my project from a different folder structure project.</p>\n\n<p>if your test project and your application project will have the same structure you will not be required to add any special annotations to your tests classes and everything will work as is.</p>\n"},{"tags":[],"owner":{"account_id":4245916,"reputation":338,"user_id":3474613,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1553039363,"creation_date":1553039363,"answer_id":55251590,"question_id":39084491,"body_markdown":"In my case the packages were different between the Application and Test classes\r\n\r\n    package com.example.abc;\r\n    ...\r\n    @SpringBootApplication\r\n    public class ProducerApplication {\r\n\r\nand\r\n\r\n    package com.example.abc_etc;\r\n    ...\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class ProducerApplicationTest {\r\n\r\nAfter making them agree the tests ran correctly.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>In my case the packages were different between the Application and Test classes</p>\n\n<pre><code>package com.example.abc;\n...\n@SpringBootApplication\npublic class ProducerApplication {\n</code></pre>\n\n<p>and</p>\n\n<pre><code>package com.example.abc_etc;\n...\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class ProducerApplicationTest {\n</code></pre>\n\n<p>After making them agree the tests ran correctly.</p>\n"},{"tags":[],"owner":{"account_id":10091232,"reputation":431,"user_id":7458156,"display_name":"hang gao"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1562032654,"creation_date":1562032654,"answer_id":56844368,"question_id":39084491,"body_markdown":"It work fo me \r\n\r\nthe package name of the above test class is changed to the same as the package name of the normal class. \r\n\r\n![](https://static.oschina.net/uploads/space/2018/0111/102730_tlKv_2885163.png)\r\n\r\nchange to this\r\n\r\n![](https://static.oschina.net/uploads/space/2018/0111/103001_vJoi_2885163.png)","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>It work fo me </p>\n\n<p>the package name of the above test class is changed to the same as the package name of the normal class. </p>\n\n<p><img src=\"https://static.oschina.net/uploads/space/2018/0111/102730_tlKv_2885163.png\" alt=\"\"></p>\n\n<p>change to this</p>\n\n<p><img src=\"https://static.oschina.net/uploads/space/2018/0111/103001_vJoi_2885163.png\" alt=\"\"></p>\n"},{"tags":[],"owner":{"account_id":4660831,"reputation":99,"user_id":3775160,"display_name":"SumataPatil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582642561,"creation_date":1571390701,"answer_id":58447859,"question_id":39084491,"body_markdown":"When all the classes were in same package, test classes were working. As soon as I moved all the java classes to different package to maintain proper project structure I was getting the same error.\r\n\r\nI solved it by providing my main class name in the test class like below.\r\n\r\n    @SpringBootTest(classes=JunitBasicsApplication.class)\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>When all the classes were in same package, test classes were working. As soon as I moved all the java classes to different package to maintain proper project structure I was getting the same error.</p>\n\n<p>I solved it by providing my main class name in the test class like below.</p>\n\n<pre><code>@SpringBootTest(classes=JunitBasicsApplication.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588549961,"creation_date":1588549961,"answer_id":61583141,"question_id":39084491,"body_markdown":"In my case  \r\nMake sure your (**`test package` name**) of `YourApplicationTests` is equivalent to the (**`main package` name**). ","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>In my case<br>\nMake sure your (<strong><code>test package</code> name</strong>) of <code>YourApplicationTests</code> is equivalent to the (<strong><code>main package</code> name</strong>). </p>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1592491572,"creation_date":1592491572,"answer_id":62452708,"question_id":39084491,"body_markdown":"I had the same issue and I solved by adding an empty class annotated with `SpringBootApplication` in the root package of the folder *src/test/java*\r\n\r\n    package org.enricogiurin.core;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class CoreTestConfiguration {}\r\n\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>I had the same issue and I solved by adding an empty class annotated with <code>SpringBootApplication</code> in the root package of the folder <em>src/test/java</em></p>\n\n<pre><code>package org.enricogiurin.core;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CoreTestConfiguration {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1118295,"reputation":2570,"user_id":1107129,"accept_rate":76,"display_name":"happy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600252360,"creation_date":1600252360,"answer_id":63918145,"question_id":39084491,"body_markdown":"In my case I was using the Test class from wrong package.\r\nwhen I replaced `import org.junit.Test;` with import `org.junit.jupiter.api.Test;` it worked.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>In my case I was using the Test class from wrong package.\nwhen I replaced <code>import org.junit.Test;</code> with import <code>org.junit.jupiter.api.Test;</code> it worked.</p>\n"},{"tags":[],"owner":{"account_id":5500955,"reputation":876,"user_id":10783374,"display_name":"Edor Linus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600279929,"creation_date":1600279929,"answer_id":63925729,"question_id":39084491,"body_markdown":"Make sure the test class is in a sub-package of your main spring boot class\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>Make sure the test class is in a sub-package of your main spring boot class</p>\n"},{"tags":[],"owner":{"account_id":4427596,"reputation":887,"user_id":3605642,"display_name":"Michal Lonski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604057042,"creation_date":1604057042,"answer_id":64607445,"question_id":39084491,"body_markdown":"This is more the the error itself, not answering the original question:\r\n\r\nWe were migrating from java 8 to java 11. Application compiled successfully, but the errors `Unable to find a @SpringBootConfiguration` started to appear in the integration tests when ran from command line using maven (from IntelliJ it worked). \r\n\r\nIt appeared that `maven-failsafe-plugin` stopped seeing the classes on classpath, we fixed that by telling failsafe plugin to include the classes manually:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;additionalClasspathElements&gt;\r\n                        &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\r\n                    &lt;/additionalClasspathElements&gt;\r\n                &lt;/configuration&gt;\r\n                ...\r\n            &lt;/plugin&gt;\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>This is more the the error itself, not answering the original question:</p>\n<p>We were migrating from java 8 to java 11. Application compiled successfully, but the errors <code>Unable to find a @SpringBootConfiguration</code> started to appear in the integration tests when ran from command line using maven (from IntelliJ it worked).</p>\n<p>It appeared that <code>maven-failsafe-plugin</code> stopped seeing the classes on classpath, we fixed that by telling failsafe plugin to include the classes manually:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;additionalClasspathElements&gt;\n                    &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\n                &lt;/additionalClasspathElements&gt;\n            &lt;/configuration&gt;\n            ...\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3006965,"reputation":4976,"user_id":2551287,"accept_rate":89,"display_name":"young-ceo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017512,"creation_date":1675989491,"answer_id":75405865,"question_id":39084491,"body_markdown":"None of the suggested solutions worked because I don&#39;t have `@SpringBootApplication` in the system.  But I figured it out - this is how I fixed:\r\n\r\n```java\r\n// AppConfig.java\r\n@Configuration\r\n@ComponentScan(&quot;foo&quot;)\r\n@ConfigurationPropertiesScan\r\npublic class AppConfig {\r\n    // ...\r\n}\r\n\r\n// HelloWorld.java\r\n@Service\r\npublic class HelloWorld {\r\n    public void foo() {\r\n        // ...\r\n    }\r\n}\r\n\r\n// HelloWorldTest.java\r\n@SpringBootTest(classes = { AppConfig.class, HelloWorld.class })\r\npublic class HelloWorldTest {\r\n    @Autowired private HelloWorld helloWorld;\r\n\r\n    @Test\r\n    public testFoo() {\r\n        this.helloWorld.foo(); // Testing logic\r\n    }\r\n}\r\n```\r\n\r\nThe key is including both `AppConfig.class` and `HelloWorld.class` in `@SpringBootTest`.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>None of the suggested solutions worked because I don't have <code>@SpringBootApplication</code> in the system.  But I figured it out - this is how I fixed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// AppConfig.java\n@Configuration\n@ComponentScan(&quot;foo&quot;)\n@ConfigurationPropertiesScan\npublic class AppConfig {\n    // ...\n}\n\n// HelloWorld.java\n@Service\npublic class HelloWorld {\n    public void foo() {\n        // ...\n    }\n}\n\n// HelloWorldTest.java\n@SpringBootTest(classes = { AppConfig.class, HelloWorld.class })\npublic class HelloWorldTest {\n    @Autowired private HelloWorld helloWorld;\n\n    @Test\n    public testFoo() {\n        this.helloWorld.foo(); // Testing logic\n    }\n}\n</code></pre>\n<p>The key is including both <code>AppConfig.class</code> and <code>HelloWorld.class</code> in <code>@SpringBootTest</code>.</p>\n"}],"owner":{"account_id":2654100,"reputation":2391,"user_id":2295156,"accept_rate":83,"display_name":"Thomas Billet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282988,"favorite_count":0,"down_vote_count":0,"up_vote_count":235,"accepted_answer_id":39084906,"answer_count":16,"score":235,"last_activity_date":1676017512,"creation_date":1471883402,"question_id":39084491,"body_markdown":"I&#39;m trying to run a simple Junit test to see if my CrudRepositories are indeed working.\r\n\r\nThe error I keep getting is:\r\n\r\n&gt; Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\r\njava.lang.IllegalStateException\r\n\r\n\r\nDoesn&#39;t Spring Boot configure itself?\r\n\r\nMy Test Class:\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    public class JpaTest {\r\n    \r\n    @Autowired\r\n    private AccountRepository repository;\r\n    \r\n    @After\r\n    public void clearDb(){\r\n        repository.deleteAll();\r\n    }\r\n    \r\n     @Test\r\n     public void createAccount(){\r\n         long id = 12;\r\n         Account u = new Account(id,&quot;Tim Viz&quot;);\r\n         repository.save(u);\r\n          \r\n         assertEquals(repository.findOne(id),u);\r\n          \r\n     }\r\n      \r\n      \r\n     @Test\r\n     public void findAccountByUsername(){\r\n         long id = 12;\r\n         String username = &quot;Tim Viz&quot;;\r\n         Account u = new Account(id,username);\r\n         repository.save(u);\r\n          \r\n         assertEquals(repository.findByUsername(username),u);\r\n          \r\n     }\r\n      \r\nMy Spring Boot application starter:\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories(basePackages = {&quot;domain.repositories&quot;})\r\n    @ComponentScan(basePackages = {&quot;controllers&quot;,&quot;domain&quot;})\r\n    @EnableWebMvc\r\n    @PropertySources(value    {@PropertySource(&quot;classpath:application.properties&quot;)})\r\n        @EntityScan(basePackages={&quot;domain&quot;})\r\n        public class Application extends SpringBootServletInitializer {\r\n            public static void main(String[] args) {\r\n                ApplicationContext ctx = SpringApplication.run(Application.class, args);         \r\n     \r\n            }\r\n        }\r\n\r\n \r\nMy Repository:\r\n\r\n    public interface AccountRepository extends CrudRepository&lt;Account,Long&gt; {\r\n    \r\n        public Account findByUsername(String username);\r\n    \r\n        }\r\n    }","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>I'm trying to run a simple Junit test to see if my CrudRepositories are indeed working.</p>\n<p>The error I keep getting is:</p>\n<blockquote>\n<p>Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\njava.lang.IllegalStateException</p>\n</blockquote>\n<p>Doesn't Spring Boot configure itself?</p>\n<p>My Test Class:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\npublic class JpaTest {\n\n@Autowired\nprivate AccountRepository repository;\n\n@After\npublic void clearDb(){\n    repository.deleteAll();\n}\n\n @Test\n public void createAccount(){\n     long id = 12;\n     Account u = new Account(id,&quot;Tim Viz&quot;);\n     repository.save(u);\n      \n     assertEquals(repository.findOne(id),u);\n      \n }\n  \n  \n @Test\n public void findAccountByUsername(){\n     long id = 12;\n     String username = &quot;Tim Viz&quot;;\n     Account u = new Account(id,username);\n     repository.save(u);\n      \n     assertEquals(repository.findByUsername(username),u);\n      \n }\n  \n</code></pre>\n<p>My Spring Boot application starter:</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(basePackages = {&quot;domain.repositories&quot;})\n@ComponentScan(basePackages = {&quot;controllers&quot;,&quot;domain&quot;})\n@EnableWebMvc\n@PropertySources(value    {@PropertySource(&quot;classpath:application.properties&quot;)})\n    @EntityScan(basePackages={&quot;domain&quot;})\n    public class Application extends SpringBootServletInitializer {\n        public static void main(String[] args) {\n            ApplicationContext ctx = SpringApplication.run(Application.class, args);         \n \n        }\n    }\n</code></pre>\n<p>My Repository:</p>\n<pre><code>public interface AccountRepository extends CrudRepository&lt;Account,Long&gt; {\n\n    public Account findByUsername(String username);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1676018986,"post_id":75408509,"comment_id":133056513,"body_markdown":"I figured out once I set prefferedSize to the desktop the InternalFrames are showing and the desktoppane itself as well. But what I am actually after is to adjust the size based on its content (the InternalFrames) once they get added. Is there any way to do this, as I dont want to initially set a size of the desktopPane when there is nothing inside of it.","body":"I figured out once I set prefferedSize to the desktop the InternalFrames are showing and the desktoppane itself as well. But what I am actually after is to adjust the size based on its content (the InternalFrames) once they get added. Is there any way to do this, as I dont want to initially set a size of the desktopPane when there is nothing inside of it."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1676029254,"post_id":75408509,"comment_id":133059518,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1676041098,"post_id":75408509,"comment_id":133063226,"body_markdown":"*I dont want to initially set a size of the desktopPane when there is nothing inside of it.* -  Add a `ContainerListener` to the desktop pane and handle the two events to set the preferred size as requirement. You would then need to `revalidate()` to make sure the layout manager is invoked.","body":"<i>I dont want to initially set a size of the desktopPane when there is nothing inside of it.</i> -  Add a <code>ContainerListener</code> to the desktop pane and handle the two events to set the preferred size as requirement. You would then need to <code>revalidate()</code> to make sure the layout manager is invoked."}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676017258,"creation_date":1676017258,"question_id":75408509,"body_markdown":"I have a class that is extending JInternalFrame which also holds a JDesktopPane that should hold another JInternalFrame which can be added on a button click.\r\n\r\nI can log that the JInternalFrame is constructed, but it is not shown on its parent JInternalFrame and I dont know why.\r\n\r\nHere are the relevant sections:\r\n\r\nParent class\r\n\r\n        this.add(topPanel,BorderLayout.NORTH);\r\n        this.add(tableScrollpane, BorderLayout.CENTER);\r\n        this.add(desktop,BorderLayout.SOUTH);       //The parents Desktop pane to which I want to add internalframes on button click\r\n\r\n\r\nThe method that should add a new JInternalFrame to the desktop (JDesktopPane of parent)\r\n\r\n     private void addChart(Market market){\r\n        this.desktop.add(new Chart(market.getSymbol(),this.quoteMarket, Indicators.convertToTa4JBarSeries(market.getSymbol(),market.getCandles())));\r\n    }\r\n\r\n\r\nThe JInternalFrame class that should be created and visible on the parents desktop pane. The constructor gets called, I can see that in the log section.\r\n\r\n    public class Chart extends JInternalFrame {\r\n    public Chart(String title, String quoteMarket,BarSeries barSeries){\r\n        System.out.println(&quot;Chart created&quot;);\r\n        setTitle(title + &quot; &quot; + quoteMarket);\r\n        setSize(500,500);\r\n        setMaximizable(true);\r\n        setIconifiable(true);\r\n        setClosable(true);\r\n        setResizable(true);\r\n        setLayout(new GridLayout(0,1));\r\n        this.displayChart(title,quoteMarket,barSeries);\r\n        this.pack();\r\n        this.show();\r\n        this.setVisible(true);\r\n    }","title":"JInternalFrame inside JInternal frame not shown","body":"<p>I have a class that is extending JInternalFrame which also holds a JDesktopPane that should hold another JInternalFrame which can be added on a button click.</p>\n<p>I can log that the JInternalFrame is constructed, but it is not shown on its parent JInternalFrame and I dont know why.</p>\n<p>Here are the relevant sections:</p>\n<p>Parent class</p>\n<pre><code>    this.add(topPanel,BorderLayout.NORTH);\n    this.add(tableScrollpane, BorderLayout.CENTER);\n    this.add(desktop,BorderLayout.SOUTH);       //The parents Desktop pane to which I want to add internalframes on button click\n</code></pre>\n<p>The method that should add a new JInternalFrame to the desktop (JDesktopPane of parent)</p>\n<pre><code> private void addChart(Market market){\n    this.desktop.add(new Chart(market.getSymbol(),this.quoteMarket, Indicators.convertToTa4JBarSeries(market.getSymbol(),market.getCandles())));\n}\n</code></pre>\n<p>The JInternalFrame class that should be created and visible on the parents desktop pane. The constructor gets called, I can see that in the log section.</p>\n<pre><code>public class Chart extends JInternalFrame {\npublic Chart(String title, String quoteMarket,BarSeries barSeries){\n    System.out.println(&quot;Chart created&quot;);\n    setTitle(title + &quot; &quot; + quoteMarket);\n    setSize(500,500);\n    setMaximizable(true);\n    setIconifiable(true);\n    setClosable(true);\n    setResizable(true);\n    setLayout(new GridLayout(0,1));\n    this.displayChart(title,quoteMarket,barSeries);\n    this.pack();\n    this.show();\n    this.setVisible(true);\n}\n</code></pre>\n"},{"tags":["java","docker","maven","caching","dockerfile"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1487002058,"post_id":42208442,"comment_id":71578057,"body_markdown":"Make a data container which contains the downloaded artifacts...How many modules are you building? How many tests do you run? Cause 20 minutes sounds very long?","body":"Make a data container which contains the downloaded artifacts...How many modules are you building? How many tests do you run? Cause 20 minutes sounds very long?"},{"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"score":0,"creation_date":1487002888,"post_id":42208442,"comment_id":71578600,"body_markdown":"Can you explain what you mean by data container? I thought I would end up with a maven image that had that data. Doesn&#39;t &quot;mvn dependency:go-offline&quot; save those dependencies on the local filesystem?","body":"Can you explain what you mean by data container? I thought I would end up with a maven image that had that data. Doesn&#39;t &quot;mvn dependency:go-offline&quot; save those dependencies on the local filesystem?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1487003514,"post_id":42208442,"comment_id":71579021,"body_markdown":"If you have changes on the local file system those will be thrown away if you restart your container...","body":"If you have changes on the local file system those will be thrown away if you restart your container..."},{"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"score":2,"creation_date":1487003703,"post_id":42208442,"comment_id":71579166,"body_markdown":"I get that, but I&#39;m not talking about a container. I&#39;m talking about the docker build process. My understanding is that the state of the filesystem at the end of docker build is part of the image.","body":"I get that, but I&#39;m not talking about a container. I&#39;m talking about the docker build process. My understanding is that the state of the filesystem at the end of docker build is part of the image."},{"owner":{"account_id":1050176,"reputation":8253,"user_id":1054322,"accept_rate":64,"display_name":"MatrixManAtYrService"},"score":0,"creation_date":1524027330,"post_id":42208442,"comment_id":86798428,"body_markdown":"You might consider this: https://stackoverflow.com/a/49891339/1054322","body":"You might consider this: <a href=\"https://stackoverflow.com/a/49891339/1054322\">stackoverflow.com/a/49891339/1054322</a>"},{"owner":{"account_id":4497676,"reputation":491,"user_id":3657087,"display_name":"andriosr"},"score":0,"creation_date":1531927597,"post_id":42208442,"comment_id":89782502,"body_markdown":"Might be helpful: https://medium.com/pismolabs/reducing-image-sizes-and-caching-maven-dependencies-in-docker-builds-b388d3f7aa88","body":"Might be helpful: <a href=\"https://medium.com/pismolabs/reducing-image-sizes-and-caching-maven-dependencies-in-docker-builds-b388d3f7aa88\" rel=\"nofollow noreferrer\">medium.com/pismolabs/&hellip;</a>"},{"owner":{"account_id":2032571,"reputation":1623,"user_id":1815832,"display_name":"csanchez"},"score":0,"creation_date":1546507069,"post_id":42208442,"comment_id":94874703,"body_markdown":"this will work as you expect as the `VOLUME` declaration was removed since Dec&#39;17 https://github.com/carlossg/docker-maven/pull/57","body":"this will work as you expect as the <code>VOLUME</code> declaration was removed since Dec&#39;17 <a href=\"https://github.com/carlossg/docker-maven/pull/57\" rel=\"nofollow noreferrer\">github.com/carlossg/docker-maven/pull/57</a>"},{"owner":{"account_id":172479,"reputation":2348,"user_id":400544,"accept_rate":83,"display_name":"pgpb.padilla"},"score":0,"creation_date":1629217257,"post_id":42208442,"comment_id":121626614,"body_markdown":"Similar to: https://stackoverflow.com/q/68808252/400544","body":"Similar to: <a href=\"https://stackoverflow.com/q/68808252/400544\">stackoverflow.com/q/68808252/400544</a>"}],"answers":[{"tags":[],"owner":{"account_id":5109832,"reputation":297,"user_id":4096809,"display_name":"vstrom coder"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1487002200,"creation_date":1487002200,"answer_id":42208538,"question_id":42208442,"body_markdown":"If the dependencies are downloaded after the container is already up, then you need to commit the changes on this container and create a new image with the downloaded artifacts.","title":"Maven docker cache dependencies","body":"<p>If the dependencies are downloaded after the container is already up, then you need to commit the changes on this container and create a new image with the downloaded artifacts.</p>\n"},{"tags":[],"owner":{"account_id":1543266,"reputation":1581,"user_id":2938149,"accept_rate":77,"display_name":"Bruno9779"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1487012515,"creation_date":1487012515,"answer_id":42211566,"question_id":42208442,"body_markdown":"I had this issue just a litle while ago. The are many solutions on the web, but the one that worked for me is simply mount a volume for the maven modules directory:\r\n\r\n    mkdir /opt/myvolumes/m2\r\n\r\nthen in the Dockerfile:\r\n\r\n    ...\r\n    VOLUME /opt/myvolumes/m2:/root/.m2\r\n    ...\r\n\r\nThere are better solutions, but not as straightforward.\r\n\r\nThis blog post goes the extra mile in helping you to cache everything:\r\n\r\nhttps://keyholesoftware.com/2015/01/05/caching-for-maven-docker-builds/\r\n\r\n","title":"Maven docker cache dependencies","body":"<p>I had this issue just a litle while ago. The are many solutions on the web, but the one that worked for me is simply mount a volume for the maven modules directory:</p>\n\n<pre><code>mkdir /opt/myvolumes/m2\n</code></pre>\n\n<p>then in the Dockerfile:</p>\n\n<pre><code>...\nVOLUME /opt/myvolumes/m2:/root/.m2\n...\n</code></pre>\n\n<p>There are better solutions, but not as straightforward.</p>\n\n<p>This blog post goes the extra mile in helping you to cache everything:</p>\n\n<p><a href=\"https://keyholesoftware.com/2015/01/05/caching-for-maven-docker-builds/\" rel=\"nofollow noreferrer\">https://keyholesoftware.com/2015/01/05/caching-for-maven-docker-builds/</a></p>\n"},{"tags":[],"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1487017466,"creation_date":1487017466,"answer_id":42212884,"question_id":42208442,"body_markdown":"It turns out the image I&#39;m using as a base has a parent image which defines \r\n\r\n    VOLUME &quot;$USER_HOME_DIR/.m2&quot;\r\n\r\nsee: https://github.com/carlossg/docker-maven/blob/322d0dff5d0531ccaf47bf49338cb3e294fd66c8/jdk-8/Dockerfile\r\n\r\nThe result is that during the build, all the files are written to `$USER_HOME_DIR/.m2`, but because it is expected to be a volume, none of those files are persisted with the container image. \r\n\r\nCurrently in Docker there isn&#39;t any way to unregister that volume definition, so it would be necessary to build a separate maven image, rather than use the official maven image.","title":"Maven docker cache dependencies","body":"<p>It turns out the image I'm using as a base has a parent image which defines </p>\n\n<pre><code>VOLUME \"$USER_HOME_DIR/.m2\"\n</code></pre>\n\n<p>see: <a href=\"https://github.com/carlossg/docker-maven/blob/322d0dff5d0531ccaf47bf49338cb3e294fd66c8/jdk-8/Dockerfile\" rel=\"noreferrer\">https://github.com/carlossg/docker-maven/blob/322d0dff5d0531ccaf47bf49338cb3e294fd66c8/jdk-8/Dockerfile</a></p>\n\n<p>The result is that during the build, all the files are written to <code>$USER_HOME_DIR/.m2</code>, but because it is expected to be a volume, none of those files are persisted with the container image. </p>\n\n<p>Currently in Docker there isn't any way to unregister that volume definition, so it would be necessary to build a separate maven image, rather than use the official maven image.</p>\n"},{"tags":[],"owner":{"account_id":5957847,"reputation":5155,"user_id":4683849,"accept_rate":58,"display_name":"Kim"},"down_vote_count":1,"up_vote_count":68,"is_accepted":false,"score":67,"last_activity_date":1564068971,"creation_date":1504162883,"answer_id":45975194,"question_id":42208442,"body_markdown":"Usually, there&#39;s no change in `pom.xml` file but just some other source code changes when you&#39;re attempting to start docker image build. In such circumstance you can do this:\r\n\r\n&lt;b&gt;FYI:&lt;/b&gt;\r\n    \r\n    FROM maven:3-jdk-8\r\n    \r\n    ENV HOME=/home/usr/app\r\n    \r\n    RUN mkdir -p $HOME\r\n    \r\n    WORKDIR $HOME\r\n    \r\n    # 1. add pom.xml only here\r\n\r\n    ADD pom.xml $HOME\r\n    \r\n    # 2. start downloading dependencies\r\n\r\n    RUN [&quot;/usr/local/bin/mvn-entrypoint.sh&quot;, &quot;mvn&quot;, &quot;verify&quot;, &quot;clean&quot;, &quot;--fail-never&quot;]\r\n\r\n    # 3. add all source code and start compiling\r\n    \r\n    ADD . $HOME\r\n    \r\n    RUN [&quot;mvn&quot;, &quot;package&quot;]\r\n    \r\n    EXPOSE 8005\r\n    \r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/dist.jar&quot;]\r\n\r\nSo the key is: \r\n\r\n1. add `pom.xml` file.\r\n\r\n2. then `mvn verify --fail-never` it, it will download maven dependencies.\r\n\r\n3. add all your source file then, and start your compilation(`mvn package`).\r\n\r\n**When there are changes in your `pom.xml` file or you are running this script for the first time, docker will do 1 -&gt; 2 -&gt; 3. When there are no changes in `pom.xml` file, docker will skip step 1、2 and do 3 directly.**\r\n\r\nThis simple trick can be used in many other package management circumstances(gradle、yarn、npm、pip).\r\n\r\n**Edit:**\r\n\r\nYou should also consider using `mvn dependency:resolve` or `mvn dependency:go-offline` accordingly as other comments &amp; answers suggest.","title":"Maven docker cache dependencies","body":"<p>Usually, there's no change in <code>pom.xml</code> file but just some other source code changes when you're attempting to start docker image build. In such circumstance you can do this:</p>\n\n<p><b>FYI:</b></p>\n\n<pre><code>FROM maven:3-jdk-8\n\nENV HOME=/home/usr/app\n\nRUN mkdir -p $HOME\n\nWORKDIR $HOME\n\n# 1. add pom.xml only here\n\nADD pom.xml $HOME\n\n# 2. start downloading dependencies\n\nRUN [\"/usr/local/bin/mvn-entrypoint.sh\", \"mvn\", \"verify\", \"clean\", \"--fail-never\"]\n\n# 3. add all source code and start compiling\n\nADD . $HOME\n\nRUN [\"mvn\", \"package\"]\n\nEXPOSE 8005\n\nCMD [\"java\", \"-jar\", \"./target/dist.jar\"]\n</code></pre>\n\n<p>So the key is: </p>\n\n<ol>\n<li><p>add <code>pom.xml</code> file.</p></li>\n<li><p>then <code>mvn verify --fail-never</code> it, it will download maven dependencies.</p></li>\n<li><p>add all your source file then, and start your compilation(<code>mvn package</code>).</p></li>\n</ol>\n\n<p><strong>When there are changes in your <code>pom.xml</code> file or you are running this script for the first time, docker will do 1 -> 2 -> 3. When there are no changes in <code>pom.xml</code> file, docker will skip step 1、2 and do 3 directly.</strong></p>\n\n<p>This simple trick can be used in many other package management circumstances(gradle、yarn、npm、pip).</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>You should also consider using <code>mvn dependency:resolve</code> or <code>mvn dependency:go-offline</code> accordingly as other comments &amp; answers suggest.</p>\n"},{"tags":[],"owner":{"account_id":297392,"reputation":817,"user_id":602899,"display_name":"Filip Proch&#225;zka"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527089304,"creation_date":1527087165,"answer_id":50491489,"question_id":42208442,"body_markdown":"@Kim is closest, but it&#39;s not quite there yet. I don&#39;t think adding `--fail-never` is correct, even through it get&#39;s the job done.\r\n\r\nThe `verify` command causes a lot of plugins to execute which is a problem (for me) - I don&#39;t think they should be executing when all I want is to install dependencies! I also have a multi-module build and a javascript sub-build so this further complicates the setup.\r\n\r\nBut running only `verify` is not enough, because if you run `install` in the following commands, there will be more plugins used - which means more dependencies to download - maven refuses to download them otherwise. Relevant read: [Maven: Introduction to the Build Lifecycle][1]\r\n\r\nYou basically have to find what properties disable each plugin and add them one-by-one, so they don&#39;t break your build.\r\n\r\n    WORKDIR /srv\r\n    \r\n    # cache Maven dependencies\r\n    ADD cli/pom.xml /srv/cli/\r\n    ADD core/pom.xml /srv/core/\r\n    ADD parent/pom.xml /srv/parent/\r\n    ADD rest-api/pom.xml /srv/rest-api/\r\n    ADD web-admin/pom.xml /srv/web-admin/\r\n    ADD pom.xml /srv/\r\n    RUN mvn -B clean install -DskipTests -Dcheckstyle.skip -Dasciidoctor.skip -Djacoco.skip -Dmaven.gitcommitid.skip -Dspring-boot.repackage.skip -Dmaven.exec.skip=true -Dmaven.install.skip -Dmaven.resources.skip\r\n    \r\n    # cache YARN dependencies\r\n    ADD ./web-admin/package.json ./web-admin/yarn.lock /srv/web-admin/\r\n    RUN yarn --non-interactive --frozen-lockfile --no-progress --cwd /srv/web-admin install\r\n\r\n    # build the project\r\n    ADD . /srv\r\n    RUN mvn -B clean install\r\n\r\nbut some plugins are not that easily skipped - I&#39;m not a maven expert (so I don&#39;t know why it ignores the cli option - it might be a bug), but the following works as expected for `org.codehaus.mojo:exec-maven-plugin`\r\n\r\n    &lt;project&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.exec.skip&gt;false&lt;/maven.exec.skip&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.3.2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;yarn install&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;exec&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;initialize&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;executable&gt;yarn&lt;/executable&gt;\r\n                                &lt;arguments&gt;\r\n                                    &lt;argument&gt;install&lt;/argument&gt;\r\n                                &lt;/arguments&gt;\r\n                                &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;yarn run build&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;exec&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;executable&gt;yarn&lt;/executable&gt;\r\n                                &lt;arguments&gt;\r\n                                    &lt;argument&gt;run&lt;/argument&gt;\r\n                                    &lt;argument&gt;build&lt;/argument&gt;\r\n                                &lt;/arguments&gt;\r\n                                &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nplease notice the explicit `&lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;` - other plugins pick this up from the cli params but not this one (neither `-Dmaven.exec.skip=true` nor `-Dexec.skip=true` work by itself)\r\n\r\nHope this helps\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"Maven docker cache dependencies","body":"<p>@Kim is closest, but it's not quite there yet. I don't think adding <code>--fail-never</code> is correct, even through it get's the job done.</p>\n\n<p>The <code>verify</code> command causes a lot of plugins to execute which is a problem (for me) - I don't think they should be executing when all I want is to install dependencies! I also have a multi-module build and a javascript sub-build so this further complicates the setup.</p>\n\n<p>But running only <code>verify</code> is not enough, because if you run <code>install</code> in the following commands, there will be more plugins used - which means more dependencies to download - maven refuses to download them otherwise. Relevant read: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">Maven: Introduction to the Build Lifecycle</a></p>\n\n<p>You basically have to find what properties disable each plugin and add them one-by-one, so they don't break your build.</p>\n\n<pre><code>WORKDIR /srv\n\n# cache Maven dependencies\nADD cli/pom.xml /srv/cli/\nADD core/pom.xml /srv/core/\nADD parent/pom.xml /srv/parent/\nADD rest-api/pom.xml /srv/rest-api/\nADD web-admin/pom.xml /srv/web-admin/\nADD pom.xml /srv/\nRUN mvn -B clean install -DskipTests -Dcheckstyle.skip -Dasciidoctor.skip -Djacoco.skip -Dmaven.gitcommitid.skip -Dspring-boot.repackage.skip -Dmaven.exec.skip=true -Dmaven.install.skip -Dmaven.resources.skip\n\n# cache YARN dependencies\nADD ./web-admin/package.json ./web-admin/yarn.lock /srv/web-admin/\nRUN yarn --non-interactive --frozen-lockfile --no-progress --cwd /srv/web-admin install\n\n# build the project\nADD . /srv\nRUN mvn -B clean install\n</code></pre>\n\n<p>but some plugins are not that easily skipped - I'm not a maven expert (so I don't know why it ignores the cli option - it might be a bug), but the following works as expected for <code>org.codehaus.mojo:exec-maven-plugin</code></p>\n\n<pre><code>&lt;project&gt;\n    &lt;properties&gt;\n        &lt;maven.exec.skip&gt;false&lt;/maven.exec.skip&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.3.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;yarn install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;initialize&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;executable&gt;yarn&lt;/executable&gt;\n                            &lt;arguments&gt;\n                                &lt;argument&gt;install&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                            &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;yarn run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;executable&gt;yarn&lt;/executable&gt;\n                            &lt;arguments&gt;\n                                &lt;argument&gt;run&lt;/argument&gt;\n                                &lt;argument&gt;build&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                            &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>please notice the explicit <code>&lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;</code> - other plugins pick this up from the cli params but not this one (neither <code>-Dmaven.exec.skip=true</code> nor <code>-Dexec.skip=true</code> work by itself)</p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":340518,"reputation":496,"user_id":5125817,"display_name":"ikandars"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539564523,"creation_date":1539563853,"answer_id":52808343,"question_id":42208442,"body_markdown":"Similar with @Kim answer but I use `dependency:resolve` mvn command. So here&#39;s my complete Dockerfile:\r\n\r\n    FROM maven:3.5.0-jdk-8-alpine\r\n\r\n    WORKDIR /usr/src/app\r\n    \r\n    # First copy only the pom file. This is the file with less change\r\n    COPY ./pom.xml .\r\n\r\n    # Download the package and make it cached in docker image\r\n    RUN mvn -B -f ./pom.xml -s /usr/share/maven/ref/settings-docker.xml dependency:resolve\r\n\r\n    # Copy the actual code\r\n    COPY ./ .\r\n\r\n    # Then build the code\r\n    RUN mvn -B -f ./pom.xml -s /usr/share/maven/ref/settings-docker.xml package\r\n\r\n    # The rest is same as usual\r\n    EXPOSE 8888\r\n\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/YOUR-APP.jar&quot;]","title":"Maven docker cache dependencies","body":"<p>Similar with @Kim answer but I use <code>dependency:resolve</code> mvn command. So here's my complete Dockerfile:</p>\n\n<pre><code>FROM maven:3.5.0-jdk-8-alpine\n\nWORKDIR /usr/src/app\n\n# First copy only the pom file. This is the file with less change\nCOPY ./pom.xml .\n\n# Download the package and make it cached in docker image\nRUN mvn -B -f ./pom.xml -s /usr/share/maven/ref/settings-docker.xml dependency:resolve\n\n# Copy the actual code\nCOPY ./ .\n\n# Then build the code\nRUN mvn -B -f ./pom.xml -s /usr/share/maven/ref/settings-docker.xml package\n\n# The rest is same as usual\nEXPOSE 8888\n\nCMD [\"java\", \"-jar\", \"./target/YOUR-APP.jar\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269882,"reputation":1247,"user_id":559495,"display_name":"Krzysztof Czelusniak"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555103712,"creation_date":1553792656,"answer_id":55403241,"question_id":42208442,"body_markdown":"I don&#39;t think the other answers here are optimal. For example, the [`mvn verify`][1] answer executes the following phases, and does a lot more than just resolving dependencies:\n\n&gt; validate - validate the project is correct and all necessary information is available\n&gt;\n&gt; compile - compile the source code of the project\n&gt;\n&gt; test - test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed\n&gt;\n&gt; package - take the compiled code and package it in its distributable format, such as a JAR.\n&gt;\n&gt; verify - run any checks on results of integration tests to ensure quality criteria are met\n\nAll of these phases and their associated goals don&#39;t need to be ran if you only want to resolve dependencies.\n\nIf you only want to resolve dependencies, you can use the [`dependency:go-offline`][2] goal:\n\n    FROM maven:3-jdk-12\n    WORKDIR /tmp/example/\n\n    COPY pom.xml .\n    RUN mvn dependency:go-offline\n\n    COPY src/ src/\n    RUN mvn package\n\n\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#A_Build_Lifecycle_is_Made_Up_of_Phases\n  [2]: https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html","title":"Maven docker cache dependencies","body":"<p>I don't think the other answers here are optimal. For example, the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#A_Build_Lifecycle_is_Made_Up_of_Phases\" rel=\"noreferrer\"><code>mvn verify</code></a> answer executes the following phases, and does a lot more than just resolving dependencies:</p>\n<blockquote>\n<p>validate - validate the project is correct and all necessary information is available</p>\n<p>compile - compile the source code of the project</p>\n<p>test - test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed</p>\n<p>package - take the compiled code and package it in its distributable format, such as a JAR.</p>\n<p>verify - run any checks on results of integration tests to ensure quality criteria are met</p>\n</blockquote>\n<p>All of these phases and their associated goals don't need to be ran if you only want to resolve dependencies.</p>\n<p>If you only want to resolve dependencies, you can use the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html\" rel=\"noreferrer\"><code>dependency:go-offline</code></a> goal:</p>\n<pre><code>FROM maven:3-jdk-12\nWORKDIR /tmp/example/\n\nCOPY pom.xml .\nRUN mvn dependency:go-offline\n\nCOPY src/ src/\nRUN mvn package\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11342404,"reputation":307,"user_id":8315994,"display_name":"Calvin Zhou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557395352,"creation_date":1557395352,"answer_id":56056728,"question_id":42208442,"body_markdown":"After a few days of struggling, I managed to do this caching later using intermediate contrainer, and I&#39;d like to summarize my findings here as this topic is so useful and being frequently shown in Google search frontpage:\r\n\r\n1. Kim&#39;s answer is only working to a certain condition: pom.xml cannot be changed, plus Maven do a regular update daily basis by default\r\n2. mvn dependency:go-offline -B --fail-never has a similar drawback, so if you need to pull fresh code from repo, high chances are Maven will trigger a full checkout every time \r\n3. Mount volume is not working as well because we need to resolve the dependencies during image being built \r\n4. Finally, I have a workable solution combined(May be not working to others):\r\n- Build an image to resolve all the dependencies first(Not intermediate image)\r\n- Create another Dockerfile with intermediate image, sample dockerfiles like this: \r\n\r\n```#dependencies.dockerfile\r\n#docker build -t dependencies .\r\nFrom ubuntu\r\nCOPY pom.xml pom.xml\r\nRUN mvn dependency:go-offline -B --fail-never\r\n```\r\n```#package.dockerfile\r\nFrom dependencies as intermediate\r\n\r\nFrom tomcat\r\nRUN git pull repo.git (whatsoever)\r\nRUN mvn package\r\n```\r\n\r\nThe idea is to keep all the dependencies in a different image that Maven can use immediately \r\n\r\nIt could be other scenarios I haven&#39;t encountered yet, but this solution relief me a bit from download 3GB rubbish every time\r\nI cannot imagine why Java became such a fat whale in today&#39;s lean world ","title":"Maven docker cache dependencies","body":"<p>After a few days of struggling, I managed to do this caching later using intermediate contrainer, and I'd like to summarize my findings here as this topic is so useful and being frequently shown in Google search frontpage:</p>\n\n<ol>\n<li>Kim's answer is only working to a certain condition: pom.xml cannot be changed, plus Maven do a regular update daily basis by default</li>\n<li>mvn dependency:go-offline -B --fail-never has a similar drawback, so if you need to pull fresh code from repo, high chances are Maven will trigger a full checkout every time </li>\n<li>Mount volume is not working as well because we need to resolve the dependencies during image being built </li>\n<li>Finally, I have a workable solution combined(May be not working to others):\n\n<ul>\n<li>Build an image to resolve all the dependencies first(Not intermediate image)</li>\n<li>Create another Dockerfile with intermediate image, sample dockerfiles like this: </li>\n</ul></li>\n</ol>\n\n<pre><code>#docker build -t dependencies .\nFrom ubuntu\nCOPY pom.xml pom.xml\nRUN mvn dependency:go-offline -B --fail-never\n</code></pre>\n\n<pre><code>From dependencies as intermediate\n\nFrom tomcat\nRUN git pull repo.git (whatsoever)\nRUN mvn package\n</code></pre>\n\n<p>The idea is to keep all the dependencies in a different image that Maven can use immediately </p>\n\n<p>It could be other scenarios I haven't encountered yet, but this solution relief me a bit from download 3GB rubbish every time\nI cannot imagine why Java became such a fat whale in today's lean world </p>\n"},{"tags":[],"owner":{"account_id":189124,"reputation":2471,"user_id":428272,"accept_rate":50,"display_name":"Omri Spector"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1566831263,"creation_date":1566831263,"answer_id":57660331,"question_id":42208442,"body_markdown":"There are two ways to cache maven dependencies:\r\n\r\n 1. Execute &quot;mvn verify&quot; as part of a container execution, NOT build, and make sure you mount .m2 from a volume.\r\n\r\n  This is efficient but it does not play well with cloud build and multiple build slaves\r\n 2. Use a &quot;dependencies cache container&quot;, and update it periodically. Here is how:\r\n\r\n a. Create a Dockerfile that copies the pom and build offline dependencies:\r\n\r\n        FROM maven:3.5.3-jdk-8-alpine\r\n        WORKDIR /build\r\n        COPY pom.xml .\r\n        RUN mvn dependency:go-offline\r\n b. Build it periodically (e.g. nightly) as &quot;Deps:latest&quot;\r\n\r\n c. Create another Dockerfile to actually build the system per commit (preferably use multi-stage) - and make sure it is FROM Deps.\r\n\r\nUsing this system you will have fast, reconstruct-able builds with a mostly good-enough cache.\r\n\r\n","title":"Maven docker cache dependencies","body":"<p>There are two ways to cache maven dependencies:</p>\n\n<ol>\n<li><p>Execute \"mvn verify\" as part of a container execution, NOT build, and make sure you mount .m2 from a volume.</p>\n\n<p>This is efficient but it does not play well with cloud build and multiple build slaves</p></li>\n<li><p>Use a \"dependencies cache container\", and update it periodically. Here is how:</p>\n\n<p>a. Create a Dockerfile that copies the pom and build offline dependencies:</p>\n\n<pre><code>FROM maven:3.5.3-jdk-8-alpine\nWORKDIR /build\nCOPY pom.xml .\nRUN mvn dependency:go-offline\n</code></pre>\n\n<p>b. Build it periodically (e.g. nightly) as \"Deps:latest\"</p>\n\n<p>c. Create another Dockerfile to actually build the system per commit (preferably use multi-stage) - and make sure it is FROM Deps.</p></li>\n</ol>\n\n<p>Using this system you will have fast, reconstruct-able builds with a mostly good-enough cache.</p>\n"},{"tags":[],"owner":{"account_id":4887223,"reputation":2488,"user_id":3939318,"accept_rate":86,"display_name":"Farzad Vertigo"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1626784952,"creation_date":1567569966,"answer_id":57781332,"question_id":42208442,"body_markdown":"### Using BuildKit\r\n\r\nFrom `Docker v18.03` onwards you can use [BuildKit](https://docs.docker.com/develop/develop-images/build_enhancements/) instead of volumes that were mentioned in the other answers. It allows mounting caches that can persist between builds and you can avoid downloading contents of the corresponding `.m2/repository` every time. \r\n\r\nAssuming that the Dockerfile is in the root of your project:\r\n\r\n    # syntax = docker/dockerfile:1.0-experimental\r\n    \r\n    FROM maven:3.6.0-jdk-11-slim AS build\r\n    COPY . /home/build\r\n    RUN mkdir /home/.m2\r\n    WORKDIR /home/.m2\r\n    USER root\r\n    RUN --mount=type=cache,target=/root/.m2 mvn -f /home/build/pom.xml clean compile\r\n\r\n`target=/root/.m2` mounts cache to the specified place in maven image Dockerfile [docs](https://hub.docker.com/_/maven).\r\n\r\nFor building you can run the following command:\r\n\r\n    DOCKER_BUILDKIT=1 docker build --rm --no-cache  .   \r\n\r\nMore info on BuildKit can be found [here](https://github.com/moby/buildkit/blob/master/frontend/dockerfile/docs/syntax.md).\r\n\r\n\r\n","title":"Maven docker cache dependencies","body":"<h3 id=\"using-buildkit-6mku\">Using BuildKit</h3>\n<p>From <code>Docker v18.03</code> onwards you can use <a href=\"https://docs.docker.com/develop/develop-images/build_enhancements/\" rel=\"noreferrer\">BuildKit</a> instead of volumes that were mentioned in the other answers. It allows mounting caches that can persist between builds and you can avoid downloading contents of the corresponding <code>.m2/repository</code> every time.</p>\n<p>Assuming that the Dockerfile is in the root of your project:</p>\n<pre><code># syntax = docker/dockerfile:1.0-experimental\n\nFROM maven:3.6.0-jdk-11-slim AS build\nCOPY . /home/build\nRUN mkdir /home/.m2\nWORKDIR /home/.m2\nUSER root\nRUN --mount=type=cache,target=/root/.m2 mvn -f /home/build/pom.xml clean compile\n</code></pre>\n<p><code>target=/root/.m2</code> mounts cache to the specified place in maven image Dockerfile <a href=\"https://hub.docker.com/_/maven\" rel=\"noreferrer\">docs</a>.</p>\n<p>For building you can run the following command:</p>\n<pre><code>DOCKER_BUILDKIT=1 docker build --rm --no-cache  .   \n</code></pre>\n<p>More info on BuildKit can be found <a href=\"https://github.com/moby/buildkit/blob/master/frontend/dockerfile/docs/syntax.md\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2087167,"reputation":400,"user_id":1857860,"accept_rate":60,"display_name":"Valevalorin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583951203,"creation_date":1583951203,"answer_id":60642407,"question_id":42208442,"body_markdown":"I think the general game plan presented among the other answers is the right idea:\r\n\r\n 1. Copy pom.xml\r\n 2. Get dependencies\r\n 3. Copy source\r\n 4. Build \r\n\r\nHowever, exactly how you do step #2 is the real key. For me, using the same command I used for building to fetch dependencies was the right solution:\r\n\r\n    FROM java/java:latest\r\n    \r\n    # Work dir\r\n    WORKDIR /app\r\n    RUN mkdir -p .\r\n    # Copy pom and get dependencies\r\n    COPY pom.xml pom.xml\r\n    RUN mvn -Dmaven.repo.local=./.m2 install assembly:single\r\n    \r\n    # Copy and build source\r\n    COPY . .\r\n    RUN mvn -Dmaven.repo.local=./.m2 install assembly:single\r\n\r\nAny other command used to fetch dependencies resulted in many things needing to be download during the build step. It makes sense the running the exact command you plan on running will you get you the closest to everything you need to actually run that command.","title":"Maven docker cache dependencies","body":"<p>I think the general game plan presented among the other answers is the right idea:</p>\n\n<ol>\n<li>Copy pom.xml</li>\n<li>Get dependencies</li>\n<li>Copy source</li>\n<li>Build </li>\n</ol>\n\n<p>However, exactly how you do step #2 is the real key. For me, using the same command I used for building to fetch dependencies was the right solution:</p>\n\n<pre><code>FROM java/java:latest\n\n# Work dir\nWORKDIR /app\nRUN mkdir -p .\n# Copy pom and get dependencies\nCOPY pom.xml pom.xml\nRUN mvn -Dmaven.repo.local=./.m2 install assembly:single\n\n# Copy and build source\nCOPY . .\nRUN mvn -Dmaven.repo.local=./.m2 install assembly:single\n</code></pre>\n\n<p>Any other command used to fetch dependencies resulted in many things needing to be download during the build step. It makes sense the running the exact command you plan on running will you get you the closest to everything you need to actually run that command.</p>\n"},{"tags":[],"owner":{"account_id":15686480,"reputation":1043,"user_id":11319016,"display_name":"aballaci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591106323,"creation_date":1591065500,"answer_id":62143925,"question_id":42208442,"body_markdown":"A local Nexus 3 Image running in Docker and acting as a local Proxy is an acceptable solution:\r\n\r\nThe idea is similar to Dockerize an apt-cacher-ng service [apt-cacher-ng](https://docs.docker.com/engine/examples/apt-cacher-ng/)\r\n\r\nhere you can find a comprehensive step by step. [github repo](https://github.com/aballaci/maven-docker-proxy)\r\n\r\nIts really fast.\r\n","title":"Maven docker cache dependencies","body":"<p>A local Nexus 3 Image running in Docker and acting as a local Proxy is an acceptable solution:</p>\n\n<p>The idea is similar to Dockerize an apt-cacher-ng service <a href=\"https://docs.docker.com/engine/examples/apt-cacher-ng/\" rel=\"nofollow noreferrer\">apt-cacher-ng</a></p>\n\n<p>here you can find a comprehensive step by step. <a href=\"https://github.com/aballaci/maven-docker-proxy\" rel=\"nofollow noreferrer\">github repo</a></p>\n\n<p>Its really fast.</p>\n"},{"tags":[],"owner":{"account_id":71015,"reputation":5191,"user_id":205463,"accept_rate":71,"display_name":"Vahid Hashemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613556370,"creation_date":1613556370,"answer_id":66239723,"question_id":42208442,"body_markdown":"Another Solution would be using a repository manger such as Sonar Nexus or Artifactory. You can set a maven proxy inside the registry then use the registry as your source of maven repositories.","title":"Maven docker cache dependencies","body":"<p>Another Solution would be using a repository manger such as Sonar Nexus or Artifactory. You can set a maven proxy inside the registry then use the registry as your source of maven repositories.</p>\n"},{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644523746,"creation_date":1644500428,"answer_id":71066133,"question_id":42208442,"body_markdown":"I had to deal with the same issue.\r\n\r\nUnfortunately, as just said by another contributor, `dependency:go-offline` and the other goals, don&#39;t fully solve the problem: many dependencies are not downloaded.\r\n\r\nI found a working solution as follow.\r\n\r\n```dockerfile\r\n# Cache dependencies\r\n\r\nADD settings.xml .\r\nADD pom.xml .\r\n\r\nRUN mvn -B -s settings.xml -Ddocker.build.skip=true package test\r\n\r\n# Build artifact\r\n\r\nADD src .\r\nRUN mvn -B -s settings.xml -DskipTests package\r\n```\r\n\r\nThe trick is to do a full build without sources, which produces a full dependency scan.\r\n\r\nIn order to avoid errors on some plugins (for example: **OpenAPI maven generator plugin** or **Spring Boot maven plugin**) I had to skip its goals, but letting it to download all the dependencies by adding for each one a configuration settings like follow:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;skip&gt;${docker.build.skip}&lt;/skip&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nRegards.","title":"Maven docker cache dependencies","body":"<p>I had to deal with the same issue.</p>\n<p>Unfortunately, as just said by another contributor, <code>dependency:go-offline</code> and the other goals, don't fully solve the problem: many dependencies are not downloaded.</p>\n<p>I found a working solution as follow.</p>\n<pre><code># Cache dependencies\n\nADD settings.xml .\nADD pom.xml .\n\nRUN mvn -B -s settings.xml -Ddocker.build.skip=true package test\n\n# Build artifact\n\nADD src .\nRUN mvn -B -s settings.xml -DskipTests package\n</code></pre>\n<p>The trick is to do a full build without sources, which produces a full dependency scan.</p>\n<p>In order to avoid errors on some plugins (for example: <strong>OpenAPI maven generator plugin</strong> or <strong>Spring Boot maven plugin</strong>) I had to skip its goals, but letting it to download all the dependencies by adding for each one a configuration settings like follow:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;skip&gt;${docker.build.skip}&lt;/skip&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":3613538,"reputation":31,"user_id":3013994,"display_name":"pesso82"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658739962,"creation_date":1658669525,"answer_id":73098845,"question_id":42208442,"body_markdown":"Here my working solution.\r\nThe tricks are:\r\n\r\n- use docker multi-stage build\r\n- don&#39;t copy the project source in the image created in the first stage, but only pom (or poms in case your project is multi-module)\r\n\r\nHere my solution for a multi-module project using openjdk11\r\n\r\n    ## stage 1\r\n    FROM adoptopenjdk/maven-openjdk11 as dependencies\r\n    ENV HOME=/usr/maven\r\n    ENV MVN_REPO=/usr/maven/.m3/repository\r\n    RUN mkdir -p $HOME\r\n    RUN mkdir -p $MVN_REPO\r\n    WORKDIR $HOME\r\n    ## copy all pom files of the modules tree with the same directory tree of the project\r\n    #reactor\r\n    ADD pom.xml $HOME\r\n    ## api module\r\n    RUN mkdir -p $HOME/api\r\n    ADD api/pom.xml $HOME/api\r\n    ## application module\r\n    RUN mkdir -p $HOME/application\r\n    ADD application/pom.xml $HOME/application\r\n    ## domain module\r\n    RUN mkdir -p $HOME/domain\r\n    ADD domain/pom.xml $HOME/domain\r\n    ## service module\r\n    RUN mkdir -p $HOME/service\r\n    ADD service/pom.xml $HOME/service\r\n\r\n    ## download all dependencies in this docker image. The goal &quot;test&quot; is needed to avoid download of dependencies with &lt;scope&gt;test&lt;/scope&gt; in the second stage\r\n    RUN mvn -Dmaven.repo.local=$MVN_REPO dependency:go-offline test\r\n    \r\n    ## stage 2\r\n    FROM adoptopenjdk/maven-openjdk11 as executable\r\n    ENV APP_HOME=/usr/app\r\n    ENV MVN_REPO=/usr/maven/.m3/repository\r\n    ENV APP_MVN_REPO=$MVN_REPO\r\n    RUN mkdir -p $APP_HOME\r\n    RUN mkdir -p $APP_MVN_REPO\r\n    WORKDIR $APP_HOME\r\n    ADD . $APP_HOME\r\n    ## copy the dependecies tree from &quot;stage 1&quot; dependencies image to this image\r\n    COPY --from=dependencies $MVN_REPO $APP_MVN_REPO\r\n    ## package the application, skipping test\r\n    RUN mvn -Dmaven.repo.local=$APP_MVN_REPO package -DskipTests\r\n    ## set ENV values\r\n    ENV NAME=VALUE\r\n\r\n    ## copy the jar in the WORKDIR folder\r\n    RUN cp $APP_HOME/application/target/*.jar $APP_HOME/my-final-jar-0.0.1-SNAPSHOT.jar\r\n    EXPOSE 8080\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;/usr/app/my-final-jar-0.0.1-SNAPSHOT.jar&quot; ,&quot;--spring.profiles.active=docker&quot;]","title":"Maven docker cache dependencies","body":"<p>Here my working solution.\nThe tricks are:</p>\n<ul>\n<li>use docker multi-stage build</li>\n<li>don't copy the project source in the image created in the first stage, but only pom (or poms in case your project is multi-module)</li>\n</ul>\n<p>Here my solution for a multi-module project using openjdk11</p>\n<pre><code>## stage 1\nFROM adoptopenjdk/maven-openjdk11 as dependencies\nENV HOME=/usr/maven\nENV MVN_REPO=/usr/maven/.m3/repository\nRUN mkdir -p $HOME\nRUN mkdir -p $MVN_REPO\nWORKDIR $HOME\n## copy all pom files of the modules tree with the same directory tree of the project\n#reactor\nADD pom.xml $HOME\n## api module\nRUN mkdir -p $HOME/api\nADD api/pom.xml $HOME/api\n## application module\nRUN mkdir -p $HOME/application\nADD application/pom.xml $HOME/application\n## domain module\nRUN mkdir -p $HOME/domain\nADD domain/pom.xml $HOME/domain\n## service module\nRUN mkdir -p $HOME/service\nADD service/pom.xml $HOME/service\n\n## download all dependencies in this docker image. The goal &quot;test&quot; is needed to avoid download of dependencies with &lt;scope&gt;test&lt;/scope&gt; in the second stage\nRUN mvn -Dmaven.repo.local=$MVN_REPO dependency:go-offline test\n\n## stage 2\nFROM adoptopenjdk/maven-openjdk11 as executable\nENV APP_HOME=/usr/app\nENV MVN_REPO=/usr/maven/.m3/repository\nENV APP_MVN_REPO=$MVN_REPO\nRUN mkdir -p $APP_HOME\nRUN mkdir -p $APP_MVN_REPO\nWORKDIR $APP_HOME\nADD . $APP_HOME\n## copy the dependecies tree from &quot;stage 1&quot; dependencies image to this image\nCOPY --from=dependencies $MVN_REPO $APP_MVN_REPO\n## package the application, skipping test\nRUN mvn -Dmaven.repo.local=$APP_MVN_REPO package -DskipTests\n## set ENV values\nENV NAME=VALUE\n\n## copy the jar in the WORKDIR folder\nRUN cp $APP_HOME/application/target/*.jar $APP_HOME/my-final-jar-0.0.1-SNAPSHOT.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;/usr/app/my-final-jar-0.0.1-SNAPSHOT.jar&quot; ,&quot;--spring.profiles.active=docker&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27749937,"reputation":1,"user_id":21184536,"display_name":"MangYudh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017134,"creation_date":1676001318,"answer_id":75406779,"question_id":42208442,"body_markdown":"This one did the trick very well for me:\r\n\r\nedit config.toml \r\n\r\n    [runner.docker]\r\n    ...\r\n    volumes = [&quot;/cache&quot;,&quot;m2:/root/.m2&quot;]\r\n    ...\r\n\r\nit will create &quot;m2&quot; volume that will persists across builds and you guys knows the rest :)\r\n ","title":"Maven docker cache dependencies","body":"<p>This one did the trick very well for me:</p>\n<p>edit config.toml</p>\n<pre><code>[runner.docker]\n...\nvolumes = [&quot;/cache&quot;,&quot;m2:/root/.m2&quot;]\n...\n</code></pre>\n<p>it will create &quot;m2&quot; volume that will persists across builds and you guys knows the rest :)</p>\n"}],"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68288,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":16,"score":72,"last_activity_date":1676017134,"creation_date":1487001964,"question_id":42208442,"body_markdown":"I&#39;m trying to use docker to automate maven builds. The project I want to build takes nearly 20 minutes to download all the dependencies, so I tried to build a docker image that would cache these dependencies, but it doesn&#39;t seem to save it. My Dockerfile is\r\n\r\n    FROM maven:alpine\r\n    RUN mkdir -p /usr/src/app\r\n    WORKDIR /usr/src/app\r\n    ADD pom.xml /usr/src/app\r\n    RUN mvn dependency:go-offline\r\n\r\nThe image builds, and it does download everything. However, the resulting image is the same size as the base `maven:alpine` image, so it doesn&#39;t seem to have cached the dependencies in the image. When I try to use the image to `mvn compile` it goes through the full 20 minutes of redownloading everything.\r\n\r\nIs it possible to build a maven image that caches my dependencies so they don&#39;t have to download everytime I use the image to perform a build?\r\n\r\nI&#39;m running the following commands:\r\n\r\n    docker build -t my-maven .\r\n\r\n    docker run -it --rm --name my-maven-project -v &quot;$PWD&quot;:/usr/src/mymaven -w /usr/src/mymaven my-maven mvn compile\r\n\r\nMy understanding is that whatever `RUN` does during the docker build process becomes part of the resulting image.","title":"Maven docker cache dependencies","body":"<p>I'm trying to use docker to automate maven builds. The project I want to build takes nearly 20 minutes to download all the dependencies, so I tried to build a docker image that would cache these dependencies, but it doesn't seem to save it. My Dockerfile is</p>\n\n<pre><code>FROM maven:alpine\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\nADD pom.xml /usr/src/app\nRUN mvn dependency:go-offline\n</code></pre>\n\n<p>The image builds, and it does download everything. However, the resulting image is the same size as the base <code>maven:alpine</code> image, so it doesn't seem to have cached the dependencies in the image. When I try to use the image to <code>mvn compile</code> it goes through the full 20 minutes of redownloading everything.</p>\n\n<p>Is it possible to build a maven image that caches my dependencies so they don't have to download everytime I use the image to perform a build?</p>\n\n<p>I'm running the following commands:</p>\n\n<pre><code>docker build -t my-maven .\n\ndocker run -it --rm --name my-maven-project -v \"$PWD\":/usr/src/mymaven -w /usr/src/mymaven my-maven mvn compile\n</code></pre>\n\n<p>My understanding is that whatever <code>RUN</code> does during the docker build process becomes part of the resulting image.</p>\n"},{"tags":["java","websocket","signalr"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676026460,"post_id":75408492,"comment_id":133058736,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24276369,"reputation":11,"user_id":18223622,"display_name":"Funkjus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676017125,"creation_date":1676017125,"question_id":75408492,"body_markdown":"I have a client server application. The server is on .core 6.0 and WinForm clients connect to it via SignalR. I want to re-release the same server in Java only. Is it possible to configure a java websocket to behave like a SignalR server on dot.net so that I can connect to it from my Winform SignalR clients? And how to do it?\r\n\r\n\r\nI tried to look in the Microsoft documentation[ https://learn.microsoft.com/en-us/aspnet/core/signalr/java-client?view=aspnetcore-7.0](https://www.stackoverflow.com/), but I understand that this is a solution how to organize a java client and not a server part","title":"How to accept a SignalR client connection on a Java websocket server and call client methods?","body":"<p>I have a client server application. The server is on .core 6.0 and WinForm clients connect to it via SignalR. I want to re-release the same server in Java only. Is it possible to configure a java websocket to behave like a SignalR server on dot.net so that I can connect to it from my Winform SignalR clients? And how to do it?</p>\n<p>I tried to look in the Microsoft documentation<a href=\"https://www.stackoverflow.com/\"> https://learn.microsoft.com/en-us/aspnet/core/signalr/java-client?view=aspnetcore-7.0</a>, but I understand that this is a solution how to organize a java client and not a server part</p>\n"},{"tags":["java","json","http","rest","backbone.js"],"comments":[{"owner":{"account_id":236891,"reputation":7221,"user_id":504685,"accept_rate":50,"display_name":"Charlie"},"score":1,"creation_date":1322497815,"post_id":8294265,"comment_id":10223561,"body_markdown":"Could you go into more detail about your potential use cases and why the HTTP status code and setting appropriate response headers wouldn&#39;t be suitable?","body":"Could you go into more detail about your potential use cases and why the HTTP status code and setting appropriate response headers wouldn&#39;t be suitable?"}],"answers":[{"tags":[],"owner":{"account_id":163776,"reputation":1446,"user_id":386128,"display_name":"maxl0rd"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1322510862,"creation_date":1322510862,"answer_id":8301672,"question_id":8294265,"body_markdown":"We had the same use case, in which we needed to add pagination metadata to a JSON response. We ended up creating a collection type in Backbone that could handle this data, and a lightweight wrapper on the Rails side. This example just adds the meta data to the collection object for reference by the view.\r\n\r\nSo we created a Backbone Collection class something like this\r\n\r\n    // Example response:\r\n    // { num_pages: 4, limit_value: 25, current_page: 1, total_count: 97\r\n    //   records: [{...}, {...}] }\r\n\r\n    PageableCollection = Backbone.Collection.extend({\r\n      parse: function(resp, xhr)  {\r\n        this.numPages = resp.num_pages;\r\n        this.limitValue = resp.limit_value;\r\n        this.currentPage = resp.current_page;\r\n        this.totalCount = resp.total_count;\r\n        return resp.records;\r\n      }  \r\n    });\r\n\r\nAnd then we created this simple class on the Rails side, to emit the meta data when paginated with Kaminari\r\n\r\n    class PageableCollection\r\n      def initialize (collection)\r\n        @collection = collection\r\n      end\r\n      def as_json(opts = {})\r\n        {\r\n          :num_pages =&gt; @collection.num_pages \r\n          :limit_value =&gt; @collection.limit_value \r\n          :current_page =&gt; @collection.current_page,\r\n          :total_count =&gt; @collection.total_count\r\n          :records =&gt; @collection.to_a.as_json(opts)\r\n        }\r\n      end\r\n    end\r\n\r\nYou use it in a controller like this\r\n\r\n    class ThingsController &lt; ApplicationController\r\n      def index \r\n        @things = Thing.all.page params[:page]\r\n        render :json =&gt; PageableCollection.new(@things)\r\n      end\r\n    end\r\n\r\nEnjoy. Hope you find it useful.","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>We had the same use case, in which we needed to add pagination metadata to a JSON response. We ended up creating a collection type in Backbone that could handle this data, and a lightweight wrapper on the Rails side. This example just adds the meta data to the collection object for reference by the view.</p>\n\n<p>So we created a Backbone Collection class something like this</p>\n\n<pre><code>// Example response:\n// { num_pages: 4, limit_value: 25, current_page: 1, total_count: 97\n//   records: [{...}, {...}] }\n\nPageableCollection = Backbone.Collection.extend({\n  parse: function(resp, xhr)  {\n    this.numPages = resp.num_pages;\n    this.limitValue = resp.limit_value;\n    this.currentPage = resp.current_page;\n    this.totalCount = resp.total_count;\n    return resp.records;\n  }  \n});\n</code></pre>\n\n<p>And then we created this simple class on the Rails side, to emit the meta data when paginated with Kaminari</p>\n\n<pre><code>class PageableCollection\n  def initialize (collection)\n    @collection = collection\n  end\n  def as_json(opts = {})\n    {\n      :num_pages =&gt; @collection.num_pages \n      :limit_value =&gt; @collection.limit_value \n      :current_page =&gt; @collection.current_page,\n      :total_count =&gt; @collection.total_count\n      :records =&gt; @collection.to_a.as_json(opts)\n    }\n  end\nend\n</code></pre>\n\n<p>You use it in a controller like this</p>\n\n<pre><code>class ThingsController &lt; ApplicationController\n  def index \n    @things = Thing.all.page params[:page]\n    render :json =&gt; PageableCollection.new(@things)\n  end\nend\n</code></pre>\n\n<p>Enjoy. Hope you find it useful.</p>\n"},{"tags":[],"owner":{"account_id":108818,"reputation":6363,"user_id":288672,"accept_rate":85,"display_name":"Jacob Oscarson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1322556083,"creation_date":1322556083,"answer_id":8307910,"question_id":8294265,"body_markdown":"Along the lines of @Charlie&#39;s comment: for the pagination part of your question you still need to bake the metadata into the response somhow, but the `status` and `message` attributes here are somewhat redundant, since they are already covered by the `HTTP` protocol itself (status `200` - model found, `404` - model not found, `403` - insufficient privs, you get the idea) (see [spec](http://www.w3.org/Protocols/rfc2616/rfc2616.html)). Even if your server returns an error condition you can still send the `message` part as the response body. These two fields will cover quite much of your metadata needs.\r\n\r\nPersonally, I have tended towards (ab)using custom HTTP headers for smaller pieces of metadata (with an `X-` prefix), but I guess the limit where that gets unpractical is pretty low.\r\n\r\nI&#39;ve [expanded](https://stackoverflow.com/questions/8161879/backbone-js-error-handling-how-do-you-do-it/8168505#8168505) a bit about this in a question with a smaller scope, but I think the points are still valid for this question.","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>Along the lines of @Charlie's comment: for the pagination part of your question you still need to bake the metadata into the response somhow, but the <code>status</code> and <code>message</code> attributes here are somewhat redundant, since they are already covered by the <code>HTTP</code> protocol itself (status <code>200</code> - model found, <code>404</code> - model not found, <code>403</code> - insufficient privs, you get the idea) (see <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616.html\" rel=\"nofollow noreferrer\">spec</a>). Even if your server returns an error condition you can still send the <code>message</code> part as the response body. These two fields will cover quite much of your metadata needs.</p>\n\n<p>Personally, I have tended towards (ab)using custom HTTP headers for smaller pieces of metadata (with an <code>X-</code> prefix), but I guess the limit where that gets unpractical is pretty low.</p>\n\n<p>I've <a href=\"https://stackoverflow.com/questions/8161879/backbone-js-error-handling-how-do-you-do-it/8168505#8168505\">expanded</a> a bit about this in a question with a smaller scope, but I think the points are still valid for this question.</p>\n"},{"tags":[],"owner":{"account_id":755023,"reputation":6091,"user_id":873641,"accept_rate":86,"display_name":"Daniel Cerecedo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1392374428,"creation_date":1392374428,"answer_id":21777095,"question_id":8294265,"body_markdown":"You have several means to pass metadata in a RESTful API:\r\n\r\n 1. Http Status Code\r\n 2. Headers\r\n 3. Response Body\r\n\r\nFor the metadata.status, use the Http Status Code, that&#39;s what&#39;s for!\r\nIf metadata is refers to the whole response you could add it as header fields.\r\nIf metadata refers only to part of the response, you will have to embed the metadata as part of the object.**DON&#39;T** wrap the whole response in an artifical envelope and split the wrapper in data and metadata.\r\n\r\nAnd finally, **be consistent across your API** with the choices you make.\r\n\r\nA good example is a GET on a whole collection with pagination. GET /items\r\nYou could return the collection size, and current page in custom headers. And pagination links in standard Link Header:\r\n\r\n    Link: &lt;https://api.mydomain.com/v1/items?limit=25&amp;offset=25&gt;; rel=next\r\n\r\nThe problem with this approach is when you need to add metadata referencing specific elements in the response. In that case just embed it in the object itself. And to have a consistent approach...add always all metadata to response. So coming back to the GET /items, imagine that each item has created and updated metadata:\r\n\r\n    {\r\n      items:[\r\n        {\r\n          &quot;id&quot;:&quot;w67e87898dnkwu4752igd&quot;,\r\n          &quot;message&quot; : &quot;some content&quot;,\r\n          &quot;_created&quot;: &quot;2014-02-14T10:07:39.574Z&quot;,\r\n          &quot;_updated&quot;: &quot;2014-02-14T10:07:39.574Z&quot;\r\n        },\r\n        ......\r\n        {\r\n          &quot;id&quot;:&quot;asjdfiu3748hiuqdh&quot;,\r\n          &quot;message&quot; : &quot;some other content&quot;,\r\n          &quot;_created&quot;: &quot;2014-02-14T10:07:39.574Z&quot;,\r\n          &quot;_updated&quot;: &quot;2014-02-14T10:07:39.574Z&quot;\r\n        }\r\n      ],\r\n      &quot;_total&quot; :133,\r\n      &quot;_links&quot; :[\r\n         {\r\n            &quot;next&quot; :{\r\n               href : &quot;https://api.mydomain.com/v1/items?limit=25&amp;offset=25&quot;\r\n             } \r\n       ]\r\n    }\r\n\r\nNote that a collection response is an special case. If you add metadata to a collection, the collection can no longer be returned as an array, it must be an object with an array in it. Why an object? because you want to add some metadata attributes.\r\n\r\nCompare with the metadata in the individual items. Nothing close to wrapping the entity. You just add some attributes to the resource.\r\n\r\nOne convention is to differentiate control or metadata fields. You could prefix those fields with an underscore.","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>You have several means to pass metadata in a RESTful API:</p>\n\n<ol>\n<li>Http Status Code</li>\n<li>Headers</li>\n<li>Response Body</li>\n</ol>\n\n<p>For the metadata.status, use the Http Status Code, that's what's for!\nIf metadata is refers to the whole response you could add it as header fields.\nIf metadata refers only to part of the response, you will have to embed the metadata as part of the object.<strong>DON'T</strong> wrap the whole response in an artifical envelope and split the wrapper in data and metadata.</p>\n\n<p>And finally, <strong>be consistent across your API</strong> with the choices you make.</p>\n\n<p>A good example is a GET on a whole collection with pagination. GET /items\nYou could return the collection size, and current page in custom headers. And pagination links in standard Link Header:</p>\n\n<pre><code>Link: &lt;https://api.mydomain.com/v1/items?limit=25&amp;offset=25&gt;; rel=next\n</code></pre>\n\n<p>The problem with this approach is when you need to add metadata referencing specific elements in the response. In that case just embed it in the object itself. And to have a consistent approach...add always all metadata to response. So coming back to the GET /items, imagine that each item has created and updated metadata:</p>\n\n<pre><code>{\n  items:[\n    {\n      \"id\":\"w67e87898dnkwu4752igd\",\n      \"message\" : \"some content\",\n      \"_created\": \"2014-02-14T10:07:39.574Z\",\n      \"_updated\": \"2014-02-14T10:07:39.574Z\"\n    },\n    ......\n    {\n      \"id\":\"asjdfiu3748hiuqdh\",\n      \"message\" : \"some other content\",\n      \"_created\": \"2014-02-14T10:07:39.574Z\",\n      \"_updated\": \"2014-02-14T10:07:39.574Z\"\n    }\n  ],\n  \"_total\" :133,\n  \"_links\" :[\n     {\n        \"next\" :{\n           href : \"https://api.mydomain.com/v1/items?limit=25&amp;offset=25\"\n         } \n   ]\n}\n</code></pre>\n\n<p>Note that a collection response is an special case. If you add metadata to a collection, the collection can no longer be returned as an array, it must be an object with an array in it. Why an object? because you want to add some metadata attributes.</p>\n\n<p>Compare with the metadata in the individual items. Nothing close to wrapping the entity. You just add some attributes to the resource.</p>\n\n<p>One convention is to differentiate control or metadata fields. You could prefix those fields with an underscore.</p>\n"},{"tags":[],"owner":{"account_id":67104,"reputation":17847,"user_id":196526,"accept_rate":95,"display_name":"Bastien Vandamme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554977039,"creation_date":1554977039,"answer_id":55629860,"question_id":8294265,"body_markdown":"I suggest you to read this page https://www.odata.org/ You are not forced to use OData but the way they do the work is a good example of good practice with REST.","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>I suggest you to read this page <a href=\"https://www.odata.org/\" rel=\"nofollow noreferrer\">https://www.odata.org/</a> You are not forced to use OData but the way they do the work is a good example of good practice with REST.</p>\n"},{"tags":[],"owner":{"account_id":2636118,"reputation":3517,"user_id":2280741,"accept_rate":62,"display_name":"Rui Martins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618489940,"creation_date":1618489378,"answer_id":67108379,"question_id":8294265,"body_markdown":"How about returning directly the object that you want in data, like return:\r\n```json\r\n{\r\n    &quot;id&quot;: 1001,\r\n    &quot;name&quot;: &quot;Bob&quot;\r\n}\r\n```\r\n\r\nAnd return in headers the metadata.\r\n\r\nOption 1 (one header for all metadata JSON):\r\n```text\r\nX-METADATA = &#39;{&quot;status&quot;: 200|500,&quot;msg&quot;: &quot;Some message here&quot;,&quot;next&quot;: &quot;http://api.domain.com/users/10/20&quot;...}&#39;\r\n```\r\n\r\nOption 2 (one header per each metadata field):\r\n```text\r\nX-METADATA-STATUS = 200|500\r\nX-METADATA-MSG = &quot;Some message here&quot;,\r\nX-METADATA-NEXT = &quot;http://api.domain.com/users/10/20&quot;\r\n...\r\n```\r\n\r\nUntil now I was using like you, a complex JSON with two fields, one for data and one for metadata. But I&#39;m thinking in starting using this way that I suggested, I think it will be more easy.\r\n\r\n---\r\n\r\nRemind that some server have size limit for HTTP headers, like this example: https://www.tutorialspoint.com/What-is-the-maximum-size-of-HTTP-header-values\r\n","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>How about returning directly the object that you want in data, like return:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1001,\n    &quot;name&quot;: &quot;Bob&quot;\n}\n</code></pre>\n<p>And return in headers the metadata.</p>\n<p>Option 1 (one header for all metadata JSON):</p>\n<pre><code>X-METADATA = '{&quot;status&quot;: 200|500,&quot;msg&quot;: &quot;Some message here&quot;,&quot;next&quot;: &quot;http://api.domain.com/users/10/20&quot;...}'\n</code></pre>\n<p>Option 2 (one header per each metadata field):</p>\n<pre><code>X-METADATA-STATUS = 200|500\nX-METADATA-MSG = &quot;Some message here&quot;,\nX-METADATA-NEXT = &quot;http://api.domain.com/users/10/20&quot;\n...\n</code></pre>\n<p>Until now I was using like you, a complex JSON with two fields, one for data and one for metadata. But I'm thinking in starting using this way that I suggested, I think it will be more easy.</p>\n<hr />\n<p>Remind that some server have size limit for HTTP headers, like this example: <a href=\"https://www.tutorialspoint.com/What-is-the-maximum-size-of-HTTP-header-values\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/What-is-the-maximum-size-of-HTTP-header-values</a></p>\n"},{"tags":[],"owner":{"account_id":106010,"reputation":30256,"user_id":282601,"accept_rate":81,"display_name":"cweiske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017026,"creation_date":1676017026,"answer_id":75408471,"question_id":8294265,"body_markdown":"[JSON:API][1] solves this by defining top-level `meta` and `data` properties.\r\n\r\n\r\n  [1]: https://jsonapi.org/format/","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p><a href=\"https://jsonapi.org/format/\" rel=\"nofollow noreferrer\">JSON:API</a> solves this by defining top-level <code>meta</code> and <code>data</code> properties.</p>\n"}],"owner":{"display_name":"user920041"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43384,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"answer_count":6,"score":48,"last_activity_date":1676017026,"creation_date":1322475023,"question_id":8294265,"body_markdown":"**Background**\r\n\r\nWe are building a Restful API that should return data objects as JSON. In most of the cases it fine just to return the data object, but in some cases, f.ex. pagination or validation, we need to add some metadata to the response.\r\n\r\n**What we have so far**\r\n\r\nWe have wrapped all json responses like this example:\r\n\r\n    {\r\n        &quot;metadata&quot; :{\r\n            &quot;status&quot;: 200|500,\r\n            &quot;msg&quot;: &quot;Some message here&quot;,\r\n            &quot;next&quot;: &quot;http://api.domain.com/users/10/20&quot;\r\n            ...\r\n        },\r\n        &quot;data&quot; :{\r\n            &quot;id&quot;: 1001,\r\n            &quot;name&quot;: &quot;Bob&quot;\r\n        }\r\n    }\r\n\r\n**Pros**\r\n\r\n - We can add helpful metadata to the response\r\n\r\n \r\n**Cons**\r\n\r\n - In most cases we don&#39;t need the metadata field, and it adds complexity to the json format\r\n - Since it&#39;s not a data object any more, but more like a enveloped response, we can not use the response right away in f.ex backbone.js without extracting the data object.\r\n\r\n**Question**\r\n\r\nWhat is the best practices to add metadata to a json response?\r\n\r\n**UPDATE**\r\n\r\nWhat I&#39;ve got so far from answers below:\r\n\r\n - Remove the `metadata.status` an return the http response code in the\r\n   http protocol instead (200, 500 ...)\r\n - Add error msg to body of an http 500 repsonse \r\n - For pagination i natural to have some metadata telling about the pagination structure, and the data nested in that structure\r\n - Small amount of meta data can be added to http header (X-something)\r\n\r\n","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p><strong>Background</strong></p>\n\n<p>We are building a Restful API that should return data objects as JSON. In most of the cases it fine just to return the data object, but in some cases, f.ex. pagination or validation, we need to add some metadata to the response.</p>\n\n<p><strong>What we have so far</strong></p>\n\n<p>We have wrapped all json responses like this example:</p>\n\n<pre><code>{\n    \"metadata\" :{\n        \"status\": 200|500,\n        \"msg\": \"Some message here\",\n        \"next\": \"http://api.domain.com/users/10/20\"\n        ...\n    },\n    \"data\" :{\n        \"id\": 1001,\n        \"name\": \"Bob\"\n    }\n}\n</code></pre>\n\n<p><strong>Pros</strong></p>\n\n<ul>\n<li>We can add helpful metadata to the response</li>\n</ul>\n\n<p><strong>Cons</strong></p>\n\n<ul>\n<li>In most cases we don't need the metadata field, and it adds complexity to the json format</li>\n<li>Since it's not a data object any more, but more like a enveloped response, we can not use the response right away in f.ex backbone.js without extracting the data object.</li>\n</ul>\n\n<p><strong>Question</strong></p>\n\n<p>What is the best practices to add metadata to a json response?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>What I've got so far from answers below:</p>\n\n<ul>\n<li>Remove the <code>metadata.status</code> an return the http response code in the\nhttp protocol instead (200, 500 ...)</li>\n<li>Add error msg to body of an http 500 repsonse </li>\n<li>For pagination i natural to have some metadata telling about the pagination structure, and the data nested in that structure</li>\n<li>Small amount of meta data can be added to http header (X-something)</li>\n</ul>\n"},{"tags":["java","macos","server","automation","minecraft"],"answers":[{"tags":[],"owner":{"account_id":22166369,"reputation":198,"user_id":16412496,"display_name":"baggiogiacomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676016942,"creation_date":1676016942,"answer_id":75408455,"question_id":75402049,"body_markdown":"You can try something like that:\r\n\r\n```\r\nwhile true; do\r\n  ping -c 1 -W 1 your_server_IP\r\n  if [ $? -eq 0 ]; then\r\n    echo &quot;Server is up&quot;\r\n  else\r\n    echo &quot;Server is down, restarting...&quot;\r\n    # Add your server restart command here\r\n    /path/to/restart/command\r\n  fi\r\n  sleep 60\r\ndone\r\n```\r\n\r\nThe `ping -c 1 -W 1 your_server_IP` command sends one Echo Request packet to `your_server_IP`, and waits for a response for 1 second. If a response is received, it means the server is up and running. If no response is received, it means the server is down.\r\n\r\nYou have to save this file as a `.command` file and add it to your PATH.\r\n\r\nLet me know if it works or you&#39;re getting errors! I&#39;ll be happy to help :)","title":"I need help making a terminal command on my M1 Mac Mini to restart my minecraft server if it crashes","body":"<p>You can try something like that:</p>\n<pre><code>while true; do\n  ping -c 1 -W 1 your_server_IP\n  if [ $? -eq 0 ]; then\n    echo &quot;Server is up&quot;\n  else\n    echo &quot;Server is down, restarting...&quot;\n    # Add your server restart command here\n    /path/to/restart/command\n  fi\n  sleep 60\ndone\n</code></pre>\n<p>The <code>ping -c 1 -W 1 your_server_IP</code> command sends one Echo Request packet to <code>your_server_IP</code>, and waits for a response for 1 second. If a response is received, it means the server is up and running. If no response is received, it means the server is down.</p>\n<p>You have to save this file as a <code>.command</code> file and add it to your PATH.</p>\n<p>Let me know if it works or you're getting errors! I'll be happy to help :)</p>\n"}],"owner":{"account_id":27746464,"reputation":9,"user_id":21181844,"display_name":"Isna Owo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676016942,"creation_date":1675962381,"question_id":75402049,"body_markdown":"I have been looking for a long time to see if anyone has had an answer to my issue, but it doesn&#39;t seem to exist. I recently found I rarely used M1 Mac Mini. Since I had barely used it, I decided to turn it into a functioning server that runs 24/7. The only issue is that sometimes while I&#39;m sleeping and my friends are playing, the server crashes, and there&#39;s no way of starting it back up unless I&#39;m awake. So I&#39;m looking for help on how to make a .command file that either A.) It Pings the server every minute, and if it senses it&#39;s down, it terminates the current terminal and restarts the start command. B.) Once the server crashes and the terminal ends, it restarts. I prefer to go with option A, but I&#39;ll take any help that I get! Thank you so much in advance, everyone!\r\n\r\nI tried a script online, and one of them goes like this.\r\n\r\n```\r\nwhile true\r\ndo\r\ncd Desktop\r\ncd server\r\n/Library/Internet_Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -Xmx7G -Xms7G -jar forgeserver.jar\r\n\r\necho &quot;If you want to completely stop the server process now, press Ctrl+C before\r\nthe time is up!&quot;\r\necho &quot;Rebooting in:&quot;\r\nfor i in 5 4 3 2 1\r\necho &quot;$i...&quot;\r\nsleep 1\r\ndone\r\necho &quot;Rebooting now!&quot;\r\ndone \r\n```\r\n\r\nHowever I am met with this error\r\n\r\n```\r\nLast login: Thu Feb  9 02:37:12 on ttys001\r\n/Users/myname/Desktop/start.command ; exit;                                  \r\ndavidking@Davids-Mac-mini ~ % /Users/myname/Desktop/start.command ; exit;\r\n/Users/davidking/Desktop/start.command: line 11: syntax error near unexpected token `echo&#39;\r\n&#39;Users/davidking/Desktop/start.command: line 11: `echo &quot;$i...&quot;\r\n\r\nSaving session...\r\n...copying shared history...\r\n...saving history...truncating history files...\r\n...completed.\r\n\r\n[Process completed]\r\n\r\n```","title":"I need help making a terminal command on my M1 Mac Mini to restart my minecraft server if it crashes","body":"<p>I have been looking for a long time to see if anyone has had an answer to my issue, but it doesn't seem to exist. I recently found I rarely used M1 Mac Mini. Since I had barely used it, I decided to turn it into a functioning server that runs 24/7. The only issue is that sometimes while I'm sleeping and my friends are playing, the server crashes, and there's no way of starting it back up unless I'm awake. So I'm looking for help on how to make a .command file that either A.) It Pings the server every minute, and if it senses it's down, it terminates the current terminal and restarts the start command. B.) Once the server crashes and the terminal ends, it restarts. I prefer to go with option A, but I'll take any help that I get! Thank you so much in advance, everyone!</p>\n<p>I tried a script online, and one of them goes like this.</p>\n<pre><code>while true\ndo\ncd Desktop\ncd server\n/Library/Internet_Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -Xmx7G -Xms7G -jar forgeserver.jar\n\necho &quot;If you want to completely stop the server process now, press Ctrl+C before\nthe time is up!&quot;\necho &quot;Rebooting in:&quot;\nfor i in 5 4 3 2 1\necho &quot;$i...&quot;\nsleep 1\ndone\necho &quot;Rebooting now!&quot;\ndone \n</code></pre>\n<p>However I am met with this error</p>\n<pre><code>Last login: Thu Feb  9 02:37:12 on ttys001\n/Users/myname/Desktop/start.command ; exit;                                  \ndavidking@Davids-Mac-mini ~ % /Users/myname/Desktop/start.command ; exit;\n/Users/davidking/Desktop/start.command: line 11: syntax error near unexpected token `echo'\n'Users/davidking/Desktop/start.command: line 11: `echo &quot;$i...&quot;\n\nSaving session...\n...copying shared history...\n...saving history...truncating history files...\n...completed.\n\n[Process completed]\n\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675958366,"creation_date":1675958366,"answer_id":75401196,"question_id":75401090,"body_markdown":"It looks like your `List (HashMap)` may have multiple child objects, and you want to search across all of those for a specific ID value.\r\n\r\nThere is no way to search across all objects in a map field in Firestore. If you want to search across all ID values, add an additional **array** field with just this values, e.g.\r\n```\r\nListIDs: [&quot;UQx4CWRgnVLOdKEY3AKJ&quot;, ...]\r\n```\r\n\r\nWith that field in place, you can then use the [`array-contains` operator](https://firebase.google.com/docs/firestore/query-data/queries#array_membership) to query for matching documents.","title":"How to Retrieve Firestore Documents with a Specific Hashmap Field Value?","body":"<p>It looks like your <code>List (HashMap)</code> may have multiple child objects, and you want to search across all of those for a specific ID value.</p>\n<p>There is no way to search across all objects in a map field in Firestore. If you want to search across all ID values, add an additional <strong>array</strong> field with just this values, e.g.</p>\n<pre><code>ListIDs: [&quot;UQx4CWRgnVLOdKEY3AKJ&quot;, ...]\n</code></pre>\n<p>With that field in place, you can then use the <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#array_membership\" rel=\"nofollow noreferrer\"><code>array-contains</code> operator</a> to query for matching documents.</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676016515,"creation_date":1676016515,"answer_id":75408411,"question_id":75401090,"body_markdown":"If I understand correctly, the `List` field inside the user document is a `Map` which contains only String values. So if your database schema looks **exactly** like this:\r\n\r\n    db\r\n    |\r\n    --- Users (collection)\r\n         |\r\n         --- $uid (document)\r\n              |\r\n              --- List (map) //&#128072;\r\n                   |\r\n                   --- ID: &quot;UQx4CWRgnVLOdKEY3AKJ&quot;\r\n                   |\r\n                   --- NAME: &quot;Taha Sami&quot;\r\n\r\nTo get all users where the `ID` field within the `List` holds the value of `UQx4CWRgnVLOdKEY3AKJ`, a query like this will do the trick:\r\n\r\n    Query queryByListId = db.collection(&quot;Users&quot;).whereEqualTo(&quot;List.ID&quot;, &quot;UQx4CWRgnVLOdKEY3AKJ&quot;);\r\n    //                                                            &#128070;","title":"How to Retrieve Firestore Documents with a Specific Hashmap Field Value?","body":"<p>If I understand correctly, the <code>List</code> field inside the user document is a <code>Map</code> which contains only String values. So if your database schema looks <strong>exactly</strong> like this:</p>\n<pre><code>db\n|\n--- Users (collection)\n     |\n     --- $uid (document)\n          |\n          --- List (map) //👈\n               |\n               --- ID: &quot;UQx4CWRgnVLOdKEY3AKJ&quot;\n               |\n               --- NAME: &quot;Taha Sami&quot;\n</code></pre>\n<p>To get all users where the <code>ID</code> field within the <code>List</code> holds the value of <code>UQx4CWRgnVLOdKEY3AKJ</code>, a query like this will do the trick:</p>\n<pre><code>Query queryByListId = db.collection(&quot;Users&quot;).whereEqualTo(&quot;List.ID&quot;, &quot;UQx4CWRgnVLOdKEY3AKJ&quot;);\n//                                                            👆\n</code></pre>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408411,"answer_count":2,"score":0,"last_activity_date":1676016540,"creation_date":1675957760,"question_id":75401090,"body_markdown":"    --- Users (Collection)\r\n        |\r\n        --- p0A1fXH4l2TpvGE2lo0x\r\n            |\r\n            --- List (HashMap)\r\n                |\r\n                --- ID (String) (Value: UQx4CWRgnVLOdKEY3AKJ)\r\n                --- NAME (String) (Value: ...)\r\n\r\nIn Firestore, how can I find the documents that have a list ID equal to `UQx4CWRgnVLOdKEY3AKJ`? Before deleting the list, I need to remove it from the users who have used it. How can I determine which documents are using this list ID so I can delete them?","title":"How to Retrieve Firestore Documents with a Specific Hashmap Field Value?","body":"<pre><code>--- Users (Collection)\n    |\n    --- p0A1fXH4l2TpvGE2lo0x\n        |\n        --- List (HashMap)\n            |\n            --- ID (String) (Value: UQx4CWRgnVLOdKEY3AKJ)\n            --- NAME (String) (Value: ...)\n</code></pre>\n<p>In Firestore, how can I find the documents that have a list ID equal to <code>UQx4CWRgnVLOdKEY3AKJ</code>? Before deleting the list, I need to remove it from the users who have used it. How can I determine which documents are using this list ID so I can delete them?</p>\n"},{"tags":["java","html","vaadin"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1676013521,"post_id":75407887,"comment_id":133055190,"body_markdown":"Does States implement equals/hashCode?","body":"Does States implement equals/hashCode?"},{"owner":{"account_id":84086,"reputation":2341,"user_id":10900045,"display_name":"John Doe"},"score":0,"creation_date":1676018515,"post_id":75407887,"comment_id":133056378,"body_markdown":"No, but after the implementation this works.","body":"No, but after the implementation this works."}],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676016467,"creation_date":1676014881,"answer_id":75408177,"question_id":75407887,"body_markdown":"It&#39;s not possible to tell based on the code you have shared. Quite likely the `States` object returned by `location.getLocationState().get()` does not share the same object identity with a value returned by `facade.stateService().findAllStates()`. This can happen even if the properties (such as the &quot;name&quot;) of the objects are the same. Typically the answer is to implement the `hashCode` and `equals` methods in the class in a way that identity depends only on the id of the entity.","title":"Setting value for select element is not showing in UI","body":"<p>It's not possible to tell based on the code you have shared. Quite likely the <code>States</code> object returned by <code>location.getLocationState().get()</code> does not share the same object identity with a value returned by <code>facade.stateService().findAllStates()</code>. This can happen even if the properties (such as the &quot;name&quot;) of the objects are the same. Typically the answer is to implement the <code>hashCode</code> and <code>equals</code> methods in the class in a way that identity depends only on the id of the entity.</p>\n"}],"owner":{"account_id":84086,"reputation":2341,"user_id":10900045,"display_name":"John Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408177,"answer_count":1,"score":0,"last_activity_date":1676016467,"creation_date":1676012670,"question_id":75407887,"body_markdown":"I am using vaadin select to display a select menu with states.\r\n\r\n```\r\nprivate Select&lt;States&gt; states = new Select&lt;&gt;();\r\n```\r\n\r\n```\r\nstates.setLabel(&quot;State&quot;);\r\nstates.setItems(facade.stateService().findAllStates());\r\nstates.setItemLabelGenerator(States::getName);\r\n```\r\n\r\n```\r\nOptional&lt;States&gt; state = facade.stateService().findByCode(location.getLocationState());\r\nif (state.isPresent()) {\r\n    states.setValue(state.get());    // this is not working\r\n}\r\n```\r\n\r\nI am getting the state value and setting it using `states.setValue()` but the select is not displaying the updated state. The method is getting called. How to make select the menu selected? Thanks.","title":"Setting value for select element is not showing in UI","body":"<p>I am using vaadin select to display a select menu with states.</p>\n<pre><code>private Select&lt;States&gt; states = new Select&lt;&gt;();\n</code></pre>\n<pre><code>states.setLabel(&quot;State&quot;);\nstates.setItems(facade.stateService().findAllStates());\nstates.setItemLabelGenerator(States::getName);\n</code></pre>\n<pre><code>Optional&lt;States&gt; state = facade.stateService().findByCode(location.getLocationState());\nif (state.isPresent()) {\n    states.setValue(state.get());    // this is not working\n}\n</code></pre>\n<p>I am getting the state value and setting it using <code>states.setValue()</code> but the select is not displaying the updated state. The method is getting called. How to make select the menu selected? Thanks.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675985776,"post_id":75405437,"comment_id":133051315,"body_markdown":"Are there any logs? If so, can you share them?","body":"Are there any logs? If so, can you share them?"},{"owner":{"account_id":33230,"reputation":21479,"user_id":92837,"accept_rate":97,"display_name":"Sathyajith Bhat"},"score":0,"creation_date":1675989648,"post_id":75405437,"comment_id":133051927,"body_markdown":"your beanstalk link to the logs is not accessible to public","body":"your beanstalk link to the logs is not accessible to public"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675990008,"post_id":75405437,"comment_id":133051988,"body_markdown":"@SathyajithBhat I revised the link. Can you look through it?","body":"@SathyajithBhat I revised the link. Can you look through it?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675991120,"post_id":75405437,"comment_id":133052151,"body_markdown":"@dan1st I shared the logs through the link","body":"@dan1st I shared the logs through the link"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1675995282,"post_id":75405437,"comment_id":133052717,"body_markdown":"Have you tried accessing the URL through the standard http/https port? I remember that beanstalk puts a nginx server in front of the application, so the port you configure for the application remains internal, and the exposed one is the nginx port.","body":"Have you tried accessing the URL through the standard http/https port? I remember that beanstalk puts a nginx server in front of the application, so the port you configure for the application remains internal, and the exposed one is the nginx port."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676003195,"post_id":75405437,"comment_id":133053706,"body_markdown":"@SantiagoMedina My issue is that the app cannot be deployed as I get &quot;severe&quot; issue even if I defined SERVER_PORT as 5000 in its environment.","body":"@SantiagoMedina My issue is that the app cannot be deployed as I get &quot;severe&quot; issue even if I defined SERVER_PORT as 5000 in its environment."},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676004309,"post_id":75405437,"comment_id":133053863,"body_markdown":"Understood. I see many requests to / in your logs made by ELB-HealthChecker with response 404. Seems that EB performs a GET to your base path expecting a 200 to consider your application as healthy deployed, but gets 404. Try implementing that response programmatically, or putting a index.html under src/main/resources/static, or configuring EB to do the health check against a different URL.","body":"Understood. I see many requests to / in your logs made by ELB-HealthChecker with response 404. Seems that EB performs a GET to your base path expecting a 200 to consider your application as healthy deployed, but gets 404. Try implementing that response programmatically, or putting a index.html under src/main/resources/static, or configuring EB to do the health check against a different URL."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676005316,"post_id":75405437,"comment_id":133053989,"body_markdown":"@SantiagoMedina I shared the causes. Even if I tried to deploy it many times with selecting Java and coretto 17,11 and 8, I still got the same issue. There is no issue when I run this command `mvn clean install` as I get a message as `Build Success`","body":"@SantiagoMedina I shared the causes. Even if I tried to deploy it many times with selecting Java and coretto 17,11 and 8, I still got the same issue. There is no issue when I run this command <code>mvn clean install</code> as I get a message as <code>Build Success</code>"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676006088,"post_id":75405437,"comment_id":133054097,"body_markdown":"Yes, I know your application builds OK, and starts OK. But ELB health checker expects a 200 OK response when sending a GET to your base path, but the application don&#39;t provide any response on that path (404-not found). You have only a controller listening to /api/.., but nothing on the root. Then ELB believe it&#39;s not up. That&#39;s why I suggested adding a response through a home static page (index.html), or programmatically with a controller, or changing the EB health check configuration to check a different path.","body":"Yes, I know your application builds OK, and starts OK. But ELB health checker expects a 200 OK response when sending a GET to your base path, but the application don&#39;t provide any response on that path (404-not found). You have only a controller listening to /api/.., but nothing on the root. Then ELB believe it&#39;s not up. That&#39;s why I suggested adding a response through a home static page (index.html), or programmatically with a controller, or changing the EB health check configuration to check a different path."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676006270,"post_id":75405437,"comment_id":133054120,"body_markdown":"@SantiagoMedina How can I define the root programmatically with a controller instead of creating a static page (index.html)?","body":"@SantiagoMedina How can I define the root programmatically with a controller instead of creating a static page (index.html)?"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676007056,"post_id":75405437,"comment_id":133054216,"body_markdown":"Change (a) for @\n(a)RestController\npublic class HealthController {\n\n    (a)GetMapping\n    public String healthCheck() {\n        return &quot;Application is UP&quot;;\n    }\n}","body":"Change (a) for @ (a)RestController public class HealthController {      (a)GetMapping     public String healthCheck() {         return &quot;Application is UP&quot;;     } }"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676007375,"post_id":75405437,"comment_id":133054250,"body_markdown":"You could also use the spring boot actuator module, that implements a health endpoint, but not in the root, so you would need to change the ELB config to check the health in the actuator path (/actuator/health)","body":"You could also use the spring boot actuator module, that implements a health endpoint, but not in the root, so you would need to change the ELB config to check the health in the actuator path (/actuator/health)"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676011404,"post_id":75405437,"comment_id":133054785,"body_markdown":"@SantiagoMedina What should I do after adding its dependency?","body":"@SantiagoMedina What should I do after adding its dependency?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676013870,"post_id":75405437,"comment_id":133055255,"body_markdown":"@SantiagoMedina I tried to define endpoints in the browser and it work but there is a problem in root path. How can I fix it? How can I define it in configuration?","body":"@SantiagoMedina I tried to define endpoints in the browser and it work but there is a problem in root path. How can I fix it? How can I define it in configuration?"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676029825,"post_id":75405437,"comment_id":133059672,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251787/discussion-between-santiago-medina-and-s-n).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251787/discussion-between-santiago-medina-and-s-n\">continue this discussion in chat</a>."}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676016101,"creation_date":1675984505,"question_id":75405437,"body_markdown":"\r\nI have a problem to deploy my **Spring Boot 3** with **Swagger** to **AWS**.\r\n\r\nAfter creating the environment from **elastic beanstalk** and defining **jar** file of the project, I complete the process.\r\n\r\nI get this message &quot;**Severe**&quot; for the instance after waiting a certain of time.\r\n\r\nI also changed `server.port= 5000` and define `SERVER_PORT 5000` for the environment of the software configuration but nothing changed.\r\n\r\nHere is the image shown below\r\n\r\n[![Link][1]][1]\r\n\r\nHere is the health overview information shown below.\r\n\r\n    Severe\r\n    \r\n    Environment health has transitioned from Ok to Severe. 100.0 % of the requests are erroring with HTTP 4xx. Insufficient request rate (12.0 requests/min) to determine application health. ELB processes are not healthy on all instances. ELB health is failing or not available for all instances.\r\n\r\nHow can I fix the issue?\r\n\r\nThe **local URL** is `http://localhost:5000/swagger-ui/index.html`\r\n\r\n\r\nHere is the **link** showing **logs** : [Link][2]\r\n\r\nHere is the **repo** : [Link][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3Zwma.png\r\n  [2]: https://drive.google.com/file/d/1ObPKRXvlGmNMeCVQIF8-r_uSV-6W2R_Q/view?usp=share_link\r\n  [3]: https://github.com/Rapter1990/DepremApi","title":"Spring Boot 3 App with Swagger cannot deployed with AWS (Severe Issue)","body":"<p>I have a problem to deploy my <strong>Spring Boot 3</strong> with <strong>Swagger</strong> to <strong>AWS</strong>.</p>\n<p>After creating the environment from <strong>elastic beanstalk</strong> and defining <strong>jar</strong> file of the project, I complete the process.</p>\n<p>I get this message &quot;<strong>Severe</strong>&quot; for the instance after waiting a certain of time.</p>\n<p>I also changed <code>server.port= 5000</code> and define <code>SERVER_PORT 5000</code> for the environment of the software configuration but nothing changed.</p>\n<p>Here is the image shown below</p>\n<p><a href=\"https://i.stack.imgur.com/3Zwma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Zwma.png\" alt=\"Link\" /></a></p>\n<p>Here is the health overview information shown below.</p>\n<pre><code>Severe\n\nEnvironment health has transitioned from Ok to Severe. 100.0 % of the requests are erroring with HTTP 4xx. Insufficient request rate (12.0 requests/min) to determine application health. ELB processes are not healthy on all instances. ELB health is failing or not available for all instances.\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>The <strong>local URL</strong> is <code>http://localhost:5000/swagger-ui/index.html</code></p>\n<p>Here is the <strong>link</strong> showing <strong>logs</strong> : <a href=\"https://drive.google.com/file/d/1ObPKRXvlGmNMeCVQIF8-r_uSV-6W2R_Q/view?usp=share_link\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the <strong>repo</strong> : <a href=\"https://github.com/Rapter1990/DepremApi\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1675983857,"post_id":75405269,"comment_id":133050991,"body_markdown":"You need to keep a reference to `maxCharge` and `totalDrain` in your class.  Remaining charge = maximum charge - total drain.","body":"You need to keep a reference to <code>maxCharge</code> and <code>totalDrain</code> in your class.  Remaining charge = maximum charge - total drain."},{"owner":{"account_id":27748688,"reputation":1,"user_id":21183557,"display_name":"tennisplayer97"},"score":0,"creation_date":1675984181,"post_id":75405269,"comment_id":133051060,"body_markdown":"Thank you! I figured out I could also use Math.min. Thank you for your response!","body":"Thank you! I figured out I could also use Math.min. Thank you for your response!"}],"answers":[{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675988243,"creation_date":1675988243,"answer_id":75405761,"question_id":75405269,"body_markdown":"To keep the `batteryCharge` value when subtracting a larger value, you can use the ternary operator ([source](https://www.w3schools.com/java/java_conditions_shorthand.asp)) representing `if/else`. If `batteryCharge - drain` is less than 0 then keep that value, otherwise save the substraction value. Instead use this:\r\n```\r\nbatteryCharge = Math.max(batteryCharge - drain, 0);\r\n```\r\nTry this:\r\n```\r\nbatteryCharge = batteryCharge - drain &lt; 0 ? batteryCharge : batteryCharge - drain;\r\n```","title":"Java function to calculate difference in charge?","body":"<p>To keep the <code>batteryCharge</code> value when subtracting a larger value, you can use the ternary operator (<a href=\"https://www.w3schools.com/java/java_conditions_shorthand.asp\" rel=\"nofollow noreferrer\">source</a>) representing <code>if/else</code>. If <code>batteryCharge - drain</code> is less than 0 then keep that value, otherwise save the substraction value. Instead use this:</p>\n<pre><code>batteryCharge = Math.max(batteryCharge - drain, 0);\n</code></pre>\n<p>Try this:</p>\n<pre><code>batteryCharge = batteryCharge - drain &lt; 0 ? batteryCharge : batteryCharge - drain;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676015430,"creation_date":1675988263,"answer_id":75405762,"question_id":75405269,"body_markdown":"The amount drained cannot be greater than the battery&#39;s remaining charge:\r\n\r\n```java\r\ndouble drain = Math.min(batteryCharge, cameraPowerConsumption * minutes);\r\n```\r\n\r\nAfter making that adjustment to your code, the rest is simple:\r\n\r\n```java\r\ndouble drain = Math.min(batteryCharge, cameraPowerConsumption * minutes);\r\nbatteryCharge -= drain;\r\ntotalDrain += drain;\r\nreturn drain;\r\n```\r\n\r\n","title":"Java function to calculate difference in charge?","body":"<p>The amount drained cannot be greater than the battery's remaining charge:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double drain = Math.min(batteryCharge, cameraPowerConsumption * minutes);\n</code></pre>\n<p>After making that adjustment to your code, the rest is simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double drain = Math.min(batteryCharge, cameraPowerConsumption * minutes);\nbatteryCharge -= drain;\ntotalDrain += drain;\nreturn drain;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7474452,"reputation":101,"user_id":5681287,"display_name":"taismile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676016079,"creation_date":1676016079,"answer_id":75408342,"question_id":75405269,"body_markdown":"Just simple \r\n\r\n    public double drain(double minutes) {\r\n        double drain = cameraPowerConsumption * minutes;\r\n        if (drain &gt; batteryCharge){\r\n            totalDrain +=batteryCharge;\r\n            return batteryCharge;\r\n        }\r\n        totalDrain +=drain;\r\n        return (batteryCharge - drain);\r\n    }","title":"Java function to calculate difference in charge?","body":"<p>Just simple</p>\n<pre><code>public double drain(double minutes) {\n    double drain = cameraPowerConsumption * minutes;\n    if (drain &gt; batteryCharge){\n        totalDrain +=batteryCharge;\n        return batteryCharge;\n    }\n    totalDrain +=drain;\n    return (batteryCharge - drain);\n}\n</code></pre>\n"}],"owner":{"account_id":27748688,"reputation":1,"user_id":21183557,"display_name":"tennisplayer97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75405762,"answer_count":3,"score":0,"last_activity_date":1676016079,"creation_date":1675983108,"question_id":75405269,"body_markdown":"This object has a max charge of 1000. And when you drain 100, and then drain 1000, the second drain is supposed to return 900. What function to use that will allow me to return 900 because that is that max amount that can be drained as you can&#39;t drain a negative number?\r\n\r\nI tried,\r\n\t    \r\n```\r\npublic double drain(double minutes) {\r\n\t    double drain = cameraPowerConsumption * minutes;\r\n\t    batteryCharge = Math.max(batteryCharge - drain, 0);\r\n\t    totalDrain += drain;\r\n        return drain;\r\n```\r\n\r\nbut it returns 1000 instead of 900, after already draining 100. I think the drain variable needs to be changed. Without conditionals if that matters.","title":"Java function to calculate difference in charge?","body":"<p>This object has a max charge of 1000. And when you drain 100, and then drain 1000, the second drain is supposed to return 900. What function to use that will allow me to return 900 because that is that max amount that can be drained as you can't drain a negative number?</p>\n<p>I tried,</p>\n<pre><code>public double drain(double minutes) {\n        double drain = cameraPowerConsumption * minutes;\n        batteryCharge = Math.max(batteryCharge - drain, 0);\n        totalDrain += drain;\n        return drain;\n</code></pre>\n<p>but it returns 1000 instead of 900, after already draining 100. I think the drain variable needs to be changed. Without conditionals if that matters.</p>\n"},{"tags":["java","javafx","installation"],"comments":[{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":3,"creation_date":1675966337,"post_id":75402727,"comment_id":133046504,"body_markdown":"Have you been through https://openjfx.io/openjfx-docs/?","body":"Have you been through <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>?"},{"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"score":0,"creation_date":1675966568,"post_id":75402727,"comment_id":133046583,"body_markdown":"@GeneralGrievance Yes and I can&#39;t find how to install the thing as a user in there","body":"@GeneralGrievance Yes and I can&#39;t find how to install the thing as a user in there"},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1675966746,"post_id":75402727,"comment_id":133046624,"body_markdown":"Click &quot;I have Java installed&quot;. The page should say what to do with that downloaded folder.","body":"Click &quot;I have Java installed&quot;. The page should say what to do with that downloaded folder."},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":2,"creation_date":1675966848,"post_id":75402727,"comment_id":133046662,"body_markdown":"The [Zulu JDK builds](https://www.azul.com/downloads/?version=java-19-sts&amp;os=macos&amp;package=jdk) have JavaFX built into them, just download the version for your OS.","body":"The <a href=\"https://www.azul.com/downloads/?version=java-19-sts&amp;os=macos&amp;package=jdk\" rel=\"nofollow noreferrer\">Zulu JDK builds</a> have JavaFX built into them, just download the version for your OS."},{"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"score":0,"creation_date":1675966884,"post_id":75402727,"comment_id":133046673,"body_markdown":"The thing that might confuse you, is that you don&#39;t really need to install anything as such. You just unpack the folder and then run your software with the command line as described in the &quot;I have java&quot; link above.","body":"The thing that might confuse you, is that you don&#39;t really need to install anything as such. You just unpack the folder and then run your software with the command line as described in the &quot;I have java&quot; link above."},{"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"score":0,"creation_date":1675966971,"post_id":75402727,"comment_id":133046712,"body_markdown":"`&gt; java --module-path ~/Downloads/javafx-sdk-19.0.2.1/ --add-modules javafx.controls mcaselector-2.1.jar` results in\n`Error occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found`","body":"<code>&gt; java --module-path ~&#47;Downloads&#47;javafx-sdk-19.0.2.1&#47; --add-modules javafx.controls mcaselector-2.1.jar</code> results in <code>Error occurred during initialization of boot layer java.lang.module.FindException: Module javafx.controls not found</code>"},{"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"score":0,"creation_date":1675967610,"post_id":75402727,"comment_id":133046940,"body_markdown":"@MTilsted Is there no way to just double click the jar and have it find javafx ?","body":"@MTilsted Is there no way to just double click the jar and have it find javafx ?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1675971790,"post_id":75402727,"comment_id":133048159,"body_markdown":"*&quot;Is there no way to just double click the jar and have it find javafx ?&quot;* -&gt; yes if you use the **Zulu JDK FX** build recommended by @blacktide.  It includes JavaFX in the base Java runtime image, so you can create a jar that you could run which uses JavaFX from the runtime image which will work *as long as you know all of your users are doing the same thing...*","body":"<i>&quot;Is there no way to just double click the jar and have it find javafx ?&quot;</i> -&gt; yes if you use the <b>Zulu JDK FX</b> build recommended by @blacktide.  It includes JavaFX in the base Java runtime image, so you can create a jar that you could run which uses JavaFX from the runtime image which will work <i>as long as you know all of your users are doing the same thing...</i>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1675985955,"post_id":75402727,"comment_id":133051342,"body_markdown":"StackOverflow is a [site for programming and software development](https://stackoverflow.com/help/on-topic).  Questions not related to that are off-topic (e.g. &quot;I need to run a thing, not code with the library&quot;).  This, I think, is why you have a mismatch between the answer and comments you received and your expectations.","body":"StackOverflow is a <a href=\"https://stackoverflow.com/help/on-topic\">site for programming and software development</a>.  Questions not related to that are off-topic (e.g. &quot;I need to run a thing, not code with the library&quot;).  This, I think, is why you have a mismatch between the answer and comments you received and your expectations."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676349569,"post_id":75402727,"comment_id":133114648,"body_markdown":"To allow double-click execution, you can [create a batch file (windows)](https://stackoverflow.com/a/2879843/1155209) or shell script (Linux or MacOS), that runs the app, then double click the batch file to run.  Or you can contact the provider of the app and request they make an installer using something like jpackage.","body":"To allow double-click execution, you can <a href=\"https://stackoverflow.com/a/2879843/1155209\">create a batch file (windows)</a> or shell script (Linux or MacOS), that runs the app, then double click the batch file to run.  Or you can contact the provider of the app and request they make an installer using something like jpackage."}],"answers":[{"tags":[],"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1675968988,"creation_date":1675968584,"answer_id":75403148,"question_id":75402727,"body_markdown":"I found how to do it, so here&#39;s a guide :\r\n\r\n 1. Download the JDK for your java version from [JavaFX][1]\r\n 2. Open `/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home`\r\n 3. Move everything from the `lib` and `legal` folders you downloaded to the respective subfolders where we just opened\r\n 4. **Delete** jrt-fs.jar\r\n 5. Run your program with `java --module-path $JAVA_HOME/lib --add-modules javafx.controls -jar Program_Name_Here.jar`\r\n\r\n **Bonus**: If you don&#39;t want to have to type out that command every time, run :\r\n\r\n`echo _JAVA_OPTIONS=&quot;--module-path=$JAVA_HOME/lib --add-modules=ALL-MODULE-PATH&quot; &gt;&gt; ~/.bash_profile` \r\n\r\nin your terminal. The modules will all be loaded by default when running java programs (I have no idea if there are any side effects, I don&#39;t understand anything about Java).\r\n\r\nPlease note that the program still won&#39;t work when double-clicking it directly, because of java magic or something.\r\n\r\n  [1]: https://openjfx.io/","title":"Installing JavaFX (with no java knowledge whatsoever)","body":"<p>I found how to do it, so here's a guide :</p>\n<ol>\n<li>Download the JDK for your java version from <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">JavaFX</a></li>\n<li>Open <code>/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home</code></li>\n<li>Move everything from the <code>lib</code> and <code>legal</code> folders you downloaded to the respective subfolders where we just opened</li>\n<li><strong>Delete</strong> jrt-fs.jar</li>\n<li>Run your program with <code>java --module-path $JAVA_HOME/lib --add-modules javafx.controls -jar Program_Name_Here.jar</code></li>\n</ol>\n<p><strong>Bonus</strong>: If you don't want to have to type out that command every time, run :</p>\n<p><code>echo _JAVA_OPTIONS=&quot;--module-path=$JAVA_HOME/lib --add-modules=ALL-MODULE-PATH&quot; &gt;&gt; ~/.bash_profile</code></p>\n<p>in your terminal. The modules will all be loaded by default when running java programs (I have no idea if there are any side effects, I don't understand anything about Java).</p>\n<p>Please note that the program still won't work when double-clicking it directly, because of java magic or something.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676016007,"creation_date":1675975988,"answer_id":75404320,"question_id":75402727,"body_markdown":"[JavaFX][1] is implemented as open-source in the [OpenJFX][2] sub-project on the [OpenJDK][3] project. OpenJFX is led by the [Gluon][4] company, in cooperation with Oracle Corp.\r\n\r\nOpenJFX is simply a few libraries, a collection of Java JAR files. You need to obtain a copy of the libraries, and make them available to your app. You can do this in one of three ways:\r\n\r\n - Install a copy of the libraries as **part of your app**.\r\n - Install a copy of the libraries in a place that will appear **on the [Classpath][5]** of your app. For example, [on macOS][6]: `/Library/Java/Extensions`.\r\n - Install a **JDK that comes bundled** with the libraries. I know of two vendors that make an edition of their JDK products to include the libraries: *ZuluFX* by Azul Systems, and *LibericaFX* by BellSoft.\r\n\r\nBy “install” I mean simply making the JAR files available: (1) download, (2) move to the right folder location. There is no need to run an installer app. There is simply not anything complicated enough about this to require an installer.\r\n\r\n&#128073; The last of those three (a JDK with libraries bundled) is the easiest if you are new to programming.\r\n\r\nIf you will be doing serious work with Java and JavaFX, I strongly recommend learning to use a dependency management tool such as [Apache Maven][7] or Apache Gradle. Such a tool automates the chore of locating, downloading, and installing libraries such as OpenJFX.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaFX\r\n  [2]: https://openjfx.io/\r\n  [3]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [4]: https://gluonhq.com/\r\n  [5]: https://en.wikipedia.org/wiki/Classpath\r\n  [6]: https://stackoverflow.com/q/1675765/642706\r\n  [7]: https://en.wikipedia.org/wiki/Apache_Maven","title":"Installing JavaFX (with no java knowledge whatsoever)","body":"<p><a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> is implemented as open-source in the <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> sub-project on the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project. OpenJFX is led by the <a href=\"https://gluonhq.com/\" rel=\"nofollow noreferrer\">Gluon</a> company, in cooperation with Oracle Corp.</p>\n<p>OpenJFX is simply a few libraries, a collection of Java JAR files. You need to obtain a copy of the libraries, and make them available to your app. You can do this in one of three ways:</p>\n<ul>\n<li>Install a copy of the libraries as <strong>part of your app</strong>.</li>\n<li>Install a copy of the libraries in a place that will appear <strong>on the <a href=\"https://en.wikipedia.org/wiki/Classpath\" rel=\"nofollow noreferrer\">Classpath</a></strong> of your app. For example, <a href=\"https://stackoverflow.com/q/1675765/642706\">on macOS</a>: <code>/Library/Java/Extensions</code>.</li>\n<li>Install a <strong>JDK that comes bundled</strong> with the libraries. I know of two vendors that make an edition of their JDK products to include the libraries: <em>ZuluFX</em> by Azul Systems, and <em>LibericaFX</em> by BellSoft.</li>\n</ul>\n<p>By “install” I mean simply making the JAR files available: (1) download, (2) move to the right folder location. There is no need to run an installer app. There is simply not anything complicated enough about this to require an installer.</p>\n<p>👉 The last of those three (a JDK with libraries bundled) is the easiest if you are new to programming.</p>\n<p>If you will be doing serious work with Java and JavaFX, I strongly recommend learning to use a dependency management tool such as <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Apache Maven</a> or Apache Gradle. Such a tool automates the chore of locating, downloading, and installing libraries such as OpenJFX.</p>\n"}],"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1675993949,"answer_count":2,"score":-3,"last_activity_date":1676016007,"creation_date":1675966065,"question_id":75402727,"body_markdown":"I haven&#39;t found an answer yet fitting a knucklehead such as me, so I&#39;ll ask for myself : I&#39;m on macOS 13.1 and I have openJDK 19.0.2 installed already ; how am I supposed to install [JavaFX][1] ? The only downloads there just spit out a folder, which I have no idea what to do with.\r\n\r\nThere are no installation instructions that I could find, the site juste says that &quot;The JavaFX runtime is available as a platform-specific SDK, [and] as a number of jmods&quot; which isn&#39;t very useful if you have no idea what a jmod even is. What am I supposed to do ?\r\n\r\nI don&#39;t know if that makes any difference, but I&#39;m trying to install the *runtime* part of it I guess. I need to run a thing, not code with the library. I don&#39;t even know if there&#39;s a difference in the Java world though ?\r\n\r\n  [1]: https://openjfx.io","title":"Installing JavaFX (with no java knowledge whatsoever)","body":"<p>I haven't found an answer yet fitting a knucklehead such as me, so I'll ask for myself : I'm on macOS 13.1 and I have openJDK 19.0.2 installed already ; how am I supposed to install <a href=\"https://openjfx.io\" rel=\"nofollow noreferrer\">JavaFX</a> ? The only downloads there just spit out a folder, which I have no idea what to do with.</p>\n<p>There are no installation instructions that I could find, the site juste says that &quot;The JavaFX runtime is available as a platform-specific SDK, [and] as a number of jmods&quot; which isn't very useful if you have no idea what a jmod even is. What am I supposed to do ?</p>\n<p>I don't know if that makes any difference, but I'm trying to install the <em>runtime</em> part of it I guess. I need to run a thing, not code with the library. I don't even know if there's a difference in the Java world though ?</p>\n"},{"tags":["java","math","java.util.scanner"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675871558,"post_id":75388197,"comment_id":133021997,"body_markdown":"From the compiler&#39;s point of view you don&#39;t return a value in all possible paths in `sub()` and `divide()` methods. Use `else` instead of the second `if`.","body":"From the compiler&#39;s point of view you don&#39;t return a value in all possible paths in <code>sub()</code> and <code>divide()</code> methods. Use <code>else</code> instead of the second <code>if</code>."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675871764,"post_id":75388197,"comment_id":133022077,"body_markdown":"`Scanner` does not have method `getInt()`. Did you perhaps meant `Scanner.nextInt()`, or maybe `GetData.getInt()`?","body":"<code>Scanner</code> does not have method <code>getInt()</code>. Did you perhaps meant <code>Scanner.nextInt()</code>, or maybe <code>GetData.getInt()</code>?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1675871767,"post_id":75388197,"comment_id":133022082,"body_markdown":"Don&#39;t correct the expression based on comparisons.  A negative number  for subtraction is a valid answer and so is a reciprocal (e.g. a/b vs b/a).  Most folks understand that it is `a op b` and they need to deal with it.  But you can check for bad things like division by zero and provide a message or let the calculator display the exception.  Also, you divide method is missing parameters.","body":"Don&#39;t correct the expression based on comparisons.  A negative number  for subtraction is a valid answer and so is a reciprocal (e.g. a/b vs b/a).  Most folks understand that it is <code>a op b</code> and they need to deal with it.  But you can check for bad things like division by zero and provide a message or let the calculator display the exception.  Also, you divide method is missing parameters."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675873348,"post_id":75388197,"comment_id":133022692,"body_markdown":"Regarding my previous comment, correcting the expressions will also make your calculator pretty useless.","body":"Regarding my previous comment, correcting the expressions will also make your calculator pretty useless."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1675876041,"post_id":75388197,"comment_id":133023629,"body_markdown":"Can you provide a sample user interaction?  How does the user interact with your program?  Do they enter input like  5 + 2?  Does your app display a menu for user to pick what operations to perform?  Without this knowledge, you can&#39;t write your program (main class).","body":"Can you provide a sample user interaction?  How does the user interact with your program?  Do they enter input like  5 + 2?  Does your app display a menu for user to pick what operations to perform?  Without this knowledge, you can&#39;t write your program (main class)."}],"answers":[{"tags":[],"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676015982,"creation_date":1676015982,"answer_id":75408324,"question_id":75388197,"body_markdown":"As an aside, note that x &gt;= y and y &gt;= x will both be false if either x or y is Double.NaN, and you can enter NaN as a double value with the Scanner class (and also Infinity and -Infinity). So unless you check the values ahead of time to rule out NaN, you can&#39;t assume that at least one of those two conditions will be true.\r\n\r\nYou also can&#39;t assume that if x &gt; y and y &gt; x are false, then x == y, because for NaN all of those are false. And, if you have just assigned x = y, you can&#39;t assume that x == y, since if y was NaN that will be false.","title":"Making a Calculator using multiple classes","body":"<p>As an aside, note that x &gt;= y and y &gt;= x will both be false if either x or y is Double.NaN, and you can enter NaN as a double value with the Scanner class (and also Infinity and -Infinity). So unless you check the values ahead of time to rule out NaN, you can't assume that at least one of those two conditions will be true.</p>\n<p>You also can't assume that if x &gt; y and y &gt; x are false, then x == y, because for NaN all of those are false. And, if you have just assigned x = y, you can't assume that x == y, since if y was NaN that will be false.</p>\n"}],"owner":{"account_id":27686750,"reputation":1,"user_id":21134366,"display_name":"LCDIgnited"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676015982,"creation_date":1675870848,"question_id":75388197,"body_markdown":"I&#39;ve been trying to make a calculator with multiple classes, however I am not that experienced with classes. I&#39;ve been having a few problems with it.\r\n\r\nThis is the user input section, doesn&#39;t seem to have any problems\r\n\r\n```java  \r\nimport java.util.Scanner;\r\npublic class GetData \r\n    {    \r\n    Scanner getdata = new Scanner(System.in);\r\n    public double intx;\r\n    public double inty;\r\n                \r\n    public void getInt() {\r\n       System.out.print(&quot;Enter a number&quot;);\r\n       double intx = getdata.nextDouble(); \r\n    }\r\n           \r\n   public void getDouble() {\r\n      System.out.print(&quot;Enter a double&quot;);\r\n      double inty = getdata.nextDouble(); \r\n   }\r\n}\r\n```\r\n\r\nThis is the operation section, the most problems are happening here, as said in the error there are missing error statements,\r\n\r\n```java\r\n    import java.util.Scanner;\r\n\r\n  public class MathOps {\r\n     \r\n         Scanner mathops = new Scanner(System.in);\r\n         public double x; \r\n         public double y;\r\n         public double answer;\r\n     \r\n        public double add(int x, int y) {\r\n           System.out.println(&quot;Adding &quot; + x + &quot;and &quot; + y);\r\n           return x + y;\r\n        }\r\n    \r\n        public double multiply(int x, int y) {\r\n           System.out.println(&quot;Multiplying &quot; + x + &quot;and &quot; + y);\r\n           return x * y;\r\n        }\r\n    \r\n        public double sub(int x, int y) {\r\n           System.out.println(&quot;Subtracting &quot; + x + &quot;and &quot; + y);\r\n           if(x &gt;= y) {\r\n              return x - y; }\r\n           if(y &gt;= x) {\r\n              return y - x; }\r\n        } \r\n    \r\n        public double divide() {\r\n           System.out.println(&quot;Dividing &quot; + x + &quot;and &quot; + y);\r\n           if(x &gt;= y) {\r\n              return x / y; }\r\n           if(y &gt;= x) {\r\n              return y / x; }\r\n        }\r\n      } \r\n```\r\n\r\n&gt; ```none\r\n&gt; ----jGRASP exec: javac -g MathOps.java\r\n&gt;     MathOps.java:27: error: missing return statement\r\n&gt;                 }\r\n&gt;                 ^\r\n&gt;     MathOps.java:35: error: missing return statement\r\n&gt;                 }\r\n&gt;                 ^\r\n&gt;     2 errors\r\n&gt; \r\n&gt;  ----jGRASP wedge2: exit code for process is 1.  ----jGRASP: operation\r\n&gt; complete. \r\n&gt; ```\r\n\r\nThis is were I&#39;m putting it all together, also has problems\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class L3Operations\r\n{\r\n   int geti;\r\n   int getd;\r\n   \r\n    public static void main(String[] args)\r\n       {\r\n          //instatnate\r\n         Scanner a = new Scanner(System.in);\r\n     \r\n         int x1 = a.getInt();\r\n       }\r\n}\r\n```","title":"Making a Calculator using multiple classes","body":"<p>I've been trying to make a calculator with multiple classes, however I am not that experienced with classes. I've been having a few problems with it.</p>\n<p>This is the user input section, doesn't seem to have any problems</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class GetData \n    {    \n    Scanner getdata = new Scanner(System.in);\n    public double intx;\n    public double inty;\n                \n    public void getInt() {\n       System.out.print(&quot;Enter a number&quot;);\n       double intx = getdata.nextDouble(); \n    }\n           \n   public void getDouble() {\n      System.out.print(&quot;Enter a double&quot;);\n      double inty = getdata.nextDouble(); \n   }\n}\n</code></pre>\n<p>This is the operation section, the most problems are happening here, as said in the error there are missing error statements,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.Scanner;\n\n  public class MathOps {\n     \n         Scanner mathops = new Scanner(System.in);\n         public double x; \n         public double y;\n         public double answer;\n     \n        public double add(int x, int y) {\n           System.out.println(&quot;Adding &quot; + x + &quot;and &quot; + y);\n           return x + y;\n        }\n    \n        public double multiply(int x, int y) {\n           System.out.println(&quot;Multiplying &quot; + x + &quot;and &quot; + y);\n           return x * y;\n        }\n    \n        public double sub(int x, int y) {\n           System.out.println(&quot;Subtracting &quot; + x + &quot;and &quot; + y);\n           if(x &gt;= y) {\n              return x - y; }\n           if(y &gt;= x) {\n              return y - x; }\n        } \n    \n        public double divide() {\n           System.out.println(&quot;Dividing &quot; + x + &quot;and &quot; + y);\n           if(x &gt;= y) {\n              return x / y; }\n           if(y &gt;= x) {\n              return y / x; }\n        }\n      } \n</code></pre>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>----jGRASP exec: javac -g MathOps.java\n    MathOps.java:27: error: missing return statement\n                }\n                ^\n    MathOps.java:35: error: missing return statement\n                }\n                ^\n    2 errors\n\n ----jGRASP wedge2: exit code for process is 1.  ----jGRASP: operation\ncomplete. \n</code></pre>\n</blockquote>\n<p>This is were I'm putting it all together, also has problems</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class L3Operations\n{\n   int geti;\n   int getd;\n   \n    public static void main(String[] args)\n       {\n          //instatnate\n         Scanner a = new Scanner(System.in);\n     \n         int x1 = a.getInt();\n       }\n}\n</code></pre>\n"},{"tags":["java","cassandra","spring-data","datastax-java-driver","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542362631,"creation_date":1542362631,"answer_id":53335492,"question_id":53322089,"body_markdown":"Yes, there are multiple approaches:\r\n\r\n1. If you use Spring Data for Apache Cassandra version 2.0 or higher, then you can use your logging configuration to activate CQL logging. Set the log level of `org.springframework.data.cassandra.core.cql.CqlTemplate` to `DEBUG`.\r\n2. In any other case (or instead of 1.), use `QueryLogger` that is directly attached to your `Cluster` object. See https://stackoverflow.com/questions/40683371/what-is-a-good-way-to-discover-all-queries-made-by-a-cassandra-java-app/40684084#40684084 for further details.","title":"Log queries executed by Spring Data Cassandra","body":"<p>Yes, there are multiple approaches:</p>\n\n<ol>\n<li>If you use Spring Data for Apache Cassandra version 2.0 or higher, then you can use your logging configuration to activate CQL logging. Set the log level of <code>org.springframework.data.cassandra.core.cql.CqlTemplate</code> to <code>DEBUG</code>.</li>\n<li>In any other case (or instead of 1.), use <code>QueryLogger</code> that is directly attached to your <code>Cluster</code> object. See <a href=\"https://stackoverflow.com/questions/40683371/what-is-a-good-way-to-discover-all-queries-made-by-a-cassandra-java-app/40684084#40684084\">What is a good way to discover all queries made by a Cassandra java app?</a> for further details.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16118113,"reputation":19,"user_id":11634681,"display_name":"saikiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676015837,"creation_date":1676015534,"answer_id":75408257,"question_id":53322089,"body_markdown":"There are ways to achieve this \r\n\r\n***1) Setting the cassandra logging level to DEBUG***\r\n\r\n\r\n ***logging.level.org.springframework.data.cassandra.core.cql.CqlTemplate=DEBUG***\r\n\r\n  \r\n\r\nBy enabling the debug logs you can see the queries , but you may see the java objects instead of actual queries . For that you can use logback , logback has conversionRule  to convert the log line  and log them as we want . So we will use conversionRule to convert the java object to queries\r\n\r\nFirst thing is to setup few loggers and appenders by creating logback.xml\r\n    \r\n     \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n        &lt;conversionRule conversionWord=&quot;cql&quot; converterClass=&quot;com.converter.CqlQueryExtractor&quot; /&gt;\r\n\r\n        &lt;appender name=&quot;CONSOLE_CQL&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; &gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                     %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %cql%n\r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; &gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %X{Nonce} - %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n\r\n        &lt;logger name=&quot;org.springframework.data.cassandra&quot; additivity=&quot;false&quot; level=&quot;DEBUG&quot; &gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE_CQL&quot; /&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;root level=&quot;INFO&quot; &gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  Now create converter the we referred in xml file \r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class CqlQueryExtractor extends ClassicConverter {\r\n\r\n\r\n        @Override\r\n        public String convert(ILoggingEvent iLoggingEvent) {\r\n            Object[] args = iLoggingEvent.getArgumentArray();\r\n            for(Object arg : args){\r\n                if(arg instanceof SimpleStatement){\r\n                    return ((SimpleStatement)arg).getQuery();\r\n                }\r\n            }\r\n            return iLoggingEvent.toString();\r\n\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n***2) Using QueryLogger*** \r\n\r\nThe **`QueryLogger`** provides clients with the ability to log queries executed by the driver, and especially, it allows client to track slow queries, i.e. queries that take longer to complete than a configured threshold in milliseconds.\r\n\r\n   \r\n\r\n     \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Cluster cluster = ...\r\n    QueryLogger queryLogger = QueryLogger.builder(cluster)\r\n        .withConstantThreshold(...)\r\n        .withMaxQueryStringLength(...)\r\n    .build();\r\n    cluster.register(queryLogger);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nFollow the official Docs for more [docs][1]\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/2.1/manual/logging/#logging-query-latencies\r\n","title":"Log queries executed by Spring Data Cassandra","body":"<p>There are ways to achieve this</p>\n<p><em><strong>1) Setting the cassandra logging level to DEBUG</strong></em></p>\n<p><em><strong>logging.level.org.springframework.data.cassandra.core.cql.CqlTemplate=DEBUG</strong></em></p>\n<p>By enabling the debug logs you can see the queries , but you may see the java objects instead of actual queries . For that you can use logback , logback has conversionRule  to convert the log line  and log them as we want . So we will use conversionRule to convert the java object to queries</p>\n<p>First thing is to setup few loggers and appenders by creating logback.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;conversionRule conversionWord=&quot;cql&quot; converterClass=&quot;com.converter.CqlQueryExtractor&quot; /&gt;\n\n    &lt;appender name=&quot;CONSOLE_CQL&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; &gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                 %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %cql%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; &gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %X{Nonce} - %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n\n    &lt;logger name=&quot;org.springframework.data.cassandra&quot; additivity=&quot;false&quot; level=&quot;DEBUG&quot; &gt;\n        &lt;appender-ref ref=&quot;CONSOLE_CQL&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;INFO&quot; &gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Now create converter the we referred in xml file</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CqlQueryExtractor extends ClassicConverter {\n\n\n    @Override\n    public String convert(ILoggingEvent iLoggingEvent) {\n        Object[] args = iLoggingEvent.getArgumentArray();\n        for(Object arg : args){\n            if(arg instanceof SimpleStatement){\n                return ((SimpleStatement)arg).getQuery();\n            }\n        }\n        return iLoggingEvent.toString();\n\n    }\n}\n</code></pre>\n<p><em><strong>2) Using QueryLogger</strong></em></p>\n<p>The <strong><code>QueryLogger</code></strong> provides clients with the ability to log queries executed by the driver, and especially, it allows client to track slow queries, i.e. queries that take longer to complete than a configured threshold in milliseconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cluster cluster = ...\nQueryLogger queryLogger = QueryLogger.builder(cluster)\n    .withConstantThreshold(...)\n    .withMaxQueryStringLength(...)\n.build();\ncluster.register(queryLogger);\n</code></pre>\n<p>Follow the official Docs for more <a href=\"https://docs.datastax.com/en/developer/java-driver/2.1/manual/logging/#logging-query-latencies\" rel=\"nofollow noreferrer\">docs</a></p>\n"}],"owner":{"account_id":9899447,"reputation":431,"user_id":7329898,"accept_rate":0,"display_name":"venkat g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676015837,"creation_date":1542293515,"question_id":53322089,"body_markdown":"We are using `AbstractCassandraConfiguration` to configure `cassandra entities`, is there a way to log queries executed by the application using `application.properties`?\r\n\r\nThanks.","title":"Log queries executed by Spring Data Cassandra","body":"<p>We are using <code>AbstractCassandraConfiguration</code> to configure <code>cassandra entities</code>, is there a way to log queries executed by the application using <code>application.properties</code>?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","elasticsearch","elastic-stack","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":3633664,"reputation":2409,"user_id":3029337,"display_name":"glenacota"},"score":0,"creation_date":1676730968,"post_id":75408278,"comment_id":133198178,"body_markdown":"some questions: (1) What is the response time of the native query? (2) how many results do you need to visualize? (3) do you need to include all fields in the response? (4) what&#39;s the version of the library? (you&#39;re using an API which is now deprecated)","body":"some questions: (1) What is the response time of the native query? (2) how many results do you need to visualize? (3) do you need to include all fields in the response? (4) what&#39;s the version of the library? (you&#39;re using an API which is now deprecated)"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676015691,"creation_date":1676015691,"question_id":75408278,"body_markdown":"We have an elasticsearch that contains millions of records and we are using it for a global searching. However, our query takes 2-4 seconds to return result. Can somebody help or advice how to further optimize the following query:\r\n\r\n        NativeSearchQueryBuilder query = new NativeSearchQueryBuilder()\r\n        .withQuery(QueryBuilders.boolQuery()\r\n            .should(QueryBuilders.termQuery(&quot;name&quot;, searchText))\r\n            .should(QueryBuilders.termQuery(&quot;key&quot;, searchText))\r\n            .should(QueryBuilders.termQuery(&quot;sort_alpha&quot;, searchText))\r\n            .should(QueryBuilders.termQuery(&quot;sort_number&quot;, searchText))\r\n        ).withPageable(PageRequest.of(0, 100))\r\n        .withHighlightFields(new HighlightBuilder.Field(&quot;name&quot;),\r\n            new HighlightBuilder.Field(&quot;key&quot;),\r\n            new HighlightBuilder.Field(&quot;sort_alpha&quot;),\r\n            new HighlightBuilder.Field(&quot;sort_number&quot;)\r\n        .build();","title":"Elasticsearch + Java - Can you further optimize this query?","body":"<p>We have an elasticsearch that contains millions of records and we are using it for a global searching. However, our query takes 2-4 seconds to return result. Can somebody help or advice how to further optimize the following query:</p>\n<pre><code>    NativeSearchQueryBuilder query = new NativeSearchQueryBuilder()\n    .withQuery(QueryBuilders.boolQuery()\n        .should(QueryBuilders.termQuery(&quot;name&quot;, searchText))\n        .should(QueryBuilders.termQuery(&quot;key&quot;, searchText))\n        .should(QueryBuilders.termQuery(&quot;sort_alpha&quot;, searchText))\n        .should(QueryBuilders.termQuery(&quot;sort_number&quot;, searchText))\n    ).withPageable(PageRequest.of(0, 100))\n    .withHighlightFields(new HighlightBuilder.Field(&quot;name&quot;),\n        new HighlightBuilder.Field(&quot;key&quot;),\n        new HighlightBuilder.Field(&quot;sort_alpha&quot;),\n        new HighlightBuilder.Field(&quot;sort_number&quot;)\n    .build();\n</code></pre>\n"},{"tags":["java","spring","oracle","jdbc","spring-jdbc"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1676014892,"post_id":75408161,"comment_id":133055480,"body_markdown":"SUM(X) and X are not the same, so my guess: your problem is here: .totalNumbersOfCard(rs.getString(&quot;SUMCARD&quot;)) (and the others like it). adjust your query to: SUM(SUMCARD) AS SUMCARD","body":"SUM(X) and X are not the same, so my guess: your problem is here: .totalNumbersOfCard(rs.getString(&quot;SUMCARD&quot;)) (and the others like it). adjust your query to: SUM(SUMCARD) AS SUMCARD"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676014979,"post_id":75408161,"comment_id":133055499,"body_markdown":"Please specify the DBMS you&#39;re using. Your query doesn&#39;t have columns `SUMCARD`, `SUMERRORTXN` and `SUMERRORTXNCARD`, or at least, not all DBMSes alias `SUM` columns with the name of the column that is summed, so you should alias them explicitly, e.g. `SUM(TEMP.SUMCARD) AS SUMCARD`.","body":"Please specify the DBMS you&#39;re using. Your query doesn&#39;t have columns <code>SUMCARD</code>, <code>SUMERRORTXN</code> and <code>SUMERRORTXNCARD</code>, or at least, not all DBMSes alias <code>SUM</code> columns with the name of the column that is summed, so you should alias them explicitly, e.g. <code>SUM(TEMP.SUMCARD) AS SUMCARD</code>."},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1676015198,"post_id":75408161,"comment_id":133055542,"body_markdown":"@MarkRotteveel sorry I forget to tell, It is PLSQL","body":"@MarkRotteveel sorry I forget to tell, It is PLSQL"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676015221,"post_id":75408161,"comment_id":133055546,"body_markdown":"You mean Oracle?","body":"You mean Oracle?"},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1676015362,"post_id":75408161,"comment_id":133055592,"body_markdown":"@MarkRotteveel yes it is oracle","body":"@MarkRotteveel yes it is oracle"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676015576,"creation_date":1676015576,"answer_id":75408259,"question_id":75408161,"body_markdown":"The problem is that your query doesn&#39;t actually have columns `SUMCARD`, `SUMERRORTXN` and `SUMERRORTXNCARD`. Although there are DBMSes that alias `SUM` columns with the name of the column that is summed, Oracle is not one of them. IIRC, Oracle aliases it as, for example, `&quot;SUM(SUMCARD)&quot;` or maybe `&quot;SUM(TEMP.SUMCARD)&quot;`. However, that is an implementation detail you should not rely on in my opinion. \r\n\r\nTo get the name you want to use, you need to alias your `SUM` columns explicitly, e.g. `SUM(TEMP.SUMCARD) AS SUMCARD`. ","title":"RowMapper invalid column name error in Java","body":"<p>The problem is that your query doesn't actually have columns <code>SUMCARD</code>, <code>SUMERRORTXN</code> and <code>SUMERRORTXNCARD</code>. Although there are DBMSes that alias <code>SUM</code> columns with the name of the column that is summed, Oracle is not one of them. IIRC, Oracle aliases it as, for example, <code>&quot;SUM(SUMCARD)&quot;</code> or maybe <code>&quot;SUM(TEMP.SUMCARD)&quot;</code>. However, that is an implementation detail you should not rely on in my opinion.</p>\n<p>To get the name you want to use, you need to alias your <code>SUM</code> columns explicitly, e.g. <code>SUM(TEMP.SUMCARD) AS SUMCARD</code>.</p>\n"}],"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408259,"answer_count":1,"score":0,"last_activity_date":1676015576,"creation_date":1676014756,"question_id":75408161,"body_markdown":"I have a query and it works well on the database. However, when I tried to take them as a Java object by using RowMapper, I get an invalid column name error. I checked everything, but I don&#39;t understand the reason why this error happening.\r\n\r\nMy query: \r\n```sql\r\nSELECT TEMP.SUMALLTXN, SUM(TEMP.SUMCARD), SUM(TEMP.SUMERRORTXN), SUM(TEMP.SUMERRORTXNCARD)\r\nFROM\r\n(SELECT\r\nSUM(COUNT(*)) OVER() AS SUMALLTXN,\r\n\r\nCOUNT(mdmtxn.BIN) OVER (PARTITION BY mdmtxn.BIN) AS SUMCARD,\r\n\r\nSUM(case when mdmtxn.MDSTATUS NOT IN (&#39;1&#39;,&#39;9&#39;, &#39;60&#39;) then 1 else 0 end) AS SUMERRORTXN,\r\n\r\nSUM(case when mdmtxn.MDSTATUS NOT IN (&#39;1&#39;,&#39;9&#39;, &#39;60&#39;) then 1 else 0 end) OVER (PARTITION BY mdmtxn.BIN) AS SUMERRORTXNCARD\r\n\r\nFROM MDM59.MDMTRANSACTION2 mdmtxn WHERE\r\n    mdmtxn.CREATEDDATE &lt; TO_CHAR(SYSDATE - INTERVAL &#39;:initialMinuteParameterValue&#39; MINUTE ,&#39;YYYYMMDD HH24:MI:SS&#39;) AND\r\n    mdmtxn.CREATEDDATE &gt; TO_CHAR(SYSDATE - INTERVAL &#39;:intervalMinuteParameterValue&#39; MINUTE ,&#39;YYYYMMDD HH24:MI:SS&#39;)\r\nGROUP BY mdmtxn.MDSTATUS, mdmtxn.BIN\r\n) TEMP\r\nGROUP BY TEMP.SUMALLTXN\r\n```\r\nMy RowMapper:\r\n```java\r\n@Component\r\npublic class TotalTransactionsReportRw implements RowMapper&lt;TotalTransactionsReportDto&gt; {\r\n\r\n    @Override\r\n    public TotalTransactionsReportDto mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        return TotalTransactionsReportDto.builder()\r\n                .totalNumbersOfTransactions(rs.getString(&quot;SUMALLTXN&quot;))\r\n                .totalNumbersOfCard(rs.getString(&quot;SUMCARD&quot;))\r\n                .totalNumbersOfErrorTransactions(rs.getString(&quot;SUMERRORTXN&quot;))\r\n                .totalNumbersOfErrorCard(rs.getString(&quot;SUMERRORTXNCARD&quot;))\r\n                .build();\r\n    }\r\n\r\n    private static class TotalTransactionsDetailRwHolder {\r\n        private static final TotalTransactionsReportRw INSTANCE = new TotalTransactionsReportRw();\r\n    }\r\n\r\n    public static TotalTransactionsReportRw getInstance() {\r\n        return TotalTransactionsReportRw.TotalTransactionsDetailRwHolder.INSTANCE;\r\n    }\r\n}\r\n```\r\n\r\nMy Dto:\r\n\r\n  \r\n```java\r\n@Value\r\n@Builder\r\n@Data\r\npublic class TotalTransactionsReportDto {\r\n    private String totalNumbersOfTransactions;\r\n    private String totalNumbersOfCard;\r\n    private String totalNumbersOfErrorTransactions;\r\n    private String totalNumbersOfErrorCard;\r\n}\r\n```\r\n\r\nAnd in my tasklet class I created a list to get all data from rowmapper:\r\n\r\n```java\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class NotificationTasklet implements Tasklet {\r\n\r\n    private final PofPostOfficeServiceClient pofPostOfficeServiceClient;\r\n    private final SequenceSysGuid sequenceSysGuid;\r\n    private final BatchProps batchProps;\r\n    private JdbcTemplate jdbcTemplate;\r\n    private String notificationMailSql;\r\n    private String totalTransactionsSql;\r\n    private String endOfHtmlString = &quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    private String endOfTableString = &quot;&lt;/table&gt;&quot;;\r\n    private String jobName = &quot;vpos-notification&quot;;\r\n    private String tdClose = &quot;&lt;/td&gt;&quot;;`\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\r\n\r\n        List&lt;VposNotificationBatchDto&gt; notificationList = getNotificationList();\r\n\r\n        List&lt;TotalTransactionsReportDto&gt; totalTransactionsList = getTotalTransactionsList();\r\n\r\n        AlertMailDto alertMailDto = createAlertMailDto(notificationList,totalTransactionsList);\r\n\r\n        if (!(notificationList.isEmpty())) {\r\n            sendMail(alertMailDto);\r\n        }\r\n\r\n        return RepeatStatus.FINISHED;\r\n    }\r\n\r\n    List&lt;TotalTransactionsReportDto&gt; getTotalTransactionsList() {\r\n        return jdbcTemplate.query(\r\n                totalTransactionsSql,\r\n                new TotalTransactionsReportRw());\r\n    }\r\n\r\n    @Autowired\r\n    public void     setTotalTransactionsSql(@Value(&quot;classpath:sql/vposnotification/select_total_transactions_data.sql&quot;)\r\n                                               Resource res) {\r\n        int intervalnext = batchProps.getJobProps()\r\n                .get(jobName).getAlertProps().getIntervalMinuteParameterValue();\r\n        String intervalMinutes = String.valueOf(intervalnext);\r\n\r\n        int initialMinuteParameterValue = batchProps.getJobProps()\r\n                .get(jobName).getAlertProps().getInitialMinuteParameterValue();\r\n        String initialMinutes = String.valueOf(initialMinuteParameterValue);\r\n\r\n        this.totalTransactionsSql = SqlUtils.readSql(res);\r\n             this.totalTransactionsSql = this.totalTransactionsSql.replace(&quot;:initialMinuteParameterValue&quot;,          initialMinutes);\r\n              this.totalTransactionsSql = this.totalTransactionsSql.replace(&quot;:intervalMinuteParameterValue&quot;,     intervalMinutes);\r\n    }\r\n\r\n    @Autowired\r\n    public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {\r\n         this.jdbcTemplate = jdbcTemplate;\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"RowMapper invalid column name error in Java","body":"<p>I have a query and it works well on the database. However, when I tried to take them as a Java object by using RowMapper, I get an invalid column name error. I checked everything, but I don't understand the reason why this error happening.</p>\n<p>My query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT TEMP.SUMALLTXN, SUM(TEMP.SUMCARD), SUM(TEMP.SUMERRORTXN), SUM(TEMP.SUMERRORTXNCARD)\nFROM\n(SELECT\nSUM(COUNT(*)) OVER() AS SUMALLTXN,\n\nCOUNT(mdmtxn.BIN) OVER (PARTITION BY mdmtxn.BIN) AS SUMCARD,\n\nSUM(case when mdmtxn.MDSTATUS NOT IN ('1','9', '60') then 1 else 0 end) AS SUMERRORTXN,\n\nSUM(case when mdmtxn.MDSTATUS NOT IN ('1','9', '60') then 1 else 0 end) OVER (PARTITION BY mdmtxn.BIN) AS SUMERRORTXNCARD\n\nFROM MDM59.MDMTRANSACTION2 mdmtxn WHERE\n    mdmtxn.CREATEDDATE &lt; TO_CHAR(SYSDATE - INTERVAL ':initialMinuteParameterValue' MINUTE ,'YYYYMMDD HH24:MI:SS') AND\n    mdmtxn.CREATEDDATE &gt; TO_CHAR(SYSDATE - INTERVAL ':intervalMinuteParameterValue' MINUTE ,'YYYYMMDD HH24:MI:SS')\nGROUP BY mdmtxn.MDSTATUS, mdmtxn.BIN\n) TEMP\nGROUP BY TEMP.SUMALLTXN\n</code></pre>\n<p>My RowMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class TotalTransactionsReportRw implements RowMapper&lt;TotalTransactionsReportDto&gt; {\n\n    @Override\n    public TotalTransactionsReportDto mapRow(ResultSet rs, int rowNum) throws SQLException {\n        return TotalTransactionsReportDto.builder()\n                .totalNumbersOfTransactions(rs.getString(&quot;SUMALLTXN&quot;))\n                .totalNumbersOfCard(rs.getString(&quot;SUMCARD&quot;))\n                .totalNumbersOfErrorTransactions(rs.getString(&quot;SUMERRORTXN&quot;))\n                .totalNumbersOfErrorCard(rs.getString(&quot;SUMERRORTXNCARD&quot;))\n                .build();\n    }\n\n    private static class TotalTransactionsDetailRwHolder {\n        private static final TotalTransactionsReportRw INSTANCE = new TotalTransactionsReportRw();\n    }\n\n    public static TotalTransactionsReportRw getInstance() {\n        return TotalTransactionsReportRw.TotalTransactionsDetailRwHolder.INSTANCE;\n    }\n}\n</code></pre>\n<p>My Dto:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\n@Builder\n@Data\npublic class TotalTransactionsReportDto {\n    private String totalNumbersOfTransactions;\n    private String totalNumbersOfCard;\n    private String totalNumbersOfErrorTransactions;\n    private String totalNumbersOfErrorCard;\n}\n</code></pre>\n<p>And in my tasklet class I created a list to get all data from rowmapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class NotificationTasklet implements Tasklet {\n\n    private final PofPostOfficeServiceClient pofPostOfficeServiceClient;\n    private final SequenceSysGuid sequenceSysGuid;\n    private final BatchProps batchProps;\n    private JdbcTemplate jdbcTemplate;\n    private String notificationMailSql;\n    private String totalTransactionsSql;\n    private String endOfHtmlString = &quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n    private String endOfTableString = &quot;&lt;/table&gt;&quot;;\n    private String jobName = &quot;vpos-notification&quot;;\n    private String tdClose = &quot;&lt;/td&gt;&quot;;`\n\n    @Override\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\n\n        List&lt;VposNotificationBatchDto&gt; notificationList = getNotificationList();\n\n        List&lt;TotalTransactionsReportDto&gt; totalTransactionsList = getTotalTransactionsList();\n\n        AlertMailDto alertMailDto = createAlertMailDto(notificationList,totalTransactionsList);\n\n        if (!(notificationList.isEmpty())) {\n            sendMail(alertMailDto);\n        }\n\n        return RepeatStatus.FINISHED;\n    }\n\n    List&lt;TotalTransactionsReportDto&gt; getTotalTransactionsList() {\n        return jdbcTemplate.query(\n                totalTransactionsSql,\n                new TotalTransactionsReportRw());\n    }\n\n    @Autowired\n    public void     setTotalTransactionsSql(@Value(&quot;classpath:sql/vposnotification/select_total_transactions_data.sql&quot;)\n                                               Resource res) {\n        int intervalnext = batchProps.getJobProps()\n                .get(jobName).getAlertProps().getIntervalMinuteParameterValue();\n        String intervalMinutes = String.valueOf(intervalnext);\n\n        int initialMinuteParameterValue = batchProps.getJobProps()\n                .get(jobName).getAlertProps().getInitialMinuteParameterValue();\n        String initialMinutes = String.valueOf(initialMinuteParameterValue);\n\n        this.totalTransactionsSql = SqlUtils.readSql(res);\n             this.totalTransactionsSql = this.totalTransactionsSql.replace(&quot;:initialMinuteParameterValue&quot;,          initialMinutes);\n              this.totalTransactionsSql = this.totalTransactionsSql.replace(&quot;:intervalMinuteParameterValue&quot;,     intervalMinutes);\n    }\n\n    @Autowired\n    public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {\n         this.jdbcTemplate = jdbcTemplate;\n    }\n</code></pre>\n"},{"tags":["java","object","casting","formatting","numbers"],"comments":[{"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"score":0,"creation_date":1675941509,"post_id":75396205,"comment_id":133037878,"body_markdown":"Would you identify the library used for transferring a Java object to JSON string?","body":"Would you identify the library used for transferring a Java object to JSON string?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675941541,"post_id":75396205,"comment_id":133037891,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25791289,"reputation":1,"user_id":19535325,"display_name":"Dmitry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676015500,"creation_date":1675932778,"question_id":75396205,"body_markdown":"I have Map&lt;String, Object&gt; where Object is List&lt;Object&gt; and one them - Double. **Debugger show [0.0](https://i.stack.imgur.com/UNd7E.png) **,\r\n but **result in Swagger [0](https://i.stack.imgur.com/HCw5O.png)**. Can I save fractional part like a number (not String) with the same structure? \r\n\r\nI tried DecimalFormat and so on, but they gave string format response, I need numeric format.","title":"Java always trim a zero fractional part in an Object class?","body":"<p>I have Map&lt;String, Object&gt; where Object is List and one them - Double. **Debugger show <a href=\"https://i.stack.imgur.com/UNd7E.png\" rel=\"nofollow noreferrer\">0.0</a> **,\nbut <strong>result in Swagger <a href=\"https://i.stack.imgur.com/HCw5O.png\" rel=\"nofollow noreferrer\">0</a></strong>. Can I save fractional part like a number (not String) with the same structure?</p>\n<p>I tried DecimalFormat and so on, but they gave string format response, I need numeric format.</p>\n"},{"tags":["java","html","css","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1459752244,"post_id":23220575,"comment_id":60408773,"body_markdown":"Your code looks you are using java","body":"Your code looks you are using java"},{"owner":{"account_id":6629323,"reputation":2067,"user_id":5118465,"accept_rate":75,"display_name":"Henning Luther"},"score":0,"creation_date":1532359001,"post_id":23220575,"comment_id":89933063,"body_markdown":"do u now know how to get the actual rendered color with a font?","body":"do u now know how to get the actual rendered color with a font?"}],"answers":[{"tags":[],"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398192100,"creation_date":1398187105,"answer_id":23226168,"question_id":23220575,"body_markdown":"With XPath you can try to search by attribute. For example `//div[@style=&#39;background: red&#39;]`. If you want to get color then for CSS I would use method [getCSSValue()][1]\r\n\r\n\r\n  [1]: http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebElement.html#getCssValue%28java.lang.String%29","title":"How to get element color with Selenium","body":"<p>With XPath you can try to search by attribute. For example <code>//div[@style='background: red']</code>. If you want to get color then for CSS I would use method <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebElement.html#getCssValue%28java.lang.String%29\" rel=\"nofollow\">getCSSValue()</a></p>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1459754369,"creation_date":1459754369,"answer_id":36396654,"question_id":23220575,"body_markdown":"You can get the element color(Background color of element) by:\r\n\r\n    element.getCssValue(&quot;background-color&quot;);\r\n\r\nYou can get the element text/caption color by:\r\n\r\n    element.getCssValue(&quot;color&quot;);\r\n\r\nFor example if you want to get the background and text color of &quot;Sign in&quot; button for LinkedIn, the code is as follows:\r\n\r\n    driver.get(&quot;https://www.linkedin.com/&quot;);\r\n    \t    String buttonColor = driver.findElement(By.name(&quot;submit&quot;)).getCssValue(&quot;background-color&quot;);\r\n    \t    String buttonTextColor = driver.findElement(By.name(&quot;submit&quot;)).getCssValue(&quot;color&quot;);\r\n    \t    System.out.println(&quot;Button color: &quot; + buttonColor);\r\n    \t    System.out.println(&quot;Text color &quot; + buttonTextColor);","title":"How to get element color with Selenium","body":"<p>You can get the element color(Background color of element) by:</p>\n\n<pre><code>element.getCssValue(\"background-color\");\n</code></pre>\n\n<p>You can get the element text/caption color by:</p>\n\n<pre><code>element.getCssValue(\"color\");\n</code></pre>\n\n<p>For example if you want to get the background and text color of \"Sign in\" button for LinkedIn, the code is as follows:</p>\n\n<pre><code>driver.get(\"https://www.linkedin.com/\");\n        String buttonColor = driver.findElement(By.name(\"submit\")).getCssValue(\"background-color\");\n        String buttonTextColor = driver.findElement(By.name(\"submit\")).getCssValue(\"color\");\n        System.out.println(\"Button color: \" + buttonColor);\n        System.out.println(\"Text color \" + buttonTextColor);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10737218,"reputation":151,"user_id":7901526,"display_name":"Fai Hasan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1513358364,"creation_date":1496837031,"answer_id":44412145,"question_id":23220575,"body_markdown":"try this, worked perfect for me:\r\n\r\n    import org.openqa.selenium.support.Color;\r\n    \r\n    String color = driver.findElement(By.xpath(&quot;xpath_value&quot;)).getCssValue(&quot;color&quot;);\r\n    System.out.println(color);\r\n    String hex = Color.fromString(color).asHex();\r\n    System.out.println(hex);\r\n\r\nSo you can get color using `getCssValue(&quot;color&quot;);` and  `getCssValue(&quot;background-color&quot;);`.\r\nHowever, that would be in RGB, so you need to convert to hex. With hex code you can then compare the value and print it out so that you can see what you are getting after each `getCssValue`.","title":"How to get element color with Selenium","body":"<p>try this, worked perfect for me:</p>\n\n<pre><code>import org.openqa.selenium.support.Color;\n\nString color = driver.findElement(By.xpath(\"xpath_value\")).getCssValue(\"color\");\nSystem.out.println(color);\nString hex = Color.fromString(color).asHex();\nSystem.out.println(hex);\n</code></pre>\n\n<p>So you can get color using <code>getCssValue(\"color\");</code> and  <code>getCssValue(\"background-color\");</code>.\nHowever, that would be in RGB, so you need to convert to hex. With hex code you can then compare the value and print it out so that you can see what you are getting after each <code>getCssValue</code>.</p>\n"},{"tags":[],"owner":{"account_id":2425876,"reputation":700,"user_id":2117814,"display_name":"Nagarjuna Yalamanchili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580969482,"creation_date":1580969482,"answer_id":60088700,"question_id":23220575,"body_markdown":"**Try below code**\r\n\r\n    public String ColorVerify(String cssSelector, String cssValue)\r\n\t{\r\n\t\t/* This method used to verify color code*/\r\n\t\tWebElement target = driver.findElement(By.cssSelector(cssSelector));\r\n\t\tString colorCode= target.getCssValue(cssValue);\r\n\t\tString hexacolor = Color.fromString(colorCode).asHex();\r\n\t\treturn hexacolor;\t\r\n\t}","title":"How to get element color with Selenium","body":"<p><strong>Try below code</strong></p>\n\n<pre><code>public String ColorVerify(String cssSelector, String cssValue)\n{\n    /* This method used to verify color code*/\n    WebElement target = driver.findElement(By.cssSelector(cssSelector));\n    String colorCode= target.getCssValue(cssValue);\n    String hexacolor = Color.fromString(colorCode).asHex();\n    return hexacolor;   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676015039,"creation_date":1676015039,"answer_id":75408195,"question_id":23220575,"body_markdown":"If you want to validate with selenium the color by Name, you can add this class in your utils files and use it in your tests for color validation.\r\n\r\n    import java.awt.*;\r\n    import java.lang.reflect.Field;\r\n    import java.util.ArrayList;\r\n    \r\n    public class ColorUtils {\r\n\r\n    private static ArrayList&lt;ColorName&gt; initColorList() {\r\n        ArrayList&lt;ColorName&gt; colorList = new ArrayList&lt;&gt;();\r\n        colorList.add(new ColorName(&quot;AliceBlue&quot;, 0xF0, 0xF8, 0xFF));\r\n        colorList.add(new ColorName(&quot;AntiqueWhite&quot;, 0xFA, 0xEB, 0xD7));\r\n        colorList.add(new ColorName(&quot;Aqua&quot;, 0x00, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;Aquamarine&quot;, 0x7F, 0xFF, 0xD4));\r\n        colorList.add(new ColorName(&quot;Azure&quot;, 0xF0, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;Beige&quot;, 0xF5, 0xF5, 0xDC));\r\n        colorList.add(new ColorName(&quot;Bisque&quot;, 0xFF, 0xE4, 0xC4));\r\n        colorList.add(new ColorName(&quot;Black&quot;, 0x00, 0x00, 0x00));\r\n        colorList.add(new ColorName(&quot;BlanchedAlmond&quot;, 0xFF, 0xEB, 0xCD));\r\n        colorList.add(new ColorName(&quot;Blue&quot;, 0x00, 0x00, 0xFF));\r\n        colorList.add(new ColorName(&quot;BlueViolet&quot;, 0x8A, 0x2B, 0xE2));\r\n        colorList.add(new ColorName(&quot;Brown&quot;, 0xA5, 0x2A, 0x2A));\r\n        colorList.add(new ColorName(&quot;BurlyWood&quot;, 0xDE, 0xB8, 0x87));\r\n        colorList.add(new ColorName(&quot;CadetBlue&quot;, 0x5F, 0x9E, 0xA0));\r\n        colorList.add(new ColorName(&quot;Chartreuse&quot;, 0x7F, 0xFF, 0x00));\r\n        colorList.add(new ColorName(&quot;Chocolate&quot;, 0xD2, 0x69, 0x1E));\r\n        colorList.add(new ColorName(&quot;Coral&quot;, 0xFF, 0x7F, 0x50));\r\n        colorList.add(new ColorName(&quot;CornflowerBlue&quot;, 0x64, 0x95, 0xED));\r\n        colorList.add(new ColorName(&quot;Cornsilk&quot;, 0xFF, 0xF8, 0xDC));\r\n        colorList.add(new ColorName(&quot;Crimson&quot;, 0xDC, 0x14, 0x3C));\r\n        colorList.add(new ColorName(&quot;Cyan&quot;, 0x00, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;DarkBlue&quot;, 0x00, 0x00, 0x8B));\r\n        colorList.add(new ColorName(&quot;DarkCyan&quot;, 0x00, 0x8B, 0x8B));\r\n        colorList.add(new ColorName(&quot;DarkGoldenRod&quot;, 0xB8, 0x86, 0x0B));\r\n        colorList.add(new ColorName(&quot;DarkGray&quot;, 0xA9, 0xA9, 0xA9));\r\n        colorList.add(new ColorName(&quot;DarkGreen&quot;, 0x00, 0x64, 0x00));\r\n        colorList.add(new ColorName(&quot;DarkKhaki&quot;, 0xBD, 0xB7, 0x6B));\r\n        colorList.add(new ColorName(&quot;DarkMagenta&quot;, 0x8B, 0x00, 0x8B));\r\n        colorList.add(new ColorName(&quot;DarkOliveGreen&quot;, 0x55, 0x6B, 0x2F));\r\n        colorList.add(new ColorName(&quot;DarkOrange&quot;, 0xFF, 0x8C, 0x00));\r\n        colorList.add(new ColorName(&quot;DarkOrchid&quot;, 0x99, 0x32, 0xCC));\r\n        colorList.add(new ColorName(&quot;DarkRed&quot;, 0x8B, 0x00, 0x00));\r\n        colorList.add(new ColorName(&quot;DarkSalmon&quot;, 0xE9, 0x96, 0x7A));\r\n        colorList.add(new ColorName(&quot;DarkSeaGreen&quot;, 0x8F, 0xBC, 0x8F));\r\n        colorList.add(new ColorName(&quot;DarkSlateBlue&quot;, 0x48, 0x3D, 0x8B));\r\n        colorList.add(new ColorName(&quot;DarkSlateGray&quot;, 0x2F, 0x4F, 0x4F));\r\n        colorList.add(new ColorName(&quot;DarkTurquoise&quot;, 0x00, 0xCE, 0xD1));\r\n        colorList.add(new ColorName(&quot;DarkViolet&quot;, 0x94, 0x00, 0xD3));\r\n        colorList.add(new ColorName(&quot;DeepPink&quot;, 0xFF, 0x14, 0x93));\r\n        colorList.add(new ColorName(&quot;DeepSkyBlue&quot;, 0x00, 0xBF, 0xFF));\r\n        colorList.add(new ColorName(&quot;DimGray&quot;, 0x69, 0x69, 0x69));\r\n        colorList.add(new ColorName(&quot;DodgerBlue&quot;, 0x1E, 0x90, 0xFF));\r\n        colorList.add(new ColorName(&quot;FireBrick&quot;, 0xB2, 0x22, 0x22));\r\n        colorList.add(new ColorName(&quot;FloralWhite&quot;, 0xFF, 0xFA, 0xF0));\r\n        colorList.add(new ColorName(&quot;ForestGreen&quot;, 0x22, 0x8B, 0x22));\r\n        colorList.add(new ColorName(&quot;Fuchsia&quot;, 0xFF, 0x00, 0xFF));\r\n        colorList.add(new ColorName(&quot;Gainsboro&quot;, 0xDC, 0xDC, 0xDC));\r\n        colorList.add(new ColorName(&quot;GhostWhite&quot;, 0xF8, 0xF8, 0xFF));\r\n        colorList.add(new ColorName(&quot;Gold&quot;, 0xFF, 0xD7, 0x00));\r\n        colorList.add(new ColorName(&quot;GoldenRod&quot;, 0xDA, 0xA5, 0x20));\r\n        colorList.add(new ColorName(&quot;Gray&quot;, 0x80, 0x80, 0x80));\r\n        colorList.add(new ColorName(&quot;Green&quot;, 0x00, 0x80, 0x00));\r\n        colorList.add(new ColorName(&quot;GreenYellow&quot;, 0xAD, 0xFF, 0x2F));\r\n        colorList.add(new ColorName(&quot;HoneyDew&quot;, 0xF0, 0xFF, 0xF0));\r\n        colorList.add(new ColorName(&quot;HotPink&quot;, 0xFF, 0x69, 0xB4));\r\n        colorList.add(new ColorName(&quot;IndianRed&quot;, 0xCD, 0x5C, 0x5C));\r\n        colorList.add(new ColorName(&quot;Indigo&quot;, 0x4B, 0x00, 0x82));\r\n        colorList.add(new ColorName(&quot;Ivory&quot;, 0xFF, 0xFF, 0xF0));\r\n        colorList.add(new ColorName(&quot;Khaki&quot;, 0xF0, 0xE6, 0x8C));\r\n        colorList.add(new ColorName(&quot;Lavender&quot;, 0xE6, 0xE6, 0xFA));\r\n        colorList.add(new ColorName(&quot;LavenderBlush&quot;, 0xFF, 0xF0, 0xF5));\r\n        colorList.add(new ColorName(&quot;LawnGreen&quot;, 0x7C, 0xFC, 0x00));\r\n        colorList.add(new ColorName(&quot;LemonChiffon&quot;, 0xFF, 0xFA, 0xCD));\r\n        colorList.add(new ColorName(&quot;LightBlue&quot;, 0xAD, 0xD8, 0xE6));\r\n        colorList.add(new ColorName(&quot;LightCoral&quot;, 0xF0, 0x80, 0x80));\r\n        colorList.add(new ColorName(&quot;LightCyan&quot;, 0xE0, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;LightGoldenRodYellow&quot;, 0xFA, 0xFA, 0xD2));\r\n        colorList.add(new ColorName(&quot;LightGray&quot;, 0xD3, 0xD3, 0xD3));\r\n        colorList.add(new ColorName(&quot;LightGreen&quot;, 0x90, 0xEE, 0x90));\r\n        colorList.add(new ColorName(&quot;LightPink&quot;, 0xFF, 0xB6, 0xC1));\r\n        colorList.add(new ColorName(&quot;LightSalmon&quot;, 0xFF, 0xA0, 0x7A));\r\n        colorList.add(new ColorName(&quot;LightSeaGreen&quot;, 0x20, 0xB2, 0xAA));\r\n        colorList.add(new ColorName(&quot;LightSkyBlue&quot;, 0x87, 0xCE, 0xFA));\r\n        colorList.add(new ColorName(&quot;LightSlateGray&quot;, 0x77, 0x88, 0x99));\r\n        colorList.add(new ColorName(&quot;LightSteelBlue&quot;, 0xB0, 0xC4, 0xDE));\r\n        colorList.add(new ColorName(&quot;LightYellow&quot;, 0xFF, 0xFF, 0xE0));\r\n        colorList.add(new ColorName(&quot;Lime&quot;, 0x00, 0xFF, 0x00));\r\n        colorList.add(new ColorName(&quot;LimeGreen&quot;, 0x32, 0xCD, 0x32));\r\n        colorList.add(new ColorName(&quot;Linen&quot;, 0xFA, 0xF0, 0xE6));\r\n        colorList.add(new ColorName(&quot;Magenta&quot;, 0xFF, 0x00, 0xFF));\r\n        colorList.add(new ColorName(&quot;Maroon&quot;, 0x80, 0x00, 0x00));\r\n        colorList.add(new ColorName(&quot;MediumAquaMarine&quot;, 0x66, 0xCD, 0xAA));\r\n        colorList.add(new ColorName(&quot;MediumBlue&quot;, 0x00, 0x00, 0xCD));\r\n        colorList.add(new ColorName(&quot;MediumOrchid&quot;, 0xBA, 0x55, 0xD3));\r\n        colorList.add(new ColorName(&quot;MediumPurple&quot;, 0x93, 0x70, 0xDB));\r\n        colorList.add(new ColorName(&quot;MediumSeaGreen&quot;, 0x3C, 0xB3, 0x71));\r\n        colorList.add(new ColorName(&quot;MediumSlateBlue&quot;, 0x7B, 0x68, 0xEE));\r\n        colorList.add(new ColorName(&quot;MediumSpringGreen&quot;, 0x00, 0xFA, 0x9A));\r\n        colorList.add(new ColorName(&quot;MediumTurquoise&quot;, 0x48, 0xD1, 0xCC));\r\n        colorList.add(new ColorName(&quot;MediumVioletRed&quot;, 0xC7, 0x15, 0x85));\r\n        colorList.add(new ColorName(&quot;MidnightBlue&quot;, 0x19, 0x19, 0x70));\r\n        colorList.add(new ColorName(&quot;MintCream&quot;, 0xF5, 0xFF, 0xFA));\r\n        colorList.add(new ColorName(&quot;MistyRose&quot;, 0xFF, 0xE4, 0xE1));\r\n        colorList.add(new ColorName(&quot;Moccasin&quot;, 0xFF, 0xE4, 0xB5));\r\n        colorList.add(new ColorName(&quot;NavajoWhite&quot;, 0xFF, 0xDE, 0xAD));\r\n        colorList.add(new ColorName(&quot;Navy&quot;, 0x00, 0x00, 0x80));\r\n        colorList.add(new ColorName(&quot;OldLace&quot;, 0xFD, 0xF5, 0xE6));\r\n        colorList.add(new ColorName(&quot;Olive&quot;, 0x80, 0x80, 0x00));\r\n        colorList.add(new ColorName(&quot;OliveDrab&quot;, 0x6B, 0x8E, 0x23));\r\n        colorList.add(new ColorName(&quot;Orange&quot;, 0xFF, 0xA5, 0x00));\r\n        colorList.add(new ColorName(&quot;OrangeRed&quot;, 0xFF, 0x45, 0x00));\r\n        colorList.add(new ColorName(&quot;Orchid&quot;, 0xDA, 0x70, 0xD6));\r\n        colorList.add(new ColorName(&quot;PaleGoldenRod&quot;, 0xEE, 0xE8, 0xAA));\r\n        colorList.add(new ColorName(&quot;PaleGreen&quot;, 0x98, 0xFB, 0x98));\r\n        colorList.add(new ColorName(&quot;PaleTurquoise&quot;, 0xAF, 0xEE, 0xEE));\r\n        colorList.add(new ColorName(&quot;PaleVioletRed&quot;, 0xDB, 0x70, 0x93));\r\n        colorList.add(new ColorName(&quot;PapayaWhip&quot;, 0xFF, 0xEF, 0xD5));\r\n        colorList.add(new ColorName(&quot;PeachPuff&quot;, 0xFF, 0xDA, 0xB9));\r\n        colorList.add(new ColorName(&quot;Peru&quot;, 0xCD, 0x85, 0x3F));\r\n        colorList.add(new ColorName(&quot;Pink&quot;, 0xFF, 0xC0, 0xCB));\r\n        colorList.add(new ColorName(&quot;Plum&quot;, 0xDD, 0xA0, 0xDD));\r\n        colorList.add(new ColorName(&quot;PowderBlue&quot;, 0xB0, 0xE0, 0xE6));\r\n        colorList.add(new ColorName(&quot;Purple&quot;, 0x80, 0x00, 0x80));\r\n        colorList.add(new ColorName(&quot;Red&quot;, 0xFF, 0x00, 0x00));\r\n        colorList.add(new ColorName(&quot;RosyBrown&quot;, 0xBC, 0x8F, 0x8F));\r\n        colorList.add(new ColorName(&quot;RoyalBlue&quot;, 0x41, 0x69, 0xE1));\r\n        colorList.add(new ColorName(&quot;SaddleBrown&quot;, 0x8B, 0x45, 0x13));\r\n        colorList.add(new ColorName(&quot;Salmon&quot;, 0xFA, 0x80, 0x72));\r\n        colorList.add(new ColorName(&quot;SandyBrown&quot;, 0xF4, 0xA4, 0x60));\r\n        colorList.add(new ColorName(&quot;SeaGreen&quot;, 0x2E, 0x8B, 0x57));\r\n        colorList.add(new ColorName(&quot;SeaShell&quot;, 0xFF, 0xF5, 0xEE));\r\n        colorList.add(new ColorName(&quot;Sienna&quot;, 0xA0, 0x52, 0x2D));\r\n        colorList.add(new ColorName(&quot;Silver&quot;, 0xC0, 0xC0, 0xC0));\r\n        colorList.add(new ColorName(&quot;SkyBlue&quot;, 0x87, 0xCE, 0xEB));\r\n        colorList.add(new ColorName(&quot;SlateBlue&quot;, 0x6A, 0x5A, 0xCD));\r\n        colorList.add(new ColorName(&quot;SlateGray&quot;, 0x70, 0x80, 0x90));\r\n        colorList.add(new ColorName(&quot;Snow&quot;, 0xFF, 0xFA, 0xFA));\r\n        colorList.add(new ColorName(&quot;SpringGreen&quot;, 0x00, 0xFF, 0x7F));\r\n        colorList.add(new ColorName(&quot;SteelBlue&quot;, 0x46, 0x82, 0xB4));\r\n        colorList.add(new ColorName(&quot;Tan&quot;, 0xD2, 0xB4, 0x8C));\r\n        colorList.add(new ColorName(&quot;Teal&quot;, 0x00, 0x80, 0x80));\r\n        colorList.add(new ColorName(&quot;Thistle&quot;, 0xD8, 0xBF, 0xD8));\r\n        colorList.add(new ColorName(&quot;Tomato&quot;, 0xFF, 0x63, 0x47));\r\n        colorList.add(new ColorName(&quot;Turquoise&quot;, 0x40, 0xE0, 0xD0));\r\n        colorList.add(new ColorName(&quot;Violet&quot;, 0xEE, 0x82, 0xEE));\r\n        colorList.add(new ColorName(&quot;Wheat&quot;, 0xF5, 0xDE, 0xB3));\r\n        colorList.add(new ColorName(&quot;White&quot;, 0xFF, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;WhiteSmoke&quot;, 0xF5, 0xF5, 0xF5));\r\n        colorList.add(new ColorName(&quot;Yellow&quot;, 0xFF, 0xFF, 0x00));\r\n        colorList.add(new ColorName(&quot;YellowGreen&quot;, 0x9A, 0xCD, 0x32));\r\n        return colorList;\r\n    }\r\n\r\n    public static String getColorNameFromRgb(int r, int g, int b) {\r\n        ArrayList&lt;ColorName&gt; colorList = initColorList();\r\n        ColorName closestMatch = null;\r\n        int minMSE = Integer.MAX_VALUE;\r\n        int mse;\r\n        for (ColorName c : colorList) {\r\n            mse = c.computeMSE(r, g, b);\r\n            if (mse &lt; minMSE) {\r\n                minMSE = mse;\r\n                closestMatch = c;\r\n            }\r\n        }\r\n\r\n        if (closestMatch != null) {\r\n            return closestMatch.getName();\r\n        } else {\r\n            return &quot;No matched color name.&quot;;\r\n        }\r\n    }\r\n\r\n    public static String getColorNameFromColor(Color color) {\r\n        return getColorNameFromRgb(color.getRed(), color.getGreen(),\r\n                color.getBlue());\r\n    }\r\n\r\n    public static Color stringToColor(final String value) {\r\n        if (value == null) {\r\n            return Color.black;\r\n        }\r\n        try {\r\n            return Color.decode(value);\r\n        } catch (NumberFormatException nfe) {\r\n            try {\r\n                final Field f = Color.class.getField(value);\r\n                return (Color) f.get(null);\r\n            } catch (Exception ce) {\r\n                return Color.black;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class ColorName {\r\n        public int r, g, b;\r\n        public String name;\r\n\r\n    public ColorName(String name, int r, int g, int b) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.name = name;\r\n    }\r\n\r\n    public int computeMSE(int pixR, int pixG, int pixB) {\r\n        return ((pixR - r) * (pixR - r) + (pixG - g) * (pixG - g) + (pixB - b)\r\n                * (pixB - b)) / 3;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n}`\r\n\r\nAn example of the usage of this class.\r\n\r\n    public String getElementColor(WebElement element) {\r\n    \r\n        String color = element.getCssValue(&quot;color&quot;);\r\n        String hex = Color.fromString(color).asHex();\r\n        java.awt.Color c = stringToColor(hex);\r\n        return getColorNameFromColor(c);\r\n    }\r\n\r\n","title":"How to get element color with Selenium","body":"<p>If you want to validate with selenium the color by Name, you can add this class in your utils files and use it in your tests for color validation.</p>\n<pre><code>import java.awt.*;\nimport java.lang.reflect.Field;\nimport java.util.ArrayList;\n\npublic class ColorUtils {\n\nprivate static ArrayList&lt;ColorName&gt; initColorList() {\n    ArrayList&lt;ColorName&gt; colorList = new ArrayList&lt;&gt;();\n    colorList.add(new ColorName(&quot;AliceBlue&quot;, 0xF0, 0xF8, 0xFF));\n    colorList.add(new ColorName(&quot;AntiqueWhite&quot;, 0xFA, 0xEB, 0xD7));\n    colorList.add(new ColorName(&quot;Aqua&quot;, 0x00, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;Aquamarine&quot;, 0x7F, 0xFF, 0xD4));\n    colorList.add(new ColorName(&quot;Azure&quot;, 0xF0, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;Beige&quot;, 0xF5, 0xF5, 0xDC));\n    colorList.add(new ColorName(&quot;Bisque&quot;, 0xFF, 0xE4, 0xC4));\n    colorList.add(new ColorName(&quot;Black&quot;, 0x00, 0x00, 0x00));\n    colorList.add(new ColorName(&quot;BlanchedAlmond&quot;, 0xFF, 0xEB, 0xCD));\n    colorList.add(new ColorName(&quot;Blue&quot;, 0x00, 0x00, 0xFF));\n    colorList.add(new ColorName(&quot;BlueViolet&quot;, 0x8A, 0x2B, 0xE2));\n    colorList.add(new ColorName(&quot;Brown&quot;, 0xA5, 0x2A, 0x2A));\n    colorList.add(new ColorName(&quot;BurlyWood&quot;, 0xDE, 0xB8, 0x87));\n    colorList.add(new ColorName(&quot;CadetBlue&quot;, 0x5F, 0x9E, 0xA0));\n    colorList.add(new ColorName(&quot;Chartreuse&quot;, 0x7F, 0xFF, 0x00));\n    colorList.add(new ColorName(&quot;Chocolate&quot;, 0xD2, 0x69, 0x1E));\n    colorList.add(new ColorName(&quot;Coral&quot;, 0xFF, 0x7F, 0x50));\n    colorList.add(new ColorName(&quot;CornflowerBlue&quot;, 0x64, 0x95, 0xED));\n    colorList.add(new ColorName(&quot;Cornsilk&quot;, 0xFF, 0xF8, 0xDC));\n    colorList.add(new ColorName(&quot;Crimson&quot;, 0xDC, 0x14, 0x3C));\n    colorList.add(new ColorName(&quot;Cyan&quot;, 0x00, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;DarkBlue&quot;, 0x00, 0x00, 0x8B));\n    colorList.add(new ColorName(&quot;DarkCyan&quot;, 0x00, 0x8B, 0x8B));\n    colorList.add(new ColorName(&quot;DarkGoldenRod&quot;, 0xB8, 0x86, 0x0B));\n    colorList.add(new ColorName(&quot;DarkGray&quot;, 0xA9, 0xA9, 0xA9));\n    colorList.add(new ColorName(&quot;DarkGreen&quot;, 0x00, 0x64, 0x00));\n    colorList.add(new ColorName(&quot;DarkKhaki&quot;, 0xBD, 0xB7, 0x6B));\n    colorList.add(new ColorName(&quot;DarkMagenta&quot;, 0x8B, 0x00, 0x8B));\n    colorList.add(new ColorName(&quot;DarkOliveGreen&quot;, 0x55, 0x6B, 0x2F));\n    colorList.add(new ColorName(&quot;DarkOrange&quot;, 0xFF, 0x8C, 0x00));\n    colorList.add(new ColorName(&quot;DarkOrchid&quot;, 0x99, 0x32, 0xCC));\n    colorList.add(new ColorName(&quot;DarkRed&quot;, 0x8B, 0x00, 0x00));\n    colorList.add(new ColorName(&quot;DarkSalmon&quot;, 0xE9, 0x96, 0x7A));\n    colorList.add(new ColorName(&quot;DarkSeaGreen&quot;, 0x8F, 0xBC, 0x8F));\n    colorList.add(new ColorName(&quot;DarkSlateBlue&quot;, 0x48, 0x3D, 0x8B));\n    colorList.add(new ColorName(&quot;DarkSlateGray&quot;, 0x2F, 0x4F, 0x4F));\n    colorList.add(new ColorName(&quot;DarkTurquoise&quot;, 0x00, 0xCE, 0xD1));\n    colorList.add(new ColorName(&quot;DarkViolet&quot;, 0x94, 0x00, 0xD3));\n    colorList.add(new ColorName(&quot;DeepPink&quot;, 0xFF, 0x14, 0x93));\n    colorList.add(new ColorName(&quot;DeepSkyBlue&quot;, 0x00, 0xBF, 0xFF));\n    colorList.add(new ColorName(&quot;DimGray&quot;, 0x69, 0x69, 0x69));\n    colorList.add(new ColorName(&quot;DodgerBlue&quot;, 0x1E, 0x90, 0xFF));\n    colorList.add(new ColorName(&quot;FireBrick&quot;, 0xB2, 0x22, 0x22));\n    colorList.add(new ColorName(&quot;FloralWhite&quot;, 0xFF, 0xFA, 0xF0));\n    colorList.add(new ColorName(&quot;ForestGreen&quot;, 0x22, 0x8B, 0x22));\n    colorList.add(new ColorName(&quot;Fuchsia&quot;, 0xFF, 0x00, 0xFF));\n    colorList.add(new ColorName(&quot;Gainsboro&quot;, 0xDC, 0xDC, 0xDC));\n    colorList.add(new ColorName(&quot;GhostWhite&quot;, 0xF8, 0xF8, 0xFF));\n    colorList.add(new ColorName(&quot;Gold&quot;, 0xFF, 0xD7, 0x00));\n    colorList.add(new ColorName(&quot;GoldenRod&quot;, 0xDA, 0xA5, 0x20));\n    colorList.add(new ColorName(&quot;Gray&quot;, 0x80, 0x80, 0x80));\n    colorList.add(new ColorName(&quot;Green&quot;, 0x00, 0x80, 0x00));\n    colorList.add(new ColorName(&quot;GreenYellow&quot;, 0xAD, 0xFF, 0x2F));\n    colorList.add(new ColorName(&quot;HoneyDew&quot;, 0xF0, 0xFF, 0xF0));\n    colorList.add(new ColorName(&quot;HotPink&quot;, 0xFF, 0x69, 0xB4));\n    colorList.add(new ColorName(&quot;IndianRed&quot;, 0xCD, 0x5C, 0x5C));\n    colorList.add(new ColorName(&quot;Indigo&quot;, 0x4B, 0x00, 0x82));\n    colorList.add(new ColorName(&quot;Ivory&quot;, 0xFF, 0xFF, 0xF0));\n    colorList.add(new ColorName(&quot;Khaki&quot;, 0xF0, 0xE6, 0x8C));\n    colorList.add(new ColorName(&quot;Lavender&quot;, 0xE6, 0xE6, 0xFA));\n    colorList.add(new ColorName(&quot;LavenderBlush&quot;, 0xFF, 0xF0, 0xF5));\n    colorList.add(new ColorName(&quot;LawnGreen&quot;, 0x7C, 0xFC, 0x00));\n    colorList.add(new ColorName(&quot;LemonChiffon&quot;, 0xFF, 0xFA, 0xCD));\n    colorList.add(new ColorName(&quot;LightBlue&quot;, 0xAD, 0xD8, 0xE6));\n    colorList.add(new ColorName(&quot;LightCoral&quot;, 0xF0, 0x80, 0x80));\n    colorList.add(new ColorName(&quot;LightCyan&quot;, 0xE0, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;LightGoldenRodYellow&quot;, 0xFA, 0xFA, 0xD2));\n    colorList.add(new ColorName(&quot;LightGray&quot;, 0xD3, 0xD3, 0xD3));\n    colorList.add(new ColorName(&quot;LightGreen&quot;, 0x90, 0xEE, 0x90));\n    colorList.add(new ColorName(&quot;LightPink&quot;, 0xFF, 0xB6, 0xC1));\n    colorList.add(new ColorName(&quot;LightSalmon&quot;, 0xFF, 0xA0, 0x7A));\n    colorList.add(new ColorName(&quot;LightSeaGreen&quot;, 0x20, 0xB2, 0xAA));\n    colorList.add(new ColorName(&quot;LightSkyBlue&quot;, 0x87, 0xCE, 0xFA));\n    colorList.add(new ColorName(&quot;LightSlateGray&quot;, 0x77, 0x88, 0x99));\n    colorList.add(new ColorName(&quot;LightSteelBlue&quot;, 0xB0, 0xC4, 0xDE));\n    colorList.add(new ColorName(&quot;LightYellow&quot;, 0xFF, 0xFF, 0xE0));\n    colorList.add(new ColorName(&quot;Lime&quot;, 0x00, 0xFF, 0x00));\n    colorList.add(new ColorName(&quot;LimeGreen&quot;, 0x32, 0xCD, 0x32));\n    colorList.add(new ColorName(&quot;Linen&quot;, 0xFA, 0xF0, 0xE6));\n    colorList.add(new ColorName(&quot;Magenta&quot;, 0xFF, 0x00, 0xFF));\n    colorList.add(new ColorName(&quot;Maroon&quot;, 0x80, 0x00, 0x00));\n    colorList.add(new ColorName(&quot;MediumAquaMarine&quot;, 0x66, 0xCD, 0xAA));\n    colorList.add(new ColorName(&quot;MediumBlue&quot;, 0x00, 0x00, 0xCD));\n    colorList.add(new ColorName(&quot;MediumOrchid&quot;, 0xBA, 0x55, 0xD3));\n    colorList.add(new ColorName(&quot;MediumPurple&quot;, 0x93, 0x70, 0xDB));\n    colorList.add(new ColorName(&quot;MediumSeaGreen&quot;, 0x3C, 0xB3, 0x71));\n    colorList.add(new ColorName(&quot;MediumSlateBlue&quot;, 0x7B, 0x68, 0xEE));\n    colorList.add(new ColorName(&quot;MediumSpringGreen&quot;, 0x00, 0xFA, 0x9A));\n    colorList.add(new ColorName(&quot;MediumTurquoise&quot;, 0x48, 0xD1, 0xCC));\n    colorList.add(new ColorName(&quot;MediumVioletRed&quot;, 0xC7, 0x15, 0x85));\n    colorList.add(new ColorName(&quot;MidnightBlue&quot;, 0x19, 0x19, 0x70));\n    colorList.add(new ColorName(&quot;MintCream&quot;, 0xF5, 0xFF, 0xFA));\n    colorList.add(new ColorName(&quot;MistyRose&quot;, 0xFF, 0xE4, 0xE1));\n    colorList.add(new ColorName(&quot;Moccasin&quot;, 0xFF, 0xE4, 0xB5));\n    colorList.add(new ColorName(&quot;NavajoWhite&quot;, 0xFF, 0xDE, 0xAD));\n    colorList.add(new ColorName(&quot;Navy&quot;, 0x00, 0x00, 0x80));\n    colorList.add(new ColorName(&quot;OldLace&quot;, 0xFD, 0xF5, 0xE6));\n    colorList.add(new ColorName(&quot;Olive&quot;, 0x80, 0x80, 0x00));\n    colorList.add(new ColorName(&quot;OliveDrab&quot;, 0x6B, 0x8E, 0x23));\n    colorList.add(new ColorName(&quot;Orange&quot;, 0xFF, 0xA5, 0x00));\n    colorList.add(new ColorName(&quot;OrangeRed&quot;, 0xFF, 0x45, 0x00));\n    colorList.add(new ColorName(&quot;Orchid&quot;, 0xDA, 0x70, 0xD6));\n    colorList.add(new ColorName(&quot;PaleGoldenRod&quot;, 0xEE, 0xE8, 0xAA));\n    colorList.add(new ColorName(&quot;PaleGreen&quot;, 0x98, 0xFB, 0x98));\n    colorList.add(new ColorName(&quot;PaleTurquoise&quot;, 0xAF, 0xEE, 0xEE));\n    colorList.add(new ColorName(&quot;PaleVioletRed&quot;, 0xDB, 0x70, 0x93));\n    colorList.add(new ColorName(&quot;PapayaWhip&quot;, 0xFF, 0xEF, 0xD5));\n    colorList.add(new ColorName(&quot;PeachPuff&quot;, 0xFF, 0xDA, 0xB9));\n    colorList.add(new ColorName(&quot;Peru&quot;, 0xCD, 0x85, 0x3F));\n    colorList.add(new ColorName(&quot;Pink&quot;, 0xFF, 0xC0, 0xCB));\n    colorList.add(new ColorName(&quot;Plum&quot;, 0xDD, 0xA0, 0xDD));\n    colorList.add(new ColorName(&quot;PowderBlue&quot;, 0xB0, 0xE0, 0xE6));\n    colorList.add(new ColorName(&quot;Purple&quot;, 0x80, 0x00, 0x80));\n    colorList.add(new ColorName(&quot;Red&quot;, 0xFF, 0x00, 0x00));\n    colorList.add(new ColorName(&quot;RosyBrown&quot;, 0xBC, 0x8F, 0x8F));\n    colorList.add(new ColorName(&quot;RoyalBlue&quot;, 0x41, 0x69, 0xE1));\n    colorList.add(new ColorName(&quot;SaddleBrown&quot;, 0x8B, 0x45, 0x13));\n    colorList.add(new ColorName(&quot;Salmon&quot;, 0xFA, 0x80, 0x72));\n    colorList.add(new ColorName(&quot;SandyBrown&quot;, 0xF4, 0xA4, 0x60));\n    colorList.add(new ColorName(&quot;SeaGreen&quot;, 0x2E, 0x8B, 0x57));\n    colorList.add(new ColorName(&quot;SeaShell&quot;, 0xFF, 0xF5, 0xEE));\n    colorList.add(new ColorName(&quot;Sienna&quot;, 0xA0, 0x52, 0x2D));\n    colorList.add(new ColorName(&quot;Silver&quot;, 0xC0, 0xC0, 0xC0));\n    colorList.add(new ColorName(&quot;SkyBlue&quot;, 0x87, 0xCE, 0xEB));\n    colorList.add(new ColorName(&quot;SlateBlue&quot;, 0x6A, 0x5A, 0xCD));\n    colorList.add(new ColorName(&quot;SlateGray&quot;, 0x70, 0x80, 0x90));\n    colorList.add(new ColorName(&quot;Snow&quot;, 0xFF, 0xFA, 0xFA));\n    colorList.add(new ColorName(&quot;SpringGreen&quot;, 0x00, 0xFF, 0x7F));\n    colorList.add(new ColorName(&quot;SteelBlue&quot;, 0x46, 0x82, 0xB4));\n    colorList.add(new ColorName(&quot;Tan&quot;, 0xD2, 0xB4, 0x8C));\n    colorList.add(new ColorName(&quot;Teal&quot;, 0x00, 0x80, 0x80));\n    colorList.add(new ColorName(&quot;Thistle&quot;, 0xD8, 0xBF, 0xD8));\n    colorList.add(new ColorName(&quot;Tomato&quot;, 0xFF, 0x63, 0x47));\n    colorList.add(new ColorName(&quot;Turquoise&quot;, 0x40, 0xE0, 0xD0));\n    colorList.add(new ColorName(&quot;Violet&quot;, 0xEE, 0x82, 0xEE));\n    colorList.add(new ColorName(&quot;Wheat&quot;, 0xF5, 0xDE, 0xB3));\n    colorList.add(new ColorName(&quot;White&quot;, 0xFF, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;WhiteSmoke&quot;, 0xF5, 0xF5, 0xF5));\n    colorList.add(new ColorName(&quot;Yellow&quot;, 0xFF, 0xFF, 0x00));\n    colorList.add(new ColorName(&quot;YellowGreen&quot;, 0x9A, 0xCD, 0x32));\n    return colorList;\n}\n\npublic static String getColorNameFromRgb(int r, int g, int b) {\n    ArrayList&lt;ColorName&gt; colorList = initColorList();\n    ColorName closestMatch = null;\n    int minMSE = Integer.MAX_VALUE;\n    int mse;\n    for (ColorName c : colorList) {\n        mse = c.computeMSE(r, g, b);\n        if (mse &lt; minMSE) {\n            minMSE = mse;\n            closestMatch = c;\n        }\n    }\n\n    if (closestMatch != null) {\n        return closestMatch.getName();\n    } else {\n        return &quot;No matched color name.&quot;;\n    }\n}\n\npublic static String getColorNameFromColor(Color color) {\n    return getColorNameFromRgb(color.getRed(), color.getGreen(),\n            color.getBlue());\n}\n\npublic static Color stringToColor(final String value) {\n    if (value == null) {\n        return Color.black;\n    }\n    try {\n        return Color.decode(value);\n    } catch (NumberFormatException nfe) {\n        try {\n            final Field f = Color.class.getField(value);\n            return (Color) f.get(null);\n        } catch (Exception ce) {\n            return Color.black;\n        }\n    }\n}\n\npublic static class ColorName {\n    public int r, g, b;\n    public String name;\n\npublic ColorName(String name, int r, int g, int b) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.name = name;\n}\n\npublic int computeMSE(int pixR, int pixG, int pixB) {\n    return ((pixR - r) * (pixR - r) + (pixG - g) * (pixG - g) + (pixB - b)\n            * (pixB - b)) / 3;\n}\n\npublic String getName() {\n    return name;\n}\n</code></pre>\n<p>}\n}`</p>\n<p>An example of the usage of this class.</p>\n<pre><code>public String getElementColor(WebElement element) {\n\n    String color = element.getCssValue(&quot;color&quot;);\n    String hex = Color.fromString(color).asHex();\n    java.awt.Color c = stringToColor(hex);\n    return getColorNameFromColor(c);\n}\n</code></pre>\n"}],"owner":{"account_id":443730,"reputation":307,"user_id":835132,"accept_rate":0,"display_name":"user835132"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117216,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1676015039,"creation_date":1398172086,"question_id":23220575,"body_markdown":"I want to check the color of an element in an html page. \r\nThe color of this element is set with a javascript, look at the image [![enter image description here][1]][1]\r\n\r\nThe element with div-id &quot;Ab_banco_M1T1_switch&quot; can assume 4 values, of course only one of them is displayed according to the value of &quot;val&quot; variable. \r\nThe val variable is set from the server somehow, it seemes the script polls the server every X-seconds and update the value of val. \r\n\r\nI&#39;ve tried to get the color of the element as follow: \r\n\r\n\r\n    WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;Ab_banco_M1T1_switch&quot;)));\r\n\r\n    element.getAttribute(&quot;background&quot;)\r\n    element.getAttribute(&quot;style&quot;)\r\n    element.getAttribute(&quot;background-color&quot;) \r\n    element.getCssValue(&quot;style&quot;)\r\n    element.getCssValue(&quot;color&quot;)\r\n\r\n\r\nwith no success, they return &quot;null&quot; or the backgorund-color of the page.\r\n\r\n\r\nThe only way to get the color is to use the Xpath\r\n    `/html/body/div/div[2]/div[2]/div[2]/div/div/div/div[3]/div (for red, if I want the green \r\n   /html/body/div/div[2]/div[2]/div[2]/div/div/div/div[2]/div)`\r\n\r\nBut it is not what I want. Indeed, the Xpath localizes the element, but it doesn&#39;t tell me if the color displayed is red or another one, I can know it only by looking at the web page. \r\n\r\n\r\nIn other words, I would like to access the  current displayed color as Firebug does, look at the panel on right side, you can see that `element.style -&gt;background-Color = red`. \r\n\r\n\r\nWhen I invoke element,`getCssCValue(&quot;background-color&quot;)` I get the backgorund-color of `#body_right_div`. \r\n\r\nThank you in advance. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KbQOB.png","title":"How to get element color with Selenium","body":"<p>I want to check the color of an element in an html page. \nThe color of this element is set with a javascript, look at the image <a href=\"https://i.stack.imgur.com/KbQOB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KbQOB.png\" alt=\"enter image description here\"></a></p>\n\n<p>The element with div-id \"Ab_banco_M1T1_switch\" can assume 4 values, of course only one of them is displayed according to the value of \"val\" variable. \nThe val variable is set from the server somehow, it seemes the script polls the server every X-seconds and update the value of val. </p>\n\n<p>I've tried to get the color of the element as follow: </p>\n\n<pre><code>WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(By.id(\"Ab_banco_M1T1_switch\")));\n\nelement.getAttribute(\"background\")\nelement.getAttribute(\"style\")\nelement.getAttribute(\"background-color\") \nelement.getCssValue(\"style\")\nelement.getCssValue(\"color\")\n</code></pre>\n\n<p>with no success, they return \"null\" or the backgorund-color of the page.</p>\n\n<p>The only way to get the color is to use the Xpath\n    <code>/html/body/div/div[2]/div[2]/div[2]/div/div/div/div[3]/div (for red, if I want the green \n   /html/body/div/div[2]/div[2]/div[2]/div/div/div/div[2]/div)</code></p>\n\n<p>But it is not what I want. Indeed, the Xpath localizes the element, but it doesn't tell me if the color displayed is red or another one, I can know it only by looking at the web page. </p>\n\n<p>In other words, I would like to access the  current displayed color as Firebug does, look at the panel on right side, you can see that <code>element.style -&gt;background-Color = red</code>. </p>\n\n<p>When I invoke element,<code>getCssCValue(\"background-color\")</code> I get the backgorund-color of <code>#body_right_div</code>. </p>\n\n<p>Thank you in advance. </p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645974044,"creation_date":1645974044,"answer_id":71285831,"question_id":71285670,"body_markdown":"If the key actually has data, you shouldn&#39;t be using `Serdes.Void()` or `KStream&lt;Void,`","title":"Kafka Streams: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer","body":"<p>If the key actually has data, you shouldn't be using <code>Serdes.Void()</code> or <code>KStream&lt;Void,</code></p>\n"},{"tags":[],"owner":{"account_id":20110160,"reputation":31,"user_id":14746718,"display_name":"Akshay Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676014910,"creation_date":1675618559,"answer_id":75354221,"question_id":71285670,"body_markdown":"Changing Void to String will make the stream work in the example\r\n\r\n    KStream&lt;String, String&gt; stream = builder.stream(&quot;users&quot;);\r\n    \r\n    config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());","title":"Kafka Streams: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer","body":"<p>Changing Void to String will make the stream work in the example</p>\n<pre><code>KStream&lt;String, String&gt; stream = builder.stream(&quot;users&quot;);\n\nconfig.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n</code></pre>\n"}],"owner":{"account_id":244890,"reputation":14524,"user_id":518012,"accept_rate":66,"display_name":"Eugene Goldberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71285831,"answer_count":2,"score":0,"last_activity_date":1676014910,"creation_date":1645972883,"question_id":71285670,"body_markdown":"I am working through my first sample of Kafka Streams:\r\n\r\n    package com.example;\r\n    \r\n    import java.util.Properties;\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.common.serialization.Serdes;\r\n    import org.apache.kafka.streams.KafkaStreams;\r\n    import org.apache.kafka.streams.StreamsBuilder;\r\n    import org.apache.kafka.streams.StreamsConfig;\r\n    import org.apache.kafka.streams.kstream.KStream;\r\n    \r\n    class DslExample {\r\n    \r\n      public static void main(String[] args) {\r\n        // the builder is used to construct the topology\r\n        StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n        // read from the source topic, &quot;users&quot;\r\n        KStream&lt;Void, String&gt; stream = builder.stream(&quot;users&quot;);\r\n    \r\n        // for each record that appears in the source topic,\r\n        // print the value\r\n        stream.foreach(\r\n            (key, value) -&gt; {\r\n              System.out.println(&quot;(DSL) Hello, &quot; + value);\r\n            });\r\n    \r\n        // you can also print using the `print` operator\r\n        // stream.print(Printed.&lt;String, String&gt;toSysOut().withLabel(&quot;source&quot;));\r\n    \r\n        // set the required properties for running Kafka Streams\r\n        Properties config = new Properties();\r\n        config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;dev1&quot;);\r\n        config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;10.0.0.24:29092&quot;);\r\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.Void().getClass());\r\n        config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n    \r\n        // build the topology and start streaming\r\n        KafkaStreams streams = new KafkaStreams(builder.build(), config);\r\n        streams.start();\r\n    \r\n        // close Kafka Streams when the JVM shuts down (e.g. SIGTERM)\r\n        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\r\n      }\r\n    }\r\n\r\nWhen I attempt to run it I get this error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer.\r\n\r\nThis is a sample message from the &quot;users&quot; topic:\r\n\r\nValue:\r\n\r\n    {\r\n      &quot;registertime&quot;: 1517518703752,\r\n      &quot;userid&quot;: &quot;User_8&quot;,\r\n      &quot;regionid&quot;: &quot;Region_7&quot;,\r\n      &quot;gender&quot;: &quot;OTHER&quot;\r\n    }\r\n\r\nHeader:\r\n\r\n    [\r\n      {\r\n        &quot;key&quot;: &quot;task.generation&quot;,\r\n        &quot;stringValue&quot;: &quot;0&quot;\r\n      },\r\n      {\r\n        &quot;key&quot;: &quot;task.id&quot;,\r\n        &quot;stringValue&quot;: &quot;0&quot;\r\n      },\r\n      {\r\n        &quot;key&quot;: &quot;current.iteration&quot;,\r\n        &quot;stringValue&quot;: &quot;86144&quot;\r\n      }\r\n    ]\r\n\r\nKey:\r\n\r\n    User_8\r\n\r\n\r\nWhat should I do to avoid this problem?\r\n","title":"Kafka Streams: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer","body":"<p>I am working through my first sample of Kafka Streams:</p>\n<pre><code>package com.example;\n\nimport java.util.Properties;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.streams.KafkaStreams;\nimport org.apache.kafka.streams.StreamsBuilder;\nimport org.apache.kafka.streams.StreamsConfig;\nimport org.apache.kafka.streams.kstream.KStream;\n\nclass DslExample {\n\n  public static void main(String[] args) {\n    // the builder is used to construct the topology\n    StreamsBuilder builder = new StreamsBuilder();\n\n    // read from the source topic, &quot;users&quot;\n    KStream&lt;Void, String&gt; stream = builder.stream(&quot;users&quot;);\n\n    // for each record that appears in the source topic,\n    // print the value\n    stream.foreach(\n        (key, value) -&gt; {\n          System.out.println(&quot;(DSL) Hello, &quot; + value);\n        });\n\n    // you can also print using the `print` operator\n    // stream.print(Printed.&lt;String, String&gt;toSysOut().withLabel(&quot;source&quot;));\n\n    // set the required properties for running Kafka Streams\n    Properties config = new Properties();\n    config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;dev1&quot;);\n    config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;10.0.0.24:29092&quot;);\n    config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n    config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.Void().getClass());\n    config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n\n    // build the topology and start streaming\n    KafkaStreams streams = new KafkaStreams(builder.build(), config);\n    streams.start();\n\n    // close Kafka Streams when the JVM shuts down (e.g. SIGTERM)\n    Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\n  }\n}\n</code></pre>\n<p>When I attempt to run it I get this error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer.\n</code></pre>\n<p>This is a sample message from the &quot;users&quot; topic:</p>\n<p>Value:</p>\n<pre><code>{\n  &quot;registertime&quot;: 1517518703752,\n  &quot;userid&quot;: &quot;User_8&quot;,\n  &quot;regionid&quot;: &quot;Region_7&quot;,\n  &quot;gender&quot;: &quot;OTHER&quot;\n}\n</code></pre>\n<p>Header:</p>\n<pre><code>[\n  {\n    &quot;key&quot;: &quot;task.generation&quot;,\n    &quot;stringValue&quot;: &quot;0&quot;\n  },\n  {\n    &quot;key&quot;: &quot;task.id&quot;,\n    &quot;stringValue&quot;: &quot;0&quot;\n  },\n  {\n    &quot;key&quot;: &quot;current.iteration&quot;,\n    &quot;stringValue&quot;: &quot;86144&quot;\n  }\n]\n</code></pre>\n<p>Key:</p>\n<pre><code>User_8\n</code></pre>\n<p>What should I do to avoid this problem?</p>\n"},{"tags":["java","treeset"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1676014302,"post_id":75407820,"comment_id":133055345,"body_markdown":"Note that some implementations might actually consider rebalancing the tree upon modification, which can yield a worse performance. But this will only be necessary _sometimes_ and not always. Yielding a proper **amortized** complexity of `O(log n)`, while the non-amortized is maybe `O(n)` in some implementations.","body":"Note that some implementations might actually consider rebalancing the tree upon modification, which can yield a worse performance. But this will only be necessary <i>sometimes</i> and not always. Yielding a proper <b>amortized</b> complexity of <code>O(log n)</code>, while the non-amortized is maybe <code>O(n)</code> in some implementations."}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676014500,"creation_date":1676013206,"answer_id":75407960,"question_id":75407820,"body_markdown":"It **is** O(log N) according to the [JavaDocs for TreeSet:][1]\r\n\r\n&gt; This implementation provides guaranteed log(n) time cost for the basic\r\n&gt; operations (add, remove and contains).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeSet.html","title":"Why is TreeSet.remove&#39;s time complexity O(in N)?","body":"<p>It <strong>is</strong> O(log N) according to the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">JavaDocs for TreeSet:</a></p>\n<blockquote>\n<p>This implementation provides guaranteed log(n) time cost for the basic\noperations (add, remove and contains).</p>\n</blockquote>\n"}],"owner":{"account_id":17863533,"reputation":33,"user_id":12976429,"display_name":"Joseph Jang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75407960,"answer_count":1,"score":0,"last_activity_date":1676014500,"creation_date":1676012151,"question_id":75407820,"body_markdown":"A treeset is already sorted... so why isn&#39;t the time complexity to remove an object O(Log N) through binary search? Am I missing something?","title":"Why is TreeSet.remove&#39;s time complexity O(in N)?","body":"<p>A treeset is already sorted... so why isn't the time complexity to remove an object O(Log N) through binary search? Am I missing something?</p>\n"},{"tags":["java","json","spring-boot","bitbucket","bitbucket-api"],"answers":[{"tags":[],"owner":{"account_id":11454153,"reputation":99,"user_id":11023170,"display_name":"Udhav Mohata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676014294,"creation_date":1676014294,"answer_id":75408095,"question_id":73791252,"body_markdown":"I was able fix this issue, by using [Unirest][1]\r\n\r\nThe following syntax was used \r\n\r\n    String url = &quot;https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json&quot;;\r\n    HttpResponse&lt;T&gt; response = Unirest.get(url).headers(headers).asObject(responseClass);\r\n    JsonNode bucketData = response.getBody();\r\n\r\n  [1]: http://kong.github.io/unirest-java/","title":"Retrieve Text file content using Bitbucket server rest APIs in Java JsonNode format","body":"<p>I was able fix this issue, by using <a href=\"http://kong.github.io/unirest-java/\" rel=\"nofollow noreferrer\">Unirest</a></p>\n<p>The following syntax was used</p>\n<pre><code>String url = &quot;https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json&quot;;\nHttpResponse&lt;T&gt; response = Unirest.get(url).headers(headers).asObject(responseClass);\nJsonNode bucketData = response.getBody();\n</code></pre>\n"}],"owner":{"account_id":11454153,"reputation":99,"user_id":11023170,"display_name":"Udhav Mohata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408095,"answer_count":1,"score":0,"last_activity_date":1676014294,"creation_date":1663699022,"question_id":73791252,"body_markdown":"I am trying to use the bitbucket server rest API to fetch file content(.json file) from a bitbucket repository in a Java spring boot Application but the response is not as expected.\r\n\r\n**Content in the file *meta.json***\r\n\r\n    {\r\n      &quot;key1&quot;: &quot;value1&quot;,\r\n      &quot;key2&quot;: &quot;value2&quot;\r\n    }\r\n\r\n**API used**\r\nhttps://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json\r\n\r\n**Java snippet used to get file content**\r\n\r\n    String url = &quot;https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json&quot;;\r\n    JsonNode bucketData = restTemplate.exchange(url, HttpMethod.GET, entity, JsonNode.class).getBody();\r\n\r\n**Actual output:**\r\n\r\n    {\r\n        &quot;lines&quot;: [\r\n            {\r\n                &quot;text&quot;: &quot;{&quot;\r\n            },\r\n            {\r\n                &quot;text&quot;: &quot;  \\&quot;key1\\&quot;: \\&quot;value1\\&quot;,&quot;\r\n            },\r\n            {\r\n                &quot;text&quot;: &quot;  \\&quot;key2\\&quot;: \\&quot;value2\\&quot;&quot;\r\n            },\r\n            {\r\n                &quot;text&quot;: &quot;}&quot;\r\n            }\r\n        ],\r\n        &quot;start&quot;: 0,\r\n        &quot;size&quot;: 4,\r\n        &quot;isLastPage&quot;: true\r\n    }\r\n\r\nWhereas the output I want is the following\r\n\r\n    {\r\n      &quot;key1&quot;: &quot;value1&quot;,\r\n      &quot;key2&quot;: &quot;value2&quot;\r\n    }\r\n\r\nSo I can convert it to JsonNode and use it.\r\n\r\n**Observation**\r\n\r\nWhile hitting the repo url with *?raw* param (https://bitbucket.domain.com/projects/my-project/repos/my-repo/browse/path/to/meta.json?raw) I was getting the excepted output in text format, not json format. I also tried using the same url in my spring boot application but that didnt work either.\r\n\r\nAny suggestion on how can I get the expected output?\r\n","title":"Retrieve Text file content using Bitbucket server rest APIs in Java JsonNode format","body":"<p>I am trying to use the bitbucket server rest API to fetch file content(.json file) from a bitbucket repository in a Java spring boot Application but the response is not as expected.</p>\n<p><strong>Content in the file <em>meta.json</em></strong></p>\n<pre><code>{\n  &quot;key1&quot;: &quot;value1&quot;,\n  &quot;key2&quot;: &quot;value2&quot;\n}\n</code></pre>\n<p><strong>API used</strong>\n<a href=\"https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json\" rel=\"nofollow noreferrer\">https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json</a></p>\n<p><strong>Java snippet used to get file content</strong></p>\n<pre><code>String url = &quot;https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json&quot;;\nJsonNode bucketData = restTemplate.exchange(url, HttpMethod.GET, entity, JsonNode.class).getBody();\n</code></pre>\n<p><strong>Actual output:</strong></p>\n<pre><code>{\n    &quot;lines&quot;: [\n        {\n            &quot;text&quot;: &quot;{&quot;\n        },\n        {\n            &quot;text&quot;: &quot;  \\&quot;key1\\&quot;: \\&quot;value1\\&quot;,&quot;\n        },\n        {\n            &quot;text&quot;: &quot;  \\&quot;key2\\&quot;: \\&quot;value2\\&quot;&quot;\n        },\n        {\n            &quot;text&quot;: &quot;}&quot;\n        }\n    ],\n    &quot;start&quot;: 0,\n    &quot;size&quot;: 4,\n    &quot;isLastPage&quot;: true\n}\n</code></pre>\n<p>Whereas the output I want is the following</p>\n<pre><code>{\n  &quot;key1&quot;: &quot;value1&quot;,\n  &quot;key2&quot;: &quot;value2&quot;\n}\n</code></pre>\n<p>So I can convert it to JsonNode and use it.</p>\n<p><strong>Observation</strong></p>\n<p>While hitting the repo url with <em>?raw</em> param (<a href=\"https://bitbucket.domain.com/projects/my-project/repos/my-repo/browse/path/to/meta.json?raw\" rel=\"nofollow noreferrer\">https://bitbucket.domain.com/projects/my-project/repos/my-repo/browse/path/to/meta.json?raw</a>) I was getting the excepted output in text format, not json format. I also tried using the same url in my spring boot application but that didnt work either.</p>\n<p>Any suggestion on how can I get the expected output?</p>\n"},{"tags":["java","xml","dom","sax","root-element"],"owner":{"account_id":1013180,"reputation":757,"user_id":1025317,"accept_rate":49,"display_name":"pankaj_ar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676013662,"creation_date":1676013662,"question_id":75408008,"body_markdown":"I have some bigger XMLs to process and based on the root node I will get the type of content XML contains. Accordingly I will redirect XML files to their specific processor.\r\n\r\nRight now I am using DOM parser but trying to avoid unnecessary memory and time overhead.\r\n\r\n    Node node=doc.getDocumentElement();\r\n    if (node.getNodeName().equals(&quot;Settings&quot;))\r\n        submitFileToSettingsProcessor(file);\r\n    else if (node.getNodeName().equals(&quot;Data&quot;))\r\n        submitFileToDataProcessor(file);\r\n    // and so on . . .\r\n\r\nAny other best way to read just the root element and avoid hefty code of DocumentBuilderFactory or SAXParserFactory.","title":"Java XML parser get root node only","body":"<p>I have some bigger XMLs to process and based on the root node I will get the type of content XML contains. Accordingly I will redirect XML files to their specific processor.</p>\n<p>Right now I am using DOM parser but trying to avoid unnecessary memory and time overhead.</p>\n<pre><code>Node node=doc.getDocumentElement();\nif (node.getNodeName().equals(&quot;Settings&quot;))\n    submitFileToSettingsProcessor(file);\nelse if (node.getNodeName().equals(&quot;Data&quot;))\n    submitFileToDataProcessor(file);\n// and so on . . .\n</code></pre>\n<p>Any other best way to read just the root element and avoid hefty code of DocumentBuilderFactory or SAXParserFactory.</p>\n"},{"tags":["java","xml","serialization","jaxb","xmlelement"],"owner":{"account_id":17160138,"reputation":1,"user_id":21185280,"display_name":"Andrey Mokeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676013653,"creation_date":1676013131,"question_id":75407947,"body_markdown":"When I try to marshall to XML with nulls for Field1.code and Field2.description I have strange result.\r\n\r\n```\r\nimport javax.xml.bind.annotation.\\*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(propOrder = {\r\n&quot;id&quot;,\r\n&quot;fields&quot;,\r\n&quot;result&quot;,\r\n&quot;comment&quot;\r\n})\r\n@XmlRootElement(name = &quot;response&quot;)\r\npublic class MyXML {\r\n\r\n@XmlElement(required = true)\r\nprivate String id;\r\n@XmlElement(required = true)\r\nprivate MyXML.Fields fields;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(propOrder = {\r\n        &quot;field1&quot;,\r\n        &quot;field2&quot;\r\n})\r\npublic static class Fields {\r\n\r\n    @XmlElement(required = true)\r\n    private MyXML.Fields.Field1 field1;\r\n    @XmlElement(required = true)\r\n    private MyXML.Fields.Field2 field2;\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(propOrder = {\r\n            &quot;code&quot;\r\n    })\r\n    public static class Field1 {\r\n\r\n        @XmlValue\r\n        private Integer code;\r\n\r\n        @XmlAttribute\r\n        private String name;\r\n\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(propOrder = {\r\n            &quot;description&quot;\r\n    })\r\n    public static class Field2 {\r\n\r\n        @XmlValue\r\n        private String description;\r\n\r\n        @XmlAttribute\r\n        private String name;\r\n\r\n    }\r\n\r\n}\r\n\r\n}\r\n\r\n```\r\nResult:\r\n\r\n \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;response&gt;\r\n        &lt;id&gt;12345&lt;/id&gt;\r\n        &lt;fields&gt;\r\n            &lt;field1 name=&quot;name1&quot;/&gt;\r\n            &lt;field2 name=&quot;name2&quot;&gt;null&lt;/field2&gt;\r\n        &lt;/fields&gt;\r\n    &lt;/response&gt;\r\n```\r\n\r\nFor some reason JAXB serialize null for String type and doesnt serialize null for Integer.\r\nI want to see null in field1 as on field2.\r\n\r\nI tried to set nillable=true, but it didn&#39;t help.","title":"JAXB null/empty field","body":"<p>When I try to marshall to XML with nulls for Field1.code and Field2.description I have strange result.</p>\n<pre><code>import javax.xml.bind.annotation.\\*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder = {\n&quot;id&quot;,\n&quot;fields&quot;,\n&quot;result&quot;,\n&quot;comment&quot;\n})\n@XmlRootElement(name = &quot;response&quot;)\npublic class MyXML {\n\n@XmlElement(required = true)\nprivate String id;\n@XmlElement(required = true)\nprivate MyXML.Fields fields;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder = {\n        &quot;field1&quot;,\n        &quot;field2&quot;\n})\npublic static class Fields {\n\n    @XmlElement(required = true)\n    private MyXML.Fields.Field1 field1;\n    @XmlElement(required = true)\n    private MyXML.Fields.Field2 field2;\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(propOrder = {\n            &quot;code&quot;\n    })\n    public static class Field1 {\n\n        @XmlValue\n        private Integer code;\n\n        @XmlAttribute\n        private String name;\n\n\n    }\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(propOrder = {\n            &quot;description&quot;\n    })\n    public static class Field2 {\n\n        @XmlValue\n        private String description;\n\n        @XmlAttribute\n        private String name;\n\n    }\n\n}\n\n}\n\n</code></pre>\n<p>Result:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n    &lt;response&gt;\n        &lt;id&gt;12345&lt;/id&gt;\n        &lt;fields&gt;\n            &lt;field1 name=&quot;name1&quot;/&gt;\n            &lt;field2 name=&quot;name2&quot;&gt;null&lt;/field2&gt;\n        &lt;/fields&gt;\n    &lt;/response&gt;\n</code></pre>\n<p>For some reason JAXB serialize null for String type and doesnt serialize null for Integer.\nI want to see null in field1 as on field2.</p>\n<p>I tried to set nillable=true, but it didn't help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9334,"page":658,"page_size":100}
