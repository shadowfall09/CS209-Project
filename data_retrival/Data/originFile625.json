{"items":[{"tags":["java","hibernate","jpa","hql"],"comments":[{"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"score":0,"creation_date":1554651147,"post_id":55560638,"comment_id":97821233,"body_markdown":"What is type of `persons` in Person class?","body":"What is type of <code>persons</code> in Person class?"},{"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"score":0,"creation_date":1554651258,"post_id":55560638,"comment_id":97821260,"body_markdown":"Typo, Corrected it","body":"Typo, Corrected it"}],"answers":[{"tags":[],"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1554651653,"creation_date":1554651653,"answer_id":55560758,"question_id":55560638,"body_markdown":"*You are facing the problem as `Person#toString` calls the `Company#toString` and `Company#toString` again calls the `Person#toSting`.*\r\n\r\nSo, what is happening is When Person#toString called it called the below toString definition:\r\n\r\n        @Override\r\n    public String toString() {\r\n        return &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;, company=&quot; + company + &quot;]&quot;;\r\n    }\r\n\r\nNow can see that you have contaminated the company also that means your return statement actually becomes `&quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;, company=&quot; + company.toString() + &quot;]&quot;;` . So, it calls the Company#toString() now look the implementaion of `Company#toString()` it contains `persons` object in string concatination.Which again calls `Person#toString()` , and its goes on still the method stack is overflow.\r\n\r\n ","title":"PersistentBag.toString() stackoverflow error while querying the result of HQL query","body":"<p><em>You are facing the problem as <code>Person#toString</code> calls the <code>Company#toString</code> and <code>Company#toString</code> again calls the <code>Person#toSting</code>.</em></p>\n\n<p>So, what is happening is When Person#toString called it called the below toString definition:</p>\n\n<pre><code>    @Override\npublic String toString() {\n    return \"Person [id=\" + id + \", name=\" + name + \", company=\" + company + \"]\";\n}\n</code></pre>\n\n<p>Now can see that you have contaminated the company also that means your return statement actually becomes <code>\"Person [id=\" + id + \", name=\" + name + \", company=\" + company.toString() + \"]\";</code> . So, it calls the Company#toString() now look the implementaion of <code>Company#toString()</code> it contains <code>persons</code> object in string concatination.Which again calls <code>Person#toString()</code> , and its goes on still the method stack is overflow.</p>\n"},{"tags":[],"owner":{"account_id":19199849,"reputation":1,"user_id":14028014,"display_name":"Lavesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677138843,"creation_date":1676786220,"answer_id":75498275,"question_id":55560638,"body_markdown":"remove all tostrings\r\n\r\n`@data` also containe `@tostring`\r\n\r\nit will work ","title":"PersistentBag.toString() stackoverflow error while querying the result of HQL query","body":"<p>remove all tostrings</p>\n<p><code>@data</code> also containe <code>@tostring</code></p>\n<p>it will work</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55560758,"answer_count":2,"score":1,"last_activity_date":1677138843,"creation_date":1554651019,"question_id":55560638,"body_markdown":"I am a beginner in `Hibernate` and was trying to implement one of the `HQL` queries\r\n\r\n\r\n    Query q= em.createQuery(&quot;select p from Person p join p.company c&quot;);\r\n    \t\tList&lt;Person&gt; l = q.getResultList();\r\n    \t\tSystem.out.println(l.get(0));\r\n\r\nWhen I run the above code I get the below error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \tat java.lang.StringBuilder.append(Unknown Source)\r\n    \tat java.lang.StringBuilder.&lt;init&gt;(Unknown Source)\r\n    \tat hibernate5.testing.onetomany.Person.toString(Person.java:71)\r\n    \tat java.lang.String.valueOf(Unknown Source)\r\n    \tat java.lang.StringBuilder.append(Unknown Source)\r\n    \tat java.util.AbstractCollection.toString(Unknown Source)\r\n    \tat org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:527)\r\n    \tat java.lang.String.valueOf(Unknown Source)\r\n    \tat java.lang.StringBuilder.append(Unknown Source)\r\n    \tat hibernate5.testing.onetomany.Company.toString(Company.java:72)\r\n    \tat java.lang.String.valueOf(Unknown Source)\r\n    \tat java.lang.StringBuilder.append(Unknown Source)\r\n\r\nHowever when I comment out the `sysout` It runs as expected.As per the stack trace it seems to concern with the `toString` method but I am not sure what is the issue here. Below are the `POJOs` or the `entities` \r\n\r\n**Person**\r\n    \r\n    getters and setters\r\n    \r\n    \r\n    \t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;, company=&quot; + company + &quot;]&quot;;\r\n\t}\r\n**Company**\r\n\r\n     getters and setters\r\n        \r\n        \r\n        \t@Override\r\n        \tpublic String toString() {\r\n        \t\treturn &quot;Company [id=&quot; + id + &quot;, name=&quot; + name + &quot;, persons=&quot; + persons + &quot;]&quot;;\r\n        \t}\r\n\r\nCan someone please help.","title":"PersistentBag.toString() stackoverflow error while querying the result of HQL query","body":"<p>I am a beginner in <code>Hibernate</code> and was trying to implement one of the <code>HQL</code> queries</p>\n\n<pre><code>Query q= em.createQuery(\"select p from Person p join p.company c\");\n        List&lt;Person&gt; l = q.getResultList();\n        System.out.println(l.get(0));\n</code></pre>\n\n<p>When I run the above code I get the below error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.StackOverflowError\n    at java.lang.StringBuilder.append(Unknown Source)\n    at java.lang.StringBuilder.&lt;init&gt;(Unknown Source)\n    at hibernate5.testing.onetomany.Person.toString(Person.java:71)\n    at java.lang.String.valueOf(Unknown Source)\n    at java.lang.StringBuilder.append(Unknown Source)\n    at java.util.AbstractCollection.toString(Unknown Source)\n    at org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:527)\n    at java.lang.String.valueOf(Unknown Source)\n    at java.lang.StringBuilder.append(Unknown Source)\n    at hibernate5.testing.onetomany.Company.toString(Company.java:72)\n    at java.lang.String.valueOf(Unknown Source)\n    at java.lang.StringBuilder.append(Unknown Source)\n</code></pre>\n\n<p>However when I comment out the <code>sysout</code> It runs as expected.As per the stack trace it seems to concern with the <code>toString</code> method but I am not sure what is the issue here. Below are the <code>POJOs</code> or the <code>entities</code> </p>\n\n<p><strong>Person</strong></p>\n\n<pre><code>getters and setters\n\n\n    @Override\npublic String toString() {\n    return \"Person [id=\" + id + \", name=\" + name + \", company=\" + company + \"]\";\n}\n</code></pre>\n\n<p><strong>Company</strong></p>\n\n<pre><code> getters and setters\n\n\n        @Override\n        public String toString() {\n            return \"Company [id=\" + id + \", name=\" + name + \", persons=\" + persons + \"]\";\n        }\n</code></pre>\n\n<p>Can someone please help.</p>\n"},{"tags":["java","angular","rest","jax-rs","jax-ws"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1547109233,"post_id":54122766,"comment_id":95080644,"body_markdown":"What JAX-RS implementation are you using? Each implementation has their own MultiPart support. Just read the documentation. The `@FormDataParam` for Jersey handles MultiPart, so that&#39;s what you want, as that&#39;s the type of request that is being sent.","body":"What JAX-RS implementation are you using? Each implementation has their own MultiPart support. Just read the documentation. The <code>@FormDataParam</code> for Jersey handles MultiPart, so that&#39;s what you want, as that&#39;s the type of request that is being sent."},{"owner":{"account_id":7872998,"reputation":9,"user_id":5949631,"display_name":"Jitendra Saini"},"score":0,"creation_date":1547110082,"post_id":54122766,"comment_id":95081078,"body_markdown":"@PaulSamsotha I am not using Jersey framework, I am using core jax-rs api.","body":"@PaulSamsotha I am not using Jersey framework, I am using core jax-rs api."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1547166648,"post_id":54122766,"comment_id":95109166,"body_markdown":"Core JAX-RS APIs have no support for Multipart. You need to use an implementation&#39;s APIs.","body":"Core JAX-RS APIs have no support for Multipart. You need to use an implementation&#39;s APIs."}],"answers":[{"tags":[],"owner":{"account_id":9085189,"reputation":564,"user_id":6763487,"display_name":"CodeRider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547108128,"creation_date":1547108128,"answer_id":54124369,"question_id":54122766,"body_markdown":"Try with   *@Consumes(MediaType.APPLICATION_OCTET_STREAM)*","title":"I am sending form data which contains zip file as well as few other parameter from angular 2, but In Java back end I finding difficulties to consume","body":"<p>Try with   <em>@Consumes(MediaType.APPLICATION_OCTET_STREAM)</em></p>\n"},{"tags":[],"owner":{"account_id":8353739,"reputation":41,"user_id":6274858,"display_name":"Kolja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677138561,"creation_date":1676634379,"answer_id":75483899,"question_id":54122766,"body_markdown":"In Backend, you receive a MultipartFile. In Java Spring it has to look looks as follows: \r\n```\r\n@PostMapping\r\npublic ResponseEntity&lt;?&gt; postData(@RequestParam(&quot;file&quot;) MultipartFile file, @RequestParam(&quot;agencyId&quot;) Long agencyId) {\r\n // your Business-Code here\r\n}\r\n```\r\n\r\nOn Frontend-Side, you can push the file and the other parameter as Formdata as following. The example uses a String-Value and a zip-file named &#39;file&#39;, both in FormData: \r\n\r\n```\r\n// Popup for fileupload\r\nlet inputElement = document.createElement(&quot;input&quot;);\r\ninputElement.type = &#39;file&#39;;\r\ninputElement.accept = &#39;zip&#39;;\r\n\r\n// get file, chosen by user in popup\r\nlet files = fileChosenEvent.target as HTMLInputElement;\r\n\r\n// create FormData\r\nconst formData = new FormData();\r\nformData.append(&#39;agencyId&#39;, agencyId.toString())\r\nformData.append(&#39;file&#39;, new Blob([files.files[0]], { type: application/octet-stream&quot; }), file.name);\r\n```","title":"I am sending form data which contains zip file as well as few other parameter from angular 2, but In Java back end I finding difficulties to consume","body":"<p>In Backend, you receive a MultipartFile. In Java Spring it has to look looks as follows:</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;?&gt; postData(@RequestParam(&quot;file&quot;) MultipartFile file, @RequestParam(&quot;agencyId&quot;) Long agencyId) {\n // your Business-Code here\n}\n</code></pre>\n<p>On Frontend-Side, you can push the file and the other parameter as Formdata as following. The example uses a String-Value and a zip-file named 'file', both in FormData:</p>\n<pre><code>// Popup for fileupload\nlet inputElement = document.createElement(&quot;input&quot;);\ninputElement.type = 'file';\ninputElement.accept = 'zip';\n\n// get file, chosen by user in popup\nlet files = fileChosenEvent.target as HTMLInputElement;\n\n// create FormData\nconst formData = new FormData();\nformData.append('agencyId', agencyId.toString())\nformData.append('file', new Blob([files.files[0]], { type: application/octet-stream&quot; }), file.name);\n</code></pre>\n"}],"owner":{"account_id":7872998,"reputation":9,"user_id":5949631,"display_name":"Jitendra Saini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677138561,"creation_date":1547100338,"question_id":54122766,"body_markdown":"the error which I am getting is 415 Unsupported media type.\r\n\r\nI am sending form data with zip file as well as few other parameters.\r\nIn angular2 I am setting content type as multipart/form-data.\r\n\r\nIn Java backend also consume as multipart/form data.\r\nI am using javax.ws.rs api.\r\nThe methods which I have tried.\r\nUsing @FormParam didn&#39;t work\r\nUsing FileInputStream didn&#39;t work\r\n\r\nI can&#39;t use FormDataParam because I am not using jersey. I need alternate of FormDataParam in jax-ws-rs.\r\n\r\n\r\n","title":"I am sending form data which contains zip file as well as few other parameter from angular 2, but In Java back end I finding difficulties to consume","body":"<p>the error which I am getting is 415 Unsupported media type.</p>\n\n<p>I am sending form data with zip file as well as few other parameters.\nIn angular2 I am setting content type as multipart/form-data.</p>\n\n<p>In Java backend also consume as multipart/form data.\nI am using javax.ws.rs api.\nThe methods which I have tried.\nUsing @FormParam didn't work\nUsing FileInputStream didn't work</p>\n\n<p>I can't use FormDataParam because I am not using jersey. I need alternate of FormDataParam in jax-ws-rs.</p>\n"},{"tags":["java","html","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677133759,"creation_date":1677133759,"answer_id":75541294,"question_id":75540699,"body_markdown":"`isSelected()` will work only on the `input` tag\r\nYou need to take xpath like `//input[name=&#39;answer_check&#39;]`","title":"Radio button isSelected() returns false for Selenium Webdriver on Chrome browser","body":"<p><code>isSelected()</code> will work only on the <code>input</code> tag\nYou need to take xpath like <code>//input[name='answer_check']</code></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677138138,"creation_date":1677137453,"answer_id":75541765,"question_id":75540699,"body_markdown":"`isSelected()`\r\n--------------\r\n[`isSelected()`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isSelected()) returns a _boolean_ determining whether the element is selected or not. This operation only applies to `&lt;input&gt;` elements such as checkboxes, options in a select and radio buttons.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo validate if the `&lt;input&gt;` associated with **Yes** is selected or not you can use either of the following strategies:\r\n\r\n- Using _`id`_ attribute:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//span[@class=&#39;tss-label&#39; and text()=&#39;Yes&#39;]//preceding-sibling::input[contains(@id, &#39;true&#39;)]&quot;));\r\n\r\n- Using _`value`_ attribute:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//span[@class=&#39;tss-label&#39; and text()=&#39;Yes&#39;]//preceding-sibling::input[@value=&#39;true&#39;]&quot;));\r\n\r\n- Using _`checked`_ attribute:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//span[@class=&#39;tss-label&#39; and text()=&#39;Yes&#39;]//preceding-sibling::input[checked]&quot;));","title":"Radio button isSelected() returns false for Selenium Webdriver on Chrome browser","body":"<h2><code>isSelected()</code></h2>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isSelected()\" rel=\"nofollow noreferrer\"><code>isSelected()</code></a> returns a <em>boolean</em> determining whether the element is selected or not. This operation only applies to <code>&lt;input&gt;</code> elements such as checkboxes, options in a select and radio buttons.</p>\n<hr />\n<h2>Solution</h2>\n<p>To validate if the <code>&lt;input&gt;</code> associated with <strong>Yes</strong> is selected or not you can use either of the following strategies:</p>\n<ul>\n<li><p>Using <em><code>id</code></em> attribute:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//span[@class='tss-label' and text()='Yes']//preceding-sibling::input[contains(@id, 'true')]&quot;));\n</code></pre>\n</li>\n<li><p>Using <em><code>value</code></em> attribute:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//span[@class='tss-label' and text()='Yes']//preceding-sibling::input[@value='true']&quot;));\n</code></pre>\n</li>\n<li><p>Using <em><code>checked</code></em> attribute:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//span[@class='tss-label' and text()='Yes']//preceding-sibling::input[checked]&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27856894,"reputation":3,"user_id":21270200,"display_name":"Kris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541294,"answer_count":2,"score":0,"last_activity_date":1677138138,"creation_date":1677128189,"question_id":75540699,"body_markdown":"I am trying to verify if my radio button is selected or not, but each time I am getting value as false even when I select the radio button.\r\n\r\n\r\nHTML page \r\n```\r\n&lt;div class=&quot;controls tss-radio-text-format&quot;&gt;\r\n   &lt;label class=&quot;tss-radio&quot;&gt;\r\n   &lt;input type=&quot;radio&quot; name=&quot;answer_check&quot; id=&quot;answer_check-true&quot; value=&quot;true&quot; checked=&quot;&quot;&gt;\r\n   &lt;span class=&quot;radiobutton&quot;&gt;\r\n   &lt;/span&gt;&lt;span class=&quot;tss-label&quot;&gt;Yes&lt;/span&gt;&lt;/label&gt;&lt;label class=&quot;tss-radio&quot;&gt;\r\n   &lt;input type=&quot;radio&quot; name=&quot;answer_check&quot; id=&quot;answer_check-false&quot; value=&quot;false&quot;&gt;\r\n   &lt;span class=&quot;radiobutton&quot;&gt;&lt;/span&gt;\r\n   &lt;span class=&quot;tss-label&quot;&gt;No&lt;/span&gt;&lt;/label&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n\r\n\r\nBelow is the code that I tried to click on radio button and verify if radio button Yes is selected.\r\nThe output I get is false but I was expecting true and I see Yes radio button was selected in the chrome browser I am using\r\n\r\n\r\n```\r\npublic void clickAndVerifySelection() throws InterruptedException {\r\n  driver.findElement(By.xpath(&quot;(//span[@class=&#39;radiobutton&#39;])[1] &quot;)).click();\r\n  Thread.sleep(2000);\r\n  boolean value = driver.findElement(By.xpath(&quot;(//span[@class=&#39;radiobutton&#39;])[1] &quot;)).isSelected();\r\n  System.out.println(value);\r\n}\r\n```","title":"Radio button isSelected() returns false for Selenium Webdriver on Chrome browser","body":"<p>I am trying to verify if my radio button is selected or not, but each time I am getting value as false even when I select the radio button.</p>\n<p>HTML page</p>\n<pre><code>&lt;div class=&quot;controls tss-radio-text-format&quot;&gt;\n   &lt;label class=&quot;tss-radio&quot;&gt;\n   &lt;input type=&quot;radio&quot; name=&quot;answer_check&quot; id=&quot;answer_check-true&quot; value=&quot;true&quot; checked=&quot;&quot;&gt;\n   &lt;span class=&quot;radiobutton&quot;&gt;\n   &lt;/span&gt;&lt;span class=&quot;tss-label&quot;&gt;Yes&lt;/span&gt;&lt;/label&gt;&lt;label class=&quot;tss-radio&quot;&gt;\n   &lt;input type=&quot;radio&quot; name=&quot;answer_check&quot; id=&quot;answer_check-false&quot; value=&quot;false&quot;&gt;\n   &lt;span class=&quot;radiobutton&quot;&gt;&lt;/span&gt;\n   &lt;span class=&quot;tss-label&quot;&gt;No&lt;/span&gt;&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Below is the code that I tried to click on radio button and verify if radio button Yes is selected.\nThe output I get is false but I was expecting true and I see Yes radio button was selected in the chrome browser I am using</p>\n<pre><code>public void clickAndVerifySelection() throws InterruptedException {\n  driver.findElement(By.xpath(&quot;(//span[@class='radiobutton'])[1] &quot;)).click();\n  Thread.sleep(2000);\n  boolean value = driver.findElement(By.xpath(&quot;(//span[@class='radiobutton'])[1] &quot;)).isSelected();\n  System.out.println(value);\n}\n</code></pre>\n"},{"tags":["java","build","compilation","teamcity","agent"],"owner":{"account_id":26361377,"reputation":41,"user_id":20017506,"display_name":"Mahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677138788,"answer_count":0,"score":0,"last_activity_date":1677138125,"creation_date":1677137942,"question_id":75541820,"body_markdown":"Why i am getting this compilation error.\r\n\r\n\r\nGoals:clean install -U\r\n\r\n```\r\n[Step 5/5] [ERROR] COMPILATION ERROR :\r\n\r\n[08:32:25][Step 5/5] [INFO] -------------------------------------------------------------\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[3,30] package com.google.common.base does not exist\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[6,32] package io.github.bonigarcia.wdm does not exist\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[7,23] package junit.framework does not exist\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[8,40] package org.apache.commons.configuration does not exist\r\n\r\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[9,40] package org.apache.commons.configuration does not exist\r\n```","title":"Teamcity: Why i am getting compilation erro","body":"<p>Why i am getting this compilation error.</p>\n<p>Goals:clean install -U</p>\n<pre><code>[Step 5/5] [ERROR] COMPILATION ERROR :\n\n[08:32:25][Step 5/5] [INFO] -------------------------------------------------------------\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[3,30] package com.google.common.base does not exist\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[6,32] package io.github.bonigarcia.wdm does not exist\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[7,23] package junit.framework does not exist\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[8,40] package org.apache.commons.configuration does not exist\n\n[08:32:25][Step 5/5] [ERROR] /opt/BuildAgent/work/242226f6df68f3c1/src/main/java/com/rbs/CashAndCoin/commonlib/GenericWrappers.java:[9,40] package org.apache.commons.configuration does not exist\n</code></pre>\n"},{"tags":["java","jakarta-ee","jakarta-mail","java-17"],"owner":{"account_id":27857931,"reputation":11,"user_id":21271056,"display_name":"CreativeWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677138111,"creation_date":1677137484,"question_id":75541768,"body_markdown":"i get the following error message all at once when using Jakarta.Mail.\r\n\r\n```\r\n`Exception in thread &quot;Thread-7&quot; java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class jakarta.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and jakarta.activation.MailcapCommandMap are in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @3697186)\r\nat jakarta.activation.MailcapCommandMap.\\&lt;init\\&gt;(MailcapCommandMap.java:149)\r\nat jakarta.activation.CommandMap.getDefaultCommandMap(CommandMap.java:55)\r\nat jakarta.activation.DataHandler.getCommandMap(DataHandler.java:127)\r\nat jakarta.activation.DataHandler.getDataContentHandler(DataHandler.java:586)\r\nat jakarta.activation.DataHandler.getContent(DataHandler.java:514)\r\nat jakarta.mail.internet.MimeMessage.getContent(MimeMessage.java:1475)\r\n`\r\n```\r\nI use the following versions:\r\n\r\nJakarta-EE: 10.0.0\r\nJakarta.Mail: 2.1.1\r\nJDK: 17\r\n\r\nThe error comes when I call the function getContent() from jakarta.mail.internet.MimeMessage.\r\n\r\nDoes anyone have an idea to fix the error message without using an old version?\r\n\r\nThank you very much for your help\r\n\r\nI want to use the getContent() methods in MimeMessage in the latest version","title":"java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class jakarta.activation.MailcapCommand Map","body":"<p>i get the following error message all at once when using Jakarta.Mail.</p>\n<pre><code>`Exception in thread &quot;Thread-7&quot; java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class jakarta.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and jakarta.activation.MailcapCommandMap are in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @3697186)\nat jakarta.activation.MailcapCommandMap.\\&lt;init\\&gt;(MailcapCommandMap.java:149)\nat jakarta.activation.CommandMap.getDefaultCommandMap(CommandMap.java:55)\nat jakarta.activation.DataHandler.getCommandMap(DataHandler.java:127)\nat jakarta.activation.DataHandler.getDataContentHandler(DataHandler.java:586)\nat jakarta.activation.DataHandler.getContent(DataHandler.java:514)\nat jakarta.mail.internet.MimeMessage.getContent(MimeMessage.java:1475)\n`\n</code></pre>\n<p>I use the following versions:</p>\n<p>Jakarta-EE: 10.0.0\nJakarta.Mail: 2.1.1\nJDK: 17</p>\n<p>The error comes when I call the function getContent() from jakarta.mail.internet.MimeMessage.</p>\n<p>Does anyone have an idea to fix the error message without using an old version?</p>\n<p>Thank you very much for your help</p>\n<p>I want to use the getContent() methods in MimeMessage in the latest version</p>\n"},{"tags":["java","spring-boot","security","docker-compose","keystore"],"answers":[{"tags":[],"owner":{"account_id":21433821,"reputation":66,"user_id":15789651,"display_name":"Philip Pang"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1619664654,"creation_date":1619664654,"answer_id":67310383,"question_id":67302528,"body_markdown":"Recently got the same problem and found the following discussion saying it is a bug that happens on JDK 8u292 but not on 8u282:\r\nhttps://github.com/bcgit/bc-java/issues/941\r\n\r\nIn my case, I switched back to 8u282 and the error is gone.","title":"java.security.KeyStoreException when running my app with docker-compose","body":"<p>Recently got the same problem and found the following discussion saying it is a bug that happens on JDK 8u292 but not on 8u282:\n<a href=\"https://github.com/bcgit/bc-java/issues/941\" rel=\"noreferrer\">https://github.com/bcgit/bc-java/issues/941</a></p>\n<p>In my case, I switched back to 8u282 and the error is gone.</p>\n"},{"tags":[],"owner":{"account_id":23290873,"reputation":41,"user_id":17372977,"display_name":"han wei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636511643,"creation_date":1636511643,"answer_id":69907344,"question_id":67302528,"body_markdown":"It&#39;s a bug in openjdk 8u292. Update openjdk to 8u302 or higher version.\r\n\r\n8u292 -&gt; 8u312 I resolve this problem.\r\n```\r\nhanwei@hanweideMacBook-Air tt]$ java -version\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (Zulu 8.54.0.21-CA-macos-aarch64) (build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (Zulu 8.54.0.21-CA-macos-aarch64) (build 25.292-b10, mixed mode)\r\nhanwei@hanweideMacBook-Air tt]$ java -version\r\nopenjdk version &quot;1.8.0_312&quot;\r\nOpenJDK Runtime Environment (Zulu 8.58.0.13-CA-macos-aarch64) (build 1.8.0_312-b07)\r\nOpenJDK 64-Bit Server VM (Zulu 8.58.0.13-CA-macos-aarch64) (build 25.312-b07, mixed mode)\r\n```\r\n\r\n&gt;https://bugs.openjdk.java.net/browse/JDK-8266261\r\n\r\n&gt;https://bugs.openjdk.java.net/browse/JDK-8242565\r\n\r\n\r\n","title":"java.security.KeyStoreException when running my app with docker-compose","body":"<p>It's a bug in openjdk 8u292. Update openjdk to 8u302 or higher version.</p>\n<p>8u292 -&gt; 8u312 I resolve this problem.</p>\n<pre><code>hanwei@hanweideMacBook-Air tt]$ java -version\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (Zulu 8.54.0.21-CA-macos-aarch64) (build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (Zulu 8.54.0.21-CA-macos-aarch64) (build 25.292-b10, mixed mode)\nhanwei@hanweideMacBook-Air tt]$ java -version\nopenjdk version &quot;1.8.0_312&quot;\nOpenJDK Runtime Environment (Zulu 8.58.0.13-CA-macos-aarch64) (build 1.8.0_312-b07)\nOpenJDK 64-Bit Server VM (Zulu 8.58.0.13-CA-macos-aarch64) (build 25.312-b07, mixed mode)\n</code></pre>\n<blockquote>\n<p>https://bugs.openjdk.java.net/browse/JDK-8266261</p>\n</blockquote>\n<blockquote>\n<p>https://bugs.openjdk.java.net/browse/JDK-8242565</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677138093,"creation_date":1677138093,"answer_id":75541848,"question_id":67302528,"body_markdown":"It was happening to me also during SpringBoot App Launch. This is due to openjdk version 1.8.0_292 and switching to Standard HotSpot Java version 1.8.0_202 resolved the problem. Probably bug in OpenJdk.","title":"java.security.KeyStoreException when running my app with docker-compose","body":"<p>It was happening to me also during SpringBoot App Launch. This is due to openjdk version 1.8.0_292 and switching to Standard HotSpot Java version 1.8.0_202 resolved the problem. Probably bug in OpenJdk.</p>\n"}],"owner":{"account_id":16507750,"reputation":171,"user_id":11927366,"display_name":"alia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4896,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67310383,"answer_count":3,"score":3,"last_activity_date":1677138093,"creation_date":1619621324,"question_id":67302528,"body_markdown":"I have my spring boot project connected to mysql and cassandra db.\r\nWhen I run it locally with spring boot, all went ok. I use docker-compose to run these three services.\r\nFor three weeks, my application runs without problems. But now an error occure :\r\nCaused by: java.security.KeyStoreException: Key protection  algorithm not found: java.security.UnrecoverableKeyException: Encrypt Private Key failed: unrecognized algorithm name: PBEWithSHA1AndDESede.\r\nCan someone help me please?","title":"java.security.KeyStoreException when running my app with docker-compose","body":"<p>I have my spring boot project connected to mysql and cassandra db.\nWhen I run it locally with spring boot, all went ok. I use docker-compose to run these three services.\nFor three weeks, my application runs without problems. But now an error occure :\nCaused by: java.security.KeyStoreException: Key protection  algorithm not found: java.security.UnrecoverableKeyException: Encrypt Private Key failed: unrecognized algorithm name: PBEWithSHA1AndDESede.\nCan someone help me please?</p>\n"},{"tags":["java","maven","dependencies","libraries","mvn-repo"],"comments":[{"owner":{"account_id":1811993,"reputation":888,"user_id":1647851,"accept_rate":85,"display_name":"null"},"score":1,"creation_date":1494049897,"post_id":4955635,"comment_id":74673253,"body_markdown":"Hi @Praneel PIDIKITI, Can you please change the accepted answer to the one with the most votes?","body":"Hi @Praneel PIDIKITI, Can you please change the accepted answer to the one with the most votes?"},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":2,"creation_date":1500992413,"post_id":4955635,"comment_id":77573932,"body_markdown":"@nslntmnx That won&#39;t be better solution, as all solution have drawbacks https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them","body":"@nslntmnx That won&#39;t be better solution, as all solution have drawbacks <a href=\"https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them\" title=\"can i add jars to maven 2 build classpath without installing them\">stackoverflow.com/questions/364114/&hellip;</a>"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":2,"creation_date":1518032726,"post_id":4955635,"comment_id":84342254,"body_markdown":"If your libs are updated or extended on occasion see [this answer](https://stackoverflow.com/a/48670812/1744774) to [I want to load all JARs from my libs project folder with maven](https://stackoverflow.com/q/48665906/1744774) for a &quot;pomified&quot; way and such avoiding an additional repo folder and cumbersome cmd lines or `install-file` scripts.","body":"If your libs are updated or extended on occasion see <a href=\"https://stackoverflow.com/a/48670812/1744774\">this answer</a> to <a href=\"https://stackoverflow.com/q/48665906/1744774\">I want to load all JARs from my libs project folder with maven</a> for a &quot;pomified&quot; way and such avoiding an additional repo folder and cumbersome cmd lines or <code>install-file</code> scripts."},{"owner":{"account_id":1864790,"reputation":681,"user_id":1688614,"display_name":"ltuska"},"score":0,"creation_date":1665161621,"post_id":4955635,"comment_id":130642863,"body_markdown":"I think adding local jars is at least a &quot;bad smell&quot;. Either you must push them in SCM, or others (or the build systems) might not have them locally. This just means possible build failures (and similar troubles). Take the time, push them to the artifact repository used by your team (e.g., as &quot;legacy&quot; libraries), and reference them from that repo in the project.","body":"I think adding local jars is at least a &quot;bad smell&quot;. Either you must push them in SCM, or others (or the build systems) might not have them locally. This just means possible build failures (and similar troubles). Take the time, push them to the artifact repository used by your team (e.g., as &quot;legacy&quot; libraries), and reference them from that repo in the project."}],"answers":[{"tags":[],"owner":{"account_id":156267,"reputation":12851,"user_id":373455,"accept_rate":94,"display_name":"user373455"},"down_vote_count":35,"up_vote_count":1120,"is_accepted":true,"score":1085,"last_activity_date":1624818913,"creation_date":1297332509,"answer_id":4955695,"question_id":4955635,"body_markdown":"Install the JAR into your local Maven repository (typically `.m2` in your home folder) as follows:\r\n\r\n    mvn install:install-file \\\r\n       -Dfile=&lt;path-to-file&gt; \\\r\n       -DgroupId=&lt;group-id&gt; \\\r\n       -DartifactId=&lt;artifact-id&gt; \\\r\n       -Dversion=&lt;version&gt; \\\r\n       -Dpackaging=&lt;packaging&gt; \\\r\n       -DgeneratePom=true\r\n\r\nWhere each refers to: \r\n\r\n`&lt;path-to-file&gt;`: the path to the file to load e.g → `c:\\kaptcha-2.3.jar`\r\n\r\n`&lt;group-id&gt;`: the group that the file should be registered under e.g → `com.google.code`\r\n\r\n`&lt;artifact-id&gt;`: the artifact name for the file e.g → `kaptcha`\r\n\r\n`&lt;version&gt;`: the version of the file e.g → `2.3`\r\n\r\n`&lt;packaging&gt;`: the packaging of the file e.g. → `jar`\r\n\r\n**Reference**\r\n\r\n* Maven FAQ: [I have a jar that I want to put into my local repository. How can I copy it in?][1]\r\n* Maven Install Plugin Usage: [The `install:install-file` goal][2]\r\n\r\n[1]: http://maven.apache.org/general.html#importing-jars\r\n[2]: https://maven.apache.org/plugins/maven-install-plugin/usage.html#The_install:install-file_goal","title":"How to add local jar files to a Maven project?","body":"<p>Install the JAR into your local Maven repository (typically <code>.m2</code> in your home folder) as follows:</p>\n<pre><code>mvn install:install-file \\\n   -Dfile=&lt;path-to-file&gt; \\\n   -DgroupId=&lt;group-id&gt; \\\n   -DartifactId=&lt;artifact-id&gt; \\\n   -Dversion=&lt;version&gt; \\\n   -Dpackaging=&lt;packaging&gt; \\\n   -DgeneratePom=true\n</code></pre>\n<p>Where each refers to:</p>\n<p><code>&lt;path-to-file&gt;</code>: the path to the file to load e.g → <code>c:\\kaptcha-2.3.jar</code></p>\n<p><code>&lt;group-id&gt;</code>: the group that the file should be registered under e.g → <code>com.google.code</code></p>\n<p><code>&lt;artifact-id&gt;</code>: the artifact name for the file e.g → <code>kaptcha</code></p>\n<p><code>&lt;version&gt;</code>: the version of the file e.g → <code>2.3</code></p>\n<p><code>&lt;packaging&gt;</code>: the packaging of the file e.g. → <code>jar</code></p>\n<p><strong>Reference</strong></p>\n<ul>\n<li>Maven FAQ: <a href=\"http://maven.apache.org/general.html#importing-jars\" rel=\"noreferrer\">I have a jar that I want to put into my local repository. How can I copy it in?</a></li>\n<li>Maven Install Plugin Usage: <a href=\"https://maven.apache.org/plugins/maven-install-plugin/usage.html#The_install:install-file_goal\" rel=\"noreferrer\">The <code>install:install-file</code> goal</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":102129,"reputation":7632,"user_id":274344,"accept_rate":82,"display_name":"Simeon"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1297334609,"creation_date":1297332563,"answer_id":4955709,"question_id":4955635,"body_markdown":"The preferred way would be to create your own remote repository.\r\n\r\nSee [here][1] for details on how to do it.\r\nHave a look at the &#39;**Uploading to a Remote Repository**&#39; section.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-repositories.html","title":"How to add local jar files to a Maven project?","body":"<p>The preferred way would be to create your own remote repository.</p>\n\n<p>See <a href=\"http://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"nofollow\">here</a> for details on how to do it.\nHave a look at the '<strong>Uploading to a Remote Repository</strong>' section.</p>\n"},{"tags":[],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1297332945,"creation_date":1297332945,"answer_id":4955789,"question_id":4955635,"body_markdown":"Of course you can add jars to that folder. But maybe it does not what you want to achieve...\r\n\r\nIf you need these jars for compilation, check this related question: https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them/\r\n\r\nAlso, before anyone suggests it, do NOT use the system scope.","title":"How to add local jar files to a Maven project?","body":"<p>Of course you can add jars to that folder. But maybe it does not what you want to achieve...</p>\n\n<p>If you need these jars for compilation, check this related question: <a href=\"https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them/\">Can I add jars to maven 2 build classpath without installing them?</a></p>\n\n<p>Also, before anyone suggests it, do NOT use the system scope.</p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1490848850,"creation_date":1297334342,"answer_id":4956037,"question_id":4955635,"body_markdown":"One way is to upload it to your own Maven repository manager (such as Nexus). It&#39;s good practice to have an own repository manager anyway.\r\n\r\nAnother nice way I&#39;ve recently seen is to include the Maven Install Plugin in your build lifecycle: You declare in the POM to install the files to the local repository. It&#39;s a little but small overhead and no manual step involved.\r\n\r\nhttp://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html","title":"How to add local jar files to a Maven project?","body":"<p>One way is to upload it to your own Maven repository manager (such as Nexus). It's good practice to have an own repository manager anyway.</p>\n\n<p>Another nice way I've recently seen is to include the Maven Install Plugin in your build lifecycle: You declare in the POM to install the files to the local repository. It's a little but small overhead and no manual step involved.</p>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html\" rel=\"noreferrer\">http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html</a></p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":16,"up_vote_count":1800,"is_accepted":false,"score":1784,"last_activity_date":1567686891,"creation_date":1394456547,"answer_id":22300875,"question_id":4955635,"body_markdown":"You can add local dependencies directly (as mentioned in https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343) like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sample&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sample&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${project.basedir}/src/main/resources/Name_Your_JAR.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Update**\r\n\r\nIn new releases this feature is marked as deprecated but still working and not removed yet ( You just see warning in the log during maven start). An issue is raised at maven group about this https://issues.apache.org/jira/browse/MNG-6523 ( You can participate and describe why this feature is helpful in some cases). I hope this feature remains there! \r\n\r\nIf you are asking me, as long as the feature is not removed, I use this to **make dependency to only *one* naughty jar file** in my project which is not fit in repository. If this feature is removed, well, there are lots of good answers here which I can chose from later!  ","title":"How to add local jar files to a Maven project?","body":"<p>You can add local dependencies directly (as mentioned in <a href=\"https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343\">build maven project with propriatery libraries included</a>) like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;sample&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/src/main/resources/Name_Your_JAR.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>In new releases this feature is marked as deprecated but still working and not removed yet ( You just see warning in the log during maven start). An issue is raised at maven group about this <a href=\"https://issues.apache.org/jira/browse/MNG-6523\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/MNG-6523</a> ( You can participate and describe why this feature is helpful in some cases). I hope this feature remains there! </p>\n\n<p>If you are asking me, as long as the feature is not removed, I use this to <strong>make dependency to only <em>one</em> naughty jar file</strong> in my project which is not fit in repository. If this feature is removed, well, there are lots of good answers here which I can chose from later!  </p>\n"},{"tags":[],"owner":{"account_id":74193,"reputation":4313,"user_id":213292,"accept_rate":40,"display_name":"JJ Roman"},"down_vote_count":1,"up_vote_count":213,"is_accepted":false,"score":212,"last_activity_date":1549777802,"creation_date":1425032223,"answer_id":28762617,"question_id":4955635,"body_markdown":"Firstly, I would like to give credit for this answer to an anonymous Stack Overflow user - I am pretty sure I&#39;ve seen a similar answer here before - but now I cannot find it. \r\n\r\nThe best option for having local JAR files as a dependency is to create a local Maven repository. Such a repository is nothing more than a proper directory structure with pom files in it. \r\n\r\nFor my example:\r\nI have my master project on `${master_project}` location and subproject1 is on `${master_project}/${subproject1}`.\r\n\r\nThen I create a Maven repository in:\r\n`${master_project}/local-maven-repo`.\r\n\r\nIn the pom file in subproject1 located at `${master_project}/${subproject1}/pom.xml`, the repository needs to be specified which would take file path as a URL parameter:\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;local-maven-repo&lt;/id&gt;\r\n            &lt;url&gt;file:///${project.parent.basedir}/local-maven-repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nThe dependency can be specified as for any other repository. This makes your pom repository independent. For instance, once the desired JAR is available in Maven central, you just need to delete it from your local repo and it will be pulled from the default repo. \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.apache.felix.servicebinder&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe last but not least thing to do is to add the JAR file to local repository using -DlocalRepositoryPath switch like so:\r\n\r\n\tmvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file  \\\r\n\t\t-Dfile=/some/path/on/my/local/filesystem/felix/servicebinder/target/org.apache.felix.servicebinder-0.9.0-SNAPSHOT.jar \\\r\n        -DgroupId=org.apache.felix -DartifactId=org.apache.felix.servicebinder \\\r\n        -Dversion=0.9.0-SNAPSHOT -Dpackaging=jar \\\r\n        -DlocalRepositoryPath=${master_project}/local-maven-repo\r\n\r\nOnce the JAR file is installed, your Maven repo can be committed to a code repository, and the whole set-up is system independent. ([Working example in GitHub][1]).\r\n\r\nI agree that having JARs committed to source code repo is not a good practice, but in real life, quick and dirty solutions are sometimes better than a full blown Nexus repo to host one JAR that you cannot publish. \r\n\r\n\r\n  [1]: https://github.com/jjromannet/apache-felix-tutorials","title":"How to add local jar files to a Maven project?","body":"<p>Firstly, I would like to give credit for this answer to an anonymous Stack Overflow user - I am pretty sure I've seen a similar answer here before - but now I cannot find it. </p>\n\n<p>The best option for having local JAR files as a dependency is to create a local Maven repository. Such a repository is nothing more than a proper directory structure with pom files in it. </p>\n\n<p>For my example:\nI have my master project on <code>${master_project}</code> location and subproject1 is on <code>${master_project}/${subproject1}</code>.</p>\n\n<p>Then I create a Maven repository in:\n<code>${master_project}/local-maven-repo</code>.</p>\n\n<p>In the pom file in subproject1 located at <code>${master_project}/${subproject1}/pom.xml</code>, the repository needs to be specified which would take file path as a URL parameter:</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.parent.basedir}/local-maven-repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>The dependency can be specified as for any other repository. This makes your pom repository independent. For instance, once the desired JAR is available in Maven central, you just need to delete it from your local repo and it will be pulled from the default repo. </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n        &lt;artifactId&gt;org.apache.felix.servicebinder&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The last but not least thing to do is to add the JAR file to local repository using -DlocalRepositoryPath switch like so:</p>\n\n<pre><code>mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file  \\\n    -Dfile=/some/path/on/my/local/filesystem/felix/servicebinder/target/org.apache.felix.servicebinder-0.9.0-SNAPSHOT.jar \\\n    -DgroupId=org.apache.felix -DartifactId=org.apache.felix.servicebinder \\\n    -Dversion=0.9.0-SNAPSHOT -Dpackaging=jar \\\n    -DlocalRepositoryPath=${master_project}/local-maven-repo\n</code></pre>\n\n<p>Once the JAR file is installed, your Maven repo can be committed to a code repository, and the whole set-up is system independent. (<a href=\"https://github.com/jjromannet/apache-felix-tutorials\" rel=\"noreferrer\">Working example in GitHub</a>).</p>\n\n<p>I agree that having JARs committed to source code repo is not a good practice, but in real life, quick and dirty solutions are sometimes better than a full blown Nexus repo to host one JAR that you cannot publish. </p>\n"},{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1426997997,"creation_date":1426997997,"answer_id":29190953,"question_id":4955635,"body_markdown":"Also take a look at...\r\n\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n\r\n[Maven Dependencies][1].  This is the default but I&#39;ve found in some cases explicitly setting that scope also Maven to find local libraries in the local repository.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html","title":"How to add local jar files to a Maven project?","body":"<p>Also take a look at...</p>\n\n<pre><code>&lt;scope&gt;compile&lt;/scope&gt;\n</code></pre>\n\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow\">Maven Dependencies</a>.  This is the default but I've found in some cases explicitly setting that scope also Maven to find local libraries in the local repository.</p>\n"},{"tags":[],"owner":{"account_id":6025632,"reputation":11,"user_id":4731435,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461652506,"creation_date":1448996756,"answer_id":34028118,"question_id":4955635,"body_markdown":"Note that it is NOT necessarily a good idea to use a local repo.\r\nIf this project is shared with others then everyone else will have problems and questions when it doesn&#39;t work, and the jar won&#39;t be available even in your source control system!\r\n\r\nAlthough the shared repo is the best answer, if you cannot do this for some reason then embedding the jar is better than a local repo. Local-only repo contents can cause lots of problems, especially over time.","title":"How to add local jar files to a Maven project?","body":"<p>Note that it is NOT necessarily a good idea to use a local repo.\nIf this project is shared with others then everyone else will have problems and questions when it doesn't work, and the jar won't be available even in your source control system!</p>\n\n<p>Although the shared repo is the best answer, if you cannot do this for some reason then embedding the jar is better than a local repo. Local-only repo contents can cause lots of problems, especially over time.</p>\n"},{"tags":[],"owner":{"account_id":5460188,"reputation":1757,"user_id":4342532,"accept_rate":41,"display_name":"ROOT"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1495570592,"creation_date":1452329285,"answer_id":34691488,"question_id":4955635,"body_markdown":"    &lt;dependency&gt;\r\n        &lt;groupId&gt;group id name&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artifact name&lt;/artifactId&gt;\r\n        &lt;version&gt;version number&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;jar location&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;","title":"How to add local jar files to a Maven project?","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;group id name&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact name&lt;/artifactId&gt;\n    &lt;version&gt;version number&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;jar location&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6198322,"reputation":59,"user_id":4828984,"display_name":"Luis Muzikant"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1455224709,"creation_date":1455224709,"answer_id":35349999,"question_id":4955635,"body_markdown":"I want to share a code where you can upload a folder full of jars. It&#39;s useful when a provider doesn&#39;t have a public repository and you need to add lots of libraries  manually. I&#39;ve decided to build a .bat instead of call directly to maven because It could be Out of Memory errors. It was prepared for a windows environment but is easy to adapt it to linux OS:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.util.Date;\r\n    import java.util.jar.Attributes;\r\n    import java.util.jar.JarFile;\r\n    import java.util.jar.Manifest;\r\n\r\n    public class CreateMavenRepoApp {\r\n\r\n    \tprivate static final String OCB_PLUGIN_FOLDER = &quot;C://your_folder_with_jars&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n\r\n        File directory = new File();\r\n        //get all the files from a directory\r\n        PrintWriter writer = new PrintWriter(&quot;update_repo_maven.bat&quot;, &quot;UTF-8&quot;);\r\n        writer.println(&quot;rem &quot;+ new Date());  \r\n        File[] fList = directory.listFiles();\r\n        for (File file : fList){\r\n        \tif (file.isFile()){               \r\n            String absolutePath = file.getAbsolutePath() ;\r\n            Manifest  m = new JarFile(absolutePath).getManifest();\r\n            Attributes attributes = m.getMainAttributes();\r\n            String symbolicName = attributes.getValue(&quot;Bundle-SymbolicName&quot;);\r\n               \r\n            if(symbolicName!=null &amp;&amp;symbolicName.contains(&quot;com.yourCompany.yourProject&quot;)) {\r\n            \tString[] parts =symbolicName.split(&quot;\\\\.&quot;);\r\n            \tString artifactId = parts[parts.length-1];\r\n            \tString groupId = symbolicName.substring(0,symbolicName.length()-artifactId.length()-1);\r\n            \tString version = attributes.getValue(&quot;Bundle-Version&quot;);\r\n            \tString mavenLine= &quot;call mvn org.apache.maven.plugins:maven-install-plugin:2.5.1:install-file -Dfile=&quot;+ absolutePath+&quot; -DgroupId=&quot;+ groupId+&quot; -DartifactId=&quot;+ artifactId+&quot; -Dversion=&quot;+ version+&quot; -Dpackaging=jar &quot;;\r\n            \twriter.println(mavenLine);        \t\r\n            }\r\n            \r\n        \t}\r\n        }\r\n        writer.close();\r\n    \t}\r\n\r\n    }\r\n\r\nAfter run this main from any IDE, run the update_repo_maven.bat.\r\n","title":"How to add local jar files to a Maven project?","body":"<p>I want to share a code where you can upload a folder full of jars. It's useful when a provider doesn't have a public repository and you need to add lots of libraries  manually. I've decided to build a .bat instead of call directly to maven because It could be Out of Memory errors. It was prepared for a windows environment but is easy to adapt it to linux OS:</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.Date;\nimport java.util.jar.Attributes;\nimport java.util.jar.JarFile;\nimport java.util.jar.Manifest;\n\npublic class CreateMavenRepoApp {\n\n    private static final String OCB_PLUGIN_FOLDER = \"C://your_folder_with_jars\";\n\n    public static void main(String[] args) throws IOException {\n\n    File directory = new File();\n    //get all the files from a directory\n    PrintWriter writer = new PrintWriter(\"update_repo_maven.bat\", \"UTF-8\");\n    writer.println(\"rem \"+ new Date());  \n    File[] fList = directory.listFiles();\n    for (File file : fList){\n        if (file.isFile()){               \n        String absolutePath = file.getAbsolutePath() ;\n        Manifest  m = new JarFile(absolutePath).getManifest();\n        Attributes attributes = m.getMainAttributes();\n        String symbolicName = attributes.getValue(\"Bundle-SymbolicName\");\n\n        if(symbolicName!=null &amp;&amp;symbolicName.contains(\"com.yourCompany.yourProject\")) {\n            String[] parts =symbolicName.split(\"\\\\.\");\n            String artifactId = parts[parts.length-1];\n            String groupId = symbolicName.substring(0,symbolicName.length()-artifactId.length()-1);\n            String version = attributes.getValue(\"Bundle-Version\");\n            String mavenLine= \"call mvn org.apache.maven.plugins:maven-install-plugin:2.5.1:install-file -Dfile=\"+ absolutePath+\" -DgroupId=\"+ groupId+\" -DartifactId=\"+ artifactId+\" -Dversion=\"+ version+\" -Dpackaging=jar \";\n            writer.println(mavenLine);          \n        }\n\n        }\n    }\n    writer.close();\n    }\n\n}\n</code></pre>\n\n<p>After run this main from any IDE, run the update_repo_maven.bat.</p>\n"},{"tags":[],"owner":{"account_id":255268,"reputation":22641,"user_id":535203,"accept_rate":73,"display_name":"Anthony O."},"down_vote_count":2,"up_vote_count":196,"is_accepted":false,"score":194,"last_activity_date":1487652849,"creation_date":1460559336,"answer_id":36602256,"question_id":4955635,"body_markdown":"Create a new folder, let&#39;s say `local-maven-repo` at the root of your Maven project.\r\n\r\nJust add a local repo inside your `&lt;project&gt;` of your `pom.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;local-maven-repo&lt;/id&gt;\r\n\t\t\t&lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\nThen for each external jar you want to install, go at the root of your project and execute:\r\n\r\n    mvn deploy:deploy-file -DgroupId=[GROUP] -DartifactId=[ARTIFACT] -Dversion=[VERS] -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=[FILE_PATH]","title":"How to add local jar files to a Maven project?","body":"<p>Create a new folder, let's say <code>local-maven-repo</code> at the root of your Maven project.</p>\n\n<p>Just add a local repo inside your <code>&lt;project&gt;</code> of your <code>pom.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>Then for each external jar you want to install, go at the root of your project and execute:</p>\n\n<pre><code>mvn deploy:deploy-file -DgroupId=[GROUP] -DartifactId=[ARTIFACT] -Dversion=[VERS] -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=[FILE_PATH]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1421238,"reputation":3078,"user_id":1345788,"accept_rate":70,"display_name":"sphinks"},"down_vote_count":2,"up_vote_count":79,"is_accepted":false,"score":77,"last_activity_date":1576162607,"creation_date":1468360690,"answer_id":38339518,"question_id":4955635,"body_markdown":"I&#39;d like such solution - use `maven-install-plugin` in pom file:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5.2&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;initialize&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;install-file&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;file&gt;lib/yourJar.jar&lt;/file&gt;\r\n                &lt;groupId&gt;com.somegroup.id&lt;/groupId&gt;\r\n                &lt;artifactId&gt;artefact-id&lt;/artifactId&gt;\r\n                &lt;version&gt;x.y.z&lt;/version&gt;\r\n                &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nIn this case you can perform `mvn initialize` and jar will be installed in local maven repo. Now this jar is available during any maven step on this machine (do not forget to include this dependency as any other maven dependency in pom with `&lt;dependency&gt;&lt;/dependency&gt;` tag). It is also possible to bind jar install not to `initialize` step, but any other step you like.","title":"How to add local jar files to a Maven project?","body":"<p>I'd like such solution - use <code>maven-install-plugin</code> in pom file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;file&gt;lib/yourJar.jar&lt;/file&gt;\n                &lt;groupId&gt;com.somegroup.id&lt;/groupId&gt;\n                &lt;artifactId&gt;artefact-id&lt;/artifactId&gt;\n                &lt;version&gt;x.y.z&lt;/version&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>In this case you can perform <code>mvn initialize</code> and jar will be installed in local maven repo. Now this jar is available during any maven step on this machine (do not forget to include this dependency as any other maven dependency in pom with <code>&lt;dependency&gt;&lt;/dependency&gt;</code> tag). It is also possible to bind jar install not to <code>initialize</code> step, but any other step you like.</p>\n"},{"tags":[],"owner":{"account_id":2628230,"reputation":1572,"user_id":2274819,"accept_rate":60,"display_name":"JRr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1478276700,"creation_date":1478276700,"answer_id":40427472,"question_id":4955635,"body_markdown":"This is a short syntax for newer versions:\r\n\r\n    mvn install:install-file -Dfile=&lt;path-to-file&gt;\r\n\r\nIt works when the JAR was built by Apache Maven - the most common case. Then it&#39;ll contain a pom.xml in a subfolder of the META-INF directory, which will be read by default.\r\n\r\nSource: http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\r\n","title":"How to add local jar files to a Maven project?","body":"<p>This is a short syntax for newer versions:</p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt;\n</code></pre>\n\n<p>It works when the JAR was built by Apache Maven - the most common case. Then it'll contain a pom.xml in a subfolder of the META-INF directory, which will be read by default.</p>\n\n<p>Source: <a href=\"http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"noreferrer\">http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a></p>\n"},{"tags":[],"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486231743,"creation_date":1486231743,"answer_id":42043770,"question_id":4955635,"body_markdown":"On your local repository you can install your jar by issuing the commands\r\n\r\n     mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; \\\r\n    -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt;\r\n\r\nFollow this useful  [link][1] to do the same from mkyoung&#39;s website. You can also check [maven guide for the same][2]\r\n\r\n\r\n  [1]: https://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/\r\n  [2]: https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html","title":"How to add local jar files to a Maven project?","body":"<p>On your local repository you can install your jar by issuing the commands</p>\n\n<pre><code> mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; \\\n-DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt;\n</code></pre>\n\n<p>Follow this useful  <a href=\"https://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/\" rel=\"nofollow noreferrer\">link</a> to do the same from mkyoung's website. You can also check <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">maven guide for the same</a></p>\n"},{"tags":[],"owner":{"account_id":8412898,"reputation":2565,"user_id":6314219,"display_name":"Ravikiran Reddy Kotapati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489566205,"creation_date":1489564889,"answer_id":42804029,"question_id":4955635,"body_markdown":"To install third party jar, Please call the command like below\r\n\r\n    mvn install:install-file -DgroupId= -DartifactId= -Dversion= -Dpackaging=jar -Dfile=path","title":"How to add local jar files to a Maven project?","body":"<p>To install third party jar, Please call the command like below</p>\n\n<pre><code>mvn install:install-file -DgroupId= -DartifactId= -Dversion= -Dpackaging=jar -Dfile=path\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1504466284,"creation_date":1497854765,"answer_id":44623865,"question_id":4955635,"body_markdown":"Another interesting case is when you want to have in your project private maven jars. You may want to keep the capabilities of Maven to resolve transitive dependencies. The solution is fairly easy.\r\n\r\n 1. Create a folder **libs** in your project\r\n 2. Add the following lines in your pom.xml file\r\n\r\n        &lt;properties&gt;&lt;local.repository.folder&gt;${pom.basedir}/libs/&lt;/local.repository.folder&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;repositories&gt;\r\n           &lt;repository&gt;\r\n    \t\t\t&lt;id&gt;local-maven-repository&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;file://${local.repository.folder}&lt;/url&gt;\r\n                &lt;releases&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/releases&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n           &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n\r\n 3. Open the **.m2/repository** folder and copy the directory structure of the project you want to import into the **libs** folder. \r\n\r\nE.g. suppose you want to import the dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mycompany.myproject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nJust go on **.m2/repository** and you will see the following folder\r\n \r\n  **com/mycompany/myproject/1.2.3**\r\n\r\nCopy everything in your libs folder (again, including the folders under **.m2/repository**) and you are done.\r\n  \r\n\r\n\r\n\r\n","title":"How to add local jar files to a Maven project?","body":"<p>Another interesting case is when you want to have in your project private maven jars. You may want to keep the capabilities of Maven to resolve transitive dependencies. The solution is fairly easy.</p>\n\n<ol>\n<li>Create a folder <strong>libs</strong> in your project</li>\n<li><p>Add the following lines in your pom.xml file</p>\n\n<pre><code>&lt;properties&gt;&lt;local.repository.folder&gt;${pom.basedir}/libs/&lt;/local.repository.folder&gt;\n&lt;/properties&gt;\n\n&lt;repositories&gt;\n   &lt;repository&gt;\n        &lt;id&gt;local-maven-repository&lt;/id&gt;\n        &lt;url&gt;file://${local.repository.folder}&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n   &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre></li>\n<li><p>Open the <strong>.m2/repository</strong> folder and copy the directory structure of the project you want to import into the <strong>libs</strong> folder. </p></li>\n</ol>\n\n<p>E.g. suppose you want to import the dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mycompany.myproject&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Just go on <strong>.m2/repository</strong> and you will see the following folder</p>\n\n<p><strong>com/mycompany/myproject/1.2.3</strong></p>\n\n<p>Copy everything in your libs folder (again, including the folders under <strong>.m2/repository</strong>) and you are done.</p>\n"},{"tags":[],"owner":{"account_id":11258099,"reputation":209,"user_id":8257171,"display_name":"Tummidi Phani Kumar"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1499237092,"creation_date":1499235756,"answer_id":44918407,"question_id":4955635,"body_markdown":"Add your own local JAR in POM file and use that in maven build.\r\n\r\n    mvn install:install-file -Dfile=path-to-jar -DgroupId=owngroupid -DartifactId=ownartifactid -Dversion=ownversion -Dpackaging=jar\r\n\r\nFor example:\r\n\r\n    mvn install:install-file -Dfile=path-to-jar -DgroupId=com.decompiler -DartifactId=jd-core-java -Dversion=1.2 -Dpackaging=jar\r\n\r\n\r\nThen add it to the POM like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ywD6y.png","title":"How to add local jar files to a Maven project?","body":"<p>Add your own local JAR in POM file and use that in maven build.</p>\n\n<pre><code>mvn install:install-file -Dfile=path-to-jar -DgroupId=owngroupid -DartifactId=ownartifactid -Dversion=ownversion -Dpackaging=jar\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>mvn install:install-file -Dfile=path-to-jar -DgroupId=com.decompiler -DartifactId=jd-core-java -Dversion=1.2 -Dpackaging=jar\n</code></pre>\n\n<p>Then add it to the POM like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ywD6y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ywD6y.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505409963,"creation_date":1505409963,"answer_id":46225079,"question_id":4955635,"body_markdown":"For some reason, in the web application I&#39;m giving maintenance to, neither [Alireza Fattahi&#39;s solution](https://stackoverflow.com/a/22300875/679240) nor [JJ Roman&#39;s solution](https://stackoverflow.com/a/28762617/679240) worked correctly. In both cases, the compilation goes okay (it sees the jar), but the packaging fails to include the jar inside the war.\r\n\r\nThe only way I managed to make it work was by putting the jar on `/src/main/webapp/WEB-INF/lib/` and then combining it with either Fattahis&#39;s or Roman&#39;s solution.","title":"How to add local jar files to a Maven project?","body":"<p>For some reason, in the web application I'm giving maintenance to, neither <a href=\"https://stackoverflow.com/a/22300875/679240\">Alireza Fattahi's solution</a> nor <a href=\"https://stackoverflow.com/a/28762617/679240\">JJ Roman's solution</a> worked correctly. In both cases, the compilation goes okay (it sees the jar), but the packaging fails to include the jar inside the war.</p>\n\n<p>The only way I managed to make it work was by putting the jar on <code>/src/main/webapp/WEB-INF/lib/</code> and then combining it with either Fattahis's or Roman's solution.</p>\n"},{"tags":[],"owner":{"account_id":12339219,"reputation":131,"user_id":9003072,"display_name":"Hassani"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1512054252,"creation_date":1512054252,"answer_id":47576477,"question_id":4955635,"body_markdown":"command line :\r\n\r\n    mvn install:install-file -Dfile=c:\\kaptcha-{version}.jar -DgroupId=com.google.code\r\n    -DartifactId=kaptcha -Dversion={version} -Dpackaging=jar","title":"How to add local jar files to a Maven project?","body":"<p>command line :</p>\n\n<pre><code>mvn install:install-file -Dfile=c:\\kaptcha-{version}.jar -DgroupId=com.google.code\n-DartifactId=kaptcha -Dversion={version} -Dpackaging=jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12943425,"reputation":11,"user_id":9358476,"display_name":"Ranjan Rozario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519205941,"creation_date":1519204661,"answer_id":48902073,"question_id":4955635,"body_markdown":"I had the same error for a set of dependencies in my pom.xml turns out the versions of the dependencies was not specified in the pom.xml and was mentioned in the parent repository. For some reason the version details was not syncing with this repo. Hence i manually entered the versions using the &lt;version&gt; tag and it worked like a charm. Little bit of time needed to look up the versions in the parent and specify here. But this can be done just for the jars that are showing the artifactid error and it works. Hope this helps someone.","title":"How to add local jar files to a Maven project?","body":"<p>I had the same error for a set of dependencies in my pom.xml turns out the versions of the dependencies was not specified in the pom.xml and was mentioned in the parent repository. For some reason the version details was not syncing with this repo. Hence i manually entered the versions using the  tag and it worked like a charm. Little bit of time needed to look up the versions in the parent and specify here. But this can be done just for the jars that are showing the artifactid error and it works. Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":3074032,"reputation":4789,"user_id":2603900,"accept_rate":90,"display_name":"Sudara"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1528669480,"creation_date":1528669172,"answer_id":50788552,"question_id":4955635,"body_markdown":"I think a better solution for this problem is to use [maven-install-plugin][1] to automatically install the files at install time. This is how I set it up for my project. \r\n\r\nFirst, add the path (where you store the local .jars) as a property.\r\n\r\n    &lt;properties&gt;\r\n        &lt;local.sdk&gt;/path/to/jar&lt;/local.sdk&gt;\r\n\t&lt;/properties&gt;\r\n\r\nThen, under `plugins` add a plugin to install the jars when compiling.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;1&lt;/id&gt;\r\n                &lt;phase&gt;initialize&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;install-file&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;groupId&gt;com.local.jar&lt;/groupId&gt; \r\n                    &lt;artifactId&gt;appengine-api&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                    &lt;file&gt;${local.sdk}/lib/impl/appengine-api.jar&lt;/file&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;appengine-api-stubs&lt;/id&gt;\r\n                &lt;phase&gt;initialize&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;install-file&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;appengine-api-stubs&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                    &lt;file&gt;${local.sdk}/lib/impl/appengine-api-stubs.jar&lt;/file&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nFinally, in dependencies, you can add the jars\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-api-stubs&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBy Setting up your project like this, the project will continue to build even when you take it to another computer (given that it has all the jar files in the path specified by the property `local.sdk`).\r\n\r\nFor `groupId` use a unique name just to make sure that there are no conflicts.\r\n\r\nNow when you `mvn install` or `mvn test` local jars will be added automatically.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-install-plugin/","title":"How to add local jar files to a Maven project?","body":"<p>I think a better solution for this problem is to use <a href=\"http://maven.apache.org/plugins/maven-install-plugin/\" rel=\"noreferrer\">maven-install-plugin</a> to automatically install the files at install time. This is how I set it up for my project. </p>\n\n<p>First, add the path (where you store the local .jars) as a property.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;local.sdk&gt;/path/to/jar&lt;/local.sdk&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>Then, under <code>plugins</code> add a plugin to install the jars when compiling.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;1&lt;/id&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;groupId&gt;com.local.jar&lt;/groupId&gt; \n                &lt;artifactId&gt;appengine-api&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;file&gt;${local.sdk}/lib/impl/appengine-api.jar&lt;/file&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;appengine-api-stubs&lt;/id&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-api-stubs&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;file&gt;${local.sdk}/lib/impl/appengine-api-stubs.jar&lt;/file&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Finally, in dependencies, you can add the jars</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\n    &lt;artifactId&gt;appengine-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.local.jar&lt;/groupId&gt;\n    &lt;artifactId&gt;appengine-api-stubs&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>By Setting up your project like this, the project will continue to build even when you take it to another computer (given that it has all the jar files in the path specified by the property <code>local.sdk</code>).</p>\n\n<p>For <code>groupId</code> use a unique name just to make sure that there are no conflicts.</p>\n\n<p>Now when you <code>mvn install</code> or <code>mvn test</code> local jars will be added automatically.</p>\n"},{"tags":[],"owner":{"account_id":10766816,"reputation":1303,"user_id":7921521,"display_name":"Mazen Embaby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533057215,"creation_date":1533054903,"answer_id":51618158,"question_id":4955635,"body_markdown":"&gt; 1. mvn install \r\n\r\nYou can write code below in command line or if you&#39;re using eclipse builtin maven right click on project -&gt; Run As -&gt; run configurations... -&gt; in left panel right click on Maven Build -&gt; new configuration -&gt; write the code in Goals &amp; in base directory :${project_loc:NameOfYourProject} -&gt; Run  \r\n\r\n    mvn install:install-file\r\n       -Dfile=&lt;path-to-file&gt;\r\n       -DgroupId=&lt;group-id&gt;\r\n       -DartifactId=&lt;artifact-id&gt;\r\n       -Dversion=&lt;version&gt;\r\n       -Dpackaging=&lt;packaging&gt;\r\n       -DgeneratePom=true\r\n\r\n **Where each refers to:**\r\n\r\n&lt; path-to-file &gt;: the path to the file to load e.g -&gt; c:\\kaptcha-2.3.jar\r\n\r\n&lt; group-id &gt;: the group that the file should be registered under e.g -&gt; com.google.code\r\n\r\n&lt; artifact-id &gt;: the artifact name for the file e.g -&gt; kaptcha\r\n\r\n&lt; version &gt;: the version of the file e.g -&gt; 2.3\r\n\r\n&lt; packaging &gt;: the packaging of the file e.g. -&gt; jar\r\n\r\n&gt; 2.After installed, just declares jar in pom.xml.\r\n\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code&lt;/groupId&gt;\r\n          &lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3&lt;/version&gt;\r\n     &lt;/dependency&gt;","title":"How to add local jar files to a Maven project?","body":"<blockquote>\n  <ol>\n  <li>mvn install </li>\n  </ol>\n</blockquote>\n\n<p>You can write code below in command line or if you're using eclipse builtin maven right click on project -> Run As -> run configurations... -> in left panel right click on Maven Build -> new configuration -> write the code in Goals &amp; in base directory :${project_loc:NameOfYourProject} -> Run  </p>\n\n<pre><code>mvn install:install-file\n   -Dfile=&lt;path-to-file&gt;\n   -DgroupId=&lt;group-id&gt;\n   -DartifactId=&lt;artifact-id&gt;\n   -Dversion=&lt;version&gt;\n   -Dpackaging=&lt;packaging&gt;\n   -DgeneratePom=true\n</code></pre>\n\n<p><strong>Where each refers to:</strong></p>\n\n<p>&lt; path-to-file >: the path to the file to load e.g -> c:\\kaptcha-2.3.jar</p>\n\n<p>&lt; group-id >: the group that the file should be registered under e.g -> com.google.code</p>\n\n<p>&lt; artifact-id >: the artifact name for the file e.g -> kaptcha</p>\n\n<p>&lt; version >: the version of the file e.g -> 2.3</p>\n\n<p>&lt; packaging >: the packaging of the file e.g. -> jar</p>\n\n<blockquote>\n  <p>2.After installed, just declares jar in pom.xml.</p>\n</blockquote>\n\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code&lt;/groupId&gt;\n      &lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\n      &lt;version&gt;2.3&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1637571176,"creation_date":1533192423,"answer_id":51647143,"question_id":4955635,"body_markdown":"The really quick and dirty way is to point to a local file, please note &quot;&lt;scope&gt;system&quot; is deprecated by now:\r\n\r\n\t\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;samplifact&lt;/artifactId&gt;  \r\n    &lt;version&gt;1.0&lt;/version&gt; \r\n    &lt;scope&gt;system&lt;/scope&gt;\r\n    &lt;systemPath&gt;C:\\DEV\\myfunnylib\\yourJar.jar&lt;/systemPath&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHowever this will only live on your machine (obviously), for sharing it usually makes sense to use a proper m2 archive (nexus/artifactory) or if you do not have any of these or don&#39;t want to set one up a local maven structured archive and configure a &quot;repository&quot; in your pom:\r\n\r\nlocal:\r\n```xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;my-local-repo&lt;/id&gt;\r\n        &lt;url&gt;file://C:/DEV//mymvnrepo&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nremote:\r\n```xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;my-remote-repo&lt;/id&gt;\r\n        &lt;url&gt;http://192.168.0.1/whatever/mavenserver/youwant/repo&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\nfor this solution, a relative path is also possible using the basedir variable:\r\n\r\n    &lt;url&gt;file:${basedir}&lt;/url&gt;","title":"How to add local jar files to a Maven project?","body":"<p>The really quick and dirty way is to point to a local file, please note &quot;system&quot; is deprecated by now:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;  \n    &lt;artifactId&gt;samplifact&lt;/artifactId&gt;  \n    &lt;version&gt;1.0&lt;/version&gt; \n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;C:\\DEV\\myfunnylib\\yourJar.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However this will only live on your machine (obviously), for sharing it usually makes sense to use a proper m2 archive (nexus/artifactory) or if you do not have any of these or don't want to set one up a local maven structured archive and configure a &quot;repository&quot; in your pom:</p>\n<p>local:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;my-local-repo&lt;/id&gt;\n        &lt;url&gt;file://C:/DEV//mymvnrepo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>remote:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;my-remote-repo&lt;/id&gt;\n        &lt;url&gt;http://192.168.0.1/whatever/mavenserver/youwant/repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>for this solution, a relative path is also possible using the basedir variable:</p>\n<pre><code>&lt;url&gt;file:${basedir}&lt;/url&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7700422,"reputation":362,"user_id":5833218,"accept_rate":100,"display_name":"Kavindu Gayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536144862,"creation_date":1536144862,"answer_id":52183392,"question_id":4955635,"body_markdown":"In Apache Maven 3.5.4, I had to add double quotation. Without double quotation it wasn&#39;t worked for me.\r\n\r\nexample:\r\n    mvn install:install-file &quot;-Dfile=location to the jar file&quot; &quot;-DgroupId=group id&quot; &quot;-DartifactId=artifact id&quot; &quot;-Dversion=version&quot; &quot;-Dpackaging=package type&quot;\r\n\r\n","title":"How to add local jar files to a Maven project?","body":"<p>In Apache Maven 3.5.4, I had to add double quotation. Without double quotation it wasn't worked for me.</p>\n\n<p>example:\n    mvn install:install-file \"-Dfile=location to the jar file\" \"-DgroupId=group id\" \"-DartifactId=artifact id\" \"-Dversion=version\" \"-Dpackaging=package type\"</p>\n"},{"tags":[],"owner":{"account_id":4117104,"reputation":377,"user_id":3378417,"display_name":"kolle_86"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1574462922,"creation_date":1574462922,"answer_id":59002753,"question_id":4955635,"body_markdown":"Important part in dependency is:\r\n**${pom.basedir}** (instead of just ${basedir})\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;example&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t&lt;systemPath&gt;${pom.basedir}/src/lib/example.jar&lt;/systemPath&gt;\r\n\t&lt;/dependency&gt;","title":"How to add local jar files to a Maven project?","body":"<p>Important part in dependency is:\n<strong>${pom.basedir}</strong> (instead of just ${basedir})</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${pom.basedir}/src/lib/example.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7006182,"reputation":2025,"user_id":5370480,"display_name":"Dean Jain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585707281,"creation_date":1585707281,"answer_id":60962632,"question_id":4955635,"body_markdown":"1. Create a local Maven repository directory, Your project root should look something like this to start with:\r\n\r\n```yaml\r\nyourproject\r\n+- pom.xml\r\n+- src\r\n```\r\n\r\n2. Add a standard Maven repository directory called repo for the group com.example and version 1.0:\r\n\r\n```yaml\r\nyourproject\r\n+- pom.xml\r\n+- src\r\n+- repo\r\n```\r\n\r\n3. Deploy the Artifact Into the Repo, Maven can deploy the artifact for you using the mvn deploy:deploy-file goal:\r\n```yaml\r\nmvn deploy:deploy-file -Durl=file:///pathtoyour/repo -Dfile=your.jar -DgroupId=your.group.id -DartifactId=yourid -Dpackaging=jar -Dversion=1.0\r\n```\r\n\r\n4. install pom file corresponding to your jar so that your project can find jar during maven build from local repo:\r\n```yaml\r\nmvn install:install-file -Dfile=/path-to-your-jar-1.0.jar -DpomFile=/path-to-your-pom-1.0.pom\r\n```\r\n5. add repo in your pom file:\r\n```yaml\r\n&lt;repositories&gt;\r\n    &lt;!--other repositories if any--&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;project.local&lt;/id&gt;\r\n        &lt;name&gt;project&lt;/name&gt;\r\n        &lt;url&gt;file:${project.basedir}/repo&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n6. add the dependency in your pom:\r\n```yaml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.groupid&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myid&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"How to add local jar files to a Maven project?","body":"<ol>\n<li>Create a local Maven repository directory, Your project root should look something like this to start with:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>yourproject\n+- pom.xml\n+- src\n</code></pre>\n\n<ol start=\"2\">\n<li>Add a standard Maven repository directory called repo for the group com.example and version 1.0:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>yourproject\n+- pom.xml\n+- src\n+- repo\n</code></pre>\n\n<ol start=\"3\">\n<li>Deploy the Artifact Into the Repo, Maven can deploy the artifact for you using the mvn deploy:deploy-file goal:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>mvn deploy:deploy-file -Durl=file:///pathtoyour/repo -Dfile=your.jar -DgroupId=your.group.id -DartifactId=yourid -Dpackaging=jar -Dversion=1.0\n</code></pre>\n\n<ol start=\"4\">\n<li>install pom file corresponding to your jar so that your project can find jar during maven build from local repo:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>mvn install:install-file -Dfile=/path-to-your-jar-1.0.jar -DpomFile=/path-to-your-pom-1.0.pom\n</code></pre>\n\n<ol start=\"5\">\n<li>add repo in your pom file:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;!--other repositories if any--&gt;\n    &lt;repository&gt;\n        &lt;id&gt;project.local&lt;/id&gt;\n        &lt;name&gt;project&lt;/name&gt;\n        &lt;url&gt;file:${project.basedir}/repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<ol start=\"6\">\n<li>add the dependency in your pom:</li>\n</ol>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.groupid&lt;/groupId&gt;\n    &lt;artifactId&gt;myid&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1588518316,"creation_date":1588518316,"answer_id":61576687,"question_id":4955635,"body_markdown":"&lt;execution&gt;**Step 1:** Configure the `maven-install-plugin` with the goal `install-file` in your `pom.xml`\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;install-external-non-maven-jar-MWS-Client-into-local-maven-repo&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;clean&lt;/phase&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.amazonservices.mws&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mws-client&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;file&gt;${project.basedir}/lib/MWSClientJavaRuntime-1.0.jar&lt;/file&gt;\r\n\t\t\t\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t\t\t        &lt;generatePom&gt;true&lt;/generatePom&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;install-file&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n   Make sure to edit the `file` path based on your actual file path (recommended is to place these external non-maven jars inside some folder, let&#39;s say `lib`, and place this `lib` folder inside your project so as to use project-specific relative path and avoid adding system specific absolute path.\r\n\r\n   If you have multiple external jars, just repeat the `&lt;execution&gt;` for other jars within the same `maven-install-plugin`.\r\n\r\n**Step 2:** Once you have configured the `maven-install-plugin` as shown above in your `pom.xml` file, you have to use these jars in your `pom.xml` as usual:\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonservices.mws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mws-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n   Note that the `maven-install-plugin` only copies your external jars to your local `.m2` maven repository. That&#39;s it. It doesn&#39;t automatically include these jars as maven dependencies to your project.\r\n\r\n   It&#39;s a minor point, but sometimes easy to miss. ","title":"How to add local jar files to a Maven project?","body":"<p><strong>Step 1:</strong> Configure the <code>maven-install-plugin</code> with the goal <code>install-file</code> in your <code>pom.xml</code></p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;install-external-non-maven-jar-MWS-Client-into-local-maven-repo&lt;/id&gt;\n            &lt;phase&gt;clean&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\n                &lt;groupId&gt;com.amazonservices.mws&lt;/groupId&gt;\n                &lt;artifactId&gt;mws-client&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;file&gt;${project.basedir}/lib/MWSClientJavaRuntime-1.0.jar&lt;/file&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;generatePom&gt;true&lt;/generatePom&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Make sure to edit the <code>file</code> path based on your actual file path (recommended is to place these external non-maven jars inside some folder, let's say <code>lib</code>, and place this <code>lib</code> folder inside your project so as to use project-specific relative path and avoid adding system specific absolute path.</p>\n\n<p>If you have multiple external jars, just repeat the <code>&lt;execution&gt;</code> for other jars within the same <code>maven-install-plugin</code>.</p>\n\n<p><strong>Step 2:</strong> Once you have configured the <code>maven-install-plugin</code> as shown above in your <code>pom.xml</code> file, you have to use these jars in your <code>pom.xml</code> as usual:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonservices.mws&lt;/groupId&gt;\n        &lt;artifactId&gt;mws-client&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Note that the <code>maven-install-plugin</code> only copies your external jars to your local <code>.m2</code> maven repository. That's it. It doesn't automatically include these jars as maven dependencies to your project.</p>\n\n<p>It's a minor point, but sometimes easy to miss. </p>\n"},{"tags":[],"owner":{"account_id":1109311,"reputation":5891,"user_id":1100081,"accept_rate":44,"display_name":"Anton"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1595541425,"creation_date":1595541425,"answer_id":63063695,"question_id":4955635,"body_markdown":"Not an answer to the original question, however it might be useful for someone\r\n\r\nThere is no proper way to add multiple jar libraries from the folder using Maven. If there are only few dependencies, it is probably easier to configure `maven-install-plugin` as mentioned in the answers above.\r\n\r\nHowever for my particular case, I had a `lib` folder with more than 100 proprietary jar files which I had to add somehow. And for me it was much easier for me to convert my `Maven` project to `Gradle`. \r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.2.2.RELEASE&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        flatDir {\r\n           dirs &#39;libs&#39; // local libs folder\r\n       }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n        \r\n        implementation &#39;io.grpc:grpc-netty-shaded:1.29.0&#39;\r\n        implementation &#39;io.grpc:grpc-protobuf:1.29.0&#39;\r\n        implementation &#39;io.grpc:grpc-stub:1.29.0&#39; // dependecies from maven central\r\n    \r\n        implementation name: &#39;akka-actor_2.12-2.6.1&#39; // dependecies from lib folder\r\n        implementation name: &#39;akka-protobuf-v3_2.12-2.6.1&#39;\r\n        implementation name: &#39;akka-stream_2.12-2.6.1&#39;\r\n    \r\n     }","title":"How to add local jar files to a Maven project?","body":"<p>Not an answer to the original question, however it might be useful for someone</p>\n<p>There is no proper way to add multiple jar libraries from the folder using Maven. If there are only few dependencies, it is probably easier to configure <code>maven-install-plugin</code> as mentioned in the answers above.</p>\n<p>However for my particular case, I had a <code>lib</code> folder with more than 100 proprietary jar files which I had to add somehow. And for me it was much easier for me to convert my <code>Maven</code> project to <code>Gradle</code>.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.2.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n    flatDir {\n       dirs 'libs' // local libs folder\n   }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    \n    implementation 'io.grpc:grpc-netty-shaded:1.29.0'\n    implementation 'io.grpc:grpc-protobuf:1.29.0'\n    implementation 'io.grpc:grpc-stub:1.29.0' // dependecies from maven central\n\n    implementation name: 'akka-actor_2.12-2.6.1' // dependecies from lib folder\n    implementation name: 'akka-protobuf-v3_2.12-2.6.1'\n    implementation name: 'akka-stream_2.12-2.6.1'\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user11141611"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1601619633,"creation_date":1596602783,"answer_id":63258571,"question_id":4955635,"body_markdown":"### Add local `jar` libraries, their `sources` and `javadoc` to a Maven project\r\n\r\nIf you have pre-compiled `jar` files with libraries, their `sources` and `javadoc`, then you can `install` them to your local Maven repository like this:\r\n\r\n&lt;pre&gt;\r\nmvn install:install-file\r\n    -Dfile=awesomeapp-1.0.1.jar \\\r\n    -DpomFile=awesomeapp-1.0.1.pom \\\r\n    &lt;b&gt;-Dsources=awesomeapp-1.0.1-sources.jar \\&lt;/b&gt;\r\n    &lt;b&gt;-Djavadoc=awesomeapp-1.0.1-javadoc.jar \\&lt;/b&gt;\r\n    -DgroupId=com.example \\\r\n    -DartifactId=awesomeapp \\\r\n    -Dversion=1.0.1 \\\r\n    -Dpackaging=jar\r\n&lt;/pre&gt;\r\n\r\nThen in your project you can use this libraries:\r\n```xml\r\n&lt;!-- com.example --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSee: [maven-install-plugin][1] usage.\r\n\r\n---\r\n\r\nOr you can `build` these libraries yourself with their `sources` and `javadoc` using [maven-source-plugin][2] and [maven-javadoc-plugin][3], and then `install` them.\r\n\r\n**Example project:** library\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;url&gt;https://example.com/awesomeapp&lt;/url&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\r\n    &lt;name&gt;awesomeapp&lt;/name&gt;\r\n    &lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;12&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;awesomeapp&lt;/finalName&gt;\r\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nExecute maven `install` goal:\r\n```none\r\nmvn install\r\n```\r\n\r\nCheck your local Maven repository:\r\n```none\r\n~/.m2/repository/com/example/awesomeapp/1.0.1/\r\n ├─ _remote.repositories\r\n ├─ awesomeapp-1.0.1.jar\r\n ├─ awesomeapp-1.0.1.pom\r\n ├─ awesomeapp-1.0.1-javadoc.jar\r\n └─ awesomeapp-1.0.1-sources.jar\r\n```\r\n\r\nThen you can use this library:\r\n```xml\r\n&lt;!-- com.example --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-install-plugin/usage.html\r\n  [2]: https://maven.apache.org/plugins/maven-source-plugin/usage.html\r\n  [3]: https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html","title":"How to add local jar files to a Maven project?","body":"<h3>Add local <code>jar</code> libraries, their <code>sources</code> and <code>javadoc</code> to a Maven project</h3>\n<p>If you have pre-compiled <code>jar</code> files with libraries, their <code>sources</code> and <code>javadoc</code>, then you can <code>install</code> them to your local Maven repository like this:</p>\n<pre>\nmvn install:install-file\n    -Dfile=awesomeapp-1.0.1.jar \\\n    -DpomFile=awesomeapp-1.0.1.pom \\\n    <b>-Dsources=awesomeapp-1.0.1-sources.jar \\</b>\n    <b>-Djavadoc=awesomeapp-1.0.1-javadoc.jar \\</b>\n    -DgroupId=com.example \\\n    -DartifactId=awesomeapp \\\n    -Dversion=1.0.1 \\\n    -Dpackaging=jar\n</pre>\n<p>Then in your project you can use this libraries:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- com.example --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See: <a href=\"https://maven.apache.org/plugins/maven-install-plugin/usage.html\" rel=\"noreferrer\">maven-install-plugin</a> usage.</p>\n<hr />\n<p>Or you can <code>build</code> these libraries yourself with their <code>sources</code> and <code>javadoc</code> using <a href=\"https://maven.apache.org/plugins/maven-source-plugin/usage.html\" rel=\"noreferrer\">maven-source-plugin</a> and <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html\" rel=\"noreferrer\">maven-javadoc-plugin</a>, and then <code>install</code> them.</p>\n<p><strong>Example project:</strong> library</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;url&gt;https://example.com/awesomeapp&lt;/url&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\n    &lt;name&gt;awesomeapp&lt;/name&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;12&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;awesomeapp&lt;/finalName&gt;\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Execute maven <code>install</code> goal:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn install\n</code></pre>\n<p>Check your local Maven repository:</p>\n<pre class=\"lang-none prettyprint-override\"><code>~/.m2/repository/com/example/awesomeapp/1.0.1/\n ├─ _remote.repositories\n ├─ awesomeapp-1.0.1.jar\n ├─ awesomeapp-1.0.1.pom\n ├─ awesomeapp-1.0.1-javadoc.jar\n └─ awesomeapp-1.0.1-sources.jar\n</code></pre>\n<p>Then you can use this library:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- com.example --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;awesomeapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605448240,"creation_date":1605448240,"answer_id":64845157,"question_id":4955635,"body_markdown":"My shaded jar file did not contain the third-party library using AlirezaFattahi&#39;s solution. however, I remeber that it was working once I had tried it for the same project last time. So, I tried my own solution: \r\n1. mkdir the project&#39;s path under .m2/repositories directory (similar to other maven dependencies directory at that directory)\r\n2. put the third-party jar file in it. \r\n3. add the dependency as like as the libraries on a maven repository. \r\n\r\nFinally, It worked for me. :)","title":"How to add local jar files to a Maven project?","body":"<p>My shaded jar file did not contain the third-party library using AlirezaFattahi's solution. however, I remeber that it was working once I had tried it for the same project last time. So, I tried my own solution:</p>\n<ol>\n<li>mkdir the project's path under .m2/repositories directory (similar to other maven dependencies directory at that directory)</li>\n<li>put the third-party jar file in it.</li>\n<li>add the dependency as like as the libraries on a maven repository.</li>\n</ol>\n<p>Finally, It worked for me. :)</p>\n"},{"tags":[],"owner":{"account_id":7417054,"reputation":140,"user_id":5642475,"display_name":"Kamil Tomasz Jarmusik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606398602,"creation_date":1606395216,"answer_id":65022448,"question_id":4955635,"body_markdown":"Perhaps someone will be interested in:\r\nhttps://github.com/Limraj/maven-artifact-generator\r\n\r\nConsole program to generate maven artifacts in the local repository, and configure dependencies for pom.xml, based on the path to the jars.\r\nYou can do this for one file, but it&#39;s most useful if you have multiple jar files.\r\n\r\npath jars:\r\njava -jar maven-artifact-generator-X.X.X.jar -p path_to_jars -g com.test -V 1.2.3 -P jar\r\n\r\njar:\r\njava -jar maven-artifact-generator-X.X.X.jar -f file_jar -g com.test -V 1.2.3 -P jar\r\n\r\nThis will generate an artifact in the local maven repository, and generate dependecies for pom.xml in gen.log. ArtifactId is the name of the jar file.\r\n\r\nRequires an installed maven.\r\nTesting on widnows 7 and macOS X (unix/linux).\r\n","title":"How to add local jar files to a Maven project?","body":"<p>Perhaps someone will be interested in:\n<a href=\"https://github.com/Limraj/maven-artifact-generator\" rel=\"nofollow noreferrer\">https://github.com/Limraj/maven-artifact-generator</a></p>\n<p>Console program to generate maven artifacts in the local repository, and configure dependencies for pom.xml, based on the path to the jars.\nYou can do this for one file, but it's most useful if you have multiple jar files.</p>\n<p>path jars:\njava -jar maven-artifact-generator-X.X.X.jar -p path_to_jars -g com.test -V 1.2.3 -P jar</p>\n<p>jar:\njava -jar maven-artifact-generator-X.X.X.jar -f file_jar -g com.test -V 1.2.3 -P jar</p>\n<p>This will generate an artifact in the local maven repository, and generate dependecies for pom.xml in gen.log. ArtifactId is the name of the jar file.</p>\n<p>Requires an installed maven.\nTesting on widnows 7 and macOS X (unix/linux).</p>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627576996,"creation_date":1627576996,"answer_id":68579885,"question_id":4955635,"body_markdown":"In my case, it turned out my existing maven build was already installing the jar file in question into my local repository, but I wasn&#39;t seeing the expected results because local builds produce artifacts with suffix &#39;-SNAPSHOT&#39; in them. The very simple solution for me was to update the pom.xml file of the projects that make use of the locally build jar file, to match the name.\r\n\r\n    &lt;myproject.foo.version&gt;1.88-SNAPSHOT&lt;/myproject.foo.version&gt;\r\n\r\ninstead of\r\n\r\n    &lt;myproject.foo.version&gt;1.88&lt;/myproject.foo.version&gt;\r\n\r\nThe takeaway is that if it seems like your jar file should already be in your local .m2/maven repo, it very well may be, and you just need to update your dependency accordingly.\r\n","title":"How to add local jar files to a Maven project?","body":"<p>In my case, it turned out my existing maven build was already installing the jar file in question into my local repository, but I wasn't seeing the expected results because local builds produce artifacts with suffix '-SNAPSHOT' in them. The very simple solution for me was to update the pom.xml file of the projects that make use of the locally build jar file, to match the name.</p>\n<pre><code>&lt;myproject.foo.version&gt;1.88-SNAPSHOT&lt;/myproject.foo.version&gt;\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;myproject.foo.version&gt;1.88&lt;/myproject.foo.version&gt;\n</code></pre>\n<p>The takeaway is that if it seems like your jar file should already be in your local .m2/maven repo, it very well may be, and you just need to update your dependency accordingly.</p>\n"},{"tags":[],"owner":{"account_id":4676090,"reputation":459,"user_id":3786383,"display_name":"Bonaparte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639685567,"creation_date":1639685567,"answer_id":70385076,"question_id":4955635,"body_markdown":"If you are a Spring developer, you will find that the JAR you produce from a Spring Boot build will not work as a dependency JAR in another build. Check if your POM has this:\r\n\r\n    &lt;plugin&gt;\r\n\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd also check, if you run `mvn package` whether you see a .jar.original file as well as the .jar in the `target/` directory. If so, you need to use that .jar.original file for any local development (putting it into a lib/ or something.)\r\n\r\nYou can work around this of course; see the original [post][1] which references the plugin manual at Spring. I think, you would need the `&lt;configuration&gt; &lt;attach&gt;false&lt;/attach&gt; &lt;configuration&gt;` and then you would have to deploy and Maven should use the .jar.original file. I have not tried this myself so do let me know!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53138576/maven-generating-actual-jar-as-jar-original-instead-of-jar-file","title":"How to add local jar files to a Maven project?","body":"<p>If you are a Spring developer, you will find that the JAR you produce from a Spring Boot build will not work as a dependency JAR in another build. Check if your POM has this:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And also check, if you run <code>mvn package</code> whether you see a .jar.original file as well as the .jar in the <code>target/</code> directory. If so, you need to use that .jar.original file for any local development (putting it into a lib/ or something.)</p>\n<p>You can work around this of course; see the original <a href=\"https://stackoverflow.com/questions/53138576/maven-generating-actual-jar-as-jar-original-instead-of-jar-file\">post</a> which references the plugin manual at Spring. I think, you would need the <code>&lt;configuration&gt; &lt;attach&gt;false&lt;/attach&gt; &lt;configuration&gt;</code> and then you would have to deploy and Maven should use the .jar.original file. I have not tried this myself so do let me know!</p>\n"},{"tags":[],"owner":{"account_id":172977,"reputation":23,"user_id":1577005,"display_name":"jnorthrup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657721637,"creation_date":1657721637,"answer_id":72967805,"question_id":4955635,"body_markdown":"\r\na pom repository pointing to `${project.directory}/repo/` or a file:// uri can work with source-resident jarfiles for a trivial project&#39;s deps frozen in time.  these will not leak into the system ~/.m2 repo but will affect the choice of maven version selection against the (typically more recent) top-level when unspecified.\r\n\r\n\r\nfor existing deps being bundled at distribution-time similar to shade but more direct, if you can run with &quot;target&quot; being your favorite structure or maven&#39;s default:\r\n\r\n`-cp &quot;$PWD/target/classes:$PWD/target/lib/*&quot; pkg.random.ClassWithMain`\r\n\r\nthen \r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n```","title":"How to add local jar files to a Maven project?","body":"<p>a pom repository pointing to <code>${project.directory}/repo/</code> or a file:// uri can work with source-resident jarfiles for a trivial project's deps frozen in time.  these will not leak into the system ~/.m2 repo but will affect the choice of maven version selection against the (typically more recent) top-level when unspecified.</p>\n<p>for existing deps being bundled at distribution-time similar to shade but more direct, if you can run with &quot;target&quot; being your favorite structure or maven's default:</p>\n<p><code>-cp &quot;$PWD/target/classes:$PWD/target/lib/*&quot; pkg.random.ClassWithMain</code></p>\n<p>then</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9005111,"reputation":574,"user_id":6712167,"display_name":"Ranushka Lakmal Sankalpa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669958027,"creation_date":1669958027,"answer_id":74651168,"question_id":4955635,"body_markdown":" 1. Download jar file\r\n 2. copy jar file to the project folder\r\n 3. get inteliJ idea Maven command area\r\n 4. type below command\r\n\r\n**mvn install:install-file -Dfile=*YOUR_JAR_FILE_LOCATION*\\*JARNAME*.jar -DgroupId=org.primefaces.themes -DartifactId=iMetro -Dversion=1.0.1 -Dpackaging=jar**\r\n\r\n----------\r\n\r\nexample : \r\n\r\n&gt; mvn install:install-file\r\n&gt; -Dfile=C:\\Users\\ranushka.l\\Desktop\\test\\spring-web-1.0.2.jar -DgroupId=org.primefaces.themes -DartifactId=iMetro -Dversion=1.0.1 -Dpackaging=jar\r\n\r\n","title":"How to add local jar files to a Maven project?","body":"<ol>\n<li>Download jar file</li>\n<li>copy jar file to the project folder</li>\n<li>get inteliJ idea Maven command area</li>\n<li>type below command</li>\n</ol>\n<p><em><em>mvn install:install-file -Dfile=<em>YOUR_JAR_FILE_LOCATION</em>*JARNAME</em>.jar -DgroupId=org.primefaces.themes -DartifactId=iMetro -Dversion=1.0.1 -Dpackaging=jar</em>*</p>\n<hr />\n<p>example :</p>\n<blockquote>\n<p>mvn install:install-file\n-Dfile=C:\\Users\\ranushka.l\\Desktop\\test\\spring-web-1.0.2.jar -DgroupId=org.primefaces.themes -DartifactId=iMetro -Dversion=1.0.1 -Dpackaging=jar</p>\n</blockquote>\n"}],"owner":{"account_id":178608,"reputation":18897,"user_id":410693,"accept_rate":84,"display_name":"Praneel PIDIKITI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1649895,"favorite_count":0,"down_vote_count":2,"up_vote_count":1617,"accepted_answer_id":4955695,"answer_count":35,"score":1615,"last_activity_date":1677137997,"creation_date":1297332206,"question_id":4955635,"body_markdown":"How do I add local jar files (not yet part of the Maven repository) directly in my project&#39;s library sources?","title":"How to add local jar files to a Maven project?","body":"<p>How do I add local jar files (not yet part of the Maven repository) directly in my project's library sources?</p>\n"},{"tags":["java","spring","aop","instantiation","proxy-object"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677137154,"post_id":75501292,"comment_id":133279185,"body_markdown":"Follow-up question after having written my second answer: What is the rationale behind using a non-singleton aspect here in the first place? Your code example does not explain it. I do see any context objects or anything else which would require or be made easier by multiple aspect instances. Was trying a different instantiation model merely an experiment, or is there an actual use case?","body":"Follow-up question after having written my second answer: What is the rationale behind using a non-singleton aspect here in the first place? Your code example does not explain it. I do see any context objects or anything else which would require or be made easier by multiple aspect instances. Was trying a different instantiation model merely an experiment, or is there an actual use case?"},{"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigņejevs"},"score":0,"creation_date":1677139972,"post_id":75501292,"comment_id":133279772,"body_markdown":"It was an experiment to test multiple instance model of aspects.","body":"It was an experiment to test multiple instance model of aspects."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677142005,"post_id":75501292,"comment_id":133280279,"body_markdown":"You should have chosen to experiment with a use case that can profit from such a model. Otherwise, you know how to do it, but not why you would actually use it. &#128521;","body":"You should have chosen to experiment with a use case that can profit from such a model. Otherwise, you know how to do it, but not why you would actually use it. 😉"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677137837,"creation_date":1676880625,"answer_id":75506704,"question_id":75501292,"body_markdown":"_This answer is incorrect in this particular context, but maybe valuable for other readers, because it describes a frequently made mistake by readers of the Spring manual who do not realise that the code snippets in the manual refer to **pointcut methods** with fully qualified name rather than to **target methods**._\r\n\r\n---\r\n\r\nI am assuming that you got the syntax example for `perthis()` from [this part of the Spring manual](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-instantiation-models). Unfortunately, the example is somewhat misleading, because it uses fully qualified pointcut method names, expecting the user to have read another manual section describing how to use shared pointcut definitions from a separate class, which is a rather exotic use case.\r\n\r\nInside `perthis()`, when not referencing a poincut method name but defining an inline pointcut targeting a specific application method, you need to specify a full pointcut, not just a method name without even a return type. Examples for valid clauses would be:\r\n\r\n* `perthis(myPointcut())`, if `myPointcut` is specified as a separate, named pointcut\r\n* `perthis(this(org.acme.MyClass))`\r\n* `perthis(execution(* doCommand(..))`\r\n* `perthis(execution(* doCommand(..)) &amp;&amp; this(org.acme.MyClass))`\r\n\r\nSee also the AspectJ documentation [here](https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-aspects.html) and [there](https://www.eclipse.org/aspectj/doc/released/progguide/semantics-aspects.html#d0e7119). Unfortunately, documentation is sparse.\r\n\r\nIn your particular case, you might want:\r\n\r\n```java\r\nperthis(execution(* com.sj.utilities.Example.*(..)))\r\n```\r\n\r\nBut of course, referring to an external pointcut like\r\n```java\r\nperthis(exampleBeans())\r\n```\r\nfor pointcuts in the same class or super class or\r\n```java\r\nperthis(com.sj.aspects.AssociationsAspect.exampleBeans())\r\n```\r\nfor poinctuts in a shared pointcut class is also OK.\r\n\r\n---\r\n\r\n**Update:** I created [Spring pull request # 29998](https://github.com/spring-projects/spring-framework/pull/29998) in order to improve the documentation, because I also misunderstood the brief examples out of context there.","title":"Spring AOP this() PCD context binder doesn&#39;t work with aspect instantiation model perthis()","body":"<p><em>This answer is incorrect in this particular context, but maybe valuable for other readers, because it describes a frequently made mistake by readers of the Spring manual who do not realise that the code snippets in the manual refer to <strong>pointcut methods</strong> with fully qualified name rather than to <strong>target methods</strong>.</em></p>\n<hr />\n<p>I am assuming that you got the syntax example for <code>perthis()</code> from <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-instantiation-models\" rel=\"nofollow noreferrer\">this part of the Spring manual</a>. Unfortunately, the example is somewhat misleading, because it uses fully qualified pointcut method names, expecting the user to have read another manual section describing how to use shared pointcut definitions from a separate class, which is a rather exotic use case.</p>\n<p>Inside <code>perthis()</code>, when not referencing a poincut method name but defining an inline pointcut targeting a specific application method, you need to specify a full pointcut, not just a method name without even a return type. Examples for valid clauses would be:</p>\n<ul>\n<li><code>perthis(myPointcut())</code>, if <code>myPointcut</code> is specified as a separate, named pointcut</li>\n<li><code>perthis(this(org.acme.MyClass))</code></li>\n<li><code>perthis(execution(* doCommand(..))</code></li>\n<li><code>perthis(execution(* doCommand(..)) &amp;&amp; this(org.acme.MyClass))</code></li>\n</ul>\n<p>See also the AspectJ documentation <a href=\"https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-aspects.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.eclipse.org/aspectj/doc/released/progguide/semantics-aspects.html#d0e7119\" rel=\"nofollow noreferrer\">there</a>. Unfortunately, documentation is sparse.</p>\n<p>In your particular case, you might want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>perthis(execution(* com.sj.utilities.Example.*(..)))\n</code></pre>\n<p>But of course, referring to an external pointcut like</p>\n<pre class=\"lang-java prettyprint-override\"><code>perthis(exampleBeans())\n</code></pre>\n<p>for pointcuts in the same class or super class or</p>\n<pre class=\"lang-java prettyprint-override\"><code>perthis(com.sj.aspects.AssociationsAspect.exampleBeans())\n</code></pre>\n<p>for poinctuts in a shared pointcut class is also OK.</p>\n<hr />\n<p><strong>Update:</strong> I created <a href=\"https://github.com/spring-projects/spring-framework/pull/29998\" rel=\"nofollow noreferrer\">Spring pull request # 29998</a> in order to improve the documentation, because I also misunderstood the brief examples out of context there.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677136926,"creation_date":1677135964,"answer_id":75541558,"question_id":75501292,"body_markdown":"_Adding another answer, leaving the previous one there for reference, even though it is false in this case, because the OP did **not** make the common mistake to refer to method calls in a wrong way, but actually his `perthis` clause as such is correct, referring to a pointcut with a fully qualified name._\r\n\r\n---\r\n\r\nThanks for your [GitHub sample project](https://github.com/SergejsJevstignejevs/spring-aop-associations).\r\n\r\nThe problem seems to be a limitation of Spring AOP for your particular use case. Maybe you can open an issue and ask if this restriction can somehow be lifted configuratively. I guess it might be a chicken-vs-egg problem during bootstrapping, i.e. what is instantiated first and available for context binding.\r\n\r\nThe problem is also not limited to `perthis` instantiation, but also happens for `pertarget` in combination with advice pointcuts using `this(myProxy)` or `target(myProxyTarget)`.\r\n\r\nIf you, as you found out already, simply use `jp.getThis()` or `jp.getTarget()` instead of binding the objects to an advice method parameter directly, you are fine. If you use singleton instantiation, you can use `this(myProxy)` or `target(myProxyTarget)` without problems, too. According to your example, you found out about that already, I am just summarising for other readers.\r\n\r\nBTW: Good digging, nice research for this edge case. &#128578;\r\n\r\nP.S.: If you would use native AspectJ in your Spring application instead of Spring AOP, probably it would just work the way you want.\r\n\r\n---\r\n\r\nWith regard to `this(com.xyz.service.AccountService)` leading to a subsequent `error at ::0 formal unbound in pointcut`, there you are actually making a mistake. When not referring to a method parameter name but to a class, you cannot bind the parameter and need to remove `Object bean` from your pointcut and from the advice method using it.","title":"Spring AOP this() PCD context binder doesn&#39;t work with aspect instantiation model perthis()","body":"<p><em>Adding another answer, leaving the previous one there for reference, even though it is false in this case, because the OP did <strong>not</strong> make the common mistake to refer to method calls in a wrong way, but actually his <code>perthis</code> clause as such is correct, referring to a pointcut with a fully qualified name.</em></p>\n<hr />\n<p>Thanks for your <a href=\"https://github.com/SergejsJevstignejevs/spring-aop-associations\" rel=\"nofollow noreferrer\">GitHub sample project</a>.</p>\n<p>The problem seems to be a limitation of Spring AOP for your particular use case. Maybe you can open an issue and ask if this restriction can somehow be lifted configuratively. I guess it might be a chicken-vs-egg problem during bootstrapping, i.e. what is instantiated first and available for context binding.</p>\n<p>The problem is also not limited to <code>perthis</code> instantiation, but also happens for <code>pertarget</code> in combination with advice pointcuts using <code>this(myProxy)</code> or <code>target(myProxyTarget)</code>.</p>\n<p>If you, as you found out already, simply use <code>jp.getThis()</code> or <code>jp.getTarget()</code> instead of binding the objects to an advice method parameter directly, you are fine. If you use singleton instantiation, you can use <code>this(myProxy)</code> or <code>target(myProxyTarget)</code> without problems, too. According to your example, you found out about that already, I am just summarising for other readers.</p>\n<p>BTW: Good digging, nice research for this edge case. 🙂</p>\n<p>P.S.: If you would use native AspectJ in your Spring application instead of Spring AOP, probably it would just work the way you want.</p>\n<hr />\n<p>With regard to <code>this(com.xyz.service.AccountService)</code> leading to a subsequent <code>error at ::0 formal unbound in pointcut</code>, there you are actually making a mistake. When not referring to a method parameter name but to a class, you cannot bind the parameter and need to remove <code>Object bean</code> from your pointcut and from the advice method using it.</p>\n"}],"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigņejevs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677137837,"creation_date":1676821234,"question_id":75501292,"body_markdown":"I&#39;m trying to log which aspect instance is responsible for which proxied object. However, when I&#39;m collecting proxy object context through this() PCD and using perthis() instantiation model I&#39;m getting an error related to the variable name of proxy object that I use in the pointcut expression:\r\n\r\n```\r\nwarning no match for this type name: bean [Xlint:invalidAbsoluteTypeName]\r\n```\r\n\r\nMaven dependencies that I use:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nThis is an aspect that I use to implement that I needed:\r\n\r\n```\r\n@Aspect(&quot;perthis(com.sj.aspects.AssociationsAspect.exampleBeans())&quot;)\r\n@Component\r\n@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\npublic class AssociationsAspect {\r\n    public AssociationsAspect(){\r\n        System.out.println(&quot;Creating aspect instance!&quot;);\r\n    }\r\n\r\n    @Pointcut(&quot;execution(* com.sj.utilities.Example.*(..))&quot;)\r\n    public void exampleBeans(){};\r\n\r\n    @Pointcut(&quot;execution(* com.sj.utilities.Example.*(..)) &amp;&amp; this(bean)&quot;)\r\n    public void exampleOperations(Object bean){};\r\n\r\n    @Before(value = &quot;exampleOperations(bean)&quot;, argNames = &quot;jp,bean&quot;)\r\n    public void beforeExampleMethodsExecution(JoinPoint jp, Object bean){\r\n        System.out.println(\r\n                &quot;JoinPoint: &quot; + jp.getStaticPart() +\r\n                        &quot;\\n\\taspect: &quot; + this +\r\n                        &quot;\\n\\tobject: &quot; + bean\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nI tried to change *bean* as variable name to concrete type, but from documentation it will give different from binding result:\r\n\r\n&gt; Any join point (method execution only in Spring AOP) where the proxy implements the AccountService interface:\r\n&gt; ```\r\n&gt;   this(com.xyz.service.AccountService)\r\n&gt; ```\r\nAs well as it will be changing exiting error to another:\r\n\r\n```\r\nerror at ::0 formal unbound in pointcut \r\n```\r\n\r\nFunny enough, if you put away `(&quot;perthis(com.sj.aspects.AssociationsAspect.exampleBeans())&quot;)` then everything will work fine and Spring container will create a separate aspect instance for every proxy object in it. However that is not desirable and most likely a bug, because through `@Scope()` annotation I only say that there can be multiple instances of same aspect and that Spring container will need to create new instance when I told it to do, but not that it need to create them when it wants to.\r\n\r\nThe final solution to which I came was to use JoinPoint reflection API instead of collecting context through *this()* PCD. And it works fine, however I have preconceptions related to how *@Scope()* works without *perthis()* instantiation model and with it.\r\n\r\nIn the end I want to know, &#39;Is there a solution for collecting proxy object context with *this()* PCD and using *perthis()* instantiation model at the same time?&#39;. As well as what are mistakes in the aspect that I described earlier, that give such an error.\r\n\r\n","title":"Spring AOP this() PCD context binder doesn&#39;t work with aspect instantiation model perthis()","body":"<p>I'm trying to log which aspect instance is responsible for which proxied object. However, when I'm collecting proxy object context through this() PCD and using perthis() instantiation model I'm getting an error related to the variable name of proxy object that I use in the pointcut expression:</p>\n<pre><code>warning no match for this type name: bean [Xlint:invalidAbsoluteTypeName]\n</code></pre>\n<p>Maven dependencies that I use:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.9.19&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>This is an aspect that I use to implement that I needed:</p>\n<pre><code>@Aspect(&quot;perthis(com.sj.aspects.AssociationsAspect.exampleBeans())&quot;)\n@Component\n@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic class AssociationsAspect {\n    public AssociationsAspect(){\n        System.out.println(&quot;Creating aspect instance!&quot;);\n    }\n\n    @Pointcut(&quot;execution(* com.sj.utilities.Example.*(..))&quot;)\n    public void exampleBeans(){};\n\n    @Pointcut(&quot;execution(* com.sj.utilities.Example.*(..)) &amp;&amp; this(bean)&quot;)\n    public void exampleOperations(Object bean){};\n\n    @Before(value = &quot;exampleOperations(bean)&quot;, argNames = &quot;jp,bean&quot;)\n    public void beforeExampleMethodsExecution(JoinPoint jp, Object bean){\n        System.out.println(\n                &quot;JoinPoint: &quot; + jp.getStaticPart() +\n                        &quot;\\n\\taspect: &quot; + this +\n                        &quot;\\n\\tobject: &quot; + bean\n        );\n    }\n}\n</code></pre>\n<p>I tried to change <em>bean</em> as variable name to concrete type, but from documentation it will give different from binding result:</p>\n<blockquote>\n<p>Any join point (method execution only in Spring AOP) where the proxy implements the AccountService interface:</p>\n<pre><code>  this(com.xyz.service.AccountService)\n</code></pre>\n</blockquote>\n<p>As well as it will be changing exiting error to another:</p>\n<pre><code>error at ::0 formal unbound in pointcut \n</code></pre>\n<p>Funny enough, if you put away <code>(&quot;perthis(com.sj.aspects.AssociationsAspect.exampleBeans())&quot;)</code> then everything will work fine and Spring container will create a separate aspect instance for every proxy object in it. However that is not desirable and most likely a bug, because through <code>@Scope()</code> annotation I only say that there can be multiple instances of same aspect and that Spring container will need to create new instance when I told it to do, but not that it need to create them when it wants to.</p>\n<p>The final solution to which I came was to use JoinPoint reflection API instead of collecting context through <em>this()</em> PCD. And it works fine, however I have preconceptions related to how <em>@Scope()</em> works without <em>perthis()</em> instantiation model and with it.</p>\n<p>In the end I want to know, 'Is there a solution for collecting proxy object context with <em>this()</em> PCD and using <em>perthis()</em> instantiation model at the same time?'. As well as what are mistakes in the aspect that I described earlier, that give such an error.</p>\n"},{"tags":["java","java-8","grouping","java-stream"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":4,"creation_date":1513601546,"post_id":47868865,"comment_id":82702785,"body_markdown":"how about filtering the nulls first?","body":"how about filtering the nulls first?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1513601603,"post_id":47868865,"comment_id":82702821,"body_markdown":"@Eugene it is not allowable for my case. I must not lose the data. This approach described in the linked topic","body":"@Eugene it is not allowable for my case. I must not lose the data. This approach described in the linked topic"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1513601633,"post_id":47868865,"comment_id":82702832,"body_markdown":"@gstackoverflow what about applying a default key for all `null` keys?","body":"@gstackoverflow what about applying a default key for all <code>null</code> keys?"},{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":0,"creation_date":1513601645,"post_id":47868865,"comment_id":82702840,"body_markdown":"Use the oldschool way instead of streams?","body":"Use the oldschool way instead of streams?"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1513601696,"post_id":47868865,"comment_id":82702870,"body_markdown":"Also `Collectors.mapping(e -&gt; e, Collectors.toList())` can be simplified to `Collectors.toList()`","body":"Also <code>Collectors.mapping(e -&gt; e, Collectors.toList())</code> can be simplified to <code>Collectors.toList()</code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1513601882,"post_id":47868865,"comment_id":82702983,"body_markdown":"@Lino, it is correct","body":"@Lino, it is correct"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1513601961,"post_id":47868865,"comment_id":82703031,"body_markdown":"@Marvin, I undetstand, that I can, but i prefere to use streams. And it looks like stream should have this option","body":"@Marvin, I undetstand, that I can, but i prefere to use streams. And it looks like stream should have this option"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1513677625,"post_id":47868865,"comment_id":82734384,"body_markdown":"@Lino … and `Collectors.toList()` can be omitted when using `Collectors.groupingBy`.","body":"@Lino … and <code>Collectors.toList()</code> can be omitted when using <code>Collectors.groupingBy</code>."},{"owner":{"account_id":11793786,"reputation":373,"user_id":8629025,"display_name":"Mateusz"},"score":0,"creation_date":1636113567,"post_id":47868865,"comment_id":123476145,"body_markdown":"Please checking my answer, solution using Optional instead of raw nulls","body":"Please checking my answer, solution using Optional instead of raw nulls"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":2,"up_vote_count":25,"is_accepted":true,"score":23,"last_activity_date":1513602296,"creation_date":1513602296,"answer_id":47869142,"question_id":47868865,"body_markdown":"Use `Collectors.toMap` instead and specify that a `HashMap` is used (as it allows one null key)\r\n\r\n\r\n     Collectors.toMap(\r\n           MappingEntry::getMilestone,\r\n           x -&gt; {\r\n               List&lt;MappingEntry&gt; list = new ArrayList&lt;&gt;();\r\n               list.add(x);\r\n               return list;\r\n           },\r\n           (left, right) -&gt; {\r\n                left.addAll(right);\r\n                return left;\r\n           },\r\n           HashMap::new\r\n            \r\n    )","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>Use <code>Collectors.toMap</code> instead and specify that a <code>HashMap</code> is used (as it allows one null key)</p>\n\n<pre><code> Collectors.toMap(\n       MappingEntry::getMilestone,\n       x -&gt; {\n           List&lt;MappingEntry&gt; list = new ArrayList&lt;&gt;();\n           list.add(x);\n           return list;\n       },\n       (left, right) -&gt; {\n            left.addAll(right);\n            return left;\n       },\n       HashMap::new\n\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1513603128,"creation_date":1513602589,"answer_id":47869223,"question_id":47868865,"body_markdown":"You can use the `Collector.of` method for this to specify a custom collector and use a `HashMap` for the resulting map because according to the `Java-8` docs of `HashMap`\r\n\r\n&gt; [...] permits null values and the null key. [...]\r\n\r\n\r\n    Collector.of(\r\n        HashMap::new, \r\n        (map, e) -&gt; map.computeIfAbsent(e.getMileStone(), k -&gt; new ArrayList&lt;&gt;()).add(e), \r\n        (left, right) -&gt; {\r\n             right.forEach((key,list) -&gt; left.computeIfAbsent(key, k -&gt; new ArrayList&lt;&gt;()).addAll(list));\r\n             return left;\r\n         })\r\n    )","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>You can use the <code>Collector.of</code> method for this to specify a custom collector and use a <code>HashMap</code> for the resulting map because according to the <code>Java-8</code> docs of <code>HashMap</code></p>\n\n<blockquote>\n  <p>[...] permits null values and the null key. [...]</p>\n</blockquote>\n\n<pre><code>Collector.of(\n    HashMap::new, \n    (map, e) -&gt; map.computeIfAbsent(e.getMileStone(), k -&gt; new ArrayList&lt;&gt;()).add(e), \n    (left, right) -&gt; {\n         right.forEach((key,list) -&gt; left.computeIfAbsent(key, k -&gt; new ArrayList&lt;&gt;()).addAll(list));\n         return left;\n     })\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1513609289,"creation_date":1513603988,"answer_id":47869642,"question_id":47868865,"body_markdown":"Given that you want to retain the `MappingEntry` objects regardless of when `getMilestone()` is *null* or *non-null* and knowing that a `NullPointerException` will be thrown when a particular contract in not met then we can avoid that by using a replacement key to group the `MappingEntry` objects which have a *null* milestone and yet group the other `MappingEntry` objects as they&#39;re supposed to be.\r\n\r\n    Map&lt;String, List&lt;MappingEntry&gt;&gt; mappingEntryMap = \r\n                 mapping.getMappingEntries()\r\n                        .stream()\r\n                        .collect(groupingBy(m -&gt; m.getMilestone() == null ?\r\n                                      &quot;absentMilestone&quot; : m.getMilestone()));\r\n\r\nThe trick here is to use a ternary operator which provides a key to group all the `MappingEntry` objects that have a _absent_ milestone into a single group and if the milestone is not absent then we can group by its value as you&#39;d expect.","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>Given that you want to retain the <code>MappingEntry</code> objects regardless of when <code>getMilestone()</code> is <em>null</em> or <em>non-null</em> and knowing that a <code>NullPointerException</code> will be thrown when a particular contract in not met then we can avoid that by using a replacement key to group the <code>MappingEntry</code> objects which have a <em>null</em> milestone and yet group the other <code>MappingEntry</code> objects as they're supposed to be.</p>\n\n<pre><code>Map&lt;String, List&lt;MappingEntry&gt;&gt; mappingEntryMap = \n             mapping.getMappingEntries()\n                    .stream()\n                    .collect(groupingBy(m -&gt; m.getMilestone() == null ?\n                                  \"absentMilestone\" : m.getMilestone()));\n</code></pre>\n\n<p>The trick here is to use a ternary operator which provides a key to group all the <code>MappingEntry</code> objects that have a <em>absent</em> milestone into a single group and if the milestone is not absent then we can group by its value as you'd expect.</p>\n"},{"tags":[],"owner":{"account_id":11793786,"reputation":373,"user_id":8629025,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636107043,"creation_date":1636107043,"answer_id":69851600,"question_id":47868865,"body_markdown":"**In my opinion the best solution:**\r\n\r\nUse Optional.empty() instead of pasing null value.\r\n\r\n    Map&lt;Optional&lt;String&gt;, List&lt;MappingEntry&gt;&gt; mappingEntryMap = mapping.getMappingEntries()\r\n                .stream()\r\n                .collect(Collectors.groupingBy(Optional::ofNullable, Collectors.mapping(e -&gt; e, Collectors.toList())));","title":"NullPointerException: element cannot be mapped to a null key","body":"<p><strong>In my opinion the best solution:</strong></p>\n<p>Use Optional.empty() instead of pasing null value.</p>\n<pre><code>Map&lt;Optional&lt;String&gt;, List&lt;MappingEntry&gt;&gt; mappingEntryMap = mapping.getMappingEntries()\n            .stream()\n            .collect(Collectors.groupingBy(Optional::ofNullable, Collectors.mapping(e -&gt; e, Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23391910,"reputation":1,"user_id":17456453,"display_name":"Dark Prince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637323822,"creation_date":1637323822,"answer_id":70034636,"question_id":47868865,"body_markdown":"use filter and get only not null data.\r\n\r\nlike \r\n\r\n    \t\t\tMap&lt;String, List&lt;Entity&gt;&gt; map = list\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter(entity -&gt; entity.getZoneRefId()!=null)\r\n\t\t\t\t\t.collect(\r\n\t\t\t\t\t\t\tCollectors.\r\n\t\t\t\t\t\t\t\t\tgroupingBy(\r\n\t\t\t\t\t\t\t\t\t\t\tEntity::getZoneName));\r\n\t\t\t","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>use filter and get only not null data.</p>\n<p>like</p>\n<pre><code>            Map&lt;String, List&lt;Entity&gt;&gt; map = list\n                .stream()\n                .filter(entity -&gt; entity.getZoneRefId()!=null)\n                .collect(\n                        Collectors.\n                                groupingBy(\n                                        Entity::getZoneName));\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26899489,"reputation":11,"user_id":20476874,"display_name":"Andrew Daraskou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668162422,"creation_date":1668162422,"answer_id":74401126,"question_id":47868865,"body_markdown":"Please use Optional for that:\r\n\r\n    var mappingEntryMap = mapping.getMappingEntries().stream()\r\n        .collect(groupingBy(entry -&gt; ofNullable(entry.getMilestone());\r\n\r\nAnd then: \r\n\r\n    var emptyMilestoneList = mappingEntryMap.get(Optional.empty());\r\n\r\n","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>Please use Optional for that:</p>\n<pre><code>var mappingEntryMap = mapping.getMappingEntries().stream()\n    .collect(groupingBy(entry -&gt; ofNullable(entry.getMilestone());\n</code></pre>\n<p>And then:</p>\n<pre><code>var emptyMilestoneList = mappingEntryMap.get(Optional.empty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27097686,"reputation":21,"user_id":20644697,"display_name":"Ilya Posypkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670065395,"creation_date":1669807450,"answer_id":74626985,"question_id":47868865,"body_markdown":"Better to use `Stream.collect()`:\r\n\r\n```\r\nmapping.getMappingEntries().stream()\r\n  .collect(\r\n    HashMap::new,\r\n    (m,v) -&gt; m.computeIfAbsent(v.getMilestone, tmp -&gt; new ArrayList&lt;&gt;()).add(v),\r\n    (m1, m2) -&gt; {}\r\n  );","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>Better to use <code>Stream.collect()</code>:</p>\n<pre><code>mapping.getMappingEntries().stream()\n  .collect(\n    HashMap::new,\n    (m,v) -&gt; m.computeIfAbsent(v.getMilestone, tmp -&gt; new ArrayList&lt;&gt;()).add(v),\n    (m1, m2) -&gt; {}\n  );\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31698,"favorite_count":0,"down_vote_count":3,"up_vote_count":30,"accepted_answer_id":47869142,"answer_count":7,"score":27,"last_activity_date":1677137502,"creation_date":1513601277,"question_id":47868865,"body_markdown":"I have read the topic:\r\n\r\n[Collectors.groupingBy doesn&#39;t accept null keys][1]\r\n\r\nBut I don&#39;t understand how can I apply it for my issue:\r\n\r\n\r\nmy code:  \r\n\r\n    Map&lt;String, List&lt;MappingEntry&gt;&gt; mappingEntryMap = mapping.getMappingEntries()\r\n                    .stream()\r\n                    .collect(Collectors.groupingBy(MappingEntry::getMilestone, Collectors.mapping(e -&gt; e, Collectors.toList())));\r\n\r\n\r\nFor me `MappingEntry::getMilestone` sometimes can return null. It is ok for my situation but I see:\r\n\r\n    Caused by: java.lang.NullPointerException: element cannot be mapped to a null key\r\n    \tat java.util.Objects.requireNonNull(Objects.java:228)\r\n    \tat java.util.stream.Collectors.lambda$groupingBy$45(Collectors.java:907)\r\n    \tat java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)\r\n    \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n    \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n    \r\nHow can I avoid this exception?  \r\n\r\n  [1]: https://stackoverflow.com/questions/22625065/collectors-groupingby-doesnt-accept-null-keys\r\n","title":"NullPointerException: element cannot be mapped to a null key","body":"<p>I have read the topic:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22625065/collectors-groupingby-doesnt-accept-null-keys\">Collectors.groupingBy doesn't accept null keys</a></p>\n\n<p>But I don't understand how can I apply it for my issue:</p>\n\n<p>my code:  </p>\n\n<pre><code>Map&lt;String, List&lt;MappingEntry&gt;&gt; mappingEntryMap = mapping.getMappingEntries()\n                .stream()\n                .collect(Collectors.groupingBy(MappingEntry::getMilestone, Collectors.mapping(e -&gt; e, Collectors.toList())));\n</code></pre>\n\n<p>For me <code>MappingEntry::getMilestone</code> sometimes can return null. It is ok for my situation but I see:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: element cannot be mapped to a null key\n    at java.util.Objects.requireNonNull(Objects.java:228)\n    at java.util.stream.Collectors.lambda$groupingBy$45(Collectors.java:907)\n    at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n</code></pre>\n\n<p>How can I avoid this exception?  </p>\n"},{"tags":["java","visual-studio-code","plugins"],"comments":[{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1649080272,"post_id":71706754,"comment_id":126778785,"body_markdown":"I can not reproduce your problem, could you please try to clean the workspace through `java: Clean Java Language Server Workspace` in the command palette. And could you have a look at the Java-related channel on the `OUTPUT` panel? such as `Language Support for Java`, `Java` and so on.","body":"I can not reproduce your problem, could you please try to clean the workspace through <code>java: Clean Java Language Server Workspace</code> in the command palette. And could you have a look at the Java-related channel on the <code>OUTPUT</code> panel? such as <code>Language Support for Java</code>, <code>Java</code> and so on."},{"owner":{"account_id":14664737,"reputation":333,"user_id":10590895,"display_name":"shin"},"score":0,"creation_date":1649244120,"post_id":71706754,"comment_id":126825367,"body_markdown":"I did the clean but the problem still happens. In the output console for &quot;Language Support for Java (Syntax Server)&quot; there are these logs:\n[Trace - 1:17:37 PM] Sending response &#39;client/registerCapability - (7)&#39;. Processing request took 1ms\nNo result returned.\n\n[Trace - 1:17:54 PM] Sending request &#39;shutdown - (1)&#39;.\n[Error - 1:17:55 PM] Connection to server got closed. Server will not be restarted.","body":"I did the clean but the problem still happens. In the output console for &quot;Language Support for Java (Syntax Server)&quot; there are these logs: [Trace - 1:17:37 PM] Sending response &#39;client/registerCapability - (7)&#39;. Processing request took 1ms No result returned.  [Trace - 1:17:54 PM] Sending request &#39;shutdown - (1)&#39;. [Error - 1:17:55 PM] Connection to server got closed. Server will not be restarted."},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1649297753,"post_id":71706754,"comment_id":126842220,"body_markdown":"Have you configured `&quot;java.jdt.ls.vmargs&quot;` in the settings.json? And could you try to comment out all the settings in the settings.json file and then reopen the VSCode?","body":"Have you configured <code>&quot;java.jdt.ls.vmargs&quot;</code> in the settings.json? And could you try to comment out all the settings in the settings.json file and then reopen the VSCode?"}],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649298176,"creation_date":1649298176,"answer_id":71775619,"question_id":71706754,"body_markdown":"Have you installed the extension `Lombok Annotations Support for VS Code`? It can modify your `&quot;java.jdt.ls.vmargs&quot;` in the settings.json. Although you have uninstalled it, [this configuration will not be removed][1]. \r\n\r\nPlease check whether you have modified `&quot;java.jdt.ls.vmargs&quot;` in the settings.json. \r\n\r\nIf it still does not work please disable all the extensions and only enable the Java-related extensions, and clear the settings.json then to reopen the VSCode.\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/issues/112#issuecomment-659133813","title":"Visual Studio Code CTRL+Click with Java stops working after a while","body":"<p>Have you installed the extension <code>Lombok Annotations Support for VS Code</code>? It can modify your <code>&quot;java.jdt.ls.vmargs&quot;</code> in the settings.json. Although you have uninstalled it, <a href=\"https://github.com/redhat-developer/vscode-java/issues/112#issuecomment-659133813\" rel=\"nofollow noreferrer\">this configuration will not be removed</a>.</p>\n<p>Please check whether you have modified <code>&quot;java.jdt.ls.vmargs&quot;</code> in the settings.json.</p>\n<p>If it still does not work please disable all the extensions and only enable the Java-related extensions, and clear the settings.json then to reopen the VSCode.</p>\n"},{"tags":[],"owner":{"account_id":13327795,"reputation":41,"user_id":9620213,"display_name":"SmolRise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666717153,"creation_date":1666717153,"answer_id":74197724,"question_id":71706754,"body_markdown":"I had the same problem in the past! So it was because VS Code can&#39;t use OpenJDK for its own work. More precisely, it works, but not all plugins work correctly. For VS Code you have to install Oracle JDK particular version and make configured JAVA_HOME environment variable as path to this Oracle JDK. After that you need to restart your VS Code. So, OracleJDK will be used only for VSCode, but if you need, inside your project you can use OpenJDK without any problems.","title":"Visual Studio Code CTRL+Click with Java stops working after a while","body":"<p>I had the same problem in the past! So it was because VS Code can't use OpenJDK for its own work. More precisely, it works, but not all plugins work correctly. For VS Code you have to install Oracle JDK particular version and make configured JAVA_HOME environment variable as path to this Oracle JDK. After that you need to restart your VS Code. So, OracleJDK will be used only for VSCode, but if you need, inside your project you can use OpenJDK without any problems.</p>\n"},{"tags":[],"owner":{"account_id":18822702,"reputation":365,"user_id":13728341,"display_name":"Kritarth Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677137485,"creation_date":1677137485,"answer_id":75541769,"question_id":71706754,"body_markdown":"[https://stackoverflow.com/questions/37341849/vscode-go-to-definition-not-working][1]\r\nI had a the same issue: F12 and Ctrl + Click and Right Click &quot;Go To Definition&quot; wasn&#39;t working. The fix for me was:\r\n\r\nGo to Extensions\r\nClick &quot;Disable All Installed Extensions&quot;\r\nClose and Reopen VS Code\r\nBack to Extensions and &quot;Enable All Extensions&quot;\r\nEssentially enable/disable all extensions fixed the issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37341849/vscode-go-to-definition-not-working","title":"Visual Studio Code CTRL+Click with Java stops working after a while","body":"<p><a href=\"https://stackoverflow.com/questions/37341849/vscode-go-to-definition-not-working\">VSCode &quot;go to definition&quot; not working</a>\nI had a the same issue: F12 and Ctrl + Click and Right Click &quot;Go To Definition&quot; wasn't working. The fix for me was:</p>\n<p>Go to Extensions\nClick &quot;Disable All Installed Extensions&quot;\nClose and Reopen VS Code\nBack to Extensions and &quot;Enable All Extensions&quot;\nEssentially enable/disable all extensions fixed the issue.</p>\n"}],"owner":{"account_id":14664737,"reputation":333,"user_id":10590895,"display_name":"shin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3992,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677137485,"creation_date":1648815133,"question_id":71706754,"body_markdown":"For some reason after having a Java project open for more than 20 minutes, maybe a little more, the CTRL+Click shortcut to inspect classes/methods stops working. When clicking it only appears a loading indicator on the tabs section that keeps going forever without actually loading anything.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnother problem is that when hovering on a method it will stay on &quot;Loading...&quot; forever.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ajgpG.png\r\n  [2]: https://i.stack.imgur.com/Wbd1E.jpg\r\n\r\nStrangely enough IntelliSense keeps working, so it will still give suggestions while writing.\r\n\r\nI am using &quot;Extension Pack for Java&quot; latest version and latest version of VSCode. I am also using JavaSE-11.\r\n\r\nEdit: maybe it&#39;s worth pointing out that I&#39;m encountering this problem on a Spring Boot project.","title":"Visual Studio Code CTRL+Click with Java stops working after a while","body":"<p>For some reason after having a Java project open for more than 20 minutes, maybe a little more, the CTRL+Click shortcut to inspect classes/methods stops working. When clicking it only appears a loading indicator on the tabs section that keeps going forever without actually loading anything.</p>\n<p><a href=\"https://i.stack.imgur.com/ajgpG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajgpG.png\" alt=\"enter image description here\" /></a></p>\n<p>Another problem is that when hovering on a method it will stay on &quot;Loading...&quot; forever.</p>\n<p><a href=\"https://i.stack.imgur.com/Wbd1E.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wbd1E.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Strangely enough IntelliSense keeps working, so it will still give suggestions while writing.</p>\n<p>I am using &quot;Extension Pack for Java&quot; latest version and latest version of VSCode. I am also using JavaSE-11.</p>\n<p>Edit: maybe it's worth pointing out that I'm encountering this problem on a Spring Boot project.</p>\n"},{"tags":["java","spring","spring-boot","docker"],"comments":[{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1677091643,"post_id":75536727,"comment_id":133271037,"body_markdown":"Inside docker network you have to use the maria_db docker port (3306). If you wish to maintain the config separately use application-docker.properties and configure your docker port and url(maria_db:3306) there.","body":"Inside docker network you have to use the maria_db docker port (3306). If you wish to maintain the config separately use application-docker.properties and configure your docker port and url(maria_db:3306) there."},{"owner":{"account_id":13664659,"reputation":5,"user_id":9858852,"display_name":"MilanJ"},"score":0,"creation_date":1677096108,"post_id":75536727,"comment_id":133272251,"body_markdown":"@mallikarjun Thank you for the comment. I have tried that, but it throws the same exception...","body":"@mallikarjun Thank you for the comment. I have tried that, but it throws the same exception..."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1677112720,"post_id":75536727,"comment_id":133275862,"body_markdown":"You&#39;re trying to `RUN` the application as part of the image build.  This is the wrong point in time.  Mechanically, the image build doesn&#39;t run on the Compose network, and that&#39;s why you&#39;re getting that specific error.  Change this to the `CMD` the container will run when it starts up.","body":"You&#39;re trying to <code>RUN</code> the application as part of the image build.  This is the wrong point in time.  Mechanically, the image build doesn&#39;t run on the Compose network, and that&#39;s why you&#39;re getting that specific error.  Change this to the <code>CMD</code> the container will run when it starts up."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1677112841,"post_id":75536727,"comment_id":133275878,"body_markdown":"(Also see [Difference between RUN and CMD in a Dockerfile](https://stackoverflow.com/questions/37461868/difference-between-run-and-cmd-in-a-dockerfile).)","body":"(Also see <a href=\"https://stackoverflow.com/questions/37461868/difference-between-run-and-cmd-in-a-dockerfile\">Difference between RUN and CMD in a Dockerfile</a>.)"}],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677137098,"creation_date":1677137098,"answer_id":75541715,"question_id":75536727,"body_markdown":"You may need to add `networks` property, try this:\r\n\r\n```\r\nversion: &quot;3.7&quot;\r\nservices:\r\n  api_service:\r\n    build: .\r\n    restart: always\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - maria_db\r\n    networks:\r\n      - docker-net\r\n  maria_db:\r\n    image: &quot;mariadb:10.5.8&quot;\r\n    restart: always\r\n    ports:\r\n      - &quot;10000:3306&quot;\r\n    networks:\r\n      - docker-net\r\n    environment:\r\n      MYSQL_DATABASE: app_db\r\n      MYSQL_USER: exampleuser\r\n      MYSQL_PASSWORD: examplepass\r\n      MYSQL_ROOT_PASSWORD: examplepass\r\n\r\nnetworks:\r\n  docker-net:\r\n    driver: bridge\r\n```","title":"My Spring Boot application container won&#39;t connect to another docker container using it&#39;s name in the URL","body":"<p>You may need to add <code>networks</code> property, try this:</p>\n<pre><code>version: &quot;3.7&quot;\nservices:\n  api_service:\n    build: .\n    restart: always\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - maria_db\n    networks:\n      - docker-net\n  maria_db:\n    image: &quot;mariadb:10.5.8&quot;\n    restart: always\n    ports:\n      - &quot;10000:3306&quot;\n    networks:\n      - docker-net\n    environment:\n      MYSQL_DATABASE: app_db\n      MYSQL_USER: exampleuser\n      MYSQL_PASSWORD: examplepass\n      MYSQL_ROOT_PASSWORD: examplepass\n\nnetworks:\n  docker-net:\n    driver: bridge\n</code></pre>\n"}],"owner":{"account_id":13664659,"reputation":5,"user_id":9858852,"display_name":"MilanJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677137098,"creation_date":1677090148,"question_id":75536727,"body_markdown":"I have a Spring Boot application which connects to a MariaDB database. I am trying to run docker-compose for those two services but I get the following error:\r\n```\r\njava.sql.SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=maria_db)(port=10000)\r\n(type=primary). maria_db\r\n...\r\nCaused by: java.net.UnknownHostException: maria_db\r\n```\r\nHere is my docker-compose.yml file:\r\n```\r\nversion: &quot;3.7&quot;\r\nservices:\r\n  api_service:\r\n    build: .\r\n    restart: always\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - maria_db\r\n  maria_db:\r\n    image: &quot;mariadb:10.5.8&quot;\r\n    restart: always\r\n    ports:\r\n      - &quot;10000:3306&quot;\r\n    environment:\r\n      MYSQL_DATABASE: app_db\r\n      MYSQL_USER: exampleuser\r\n      MYSQL_PASSWORD: examplepass\r\n      MYSQL_ROOT_PASSWORD: examplepass\r\n\r\n```\r\nHere is my Dockerfile for the Spring app:\r\n```\r\nFROM openjdk:17-oracle\r\nCOPY target/app-0.0.1.jar app-0.0.1.jar\r\nRUN [&quot;java&quot;,&quot;-jar&quot;,&quot;/app-0.0.1.jar&quot;]\r\n```\r\nHere is my application.properties file:\r\n```\r\nspring.datasource.url=jdbc:mariadb://maria_db:10000/app_db\r\nspring.datasource.username=exampleuser\r\nspring.datasource.password=examplepass\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspringdoc.api-docs.path = /javainuse-openapi\r\n\r\n```\r\n\r\nI am new to docker, but every resource on the topic I have found so far seems to suggest this setup. What am I doing wrong?\r\n\r\nI am using:\r\n\r\n - Spring Boot 3.0.2,\r\n - Java 17,\r\n - Docker Engine v20.10.22 (Docker Windows)\r\n","title":"My Spring Boot application container won&#39;t connect to another docker container using it&#39;s name in the URL","body":"<p>I have a Spring Boot application which connects to a MariaDB database. I am trying to run docker-compose for those two services but I get the following error:</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=maria_db)(port=10000)\n(type=primary). maria_db\n...\nCaused by: java.net.UnknownHostException: maria_db\n</code></pre>\n<p>Here is my docker-compose.yml file:</p>\n<pre><code>version: &quot;3.7&quot;\nservices:\n  api_service:\n    build: .\n    restart: always\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - maria_db\n  maria_db:\n    image: &quot;mariadb:10.5.8&quot;\n    restart: always\n    ports:\n      - &quot;10000:3306&quot;\n    environment:\n      MYSQL_DATABASE: app_db\n      MYSQL_USER: exampleuser\n      MYSQL_PASSWORD: examplepass\n      MYSQL_ROOT_PASSWORD: examplepass\n\n</code></pre>\n<p>Here is my Dockerfile for the Spring app:</p>\n<pre><code>FROM openjdk:17-oracle\nCOPY target/app-0.0.1.jar app-0.0.1.jar\nRUN [&quot;java&quot;,&quot;-jar&quot;,&quot;/app-0.0.1.jar&quot;]\n</code></pre>\n<p>Here is my application.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:mariadb://maria_db:10000/app_db\nspring.datasource.username=exampleuser\nspring.datasource.password=examplepass\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspringdoc.api-docs.path = /javainuse-openapi\n\n</code></pre>\n<p>I am new to docker, but every resource on the topic I have found so far seems to suggest this setup. What am I doing wrong?</p>\n<p>I am using:</p>\n<ul>\n<li>Spring Boot 3.0.2,</li>\n<li>Java 17,</li>\n<li>Docker Engine v20.10.22 (Docker Windows)</li>\n</ul>\n"},{"tags":["java","spring","azure","oauth-2.0","nimbus"],"answers":[{"tags":[],"owner":{"account_id":24067318,"reputation":13425,"user_id":18043665,"display_name":"Sridevi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677136898,"creation_date":1677136898,"answer_id":75541678,"question_id":75535497,"body_markdown":"&gt; Note that, if you validate access token generated with **Microsoft\r\n&gt; Graph** APIs as scope, you will get &quot;Invalid Signature&quot; error as it\r\n&gt; has **`nonce`** claim\r\n&gt; \r\n***I tried to reproduce the same in my environment and got below results:***\r\n\r\nI registered one Azure AD application and added **Microsoft** Graph `API permissions` as below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/48xbo.png)\r\n\r\nNow I generated **access token** and **id token** using authorization code flow via Postman with below parameters:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\nclient_id:&lt;appID&gt;\r\ngrant_type:authorization_code\r\nscope: https://graph.microsoft.com/User.Read openid\r\ncode:code\r\nredirect_uri: https://jwt.ms\r\nclient_secret: &lt;secret&gt;\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/ZNEJh.png)\r\n\r\nWhen I decoded the above access token in [jwt.io](https://jwt.io/) website, I too got **Invalid Signature** error as it has **`nonce`** claim like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/bBK2b.png)\r\n![enter image description here](https://i.stack.imgur.com/NrTon.png)\r\n\r\nTo get access token without nonce claim, change **`scope`** value to **custom API** instead of Microsoft APIs.\r\n\r\nI added Application ID URI and new scope named **`Custom.Read`** by selecting **Expose an API** in my application like this:\r\n\r\n![enter image description here](https://i.stack.imgur.com/9kyn9.png)\r\n\r\nYou can find above scope in **My APIs** of your application with same name like this:\r\n\r\n![enter image description here](https://i.stack.imgur.com/YgliU.png)\r\n\r\nNow, add that scope in **API permissions** of your application like this:\r\n\r\n![enter image description here](https://i.stack.imgur.com/wa3NE.png)\r\n\r\nMake sure to grant **admin consent** to the added permission like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/FZ3NX.png)\r\n\r\nTo get **code**, I ran below authorization request in browser like this:\r\n```\r\nhttps://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/authorize\r\n?client_id= &lt;appID&gt;\r\n&amp;response_type=code\r\n&amp;redirect_uri= https://jwt.ms\r\n&amp;response_mode=query\r\n&amp;scope=api://&lt;appID&gt;/.default\r\n&amp;state=12345\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/tq5Jr.png)\r\n\r\nNow, I generated access token by changing scope to **custom API** using authorization code flow via Postman like below:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\nclient_id:&lt;appID&gt;\r\ngrant_type:authorization_code\r\nscope: api://&lt;appID&gt;/Custom.Read openid\r\ncode:code\r\nredirect_uri: https://jwt.ms\r\nclient_secret: &lt;secret&gt;\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/ul0bv.png)\r\n\r\nWhen I decoded the above access token in [jwt.io](https://jwt.io/) website, it does not have **`nonce`** claim and signature **verified** successfully like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/OwLT2.png)\r\n![enter image description here](https://i.stack.imgur.com/svdL8.png)","title":"Azure OAuth2: can&#39;t validate access token","body":"<blockquote>\n<p>Note that, if you validate access token generated with <strong>Microsoft\nGraph</strong> APIs as scope, you will get &quot;Invalid Signature&quot; error as it\nhas <strong><code>nonce</code></strong> claim</p>\n</blockquote>\n<p><em><strong>I tried to reproduce the same in my environment and got below results:</strong></em></p>\n<p>I registered one Azure AD application and added <strong>Microsoft</strong> Graph <code>API permissions</code> as below:</p>\n<p><img src=\"https://i.stack.imgur.com/48xbo.png\" alt=\"enter image description here\" /></p>\n<p>Now I generated <strong>access token</strong> and <strong>id token</strong> using authorization code flow via Postman with below parameters:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\nclient_id:&lt;appID&gt;\ngrant_type:authorization_code\nscope: https://graph.microsoft.com/User.Read openid\ncode:code\nredirect_uri: https://jwt.ms\nclient_secret: &lt;secret&gt;\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/ZNEJh.png\" alt=\"enter image description here\" /></p>\n<p>When I decoded the above access token in <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> website, I too got <strong>Invalid Signature</strong> error as it has <strong><code>nonce</code></strong> claim like below:</p>\n<p><img src=\"https://i.stack.imgur.com/bBK2b.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/NrTon.png\" alt=\"enter image description here\" /></p>\n<p>To get access token without nonce claim, change <strong><code>scope</code></strong> value to <strong>custom API</strong> instead of Microsoft APIs.</p>\n<p>I added Application ID URI and new scope named <strong><code>Custom.Read</code></strong> by selecting <strong>Expose an API</strong> in my application like this:</p>\n<p><img src=\"https://i.stack.imgur.com/9kyn9.png\" alt=\"enter image description here\" /></p>\n<p>You can find above scope in <strong>My APIs</strong> of your application with same name like this:</p>\n<p><img src=\"https://i.stack.imgur.com/YgliU.png\" alt=\"enter image description here\" /></p>\n<p>Now, add that scope in <strong>API permissions</strong> of your application like this:</p>\n<p><img src=\"https://i.stack.imgur.com/wa3NE.png\" alt=\"enter image description here\" /></p>\n<p>Make sure to grant <strong>admin consent</strong> to the added permission like below:</p>\n<p><img src=\"https://i.stack.imgur.com/FZ3NX.png\" alt=\"enter image description here\" /></p>\n<p>To get <strong>code</strong>, I ran below authorization request in browser like this:</p>\n<pre><code>https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/authorize\n?client_id= &lt;appID&gt;\n&amp;response_type=code\n&amp;redirect_uri= https://jwt.ms\n&amp;response_mode=query\n&amp;scope=api://&lt;appID&gt;/.default\n&amp;state=12345\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/tq5Jr.png\" alt=\"enter image description here\" /></p>\n<p>Now, I generated access token by changing scope to <strong>custom API</strong> using authorization code flow via Postman like below:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\nclient_id:&lt;appID&gt;\ngrant_type:authorization_code\nscope: api://&lt;appID&gt;/Custom.Read openid\ncode:code\nredirect_uri: https://jwt.ms\nclient_secret: &lt;secret&gt;\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/ul0bv.png\" alt=\"enter image description here\" /></p>\n<p>When I decoded the above access token in <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> website, it does not have <strong><code>nonce</code></strong> claim and signature <strong>verified</strong> successfully like below:</p>\n<p><img src=\"https://i.stack.imgur.com/OwLT2.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/svdL8.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":7279219,"reputation":211,"user_id":5549520,"accept_rate":100,"display_name":"Turik Mirash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541678,"answer_count":1,"score":0,"last_activity_date":1677136898,"creation_date":1677082919,"question_id":75535497,"body_markdown":"I am trying to validate the access token provided by Azure OAuth2. I am using nimbus to validate the token, however I keep getting the &quot;invalid signature&quot; error. \r\n\r\nI read on some pages that if the access token contains a nonce, then I won&#39;t be able to validate it since it&#39;s meant to be used internally by Microsoft only. \r\nI followed the instructions on this page (https://authguidance.com/azure-ad-troubleshooting/) to get the acecss token without a nonce, but it doesn&#39;t work. \r\n\r\nI can see that the ID token doesn&#39;t contain a nonce, but the access token does. \r\n\r\nDoes anyone know how I can get an access token (withouth a nonce) that I can validate using nimbus? ","title":"Azure OAuth2: can&#39;t validate access token","body":"<p>I am trying to validate the access token provided by Azure OAuth2. I am using nimbus to validate the token, however I keep getting the &quot;invalid signature&quot; error.</p>\n<p>I read on some pages that if the access token contains a nonce, then I won't be able to validate it since it's meant to be used internally by Microsoft only.\nI followed the instructions on this page (<a href=\"https://authguidance.com/azure-ad-troubleshooting/\" rel=\"nofollow noreferrer\">https://authguidance.com/azure-ad-troubleshooting/</a>) to get the acecss token without a nonce, but it doesn't work.</p>\n<p>I can see that the ID token doesn't contain a nonce, but the access token does.</p>\n<p>Does anyone know how I can get an access token (withouth a nonce) that I can validate using nimbus?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1677134765,"post_id":75540471,"comment_id":133278693,"body_markdown":"do You need this disc save for any reason ? if not try saving file to database without saving it to disc","body":"do You need this disc save for any reason ? if not try saving file to database without saving it to disc"}],"owner":{"account_id":27663207,"reputation":5,"user_id":21115931,"display_name":"david_23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677136325,"creation_date":1677125196,"question_id":75540471,"body_markdown":"I developed an endpoint for importing the CSV file and inserting data to a database that details included in the CSV file.\r\nFor importing CSV, I used the multipart file method, and the importing file will be saved to the folder.\r\nI want to know how I delete the file after saving data to the database. \r\n\r\nBellow code I used to a multipart file saved to a directory.\r\n\r\nBellow code I used to a multipart file saved to a directory.\r\n\r\n    String fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\r\n    fileUploadUtil.saveFiles(fileName ,multipartFile, folderCreatePath + experimentDirectory);\r\n    String path = folderCreatePath + experimentDirectory + fileName;\r\n\r\nThis code is used to read the CSV file \r\n\r\n    List&lt;CsvUser&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    BufferedReader lineReader = new BufferedReader(new FileReader(path));\r\n\r\nMy question is, after I save the file details to the database I want to delete the file from the directory?\r\nHow do I delete that after getting the API status code:200 \r\n\r\n","title":"How to delete imported file after get status:200 successful message","body":"<p>I developed an endpoint for importing the CSV file and inserting data to a database that details included in the CSV file.\nFor importing CSV, I used the multipart file method, and the importing file will be saved to the folder.\nI want to know how I delete the file after saving data to the database.</p>\n<p>Bellow code I used to a multipart file saved to a directory.</p>\n<p>Bellow code I used to a multipart file saved to a directory.</p>\n<pre><code>String fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\nfileUploadUtil.saveFiles(fileName ,multipartFile, folderCreatePath + experimentDirectory);\nString path = folderCreatePath + experimentDirectory + fileName;\n</code></pre>\n<p>This code is used to read the CSV file</p>\n<pre><code>List&lt;CsvUser&gt; users = new ArrayList&lt;&gt;();\n\nBufferedReader lineReader = new BufferedReader(new FileReader(path));\n</code></pre>\n<p>My question is, after I save the file details to the database I want to delete the file from the directory?\nHow do I delete that after getting the API status code:200</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677088233,"post_id":75536225,"comment_id":133270125,"body_markdown":"You&#39;re not supposed to explain the whole problem in the title, but give a short summary for people to get *an idea* what kind of problem your question is about ... For example you basically want to know how to fix your ArrayIndexOutOfBoundsException so something like &quot;ArrayIndexOutOfBoundsException while looking for specific number in array&quot; would work ...","body":"You&#39;re not supposed to explain the whole problem in the title, but give a short summary for people to get <i>an idea</i> what kind of problem your question is about ... For example you basically want to know how to fix your ArrayIndexOutOfBoundsException so something like &quot;ArrayIndexOutOfBoundsException while looking for specific number in array&quot; would work ..."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1677099383,"post_id":75536225,"comment_id":133273165,"body_markdown":"You said &quot;in the previous example `i` was equal to `n` . both of them are 9.&quot;  \n\nNo it&#39;s not.  `n` is equal to 4.  It&#39;s always equal to 4.  Do you mean `height[i]  == 9` when `i` == `n`?","body":"You said &quot;in the previous example <code>i</code> was equal to <code>n</code> . both of them are 9.&quot;    No it&#39;s not.  <code>n</code> is equal to 4.  It&#39;s always equal to 4.  Do you mean <code>height[i]  == 9</code> when <code>i</code> == <code>n</code>?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1677102220,"post_id":75536225,"comment_id":133273929,"body_markdown":"Please explain how the first and last examples yield the the shown outputs.","body":"Please explain how the first and last examples yield the the shown outputs."},{"owner":{"account_id":27811666,"reputation":1,"user_id":21233942,"display_name":"Linda"},"score":0,"creation_date":1677134875,"post_id":75536225,"comment_id":133278713,"body_markdown":"yes yes you are right i made a mistake there the true form was &quot;i equals n equals 4&quot; i just edited that. thanks for mentioning it","body":"yes yes you are right i made a mistake there the true form was &quot;i equals n equals 4&quot; i just edited that. thanks for mentioning it"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677088408,"creation_date":1677088408,"answer_id":75536440,"question_id":75536225,"body_markdown":"Your last loop starts like this:\r\n\r\n    for ( int k = i ; k &lt;=n ; k++){\r\n\r\nThis will loop up to **an including** the value `n` (3 in the case that you mention). An array of 3 elements **does not have an index 3**, the valid indices are 0, 1 and 2.\r\n\r\nNote how your first two loops use `i &lt; n` as the end condition? That&#39;s the correct way, because you have to stop when executing the loop body when you reach `n`.","title":"in java check if in a array there is a number which is greater than every numbers before it and smaller than all after it, the numbers are in order","body":"<p>Your last loop starts like this:</p>\n<pre><code>for ( int k = i ; k &lt;=n ; k++){\n</code></pre>\n<p>This will loop up to <strong>an including</strong> the value <code>n</code> (3 in the case that you mention). An array of 3 elements <strong>does not have an index 3</strong>, the valid indices are 0, 1 and 2.</p>\n<p>Note how your first two loops use <code>i &lt; n</code> as the end condition? That's the correct way, because you have to stop when executing the loop body when you reach <code>n</code>.</p>\n"}],"owner":{"account_id":27811666,"reputation":1,"user_id":21233942,"display_name":"Linda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677136106,"creation_date":1677086972,"question_id":75536225,"body_markdown":"First i wanted to apologize if i could not say all the details in the title because the number of characters i needed to express my problem were beyond the limited range.\r\n here you can see the details:\r\n\r\nI want to write a program in java that first gets the integer  n and then gets n integer numbers ( x1,x2, …,xn) and in the output tells if any i exists such that : (i can be equal to n)\r\n X1&lt;=x2&lt;=x3&lt;=…&lt;= xi &gt; …&gt; xn     or    X1=&gt;x2&gt;=x3&gt;=…&gt;= xi &lt; …&lt; xn     \r\nFor example:\r\n```\r\nInput:\r\n5\r\n1 \r\n2 \r\n5\r\n3\r\n1 \r\nOutput:\r\nYes\r\n```\r\nabove n is equal to 5 which is the first number and the next 5 numbers are elements of the array. in this example the following condition is met :\r\nx1 &lt; x2 &lt; x3 &gt; x4 &gt; x5 because 1 &lt; 2 &lt; 5 &gt; 3 &gt; 1 and it is obvious that i is 3 \r\n```\r\nInput:\r\n4\r\n1\r\n2\r\n5\r\n9\r\nOutput:\r\nYes\r\n```\r\nin the previous example i was equal to n . both of them are 4. and\r\n\r\nx1 &lt; x2 &lt; x3 &lt;x4 \r\n```\r\nInput:\r\n7\r\n1\r\n8\r\n5\r\n6\r\n7\r\n2\r\n6 \r\noutput:\r\nNo\r\n```                                         \r\n here n is 7 but the conditions ( X1&lt;=x2&lt;=x3&lt;=…&lt;= xi &gt; …&gt; xn     or    X1=&gt;x2&gt;=x3&gt;=…&gt;= xi &lt; …&lt; xn) are not met  because: 1 &lt; 8 &gt; 5 &lt; 6 &lt; 7 &gt; 2 &lt; 6                                            \r\nso the output must be No\r\n\r\nthe following code is what i expected to work but i  do not get the right answer ( it keeps showing No in the output even when it should be showing Yes)\r\n\r\n```\r\n import java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner  input = new Scanner(System.in);\r\n\r\n        System.out.println(&quot; enter n &quot;);\r\n\r\n        byte n = input.nextByte();\r\n\r\n        boolean isConditionMet = true;\r\n\r\n        int[] heights = new int[n];\r\n\r\n        System.out.println(&quot;enter elements of your array &quot;);\r\n\r\n        for (int i = 0 ; i &lt; n ; i++){\r\n\r\n            heights[i] = input.nextInt();\r\n        }\r\n\r\n        for (int i = 0 ; i &lt; n ; i++){\r\n\r\n            for ( int j = 1 ; j &lt;= i ; j++){\r\n\r\n                if ( heights[j-1] &lt;= heights[j]) {\r\n\r\n                    for (int k = i; k &lt; n; k++) {\r\n\r\n\r\n                        if (heights[k - 1] &gt; heights[k]) {\r\n\r\n                            isConditionMet = true;\r\n                        } else {\r\n\r\n                            isConditionMet = false;\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n                else {\r\n\r\n                    for ( int k = i ; k &lt;n ; k++){\r\n\r\n                        if ( heights[k-1] &lt; heights[k] ){\r\n\r\n                            isConditionMet = true;\r\n                        }\r\n\r\n                        else {\r\n\r\n                            isConditionMet = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if ( isConditionMet ){\r\n\r\n            System.out.println(&quot;Yes&quot;);\r\n        }\r\n\r\n        else{\r\n\r\n            System.out.println(&quot;No&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"in java check if in a array there is a number which is greater than every numbers before it and smaller than all after it, the numbers are in order","body":"<p>First i wanted to apologize if i could not say all the details in the title because the number of characters i needed to express my problem were beyond the limited range.\nhere you can see the details:</p>\n<p>I want to write a program in java that first gets the integer  n and then gets n integer numbers ( x1,x2, …,xn) and in the output tells if any i exists such that : (i can be equal to n)\nX1&lt;=x2&lt;=x3&lt;=…&lt;= xi &gt; …&gt; xn     or    X1=&gt;x2&gt;=x3&gt;=…&gt;= xi &lt; …&lt; xn<br />\nFor example:</p>\n<pre><code>Input:\n5\n1 \n2 \n5\n3\n1 \nOutput:\nYes\n</code></pre>\n<p>above n is equal to 5 which is the first number and the next 5 numbers are elements of the array. in this example the following condition is met :\nx1 &lt; x2 &lt; x3 &gt; x4 &gt; x5 because 1 &lt; 2 &lt; 5 &gt; 3 &gt; 1 and it is obvious that i is 3</p>\n<pre><code>Input:\n4\n1\n2\n5\n9\nOutput:\nYes\n</code></pre>\n<p>in the previous example i was equal to n . both of them are 4. and</p>\n<p>x1 &lt; x2 &lt; x3 &lt;x4</p>\n<pre><code>Input:\n7\n1\n8\n5\n6\n7\n2\n6 \noutput:\nNo\n</code></pre>\n<p>here n is 7 but the conditions ( X1&lt;=x2&lt;=x3&lt;=…&lt;= xi &gt; …&gt; xn     or    X1=&gt;x2&gt;=x3&gt;=…&gt;= xi &lt; …&lt; xn) are not met  because: 1 &lt; 8 &gt; 5 &lt; 6 &lt; 7 &gt; 2 &lt; 6<br />\nso the output must be No</p>\n<p>the following code is what i expected to work but i  do not get the right answer ( it keeps showing No in the output even when it should be showing Yes)</p>\n<pre><code> import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner  input = new Scanner(System.in);\n\n        System.out.println(&quot; enter n &quot;);\n\n        byte n = input.nextByte();\n\n        boolean isConditionMet = true;\n\n        int[] heights = new int[n];\n\n        System.out.println(&quot;enter elements of your array &quot;);\n\n        for (int i = 0 ; i &lt; n ; i++){\n\n            heights[i] = input.nextInt();\n        }\n\n        for (int i = 0 ; i &lt; n ; i++){\n\n            for ( int j = 1 ; j &lt;= i ; j++){\n\n                if ( heights[j-1] &lt;= heights[j]) {\n\n                    for (int k = i; k &lt; n; k++) {\n\n\n                        if (heights[k - 1] &gt; heights[k]) {\n\n                            isConditionMet = true;\n                        } else {\n\n                            isConditionMet = false;\n                        }\n\n                    }\n                }\n\n                else {\n\n                    for ( int k = i ; k &lt;n ; k++){\n\n                        if ( heights[k-1] &lt; heights[k] ){\n\n                            isConditionMet = true;\n                        }\n\n                        else {\n\n                            isConditionMet = false;\n                        }\n                    }\n                }\n            }\n        }\n\n        if ( isConditionMet ){\n\n            System.out.println(&quot;Yes&quot;);\n        }\n\n        else{\n\n            System.out.println(&quot;No&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","amazon-s3","sdk","minio"],"answers":[{"tags":[],"owner":{"account_id":18718450,"reputation":175,"user_id":13646924,"display_name":"TaeXtreme"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1655307793,"creation_date":1655272066,"answer_id":72626422,"question_id":72611255,"body_markdown":"After digging through MinIO Java SDK for a while. I found that if you call statObject function in the minioClient, it will only be successful when object exist in the bucket. And throw an ErrorResponseException when object doesn&#39;t exist.\r\n\r\nSo I came up with this function.\r\n```\r\npublic boolean isObjectExist(String name) {\r\n        try {\r\n            minioClient.statObject(StatObjectArgs.builder()\r\n                    .bucket(defaultBucketName)\r\n                    .object(name).build());\r\n            return true;\r\n        } catch (ErrorResponseException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e.getMessage());\r\n        }\r\n    }\r\n```","title":"How to check if object exist in MinIO bucket using MinIO Java SDK?","body":"<p>After digging through MinIO Java SDK for a while. I found that if you call statObject function in the minioClient, it will only be successful when object exist in the bucket. And throw an ErrorResponseException when object doesn't exist.</p>\n<p>So I came up with this function.</p>\n<pre><code>public boolean isObjectExist(String name) {\n        try {\n            minioClient.statObject(StatObjectArgs.builder()\n                    .bucket(defaultBucketName)\n                    .object(name).build());\n            return true;\n        } catch (ErrorResponseException e) {\n            e.printStackTrace();\n            return false;\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14008994,"reputation":1841,"user_id":10118222,"display_name":"Aamir Kalimi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677135567,"creation_date":1677135567,"answer_id":75541515,"question_id":72611255,"body_markdown":"In Javascript and Node js I have did the following \r\n\r\n    exports.isObjectExistInMinio = async(bucketName, fileName)=&gt; {\r\n        try {\r\n            await Minio.minioClient.statObject(bucketName, fileName);\r\n            return true;\r\n        } catch (error) {\r\n            console.error(error);\r\n            return false;\r\n        }\r\n    }","title":"How to check if object exist in MinIO bucket using MinIO Java SDK?","body":"<p>In Javascript and Node js I have did the following</p>\n<pre><code>exports.isObjectExistInMinio = async(bucketName, fileName)=&gt; {\n    try {\n        await Minio.minioClient.statObject(bucketName, fileName);\n        return true;\n    } catch (error) {\n        console.error(error);\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18718450,"reputation":175,"user_id":13646924,"display_name":"TaeXtreme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7899,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72626422,"answer_count":2,"score":2,"last_activity_date":1677135567,"creation_date":1655177960,"question_id":72611255,"body_markdown":"I currently working on a Spring web app with MinIO object storage. And i need to implement a function that check if upload file is successfully upload or not or check if the file exist in the bucket.\r\n\r\nAnd from my research every information I found are outdated and cannot be use with latest MinIO Java SDK. That why I decide to ask this question here.","title":"How to check if object exist in MinIO bucket using MinIO Java SDK?","body":"<p>I currently working on a Spring web app with MinIO object storage. And i need to implement a function that check if upload file is successfully upload or not or check if the file exist in the bucket.</p>\n<p>And from my research every information I found are outdated and cannot be use with latest MinIO Java SDK. That why I decide to ask this question here.</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":1,"creation_date":1677134799,"post_id":75541286,"comment_id":133278701,"body_markdown":"Sounds like `LocalDate` would be more appropriate type for you.","body":"Sounds like <code>LocalDate</code> would be more appropriate type for you."},{"owner":{"account_id":17121303,"reputation":3,"user_id":12389449,"display_name":"Quốc Kiệt"},"score":0,"creation_date":1677137311,"post_id":75541286,"comment_id":133279216,"body_markdown":"LocalDate is ok, but I has been using type Date, and too much to change this type.","body":"LocalDate is ok, but I has been using type Date, and too much to change this type."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1677137406,"post_id":75541286,"comment_id":133279230,"body_markdown":"Well, switching from an old problematic construct like `java.util.Date` to a newer and more robust like `java.time.LocalDate` shouldn&#39;t be too much effort in the long run as you&#39;ll save yourself a lot of headaches.","body":"Well, switching from an old problematic construct like <code>java.util.Date</code> to a newer and more robust like <code>java.time.LocalDate</code> shouldn&#39;t be too much effort in the long run as you&#39;ll save yourself a lot of headaches."}],"owner":{"account_id":17121303,"reputation":3,"user_id":12389449,"display_name":"Quốc Kiệt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677134983,"creation_date":1677133675,"question_id":75541286,"body_markdown":"In my Class, I have many variable with type is Date, and this class using with `@RequestBody`.\r\nI want the value that I receive at variable with type `Date` is format `dd-mm-yyy 00:00:00`, \r\nwhen I don&#39;t using annotation `@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, timezone = &quot;Asia/Tokyo&quot;)`\r\nthe format I received is `2022-05-02 09:00:00`.\r\n\r\n\r\nIs there any way I can achieve this without the need of using annotation `@JsonFormat(pattern = yyyy-MM-dd, timezone = &quot;Asia/Tokyo&quot;)` at each separate variable ?","title":"How to setting annotation for each variable with type is Date in spring boot","body":"<p>In my Class, I have many variable with type is Date, and this class using with <code>@RequestBody</code>.\nI want the value that I receive at variable with type <code>Date</code> is format <code>dd-mm-yyy 00:00:00</code>,\nwhen I don't using annotation <code>@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, timezone = &quot;Asia/Tokyo&quot;)</code>\nthe format I received is <code>2022-05-02 09:00:00</code>.</p>\n<p>Is there any way I can achieve this without the need of using annotation <code>@JsonFormat(pattern = yyyy-MM-dd, timezone = &quot;Asia/Tokyo&quot;)</code> at each separate variable ?</p>\n"},{"tags":["java","out-of-memory","executorservice","runnable"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1676999474,"post_id":75523358,"comment_id":133248724,"body_markdown":"Wait resp. Look into project loom.","body":"Wait resp. Look into project loom."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677006815,"post_id":75523358,"comment_id":133250936,"body_markdown":"@JoopEggen Given the title, the concern is running out of memory for instantiating a zillion `Runnable` objects. How does [Project Loom](https://wiki.openjdk.org/display/loom/Main) address memory management of pending runnables?","body":"@JoopEggen Given the title, the concern is running out of memory for instantiating a zillion <code>Runnable</code> objects. How does <a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\">Project Loom</a> address memory management of pending runnables?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1677025860,"post_id":75523358,"comment_id":133255194,"body_markdown":"@BasilBourque right, and thanks for providing the link.","body":"@BasilBourque right, and thanks for providing the link."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677131353,"creation_date":1677007135,"answer_id":75524977,"question_id":75523358,"body_markdown":"You seem to be concerned that too many pending `Runnable` task objects could take more memory than you will have available on your deployment machine. You want to avoid out-of-memory errors or virtual memory thrashing. \r\n\r\nTo avoid too many tasks, wait to instantiate the next task until the current one is done. \r\n\r\n# End each task with submission of another task\r\n\r\nAdd a second duty to each instance of your `Runnable` objects: *Pull the next pending parameter from your database, and submit a task to the executor service.* \r\n\r\nThe task can be either a new instance of your `Runnable` implementation, or the task can be the same currently-executing `Runnable` instance. I prefer the first approach if the second approach would mean writing code to clean “dirty” state. \r\n\r\nWhen no more input parameters remain, the last running instance of your `Runnable` simply completes, after shutting down the executor service. The executor service remains with no further work to be done.\r\n\r\nBe sure to eventually shutdown your executor service. Otherwise its backing thread pool may continue running indefinitely, even after your app ends, like a zombie &#129503;‍♂️.\r\n\r\n\r\n# Example code\r\n\r\n## Task\r\n\r\nLet&#39;s define a task that multiplies a number, then reports on the console.\r\n\r\nThis task’s constructor takes a thread-safe `Queue` of integers which it uses as input. Each task object draws one element, an `Integer` object, from that queue. \r\n\r\nThis task’s constructor also takes a reference to the existing `ExecutorService`. When this task finishes its work, it then instantiates another task. The old task submits the new task to that passed executor service. The executor service will execute the new task in the future, likely the very near future. \r\n\r\n```java\r\npackage work.basil.example.bogus;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Objects;\r\nimport java.util.Queue;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.RejectedExecutionException;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class Multiplier implements Runnable\r\n{\r\n    private final Queue &lt; Integer &gt; queue;\r\n    private final ExecutorService executorService;\r\n\r\n    public Multiplier ( final Queue &lt; Integer &gt; queue , final ExecutorService executorService )\r\n    {\r\n        this.queue = queue;\r\n        this.executorService = executorService;\r\n    }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        try\r\n        {\r\n            this.doRun();\r\n        }\r\n        catch ( Exception e )\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void doRun ( )\r\n    {\r\n        Integer input = queue.poll();\r\n        if ( Objects.nonNull( input ) )  // If we have another input to process.\r\n        {\r\n            // Business logic.\r\n            // Simulate doing much work by sleeping this thread.\r\n            try { Thread.sleep( Duration.ofMillis( ThreadLocalRandom.current().nextInt( 500 , 2_000 ) ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n            int result = Math.multiplyExact( input , 2 );\r\n            System.out.println( &quot;INFO - input = &quot; + input + &quot; | result = &quot; + result + &quot; at &quot; + Instant.now() );\r\n\r\n            // Schedule another task.\r\n            // Try to avoid needlessly submitting unnecessary tasks. But still may happen because of the interleaving of concurrent threads.\r\n            if ( ! this.queue.isEmpty() )\r\n            {\r\n                Multiplier task = new Multiplier( this.queue , this.executorService );\r\n                try { executorService.submit( task ); } catch ( RejectedExecutionException e ) { System.out.println( &quot;e = &quot; + e ); }\r\n                System.out.println( &quot;DEBUG - Submitted a subsequent task to executor service. &quot; + Instant.now() );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## App\r\n\r\nLet&#39;s write an app to run a few of those tasks.\r\n\r\nThis app instantiates an executor service backed by a thread pool of a certain size. The app instantiates and summits as many tasks as there are threads, to get the ball rolling. \r\n\r\nFrom there, each executing task instantiates another task, then submits it for later execution. \r\n\r\nThis rolling work-instantiate-submit/work-instantiate-submit cycle continues until we exhaust the queue of inputs.\r\n\r\n```java\r\npackage work.basil.example.bogus;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.List;\r\nimport java.util.Queue;\r\nimport java.util.concurrent.ArrayBlockingQueue;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.RejectedExecutionException;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println( &quot;INFO - Demo starting. &quot; + Instant.now() );\r\n\r\n        final List &lt; Integer &gt; data = List.of( 10 , 20 , 30 , 40 , 50 , 60 , 70 );\r\n        final Queue &lt; Integer &gt; queue = new ArrayBlockingQueue &lt;&gt;( data.size() , false , data );\r\n        final int countThreads = 3;\r\n        ExecutorService executorService = Executors.newFixedThreadPool( countThreads );\r\n\r\n        // Te get the ball rolling, start as many tasks as we have threads.\r\n        // From there, those initial tasks will instantiate and submit further tasks.\r\n        for ( int index = 0 ; index &lt; countThreads ; index++ )\r\n        {\r\n            Multiplier task = new Multiplier( queue , executorService );\r\n            try { executorService.submit( task ); } catch ( RejectedExecutionException e ) { System.out.println( &quot;e = &quot; + e ); }\r\n        }\r\n\r\n        Duration wait = Duration.ofSeconds( 20 );\r\n        System.out.println( &quot;DEBUG - Main thread will sleep for &quot; + wait + &quot; at &quot; + Instant.now() );\r\n        try { Thread.sleep( wait ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        System.out.println( &quot;DEBUG - Main thread waking after waiting &quot; + wait + &quot; at &quot; + Instant.now() );\r\n\r\n        executorService.close();\r\n        if ( ! executorService.isTerminated() )\r\n        {\r\n            System.out.println( &quot;ERROR - Executor service STILL not yet terminated after waiting for &quot; + wait + &quot; at &quot; + Instant.now() );\r\n        }\r\n\r\n        System.out.println( &quot;INFO - Demo ending. &quot; + Instant.now() );\r\n    }\r\n}\r\n```\r\n\r\n## Execution\r\n\r\nWhen run, we expect to see output similar to this:\r\n\r\n```none\r\nINFO - Demo starting. 2023-02-23T05:51:19.584253Z\r\nDEBUG - Main thread will sleep for PT20S at 2023-02-23T05:51:19.592739Z\r\nINFO - input = 30 | result = 60 at 2023-02-23T05:51:20.542284Z\r\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:20.549764Z\r\nINFO - input = 20 | result = 40 at 2023-02-23T05:51:20.571571Z\r\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:20.571752Z\r\nINFO - input = 40 | result = 80 at 2023-02-23T05:51:21.180109Z\r\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:21.180650Z\r\nINFO - input = 10 | result = 20 at 2023-02-23T05:51:21.220425Z\r\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:21.221124Z\r\nINFO - input = 50 | result = 100 at 2023-02-23T05:51:21.753899Z\r\nINFO - input = 70 | result = 140 at 2023-02-23T05:51:22.215306Z\r\nINFO - input = 60 | result = 120 at 2023-02-23T05:51:23.023050Z\r\nDEBUG - Main thread waking after waiting PT20S at 2023-02-23T05:51:39.588413Z\r\nINFO - Demo ending. 2023-02-23T05:51:39.592896Z\r\n```\r\n","title":"how to prevent Out Of Memory because of many Runnables","body":"<p>You seem to be concerned that too many pending <code>Runnable</code> task objects could take more memory than you will have available on your deployment machine. You want to avoid out-of-memory errors or virtual memory thrashing.</p>\n<p>To avoid too many tasks, wait to instantiate the next task until the current one is done.</p>\n<h1>End each task with submission of another task</h1>\n<p>Add a second duty to each instance of your <code>Runnable</code> objects: <em>Pull the next pending parameter from your database, and submit a task to the executor service.</em></p>\n<p>The task can be either a new instance of your <code>Runnable</code> implementation, or the task can be the same currently-executing <code>Runnable</code> instance. I prefer the first approach if the second approach would mean writing code to clean “dirty” state.</p>\n<p>When no more input parameters remain, the last running instance of your <code>Runnable</code> simply completes, after shutting down the executor service. The executor service remains with no further work to be done.</p>\n<p>Be sure to eventually shutdown your executor service. Otherwise its backing thread pool may continue running indefinitely, even after your app ends, like a zombie 🧟‍♂️.</p>\n<h1>Example code</h1>\n<h2>Task</h2>\n<p>Let's define a task that multiplies a number, then reports on the console.</p>\n<p>This task’s constructor takes a thread-safe <code>Queue</code> of integers which it uses as input. Each task object draws one element, an <code>Integer</code> object, from that queue.</p>\n<p>This task’s constructor also takes a reference to the existing <code>ExecutorService</code>. When this task finishes its work, it then instantiates another task. The old task submits the new task to that passed executor service. The executor service will execute the new task in the future, likely the very near future.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.bogus;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Objects;\nimport java.util.Queue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.RejectedExecutionException;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class Multiplier implements Runnable\n{\n    private final Queue &lt; Integer &gt; queue;\n    private final ExecutorService executorService;\n\n    public Multiplier ( final Queue &lt; Integer &gt; queue , final ExecutorService executorService )\n    {\n        this.queue = queue;\n        this.executorService = executorService;\n    }\n\n    @Override\n    public void run ( )\n    {\n        try\n        {\n            this.doRun();\n        }\n        catch ( Exception e )\n        {\n            e.printStackTrace();\n        }\n    }\n\n    private void doRun ( )\n    {\n        Integer input = queue.poll();\n        if ( Objects.nonNull( input ) )  // If we have another input to process.\n        {\n            // Business logic.\n            // Simulate doing much work by sleeping this thread.\n            try { Thread.sleep( Duration.ofMillis( ThreadLocalRandom.current().nextInt( 500 , 2_000 ) ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n            int result = Math.multiplyExact( input , 2 );\n            System.out.println( &quot;INFO - input = &quot; + input + &quot; | result = &quot; + result + &quot; at &quot; + Instant.now() );\n\n            // Schedule another task.\n            // Try to avoid needlessly submitting unnecessary tasks. But still may happen because of the interleaving of concurrent threads.\n            if ( ! this.queue.isEmpty() )\n            {\n                Multiplier task = new Multiplier( this.queue , this.executorService );\n                try { executorService.submit( task ); } catch ( RejectedExecutionException e ) { System.out.println( &quot;e = &quot; + e ); }\n                System.out.println( &quot;DEBUG - Submitted a subsequent task to executor service. &quot; + Instant.now() );\n            }\n        }\n    }\n}\n</code></pre>\n<h2>App</h2>\n<p>Let's write an app to run a few of those tasks.</p>\n<p>This app instantiates an executor service backed by a thread pool of a certain size. The app instantiates and summits as many tasks as there are threads, to get the ball rolling.</p>\n<p>From there, each executing task instantiates another task, then submits it for later execution.</p>\n<p>This rolling work-instantiate-submit/work-instantiate-submit cycle continues until we exhaust the queue of inputs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.bogus;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.List;\nimport java.util.Queue;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.RejectedExecutionException;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        System.out.println( &quot;INFO - Demo starting. &quot; + Instant.now() );\n\n        final List &lt; Integer &gt; data = List.of( 10 , 20 , 30 , 40 , 50 , 60 , 70 );\n        final Queue &lt; Integer &gt; queue = new ArrayBlockingQueue &lt;&gt;( data.size() , false , data );\n        final int countThreads = 3;\n        ExecutorService executorService = Executors.newFixedThreadPool( countThreads );\n\n        // Te get the ball rolling, start as many tasks as we have threads.\n        // From there, those initial tasks will instantiate and submit further tasks.\n        for ( int index = 0 ; index &lt; countThreads ; index++ )\n        {\n            Multiplier task = new Multiplier( queue , executorService );\n            try { executorService.submit( task ); } catch ( RejectedExecutionException e ) { System.out.println( &quot;e = &quot; + e ); }\n        }\n\n        Duration wait = Duration.ofSeconds( 20 );\n        System.out.println( &quot;DEBUG - Main thread will sleep for &quot; + wait + &quot; at &quot; + Instant.now() );\n        try { Thread.sleep( wait ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        System.out.println( &quot;DEBUG - Main thread waking after waiting &quot; + wait + &quot; at &quot; + Instant.now() );\n\n        executorService.close();\n        if ( ! executorService.isTerminated() )\n        {\n            System.out.println( &quot;ERROR - Executor service STILL not yet terminated after waiting for &quot; + wait + &quot; at &quot; + Instant.now() );\n        }\n\n        System.out.println( &quot;INFO - Demo ending. &quot; + Instant.now() );\n    }\n}\n</code></pre>\n<h2>Execution</h2>\n<p>When run, we expect to see output similar to this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo starting. 2023-02-23T05:51:19.584253Z\nDEBUG - Main thread will sleep for PT20S at 2023-02-23T05:51:19.592739Z\nINFO - input = 30 | result = 60 at 2023-02-23T05:51:20.542284Z\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:20.549764Z\nINFO - input = 20 | result = 40 at 2023-02-23T05:51:20.571571Z\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:20.571752Z\nINFO - input = 40 | result = 80 at 2023-02-23T05:51:21.180109Z\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:21.180650Z\nINFO - input = 10 | result = 20 at 2023-02-23T05:51:21.220425Z\nDEBUG - Submitted a subsequent task to executor service. 2023-02-23T05:51:21.221124Z\nINFO - input = 50 | result = 100 at 2023-02-23T05:51:21.753899Z\nINFO - input = 70 | result = 140 at 2023-02-23T05:51:22.215306Z\nINFO - input = 60 | result = 120 at 2023-02-23T05:51:23.023050Z\nDEBUG - Main thread waking after waiting PT20S at 2023-02-23T05:51:39.588413Z\nINFO - Demo ending. 2023-02-23T05:51:39.592896Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677090468,"creation_date":1677090468,"answer_id":75536785,"question_id":75523358,"body_markdown":"IMHO you are chasing ghosts.\r\n\r\nThose tasks normally don&#39;t exist in isolation:\r\n\r\n* there is something (another process, a user, a connection over the network) the causes the creation of new tasks\r\n* the tasks need some finite time to execute\r\n* normally there is also something that has an interest in the outcome of the task (if no one cares: why do you execute the task?)\r\n\r\nSome problems are:\r\n\r\n* if the something that causes task creation can do so faster than you can process the tasks then your system will sooner or later be overwhelmed with tasks - even a database has not unlimited capacity\r\n* if every task needs only one second and you can handle 10 tasks parallel means that you need more than 100 days to process 100_000_000 tasks - if no other tasks arrive in the mean time. Even with 100_000 tasks you will need around 3 hours\r\n* if you need 100 days to process the tasks: how can you make sure that your application can run this long uninterrupted?\r\n* if every task needs only a few milliseconds then the round trip to the database could become your bottleneck\r\n    * if a new task is created you then need to store that into the database\r\n    * you need then to read that task from database\r\n    * if the task is completed you need to remove it from the database\r\n* what do you do with the results of the tasks?\r\n    * Print them to the console? Who is going to read that?\r\n    * store them in some file? This file is going to grow big very soon\r\n    * store them in a database?\r\n    * send them back over the network to the requester?\r\n\r\nFrom the listed points you can see that the memory usage of all those task instances is only one of several related problems.","title":"how to prevent Out Of Memory because of many Runnables","body":"<p>IMHO you are chasing ghosts.</p>\n<p>Those tasks normally don't exist in isolation:</p>\n<ul>\n<li>there is something (another process, a user, a connection over the network) the causes the creation of new tasks</li>\n<li>the tasks need some finite time to execute</li>\n<li>normally there is also something that has an interest in the outcome of the task (if no one cares: why do you execute the task?)</li>\n</ul>\n<p>Some problems are:</p>\n<ul>\n<li>if the something that causes task creation can do so faster than you can process the tasks then your system will sooner or later be overwhelmed with tasks - even a database has not unlimited capacity</li>\n<li>if every task needs only one second and you can handle 10 tasks parallel means that you need more than 100 days to process 100_000_000 tasks - if no other tasks arrive in the mean time. Even with 100_000 tasks you will need around 3 hours</li>\n<li>if you need 100 days to process the tasks: how can you make sure that your application can run this long uninterrupted?</li>\n<li>if every task needs only a few milliseconds then the round trip to the database could become your bottleneck\n<ul>\n<li>if a new task is created you then need to store that into the database</li>\n<li>you need then to read that task from database</li>\n<li>if the task is completed you need to remove it from the database</li>\n</ul>\n</li>\n<li>what do you do with the results of the tasks?\n<ul>\n<li>Print them to the console? Who is going to read that?</li>\n<li>store them in some file? This file is going to grow big very soon</li>\n<li>store them in a database?</li>\n<li>send them back over the network to the requester?</li>\n</ul>\n</li>\n</ul>\n<p>From the listed points you can see that the memory usage of all those task instances is only one of several related problems.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677134682,"creation_date":1677134682,"answer_id":75541400,"question_id":75523358,"body_markdown":"There are a few options here:\r\n\r\n - You can use a fixed length task queue. In this case, when the queue is full, the submit method blocks until a slot is released.\r\n - You can store your tasks in a database as you mentionned\r\n - You can use a messaging system such as JMS or Kafka with a persistently stored queue","title":"how to prevent Out Of Memory because of many Runnables","body":"<p>There are a few options here:</p>\n<ul>\n<li>You can use a fixed length task queue. In this case, when the queue is full, the submit method blocks until a slot is released.</li>\n<li>You can store your tasks in a database as you mentionned</li>\n<li>You can use a messaging system such as JMS or Kafka with a persistently stored queue</li>\n</ul>\n"}],"owner":{"account_id":6672699,"reputation":379,"user_id":5148363,"accept_rate":82,"display_name":"nik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677174860,"accepted_answer_id":75524977,"answer_count":3,"score":-1,"last_activity_date":1677134682,"creation_date":1676997358,"question_id":75523358,"body_markdown":"\r\nI need to run 100 tasks. I want to run them in parallel, but only 10 simultaneously. I can use for it simple \r\n\r\n    ExecutorService service = Executors.newFixedThreadPool(10);\r\n\r\nthen create 10 Runnables and sumbmit them to ExecutorService.\r\n\r\nBut what if there are 100_000 tasks or 100_000_000 tasks? At some point It would cause Out Of Memory because of so many Runnables in Memory.\r\n\r\nSo I wanted something like that: I store parameters of all task in database, then take another one of them from database when one thread became free and start new task with this parameters. I come up with something like this\r\n\r\n    package com.company;\r\n    \r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    public class Main {\r\n    \r\n        private static ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n        private static class MyRunnable implements Runnable {\r\n    \r\n            private int i;  /* there would by actually parameters for task*/\r\n    \r\n            public MyRunnable(int i) {\r\n                this.i = i;\r\n            }\r\n    \r\n            public void run() {\r\n                try {\r\n                    System.out.println(i); // there would by actually some code\r\n                    Thread.sleep(1_000);   // there would by actually some code\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                } finally {\r\n                    executorService.execute(new MyRunnable(i + 10 /* there would by actually taking parameters from database for new task*/));\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                executorService.submit(new MyRunnable(i /* there would by actually taking parameters from database for new task*/));\r\n            }\r\n        }\r\n    }\r\n\r\nIs it good or bad solution? What is the best solution?\r\n","title":"how to prevent Out Of Memory because of many Runnables","body":"<p>I need to run 100 tasks. I want to run them in parallel, but only 10 simultaneously. I can use for it simple</p>\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(10);\n</code></pre>\n<p>then create 10 Runnables and sumbmit them to ExecutorService.</p>\n<p>But what if there are 100_000 tasks or 100_000_000 tasks? At some point It would cause Out Of Memory because of so many Runnables in Memory.</p>\n<p>So I wanted something like that: I store parameters of all task in database, then take another one of them from database when one thread became free and start new task with this parameters. I come up with something like this</p>\n<pre><code>package com.company;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Main {\n\n    private static ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n    private static class MyRunnable implements Runnable {\n\n        private int i;  /* there would by actually parameters for task*/\n\n        public MyRunnable(int i) {\n            this.i = i;\n        }\n\n        public void run() {\n            try {\n                System.out.println(i); // there would by actually some code\n                Thread.sleep(1_000);   // there would by actually some code\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            } finally {\n                executorService.execute(new MyRunnable(i + 10 /* there would by actually taking parameters from database for new task*/));\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 10; i++) {\n            executorService.submit(new MyRunnable(i /* there would by actually taking parameters from database for new task*/));\n        }\n    }\n}\n</code></pre>\n<p>Is it good or bad solution? What is the best solution?</p>\n"},{"tags":["java","apache-kafka","properties","consumer"],"comments":[{"owner":{"account_id":1222246,"reputation":495,"user_id":1188659,"display_name":"Nic Pegg"},"score":0,"creation_date":1673307749,"post_id":74996523,"comment_id":132465580,"body_markdown":"When TestConsumer is instantiated there is a consumer.poll(Duration.ofMillis(0)), this may be consuming the record before the test is called.","body":"When TestConsumer is instantiated there is a consumer.poll(Duration.ofMillis(0)), this may be consuming the record before the test is called."}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677134289,"creation_date":1672765962,"question_id":74996523,"body_markdown":"I have an external topic.\r\nAnd an application under test which sends messages to that topic.\r\n\r\nMy goal is to consume sent event from that topic.\r\n\r\n**What I do**:\r\n\r\n 1. Call an API of application that triggers a message to get sent to the topic.\r\n 2. Use my consumer to poll the message and ensure it posted.\r\n\r\n**Problem**: When I poll messages - nothing is polled and test fails with timeout.\r\n\r\nConsumer config:\r\n\r\n    public Properties consumerProperties() {\r\n        Properties properties = new Properties();\r\n\r\n        properties.setProperty(&quot;group.id&quot;, &quot;test-consumer-group&quot;);\r\n        properties.setProperty(&quot;bootstrap.servers&quot;, &quot;my_server&quot;);\r\n        properties.setProperty(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        properties.setProperty(&quot;value.deserializer&quot;, &quot;io.confluent.kafka.serializers.KafkaAvroDeserializer&quot;);\r\n        properties.setProperty(&quot;schema.registry.url&quot;, &quot;my_url&quot;);\r\n        properties.setProperty(&quot;max.poll.records&quot;, &quot;1000&quot;);\r\n        properties.setProperty(&quot;retries&quot;, &quot;5&quot;);\r\n        properties.setProperty(&quot;default.api.timeout.ms&quot;, &quot;240000&quot;);\r\n        properties.setProperty(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\r\n        properties.setProperty(&quot;auto.commit&quot;, &quot;false&quot;);\r\n        properties.setProperty(&quot;specific.avro.reader&quot;, &quot;true&quot;);\r\n        properties.setProperty(&quot;ssl.endpoint.identification.algorithm&quot;, &quot;&quot;);\r\n        properties.setProperty(&quot;basic.auth.credentials.source&quot;, &quot;SASL_INHERIT&quot;);\r\n        properties.setProperty(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-512&quot;);\r\n        properties.setProperty(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\r\n        properties.setProperty(\r\n                &quot;sasl.jaas.config&quot;,\r\n                &quot;org.apache.kafka.common.security.scram.ScramLoginModule required username=\\&quot;&quot;\r\n                        + user\r\n                        + &quot;\\&quot; password=\\&quot;&quot;\r\n                        + password\r\n                        + &quot;\\&quot;;&quot;);\r\n\r\n        return properties;\r\n    }\r\n\r\n\r\nTestConsumer:\r\n\r\n\r\n    public class TestConsumer&lt;T&gt; {\r\n\r\n    private final String topic;\r\n    private final Consumer&lt;String, T&gt; consumer;\r\n\r\n    public TestConsumer(String topic, Properties properties) {\r\n        this.topic = topic;\r\n        this.consumer = new KafkaConsumer&lt;&gt;(properties);\r\n        consumer.subscribe(List.of(topic));\r\n        consumer.poll(Duration.ofMillis(0));\r\n    }\r\n\r\n    public T consumeEvent(Predicate&lt;T&gt; expectedEvent) {\r\n        ConsumerRecords&lt;String, T&gt; records = consumer.poll(Duration.ofMillis(100000));\r\n        consumer.commitSync();\r\n        for (ConsumerRecord&lt;String, T&gt; record : records.records(topic)) {\r\n            if (expectedEvent.test(record.value()))\r\n                return record.value();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nUsage:\r\n\r\n    T message = new TestConsumer&lt;&gt;(&quot;my_topic&quot;, consumerProperties).consumeEvent(m -&gt; m != null);\r\n\r\n\r\nAnd I always get null because nothing is polled. What can be a reason?\r\n\r\n\r\nI have tried to change properties with different combinations including *auto.offset.reset*, *max.poll.records*, *group.id* and others however nothing helped.\r\n\r\nAppreciate any solutions!","title":"Kafka Consumer doesn&#39;t poll any messages","body":"<p>I have an external topic.\nAnd an application under test which sends messages to that topic.</p>\n<p>My goal is to consume sent event from that topic.</p>\n<p><strong>What I do</strong>:</p>\n<ol>\n<li>Call an API of application that triggers a message to get sent to the topic.</li>\n<li>Use my consumer to poll the message and ensure it posted.</li>\n</ol>\n<p><strong>Problem</strong>: When I poll messages - nothing is polled and test fails with timeout.</p>\n<p>Consumer config:</p>\n<pre><code>public Properties consumerProperties() {\n    Properties properties = new Properties();\n\n    properties.setProperty(&quot;group.id&quot;, &quot;test-consumer-group&quot;);\n    properties.setProperty(&quot;bootstrap.servers&quot;, &quot;my_server&quot;);\n    properties.setProperty(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n    properties.setProperty(&quot;value.deserializer&quot;, &quot;io.confluent.kafka.serializers.KafkaAvroDeserializer&quot;);\n    properties.setProperty(&quot;schema.registry.url&quot;, &quot;my_url&quot;);\n    properties.setProperty(&quot;max.poll.records&quot;, &quot;1000&quot;);\n    properties.setProperty(&quot;retries&quot;, &quot;5&quot;);\n    properties.setProperty(&quot;default.api.timeout.ms&quot;, &quot;240000&quot;);\n    properties.setProperty(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\n    properties.setProperty(&quot;auto.commit&quot;, &quot;false&quot;);\n    properties.setProperty(&quot;specific.avro.reader&quot;, &quot;true&quot;);\n    properties.setProperty(&quot;ssl.endpoint.identification.algorithm&quot;, &quot;&quot;);\n    properties.setProperty(&quot;basic.auth.credentials.source&quot;, &quot;SASL_INHERIT&quot;);\n    properties.setProperty(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-512&quot;);\n    properties.setProperty(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\n    properties.setProperty(\n            &quot;sasl.jaas.config&quot;,\n            &quot;org.apache.kafka.common.security.scram.ScramLoginModule required username=\\&quot;&quot;\n                    + user\n                    + &quot;\\&quot; password=\\&quot;&quot;\n                    + password\n                    + &quot;\\&quot;;&quot;);\n\n    return properties;\n}\n</code></pre>\n<p>TestConsumer:</p>\n<pre><code>public class TestConsumer&lt;T&gt; {\n\nprivate final String topic;\nprivate final Consumer&lt;String, T&gt; consumer;\n\npublic TestConsumer(String topic, Properties properties) {\n    this.topic = topic;\n    this.consumer = new KafkaConsumer&lt;&gt;(properties);\n    consumer.subscribe(List.of(topic));\n    consumer.poll(Duration.ofMillis(0));\n}\n\npublic T consumeEvent(Predicate&lt;T&gt; expectedEvent) {\n    ConsumerRecords&lt;String, T&gt; records = consumer.poll(Duration.ofMillis(100000));\n    consumer.commitSync();\n    for (ConsumerRecord&lt;String, T&gt; record : records.records(topic)) {\n        if (expectedEvent.test(record.value()))\n            return record.value();\n    }\n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>Usage:</p>\n<pre><code>T message = new TestConsumer&lt;&gt;(&quot;my_topic&quot;, consumerProperties).consumeEvent(m -&gt; m != null);\n</code></pre>\n<p>And I always get null because nothing is polled. What can be a reason?</p>\n<p>I have tried to change properties with different combinations including <em>auto.offset.reset</em>, <em>max.poll.records</em>, <em>group.id</em> and others however nothing helped.</p>\n<p>Appreciate any solutions!</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2162507,"reputation":10271,"user_id":1916362,"accept_rate":89,"display_name":"James Monger"},"score":2,"creation_date":1476467277,"post_id":40049145,"comment_id":67374303,"body_markdown":"Please give an example input, and the example output.","body":"Please give an example input, and the example output."},{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":1,"creation_date":1476467568,"post_id":40049145,"comment_id":67374469,"body_markdown":"You are adding the numbers from the left to the right instead of vice versa. You are not adding the carry from the previous stage. You use `int` for sum, but your input can be &gt; 5000 digits?","body":"You are adding the numbers from the left to the right instead of vice versa. You are not adding the carry from the previous stage. You use <code>int</code> for sum, but your input can be &gt; 5000 digits?"}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1476467446,"creation_date":1476467446,"answer_id":40049219,"question_id":40049145,"body_markdown":"For the sake of comprehension of the question\r\n\r\nyour method&#39;s name is **addition**\r\n\r\nyou are trying to do a **power operation** but the result is stored in a variable named **multiplication**...\r\n\r\nthere is more than one reason why that code doesnt work...\r\n\r\n\r\nYou need to do something like \r\n\r\n    Integer.parseInt(string)\r\n\r\nin order to parse strings to integers \r\n\r\nhere the [oficial doc][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-","title":"Adding numbers which are stored in string variables","body":"<p>For the sake of comprehension of the question</p>\n\n<p>your method's name is <strong>addition</strong></p>\n\n<p>you are trying to do a <strong>power operation</strong> but the result is stored in a variable named <strong>multiplication</strong>...</p>\n\n<p>there is more than one reason why that code doesnt work...</p>\n\n<p>You need to do something like </p>\n\n<pre><code>Integer.parseInt(string)\n</code></pre>\n\n<p>in order to parse strings to integers </p>\n\n<p>here the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\" rel=\"nofollow\">oficial doc</a></p>\n"},{"tags":[],"owner":{"account_id":1032580,"reputation":4177,"user_id":1040597,"accept_rate":91,"display_name":"Saeid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476469749,"creation_date":1476467684,"answer_id":40049290,"question_id":40049145,"body_markdown":"The purpose of this question is to add the numbers in the string form. You should not try to convert the strings to integers. The description says the length of the numbers could be up to 5100 digits. So the numbers are simply too big to be stored in integers and doubles. For instance In the following line:\r\n\r\n    double multiplier = Math.pow(10, num1.length() - 1);\r\n\r\nYou are trying to store 10^5100 in a `double`. In [IEEE 754 binary floating point standard][1] a `double` can a store number from `&#177;4.94065645841246544e-324` to `&#177;1.79769313486231570e+308`. So your number won&#39;t fit. It will instead turn into `Infinity`. Even if it fits in `double` it won&#39;t be exact and you will encounter some errors in your follow up calculations.\r\n\r\nBecause the question specifies not to use BigInteger or similar libraries you should try and implement string addition yourself.\r\n\r\nThis is pretty straightforward just implement the exact algorithm you follow when you add two numbers on paper.\r\n\r\n\r\n  [1]: http://754r.ucbtest.org/standards/754xml.html","title":"Adding numbers which are stored in string variables","body":"<p>The purpose of this question is to add the numbers in the string form. You should not try to convert the strings to integers. The description says the length of the numbers could be up to 5100 digits. So the numbers are simply too big to be stored in integers and doubles. For instance In the following line:</p>\n\n<pre><code>double multiplier = Math.pow(10, num1.length() - 1);\n</code></pre>\n\n<p>You are trying to store 10^5100 in a <code>double</code>. In <a href=\"http://754r.ucbtest.org/standards/754xml.html\" rel=\"nofollow\">IEEE 754 binary floating point standard</a> a <code>double</code> can a store number from <code>±4.94065645841246544e-324</code> to <code>±1.79769313486231570e+308</code>. So your number won't fit. It will instead turn into <code>Infinity</code>. Even if it fits in <code>double</code> it won't be exact and you will encounter some errors in your follow up calculations.</p>\n\n<p>Because the question specifies not to use BigInteger or similar libraries you should try and implement string addition yourself.</p>\n\n<p>This is pretty straightforward just implement the exact algorithm you follow when you add two numbers on paper.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1476644352,"creation_date":1476467769,"answer_id":40049314,"question_id":40049145,"body_markdown":" &gt; **You must not** use any built-in BigInteger library or **convert the inputs to integer** directly.\r\n\r\nNote that you are adding two integers of **up to 5100** digits each. That is not that max *value*, but the max *number of digits*.\r\n\r\nAn `int` (your `sum` variable) cannot hold values like that. `BigInteger` can, but you&#39;re not allowed to use it.\r\n\r\nSo, **add the numbers like you would on paper**: Add last digits, write lower digit of the sum as last digit of result, and carry-over a one if needed. Repeat for second-last digit, third-last digit, etc. until done.\r\n\r\nSince the sum will be at least the number of digits of the longest input value, and *may* be one longer, you should allocate a `char[]` of length of longest input plus one. When done, construct final string using [`String(char[] value, int offset, int count)`][1], with an offset of 0 or 1 as needed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-char:A-int-int-","title":"Adding numbers which are stored in string variables","body":"<blockquote>\n  <p><strong>You must not</strong> use any built-in BigInteger library or <strong>convert the inputs to integer</strong> directly.</p>\n</blockquote>\n\n<p>Note that you are adding two integers of <strong>up to 5100</strong> digits each. That is not that max <em>value</em>, but the max <em>number of digits</em>.</p>\n\n<p>An <code>int</code> (your <code>sum</code> variable) cannot hold values like that. <code>BigInteger</code> can, but you're not allowed to use it.</p>\n\n<p>So, <strong>add the numbers like you would on paper</strong>: Add last digits, write lower digit of the sum as last digit of result, and carry-over a one if needed. Repeat for second-last digit, third-last digit, etc. until done.</p>\n\n<p>Since the sum will be at least the number of digits of the longest input value, and <em>may</em> be one longer, you should allocate a <code>char[]</code> of length of longest input plus one. When done, construct final string using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-char:A-int-int-\" rel=\"nofollow\"><code>String(char[] value, int offset, int count)</code></a>, with an offset of 0 or 1 as needed.</p>\n"},{"tags":[],"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476470865,"creation_date":1476469311,"answer_id":40049737,"question_id":40049145,"body_markdown":"Here is working example of adding two strings without using `BigInteger` using char array as intermediate container. The point why `double` can&#39;t be used has been explained on @Tempux answer. Here the logic is similar to how adding two numbers on paper works. \r\n\r\n    public String addStrings(String num1, String num2) {\r\n        int carry = 0;\r\n        int m = num1.length(), n = num2.length();\r\n        int len = m &lt; n ? n : m;\r\n        char[] res = new char[len + 1]; // length is maxLen + 1 incase of carry in adding most significant digits\r\n        for(int i = 0; i &lt;= len ; i++) {\r\n            int a = i &lt; m ? (num1.charAt(m - i - 1) - &#39;0&#39;) : 0;\r\n            int b = i &lt; n ? (num2.charAt(n - i - 1) - &#39;0&#39;) : 0;\r\n            res[len - i] = (char)((a + b + carry) % 10 + &#39;0&#39;);\r\n            carry = (a + b + carry) / 10;\r\n        }\r\n        return res[0] == &#39;0&#39; ? new String(res, 1, len) : new String(res, 0, len + 1);\r\n    }\r\n\r\nThis snippet is relatively small and precise because here I didn&#39;t play with immutable `String` which is complicated/messy and yield larger code. Also one intuition is - there is no way of getting larger output than `max(num1_length, num2_length) + 1` which makes the implementation simple.","title":"Adding numbers which are stored in string variables","body":"<p>Here is working example of adding two strings without using <code>BigInteger</code> using char array as intermediate container. The point why <code>double</code> can't be used has been explained on @Tempux answer. Here the logic is similar to how adding two numbers on paper works. </p>\n\n<pre><code>public String addStrings(String num1, String num2) {\n    int carry = 0;\n    int m = num1.length(), n = num2.length();\n    int len = m &lt; n ? n : m;\n    char[] res = new char[len + 1]; // length is maxLen + 1 incase of carry in adding most significant digits\n    for(int i = 0; i &lt;= len ; i++) {\n        int a = i &lt; m ? (num1.charAt(m - i - 1) - '0') : 0;\n        int b = i &lt; n ? (num2.charAt(n - i - 1) - '0') : 0;\n        res[len - i] = (char)((a + b + carry) % 10 + '0');\n        carry = (a + b + carry) / 10;\n    }\n    return res[0] == '0' ? new String(res, 1, len) : new String(res, 0, len + 1);\n}\n</code></pre>\n\n<p>This snippet is relatively small and precise because here I didn't play with immutable <code>String</code> which is complicated/messy and yield larger code. Also one intuition is - there is no way of getting larger output than <code>max(num1_length, num2_length) + 1</code> which makes the implementation simple.</p>\n"},{"tags":[],"owner":{"account_id":7023181,"reputation":381,"user_id":5381656,"display_name":"Saurabh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476472441,"creation_date":1476470282,"answer_id":40049993,"question_id":40049145,"body_markdown":"&gt; You have to addition as you do on paper\r\n\r\nyou can&#39;t use BigInteger and the String Length is 5100, so you can not use int or long for addition.\r\nYou have to use simple addition as we do on paper.\r\n\r\n    class AddString\r\n    {\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString s1 = &quot;98799932345&quot;;\r\n\t\tString s2 = &quot;99998783456&quot;;\r\n\t\t//long n1 = Long.parseLong(s1);\r\n\t\t//long n2 = Long.parseLong(s2);\r\n\t\tSystem.out.println(addStrings(s1,s2));\r\n\t\t//System.out.println(n1+n2);\r\n\t}\r\n\tpublic static String addStrings(String num1, String num2) {\r\n        StringBuilder ans = new StringBuilder(&quot;&quot;);\r\n        int n = num1.length();\r\n        int m = num2.length();\r\n        int carry = 0,sum;\r\n        int i, j;\r\n        for(i = n-1,j=m-1; i&gt;=0&amp;&amp;j&gt;=0;i--,j--){\r\n        \tint a = Integer.parseInt(&quot;&quot;+num1.charAt(i));\r\n        \tint b = Integer.parseInt(&quot;&quot;+num2.charAt(j));\r\n        \t//System.out.println(a+&quot; &quot;+b);\r\n        \tsum = carry + a + b;\r\n        \tans.append(&quot;&quot;+(sum%10));\r\n        \tcarry = sum/10;\r\n        }\r\n        if(i&gt;=0){\r\n        \tfor(;i&gt;=0;i--){\r\n        \t\tint a = Integer.parseInt(&quot;&quot;+num1.charAt(i));\r\n        \t\tsum = carry + a;\r\n        \t\tans.append(&quot;&quot;+(sum%10));\r\n        \t    carry = sum/10;\r\n        \t}\r\n        }\r\n        if(j&gt;=0){\r\n        \tfor(;j&gt;=0;j--){\r\n        \t\tint a = Integer.parseInt(&quot;&quot;+num2.charAt(j));\r\n        \t\tsum = carry + a;\r\n        \t\tans.append(&quot;&quot;+(sum%10));\r\n        \t    carry = sum/10;\r\n        \t}\r\n        }\r\n        if(carry!=0)ans.append(&quot;&quot;+carry);\r\n        return ans.reverse().toString();\r\n    }   \r\n    }\r\n\r\nYou can run the above code and see it works in all cases, this could be written in more compact way, but that would have been difficult  to understand for you.\r\n\r\nHope it helps!","title":"Adding numbers which are stored in string variables","body":"<blockquote>\n  <p>You have to addition as you do on paper</p>\n</blockquote>\n\n<p>you can't use BigInteger and the String Length is 5100, so you can not use int or long for addition.\nYou have to use simple addition as we do on paper.</p>\n\n<pre><code>class AddString\n{\npublic static void main (String[] args) throws java.lang.Exception\n{\n    String s1 = \"98799932345\";\n    String s2 = \"99998783456\";\n    //long n1 = Long.parseLong(s1);\n    //long n2 = Long.parseLong(s2);\n    System.out.println(addStrings(s1,s2));\n    //System.out.println(n1+n2);\n}\npublic static String addStrings(String num1, String num2) {\n    StringBuilder ans = new StringBuilder(\"\");\n    int n = num1.length();\n    int m = num2.length();\n    int carry = 0,sum;\n    int i, j;\n    for(i = n-1,j=m-1; i&gt;=0&amp;&amp;j&gt;=0;i--,j--){\n        int a = Integer.parseInt(\"\"+num1.charAt(i));\n        int b = Integer.parseInt(\"\"+num2.charAt(j));\n        //System.out.println(a+\" \"+b);\n        sum = carry + a + b;\n        ans.append(\"\"+(sum%10));\n        carry = sum/10;\n    }\n    if(i&gt;=0){\n        for(;i&gt;=0;i--){\n            int a = Integer.parseInt(\"\"+num1.charAt(i));\n            sum = carry + a;\n            ans.append(\"\"+(sum%10));\n            carry = sum/10;\n        }\n    }\n    if(j&gt;=0){\n        for(;j&gt;=0;j--){\n            int a = Integer.parseInt(\"\"+num2.charAt(j));\n            sum = carry + a;\n            ans.append(\"\"+(sum%10));\n            carry = sum/10;\n        }\n    }\n    if(carry!=0)ans.append(\"\"+carry);\n    return ans.reverse().toString();\n}   \n}\n</code></pre>\n\n<p>You can run the above code and see it works in all cases, this could be written in more compact way, but that would have been difficult  to understand for you.</p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":9439696,"reputation":51,"user_id":7020611,"display_name":"Behnam Nikbakht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476475094,"creation_date":1476475094,"answer_id":40051082,"question_id":40049145,"body_markdown":"you can use this one that is independent of Integer or BigInteger methods\r\n\r\n    public String addStrings(String num1, String num2) {\r\n    \tint l1 = num1.length();\r\n    \tint l2 = num2.length();\r\n    \tif(l1==0){\r\n    \t\treturn num2;\r\n    \t}\r\n    \tif(l2==0){\r\n    \t\treturn num1;\r\n    \t}\r\n    \tStringBuffer sb = new StringBuffer();\r\n    \tint minLen = Math.min(l1, l2);\r\n    \tint carry = 0;\r\n    \tfor(int i=0;i&lt;minLen;i++){\r\n    \t\tint ind = l1-i-1;\r\n    \t\tint c1 = num1.charAt(ind)-48;\r\n    \t\tind = l2-i-1;\r\n    \t\tint c2 = num2.charAt(ind)-48;\r\n    \t\tint add = c1+c2+carry;\r\n    \t\tcarry = add/10;\r\n    \t\tadd = add%10;\r\n    \t\tsb.append(add);\r\n    \t}\r\n    \t\r\n    \tString longer = null;\r\n    \tif(l1&lt;l2){\r\n    \t\tlonger = num2;\r\n    \t}\r\n    \telse if(l1&gt;l2){\r\n    \t\tlonger = num1;\r\n    \t}\r\n    \tif(longer!=null){\r\n    \t\tint l = longer.length();\r\n    \t\tfor(int i=minLen;i&lt;l;i++){\r\n    \t\t\tint c1 = longer.charAt(l-i-1)-48;\r\n    \t\t\tint add = c1+carry;\r\n    \t\t\tcarry = add/10;\r\n    \t\t\tadd = add%10;\r\n    \t\t\tsb.append(add);\r\n    \t\t}\r\n    \t}\r\n    \treturn sb.reverse().toString();\r\n    }","title":"Adding numbers which are stored in string variables","body":"<p>you can use this one that is independent of Integer or BigInteger methods</p>\n\n<pre><code>public String addStrings(String num1, String num2) {\n    int l1 = num1.length();\n    int l2 = num2.length();\n    if(l1==0){\n        return num2;\n    }\n    if(l2==0){\n        return num1;\n    }\n    StringBuffer sb = new StringBuffer();\n    int minLen = Math.min(l1, l2);\n    int carry = 0;\n    for(int i=0;i&lt;minLen;i++){\n        int ind = l1-i-1;\n        int c1 = num1.charAt(ind)-48;\n        ind = l2-i-1;\n        int c2 = num2.charAt(ind)-48;\n        int add = c1+c2+carry;\n        carry = add/10;\n        add = add%10;\n        sb.append(add);\n    }\n\n    String longer = null;\n    if(l1&lt;l2){\n        longer = num2;\n    }\n    else if(l1&gt;l2){\n        longer = num1;\n    }\n    if(longer!=null){\n        int l = longer.length();\n        for(int i=minLen;i&lt;l;i++){\n            int c1 = longer.charAt(l-i-1)-48;\n            int add = c1+carry;\n            carry = add/10;\n            add = add%10;\n            sb.append(add);\n        }\n    }\n    return sb.reverse().toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476564741,"creation_date":1476475459,"answer_id":40051173,"question_id":40049145,"body_markdown":"Previous solutions have excess code.  This is all you need.\r\n\r\n\tclass ShortStringSolution {\r\n\t\tstatic String add(String num1Str, String num2Str) {\r\n\t\t\treturn Long.toString(convert(num1Str) + convert(num2Str));\r\n\t\t}\r\n\t\r\n\t\tstatic long convert(String numStr) {\r\n\t\t\tlong num = 0;\r\n\t\t\tfor(int i = 0; i &lt; numStr.length(); i++) {\r\n\t\t\t\tnum = num * 10 + (numStr.charAt(i) - &#39;0&#39;);\r\n\t\t\t}\r\n\t\t\treturn num;\r\n\t\t}\r\n\t}\r\n\r\n\tclass LongStringSolution {\r\n\t\r\n\t\tstatic String add(String numStr1, String numStr2) {\r\n\t\t\tStringBuilder result = new StringBuilder();\r\n\t\t\tint i = numStr1.length() - 1, j = numStr2.length() - 1, carry = 0;\r\n\t\t\twhile(i &gt;= 0 || j &gt;= 0) {\r\n\t\t\t\tif(i &gt;= 0) {\r\n\t\t\t\t\tcarry += numStr1.charAt(i--) - &#39;0&#39;;\r\n\t\t\t\t}\r\n\t\t\t\tif(j &gt;= 0) {\r\n\t\t\t\t\tcarry += numStr2.charAt(j--) - &#39;0&#39;;\r\n\t\t\t\t}\r\n\t\t\t\tif(carry &gt; 9) {\r\n\t\t\t\t\tresult.append(carry - 10);\r\n\t\t\t\t\tcarry = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.append(carry);\r\n\t\t\t\t\tcarry = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(carry &gt; 0) {\r\n\t\t\t\tresult.append(carry);\r\n\t\t\t}\r\n\t\t\treturn result.reverse().toString();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class Solution {\r\n\t\r\n\t\tstatic String add(String numStr1, String numStr2) {\r\n\t\t\tif(numStr1.length() &lt; 19 &amp;&amp; numStr2.length() &lt; 19) {\r\n\t\t\t\treturn ShortStringSolution.add(numStr1, numStr2);\r\n\t\t\t}\r\n\t\t\treturn LongStringSolution.add(numStr1, numStr2);\r\n\t\t}\r\n\t}","title":"Adding numbers which are stored in string variables","body":"<p>Previous solutions have excess code.  This is all you need.</p>\n\n<pre><code>class ShortStringSolution {\n    static String add(String num1Str, String num2Str) {\n        return Long.toString(convert(num1Str) + convert(num2Str));\n    }\n\n    static long convert(String numStr) {\n        long num = 0;\n        for(int i = 0; i &lt; numStr.length(); i++) {\n            num = num * 10 + (numStr.charAt(i) - '0');\n        }\n        return num;\n    }\n}\n\nclass LongStringSolution {\n\n    static String add(String numStr1, String numStr2) {\n        StringBuilder result = new StringBuilder();\n        int i = numStr1.length() - 1, j = numStr2.length() - 1, carry = 0;\n        while(i &gt;= 0 || j &gt;= 0) {\n            if(i &gt;= 0) {\n                carry += numStr1.charAt(i--) - '0';\n            }\n            if(j &gt;= 0) {\n                carry += numStr2.charAt(j--) - '0';\n            }\n            if(carry &gt; 9) {\n                result.append(carry - 10);\n                carry = 1;\n            } else {\n                result.append(carry);\n                carry = 0;\n            }\n        }\n        if(carry &gt; 0) {\n            result.append(carry);\n        }\n        return result.reverse().toString();\n    }\n}\n\npublic class Solution {\n\n    static String add(String numStr1, String numStr2) {\n        if(numStr1.length() &lt; 19 &amp;&amp; numStr2.length() &lt; 19) {\n            return ShortStringSolution.add(numStr1, numStr2);\n        }\n        return LongStringSolution.add(numStr1, numStr2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6595121,"reputation":1,"user_id":5095176,"display_name":"Nirav Ravani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677134283,"creation_date":1677134283,"answer_id":75541358,"question_id":40049145,"body_markdown":"The method takes two string inputs representing non-negative integers and returns the sum of the integers as a string. The algorithm works by iterating through the digits of the input strings from right to left, adding each digit and any carryover from the previous addition, and appending the resulting sum to a `StringBuilder`. Once both input strings have been fully processed, any remaining carryover is appended to the output string. Finally, the string is reversed to produce the correct output order.\r\n\r\nHope this will solve the issue.! \r\n\r\n    public string AddStrings(string num1, string num2) \r\n    {\r\n        int i = num1.Length - 1, j = num2.Length - 1, carry = 0;\r\n        StringBuilder sb = new StringBuilder();\r\n        while (i &gt;= 0 || j &gt;= 0 || carry != 0) {\r\n            int x = i &gt;= 0 ? num1[i--] - &#39;0&#39; : 0;\r\n            int y = j &gt;= 0 ? num2[j--] - &#39;0&#39; : 0;\r\n            int sum = x + y + carry;\r\n            sb.Append(sum % 10);\r\n            carry = sum / 10;\r\n        }\r\n        char[] chars = sb.ToString().ToCharArray();\r\n        Array.Reverse(chars);\r\n        return new string(chars);\r\n    }\r\n\r\n","title":"Adding numbers which are stored in string variables","body":"<p>The method takes two string inputs representing non-negative integers and returns the sum of the integers as a string. The algorithm works by iterating through the digits of the input strings from right to left, adding each digit and any carryover from the previous addition, and appending the resulting sum to a <code>StringBuilder</code>. Once both input strings have been fully processed, any remaining carryover is appended to the output string. Finally, the string is reversed to produce the correct output order.</p>\n<p>Hope this will solve the issue.!</p>\n<pre><code>public string AddStrings(string num1, string num2) \n{\n    int i = num1.Length - 1, j = num2.Length - 1, carry = 0;\n    StringBuilder sb = new StringBuilder();\n    while (i &gt;= 0 || j &gt;= 0 || carry != 0) {\n        int x = i &gt;= 0 ? num1[i--] - '0' : 0;\n        int y = j &gt;= 0 ? num2[j--] - '0' : 0;\n        int sum = x + y + carry;\n        sb.Append(sum % 10);\n        carry = sum / 10;\n    }\n    char[] chars = sb.ToString().ToCharArray();\n    Array.Reverse(chars);\n    return new string(chars);\n}\n</code></pre>\n"}],"owner":{"account_id":7472487,"reputation":1202,"user_id":5679985,"accept_rate":46,"display_name":"Human Cyborg Relations"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40049314,"answer_count":8,"score":1,"last_activity_date":1677134283,"creation_date":1476467185,"question_id":40049145,"body_markdown":"Given two non-negative numbers num1 and num2 represented as strings, return the sum of num1 and num2.\r\n\r\nThe length of both num1 and num2 is less than 5100.\r\n\r\nBoth num1 and num2 contain only digits 0-9.\r\n\r\nBoth num1 and num2 do not contain any leading zeros.\r\n\r\nYou must not use any built-in BigInteger library or convert the inputs to integer directly.\r\n\r\nI tried my solution but it doesn&#39;t work. Suggestions?\r\n\r\n    public class Solution {\r\n        public String addStrings(String num1, String num2) {\r\n            double multiplier = Math.pow(10, num1.length() - 1);\r\n            int sum = 0;\r\n        \r\n            for (int i = 0; i &lt; num1.length(); i++){\r\n                sum += ((((int) num1.charAt(i)) - 48) * multiplier);\r\n                multiplier /= 10;\r\n            }\r\n        \r\n            multiplier = Math.pow(10, num2.length() - 1);\r\n        \r\n            for (int i = 0; i &lt; num2.length(); i++){\r\n                sum += ((((int) num2.charAt(i)) - 48) * multiplier);\r\n                multiplier /= 10;\r\n            }\r\n        \r\n            return &quot;&quot; + sum;\r\n        }    \r\n    }","title":"Adding numbers which are stored in string variables","body":"<p>Given two non-negative numbers num1 and num2 represented as strings, return the sum of num1 and num2.</p>\n\n<p>The length of both num1 and num2 is less than 5100.</p>\n\n<p>Both num1 and num2 contain only digits 0-9.</p>\n\n<p>Both num1 and num2 do not contain any leading zeros.</p>\n\n<p>You must not use any built-in BigInteger library or convert the inputs to integer directly.</p>\n\n<p>I tried my solution but it doesn't work. Suggestions?</p>\n\n<pre><code>public class Solution {\n    public String addStrings(String num1, String num2) {\n        double multiplier = Math.pow(10, num1.length() - 1);\n        int sum = 0;\n\n        for (int i = 0; i &lt; num1.length(); i++){\n            sum += ((((int) num1.charAt(i)) - 48) * multiplier);\n            multiplier /= 10;\n        }\n\n        multiplier = Math.pow(10, num2.length() - 1);\n\n        for (int i = 0; i &lt; num2.length(); i++){\n            sum += ((((int) num2.charAt(i)) - 48) * multiplier);\n            multiplier /= 10;\n        }\n\n        return \"\" + sum;\n    }    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677133964,"creation_date":1677133964,"answer_id":75541315,"question_id":75518582,"body_markdown":"ObjectMapper scan your set and get methods. So you should not use method like getCards and getGameCards. Because of these methods your json is generated not correct. You must change your GameCards class like that.\r\n\r\n    public class GameCards implements Serializable {\r\n\r\n    private List&lt;Card&gt; gameDeck = new ArrayList&lt;&gt;();  \r\n    \r\n    public GameCards() {\r\n    }\r\n    \r\n    public GameCards(int numberOfDecks) {  \r\n        \r\n        this.gameDeck = GameCards.initiateDeck(numberOfDecks);\r\n    }\r\n    \r\n    \r\n    public static List&lt;Card&gt; initiateDeck(int numberOfDecks) {\r\n        \r\n        \r\n        int loop =numberOfDecks;\r\n        Kleur kleuren[] = Kleur.values();\r\n        Waarde waarden[] = Waarde.values();\r\n        List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n        \r\n        while (loop &gt; 0) {\r\n            \r\n            for(Kleur kleur: kleuren) {\r\n                if (kleur == Kleur.achterkant) {\r\n                    continue;\r\n                }\r\n                for( Waarde waarde: waarden) {\r\n                    if (waarde == Waarde.achterkant) {\r\n                        continue;\r\n                    }\r\n                    Card card = new Card(kleur, waarde);\r\n                    cards.add(card);\r\n                }\r\n            }\r\n            loop--;   // loop met &#233;&#233;n verlagen als er &#233;&#233;n compleet deck is toegevoegd\r\n        }\r\n        Collections.shuffle(cards);\r\n        return cards;\r\n        \r\n        \r\n    }\r\n\r\n    public  List&lt;Card&gt; getGameDeck(){\r\n        return this.gameDeck;\r\n    }\r\n\r\n    public  void setGameDeck(){\r\n        return this.gameDeck;\r\n    }\r\n\r\n    public Card pullCard() {\r\n        \r\n        Card card = null; ;\r\n        \r\n        card = this.gameDeck.get(1); // kies de bovenste kaart van het geschudde deck\r\n        this.gameDeck.remove(1);     //en verwijder deze uit de deck\r\n        return card;                 //geef deze kaart aan bv een speler of dealer\r\n\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;GameCards [gameDeck=&quot; + gameDeck + &quot;]&quot;;\r\n    }\r\n}","title":"Bug? Jackson Object mapper adds object at the end of Objectlist","body":"<p>ObjectMapper scan your set and get methods. So you should not use method like getCards and getGameCards. Because of these methods your json is generated not correct. You must change your GameCards class like that.</p>\n<pre><code>public class GameCards implements Serializable {\n\nprivate List&lt;Card&gt; gameDeck = new ArrayList&lt;&gt;();  \n\npublic GameCards() {\n}\n\npublic GameCards(int numberOfDecks) {  \n    \n    this.gameDeck = GameCards.initiateDeck(numberOfDecks);\n}\n\n\npublic static List&lt;Card&gt; initiateDeck(int numberOfDecks) {\n    \n    \n    int loop =numberOfDecks;\n    Kleur kleuren[] = Kleur.values();\n    Waarde waarden[] = Waarde.values();\n    List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n    \n    while (loop &gt; 0) {\n        \n        for(Kleur kleur: kleuren) {\n            if (kleur == Kleur.achterkant) {\n                continue;\n            }\n            for( Waarde waarde: waarden) {\n                if (waarde == Waarde.achterkant) {\n                    continue;\n                }\n                Card card = new Card(kleur, waarde);\n                cards.add(card);\n            }\n        }\n        loop--;   // loop met één verlagen als er één compleet deck is toegevoegd\n    }\n    Collections.shuffle(cards);\n    return cards;\n    \n    \n}\n\npublic  List&lt;Card&gt; getGameDeck(){\n    return this.gameDeck;\n}\n\npublic  void setGameDeck(){\n    return this.gameDeck;\n}\n\npublic Card pullCard() {\n    \n    Card card = null; ;\n    \n    card = this.gameDeck.get(1); // kies de bovenste kaart van het geschudde deck\n    this.gameDeck.remove(1);     //en verwijder deze uit de deck\n    return card;                 //geef deze kaart aan bv een speler of dealer\n\n}\n\n@Override\npublic String toString() {\n    return &quot;GameCards [gameDeck=&quot; + gameDeck + &quot;]&quot;;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":12138588,"reputation":155,"user_id":8863254,"display_name":"M.Koops"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541315,"answer_count":1,"score":0,"last_activity_date":1677133964,"creation_date":1676972003,"question_id":75518582,"body_markdown":"My application has an object GameCards, that contains a card-deck ( shuffled, based on two normal card decks).\r\nI store it as a string, via a converter that calls jackson objectMapper.\r\n\r\nThe object before I store it looks like this:\r\n```\r\n[gameDeck=[Card [kleur=harten, waarde=_8], Card [kleur=schoppen, waarde=vrouw], Card [kleur=harten, waarde=heer], Card [kleur=harten, waarde=_5], Card [kleur=schoppen, waarde=_9], Card [kleur=harten, waarde=boer], Card [kleur=harten, waarde=_3], Card [kleur=klaver, waarde=_4], Card [kleur=ruiten, waarde=aas], Card [kleur=ruiten, waarde=_4], Card [kleur=schoppen, waarde=_3], Card [kleur=ruiten, waarde=heer], Card [kleur=ruiten, waarde=_5], Card [kleur=harten, waarde=_4], Card [kleur=schoppen, waarde=_9], Card [kleur=klaver, waarde=_5], Card [kleur=ruiten, waarde=_5], Card [kleur=klaver, waarde=_9], Card [kleur=schoppen, waarde=_8], Card [kleur=harten, waarde=aas], Card [kleur=ruiten, waarde=aas], Card [kleur=harten, waarde=vrouw], Card [kleur=ruiten, waarde=_2], Card [kleur=ruiten, waarde=vrouw], Card [kleur=schoppen, waarde=_7], Card [kleur=schoppen, waarde=_7], Card [kleur=harten, waarde=_6], Card [kleur=schoppen, waarde=_4], Card [kleur=schoppen, waarde=vrouw], Card [kleur=schoppen, waarde=boer], Card [kleur=harten, waarde=vrouw], Card [kleur=klaver, waarde=boer], Card [kleur=klaver, waarde=_6], Card [kleur=ruiten, waarde=_6], Card [kleur=harten, waarde=_9], Card [kleur=schoppen, waarde=heer], Card [kleur=ruiten, waarde=_7], Card [kleur=schoppen, waarde=_2], Card [kleur=ruiten, waarde=boer], Card [kleur=schoppen, waarde=_5], Card [kleur=schoppen, waarde=heer], Card [kleur=schoppen, waarde=aas], Card [kleur=harten, waarde=_3], Card [kleur=ruiten, waarde=_2], Card [kleur=ruiten, waarde=_8], Card [kleur=schoppen, waarde=_6], Card [kleur=ruiten, waarde=_4], Card [kleur=harten, waarde=boer], Card [kleur=harten, waarde=_8], Card [kleur=klaver, waarde=_8], Card [kleur=klaver, waarde=_3], Card [kleur=klaver, waarde=_7], Card [kleur=ruiten, waarde=_7], Card [kleur=ruiten, waarde=vrouw], Card [kleur=schoppen, waarde=boer], Card [kleur=harten, waarde=_5], Card [kleur=schoppen, waarde=_6], Card [kleur=klaver, waarde=_2], Card [kleur=harten, waarde=_4], Card [kleur=schoppen, waarde=_2], Card [kleur=klaver, waarde=vrouw], Card [kleur=klaver, waarde=_2], Card [kleur=harten, waarde=_2], Card [kleur=klaver, waarde=heer], Card [kleur=klaver, waarde=_7], Card [kleur=harten, waarde=_9], Card [kleur=ruiten, waarde=_6], Card [kleur=klaver, waarde=aas], Card [kleur=klaver, waarde=_4], Card [kleur=ruiten, waarde=heer], Card [kleur=schoppen, waarde=_3], Card [kleur=klaver, waarde=aas], Card [kleur=ruiten, waarde=_3], Card [kleur=klaver, waarde=_6], Card [kleur=klaver, waarde=_5], Card [kleur=schoppen, waarde=_8], Card [kleur=harten, waarde=aas], Card [kleur=harten, waarde=heer], Card [kleur=klaver, waarde=_8], Card [kleur=ruiten, waarde=_8], Card [kleur=schoppen, waarde=_5], Card [kleur=ruiten, waarde=_3], Card [kleur=klaver, waarde=_9], Card [kleur=ruiten, waarde=boer], Card [kleur=schoppen, waarde=_4]]]\r\n```\r\nit is converted into this json ( Note that an Object Card is added at the beginning ( actually the second card from the gameCards object is placed as a separste card before the gameCards Object... that should not be there ....):\r\n```\r\n{&quot;card&quot;:{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},&quot;gameCards&quot;:[{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_4&quot;}]}\r\n```\r\nI use this converter. ( The println output is what I showed above.)\r\n```\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\nimport nl.hu.bep2.casino.blackjack.domain.GameCards;\r\n\r\nimport javax.persistence.AttributeConverter;\r\nimport javax.persistence.Converter;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n@Converter\r\npublic class CardListConverter implements AttributeConverter&lt;GameCards, String&gt; {\r\n\t\r\n\tGameCards gameCards = new GameCards();\r\n\t@Override\r\n\tpublic String convertToDatabaseColumn(GameCards gameCards) {\r\n\t\tSystem.out.println(&quot;%%%%$$$$$%%%%%###############$$$$$$$$$$$$$$$&quot;);\r\n\t\tSystem.out.println(&quot;CardListConverter to db is aangeroepen!!! voor gameCards &quot; + gameCards);\r\n\t  \tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t   \r\n\t    String gameCardsJson = null;\r\n\t    try {\r\n\t        gameCardsJson = mapper.writeValueAsString(gameCards);\r\n\t        \r\n\t        System.out.println(&quot;dit maakt de mapper er van:&quot; + gameCardsJson);\r\n\t    } catch (final JsonProcessingException e) {\r\n\t    \tSystem.out.println(&quot;CardListConverter To DB Kolom geeft error&quot;+ e);\r\n\t    }\r\n\t    return gameCardsJson;\r\n\t}\r\n\t  \r\n\t@Override\r\n\tpublic GameCards convertToEntityAttribute(String gameCardsJson) {\r\n\t\r\n\t\t// System.out.println(&quot;CardListConverter to Entity is aangeroepen!!! voor gameCardsJson &quot; + gameCardsJson);\r\n\t\tif (gameCardsJson == null) {\r\n\t        System.out.println(&quot;gameCardsJson is empty!!!&quot;);\r\n\t    }\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t   \r\n\t    try {\r\n\t    \t\r\n\t        return  mapper.readValue(gameCardsJson, GameCards.class );\r\n\t        \t\r\n\t    } catch (final IOException e) {\r\n\t    \tSystem.out.println(&quot;CardListConverter To Entity (from json) geeft error&quot;+ e);\r\n\t       \r\n\t    }\r\n\t\r\n\t    return null;\r\n\t}\r\n}\r\n\t\r\n```\r\n\r\nDoes anyone what goes wrong here?\r\n\r\nThe GameCards object:\r\n```\r\npublic class GameCards implements Serializable {\r\n\r\n\tprivate List&lt;Card&gt; gameDeck = new ArrayList&lt;&gt;();  \r\n\t\r\n\tpublic GameCards() {\r\n\t}\r\n\t\r\n\tpublic GameCards(int numberOfDecks) {  \r\n\t\t\r\n\t\tthis.gameDeck = GameCards.initiateDeck(numberOfDecks);\r\n\t}\r\n\t\r\n\t\r\n\tpublic static List&lt;Card&gt; initiateDeck(int numberOfDecks) {\r\n\t\t\r\n\t\t\r\n\t\tint loop =numberOfDecks;\r\n\t\tKleur kleuren[] = Kleur.values();\r\n\t\tWaarde waarden[] = Waarde.values();\r\n\t\tList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\twhile (loop &gt; 0) {\r\n\t\t\t\r\n\t\t\tfor(Kleur kleur: kleuren) {\r\n\t\t\t\tif (kleur == Kleur.achterkant) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tfor( Waarde waarde: waarden) {\r\n\t\t\t\t\tif (waarde == Waarde.achterkant) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tCard card = new Card(kleur, waarde);\r\n\t\t\t\t\tcards.add(card);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tloop--;   // loop met &#233;&#233;n verlagen als er &#233;&#233;n compleet deck is toegevoegd\r\n\t\t}\r\n\t\tCollections.shuffle(cards);\r\n\t\treturn cards;\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tpublic  List&lt;Card&gt; getGameCards(){\r\n\t\treturn this.gameDeck;\r\n\t}\r\n\r\n\tpublic Card getCard() {\r\n\t\t\r\n\t\tCard card = null; ;\r\n\t\t\r\n\t\tcard = this.gameDeck.get(1); // kies de bovenste kaart van het geschudde deck\r\n\t\tthis.gameDeck.remove(1);     //en verwijder deze uit de deck\r\n\t\treturn card;\t\t\t\t //geef deze kaart aan bv een speler of dealer\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;GameCards [gameDeck=&quot; + gameDeck + &quot;]&quot;;\r\n\t}\r\n```\r\nThe card:\r\n ```\r\npublic class Card implements Serializable  {\r\n\tprivate Kleur kleur;\r\n\tprivate Waarde waarde;\r\n\t\r\n\tpublic Card() {\r\n\t}\r\n\t\r\n\t\r\n\tpublic Card(Kleur kleur, Waarde waarde) {\r\n\t\tthis.kleur = kleur;\r\n\t\tthis.waarde = waarde;\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic Kleur getKleur() {\r\n\t\treturn kleur;\r\n\t}\r\n\r\n\tpublic void setKleur(Kleur kleur) {\r\n\t\tthis.kleur = kleur;\r\n\t}\r\n\r\n\tpublic Waarde getWaarde() {\r\n\t\treturn waarde;\r\n\t}\r\n\r\n\tpublic void setWaarde(Waarde waarde) {\r\n\t\tthis.waarde = waarde;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Card [kleur=&quot; + kleur + &quot;, waarde=&quot; + waarde + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Bug? Jackson Object mapper adds object at the end of Objectlist","body":"<p>My application has an object GameCards, that contains a card-deck ( shuffled, based on two normal card decks).\nI store it as a string, via a converter that calls jackson objectMapper.</p>\n<p>The object before I store it looks like this:</p>\n<pre><code>[gameDeck=[Card [kleur=harten, waarde=_8], Card [kleur=schoppen, waarde=vrouw], Card [kleur=harten, waarde=heer], Card [kleur=harten, waarde=_5], Card [kleur=schoppen, waarde=_9], Card [kleur=harten, waarde=boer], Card [kleur=harten, waarde=_3], Card [kleur=klaver, waarde=_4], Card [kleur=ruiten, waarde=aas], Card [kleur=ruiten, waarde=_4], Card [kleur=schoppen, waarde=_3], Card [kleur=ruiten, waarde=heer], Card [kleur=ruiten, waarde=_5], Card [kleur=harten, waarde=_4], Card [kleur=schoppen, waarde=_9], Card [kleur=klaver, waarde=_5], Card [kleur=ruiten, waarde=_5], Card [kleur=klaver, waarde=_9], Card [kleur=schoppen, waarde=_8], Card [kleur=harten, waarde=aas], Card [kleur=ruiten, waarde=aas], Card [kleur=harten, waarde=vrouw], Card [kleur=ruiten, waarde=_2], Card [kleur=ruiten, waarde=vrouw], Card [kleur=schoppen, waarde=_7], Card [kleur=schoppen, waarde=_7], Card [kleur=harten, waarde=_6], Card [kleur=schoppen, waarde=_4], Card [kleur=schoppen, waarde=vrouw], Card [kleur=schoppen, waarde=boer], Card [kleur=harten, waarde=vrouw], Card [kleur=klaver, waarde=boer], Card [kleur=klaver, waarde=_6], Card [kleur=ruiten, waarde=_6], Card [kleur=harten, waarde=_9], Card [kleur=schoppen, waarde=heer], Card [kleur=ruiten, waarde=_7], Card [kleur=schoppen, waarde=_2], Card [kleur=ruiten, waarde=boer], Card [kleur=schoppen, waarde=_5], Card [kleur=schoppen, waarde=heer], Card [kleur=schoppen, waarde=aas], Card [kleur=harten, waarde=_3], Card [kleur=ruiten, waarde=_2], Card [kleur=ruiten, waarde=_8], Card [kleur=schoppen, waarde=_6], Card [kleur=ruiten, waarde=_4], Card [kleur=harten, waarde=boer], Card [kleur=harten, waarde=_8], Card [kleur=klaver, waarde=_8], Card [kleur=klaver, waarde=_3], Card [kleur=klaver, waarde=_7], Card [kleur=ruiten, waarde=_7], Card [kleur=ruiten, waarde=vrouw], Card [kleur=schoppen, waarde=boer], Card [kleur=harten, waarde=_5], Card [kleur=schoppen, waarde=_6], Card [kleur=klaver, waarde=_2], Card [kleur=harten, waarde=_4], Card [kleur=schoppen, waarde=_2], Card [kleur=klaver, waarde=vrouw], Card [kleur=klaver, waarde=_2], Card [kleur=harten, waarde=_2], Card [kleur=klaver, waarde=heer], Card [kleur=klaver, waarde=_7], Card [kleur=harten, waarde=_9], Card [kleur=ruiten, waarde=_6], Card [kleur=klaver, waarde=aas], Card [kleur=klaver, waarde=_4], Card [kleur=ruiten, waarde=heer], Card [kleur=schoppen, waarde=_3], Card [kleur=klaver, waarde=aas], Card [kleur=ruiten, waarde=_3], Card [kleur=klaver, waarde=_6], Card [kleur=klaver, waarde=_5], Card [kleur=schoppen, waarde=_8], Card [kleur=harten, waarde=aas], Card [kleur=harten, waarde=heer], Card [kleur=klaver, waarde=_8], Card [kleur=ruiten, waarde=_8], Card [kleur=schoppen, waarde=_5], Card [kleur=ruiten, waarde=_3], Card [kleur=klaver, waarde=_9], Card [kleur=ruiten, waarde=boer], Card [kleur=schoppen, waarde=_4]]]\n</code></pre>\n<p>it is converted into this json ( Note that an Object Card is added at the beginning ( actually the second card from the gameCards object is placed as a separste card before the gameCards Object... that should not be there ....):</p>\n<pre><code>{&quot;card&quot;:{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},&quot;gameCards&quot;:[{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;vrouw&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_2&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_7&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_4&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_6&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;aas&quot;},{&quot;kleur&quot;:&quot;harten&quot;,&quot;waarde&quot;:&quot;heer&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_8&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_5&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;_3&quot;},{&quot;kleur&quot;:&quot;klaver&quot;,&quot;waarde&quot;:&quot;_9&quot;},{&quot;kleur&quot;:&quot;ruiten&quot;,&quot;waarde&quot;:&quot;boer&quot;},{&quot;kleur&quot;:&quot;schoppen&quot;,&quot;waarde&quot;:&quot;_4&quot;}]}\n</code></pre>\n<p>I use this converter. ( The println output is what I showed above.)</p>\n<pre><code>import java.io.IOException;\nimport java.util.List;\n\nimport nl.hu.bep2.casino.blackjack.domain.GameCards;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Converter\npublic class CardListConverter implements AttributeConverter&lt;GameCards, String&gt; {\n    \n    GameCards gameCards = new GameCards();\n    @Override\n    public String convertToDatabaseColumn(GameCards gameCards) {\n        System.out.println(&quot;%%%%$$$$$%%%%%###############$$$$$$$$$$$$$$$&quot;);\n        System.out.println(&quot;CardListConverter to db is aangeroepen!!! voor gameCards &quot; + gameCards);\n        final ObjectMapper mapper = new ObjectMapper();\n       \n        String gameCardsJson = null;\n        try {\n            gameCardsJson = mapper.writeValueAsString(gameCards);\n            \n            System.out.println(&quot;dit maakt de mapper er van:&quot; + gameCardsJson);\n        } catch (final JsonProcessingException e) {\n            System.out.println(&quot;CardListConverter To DB Kolom geeft error&quot;+ e);\n        }\n        return gameCardsJson;\n    }\n      \n    @Override\n    public GameCards convertToEntityAttribute(String gameCardsJson) {\n    \n        // System.out.println(&quot;CardListConverter to Entity is aangeroepen!!! voor gameCardsJson &quot; + gameCardsJson);\n        if (gameCardsJson == null) {\n            System.out.println(&quot;gameCardsJson is empty!!!&quot;);\n        }\n        final ObjectMapper mapper = new ObjectMapper();\n       \n        try {\n            \n            return  mapper.readValue(gameCardsJson, GameCards.class );\n                \n        } catch (final IOException e) {\n            System.out.println(&quot;CardListConverter To Entity (from json) geeft error&quot;+ e);\n           \n        }\n    \n        return null;\n    }\n}\n    \n</code></pre>\n<p>Does anyone what goes wrong here?</p>\n<p>The GameCards object:</p>\n<pre><code>public class GameCards implements Serializable {\n\n    private List&lt;Card&gt; gameDeck = new ArrayList&lt;&gt;();  \n    \n    public GameCards() {\n    }\n    \n    public GameCards(int numberOfDecks) {  \n        \n        this.gameDeck = GameCards.initiateDeck(numberOfDecks);\n    }\n    \n    \n    public static List&lt;Card&gt; initiateDeck(int numberOfDecks) {\n        \n        \n        int loop =numberOfDecks;\n        Kleur kleuren[] = Kleur.values();\n        Waarde waarden[] = Waarde.values();\n        List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n        \n        while (loop &gt; 0) {\n            \n            for(Kleur kleur: kleuren) {\n                if (kleur == Kleur.achterkant) {\n                    continue;\n                }\n                for( Waarde waarde: waarden) {\n                    if (waarde == Waarde.achterkant) {\n                        continue;\n                    }\n                    Card card = new Card(kleur, waarde);\n                    cards.add(card);\n                }\n            }\n            loop--;   // loop met één verlagen als er één compleet deck is toegevoegd\n        }\n        Collections.shuffle(cards);\n        return cards;\n        \n        \n    }\n\n    public  List&lt;Card&gt; getGameCards(){\n        return this.gameDeck;\n    }\n\n    public Card getCard() {\n        \n        Card card = null; ;\n        \n        card = this.gameDeck.get(1); // kies de bovenste kaart van het geschudde deck\n        this.gameDeck.remove(1);     //en verwijder deze uit de deck\n        return card;                 //geef deze kaart aan bv een speler of dealer\n\n    }\n\n    @Override\n    public String toString() {\n        return &quot;GameCards [gameDeck=&quot; + gameDeck + &quot;]&quot;;\n    }\n</code></pre>\n<p>The card:</p>\n<pre><code>public class Card implements Serializable  {\n   private Kleur kleur;\n   private Waarde waarde;\n   \n   public Card() {\n   }\n   \n   \n   public Card(Kleur kleur, Waarde waarde) {\n       this.kleur = kleur;\n       this.waarde = waarde;\n       // TODO Auto-generated constructor stub\n   }\n\n   public Kleur getKleur() {\n       return kleur;\n   }\n\n   public void setKleur(Kleur kleur) {\n       this.kleur = kleur;\n   }\n\n   public Waarde getWaarde() {\n       return waarde;\n   }\n\n   public void setWaarde(Waarde waarde) {\n       this.waarde = waarde;\n   }\n\n   @Override\n   public String toString() {\n       return &quot;Card [kleur=&quot; + kleur + &quot;, waarde=&quot; + waarde + &quot;]&quot;;\n   }\n   \n   \n\n}\n</code></pre>\n"},{"tags":["java","android","android-external-storage","android-internal-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677152263,"post_id":75541309,"comment_id":133283188,"body_markdown":"`File exportDir = new File(des, &quot;&quot;);` What is des? You should add the code that calls your asynctask and make very clear which path you use. Also: which operation is not allowed? Dont let us gues!","body":"<code>File exportDir = new File(des, &quot;&quot;);</code> What is des? You should add the code that calls your asynctask and make very clear which path you use. Also: which operation is not allowed? Dont let us gues!"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677152384,"post_id":75541309,"comment_id":133283221,"body_markdown":"`if (!exportDir.exists()) {\n            exportDir.mkdirs();\n        }` Do not blindly believe that the directory will be created. Better: `if (!exportDir.exists()) {\n            if ( !exportDir.mkdirs()) return false;\n        }` And better do that before you call the asynctask.","body":"<code>if (!exportDir.exists()) {             exportDir.mkdirs();         }</code> Do not blindly believe that the directory will be created. Better: <code>if (!exportDir.exists()) {             if ( !exportDir.mkdirs()) return false;         }</code> And better do that before you call the asynctask."}],"owner":{"account_id":27857591,"reputation":1,"user_id":21270779,"display_name":"TPCODL ODISHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677133911,"creation_date":1677133911,"question_id":75541309,"body_markdown":"I try to copy Sqlite DB of an application to external storage. In android below 10 it is working perfectly but in android 11 and above it is not working. Getting error **operation not allowed**  Any suggestion will be helpful for me.  \r\n\r\nI have tried below sample.\r\n\r\nprivate class ExportDatabaseFileTask extends AsyncTask&lt;File, Void, Boolean&gt; {\r\n        private final ProgressDialog dialog = new ProgressDialog(MainDashBoard.this);\r\n\r\n        protected void onPreExecute() {\r\n            this.dialog.setMessage(&quot;Exporting database...&quot;);\r\n            this.dialog.show();\r\n        }\r\n\r\n        // automatically done on worker thread (separate from UI thread)\r\n        protected Boolean doInBackground(final File... args) {\r\n            File des=args[0];\r\n            File dbFile;\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\r\n                dbFile = new File(db.getDbPath(MainDashBoard.this)+&quot;/&quot;+&quot;MOC.db&quot;);\r\n\r\n            }else {\r\n                dbFile = new File(db.getDbPath(MainDashBoard.this)+&quot;/&quot;+&quot;MOC.db&quot;);\r\n            }\r\n            File exportDir = new File(des, &quot;&quot;);\r\n\r\n            if (!exportDir.exists()) {\r\n                exportDir.mkdirs();\r\n            }\r\n            SimpleDateFormat s = new SimpleDateFormat(&quot;dd-MM-yyy_hh:mm:ss&quot;);\r\n            String format = s.format(new Date());\r\n\r\n            String localDBName = &quot;SMRD_&quot; + &quot;Rishi&quot; + &quot;_&quot; + format + &quot;.db&quot;;\r\n            File file = new File(exportDir, localDBName.trim());\r\n\r\n            try {\r\n                //file.createNewFile();\r\n                this.copyFile(dbFile, file);\r\n                return true;\r\n            } catch (IOException e) {\r\n                Log.e(&quot;mypck&quot;, e.getMessage(), e);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // can use UI thread here\r\n        protected void onPostExecute(final Boolean success) {\r\n            if (this.dialog.isShowing()) {\r\n                this.dialog.dismiss();\r\n            }\r\n            if (success) {\r\n                Toast.makeText(MainDashBoard.this, &quot;Export successful!&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(MainDashBoard.this, &quot;Export failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n        void copyFile(File src, File dst) throws IOException {\r\n            FileChannel inChannel = new FileInputStream(src).getChannel();\r\n            FileChannel outChannel = new FileOutputStream(dst).getChannel();\r\n            try {\r\n                inChannel.transferTo(0, inChannel.size(), outChannel);\r\n            } finally {\r\n                if (inChannel != null)\r\n                    inChannel.close();\r\n                if (outChannel != null)\r\n                    outChannel.close();\r\n            }\r\n        }\r\n    }","title":"How to copy Sqlite Db of an application to external storage in android 11","body":"<p>I try to copy Sqlite DB of an application to external storage. In android below 10 it is working perfectly but in android 11 and above it is not working. Getting error <strong>operation not allowed</strong>  Any suggestion will be helpful for me.</p>\n<p>I have tried below sample.</p>\n<p>private class ExportDatabaseFileTask extends AsyncTask&lt;File, Void, Boolean&gt; {\nprivate final ProgressDialog dialog = new ProgressDialog(MainDashBoard.this);</p>\n<pre><code>    protected void onPreExecute() {\n        this.dialog.setMessage(&quot;Exporting database...&quot;);\n        this.dialog.show();\n    }\n\n    // automatically done on worker thread (separate from UI thread)\n    protected Boolean doInBackground(final File... args) {\n        File des=args[0];\n        File dbFile;\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\n            dbFile = new File(db.getDbPath(MainDashBoard.this)+&quot;/&quot;+&quot;MOC.db&quot;);\n\n        }else {\n            dbFile = new File(db.getDbPath(MainDashBoard.this)+&quot;/&quot;+&quot;MOC.db&quot;);\n        }\n        File exportDir = new File(des, &quot;&quot;);\n\n        if (!exportDir.exists()) {\n            exportDir.mkdirs();\n        }\n        SimpleDateFormat s = new SimpleDateFormat(&quot;dd-MM-yyy_hh:mm:ss&quot;);\n        String format = s.format(new Date());\n\n        String localDBName = &quot;SMRD_&quot; + &quot;Rishi&quot; + &quot;_&quot; + format + &quot;.db&quot;;\n        File file = new File(exportDir, localDBName.trim());\n\n        try {\n            //file.createNewFile();\n            this.copyFile(dbFile, file);\n            return true;\n        } catch (IOException e) {\n            Log.e(&quot;mypck&quot;, e.getMessage(), e);\n            return false;\n        }\n    }\n\n    // can use UI thread here\n    protected void onPostExecute(final Boolean success) {\n        if (this.dialog.isShowing()) {\n            this.dialog.dismiss();\n        }\n        if (success) {\n            Toast.makeText(MainDashBoard.this, &quot;Export successful!&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(MainDashBoard.this, &quot;Export failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    void copyFile(File src, File dst) throws IOException {\n        FileChannel inChannel = new FileInputStream(src).getChannel();\n        FileChannel outChannel = new FileOutputStream(dst).getChannel();\n        try {\n            inChannel.transferTo(0, inChannel.size(), outChannel);\n        } finally {\n            if (inChannel != null)\n                inChannel.close();\n            if (outChannel != null)\n                outChannel.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676970322,"post_id":75517805,"comment_id":133239179,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":12849024,"reputation":1,"user_id":17650222,"display_name":"Viktor Kondratsiuk"},"score":0,"creation_date":1676970854,"post_id":75517805,"comment_id":133239329,"body_markdown":"@Alex Mamo This code works well. Its just an example how im sending notifications and here i want to implement functionality of deleting messages from device by timeout.","body":"@Alex Mamo This code works well. Its just an example how im sending notifications and here i want to implement functionality of deleting messages from device by timeout."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1676971509,"post_id":75517805,"comment_id":133239579,"body_markdown":"The description of your question is vague. Please state what exactly is the problem you are facing and what you have tried","body":"The description of your question is vague. Please state what exactly is the problem you are facing and what you have tried"},{"owner":{"account_id":12849024,"reputation":1,"user_id":17650222,"display_name":"Viktor Kondratsiuk"},"score":0,"creation_date":1676982046,"post_id":75517805,"comment_id":133242754,"body_markdown":"@Noah I&#39;ve tried to add `tag` or/and `collapse-key` in `setNotification(Android Notification.builder()`, but it works not the way i need: it removes previous message, when the newer is sent and i need to remove all sent messages from device by timeout.","body":"@Noah I&#39;ve tried to add <code>tag</code> or/and <code>collapse-key</code> in <code>setNotification(Android Notification.builder()</code>, but it works not the way i need: it removes previous message, when the newer is sent and i need to remove all sent messages from device by timeout."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1677008131,"post_id":75517805,"comment_id":133251267,"body_markdown":"Now, edit your question with more detail so that people can help you","body":"Now, edit your question with more detail so that people can help you"},{"owner":{"account_id":12849024,"reputation":1,"user_id":17650222,"display_name":"Viktor Kondratsiuk"},"score":0,"creation_date":1677053282,"post_id":75517805,"comment_id":133259316,"body_markdown":"@Noah Witch details do you need? I really don&#39;t uderstand.. I wrote detailed question with code and what i&#39;ve tried to solve this problem.. I will be glad to add more info, but tell me please, what else do you need? I need to delete push messages from device from server side by timeout, like `collapse_id` do (as i wrote before), but not replacing message with another, i need just delete all messages if time comes.","body":"@Noah Witch details do you need? I really don&#39;t uderstand.. I wrote detailed question with code and what i&#39;ve tried to solve this problem.. I will be glad to add more info, but tell me please, what else do you need? I need to delete push messages from device from server side by timeout, like <code>collapse_id</code> do (as i wrote before), but not replacing message with another, i need just delete all messages if time comes."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1677068955,"post_id":75517805,"comment_id":133263635,"body_markdown":"@ViktorKondratsiuk, I can&#39;t solve the problem because the code should only include a well-formatted code, of only the parts that is giving you issue, remove the rest","body":"@ViktorKondratsiuk, I can&#39;t solve the problem because the code should only include a well-formatted code, of only the parts that is giving you issue, remove the rest"}],"owner":{"account_id":12849024,"reputation":1,"user_id":17650222,"display_name":"Viktor Kondratsiuk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677133854,"creation_date":1676967330,"question_id":75517805,"body_markdown":"Have written service, witch sends push messages on IOS and Android devices and delete messages(after 1 hour), if device is switched off. But i need also to delete messages, if its already shown on device (in case, when user, for example, haven`t unlocked device for a long time and to prevent showing too many messages). How i build push message:\r\n\r\n```\r\nNotification notify = Notification.builder()\r\n        .setTitle(folder.getName())\r\n        .setBody(&quot;Открыть поступивший документ&quot;)\r\n        .build();\r\nMessage msg = Message.builder()\r\n        .setToken(device.getDevice_id())\r\n        .setNotification(notify)\r\n        .putData(&quot;folderOid&quot;, folder.name())\r\n        .putData(&quot;documentOid&quot;, documentOid)\r\n        .setAndroidConfig(AndroidConfig.builder()\r\n                .setTtl(3600000)\r\n                .build())\r\n        /* настройки для ios */\r\n        .setApnsConfig(ApnsConfig.builder()\r\n                .putHeader(&quot;apns-priority&quot;, &quot;5&quot;)\r\n                .putHeader(&quot;apns-expiration&quot;, &quot;3600000&quot;)\r\n                .setAps(Aps.builder()\r\n                        .setMutableContent(true)\r\n                        .setBadge(1)\r\n                        .build())\r\n                .build())\r\n        .build();            \r\n```\r\n\r\nI expect the messages to be deleted from device by time out of 1 hour.\r\nI&#39;ve tried to add `tag` or/and `collapse-key` in `setNotification(Android Notification.builder()`, but it works not the way i need: it removes previous message, when the newer is sent and i need to remove all sent messages from device by timeout.\r\n\r\nAs i&#39;ve read here https://documentation.onesignal.com/docs/remove-notifications-and-ttl there is no other way to remove(not replacing) notification without using for Android: `Service Extension` from Android API or `setting Badge Count to 0`, for IOS: Apple native `removeDeliveredNotifications(withIdentifiers:) method and getDeliveredNotifications(completionHandler:) method` to target the expired notifications and remove them.\r\n","title":"Delete push message (Firebase) from device (Android and IOS) if already shown","body":"<p>Have written service, witch sends push messages on IOS and Android devices and delete messages(after 1 hour), if device is switched off. But i need also to delete messages, if its already shown on device (in case, when user, for example, haven`t unlocked device for a long time and to prevent showing too many messages). How i build push message:</p>\n<pre><code>Notification notify = Notification.builder()\n        .setTitle(folder.getName())\n        .setBody(&quot;Открыть поступивший документ&quot;)\n        .build();\nMessage msg = Message.builder()\n        .setToken(device.getDevice_id())\n        .setNotification(notify)\n        .putData(&quot;folderOid&quot;, folder.name())\n        .putData(&quot;documentOid&quot;, documentOid)\n        .setAndroidConfig(AndroidConfig.builder()\n                .setTtl(3600000)\n                .build())\n        /* настройки для ios */\n        .setApnsConfig(ApnsConfig.builder()\n                .putHeader(&quot;apns-priority&quot;, &quot;5&quot;)\n                .putHeader(&quot;apns-expiration&quot;, &quot;3600000&quot;)\n                .setAps(Aps.builder()\n                        .setMutableContent(true)\n                        .setBadge(1)\n                        .build())\n                .build())\n        .build();            \n</code></pre>\n<p>I expect the messages to be deleted from device by time out of 1 hour.\nI've tried to add <code>tag</code> or/and <code>collapse-key</code> in <code>setNotification(Android Notification.builder()</code>, but it works not the way i need: it removes previous message, when the newer is sent and i need to remove all sent messages from device by timeout.</p>\n<p>As i've read here <a href=\"https://documentation.onesignal.com/docs/remove-notifications-and-ttl\" rel=\"nofollow noreferrer\">https://documentation.onesignal.com/docs/remove-notifications-and-ttl</a> there is no other way to remove(not replacing) notification without using for Android: <code>Service Extension</code> from Android API or <code>setting Badge Count to 0</code>, for IOS: Apple native <code>removeDeliveredNotifications(withIdentifiers:) method and getDeliveredNotifications(completionHandler:) method</code> to target the expired notifications and remove them.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6685637,"reputation":739,"user_id":5156999,"display_name":"Santosh b"},"score":0,"creation_date":1677133021,"post_id":75541190,"comment_id":133278423,"body_markdown":"Its a good practise to declare them private but its not mandatory though.","body":"Its a good practise to declare them private but its not mandatory though."},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1677134181,"post_id":75541190,"comment_id":133278598,"body_markdown":"_&quot;I would like to know if any difference is there between default and private dependent field except the access modifier differences&quot;_ - default is package private, so any class in the same package can modify the field if it&#39;s not private.","body":"<i>&quot;I would like to know if any difference is there between default and private dependent field except the access modifier differences&quot;</i> - default is package private, so any class in the same package can modify the field if it&#39;s not private."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677133134,"creation_date":1677133134,"answer_id":75541224,"question_id":75541190,"body_markdown":"Either. There is no requirement from Spring creators to make it `private` or not. The autowiring works regardless of the visibility modifiers.\r\n\r\nThere is though a good practice to [encapsulate][1] the fields. The framework choice is not relevant. It is a common practice to define the autowired fields as `private`, though it is not mandatory.\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/java_encapsulation.htm","title":"Should dependent objects be private in spring boot?","body":"<p>Either. There is no requirement from Spring creators to make it <code>private</code> or not. The autowiring works regardless of the visibility modifiers.</p>\n<p>There is though a good practice to <a href=\"https://www.tutorialspoint.com/java/java_encapsulation.htm\" rel=\"nofollow noreferrer\">encapsulate</a> the fields. The framework choice is not relevant. It is a common practice to define the autowired fields as <code>private</code>, though it is not mandatory.</p>\n"},{"tags":[],"owner":{"account_id":27786104,"reputation":41,"user_id":21213520,"display_name":"Bikathi Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677133543,"creation_date":1677133543,"answer_id":75541274,"question_id":75541190,"body_markdown":"No it&#39;s not mandatory at all. It&#39;s just good practice to make them private. Though at times you may get scope errors when you annotate private methods with the `@Bean` annotation.\r\nBut for the injection, encapsulation is optional.","title":"Should dependent objects be private in spring boot?","body":"<p>No it's not mandatory at all. It's just good practice to make them private. Though at times you may get scope errors when you annotate private methods with the <code>@Bean</code> annotation.\nBut for the injection, encapsulation is optional.</p>\n"}],"owner":{"account_id":27789258,"reputation":11,"user_id":21216024,"display_name":"Kumarasamy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677164151,"answer_count":2,"score":0,"last_activity_date":1677133543,"creation_date":1677132875,"question_id":75541190,"body_markdown":"Is it mandatory to declare the dependent fields *private* in spring boot?\r\nFor example :\r\n\r\n```\r\nclass MyClass {\r\n\r\n    @Autowired\r\n    EmpService empService\r\n}\r\n```\r\n```\r\nclass MyClass {\r\n\r\n    @Autowired\r\n    private EmpService empService  \r\n}\r\n```\r\n\r\nWhich one is correct and why?\r\n\r\nBoth are working fine and I would like to know if any difference is there between default and private dependent field except the access modifier differences","title":"Should dependent objects be private in spring boot?","body":"<p>Is it mandatory to declare the dependent fields <em>private</em> in spring boot?\nFor example :</p>\n<pre><code>class MyClass {\n\n    @Autowired\n    EmpService empService\n}\n</code></pre>\n<pre><code>class MyClass {\n\n    @Autowired\n    private EmpService empService  \n}\n</code></pre>\n<p>Which one is correct and why?</p>\n<p>Both are working fine and I would like to know if any difference is there between default and private dependent field except the access modifier differences</p>\n"},{"tags":["java","jakarta-ee","open-liberty","microprofile"],"owner":{"account_id":10902579,"reputation":129,"user_id":8014445,"accept_rate":100,"display_name":"Vinagy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677133253,"creation_date":1676964513,"question_id":75517401,"body_markdown":"Microprofile allows you to expose metrics for your application, but common logic is placed in a separate repository which is added as a dependency to the POM.\r\n\r\nHow can I get the metrics for this common library which is included in all of our microservices?\r\n\r\nThe metrics for the microservice itself work and show up at the endpoint. I verified the code from the common library is actually called. It has the same annotation as used in the microservice (@Timed). It has the same dependency on microprofile metrics in the POM.\r\n\r\nFor the microservice, the metrics are enabled in the server.xml like so:\r\n```&lt;feature&gt;mpMetrics-3.0&lt;/feature&gt;```\r\nBut the common library does not have a server.xml since it is only ever used as a dependency and never deployed separately.\r\n\r\nEdit:\r\n\r\nI&#39;m thinking it has to do with creating the object in a Produces method. This does work however for my own custom interceptor, but it doesn&#39;t seem to pick up the @Timed from microprofile metrics.\r\n\r\n    @Produces\r\n    public RedisStore produceRedisStore(InterceptionFactory&lt;RedisStore&gt; factory) {\r\n    \treturn factory.createInterceptedInstance(\r\n    \t\t\tnew RedisStore(...));\r\n    }\r\n\r\nWhen making the RedisStore @ApplicationScoped, the metrics do show up. This verifies that it most likely has something to do with the @Produces method.","title":"Microprofile metrics on openliberty, how to get metrics for dependency which you control","body":"<p>Microprofile allows you to expose metrics for your application, but common logic is placed in a separate repository which is added as a dependency to the POM.</p>\n<p>How can I get the metrics for this common library which is included in all of our microservices?</p>\n<p>The metrics for the microservice itself work and show up at the endpoint. I verified the code from the common library is actually called. It has the same annotation as used in the microservice (@Timed). It has the same dependency on microprofile metrics in the POM.</p>\n<p>For the microservice, the metrics are enabled in the server.xml like so:\n<code>&lt;feature&gt;mpMetrics-3.0&lt;/feature&gt;</code>\nBut the common library does not have a server.xml since it is only ever used as a dependency and never deployed separately.</p>\n<p>Edit:</p>\n<p>I'm thinking it has to do with creating the object in a Produces method. This does work however for my own custom interceptor, but it doesn't seem to pick up the @Timed from microprofile metrics.</p>\n<pre><code>@Produces\npublic RedisStore produceRedisStore(InterceptionFactory&lt;RedisStore&gt; factory) {\n    return factory.createInterceptedInstance(\n            new RedisStore(...));\n}\n</code></pre>\n<p>When making the RedisStore @ApplicationScoped, the metrics do show up. This verifies that it most likely has something to do with the @Produces method.</p>\n"},{"tags":["java","rest","resttemplate"],"comments":[{"owner":{"account_id":876647,"reputation":1405,"user_id":44605,"accept_rate":75,"display_name":"AlexC"},"score":0,"creation_date":1549628531,"post_id":54592291,"comment_id":95980859,"body_markdown":"Add a logging/System.out before the new RestTemplate(...) call and output the URL generated.  Are you sure the dynamically generated URL is exactly the same as the URL you are testing with postman?","body":"Add a logging/System.out before the new RestTemplate(...) call and output the URL generated.  Are you sure the dynamically generated URL is exactly the same as the URL you are testing with postman?"},{"owner":{"account_id":12218581,"reputation":188,"user_id":8918241,"display_name":"MDDCoder25"},"score":0,"creation_date":1549628806,"post_id":54592291,"comment_id":95981034,"body_markdown":"Yes, that is what I did. I copied the URL from there to Postman and with the exact same URL it is working in Postman","body":"Yes, that is what I did. I copied the URL from there to Postman and with the exact same URL it is working in Postman"},{"owner":{"account_id":11097130,"reputation":514,"user_id":8146873,"display_name":"Dinesh Shekhawat"},"score":0,"creation_date":1549629495,"post_id":54592291,"comment_id":95981396,"body_markdown":"Can you show your API Code?","body":"Can you show your API Code?"},{"owner":{"account_id":14501361,"reputation":103,"user_id":10474434,"display_name":"MuCh"},"score":0,"creation_date":1662981742,"post_id":54592291,"comment_id":130124091,"body_markdown":"@MDDCoder25 Did you find out the solution for this issue? I am facing the same.","body":"@MDDCoder25 Did you find out the solution for this issue? I am facing the same."}],"answers":[{"tags":[],"owner":{"account_id":14833360,"reputation":803,"user_id":10712233,"display_name":"Victor Calatramas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549631698,"creation_date":1549631698,"answer_id":54593235,"question_id":54592291,"body_markdown":"Code `405 Method Not Allowed` means the HTTP verb (GET, POST, PUT, etc.) you use against this end-point is known but not accepted by the API.\r\n\r\nIf you can&#39;t post the details of your API as @Dinesh Singh Shekhawat suggested, I will first try to use Postman Code feature and get an automatically generated code for Java (OkHTTP or UniRest) of the request. You can find this option on the right part below the **Send** button. Copy this code and try to perform the request.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/354ZR.png\r\n\r\nThen compare this request with yours.\r\n\r\nYou can always use `HttpPut` instead of RestTemplate if it&#39;s not a requirement:\r\n\r\n```(java)\r\nHttpClient client = HttpClientBuilder.create().build();\r\nString url = &quot;http://fake/foobar/c/123&quot;;\r\n\r\nHttpHeaders headers = createHeader();\r\nHttpEntity&lt;Offer&gt; httpEntity = new HttpEntity&lt;&gt;(bodyEntity, headers);\r\nHttpPut httpPut = new HttpPut(url);\r\nhttpPut.setEntity(httpEntity);\r\n\r\nHttpResponse response = client.execute(httpPut);\r\n\r\n```","title":"Java - RestTemplate 405 Method Not Allowed Although Postman Call Works","body":"<p>Code <code>405 Method Not Allowed</code> means the HTTP verb (GET, POST, PUT, etc.) you use against this end-point is known but not accepted by the API.</p>\n\n<p>If you can't post the details of your API as @Dinesh Singh Shekhawat suggested, I will first try to use Postman Code feature and get an automatically generated code for Java (OkHTTP or UniRest) of the request. You can find this option on the right part below the <strong>Send</strong> button. Copy this code and try to perform the request.</p>\n\n<p><a href=\"https://i.stack.imgur.com/354ZR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/354ZR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then compare this request with yours.</p>\n\n<p>You can always use <code>HttpPut</code> instead of RestTemplate if it's not a requirement:</p>\n\n<pre><code>HttpClient client = HttpClientBuilder.create().build();\nString url = \"http://fake/foobar/c/123\";\n\nHttpHeaders headers = createHeader();\nHttpEntity&lt;Offer&gt; httpEntity = new HttpEntity&lt;&gt;(bodyEntity, headers);\nHttpPut httpPut = new HttpPut(url);\nhttpPut.setEntity(httpEntity);\n\nHttpResponse response = client.execute(httpPut);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4236032,"reputation":1546,"user_id":3467146,"display_name":"Ifta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622594380,"creation_date":1622594380,"answer_id":67797565,"question_id":54592291,"body_markdown":"I was facing the same problem. Later I printed the request and URL in the logs.\r\nI found that I was using a wrong endpoint. \r\nCan you please try to print the URL and the request in the logs and check if those are expected and correct?","title":"Java - RestTemplate 405 Method Not Allowed Although Postman Call Works","body":"<p>I was facing the same problem. Later I printed the request and URL in the logs.\nI found that I was using a wrong endpoint.\nCan you please try to print the URL and the request in the logs and check if those are expected and correct?</p>\n"},{"tags":[],"owner":{"account_id":431163,"reputation":486,"user_id":815052,"accept_rate":91,"display_name":"JPProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677133185,"creation_date":1677131308,"answer_id":75541021,"question_id":54592291,"body_markdown":"Just in case it helps someone else: I was encountering the same issue and for me it was just the issue of a trailing slash `/` on the URL. In insomnia (similar to postman) I had a trailing slash, in code I didn&#39;t. When I added the slash to my code everything worked.\r\n\r\nfailure: `http://localhost:8080/api/files`   \r\nsuccess: `http://localhost:8080/api/files/`\r\n\r\nOf course it could also be the other way around, so just double check the actual api definition.","title":"Java - RestTemplate 405 Method Not Allowed Although Postman Call Works","body":"<p>Just in case it helps someone else: I was encountering the same issue and for me it was just the issue of a trailing slash <code>/</code> on the URL. In insomnia (similar to postman) I had a trailing slash, in code I didn't. When I added the slash to my code everything worked.</p>\n<p>failure: <code>http://localhost:8080/api/files</code><br />\nsuccess: <code>http://localhost:8080/api/files/</code></p>\n<p>Of course it could also be the other way around, so just double check the actual api definition.</p>\n"}],"owner":{"account_id":12218581,"reputation":188,"user_id":8918241,"display_name":"MDDCoder25"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5385,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1677133185,"creation_date":1549628174,"question_id":54592291,"body_markdown":"I am experiencing a weird issue when working with RestTemplate. I&#39;m using a certain REST API and there I want to update something using PUT.\r\nThus, in e.g. Postman I am sending this request:\r\n\r\n    PUT http://fake/foobar/c/123 with a certain body\r\n\r\nThis update via Postman is successful. If I now execute the same call in Java via a `RestTemplate`, I am getting a 405 Method Not Allowed:\r\n\r\n\tHttpHeaders headers = createHeader();\r\n\tHttpEntity&lt;Offer&gt; httpEntity = new HttpEntity&lt;&gt;(bodyEntity, headers);\r\n\tString url = &quot;http://fake/foobar/c/123&quot;; //Created dynamically, but here pasted for sake of simplicity\r\n\tRestTemplate restTemplate = new RestTemplate(...);\r\n\tResponseEntity&lt;OfferResponse&gt; response = restTemplate.exchange(url, HttpMethod.PUT, httpEntity, OfferResponse.class);\r\n\t...\r\n\r\nI compared the URL again and again. If I copy the URL logged in the console and copy it to Postman, I can do the update successfully. I also compared the headers and everything. Everything is equal to how it is done via Postman.\r\n\r\nIs there any potential other reason for such a behavior (another reason than I am too stupid comparing the headers etc. and missing something)? Other PUT, POST calls etc. against this API are working fine, otherwise I would have assumed that there is a general problem with my usage of `RestTemplate`\r\n\r\n","title":"Java - RestTemplate 405 Method Not Allowed Although Postman Call Works","body":"<p>I am experiencing a weird issue when working with RestTemplate. I'm using a certain REST API and there I want to update something using PUT.\nThus, in e.g. Postman I am sending this request:</p>\n\n<pre><code>PUT http://fake/foobar/c/123 with a certain body\n</code></pre>\n\n<p>This update via Postman is successful. If I now execute the same call in Java via a <code>RestTemplate</code>, I am getting a 405 Method Not Allowed:</p>\n\n<pre><code>HttpHeaders headers = createHeader();\nHttpEntity&lt;Offer&gt; httpEntity = new HttpEntity&lt;&gt;(bodyEntity, headers);\nString url = \"http://fake/foobar/c/123\"; //Created dynamically, but here pasted for sake of simplicity\nRestTemplate restTemplate = new RestTemplate(...);\nResponseEntity&lt;OfferResponse&gt; response = restTemplate.exchange(url, HttpMethod.PUT, httpEntity, OfferResponse.class);\n...\n</code></pre>\n\n<p>I compared the URL again and again. If I copy the URL logged in the console and copy it to Postman, I can do the update successfully. I also compared the headers and everything. Everything is equal to how it is done via Postman.</p>\n\n<p>Is there any potential other reason for such a behavior (another reason than I am too stupid comparing the headers etc. and missing something)? Other PUT, POST calls etc. against this API are working fine, otherwise I would have assumed that there is a general problem with my usage of <code>RestTemplate</code></p>\n"},{"tags":["java","jpa","spring-data-jpa","properties","apache-commons-beanutils"],"owner":{"account_id":3705593,"reputation":2582,"user_id":3084228,"accept_rate":49,"display_name":"Junaid S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677133115,"creation_date":1676975344,"question_id":75519177,"body_markdown":"I have DB tables like below\r\n\r\n[![Composite Primary Key][1]][1]\r\n\r\n**Phone.java**\r\n\r\n    @Entity(name = &quot;Phone&quot;)\r\n    @Table(name = &quot;phone&quot;)\r\n    public class Phone {\r\n     \r\n        @Id\r\n        @Column(name = &quot;`number`&quot;)\r\n        private String number;\r\n     \r\n        @ManyToOne\r\n        @JoinColumns({\r\n            @JoinColumn(\r\n                name = &quot;company_id&quot;,\r\n                referencedColumnName = &quot;company_id&quot;),\r\n            @JoinColumn(\r\n                name = &quot;employee_number&quot;,\r\n                referencedColumnName = &quot;employee_number&quot;)\r\n        })\r\n        private Employee employee;\r\n     \r\n        // Getters and setters\r\n    }\r\n\r\nAnd for each table, we have a respective history table where we store history (create, update, and delete).\r\n\r\n**PhoneHistory.java**\r\n\r\n    @Entity(name = &quot;PhoneHistory&quot;)\r\n    @Table(name = &quot;phone_hst&quot;)\r\n    public class PhoneHistory {\r\n        @Id\r\n        @Column(name = &quot;history_key&quot;)\r\n        private long historyKey;\r\n     \r\n        @Basic\r\n        @Column(name = &quot;reason&quot;)\r\n        private String reason;\r\n     \r\n        @Basic\r\n        @Column(name = &quot;`number`&quot;)\r\n        private String number;\r\n     \r\n        @Basic\r\n        @Column(name = &quot;company_id&quot;)\r\n        private long companyId;\r\n\r\n        @Basic\r\n        @Column(name = &quot;employee_number&quot;)\r\n        private long employeeNumber;\r\n     \r\n        // Getters and setters\r\n    }\r\n\r\nNow on saving, updating, and deleting phone record(s), I am copying phone entities to respective history entities using `BeanUtils#copyProperties`. How can I use `BeanUtils` to copy the `employee` property of `Phone` to `companyId` and `employeeNumber` fields of `PhoneHistory`?\r\n\r\nI am using Spring Data JPA for entities and relationships.\r\n\r\n*Note*: This is a very simplified relationship and use-case. I have a more complex coding structure where were are using generics and other stuff. This is the simplified version of what I am looking for.\r\n\r\n  [1]: https://i.stack.imgur.com/tyc61.png","title":"Can BeanUtils.copyProperties copy object to properties?","body":"<p>I have DB tables like below</p>\n<p><a href=\"https://i.stack.imgur.com/tyc61.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tyc61.png\" alt=\"Composite Primary Key\" /></a></p>\n<p><strong>Phone.java</strong></p>\n<pre><code>@Entity(name = &quot;Phone&quot;)\n@Table(name = &quot;phone&quot;)\npublic class Phone {\n \n    @Id\n    @Column(name = &quot;`number`&quot;)\n    private String number;\n \n    @ManyToOne\n    @JoinColumns({\n        @JoinColumn(\n            name = &quot;company_id&quot;,\n            referencedColumnName = &quot;company_id&quot;),\n        @JoinColumn(\n            name = &quot;employee_number&quot;,\n            referencedColumnName = &quot;employee_number&quot;)\n    })\n    private Employee employee;\n \n    // Getters and setters\n}\n</code></pre>\n<p>And for each table, we have a respective history table where we store history (create, update, and delete).</p>\n<p><strong>PhoneHistory.java</strong></p>\n<pre><code>@Entity(name = &quot;PhoneHistory&quot;)\n@Table(name = &quot;phone_hst&quot;)\npublic class PhoneHistory {\n    @Id\n    @Column(name = &quot;history_key&quot;)\n    private long historyKey;\n \n    @Basic\n    @Column(name = &quot;reason&quot;)\n    private String reason;\n \n    @Basic\n    @Column(name = &quot;`number`&quot;)\n    private String number;\n \n    @Basic\n    @Column(name = &quot;company_id&quot;)\n    private long companyId;\n\n    @Basic\n    @Column(name = &quot;employee_number&quot;)\n    private long employeeNumber;\n \n    // Getters and setters\n}\n</code></pre>\n<p>Now on saving, updating, and deleting phone record(s), I am copying phone entities to respective history entities using <code>BeanUtils#copyProperties</code>. How can I use <code>BeanUtils</code> to copy the <code>employee</code> property of <code>Phone</code> to <code>companyId</code> and <code>employeeNumber</code> fields of <code>PhoneHistory</code>?</p>\n<p>I am using Spring Data JPA for entities and relationships.</p>\n<p><em>Note</em>: This is a very simplified relationship and use-case. I have a more complex coding structure where were are using generics and other stuff. This is the simplified version of what I am looking for.</p>\n"},{"tags":["java","mongodb","spring-boot","apache-poi"],"owner":{"account_id":27857407,"reputation":11,"user_id":21270624,"display_name":"Lazy Techie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677132691,"creation_date":1677132633,"question_id":75541159,"body_markdown":"Problem Statement:I have to save the uploaded excel xlsx sheet file in to MongoDB Binary Format as one of the property of mongodb collection document, so that later whenever i want, i can hit the db and get/fetch the saved xlsx excel binary file and convert to again my excel using java spring boot? \r\n\r\nI tried to convert the uploaded file to byte array and then converted to MongoDb binary and stored as a property of a mongodb collection/document but when retrieving it says stream not supported error","title":"Save Uploaded Excel file to MongoDB Binary format and Read back Mongodb binary to Excel in SpringBoot Java","body":"<p>Problem Statement:I have to save the uploaded excel xlsx sheet file in to MongoDB Binary Format as one of the property of mongodb collection document, so that later whenever i want, i can hit the db and get/fetch the saved xlsx excel binary file and convert to again my excel using java spring boot?</p>\n<p>I tried to convert the uploaded file to byte array and then converted to MongoDb binary and stored as a property of a mongodb collection/document but when retrieving it says stream not supported error</p>\n"},{"tags":["java","html","tags","jakarta-mail"],"comments":[{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":1,"creation_date":1677132373,"post_id":75541079,"comment_id":133278318,"body_markdown":"Some characters are reserved in HTML.\nIf you use the less than (&lt;) or greater than (&gt;) signs in your text, the browser might mix them with tags. \nSo to display the email along with tags you must use : \n`&lt;br&gt; &amp;#60;test1@test.in&amp;#62; ` \nFor more reference you can refer the link https://www.w3schools.com/html/html_entities.asp","body":"Some characters are reserved in HTML. If you use the less than (&lt;) or greater than (&gt;) signs in your text, the browser might mix them with tags.  So to display the email along with tags you must use :  <code>&lt;br&gt; &amp;#60;test1@test.in&amp;#62; </code>  For more reference you can refer the link <a href=\"https://www.w3schools.com/html/html_entities.asp\" rel=\"nofollow noreferrer\">w3schools.com/html/html_entities.asp</a>"}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677131947,"creation_date":1677131947,"question_id":75541079,"body_markdown":"While getting bounced email to inbox, the email address comes inside open and close tags &lt;&gt; and this I am unable to display in html page because it considers as html tag. How can I display the email address within tags?\r\n\r\n**In html I have an email address inside tag which I get from backend, but this is not getting displayed in Front end**\r\n```\r\n&lt;html&gt;\r\n &lt;head&gt;&lt;/head&gt;\r\n &lt;body&gt;\r\n  Reporting-MTA: dns; cloud-17.test.net \r\n  &lt;br&gt; X-Postfix-Queue-ID: 67A54900A01 \r\n  &lt;br&gt; X-Postfix-Sender: rfc822; test@test.in \r\n  &lt;br&gt; Arrival-Date: Wed, 22 Feb 2023 12:31:12 +0530 (IST) \r\n  &lt;br&gt; \r\n  &lt;br&gt; Final-Recipient: rfc822; test1@test.in \r\n  &lt;br&gt; Original-Recipient: rfc822;test1@test.in \r\n  &lt;br&gt; Action: failed \r\n  &lt;br&gt; Status: 5.2.2 \r\n  &lt;br&gt; Remote-MTA: dns; 127.0.0.1 \r\n  &lt;br&gt; Diagnostic-Code: smtp; 552 5.2.2 &lt;test1@test.in&gt;\r\n    Quota exceeded \r\n   &lt;br&gt; &lt;test1@test.in&gt; (mailbox for user is full) \r\n   &lt;br&gt; \r\n  \r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**Image - &lt;test1@test.in&gt; is not displayed**\r\n\r\n[![Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iv8Yf.png","title":"How to check if an email address exists between &lt;&gt; tags in java and display it in html page with tags?","body":"<p>While getting bounced email to inbox, the email address comes inside open and close tags &lt;&gt; and this I am unable to display in html page because it considers as html tag. How can I display the email address within tags?</p>\n<p><strong>In html I have an email address inside tag which I get from backend, but this is not getting displayed in Front end</strong></p>\n<pre><code>&lt;html&gt;\n &lt;head&gt;&lt;/head&gt;\n &lt;body&gt;\n  Reporting-MTA: dns; cloud-17.test.net \n  &lt;br&gt; X-Postfix-Queue-ID: 67A54900A01 \n  &lt;br&gt; X-Postfix-Sender: rfc822; test@test.in \n  &lt;br&gt; Arrival-Date: Wed, 22 Feb 2023 12:31:12 +0530 (IST) \n  &lt;br&gt; \n  &lt;br&gt; Final-Recipient: rfc822; test1@test.in \n  &lt;br&gt; Original-Recipient: rfc822;test1@test.in \n  &lt;br&gt; Action: failed \n  &lt;br&gt; Status: 5.2.2 \n  &lt;br&gt; Remote-MTA: dns; 127.0.0.1 \n  &lt;br&gt; Diagnostic-Code: smtp; 552 5.2.2 &lt;test1@test.in&gt;\n    Quota exceeded \n   &lt;br&gt; &lt;test1@test.in&gt; (mailbox for user is full) \n   &lt;br&gt; \n  \n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>Image - test1@test.in is not displayed</strong></p>\n<p><a href=\"https://i.stack.imgur.com/iv8Yf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iv8Yf.png\" alt=\"Image\" /></a></p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1673881106,"post_id":75135513,"comment_id":132590224,"body_markdown":"Surely your real data isn&#39;t ASCII? Otherwise, you simply use `(char) 97`, for example","body":"Surely your real data isn&#39;t ASCII? Otherwise, you simply use <code>(char) 97</code>, for example"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673881212,"post_id":75135513,"comment_id":132590262,"body_markdown":"In any case, without a secondary, reversed table, or joining. Your only other option is a full table scan over the values","body":"In any case, without a secondary, reversed table, or joining. Your only other option is a full table scan over the values"},{"owner":{"account_id":13939350,"reputation":273,"user_id":10065681,"display_name":"simon"},"score":0,"creation_date":1673882611,"post_id":75135513,"comment_id":132590714,"body_markdown":"@OneCricketeer thank you for your comment. Real data is not ASCII :)\n\nI don&#39;t understand the second comment. Are you saying: If I (for whatever reason) don&#39;t want a secondary table, then I need to perform a full table scan?\n\nFull table scan is in fact an option in my case (few records in table plus low event rate on the &quot;response&quot; topic). But it does not scale and therefore sounds like doing it wrongly.\n\nIf I went with a reversed table, how could I populate it? Do I need a second topic? Or is it possible to change the key before ingesting to GlobalKTable (without other side effects)?","body":"@OneCricketeer thank you for your comment. Real data is not ASCII :)  I don&#39;t understand the second comment. Are you saying: If I (for whatever reason) don&#39;t want a secondary table, then I need to perform a full table scan?  Full table scan is in fact an option in my case (few records in table plus low event rate on the &quot;response&quot; topic). But it does not scale and therefore sounds like doing it wrongly.  If I went with a reversed table, how could I populate it? Do I need a second topic? Or is it possible to change the key before ingesting to GlobalKTable (without other side effects)?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1673882724,"post_id":75135513,"comment_id":132590745,"body_markdown":"You can do something like `table.toStream().map((k,v) =&gt; (v, k)).groupByKey().toTable()`","body":"You can do something like <code>table.toStream().map((k,v) =&gt; (v, k)).groupByKey().toTable()</code>"},{"owner":{"account_id":13939350,"reputation":273,"user_id":10065681,"display_name":"simon"},"score":0,"creation_date":1673883941,"post_id":75135513,"comment_id":132591142,"body_markdown":"@OneCricketeer Thank you. This only works when using a KTable, not on a GlobalKTable. (Or am I missing something?) And using a KTable implies that I need to manually deal with co-partitioning and waiting for initialization at startup. When going &quot;manually&quot; anyway, I would rather implement the whole materialization thing by hand, so that I also get memory efficient reverse lookup. Not convinced yet - maybe I am overcomplicating things though &#175;\\_(ツ)_/&#175;","body":"@OneCricketeer Thank you. This only works when using a KTable, not on a GlobalKTable. (Or am I missing something?) And using a KTable implies that I need to manually deal with co-partitioning and waiting for initialization at startup. When going &quot;manually&quot; anyway, I would rather implement the whole materialization thing by hand, so that I also get memory efficient reverse lookup. Not convinced yet - maybe I am overcomplicating things though &#175;_(ツ)_/&#175;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673902463,"post_id":75135513,"comment_id":132596606,"body_markdown":"I&#39;m not sure I understand the requirements for your partitions. I&#39;m just saying that&#39;s how you&#39;d invert a table","body":"I&#39;m not sure I understand the requirements for your partitions. I&#39;m just saying that&#39;s how you&#39;d invert a table"}],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677131722,"creation_date":1677131722,"answer_id":75541059,"question_id":75135513,"body_markdown":"Using the DSL, you provided your answer already. You would need two topics and two global-tables.\r\n\r\nIf you are willing to accept some per-hit, you could fall back to the Processor API and use a &quot;global store&quot; though (it&#39;s basically the same thing as a global-table, but the API is more flexible). Instead of using `join()` you implement a custom `Processor` (or `Transformer`; depending what version of Kafka Streams you are using), and inside the `process()` function, you can do a full table scan on the global store (instead of just a key-lookup) to find the right entry. -- Given that you don&#39;t store a lot of data, you could even cache a reverse mapping in-memory to avoid scanning the full store all the time (of course, you get a cache invalidation problem if the global store gets an update...)","title":"How to perform &quot;reverse lookup&quot; on GlobalKTable?","body":"<p>Using the DSL, you provided your answer already. You would need two topics and two global-tables.</p>\n<p>If you are willing to accept some per-hit, you could fall back to the Processor API and use a &quot;global store&quot; though (it's basically the same thing as a global-table, but the API is more flexible). Instead of using <code>join()</code> you implement a custom <code>Processor</code> (or <code>Transformer</code>; depending what version of Kafka Streams you are using), and inside the <code>process()</code> function, you can do a full table scan on the global store (instead of just a key-lookup) to find the right entry. -- Given that you don't store a lot of data, you could even cache a reverse mapping in-memory to avoid scanning the full store all the time (of course, you get a cache invalidation problem if the global store gets an update...)</p>\n"}],"owner":{"account_id":13939350,"reputation":273,"user_id":10065681,"display_name":"simon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75541059,"answer_count":1,"score":0,"last_activity_date":1677131722,"creation_date":1673878695,"question_id":75135513,"body_markdown":"## Setup\r\n\r\nI have worked with kafka for some time, but I am rather new to the concept of Kafka Streams API and streams processing in general. \r\n\r\nImagine a kafka streams application that performs encoding and decoding by using a lookup table which is provided by an additional kafka topic. The business topics are all co-partitioned and have 5 partitions. The *Lookup mapping* stream is a change data stream - it is compacted and has only one partition.\r\n\r\n```\r\n+------------------------+        /-------\\       +--------------------------+\r\n| &quot;Plain request&quot; stream |   -&gt;  | Encoder |  -&gt;  | &quot;Encoded request&quot; stream |     -----+\r\n+------------------------+        \\-------/       +--------------------------+          |\r\n                                                                                        |\r\n                                      ^                                                 |\r\n                                      |                                                 v\r\n+-------------------------+\r\n| &quot;Lookup mapping&quot; stream |  -&gt;    (Cache)                               (Some other app)\r\n+-------------------------+\r\n                                      |                                                 |\r\n                                      v                                                 |\r\n                                                                                        |\r\n+-------------------------+       /-------\\       +---------------------------+         |\r\n| &quot;Plain response&quot; stream |  &lt;-  | Decoder |  &lt;-  | &quot;Encoded response&quot; stream |     &lt;---+\r\n+-------------------------+       \\-------/       +---------------------------+\r\n```\r\n\r\nLet&#39;s assume that the encoding is ASCII (`&#39;a&#39;` -&gt; `97`, `&#39;b&#39;` -&gt; `98`, etc.) and that the _Lookup mapping_ topic uses the letter as key and that the same topic contains both letter and code in the payload.\r\n\r\nMy current draft is to use LeftJoin on a GlobalKTable (which materializes the *Lookup mapping* stream):\r\n\r\n```java\r\nfinal var mappingTable = streamsBuilder.globalTable(LOOKUP_MAPPINGS, ...);\r\n\r\nstreamsBuilder.stream(PLAIN_REQUESTS, ...)\r\n  .leftJoin(mappingTable, (key, value) -&gt; value.getPlain(), EncoderHelper::encode)\r\n  .to(ENCODED_REQUESTS, ...);\r\n```\r\n\r\n## Problem\r\n\r\nEncoding works as expected. But what about decoding? \r\n\r\nThe materialized GlobalKTable contains data like this:\r\n\r\n| key | value   |\r\n|-----|---------|\r\n| &#39;a&#39; | &#39;a&#39;, 97 |\r\n| &#39;b&#39; | &#39;b&#39;, 98 |\r\n| ... | ...     |\r\n\r\nFor encoding, the LeftJoin operation could perform a lookup based on the plain value - which is used as the key for the table. But for decoding, the LeftJoin operation needs to perform a lookup based on the encoded value (i.e. 97) which is not the key in the table.\r\n\r\nI don&#39;t see how the decoding should be designed.\r\n\r\n## Alternatives / Ideas\r\n\r\nConsume the topic via kafka consumer API, store data and perform encoding / decoding &quot;manually&quot;. This works but has some pitfalls (need to make sure that all data is read before stream processing starts). I don&#39;t like this solution very much as it feels like reinventing the wheel.\r\n\r\nI realize that I could create another topic (outside my program) which uses the encoded value as the key and then replicate the solution above. But this implies two topics with strong coupling and feels generally wrong.\r\n\r\nI also thought about repartitioning the topic in my program before materializing it into a GlobalKTable. Essentially the same concept as the one before but this time, the additional topic only needs to live within my program. This would still lead to duplicated mappings and therefore an increased memory footprint. I could live with that as there is only a small amount of mappings in my use case (~1000 or so). This still feels suboptimal (and I also don&#39;t think that it is an intended use case for the GlobalKTable).\r\n\r\nI could do repartitioning and use a KTable. But this seems complex due to co-partitioning requirements and also feels wrong.\r\n\r\n## Question\r\n\r\nI am looking for a hint on how such a bidirectional lookup system could/should be implemented in accordance to kafka streams API design principles. How would more experienced streams-people solve this?\r\n\r\n## NOT my question\r\n\r\nSimilar but not the same:\r\n\r\nhttps://stackoverflow.com/questions/55101495/data-enrichment-using-kafka-streams-kstream-globalktable-join: Imagine that I wanted to make a lookup from `&quot;john&quot;` to `XDFER` in their scenario. \r\n\r\nhttps://stackoverflow.com/questions/61506676/kstream-join-with-globalktable-over-non-key-values: The plain value (`&#39;a&#39;`) is not present in the encoded response stream. So it cannot be used as key.","title":"How to perform &quot;reverse lookup&quot; on GlobalKTable?","body":"<h2>Setup</h2>\n<p>I have worked with kafka for some time, but I am rather new to the concept of Kafka Streams API and streams processing in general.</p>\n<p>Imagine a kafka streams application that performs encoding and decoding by using a lookup table which is provided by an additional kafka topic. The business topics are all co-partitioned and have 5 partitions. The <em>Lookup mapping</em> stream is a change data stream - it is compacted and has only one partition.</p>\n<pre><code>+------------------------+        /-------\\       +--------------------------+\n| &quot;Plain request&quot; stream |   -&gt;  | Encoder |  -&gt;  | &quot;Encoded request&quot; stream |     -----+\n+------------------------+        \\-------/       +--------------------------+          |\n                                                                                        |\n                                      ^                                                 |\n                                      |                                                 v\n+-------------------------+\n| &quot;Lookup mapping&quot; stream |  -&gt;    (Cache)                               (Some other app)\n+-------------------------+\n                                      |                                                 |\n                                      v                                                 |\n                                                                                        |\n+-------------------------+       /-------\\       +---------------------------+         |\n| &quot;Plain response&quot; stream |  &lt;-  | Decoder |  &lt;-  | &quot;Encoded response&quot; stream |     &lt;---+\n+-------------------------+       \\-------/       +---------------------------+\n</code></pre>\n<p>Let's assume that the encoding is ASCII (<code>'a'</code> -&gt; <code>97</code>, <code>'b'</code> -&gt; <code>98</code>, etc.) and that the <em>Lookup mapping</em> topic uses the letter as key and that the same topic contains both letter and code in the payload.</p>\n<p>My current draft is to use LeftJoin on a GlobalKTable (which materializes the <em>Lookup mapping</em> stream):</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var mappingTable = streamsBuilder.globalTable(LOOKUP_MAPPINGS, ...);\n\nstreamsBuilder.stream(PLAIN_REQUESTS, ...)\n  .leftJoin(mappingTable, (key, value) -&gt; value.getPlain(), EncoderHelper::encode)\n  .to(ENCODED_REQUESTS, ...);\n</code></pre>\n<h2>Problem</h2>\n<p>Encoding works as expected. But what about decoding?</p>\n<p>The materialized GlobalKTable contains data like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>key</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>'a'</td>\n<td>'a', 97</td>\n</tr>\n<tr>\n<td>'b'</td>\n<td>'b', 98</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>For encoding, the LeftJoin operation could perform a lookup based on the plain value - which is used as the key for the table. But for decoding, the LeftJoin operation needs to perform a lookup based on the encoded value (i.e. 97) which is not the key in the table.</p>\n<p>I don't see how the decoding should be designed.</p>\n<h2>Alternatives / Ideas</h2>\n<p>Consume the topic via kafka consumer API, store data and perform encoding / decoding &quot;manually&quot;. This works but has some pitfalls (need to make sure that all data is read before stream processing starts). I don't like this solution very much as it feels like reinventing the wheel.</p>\n<p>I realize that I could create another topic (outside my program) which uses the encoded value as the key and then replicate the solution above. But this implies two topics with strong coupling and feels generally wrong.</p>\n<p>I also thought about repartitioning the topic in my program before materializing it into a GlobalKTable. Essentially the same concept as the one before but this time, the additional topic only needs to live within my program. This would still lead to duplicated mappings and therefore an increased memory footprint. I could live with that as there is only a small amount of mappings in my use case (~1000 or so). This still feels suboptimal (and I also don't think that it is an intended use case for the GlobalKTable).</p>\n<p>I could do repartitioning and use a KTable. But this seems complex due to co-partitioning requirements and also feels wrong.</p>\n<h2>Question</h2>\n<p>I am looking for a hint on how such a bidirectional lookup system could/should be implemented in accordance to kafka streams API design principles. How would more experienced streams-people solve this?</p>\n<h2>NOT my question</h2>\n<p>Similar but not the same:</p>\n<p><a href=\"https://stackoverflow.com/questions/55101495/data-enrichment-using-kafka-streams-kstream-globalktable-join\">Data Enrichment using kafka streams, KStream-GlobalKtable Join</a>: Imagine that I wanted to make a lookup from <code>&quot;john&quot;</code> to <code>XDFER</code> in their scenario.</p>\n<p><a href=\"https://stackoverflow.com/questions/61506676/kstream-join-with-globalktable-over-non-key-values\">KStream Join with GlobalKTable over non-key values</a>: The plain value (<code>'a'</code>) is not present in the encoded response stream. So it cannot be used as key.</p>\n"},{"tags":["java","string","hashcode"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1253708502,"post_id":1465621,"comment_id":1314398,"body_markdown":"Your answer lies in the documentation on the `equals()` and `hashcode()` methods.","body":"Your answer lies in the documentation on the <code>equals()</code> and <code>hashcode()</code> methods."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":9,"creation_date":1253709054,"post_id":1465621,"comment_id":1314437,"body_markdown":"And regarding efficiency: take a close look at the strings that you&#39;re comparing. I&#39;ll be willing to bet that &gt; 50% differ in their first character, and &gt; 66% differ in their first two characters. So you actually have a very efficient comparison versus hashCode(), which has to walk the entire string. Plus, if you&#39;re using strings in the constant pool, equals() first checks identity, which will kick those out right away.","body":"And regarding efficiency: take a close look at the strings that you&#39;re comparing. I&#39;ll be willing to bet that &gt; 50% differ in their first character, and &gt; 66% differ in their first two characters. So you actually have a very efficient comparison versus hashCode(), which has to walk the entire string. Plus, if you&#39;re using strings in the constant pool, equals() first checks identity, which will kick those out right away."},{"owner":{"display_name":"Andy"},"score":0,"creation_date":1253710072,"post_id":1465621,"comment_id":1314521,"body_markdown":"@kdgregory It&#39;s true that the worst case scenario is that the strings actually match, which might also be the most common scenario.  You&#39;ve also answered my underlying string performance question, any gains being made by a pooled hashcode is being made already be performing an instance check.  Cheers!","body":"@kdgregory It&#39;s true that the worst case scenario is that the strings actually match, which might also be the most common scenario.  You&#39;ve also answered my underlying string performance question, any gains being made by a pooled hashcode is being made already be performing an instance check.  Cheers!"},{"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":4,"creation_date":1253711734,"post_id":1465621,"comment_id":1314696,"body_markdown":"What I find strange is that the current String implementation caches the hashCode, but does not use it in equals(), even though it would be a quick way to eliminate unequal strings in many cases - a big gain in the (admittedly rare) case where you compare strings with long identical prefixes.","body":"What I find strange is that the current String implementation caches the hashCode, but does not use it in equals(), even though it would be a quick way to eliminate unequal strings in many cases - a big gain in the (admittedly rare) case where you compare strings with long identical prefixes."}],"answers":[{"tags":[],"owner":{"account_id":41028,"reputation":1596,"user_id":119151,"accept_rate":77,"display_name":"dstibbe"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1253708970,"creation_date":1253708277,"answer_id":1465639,"question_id":1465621,"body_markdown":"because: hashCodes of two objects must be equal  if the objects are equal, however, if two objects are unequal, the hashCode can still be equal.\r\n\r\n(modified after comment)","title":"Testing string equality using hashCode()","body":"<p>because: hashCodes of two objects must be equal  if the objects are equal, however, if two objects are unequal, the hashCode can still be equal.</p>\n\n<p>(modified after comment)</p>\n"},{"tags":[],"owner":{"account_id":36646,"reputation":4143,"user_id":104564,"accept_rate":100,"display_name":"Jim Rush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1253708309,"creation_date":1253708309,"answer_id":1465643,"question_id":1465621,"body_markdown":"The hashCode value isn&#39;t unique, which means the Strings may not actually match.  To improve performance, often implementations of equals will perform a hashCode check before performing more laborious checks.","title":"Testing string equality using hashCode()","body":"<p>The hashCode value isn't unique, which means the Strings may not actually match.  To improve performance, often implementations of equals will perform a hashCode check before performing more laborious checks.</p>\n"},{"tags":[],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1253708366,"creation_date":1253708366,"answer_id":1465648,"question_id":1465621,"body_markdown":"There is no reason not to use hashCode as you describe.\r\n\r\nHowever, you must be aware of collisions.  There is a chance - a small chance admittedly - that two different strings do hash to the same value.  Consider doing a hashCode at first, and if equal also do the full comparison using the equals().","title":"Testing string equality using hashCode()","body":"<p>There is no reason not to use hashCode as you describe.</p>\n\n<p>However, you must be aware of collisions.  There is a chance - a small chance admittedly - that two different strings do hash to the same value.  Consider doing a hashCode at first, and if equal also do the full comparison using the equals().</p>\n"},{"tags":[],"owner":{"account_id":39902,"reputation":26052,"user_id":115305,"accept_rate":99,"display_name":"Wim ten Brink"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1253708589,"creation_date":1253708589,"answer_id":1465661,"question_id":1465621,"body_markdown":"Very simple reason: risk of collisions...\r\nA hash code will have a lot less possible values than a string. It depends a bit of the kind of hash you generate but let&#39;s take a very simple example, where you would add the ordinal values of letters, multiplied with it&#39;s position: a=1, b=2, etc. Thus, &#39;hello&#39; would translate to:\r\nh: 8x1=8, e: 5x2=10, l: 12x3=36, l: 12x4=48, o: 15x5=75. 8+10+36+48+75=177.\r\n\r\nAre there other string values that could end as 177 hashed? Of course! Plenty of options. Feel free to calculate a few.\r\n\r\nStill, this hashing method used a simple method. Java and .NET use a more complex hashing algorithm with a lot smaller chance of such collisions. But still, there&#39;s a chance that two different strings will result in the same hash value, thus this method is less reliable.","title":"Testing string equality using hashCode()","body":"<p>Very simple reason: risk of collisions...\nA hash code will have a lot less possible values than a string. It depends a bit of the kind of hash you generate but let's take a very simple example, where you would add the ordinal values of letters, multiplied with it's position: a=1, b=2, etc. Thus, 'hello' would translate to:\nh: 8x1=8, e: 5x2=10, l: 12x3=36, l: 12x4=48, o: 15x5=75. 8+10+36+48+75=177.</p>\n\n<p>Are there other string values that could end as 177 hashed? Of course! Plenty of options. Feel free to calculate a few.</p>\n\n<p>Still, this hashing method used a simple method. Java and .NET use a more complex hashing algorithm with a lot smaller chance of such collisions. But still, there's a chance that two different strings will result in the same hash value, thus this method is less reliable.</p>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1253709504,"creation_date":1253709504,"answer_id":1465719,"question_id":1465621,"body_markdown":"Let me give you a counter example. Try this,\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString str1 = &quot;0-42L&quot;;\r\n\t\tString str2 = &quot;0-43-&quot;;\r\n\t\t\r\n\t\tSystem.out.println(&quot;String equality: &quot; + str1.equals(str2));\r\n\t\tSystem.out.println(&quot;HashCode eqauality: &quot; + (str1.hashCode() == str2.hashCode()));\r\n\t}\r\n\r\nThe result on my Java,\r\n\r\n    String equality: false\r\n    HashCode eqauality: true\r\n\r\n","title":"Testing string equality using hashCode()","body":"<p>Let me give you a counter example. Try this,</p>\n\n<pre><code>public static void main(String[] args) {\n    String str1 = \"0-42L\";\n    String str2 = \"0-43-\";\n\n    System.out.println(\"String equality: \" + str1.equals(str2));\n    System.out.println(\"HashCode eqauality: \" + (str1.hashCode() == str2.hashCode()));\n}\n</code></pre>\n\n<p>The result on my Java,</p>\n\n<pre><code>String equality: false\nHashCode eqauality: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1253710018,"creation_date":1253710018,"answer_id":1465761,"question_id":1465621,"body_markdown":"You can get the effect you want using &lt;code&gt;String.intern()&lt;/code&gt; (which is implemented using a hash table.)\r\n\r\nYou can compare the return values of &lt;code&gt;intern()&lt;/code&gt; using the &lt;code&gt;==&lt;/code&gt; operator.  If they refer to the same string then the original strings were equivalent (i.e. &lt;code&gt;equals()&lt;/code&gt; would have returned &lt;code&gt;true&lt;/code&gt;), and it requires only a pointer comparison (which has the same cost as an &lt;code&gt;int&lt;/code&gt; comparison.)\r\n\r\n    String a = &quot;Hello&quot;;\r\n    String b = &quot;Hel&quot; + &quot;lo&quot;;\r\n\r\n    System.out.println(a.equals(b));\r\n    System.out.println(a == b);\r\n\r\n    String a2 = a.intern();\r\n    String b2 = b.intern();\r\n\r\n    System.out.println(a2.equals(b2));\r\n    System.out.println(a2 == b2);\r\n\r\nOutput:\r\n\r\n    true\r\n    false\r\n    true\r\n    true","title":"Testing string equality using hashCode()","body":"<p>You can get the effect you want using <code>String.intern()</code> (which is implemented using a hash table.)</p>\n\n<p>You can compare the return values of <code>intern()</code> using the <code>==</code> operator.  If they refer to the same string then the original strings were equivalent (i.e. <code>equals()</code> would have returned <code>true</code>), and it requires only a pointer comparison (which has the same cost as an <code>int</code> comparison.)</p>\n\n<pre><code>String a = \"Hello\";\nString b = \"Hel\" + \"lo\";\n\nSystem.out.println(a.equals(b));\nSystem.out.println(a == b);\n\nString a2 = a.intern();\nString b2 = b.intern();\n\nSystem.out.println(a2.equals(b2));\nSystem.out.println(a2 == b2);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>true\nfalse\ntrue\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22241,"reputation":31745,"user_id":1930838,"accept_rate":96,"display_name":"Omry Yadan"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1253710213,"creation_date":1253710213,"answer_id":1465784,"question_id":1465621,"body_markdown":"as many said hashCode does not guaranty uniqueness.\r\nin fact, it cannot do that for a very simple reason.\r\n\r\nhashCode returns an int, which means there are 2^32 possible values (around 4,000,000,000), but there are surely more than 2^32 possible strings, which means at least two strings have the same hashcode value.\r\n\r\nthis is called [Pigeonhole principle][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Pigeonhole_principle","title":"Testing string equality using hashCode()","body":"<p>as many said hashCode does not guaranty uniqueness.\nin fact, it cannot do that for a very simple reason.</p>\n\n<p>hashCode returns an int, which means there are 2^32 possible values (around 4,000,000,000), but there are surely more than 2^32 possible strings, which means at least two strings have the same hashcode value.</p>\n\n<p>this is called <a href=\"http://en.wikipedia.org/wiki/Pigeonhole_principle\" rel=\"noreferrer\">Pigeonhole principle</a>.</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1253711408,"creation_date":1253711408,"answer_id":1465899,"question_id":1465621,"body_markdown":"Others have pointed out why it won&#39;t work. So I&#39;ll just add the addendum that the gain would be minimal anyway.\r\n\r\nWhen you compare two strings in Java, the String equals function first checks if they are two references to the same object. If so, it immediately returns true. Then it checks if the lengths are equal. If not, it returns false. Only then does it start comparing character-by-character.\r\n\r\nIf you&#39;re manipulating data in memory, the same-object compare may quickly handle the &quot;same&quot; case, and that&#39;s a quick, umm, 4-byte integer compare I think. (Someone correct me if I have the length of an object handle wrong.)\r\n\r\nFor most unequal strings, I&#39;d bet the length compare quickly finds them not equal. If you&#39;re comparing two names of things -- customers, cities, products, whatever -- they&#39;ll usually have unequal length. So a simple int compare quickly disposes of them.\r\n\r\nThe worst case for performance is going to be two long, identical, but not the same object strings. Then it has to do the object handle compare, false, keep checking. The length compare, true, keep checking. Then character by character through the entire length of the string to verify that yes indeed they are equal all the way to the end.","title":"Testing string equality using hashCode()","body":"<p>Others have pointed out why it won't work. So I'll just add the addendum that the gain would be minimal anyway.</p>\n\n<p>When you compare two strings in Java, the String equals function first checks if they are two references to the same object. If so, it immediately returns true. Then it checks if the lengths are equal. If not, it returns false. Only then does it start comparing character-by-character.</p>\n\n<p>If you're manipulating data in memory, the same-object compare may quickly handle the \"same\" case, and that's a quick, umm, 4-byte integer compare I think. (Someone correct me if I have the length of an object handle wrong.)</p>\n\n<p>For most unequal strings, I'd bet the length compare quickly finds them not equal. If you're comparing two names of things -- customers, cities, products, whatever -- they'll usually have unequal length. So a simple int compare quickly disposes of them.</p>\n\n<p>The worst case for performance is going to be two long, identical, but not the same object strings. Then it has to do the object handle compare, false, keep checking. The length compare, true, keep checking. Then character by character through the entire length of the string to verify that yes indeed they are equal all the way to the end.</p>\n"},{"tags":[],"owner":{"account_id":11131917,"reputation":1,"user_id":8171651,"display_name":"Shegufa Taranjum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504010197,"creation_date":1504010197,"answer_id":45939357,"question_id":1465621,"body_markdown":"Two different String can easily generate same hash Code or different hash Code.\r\nIf u want a equality test hash Code won&#39;t give an unique result. When we use String class it will return different value of hash Code. So String buffer class should be apply to have same hash Code for every concated  object.","title":"Testing string equality using hashCode()","body":"<p>Two different String can easily generate same hash Code or different hash Code.\nIf u want a equality test hash Code won't give an unique result. When we use String class it will return different value of hash Code. So String buffer class should be apply to have same hash Code for every concated  object.</p>\n"},{"tags":[],"owner":{"account_id":416901,"reputation":4877,"user_id":792580,"accept_rate":74,"display_name":"srk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677131582,"creation_date":1677131582,"answer_id":75541046,"question_id":1465621,"body_markdown":"&gt; Is there any reason why a Java string cannot be tested for equality\r\n&gt; using its hashCode method?\r\n\r\nEquality check is never done with `hashCode()` method be it String or any other object in Java.\r\n\r\nThe purpose of `hashCode()` is totally different and certainly not related to equality checks. \r\n\r\nHere is the excerpt from the [java.lang.Object&#39;s equals() Javadoc](https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object))\r\n&gt; Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.\r\n\r\nThe real essence of overridden `hashCode()` can be experienced when you are dealing with Hash based collections like HashSet, HashMap or HashTable in Java.\r\n\r\nFor strings always use `equals()` method to check if two strings are equal. Why? Because `java.lang.String` has overridden `java.lang.Object`&#39;s equals() to compare strings by value instead of referential equality using `==` operator.\r\n\r\n**Note:** Referential equality check using `==` is not same as hashCode() comparison.","title":"Testing string equality using hashCode()","body":"<blockquote>\n<p>Is there any reason why a Java string cannot be tested for equality\nusing its hashCode method?</p>\n</blockquote>\n<p>Equality check is never done with <code>hashCode()</code> method be it String or any other object in Java.</p>\n<p>The purpose of <code>hashCode()</code> is totally different and certainly not related to equality checks.</p>\n<p>Here is the excerpt from the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">java.lang.Object's equals() Javadoc</a></p>\n<blockquote>\n<p>Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.</p>\n</blockquote>\n<p>The real essence of overridden <code>hashCode()</code> can be experienced when you are dealing with Hash based collections like HashSet, HashMap or HashTable in Java.</p>\n<p>For strings always use <code>equals()</code> method to check if two strings are equal. Why? Because <code>java.lang.String</code> has overridden <code>java.lang.Object</code>'s equals() to compare strings by value instead of referential equality using <code>==</code> operator.</p>\n<p><strong>Note:</strong> Referential equality check using <code>==</code> is not same as hashCode() comparison.</p>\n"}],"owner":{"display_name":"Andy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27711,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":1465639,"answer_count":10,"score":23,"last_activity_date":1677131629,"creation_date":1253708079,"question_id":1465621,"body_markdown":"Is there any reason why a Java string cannot be tested for equality using its hashCode method?  So basically, instead of....\r\n\r\n    &quot;hello&quot;. Equals(&quot;hello&quot;)\r\n\r\nYou could use...\r\n\r\n    &quot;hello&quot;.hashCode() == &quot;hello&quot;.hashCode()\r\n\r\nThis would be useful because once a string has calculated it&#39;s hashcode then comparing a string would be as efficient as comparing an int as the string caches the hashcode and it is quite likely that the string is in the string pool anyway, if you designed it that way.","title":"Testing string equality using hashCode()","body":"<p>Is there any reason why a Java string cannot be tested for equality using its hashCode method?  So basically, instead of....</p>\n<pre><code>&quot;hello&quot;. Equals(&quot;hello&quot;)\n</code></pre>\n<p>You could use...</p>\n<pre><code>&quot;hello&quot;.hashCode() == &quot;hello&quot;.hashCode()\n</code></pre>\n<p>This would be useful because once a string has calculated it's hashcode then comparing a string would be as efficient as comparing an int as the string caches the hashcode and it is quite likely that the string is in the string pool anyway, if you designed it that way.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":12036691,"reputation":1,"user_id":8804930,"display_name":"ProwtProject"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677130549,"creation_date":1677130277,"question_id":75540912,"body_markdown":"I am updating the compileSdkVersion in my android app from 30 to 31.\r\nBut this problem appears when clicking on an item on my listview:\r\n[Error Image](https://i.stack.imgur.com/uXNvq.png)\r\n\r\nI have tried to put \r\n```\r\n&lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot; /&gt;\r\n```\r\nin my manifest but the problem still appears\r\n","title":"(NoClassDefFoundError: Failed resolution of) when using setOnItemClickListener in Android Studio","body":"<p>I am updating the compileSdkVersion in my android app from 30 to 31.\nBut this problem appears when clicking on an item on my listview:\n<a href=\"https://i.stack.imgur.com/uXNvq.png\" rel=\"nofollow noreferrer\">Error Image</a></p>\n<p>I have tried to put</p>\n<pre><code>&lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot; /&gt;\n</code></pre>\n<p>in my manifest but the problem still appears</p>\n"},{"tags":["java","api","android-studio","class","methods"],"comments":[{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":0,"creation_date":1676959815,"post_id":75516690,"comment_id":133236748,"body_markdown":"Does this help https://stackoverflow.com/questions/1559955/host-xxx-xx-xxx-xxx-is-not-allowed-to-connect-to-this-mysql-server ?","body":"Does this help <a href=\"https://stackoverflow.com/questions/1559955/host-xxx-xx-xxx-xxx-is-not-allowed-to-connect-to-this-mysql-server\" title=\"host xxx xx xxx xxx is not allowed to connect to this mysql server\">stackoverflow.com/questions/1559955/&hellip;</a> ?"}],"owner":{"account_id":23467803,"reputation":23,"user_id":17521706,"display_name":"NewbieMF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676960373,"answer_count":0,"score":0,"last_activity_date":1677130124,"creation_date":1676958259,"question_id":75516690,"body_markdown":"I created an onclick condition to login, when I run the application it exits itself and raises an error, I suspect the error is in the following code section\r\n\r\n```\r\n Intent intent = new Intent(context, MainActivity.class);\r\n        startActivity(intent);\r\n        getActivity().finish();\r\n```\r\n\r\nhow to make the code executable?\r\n\r\nThe error : \r\n\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.abiapp.androidukk, PID: 28347\r\n    java.lang.IllegalStateException: Fragment LoginFragment{4981b94} (f7c99ef6-7be5-4ff5-9105-180cd015a38f) not attached to Activity\r\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1443)\r\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1433)\r\n        at com.abiapp.androidukk.ui.login.LoginFragment.onLoginSuccess(LoginFragment.java:89)\r\n        at com.abiapp.androidukk.helper.Helper$4.onResponse(Helper.java:94)\r\n        at com.abiapp.androidukk.helper.Helper$4.onResponse(Helper.java:74)\r\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:82)\r\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:29)\r\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:102)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:257)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8218)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1015)\r\n\r\n```\r\nHere is my LoginFragment, in code Helper.loginUser(getContext(),username,password); I also included getContext() because if I didn&#39;t include getContext(), the method that uses getContext() in the LoginFragment class will be null.\r\n\r\nI suspect for MainActivity.class to have the same case, but I don&#39;t know how to fix it\r\n\r\nThe LoginFragment class :\r\n\r\n```\r\npublic class LoginFragment extends Fragment {\r\n\r\n    private FragmentLoginBinding binding;\r\n\r\n    private EditText usernameEditText,passwordEditText;\r\n\r\n    private MainActivity mainActivity;\r\n    \r\n    public View onCreateView(LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_login,container,false);\r\n        Button button = view.findViewById(R.id.btnSubmit);\r\n\r\n        usernameEditText = view.findViewById(R.id.edit_textUsername);\r\n        passwordEditText = view.findViewById(R.id.edit_textPassword);\r\n\r\n        // menambahkan event setOnClickListener() pada tombol btnSubmit\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // memanggil method untuk login\r\n                String username = usernameEditText.getText().toString().trim();\r\n                String password = passwordEditText.getText().toString().trim();\r\n\r\n                if (mainActivity != null){\r\n                    System.out.println(&quot;ada kok&quot;);\r\n                }\r\n\r\n                Helper.loginUser(getContext(),username,password);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    public void onLoginSuccess(Context context, String nik, String nama, String username, String password, String telp, String sessionId) {\r\n        // Login berhasil, simpan data user ke shared preferences\r\n        if (context != null){\r\n            System.out.println(&quot;ada kok 4&quot;);\r\n        }\r\n        SharedPreferences sharedPref = context.getSharedPreferences(&quot;USER_DATA&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPref.edit();\r\n        editor.putString(&quot;nik&quot;, nik);\r\n        editor.putString(&quot;nama&quot;, nama);\r\n        editor.putString(&quot;username&quot;, username);\r\n        editor.putString(&quot;password&quot;, password);\r\n        editor.putString(&quot;telp&quot;, telp);\r\n        editor.putString(&quot;session_id&quot;, sessionId);\r\n        editor.apply();\r\n\r\n        // Tampilkan pesan sukses dan pindah ke halaman berikutnya\r\n        Toast.makeText(context, &quot;Login berhasil&quot;, Toast.LENGTH_SHORT).show();\r\n        Intent intent = new Intent(context, StartActivity.class);\r\n        startActivity(intent);\r\n        getActivity().finish();\r\n    }\r\n\r\n    public void onLoginFailed(Context context, String message) {\r\n        // Login gagal, tampilkan pesan error\r\n        Toast.makeText(context, &quot;Login gagal: &quot; + message, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;ve tried a few things and also asked the AI, but it still doesn&#39;t work","title":"Cannot switch to MainActivity from FragmentLogin class via Method","body":"<p>I created an onclick condition to login, when I run the application it exits itself and raises an error, I suspect the error is in the following code section</p>\n<pre><code> Intent intent = new Intent(context, MainActivity.class);\n        startActivity(intent);\n        getActivity().finish();\n</code></pre>\n<p>how to make the code executable?</p>\n<p>The error :</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.abiapp.androidukk, PID: 28347\n    java.lang.IllegalStateException: Fragment LoginFragment{4981b94} (f7c99ef6-7be5-4ff5-9105-180cd015a38f) not attached to Activity\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1443)\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1433)\n        at com.abiapp.androidukk.ui.login.LoginFragment.onLoginSuccess(LoginFragment.java:89)\n        at com.abiapp.androidukk.helper.Helper$4.onResponse(Helper.java:94)\n        at com.abiapp.androidukk.helper.Helper$4.onResponse(Helper.java:74)\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:82)\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:29)\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:102)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:257)\n        at android.app.ActivityThread.main(ActivityThread.java:8218)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1015)\n\n</code></pre>\n<p>Here is my LoginFragment, in code Helper.loginUser(getContext(),username,password); I also included getContext() because if I didn't include getContext(), the method that uses getContext() in the LoginFragment class will be null.</p>\n<p>I suspect for MainActivity.class to have the same case, but I don't know how to fix it</p>\n<p>The LoginFragment class :</p>\n<pre><code>public class LoginFragment extends Fragment {\n\n    private FragmentLoginBinding binding;\n\n    private EditText usernameEditText,passwordEditText;\n\n    private MainActivity mainActivity;\n    \n    public View onCreateView(LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_login,container,false);\n        Button button = view.findViewById(R.id.btnSubmit);\n\n        usernameEditText = view.findViewById(R.id.edit_textUsername);\n        passwordEditText = view.findViewById(R.id.edit_textPassword);\n\n        // menambahkan event setOnClickListener() pada tombol btnSubmit\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // memanggil method untuk login\n                String username = usernameEditText.getText().toString().trim();\n                String password = passwordEditText.getText().toString().trim();\n\n                if (mainActivity != null){\n                    System.out.println(&quot;ada kok&quot;);\n                }\n\n                Helper.loginUser(getContext(),username,password);\n            }\n        });\n\n        return view;\n    }\n\n    public void onLoginSuccess(Context context, String nik, String nama, String username, String password, String telp, String sessionId) {\n        // Login berhasil, simpan data user ke shared preferences\n        if (context != null){\n            System.out.println(&quot;ada kok 4&quot;);\n        }\n        SharedPreferences sharedPref = context.getSharedPreferences(&quot;USER_DATA&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPref.edit();\n        editor.putString(&quot;nik&quot;, nik);\n        editor.putString(&quot;nama&quot;, nama);\n        editor.putString(&quot;username&quot;, username);\n        editor.putString(&quot;password&quot;, password);\n        editor.putString(&quot;telp&quot;, telp);\n        editor.putString(&quot;session_id&quot;, sessionId);\n        editor.apply();\n\n        // Tampilkan pesan sukses dan pindah ke halaman berikutnya\n        Toast.makeText(context, &quot;Login berhasil&quot;, Toast.LENGTH_SHORT).show();\n        Intent intent = new Intent(context, StartActivity.class);\n        startActivity(intent);\n        getActivity().finish();\n    }\n\n    public void onLoginFailed(Context context, String message) {\n        // Login gagal, tampilkan pesan error\n        Toast.makeText(context, &quot;Login gagal: &quot; + message, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n\n</code></pre>\n<p>I've tried a few things and also asked the AI, but it still doesn't work</p>\n"},{"tags":["java","string-concatenation","apache-commons"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1677125546,"post_id":75540485,"comment_id":133277400,"body_markdown":"Just use the `+` operator. `StringBuilder` is really only helpful when concatenating inside a loop. Making a `Pair` object is needless overhead also.","body":"Just use the <code>+</code> operator. <code>StringBuilder</code> is really only helpful when concatenating inside a loop. Making a <code>Pair</code> object is needless overhead also."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1677126064,"post_id":75540485,"comment_id":133277454,"body_markdown":"Note if you use Java 9 and later, the compilers do a better job of optimizing string concatenations.  So if you are concerned in performance your best option is to upgrade to Java 11 or Java 17 ... so that you don&#39;t need to mess up your code-base with micro-optimizations ... that may then need to be undone.  (Java 8 is obsolete, and in some contexts it is &quot;end of life&quot;.)","body":"Note if you use Java 9 and later, the compilers do a better job of optimizing string concatenations.  So if you are concerned in performance your best option is to upgrade to Java 11 or Java 17 ... so that you don&#39;t need to mess up your code-base with micro-optimizations ... that may then need to be undone.  (Java 8 is obsolete, and in some contexts it is &quot;end of life&quot;.)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677128823,"post_id":75540485,"comment_id":133277790,"body_markdown":"You don&#39;t provide enough context. Is this a one-off operation? Is it in a loop? Of-course, a [mcve] would help provide that context. Usually, however, using the `+` operator is the best (in terms of performance).","body":"You don&#39;t provide enough context. Is this a one-off operation? Is it in a loop? Of-course, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help provide that context. Usually, however, using the <code>+</code> operator is the best (in terms of performance)."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677139927,"post_id":75540485,"comment_id":133279762,"body_markdown":"I&#39;m curious to know why you would even consider the third option, that makes no sense, and is identical to the second option, except you needlessly create an additional object (a `Pair`).","body":"I&#39;m curious to know why you would even consider the third option, that makes no sense, and is identical to the second option, except you needlessly create an additional object (a <code>Pair</code>)."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677128891,"creation_date":1677128891,"answer_id":75540758,"question_id":75540485,"body_markdown":"The + operator is always going to be better than the other options you&#39;ve shown.  Depending on context, it might still be appropriate to use `StringBuilder`, but not in the way you&#39;ve shown.","title":"Which string concatenation is best for performance Pair&lt;String, String&gt; vs StringBuilder vs + operator","body":"<p>The + operator is always going to be better than the other options you've shown.  Depending on context, it might still be appropriate to use <code>StringBuilder</code>, but not in the way you've shown.</p>\n"}],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1677130063,"creation_date":1677125430,"question_id":75540485,"body_markdown":"I am new to using Apache Commons pair. I need some advice what the best approach is when performance and optimization is priority.\r\n\r\nIf I want to concatenate str1 and str2, I can choose from the following approaches\r\n\r\n**StringBuilder**\r\n\r\n    String newStr = (new StringBuilder()).append(str1).append(str2).toString();\r\n\r\n**+ operator**\r\n\r\n    String newStr = str1 + str2;\r\n\r\n**Apache Commons Pair&lt;String, String&gt;**\r\n\r\n    Pair&lt;String, String&gt; key = Pair.of(str1, str2);\r\n    key.getLeft() + key.getRight() // this just ends up needing to use a concatenation operator\r\n\r\nSo I thought, maybe `StringBuilder` would be best?\r\n\r\nThe newStr is not within a loop. A colleague told me about possible HeapMemory issue when Strings are stored at runtime.","title":"Which string concatenation is best for performance Pair&lt;String, String&gt; vs StringBuilder vs + operator","body":"<p>I am new to using Apache Commons pair. I need some advice what the best approach is when performance and optimization is priority.</p>\n<p>If I want to concatenate str1 and str2, I can choose from the following approaches</p>\n<p><strong>StringBuilder</strong></p>\n<pre><code>String newStr = (new StringBuilder()).append(str1).append(str2).toString();\n</code></pre>\n<p><strong>+ operator</strong></p>\n<pre><code>String newStr = str1 + str2;\n</code></pre>\n<p><strong>Apache Commons Pair&lt;String, String&gt;</strong></p>\n<pre><code>Pair&lt;String, String&gt; key = Pair.of(str1, str2);\nkey.getLeft() + key.getRight() // this just ends up needing to use a concatenation operator\n</code></pre>\n<p>So I thought, maybe <code>StringBuilder</code> would be best?</p>\n<p>The newStr is not within a loop. A colleague told me about possible HeapMemory issue when Strings are stored at runtime.</p>\n"},{"tags":["java","image-processing","deep-learning"],"comments":[{"owner":{"account_id":5320286,"reputation":4281,"user_id":4243927,"display_name":"Aerials"},"score":0,"creation_date":1580385885,"post_id":59985403,"comment_id":106084788,"body_markdown":"please provide links and references. You do  want to be thorough in detailing your question, otherwise people will not bother. trying to figure out what it is you are trying to do.","body":"please provide links and references. You do  want to be thorough in detailing your question, otherwise people will not bother. trying to figure out what it is you are trying to do."},{"owner":{"account_id":5320286,"reputation":4281,"user_id":4243927,"display_name":"Aerials"},"score":0,"creation_date":1580386025,"post_id":59985403,"comment_id":106084858,"body_markdown":"you have an classifying model built in one server or app, and want to ask it questions from your java Application??","body":"you have an classifying model built in one server or app, and want to ask it questions from your java Application??"},{"owner":{"account_id":14124435,"reputation":95,"user_id":10204181,"display_name":"Helyon"},"score":1,"creation_date":1580386462,"post_id":59985403,"comment_id":106085095,"body_markdown":"Sorry, I tried to clearify the question. \nMy primary question is if there is a way to integrate the generated model in a java application, but I&#39;m open to other approaches to this problem If someone knows one.","body":"Sorry, I tried to clearify the question.  My primary question is if there is a way to integrate the generated model in a java application, but I&#39;m open to other approaches to this problem If someone knows one."}],"answers":[{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677130019,"creation_date":1677130019,"answer_id":75540889,"question_id":59985403,"body_markdown":"First Export your model as `SavedModel`.\r\n[![enter image description here][1]][1]\r\n\r\nThen you can use ML Libraries to read it.\r\n\r\nFor Example:-\r\n\r\n - [DLJ][2]\r\n\r\nExample code (Taken from [here][3]):-\r\n\r\n    Criteria&lt;Image, Classifications&gt; criteria =\r\n        Criteria.builder()\r\n            .setTypes(Image.class, Classifications.class)\r\n            .optModelUrls(&quot;https://example.com/squeezenet.zip&quot;)\r\n            .optTranslator(ImageClassificationTranslator\r\n                   .builder().addTransform(new ToTensor()).build())\r\n            .build();\r\n    \r\n    try (ZooModel&lt;Image, Classification&gt; model = ModelZoo.load(criteria);\r\n            Predictor&lt;Image, Classification&gt; predictor = model.newPredictor()) {\r\n        Image image = ImageFactory.getInstance().fromUrl(&quot;https://myimage.jpg&quot;);\r\n        Classification result = predictor.predict(image);\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/44Q2R.png\r\n  [2]: https://djl.ai/\r\n  [3]: https://stackoverflow.com/a/62419161/17022570","title":"Integrate Google Teachable Machine Model to Java application","body":"<p>First Export your model as <code>SavedModel</code>.\n<a href=\"https://i.stack.imgur.com/44Q2R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44Q2R.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you can use ML Libraries to read it.</p>\n<p>For Example:-</p>\n<ul>\n<li><a href=\"https://djl.ai/\" rel=\"nofollow noreferrer\">DLJ</a></li>\n</ul>\n<p>Example code (Taken from <a href=\"https://stackoverflow.com/a/62419161/17022570\">here</a>):-</p>\n<pre><code>Criteria&lt;Image, Classifications&gt; criteria =\n    Criteria.builder()\n        .setTypes(Image.class, Classifications.class)\n        .optModelUrls(&quot;https://example.com/squeezenet.zip&quot;)\n        .optTranslator(ImageClassificationTranslator\n               .builder().addTransform(new ToTensor()).build())\n        .build();\n\ntry (ZooModel&lt;Image, Classification&gt; model = ModelZoo.load(criteria);\n        Predictor&lt;Image, Classification&gt; predictor = model.newPredictor()) {\n    Image image = ImageFactory.getInstance().fromUrl(&quot;https://myimage.jpg&quot;);\n    Classification result = predictor.predict(image);\n}\n</code></pre>\n"}],"owner":{"account_id":14124435,"reputation":95,"user_id":10204181,"display_name":"Helyon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":629,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1677130019,"creation_date":1580384944,"question_id":59985403,"body_markdown":"I made an image model with https://teachablemachine.withgoogle.com, which classifies simple \r\nstandardized pictograms as I need this in my application but I didn&#39;t manage to import it to my java application. I tried everything from .h5 import via Deeplearning4j (unsupported) to fighting around with Tensorflow and savedModel. Other export-formats are Tensorflow.js and Tensorflow Lite.\r\n\r\nMy attempt to train a model manually in python was too complex for my current deeplearning skills and never worked as good as the teachable machine.\r\n\r\nMy program has to classify the known GHS-pictograms from images (https://en.wikipedia.org/wiki/Globally_Harmonized_System_of_Classification_and_Labelling_of_Chemicals)\r\n\r\nWhat should I do? Is there another way to integrate the model or maybe is there a simpler way than deeplearning for this simple thing?","title":"Integrate Google Teachable Machine Model to Java application","body":"<p>I made an image model with <a href=\"https://teachablemachine.withgoogle.com\" rel=\"nofollow noreferrer\">https://teachablemachine.withgoogle.com</a>, which classifies simple \nstandardized pictograms as I need this in my application but I didn't manage to import it to my java application. I tried everything from .h5 import via Deeplearning4j (unsupported) to fighting around with Tensorflow and savedModel. Other export-formats are Tensorflow.js and Tensorflow Lite.</p>\n\n<p>My attempt to train a model manually in python was too complex for my current deeplearning skills and never worked as good as the teachable machine.</p>\n\n<p>My program has to classify the known GHS-pictograms from images (<a href=\"https://en.wikipedia.org/wiki/Globally_Harmonized_System_of_Classification_and_Labelling_of_Chemicals\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Globally_Harmonized_System_of_Classification_and_Labelling_of_Chemicals</a>)</p>\n\n<p>What should I do? Is there another way to integrate the model or maybe is there a simpler way than deeplearning for this simple thing?</p>\n"},{"tags":["java","json","b4j"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677129914,"post_id":75540376,"comment_id":133277934,"body_markdown":"The code in your question does not look like Java to me. Are you sure that it is? Maybe you added the &quot;java&quot; tag by mistake?","body":"The code in your question does not look like Java to me. Are you sure that it is? Maybe you added the &quot;java&quot; tag by mistake?"},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1677132711,"post_id":75540376,"comment_id":133278374,"body_markdown":"Looks like VB rather than Java","body":"Looks like VB rather than Java"},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1677133250,"post_id":75540376,"comment_id":133278464,"body_markdown":"You tried to use ReadList then parse each line separately. However, `[` by itself is not valid. I think you should load the entire thing using ReadString and then parse it.","body":"You tried to use ReadList then parse each line separately. However, <code>[</code> by itself is not valid. I think you should load the entire thing using ReadString and then parse it."}],"owner":{"account_id":27856701,"reputation":11,"user_id":21270037,"display_name":"Ardean Angkasa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677129775,"creation_date":1677123805,"question_id":75540376,"body_markdown":"This is my JSON fromat on _endpoints.txt_\r\n```none\r\n[\r\n    {\r\n        &quot;host&quot;: &quot;https://xxx.xxx.xxx.xxx:8443/api/v1/namespaces/sf7dev/pods&quot;,\r\n        &quot;name&quot;: &quot;OKD 1&quot;,\r\n        &quot;token&quot;: &quot;My token&quot;\r\n    }\r\n]\r\n```\r\nThis is my code:\r\n```\r\nSub tickInterval_tick\r\n\ttime.Enabled= False\r\n\tDim endpointList As List\r\n\tendpointList = File.ReadList(File.DirApp, &quot;endpoints.txt&quot;)\r\n\tDim parser As JSONParser\r\n\r\n\tFor t = 0 To endpointList.Size - 1\r\n\t\tparser.Initialize(endpointList.Get(t))\r\n\t\tDim endpointMap As Map = parser.NextObject\r\n\t\tContainerReady(endpointMap.Get(&quot;name&quot;), endpointMap.Get(&quot;host&quot;), endpointMap.Get(&quot;token&quot;))\r\n\tNext\r\n\ttime.Enabled= True\r\nEnd Sub\r\n```\r\nError occured on this line:\r\n```\r\nDim endpointMap As Map = parser.NextObject\r\n```\r\nIt says:\r\n&gt;org.json.JSONException: Unterminated array at character 1 of [&quot;\r\n\r\nCan you guys help me? I don&#39;t get it what was wrong with my JSON format.\r\n\r\nThanks a lot.\r\n\r\n\r\nI tried to execute this code:\r\n```\r\nSub tickInterval_tick\r\n\ttime.Enabled= False\r\n\tDim endpointList As List\r\n\tendpointList = File.ReadList(File.DirApp, &quot;endpoints.txt&quot;)\r\n\tDim parser As JSONParser\r\n\r\n\tFor t = 0 To endpointList.Size - 1\r\n\t\tparser.Initialize(endpointList.Get(t))\r\n\t\tDim endpointMap As Map = parser.NextObject\r\n\t\tContainerReady(endpointMap.Get(&quot;name&quot;), endpointMap.Get(&quot;host&quot;), endpointMap.Get(&quot;token&quot;))\r\n\tNext\r\n\ttime.Enabled= True\r\nEnd Sub\r\n```\r\nand my expecatation it can read and process my _endpoints.txt_","title":"wrong Json format B4J","body":"<p>This is my JSON fromat on <em>endpoints.txt</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n    {\n        &quot;host&quot;: &quot;https://xxx.xxx.xxx.xxx:8443/api/v1/namespaces/sf7dev/pods&quot;,\n        &quot;name&quot;: &quot;OKD 1&quot;,\n        &quot;token&quot;: &quot;My token&quot;\n    }\n]\n</code></pre>\n<p>This is my code:</p>\n<pre><code>Sub tickInterval_tick\n    time.Enabled= False\n    Dim endpointList As List\n    endpointList = File.ReadList(File.DirApp, &quot;endpoints.txt&quot;)\n    Dim parser As JSONParser\n\n    For t = 0 To endpointList.Size - 1\n        parser.Initialize(endpointList.Get(t))\n        Dim endpointMap As Map = parser.NextObject\n        ContainerReady(endpointMap.Get(&quot;name&quot;), endpointMap.Get(&quot;host&quot;), endpointMap.Get(&quot;token&quot;))\n    Next\n    time.Enabled= True\nEnd Sub\n</code></pre>\n<p>Error occured on this line:</p>\n<pre><code>Dim endpointMap As Map = parser.NextObject\n</code></pre>\n<p>It says:</p>\n<blockquote>\n<p>org.json.JSONException: Unterminated array at character 1 of [&quot;</p>\n</blockquote>\n<p>Can you guys help me? I don't get it what was wrong with my JSON format.</p>\n<p>Thanks a lot.</p>\n<p>I tried to execute this code:</p>\n<pre><code>Sub tickInterval_tick\n    time.Enabled= False\n    Dim endpointList As List\n    endpointList = File.ReadList(File.DirApp, &quot;endpoints.txt&quot;)\n    Dim parser As JSONParser\n\n    For t = 0 To endpointList.Size - 1\n        parser.Initialize(endpointList.Get(t))\n        Dim endpointMap As Map = parser.NextObject\n        ContainerReady(endpointMap.Get(&quot;name&quot;), endpointMap.Get(&quot;host&quot;), endpointMap.Get(&quot;token&quot;))\n    Next\n    time.Enabled= True\nEnd Sub\n</code></pre>\n<p>and my expecatation it can read and process my <em>endpoints.txt</em></p>\n"},{"tags":["java","xml","jaxb","marshalling"],"owner":{"account_id":2505799,"reputation":191,"user_id":2179564,"accept_rate":58,"display_name":"ifti24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677129366,"creation_date":1677129027,"question_id":75540778,"body_markdown":"Want to remove a parent tag but keep the content of the parent tag in the output XML.\r\nMy current code producing the ***actual output*** right now. But I&#39;m trying to produce the ***Expected Output*** XML.\r\n\r\n\r\n**Actual Output - That I&#39;m getting now:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-XML --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;EFT&gt;\r\n        &lt;FHR&gt;\r\n            &lt;fhrA&gt;FHR_A-1&lt;/fhrA&gt;\r\n            &lt;fhrB&gt;FHR_B-1&lt;/fhrB&gt;\r\n        &lt;/FHR&gt;\r\n        &lt;recordList&gt;\r\n            &lt;BHR&gt;\r\n                &lt;bhrA&gt;BHR_A-1&lt;/bhrA&gt;\r\n                &lt;bhrB&gt;BHR_B-1&lt;/bhrB&gt;\r\n            &lt;/BHR&gt;            \r\n        &lt;/recordList&gt;\r\n        &lt;recordList&gt;\r\n            &lt;BHR&gt;\r\n                &lt;bhrA&gt;BHR_A-2&lt;/bhrA&gt;\r\n                &lt;bhrB&gt;BHR_B-2&lt;/bhrB&gt;\r\n            &lt;/BHR&gt;            \r\n        &lt;/recordList&gt;\r\n    &lt;/EFT&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Expected Output**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n        &lt;EFT&gt;\r\n            &lt;FHR&gt;\r\n                &lt;fhrA&gt;FHR_A-1&lt;/fhrA&gt;\r\n                &lt;fhrB&gt;FHR_B-1&lt;/fhrB&gt;\r\n            &lt;/FHR&gt;           \r\n                &lt;BHR&gt;\r\n                    &lt;bhrA&gt;BHR_A-1&lt;/bhrA&gt;\r\n                    &lt;bhrB&gt;BHR_B-1&lt;/bhrB&gt;\r\n                &lt;/BHR&gt;\r\n                \r\n\r\n                &lt;BHR&gt;\r\n                    &lt;bhrA&gt;BHR_A-2&lt;/bhrA&gt;\r\n                    &lt;bhrB&gt;BHR_B-2&lt;/bhrB&gt;\r\n                &lt;/BHR&gt;               \r\n        &lt;/EFT&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Supporting Java Classes**\r\n\r\n```\r\n    @XmlRootElement(name = &quot;EFT&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlSeeAlso({BHR.class, EDR.class, ADR.class, BCR.class})\r\n    public class EFT {\r\n      @XmlElement(name = &quot;FHR&quot;)\r\n      private FHR fhr;\r\n\r\n      private List&lt;Record&gt; recordList = new ArrayList&lt;&gt;();\r\n\r\n\r\n      public FHR getFhr() {\r\n        return fhr;\r\n      }\r\n\r\n      public void setFhr(FHR fhr) {\r\n        this.fhr = fhr;\r\n      }\r\n\r\n      public List&lt;Record&gt; getRecordList() {\r\n        return recordList;\r\n      }\r\n\r\n      public void setRecordList(List&lt;Record&gt; recordList) {\r\n        this.recordList = recordList;\r\n      }\r\n    }\r\n```\r\n\r\n**Record.java**\r\n\r\n```\r\n  @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Record {\r\n\r\n      @XmlElement(name = &quot;BHR&quot;)\r\n      private BHR bhr;\r\n\r\n      Record() {\r\n      }\r\n\r\n      Record(int i) {\r\n        this.bhr = new BHR(i);\r\n      }\r\n\r\n      public BHR getBhr() {\r\n        return bhr;\r\n      }\r\n\r\n      public void setBhr(BHR bhr) {\r\n        this.bhr = bhr;\r\n      }\r\n\r\n    }\r\n```\r\n\r\n**FHR.java**\r\n\r\n```\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class FHR {\r\n\r\n      private String fhrA;\r\n      private String fhrB;\r\n\r\n      FHR() {\r\n      }\r\n\r\n      FHR(int serial) {\r\n        this.fhrA = &quot;FHR_A-&quot; + serial;\r\n        this.fhrB = &quot;FHR_B-&quot; + serial;\r\n      }\r\n\r\n      public String getFhrA() {\r\n        return fhrA;\r\n      }\r\n\r\n      public void setFhrA(String fhrA) {\r\n        this.fhrA = fhrA;\r\n      }\r\n\r\n      public String getFhrB() {\r\n        return fhrB;\r\n      }\r\n\r\n      public void setFhrB(String fhrB) {\r\n        this.fhrB = fhrB;\r\n      }\r\n    }\r\n```\r\n\r\n**BHR.java**\r\n\r\n```\r\n @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class BHR {\r\n\r\n\r\n      private String bhrA;\r\n      private String bhrB;\r\n\r\n      BHR() {\r\n      }\r\n\r\n      BHR(int serial) {\r\n        this.bhrA = &quot;BHR_A-&quot; + serial;\r\n        this.bhrB = &quot;BHR_B-&quot; + serial;\r\n      }\r\n\r\n      public String getBhrA() {\r\n        return bhrA;\r\n      }\r\n\r\n      public void setBhrA(String bhrA) {\r\n        this.bhrA = bhrA;\r\n      }\r\n\r\n      public String getBhrB() {\r\n        return bhrB;\r\n      }\r\n\r\n      public void setBhrB(String bhrB) {\r\n        this.bhrB = bhrB;\r\n      }\r\n    }\r\n```\r\n\r\n**Main Class**\r\n\r\n```\r\npublic class TestXMLGenerator {\r\n\r\n      public static void main(String[] args) throws SQLException, InterruptedException {\r\n\r\n        EFT eft = new EFT();\r\n        eft.setFhr(new FHR(1));\r\n        eft.setFcr(new FCR(1));\r\n        List&lt;Object&gt; recordList = new ArrayList&lt;&gt;();\r\n        for (int i = 1; i &lt;= 2; i++) {\r\n          Record r = new Record(i);\r\n          eft.getRecordList().add(r);\r\n        }\r\n\r\n        try {\r\n          JAXBContext jaxbContext = JAXBContext.newInstance(EFT.class, Record.class, BHR.class, ADR.class, BCR.class, EDR.class);\r\n          Marshaller marshaller = jaxbContext.createMarshaller();\r\n          marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\r\n          System.out.println(new Date());\r\n          marshaller.marshal(eft, new File(&quot;eft.xml&quot;));\r\n\r\n          System.out.println(new Date());\r\n        } catch (JAXBException e) {\r\n          e.printStackTrace();\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n```","title":"JAXB : How to skip the collection root tag in xml marshalling","body":"<p>Want to remove a parent tag but keep the content of the parent tag in the output XML.\nMy current code producing the <em><strong>actual output</strong></em> right now. But I'm trying to produce the <em><strong>Expected Output</strong></em> XML.</p>\n<p><strong>Actual Output - That I'm getting now:</strong></p>\n<pre class=\"lang-XML prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;EFT&gt;\n    &lt;FHR&gt;\n        &lt;fhrA&gt;FHR_A-1&lt;/fhrA&gt;\n        &lt;fhrB&gt;FHR_B-1&lt;/fhrB&gt;\n    &lt;/FHR&gt;\n    &lt;recordList&gt;\n        &lt;BHR&gt;\n            &lt;bhrA&gt;BHR_A-1&lt;/bhrA&gt;\n            &lt;bhrB&gt;BHR_B-1&lt;/bhrB&gt;\n        &lt;/BHR&gt;            \n    &lt;/recordList&gt;\n    &lt;recordList&gt;\n        &lt;BHR&gt;\n            &lt;bhrA&gt;BHR_A-2&lt;/bhrA&gt;\n            &lt;bhrB&gt;BHR_B-2&lt;/bhrB&gt;\n        &lt;/BHR&gt;            \n    &lt;/recordList&gt;\n&lt;/EFT&gt;\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n    &lt;EFT&gt;\n        &lt;FHR&gt;\n            &lt;fhrA&gt;FHR_A-1&lt;/fhrA&gt;\n            &lt;fhrB&gt;FHR_B-1&lt;/fhrB&gt;\n        &lt;/FHR&gt;           \n            &lt;BHR&gt;\n                &lt;bhrA&gt;BHR_A-1&lt;/bhrA&gt;\n                &lt;bhrB&gt;BHR_B-1&lt;/bhrB&gt;\n            &lt;/BHR&gt;\n            \n\n            &lt;BHR&gt;\n                &lt;bhrA&gt;BHR_A-2&lt;/bhrA&gt;\n                &lt;bhrB&gt;BHR_B-2&lt;/bhrB&gt;\n            &lt;/BHR&gt;               \n    &lt;/EFT&gt;\n</code></pre>\n<p><strong>Supporting Java Classes</strong></p>\n<pre><code>    @XmlRootElement(name = &quot;EFT&quot;)\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlSeeAlso({BHR.class, EDR.class, ADR.class, BCR.class})\n    public class EFT {\n      @XmlElement(name = &quot;FHR&quot;)\n      private FHR fhr;\n\n      private List&lt;Record&gt; recordList = new ArrayList&lt;&gt;();\n\n\n      public FHR getFhr() {\n        return fhr;\n      }\n\n      public void setFhr(FHR fhr) {\n        this.fhr = fhr;\n      }\n\n      public List&lt;Record&gt; getRecordList() {\n        return recordList;\n      }\n\n      public void setRecordList(List&lt;Record&gt; recordList) {\n        this.recordList = recordList;\n      }\n    }\n</code></pre>\n<p><strong>Record.java</strong></p>\n<pre><code>  @XmlAccessorType(XmlAccessType.FIELD)\n    public class Record {\n\n      @XmlElement(name = &quot;BHR&quot;)\n      private BHR bhr;\n\n      Record() {\n      }\n\n      Record(int i) {\n        this.bhr = new BHR(i);\n      }\n\n      public BHR getBhr() {\n        return bhr;\n      }\n\n      public void setBhr(BHR bhr) {\n        this.bhr = bhr;\n      }\n\n    }\n</code></pre>\n<p><strong>FHR.java</strong></p>\n<pre><code>    @XmlAccessorType(XmlAccessType.FIELD)\n    public class FHR {\n\n      private String fhrA;\n      private String fhrB;\n\n      FHR() {\n      }\n\n      FHR(int serial) {\n        this.fhrA = &quot;FHR_A-&quot; + serial;\n        this.fhrB = &quot;FHR_B-&quot; + serial;\n      }\n\n      public String getFhrA() {\n        return fhrA;\n      }\n\n      public void setFhrA(String fhrA) {\n        this.fhrA = fhrA;\n      }\n\n      public String getFhrB() {\n        return fhrB;\n      }\n\n      public void setFhrB(String fhrB) {\n        this.fhrB = fhrB;\n      }\n    }\n</code></pre>\n<p><strong>BHR.java</strong></p>\n<pre><code> @XmlAccessorType(XmlAccessType.FIELD)\n    public class BHR {\n\n\n      private String bhrA;\n      private String bhrB;\n\n      BHR() {\n      }\n\n      BHR(int serial) {\n        this.bhrA = &quot;BHR_A-&quot; + serial;\n        this.bhrB = &quot;BHR_B-&quot; + serial;\n      }\n\n      public String getBhrA() {\n        return bhrA;\n      }\n\n      public void setBhrA(String bhrA) {\n        this.bhrA = bhrA;\n      }\n\n      public String getBhrB() {\n        return bhrB;\n      }\n\n      public void setBhrB(String bhrB) {\n        this.bhrB = bhrB;\n      }\n    }\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>public class TestXMLGenerator {\n\n      public static void main(String[] args) throws SQLException, InterruptedException {\n\n        EFT eft = new EFT();\n        eft.setFhr(new FHR(1));\n        eft.setFcr(new FCR(1));\n        List&lt;Object&gt; recordList = new ArrayList&lt;&gt;();\n        for (int i = 1; i &lt;= 2; i++) {\n          Record r = new Record(i);\n          eft.getRecordList().add(r);\n        }\n\n        try {\n          JAXBContext jaxbContext = JAXBContext.newInstance(EFT.class, Record.class, BHR.class, ADR.class, BCR.class, EDR.class);\n          Marshaller marshaller = jaxbContext.createMarshaller();\n          marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\n          System.out.println(new Date());\n          marshaller.marshal(eft, new File(&quot;eft.xml&quot;));\n\n          System.out.println(new Date());\n        } catch (JAXBException e) {\n          e.printStackTrace();\n        }\n\n      }\n\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriver","chromium"],"comments":[{"owner":{"account_id":6929975,"reputation":2454,"user_id":5319738,"display_name":"Kamal"},"score":0,"creation_date":1549524302,"post_id":54567901,"comment_id":95934453,"body_markdown":"As per docs [here](https://www.seleniumhq.org/docs/01_introducing_selenium.jsp#supported-browsers-and-platforms), chromium is not supported.","body":"As per docs <a href=\"https://www.seleniumhq.org/docs/01_introducing_selenium.jsp#supported-browsers-and-platforms\" rel=\"nofollow noreferrer\">here</a>, chromium is not supported."},{"owner":{"account_id":14893430,"reputation":131,"user_id":11026797,"display_name":"Nikita Milaserdov"},"score":0,"creation_date":1549524794,"post_id":54567901,"comment_id":95934621,"body_markdown":"@Kamal by the way recently I saw programmers run autotests on Chromium using JavaScript and Selenium. I can&#39;t remember where I saw it","body":"@Kamal by the way recently I saw programmers run autotests on Chromium using JavaScript and Selenium. I can&#39;t remember where I saw it"},{"owner":{"account_id":6929975,"reputation":2454,"user_id":5319738,"display_name":"Kamal"},"score":0,"creation_date":1549525185,"post_id":54567901,"comment_id":95934789,"body_markdown":"Please check https://stackoverflow.com/questions/5731953/use-selenium-with-chromium-browser","body":"Please check <a href=\"https://stackoverflow.com/questions/5731953/use-selenium-with-chromium-browser\" title=\"use selenium with chromium browser\">stackoverflow.com/questions/5731953/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1580039038,"creation_date":1549525585,"answer_id":54568535,"question_id":54567901,"body_markdown":"_Chromium Browser_ have different version as follows:\r\n\r\n- _Chrome Canary_\r\n- Chrome from _Dev Channel_\r\n- Raw build of _Chromium for Windows x64_\r\n\r\nNot sure which _Chromium Browser_ version you are trying to use.\r\n\r\nHowever to use _Chrome Canary_ version you can use the _ChromeOptions_ and `setBinary()` method to set the _absolute path_ of the _Chrome Canary_ binary and you can use the following solution:\r\n\r\n- Code Block:\r\n\r\n\t\timport org.openqa.selenium.WebDriver;\r\n\t\timport org.openqa.selenium.chrome.ChromeDriver;\r\n\t\timport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n\t\tpublic class A_Chrome_Canary {\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\t    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Utility\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\r\n\t\t\t    ChromeOptions opt = new ChromeOptions();\r\n\t\t\t    opt.setBinary(&quot;C:\\\\Users\\\\AtechM_03\\\\AppData\\\\Local\\\\Google\\\\Chrome SxS\\\\Application\\\\chrome.exe&quot;);\r\n\t\t\t    WebDriver driver = new ChromeDriver(opt);\r\n\t\t\t    driver.get(&quot;https://www.google.com/&quot;);\r\n\t\t\t    System.out.println(driver.getTitle());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n- Console Output:\r\n\r\n        Google\r\n\r\n- Browser Snapshot:\r\n\r\n![Chrome_Canary](https://i.stack.imgur.com/KEziL.png)\r\n\r\n\r\n----------\r\n\r\n\r\nUpdate\r\n------\r\nNot clear from your comments but you need to download the latest _Chromium_ binary from either of the official repositories:\r\n\r\n- [The Chromium Projects](https://www.chromium.org/getting-involved/download-chromium)\r\n- [chromium.appspot](https://download-chromium.appspot.com/)\r\n- [Chrome Canary - Nightly build for developers](https://www.google.com/intl/en/chrome/canary/)","title":"How to run a Chromium Browser with Selenium?","body":"<p><em>Chromium Browser</em> have different version as follows:</p>\n\n<ul>\n<li><em>Chrome Canary</em></li>\n<li>Chrome from <em>Dev Channel</em></li>\n<li>Raw build of <em>Chromium for Windows x64</em></li>\n</ul>\n\n<p>Not sure which <em>Chromium Browser</em> version you are trying to use.</p>\n\n<p>However to use <em>Chrome Canary</em> version you can use the <em>ChromeOptions</em> and <code>setBinary()</code> method to set the <em>absolute path</em> of the <em>Chrome Canary</em> binary and you can use the following solution:</p>\n\n<ul>\n<li><p>Code Block:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class A_Chrome_Canary {\n\n    public static void main(String[] args) {\n\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Utility\\\\BrowserDrivers\\\\chromedriver.exe\");\n        ChromeOptions opt = new ChromeOptions();\n        opt.setBinary(\"C:\\\\Users\\\\AtechM_03\\\\AppData\\\\Local\\\\Google\\\\Chrome SxS\\\\Application\\\\chrome.exe\");\n        WebDriver driver = new ChromeDriver(opt);\n        driver.get(\"https://www.google.com/\");\n        System.out.println(driver.getTitle());\n    }\n}\n</code></pre></li>\n<li><p>Console Output:</p>\n\n<pre><code>Google\n</code></pre></li>\n<li><p>Browser Snapshot:</p></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/KEziL.png\" alt=\"Chrome_Canary\"></p>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>Not clear from your comments but you need to download the latest <em>Chromium</em> binary from either of the official repositories:</p>\n\n<ul>\n<li><a href=\"https://www.chromium.org/getting-involved/download-chromium\" rel=\"nofollow noreferrer\">The Chromium Projects</a></li>\n<li><a href=\"https://download-chromium.appspot.com/\" rel=\"nofollow noreferrer\">chromium.appspot</a></li>\n<li><a href=\"https://www.google.com/intl/en/chrome/canary/\" rel=\"nofollow noreferrer\">Chrome Canary - Nightly build for developers</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14893430,"reputation":131,"user_id":11026797,"display_name":"Nikita Milaserdov"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1549527587,"creation_date":1549527290,"answer_id":54568928,"question_id":54567901,"body_markdown":"With the help of [DebanjanB&#39;s answer](https://stackoverflow.com/a/54568535), I developed the following code that can run on Chromium:\r\n\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n    public class A_Chrome_Canary {\r\n\r\n        public static void main (String[] args){\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\chromedriver.exe&quot;);\r\n\r\n        ChromeOptions opt = new ChromeOptions();\r\n\r\n        opt.setBinary(&quot;C:\\\\Users\\\\User\\\\Downloads\\\\chrome-win\\\\chrome-win\\\\chrome.exe&quot;);\r\n\r\n        WebDriver driver = new ChromeDriver(opt);\r\n\r\n        driver.get(&quot;https://www.google.com/&quot;);\r\n\r\n        System.out.println(driver.getTitle());\r\n\r\n        }\r\n    }","title":"How to run a Chromium Browser with Selenium?","body":"<p>With the help of <a href=\"https://stackoverflow.com/a/54568535\">DebanjanB's answer</a>, I developed the following code that can run on Chromium:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class A_Chrome_Canary {\n\n    public static void main (String[] args){\n\n    System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\chromedriver.exe\");\n\n    ChromeOptions opt = new ChromeOptions();\n\n    opt.setBinary(\"C:\\\\Users\\\\User\\\\Downloads\\\\chrome-win\\\\chrome-win\\\\chrome.exe\");\n\n    WebDriver driver = new ChromeDriver(opt);\n\n    driver.get(\"https://www.google.com/\");\n\n    System.out.println(driver.getTitle());\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14893430,"reputation":131,"user_id":11026797,"display_name":"Nikita Milaserdov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21730,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1677129319,"creation_date":1549522827,"question_id":54567901,"body_markdown":"Is it possible to run a Selenium test in Chromium Browser (not Google Chrome Browser)?\r\n\r\nMy [Google Drive][1] location:\r\n\r\n![Google Drive location](https://i.stack.imgur.com/VmjtD.jpg)\r\n\r\nMy Chromium location:\r\n\r\n![Chromium location](https://i.stack.imgur.com/eCn5D.jpg)\r\n\r\nFYI: I am using Java\r\n\r\nMy code (at the moment I am running FirefoxDriver (gecko):\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\n    public class MainClass {\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\geckodriver.exe&quot;);\r\n        WebDriver driver = new FirefoxDriver();\r\n        driver.get(&quot;https://www.seleniumhq.org/&quot;);\r\n       }\r\n    }\r\n\r\nI thought that this code would help, but it was without success. It runs Google Chrome, not Chromium:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n    public class Chromium {\r\n\r\n        public static void main(String[] args) {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\chromedriver.exe&quot;);\r\n            System.setProperty(&quot;webdriver.chrome.binary&quot;, &quot;C:\\\\Users\\\\User\\\\Downloads\\\\chrome-win\\\\chrome-win\\\\chrome.exe&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.get(&quot;https://www.seleniumhq.org/&quot;);\r\n        }\r\n    }\r\n\r\nWhat could be the problem? How can this question be resolved?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Google_Drive\r\n\r\n","title":"How to run a Chromium Browser with Selenium?","body":"<p>Is it possible to run a Selenium test in Chromium Browser (not Google Chrome Browser)?</p>\n<p>My <a href=\"https://en.wikipedia.org/wiki/Google_Drive\" rel=\"nofollow noreferrer\">Google Drive</a> location:</p>\n<p><img src=\"https://i.stack.imgur.com/VmjtD.jpg\" alt=\"Google Drive location\" /></p>\n<p>My Chromium location:</p>\n<p><img src=\"https://i.stack.imgur.com/eCn5D.jpg\" alt=\"Chromium location\" /></p>\n<p>FYI: I am using Java</p>\n<p>My code (at the moment I am running FirefoxDriver (gecko):</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class MainClass {\n\npublic static void main(String[] args) {\n    System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\geckodriver.exe&quot;);\n    WebDriver driver = new FirefoxDriver();\n    driver.get(&quot;https://www.seleniumhq.org/&quot;);\n   }\n}\n</code></pre>\n<p>I thought that this code would help, but it was without success. It runs Google Chrome, not Chromium:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Chromium {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\testselenium\\\\drivers\\\\chromedriver.exe&quot;);\n        System.setProperty(&quot;webdriver.chrome.binary&quot;, &quot;C:\\\\Users\\\\User\\\\Downloads\\\\chrome-win\\\\chrome-win\\\\chrome.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.seleniumhq.org/&quot;);\n    }\n}\n</code></pre>\n<p>What could be the problem? How can this question be resolved?</p>\n"},{"tags":["java","swing","jtextpane","text-coloring"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1676705510,"post_id":75491751,"comment_id":133195007,"body_markdown":"An IDE requires you to type the text before it can &quot;color&quot; it.  A [JTextPane](https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html) uses a [StyledDocument](https://docs.oracle.com/javase/8/docs/api/javax/swing/text/StyledDocument.html).  You have to modify the `StyledDocument` as the user types.","body":"An IDE requires you to type the text before it can &quot;color&quot; it.  A <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html\" rel=\"nofollow noreferrer\">JTextPane</a> uses a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/StyledDocument.html\" rel=\"nofollow noreferrer\">StyledDocument</a>.  You have to modify the <code>StyledDocument</code> as the user types."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1676705703,"post_id":75491751,"comment_id":133195026,"body_markdown":"You&#39;re going to need to take deep dive into the `StyledDocment`, for [example](https://stackoverflow.com/questions/15916249/colorpane-grab-strings-of-different-character-possible/15916621#15916621) and [example](https://stackoverflow.com/questions/18948148/jeditorpane-set-foreground-color-for-different-words/18948340#18948340) but I just want to point out that syntax highlight is VERY complex","body":"You&#39;re going to need to take deep dive into the <code>StyledDocment</code>, for <a href=\"https://stackoverflow.com/questions/15916249/colorpane-grab-strings-of-different-character-possible/15916621#15916621\">example</a> and <a href=\"https://stackoverflow.com/questions/18948148/jeditorpane-set-foreground-color-for-different-words/18948340#18948340\">example</a> but I just want to point out that syntax highlight is VERY complex"},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1676733232,"post_id":75491751,"comment_id":133198553,"body_markdown":"I will try viewing IntelliJ and webstorm&#39;s source code.","body":"I will try viewing IntelliJ and webstorm&#39;s source code."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1676741383,"post_id":75491751,"comment_id":133200081,"body_markdown":"Highlighting is the easy part. Parsing the text to find the tokens to highlight is the hard part as you need to consider things like multi-line comments, keywords within quotes etc. You can check out my old attempt at a Java syntax highlighter: https://stackoverflow.com/a/27338679/131872","body":"Highlighting is the easy part. Parsing the text to find the tokens to highlight is the hard part as you need to consider things like multi-line comments, keywords within quotes etc. You can check out my old attempt at a Java syntax highlighter: <a href=\"https://stackoverflow.com/a/27338679/131872\">stackoverflow.com/a/27338679/131872</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676759209,"post_id":75491751,"comment_id":133203105,"body_markdown":"Then maybe have a look at [RSyntaxTextArea](https://bobbylight.github.io/RSyntaxTextArea/)","body":"Then maybe have a look at <a href=\"https://bobbylight.github.io/RSyntaxTextArea/\" rel=\"nofollow noreferrer\">RSyntaxTextArea</a>"},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1676876316,"post_id":75491751,"comment_id":133218464,"body_markdown":"@MadProgrammer Thanks, ill look at it.Gilbert Le Blanc Thank you too, now I get it...","body":"@MadProgrammer Thanks, ill look at it.Gilbert Le Blanc Thank you too, now I get it..."}],"answers":[{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677129183,"creation_date":1677129183,"answer_id":75540792,"question_id":75491751,"body_markdown":"Like [@MadProgrammer][1] mentioned, you can use [RSyntaxTextArea][2]. \r\n\r\nFrom its README:\r\n\r\n&gt; RSyntaxTextArea is a customizable, syntax highlighting text component\r\n&gt; for Java Swing applications. Out of the box, it supports syntax\r\n&gt; highlighting for 50+ programming languages, code folding, search and\r\n&gt; replace, and has add-on libraries for code completion and spell\r\n&gt; checking. Syntax highlighting for additional languages can be added\r\n&gt; via tools such as JFlex.\r\n\r\nExample Usage:- \r\n\r\n    import javax.swing.*;\r\n    import java.awt.BorderLayout;\r\n    \r\n    import org.fife.ui.rtextarea.*;\r\n    import org.fife.ui.rsyntaxtextarea.*;\r\n    \r\n    public class TextEditorDemo extends JFrame {\r\n    \r\n        public TextEditorDemo() {\r\n    \r\n            JPanel cp = new JPanel(new BorderLayout());\r\n    \r\n            RSyntaxTextArea textArea = new RSyntaxTextArea(20, 60);\r\n            textArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\r\n            textArea.setCodeFoldingEnabled(true);\r\n            RTextScrollPane sp = new RTextScrollPane(textArea);\r\n            cp.add(sp);\r\n    \r\n            setContentPane(cp);\r\n            setTitle(&quot;Text Editor Demo&quot;);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            pack();\r\n            setLocationRelativeTo(null);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            // Start all Swing applications on the EDT.\r\n            SwingUtilities.invokeLater(() -&gt; new TextEditorDemo().setVisible(true));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/992484/madprogrammer\r\n  [2]: https://github.com/bobbylight/RSyntaxTextArea","title":"How do I colorise certain words in JTextPane?","body":"<p>Like <a href=\"https://stackoverflow.com/users/992484/madprogrammer\">@MadProgrammer</a> mentioned, you can use <a href=\"https://github.com/bobbylight/RSyntaxTextArea\" rel=\"nofollow noreferrer\">RSyntaxTextArea</a>.</p>\n<p>From its README:</p>\n<blockquote>\n<p>RSyntaxTextArea is a customizable, syntax highlighting text component\nfor Java Swing applications. Out of the box, it supports syntax\nhighlighting for 50+ programming languages, code folding, search and\nreplace, and has add-on libraries for code completion and spell\nchecking. Syntax highlighting for additional languages can be added\nvia tools such as JFlex.</p>\n</blockquote>\n<p>Example Usage:-</p>\n<pre><code>import javax.swing.*;\nimport java.awt.BorderLayout;\n\nimport org.fife.ui.rtextarea.*;\nimport org.fife.ui.rsyntaxtextarea.*;\n\npublic class TextEditorDemo extends JFrame {\n\n    public TextEditorDemo() {\n\n        JPanel cp = new JPanel(new BorderLayout());\n\n        RSyntaxTextArea textArea = new RSyntaxTextArea(20, 60);\n        textArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\n        textArea.setCodeFoldingEnabled(true);\n        RTextScrollPane sp = new RTextScrollPane(textArea);\n        cp.add(sp);\n\n        setContentPane(cp);\n        setTitle(&quot;Text Editor Demo&quot;);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        pack();\n        setLocationRelativeTo(null);\n\n    }\n\n    public static void main(String[] args) {\n        // Start all Swing applications on the EDT.\n        SwingUtilities.invokeLater(() -&gt; new TextEditorDemo().setVisible(true));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1677361606,"accepted_answer_id":75540792,"answer_count":1,"score":-1,"last_activity_date":1677129183,"creation_date":1676704063,"question_id":75491751,"body_markdown":"I have a simple HTML text Editor which I&#39;m trying to convert into an IDE. I&#39;m finished with the basics (Like adding a file browser and running the project). The next obstacle I&#39;m facing is adding themes.\r\n\r\n I googled and found this [question](https://stackoverflow.com/questions/9650992/how-to-change-text-color-in-the-jtextarea) but it requires adding the text before changing its color. \\\r\nWhat behaviour I want is similar to JetBrains Webstorm (Or IntelliJ IDE):\r\n[![enter image description here][1]][1]\r\n\r\nThis is what it looks like as of now:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yfAvR.png\r\n  [2]: https://i.stack.imgur.com/VYXYK.png","title":"How do I colorise certain words in JTextPane?","body":"<p>I have a simple HTML text Editor which I'm trying to convert into an IDE. I'm finished with the basics (Like adding a file browser and running the project). The next obstacle I'm facing is adding themes.</p>\n<p>I googled and found this <a href=\"https://stackoverflow.com/questions/9650992/how-to-change-text-color-in-the-jtextarea\">question</a> but it requires adding the text before changing its color. <br />\nWhat behaviour I want is similar to JetBrains Webstorm (Or IntelliJ IDE):\n<a href=\"https://i.stack.imgur.com/yfAvR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yfAvR.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what it looks like as of now:\n<a href=\"https://i.stack.imgur.com/VYXYK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VYXYK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","terminal","compilation","vscode-code-runner","coderunner"],"answers":[{"tags":[],"owner":{"account_id":26266664,"reputation":58,"user_id":19937103,"display_name":"BaoTranHero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669879353,"creation_date":1669879353,"answer_id":74638221,"question_id":74637828,"body_markdown":"You should use different IDE to run your Java Code because VS Code doesn&#39;t support many features, try: intellij, eclipse,...\r\n\r\nOtherwise, please follow the instruction in: https://code.visualstudio.com/docs/languages/java\r\n\r\n&lt;em&gt;Check current JDK in your computer by typing following command in cmd:\r\n```\r\njava --version\r\n```","title":"Couldn&#39;t compile java in vs code","body":"<p>You should use different IDE to run your Java Code because VS Code doesn't support many features, try: intellij, eclipse,...</p>\n<p>Otherwise, please follow the instruction in: <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/languages/java</a></p>\n<p>Check current JDK in your computer by typing following command in cmd:</p>\n<pre><code>java --version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24610857,"reputation":21,"user_id":18512463,"display_name":"Tarun Pansotra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669879474,"creation_date":1669879474,"answer_id":74638240,"question_id":74637828,"body_markdown":"Intellij is also good or try to install plugin for java then you will able to run java on vs code.","title":"Couldn&#39;t compile java in vs code","body":"<p>Intellij is also good or try to install plugin for java then you will able to run java on vs code.</p>\n"}],"owner":{"account_id":27107411,"reputation":1,"user_id":20653060,"display_name":"Faris A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":770,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1677129006,"creation_date":1669876773,"question_id":74637828,"body_markdown":"I am not able to run java in vs code [my code]\r\n\r\n```\r\npublic class hello {\r\n\r\n    public static void main(String args[]) {\r\n        System.out.print(&quot;Hello World&quot;)\r\n    }\r\n}\r\n```\r\n\r\n. I don&#39;t even have an option of run code in terminal in my settings..It is not showing any error or anything too![erased the semi-colon; but not showing any error].JDK-19 is installed and working.\r\n\r\nI watched vids on youtube for a solution everyone is saying check &quot;run code in terminal&quot; option. I also downloaded an extention named code runner by which finally  &quot;run code in terminal&quot; option was there I checked it and it still didn&#39;t work.","title":"Couldn&#39;t compile java in vs code","body":"<p>I am not able to run java in vs code [my code]</p>\n<pre><code>public class hello {\n\n    public static void main(String args[]) {\n        System.out.print(&quot;Hello World&quot;)\n    }\n}\n</code></pre>\n<p>. I don't even have an option of run code in terminal in my settings..It is not showing any error or anything too![erased the semi-colon; but not showing any error].JDK-19 is installed and working.</p>\n<p>I watched vids on youtube for a solution everyone is saying check &quot;run code in terminal&quot; option. I also downloaded an extention named code runner by which finally  &quot;run code in terminal&quot; option was there I checked it and it still didn't work.</p>\n"},{"tags":["java","vscode-code-runner","coderunner"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670216389,"creation_date":1670216389,"answer_id":74683558,"question_id":74682683,"body_markdown":"You don&#39;t `cd` to the package directory, i.e. `CommandLineApp`. You `cd` to the parent directory of the package directory. And you give the fully qualified name when you launch the class, i.e:\r\n```none\r\njava CommandLineApp.HelloWorld\r\n```\r\nAlternatively, you use the `-classpath` option in the `java` command, i.e:\r\n```none\r\njava -cp dir CommandLineApp.HelloWorld\r\n```\r\nwhere `dir` is the path to the parent directory of `CommandLineApp`.\r\n\r\nPerhaps this [tutorial](https://docs.oracle.com/javase/tutorial/getStarted/index.html) will help.\r\n\r\nNote that, since JDK 11, you can also launch a Java source code file. Refer to the [documentation](https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html).\r\n\r\nBy the way, according to Java [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html), the package name should be something like `commandlineapp` or `commandline.app`","title":"Able to run Java code using Code Runner but not CLI","body":"<p>You don't <code>cd</code> to the package directory, i.e. <code>CommandLineApp</code>. You <code>cd</code> to the parent directory of the package directory. And you give the fully qualified name when you launch the class, i.e:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java CommandLineApp.HelloWorld\n</code></pre>\n<p>Alternatively, you use the <code>-classpath</code> option in the <code>java</code> command, i.e:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp dir CommandLineApp.HelloWorld\n</code></pre>\n<p>where <code>dir</code> is the path to the parent directory of <code>CommandLineApp</code>.</p>\n<p>Perhaps this <a href=\"https://docs.oracle.com/javase/tutorial/getStarted/index.html\" rel=\"nofollow noreferrer\">tutorial</a> will help.</p>\n<p>Note that, since JDK 11, you can also launch a Java source code file. Refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>By the way, according to Java <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>, the package name should be something like <code>commandlineapp</code> or <code>commandline.app</code></p>\n"}],"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74683558,"answer_count":1,"score":0,"last_activity_date":1677128981,"creation_date":1670206641,"question_id":74682683,"body_markdown":"Currently a beginner to `Java` and I have the extension `Code Runner` installed. I am able to run my code within the window via the `Run | Debug` options provided by `Code Runner`. However, after compiling the file with `javac`, I am unable to run the file. This is the basic code inside a filepath `CommandLineApp/HelloWorld.java`. \r\n\r\n```\r\npackage CommandLineApp;\r\npublic class HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world..!!!&quot;);\r\n    }    \r\n}\r\n\r\n```\r\n\r\nAfter I `cd` into CommandLineApp, I ran\r\n```\r\njavac HelloWorld.java\r\njava HelloWorld\r\n```\r\n\r\nwhich gives me this error\r\n```\r\nError: Could not find or load main class HelloWorld\r\nCaused by: java.lang.NoClassDefFoundError: CommandLineApp/HelloWorld (wrong name: HelloWorld)\r\n```\r\n\r\nApologies if this is a really simple question!","title":"Able to run Java code using Code Runner but not CLI","body":"<p>Currently a beginner to <code>Java</code> and I have the extension <code>Code Runner</code> installed. I am able to run my code within the window via the <code>Run | Debug</code> options provided by <code>Code Runner</code>. However, after compiling the file with <code>javac</code>, I am unable to run the file. This is the basic code inside a filepath <code>CommandLineApp/HelloWorld.java</code>.</p>\n<pre><code>package CommandLineApp;\npublic class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world..!!!&quot;);\n    }    \n}\n\n</code></pre>\n<p>After I <code>cd</code> into CommandLineApp, I ran</p>\n<pre><code>javac HelloWorld.java\njava HelloWorld\n</code></pre>\n<p>which gives me this error</p>\n<pre><code>Error: Could not find or load main class HelloWorld\nCaused by: java.lang.NoClassDefFoundError: CommandLineApp/HelloWorld (wrong name: HelloWorld)\n</code></pre>\n<p>Apologies if this is a really simple question!</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677128817,"creation_date":1677128817,"answer_id":75540749,"question_id":75363325,"body_markdown":"If you use a windowed aggregation, the corresponding store is actually multiple RocksDBs (so-called segments), each storing all windows for a particular time-slice. IIRC, the minimum segment size is 60 seconds.\r\n\r\nWhile time progressed, new segment-stores are created (resulting in the log line you see), while older segments are cleaned up. It&#39;s nothing to worry about in general. Note, it&#39;s just an INFO log.","title":"Kafka Streams Opening StateStore log loop","body":"<p>If you use a windowed aggregation, the corresponding store is actually multiple RocksDBs (so-called segments), each storing all windows for a particular time-slice. IIRC, the minimum segment size is 60 seconds.</p>\n<p>While time progressed, new segment-stores are created (resulting in the log line you see), while older segments are cleaned up. It's nothing to worry about in general. Note, it's just an INFO log.</p>\n"}],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75540749,"answer_count":1,"score":1,"last_activity_date":1677128817,"creation_date":1675697419,"question_id":75363325,"body_markdown":"I have the following topology definition and there are two application instances on the environment:\r\n\r\n        KStream&lt;String, ObjectMessage&gt; stream = kStreamBuilder.stream(inputTopic);\r\n        stream.mapValues(new ProtobufObjectConverter())\r\n                .groupByKey()\r\n                .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofMillis(100)))\r\n                .aggregate(AggregatedObject::new, new ObjectAggregator(), buildStateStore(storeName))\r\n                .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded().withMaxRecords(config.suppressionBufferSize())))\r\n                .mapValues(new AggregatedObjectProtobufConverter())\r\n                .toStream((key, value) -&gt; key.key())\r\n                .to(outputTopic);\r\n\r\n    private Materialized&lt;String, AggregatedObject, WindowStore&lt;Bytes, byte[]&gt;&gt; buildStateStore(String storeName) {\r\n        return Materialized.&lt;String, AggregatedObject, WindowStore&lt;Bytes, byte[]&gt;&gt;as(storeName)\r\n                .withKeySerde(Serdes.String())\r\n                .withValueSerde(new JsonSerde&lt;&gt;(AggregatedObject.class));\r\n    }\r\n\r\nThis topology is created for multiple input topics in a `for` loop so once application instance has multiple topologies. Every toplogy has a state store created from the pattern `KSTREAM-AGGREGATE-%s-STATE-STORE-0000000001` like `Opening store KSTREAM-AGGREGATE-my.topic.name-STATE-STORE-0000000001`.\r\n\r\nNow, **until recently** we didn&#39;t have configured `state-dir` directory and since we used K8S stateful-set, the store wasn&#39;t persisted between restarts, so application had to rebuild the state as far as I understand how `kafka-streams` work.\r\n\r\nOur logs were full of logs like below, but only with changing time (the suffix after last dot).\r\n\r\n    INFO 1 --- [-StreamThread-1] o.a.k.s.s.i.RocksDBTimestampedStore Opening store KSTREAM-AGGREGATE-my.topic.name-STATE-STORE-0000000001.1675576920000 in regular mode\r\n\r\nHowever the time in millis `1675576920000` is one day ago and some are even from 3 days ago. Today I added the `state-dir` to the app, but this log is still being shown all the time. Should we simply wait some time until everything be processed or we are doing something wrong?\r\n\r\nCan someone explain to me why `RocksDBTimestampedStore` is logging so much? Also, the time that is being logged from those stores is not `100 ms` as defined by windowed operation, why?","title":"Kafka Streams Opening StateStore log loop","body":"<p>I have the following topology definition and there are two application instances on the environment:</p>\n<pre><code>    KStream&lt;String, ObjectMessage&gt; stream = kStreamBuilder.stream(inputTopic);\n    stream.mapValues(new ProtobufObjectConverter())\n            .groupByKey()\n            .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofMillis(100)))\n            .aggregate(AggregatedObject::new, new ObjectAggregator(), buildStateStore(storeName))\n            .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded().withMaxRecords(config.suppressionBufferSize())))\n            .mapValues(new AggregatedObjectProtobufConverter())\n            .toStream((key, value) -&gt; key.key())\n            .to(outputTopic);\n\nprivate Materialized&lt;String, AggregatedObject, WindowStore&lt;Bytes, byte[]&gt;&gt; buildStateStore(String storeName) {\n    return Materialized.&lt;String, AggregatedObject, WindowStore&lt;Bytes, byte[]&gt;&gt;as(storeName)\n            .withKeySerde(Serdes.String())\n            .withValueSerde(new JsonSerde&lt;&gt;(AggregatedObject.class));\n}\n</code></pre>\n<p>This topology is created for multiple input topics in a <code>for</code> loop so once application instance has multiple topologies. Every toplogy has a state store created from the pattern <code>KSTREAM-AGGREGATE-%s-STATE-STORE-0000000001</code> like <code>Opening store KSTREAM-AGGREGATE-my.topic.name-STATE-STORE-0000000001</code>.</p>\n<p>Now, <strong>until recently</strong> we didn't have configured <code>state-dir</code> directory and since we used K8S stateful-set, the store wasn't persisted between restarts, so application had to rebuild the state as far as I understand how <code>kafka-streams</code> work.</p>\n<p>Our logs were full of logs like below, but only with changing time (the suffix after last dot).</p>\n<pre><code>INFO 1 --- [-StreamThread-1] o.a.k.s.s.i.RocksDBTimestampedStore Opening store KSTREAM-AGGREGATE-my.topic.name-STATE-STORE-0000000001.1675576920000 in regular mode\n</code></pre>\n<p>However the time in millis <code>1675576920000</code> is one day ago and some are even from 3 days ago. Today I added the <code>state-dir</code> to the app, but this log is still being shown all the time. Should we simply wait some time until everything be processed or we are doing something wrong?</p>\n<p>Can someone explain to me why <code>RocksDBTimestampedStore</code> is logging so much? Also, the time that is being logged from those stores is not <code>100 ms</code> as defined by windowed operation, why?</p>\n"},{"tags":["java","maven","apache-phoenix","azure-artifacts"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1677153210,"post_id":75540718,"comment_id":133283448,"body_markdown":"Why not add the Cloudera repository as additional `&lt;repository&gt;` to your `settings.xml`? Or otherwise, add it to Azure DevOps, if possible.","body":"Why not add the Cloudera repository as additional <code>&lt;repository&gt;</code> to your <code>settings.xml</code>? Or otherwise, add it to Azure DevOps, if possible."},{"owner":{"account_id":1491871,"reputation":615,"user_id":1398786,"display_name":"vmaroli"},"score":0,"creation_date":1677153403,"post_id":75540718,"comment_id":133283515,"body_markdown":"I am looking for ways to add Cloudera repository as an upstream repository to Azure Artifacts (which is the Maven repository in Azure DevOps). From the Azure DevOps portal, there is an option to add new upstream but only allows npm repositories not Maven repositories.","body":"I am looking for ways to add Cloudera repository as an upstream repository to Azure Artifacts (which is the Maven repository in Azure DevOps). From the Azure DevOps portal, there is an option to add new upstream but only allows npm repositories not Maven repositories."},{"owner":{"account_id":1491871,"reputation":615,"user_id":1398786,"display_name":"vmaroli"},"score":0,"creation_date":1677690302,"post_id":75540718,"comment_id":133389040,"body_markdown":"According to Microsoft support, Azure Artifacts support Maven Central, Google Maven Repository, Gradle Plugins, and JitPack as upstream sources for Maven. So as suggested added additional &lt;repository&gt; to get the build working.","body":"According to Microsoft support, Azure Artifacts support Maven Central, Google Maven Repository, Gradle Plugins, and JitPack as upstream sources for Maven. So as suggested added additional &lt;repository&gt; to get the build working."}],"owner":{"account_id":1491871,"reputation":615,"user_id":1398786,"display_name":"vmaroli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677128454,"creation_date":1677128454,"question_id":75540718,"body_markdown":"I am starting to use Azure artifacts from Azure DevOps services as Maven repository for our Java projects. We have an application with following dependency for which build is failing as the dependency is not resolved. \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\r\n        &lt;artifactId&gt;phoenix-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0.7.2.8.5-5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n This artifact is located at Cloudera repository (https://repository.cloudera.com/artifactory/cloudera-repos/)\r\n\r\nI am not finding a way to add a new Maven upstream in Azure artifacts. Documentation says it supports certain upstream maven repositories only. \r\n\r\nI also tried with following version of the dependency, which available in maven central\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\r\n        &lt;artifactId&gt;phoenix-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0-HBase-2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nVersion 5.0.0-HBase-2.0 also resulted in error with following error\r\n\r\n    Failed to collect dependencies at org.apache.phoenix:phoenix-core:jar:5.0.0-HBase-2.0 -&gt; org.apache.hbase:hbase-mapreduce:jar:2.0.0 -&gt; org.apache.hbase:hbase-server:jar:2.0.0 -&gt; org.glassfish.web:javax.servlet.jsp:jar:2.3.2 -&gt; org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Failed to read artifact descriptor for org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Could not transfer artifact org.glassfish:javax.el:pom:3.0.1-b06-SNAPSHOT from/to maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories: [apache.snapshots (http://repository.apache.org/snapshots, default, snapshots)]\r\n\r\nAny suggestions to circumvent this?","title":"Azure artifacts - How to add additional Maven repositories as upstream","body":"<p>I am starting to use Azure artifacts from Azure DevOps services as Maven repository for our Java projects. We have an application with following dependency for which build is failing as the dependency is not resolved.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\n    &lt;artifactId&gt;phoenix-core&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0.7.2.8.5-5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This artifact is located at Cloudera repository (<a href=\"https://repository.cloudera.com/artifactory/cloudera-repos/\" rel=\"nofollow noreferrer\">https://repository.cloudera.com/artifactory/cloudera-repos/</a>)</p>\n<p>I am not finding a way to add a new Maven upstream in Azure artifacts. Documentation says it supports certain upstream maven repositories only.</p>\n<p>I also tried with following version of the dependency, which available in maven central</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\n    &lt;artifactId&gt;phoenix-core&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0-HBase-2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Version 5.0.0-HBase-2.0 also resulted in error with following error</p>\n<pre><code>Failed to collect dependencies at org.apache.phoenix:phoenix-core:jar:5.0.0-HBase-2.0 -&gt; org.apache.hbase:hbase-mapreduce:jar:2.0.0 -&gt; org.apache.hbase:hbase-server:jar:2.0.0 -&gt; org.glassfish.web:javax.servlet.jsp:jar:2.3.2 -&gt; org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Failed to read artifact descriptor for org.glassfish:javax.el:jar:3.0.1-b06-SNAPSHOT: Could not transfer artifact org.glassfish:javax.el:pom:3.0.1-b06-SNAPSHOT from/to maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories: [apache.snapshots (http://repository.apache.org/snapshots, default, snapshots)]\n</code></pre>\n<p>Any suggestions to circumvent this?</p>\n"},{"tags":["java","apache-commons-vfs","apache-vfs"],"owner":{"account_id":1590496,"reputation":1304,"user_id":1473907,"accept_rate":73,"display_name":"mcacorner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677128189,"creation_date":1676985835,"question_id":75521115,"body_markdown":"I am using apache VFS to perform file system operations for S3 using: https://github.com/abashev/vfs-s3\r\n\r\nIn case of version enabled bucket need to implement some of custom operation like: *delete files with all versions* (need to pass versionId along with S3 path)\r\n \r\n\r\nSo basically I need to add those function/signature in `org.apache.commons.vfs2.provider.AbstractFileObject&lt;AFS&gt;` and add implementation in `S3FileObject`\r\n\r\nIs this right way to achieve/handle my scenario?\r\nIs there any other thing to check?\r\n\r\n","title":"java: apache VFS implement custom function","body":"<p>I am using apache VFS to perform file system operations for S3 using: <a href=\"https://github.com/abashev/vfs-s3\" rel=\"nofollow noreferrer\">https://github.com/abashev/vfs-s3</a></p>\n<p>In case of version enabled bucket need to implement some of custom operation like: <em>delete files with all versions</em> (need to pass versionId along with S3 path)</p>\n<p>So basically I need to add those function/signature in <code>org.apache.commons.vfs2.provider.AbstractFileObject&lt;AFS&gt;</code> and add implementation in <code>S3FileObject</code></p>\n<p>Is this right way to achieve/handle my scenario?\nIs there any other thing to check?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":0,"creation_date":1675772998,"post_id":75367881,"comment_id":132996917,"body_markdown":"Hi @Deepack, I see that you deactivated the auto-commit, could you please share your consumer (subscribe/assign, poll and commit) code ?","body":"Hi @Deepack, I see that you deactivated the auto-commit, could you please share your consumer (subscribe/assign, poll and commit) code ?"},{"owner":{"account_id":2038203,"reputation":1330,"user_id":1820013,"display_name":"bbejeck"},"score":0,"creation_date":1675784233,"post_id":75367881,"comment_id":133000953,"body_markdown":"Hi @Deepack I see you&#39;re using a `KafkaAvroDeserializer` in that case you&#39;ll need to provide the consumer with `schema.registry.url` configuration.","body":"Hi @Deepack I see you&#39;re using a <code>KafkaAvroDeserializer</code> in that case you&#39;ll need to provide the consumer with <code>schema.registry.url</code> configuration."},{"owner":{"account_id":11921322,"reputation":7,"user_id":8723776,"display_name":"Deepak Dhaka"},"score":0,"creation_date":1675872305,"post_id":75367881,"comment_id":133022274,"body_markdown":"@bbejeck `schema.registry.url` configuration is already provided.","body":"@bbejeck <code>schema.registry.url</code> configuration is already provided."}],"owner":{"account_id":11921322,"reputation":7,"user_id":8723776,"display_name":"Deepak Dhaka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677128048,"creation_date":1675729740,"question_id":75367881,"body_markdown":"I&#39;m working on project, which uses Kafka. Getting Below \r\n\r\n`org.apache.kafka.clients.consumer.CommitFailedException: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.sendOffsetCommitRequest(ConsumerCoordinator.java:1246)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.commitOffsetsSync(ConsumerCoordinator.java:1105)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1501)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1448)\r\n\tat com.central.aggregation.engine.consumer.RecordProcessorBuilder$Acknowledger.acknowledge(RecordProcessorBuilder.java:112)\r\n\tat com.central.data.streams.commons.kafka.consumer.MessageProcessingTask.lambda$acknowledge$2(MessageProcessingTask.java:352)\r\n\tat org. spring framework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287)\r\n\tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:164)\r\n\tat com.central.data.streams.commons.kafka.consumer.MessageProcessingTask.acknowledge(MessageProcessingTask.java:344)\r\n\tat com.central.data.streams.commons.kafka.consumer.RecordProcessor.acknowledgeCompletedTasks(RecordProcessor.java:224)\r\n\tat com.central.data.streams.commons.kafka.consumer.TopicProcessor.acknowledgeCompletedTasks(TopicProcessor.java:520)\r\n\tat com.central.data.streams.commons.kafka.consumer.TopicProcessor.processTasks(TopicProcessor.java:368)\r\n\tat com.central.data.streams.commons.kafka.consumer.TopicProcessor.run(TopicProcessor.java:270)\r\n\tat java.lang.Thread.run(Thread.java:750)`\r\n\r\n\r\n\r\nMy understanding was, consumer get kicked out because processing is taking more time, but this part is also checked, that processing does not go beyond 2sec.\r\n\r\nKafka Config used : \r\n\r\n\r\n    Map&lt;String, Object&gt; properties = new KafkaConsumerConfigsBuilder(GROUP_ID)\r\n            .withConnectionConfigs(kafkaCredsStore)\r\n            .withEnableAutoCommit(false)\r\n            .build();\r\n\r\n        properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class.getName());\r\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class.getName());\r\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, GROUP_ID);\r\n        properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\r\n        properties.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 300000);\r\n        properties.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 1);\r\n\r\n        properties.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 60000);\r\n        properties.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, 20000);\r\n\r\n        return new KafkaConsumerFactory&lt;&gt;(topicName, properties);\r\n\r\n\r\nConsumer Code - \r\n\r\n     @Override\r\n    @Timed(name = &quot;timed.RecordProcessor.run&quot;, absolute = true)\r\n    public void run(MessageProcessingTask&lt;KafkaRecord&gt; task)\r\n    {\r\n        List&lt;MessageInfo&gt; messageInfoList = new ArrayList&lt;&gt;();\r\n        Map&lt;String, Long&gt; times = new HashMap&lt;&gt;();\r\n\r\n        List&lt;AggregationRecord&gt; aggregationRecords = null;\r\n        final List&lt;CompletionNotification&gt; notifications = new ArrayList&lt;&gt;();\r\n\r\n        final Counter counter = this.meterRegistry.counter(&quot;counted.RecordProcessor.recordLength&quot;);\r\n\r\n        List&lt;String&gt; commandAndTargetId = new ArrayList&lt;&gt;();\r\n        Stopwatch stopwatch = Stopwatch.createStarted();\r\n        times.put(&quot;messageReceiptInstant&quot;, Date.from(Instant.now()).getTime());\r\n        log.info(&quot;No. of messages picked from kafka broker: {}&quot;, task.getProcessableMessageContainers().size());\r\n\r\n        for (KafkaMessageContainer&lt;KafkaRecord&gt; messageContainer : task.getProcessableMessageContainers())\r\n        {\r\n            final KafkaRecord kafkaRecord = messageContainer.getMessage();\r\n\r\n            log.info(&quot;Received kafka record with commandId {}, targetId {}&quot;,\r\n                kafkaRecord.getCommandId(), kafkaRecord.getTargetId());\r\n\r\n            commandAndTargetId.add(String.join(&quot; : &quot;, kafkaRecord.getCommandId(), kafkaRecord.getTargetId()));\r\n            counter.increment(gsonConfig.gson().toJson(kafkaRecord).length());\r\n\r\n            Map&lt;String, Integer&gt; totalCounts = new HashMap&lt;&gt;();\r\n            aggregationRecords = createAggregationRecords(kafkaRecord, totalCounts);\r\n\r\n            MessageInfo messageInfo = new MessageInfo();\r\n            messageInfo.setCommandId(kafkaRecord.getCommandId());\r\n            messageInfo.setTargetId(kafkaRecord.getTargetId()); ...\r\n\r\nI&#39;m not sure where I&#39;m getting wrong, please help me in understanding this issue and suggest what can be done here.","title":"Kafka Issue - CommitFailedException [it is likely that the consumer was kicked out of the group]","body":"<p>I'm working on project, which uses Kafka. Getting Below</p>\n<p><code>org.apache.kafka.clients.consumer.CommitFailedException: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group. at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.sendOffsetCommitRequest(ConsumerCoordinator.java:1246) at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.commitOffsetsSync(ConsumerCoordinator.java:1105) at org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1501) at org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1448) at com.central.aggregation.engine.consumer.RecordProcessorBuilder$Acknowledger.acknowledge(RecordProcessorBuilder.java:112) at com.central.data.streams.commons.kafka.consumer.MessageProcessingTask.lambda$acknowledge$2(MessageProcessingTask.java:352) at org. spring framework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287) at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:164) at com.central.data.streams.commons.kafka.consumer.MessageProcessingTask.acknowledge(MessageProcessingTask.java:344) at com.central.data.streams.commons.kafka.consumer.RecordProcessor.acknowledgeCompletedTasks(RecordProcessor.java:224) at com.central.data.streams.commons.kafka.consumer.TopicProcessor.acknowledgeCompletedTasks(TopicProcessor.java:520) at com.central.data.streams.commons.kafka.consumer.TopicProcessor.processTasks(TopicProcessor.java:368) at com.central.data.streams.commons.kafka.consumer.TopicProcessor.run(TopicProcessor.java:270) at java.lang.Thread.run(Thread.java:750)</code></p>\n<p>My understanding was, consumer get kicked out because processing is taking more time, but this part is also checked, that processing does not go beyond 2sec.</p>\n<p>Kafka Config used :</p>\n<pre><code>Map&lt;String, Object&gt; properties = new KafkaConsumerConfigsBuilder(GROUP_ID)\n        .withConnectionConfigs(kafkaCredsStore)\n        .withEnableAutoCommit(false)\n        .build();\n\n    properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class.getName());\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class.getName());\n    properties.put(ConsumerConfig.GROUP_ID_CONFIG, GROUP_ID);\n    properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n\n    properties.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 300000);\n    properties.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 1);\n\n    properties.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 60000);\n    properties.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, 20000);\n\n    return new KafkaConsumerFactory&lt;&gt;(topicName, properties);\n</code></pre>\n<p>Consumer Code -</p>\n<pre><code> @Override\n@Timed(name = &quot;timed.RecordProcessor.run&quot;, absolute = true)\npublic void run(MessageProcessingTask&lt;KafkaRecord&gt; task)\n{\n    List&lt;MessageInfo&gt; messageInfoList = new ArrayList&lt;&gt;();\n    Map&lt;String, Long&gt; times = new HashMap&lt;&gt;();\n\n    List&lt;AggregationRecord&gt; aggregationRecords = null;\n    final List&lt;CompletionNotification&gt; notifications = new ArrayList&lt;&gt;();\n\n    final Counter counter = this.meterRegistry.counter(&quot;counted.RecordProcessor.recordLength&quot;);\n\n    List&lt;String&gt; commandAndTargetId = new ArrayList&lt;&gt;();\n    Stopwatch stopwatch = Stopwatch.createStarted();\n    times.put(&quot;messageReceiptInstant&quot;, Date.from(Instant.now()).getTime());\n    log.info(&quot;No. of messages picked from kafka broker: {}&quot;, task.getProcessableMessageContainers().size());\n\n    for (KafkaMessageContainer&lt;KafkaRecord&gt; messageContainer : task.getProcessableMessageContainers())\n    {\n        final KafkaRecord kafkaRecord = messageContainer.getMessage();\n\n        log.info(&quot;Received kafka record with commandId {}, targetId {}&quot;,\n            kafkaRecord.getCommandId(), kafkaRecord.getTargetId());\n\n        commandAndTargetId.add(String.join(&quot; : &quot;, kafkaRecord.getCommandId(), kafkaRecord.getTargetId()));\n        counter.increment(gsonConfig.gson().toJson(kafkaRecord).length());\n\n        Map&lt;String, Integer&gt; totalCounts = new HashMap&lt;&gt;();\n        aggregationRecords = createAggregationRecords(kafkaRecord, totalCounts);\n\n        MessageInfo messageInfo = new MessageInfo();\n        messageInfo.setCommandId(kafkaRecord.getCommandId());\n        messageInfo.setTargetId(kafkaRecord.getTargetId()); ...\n</code></pre>\n<p>I'm not sure where I'm getting wrong, please help me in understanding this issue and suggest what can be done here.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1677126914,"post_id":75540415,"comment_id":133277555,"body_markdown":"Possible duplicates: https://stackoverflow.com/q/10373077/12715723 &amp; https://stackoverflow.com/q/28753473/12715723","body":"Possible duplicates: <a href=\"https://stackoverflow.com/q/10373077/12715723\">stackoverflow.com/q/10373077/12715723</a> &amp; <a href=\"https://stackoverflow.com/q/28753473/12715723\">stackoverflow.com/q/28753473/12715723</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677137611,"post_id":75540415,"comment_id":133279280,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677148711,"post_id":75540415,"comment_id":133282205,"body_markdown":"Not many details provided, but it looks like you&#39;re using a newer Java version that isn&#39;t supported by the version of Spring Boot you&#39;re using.","body":"Not many details provided, but it looks like you&#39;re using a newer Java version that isn&#39;t supported by the version of Spring Boot you&#39;re using."}],"owner":{"account_id":27856766,"reputation":1,"user_id":21270092,"display_name":"iniya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677127885,"creation_date":1677124333,"question_id":75540415,"body_markdown":"```\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1007) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardService.stopInternal(StandardService.java:474) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:791) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.startup.Tomcat.stop(Tomcat.java:380) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:250) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopSilently(TomcatWebServer.java:238) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:124) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:414) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat com.itgig.api.Application.main(Application.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\nCaused by: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:267) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5367) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\t... 34 common frames omitted\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field static final java.util.concurrent.ConcurrentMap java.io.ObjectStreamClass$Caches.localDescs accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7ff2a664\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.clearCache(WebappClassLoaderBase.java:2206) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches(WebappClassLoaderBase.java:2194) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.clearReferences(WebappClassLoaderBase.java:1567) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.stop(WebappClassLoaderBase.java:1497) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.loader.WebappLoader.stopInternal(WebappLoader.java:442) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\t... 42 common frames omitted\r\n\r\n2023-02-23 09:15:26.405 ERROR 34040 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during stop\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during stop\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1007) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardService.stopInternal(StandardService.java:474) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:791) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.startup.Tomcat.stop(Tomcat.java:380) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:250) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopSilently(TomcatWebServer.java:238) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:124) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:414) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat com.itgig.api.Application.main(Application.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during stop\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1015) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\t... 27 common frames omitted\r\n```\r\n\r\nI can&#39;t resolve how to setup intellij ","title":"while setup my intellij the following errors occurred","body":"<pre><code>java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1007) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:474) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:791) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:380) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:250) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopSilently(TomcatWebServer.java:238) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:124) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:414) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at com.itgig.api.Application.main(Application.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nCaused by: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:267) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5367) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    ... 34 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field static final java.util.concurrent.ConcurrentMap java.io.ObjectStreamClass$Caches.localDescs accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7ff2a664\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n    at org.apache.catalina.loader.WebappClassLoaderBase.clearCache(WebappClassLoaderBase.java:2206) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches(WebappClassLoaderBase.java:2194) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.loader.WebappClassLoaderBase.clearReferences(WebappClassLoaderBase.java:1567) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.loader.WebappClassLoaderBase.stop(WebappClassLoaderBase.java:1497) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.loader.WebappLoader.stopInternal(WebappLoader.java:442) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    ... 42 common frames omitted\n\n2023-02-23 09:15:26.405 ERROR 34040 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during stop\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during stop\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1007) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:474) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:791) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:380) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:250) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopSilently(TomcatWebServer.java:238) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:124) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:414) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n    at com.itgig.api.Application.main(Application.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nCaused by: org.apache.catalina.LifecycleException: A child container failed during stop\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1015) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1445) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1434) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1001) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\n    ... 27 common frames omitted\n</code></pre>\n<p>I can't resolve how to setup intellij</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677094743,"post_id":75537411,"comment_id":133271904,"body_markdown":"It&#39;s not clear what &quot;at the end of the build&quot; means; please include the actual text output and the relevant portions of the pom and build config..","body":"It&#39;s not clear what &quot;at the end of the build&quot; means; please include the actual text output and the relevant portions of the pom and build config.."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1677095257,"post_id":75537411,"comment_id":133272017,"body_markdown":"Can you try to remove the `fasterxml` dependency in your Maven cache and rebuild.  It&#39;ll be something like `~/.m2/repository/com/fasterxml`.  I&#39;d remove the entire `fasterxml` directory and let Maven re-download.  It&#39;s uncommon but I&#39;ve seen this happen once in a while.","body":"Can you try to remove the <code>fasterxml</code> dependency in your Maven cache and rebuild.  It&#39;ll be something like <code>~&#47;.m2&#47;repository&#47;com&#47;fasterxml</code>.  I&#39;d remove the entire <code>fasterxml</code> directory and let Maven re-download.  It&#39;s uncommon but I&#39;ve seen this happen once in a while."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677098003,"post_id":75537411,"comment_id":133272737,"body_markdown":"And make sure that your IDEA uses the same maven (including the right .m2 folder) that you are modifying.","body":"And make sure that your IDEA uses the same maven (including the right .m2 folder) that you are modifying."},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1677126713,"post_id":75537411,"comment_id":133277536,"body_markdown":"Thanks for the inputs everyone. Got a resolve to this. Added package name to the annotation in my openapi maven plugin config options and issue was fixed.","body":"Thanks for the inputs everyone. Got a resolve to this. Added package name to the annotation in my openapi maven plugin config options and issue was fixed."}],"answers":[{"tags":[],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677126724,"creation_date":1677126724,"answer_id":75540579,"question_id":75537411,"body_markdown":"Thanks for the inputs everyone. Got a resolve to this. Added package name to the annotation in my openapi maven plugin config options and issue was fixed.","title":"can not find symbol even with maven dependency","body":"<p>Thanks for the inputs everyone. Got a resolve to this. Added package name to the annotation in my openapi maven plugin config options and issue was fixed.</p>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75540579,"answer_count":1,"score":0,"last_activity_date":1677126724,"creation_date":1677094604,"question_id":75537411,"body_markdown":"Going nuts over this now. POM has the right dependency and the generated model from YAML has the proper `@JSONIgnoreProperties` annotation. I can even click on it to validate that its coming from right dependency. But at the end of the build, whether using Intelij Idea or terminal, there is a failure: `Can not find symbol JsonIgnoreProperties.`\r\n\r\nBelow is the screenshot of generated model, but after writing the file, build is failing in compilation phase.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/npYmu.png","title":"can not find symbol even with maven dependency","body":"<p>Going nuts over this now. POM has the right dependency and the generated model from YAML has the proper <code>@JSONIgnoreProperties</code> annotation. I can even click on it to validate that its coming from right dependency. But at the end of the build, whether using Intelij Idea or terminal, there is a failure: <code>Can not find symbol JsonIgnoreProperties.</code></p>\n<p>Below is the screenshot of generated model, but after writing the file, build is failing in compilation phase.</p>\n<p><a href=\"https://i.stack.imgur.com/npYmu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npYmu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":11427641,"reputation":53,"user_id":8377372,"display_name":"im dumb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677126499,"creation_date":1677126499,"question_id":75540561,"body_markdown":"I have a Spring Boot 1.5.x/Spring Security 4.2.x application and I am trying to add a specific RequestMatcher _prior_ to a specific matcher that is instantiated from the client consuming the library. Specifically, I have a client writing their `WebSecurityConfigurerAdapter` like this:\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class MySecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests().requestMatcher(myFirstRequestMatcher)\r\n                          .and().antRequestMatcher(&quot;/endpoint**&quot;).permitAll().\r\n                          .and().anyRequest().authenticated();\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m building a library where I would like to &quot;inject&quot; my own endpoint just before the `anyRequest().authenticated()` is hit. In most cases, my custom request matcher is being added after the `anyRequest().authenticated()` matcher, so when it is evaluated in the FilterSecurityInterceptor, my matcher is never hit because the `anyRequest()` matcher matches first (since it comes before, and always matches).\r\n\r\nI&#39;ve tried to follow the directions [here](https://docs.spring.io/spring-security/site/docs/4.2.x/reference/htmlsingle/#jc-custom-dsls) for implementing a custom HttpConfigurer that will add the request matcher that I want, but based on my look through the code/debugging, the `WebSecurityConfigurerAdapter` will always run first, therefore the [ExpressionUrlAuthorizationConfigurer...Registry][1] will always evaluate have those added first, and since `anyRequest()` is at the end, it will effectively never be hit.\r\n\r\nIn this case, is there a way to add my matcher in a way that makes sense? Or is it better to just set up a filter and use my matcher within it to perform the processing, and just make sure the filter is ran first?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/4.2.x/apidocs/org/springframework/security/config/annotation/web/configurers/ExpressionUrlAuthorizationConfigurer.ExpressionInterceptUrlRegistry.html","title":"How can I ensure that a custom Spring Security HttpConfigurer adds its HttpSecurity configuration before the WebSecurityConfigurerAdapter does?","body":"<p>I have a Spring Boot 1.5.x/Spring Security 4.2.x application and I am trying to add a specific RequestMatcher <em>prior</em> to a specific matcher that is instantiated from the client consuming the library. Specifically, I have a client writing their <code>WebSecurityConfigurerAdapter</code> like this:</p>\n<pre><code>@EnableWebSecurity\npublic class MySecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().requestMatcher(myFirstRequestMatcher)\n                          .and().antRequestMatcher(&quot;/endpoint**&quot;).permitAll().\n                          .and().anyRequest().authenticated();\n    }\n}\n</code></pre>\n<p>I'm building a library where I would like to &quot;inject&quot; my own endpoint just before the <code>anyRequest().authenticated()</code> is hit. In most cases, my custom request matcher is being added after the <code>anyRequest().authenticated()</code> matcher, so when it is evaluated in the FilterSecurityInterceptor, my matcher is never hit because the <code>anyRequest()</code> matcher matches first (since it comes before, and always matches).</p>\n<p>I've tried to follow the directions <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/htmlsingle/#jc-custom-dsls\" rel=\"nofollow noreferrer\">here</a> for implementing a custom HttpConfigurer that will add the request matcher that I want, but based on my look through the code/debugging, the <code>WebSecurityConfigurerAdapter</code> will always run first, therefore the <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/apidocs/org/springframework/security/config/annotation/web/configurers/ExpressionUrlAuthorizationConfigurer.ExpressionInterceptUrlRegistry.html\" rel=\"nofollow noreferrer\">ExpressionUrlAuthorizationConfigurer...Registry</a> will always evaluate have those added first, and since <code>anyRequest()</code> is at the end, it will effectively never be hit.</p>\n<p>In this case, is there a way to add my matcher in a way that makes sense? Or is it better to just set up a filter and use my matcher within it to perform the processing, and just make sure the filter is ran first?</p>\n"},{"tags":["java","spring","spring-boot","properties","properties-file"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677134435,"post_id":75540057,"comment_id":133278637,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677137548,"post_id":75540057,"comment_id":133279262,"body_markdown":"How to pass properties to the application at startup is quite clearly explained in the documentation. What isn&#39;t clear about that or didn&#39;t you simply read the documentation about [externalizing configuration](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config)? It is the command line properties, just pass them as arguments, you could even pass them as a JSON string. When using Spring Cloud Config or Spring Vault you even have more options.","body":"How to pass properties to the application at startup is quite clearly explained in the documentation. What isn&#39;t clear about that or didn&#39;t you simply read the documentation about <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">externalizing configuration</a>? It is the command line properties, just pass them as arguments, you could even pass them as a JSON string. When using Spring Cloud Config or Spring Vault you even have more options."},{"owner":{"account_id":27856317,"reputation":11,"user_id":21269731,"display_name":"Aaron Sims"},"score":0,"creation_date":1677163827,"post_id":75540057,"comment_id":133286923,"body_markdown":"@M. deinum I asked how to pass a property&#39;s object, I didn&#39;t ask how to load one from a file. Obviously I would like to use a custom properties file reader that I implement myself. Even the yaml reader converts the yaml into a key value pair properties file. I also alluded to the fact that I want to do the same thing with an Spring XML configuration bean XML file.","body":"@M. deinum I asked how to pass a property&#39;s object, I didn&#39;t ask how to load one from a file. Obviously I would like to use a custom properties file reader that I implement myself. Even the yaml reader converts the yaml into a key value pair properties file. I also alluded to the fact that I want to do the same thing with an Spring XML configuration bean XML file."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677164361,"post_id":75540057,"comment_id":133287154,"body_markdown":"I suggest to read my comment again.. I nowhere state that you shoiuld load it from a file. You can simply pass arguments or a json structure.. I **nowhere** mentioned a file, so read again before you start accusing me of something I didn&#39;t say. If you want to implement your own go ahead, implement a `PropertySource` and use an `EnvironmentPostProcessor` to register it (explained in aforemented documentation as well!). I don&#39;t really see what a Spring XML file has to do with it as that can be loaded with `@ImportResource`.","body":"I suggest to read my comment again.. I nowhere state that you shoiuld load it from a file. You can simply pass arguments or a json structure.. I <b>nowhere</b> mentioned a file, so read again before you start accusing me of something I didn&#39;t say. If you want to implement your own go ahead, implement a <code>PropertySource</code> and use an <code>EnvironmentPostProcessor</code> to register it (explained in aforemented documentation as well!). I don&#39;t really see what a Spring XML file has to do with it as that can be loaded with <code>@ImportResource</code>."},{"owner":{"account_id":27856317,"reputation":11,"user_id":21269731,"display_name":"Aaron Sims"},"score":0,"creation_date":1679249870,"post_id":75540057,"comment_id":133683534,"body_markdown":"I am securing the application, I don&#39;t want an bad actor to be able to replace the application properties file in my application with their own text file to take over it. I don&#39;t want an internal bad actor with file system access to be able to read the configuration files, nor do I want to encrypt specific properties IE key value pair values, I want to encrypt the entire file so it cannot be modified or read. Therefore, I don&#39;t necessarily believe the external configuration properties documentation is adequate. A property source loads later on so that&#39;s not going to solve my app prop problem.","body":"I am securing the application, I don&#39;t want an bad actor to be able to replace the application properties file in my application with their own text file to take over it. I don&#39;t want an internal bad actor with file system access to be able to read the configuration files, nor do I want to encrypt specific properties IE key value pair values, I want to encrypt the entire file so it cannot be modified or read. Therefore, I don&#39;t necessarily believe the external configuration properties documentation is adequate. A property source loads later on so that&#39;s not going to solve my app prop problem."}],"owner":{"account_id":27856317,"reputation":11,"user_id":21269731,"display_name":"Aaron Sims"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677126135,"creation_date":1677119505,"question_id":75540057,"body_markdown":"How to pass in spring boot application properties directly at startup instead of using application.properties/application-profile.properties files? \r\n\r\nI&#39;m going to lead in with a similar question later about XML bean configuration files via in memory Strings, StringBuilder, or other mechanisms.\r\n\r\nThanks for all ideas, suggestions that can answer my questions.\r\n\r\nAaron\r\n\r\n\r\n\r\nI know how to use custom properties files with different annotations, but I&#39;m attempting some property loading that isn&#39;t file system based, therefore we could consider the properties files I want to load properties documents which could be represented by the properties class in Java. Or in spring boot whatever their custom class implementation is that they use for properties. And possibly how to even override it, and use a custom properties file reader.","title":"How to load Springboot application.properties, or application-profile.properties by passing in Properties objects at startup","body":"<p>How to pass in spring boot application properties directly at startup instead of using application.properties/application-profile.properties files?</p>\n<p>I'm going to lead in with a similar question later about XML bean configuration files via in memory Strings, StringBuilder, or other mechanisms.</p>\n<p>Thanks for all ideas, suggestions that can answer my questions.</p>\n<p>Aaron</p>\n<p>I know how to use custom properties files with different annotations, but I'm attempting some property loading that isn't file system based, therefore we could consider the properties files I want to load properties documents which could be represented by the properties class in Java. Or in spring boot whatever their custom class implementation is that they use for properties. And possibly how to even override it, and use a custom properties file reader.</p>\n"},{"tags":["java","android","android-studio","admob","mobile-ad-mediation"],"owner":{"account_id":27708047,"reputation":1,"user_id":21151280,"display_name":"labmember001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677125706,"creation_date":1677125706,"question_id":75540506,"body_markdown":"There&#39;s an app eFasteFree/bFastbFree which pays users for watching ads. User can watch ad by clicking on &quot;Go&quot; button. So I build the same model with different design, but I&#39;ve got ad serving limit(invalid traffic) 2 times on 2 different accounts. I want to know what am I doing wrong?\r\n\r\n\r\n\r\nP.S: My app is published and approved. I didn&#39;t use ad limit on first account but after getting Ad serving limit on 1 account, I added 30 ads limit. Those apps allow user to watch 45 ads per 30 mins. I allow users to watch 30 ads in 30 mins. I&#39;m using mediation too. \r\nAlso, I&#39;ve setup my phone as test device and there are no self-clicks. Does using the app on same Wi-Fi on where admob is logged in might be the reason?","title":"Get rid of Admob Ad serving limit","body":"<p>There's an app eFasteFree/bFastbFree which pays users for watching ads. User can watch ad by clicking on &quot;Go&quot; button. So I build the same model with different design, but I've got ad serving limit(invalid traffic) 2 times on 2 different accounts. I want to know what am I doing wrong?</p>\n<p>P.S: My app is published and approved. I didn't use ad limit on first account but after getting Ad serving limit on 1 account, I added 30 ads limit. Those apps allow user to watch 45 ads per 30 mins. I allow users to watch 30 ads in 30 mins. I'm using mediation too.\nAlso, I've setup my phone as test device and there are no self-clicks. Does using the app on same Wi-Fi on where admob is logged in might be the reason?</p>\n"},{"tags":["java","testing","jackson"],"answers":[{"tags":[],"owner":{"account_id":16109305,"reputation":360,"user_id":11627994,"display_name":"Baran Bursalı"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620868229,"creation_date":1620868229,"answer_id":67512737,"question_id":67512292,"body_markdown":"JSON parsing might be affected by `withDefaultPrettyPrinter()`. Try it without it.","title":"JSONException: Unparsable JSON string in test","body":"<p>JSON parsing might be affected by <code>withDefaultPrettyPrinter()</code>. Try it without it.</p>\n"},{"tags":[],"owner":{"account_id":17422707,"reputation":63,"user_id":12701399,"display_name":"Daniel Lopez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620912155,"creation_date":1620912155,"answer_id":67520004,"question_id":67512292,"body_markdown":"Using: \r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n\r\nInstead of: @WebMvcTest(TuCasitaController.class) solved it.","title":"JSONException: Unparsable JSON string in test","body":"<p>Using:\n@SpringBootTest\n@AutoConfigureMockMvc</p>\n<p>Instead of: @WebMvcTest(TuCasitaController.class) solved it.</p>\n"},{"tags":[],"owner":{"account_id":3985071,"reputation":970,"user_id":3285905,"accept_rate":67,"display_name":"Jos&#233; Mendes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632973920,"creation_date":1632973920,"answer_id":69385890,"question_id":67512292,"body_markdown":"It is probably happening because you are not Mocking your Service method properly. You MUST mock the service in order for it to work.\r\n\r\nExample:\r\n\r\n`Mockito.when(fooService.foo(fooString)).thenReturn(fooReturn);`","title":"JSONException: Unparsable JSON string in test","body":"<p>It is probably happening because you are not Mocking your Service method properly. You MUST mock the service in order for it to work.</p>\n<p>Example:</p>\n<p><code>Mockito.when(fooService.foo(fooString)).thenReturn(fooReturn);</code></p>\n"}],"owner":{"account_id":17422707,"reputation":63,"user_id":12701399,"display_name":"Daniel Lopez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4695,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1677124496,"creation_date":1620863049,"question_id":67512292,"body_markdown":"I&#39;m trying to run the next test:\r\n\r\n    @WebMvcTest(TuCasitaController.class)\r\n    class TuCasitaControllerTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mvc;\r\n    \r\n        @MockBean\r\n        private TuCasitaService tuCasitaService;\r\n    \r\n        ObjectMapper objectMapper;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            objectMapper = new ObjectMapper();\r\n        }\r\n    \r\n        @Test\r\n        public void testGetInfoHouse() throws Exception {\r\n            /* Given */\r\n            objectMapper.configure(SerializationFeature.WRAP_ROOT_VALUE, false);\r\n            ObjectWriter ow = objectMapper.writer().withDefaultPrettyPrinter();\r\n            String houseCorrect = ow.writeValueAsString(InfoTestGenerator.generatesCorrectTestInfo());\r\n            String expected = ow.writeValueAsString(InfoTestGenerator.generateValidResponse());\r\n            System.out.println(expected);\r\n            /* When */\r\n            mvc.perform(post(&quot;/info&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(houseCorrect))\r\n            /* Then */\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().json(expected));\r\n        }\r\n    }\r\n\r\nbut it throws an org.json.JSONException &quot;Unparsable JSON string&quot; on the line `.andExpect(content().json(expected))`. This is the object I&#39;m trying to parse: \r\n\r\n    public static Response generateValidResponse(){\r\n    \r\n        RoomArea room1 = RoomArea.builder().roomName(&quot;Recamara Principal&quot;).area(25).build();\r\n        RoomArea room2 = RoomArea.builder().roomName(&quot;Recamara Daniel&quot;).area(28).build();\r\n        RoomArea room3 = RoomArea.builder().roomName(&quot;Recamara Julieta&quot;).area(25).build();\r\n        RoomArea room4 = RoomArea.builder().roomName(&quot;Sala&quot;).area(100).build();\r\n        RoomArea room5 = RoomArea.builder().roomName(&quot;Comedor&quot;).area(16).build();\r\n        RoomArea room6 = RoomArea.builder().roomName(&quot;Cocina&quot;).area(12).build();\r\n        List&lt;RoomArea&gt; rooms = new ArrayList&lt;&gt;();\r\n        rooms.add(room1);\r\n        rooms.add(room2);\r\n        rooms.add(room3);\r\n        rooms.add(room4);\r\n        rooms.add(room5);\r\n        rooms.add(room6);\r\n\r\n        return Response.builder()\r\n                .nameHouse(&quot;Casa Familiar&quot;)\r\n                .totalArea(206.0)\r\n                .totalPrice(515000.0)\r\n                .biggestRoom(RoomDTO.builder()\r\n                        .roomName(&quot;Sala&quot;)\r\n                        .roomWidth(10)\r\n                        .roomLength(10)\r\n                        .build())\r\n                .roomAreas(rooms)\r\n                .build();\r\n    }\r\n\r\nAnd it looks like this when I print it after the objectWriter:\r\n\r\n```json\r\n{\r\n  &quot;nameHouse&quot; : &quot;Casa Familiar&quot;,\r\n  &quot;totalArea&quot; : 206.0,\r\n  &quot;totalPrice&quot; : 515000.0,\r\n  &quot;biggestRoom&quot; : {\r\n    &quot;roomName&quot; : &quot;Sala&quot;,\r\n    &quot;roomWidth&quot; : 10.0,\r\n    &quot;roomLength&quot; : 10.0\r\n  },\r\n  &quot;roomAreas&quot; : [ {\r\n    &quot;roomName&quot; : &quot;Recamara Principal&quot;,\r\n    &quot;area&quot; : 25.0\r\n  }, {\r\n    &quot;roomName&quot; : &quot;Recamara Daniel&quot;,\r\n    &quot;area&quot; : 28.0\r\n  }, {\r\n    &quot;roomName&quot; : &quot;Recamara Julieta&quot;,\r\n    &quot;area&quot; : 25.0\r\n  }, {\r\n    &quot;roomName&quot; : &quot;Sala&quot;,\r\n    &quot;area&quot; : 100.0\r\n  }, {\r\n    &quot;roomName&quot; : &quot;Comedor&quot;,\r\n    &quot;area&quot; : 16.0\r\n  }, {\r\n    &quot;roomName&quot; : &quot;Cocina&quot;,\r\n    &quot;area&quot; : 12.0\r\n  } ]\r\n}\r\n```\r\nAnyone knows why I&#39;m having this problem?","title":"JSONException: Unparsable JSON string in test","body":"<p>I'm trying to run the next test:</p>\n<pre><code>@WebMvcTest(TuCasitaController.class)\nclass TuCasitaControllerTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @MockBean\n    private TuCasitaService tuCasitaService;\n\n    ObjectMapper objectMapper;\n\n    @BeforeEach\n    void setUp() {\n        objectMapper = new ObjectMapper();\n    }\n\n    @Test\n    public void testGetInfoHouse() throws Exception {\n        /* Given */\n        objectMapper.configure(SerializationFeature.WRAP_ROOT_VALUE, false);\n        ObjectWriter ow = objectMapper.writer().withDefaultPrettyPrinter();\n        String houseCorrect = ow.writeValueAsString(InfoTestGenerator.generatesCorrectTestInfo());\n        String expected = ow.writeValueAsString(InfoTestGenerator.generateValidResponse());\n        System.out.println(expected);\n        /* When */\n        mvc.perform(post(&quot;/info&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(houseCorrect))\n        /* Then */\n                .andExpect(status().isOk())\n                .andExpect(content().json(expected));\n    }\n}\n</code></pre>\n<p>but it throws an org.json.JSONException &quot;Unparsable JSON string&quot; on the line <code>.andExpect(content().json(expected))</code>. This is the object I'm trying to parse:</p>\n<pre><code>public static Response generateValidResponse(){\n\n    RoomArea room1 = RoomArea.builder().roomName(&quot;Recamara Principal&quot;).area(25).build();\n    RoomArea room2 = RoomArea.builder().roomName(&quot;Recamara Daniel&quot;).area(28).build();\n    RoomArea room3 = RoomArea.builder().roomName(&quot;Recamara Julieta&quot;).area(25).build();\n    RoomArea room4 = RoomArea.builder().roomName(&quot;Sala&quot;).area(100).build();\n    RoomArea room5 = RoomArea.builder().roomName(&quot;Comedor&quot;).area(16).build();\n    RoomArea room6 = RoomArea.builder().roomName(&quot;Cocina&quot;).area(12).build();\n    List&lt;RoomArea&gt; rooms = new ArrayList&lt;&gt;();\n    rooms.add(room1);\n    rooms.add(room2);\n    rooms.add(room3);\n    rooms.add(room4);\n    rooms.add(room5);\n    rooms.add(room6);\n\n    return Response.builder()\n            .nameHouse(&quot;Casa Familiar&quot;)\n            .totalArea(206.0)\n            .totalPrice(515000.0)\n            .biggestRoom(RoomDTO.builder()\n                    .roomName(&quot;Sala&quot;)\n                    .roomWidth(10)\n                    .roomLength(10)\n                    .build())\n            .roomAreas(rooms)\n            .build();\n}\n</code></pre>\n<p>And it looks like this when I print it after the objectWriter:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;nameHouse&quot; : &quot;Casa Familiar&quot;,\n  &quot;totalArea&quot; : 206.0,\n  &quot;totalPrice&quot; : 515000.0,\n  &quot;biggestRoom&quot; : {\n    &quot;roomName&quot; : &quot;Sala&quot;,\n    &quot;roomWidth&quot; : 10.0,\n    &quot;roomLength&quot; : 10.0\n  },\n  &quot;roomAreas&quot; : [ {\n    &quot;roomName&quot; : &quot;Recamara Principal&quot;,\n    &quot;area&quot; : 25.0\n  }, {\n    &quot;roomName&quot; : &quot;Recamara Daniel&quot;,\n    &quot;area&quot; : 28.0\n  }, {\n    &quot;roomName&quot; : &quot;Recamara Julieta&quot;,\n    &quot;area&quot; : 25.0\n  }, {\n    &quot;roomName&quot; : &quot;Sala&quot;,\n    &quot;area&quot; : 100.0\n  }, {\n    &quot;roomName&quot; : &quot;Comedor&quot;,\n    &quot;area&quot; : 16.0\n  }, {\n    &quot;roomName&quot; : &quot;Cocina&quot;,\n    &quot;area&quot; : 12.0\n  } ]\n}\n</code></pre>\n<p>Anyone knows why I'm having this problem?</p>\n"},{"tags":["java","android","button","layout","grid-layout"],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677123875,"creation_date":1677123875,"question_id":75540386,"body_markdown":"Trying to get my items in `GridLayout`, but problem seems to appear on other layouts too.\r\n\r\nthis is how it looks like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OqU55.png\r\n\r\nProblem first appear when i change text position via `setGravity(Gravity.BOTTOM)` option. It shifts the absolute position of the image by 1\\3 of item size. I fight it with `setTranslationY(120)` and it worked for first row, but second row items are shifted down for 120px. Theoretically i can catch first 3 items with TranslationY and just not apply it on lower positions, but this is very lame. \r\n\r\nIs there any option to fight this all at once? \r\n\r\nButton generation code:\r\n\r\n```\r\nButton myButton = new Button(this);\r\n            myButton.setLayoutParams(new ViewGroup.LayoutParams(360, 360));\r\n            myLayout.addView(myButton);\r\n            String str = String.format(&quot;Button_%s&quot;, i);\r\n            String[] mainStr=storedItems2[i].split(&quot;&lt;&lt;&gt;&gt;&quot;);\r\n            String imgPath = mainStr[1].replaceFirst(&quot;&gt;&gt;&lt;&lt;&quot;,&quot;&quot;);\r\n            String description = mainStr[0];\r\n            myButton.setText(description);\r\n            myButton.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n            int imageId=0;\r\n            if (mainStr.length&gt;2){\r\n                imageId= Integer.parseInt(mainStr[2].replaceFirst(&quot;&gt;&gt;&lt;&lt;&quot;,&quot;&quot;));\r\n            }\r\n            else{\r\n                imageId=R.drawable.orb;\r\n            }\r\n\r\n            myButton.setBackgroundResource(imageId);\r\n            myButton.setAllCaps(false);\r\n            myButton.setTextColor(Color.parseColor(&quot;#333f49&quot;));\r\n            myButton.setGravity(Gravity.BOTTOM);\r\n            myButton.setPadding(25,0,0,25);\r\n```\r\n\r\nand layout is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/main&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;&lt;/LinearLayout&gt;\r\n\r\n    &lt;ScrollView\r\n        android:id=&quot;@+id/to_Resize&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;250dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/text_block&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:isScrollContainer=&quot;true&quot;\r\n            android:orientation=&quot;vertical&quot; /&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#FFFFFF&quot;&gt;\r\n\r\n        &lt;GridLayout\r\n            android:id=&quot;@+id/pew1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:columnCount=&quot;4&quot;\r\n            android:rowCount=&quot;12&quot; /&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"Layout items positions are shifted in first row, and normal on second. Problem appears on different layouts","body":"<p>Trying to get my items in <code>GridLayout</code>, but problem seems to appear on other layouts too.</p>\n<p>this is how it looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/OqU55.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OqU55.png\" alt=\"enter image description here\" /></a></p>\n<p>Problem first appear when i change text position via <code>setGravity(Gravity.BOTTOM)</code> option. It shifts the absolute position of the image by 1\\3 of item size. I fight it with <code>setTranslationY(120)</code> and it worked for first row, but second row items are shifted down for 120px. Theoretically i can catch first 3 items with TranslationY and just not apply it on lower positions, but this is very lame.</p>\n<p>Is there any option to fight this all at once?</p>\n<p>Button generation code:</p>\n<pre><code>Button myButton = new Button(this);\n            myButton.setLayoutParams(new ViewGroup.LayoutParams(360, 360));\n            myLayout.addView(myButton);\n            String str = String.format(&quot;Button_%s&quot;, i);\n            String[] mainStr=storedItems2[i].split(&quot;&lt;&lt;&gt;&gt;&quot;);\n            String imgPath = mainStr[1].replaceFirst(&quot;&gt;&gt;&lt;&lt;&quot;,&quot;&quot;);\n            String description = mainStr[0];\n            myButton.setText(description);\n            myButton.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n            int imageId=0;\n            if (mainStr.length&gt;2){\n                imageId= Integer.parseInt(mainStr[2].replaceFirst(&quot;&gt;&gt;&lt;&lt;&quot;,&quot;&quot;));\n            }\n            else{\n                imageId=R.drawable.orb;\n            }\n\n            myButton.setBackgroundResource(imageId);\n            myButton.setAllCaps(false);\n            myButton.setTextColor(Color.parseColor(&quot;#333f49&quot;));\n            myButton.setGravity(Gravity.BOTTOM);\n            myButton.setPadding(25,0,0,25);\n</code></pre>\n<p>and layout is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/main&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;&lt;/LinearLayout&gt;\n\n    &lt;ScrollView\n        android:id=&quot;@+id/to_Resize&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;250dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/text_block&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:isScrollContainer=&quot;true&quot;\n            android:orientation=&quot;vertical&quot; /&gt;\n    &lt;/ScrollView&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#FFFFFF&quot;&gt;\n\n        &lt;GridLayout\n            android:id=&quot;@+id/pew1&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:columnCount=&quot;4&quot;\n            android:rowCount=&quot;12&quot; /&gt;\n    &lt;/ScrollView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677123869,"creation_date":1677123869,"answer_id":75540384,"question_id":75539944,"body_markdown":"requires an entity class：\r\nTheEntity：\r\n\r\n    public class TheEntity {\r\n        private Customer customer;\r\n        private Student student;\r\n        // getter and setter\r\n    }\r\n    \r\n    public class Customer {\r\n        private Integer id;\r\n        private String firstName;\r\n        private String lastName;\r\n        // getter and setter\r\n    }\r\n    \r\n    public class Student {\r\n        private String id;\r\n        private String name;\r\n        private String age;\r\n        // getter and setter\r\n    }\r\n\r\nthen use ThenEntity:\r\n\r\n    @RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\r\n        public Instructor persistInstructorInformation(@RequestBody TheEntity studentAndCustomer){\r\n        System.out.println(studentAndCustomer)\r\n        ...\r\n    }\r\n    \r\n\r\nTo put it bluntly, it is to encapsulate objects according to your needs","title":"How to map a JSON Object Request to two different JAVA Objects in Spring Rest Controller","body":"<p>requires an entity class：\nTheEntity：</p>\n<pre><code>public class TheEntity {\n    private Customer customer;\n    private Student student;\n    // getter and setter\n}\n\npublic class Customer {\n    private Integer id;\n    private String firstName;\n    private String lastName;\n    // getter and setter\n}\n\npublic class Student {\n    private String id;\n    private String name;\n    private String age;\n    // getter and setter\n}\n</code></pre>\n<p>then use ThenEntity:</p>\n<pre><code>@RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\n    public Instructor persistInstructorInformation(@RequestBody TheEntity studentAndCustomer){\n    System.out.println(studentAndCustomer)\n    ...\n}\n</code></pre>\n<p>To put it bluntly, it is to encapsulate objects according to your needs</p>\n"}],"owner":{"account_id":13484443,"reputation":11,"user_id":9728637,"display_name":"Subhendu Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75540384,"answer_count":1,"score":0,"last_activity_date":1677123869,"creation_date":1677118003,"question_id":75539944,"body_markdown":"I have JSON Request object like below:\r\n\r\n```\r\n{\r\n    &quot;customer&quot; :\r\n    {\r\n        &quot;id&quot; :  100,\r\n        &quot;firstName&quot;: &quot;Customer First&quot;,\r\n        &quot;lastName&quot;: &quot;Customer Last&quot;\r\n    },\r\n\r\n    &quot;student&quot; :\r\n    {\r\n        &quot;id&quot; :  &quot;ABC-100&quot;,\r\n        &quot;name&quot;: &quot;Student Name&quot;,\r\n        &quot;age&quot;: 20\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nNow, I have a spring boot rest controller to read this request:\r\n\r\n\r\n```\r\n@RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\r\n    public Instructor persistInstructorInformation(@RequestBody Object studentAndCustomer){\r\n...\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nMy Question is how we can retrieve this information in a way other than using Object class.\r\n\r\nI am not trying to use a Wrapper class as described here:\r\n\r\nhttps://stackoverflow.com/a/40275881/9728637\r\n\r\n\r\n","title":"How to map a JSON Object Request to two different JAVA Objects in Spring Rest Controller","body":"<p>I have JSON Request object like below:</p>\n<pre><code>{\n    &quot;customer&quot; :\n    {\n        &quot;id&quot; :  100,\n        &quot;firstName&quot;: &quot;Customer First&quot;,\n        &quot;lastName&quot;: &quot;Customer Last&quot;\n    },\n\n    &quot;student&quot; :\n    {\n        &quot;id&quot; :  &quot;ABC-100&quot;,\n        &quot;name&quot;: &quot;Student Name&quot;,\n        &quot;age&quot;: 20\n    }\n\n}\n</code></pre>\n<p>Now, I have a spring boot rest controller to read this request:</p>\n<pre><code>@RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\n    public Instructor persistInstructorInformation(@RequestBody Object studentAndCustomer){\n...\n\n}\n</code></pre>\n<p>My Question is how we can retrieve this information in a way other than using Object class.</p>\n<p>I am not trying to use a Wrapper class as described here:</p>\n<p><a href=\"https://stackoverflow.com/a/40275881/9728637\">https://stackoverflow.com/a/40275881/9728637</a></p>\n"},{"tags":["java","automation","rest-assured","java-17"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677123308,"creation_date":1671504176,"answer_id":74858043,"question_id":74857278,"body_markdown":"A string in Java is defined by double quotes `&quot;&quot;`. There isn&#39;t any way to define it as you wish. But in Java 15, it has a [text block][1] feature that might help.\r\n\r\nFor example, put the JSON structure inside `&quot;&quot;&quot;` and `&quot;&quot;&quot;`.\r\n\r\n```java\r\nString payload = &quot;&quot;&quot;\r\n   {\r\n      &quot;name&quot;:&quot;morpheus&quot;,\r\n      &quot;job&quot;:&quot;leader&quot;\r\n   }\r\n&quot;&quot;&quot;;\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/text-blocks/index.html\r\n\r\n","title":"API automation - convert JSON in to a string without &quot;\\ operator without any formatting","body":"<p>A string in Java is defined by double quotes <code>&quot;&quot;</code>. There isn't any way to define it as you wish. But in Java 15, it has a <a href=\"https://docs.oracle.com/en/java/javase/15/text-blocks/index.html\" rel=\"nofollow noreferrer\">text block</a> feature that might help.</p>\n<p>For example, put the JSON structure inside <code>&quot;&quot;&quot;</code> and <code>&quot;&quot;&quot;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String payload = &quot;&quot;&quot;\n   {\n      &quot;name&quot;:&quot;morpheus&quot;,\n      &quot;job&quot;:&quot;leader&quot;\n   }\n&quot;&quot;&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27350270,"reputation":1,"user_id":20859557,"display_name":"Bhargav Murari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677123635,"creation_date":1672122548,"answer_id":74926308,"question_id":74857278,"body_markdown":"Step 1: Add dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nStep 2: Create a class like below\r\n\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n\r\n    public class JsonCoverter {\r\n\r\n        public static JSONObject Convert_Json_To_JsonObj(String Filename) throws IOException, ParseException {\r\n\r\n            JSONParser parser = new JSONParser();\r\n            Object obj = parser.parse(new FileReader(Filename));\r\n            JSONObject inputpayload = (JSONObject) obj;\r\n            return inputpayload;\r\n        }\r\n\r\n\r\n    }\r\n\r\nStep 3: Save your *body* in a JSON file with a .json extension\r\n\r\nStep 4: Now use the above **Convert_Json_To_JsonObj** method in RestAssured.\r\n\r\n    given()\r\n                    .contentType(ContentType.JSON)\r\n                    .body(JsonCoverter.Convert_Json_To_JsonObj(&quot;src/test/resources/requestJson/YOUR_JSONFILENAME.json&quot;)).\r\n            when()\r\n                    .post(&quot;&quot;).\r\n            then()\r\n                    .statusCode(200);\r\n\r\n\r\n\r\n","title":"API automation - convert JSON in to a string without &quot;\\ operator without any formatting","body":"<p>Step 1: Add dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Step 2: Create a class like below</p>\n<pre><code>import org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class JsonCoverter {\n\n    public static JSONObject Convert_Json_To_JsonObj(String Filename) throws IOException, ParseException {\n\n        JSONParser parser = new JSONParser();\n        Object obj = parser.parse(new FileReader(Filename));\n        JSONObject inputpayload = (JSONObject) obj;\n        return inputpayload;\n    }\n\n\n}\n</code></pre>\n<p>Step 3: Save your <em>body</em> in a JSON file with a .json extension</p>\n<p>Step 4: Now use the above <strong>Convert_Json_To_JsonObj</strong> method in RestAssured.</p>\n<pre><code>given()\n                .contentType(ContentType.JSON)\n                .body(JsonCoverter.Convert_Json_To_JsonObj(&quot;src/test/resources/requestJson/YOUR_JSONFILENAME.json&quot;)).\n        when()\n                .post(&quot;&quot;).\n        then()\n                .statusCode(200);\n</code></pre>\n"}],"owner":{"account_id":15251552,"reputation":9,"user_id":11004745,"display_name":"Samson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1677123744,"creation_date":1671494624,"question_id":74857278,"body_markdown":"Within the method, it couldn&#39;t pass the JSON payload without formatting (`\\` and `&quot;&quot;` operator).\r\n\r\n```java\r\npublic static String psotrequest() {\r\n\r\n   String payload = &quot;{&quot;\r\n       &quot;\\&quot;name\\&quot;:\\&quot;morpheus\\&quot;,&quot;\r\n       &quot;\\&quot;job\\&quot;:\\&quot;leader\\&quot;\r\n   }&quot;;\r\n\r\n   return payload;\r\n\r\n}\r\n```\r\n\r\nBut is there a way to pass the request payload like the following?\r\n\r\n```java\r\npublic static String psotrequest() {\r\n\r\n   String payload = {\r\n      &quot;name&quot;:&quot;morpheus&quot;,\r\n      &quot;job&quot;:&quot;leader&quot;\r\n   };\r\n\r\n   return payload;\r\n\r\n}\r\n```\r\n\r\nWhich library or JAR file will help us pass a direct request payload in a Java class without using `&quot;\\&quot;`or `&quot;\\n&quot;`?\r\n\r\n\r\n\r\n\r\n","title":"API automation - convert JSON in to a string without &quot;\\ operator without any formatting","body":"<p>Within the method, it couldn't pass the JSON payload without formatting (<code>\\</code> and <code>&quot;&quot;</code> operator).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String psotrequest() {\n\n   String payload = &quot;{&quot;\n       &quot;\\&quot;name\\&quot;:\\&quot;morpheus\\&quot;,&quot;\n       &quot;\\&quot;job\\&quot;:\\&quot;leader\\&quot;\n   }&quot;;\n\n   return payload;\n\n}\n</code></pre>\n<p>But is there a way to pass the request payload like the following?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String psotrequest() {\n\n   String payload = {\n      &quot;name&quot;:&quot;morpheus&quot;,\n      &quot;job&quot;:&quot;leader&quot;\n   };\n\n   return payload;\n\n}\n</code></pre>\n<p>Which library or JAR file will help us pass a direct request payload in a Java class without using <code>&quot;\\&quot;</code>or <code>&quot;\\n&quot;</code>?</p>\n"},{"tags":["java","enums","interface","implements"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677123213,"post_id":75540311,"comment_id":133277145,"body_markdown":"Is `register` supposed to be a static method?","body":"Is <code>register</code> supposed to be a static method?"},{"owner":{"account_id":23891639,"reputation":1,"user_id":17891201,"display_name":"Bleb1k"},"score":0,"creation_date":1677123879,"post_id":75540311,"comment_id":133277215,"body_markdown":"No, static methods don&#39;t have &quot;this&quot;","body":"No, static methods don&#39;t have &quot;this&quot;"},{"owner":{"account_id":23891639,"reputation":1,"user_id":17891201,"display_name":"Bleb1k"},"score":0,"creation_date":1677123929,"post_id":75540311,"comment_id":133277220,"body_markdown":"And I want &quot;this&quot; to be enum so that i can call `.values()` on it","body":"And I want &quot;this&quot; to be enum so that i can call <code>.values()</code> on it"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677123968,"post_id":75540311,"comment_id":133277230,"body_markdown":"But why are you trying to call it as `BasicStates.register()`? That&#39;s how you call a static method.","body":"But why are you trying to call it as <code>BasicStates.register()</code>? That&#39;s how you call a static method."},{"owner":{"account_id":23891639,"reputation":1,"user_id":17891201,"display_name":"Bleb1k"},"score":0,"creation_date":1677123993,"post_id":75540311,"comment_id":133277234,"body_markdown":"and it wouldn&#39;t work with default method? I&#39;m not calling interface","body":"and it wouldn&#39;t work with default method? I&#39;m not calling interface"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677124019,"post_id":75540311,"comment_id":133277236,"body_markdown":"You can&#39;t call any non static method like that, so it wouldn&#39;t work anyway.","body":"You can&#39;t call any non static method like that, so it wouldn&#39;t work anyway."},{"owner":{"account_id":23891639,"reputation":1,"user_id":17891201,"display_name":"Bleb1k"},"score":0,"creation_date":1677124121,"post_id":75540311,"comment_id":133277247,"body_markdown":"Is this possible with static method then?","body":"Is this possible with static method then?"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677124201,"post_id":75540311,"comment_id":133277256,"body_markdown":"You can&#39;t override a static method so using interface wouldn&#39;t make sense.","body":"You can&#39;t override a static method so using interface wouldn&#39;t make sense."},{"owner":{"account_id":23891639,"reputation":1,"user_id":17891201,"display_name":"Bleb1k"},"score":0,"creation_date":1677124414,"post_id":75540311,"comment_id":133277274,"body_markdown":"ok, i think i can just make util then, outside of interface, that will take enum as argument, and this shouldn&#39;t be too hard","body":"ok, i think i can just make util then, outside of interface, that will take enum as argument, and this shouldn&#39;t be too hard"}],"owner":{"account_id":23891639,"reputation":1,"user_id":17891201,"display_name":"Bleb1k"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677123483,"creation_date":1677123056,"question_id":75540311,"body_markdown":"I&#39;m making a mod for Minecraft and trying to register multiple items using enums and one shared interface that will register all items provided when called, but I don&#39;t know how to go about the `for` loop, because the interface doesn&#39;t know what implemented it and I can&#39;t describe it too\r\n\r\nthis is my code:\r\n\r\n``` java\r\nMaterialState.java\r\npublic interface MaterialState {\r\n    default void register() {\r\n        for (T material: this.values()) { \r\n            // I suppose that &quot;this&quot; is an enum that implements MaterialState, \r\n            // and &quot;T&quot; is the enum constant of this\r\n\r\n            // todo some functionality\r\n        }\r\n    };\r\n}\r\n\r\nBasicStates.java\r\npublic enum BasicStates implements MaterialState {\r\n    ingot, dust, gem, ore;\r\n}\r\n\r\nItemRegistry.java\r\n@EventListener\r\npublic void registerItems(ItemRegistryEvent event) {\r\n    BasicStates.register()\r\n}\r\n```","title":"How to make abstract check for enum inside of default method of interface?","body":"<p>I'm making a mod for Minecraft and trying to register multiple items using enums and one shared interface that will register all items provided when called, but I don't know how to go about the <code>for</code> loop, because the interface doesn't know what implemented it and I can't describe it too</p>\n<p>this is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MaterialState.java\npublic interface MaterialState {\n    default void register() {\n        for (T material: this.values()) { \n            // I suppose that &quot;this&quot; is an enum that implements MaterialState, \n            // and &quot;T&quot; is the enum constant of this\n\n            // todo some functionality\n        }\n    };\n}\n\nBasicStates.java\npublic enum BasicStates implements MaterialState {\n    ingot, dust, gem, ore;\n}\n\nItemRegistry.java\n@EventListener\npublic void registerItems(ItemRegistryEvent event) {\n    BasicStates.register()\n}\n</code></pre>\n"},{"tags":["java","mysql","keycloak"],"answers":[{"tags":[],"owner":{"account_id":3763835,"reputation":21,"user_id":3127915,"display_name":"PReimers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677123152,"creation_date":1677123152,"answer_id":75540319,"question_id":74805300,"body_markdown":"You can tell Keycloak to use an external database.\r\n\r\nIt&#39;s well written in the [documentation][1].\r\n\r\nFor your MySQL database, you would start Keycloak using the following parameter.\r\n\r\n```bash\r\nbin/kc.[sh|bat] start --db mysql --db-url jdbc:mysql://localhost:8090/[DATABASE NAME] --db-username [DATABASE USERNAME] --db-password [DATABASE PASSWORD]\r\n```\r\n\r\nWhen running Keycloak as a docker container, the command would be something like this:\r\n```bash\r\ndocker run -p 8080:8080 quay.io/keycloak/keycloak:20.0.5 start --db mysql --db-url jdbc:mysql://[DATABASE IP/FQDN]:[DATABASE PORT]/[DATABASE NAME] --db-username [DATABASE USERNAME] --db-password [DATABASE PASSWORD]\r\n```\r\n\r\n  [1]: https://www.keycloak.org/server/db","title":"Is it possible to tell keycloak to create its own database somewhere else and not use the embedded H2?","body":"<p>You can tell Keycloak to use an external database.</p>\n<p>It's well written in the <a href=\"https://www.keycloak.org/server/db\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>For your MySQL database, you would start Keycloak using the following parameter.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bin/kc.[sh|bat] start --db mysql --db-url jdbc:mysql://localhost:8090/[DATABASE NAME] --db-username [DATABASE USERNAME] --db-password [DATABASE PASSWORD]\n</code></pre>\n<p>When running Keycloak as a docker container, the command would be something like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -p 8080:8080 quay.io/keycloak/keycloak:20.0.5 start --db mysql --db-url jdbc:mysql://[DATABASE IP/FQDN]:[DATABASE PORT]/[DATABASE NAME] --db-username [DATABASE USERNAME] --db-password [DATABASE PASSWORD]\n</code></pre>\n"}],"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677123152,"creation_date":1671060748,"question_id":74805300,"body_markdown":"So basically I would tell it that at `localhost:8090` I have a mysql server and build &amp; use your database there.\r\n\r\nIs it possible or I need my own custom database and create some userstorage SPIs?","title":"Is it possible to tell keycloak to create its own database somewhere else and not use the embedded H2?","body":"<p>So basically I would tell it that at <code>localhost:8090</code> I have a mysql server and build &amp; use your database there.</p>\n<p>Is it possible or I need my own custom database and create some userstorage SPIs?</p>\n"},{"tags":["java","selenium-webdriver","google-chrome-devtools","rest-assured","bearer-token"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671573103,"post_id":74866741,"comment_id":132127512,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2666524,"reputation":74,"user_id":13634116,"display_name":"dot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677122744,"creation_date":1671557594,"answer_id":74866797,"question_id":74866741,"body_markdown":"I personally would look into [JMeter][1] and making the API calls through that.\r\n\r\nYou can parameterize JMeter calls and extract values from responses on JMeter to use on the next call...\r\n\r\nHave a look at that.\r\n\r\nSelenium doesn&#39;t do what you want it to.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_JMeter","title":"Can I log in into an application with Selenium and then get the bearer token generated and use it in the API call?","body":"<p>I personally would look into <a href=\"https://en.wikipedia.org/wiki/Apache_JMeter\" rel=\"nofollow noreferrer\">JMeter</a> and making the API calls through that.</p>\n<p>You can parameterize JMeter calls and extract values from responses on JMeter to use on the next call...</p>\n<p>Have a look at that.</p>\n<p>Selenium doesn't do what you want it to.</p>\n"},{"tags":[],"owner":{"account_id":27350270,"reputation":1,"user_id":20859557,"display_name":"Bhargav Murari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677122769,"creation_date":1671983942,"answer_id":74914378,"question_id":74866741,"body_markdown":"You can do that using [Playwright][1]. Below is the example code.\r\n\r\n```java\r\npublic String accessToken = &quot;&quot;;\r\n\r\n@BeforeClass(alwaysRun = true)\r\npublic void getAPITokenFromBrowser() {\r\n    Playwright playwright = Playwright.create();\r\n    Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(false));\r\n    Page page = browser.newPage();\r\n\r\n    page.onRequest(request -&gt; {\r\n        if (request.url().equals(&quot;www.YOUR_APP_URL&quot; + &quot;/API_PATH_FROM_NETWORK_TAB&quot;)) { //if the API Call is found with above condition then spliting using Space because these days api tokens are in format &quot;Bearer abcdsdsdsd&quot;\r\n\r\n            String[] token = request.headers().get(&quot;authorization&quot;).split(&quot; &quot;);\r\n            this.accessToken = token[1];\r\n            System.out.println(&quot;AccessToken: &quot; + accessToken);\r\n        }\r\n\r\n    });\r\n\r\n    page.navigate(YOUR_URL);\r\n    page.waitForLoadState(LoadState.LOAD);\r\n    page.fill(&quot;UsernameXpath&quot;, &quot;username&quot;);\r\n    page.fill(&quot;PasswordXpath&quot;, &quot;Password&quot;);\r\n    page.click(&quot;LoginBtnXpath&quot;);\r\n    page.waitForLoadState(LoadState.LOAD);\r\n    playwright.close();\r\n}\r\n```\r\n\r\nOnce this code block gets executed, you will have your token in the variable *accessToken*. The only important thing here is to *identify* the API_PATH_FROM_NETWORK_TAB.\r\n\r\n  [1]: https://playwright.dev/\r\n\r\n\r\n","title":"Can I log in into an application with Selenium and then get the bearer token generated and use it in the API call?","body":"<p>You can do that using <a href=\"https://playwright.dev/\" rel=\"nofollow noreferrer\">Playwright</a>. Below is the example code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String accessToken = &quot;&quot;;\n\n@BeforeClass(alwaysRun = true)\npublic void getAPITokenFromBrowser() {\n    Playwright playwright = Playwright.create();\n    Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(false));\n    Page page = browser.newPage();\n\n    page.onRequest(request -&gt; {\n        if (request.url().equals(&quot;www.YOUR_APP_URL&quot; + &quot;/API_PATH_FROM_NETWORK_TAB&quot;)) { //if the API Call is found with above condition then spliting using Space because these days api tokens are in format &quot;Bearer abcdsdsdsd&quot;\n\n            String[] token = request.headers().get(&quot;authorization&quot;).split(&quot; &quot;);\n            this.accessToken = token[1];\n            System.out.println(&quot;AccessToken: &quot; + accessToken);\n        }\n\n    });\n\n    page.navigate(YOUR_URL);\n    page.waitForLoadState(LoadState.LOAD);\n    page.fill(&quot;UsernameXpath&quot;, &quot;username&quot;);\n    page.fill(&quot;PasswordXpath&quot;, &quot;Password&quot;);\n    page.click(&quot;LoginBtnXpath&quot;);\n    page.waitForLoadState(LoadState.LOAD);\n    playwright.close();\n}\n</code></pre>\n<p>Once this code block gets executed, you will have your token in the variable <em>accessToken</em>. The only important thing here is to <em>identify</em> the API_PATH_FROM_NETWORK_TAB.</p>\n"}],"owner":{"account_id":27309938,"reputation":1,"user_id":20825229,"display_name":"Anil Tambe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677123075,"creation_date":1671557322,"question_id":74866741,"body_markdown":"Can you log in to an application with Selenium and then get the bearer token of that session for using it into API call? Is there a way to get bearer token?\r\n\r\nI can not log in to the application with the login API as the password is salted... And for performing operations after login using API call, I need the bearer token, so can you get the bearer token?\r\n\r\nOr else can we use the login API with a salted password generator, but the salted password functionality is not known!\r\n\r\nI have tried using jsexecuter for getting the bearer token.\r\n\r\n\r\n","title":"Can I log in into an application with Selenium and then get the bearer token generated and use it in the API call?","body":"<p>Can you log in to an application with Selenium and then get the bearer token of that session for using it into API call? Is there a way to get bearer token?</p>\n<p>I can not log in to the application with the login API as the password is salted... And for performing operations after login using API call, I need the bearer token, so can you get the bearer token?</p>\n<p>Or else can we use the login API with a salted password generator, but the salted password functionality is not known!</p>\n<p>I have tried using jsexecuter for getting the bearer token.</p>\n"},{"tags":["java","date","time","conventions"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1332279802,"post_id":9795391,"comment_id":12472553,"body_markdown":"What do you mean by &quot;inclusive&quot;?  Time is continuous, we just happen to discretise it for the purposes of computation.  If we&#39;re working in hours, then today runs from 00 to 23 (inclusive).  But that&#39;s wrong as soon as we increase the resolution; today is from 00:00 to 23:59 (inclusive), and so on...","body":"What do you mean by &quot;inclusive&quot;?  Time is continuous, we just happen to discretise it for the purposes of computation.  If we&#39;re working in hours, then today runs from 00 to 23 (inclusive).  But that&#39;s wrong as soon as we increase the resolution; today is from 00:00 to 23:59 (inclusive), and so on..."},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":1,"creation_date":1332279846,"post_id":9795391,"comment_id":12472569,"body_markdown":"Every project I have ever worked on this is determined by the business conventions of the application domain, not abstract conventions of programming.","body":"Every project I have ever worked on this is determined by the business conventions of the application domain, not abstract conventions of programming."},{"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"score":1,"creation_date":1332279891,"post_id":9795391,"comment_id":12472589,"body_markdown":"@Oli Exactly the point. Obviously I must use a discrete representation, and that&#39;s unnatural. The question centers around the best way to deal with the mismatch.","body":"@Oli Exactly the point. Obviously I must use a discrete representation, and that&#39;s unnatural. The question centers around the best way to deal with the mismatch."},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1332279988,"post_id":9795391,"comment_id":12472615,"body_markdown":"@Gus: Then this is not unique to time.  This is the same problem for any quantity that we need to discretise.","body":"@Gus: Then this is not unique to time.  This is the same problem for any quantity that we need to discretise."},{"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"score":0,"creation_date":1332280021,"post_id":9795391,"comment_id":12472626,"body_markdown":"@Affe I happen to be in a situation where I am asked to propose something and I don&#39;t have good reason to believe that there is a well established business convention. If I turn out to be wrong, of course, I&#39;ll change.","body":"@Affe I happen to be in a situation where I am asked to propose something and I don&#39;t have good reason to believe that there is a well established business convention. If I turn out to be wrong, of course, I&#39;ll change."}],"answers":[{"tags":[],"owner":{"account_id":1294640,"reputation":948,"user_id":1246027,"display_name":"sgmorrison"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1332279934,"creation_date":1332279934,"answer_id":9795487,"question_id":9795391,"body_markdown":"I can&#39;t say for certain, but I doubt a standard or convention exists. Whether or not you include the start or end instant would depend on your use case, so consider whether they are important to you. If the decision is arbitrary, pick one, note that the choice is arbitrary and move on.\r\n\r\nAs for what is supported in Java, the Joda Time library implements [`Interval`][1]s that include the start time but not the end time\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/userguide.html#Intervals","title":"Is there a standard for inclusive/exclusive ends of time intervals?","body":"<p>I can't say for certain, but I doubt a standard or convention exists. Whether or not you include the start or end instant would depend on your use case, so consider whether they are important to you. If the decision is arbitrary, pick one, note that the choice is arbitrary and move on.</p>\n\n<p>As for what is supported in Java, the Joda Time library implements <a href=\"http://joda-time.sourceforge.net/userguide.html#Intervals\" rel=\"nofollow\"><code>Interval</code></a>s that include the start time but not the end time</p>\n"},{"tags":[],"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1332341994,"creation_date":1332341994,"answer_id":9807174,"question_id":9795391,"body_markdown":"I&#39;ll provide what I wrote for our team as an answer using Voo&#39;s link until such time as Voo adds an answer, then I&#39;ll give him credit instead. Here&#39;s what I decided for our case:\r\n\r\n&gt; Time intervals in our applications will be represented as a pair of\r\n&gt; instantaneous times with the convention that the start time is\r\n&gt; inclusive and the end time is exclusive. This convention is\r\n&gt; mathematically convenient in that the difference of the bounds is\r\n&gt; equal to the length of the interval, and is also numerically\r\n&gt; consistent with the way arrays and lists are subscripted in java\r\n&gt; programs (see http://www.cs.utexas.edu/~EWD/ewd08xx/EWD831.PDF). The\r\n&gt; practical upshot of this is that interval 2012-03-17T00:00:00.000Z –\r\n&gt; 2012-03-18T00:00:00.000Z denotes the entirety of St. Patrick’s Day,\r\n&gt; and every date beginning with 2012-03-17 will be identified as\r\n&gt; included in St Patrick’s Day, but 2012-03-18T00:00:00.000Z will not be\r\n&gt; included, and St Patrick’s Day will include exactly 24*60*60*1000\r\n&gt; milliseconds.","title":"Is there a standard for inclusive/exclusive ends of time intervals?","body":"<p>I'll provide what I wrote for our team as an answer using Voo's link until such time as Voo adds an answer, then I'll give him credit instead. Here's what I decided for our case:</p>\n\n<blockquote>\n  <p>Time intervals in our applications will be represented as a pair of\n  instantaneous times with the convention that the start time is\n  inclusive and the end time is exclusive. This convention is\n  mathematically convenient in that the difference of the bounds is\n  equal to the length of the interval, and is also numerically\n  consistent with the way arrays and lists are subscripted in java\n  programs (see <a href=\"http://www.cs.utexas.edu/~EWD/ewd08xx/EWD831.PDF\" rel=\"noreferrer\">http://www.cs.utexas.edu/~EWD/ewd08xx/EWD831.PDF</a>). The\n  practical upshot of this is that interval 2012-03-17T00:00:00.000Z –\n  2012-03-18T00:00:00.000Z denotes the entirety of St. Patrick’s Day,\n  and every date beginning with 2012-03-17 will be identified as\n  included in St Patrick’s Day, but 2012-03-18T00:00:00.000Z will not be\n  included, and St Patrick’s Day will include exactly 24*60*60*1000\n  milliseconds.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1606919275,"creation_date":1332353353,"answer_id":9810359,"question_id":9795391,"body_markdown":"In the general case, `[A, B)` (inclusive start, exclusive end) has a lot going for it and I don&#39;t see any reason why the same wouldn&#39;t be true for time intervals.\r\n\r\nDjikstra wrote a nice article about it [Why numbering should start at zero](http://www.cs.utexas.edu/~EWD/ewd08xx/EWD831.PDF) which - despite the name - deals mostly with exactly this. \r\n\r\nShort summary of the advantages:\r\n\r\n - `end - start` equals the number of items in the list\r\n - upper bound of preceding interval is the lower bound of the next\r\n - allows to index an interval starting from 0 with unsigned numbers [1]\r\n\r\n\r\nPersonally the second point is *extremely* useful for lots of problems; consider a pretty standard recursive function (in pseudo python):\r\n\r\n    def foo(start, end):\r\n        if end - start == 1:\r\n            # base case\r\n        else:\r\n            middle = start + (end - start) / 2\r\n            foo(start, middle)\r\n            foo(middle, end)\r\n\r\nWriting the same with inclusive upper bound introduces lots of error prone off by one errors.\r\n\r\n[1] That&#39;s the advantage compared to `(A, B]` - a interval starting from 0 is MUCH more common than an interval ending in `MAX_VAL`. Note that also relates to one additional problem: Using two inclusive bounds means we can denote a sequence whose length cannot be expressed with the same size.","title":"Is there a standard for inclusive/exclusive ends of time intervals?","body":"<p>In the general case, <code>[A, B)</code> (inclusive start, exclusive end) has a lot going for it and I don't see any reason why the same wouldn't be true for time intervals.</p>\n<p>Djikstra wrote a nice article about it <a href=\"http://www.cs.utexas.edu/%7EEWD/ewd08xx/EWD831.PDF\" rel=\"noreferrer\">Why numbering should start at zero</a> which - despite the name - deals mostly with exactly this.</p>\n<p>Short summary of the advantages:</p>\n<ul>\n<li><code>end - start</code> equals the number of items in the list</li>\n<li>upper bound of preceding interval is the lower bound of the next</li>\n<li>allows to index an interval starting from 0 with unsigned numbers [1]</li>\n</ul>\n<p>Personally the second point is <em>extremely</em> useful for lots of problems; consider a pretty standard recursive function (in pseudo python):</p>\n<pre><code>def foo(start, end):\n    if end - start == 1:\n        # base case\n    else:\n        middle = start + (end - start) / 2\n        foo(start, middle)\n        foo(middle, end)\n</code></pre>\n<p>Writing the same with inclusive upper bound introduces lots of error prone off by one errors.</p>\n<p>[1] That's the advantage compared to <code>(A, B]</code> - a interval starting from 0 is MUCH more common than an interval ending in <code>MAX_VAL</code>. Note that also relates to one additional problem: Using two inclusive bounds means we can denote a sequence whose length cannot be expressed with the same size.</p>\n"},{"tags":[],"owner":{"account_id":1715929,"reputation":2109,"user_id":1572989,"display_name":"Ivan Gozali"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1501701826,"creation_date":1501701826,"answer_id":45469351,"question_id":9795391,"body_markdown":"Despite this thread focusing more on Java, I thought it&#39;d be quite interesting to see other adopted conventions, especially given that the `pandas` Python [library](http://pandas.pydata.org/) is ubiquitous for data analysis these days, and the fact that this StackOverflow page is one of the top search results when looking for conventions on the inclusivity/exclusivity of time ranges. \r\n\r\nQuoting [this page](http://pandas.pydata.org/pandas-docs/stable/timeseries.html#generating-ranges-of-timestamps):\r\n\r\n&gt; The start and end dates are strictly inclusive. So it will not generate any dates outside of those dates if specified.\r\n\r\nAlso, it&#39;s not only generating date ranges. The convention is also adopted when trying to index into time-series data. Here&#39;s a simple test on data frames with `DatetimeIndex`\r\n\r\n    &gt;&gt;&gt; import pandas as pd\r\n    &gt;&gt;&gt; pd.__version__\r\n    &#39;0.20.2&#39;\r\n    &gt;&gt;&gt; df = pd.DataFrame(list(range(20)))\r\n    &gt;&gt;&gt; df.index = pd.date_range(start=&quot;2017-07-01&quot;, periods=20)\r\n    &gt;&gt;&gt; df[&quot;2017-07-01&quot;:&quot;2017-07-05&quot;]\r\n                0\r\n    2017-07-01  0\r\n    2017-07-02  1\r\n    2017-07-03  2\r\n    2017-07-04  3\r\n    2017-07-05  4","title":"Is there a standard for inclusive/exclusive ends of time intervals?","body":"<p>Despite this thread focusing more on Java, I thought it'd be quite interesting to see other adopted conventions, especially given that the <code>pandas</code> Python <a href=\"http://pandas.pydata.org/\" rel=\"noreferrer\">library</a> is ubiquitous for data analysis these days, and the fact that this StackOverflow page is one of the top search results when looking for conventions on the inclusivity/exclusivity of time ranges. </p>\n\n<p>Quoting <a href=\"http://pandas.pydata.org/pandas-docs/stable/timeseries.html#generating-ranges-of-timestamps\" rel=\"noreferrer\">this page</a>:</p>\n\n<blockquote>\n  <p>The start and end dates are strictly inclusive. So it will not generate any dates outside of those dates if specified.</p>\n</blockquote>\n\n<p>Also, it's not only generating date ranges. The convention is also adopted when trying to index into time-series data. Here's a simple test on data frames with <code>DatetimeIndex</code></p>\n\n<pre><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; pd.__version__\n'0.20.2'\n&gt;&gt;&gt; df = pd.DataFrame(list(range(20)))\n&gt;&gt;&gt; df.index = pd.date_range(start=\"2017-07-01\", periods=20)\n&gt;&gt;&gt; df[\"2017-07-01\":\"2017-07-05\"]\n            0\n2017-07-01  0\n2017-07-02  1\n2017-07-03  2\n2017-07-04  3\n2017-07-05  4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1677122075,"creation_date":1501716592,"answer_id":45472532,"question_id":9795391,"body_markdown":"# tl;dr\r\n\r\n&gt;3. [A, B) - Start is inclusive and end is exclusive\r\n\r\nThat&#39;s the one, known as *Half-Open*. \r\n\r\nExamples: \r\n\r\n - School lunch starts when the clock strikes noon. Class resumes when the clock reaches 1 PM. \r\n - A day starts at the first moment of the day, running up to, but not including, the first moment of the *next* day.\r\n - A month starts on the first, running up to, but not including, the first of the following month.\r\n\r\n\r\n# *java.time* &amp; Half-Open\r\n\r\nThe [java.time][1] classes that supplant the troublesome legacy date-time classes as well as the Joda-Time project define a span-of-time using the Half-Open approach [) where the beginning is *inclusive* while the ending is *exclusive*.\r\n\r\nFor date-time with a fractional second this eliminates the problem of trying to capture last moment. The infinitely-divisible last second must be resolved, but various systems use various granularities such as milliseconds, microseconds, nanoseconds, or something else. With Half-Open, a day, for example, starts at the first moment of the day and runs up to, but does *not* include, the first moment of the following day. Problem solved, no need to wrestle with last moment of the day and its fractional second.\r\n\r\nI have come to see the benefits of using this approach consistently throughout all my date-time handling code. A week for example starting on a Monday runs up to, but does not include, the following Monday. A month starts on the 1st and runs up to, but does not include, the first of the following month thereby ignoring the challenge of determining the number of the last day of the month including Feb 28/29 Leap Year. \r\n\r\nAnother benefit of consistent use of Half-Open [) is the easing the cognitive load every time I have to detect and decipher and verify a piece of code’s span-of-time approach. In my own programming, I simply glance for a mention of Half-Open in a comment at top and I instantly know how to read that code.\r\n\r\nA result of consistent use of Half-Open is reducing the chance of bugs in my code as my thinking and writing style are uniform with no chance of getting confused over inclusive-exclusive. \r\n\r\nBy the way, note that Half-Open [) means avoiding the SQL `BETWEEN` conjunction as that is always fully-closed []. \r\n\r\nAs for the business thinking of the customers I serve, where appropriate I try to convince them to use Half-Open constantly as well. I&#39;ve seen many situations where various business people were making incorrect assumptions about the periods of time covered in reports. Consistent use of Half-Open avoids these unfortunate ambiguities. But if the customer insists, I note this in my code and adjust inputs/outputs so as to use Half-Open within my own logic. For example my logic uses a week of Monday-Monday, but on a report subtract a day to show Sunday.\r\n\r\n\r\n\r\nFor even more classes representing spans of time with the Half-Open approach [), see the *ThreeTen-Extras* project for its `Interval` class (a pair of `Instant` objects) and the `LocalDateRange` class (a pair of `LocalDate` objects).\r\n\r\n\r\nTip: When printing/displaying reports for business, **include a footer that describes the query logic** including the detail of the beginning/ending be inclusive/exclusive. I have seen way too much confusion on this in the workplace, with readers making incorrect assumptions about the date ranges (and other criteria). \r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Is there a standard for inclusive/exclusive ends of time intervals?","body":"<h1>tl;dr</h1>\n<blockquote>\n<ol start=\"3\">\n<li>[A, B) - Start is inclusive and end is exclusive</li>\n</ol>\n</blockquote>\n<p>That's the one, known as <em>Half-Open</em>.</p>\n<p>Examples:</p>\n<ul>\n<li>School lunch starts when the clock strikes noon. Class resumes when the clock reaches 1 PM.</li>\n<li>A day starts at the first moment of the day, running up to, but not including, the first moment of the <em>next</em> day.</li>\n<li>A month starts on the first, running up to, but not including, the first of the following month.</li>\n</ul>\n<h1><em>java.time</em> &amp; Half-Open</h1>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes that supplant the troublesome legacy date-time classes as well as the Joda-Time project define a span-of-time using the Half-Open approach [) where the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>.</p>\n<p>For date-time with a fractional second this eliminates the problem of trying to capture last moment. The infinitely-divisible last second must be resolved, but various systems use various granularities such as milliseconds, microseconds, nanoseconds, or something else. With Half-Open, a day, for example, starts at the first moment of the day and runs up to, but does <em>not</em> include, the first moment of the following day. Problem solved, no need to wrestle with last moment of the day and its fractional second.</p>\n<p>I have come to see the benefits of using this approach consistently throughout all my date-time handling code. A week for example starting on a Monday runs up to, but does not include, the following Monday. A month starts on the 1st and runs up to, but does not include, the first of the following month thereby ignoring the challenge of determining the number of the last day of the month including Feb 28/29 Leap Year.</p>\n<p>Another benefit of consistent use of Half-Open [) is the easing the cognitive load every time I have to detect and decipher and verify a piece of code’s span-of-time approach. In my own programming, I simply glance for a mention of Half-Open in a comment at top and I instantly know how to read that code.</p>\n<p>A result of consistent use of Half-Open is reducing the chance of bugs in my code as my thinking and writing style are uniform with no chance of getting confused over inclusive-exclusive.</p>\n<p>By the way, note that Half-Open [) means avoiding the SQL <code>BETWEEN</code> conjunction as that is always fully-closed [].</p>\n<p>As for the business thinking of the customers I serve, where appropriate I try to convince them to use Half-Open constantly as well. I've seen many situations where various business people were making incorrect assumptions about the periods of time covered in reports. Consistent use of Half-Open avoids these unfortunate ambiguities. But if the customer insists, I note this in my code and adjust inputs/outputs so as to use Half-Open within my own logic. For example my logic uses a week of Monday-Monday, but on a report subtract a day to show Sunday.</p>\n<p>For even more classes representing spans of time with the Half-Open approach [), see the <em>ThreeTen-Extras</em> project for its <code>Interval</code> class (a pair of <code>Instant</code> objects) and the <code>LocalDateRange</code> class (a pair of <code>LocalDate</code> objects).</p>\n<p>Tip: When printing/displaying reports for business, <strong>include a footer that describes the query logic</strong> including the detail of the beginning/ending be inclusive/exclusive. I have seen way too much confusion on this in the workplace, with readers making incorrect assumptions about the date ranges (and other criteria).</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12165739,"reputation":31,"user_id":8882101,"display_name":"Hashababba"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509968346,"creation_date":1509732359,"answer_id":47101999,"question_id":9795391,"body_markdown":"I have just been through this exact same thought process and i think it is very important that this is standardised in some way, or at least clarified by means of these types of Q&amp;A posts!\r\n\r\nIn our case the date ranges in question are used as inputs and outputs to / from a microservice; one that, in the short-term at least, will be called by an existing monolithic application (it&#39;s a monolith decomposition project). Therefore, i think that the comment above relating to the decision being driven by business requirements is, in our case, less relevant (because the *direct* &quot;users&quot; of the software we&#39;re building are really technical people).  If we were handling the input from a date picker that might be a different story! \r\n\r\nMy recommendation was that all start dates are inclusive and all end dates are exclusive - so [A,B) in your notation.  This was for the following reasons:\r\n\r\n1. We had previously agreed that any incoming dates containing time parts would be rejected (even if the JSON value was &quot;2018-01-01T00:00:00&quot;) and that we&#39;d output all dates without times.  Therefore, if the end date is exclusive, as soon as the string is deserialized into the .NET DateTime object, it would be a day out.\r\n\r\n2. I like the idea that date ranges (which in our case should always yield whole days) can can always be calculated by simply doing dateRange = (endDateExcl - startDateIncl).TotalDays.  No need to add 1 everywhere!\r\n\r\n3. Much of the business validation performed by the service is checking that multiple data ranges are flush against each other without gaps.  This is easy to eye check when using [A,B) because each B should match the preceding A.  If we go with [A,B] then we (devs, testers, support engineers) would often be asking ourselves &quot;How many days is in March again?&quot; (e.g. [2018-03-01,2018-03-30],[2018-04-01,2018-04-30]) or &quot;Does 2016 have a leap day?&quot; (e.g. [2016-02-01,2016-02-28],[2016-03-01,2016-03-30]).\r\n\r\nJust to add, i strongly recommend anyone, regardless of decision, to explicitly suffix all attribute names, variables, methods or otherwise with &quot;Incl&quot; or &quot;Excl&quot; so that it is clear to everyone without having to hunt out documentation!\r\n\r\nWe have also recommended that all dates should come in in ISO format and that anything with a &quot;Z&quot; on the end should also be rejected (because the understanding is that we&#39;re working in whole days and we don&#39;t want a date to be deserialized into a DateTime object with a rogue hour (or 23!) because of daylight saving).  \r\n\r\nFootnote, i would have probably posted this as a comment to Voo&#39;s answer but i&#39;ve just (belatedly!) joined SO and need to earn my kudos before i can do that! ;-)\r\n\r\nHappy dating x","title":"Is there a standard for inclusive/exclusive ends of time intervals?","body":"<p>I have just been through this exact same thought process and i think it is very important that this is standardised in some way, or at least clarified by means of these types of Q&amp;A posts!</p>\n\n<p>In our case the date ranges in question are used as inputs and outputs to / from a microservice; one that, in the short-term at least, will be called by an existing monolithic application (it's a monolith decomposition project). Therefore, i think that the comment above relating to the decision being driven by business requirements is, in our case, less relevant (because the <em>direct</em> \"users\" of the software we're building are really technical people).  If we were handling the input from a date picker that might be a different story! </p>\n\n<p>My recommendation was that all start dates are inclusive and all end dates are exclusive - so [A,B) in your notation.  This was for the following reasons:</p>\n\n<ol>\n<li><p>We had previously agreed that any incoming dates containing time parts would be rejected (even if the JSON value was \"2018-01-01T00:00:00\") and that we'd output all dates without times.  Therefore, if the end date is exclusive, as soon as the string is deserialized into the .NET DateTime object, it would be a day out.</p></li>\n<li><p>I like the idea that date ranges (which in our case should always yield whole days) can can always be calculated by simply doing dateRange = (endDateExcl - startDateIncl).TotalDays.  No need to add 1 everywhere!</p></li>\n<li><p>Much of the business validation performed by the service is checking that multiple data ranges are flush against each other without gaps.  This is easy to eye check when using [A,B) because each B should match the preceding A.  If we go with [A,B] then we (devs, testers, support engineers) would often be asking ourselves \"How many days is in March again?\" (e.g. [2018-03-01,2018-03-30],[2018-04-01,2018-04-30]) or \"Does 2016 have a leap day?\" (e.g. [2016-02-01,2016-02-28],[2016-03-01,2016-03-30]).</p></li>\n</ol>\n\n<p>Just to add, i strongly recommend anyone, regardless of decision, to explicitly suffix all attribute names, variables, methods or otherwise with \"Incl\" or \"Excl\" so that it is clear to everyone without having to hunt out documentation!</p>\n\n<p>We have also recommended that all dates should come in in ISO format and that anything with a \"Z\" on the end should also be rejected (because the understanding is that we're working in whole days and we don't want a date to be deserialized into a DateTime object with a rogue hour (or 23!) because of daylight saving).  </p>\n\n<p>Footnote, i would have probably posted this as a comment to Voo's answer but i've just (belatedly!) joined SO and need to earn my kudos before i can do that! ;-)</p>\n\n<p>Happy dating x</p>\n"}],"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20923,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":9810359,"answer_count":6,"score":65,"last_activity_date":1677122075,"creation_date":1332279499,"question_id":9795391,"body_markdown":"I&#39;m wondering if there is a *standard* or &quot;normal&quot; means of interpreting time interval data end points with respect to inclusiveness/exclusiveness of the value defining the end point. Note however that I am asking what the standard (or most common) ***convention*** is (if there is one), not for a dissertation on your personal preference. If you really want to provide a dissertation, please attach it to a reference to someone&#39;s published standard or a standard text on the matter. Open standards (that I don&#39;t have to pay to read) are greatly preferred unless they are fundamentally flawed :).\r\n\r\nOf course there are 4 possibilities for a time interval from A to B:\r\n\r\n 1. (A, B) - Both ends are exclusive.\r\n 2. [A, B] - Both ends are inclusive.\r\n 3. [A, B) - Start is inclusive and end is exclusive\r\n 4. (A, B] - Start is exclusive and end is inclusive\r\n\r\nEach of these has different characteristics (as I see it, feel free to point out more)\r\n\r\nThe [A, B] convention would have the seemingly inconvenient property that B is contained withing the inteval [A, B] and also [B, C]. This is particularly inconvenient if B is meant to represent the midnight boundary and you are trying to determine which day it falls on for example. Also, this means the duration of the interval is slightly irritatig to calculate since [A, B] where A = B should have a length of 1 and therefore the duration of [A, B] is (B - A) **+ 1** \r\n\r\nSimilarly the (A, B) convention would have the difficulty that B falls within neither (A,B) nor (B,C)... continuing the analogy with day boundaries, midnight would be part of neither day. This is also logically inconvenient because [A, B] where A = B is a non-sense interval with duration less than zero, **but reversing A and B does not make it a valid interval**.\r\n\r\nSo I think I want either [A, B), or (A, B] and I can&#39;t figure out how to decide between them. \r\n\r\nSo if someone has a link to a standards document, reference to a standard text or similar  that clarify the convention that would be great. Alternately, if you can link a variety of standards documents and/or references that more or less completely fail to agree, then I can just pick one that seems to have sufficient authority to CMA and be done with it :). \r\n\r\nFinally, I will be working in Java, so I am particularly susceptible to answers that work well in Java.\r\n","title":"Is there a standard for inclusive/exclusive ends of time intervals?","body":"<p>I'm wondering if there is a <em>standard</em> or \"normal\" means of interpreting time interval data end points with respect to inclusiveness/exclusiveness of the value defining the end point. Note however that I am asking what the standard (or most common) <strong><em>convention</em></strong> is (if there is one), not for a dissertation on your personal preference. If you really want to provide a dissertation, please attach it to a reference to someone's published standard or a standard text on the matter. Open standards (that I don't have to pay to read) are greatly preferred unless they are fundamentally flawed :).</p>\n\n<p>Of course there are 4 possibilities for a time interval from A to B:</p>\n\n<ol>\n<li>(A, B) - Both ends are exclusive.</li>\n<li>[A, B] - Both ends are inclusive.</li>\n<li>[A, B) - Start is inclusive and end is exclusive</li>\n<li>(A, B] - Start is exclusive and end is inclusive</li>\n</ol>\n\n<p>Each of these has different characteristics (as I see it, feel free to point out more)</p>\n\n<p>The [A, B] convention would have the seemingly inconvenient property that B is contained withing the inteval [A, B] and also [B, C]. This is particularly inconvenient if B is meant to represent the midnight boundary and you are trying to determine which day it falls on for example. Also, this means the duration of the interval is slightly irritatig to calculate since [A, B] where A = B should have a length of 1 and therefore the duration of [A, B] is (B - A) <strong>+ 1</strong> </p>\n\n<p>Similarly the (A, B) convention would have the difficulty that B falls within neither (A,B) nor (B,C)... continuing the analogy with day boundaries, midnight would be part of neither day. This is also logically inconvenient because [A, B] where A = B is a non-sense interval with duration less than zero, <strong>but reversing A and B does not make it a valid interval</strong>.</p>\n\n<p>So I think I want either [A, B), or (A, B] and I can't figure out how to decide between them. </p>\n\n<p>So if someone has a link to a standards document, reference to a standard text or similar  that clarify the convention that would be great. Alternately, if you can link a variety of standards documents and/or references that more or less completely fail to agree, then I can just pick one that seems to have sufficient authority to CMA and be done with it :). </p>\n\n<p>Finally, I will be working in Java, so I am particularly susceptible to answers that work well in Java.</p>\n"},{"tags":["java","mysql","servlets","jdbc"],"owner":{"account_id":24905160,"reputation":39,"user_id":18775322,"display_name":"Tyler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677120788,"creation_date":1677120788,"question_id":75540149,"body_markdown":"I&#39;m getting a null connection because Public Key Retrieval is not allowed A lot of people get similar errors when trying to establish a JDBC connection and the answer people always give is to add `?useSSL=false&amp;allowPublicKeyRetrieval=true` to the database URL. Well, I have done that and I still get the same error. There is no difference. I&#39;ll show my servlet just to give you an idea of how I&#39;m using the connection:\r\n```\r\npackage com.chargefinder.registration;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\n\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/register&quot;)\r\npublic class RegistrationServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n\t\tString username = request.getParameter(&quot;username&quot;);\r\n\t\tString email = request.getParameter(&quot;email&quot;);\r\n\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\tString phoneNumber = request.getParameter(&quot;contact&quot;);\r\n\t\tString userType = request.getParameter(&quot;type&quot;);\r\n\t\tRequestDispatcher dispatcher = null;\r\n\t\tConnection con = null;\r\n\t\r\n\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tcon = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/ChargeFinder?useSSL=false&amp;allowPublicKeyRetrieval=true&quot;, &quot;root&quot;, &quot;root&quot;); //?allowPublicKeyRetrieval=true&amp;useSSL=false\r\n\t\t\tPreparedStatement post = con.prepareStatement(&quot;insert into users(username,email,password,phoneNumber,userType) values(?,?,?,?,?) &quot;);\r\n\t\t\tpost.setString(1, username);\r\n\t\t\tpost.setString(2, email);\r\n\t\t\tpost.setString(3, password);\r\n\t\t\tpost.setString(4, phoneNumber);\r\n\t\t\tpost.setString(5, userType);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tint rowCount = post.executeUpdate();\r\n\t\t\tdispatcher = request.getRequestDispatcher(&quot;registration.jsp&quot;);\r\n\t\t\t\r\n\t\t\tif (rowCount &gt; 0) {\r\n\t\t\t\trequest.setAttribute(&quot;status&quot;, &quot;success&quot;);\r\n\t\t\t}else {\r\n\t\t\t\trequest.setAttribute(&quot;status&quot;, &quot;failed&quot;);\r\n\t\t\t}\r\n\t\t\tdispatcher.forward(request, response);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}finally {\r\n\t\t\ttry {\r\n\t\t\t\tcon.close();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nHere are the errors in my console:\r\n```\r\njava.sql.SQLNonTransientConnectionException: Public Key Retrieval is not allowed\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:824)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\tat com.chargefinder.registration.RegistrationServlet.doPost(RegistrationServlet.java:34)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.mysql.cj.exceptions.UnableToConnectException: Public Key Retrieval is not allowed\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:85)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:130)\r\n\tat com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:49)\r\n\tat com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:447)\r\n\tat com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:212)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1429)\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:133)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814)\r\n\t... 30 more\r\n```\r\n\r\nAs soon as I start adding a few of the error details for the `com.mysql.cj.exceptions.UnableToConnectException` to my Google search I get almost no results so this may be a shot in the dark. It appears to be different from other people who got that exception, so I&#39;m hoping someone else might be able to please tell me just what it is that I&#39;m looking at.","title":"&quot;Public Key Retrieval is not allowed&quot; error still happens when I enable public key retrieval in DB URL","body":"<p>I'm getting a null connection because Public Key Retrieval is not allowed A lot of people get similar errors when trying to establish a JDBC connection and the answer people always give is to add <code>?useSSL=false&amp;allowPublicKeyRetrieval=true</code> to the database URL. Well, I have done that and I still get the same error. There is no difference. I'll show my servlet just to give you an idea of how I'm using the connection:</p>\n<pre><code>package com.chargefinder.registration;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/register&quot;)\npublic class RegistrationServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n        String username = request.getParameter(&quot;username&quot;);\n        String email = request.getParameter(&quot;email&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        String phoneNumber = request.getParameter(&quot;contact&quot;);\n        String userType = request.getParameter(&quot;type&quot;);\n        RequestDispatcher dispatcher = null;\n        Connection con = null;\n    \n    \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/ChargeFinder?useSSL=false&amp;allowPublicKeyRetrieval=true&quot;, &quot;root&quot;, &quot;root&quot;); //?allowPublicKeyRetrieval=true&amp;useSSL=false\n            PreparedStatement post = con.prepareStatement(&quot;insert into users(username,email,password,phoneNumber,userType) values(?,?,?,?,?) &quot;);\n            post.setString(1, username);\n            post.setString(2, email);\n            post.setString(3, password);\n            post.setString(4, phoneNumber);\n            post.setString(5, userType);\n            \n            \n            int rowCount = post.executeUpdate();\n            dispatcher = request.getRequestDispatcher(&quot;registration.jsp&quot;);\n            \n            if (rowCount &gt; 0) {\n                request.setAttribute(&quot;status&quot;, &quot;success&quot;);\n            }else {\n                request.setAttribute(&quot;status&quot;, &quot;failed&quot;);\n            }\n            dispatcher.forward(request, response);\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }finally {\n            try {\n                con.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here are the errors in my console:</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Public Key Retrieval is not allowed\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:824)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at com.chargefinder.registration.RegistrationServlet.doPost(RegistrationServlet.java:34)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: com.mysql.cj.exceptions.UnableToConnectException: Public Key Retrieval is not allowed\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:85)\n    at com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:130)\n    at com.mysql.cj.protocol.a.authentication.CachingSha2PasswordPlugin.nextAuthenticationStep(CachingSha2PasswordPlugin.java:49)\n    at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:447)\n    at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:212)\n    at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1429)\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:133)\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814)\n    ... 30 more\n</code></pre>\n<p>As soon as I start adding a few of the error details for the <code>com.mysql.cj.exceptions.UnableToConnectException</code> to my Google search I get almost no results so this may be a shot in the dark. It appears to be different from other people who got that exception, so I'm hoping someone else might be able to please tell me just what it is that I'm looking at.</p>\n"},{"tags":["java","function","generics"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677120327,"creation_date":1677119420,"answer_id":75540052,"question_id":75539938,"body_markdown":"For clarity, I will call the 2-parameter method &quot;`safeMethod`&quot;, and call the local variable of type `Function&lt;List&lt;E&gt;, Function&lt;Integer, Optional&lt;E&gt;&gt;&gt;` &quot;`safeLocal`&quot;.\r\n\r\nThe difference is that `safeMethod` is generic and `safeLocal.apply` is not (but `test` *is*).\r\n\r\n`safeMethod` is generic - it can take a `List&lt;E&gt;` for *any* reference type `E`. In the call `safeMethod(list, 0);`, `E` is inferred to be `SomeClass`. It can be said that the type argument for the type parameter `E` in this call is `SomeClass`.\r\n\r\nOn the other hand, the `apply` method of `safeLocal` takes *one specific type* - `List&lt;E&gt;`. [`apply`][1] is not generic after all. Note that this `E` type refers to *one specific type* - the type argument passed to `test`. Is `SomeClass` that type argument? Not necessarily. Since `test` is generic, `E` can be *any* reference type, not necessarily `SomeClass`. Therefore, you cannot pass `List&lt;SomeClass&gt;` to `safeLocal.apply`.\r\n\r\nFor a concrete example, let&#39;s say you are calling `test` from another method in the same class,\r\n\r\n    public void anotherMethodInTheSameClassAsTest() {\r\n        // you could do:\r\n        this.&lt;SomeClass&gt;test(); // 1\r\n        // but since test is generic and E can be any reference type,\r\n        // you could also do\r\n        this.&lt;String&gt;test(); // 2\r\n    }\r\n\r\nFor `// 1`, the type argument for the type parameter `E` for `test` would be `SomeClass`. For `// 2` however, it would be `String`! `safeLocal.apply` is supposed to take a `List&lt;String&gt;` in this case, not a `List&lt;SomeClass&gt;`.\r\n\r\nThough in practice, generics don&#39;t exist at runtime, and all `safeLocal` is really doing is returning an empty optional. `test` isn&#39;t even doing anything to that. So the type doesn&#39;t really matter in this particular case, which is why casting can &quot;fix&quot; this.\r\n\r\nIf you want to make a generic local variable that can be `apply`&#39;ed with different kinds of lists, you need to declare your own interface that actually has a generic `apply` in it, and *not* use a lambda. Lambdas unfortunately can&#39;t be generic :(\r\n\r\n```\r\ninterface SafeListAccessFunction {\r\n    &lt;E&gt; Optional&lt;E&gt; apply(@NotNull List&lt;E&gt; l, Integer o);\r\n}\r\n```\r\n\r\n```\r\nSafeListAccessFunction safe = new SafeListAccessFunction() {\r\n    @Override\r\n    public &lt;E&gt; Optional&lt;E&gt; apply(@NotNull List&lt;E&gt; l, Integer o) {\r\n        return l.size() &gt; o ? Optional.of(l.get(o)) : Optional.empty();\r\n    }\r\n};\r\n```\r\n\r\nOr if you want it curried:\r\n\r\n```\r\ninterface SafeListAccessFunction {\r\n    &lt;E&gt; Function&lt;Integer, Optional&lt;E&gt;&gt; apply(@NotNull List&lt;E&gt; l);\r\n}\r\n```\r\n\r\n```\r\nSafeListAccessFunction safe = new SafeListAccessFunction() {\r\n    @Override\r\n    public &lt;E&gt; Function&lt;Integer, Optional&lt;E&gt;&gt; apply(@NotNull List&lt;E&gt; l) {\r\n        return o -&gt; l.size() &gt; o ? Optional.of(l.get(o)) : Optional.empty();\r\n    }\r\n};\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/function/Function.html#apply(T)","title":"What&#39;s the difference between the two java codes? (Generic class)","body":"<p>For clarity, I will call the 2-parameter method &quot;<code>safeMethod</code>&quot;, and call the local variable of type <code>Function&lt;List&lt;E&gt;, Function&lt;Integer, Optional&lt;E&gt;&gt;&gt;</code> &quot;<code>safeLocal</code>&quot;.</p>\n<p>The difference is that <code>safeMethod</code> is generic and <code>safeLocal.apply</code> is not (but <code>test</code> <em>is</em>).</p>\n<p><code>safeMethod</code> is generic - it can take a <code>List&lt;E&gt;</code> for <em>any</em> reference type <code>E</code>. In the call <code>safeMethod(list, 0);</code>, <code>E</code> is inferred to be <code>SomeClass</code>. It can be said that the type argument for the type parameter <code>E</code> in this call is <code>SomeClass</code>.</p>\n<p>On the other hand, the <code>apply</code> method of <code>safeLocal</code> takes <em>one specific type</em> - <code>List&lt;E&gt;</code>. <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/function/Function.html#apply(T)\" rel=\"nofollow noreferrer\"><code>apply</code></a> is not generic after all. Note that this <code>E</code> type refers to <em>one specific type</em> - the type argument passed to <code>test</code>. Is <code>SomeClass</code> that type argument? Not necessarily. Since <code>test</code> is generic, <code>E</code> can be <em>any</em> reference type, not necessarily <code>SomeClass</code>. Therefore, you cannot pass <code>List&lt;SomeClass&gt;</code> to <code>safeLocal.apply</code>.</p>\n<p>For a concrete example, let's say you are calling <code>test</code> from another method in the same class,</p>\n<pre><code>public void anotherMethodInTheSameClassAsTest() {\n    // you could do:\n    this.&lt;SomeClass&gt;test(); // 1\n    // but since test is generic and E can be any reference type,\n    // you could also do\n    this.&lt;String&gt;test(); // 2\n}\n</code></pre>\n<p>For <code>// 1</code>, the type argument for the type parameter <code>E</code> for <code>test</code> would be <code>SomeClass</code>. For <code>// 2</code> however, it would be <code>String</code>! <code>safeLocal.apply</code> is supposed to take a <code>List&lt;String&gt;</code> in this case, not a <code>List&lt;SomeClass&gt;</code>.</p>\n<p>Though in practice, generics don't exist at runtime, and all <code>safeLocal</code> is really doing is returning an empty optional. <code>test</code> isn't even doing anything to that. So the type doesn't really matter in this particular case, which is why casting can &quot;fix&quot; this.</p>\n<p>If you want to make a generic local variable that can be <code>apply</code>'ed with different kinds of lists, you need to declare your own interface that actually has a generic <code>apply</code> in it, and <em>not</em> use a lambda. Lambdas unfortunately can't be generic :(</p>\n<pre><code>interface SafeListAccessFunction {\n    &lt;E&gt; Optional&lt;E&gt; apply(@NotNull List&lt;E&gt; l, Integer o);\n}\n</code></pre>\n<pre><code>SafeListAccessFunction safe = new SafeListAccessFunction() {\n    @Override\n    public &lt;E&gt; Optional&lt;E&gt; apply(@NotNull List&lt;E&gt; l, Integer o) {\n        return l.size() &gt; o ? Optional.of(l.get(o)) : Optional.empty();\n    }\n};\n</code></pre>\n<p>Or if you want it curried:</p>\n<pre><code>interface SafeListAccessFunction {\n    &lt;E&gt; Function&lt;Integer, Optional&lt;E&gt;&gt; apply(@NotNull List&lt;E&gt; l);\n}\n</code></pre>\n<pre><code>SafeListAccessFunction safe = new SafeListAccessFunction() {\n    @Override\n    public &lt;E&gt; Function&lt;Integer, Optional&lt;E&gt;&gt; apply(@NotNull List&lt;E&gt; l) {\n        return o -&gt; l.size() &gt; o ? Optional.of(l.get(o)) : Optional.empty();\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":24140712,"reputation":21,"user_id":18106943,"display_name":"박준영"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677120327,"creation_date":1677117927,"question_id":75539938,"body_markdown":"```\r\nprivate &lt;E&gt; Optional&lt;E&gt; safe(@NotNull List&lt;E&gt; l, Integer o) { return l.size() &gt; o ? Optional.of(l.get(o)) : Optional.empty(); }\r\n```\r\n\r\n```\r\npublic &lt;E&gt; void test() {\r\n    Function&lt;List&lt;E&gt;, Function&lt;Integer, Optional&lt;E&gt;&gt;&gt; safe = l -&gt; i -&gt; l.size() &gt; i ? Optional.of(l.get(i)) : Optional.empty();\r\n    List&lt;SomeClass&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    Optional&lt;SomeClass&gt; element1 = safe(list, 0);\r\n    Optional&lt;SomeClass&gt; element2 = safe.apply(list).apply(0); // doesn&#39;t work this line;\r\n}\r\n```\r\n\r\nGeneric class E of &quot;Function&lt;List\\&lt;E&gt;, Function&lt;Integer, Optional\\&lt;E&gt;&gt;&gt; safe&quot; can&#39;t cognize SomeClass to E\r\n\r\nWhat&#39;s the difference between the two codes?\r\n\r\nclass casting dose work. but i want to know difference between the two","title":"What&#39;s the difference between the two java codes? (Generic class)","body":"<pre><code>private &lt;E&gt; Optional&lt;E&gt; safe(@NotNull List&lt;E&gt; l, Integer o) { return l.size() &gt; o ? Optional.of(l.get(o)) : Optional.empty(); }\n</code></pre>\n<pre><code>public &lt;E&gt; void test() {\n    Function&lt;List&lt;E&gt;, Function&lt;Integer, Optional&lt;E&gt;&gt;&gt; safe = l -&gt; i -&gt; l.size() &gt; i ? Optional.of(l.get(i)) : Optional.empty();\n    List&lt;SomeClass&gt; list = new ArrayList&lt;&gt;();\n\n    Optional&lt;SomeClass&gt; element1 = safe(list, 0);\n    Optional&lt;SomeClass&gt; element2 = safe.apply(list).apply(0); // doesn't work this line;\n}\n</code></pre>\n<p>Generic class E of &quot;Function&lt;List&lt;E&gt;, Function&lt;Integer, Optional&lt;E&gt;&gt;&gt; safe&quot; can't cognize SomeClass to E</p>\n<p>What's the difference between the two codes?</p>\n<p>class casting dose work. but i want to know difference between the two</p>\n"},{"tags":["java","spring-boot","hibernate","google-cloud-platform","intellij-idea"],"owner":{"account_id":27854077,"reputation":13,"user_id":21267971,"display_name":"Peter Sabio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677119595,"creation_date":1677117927,"question_id":75539937,"body_markdown":"I am trying to connect my springboot and hibernate project to my gcp mysql database. However when i try to connect tot he data base I get an The Application Default Credentials are not available error. I am trying to set the credentials location in my application.properties file however even with what i beleive is the correct dependecies I am getting Cannot resolve configuration property &#39;spring.cloud.gcp.credentials.location&#39;\r\n\r\nhere is my pom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.seniorproject&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Backend&lt;/name&gt;\r\n\t&lt;description&gt;backend for senior project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-socket-factory-connector-j-8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-gcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nhere is my application.properties file\r\n\r\n```\r\n#datasource configurations\r\nspring.datasource.url=jdbc:mysql:///seniorproject-db?cloudSqlInstance=seniorproject-376014:us-central1:seniorproject-db&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory\r\n#spring.datasource.username=root\r\n#spring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nspring.cloud.gcp.project-id=seniorproject-376014\r\nspring.cloud.gcp.credentials.location=classpath:/src/main/resources/seniorprojectKey.json\r\n\r\nspring.cloud.gcp.sql.enabled=true\r\n\r\n```\r\n\r\nhere is the main file im trying to run\r\n\r\n```\r\npackage com.seniorproject.Backend;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class BackendApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackendApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried changing around what dependecies I use but none seem to let me use the spring.cloud.gcp configuration property. \r\nIm pretty new to spring boot and hibernate so any help in appreciated.","title":"Cannot resolve configuration property &#39;spring.cloud.gcp.credentials.location&#39;","body":"<p>I am trying to connect my springboot and hibernate project to my gcp mysql database. However when i try to connect tot he data base I get an The Application Default Credentials are not available error. I am trying to set the credentials location in my application.properties file however even with what i beleive is the correct dependecies I am getting Cannot resolve configuration property 'spring.cloud.gcp.credentials.location'</p>\n<p>here is my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.seniorproject&lt;/groupId&gt;\n    &lt;artifactId&gt;Backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Backend&lt;/name&gt;\n    &lt;description&gt;backend for senior project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-socket-factory-connector-j-8&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>here is my application.properties file</p>\n<pre><code>#datasource configurations\nspring.datasource.url=jdbc:mysql:///seniorproject-db?cloudSqlInstance=seniorproject-376014:us-central1:seniorproject-db&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory\n#spring.datasource.username=root\n#spring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n\nspring.cloud.gcp.project-id=seniorproject-376014\nspring.cloud.gcp.credentials.location=classpath:/src/main/resources/seniorprojectKey.json\n\nspring.cloud.gcp.sql.enabled=true\n\n</code></pre>\n<p>here is the main file im trying to run</p>\n<pre><code>package com.seniorproject.Backend;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class BackendApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I have tried changing around what dependecies I use but none seem to let me use the spring.cloud.gcp configuration property.\nIm pretty new to spring boot and hibernate so any help in appreciated.</p>\n"},{"tags":["java","spring-boot","war","jvm-arguments"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677118954,"creation_date":1677118954,"answer_id":75540015,"question_id":75539579,"body_markdown":"Let&#39;s take a look at java command help:\r\n\r\n```\r\nUsage: java [options] &lt;mainclass&gt; [args...]\r\n           (to execute a class)\r\n   or  java [options] -jar &lt;jarfile&gt; [args...]\r\n           (to execute a jar file)\r\n   or  java [options] -m &lt;module&gt;[/&lt;mainclass&gt;] [args...]\r\n       java [options] --module &lt;module&gt;[/&lt;mainclass&gt;] [args...]\r\n           (to execute the main class in a module)\r\n   or  java [options] &lt;sourcefile&gt; [args]\r\n           (to execute a single source-file program)\r\n\r\n Arguments following the main class, source file, -jar &lt;jarfile&gt;,\r\n -m or --module &lt;module&gt;/&lt;mainclass&gt; are passed as the arguments to\r\n main class.\r\n```\r\n\r\nin your case:\r\n\r\n```\r\njava -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev -Duser.timezone=America/New_York\r\n```\r\n\r\nsince `-Duser.timezone=America/New_York` argument is specified **after** `-jar` option it is considered as main class argument and ignored by JVM, the correct command line is:\r\n\r\n```\r\njava -Duser.timezone=America/New_York -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev\r\n```","title":"How to pass user.timezone as a JVM argument when running a SpringBoot based war directly using Java","body":"<p>Let's take a look at java command help:</p>\n<pre><code>Usage: java [options] &lt;mainclass&gt; [args...]\n           (to execute a class)\n   or  java [options] -jar &lt;jarfile&gt; [args...]\n           (to execute a jar file)\n   or  java [options] -m &lt;module&gt;[/&lt;mainclass&gt;] [args...]\n       java [options] --module &lt;module&gt;[/&lt;mainclass&gt;] [args...]\n           (to execute the main class in a module)\n   or  java [options] &lt;sourcefile&gt; [args]\n           (to execute a single source-file program)\n\n Arguments following the main class, source file, -jar &lt;jarfile&gt;,\n -m or --module &lt;module&gt;/&lt;mainclass&gt; are passed as the arguments to\n main class.\n</code></pre>\n<p>in your case:</p>\n<pre><code>java -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev -Duser.timezone=America/New_York\n</code></pre>\n<p>since <code>-Duser.timezone=America/New_York</code> argument is specified <strong>after</strong> <code>-jar</code> option it is considered as main class argument and ignored by JVM, the correct command line is:</p>\n<pre><code>java -Duser.timezone=America/New_York -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev\n</code></pre>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75540015,"answer_count":1,"score":0,"last_activity_date":1677118954,"creation_date":1677113099,"question_id":75539579,"body_markdown":"I have a Spring Boot based application packaged as a `.war` and can execute it directly using Java as follows:\r\n\r\n```\r\njava -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev\r\n```\r\n\r\nIs there a way to provide a value for `user.timezone` as a JVM argument?\r\n\r\nI&#39;ve tried the following but none set the `user.timezone` property:\r\n\r\n```\r\njava -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev -Duser.timezone=America/New_York\r\n\r\njava -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev -Dspring-boot.run.jvmArguments=&quot;-Duser.timezone=America/New_York&quot;\r\n```","title":"How to pass user.timezone as a JVM argument when running a SpringBoot based war directly using Java","body":"<p>I have a Spring Boot based application packaged as a <code>.war</code> and can execute it directly using Java as follows:</p>\n<pre><code>java -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev\n</code></pre>\n<p>Is there a way to provide a value for <code>user.timezone</code> as a JVM argument?</p>\n<p>I've tried the following but none set the <code>user.timezone</code> property:</p>\n<pre><code>java -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev -Duser.timezone=America/New_York\n\njava -jar build/libs/sample-project-0.1.0.war --spring.profiles.active=dev -Dspring-boot.run.jvmArguments=&quot;-Duser.timezone=America/New_York&quot;\n</code></pre>\n"},{"tags":["java","xml","plist"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1268696387,"post_id":2451170,"comment_id":2438859,"body_markdown":"The nodes should be parsed just fine, but you might get multiple events representing &quot;Boom &quot;, &quot;&amp;amp;&quot; and &quot; Shroom&quot;, depending on the implementation. You need to be able to handle that.","body":"The nodes should be parsed just fine, but you might get multiple events representing &quot;Boom &quot;, &quot;&amp;amp;&quot; and &quot; Shroom&quot;, depending on the implementation. You need to be able to handle that."},{"owner":{"account_id":596122,"reputation":2559,"user_id":294374,"accept_rate":80,"display_name":"Jay"},"score":0,"creation_date":1268697544,"post_id":2451170,"comment_id":2438949,"body_markdown":"Thanks for the comment. Indeed i get multiple events, but i just want to get one event representing the complete String.","body":"Thanks for the comment. Indeed i get multiple events, but i just want to get one event representing the complete String."}],"answers":[{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1270208459,"creation_date":1270208459,"answer_id":2566424,"question_id":2451170,"body_markdown":"There is a predefined method `getElementText()`, which is buggy in jdk1.6.0_15, but works ok with jdk1.6.0_19. A complete program to easily parse the plist file is this:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import javax.xml.stream.XMLEventReader;\r\n    import javax.xml.stream.XMLInputFactory;\r\n    import javax.xml.stream.XMLStreamException;\r\n    import javax.xml.stream.events.XMLEvent;\r\n    \r\n    public class Parser {\r\n    \r\n        public static void main(String[] args) throws XMLStreamException, IOException {\r\n            InputStream in = new FileInputStream(&quot;foo.xml&quot;);\r\n            XMLInputFactory factory = XMLInputFactory.newInstance();\r\n            XMLEventReader parser = factory.createXMLEventReader(in);\r\n    \r\n            assert parser.nextEvent().isStartDocument();\r\n    \r\n            XMLEvent event = parser.nextTag();\r\n            assert event.isStartElement();\r\n            final String name1 = event.asStartElement().getName().getLocalPart();\r\n    \r\n            if (name1.equals(&quot;dict&quot;)) {\r\n                while ((event = parser.nextTag()).isStartElement()) {\r\n                    final String name2 = event.asStartElement().getName().getLocalPart();\r\n    \r\n                    if (name2.equals(&quot;key&quot;)) {\r\n                        String key = parser.getElementText();\r\n                        System.out.println(&quot;key: &quot; + key);\r\n    \r\n                    } else if (name2.equals(&quot;integer&quot;)) {\r\n                        String number = parser.getElementText();\r\n                        System.out.println(&quot;integer: &quot; + number);\r\n    \r\n                    } else if (name2.equals(&quot;string&quot;)) {\r\n                        String str = parser.getElementText();\r\n                        System.out.println(&quot;string: &quot; + str);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            assert parser.nextEvent().isEndDocument();\r\n        }\r\n    }\r\n","title":"Java Plist XML Parsing","body":"<p>There is a predefined method <code>getElementText()</code>, which is buggy in jdk1.6.0_15, but works ok with jdk1.6.0_19. A complete program to easily parse the plist file is this:</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport javax.xml.stream.XMLEventReader;\nimport javax.xml.stream.XMLInputFactory;\nimport javax.xml.stream.XMLStreamException;\nimport javax.xml.stream.events.XMLEvent;\n\npublic class Parser {\n\n    public static void main(String[] args) throws XMLStreamException, IOException {\n        InputStream in = new FileInputStream(\"foo.xml\");\n        XMLInputFactory factory = XMLInputFactory.newInstance();\n        XMLEventReader parser = factory.createXMLEventReader(in);\n\n        assert parser.nextEvent().isStartDocument();\n\n        XMLEvent event = parser.nextTag();\n        assert event.isStartElement();\n        final String name1 = event.asStartElement().getName().getLocalPart();\n\n        if (name1.equals(\"dict\")) {\n            while ((event = parser.nextTag()).isStartElement()) {\n                final String name2 = event.asStartElement().getName().getLocalPart();\n\n                if (name2.equals(\"key\")) {\n                    String key = parser.getElementText();\n                    System.out.println(\"key: \" + key);\n\n                } else if (name2.equals(\"integer\")) {\n                    String number = parser.getElementText();\n                    System.out.println(\"integer: \" + number);\n\n                } else if (name2.equals(\"string\")) {\n                    String str = parser.getElementText();\n                    System.out.println(\"string: \" + str);\n                }\n            }\n        }\n\n        assert parser.nextEvent().isEndDocument();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":603399,"reputation":71,"user_id":312830,"display_name":"Anon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1270829860,"creation_date":1270829860,"answer_id":2609059,"question_id":2451170,"body_markdown":"You should be able to solve your problem by setting the `IS_COALESCING` property on the `XMLInputFactory` (I also prefer `XMLStreamReader` over `XMLEventReader`, but ymmv):\r\n\r\n    XMLInputFactory factory = XMLInputFactory.newInstance();\r\n    factory.setProperty(XMLInputFactory.IS_COALESCING, Boolean.TRUE);\r\n\r\n    InputStream in = // ...\r\n    xmlReader = factory.createXMLStreamReader(in, &quot;UTF-8&quot;);\r\n\r\nIncidentally, to the best of my knowledge none of the JDK parsers will handle &quot;not well formed&quot; XML without choking. Your XML is, in fact, well-formed: it uses an entity rather than a raw ampersand.","title":"Java Plist XML Parsing","body":"<p>You should be able to solve your problem by setting the <code>IS_COALESCING</code> property on the <code>XMLInputFactory</code> (I also prefer <code>XMLStreamReader</code> over <code>XMLEventReader</code>, but ymmv):</p>\n\n<pre><code>XMLInputFactory factory = XMLInputFactory.newInstance();\nfactory.setProperty(XMLInputFactory.IS_COALESCING, Boolean.TRUE);\n\nInputStream in = // ...\nxmlReader = factory.createXMLStreamReader(in, \"UTF-8\");\n</code></pre>\n\n<p>Incidentally, to the best of my knowledge none of the JDK parsers will handle \"not well formed\" XML without choking. Your XML is, in fact, well-formed: it uses an entity rather than a raw ampersand.</p>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677118604,"creation_date":1677118604,"answer_id":75539990,"question_id":2451170,"body_markdown":"&gt;This library enables your Java application to handle property lists of various formats.\r\n\r\n&gt;Read / write property lists from / to files, streams or byte arrays\r\nConvert between property list formats\r\nProperty list contents are provided as objects from the NeXTSTEP environment (NSDictionary, NSArray, NSString, etc.)\r\nSerialize native java data structures to property list objects\r\nDeserialize from property list objects to native java data structures\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.googlecode.plist&lt;/groupId&gt;\r\n  &lt;artifactId&gt;dd-plist&lt;/artifactId&gt;\r\n  &lt;version&gt;1.26&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n[dd-plist](https://github.com/3breadt/dd-plist)","title":"Java Plist XML Parsing","body":"<blockquote>\n<p>This library enables your Java application to handle property lists of various formats.</p>\n</blockquote>\n<blockquote>\n<p>Read / write property lists from / to files, streams or byte arrays\nConvert between property list formats\nProperty list contents are provided as objects from the NeXTSTEP environment (NSDictionary, NSArray, NSString, etc.)\nSerialize native java data structures to property list objects\nDeserialize from property list objects to native java data structures</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.googlecode.plist&lt;/groupId&gt;\n  &lt;artifactId&gt;dd-plist&lt;/artifactId&gt;\n  &lt;version&gt;1.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://github.com/3breadt/dd-plist\" rel=\"nofollow noreferrer\">dd-plist</a></p>\n"}],"owner":{"account_id":596122,"reputation":2559,"user_id":294374,"accept_rate":80,"display_name":"Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6629,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2609059,"answer_count":3,"score":5,"last_activity_date":1677118604,"creation_date":1268695430,"question_id":2451170,"body_markdown":"I&#39;m parsing a (not well formed) Apple Plist File with java. \r\n\r\nMy Code looks like this:\r\n\r\n\r\n    InputStream in = new FileInputStream( &quot;foo&quot; ); \r\n    XMLInputFactory factory = XMLInputFactory.newInstance(); \r\n    XMLEventReader parser = factory.createXMLEventReader( in ); \r\n    while (parser.hasNext()){    \r\n    XMLEvent event = parser.nextEvent();    \r\n      //code to navigate the nodes \r\n    }\r\n\r\nThe parts I&quot;m parsing are looking like this:\r\n\r\n    &lt;dict&gt;    \r\n      &lt;key&gt;foo&lt;/key&gt;&lt;integer&gt;123&lt;/integer&gt;\r\n      &lt;key&gt;bar&lt;/key&gt;&lt;string&gt;Boom &amp;amp; Shroom&lt;/string&gt;\r\n    &lt;/dict&gt;\r\n\r\nMy problem is now, that &lt;string&gt; nodes containing a ampersand are not parsed like they should because the ampersand is representing a entity.\r\n\r\nWhat can i do to get the value of the &lt;string&gt; node as a complete String, instead of broken parts?\r\n\r\nThank you in advance.\r\n\r\n\r\n","title":"Java Plist XML Parsing","body":"<p>I'm parsing a (not well formed) Apple Plist File with java. </p>\n\n<p>My Code looks like this:</p>\n\n<pre><code>InputStream in = new FileInputStream( \"foo\" ); \nXMLInputFactory factory = XMLInputFactory.newInstance(); \nXMLEventReader parser = factory.createXMLEventReader( in ); \nwhile (parser.hasNext()){    \nXMLEvent event = parser.nextEvent();    \n  //code to navigate the nodes \n}\n</code></pre>\n\n<p>The parts I\"m parsing are looking like this:</p>\n\n<pre><code>&lt;dict&gt;    \n  &lt;key&gt;foo&lt;/key&gt;&lt;integer&gt;123&lt;/integer&gt;\n  &lt;key&gt;bar&lt;/key&gt;&lt;string&gt;Boom &amp;amp; Shroom&lt;/string&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>My problem is now, that  nodes containing a ampersand are not parsed like they should because the ampersand is representing a entity.</p>\n\n<p>What can i do to get the value of the  node as a complete String, instead of broken parts?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","objective-c","plist","xml-parsing"],"comments":[{"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"score":2,"creation_date":1305262445,"post_id":5987339,"comment_id":6912709,"body_markdown":"AFAIK .plist are regular XML files. At least that is what they claim: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;","body":"AFAIK .plist are regular XML files. At least that is what they claim: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;"},{"owner":{"account_id":256495,"reputation":6727,"user_id":537247,"accept_rate":85,"display_name":"Jumhyn"},"score":0,"creation_date":1305262916,"post_id":5987339,"comment_id":6912781,"body_markdown":"To an extent, yes. But whereas a normal XML file might look like: &quot;&lt;myPropertyName&gt;myValue&lt;/myPropertyName&gt;&quot;, plists look like &quot;&lt;key&gt;myPropertyName&lt;/key&gt;&lt;string&gt;myValue&lt;/string&gt;&quot; which makes it a bitch to use regular XML parsers.","body":"To an extent, yes. But whereas a normal XML file might look like: &quot;&lt;myPropertyName&gt;myValue&lt;/myPropertyName&gt;&quot;, plists look like &quot;&lt;key&gt;myPropertyName&lt;/key&gt;&lt;string&gt;myValue&lt;/string&gt;&quot; which makes it a bitch to use regular XML parsers."},{"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"score":0,"creation_date":1305263145,"post_id":5987339,"comment_id":6912822,"body_markdown":"that is perfectly valid XML and you should use an XML parser for that. I guess you would like to use a mapping tool to bind that to a java object, but not many XML binding tools support this. Still, valid, wellformed XML","body":"that is perfectly valid XML and you should use an XML parser for that. I guess you would like to use a mapping tool to bind that to a java object, but not many XML binding tools support this. Still, valid, wellformed XML"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1305264137,"creation_date":1305263189,"answer_id":5987452,"question_id":5987339,"body_markdown":"As @Jochen Bedersdorfer notes, `.plist` files are XML with a well-formed [DTD][2]. Use [`plutil`][1] to convert them from binary to text form.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; \r\n        &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n\r\nAddendum: In a comment, you asked\r\n\r\n&gt;Isn&#39;t it text form when I get it?\r\n\r\nNot necessarily. Here&#39;s some [history][3] on the subject.\r\n\r\n[1]:http://www.unix.com/man-page/OSX/1/plutil/\r\n[2]:http://www.apple.com/DTDs/PropertyList-1.0.dtd\r\n[3]:http://en.wikipedia.org/wiki/Property_list\r\n","title":"Apple Plist Converted to Java Data Structures","body":"<p>As @Jochen Bedersdorfer notes, <code>.plist</code> files are XML with a well-formed <a href=\"http://www.apple.com/DTDs/PropertyList-1.0.dtd\" rel=\"nofollow\">DTD</a>. Use <a href=\"http://www.unix.com/man-page/OSX/1/plutil/\" rel=\"nofollow\"><code>plutil</code></a> to convert them from binary to text form.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \n    \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n</code></pre>\n\n<p>Addendum: In a comment, you asked</p>\n\n<blockquote>\n  <p>Isn't it text form when I get it?</p>\n</blockquote>\n\n<p>Not necessarily. Here's some <a href=\"http://en.wikipedia.org/wiki/Property_list\" rel=\"nofollow\">history</a> on the subject.</p>\n"},{"tags":[],"owner":{"account_id":85916,"reputation":34143,"user_id":239243,"accept_rate":45,"display_name":"Yuji"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305270253,"creation_date":1305270253,"answer_id":5988424,"question_id":5987339,"body_markdown":"To remove any confusion:\r\n\r\n1. A `plist` file can be either in XML or in binary form. \r\n2. The binary plist is of course not XML. \r\n3. The XML plist is of course XML. In fact it&#39;s a valid XML... try `xmllint` against an XML plist. \r\n4. Yes it has slightly unconventional structure. As you say, it&#39;s like `&lt;dt&gt;title&lt;/dt&gt;&lt;dd&gt;description&lt;/dd&gt;`.\r\n5. You can convert a binary plist to an XML plist using `plutil` on OS X. Convert it to XML before sending it over the network.\r\n6. With a regular XML parser you can get `key` and `string`. Make a hash containing these pairs. Then you get the string based on the key.","title":"Apple Plist Converted to Java Data Structures","body":"<p>To remove any confusion:</p>\n\n<ol>\n<li>A <code>plist</code> file can be either in XML or in binary form. </li>\n<li>The binary plist is of course not XML. </li>\n<li>The XML plist is of course XML. In fact it's a valid XML... try <code>xmllint</code> against an XML plist. </li>\n<li>Yes it has slightly unconventional structure. As you say, it's like <code>&lt;dt&gt;title&lt;/dt&gt;&lt;dd&gt;description&lt;/dd&gt;</code>.</li>\n<li>You can convert a binary plist to an XML plist using <code>plutil</code> on OS X. Convert it to XML before sending it over the network.</li>\n<li>With a regular XML parser you can get <code>key</code> and <code>string</code>. Make a hash containing these pairs. Then you get the string based on the key.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677118410,"creation_date":1677118410,"answer_id":75539976,"question_id":5987339,"body_markdown":"[dd-plist](https://github.com/3breadt/dd-plist#features) might be helpful.\r\n\r\n&gt; Serialize native java data structures to property list objects\r\n&gt;\r\n&gt; Deserialize from property list objects to native java data structures\r\n\r\n\r\n&gt; You can also directly convert the contained NSObject objects into native Java objects with the NSObject.toJavaObject() method. Using this method you can avoid working with NSObject instances altogether.\r\n\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.googlecode.plist&lt;/groupId&gt;\r\n  &lt;artifactId&gt;dd-plist&lt;/artifactId&gt;\r\n  &lt;version&gt;1.26&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Apple Plist Converted to Java Data Structures","body":"<p><a href=\"https://github.com/3breadt/dd-plist#features\" rel=\"nofollow noreferrer\">dd-plist</a> might be helpful.</p>\n<blockquote>\n<p>Serialize native java data structures to property list objects</p>\n<p>Deserialize from property list objects to native java data structures</p>\n</blockquote>\n<blockquote>\n<p>You can also directly convert the contained NSObject objects into native Java objects with the NSObject.toJavaObject() method. Using this method you can avoid working with NSObject instances altogether.</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.googlecode.plist&lt;/groupId&gt;\n  &lt;artifactId&gt;dd-plist&lt;/artifactId&gt;\n  &lt;version&gt;1.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":256495,"reputation":6727,"user_id":537247,"accept_rate":85,"display_name":"Jumhyn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1288,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":5987452,"answer_count":3,"score":4,"last_activity_date":1677118410,"creation_date":1305262197,"question_id":5987339,"body_markdown":"I have a program that is going to be receiving info displayed in it from a .plist on my server. However, I am going to be making this for PC, and I&#39;m using Java to do so. Plist files aren&#39;t conventional XML, so common XML parsing libraries don&#39;t work. I can&#39;t locate any plist specific parsers, so I am lost on how to continue. The way I see it my options are:\r\n\r\na) Locate such a parser for the plist file\r\n\r\nb) Make a workaround using a regular XML parser\r\n\r\nc) Change the file the program gets its data from (undesirable)\r\n\r\nHas anyone else had any experience with plists in languages other than Objective-C?","title":"Apple Plist Converted to Java Data Structures","body":"<p>I have a program that is going to be receiving info displayed in it from a .plist on my server. However, I am going to be making this for PC, and I'm using Java to do so. Plist files aren't conventional XML, so common XML parsing libraries don't work. I can't locate any plist specific parsers, so I am lost on how to continue. The way I see it my options are:</p>\n\n<p>a) Locate such a parser for the plist file</p>\n\n<p>b) Make a workaround using a regular XML parser</p>\n\n<p>c) Change the file the program gets its data from (undesirable)</p>\n\n<p>Has anyone else had any experience with plists in languages other than Objective-C?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","testcontainers"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1677193575,"post_id":75539759,"comment_id":133295280,"body_markdown":"oops, there seems to be some confusion about terminology in your Q, actually &quot;commit immediately in each save/update&quot; is called &quot;flush&quot;, so, you need to call `repository.flush()`","body":"oops, there seems to be some confusion about terminology in your Q, actually &quot;commit immediately in each save/update&quot; is called &quot;flush&quot;, so, you need to call <code>repository.flush()</code>"}],"owner":{"account_id":7376057,"reputation":73,"user_id":5614625,"accept_rate":25,"display_name":"Barry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677118097,"creation_date":1677115603,"question_id":75539759,"body_markdown":"I&#39;m using testcontainers in spring boot for integration test and installed `datasource-proxy-spring-boot-starter` to enable sql logging.\r\n\r\nHere is the test class\r\n```java\r\n@SpringBootTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\npublic class EntityTest extends DbTest {\r\n    private EntityRepository repository;\r\n}\r\n```\r\nHowever the following test will not insert anything to the db\r\n```java\r\n    @Test\r\n    @Transactional\r\n    public void testInsert() {\r\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\r\n    }\r\n```\r\n```\r\n01:14:51.196 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Began transaction (1) for test context ....\r\n01:14:51.300 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:14:51.333 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:14:51.343 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Rolled back transaction for test ...\r\n```\r\nWeirdly enough, if I another a query under it, the data will be written to the db. And based on the log the insert only happened in the query part.\r\n```java\r\n    @Test\r\n    @Transactional\r\n    public void testInsert() {\r\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\r\n        repository.count()\r\n    }\r\n```\r\n```\r\n01:18:31.685 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Began transaction (1) for test context\r\n01:18:31.766 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:18:31.795 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:18:31.796 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\r\nName:dataSource, Connection:4, Time:5, Success:True\r\nType:Prepared, Batch:True, QuerySize:1, BatchSize:2\r\nQuery:[&quot;insert into entities (id, name) values (?, ?)&quot;]\r\nParams:[(1,a),(2,b)]\r\n\r\nName:dataSource, Connection:4, Time:2, Success:True\r\nType:Prepared, Batch:False, QuerySize:1, BatchSize:0\r\nQuery:[&quot;select count(*) as col_0_0_ from entities&quot;]\r\nParams:[()]\r\n01:18:31.921 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\r\n01:18:31.929 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Rolled back transaction for test\r\n```\r\nIf I remove the `@Transactional` the insertion happened in saveAll instead.\r\n```java\r\n    @Test\r\n    public void testInsert() {\r\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\r\n        repository.count();\r\n    }\r\n```\r\n```\r\n01:22:42.262 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:22:42.303 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n\r\nName:dataSource, Connection:4, Time:7, Success:True\r\nType:Prepared, Batch:True, QuerySize:1, BatchSize:2\r\nQuery:[&quot;insert into entities (id, name) values (?, ?)&quot;]\r\nParams:[(1,a),(2,b)]\r\n01:22:42.350 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\r\n\r\nName:dataSource, Connection:5, Time:2, Success:True\r\nType:Prepared, Batch:False, QuerySize:1, BatchSize:0\r\nQuery:[&quot;select count(*) as col_0_0_ from entities&quot;]\r\nParams:[()]\r\n```\r\n\r\nCan someone help explain how to take benefit of rollback in each test and also commit immediately in each save/update?","title":"@Transactional on spring boot test causing data not committed to actual testcontainers database","body":"<p>I'm using testcontainers in spring boot for integration test and installed <code>datasource-proxy-spring-boot-starter</code> to enable sql logging.</p>\n<p>Here is the test class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class EntityTest extends DbTest {\n    private EntityRepository repository;\n}\n</code></pre>\n<p>However the following test will not insert anything to the db</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @Transactional\n    public void testInsert() {\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\n    }\n</code></pre>\n<pre><code>01:14:51.196 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Began transaction (1) for test context ....\n01:14:51.300 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:14:51.333 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:14:51.343 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Rolled back transaction for test ...\n</code></pre>\n<p>Weirdly enough, if I another a query under it, the data will be written to the db. And based on the log the insert only happened in the query part.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @Transactional\n    public void testInsert() {\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\n        repository.count()\n    }\n</code></pre>\n<pre><code>01:18:31.685 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Began transaction (1) for test context\n01:18:31.766 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:18:31.795 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:18:31.796 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\nName:dataSource, Connection:4, Time:5, Success:True\nType:Prepared, Batch:True, QuerySize:1, BatchSize:2\nQuery:[&quot;insert into entities (id, name) values (?, ?)&quot;]\nParams:[(1,a),(2,b)]\n\nName:dataSource, Connection:4, Time:2, Success:True\nType:Prepared, Batch:False, QuerySize:1, BatchSize:0\nQuery:[&quot;select count(*) as col_0_0_ from entities&quot;]\nParams:[()]\n01:18:31.921 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\n01:18:31.929 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Rolled back transaction for test\n</code></pre>\n<p>If I remove the <code>@Transactional</code> the insertion happened in saveAll instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testInsert() {\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\n        repository.count();\n    }\n</code></pre>\n<pre><code>01:22:42.262 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:22:42.303 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n\nName:dataSource, Connection:4, Time:7, Success:True\nType:Prepared, Batch:True, QuerySize:1, BatchSize:2\nQuery:[&quot;insert into entities (id, name) values (?, ?)&quot;]\nParams:[(1,a),(2,b)]\n01:22:42.350 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\n\nName:dataSource, Connection:5, Time:2, Success:True\nType:Prepared, Batch:False, QuerySize:1, BatchSize:0\nQuery:[&quot;select count(*) as col_0_0_ from entities&quot;]\nParams:[()]\n</code></pre>\n<p>Can someone help explain how to take benefit of rollback in each test and also commit immediately in each save/update?</p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1663257732,"post_id":73734216,"comment_id":130202059,"body_markdown":"You forgot to include your attempt at solving this problem.","body":"You forgot to include your attempt at solving this problem."},{"owner":{"account_id":19251088,"reputation":83,"user_id":14069058,"display_name":"parmendrak74"},"score":0,"creation_date":1663258012,"post_id":73734216,"comment_id":130202168,"body_markdown":"Following this Code but not getting same format:\nhttps://stackoverflow.com/a/23254774","body":"Following this Code but not getting same format: <a href=\"https://stackoverflow.com/a/23254774\">stackoverflow.com/a/23254774</a>"}],"answers":[{"tags":[],"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663286933,"creation_date":1663285347,"answer_id":73738416,"question_id":73734216,"body_markdown":"Since you included the JSP tag, here is a JSP. It needs to be all on one line. I copied your file(I added missing closing tags) and pasted it into a file named &quot;My.xml&quot;. I placed that file into the root folder of my web app.\r\n\r\n    &lt;%@ page import=&quot;java.nio.file.Files,java.nio.file.Paths&quot;%&gt;&lt;%response.setContentType(&quot;text/xml&quot;);Files.copy(Paths.get(application.getRealPath(&quot;/My.xml&quot;)),response.getOutputStream());%&gt;\r\n\r\nAlternatively, you could use setContentType(&quot;application/x-plist) and name the file &quot;My.plist&quot; and use \r\n\r\n    &lt;%@ page import=&quot;java.nio.file.Files,java.nio.file.Paths&quot;%&gt;&lt;%response.setContentType(&quot;application/x-plist&quot;);Files.copy(Paths.get(application.getRealPath(&quot;/My.plist&quot;)),response.getOutputStream());%&gt;","title":"How to create .plist file by java","body":"<p>Since you included the JSP tag, here is a JSP. It needs to be all on one line. I copied your file(I added missing closing tags) and pasted it into a file named &quot;My.xml&quot;. I placed that file into the root folder of my web app.</p>\n<pre><code>&lt;%@ page import=&quot;java.nio.file.Files,java.nio.file.Paths&quot;%&gt;&lt;%response.setContentType(&quot;text/xml&quot;);Files.copy(Paths.get(application.getRealPath(&quot;/My.xml&quot;)),response.getOutputStream());%&gt;\n</code></pre>\n<p>Alternatively, you could use setContentType(&quot;application/x-plist) and name the file &quot;My.plist&quot; and use</p>\n<pre><code>&lt;%@ page import=&quot;java.nio.file.Files,java.nio.file.Paths&quot;%&gt;&lt;%response.setContentType(&quot;application/x-plist&quot;);Files.copy(Paths.get(application.getRealPath(&quot;/My.plist&quot;)),response.getOutputStream());%&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19251088,"reputation":83,"user_id":14069058,"display_name":"parmendrak74"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663327928,"creation_date":1663327928,"answer_id":73744186,"question_id":73734216,"body_markdown":"I have resolved by myself, Hence close this issue","title":"How to create .plist file by java","body":"<p>I have resolved by myself, Hence close this issue</p>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677117501,"creation_date":1677117501,"answer_id":75539909,"question_id":73734216,"body_markdown":"Try the project [dd-plist](https://github.com/3breadt/dd-plist#features)\r\n\r\n&gt; Read / write property lists from / to files, streams or byte arrays","title":"How to create .plist file by java","body":"<p>Try the project <a href=\"https://github.com/3breadt/dd-plist#features\" rel=\"nofollow noreferrer\">dd-plist</a></p>\n<blockquote>\n<p>Read / write property lists from / to files, streams or byte arrays</p>\n</blockquote>\n"}],"owner":{"account_id":19251088,"reputation":83,"user_id":14069058,"display_name":"parmendrak74"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73744186,"answer_count":3,"score":2,"last_activity_date":1677117501,"creation_date":1663257559,"question_id":73734216,"body_markdown":"I want create .plist file at runtime. I dont want to use any third party library. just want to use java code.\r\n\r\nHere is the sample file:\r\n        \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n        &lt;plist version=&quot;1.0&quot;&gt;\r\n        &lt;dict&gt;\r\n        \t&lt;key&gt;items&lt;/key&gt;\r\n        \t&lt;array&gt;\r\n        \t\t&lt;dict&gt;\r\n        \t\t\t&lt;key&gt;assets&lt;/key&gt;\r\n        \t\t\t&lt;array&gt;\r\n        \t\t\t\t&lt;dict&gt;\r\n        \t\t\t\t\t&lt;key&gt;kind&lt;/key&gt;\r\n        \t\t\t\t\t&lt;string&gt;software-package&lt;/string&gt;\r\n        \t\t\t\t\t&lt;key&gt;url&lt;/key&gt;\r\n        \t\t\t\t\t&lt;string&gt;IPA PATH&lt;/string&gt;\r\n        \t\t\t\t&lt;/dict&gt;\r\n        \t\t\t&lt;/array&gt;\r\n        \t\t\t&lt;key&gt;metadata&lt;/key&gt;\r\n        \t\t\t&lt;dict&gt;\r\n        \t\t\t\t&lt;key&gt;bundle-identifier&lt;/key&gt;\r\n        \t\t\t\t&lt;string&gt;com.xx.xx&lt;/string&gt;\r\n        \t\t\t\t&lt;key&gt;kind&lt;/key&gt;\r\n        \t\t\t\t&lt;string&gt;software&lt;/string&gt;\r\n        \t\t\t\t&lt;key&gt;title&lt;/key&gt;\r\n        \t\t\t\t&lt;string&gt;V7&lt;/string&gt;\r\n        \t\t\t&lt;/dict&gt;\r\n        \t\t&lt;/dict&gt;\r\n        \t&lt;/array&gt;","title":"How to create .plist file by java","body":"<p>I want create .plist file at runtime. I dont want to use any third party library. just want to use java code.</p>\n<p>Here is the sample file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\n    &lt;plist version=&quot;1.0&quot;&gt;\n    &lt;dict&gt;\n        &lt;key&gt;items&lt;/key&gt;\n        &lt;array&gt;\n            &lt;dict&gt;\n                &lt;key&gt;assets&lt;/key&gt;\n                &lt;array&gt;\n                    &lt;dict&gt;\n                        &lt;key&gt;kind&lt;/key&gt;\n                        &lt;string&gt;software-package&lt;/string&gt;\n                        &lt;key&gt;url&lt;/key&gt;\n                        &lt;string&gt;IPA PATH&lt;/string&gt;\n                    &lt;/dict&gt;\n                &lt;/array&gt;\n                &lt;key&gt;metadata&lt;/key&gt;\n                &lt;dict&gt;\n                    &lt;key&gt;bundle-identifier&lt;/key&gt;\n                    &lt;string&gt;com.xx.xx&lt;/string&gt;\n                    &lt;key&gt;kind&lt;/key&gt;\n                    &lt;string&gt;software&lt;/string&gt;\n                    &lt;key&gt;title&lt;/key&gt;\n                    &lt;string&gt;V7&lt;/string&gt;\n                &lt;/dict&gt;\n            &lt;/dict&gt;\n        &lt;/array&gt;\n</code></pre>\n"},{"tags":["java","scala","akka","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1650911162,"post_id":72000728,"comment_id":127230814,"body_markdown":"Can you provide a minimum code? What is your question? (problem is not a question) What do you tried to do to solve a problem?","body":"Can you provide a minimum code? What is your question? (problem is not a question) What do you tried to do to solve a problem?"},{"owner":{"account_id":14402469,"reputation":21,"user_id":10403640,"display_name":"researcher"},"score":0,"creation_date":1650938630,"post_id":72000728,"comment_id":127236604,"body_markdown":"sorry I have updated the question, and any idea for the promble?","body":"sorry I have updated the question, and any idea for the promble?"},{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1651001695,"post_id":72000728,"comment_id":127256697,"body_markdown":"suggestion. Try to set a log level to DEBUG or event to TRACE. Theoreticly this also can help https://stackoverflow.com/questions/49130000/sigterm-on-starting-a-standby-hdfs-ha-namenode","body":"suggestion. Try to set a log level to DEBUG or event to TRACE. Theoreticly this also can help <a href=\"https://stackoverflow.com/questions/49130000/sigterm-on-starting-a-standby-hdfs-ha-namenode\" title=\"sigterm on starting a standby hdfs ha namenode\">stackoverflow.com/questions/49130000/&hellip;</a>"},{"owner":{"account_id":14402469,"reputation":21,"user_id":10403640,"display_name":"researcher"},"score":0,"creation_date":1651325777,"post_id":72000728,"comment_id":127340662,"body_markdown":"hello, still not sloved it, updated some debug logs in [link](https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file), if you can find some ideas there? thx","body":"hello, still not sloved it, updated some debug logs in <a href=\"https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file\" rel=\"nofollow noreferrer\">link</a>, if you can find some ideas there? thx"},{"owner":{"account_id":3165164,"reputation":183,"user_id":2675362,"display_name":"Ujjwal Gulecha"},"score":0,"creation_date":1655749904,"post_id":72000728,"comment_id":128400849,"body_markdown":"do you have metrics on the k8 metrics? does flink have enough memory/cpu?","body":"do you have metrics on the k8 metrics? does flink have enough memory/cpu?"},{"owner":{"account_id":14402469,"reputation":21,"user_id":10403640,"display_name":"researcher"},"score":0,"creation_date":1658217029,"post_id":72000728,"comment_id":128989997,"body_markdown":"more enough memory/cpu, when use kubernetes HA no this problem, just zk HA","body":"more enough memory/cpu, when use kubernetes HA no this problem, just zk HA"}],"answers":[{"tags":[],"owner":{"account_id":12808994,"reputation":3,"user_id":9267814,"display_name":"Pan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677117194,"creation_date":1677117194,"answer_id":75539886,"question_id":72000728,"body_markdown":"I had the same situation like you. I checked the k8s log and found that it was caused by the jobmanager setting the livenessProbe. Because the livenessProbe kept failing, k8s restarted the pod(check livenessProbe once a minute, and restart after three failures, so it restarts every three minutes). If you want to temporarily solve this problem, you can temporarily disable the liveness probe, but the liveness probe is very important for HA, a good solution has not been found\r\n\r\n[enter image description here][1]\r\n  [1]: https://i.stack.imgur.com/Xizk2.png","title":"flink cluster with zookeeper HA always shutdown: [RECEIVED SIGNAL 15: SIGTERM]","body":"<p>I had the same situation like you. I checked the k8s log and found that it was caused by the jobmanager setting the livenessProbe. Because the livenessProbe kept failing, k8s restarted the pod(check livenessProbe once a minute, and restart after three failures, so it restarts every three minutes). If you want to temporarily solve this problem, you can temporarily disable the liveness probe, but the liveness probe is very important for HA, a good solution has not been found</p>\n<p>[enter image description here][1]\n[1]: https://i.stack.imgur.com/Xizk2.png</p>\n"}],"owner":{"account_id":14402469,"reputation":21,"user_id":10403640,"display_name":"researcher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677117194,"creation_date":1650894921,"question_id":72000728,"body_markdown":"**Environment:**\r\n\r\nflink1.14.4\r\nstandalone application mode in kubernetes\r\n\r\naccording to official steps:\r\n\r\nflink cluster: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/standalone/kubernetes/#application-mode \r\n\r\nzookeeper HA: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/ha/zookeeper_ha/\r\n\r\n**The problem:**\r\n\r\nthe jobmanager always shutdown and restart every three minutes then quit\r\n\r\n-- no timer task and the program logic just a easy wordcount\r\n\r\n-- when the cluster running no any input or nothing to do also have this problem every three minutes\r\n\r\n-- if jobmanager non zookeeper HA don&#39;t have this problem\r\n\r\n**The question:**\r\n\r\nwhy the jobmanager always shutdown with the zookeeper HA and how to solve it\r\n\r\nused the same steps and yaml from official site, so no idea for this problem\r\n\r\n**The code:**\r\n\r\njust a wordcound and other program also the problem\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n\r\n\tStreamExecutionEnvironment executionEnvironment = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n\tDataStreamSource&lt;String&gt; dataStreamSource = executionEnvironment.socketTextStream(HOST, PORT);\r\n\r\n\tDataStream&lt;Tuple2&lt;String, Integer&gt;&gt; sum = dataStreamSource.flatMap(new WordCount.MyFlatMapper()).keyBy(0).sum(1);\r\n\r\n\tsum.print();\r\n\r\n\texecutionEnvironment.execute();\r\n}\r\n```\r\n\r\n**Jobmanager pod resatrt and quit:**\r\n```\r\n\r\nNAMESPACE     NAME                                      READY   STATUS    RESTARTS       AGE\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   1 (118s ago)   5m38s\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   2 (106s ago)   8m26s\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   3 (1s ago)     9m41s\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   4 (1s ago)     12m\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   5 (0s ago)     15m\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   6 (1s ago)     18m\r\ndefault        flink-jobmanager-8jn6x                    1/1     Terminating   6 (1s ago)     18m\r\ndefault        flink-jobmanager-8jn6x                    1/1     Terminating   6 (1s ago)     18m\r\n```\r\n\r\n**Jobmanager logs：**\r\n\r\n```\r\n\r\n-1--\r\n2022-04-23 09:48:21,970 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 33 (type=CHECKPOINT) @ 1650707301963 for job 00000000000000000000000000000000.\r\n2022-04-23 09:48:22,010 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Completed checkpoint 33 for job 00000000000000000000000000000000 (4917 bytes, checkpointDuration=23 ms, finalizationTime=24 ms).\r\n2022-04-23 09:48:26,627 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 09:48:26,795 WARN  akka.actor.CoordinatedShutdown                               [] - Could not addJvmShutdownHook, due to: Shutdown in progress\r\n2022-04-23 09:48:26,822 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:48:26,824 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:48:26,824 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 09:48:26,838 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 09:48:26,887 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\r\n2022-04-23 09:48:26,894 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\r\n---\r\n-2--\r\n2022-04-23 09:51:24,903 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 67 (type=CHECKPOINT) @ 1650707484897 for job 00000000000000000000000000000000.\r\n2022-04-23 09:51:24,943 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Completed checkpoint 67 for job 00000000000000000000000000000000 (4982 bytes, checkpointDuration=21 ms, finalizationTime=25 ms).\r\n2022-04-23 09:51:26,626 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 09:51:26,840 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:51:26,845 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:51:26,847 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 09:51:26,848 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 09:51:26,871 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\r\n---\r\n-3--\r\n2022-04-23 09:54:26,625 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 09:54:26,838 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:54:26,840 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n[root@master 02-logger--ckps-nfs-reactive-hpa-zk]#\r\n---\r\n-4--\r\n2022-04-23 09:57:26,627 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 09:57:26,632 INFO  org.apache.flink.runtime.blob.BlobServer                     [] - Stopped BLOB server at 0.0.0.0:6124\r\n2022-04-23 09:57:26,812 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:57:26,812 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n---\r\n-5--\r\n2022-04-23 10:00:26,625 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 10:00:26,859 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 10:00:26,859 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 10:00:26,884 WARN  akka.actor.CoordinatedShutdown                               [] - Could not addJvmShutdownHook, due to: Shutdown in progress\r\n---\r\n\r\n```\r\n\r\n-- updated 2022/04/30 --\r\n\r\n**Debug logs:**\r\n[https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file][1]\r\n\r\n\r\n  [1]: https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file\r\n\r\n\r\nthx all!","title":"flink cluster with zookeeper HA always shutdown: [RECEIVED SIGNAL 15: SIGTERM]","body":"<p><strong>Environment:</strong></p>\n<p>flink1.14.4\nstandalone application mode in kubernetes</p>\n<p>according to official steps:</p>\n<p>flink cluster: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/standalone/kubernetes/#application-mode\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/standalone/kubernetes/#application-mode</a></p>\n<p>zookeeper HA: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/ha/zookeeper_ha/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/ha/zookeeper_ha/</a></p>\n<p><strong>The problem:</strong></p>\n<p>the jobmanager always shutdown and restart every three minutes then quit</p>\n<p>-- no timer task and the program logic just a easy wordcount</p>\n<p>-- when the cluster running no any input or nothing to do also have this problem every three minutes</p>\n<p>-- if jobmanager non zookeeper HA don't have this problem</p>\n<p><strong>The question:</strong></p>\n<p>why the jobmanager always shutdown with the zookeeper HA and how to solve it</p>\n<p>used the same steps and yaml from official site, so no idea for this problem</p>\n<p><strong>The code:</strong></p>\n<p>just a wordcound and other program also the problem</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n    StreamExecutionEnvironment executionEnvironment = StreamExecutionEnvironment.getExecutionEnvironment();\n\n    DataStreamSource&lt;String&gt; dataStreamSource = executionEnvironment.socketTextStream(HOST, PORT);\n\n    DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; sum = dataStreamSource.flatMap(new WordCount.MyFlatMapper()).keyBy(0).sum(1);\n\n    sum.print();\n\n    executionEnvironment.execute();\n}\n</code></pre>\n<p><strong>Jobmanager pod resatrt and quit:</strong></p>\n<pre><code>\nNAMESPACE     NAME                                      READY   STATUS    RESTARTS       AGE\ndefault        flink-jobmanager-8jn6x                    1/1     Running   1 (118s ago)   5m38s\ndefault        flink-jobmanager-8jn6x                    1/1     Running   2 (106s ago)   8m26s\ndefault        flink-jobmanager-8jn6x                    1/1     Running   3 (1s ago)     9m41s\ndefault        flink-jobmanager-8jn6x                    1/1     Running   4 (1s ago)     12m\ndefault        flink-jobmanager-8jn6x                    1/1     Running   5 (0s ago)     15m\ndefault        flink-jobmanager-8jn6x                    1/1     Running   6 (1s ago)     18m\ndefault        flink-jobmanager-8jn6x                    1/1     Terminating   6 (1s ago)     18m\ndefault        flink-jobmanager-8jn6x                    1/1     Terminating   6 (1s ago)     18m\n</code></pre>\n<p><strong>Jobmanager logs：</strong></p>\n<pre><code>\n-1--\n2022-04-23 09:48:21,970 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 33 (type=CHECKPOINT) @ 1650707301963 for job 00000000000000000000000000000000.\n2022-04-23 09:48:22,010 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Completed checkpoint 33 for job 00000000000000000000000000000000 (4917 bytes, checkpointDuration=23 ms, finalizationTime=24 ms).\n2022-04-23 09:48:26,627 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 09:48:26,795 WARN  akka.actor.CoordinatedShutdown                               [] - Could not addJvmShutdownHook, due to: Shutdown in progress\n2022-04-23 09:48:26,822 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:48:26,824 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:48:26,824 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 09:48:26,838 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 09:48:26,887 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\n2022-04-23 09:48:26,894 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\n---\n-2--\n2022-04-23 09:51:24,903 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 67 (type=CHECKPOINT) @ 1650707484897 for job 00000000000000000000000000000000.\n2022-04-23 09:51:24,943 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Completed checkpoint 67 for job 00000000000000000000000000000000 (4982 bytes, checkpointDuration=21 ms, finalizationTime=25 ms).\n2022-04-23 09:51:26,626 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 09:51:26,840 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:51:26,845 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:51:26,847 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 09:51:26,848 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 09:51:26,871 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\n---\n-3--\n2022-04-23 09:54:26,625 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 09:54:26,838 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:54:26,840 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n[root@master 02-logger--ckps-nfs-reactive-hpa-zk]#\n---\n-4--\n2022-04-23 09:57:26,627 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 09:57:26,632 INFO  org.apache.flink.runtime.blob.BlobServer                     [] - Stopped BLOB server at 0.0.0.0:6124\n2022-04-23 09:57:26,812 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:57:26,812 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n---\n-5--\n2022-04-23 10:00:26,625 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 10:00:26,859 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 10:00:26,859 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 10:00:26,884 WARN  akka.actor.CoordinatedShutdown                               [] - Could not addJvmShutdownHook, due to: Shutdown in progress\n---\n\n</code></pre>\n<p>-- updated 2022/04/30 --</p>\n<p><strong>Debug logs:</strong>\n<a href=\"https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file\" rel=\"nofollow noreferrer\">https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file</a></p>\n<p>thx all!</p>\n"},{"tags":["java","android","encryption","aes"],"comments":[{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":0,"creation_date":1521370677,"post_id":49347029,"comment_id":85693802,"body_markdown":"How was it encrypted?","body":"How was it encrypted?"},{"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"score":0,"creation_date":1521371621,"post_id":49347029,"comment_id":85694082,"body_markdown":"Ive update my post","body":"Ive update my post"},{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":0,"creation_date":1521371861,"post_id":49347029,"comment_id":85694144,"body_markdown":"So you’re not using the IV in the decryption? That will cause problems","body":"So you’re not using the IV in the decryption? That will cause problems"},{"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"score":0,"creation_date":1521372706,"post_id":49347029,"comment_id":85694381,"body_markdown":"Because it seems on c# code uses the CIPHER MODE.EBC and on Java side i have on AES_MODE= &quot;AES/EBC/NoPadding&quot; and if put the iv on cipher.init() it throws me an exception wich says that EBC not allow ivs","body":"Because it seems on c# code uses the CIPHER MODE.EBC and on Java side i have on AES_MODE= &quot;AES/EBC/NoPadding&quot; and if put the iv on cipher.init() it throws me an exception wich says that EBC not allow ivs"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1521378690,"post_id":49347029,"comment_id":85696103,"body_markdown":"You just have to ignore the IV in the Java code, ECB in C# code does this as well. The way you&#39;re generating the key in Java and C# is completely different, I don&#39;t see how you can have generated that by porting the C# code to Java. If you try and decrypt by guessing you will have a *very* long way ahead of you. Key generation (from a random source) and key derivation are different things.","body":"You just have to ignore the IV in the Java code, ECB in C# code does this as well. The way you&#39;re generating the key in Java and C# is completely different, I don&#39;t see how you can have generated that by porting the C# code to Java. If you try and decrypt by guessing you will have a <i>very</i> long way ahead of you. Key generation (from a random source) and key derivation are different things."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1521378717,"post_id":49347029,"comment_id":85696111,"body_markdown":"Using AES (or any block cipher) in ECB mode is insecure.","body":"Using AES (or any block cipher) in ECB mode is insecure."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1521386750,"post_id":49347029,"comment_id":85698891,"body_markdown":"Your C# encryption code **is not using AES**. Rijndael with a block size of 256 is **not AES**.  Rijndael with a blocksize of 128 and a *key size* of 128, 192, or 256 is AES.","body":"Your C# encryption code <b>is not using AES</b>. Rijndael with a block size of 256 is <b>not AES</b>.  Rijndael with a blocksize of 128 and a <i>key size</i> of 128, 192, or 256 is AES."},{"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"score":0,"creation_date":1521392053,"post_id":49347029,"comment_id":85700658,"body_markdown":"Then should i change the blocksize to 128 on c# code and try to encrypt and decrypt? Do you thing that might be the prob?","body":"Then should i change the blocksize to 128 on c# code and try to encrypt and decrypt? Do you thing that might be the prob?"}],"answers":[{"tags":[],"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1521830045,"creation_date":1521830045,"answer_id":49456314,"question_id":49347029,"body_markdown":"Made it!\r\n\r\nAfter a long time of searching thanks to all you guys who answered this post i used the bouncy castle library and i&#39;ve decrypt the desired String by doing the following:\r\n\r\n    public static String decrypt(String valueToDecrypt) throws Exception {\r\n        AESCrypt enc = new AESCrypt();\r\n        return new String(enc.decryptInternal(valueToDecrypt)).trim();\r\n    }\r\n\r\n    private byte[] decryptInternal(String code) throws Exception {\r\n        if (code == null || code.length() == 0) {\r\n            throw new Exception(&quot;Empty string&quot;);\r\n        }\r\n\r\n        byte[] decrypted = null;\r\n        try {\r\n\r\n\r\n            byte[] key= SecretKey.getBytes(&quot;UTF-8&quot;);\r\n            PaddedBufferedBlockCipher c = new PaddedBufferedBlockCipher(new RijndaelEngine(256), new ZeroBytePadding());\r\n            CipherParameters params= new KeyParameter(key);`\r\n            // false because its going to decrypt\r\n            c.init(false,params);\r\n            decrypted= GetData(c,(Base64.decode(code,Base64.DEFAULT));\r\n\r\n        } catch (Exception e) {\r\n            throw new Exception(&quot;[decrypt] &quot; + e.getMessage());\r\n        }\r\n        return decrypted;\r\n    }\r\n\r\n\r\n    private static byte[] GetData(PaddedBufferedBlockCipher cipher, byte[] data) throws InvalidCipherTextException\r\n    {\r\n        int minSize = cipher.getOutputSize(data.length);\r\n        byte[] outBuf = new byte[minSize];\r\n        int length1 = cipher.processBytes(data, 0, data.length, outBuf, 0);\r\n        int length2 = cipher.doFinal(outBuf, length1);\r\n        int actualLength = length1 + length2;\r\n        byte[] cipherArray = new byte[actualLength];\r\n        for (int x = 0; x &lt; actualLength; x++) {\r\n            cipherArray[x] = outBuf[x];\r\n        }\r\n        return cipherArray;\r\n    }\r\n\r\n\r\n","title":"Android AES decryption returning rare characters V2.0","body":"<p>Made it!</p>\n\n<p>After a long time of searching thanks to all you guys who answered this post i used the bouncy castle library and i've decrypt the desired String by doing the following:</p>\n\n<pre><code>public static String decrypt(String valueToDecrypt) throws Exception {\n    AESCrypt enc = new AESCrypt();\n    return new String(enc.decryptInternal(valueToDecrypt)).trim();\n}\n\nprivate byte[] decryptInternal(String code) throws Exception {\n    if (code == null || code.length() == 0) {\n        throw new Exception(\"Empty string\");\n    }\n\n    byte[] decrypted = null;\n    try {\n\n\n        byte[] key= SecretKey.getBytes(\"UTF-8\");\n        PaddedBufferedBlockCipher c = new PaddedBufferedBlockCipher(new RijndaelEngine(256), new ZeroBytePadding());\n        CipherParameters params= new KeyParameter(key);`\n        // false because its going to decrypt\n        c.init(false,params);\n        decrypted= GetData(c,(Base64.decode(code,Base64.DEFAULT));\n\n    } catch (Exception e) {\n        throw new Exception(\"[decrypt] \" + e.getMessage());\n    }\n    return decrypted;\n}\n\n\nprivate static byte[] GetData(PaddedBufferedBlockCipher cipher, byte[] data) throws InvalidCipherTextException\n{\n    int minSize = cipher.getOutputSize(data.length);\n    byte[] outBuf = new byte[minSize];\n    int length1 = cipher.processBytes(data, 0, data.length, outBuf, 0);\n    int length2 = cipher.doFinal(outBuf, length1);\n    int actualLength = length1 + length2;\n    byte[] cipherArray = new byte[actualLength];\n    for (int x = 0; x &lt; actualLength; x++) {\n        cipherArray[x] = outBuf[x];\n    }\n    return cipherArray;\n}\n</code></pre>\n"}],"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":49456314,"answer_count":1,"score":-4,"last_activity_date":1677116521,"creation_date":1521370392,"question_id":49347029,"body_markdown":"Recently I&#39;ve posted a question about this topic, but the thing turns a little weird when I tried to decrypt an AES String that was encoded on UTF8.\r\n\r\nIn the following lines I read the String AES encrypted which returns the following String: RnLObq9hdUDGp9S2pxC1qjQXekuf9g6i/5bQfKilYn4=\r\n\r\n\r\n    public static final String AesKey256 =&quot;ZzRtNDNuY3J5cHRrM3kuLi4=&quot;;\r\n    //This reads the String and stores on res.getContents()\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        IntentResult res= IntentIntegrator.parseActivityResult(requestCode, resultCode,data);\r\n        if(res!=null){\r\n            if (res.getContents() == null) {\r\n                Toast.makeText(this,&quot;Captura cancelada&quot;,Toast.LENGTH_SHORT).show();\r\n            }else{\r\n                try {\r\n                    String cadena= decrypt(res.getContents());\r\n                    out.setText(cadena);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    //provide the res.getContents() to decrypt method, which is the String I&#39;ve recently read\r\n     private String decrypt(String cadena)throws Exception{\r\n        SecretKeySpec keySpec= generateKey(AesKey256); //HERE\r\n        Cipher c= Cipher.getInstance(AES_MODE);\r\n        c.init(Cipher.DECRYPT_MODE,keySpec);\r\n        byte[] decodedValue= Base64.decode(cadena, Base64.DEFAULT);\r\n        byte[] decValue= c.doFinal(decodedValue);/* c.doFinal(decodedValue);*/\r\n        String decryptedValue= new String((decValue), &quot;UTF-8&quot;);\r\n        return decryptedValue;\r\n    }\r\n     private SecretKeySpec generateKey(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n        final MessageDigest digest= MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        byte[] bytes= password.getBytes(&quot;UTF-8&quot;);\r\n        digest.update(bytes,0,bytes.length);\r\n        byte[] key= digest.digest();\r\n        SecretKeySpec secretKeySpec= new SecretKeySpec(key, &quot;AES&quot;);\r\n        return secretKeySpec;\r\n    }\r\n\r\nI am only using the decryption method but it still returning this characters: \r\n[![this shows after read the string][1]][1]\r\n\r\nI&#39;ve spent hours looking for a solution, but nothing works for now... hope someone can give me a hand!\r\n\r\nBest Regards!\r\n\r\nEDIT  \r\nTHIS IS HOW IT WAS ENCRYPTED IN C#\r\n\r\n    private const string AesIV256 = &quot;IVFBWjJXU1gjRURDNFJGVg==&quot;;\r\n            private const string AesKey256 = &quot;ZzRtNDNuY3J5cHRrM3kuLi4=&quot;;\r\n\r\n            public static string Encrypt(string text)\r\n            {\r\n                var sToEncrypt = text;\r\n                var rj = new RijndaelManaged()\r\n                {\r\n                    Padding = PaddingMode.Zeros,\r\n                    Mode = CipherMode.ECB,\r\n                    KeySize = 256,\r\n                    BlockSize = 256,\r\n                };\r\n\r\n                var key = Convert.FromBase64String(AesKey256);\r\n                var IV = Convert.FromBase64String(AesIV256);\r\n\r\n                var encryptor = rj.CreateEncryptor(key, IV);\r\n\r\n                var msEncrypt = new MemoryStream();\r\n                var csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write);\r\n\r\n                var toEncrypt = Encoding.UTF8.GetBytes(sToEncrypt);\r\n\r\n                csEncrypt.Write(toEncrypt, 0, toEncrypt.Length);\r\n                csEncrypt.FlushFinalBlock();\r\n\r\n                var encrypted = msEncrypt.ToArray();\r\n\r\n                return (Convert.ToBase64String(encrypted));\r\n            }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eamx9.png","title":"Android AES decryption returning rare characters V2.0","body":"<p>Recently I've posted a question about this topic, but the thing turns a little weird when I tried to decrypt an AES String that was encoded on UTF8.</p>\n<p>In the following lines I read the String AES encrypted which returns the following String: RnLObq9hdUDGp9S2pxC1qjQXekuf9g6i/5bQfKilYn4=</p>\n<pre><code>public static final String AesKey256 =&quot;ZzRtNDNuY3J5cHRrM3kuLi4=&quot;;\n//This reads the String and stores on res.getContents()\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    IntentResult res= IntentIntegrator.parseActivityResult(requestCode, resultCode,data);\n    if(res!=null){\n        if (res.getContents() == null) {\n            Toast.makeText(this,&quot;Captura cancelada&quot;,Toast.LENGTH_SHORT).show();\n        }else{\n            try {\n                String cadena= decrypt(res.getContents());\n                out.setText(cadena);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n//provide the res.getContents() to decrypt method, which is the String I've recently read\n private String decrypt(String cadena)throws Exception{\n    SecretKeySpec keySpec= generateKey(AesKey256); //HERE\n    Cipher c= Cipher.getInstance(AES_MODE);\n    c.init(Cipher.DECRYPT_MODE,keySpec);\n    byte[] decodedValue= Base64.decode(cadena, Base64.DEFAULT);\n    byte[] decValue= c.doFinal(decodedValue);/* c.doFinal(decodedValue);*/\n    String decryptedValue= new String((decValue), &quot;UTF-8&quot;);\n    return decryptedValue;\n}\n private SecretKeySpec generateKey(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\n    final MessageDigest digest= MessageDigest.getInstance(&quot;SHA-256&quot;);\n    byte[] bytes= password.getBytes(&quot;UTF-8&quot;);\n    digest.update(bytes,0,bytes.length);\n    byte[] key= digest.digest();\n    SecretKeySpec secretKeySpec= new SecretKeySpec(key, &quot;AES&quot;);\n    return secretKeySpec;\n}\n</code></pre>\n<p>I am only using the decryption method but it still returning this characters:\n<a href=\"https://i.stack.imgur.com/eamx9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eamx9.png\" alt=\"this shows after read the string\" /></a></p>\n<p>I've spent hours looking for a solution, but nothing works for now... hope someone can give me a hand!</p>\n<p>Best Regards!</p>\n<p>EDIT<br />\nTHIS IS HOW IT WAS ENCRYPTED IN C#</p>\n<pre><code>private const string AesIV256 = &quot;IVFBWjJXU1gjRURDNFJGVg==&quot;;\n        private const string AesKey256 = &quot;ZzRtNDNuY3J5cHRrM3kuLi4=&quot;;\n\n        public static string Encrypt(string text)\n        {\n            var sToEncrypt = text;\n            var rj = new RijndaelManaged()\n            {\n                Padding = PaddingMode.Zeros,\n                Mode = CipherMode.ECB,\n                KeySize = 256,\n                BlockSize = 256,\n            };\n\n            var key = Convert.FromBase64String(AesKey256);\n            var IV = Convert.FromBase64String(AesIV256);\n\n            var encryptor = rj.CreateEncryptor(key, IV);\n\n            var msEncrypt = new MemoryStream();\n            var csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write);\n\n            var toEncrypt = Encoding.UTF8.GetBytes(sToEncrypt);\n\n            csEncrypt.Write(toEncrypt, 0, toEncrypt.Length);\n            csEncrypt.FlushFinalBlock();\n\n            var encrypted = msEncrypt.ToArray();\n\n            return (Convert.ToBase64String(encrypted));\n        }\n</code></pre>\n"},{"tags":["java","if-statement","design-patterns","rule-engine","business-rules"],"comments":[{"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"score":1,"creation_date":1369973887,"post_id":16849656,"comment_id":24299199,"body_markdown":"can you provide some sample of your if else statements? if there any similarities","body":"can you provide some sample of your if else statements? if there any similarities"},{"owner":{"account_id":2474454,"reputation":4585,"user_id":2155396,"accept_rate":62,"display_name":"Fendy"},"score":0,"creation_date":1369974622,"post_id":16849656,"comment_id":24299338,"body_markdown":"Use of state pattern?","body":"Use of state pattern?"},{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":3,"creation_date":1370002528,"post_id":16849656,"comment_id":24311519,"body_markdown":"I think the &quot;Chain of Responsibility&quot;-Pattern could be used here: http://www.oodesign.com/chain-of-responsibility-pattern.html","body":"I think the &quot;Chain of Responsibility&quot;-Pattern could be used here: <a href=\"http://www.oodesign.com/chain-of-responsibility-pattern.html\" rel=\"nofollow noreferrer\">oodesign.com/chain-of-responsibility-pattern.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1369974015,"creation_date":1369974015,"answer_id":16849695,"question_id":16849656,"body_markdown":"Something that might help is a rules engine like [Drools][1].  It&#39;s not a design pattern though, so this may not be the answer you&#39;re looking for.  But IMO, you should consider it.  Here&#39;s a great article on [when you should use a rules engine][2].\r\n\r\n\r\n  [1]: http://www.jboss.org/drools/\r\n  [2]: http://www.infoq.com/articles/Rule-Engines","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>Something that might help is a rules engine like <a href=\"http://www.jboss.org/drools/\" rel=\"nofollow\">Drools</a>.  It's not a design pattern though, so this may not be the answer you're looking for.  But IMO, you should consider it.  Here's a great article on <a href=\"http://www.infoq.com/articles/Rule-Engines\" rel=\"nofollow\">when you should use a rules engine</a>.</p>\n"},{"tags":[],"owner":{"account_id":2436031,"reputation":580,"user_id":2125917,"display_name":"fortytwo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1369975513,"creation_date":1369974430,"answer_id":16849761,"question_id":16849656,"body_markdown":"You can use [**Command pattern**][1] or [**Factory pattern**][2].\r\n\r\n**Command pattern** can be used to replace cumbersome switch/if blocks which tend to grow indefinitely as you add new options.\r\n\r\n\r\n    public interface Command {\r\n         void exec();\r\n    }\r\n    \r\n    public class CommandA() implements Command {\r\n    \r\n         void exec() {\r\n              // ... \r\n         }\r\n    }\r\n    // etc etc\r\n\r\nthen build a `Map&lt;String,Command&gt;` object and populate it with Command instances:\r\n\r\n    commandMap.put(&quot;A&quot;, new CommandA());\r\n    commandMap.put(&quot;B&quot;, new CommandB());\r\n\r\nthen you can replace your if/else if chain with:\r\n\r\n    commandMap.get(value).exec();\r\n\r\nIn **Factory Pattern** you include your if/switch in a Factory which takes care of the ugliness and hides the abundance of ifs.  [**Example code for Factory Pattern**.][3]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Command_pattern\r\n  [2]: http://en.wikipedia.org/wiki/Factory_method_pattern\r\n  [3]: http://www.codeproject.com/Tips/469453/Illustrating-Factory-pattern-with-a-very-basic-exa\r\n","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>You can use <a href=\"http://en.wikipedia.org/wiki/Command_pattern\" rel=\"noreferrer\"><strong>Command pattern</strong></a> or <a href=\"http://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"noreferrer\"><strong>Factory pattern</strong></a>.</p>\n\n<p><strong>Command pattern</strong> can be used to replace cumbersome switch/if blocks which tend to grow indefinitely as you add new options.</p>\n\n<pre><code>public interface Command {\n     void exec();\n}\n\npublic class CommandA() implements Command {\n\n     void exec() {\n          // ... \n     }\n}\n// etc etc\n</code></pre>\n\n<p>then build a <code>Map&lt;String,Command&gt;</code> object and populate it with Command instances:</p>\n\n<pre><code>commandMap.put(\"A\", new CommandA());\ncommandMap.put(\"B\", new CommandB());\n</code></pre>\n\n<p>then you can replace your if/else if chain with:</p>\n\n<pre><code>commandMap.get(value).exec();\n</code></pre>\n\n<p>In <strong>Factory Pattern</strong> you include your if/switch in a Factory which takes care of the ugliness and hides the abundance of ifs.  <a href=\"http://www.codeproject.com/Tips/469453/Illustrating-Factory-pattern-with-a-very-basic-exa\" rel=\"noreferrer\"><strong>Example code for Factory Pattern</strong>.</a></p>\n"},{"tags":[],"owner":{"account_id":1633017,"reputation":7674,"user_id":1667773,"display_name":"vishal_aim"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1369974611,"creation_date":1369974611,"answer_id":16849789,"question_id":16849656,"body_markdown":"Strategy pattern could be useful here. Please check [Replace Conditional Logic with Strategy][1]\r\n\r\n\r\n  [1]: http://www.informit.com/articles/article.aspx?p=1398607&amp;seqNum=2","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>Strategy pattern could be useful here. Please check <a href=\"http://www.informit.com/articles/article.aspx?p=1398607&amp;seqNum=2\">Replace Conditional Logic with Strategy</a></p>\n"},{"tags":[],"owner":{"account_id":2292131,"reputation":2951,"user_id":2014619,"display_name":"Gabriel Aramburu"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1370184130,"creation_date":1370110078,"answer_id":16875689,"question_id":16849656,"body_markdown":"A design pattern could help you to make the code more readable or improve its maintainability, but if you really need to evaluate such numbers of conditions, the IF  statements cannot be avoided. \r\n\r\nI would consider seeing the problem from other point of view  (e.g.: do I really need one hundred conditional statements to solve the problem?) and I would try to change or to improve the [algorithm.][1] \r\n\r\nAn [Expression Language][2] could provide some help because you could create programmatically a string that represents each IF statement and to evaluate the result using this tool, but you still have to solve the problem related to the execution of the particular logic associated with each condition.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/558657/whats-the-difference-between-an-algorithm-and-a-design-pattern\r\n  [2]: http://java-source.net/open-source/expression-languages","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>A design pattern could help you to make the code more readable or improve its maintainability, but if you really need to evaluate such numbers of conditions, the IF  statements cannot be avoided. </p>\n\n<p>I would consider seeing the problem from other point of view  (e.g.: do I really need one hundred conditional statements to solve the problem?) and I would try to change or to improve the <a href=\"https://stackoverflow.com/questions/558657/whats-the-difference-between-an-algorithm-and-a-design-pattern\">algorithm.</a> </p>\n\n<p>An <a href=\"http://java-source.net/open-source/expression-languages\" rel=\"nofollow noreferrer\">Expression Language</a> could provide some help because you could create programmatically a string that represents each IF statement and to evaluate the result using this tool, but you still have to solve the problem related to the execution of the particular logic associated with each condition.</p>\n"},{"tags":[],"owner":{"account_id":2764937,"reputation":1232,"user_id":2380901,"display_name":"lancerex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422867692,"creation_date":1422867692,"answer_id":28274095,"question_id":16849656,"body_markdown":"A simple strategy demo with python:\r\n\r\n    class Context(object):\r\n      def __init__(self, strategy):\r\n        self.strategy = strategy\r\n    \r\n      def execute(self, num1, num2):\r\n        return self.strategy(num1, num2)\r\n    \r\n    class OperationAdd(object):\r\n      def __call__(self, num1, num2):\r\n        return num1 + num2\r\n    \r\n    \r\n    class OperationSub(object):\r\n      def __call__(self, num1, num2):\r\n        return num1 - num2\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n      con = Context(OperationAdd())\r\n      print &quot;10 + 5 =&quot;, con.execute(10, 5)\r\n    \r\n      con = Context(OperationSub())\r\n      print &quot;10 - 5 =&quot;, con.execute(10, 5)\r\n","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>A simple strategy demo with python:</p>\n\n<pre><code>class Context(object):\n  def __init__(self, strategy):\n    self.strategy = strategy\n\n  def execute(self, num1, num2):\n    return self.strategy(num1, num2)\n\nclass OperationAdd(object):\n  def __call__(self, num1, num2):\n    return num1 + num2\n\n\nclass OperationSub(object):\n  def __call__(self, num1, num2):\n    return num1 - num2\n\n\nif __name__ == '__main__':\n  con = Context(OperationAdd())\n  print \"10 + 5 =\", con.execute(10, 5)\n\n  con = Context(OperationSub())\n  print \"10 - 5 =\", con.execute(10, 5)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10772,"reputation":11732,"user_id":20489,"accept_rate":57,"display_name":"bingles"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1565711083,"creation_date":1511198665,"answer_id":47397705,"question_id":16849656,"body_markdown":"You should check out the Rules Design Pattern http://www.michael-whelan.net/rules-design-pattern/. It looks very similar to the example code you gave and consists of a base interface that defines a method for determining if a rule is satisfied and then various concrete implementations per different rules. As I understand it, your switch statement would turn into some sort of simple loop that just evaluates things until your composition of rules is either satisfied or fails.\r\n\r\n    interface IRule {\r\n        bool isSatisfied(SomeThing thing);\r\n    }\r\n\r\n    class RuleA: IRule {\r\n        public bool isSatisfied(SomeThing thing) {\r\n            ...\r\n        }\r\n    }\r\n\r\n    class RuleB: IRule {\r\n        ...\r\n    }\r\n    \r\n    class RuleC: IRule {\r\n        ...\r\n    }\r\n\r\nComposition Rules:\r\n\r\n    class OrRule: IRule {\r\n        private readonly IRule[] rules;\r\n\r\n        public OrRule(params IRule[] rules) {\r\n            this.rules = rules;\r\n        }\r\n\r\n        public isSatisfied(thing: Thing) {\r\n            return this.rules.Any(r =&gt; r.isSatisfied(thing));\r\n        }\r\n    }\r\n\r\n    class AndRule: IRule {\r\n        private readonly IRule[] rules;\r\n\r\n        public AndRule(params IRule[] rules) {\r\n            this.rules = rules;\r\n        }\r\n\r\n        public isSatisfied(thing: Thing) {\r\n            return this.rules.All(r =&gt; r.isSatisfied(thing));\r\n        }\r\n    }\r\n\r\n    // Helpers for AndRule / OrRule\r\n\r\n    static IRule and(params IRule[] rules) {\r\n        return new AndRule(rules);\r\n    }\r\n\r\n    static IRule or(params IRule[] rules) {\r\n        return new OrRule(rules);\r\n    }\r\n    \r\nSome service method that runs a rule on a thing:\r\n    \r\n    class SomeService {\r\n            public evaluate(IRule rule, Thing thing) {\r\n                return rule.isSatisfied(thing);\r\n            }\r\n        }\r\n    \r\nUsage:\r\n\r\n    // Compose a tree of rules\r\n    var rule = \r\n        and (\r\n            new Rule1(),\r\n            or (\r\n                new Rule2(),\r\n                new Rule3()\r\n            )\r\n        );\r\n    \r\n    var thing = new Thing();\r\n        \r\n    new SomeService().evaluate(rule, thing);\r\n\r\nThis was also answered here: https://softwareengineering.stackexchange.com/questions/323018/business-rules-design-pattern","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>You should check out the Rules Design Pattern <a href=\"http://www.michael-whelan.net/rules-design-pattern/\" rel=\"noreferrer\">http://www.michael-whelan.net/rules-design-pattern/</a>. It looks very similar to the example code you gave and consists of a base interface that defines a method for determining if a rule is satisfied and then various concrete implementations per different rules. As I understand it, your switch statement would turn into some sort of simple loop that just evaluates things until your composition of rules is either satisfied or fails.</p>\n\n<pre><code>interface IRule {\n    bool isSatisfied(SomeThing thing);\n}\n\nclass RuleA: IRule {\n    public bool isSatisfied(SomeThing thing) {\n        ...\n    }\n}\n\nclass RuleB: IRule {\n    ...\n}\n\nclass RuleC: IRule {\n    ...\n}\n</code></pre>\n\n<p>Composition Rules:</p>\n\n<pre><code>class OrRule: IRule {\n    private readonly IRule[] rules;\n\n    public OrRule(params IRule[] rules) {\n        this.rules = rules;\n    }\n\n    public isSatisfied(thing: Thing) {\n        return this.rules.Any(r =&gt; r.isSatisfied(thing));\n    }\n}\n\nclass AndRule: IRule {\n    private readonly IRule[] rules;\n\n    public AndRule(params IRule[] rules) {\n        this.rules = rules;\n    }\n\n    public isSatisfied(thing: Thing) {\n        return this.rules.All(r =&gt; r.isSatisfied(thing));\n    }\n}\n\n// Helpers for AndRule / OrRule\n\nstatic IRule and(params IRule[] rules) {\n    return new AndRule(rules);\n}\n\nstatic IRule or(params IRule[] rules) {\n    return new OrRule(rules);\n}\n</code></pre>\n\n<p>Some service method that runs a rule on a thing:</p>\n\n<pre><code>class SomeService {\n        public evaluate(IRule rule, Thing thing) {\n            return rule.isSatisfied(thing);\n        }\n    }\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>// Compose a tree of rules\nvar rule = \n    and (\n        new Rule1(),\n        or (\n            new Rule2(),\n            new Rule3()\n        )\n    );\n\nvar thing = new Thing();\n\nnew SomeService().evaluate(rule, thing);\n</code></pre>\n\n<p>This was also answered here: <a href=\"https://softwareengineering.stackexchange.com/questions/323018/business-rules-design-pattern\">https://softwareengineering.stackexchange.com/questions/323018/business-rules-design-pattern</a></p>\n"}],"owner":{"account_id":2741510,"reputation":949,"user_id":2362960,"accept_rate":12,"display_name":"SCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71734,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":6,"score":43,"last_activity_date":1677115545,"creation_date":1369973747,"question_id":16849656,"body_markdown":"I have to implement certain business rules with hundreds of lines of below code:\r\n\r\n    if this\r\n          then this\r\n    else if\r\n          then this\r\n    .\r\n    . // hundreds of lines of rules\r\n     else\r\n          that\r\n\r\nDo we have any design pattern which can effectively implement this or reuse the code so that it can be applied to all different rules?\r\nI heard of ***Specification Pattern*** which creates something like the below:\r\n\r\n    public interface Specification {\r\n\r\n    boolean isSatisfiedBy(Object o);\r\n\r\n    Specification and(Specification specification);\r\n\r\n    Specification or(Specification specification);\r\n\r\n    Specification not(Specification specification);\r\n    }\r\n\r\n\r\n    public abstract class AbstractSpecification implements Specification {\r\n\r\n    public abstract boolean isSatisfiedBy(Object o);\r\n\r\n    public Specification and(final Specification specification) {\r\n     return new AndSpecification(this, specification);\r\n    }\r\n\r\n    public Specification or(final Specification specification) {\r\n     return new OrSpecification(this, specification);\r\n    }\r\n\r\n     public Specification not(final Specification specification) {\r\n     return new NotSpecification(specification);\r\n    }\r\n    }\r\n\r\nAnd then the implementation of Is, And, Or methods but I think this cannot save me from writing the if-else (maybe my understanding is incorrect)...\r\n\r\nIs there any best approach to implement such business rules having so many if-else statements?\r\n\r\nEDIT: Just a sample example. A, B, C, etc are properties of a class. Apart from these, there are a similar lot of other rules. I want to make a generic code for this.\r\n\r\n    \tIf &lt;A&gt; = &#39;something&#39; and &lt;B&gt; = ‘something’ then\r\n\t\tIf &lt;C&gt; = ‘02’ and &lt;D&gt; &lt;&gt; ‘02’ and &lt; E&gt; &lt;&gt; ‘02’  then\r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; &lt;&gt; ‘02’  then\r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; &lt;&gt; ‘02’ and &lt;J&gt; = ‘02’  then\r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; = ‘02’  then \r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; = ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; &lt;&gt; ‘02’  then \r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; = ‘02’ and &lt;I&gt; &lt;&gt; ‘02’ and &lt;J&gt; = ‘02’  then \r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; = ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; = ‘02’  then:\r\n\t\t\tIf &lt;Q&gt; = Y then\r\n\t\t\t\t&#39;something&#39;\r\n\t\t\tElse then \r\n\t\t\t\t&#39;something&#39;\r\n\tElse :\r\n\tValue of &lt;Z&gt;\r\n\r\n\r\n","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>I have to implement certain business rules with hundreds of lines of below code:</p>\n<pre><code>if this\n      then this\nelse if\n      then this\n.\n. // hundreds of lines of rules\n else\n      that\n</code></pre>\n<p>Do we have any design pattern which can effectively implement this or reuse the code so that it can be applied to all different rules?\nI heard of <em><strong>Specification Pattern</strong></em> which creates something like the below:</p>\n<pre><code>public interface Specification {\n\nboolean isSatisfiedBy(Object o);\n\nSpecification and(Specification specification);\n\nSpecification or(Specification specification);\n\nSpecification not(Specification specification);\n}\n\n\npublic abstract class AbstractSpecification implements Specification {\n\npublic abstract boolean isSatisfiedBy(Object o);\n\npublic Specification and(final Specification specification) {\n return new AndSpecification(this, specification);\n}\n\npublic Specification or(final Specification specification) {\n return new OrSpecification(this, specification);\n}\n\n public Specification not(final Specification specification) {\n return new NotSpecification(specification);\n}\n}\n</code></pre>\n<p>And then the implementation of Is, And, Or methods but I think this cannot save me from writing the if-else (maybe my understanding is incorrect)...</p>\n<p>Is there any best approach to implement such business rules having so many if-else statements?</p>\n<p>EDIT: Just a sample example. A, B, C, etc are properties of a class. Apart from these, there are a similar lot of other rules. I want to make a generic code for this.</p>\n<pre><code>    If &lt;A&gt; = 'something' and &lt;B&gt; = ‘something’ then\n    If &lt;C&gt; = ‘02’ and &lt;D&gt; &lt;&gt; ‘02’ and &lt; E&gt; &lt;&gt; ‘02’  then\n        'something'\n    Else if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; &lt;&gt; ‘02’  then\n        'something'\n    Else if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; &lt;&gt; ‘02’ and &lt;J&gt; = ‘02’  then\n        'something'\n    Else if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; = ‘02’  then \n        'something'\n    Else if &lt;H&gt; = ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; &lt;&gt; ‘02’  then \n        'something'\n    Else if &lt;H&gt; = ‘02’ and &lt;I&gt; &lt;&gt; ‘02’ and &lt;J&gt; = ‘02’  then \n        'something'\n    Else if &lt;H&gt; = ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; = ‘02’  then:\n        If &lt;Q&gt; = Y then\n            'something'\n        Else then \n            'something'\nElse :\nValue of &lt;Z&gt;\n</code></pre>\n"},{"tags":["java","spring","rest","validation","controller"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677202051,"post_id":75539747,"comment_id":133296359,"body_markdown":"I don&#39;t think RepositoryEventHandlers are the place to validate: validation is the topic before RepositoryEventHandlers in the Spring Data Rest manual; validation is not mentioned in [Spring Data REST Events with @RepositoryEventHandler](https://www.baeldung.com/spring-data-rest-events). I would suggest reviewing the following resources: 1) [Guide to Spring Data REST Validators](https://www.baeldung.com/spring-data-rest-validators), and 2) [Spring Data REST Reference Guide](https://docs.spring.io/spring-data/rest/docs/current/reference/html/#validation) to solve your problem.","body":"I don&#39;t think RepositoryEventHandlers are the place to validate: validation is the topic before RepositoryEventHandlers in the Spring Data Rest manual; validation is not mentioned in <a href=\"https://www.baeldung.com/spring-data-rest-events\" rel=\"nofollow noreferrer\">Spring Data REST Events with @RepositoryEventHandler</a>. I would suggest reviewing the following resources: 1) <a href=\"https://www.baeldung.com/spring-data-rest-validators\" rel=\"nofollow noreferrer\">Guide to Spring Data REST Validators</a>, and 2) <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#validation\" rel=\"nofollow noreferrer\">Spring Data REST Reference Guide</a> to solve your problem."}],"owner":{"account_id":25261654,"reputation":21,"user_id":19092469,"display_name":"R Am"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677115432,"creation_date":1677115432,"question_id":75539747,"body_markdown":"I&#39;m using Spring Data Rest and it doesn&#39;t use @Valid in controllers.\r\n\r\nTo do it by myself, i handled the event &quot;before create&quot; with the following code :\r\n\r\n```\r\n  @HandleBeforeCreate\r\n    public Programme handleProgrammeBeforeCreate(@Valid @RequestBody Programme programme) {\r\n        programmeRepository.save(programme);\r\n        return programme;\r\n```\r\n\r\nProblem is @Valid do nothing...\r\n\r\nHow can I do please?\r\n\r\n(It seems I cannot modifiy directly Controllers using Spring Data Rest, I already test a lot a things)","title":"@Valid annotation in Event Handler","body":"<p>I'm using Spring Data Rest and it doesn't use @Valid in controllers.</p>\n<p>To do it by myself, i handled the event &quot;before create&quot; with the following code :</p>\n<pre><code>  @HandleBeforeCreate\n    public Programme handleProgrammeBeforeCreate(@Valid @RequestBody Programme programme) {\n        programmeRepository.save(programme);\n        return programme;\n</code></pre>\n<p>Problem is @Valid do nothing...</p>\n<p>How can I do please?</p>\n<p>(It seems I cannot modifiy directly Controllers using Spring Data Rest, I already test a lot a things)</p>\n"},{"tags":["java","multithreading","jdbc","pgbouncer"],"answers":[{"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677115056,"creation_date":1677038609,"answer_id":75528166,"question_id":75527494,"body_markdown":"If you are using middleware connection pool it doesn’t makes sense to also have connection pools on the instances side or have one connection to pool per instance. For each request to DB instance should establish new connection to pgbouncer. As connection to pgbouncer is a regular TCP connection in opposite to connection to DB being CPU and memory expensive it should be cheap to establish them.Yes, it will add some latency, but if you are using pgbouncer in the same datacenter as instances it should be something around few ms for AWS. If you have multiple instances accessing DB using shared pool instead of instance local pool this latency overhead could be a lot smaller than gain you will get from managing connections more efficiently","title":"HikariCP (and other connection pools) on multi-threaded server and PgBouncer","body":"<p>If you are using middleware connection pool it doesn’t makes sense to also have connection pools on the instances side or have one connection to pool per instance. For each request to DB instance should establish new connection to pgbouncer. As connection to pgbouncer is a regular TCP connection in opposite to connection to DB being CPU and memory expensive it should be cheap to establish them.Yes, it will add some latency, but if you are using pgbouncer in the same datacenter as instances it should be something around few ms for AWS. If you have multiple instances accessing DB using shared pool instead of instance local pool this latency overhead could be a lot smaller than gain you will get from managing connections more efficiently</p>\n"}],"owner":{"account_id":2032093,"reputation":1995,"user_id":1815486,"accept_rate":40,"display_name":"aiguofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75528166,"answer_count":1,"score":1,"last_activity_date":1677115056,"creation_date":1677029575,"question_id":75527494,"body_markdown":"So I&#39;ve recently become aware of PgBouncer and I&#39;m struggling to understand how it replaces a connection pool on a multi-threaded server. I looked over https://stackoverflow.com/questions/56581582/hikaricp-apache-dbcp2-and-pgbouncer but it doesn&#39;t seem to address that.\r\n\r\nSuppose I have a Java server that handles a request per thread, and it connects to the db through JDBC. JDBC drivers are supposed to be thread-safe, but requests on the same connection can only be served one at a time. A pool like Hikari allows each thread to grab an existing connection (saving time by not having to establish a new connection per request), and then use it exclusively for db transactions within that thread (saving time when there&#39;s other simultaneous requests).\r\n\r\nHow exactly does pgbouncer solve both of those problems? If I use a single global connection to pgbouncer that is shared by all the threads, we still have the blocking problem. If I create a connection per request, we still have the overhead of establishing a connection with pgbouncer (which I understand is cheaper than connecting to the db, but this still seems odd).","title":"HikariCP (and other connection pools) on multi-threaded server and PgBouncer","body":"<p>So I've recently become aware of PgBouncer and I'm struggling to understand how it replaces a connection pool on a multi-threaded server. I looked over <a href=\"https://stackoverflow.com/questions/56581582/hikaricp-apache-dbcp2-and-pgbouncer\">HikariCP/Apache DBCP2 and PgBouncer</a> but it doesn't seem to address that.</p>\n<p>Suppose I have a Java server that handles a request per thread, and it connects to the db through JDBC. JDBC drivers are supposed to be thread-safe, but requests on the same connection can only be served one at a time. A pool like Hikari allows each thread to grab an existing connection (saving time by not having to establish a new connection per request), and then use it exclusively for db transactions within that thread (saving time when there's other simultaneous requests).</p>\n<p>How exactly does pgbouncer solve both of those problems? If I use a single global connection to pgbouncer that is shared by all the threads, we still have the blocking problem. If I create a connection per request, we still have the overhead of establishing a connection with pgbouncer (which I understand is cheaper than connecting to the db, but this still seems odd).</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677115042,"creation_date":1677114374,"answer_id":75539680,"question_id":75539492,"body_markdown":"Your code looks like a mix of Java and Kotlin. You can&#39;t write Java code in a Kotlin file.\r\n\r\nThere is no `getClass()` in Kotlin. Instead of `.getClass()`, use `::class.java`. Or in this specific case, you don&#39;t need `.java`, since a Kotlin KClass also has a `.simpleName` property (not getter function).\r\n\r\nTo import File, hover over the word File and the IDE will suggest auto-importing it for you. So for the most part, you don&#39;t need to memorize packages for imports.","title":"Android Studio Kotlin. Unresolved reference getClass()","body":"<p>Your code looks like a mix of Java and Kotlin. You can't write Java code in a Kotlin file.</p>\n<p>There is no <code>getClass()</code> in Kotlin. Instead of <code>.getClass()</code>, use <code>::class.java</code>. Or in this specific case, you don't need <code>.java</code>, since a Kotlin KClass also has a <code>.simpleName</code> property (not getter function).</p>\n<p>To import File, hover over the word File and the IDE will suggest auto-importing it for you. So for the most part, you don't need to memorize packages for imports.</p>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677115042,"creation_date":1677112004,"question_id":75539492,"body_markdown":"Trying to compile the following code, but I&#39;m getting unresolved reference errors\r\n\r\n    if (!OpenCVLoader.initDebug()) {\r\n        Log.e(this.getClass().getSimpleName(), &quot; OpenCVLoader.initDebug(), not working.&quot;);\r\n    } else {\r\n        Log.d(this.getClass().getSimpleName(), &quot; OpenCVLoader.initDebug(), working.&quot;);\r\n    }\r\n\r\n\r\nHow do I find what I need to import to get this getClass() function to work?\r\n\r\nI also have an error `Unresolved reference File` on this line\r\n`val inputFilePath = inputDir + File.separator + inputFileName + &quot;.&quot; + inputExtension`\r\n\r\nwhich improt is required to get this to work\r\n\r\nIs there a good way to search for what I need to import for future unresolved references?\r\n","title":"Android Studio Kotlin. Unresolved reference getClass()","body":"<p>Trying to compile the following code, but I'm getting unresolved reference errors</p>\n<pre><code>if (!OpenCVLoader.initDebug()) {\n    Log.e(this.getClass().getSimpleName(), &quot; OpenCVLoader.initDebug(), not working.&quot;);\n} else {\n    Log.d(this.getClass().getSimpleName(), &quot; OpenCVLoader.initDebug(), working.&quot;);\n}\n</code></pre>\n<p>How do I find what I need to import to get this getClass() function to work?</p>\n<p>I also have an error <code>Unresolved reference File</code> on this line\n<code>val inputFilePath = inputDir + File.separator + inputFileName + &quot;.&quot; + inputExtension</code></p>\n<p>which improt is required to get this to work</p>\n<p>Is there a good way to search for what I need to import for future unresolved references?</p>\n"},{"tags":["java","apache","csv","apache-camel","splitter"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677114657,"creation_date":1378220875,"answer_id":18595675,"question_id":18590755,"body_markdown":"I suggest to spend some time to research the Apache Camel documentation. For example on the Splitter EIP page its all documented how you can do this.\r\n\r\nSee https://camel.apache.org/components/3.20.x/eips/split-eip.html#_splitting_files_by_grouping_n_lines_together at the section _Splitting files by grouping N lines together_","title":"How to split a csv file 20 lines at a time using Splitter EIP, in apache camel?","body":"<p>I suggest to spend some time to research the Apache Camel documentation. For example on the Splitter EIP page its all documented how you can do this.</p>\n<p>See <a href=\"https://camel.apache.org/components/3.20.x/eips/split-eip.html#_splitting_files_by_grouping_n_lines_together\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/eips/split-eip.html#_splitting_files_by_grouping_n_lines_together</a> at the section <em>Splitting files by grouping N lines together</em></p>\n"},{"tags":[],"owner":{"account_id":2149542,"reputation":767,"user_id":1906350,"display_name":"Amitabha Roy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522152783,"creation_date":1522152783,"answer_id":49512578,"question_id":18590755,"body_markdown":"    package com.camel;\r\n    \r\n    import org.apache.camel.CamelContext;\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.dataformat.csv.CsvDataFormat;\r\n    import org.apache.camel.impl.DefaultCamelContext;\r\n    import org.apache.commons.csv.CSVFormat;\r\n    import org.apache.commons.csv.QuoteMode;\r\n    \r\n    public class FileSplitter {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tCamelContext context = new DefaultCamelContext();\r\n    \t\tCsvDataFormat csvParser = new CsvDataFormat(CSVFormat.DEFAULT);\r\n    \t\tcsvParser.setSkipHeaderRecord(true);\r\n    \t\tcsvParser.setQuoteMode(QuoteMode.ALL);\r\n    \t\tcontext.addRoutes(new RouteBuilder() {\r\n    \t\t\tpublic void configure() {\r\n    \t\t\t\tString fileName = &quot;Hello.csv&quot;;\r\n    \t\t\t\tint lineCount = 20;\r\n    \t\t\t\tSystem.out.println(&quot;fileName = &quot; + fileName);\r\n    \t\t\t\tSystem.out.println(&quot;lineCount = &quot; + lineCount);\r\n    \t\t\t\tfrom(&quot;file:data/inbox?noop=true&amp;fileName=&quot; + fileName).unmarshal(csvParser).split(body()).streaming()\r\n    \t\t\t\t\t\t.aggregate(constant(true), new ArrayListAggregationStrategy()).completionSize(lineCount)\r\n    \t\t\t\t\t\t.completionTimeout(1500).marshal(csvParser)\r\n    \t\t\t\t\t\t.to(&quot;file:data/outbox?fileName=${file:name.noext}_${header.CamelSplitIndex}.csv&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tcontext.start();\r\n    \t\tThread.sleep(10000);\r\n    \t\tcontext.stop();\r\n    \t\tSystem.out.println(&quot;End&quot;);\r\n    \t}\r\n    }\r\n","title":"How to split a csv file 20 lines at a time using Splitter EIP, in apache camel?","body":"<pre><code>package com.camel;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.dataformat.csv.CsvDataFormat;\nimport org.apache.camel.impl.DefaultCamelContext;\nimport org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.QuoteMode;\n\npublic class FileSplitter {\n\n    public static void main(String args[]) throws Exception {\n        CamelContext context = new DefaultCamelContext();\n        CsvDataFormat csvParser = new CsvDataFormat(CSVFormat.DEFAULT);\n        csvParser.setSkipHeaderRecord(true);\n        csvParser.setQuoteMode(QuoteMode.ALL);\n        context.addRoutes(new RouteBuilder() {\n            public void configure() {\n                String fileName = \"Hello.csv\";\n                int lineCount = 20;\n                System.out.println(\"fileName = \" + fileName);\n                System.out.println(\"lineCount = \" + lineCount);\n                from(\"file:data/inbox?noop=true&amp;fileName=\" + fileName).unmarshal(csvParser).split(body()).streaming()\n                        .aggregate(constant(true), new ArrayListAggregationStrategy()).completionSize(lineCount)\n                        .completionTimeout(1500).marshal(csvParser)\n                        .to(\"file:data/outbox?fileName=${file:name.noext}_${header.CamelSplitIndex}.csv\");\n            }\n        });\n        context.start();\n        Thread.sleep(10000);\n        context.stop();\n        System.out.println(\"End\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1810430,"reputation":183,"user_id":1646626,"accept_rate":50,"display_name":"Kumar Ritesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3255,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":18595675,"answer_count":2,"score":2,"last_activity_date":1677114657,"creation_date":1378206554,"question_id":18590755,"body_markdown":"I have a **csv file** having 2000 lines. I wish to **split it 20 lines** at a time and send each to a processor in apache camel. How do I do it using **Splitter EIP** ? Please help ..","title":"How to split a csv file 20 lines at a time using Splitter EIP, in apache camel?","body":"<p>I have a <strong>csv file</strong> having 2000 lines. I wish to <strong>split it 20 lines</strong> at a time and send each to a processor in apache camel. How do I do it using <strong>Splitter EIP</strong> ? Please help ..</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1677016150,"post_id":75526161,"comment_id":133253437,"body_markdown":"Set the property value in `application–test.properties`.","body":"Set the property value in <code>application–test.properties</code>."},{"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"score":0,"creation_date":1677079009,"post_id":75526161,"comment_id":133267055,"body_markdown":"Thanks, @Unmitigated, that works! Surprisingly, Google does not find this  documented in the [Spring docs](https://docs.spring.io/).","body":"Thanks, @Unmitigated, that works! Surprisingly, Google does not find this  documented in the <a href=\"https://docs.spring.io/\" rel=\"nofollow noreferrer\">Spring docs</a>."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677114589,"creation_date":1677034040,"answer_id":75527797,"question_id":75526161,"body_markdown":"Environment variables will override any properties defined in your application*.[properties|yml].  You can read the property resolution order in [the *Externalized Configuration* section of the Core Features documentation of Spring Boot](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config).\r\n\r\nOverriding properties with environment variables is pretty straightforward; you just need to follow the convention.\r\n\r\n* Replace dots (.) with underscores (_).\r\n* Remove any dashes (-).\r\n* Convert to uppercase.\r\n\r\nTo override that particular environment variable on a mac/linux/unix, export it (following the above convention).\r\n\r\n    export TEST_PROPERTY=a_test_property\r\n\r\nWhen your tests run, this will be the property that the property resolver will expose.\r\n","title":"Conveniently and temporarily modify a Spring property in an application.properties file","body":"<p>Environment variables will override any properties defined in your application*.[properties|yml].  You can read the property resolution order in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">the <em>Externalized Configuration</em> section of the Core Features documentation of Spring Boot</a>.</p>\n<p>Overriding properties with environment variables is pretty straightforward; you just need to follow the convention.</p>\n<ul>\n<li>Replace dots (.) with underscores (_).</li>\n<li>Remove any dashes (-).</li>\n<li>Convert to uppercase.</li>\n</ul>\n<p>To override that particular environment variable on a mac/linux/unix, export it (following the above convention).</p>\n<pre><code>export TEST_PROPERTY=a_test_property\n</code></pre>\n<p>When your tests run, this will be the property that the property resolver will expose.</p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677092420,"creation_date":1677092420,"answer_id":75537083,"question_id":75526161,"body_markdown":"Use `@ActiveProfiles(&quot;test&quot;)` on the test to enable the &quot;test&quot; profile. Then, the property can be set in `application–test.properties`.","title":"Conveniently and temporarily modify a Spring property in an application.properties file","body":"<p>Use <code>@ActiveProfiles(&quot;test&quot;)</code> on the test to enable the &quot;test&quot; profile. Then, the property can be set in <code>application–test.properties</code>.</p>\n"}],"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75527797,"answer_count":2,"score":1,"last_activity_date":1677114589,"creation_date":1677015531,"question_id":75526161,"body_markdown":"At times, we want to override a property in a Spring `application.properties` file when we&#39;re running unit tests or an application.\r\n\r\nAssume `gradle` manages the builds, and consider this test module, in `MinimalValueTest.java`.\r\n```\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.test.context.ActiveProfiles;\r\n\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class MinimalValueTest {\r\n\r\n\t@Value(&quot;${test.property}&quot;)\r\n\tString testProperty;\r\n\r\n    @Test\r\n    public void test() {\r\n      Assertions.assertTrue(testProperty != null);\r\n      // Support a test that changes the value of test.property at the command line to &quot;property_set_by_override_at_the_command_line&quot;\r\n      // (Unfortunately, org.junit.jupiter version 5 doesn&#39;t support this directly.)\r\n      Boolean oneOfTheExpectedValues = (testProperty.equals(&quot;a_test_property&quot;) ||\r\n                                        testProperty.equals(&quot;property_set_by_override_at_the_command_line&quot;));\r\n      Assertions.assertTrue(oneOfTheExpectedValues);\r\n    }\r\n\r\n}\r\n```\r\nThis test references this property defined in the `src/test/resources/application.properties` file:\r\n```\r\ntest.property=a_test_property\r\n```\r\n\r\n**What `gradle` command can be used to override this value of `test.property`?**\r\n\r\nSeveral existing SO questions try, but fail, to solve this problem: https://stackoverflow.com/q/29669393, https://stackoverflow.com/q/23689054, and https://stackoverflow.com/q/39820528.","title":"Conveniently and temporarily modify a Spring property in an application.properties file","body":"<p>At times, we want to override a property in a Spring <code>application.properties</code> file when we're running unit tests or an application.</p>\n<p>Assume <code>gradle</code> manages the builds, and consider this test module, in <code>MinimalValueTest.java</code>.</p>\n<pre><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.stereotype.Component;\nimport org.springframework.test.context.ActiveProfiles;\n\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\npublic class MinimalValueTest {\n\n    @Value(&quot;${test.property}&quot;)\n    String testProperty;\n\n    @Test\n    public void test() {\n      Assertions.assertTrue(testProperty != null);\n      // Support a test that changes the value of test.property at the command line to &quot;property_set_by_override_at_the_command_line&quot;\n      // (Unfortunately, org.junit.jupiter version 5 doesn't support this directly.)\n      Boolean oneOfTheExpectedValues = (testProperty.equals(&quot;a_test_property&quot;) ||\n                                        testProperty.equals(&quot;property_set_by_override_at_the_command_line&quot;));\n      Assertions.assertTrue(oneOfTheExpectedValues);\n    }\n\n}\n</code></pre>\n<p>This test references this property defined in the <code>src/test/resources/application.properties</code> file:</p>\n<pre><code>test.property=a_test_property\n</code></pre>\n<p><strong>What <code>gradle</code> command can be used to override this value of <code>test.property</code>?</strong></p>\n<p>Several existing SO questions try, but fail, to solve this problem: <a href=\"https://stackoverflow.com/q/29669393\">Override default Spring-Boot application.properties settings in Junit Test</a>, <a href=\"https://stackoverflow.com/q/23689054\">Problems passing system properties and parameters when running Java class via Gradle</a>, and <a href=\"https://stackoverflow.com/q/39820528\">Passing system properties into Spring Boot from Gradle</a>.</p>\n"},{"tags":["java","maven","launch4j"],"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677113631,"creation_date":1677113631,"question_id":75539619,"body_markdown":"I&#39;m currently developing a small desktop application for some automation task. I created a Maven project with the launch4j plugin to create an exe file. It creates and launches it but at some point it throws the following error:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/itextpdf/text/DocumentException\r\n            at net.fake.frame.manualidmreport.ManualIDMReportResumeForm.openFolderChooser(ManualIDMReportResumeForm.java:140)\r\n            at net.fake.frame.manualidmreport.ManualIDMReportResumeForm$2.mouseClicked(ManualIDMReportResumeForm.java:123)\r\n            at java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\r\n            at java.desktop/java.awt.Component.processMouseEvent(Component.java:6619)\r\n            at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n            at java.desktop/java.awt.Component.processEvent(Component.java:6381)\r\n            at java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n    ...\r\n\r\nI believe it&#39;s because the class `com.itextpdf.text.DocumentException` (alongside others probably) are part of the external library `itextpdf` and are not being included in the JRE (awt libraries load and work properly). Said class in configured in the pom file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;net.fake&lt;/groupId&gt;\r\n      &lt;artifactId&gt;auto-task&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;name&gt;auto-task&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;18&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.jacob&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jacob&lt;/artifactId&gt;\r\n          &lt;version&gt;1.20&lt;/version&gt;\r\n          &lt;scope&gt;system&lt;/scope&gt;\r\n          &lt;systemPath&gt;${basedir}/src/main/resources/lib/jacob.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n          &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n          &lt;scope&gt;system&lt;/scope&gt;\r\n          &lt;systemPath&gt;${basedir}/src/main/resources/lib/itextpdf.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;l4j-clui&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;launch4j&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;headerType&gt;console&lt;/headerType&gt;\r\n                  &lt;jar&gt;target/auto-task-0.0-SNAPSHOT.jar&lt;/jar&gt;\r\n                  &lt;outfile&gt;target/autotask.exe&lt;/outfile&gt;\r\n                  &lt;errTitle&gt;encc&lt;/errTitle&gt;\r\n                  &lt;classPath&gt;\r\n                    &lt;mainClass&gt;net.fake.App&lt;/mainClass&gt;\r\n                    &lt;jarLocation&gt;target/auto-task-0.0-SNAPSHOT.jar&lt;/jarLocation&gt;\r\n                    &lt;addDependencies&gt;true&lt;/addDependencies&gt;\r\n                    &lt;preCp&gt;anything&lt;/preCp&gt;\r\n                    &lt;postCp&gt;anything&lt;/postCp&gt;\r\n                  &lt;/classPath&gt;\r\n                  &lt;icon&gt;fake.ico&lt;/icon&gt;\r\n                  &lt;jre&gt;\r\n                    &lt;path&gt;${JAVA_HOME}&lt;/path&gt;\r\n                    &lt;minVersion&gt;18&lt;/minVersion&gt;\r\n                    &lt;requiresJdk&gt;true&lt;/requiresJdk&gt;\r\n                  &lt;/jre&gt;\r\n                  &lt;versionInfo&gt;\r\n                    &lt;fileVersion&gt;1.2.3.4&lt;/fileVersion&gt;\r\n                    &lt;txtFileVersion&gt;txtfileversion&lt;/txtFileVersion&gt;\r\n                    &lt;fileDescription&gt;adescription&lt;/fileDescription&gt;\r\n                    &lt;copyright&gt;my copyright&lt;/copyright&gt;\r\n                    &lt;productVersion&gt;4.3.2.1&lt;/productVersion&gt;\r\n                    &lt;txtProductVersion&gt;txt product version&lt;/txtProductVersion&gt;\r\n                    &lt;productName&gt;E-N-C-C&lt;/productName&gt;\r\n                    &lt;companyName&gt;fake&lt;/companyName&gt;\r\n                    &lt;internalName&gt;ccne&lt;/internalName&gt;\r\n                    &lt;originalFilename&gt;original.exe&lt;/originalFilename&gt;\r\n                    &lt;trademarks&gt;trademark&lt;/trademarks&gt;\r\n                  &lt;/versionInfo&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI also tried getting the dependencies from maven central, but nothing changes at all.\r\n\r\nI tried changing different configurations in the plugins, and reading the documentation, but it seems my knowledge is limited, and I don&#39;t have much experience creating standalone applications. What should I change to include these classes and run my program without these errors?","title":"Include jar library in Java Executable with Launch4J maven Plugin","body":"<p>I'm currently developing a small desktop application for some automation task. I created a Maven project with the launch4j plugin to create an exe file. It creates and launches it but at some point it throws the following error:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/itextpdf/text/DocumentException\n        at net.fake.frame.manualidmreport.ManualIDMReportResumeForm.openFolderChooser(ManualIDMReportResumeForm.java:140)\n        at net.fake.frame.manualidmreport.ManualIDMReportResumeForm$2.mouseClicked(ManualIDMReportResumeForm.java:123)\n        at java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6619)\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\n        at java.desktop/java.awt.Component.processEvent(Component.java:6381)\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n...\n</code></pre>\n<p>I believe it's because the class <code>com.itextpdf.text.DocumentException</code> (alongside others probably) are part of the external library <code>itextpdf</code> and are not being included in the JRE (awt libraries load and work properly). Said class in configured in the pom file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;net.fake&lt;/groupId&gt;\n  &lt;artifactId&gt;auto-task&lt;/artifactId&gt;\n  &lt;version&gt;0.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;auto-task&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.jacob&lt;/groupId&gt;\n      &lt;artifactId&gt;jacob&lt;/artifactId&gt;\n      &lt;version&gt;1.20&lt;/version&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;${basedir}/src/main/resources/lib/jacob.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n      &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n      &lt;version&gt;5.5.13.3&lt;/version&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;${basedir}/src/main/resources/lib/itextpdf.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\n        &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;l4j-clui&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;launch4j&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;headerType&gt;console&lt;/headerType&gt;\n              &lt;jar&gt;target/auto-task-0.0-SNAPSHOT.jar&lt;/jar&gt;\n              &lt;outfile&gt;target/autotask.exe&lt;/outfile&gt;\n              &lt;errTitle&gt;encc&lt;/errTitle&gt;\n              &lt;classPath&gt;\n                &lt;mainClass&gt;net.fake.App&lt;/mainClass&gt;\n                &lt;jarLocation&gt;target/auto-task-0.0-SNAPSHOT.jar&lt;/jarLocation&gt;\n                &lt;addDependencies&gt;true&lt;/addDependencies&gt;\n                &lt;preCp&gt;anything&lt;/preCp&gt;\n                &lt;postCp&gt;anything&lt;/postCp&gt;\n              &lt;/classPath&gt;\n              &lt;icon&gt;fake.ico&lt;/icon&gt;\n              &lt;jre&gt;\n                &lt;path&gt;${JAVA_HOME}&lt;/path&gt;\n                &lt;minVersion&gt;18&lt;/minVersion&gt;\n                &lt;requiresJdk&gt;true&lt;/requiresJdk&gt;\n              &lt;/jre&gt;\n              &lt;versionInfo&gt;\n                &lt;fileVersion&gt;1.2.3.4&lt;/fileVersion&gt;\n                &lt;txtFileVersion&gt;txtfileversion&lt;/txtFileVersion&gt;\n                &lt;fileDescription&gt;adescription&lt;/fileDescription&gt;\n                &lt;copyright&gt;my copyright&lt;/copyright&gt;\n                &lt;productVersion&gt;4.3.2.1&lt;/productVersion&gt;\n                &lt;txtProductVersion&gt;txt product version&lt;/txtProductVersion&gt;\n                &lt;productName&gt;E-N-C-C&lt;/productName&gt;\n                &lt;companyName&gt;fake&lt;/companyName&gt;\n                &lt;internalName&gt;ccne&lt;/internalName&gt;\n                &lt;originalFilename&gt;original.exe&lt;/originalFilename&gt;\n                &lt;trademarks&gt;trademark&lt;/trademarks&gt;\n              &lt;/versionInfo&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I also tried getting the dependencies from maven central, but nothing changes at all.</p>\n<p>I tried changing different configurations in the plugins, and reading the documentation, but it seems my knowledge is limited, and I don't have much experience creating standalone applications. What should I change to include these classes and run my program without these errors?</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1677106271,"post_id":75538836,"comment_id":133274760,"body_markdown":"Your example XML is valid, what seems to be the problem?","body":"Your example XML is valid, what seems to be the problem?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":4,"creation_date":1677106389,"post_id":75538836,"comment_id":133274785,"body_markdown":"I think the `&gt;` is just recognized as a raw value of the `&lt;xml&gt;` tag and should be correct XML.","body":"I think the <code>&gt;</code> is just recognized as a raw value of the <code>&lt;xml&gt;</code> tag and should be correct XML."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1677116209,"post_id":75538836,"comment_id":133276339,"body_markdown":"Your XML is well-formed, and `&gt;` does not have to be escaped there.  See [Simplified XML Escaping](https://stackoverflow.com/a/46637835/290085) for a concise and fully cited explanation of XML character escaping requirements.","body":"Your XML is well-formed, and <code>&gt;</code> does not have to be escaped there.  See <a href=\"https://stackoverflow.com/a/46637835/290085\">Simplified XML Escaping</a> for a concise and fully cited explanation of XML character escaping requirements."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1677116470,"post_id":75538836,"comment_id":133276371,"body_markdown":"Aside:  Names (of elements, for example) that begin with `xml` are reserved  for standardization, but this is generally not considered a violation of XML rules of well-formedness.","body":"Aside:  Names (of elements, for example) that begin with <code>xml</code> are reserved  for standardization, but this is generally not considered a violation of XML rules of well-formedness."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1677141297,"post_id":75538836,"comment_id":133280105,"body_markdown":"Further aside: I find the question rather surprising. In particular, I find it surprising that anyone who is not intimately familiar with the fine detail of the XML spec should attempt this task, let alone imagine that they can do a better job of it than mature XML parsers like the one in the JDK. I also find it rather surprising that anyone would prefer to write code themselves rather than use a third party library because of &quot;runaway dependencies&quot;: these days, surely, we construct software from reusable components?","body":"Further aside: I find the question rather surprising. In particular, I find it surprising that anyone who is not intimately familiar with the fine detail of the XML spec should attempt this task, let alone imagine that they can do a better job of it than mature XML parsers like the one in the JDK. I also find it rather surprising that anyone would prefer to write code themselves rather than use a third party library because of &quot;runaway dependencies&quot;: these days, surely, we construct software from reusable components?"},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1677166149,"post_id":75538836,"comment_id":133287802,"body_markdown":"answering Michael Kay - I use automated tests to make sure my XHTML follows many more rules than a mere standard. For example, I don&#39;t permit &#39;&lt;output&gt;&lt;/output&gt;` because that means the entire field should either have `N/A` or should go away","body":"answering Michael Kay - I use automated tests to make sure my XHTML follows many more rules than a mere standard. For example, I don&#39;t permit &#39;&lt;output&gt;&lt;/output&gt;` because that means the entire field should either have <code>N&#47;A</code> or should go away"}],"answers":[{"tags":[],"owner":{"account_id":1020072,"reputation":233583,"user_id":1030675,"display_name":"choroba"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677107077,"creation_date":1677107077,"answer_id":75539025,"question_id":75538836,"body_markdown":"`&gt;` can appear as a text in XML elements, representing it as `&amp;gt;` is not mandatory.\r\n```bash\r\n$ echo &#39;&lt;xml&gt;&lt;oops&gt;&lt;/oops&gt;&gt;&lt;/xml&gt;&#39; | xmllint -\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;xml&gt;&lt;oops/&gt;&amp;gt;&lt;/xml&gt;\r\n```","title":"Java&#39;s XML parser is too forgiving","body":"<p><code>&gt;</code> can appear as a text in XML elements, representing it as <code>&amp;gt;</code> is not mandatory.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ echo '&lt;xml&gt;&lt;oops&gt;&lt;/oops&gt;&gt;&lt;/xml&gt;' | xmllint -\n&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;xml&gt;&lt;oops/&gt;&amp;gt;&lt;/xml&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1677113581,"creation_date":1677107145,"answer_id":75539037,"question_id":75538836,"body_markdown":"You won&#39;t be able to configure a (properly implemented) XML parser to reject the unwanted `&gt;` in your example.  A `&gt;` is allowed at that point according to the [XML specification](https://www.w3.org/TR/xml/#syntax):\r\n\r\n&gt; The right angle bracket (`&gt;`) **may** be represented using the string &quot;`&amp;gt;`&quot;, and MUST, for compatibility, be escaped using either &quot;`&amp;gt;`&quot; or a character reference when it appears in the string &quot;` ]]&gt; `&quot; in content, when that string is not marking the end of a `CDATA` section.\r\n\r\nSo if you wanted to detect the extraneous `&gt;` you would need to do some extra checking of element content.\r\n\r\n&lt;sup&gt;This would be difficult if you wanted / needed to distinguish between (accidental) `&gt;` characters and (intentional) `&amp;gt;` in the element content.  An XML parser will normalize them to `&gt;` during parsing, and I don&#39;t know if there is a way to stop it doing that.&lt;/sup&gt;\r\n\r\n ","title":"Java&#39;s XML parser is too forgiving","body":"<p>You won't be able to configure a (properly implemented) XML parser to reject the unwanted <code>&gt;</code> in your example.  A <code>&gt;</code> is allowed at that point according to the <a href=\"https://www.w3.org/TR/xml/#syntax\" rel=\"nofollow noreferrer\">XML specification</a>:</p>\n<blockquote>\n<p>The right angle bracket (<code>&gt;</code>) <strong>may</strong> be represented using the string &quot;<code>&amp;gt;</code>&quot;, and MUST, for compatibility, be escaped using either &quot;<code>&amp;gt;</code>&quot; or a character reference when it appears in the string &quot;<code>]]&gt;</code>&quot; in content, when that string is not marking the end of a <code>CDATA</code> section.</p>\n</blockquote>\n<p>So if you wanted to detect the extraneous <code>&gt;</code> you would need to do some extra checking of element content.</p>\n<p><sup>This would be difficult if you wanted / needed to distinguish between (accidental) <code>&gt;</code> characters and (intentional) <code>&amp;gt;</code> in the element content.  An XML parser will normalize them to <code>&gt;</code> during parsing, and I don't know if there is a way to stop it doing that.</sup></p>\n"}],"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75539037,"answer_count":2,"score":1,"last_activity_date":1677113581,"creation_date":1677105368,"question_id":75538836,"body_markdown":"I&#39;m writing tests, so I need an XML parser that detects any conceivable deviation from permitted syntax.\r\n\r\nThis code passes without a complaint despite it contains a `&gt;&gt;`:\r\n\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    factory.setNamespaceAware(false);\r\n    DocumentBuilder builder = factory.newDocumentBuilder();\r\n    String oops = &quot;&lt;xml&gt;&lt;oops&gt;&lt;/oops&gt;&gt;&lt;/xml&gt;&quot;;\r\n    ByteArrayInputStream stream = new ByteArrayInputStream(oops.getBytes());\r\n    builder.parse(stream);\r\n\r\nHow do I increase the level of syntax checking? To complain about anything, not just one little `&gt;&gt;` that I can grep for?\r\n\r\n(Note that while other readers of this post might be interested in third-party libraries that can do it, I can only use `javax` to prevent runaway dependencies in my project)","title":"Java&#39;s XML parser is too forgiving","body":"<p>I'm writing tests, so I need an XML parser that detects any conceivable deviation from permitted syntax.</p>\n<p>This code passes without a complaint despite it contains a <code>&gt;&gt;</code>:</p>\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nfactory.setNamespaceAware(false);\nDocumentBuilder builder = factory.newDocumentBuilder();\nString oops = &quot;&lt;xml&gt;&lt;oops&gt;&lt;/oops&gt;&gt;&lt;/xml&gt;&quot;;\nByteArrayInputStream stream = new ByteArrayInputStream(oops.getBytes());\nbuilder.parse(stream);\n</code></pre>\n<p>How do I increase the level of syntax checking? To complain about anything, not just one little <code>&gt;&gt;</code> that I can grep for?</p>\n<p>(Note that while other readers of this post might be interested in third-party libraries that can do it, I can only use <code>javax</code> to prevent runaway dependencies in my project)</p>\n"},{"tags":["java","dictionary","immutability"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":3,"creation_date":1677107863,"post_id":75539033,"comment_id":133275078,"body_markdown":"Create a normal mutable map, initialize it, then call `Collections.unmodifiableMap()` to make it immutable.","body":"Create a normal mutable map, initialize it, then call <code>Collections.unmodifiableMap()</code> to make it immutable."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1677112654,"post_id":75539033,"comment_id":133275851,"body_markdown":"I&#39;m assuming this is `com.google.common.collect.ImmutableMap`?","body":"I&#39;m assuming this is <code>com.google.common.collect.ImmutableMap</code>?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1677115657,"post_id":75539033,"comment_id":133276263,"body_markdown":"What error do you get?  This looks like you just need `ImmutableMap.of`, not `put`; you never call `put` on an `ImmutableMap`.","body":"What error do you get?  This looks like you just need <code>ImmutableMap.of</code>, not <code>put</code>; you never call <code>put</code> on an <code>ImmutableMap</code>."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677113368,"creation_date":1677113368,"answer_id":75539600,"question_id":75539033,"body_markdown":"Use [`Map.of()`][1], which\r\n\r\n&gt;Returns an unmodifiable map\r\n\r\nfor both the outer map and the map values.\r\n\r\nFor example:\r\n\r\n    private static Map&lt;String, ImmutableMap&lt;String, String[]&gt;&gt; Errors = Map.of(\r\n      PppoeAgentStatTypes.RECEIVED.getCounterType(), Map.of(PppoeAgentCounters.AC_SYSTEM_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()}),\r\n      // more keys and values\r\n    );\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)","title":"How to initialize and populate an immutable map that holds an immutable map as one of the values of a key in Java","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of()</code></a>, which</p>\n<blockquote>\n<p>Returns an unmodifiable map</p>\n</blockquote>\n<p>for both the outer map and the map values.</p>\n<p>For example:</p>\n<pre><code>private static Map&lt;String, ImmutableMap&lt;String, String[]&gt;&gt; Errors = Map.of(\n  PppoeAgentStatTypes.RECEIVED.getCounterType(), Map.of(PppoeAgentCounters.AC_SYSTEM_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()}),\n  // more keys and values\n);\n</code></pre>\n"}],"owner":{"account_id":20656191,"reputation":187,"user_id":17563251,"display_name":"baris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677113368,"creation_date":1677107107,"question_id":75539033,"body_markdown":"I&#39;ve been trying to solve this issue where I have to initialize and populate the structure at the same time as indicated below code segment.\r\n```\r\nprivate static Map&lt;String, Map&lt;String, String[]&gt;&gt; Errors = ImmutableMap.&lt;String, ImmutableMap&lt;String, String[]&gt;&gt;builder()\r\n```\r\nThis is what I tried, but it just does not work.\r\n\r\n```\r\nprivate static ImmutableMap&lt;String, ImmutableMap&lt;String, String[]&gt;&gt; Errors = ImmutableMap.&lt;String, ImmutableMap&lt;String, String[]&gt;&gt;builder()\r\n            .put(PppoeAgentStatTypes.RECEIVED.getCounterType(), ImmutableMap.put(PppoeAgentCounters.AC_SYSTEM_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()}),\r\n                    ImmutableMap.of(PppoeAgentCounters.SERVICE_NAME_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()})).build();\r\n```\r\nI have tried populated using `of` or just using `put` but couldn&#39;t get a successful result. I either got error saying ImmutableMap is abstract and can&#39;t be instantiated or different syntax errors. How can I initialize and populate the structure above? ","title":"How to initialize and populate an immutable map that holds an immutable map as one of the values of a key in Java","body":"<p>I've been trying to solve this issue where I have to initialize and populate the structure at the same time as indicated below code segment.</p>\n<pre><code>private static Map&lt;String, Map&lt;String, String[]&gt;&gt; Errors = ImmutableMap.&lt;String, ImmutableMap&lt;String, String[]&gt;&gt;builder()\n</code></pre>\n<p>This is what I tried, but it just does not work.</p>\n<pre><code>private static ImmutableMap&lt;String, ImmutableMap&lt;String, String[]&gt;&gt; Errors = ImmutableMap.&lt;String, ImmutableMap&lt;String, String[]&gt;&gt;builder()\n            .put(PppoeAgentStatTypes.RECEIVED.getCounterType(), ImmutableMap.put(PppoeAgentCounters.AC_SYSTEM_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()}),\n                    ImmutableMap.of(PppoeAgentCounters.SERVICE_NAME_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()})).build();\n</code></pre>\n<p>I have tried populated using <code>of</code> or just using <code>put</code> but couldn't get a successful result. I either got error saying ImmutableMap is abstract and can't be instantiated or different syntax errors. How can I initialize and populate the structure above?</p>\n"},{"tags":["java","android"],"owner":{"account_id":27855774,"reputation":11,"user_id":21269292,"display_name":"Jirka Martinec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677112764,"creation_date":1677112764,"question_id":75539552,"body_markdown":"I have code in method **openAccessiblitySettings()** where I **startActivity** and &quot;**redirect**&quot; user **to Accessibility Settings**.\r\n\r\n```java\r\npublic void openAccessiblitySettings()\r\n{\r\n\tfinal Intent intent = new Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);\r\n\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\r\n\r\n\tactivity.startActivity(intent);\r\n}\r\n```\r\n\r\n**Is there any option to redirect to a specific page in the settings of a specific application ?**\r\n\r\nUsing maybe something like:\r\n\r\n```java\r\nUri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID)\r\n```\r\n\r\nSimilar to this:\r\n\r\n```java\r\npublic void openApplicationDetailsSettings()\r\n{\r\n\tfinal Intent intent = new Intent(\r\n\t\tSettings.ACTION_APPLICATION_DETAILS_SETTINGS,\r\n\t\tUri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID)\r\n\t);\r\n\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\r\n\r\n\tactivity.startActivity(intent);\r\n}\r\n```","title":"Android - Open Accessibility Settings of specific Application","body":"<p>I have code in method <strong>openAccessiblitySettings()</strong> where I <strong>startActivity</strong> and &quot;<strong>redirect</strong>&quot; user <strong>to Accessibility Settings</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void openAccessiblitySettings()\n{\n    final Intent intent = new Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);\n\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\n\n    activity.startActivity(intent);\n}\n</code></pre>\n<p><strong>Is there any option to redirect to a specific page in the settings of a specific application ?</strong></p>\n<p>Using maybe something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID)\n</code></pre>\n<p>Similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void openApplicationDetailsSettings()\n{\n    final Intent intent = new Intent(\n        Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\n        Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID)\n    );\n\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\n\n    activity.startActivity(intent);\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","kotlin-coroutines","kotlin-flow"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1661851500,"post_id":73539120,"comment_id":129864026,"body_markdown":"Kotlin make use of property access and java does not that&#39;s why . you need to use something like `getViewLifecycleOwner().getLifecycleScope()` .. not sure it it will work `launchWhenStarted` seems to be an extension function i guess and flow also u won&#39;t be able to use from Java code  .. better stick to kotlin .. u can convert the class to kotlin from code menu ..","body":"Kotlin make use of property access and java does not that&#39;s why . you need to use something like <code>getViewLifecycleOwner().getLifecycleScope()</code> .. not sure it it will work <code>launchWhenStarted</code> seems to be an extension function i guess and flow also u won&#39;t be able to use from Java code  .. better stick to kotlin .. u can convert the class to kotlin from code menu .."}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661860582,"creation_date":1661860582,"answer_id":73542081,"question_id":73539120,"body_markdown":"If I&#39;m not mistaken **Kotlin coroutines** are not interoperable with **Java**. To use **Kotlin coroutines** stick to the Kotlin code, don&#39;t try to use coroutines in **Java**. Try to convert **Java** file to **Kotlin** file using context menu item **Convert Java File to Kotlin File**. Or move coroutines code to a separate **Kotlin** File.","title":"Why does I&#39;m not getting lifecycleScope in Java Android?","body":"<p>If I'm not mistaken <strong>Kotlin coroutines</strong> are not interoperable with <strong>Java</strong>. To use <strong>Kotlin coroutines</strong> stick to the Kotlin code, don't try to use coroutines in <strong>Java</strong>. Try to convert <strong>Java</strong> file to <strong>Kotlin</strong> file using context menu item <strong>Convert Java File to Kotlin File</strong>. Or move coroutines code to a separate <strong>Kotlin</strong> File.</p>\n"},{"tags":[],"owner":{"account_id":10251635,"reputation":290,"user_id":7565690,"display_name":"Erick"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677112635,"creation_date":1677112002,"answer_id":75539491,"question_id":73539120,"body_markdown":"Since `lifecycleScope` it&#39;s an extension function you need to call it with a different syntax from java:\r\n\r\n    LifecycleOwnerKt.getLifecycleScope(this)\r\n\r\nWhere `this` is your activity, fragment, etc.\r\n\r\nAfter that you can pass that lifecycleScope to a new kotlin class and return the result with a callback, something like this:\r\n\r\n\r\nKotlinClass.kt\r\n\r\n    class KotlinClass {\r\n        fun useCoroutineScope(\r\n            scope: LifecycleCoroutineScope,\r\n            callback: (SomeType) -&gt; Unit\r\n        ) {\r\n            scope.launchWhenCreated {\r\n                // Computation code...\r\n                callback(someValue)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n","title":"Why does I&#39;m not getting lifecycleScope in Java Android?","body":"<p>Since <code>lifecycleScope</code> it's an extension function you need to call it with a different syntax from java:</p>\n<pre><code>LifecycleOwnerKt.getLifecycleScope(this)\n</code></pre>\n<p>Where <code>this</code> is your activity, fragment, etc.</p>\n<p>After that you can pass that lifecycleScope to a new kotlin class and return the result with a callback, something like this:</p>\n<p>KotlinClass.kt</p>\n<pre><code>class KotlinClass {\n    fun useCoroutineScope(\n        scope: LifecycleCoroutineScope,\n        callback: (SomeType) -&gt; Unit\n    ) {\n        scope.launchWhenCreated {\n            // Computation code...\n            callback(someValue)\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":25663182,"reputation":73,"user_id":19428652,"display_name":"Ishika Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1899,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1677112635,"creation_date":1661847098,"question_id":73539120,"body_markdown":"Exactly this below code I want to use in my existing Java class, because write now it is not possible to convert entire class in **Kotlin**:\r\n\r\n    viewLifecycleOwner.lifecycleScope.launchWhenStarted {\r\n        viewModel.tasksEvent.collect { event -&gt;\r\n                \r\n        }\r\n    }\r\n\r\nKindly suggest the best approach. I know `AsyncTask` is deprecated. ","title":"Why does I&#39;m not getting lifecycleScope in Java Android?","body":"<p>Exactly this below code I want to use in my existing Java class, because write now it is not possible to convert entire class in <strong>Kotlin</strong>:</p>\n<pre><code>viewLifecycleOwner.lifecycleScope.launchWhenStarted {\n    viewModel.tasksEvent.collect { event -&gt;\n            \n    }\n}\n</code></pre>\n<p>Kindly suggest the best approach. I know <code>AsyncTask</code> is deprecated.</p>\n"},{"tags":["java","docker","maven","dockerfile","javadoc"],"answers":[{"tags":[],"owner":{"account_id":3155089,"reputation":170,"user_id":2667662,"display_name":"Stijn Hooft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677095482,"creation_date":1677095482,"answer_id":75537531,"question_id":75537098,"body_markdown":"Javadoc is technical documentation, generated during the build phase of your project.\r\nBy default, you&#39;ll get html files generated in the target folder.\r\n\r\nYou say your customer wants &quot;access&quot;. Do they want to access these files via a web browser? In that case you&#39;ll need to make sure that a web server serves these files. I&#39;d suggest you create another Docker container containing a static web server (like nginx) and copy the javadoc files to the right location.","title":"Genarate and read Javadoc in a Docker container","body":"<p>Javadoc is technical documentation, generated during the build phase of your project.\nBy default, you'll get html files generated in the target folder.</p>\n<p>You say your customer wants &quot;access&quot;. Do they want to access these files via a web browser? In that case you'll need to make sure that a web server serves these files. I'd suggest you create another Docker container containing a static web server (like nginx) and copy the javadoc files to the right location.</p>\n"},{"tags":[],"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677112542,"creation_date":1677112542,"answer_id":75539536,"question_id":75537098,"body_markdown":"Your end users using this Docker setup and your downstream users that could use Javadoc are probably different users.  I would not try to generate Javadoc in a Dockerfile.\r\n\r\nApproximately the only thing you can do with a built Docker image is run it.  The Dockerfile can only generate content in that image; it can&#39;t generate files on the host system, and it&#39;s not really the right point to export data to another source.  If you had the image you could\r\n\r\n```sh\r\ndocker run -d -p 8000:8000 the-image\r\n```\r\n\r\nwithout knowing that it had Java inside it, but you&#39;d have to do extra Docker-specific things to extract a jar file or Javadocs.\r\n\r\nIf someone was going to use the Javadoc output, they&#39;d need a copy of the jar file on their classpath.  You _could_ in principle extract the jar file out of an image, but a more typical path would be to publish it to somewhere like Maven Central.  I&#39;d expect a consumer of this path to be a programmer who knows what a Java class is, and isn&#39;t just trying to run a prepackaged application.  You wouldn&#39;t want to package the HTML-format developer-oriented documentation inside the opaque end-user-runnable Docker artifact.\r\n\r\nMany Java Dockerfiles just `COPY` a jar file into the image; this works well for Java in particular since the jar and class file formats are designed to be portable.  I could imagine a CI system running steps like\r\n\r\n1. Build the application jar file, without Docker\r\n2. Run the application unit tests, without Docker\r\n3. Publish the jar file, without Docker\r\n4. Generate and publish the Javadocs, without Docker\r\n5. Build the Docker image containing the jar file and push it","title":"Genarate and read Javadoc in a Docker container","body":"<p>Your end users using this Docker setup and your downstream users that could use Javadoc are probably different users.  I would not try to generate Javadoc in a Dockerfile.</p>\n<p>Approximately the only thing you can do with a built Docker image is run it.  The Dockerfile can only generate content in that image; it can't generate files on the host system, and it's not really the right point to export data to another source.  If you had the image you could</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -d -p 8000:8000 the-image\n</code></pre>\n<p>without knowing that it had Java inside it, but you'd have to do extra Docker-specific things to extract a jar file or Javadocs.</p>\n<p>If someone was going to use the Javadoc output, they'd need a copy of the jar file on their classpath.  You <em>could</em> in principle extract the jar file out of an image, but a more typical path would be to publish it to somewhere like Maven Central.  I'd expect a consumer of this path to be a programmer who knows what a Java class is, and isn't just trying to run a prepackaged application.  You wouldn't want to package the HTML-format developer-oriented documentation inside the opaque end-user-runnable Docker artifact.</p>\n<p>Many Java Dockerfiles just <code>COPY</code> a jar file into the image; this works well for Java in particular since the jar and class file formats are designed to be portable.  I could imagine a CI system running steps like</p>\n<ol>\n<li>Build the application jar file, without Docker</li>\n<li>Run the application unit tests, without Docker</li>\n<li>Publish the jar file, without Docker</li>\n<li>Generate and publish the Javadocs, without Docker</li>\n<li>Build the Docker image containing the jar file and push it</li>\n</ol>\n"}],"owner":{"display_name":"user21263059"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677112542,"creation_date":1677092541,"question_id":75537098,"body_markdown":"I have just started to generate javadoc and ultimately learn that there is a proper directory for this in the target folder and these documents can be generated via maven command. \r\n\r\nThe question about this issue is that, I am using maven pluging to generate javadoc. In this case, I am not sure if I need to generate javadoc for the production environment. So;\r\n\r\n1- As I already annotate my methods, classes for javadoc generation, do I need to generate javadoc before I need to use or customer needs to use on production phase? \r\n\r\n2- If a customer wants to generate javadoc on production phase, how should I provide javadoc or javadoc generate feature in a Docker container? I thought to run the following command on my corresponding Dockerfile, but ı am not sure if I also need to copy this any folder during Docker build? \r\n\r\n***Dockerfile:***\r\n\r\n```\r\nFROM maven:3.8.1-openjdk-17-slim AS builder\r\nUSER demo\r\nWORKDIR /app\r\n\r\nCOPY pom.xml ./\r\nCOPY src ./src\r\n\r\nRUN mvn clean install -Dmaven.test.skip=true\r\n\r\n// ---&gt; should I add this line and then copy command? \r\nRUN mvn javadoc:javadoc \r\n\r\n...\r\n```","title":"Genarate and read Javadoc in a Docker container","body":"<p>I have just started to generate javadoc and ultimately learn that there is a proper directory for this in the target folder and these documents can be generated via maven command.</p>\n<p>The question about this issue is that, I am using maven pluging to generate javadoc. In this case, I am not sure if I need to generate javadoc for the production environment. So;</p>\n<p>1- As I already annotate my methods, classes for javadoc generation, do I need to generate javadoc before I need to use or customer needs to use on production phase?</p>\n<p>2- If a customer wants to generate javadoc on production phase, how should I provide javadoc or javadoc generate feature in a Docker container? I thought to run the following command on my corresponding Dockerfile, but ı am not sure if I also need to copy this any folder during Docker build?</p>\n<p><em><strong>Dockerfile:</strong></em></p>\n<pre><code>FROM maven:3.8.1-openjdk-17-slim AS builder\nUSER demo\nWORKDIR /app\n\nCOPY pom.xml ./\nCOPY src ./src\n\nRUN mvn clean install -Dmaven.test.skip=true\n\n// ---&gt; should I add this line and then copy command? \nRUN mvn javadoc:javadoc \n\n...\n</code></pre>\n"},{"tags":["java","jwt","fusionauth","jose4j","secp256k1"],"answers":[{"tags":[],"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677110997,"creation_date":1677110513,"answer_id":75539361,"question_id":75521153,"body_markdown":"`JwtConsumerBuilder.setRelaxVerificationKeyValidation()` will set `setDoKeyValidation(false)` on the `JsonWebSignature` instance the `JwtConsumer` is using the process the JWS and verify its signature.  \r\n\r\nIn general setting `setDoKeyValidation(false)` will skip some extra type checks and minimum key length checks with RSA and HMAC. With ECDSA it&#39;s not doing a lot - just skipping this check https://bitbucket.org/b_c/jose4j/src/1ec20f8716436857a3929f60e644d4de1e40bfd9/src/main/java/org/jose4j/jws/EcdsaUsingShaAlgorithm.java#lines-243 \r\n\r\nI honestly don&#39;t know why that would cause issues with a key/token created with the fusionAuth library.\r\n\r\nBut wait, `secp256k1` is the JWS `ES256K` alg. Jose4j only really supports that as of https://bitbucket.org/b_c/jose4j/wiki/Release%20Notes 0.8.0. So something is off here... \r\n","title":"Significance of setRelaxVerificationKeyValidation() in JwtConsumerBuilder() while validating the JWT","body":"<p><code>JwtConsumerBuilder.setRelaxVerificationKeyValidation()</code> will set <code>setDoKeyValidation(false)</code> on the <code>JsonWebSignature</code> instance the <code>JwtConsumer</code> is using the process the JWS and verify its signature.</p>\n<p>In general setting <code>setDoKeyValidation(false)</code> will skip some extra type checks and minimum key length checks with RSA and HMAC. With ECDSA it's not doing a lot - just skipping this check <a href=\"https://bitbucket.org/b_c/jose4j/src/1ec20f8716436857a3929f60e644d4de1e40bfd9/src/main/java/org/jose4j/jws/EcdsaUsingShaAlgorithm.java#lines-243\" rel=\"nofollow noreferrer\">https://bitbucket.org/b_c/jose4j/src/1ec20f8716436857a3929f60e644d4de1e40bfd9/src/main/java/org/jose4j/jws/EcdsaUsingShaAlgorithm.java#lines-243</a></p>\n<p>I honestly don't know why that would cause issues with a key/token created with the fusionAuth library.</p>\n<p>But wait, <code>secp256k1</code> is the JWS <code>ES256K</code> alg. Jose4j only really supports that as of <a href=\"https://bitbucket.org/b_c/jose4j/wiki/Release%20Notes\" rel=\"nofollow noreferrer\">https://bitbucket.org/b_c/jose4j/wiki/Release%20Notes</a> 0.8.0. So something is off here...</p>\n"}],"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75539361,"answer_count":1,"score":0,"last_activity_date":1677110997,"creation_date":1676986001,"question_id":75521153,"body_markdown":"        val jwtConsumer = JwtConsumerBuilder()\r\n            .setVerificationKey(getPublicKeyFromPEMString(publicKeyAuth)) // verify the signature with the public key\r\n            .setRelaxVerificationKeyValidation() // needed if the key is smaller than 256 bits\r\n            .setJwsAlgorithmConstraints( // only allow the expected signature algorithm(s) in the given context\r\n                AlgorithmConstraints.ConstraintType.PERMIT,\r\n                AlgorithmIdentifiers.ECDSA_USING_P256_CURVE_AND_SHA256\r\n            )\r\n            .build()\r\n\r\nI am using **jose4j 0.7.9** for verification.  \r\n\r\nwhere, I created a JWT with **ES256** header and **secp256k1** curve key using fusionAuth library. So while validating the jwt with the public key in key pair. \r\n\r\nIt gets successful only when this flag (***setRelaxVerificationKeyValidation***) value is set to **false**. \r\n\r\nCan anyone please tell me, what relaxation it is doing? I tried with a wrong key to test, but it failed as expected. Please shed some light.\r\n","title":"Significance of setRelaxVerificationKeyValidation() in JwtConsumerBuilder() while validating the JWT","body":"<pre><code>    val jwtConsumer = JwtConsumerBuilder()\n        .setVerificationKey(getPublicKeyFromPEMString(publicKeyAuth)) // verify the signature with the public key\n        .setRelaxVerificationKeyValidation() // needed if the key is smaller than 256 bits\n        .setJwsAlgorithmConstraints( // only allow the expected signature algorithm(s) in the given context\n            AlgorithmConstraints.ConstraintType.PERMIT,\n            AlgorithmIdentifiers.ECDSA_USING_P256_CURVE_AND_SHA256\n        )\n        .build()\n</code></pre>\n<p>I am using <strong>jose4j 0.7.9</strong> for verification.</p>\n<p>where, I created a JWT with <strong>ES256</strong> header and <strong>secp256k1</strong> curve key using fusionAuth library. So while validating the jwt with the public key in key pair.</p>\n<p>It gets successful only when this flag (<em><strong>setRelaxVerificationKeyValidation</strong></em>) value is set to <strong>false</strong>.</p>\n<p>Can anyone please tell me, what relaxation it is doing? I tried with a wrong key to test, but it failed as expected. Please shed some light.</p>\n"},{"tags":["java","jackson","fasterxml"],"owner":{"account_id":17849708,"reputation":78,"user_id":12965702,"display_name":"Joo Hyuk Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677110804,"creation_date":1677110804,"question_id":75539381,"body_markdown":"I&#39;d like to keep implemenetations functionalities non-intrusive. Having said that, `getters` for private fields just to allow objectMapper to ser/deserialize objects bothered me quite a long time. So I started using `ObjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);`\r\n\r\n\r\n\r\nCan anyone with objectMapping experience give me warnings on configuring `ObjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);`?\r\n","title":"Jackson ObjectMapper setVisibility Warnings, Pros and Cons?","body":"<p>I'd like to keep implemenetations functionalities non-intrusive. Having said that, <code>getters</code> for private fields just to allow objectMapper to ser/deserialize objects bothered me quite a long time. So I started using <code>ObjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);</code></p>\n<p>Can anyone with objectMapping experience give me warnings on configuring <code>ObjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);</code>?</p>\n"},{"tags":["java","junit4"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1677110966,"post_id":75539315,"comment_id":133275572,"body_markdown":"What your unit test looks like?","body":"What your unit test looks like?"},{"owner":{"account_id":17688577,"reputation":1,"user_id":12840936,"display_name":"sbadl"},"score":0,"creation_date":1677114864,"post_id":75539315,"comment_id":133276170,"body_markdown":"@HarryCoder Test\n    public void testMinInt() {\n        ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\n        list.add(a);\n        list.add(b);\n        list.add(c);\n        assertEquals(expected, Min.min(list));\n    } //This test finds the min of each test set but will not take in list for Min.min","body":"@HarryCoder Test     public void testMinInt() {         ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();         list.add(a);         list.add(b);         list.add(c);         assertEquals(expected, Min.min(list));     } //This test finds the min of each test set but will not take in list for Min.min"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677115059,"post_id":75539315,"comment_id":133276192,"body_markdown":"Please put the test code into the question (formatted as a code block) rather than a comment, where it is difficult to read.","body":"Please put the test code into the question (formatted as a code block) rather than a comment, where it is difficult to read."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677115153,"post_id":75539315,"comment_id":133276202,"body_markdown":"And also please include the code being tested (the `Min.min` implementation).","body":"And also please include the code being tested (the <code>Min.min</code> implementation)."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1677118439,"post_id":75539315,"comment_id":133276600,"body_markdown":"@sbadl update your code.","body":"@sbadl update your code."}],"owner":{"account_id":17688577,"reputation":1,"user_id":12840936,"display_name":"sbadl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677110574,"creation_date":1677109984,"question_id":75539315,"body_markdown":"I am writing a test in junit 4 to test multiple data types. How would I get the data driven test to run as int, double, and String when testing the method when the method cannot take an Object type in. \r\n\r\n```\r\nObject[][] data = {\r\n            {1, 2, 3, 1},\r\n            {3, 1, 2, 1},\r\n            {0, 0, 0, 0},\r\n            {1.0, 2.0, 3.0, 1.0},\r\n            {-1.0, -2.0, -3.0, -3.0},\r\n            {0.0, 0.0, 0.0, 0.0},\r\n            {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;},\r\n            {&quot;hi&quot;, &quot;bye&quot;, &quot;hello&quot;},\r\n            {&quot;boy&quot;, &quot;girl&quot;, &quot;child&quot;}\r\n        };\r\n```\r\n\r\n\r\nI tried creating the data driven tests seperately, but that does not work as there is only one a, b, c variable. After this I tried creating serparate variables but that requires more than one constructor which is not possible. ","title":"In junit4 is there a way to create a data driven test with multiple types like int, double, and string?","body":"<p>I am writing a test in junit 4 to test multiple data types. How would I get the data driven test to run as int, double, and String when testing the method when the method cannot take an Object type in.</p>\n<pre><code>Object[][] data = {\n            {1, 2, 3, 1},\n            {3, 1, 2, 1},\n            {0, 0, 0, 0},\n            {1.0, 2.0, 3.0, 1.0},\n            {-1.0, -2.0, -3.0, -3.0},\n            {0.0, 0.0, 0.0, 0.0},\n            {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;},\n            {&quot;hi&quot;, &quot;bye&quot;, &quot;hello&quot;},\n            {&quot;boy&quot;, &quot;girl&quot;, &quot;child&quot;}\n        };\n</code></pre>\n<p>I tried creating the data driven tests seperately, but that does not work as there is only one a, b, c variable. After this I tried creating serparate variables but that requires more than one constructor which is not possible.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1677110176,"post_id":75539274,"comment_id":133275460,"body_markdown":"I would move the network code into another component and mock this in your test. I know you&#39;ve said that you aren&#39;t allowed to change the code, but refactoring for testability is a necessary part of writing unit tests. Whoever has asked you to write the tests needs to understand that.","body":"I would move the network code into another component and mock this in your test. I know you&#39;ve said that you aren&#39;t allowed to change the code, but refactoring for testability is a necessary part of writing unit tests. Whoever has asked you to write the tests needs to understand that."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1677144328,"post_id":75539274,"comment_id":133280930,"body_markdown":"As tgdavies suggested, extracting network communication is the preferred option. Subclassing and overriding `getDomainFromIp` is an option if you really cannot change the code under test - it is not elegant, but gets the job done.","body":"As tgdavies suggested, extracting network communication is the preferred option. Subclassing and overriding <code>getDomainFromIp</code> is an option if you really cannot change the code under test - it is not elegant, but gets the job done."}],"owner":{"account_id":27855461,"reputation":1,"user_id":21269052,"display_name":"candelphi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677109563,"creation_date":1677109563,"question_id":75539274,"body_markdown":"I have a class that takes some objects as parameters. I can create real dependency objects and create a real Object Under Test. I have one method that is package-protected that makes a network call. I want to stub only this one in Mockito. Caveat: The network-called method is called internally from another method, therefore a regular Mockito spy will not work.\r\nExample:\r\n\r\n\r\n```\r\npublic class AddressSearcher {\r\n    private final AddressSearcherSettings settings;\r\n    private final AddressList addressList;\r\n    private final OtherDependency otherDependency;\r\n\r\n    public AddressSearcher(\r\n        final AddressSearcherSettings settings,\r\n        final AddressList addressList,\r\n        final OtherDependency otherDependency\r\n    ) {\r\n        this.settings = settings;\r\n        this.addressList = addressList;\r\n        this.otherDependency = otherDependency;\r\n    }\r\n\r\n    public Domain checkAddress(String address) {\r\n        if (addressList.contains(address)) {\r\n            return addressList.get(address)\r\n        }\r\n\r\n        if (this.getDomainFromIp().isNotEmpty()) {\r\n            return this.getDomainFromIp();\r\n        }\r\n\r\n        return EmptyDomain();\r\n\r\n    }\r\n\r\n    Domain getDomainFromIp(String address) {\r\n        // do network call to search from domain from ip Address\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nAs mentioned in the intro, I&#39;ve tried mocks and spies. I wasted a lot of time with spies, because I did not know that when called internally, the spy calls the real method.\r\n\r\n```\r\n@Test\r\npublic void checkAddressTest() {\r\n    ...\r\n    AddressSearcher realAddressSearcher = new AddressSearcher(realSettings, realAddressList, realOtherDependency);\r\n    AddressSearcher spiedAddressSearcher = Mockito.spy(realAddressSearcher);\r\n\r\n// works as expected\r\n    Mockito.doReturn(new Domain(&quot;Google&quot;)).when(this.spiedAddressSearcher).getDomainFromIp(&quot;8.8.8.8&quot;);\r\n    assertEqual(new Domain(&quot;Google&quot;), this.spiedAddressSearcher.getDomainFromIp(&quot;8.8.8.8&quot;))\r\n\r\n// Using checkAddress, which internally calls getDomainFromIp\r\n    assertEqual(new Domain(&quot;Google&quot;), this.spiedAddressSearcher.checkAddress(&quot;8.8.8.8&quot;))\r\n// FALSE, expected GoogleDomain, got EmptyDomain\r\n}\r\n```\r\n\r\nI just want to stub this single network call with Mockito. \r\nI am able to in Jmockit very easily. \r\nI am not able to change the code and make the network call an injectable dependency (which could in turn be mocked more easily)","title":"Stub a single package-protected method for purposes of testing","body":"<p>I have a class that takes some objects as parameters. I can create real dependency objects and create a real Object Under Test. I have one method that is package-protected that makes a network call. I want to stub only this one in Mockito. Caveat: The network-called method is called internally from another method, therefore a regular Mockito spy will not work.\nExample:</p>\n<pre><code>public class AddressSearcher {\n    private final AddressSearcherSettings settings;\n    private final AddressList addressList;\n    private final OtherDependency otherDependency;\n\n    public AddressSearcher(\n        final AddressSearcherSettings settings,\n        final AddressList addressList,\n        final OtherDependency otherDependency\n    ) {\n        this.settings = settings;\n        this.addressList = addressList;\n        this.otherDependency = otherDependency;\n    }\n\n    public Domain checkAddress(String address) {\n        if (addressList.contains(address)) {\n            return addressList.get(address)\n        }\n\n        if (this.getDomainFromIp().isNotEmpty()) {\n            return this.getDomainFromIp();\n        }\n\n        return EmptyDomain();\n\n    }\n\n    Domain getDomainFromIp(String address) {\n        // do network call to search from domain from ip Address\n    }\n\n}\n</code></pre>\n<p>As mentioned in the intro, I've tried mocks and spies. I wasted a lot of time with spies, because I did not know that when called internally, the spy calls the real method.</p>\n<pre><code>@Test\npublic void checkAddressTest() {\n    ...\n    AddressSearcher realAddressSearcher = new AddressSearcher(realSettings, realAddressList, realOtherDependency);\n    AddressSearcher spiedAddressSearcher = Mockito.spy(realAddressSearcher);\n\n// works as expected\n    Mockito.doReturn(new Domain(&quot;Google&quot;)).when(this.spiedAddressSearcher).getDomainFromIp(&quot;8.8.8.8&quot;);\n    assertEqual(new Domain(&quot;Google&quot;), this.spiedAddressSearcher.getDomainFromIp(&quot;8.8.8.8&quot;))\n\n// Using checkAddress, which internally calls getDomainFromIp\n    assertEqual(new Domain(&quot;Google&quot;), this.spiedAddressSearcher.checkAddress(&quot;8.8.8.8&quot;))\n// FALSE, expected GoogleDomain, got EmptyDomain\n}\n</code></pre>\n<p>I just want to stub this single network call with Mockito.\nI am able to in Jmockit very easily.\nI am not able to change the code and make the network call an injectable dependency (which could in turn be mocked more easily)</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1677109553,"post_id":75539231,"comment_id":133275337,"body_markdown":"Most compiled languages will give you a compilation error if you write code that doesn&#39;t conform to the syntax rules of the language.  Java is no exception.","body":"Most compiled languages will give you a compilation error if you write code that doesn&#39;t conform to the syntax rules of the language.  Java is no exception."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1677109714,"post_id":75539231,"comment_id":133275361,"body_markdown":"It&#39;s worth noting that those brackets are superfluous noise, so even if this were allowed, I&#39;d consider it a fault of style anyway.","body":"It&#39;s worth noting that those brackets are superfluous noise, so even if this were allowed, I&#39;d consider it a fault of style anyway."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1677110003,"post_id":75539231,"comment_id":133275425,"body_markdown":"@DawoodibnKareem the question is why Java&#39;s syntax rules don&#39;t consider `(ZERO_Init)` to be a &quot;constant expression&quot;.","body":"@DawoodibnKareem the question is why Java&#39;s syntax rules don&#39;t consider <code>(ZERO_Init)</code> to be a &quot;constant expression&quot;."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677110902,"post_id":75539231,"comment_id":133275565,"body_markdown":"@KarlKnechtel I just learned that &quot;constant expression&quot; does not constitute the full set of things that are compile-time constant, which is perhaps unintuitive. `(ZERO_Init)` is compile-time constant, just like `ZERO_Init` is. Take for example [the spec for annotations](https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.7.1). Everything in an annotation must be compile-time constant by definition. There is no possibility for them to be computed at runtime. Still, the spec has 3 bullet points listing what&#39;s valid, and so-called &quot;constant expressions&quot; are only one of them.","body":"@KarlKnechtel I just learned that &quot;constant expression&quot; does not constitute the full set of things that are compile-time constant, which is perhaps unintuitive. <code>(ZERO_Init)</code> is compile-time constant, just like <code>ZERO_Init</code> is. Take for example <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.7.1\" rel=\"nofollow noreferrer\">the spec for annotations</a>. Everything in an annotation must be compile-time constant by definition. There is no possibility for them to be computed at runtime. Still, the spec has 3 bullet points listing what&#39;s valid, and so-called &quot;constant expressions&quot; are only one of them."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677113317,"post_id":75539231,"comment_id":133275945,"body_markdown":"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6356542","body":"<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6356542\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=6356542</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677115707,"post_id":75539231,"comment_id":133276270,"body_markdown":"I get that, @KarlKnechtel, but that&#39;s really a question for the designers of Java - those good people who formulated these rules.  I&#39;m not sure whether the Stack Overflow community as a whole is qualified to answer WHY the rules of Java syntax are what they are.","body":"I get that, @KarlKnechtel, but that&#39;s really a question for the designers of Java - those good people who formulated these rules.  I&#39;m not sure whether the Stack Overflow community as a whole is qualified to answer WHY the rules of Java syntax are what they are."},{"owner":{"account_id":27072074,"reputation":21,"user_id":20622587,"display_name":"asterishk"},"score":0,"creation_date":1677116185,"post_id":75539231,"comment_id":133276333,"body_markdown":"I now understand that I seem to have asked a question that questions Java&#39;s syntax rules&#39; design. Me in the past was confused of whether brackets meant something more when it comes to enum. I am more than happy to accept the answer that it is simply a design choice for the syntax, and it is how it is specified (rather than asking for further explanation why it is designed as it is).","body":"I now understand that I seem to have asked a question that questions Java&#39;s syntax rules&#39; design. Me in the past was confused of whether brackets meant something more when it comes to enum. I am more than happy to accept the answer that it is simply a design choice for the syntax, and it is how it is specified (rather than asking for further explanation why it is designed as it is)."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1677109450,"creation_date":1677109450,"answer_id":75539262,"question_id":75539231,"body_markdown":"Simply because Java is specified this way. If you&#39;re switching on an `enum` then every case label must be exactly a enum constant (and not a parenthetical expression *containing* a case constant): [&#167; 14.11.1 Switch blocks of the JLS][1] states:\r\n\r\n&gt; If T is an enum type, then every case constant associated with the switch block is an enum constant of type T.\r\n\r\nNote that technically only expressions that denote a primitive or `String` value could be considered constant expressions. See [&#167; 15.29 Constant Expressions][2]:\r\n\r\n&gt; A constant expression is an expression denoting a value of primitive type or a `String` [..]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29","title":"When switching on enum, why does the code not work when I put round brackets () around the switch case but works otherwise?","body":"<p>Simply because Java is specified this way. If you're switching on an <code>enum</code> then every case label must be exactly a enum constant (and not a parenthetical expression <em>containing</em> a case constant): <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\" rel=\"noreferrer\">§ 14.11.1 Switch blocks of the JLS</a> states:</p>\n<blockquote>\n<p>If T is an enum type, then every case constant associated with the switch block is an enum constant of type T.</p>\n</blockquote>\n<p>Note that technically only expressions that denote a primitive or <code>String</code> value could be considered constant expressions. See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"noreferrer\">§ 15.29 Constant Expressions</a>:</p>\n<blockquote>\n<p>A constant expression is an expression denoting a value of primitive type or a <code>String</code> [..]</p>\n</blockquote>\n"}],"owner":{"account_id":27072074,"reputation":21,"user_id":20622587,"display_name":"asterishk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75539262,"answer_count":1,"score":1,"last_activity_date":1677109450,"creation_date":1677109107,"question_id":75539231,"body_markdown":"I have an enum, States, on which I am trying to do a switch statement on. I understand that it needs the unqualified name of enum constant, so I put `ZERO_Init` instead of `States.ZERO_Init` in the switch case. The code below works fine when ZERO_Init is not surrounded by () brackets, but complains about &quot;Constant expression needed&quot; if I put () around ZERO_Init. Why is this the case?\r\n\r\nBelow please find my code.\r\n\r\n```\r\nenum States{\r\n   ZERO_Init,\r\n   ...\r\n}\r\n\r\n//current_state of type States is defined elsewhere\r\n```\r\nThis version works,\r\n```\r\nswitch (current_state){\r\n   case ZERO_Init:{\r\n      //do something\r\n      break;\r\n   }\r\n   default:{\r\n      //do something else\r\n      break;\r\n   }\r\n}\r\n```\r\nWhereas this does not,\r\n```\r\nswitch (current_state){\r\n   case (ZERO_Init):{ //ERROR: CONSTANT EXPRESSION NEEDED\r\n      //do something\r\n      break;\r\n   }\r\n   default:{\r\n      //do something else\r\n      break;\r\n   }\r\n}\r\n\r\n```\r\n\r\nMany thanks.","title":"When switching on enum, why does the code not work when I put round brackets () around the switch case but works otherwise?","body":"<p>I have an enum, States, on which I am trying to do a switch statement on. I understand that it needs the unqualified name of enum constant, so I put <code>ZERO_Init</code> instead of <code>States.ZERO_Init</code> in the switch case. The code below works fine when ZERO_Init is not surrounded by () brackets, but complains about &quot;Constant expression needed&quot; if I put () around ZERO_Init. Why is this the case?</p>\n<p>Below please find my code.</p>\n<pre><code>enum States{\n   ZERO_Init,\n   ...\n}\n\n//current_state of type States is defined elsewhere\n</code></pre>\n<p>This version works,</p>\n<pre><code>switch (current_state){\n   case ZERO_Init:{\n      //do something\n      break;\n   }\n   default:{\n      //do something else\n      break;\n   }\n}\n</code></pre>\n<p>Whereas this does not,</p>\n<pre><code>switch (current_state){\n   case (ZERO_Init):{ //ERROR: CONSTANT EXPRESSION NEEDED\n      //do something\n      break;\n   }\n   default:{\n      //do something else\n      break;\n   }\n}\n\n</code></pre>\n<p>Many thanks.</p>\n"},{"tags":["java","mysql","excel","date"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1677103144,"post_id":75538527,"comment_id":133274130,"body_markdown":"The Excel format appears to be `dd-MMM-yyyy`, but you may have issues with the fact that the month is in lower case.  You should also be making use of `LocalDate` and the associated `java.time.*` APIs over the `java.util.*` based date/time APIs","body":"The Excel format appears to be <code>dd-MMM-yyyy</code>, but you may have issues with the fact that the month is in lower case.  You should also be making use of <code>LocalDate</code> and the associated <code>java.time.*</code> APIs over the <code>java.util.*</code> based date/time APIs"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677131582,"post_id":75538527,"comment_id":133278189,"body_markdown":"I strongly recommend that you don’t use `SimpleDateFormat` and `Date`. Those classes were troublesome and are fortunately long outdated. Can’t you simply use [`XSSFCell.getLocalDateTimeCellValue()`](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCell.html#getLocalDateTimeCellValue--)?","body":"I strongly recommend that you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes were troublesome and are fortunately long outdated. Can’t you simply use <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCell.html#getLocalDateTimeCellValue--\" rel=\"nofollow noreferrer\"><code>XSSFCell.getLocalDateTimeCellValue()</code></a>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677162535,"post_id":75538527,"comment_id":133286441,"body_markdown":"I suggest that this is partially a duplicate of [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2). For converting the `LocalDateTime` from the cell to a `LocalDate` (without time of day), simply use `ecolumn.getLocalDateTime().toLocalDate()`.","body":"I suggest that this is partially a duplicate of <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>. For converting the <code>LocalDateTime</code> from the cell to a <code>LocalDate</code> (without time of day), simply use <code>ecolumn.getLocalDateTime().toLocalDate()</code>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677104874,"creation_date":1677104874,"answer_id":75538771,"question_id":75538527,"body_markdown":"Start by making use of the `java.time.*` APIs over the, out-of-date, effectively deprecated, `java.util.*` date/time APIs.\r\n\r\nNext, the Excel format seems to be in `dd-MMM-yyy` not, `MM/yyyy`.  You may also have issues because the month is in lower case, lucky, there&#39;s a relatively easy way to get around this...\r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .parseCaseInsensitive()\r\n            .appendPattern(&quot;dd-MMM-yyyy&quot;)\r\n            .toFormatter();\r\n    LocalDate ld = LocalDate.parse(&quot;12-dec-2020&quot;, formatter);\r\n\r\nInserting the value into MySQL shouldn&#39;t be complicated, but will depend on the column data type.  If you&#39;re using `Date` (as the column type - no I&#39;m not a MySQL expert), then you can use something like `java.sql.Date.valueOf(ld);` to get a SQL `Date` which you could use as part of a `PreparedStatement`.\r\n\r\nAs stated [here](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2), *&quot;JDBC 4.2 compliant drivers can deal directly with `java.time` objects&quot;*, so even better, just bind the `ld` object to the `PreparedStatement`!\r\n\r\nIf the column is `text`, then you&#39;re doing it wrong.","title":"How to insert a date (12-dec-2020) from excel to mysql","body":"<p>Start by making use of the <code>java.time.*</code> APIs over the, out-of-date, effectively deprecated, <code>java.util.*</code> date/time APIs.</p>\n<p>Next, the Excel format seems to be in <code>dd-MMM-yyy</code> not, <code>MM/yyyy</code>.  You may also have issues because the month is in lower case, lucky, there's a relatively easy way to get around this...</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .parseCaseInsensitive()\n        .appendPattern(&quot;dd-MMM-yyyy&quot;)\n        .toFormatter();\nLocalDate ld = LocalDate.parse(&quot;12-dec-2020&quot;, formatter);\n</code></pre>\n<p>Inserting the value into MySQL shouldn't be complicated, but will depend on the column data type.  If you're using <code>Date</code> (as the column type - no I'm not a MySQL expert), then you can use something like <code>java.sql.Date.valueOf(ld);</code> to get a SQL <code>Date</code> which you could use as part of a <code>PreparedStatement</code>.</p>\n<p>As stated <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">here</a>, <em>&quot;JDBC 4.2 compliant drivers can deal directly with <code>java.time</code> objects&quot;</em>, so even better, just bind the <code>ld</code> object to the <code>PreparedStatement</code>!</p>\n<p>If the column is <code>text</code>, then you're doing it wrong.</p>\n"}],"owner":{"account_id":24235045,"reputation":17,"user_id":18188300,"display_name":"Yasmine El"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75538771,"answer_count":1,"score":0,"last_activity_date":1677108517,"creation_date":1677102858,"question_id":75538527,"body_markdown":"i got the data from in excel file and pet it into an array string, the date is in the format (12/12/2020) whine i print it withe the method toString() i get (12-dec-2020), and when i tried simpledateformat codes that i found i get the errors &quot;unparseable date java&quot; or &quot;SimpleDateFormat Cannot format given Object as a Date&quot; or &quot;The import java.text.SimpleDateFormat cannot be resolved&quot;can anyone help me please?\r\nmy code:\r\n```\r\nfor (int row =0;row&lt;sheet.getLastRowNum()+1;row ++) {\r\nXSSFRow erow = sheet.getRow(row);\r\nfor(int column =0;column&lt;sheet.getRow(0).getLastCellNum();column++) {\r\nXSSFCell ecolumn = erow.getCell(column);\r\nexdata[row][column]= String.valueOf(ecolumn);\r\n    }\r\n} \r\nString stringDate = new SimpleDateFormat(&quot;MM/yyyy&quot;).format(exdata[1][5].toString());\r\nDate date = (Date) new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(stringDate);\r\nSystem.out.println(String.valueOf(date));\r\n```","title":"How to insert a date (12-dec-2020) from excel to mysql","body":"<p>i got the data from in excel file and pet it into an array string, the date is in the format (12/12/2020) whine i print it withe the method toString() i get (12-dec-2020), and when i tried simpledateformat codes that i found i get the errors &quot;unparseable date java&quot; or &quot;SimpleDateFormat Cannot format given Object as a Date&quot; or &quot;The import java.text.SimpleDateFormat cannot be resolved&quot;can anyone help me please?\nmy code:</p>\n<pre><code>for (int row =0;row&lt;sheet.getLastRowNum()+1;row ++) {\nXSSFRow erow = sheet.getRow(row);\nfor(int column =0;column&lt;sheet.getRow(0).getLastCellNum();column++) {\nXSSFCell ecolumn = erow.getCell(column);\nexdata[row][column]= String.valueOf(ecolumn);\n    }\n} \nString stringDate = new SimpleDateFormat(&quot;MM/yyyy&quot;).format(exdata[1][5].toString());\nDate date = (Date) new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(stringDate);\nSystem.out.println(String.valueOf(date));\n</code></pre>\n"},{"tags":["java","asynchronous","microservices","circuit-breaker"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1625770150,"post_id":68307199,"comment_id":120722921,"body_markdown":"how your solution will help with `We need to process events faster.`? maybe you need to look into service b performance/scaling?","body":"how your solution will help with <code>We need to process events faster.</code>? maybe you need to look into service b performance/scaling?"},{"owner":{"account_id":16671769,"reputation":439,"user_id":12048999,"display_name":"Julio"},"score":0,"creation_date":1625770370,"post_id":68307199,"comment_id":120722988,"body_markdown":"We have some monitors in the services and queue and we see messages spend most of the time in queue. When we increase instances in queue everything works better","body":"We have some monitors in the services and queue and we see messages spend most of the time in queue. When we increase instances in queue everything works better"},{"owner":{"account_id":16671769,"reputation":439,"user_id":12048999,"display_name":"Julio"},"score":0,"creation_date":1625770411,"post_id":68307199,"comment_id":120723000,"body_markdown":"So that means service B process everything fast as no need to add more instances in B once we increase instances in the queue","body":"So that means service B process everything fast as no need to add more instances in B once we increase instances in the queue"},{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1625808387,"post_id":68307199,"comment_id":120730929,"body_markdown":"you can use consumergroups for scaling and consuming messages.Link::https://activemq.apache.org/message-groups","body":"you can use consumergroups for scaling and consuming messages.Link::<a href=\"https://activemq.apache.org/message-groups\" rel=\"nofollow noreferrer\">activemq.apache.org/message-groups</a>"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1625849802,"post_id":68307199,"comment_id":120745820,"body_markdown":"Asking for &quot;some other approach which could be better&quot; is going to generate discussion and opinion-based answers rather than fact-based answers. This is off-topic here on Stack Overflow. Furthermore, you asking multiple questions here which is also off-topic.","body":"Asking for &quot;some other approach which could be better&quot; is going to generate discussion and opinion-based answers rather than fact-based answers. This is off-topic here on Stack Overflow. Furthermore, you asking multiple questions here which is also off-topic."}],"answers":[{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625770445,"creation_date":1625770445,"answer_id":68307290,"question_id":68307199,"body_markdown":"for question\r\n1) yes, it is possible, I am assuming you are using spring boot as you have mentioned java in tags, so there is a mechanism called RetryTemplate that you can use for async calls as well, you can find more details here -&gt; https://www.openprogrammer.info/2019/09/03/using-spring-boot-async-with-retry/\r\n\r\n2) There are better approaches I would say, what did you implement when you say queue here? like is it a LIFO or something like AWS SQS? if that is the case then you can try and look for topic-based queue mechanisms like apache kafka","title":"Microservices async communication circuit breaker","body":"<p>for question</p>\n<ol>\n<li><p>yes, it is possible, I am assuming you are using spring boot as you have mentioned java in tags, so there is a mechanism called RetryTemplate that you can use for async calls as well, you can find more details here -&gt; <a href=\"https://www.openprogrammer.info/2019/09/03/using-spring-boot-async-with-retry/\" rel=\"nofollow noreferrer\">https://www.openprogrammer.info/2019/09/03/using-spring-boot-async-with-retry/</a></p>\n</li>\n<li><p>There are better approaches I would say, what did you implement when you say queue here? like is it a LIFO or something like AWS SQS? if that is the case then you can try and look for topic-based queue mechanisms like apache kafka</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3314736,"reputation":3800,"user_id":2787364,"accept_rate":75,"display_name":"Cosmin Ioniță"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625844919,"creation_date":1625844919,"answer_id":68319360,"question_id":68307199,"body_markdown":"If the bottleneck is in the queue, I don&#39;t think you should just remove it. You can just try to use a SQS or other cloud-based queue, which doesn&#39;t have that problem.\r\n\r\nWhat happens if service A calls service B directly, and service B is down? The request will be lost. With a queue, the message will remain there until service B recovers.\r\n\r\nCircuit breakers are used to avoid overwhelming a failed service with requests (in order to allow it to recover). So when it kicks in, there is a clear data loss there.","title":"Microservices async communication circuit breaker","body":"<p>If the bottleneck is in the queue, I don't think you should just remove it. You can just try to use a SQS or other cloud-based queue, which doesn't have that problem.</p>\n<p>What happens if service A calls service B directly, and service B is down? The request will be lost. With a queue, the message will remain there until service B recovers.</p>\n<p>Circuit breakers are used to avoid overwhelming a failed service with requests (in order to allow it to recover). So when it kicks in, there is a clear data loss there.</p>\n"},{"tags":[],"owner":{"account_id":4099639,"reputation":81,"user_id":3365520,"display_name":"RandomGuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677107702,"creation_date":1677107702,"answer_id":75539103,"question_id":68307199,"body_markdown":"Late to the party . But in this case I am not sure what you are trying to solve .\r\n\r\n* Are these requests time sensitive ? \r\n* Do these queues have hard limits that you are reaching\r\n* Is the queue size growing for all the instances?\r\n* How is the Service B consuming from the queue are there dedicated instances per queue or they all poll at random ?\r\n\r\nBased on this \r\n* Scale up B\r\n* Shard queues to hosts to avoid noisy neighbor problem\r\n\r\nAnti patterns\r\n* Asking producer to slow down is just passing your problem to them, They need to figure out a solution now. :) \r\n* Since this is Async unless you really are reaching queue limits or have reliability with queue instances you should be okay. \r\n\r\n","title":"Microservices async communication circuit breaker","body":"<p>Late to the party . But in this case I am not sure what you are trying to solve .</p>\n<ul>\n<li>Are these requests time sensitive ?</li>\n<li>Do these queues have hard limits that you are reaching</li>\n<li>Is the queue size growing for all the instances?</li>\n<li>How is the Service B consuming from the queue are there dedicated instances per queue or they all poll at random ?</li>\n</ul>\n<p>Based on this</p>\n<ul>\n<li>Scale up B</li>\n<li>Shard queues to hosts to avoid noisy neighbor problem</li>\n</ul>\n<p>Anti patterns</p>\n<ul>\n<li>Asking producer to slow down is just passing your problem to them, They need to figure out a solution now. :)</li>\n<li>Since this is Async unless you really are reaching queue limits or have reliability with queue instances you should be okay.</li>\n</ul>\n"}],"owner":{"account_id":16671769,"reputation":439,"user_id":12048999,"display_name":"Julio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1677107702,"creation_date":1625770010,"question_id":68307199,"body_markdown":"I have 2 services running with spring boot and I have the following situation:\r\n\r\nService A (N instances) -&gt; Queue (multiple instances) -&gt; Service B (N instances)\r\n\r\n- Service A enqueue events async \r\n- Service B dequeue events\r\n\r\nTraffic is increasing and we&#39;ve noticed that events spend a lot of time in queue. We need to process events faster. Payload for each event is small and this solution has been working for some years now and a couple of years ago they thought that having a queue was a good idea but now I&#39;m having this performance issue. \r\n\r\n\r\n- I thinking about creating an endpoint in service B and hit this endpoint from service A.\r\n\r\nThis call should be async and also implement a circuit breaker to avoid lossing messages if B goes down. If B goes down I could use the queue to keep messages and once B is running and up again pull messages from queue.\r\n\r\nI have 2 questions:\r\n\r\n- Is it possible to implement circuit breaker or a failover mechanism for an async call?\r\n\r\n- do you think there is some other approach which could be better?\r\n\r\nThanks\r\n\r\n","title":"Microservices async communication circuit breaker","body":"<p>I have 2 services running with spring boot and I have the following situation:</p>\n<p>Service A (N instances) -&gt; Queue (multiple instances) -&gt; Service B (N instances)</p>\n<ul>\n<li>Service A enqueue events async</li>\n<li>Service B dequeue events</li>\n</ul>\n<p>Traffic is increasing and we've noticed that events spend a lot of time in queue. We need to process events faster. Payload for each event is small and this solution has been working for some years now and a couple of years ago they thought that having a queue was a good idea but now I'm having this performance issue.</p>\n<ul>\n<li>I thinking about creating an endpoint in service B and hit this endpoint from service A.</li>\n</ul>\n<p>This call should be async and also implement a circuit breaker to avoid lossing messages if B goes down. If B goes down I could use the queue to keep messages and once B is running and up again pull messages from queue.</p>\n<p>I have 2 questions:</p>\n<ul>\n<li><p>Is it possible to implement circuit breaker or a failover mechanism for an async call?</p>\n</li>\n<li><p>do you think there is some other approach which could be better?</p>\n</li>\n</ul>\n<p>Thanks</p>\n"},{"tags":["java","jar","gstreamer","rtp"],"comments":[{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":1,"creation_date":1677804804,"post_id":75533618,"comment_id":133414893,"body_markdown":"You could always write your own &quot;pipelines&quot; to do that, shouldnt take a lot of effort considering your current goal","body":"You could always write your own &quot;pipelines&quot; to do that, shouldnt take a lot of effort considering your current goal"}],"answers":[{"tags":[],"owner":{"account_id":27805965,"reputation":16,"user_id":21229367,"display_name":"Jafet Chaves"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677107083,"creation_date":1677106615,"answer_id":75538986,"question_id":75533618,"body_markdown":"There is a GStreamer elements that already handles that use case  easily by reading sequentially named files, you can try to use `multifilesrc`.","title":"Changing pipeline location file path","body":"<p>There is a GStreamer elements that already handles that use case  easily by reading sequentially named files, you can try to use <code>multifilesrc</code>.</p>\n"}],"owner":{"account_id":25839069,"reputation":21,"user_id":19574955,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677107083,"creation_date":1677073695,"question_id":75533618,"body_markdown":"Is it possible to change a pipeline location file path after it finished running first location .wav file?\r\nI&#39;ve tried the following but it didn&#39;t worked:\r\n\r\n        Element source = ElementFactory.make(&quot;filesrc&quot;,&quot;src&quot;);\r\n        pipeline.link(source);\r\n        source.set(&quot;location&quot;, newPath);\r\n\r\nThe main goal is to use the same pipeline during the code process - I&#39;ve seen some strange behavior of gstreamer when creating too many pipelines or buses... ","title":"Changing pipeline location file path","body":"<p>Is it possible to change a pipeline location file path after it finished running first location .wav file?\nI've tried the following but it didn't worked:</p>\n<pre><code>    Element source = ElementFactory.make(&quot;filesrc&quot;,&quot;src&quot;);\n    pipeline.link(source);\n    source.set(&quot;location&quot;, newPath);\n</code></pre>\n<p>The main goal is to use the same pipeline during the code process - I've seen some strange behavior of gstreamer when creating too many pipelines or buses...</p>\n"},{"tags":["java","android","directory"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677041505,"post_id":75527761,"comment_id":133257174,"body_markdown":"If it didn&#39;t work, there must be an error output dump, please show.","body":"If it didn&#39;t work, there must be an error output dump, please show."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677047993,"post_id":75527761,"comment_id":133258099,"body_markdown":"Add: `if(!new File(archivo).canRead()) return;` before you try to read.","body":"Add: <code>if(!new File(archivo).canRead()) return;</code> before you try to read."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677048141,"post_id":75527761,"comment_id":133258123,"body_markdown":"But you should check if the file exists and if you can read the file instead of the directory.","body":"But you should check if the file exists and if you can read the file instead of the directory."},{"owner":{"account_id":27846870,"reputation":1,"user_id":21262147,"display_name":"Vicio028"},"score":0,"creation_date":1677163296,"post_id":75527761,"comment_id":133286740,"body_markdown":"blackapps I already put what you told me and now I can&#39;t read the file. Any suggestions as to why this happens?","body":"blackapps I already put what you told me and now I can&#39;t read the file. Any suggestions as to why this happens?"}],"owner":{"account_id":27846870,"reputation":1,"user_id":21262147,"display_name":"Vicio028"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677106483,"creation_date":1677033525,"question_id":75527761,"body_markdown":"I have this error, what I am trying to do is read a .csv file so that I can retrieve its data and enter it into a local database.\r\n\r\nThis is my code:\r\n\r\nIn my android Manifest, I have these permissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nIn my class I have the following code:\r\n\r\n    public void importarCSV() {\r\n\r\n        File carpeta = new File(Environment.getExternalStorageDirectory() + &quot;/BaseDeDatosAlumnos&quot;);\r\n        String archivo = carpeta + &quot;/&quot; + &quot;prueba.csv&quot;;\r\n\r\n\r\n        if (!carpeta.exists()) {\r\n            Toast.makeText(ActividadPrincipalAdmin.this, &quot;NO EXISTE LA CARPETA&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            String cadena;\r\n            String[] arreglo;\r\n            try {\r\n                FileReader fileReader = new FileReader(archivo);\r\n                BufferedReader bufferedReader = new BufferedReader(fileReader);\r\n\r\n                while ((cadena = bufferedReader.readLine()) != null) {\r\n                    arreglo = cadena.split(&quot;,&quot;);\r\n\r\n                    //CARGA DE CLASES Y CREACION DE OBJETOS PARA FUNCIONAMIENTO DE LA DB\r\n                    DbHelper admin = new DbHelper(ActividadPrincipalAdmin.this);\r\n                    SQLiteDatabase db = admin.getWritableDatabase();\r\n\r\n                    ContentValues registro = new ContentValues();\r\n\r\n                    registro.put(&quot;nControl&quot;, arreglo[1]);\r\n                    registro.put(&quot;nombre&quot;, arreglo[2]);\r\n                    registro.put(&quot;carrera&quot;, arreglo[3]);\r\n                    registro.put(&quot;semestre&quot;, arreglo[4]);\r\n                    registro.put(&quot;genero&quot;, arreglo[5]);\r\n\r\n                    db.insert(&quot;t_alumnos&quot;, null, registro);\r\n\r\n                    Toast.makeText(ActividadPrincipalAdmin.this, &quot;SE IMPORTO CORRECTAMENTE&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } catch (Exception e) {\r\n                Toast.makeText(ActividadPrincipalAdmin.this, &quot;- &quot; + e, Toast.LENGTH_LONG).show();\r\n                Toast.makeText(ActividadPrincipalAdmin.this, &quot;LO LAMENTO TIENES UN ERROR&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd this is how I request the permissions:\r\n\r\n    public void pedirPermisos() {\r\n        int permisoEscritura = ContextCompat.checkSelfPermission(this,Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        int permisoLectura = ContextCompat.checkSelfPermission(this,Manifest.permission.READ_EXTERNAL_STORAGE);\r\n        if (permisoEscritura != PackageManager.PERMISSION_GRANTED &amp;&amp; permisoLectura != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE}, RecuestCode);\r\n        }\r\n    }\r\n\r\n\r\nI tried to change the folder and my file to other folders but it doesn&#39;t work, just like I tried to put direct paths of my folder but it didn&#39;t work either.","title":"Getting error: java.io.FileNotFoundException: Open failed: ENOENT (No such file or directory)","body":"<p>I have this error, what I am trying to do is read a .csv file so that I can retrieve its data and enter it into a local database.</p>\n<p>This is my code:</p>\n<p>In my android Manifest, I have these permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>In my class I have the following code:</p>\n<pre><code>public void importarCSV() {\n\n    File carpeta = new File(Environment.getExternalStorageDirectory() + &quot;/BaseDeDatosAlumnos&quot;);\n    String archivo = carpeta + &quot;/&quot; + &quot;prueba.csv&quot;;\n\n\n    if (!carpeta.exists()) {\n        Toast.makeText(ActividadPrincipalAdmin.this, &quot;NO EXISTE LA CARPETA&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        String cadena;\n        String[] arreglo;\n        try {\n            FileReader fileReader = new FileReader(archivo);\n            BufferedReader bufferedReader = new BufferedReader(fileReader);\n\n            while ((cadena = bufferedReader.readLine()) != null) {\n                arreglo = cadena.split(&quot;,&quot;);\n\n                //CARGA DE CLASES Y CREACION DE OBJETOS PARA FUNCIONAMIENTO DE LA DB\n                DbHelper admin = new DbHelper(ActividadPrincipalAdmin.this);\n                SQLiteDatabase db = admin.getWritableDatabase();\n\n                ContentValues registro = new ContentValues();\n\n                registro.put(&quot;nControl&quot;, arreglo[1]);\n                registro.put(&quot;nombre&quot;, arreglo[2]);\n                registro.put(&quot;carrera&quot;, arreglo[3]);\n                registro.put(&quot;semestre&quot;, arreglo[4]);\n                registro.put(&quot;genero&quot;, arreglo[5]);\n\n                db.insert(&quot;t_alumnos&quot;, null, registro);\n\n                Toast.makeText(ActividadPrincipalAdmin.this, &quot;SE IMPORTO CORRECTAMENTE&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } catch (Exception e) {\n            Toast.makeText(ActividadPrincipalAdmin.this, &quot;- &quot; + e, Toast.LENGTH_LONG).show();\n            Toast.makeText(ActividadPrincipalAdmin.this, &quot;LO LAMENTO TIENES UN ERROR&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>And this is how I request the permissions:</p>\n<pre><code>public void pedirPermisos() {\n    int permisoEscritura = ContextCompat.checkSelfPermission(this,Manifest.permission.WRITE_EXTERNAL_STORAGE);\n    int permisoLectura = ContextCompat.checkSelfPermission(this,Manifest.permission.READ_EXTERNAL_STORAGE);\n    if (permisoEscritura != PackageManager.PERMISSION_GRANTED &amp;&amp; permisoLectura != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                Manifest.permission.MANAGE_EXTERNAL_STORAGE}, RecuestCode);\n    }\n}\n</code></pre>\n<p>I tried to change the folder and my file to other folders but it doesn't work, just like I tried to put direct paths of my folder but it didn't work either.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1677013340,"post_id":75525359,"comment_id":133252721,"body_markdown":"First you can remove all the spring version numbers in your pom. You have defined the spring parent, so the parent will automatically select spring versions for you that are compatible with each other. Also you dont need jjwt, spring boot already comes included with Nimbus which is a jwt library. So you can remove that dependency also. Im guessing you have followed a bad blogpost, written by someone that doesnt understand spring","body":"First you can remove all the spring version numbers in your pom. You have defined the spring parent, so the parent will automatically select spring versions for you that are compatible with each other. Also you dont need jjwt, spring boot already comes included with Nimbus which is a jwt library. So you can remove that dependency also. Im guessing you have followed a bad blogpost, written by someone that doesnt understand spring"},{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":1,"creation_date":1677092097,"post_id":75525359,"comment_id":133271186,"body_markdown":"Yeah, removing the spring version numbers actually helped, thank you","body":"Yeah, removing the spring version numbers actually helped, thank you"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677106106,"creation_date":1677009722,"question_id":75525359,"body_markdown":"Here is code\r\n```java\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true\r\n)\r\npublic class WebSecurityConfig{\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nWhen i try to do this\r\n `http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);`\r\nI got this\r\n![enter image description here](https://i.stack.imgur.com/yj48h.png)\r\n\r\nHere is my AuthTokenFilter code\r\n\r\n```java\r\n@Slf4j\r\npublic class AuthTokenFilter extends OncePerRequestFilter {\r\n    @Autowired\r\n    private JwtUtils jwtUtils;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        try {\r\n            String jwt = parseJwt(request);\r\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n\r\n                String username = jwtUtils.getUserNameFormJwtToken(jwt);\r\n\r\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities()\r\n                );\r\n\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Cannot set user authentication: {}&quot;, e.getMessage());\r\n        }\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n\r\n    private String parseJwt(HttpServletRequest request) {\r\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\r\n            return headerAuth.substring(7, headerAuth.length());\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\nAlso, when i try to startup application, i got this error\r\n\r\njava: cannot access javax.servlet.Filter\r\n  class file for javax.servlet.Filter not found\r\n\r\nHere is my pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TaskManager&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;TaskManager&lt;/name&gt;\r\n    &lt;description&gt;TaskManager&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI saw somewhere here that this denendency migh help\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n  &lt;version&gt;4.0.1&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nBut this did not help me","title":"Can not pass arguments to http.addFilterBefore()","body":"<p>Here is code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true\n)\npublic class WebSecurityConfig{\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>When i try to do this\n<code>http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);</code>\nI got this\n<img src=\"https://i.stack.imgur.com/yj48h.png\" alt=\"enter image description here\" /></p>\n<p>Here is my AuthTokenFilter code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class AuthTokenFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtils jwtUtils;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        try {\n            String jwt = parseJwt(request);\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n\n                String username = jwtUtils.getUserNameFormJwtToken(jwt);\n\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities()\n                );\n\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n            log.error(&quot;Cannot set user authentication: {}&quot;, e.getMessage());\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n\n    private String parseJwt(HttpServletRequest request) {\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\n\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\n            return headerAuth.substring(7, headerAuth.length());\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>Also, when i try to startup application, i got this error</p>\n<p>java: cannot access javax.servlet.Filter\nclass file for javax.servlet.Filter not found</p>\n<p>Here is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TaskManager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;TaskManager&lt;/name&gt;\n    &lt;description&gt;TaskManager&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I saw somewhere here that this denendency migh help</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But this did not help me</p>\n"},{"tags":["java","spring-boot","vue.js","vuejs2"],"comments":[{"owner":{"account_id":3675707,"reputation":5532,"user_id":3061857,"accept_rate":65,"display_name":"nbokmans"},"score":1,"creation_date":1676996553,"post_id":75523133,"comment_id":133247765,"body_markdown":"The page on your frontend likely has the original dataset that came in through loading (e.g. API request). Can you use this and compare it to the form state when you press the submit button, and make an `object diff`, and send that to your backend instead?","body":"The page on your frontend likely has the original dataset that came in through loading (e.g. API request). Can you use this and compare it to the form state when you press the submit button, and make an <code>object diff</code>, and send that to your backend instead?"}],"answers":[{"tags":[],"owner":{"account_id":27777558,"reputation":171,"user_id":21206597,"display_name":"lars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677001721,"creation_date":1677001578,"answer_id":75524101,"question_id":75523133,"body_markdown":"When you receive the tasks from the api, you could map the tasks to something like this.\r\n\r\n    const tasks = [{ title: &quot;some text here&quot;, completed: false }];\r\n    const internalTasks = tasks.map((task) =&gt; ({ ...task, touched: false }));\r\n\r\nAnd the touched attribute gets set to `true` on the change event of the checkbox.\r\n\r\n    &lt;li v-for=&quot;task in internalTasks&quot;&gt;\r\n      &lt;input\r\n        type=&quot;checkbox&quot;\r\n        v-model=&quot;task.completed&quot;\r\n        @change=&quot;task.touched = true&quot;\r\n      /&gt;\r\n      &lt;label :for=&quot;task.title&quot;&gt;{{ task.title }}&lt;/label&gt;\r\n    &lt;/li&gt;\r\n\r\nThen you can filter the `internalTasks` and only send the changed tasks to the api.\r\n\r\n    submit() {\r\n      return axiosComponent.updateTask(internalTasks.filter((task) =&gt; task.touched))\r\n    }\r\n    ","title":"How do you put changed data from frontend to backend without having to save unchanged values?","body":"<p>When you receive the tasks from the api, you could map the tasks to something like this.</p>\n<pre><code>const tasks = [{ title: &quot;some text here&quot;, completed: false }];\nconst internalTasks = tasks.map((task) =&gt; ({ ...task, touched: false }));\n</code></pre>\n<p>And the touched attribute gets set to <code>true</code> on the change event of the checkbox.</p>\n<pre><code>&lt;li v-for=&quot;task in internalTasks&quot;&gt;\n  &lt;input\n    type=&quot;checkbox&quot;\n    v-model=&quot;task.completed&quot;\n    @change=&quot;task.touched = true&quot;\n  /&gt;\n  &lt;label :for=&quot;task.title&quot;&gt;{{ task.title }}&lt;/label&gt;\n&lt;/li&gt;\n</code></pre>\n<p>Then you can filter the <code>internalTasks</code> and only send the changed tasks to the api.</p>\n<pre><code>submit() {\n  return axiosComponent.updateTask(internalTasks.filter((task) =&gt; task.touched))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4944718,"reputation":26362,"user_id":4116300,"accept_rate":82,"display_name":"Roh&#236;t J&#237;ndal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677058568,"creation_date":1677058568,"answer_id":75530722,"question_id":75523133,"body_markdown":"You can simply achieve this requirement by making a copy of the original array and then on submit, You can compare the stringified version of the changed object with the cloned one.\r\n\r\nLive Demo **:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    new Vue({\r\n      el: &#39;#app&#39;,\r\n      data: {\r\n        tasks: [\r\n          { title: &#39;Title 1&#39;, completed: false },\r\n          { title: &#39;Title 2&#39;, completed: false },\r\n          { title: &#39;Title 3&#39;, completed: true },\r\n          { title: &#39;Title 4&#39;, completed: false },\r\n          { title: &#39;Title 5&#39;, completed: true }\r\n        ],\r\n        clonedTasks: []\r\n      },\r\n      mounted() {\r\n        this.clonedTasks = structuredClone(this.tasks);\r\n      },\r\n      methods: {\r\n        submit() {\r\n          const updatedTasks = this.tasks.filter(obj =&gt; {\r\n            return !JSON.stringify(this.clonedTasks).includes(JSON.stringify(obj))\r\n          });\r\n          console.log(updatedTasks);\r\n        }\r\n      }\r\n    })\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js&quot;&gt;&lt;/script&gt;\r\n    &lt;div id=&quot;app&quot;&gt;\r\n      &lt;li v-for=&quot;task in tasks&quot;&gt;\r\n        &lt;input type=&quot;checkbox&quot; v-model=&quot;task.completed&quot;&gt;\r\n        &lt;label :for=&quot;task.title&quot;&gt;{{task.title}}&lt;/label&gt;\r\n      &lt;/li&gt;\r\n      &lt;button @click=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How do you put changed data from frontend to backend without having to save unchanged values?","body":"<p>You can simply achieve this requirement by making a copy of the original array and then on submit, You can compare the stringified version of the changed object with the cloned one.</p>\n<p>Live Demo <strong>:</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\n  el: '#app',\n  data: {\n    tasks: [\n      { title: 'Title 1', completed: false },\n      { title: 'Title 2', completed: false },\n      { title: 'Title 3', completed: true },\n      { title: 'Title 4', completed: false },\n      { title: 'Title 5', completed: true }\n    ],\n    clonedTasks: []\n  },\n  mounted() {\n    this.clonedTasks = structuredClone(this.tasks);\n  },\n  methods: {\n    submit() {\n      const updatedTasks = this.tasks.filter(obj =&gt; {\n        return !JSON.stringify(this.clonedTasks).includes(JSON.stringify(obj))\n      });\n      console.log(updatedTasks);\n    }\n  }\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\n&lt;div id=\"app\"&gt;\n  &lt;li v-for=\"task in tasks\"&gt;\n    &lt;input type=\"checkbox\" v-model=\"task.completed\"&gt;\n    &lt;label :for=\"task.title\"&gt;{{task.title}}&lt;/label&gt;\n  &lt;/li&gt;\n  &lt;button @click=\"submit\"&gt;Submit&lt;/button&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":27843146,"reputation":23,"user_id":21259233,"display_name":"Scandidi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677106006,"creation_date":1676996300,"question_id":75523133,"body_markdown":"So I importing a list from a database using axios and store it in a variable.\r\nLet&#39;s call it tasks.\r\nEach object could look something like this:\r\n\r\n    tasks: [\r\n        { title: &#39;some text here&#39; },\r\n        { completed: false },\r\n      ]\r\n\r\nImagine I have 2000 or 3000 of these.\r\nOn the frontend I make a checkbox for each task that sets the boolean value in completed to `true` or `false`\r\n\r\n\r\n    &lt;li v-for=&quot;task in tasks&quot;&gt;\r\n          &lt;input type=&quot;checkbox&quot; v-model=&quot;task.completed&quot;&gt;\r\n          &lt;label :for=&quot;task.title&quot;&gt;{{task.title}}&lt;/label&gt;\r\n    &lt;/li&gt;`\r\n\r\n\r\nGreat, now I need to save the changes so my database can be updated.\r\n\r\n\r\n    submit(){\r\n        return axiosComponent.updateTask(this.tasks)\r\n\r\n      }\r\n\r\nHere&#39;s where my problem is. Upon clicking on submit, I&#39;m going through the entire list of tasks and basically saving everything. This can lead to timeouts and other performance issues as it has to go through thousands and thousands of objects.\r\nSo what I would like to do is to somehow change the submit method so that it ONLY saves the data that has actually been changed.\r\nSo if two tasks have been set to false or true in &quot;completed&quot; then only save those two tasks to the database. Do not save the entire list.\r\n\r\nI don&#39;t know if it&#39;s something I can do purely on the frotend or if I need to do something on the backend. For those interested, here is my backend code for the process:\r\n\r\n**The axios component:**\r\n\r\n\r\n    updateTask(tasks){\r\n        return axios.put(&#39;task/updateStatus&#39;, tasks)\r\n      }\r\n\r\n\r\n**The controller getting the axios data:**\r\n\r\n\r\n    @PutMapping(&quot;/updateStatus&quot;)\r\n        public void updateStatusOnTask(@RequestBody List&lt;TaskEntity&gt; taskEntities){\r\n            taskManager.updateTaskStatus(taskEntities);\r\n        }\r\n\r\n\r\n**The manager**\r\n\r\n\r\n    public void updateTaskStatus(List&lt;TaskEntity&gt; taskEntities) {\r\n            taskRepository.saveAll(taskEntities);\r\n        }\r\n\r\n\r\nSo what did I try? Well, one idea was to create computed properties that saved the checked and unchecked tasks in their own objects and then put these in my submit method instead of &quot;tasks.\r\n\r\n\r\n    completedTasks(){\r\n        if(this.tasks){\r\n          return this.tasks.filter(task =&gt; task.completed)\r\n        }\r\n      },\r\n      unresolvedTasks(){\r\n        if(this.tasks){\r\n          return this.errors.filter(task =&gt; !task.completed)\r\n        }\r\n      },\r\n\r\n      submit(){\r\n        return axiosComponent.updateTask(this.completedTasks)\r\n\r\n      }\r\n\r\n\r\nThe problem of course is that I am not actually saving anything to the database when I save these. I do not change the values in the &quot;tasks&quot; object. I am just putting the changed values into a new one. So when I save and reload the page, they will get overwritten once the tasks object is loaded.\r\nAlso, if I have 1000 unresolved tasks, then we will have the same issue with timeouts if I need to save any changes to these.","title":"How do you put changed data from frontend to backend without having to save unchanged values?","body":"<p>So I importing a list from a database using axios and store it in a variable.\nLet's call it tasks.\nEach object could look something like this:</p>\n<pre><code>tasks: [\n    { title: 'some text here' },\n    { completed: false },\n  ]\n</code></pre>\n<p>Imagine I have 2000 or 3000 of these.\nOn the frontend I make a checkbox for each task that sets the boolean value in completed to <code>true</code> or <code>false</code></p>\n<pre><code>&lt;li v-for=&quot;task in tasks&quot;&gt;\n      &lt;input type=&quot;checkbox&quot; v-model=&quot;task.completed&quot;&gt;\n      &lt;label :for=&quot;task.title&quot;&gt;{{task.title}}&lt;/label&gt;\n&lt;/li&gt;`\n</code></pre>\n<p>Great, now I need to save the changes so my database can be updated.</p>\n<pre><code>submit(){\n    return axiosComponent.updateTask(this.tasks)\n\n  }\n</code></pre>\n<p>Here's where my problem is. Upon clicking on submit, I'm going through the entire list of tasks and basically saving everything. This can lead to timeouts and other performance issues as it has to go through thousands and thousands of objects.\nSo what I would like to do is to somehow change the submit method so that it ONLY saves the data that has actually been changed.\nSo if two tasks have been set to false or true in &quot;completed&quot; then only save those two tasks to the database. Do not save the entire list.</p>\n<p>I don't know if it's something I can do purely on the frotend or if I need to do something on the backend. For those interested, here is my backend code for the process:</p>\n<p><strong>The axios component:</strong></p>\n<pre><code>updateTask(tasks){\n    return axios.put('task/updateStatus', tasks)\n  }\n</code></pre>\n<p><strong>The controller getting the axios data:</strong></p>\n<pre><code>@PutMapping(&quot;/updateStatus&quot;)\n    public void updateStatusOnTask(@RequestBody List&lt;TaskEntity&gt; taskEntities){\n        taskManager.updateTaskStatus(taskEntities);\n    }\n</code></pre>\n<p><strong>The manager</strong></p>\n<pre><code>public void updateTaskStatus(List&lt;TaskEntity&gt; taskEntities) {\n        taskRepository.saveAll(taskEntities);\n    }\n</code></pre>\n<p>So what did I try? Well, one idea was to create computed properties that saved the checked and unchecked tasks in their own objects and then put these in my submit method instead of &quot;tasks.</p>\n<pre><code>completedTasks(){\n    if(this.tasks){\n      return this.tasks.filter(task =&gt; task.completed)\n    }\n  },\n  unresolvedTasks(){\n    if(this.tasks){\n      return this.errors.filter(task =&gt; !task.completed)\n    }\n  },\n\n  submit(){\n    return axiosComponent.updateTask(this.completedTasks)\n\n  }\n</code></pre>\n<p>The problem of course is that I am not actually saving anything to the database when I save these. I do not change the values in the &quot;tasks&quot; object. I am just putting the changed values into a new one. So when I save and reload the page, they will get overwritten once the tasks object is loaded.\nAlso, if I have 1000 unresolved tasks, then we will have the same issue with timeouts if I need to save any changes to these.</p>\n"},{"tags":["java","performance","certificate","weblogic","digital-signature"],"owner":{"account_id":5905050,"reputation":907,"user_id":4647157,"accept_rate":40,"display_name":"PaulEdison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677105816,"creation_date":1677105816,"question_id":75538892,"body_markdown":"I&#39;m interested in how to estimate the performance impact of increasing the RSA key size in the certificates that are used for signing the requests to the server. \r\n\r\nWe do have a an Oracle WebLogic Application server running an Java application that is processing SOAP requests.  \r\nWe use a self created root certificate to create client certificates.  \r\nThe clients use this client certificates to sign their request that are checked for a valid signature.\r\n\r\nHow could I reasonable estimate a performance impact when changing the size of the key in the client certificate? \r\n\r\nI consider that for this is needed to know:\r\n\r\n - size of the increase of key width (e.g.: from 1024bit to 3072bit)\r\n - current amount of requests per hour/minute\r\n - current size of signed requests on average (in kb/mb) \r\n\r\nIs there a way of estimating the impact?\r\n","title":"Estimate the performance impact of increasing certificate key size for requests signing","body":"<p>I'm interested in how to estimate the performance impact of increasing the RSA key size in the certificates that are used for signing the requests to the server.</p>\n<p>We do have a an Oracle WebLogic Application server running an Java application that is processing SOAP requests.<br />\nWe use a self created root certificate to create client certificates.<br />\nThe clients use this client certificates to sign their request that are checked for a valid signature.</p>\n<p>How could I reasonable estimate a performance impact when changing the size of the key in the client certificate?</p>\n<p>I consider that for this is needed to know:</p>\n<ul>\n<li>size of the increase of key width (e.g.: from 1024bit to 3072bit)</li>\n<li>current amount of requests per hour/minute</li>\n<li>current size of signed requests on average (in kb/mb)</li>\n</ul>\n<p>Is there a way of estimating the impact?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1659518105,"post_id":73219124,"comment_id":129311650,"body_markdown":"You just need to remove item from list which is passed in the recyclerview and then refresh the recyclerview with notify method.","body":"You just need to remove item from list which is passed in the recyclerview and then refresh the recyclerview with notify method."},{"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"score":0,"creation_date":1659519321,"post_id":73219124,"comment_id":129312089,"body_markdown":"use notifyItemRemoved instead of notifyDatasetChanged","body":"use notifyItemRemoved instead of notifyDatasetChanged"},{"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"score":0,"creation_date":1659547049,"post_id":73219124,"comment_id":129322080,"body_markdown":"@HaseebHassanAsif it shows the same problem","body":"@HaseebHassanAsif it shows the same problem"},{"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"score":0,"creation_date":1659598757,"post_id":73219124,"comment_id":129333760,"body_markdown":"@AishaKumari please share your adapter code so that we can further understand the problem.","body":"@AishaKumari please share your adapter code so that we can further understand the problem."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1677106044,"post_id":73219124,"comment_id":133274717,"body_markdown":"You don&#39;t show where ```position``` variable comes from, use ```getBindingAdapterPosition()```","body":"You don&#39;t show where <code>position</code> variable comes from, use <code>getBindingAdapterPosition()</code>"}],"answers":[{"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677105599,"creation_date":1677105599,"answer_id":75538869,"question_id":73219124,"body_markdown":"By putting the click listener in the RecyclerView.Adapter, you are referencing  and outdated position of the item.\r\n\r\nPut the click listener inside the ViewHolder instead. You, can use either layoutPosition or absoluteAdapterPosition\r\nAdapter\r\n```kotlin\r\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int) {\r\n        val item = items[position]\r\n        Log.d(tag, &quot;onBindViewHolder - item at $position is ${item.content}&quot;)\r\n\r\n        val listener = object : ItemDeleteListener {\r\n            override fun delete(position: Int) {\r\n                items.removeAt(position)\r\n                notifyItemRemoved(position)\r\n            }\r\n        }\r\n        \r\n        holder.bind(item, listener)\r\n    }\r\n```\r\n\r\nViewHolder\r\n```kotlin\r\nfun bind(item: DummyData, listener: ItemDeleteListener) {\r\n        binding.title.text = &quot;${item.content}&quot;\r\n\r\n        binding.cta.setOnClickListener {\r\n            listener.delete(layoutPosition)\r\n        }\r\n    }\r\n```\r\n\r\nProtip: try not to use `notifyDataSetChanged()` since it&#39;s expensive\r\n\r\nFor more details on how to handle deletion, you can check out this tutorial of mine\r\n(there&#39;s sample GitHub repository you can play with too)\r\nhttps://medium.com/@ericntd/recyclerview-how-to-handle-insertion-and-deletion-334a38104de8","title":"how to remove the exact item from recyclerview in android studio?","body":"<p>By putting the click listener in the RecyclerView.Adapter, you are referencing  and outdated position of the item.</p>\n<p>Put the click listener inside the ViewHolder instead. You, can use either layoutPosition or absoluteAdapterPosition\nAdapter</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n        val item = items[position]\n        Log.d(tag, &quot;onBindViewHolder - item at $position is ${item.content}&quot;)\n\n        val listener = object : ItemDeleteListener {\n            override fun delete(position: Int) {\n                items.removeAt(position)\n                notifyItemRemoved(position)\n            }\n        }\n        \n        holder.bind(item, listener)\n    }\n</code></pre>\n<p>ViewHolder</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun bind(item: DummyData, listener: ItemDeleteListener) {\n        binding.title.text = &quot;${item.content}&quot;\n\n        binding.cta.setOnClickListener {\n            listener.delete(layoutPosition)\n        }\n    }\n</code></pre>\n<p>Protip: try not to use <code>notifyDataSetChanged()</code> since it's expensive</p>\n<p>For more details on how to handle deletion, you can check out this tutorial of mine\n(there's sample GitHub repository you can play with too)\n<a href=\"https://medium.com/@ericntd/recyclerview-how-to-handle-insertion-and-deletion-334a38104de8\" rel=\"nofollow noreferrer\">https://medium.com/@ericntd/recyclerview-how-to-handle-insertion-and-deletion-334a38104de8</a></p>\n"}],"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677105599,"creation_date":1659517886,"question_id":73219124,"body_markdown":"I am trying to delete the item from the recyclerview, but after deleting it always removes the last position, I can&#39;t understand why it is not removing the exact position which I have deleted\r\n\r\nplease if anyone could help me out of this problem\r\n\r\nhere is my code\r\n\r\n      holder.items_image.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                item_card.setVisibility(View.VISIBLE);\r\n                item_delete_layer.setVisibility(View.VISIBLE);\r\n                final String path = imageList.get(position).getPath();\r\n                    SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;, Context.MODE_PRIVATE);\r\n                    SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                    editor.putString(&quot;filePath&quot;, path);\r\n                    editor.apply();\r\n            }\r\n        });\r\n\r\n\r\n    item_delete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                item_card.setVisibility(View.GONE);\r\n                item_delete_layer.setVisibility(View.GONE);\r\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;, Context.MODE_PRIVATE);\r\n                String path = sharedPreferences.getString(&quot;filePath&quot;,&quot;&quot;);\r\n                File fdelete = new File(path);\r\n                if (fdelete.delete()){\r\n                    imageList.remove(position);\r\n                    notifyDataSetChanged();\r\n                    Toast.makeText(context, &quot;File deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    Toast.makeText(context, &quot;Can&#39;t delete file&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n     item_cancel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                item_card.setVisibility(View.GONE);\r\n                item_delete_layer.setVisibility(View.GONE);\r\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;,Context.MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                editor.clear();\r\n                editor.apply();\r\n\r\n\r\n            }\r\n        });","title":"how to remove the exact item from recyclerview in android studio?","body":"<p>I am trying to delete the item from the recyclerview, but after deleting it always removes the last position, I can't understand why it is not removing the exact position which I have deleted</p>\n<p>please if anyone could help me out of this problem</p>\n<p>here is my code</p>\n<pre><code>  holder.items_image.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            item_card.setVisibility(View.VISIBLE);\n            item_delete_layer.setVisibility(View.VISIBLE);\n            final String path = imageList.get(position).getPath();\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;, Context.MODE_PRIVATE);\n                SharedPreferences.Editor editor = sharedPreferences.edit();\n                editor.putString(&quot;filePath&quot;, path);\n                editor.apply();\n        }\n    });\n\n\nitem_delete.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            item_card.setVisibility(View.GONE);\n            item_delete_layer.setVisibility(View.GONE);\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;, Context.MODE_PRIVATE);\n            String path = sharedPreferences.getString(&quot;filePath&quot;,&quot;&quot;);\n            File fdelete = new File(path);\n            if (fdelete.delete()){\n                imageList.remove(position);\n                notifyDataSetChanged();\n                Toast.makeText(context, &quot;File deleted&quot;, Toast.LENGTH_SHORT).show();\n            }else {\n                Toast.makeText(context, &quot;Can't delete file&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n\n\n item_cancel.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            item_card.setVisibility(View.GONE);\n            item_delete_layer.setVisibility(View.GONE);\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;,Context.MODE_PRIVATE);\n            SharedPreferences.Editor editor = sharedPreferences.edit();\n            editor.clear();\n            editor.apply();\n\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","jsf","model-view-controller"],"comments":[{"owner":{"account_id":2038555,"reputation":11664,"user_id":1820286,"accept_rate":50,"display_name":"skuntsel"},"score":0,"creation_date":1380017028,"post_id":18978427,"comment_id":28032465,"body_markdown":"Will the effort be worth the cost?","body":"Will the effort be worth the cost?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1380017384,"post_id":18978427,"comment_id":28032719,"body_markdown":"This doesn&#39;t sound like a very robust approach. You can use technologies like Spring Roo to create a webapp based on database tables, but I wouldn&#39;t do this with JSF.","body":"This doesn&#39;t sound like a very robust approach. You can use technologies like Spring Roo to create a webapp based on database tables, but I wouldn&#39;t do this with JSF."},{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":0,"creation_date":1380898659,"post_id":18978427,"comment_id":28383732,"body_markdown":"If your goal is a configurable UI, you&#39;ll almost certainly be better off by having the database contain a description of the custom fields (field name, type, etc) you want and then have JSF dynamically render the data into components, rather than have the database contain page source.  This sort of thing can get very complicated very quickly, so I think this is honestly a little too broad for StackOverflow.","body":"If your goal is a configurable UI, you&#39;ll almost certainly be better off by having the database contain a description of the custom fields (field name, type, etc) you want and then have JSF dynamically render the data into components, rather than have the database contain page source.  This sort of thing can get very complicated very quickly, so I think this is honestly a little too broad for StackOverflow."}],"answers":[{"tags":[],"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380017559,"creation_date":1380017559,"answer_id":18978738,"question_id":18978427,"body_markdown":"To be honest, doing it in JSF or JSP is unlikely to be very easy/ or performant.\r\n\r\nYou may as well skip the hassle, and just write some simple Java classes to bind inputs &amp; render HTML output yourself.\r\n\r\nI&#39;ve done a lot of &#39;advanced UI&#39; work with big/ tree-structured/ configurable UI in different projects. Mostly with JSP, JSTL and Spring -- but the performance problems will be the same.\r\n\r\nAnother area you&#39;ll have to address, is loading all the components quickly. Typically we&#39;ve use &#39;bulk loading&#39; queries in Hibernate to load all children/ subtrees in a single query. This has been very effective.","title":"Can a JSF page be created dynamically?","body":"<p>To be honest, doing it in JSF or JSP is unlikely to be very easy/ or performant.</p>\n\n<p>You may as well skip the hassle, and just write some simple Java classes to bind inputs &amp; render HTML output yourself.</p>\n\n<p>I've done a lot of 'advanced UI' work with big/ tree-structured/ configurable UI in different projects. Mostly with JSP, JSTL and Spring -- but the performance problems will be the same.</p>\n\n<p>Another area you'll have to address, is loading all the components quickly. Typically we've use 'bulk loading' queries in Hibernate to load all children/ subtrees in a single query. This has been very effective.</p>\n"}],"owner":{"account_id":1557687,"reputation":1891,"user_id":1448282,"accept_rate":80,"display_name":"Nigel Thomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1663,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":18978738,"answer_count":1,"score":0,"last_activity_date":1677105115,"creation_date":1380016783,"question_id":18978427,"body_markdown":"I am trying to display the fields on a jsf page dynamically on load by taking the page source from the database.\r\n\r\nBased on some query the page source will be taken from the database and be put onto the screen and the components should be displayed on the screen dynamically.\r\n\r\nSo there will be a single screen but the screen source data will be coming from the database and the all the components on the screen will be displayed on the screen dynamically.\r\n\r\nHow can this be done?\r\n\r\n\r\n","title":"Can a JSF page be created dynamically?","body":"<p>I am trying to display the fields on a jsf page dynamically on load by taking the page source from the database.</p>\n\n<p>Based on some query the page source will be taken from the database and be put onto the screen and the components should be displayed on the screen dynamically.</p>\n\n<p>So there will be a single screen but the screen source data will be coming from the database and the all the components on the screen will be displayed on the screen dynamically.</p>\n\n<p>How can this be done?</p>\n"},{"tags":["java","android","fragment"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1677107662,"post_id":75538743,"comment_id":133275028,"body_markdown":"use the fragment tag instead of its id in the communication among them","body":"use the fragment tag instead of its id in the communication among them"}],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677104606,"creation_date":1677104606,"question_id":75538743,"body_markdown":"Trying to make communication between fragments.\r\nStuck on callback.\r\n\r\n```\r\npublic void StyleIsSelected(String data) {\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        MyDialogFragment2 fragment = (MyDialogFragment2) fm.findFragmentById(R.id.test_fragment);\r\n        if (fragment != null)\r\n            fragment.StyleIsSelected(data);\r\n\r\n    }\r\n```\r\n\r\nSupposed to pass data to fragment, but findFragmentById returns null.\r\nPossible is because i don&#39;t understand how `R.id.layout_name&#39; works.\r\n\r\nCurrent layout options:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/test_fragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n```\r\nSo, this ID supposed to link on my fragment.\r\n\r\nI&#39;ve also tried to give direct link to my fragment, but then callback function turns red. \r\n","title":"What is R.id.layout_name? Creating communication between fragments - findFragmentById returns null","body":"<p>Trying to make communication between fragments.\nStuck on callback.</p>\n<pre><code>public void StyleIsSelected(String data) {\n        FragmentManager fm = getSupportFragmentManager();\n        MyDialogFragment2 fragment = (MyDialogFragment2) fm.findFragmentById(R.id.test_fragment);\n        if (fragment != null)\n            fragment.StyleIsSelected(data);\n\n    }\n</code></pre>\n<p>Supposed to pass data to fragment, but findFragmentById returns null.\nPossible is because i don't understand how `R.id.layout_name' works.</p>\n<p>Current layout options:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/test_fragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n</code></pre>\n<p>So, this ID supposed to link on my fragment.</p>\n<p>I've also tried to give direct link to my fragment, but then callback function turns red.</p>\n"},{"tags":["java","ehcache","ehcache-3"],"answers":[{"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673445370,"creation_date":1666015596,"answer_id":74098583,"question_id":74098476,"body_markdown":"I don&#39;t think you can limit it by percentage. The only place I was able to find indicating that it was deprecated was [**this one**][1].\r\n\r\n**You can however**, do this by the number of entries or byte size:\r\n&gt; [![enter image description here][2]][2]\r\n\r\n### See also: \r\n - [Ehcache Tiering Options][3]\r\n\r\n\r\n  [1]: https://documentation.softwareag.com/terracotta/terracotta_4310/bigmemory-max/webhelp/index.html#page/bigmemory-max-webhelp/co-srch_making_cache_searchable.html\r\n  [2]: https://i.stack.imgur.com/gvZ3d.png\r\n  [3]: https://www.ehcache.org/documentation/3.3/tiering.html#heap-tier","title":"What is the equivalent configuration for setting size limit by heap percentage (maxBytesLocalHeap) in Ehcache 3.x?","body":"<p>I don't think you can limit it by percentage. The only place I was able to find indicating that it was deprecated was <a href=\"https://documentation.softwareag.com/terracotta/terracotta_4310/bigmemory-max/webhelp/index.html#page/bigmemory-max-webhelp/co-srch_making_cache_searchable.html\" rel=\"nofollow noreferrer\"><strong>this one</strong></a>.</p>\n<p><strong>You can however</strong>, do this by the number of entries or byte size:</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/gvZ3d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gvZ3d.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://www.ehcache.org/documentation/3.3/tiering.html#heap-tier\" rel=\"nofollow noreferrer\">Ehcache Tiering Options</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8861,"reputation":2179,"user_id":16138,"accept_rate":100,"display_name":"Mike Miller"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677104266,"creation_date":1677104266,"answer_id":75538697,"question_id":74098476,"body_markdown":"I had the same confusion. The setting itself isn&#39;t deprecated, just the use of memory units in the value.\r\n\r\nThe ehcache xsd states:\r\n\r\n        &lt;xs:documentation&gt;\r\n          DEPRECATED: The use of memory units (such as &#39;B&#39;, &#39;kB&#39; or &#39;MB&#39;) for heap resources is deprecated and will be removed in a future version.\r\n        &lt;/xs:documentation&gt;\r\n\r\nThe `DEPRECATED` seems to confuse IntelliJ into thinking the entire element is deprecated.\r\n\r\nAs long as the value for heap has no units, it is treated as &quot;number of entries&quot;, which is not deprecated.","title":"What is the equivalent configuration for setting size limit by heap percentage (maxBytesLocalHeap) in Ehcache 3.x?","body":"<p>I had the same confusion. The setting itself isn't deprecated, just the use of memory units in the value.</p>\n<p>The ehcache xsd states:</p>\n<pre><code>    &lt;xs:documentation&gt;\n      DEPRECATED: The use of memory units (such as 'B', 'kB' or 'MB') for heap resources is deprecated and will be removed in a future version.\n    &lt;/xs:documentation&gt;\n</code></pre>\n<p>The <code>DEPRECATED</code> seems to confuse IntelliJ into thinking the entire element is deprecated.</p>\n<p>As long as the value for heap has no units, it is treated as &quot;number of entries&quot;, which is not deprecated.</p>\n"}],"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1664,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":74098583,"answer_count":2,"score":6,"last_activity_date":1677104266,"creation_date":1666015087,"question_id":74098476,"body_markdown":"There was a config called `maxBytesLocalHeap` in Ehcache `2.x` where we could enter a heap percentage value. I couldn&#39;t find an equivalent in `3.x`, but there&#39;s nothing about _deprecation_ in release notes or migration guides.\r\n\r\nIs there a way to specify Ehcache heap size by JVM heap percentage in versions `3.x`?","title":"What is the equivalent configuration for setting size limit by heap percentage (maxBytesLocalHeap) in Ehcache 3.x?","body":"<p>There was a config called <code>maxBytesLocalHeap</code> in Ehcache <code>2.x</code> where we could enter a heap percentage value. I couldn't find an equivalent in <code>3.x</code>, but there's nothing about <em>deprecation</em> in release notes or migration guides.</p>\n<p>Is there a way to specify Ehcache heap size by JVM heap percentage in versions <code>3.x</code>?</p>\n"},{"tags":["java","gradle","wsdl","wsdl2java"],"comments":[{"owner":{"account_id":5321728,"reputation":10701,"user_id":4244993,"accept_rate":71,"display_name":"jmattheis"},"score":1,"creation_date":1491497049,"post_id":43259927,"comment_id":73590923,"body_markdown":"Your code works fine, please provide some more information.","body":"Your code works fine, please provide some more information."},{"owner":{"account_id":6974663,"reputation":2075,"user_id":5349795,"accept_rate":93,"display_name":"LakiGeri"},"score":0,"creation_date":1491546927,"post_id":43259927,"comment_id":73610691,"body_markdown":"Hi! Thx for the response, I updated the description.","body":"Hi! Thx for the response, I updated the description."}],"answers":[{"tags":[],"owner":{"account_id":5321728,"reputation":10701,"user_id":4244993,"accept_rate":71,"display_name":"jmattheis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1491573139,"creation_date":1491573139,"answer_id":43279910,"question_id":43259927,"body_markdown":"You add the `buildscript` inside the `subprojects`-closure, thats not supported, see [this Gradle discussion (Buildscript {} in subprojects {} ignored?)](https://discuss.gradle.org/t/buildscript-in-subprojects-ignored/2401/10).\r\n\r\nYou do not have to add the buildscript for every project, it is enough to just declare it on the root-build.gradle\r\n\r\n    buildscript{\r\n        repositories{\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\r\n        }\r\n    }\r\n\r\n    subprojects {\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;eclipse&#39;\r\n        apply plugin: &#39;maven-publish&#39;\r\n        apply plugin: &#39;application&#39;\r\n        apply plugin: &#39;no.nils.wsdl2java&#39;\r\n        ....\r\n    }","title":"Gradle wsdl generating","body":"<p>You add the <code>buildscript</code> inside the <code>subprojects</code>-closure, thats not supported, see <a href=\"https://discuss.gradle.org/t/buildscript-in-subprojects-ignored/2401/10\" rel=\"noreferrer\">this Gradle discussion (Buildscript {} in subprojects {} ignored?)</a>.</p>\n\n<p>You do not have to add the buildscript for every project, it is enough to just declare it on the root-build.gradle</p>\n\n<pre><code>buildscript{\n    repositories{\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\nsubprojects {\n    apply plugin: 'java'\n    apply plugin: 'eclipse'\n    apply plugin: 'maven-publish'\n    apply plugin: 'application'\n    apply plugin: 'no.nils.wsdl2java'\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10579737,"reputation":201,"user_id":7794033,"display_name":"myPavi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507127813,"creation_date":1507125149,"answer_id":46566682,"question_id":43259927,"body_markdown":"I was able to get the **wsdl2** java working in my **gradle** build with **jaxws** and **ant** tasks. Here it is \r\n    \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    \tflatDir {\r\n           dirs &#39;lib&#39;\r\n       }\r\n    }\r\n    \r\n    configurations { jaxws }\r\n    dependencies { jaxws &#39;com.sun.xml.ws:jaxws-tools:2.2.6&#39; }\r\n    \t\r\n    dependencies {\r\n    \tcompile &#39;com.sun.xml.bind:jaxb-impl:2.2.6&#39;\r\n    }\r\n    \r\n    \r\n    task generateSCMOrderImportServiceClient{\r\n    \tif(!file(&quot;./lib/employee-services-client.jar&quot;).exists()) {\r\n    \t    \r\n    \t\tdef rootDir = file(&quot;build/wsdlToJava/employee-services-client&quot;);\r\n    \t\tdef javaDir = file(&quot;${rootDir}/java&quot;);\r\n    \t\tdef wsdlJarDir = file(&quot;${projectDir}/lib&quot;);\r\n    \t\tdef classesDir = file(&quot;${rootDir}/classes&quot;);\r\n    \t\tdef wsdlDir=file(&quot;${projectDir}/src/main/resources/wsdl&quot;);\r\n    \t\tdef wsdlFile = file(&quot;${wsdlDir}/employee-services.wsdl&quot;)\r\n    \t\t\r\n    \t\tdoLast{\r\n    \t\t\tclassesDir.mkdirs()\r\n    \t\t\tjavaDir.mkdirs()\r\n    \t\t\twsdlJarDir.mkdirs()\r\n    \t\t\tcopy {\r\n    \t\t\t\tfrom &quot;${wsdlFile}&quot;\r\n    \t\t\t\tinto &quot;${classesDir}&quot;\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\tant {\r\n    \t\t\t\t\ttaskdef(name: &#39;wsimport&#39;,\r\n    \t\t\t\t\t\t\tclassname: &#39;com.sun.tools.ws.ant.WsImport&#39;,\r\n    \t\t\t\t\t\t\tclasspath: configurations.jaxws.asPath)\r\n    \t\t\t\t\twsimport(keep: true,\r\n    \t\t\t\t\t\t\tdestdir: classesDir,\r\n    \t\t\t\t\t\t\tsourcedestdir: javaDir,\r\n    \t\t\t\t\t\t\textension: &quot;true&quot;,\r\n    \t\t\t\t\t\t\tverbose: &quot;true&quot;,\r\n    \t\t\t\t\t\t\tquiet: &quot;false&quot;,\r\n    \t\t\t\t\t\t\txnocompile: &quot;false&quot;,\r\n    \t\t\t\t\t\t\txendorsed: true,\r\n    \t\t\t\t\t\t\twsdlLocation: &quot;EmployeeServices.wsdl&quot;,\r\n    \t\t\t\t\t\t\twsdl: &quot;${wsdlFile}&quot;) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tbinding(dir:&quot;${wsdlDir}&quot;, includes:&quot;jaxb-bindings.xml,jaxws-bindings.xml&quot;)\r\n    \t\t\t\t\t\txjcarg(value: &quot;-XautoNameResolution&quot;)\r\n    \t\t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tant.jar(\r\n    \t\t\t\t\tdestfile: wsdlJarDir.path + &quot;/employee-services-client.jar&quot;,\r\n    \t\t\t\t\tbasedir: classesDir\r\n    \t\t\t)\r\n    \t\t}\r\n    \t }\r\n       \r\n    }\r\n    \r\n    \r\n    \r\n    compileJava.dependsOn generateSCMOrderImportServiceClient","title":"Gradle wsdl generating","body":"<p>I was able to get the <strong>wsdl2</strong> java working in my <strong>gradle</strong> build with <strong>jaxws</strong> and <strong>ant</strong> tasks. Here it is </p>\n\n<pre><code>apply plugin: 'java'\n\nrepositories {\n    mavenCentral()\n    flatDir {\n       dirs 'lib'\n   }\n}\n\nconfigurations { jaxws }\ndependencies { jaxws 'com.sun.xml.ws:jaxws-tools:2.2.6' }\n\ndependencies {\n    compile 'com.sun.xml.bind:jaxb-impl:2.2.6'\n}\n\n\ntask generateSCMOrderImportServiceClient{\n    if(!file(\"./lib/employee-services-client.jar\").exists()) {\n\n        def rootDir = file(\"build/wsdlToJava/employee-services-client\");\n        def javaDir = file(\"${rootDir}/java\");\n        def wsdlJarDir = file(\"${projectDir}/lib\");\n        def classesDir = file(\"${rootDir}/classes\");\n        def wsdlDir=file(\"${projectDir}/src/main/resources/wsdl\");\n        def wsdlFile = file(\"${wsdlDir}/employee-services.wsdl\")\n\n        doLast{\n            classesDir.mkdirs()\n            javaDir.mkdirs()\n            wsdlJarDir.mkdirs()\n            copy {\n                from \"${wsdlFile}\"\n                into \"${classesDir}\"\n            }\n\n            ant {\n                    taskdef(name: 'wsimport',\n                            classname: 'com.sun.tools.ws.ant.WsImport',\n                            classpath: configurations.jaxws.asPath)\n                    wsimport(keep: true,\n                            destdir: classesDir,\n                            sourcedestdir: javaDir,\n                            extension: \"true\",\n                            verbose: \"true\",\n                            quiet: \"false\",\n                            xnocompile: \"false\",\n                            xendorsed: true,\n                            wsdlLocation: \"EmployeeServices.wsdl\",\n                            wsdl: \"${wsdlFile}\") \n                    {\n                        binding(dir:\"${wsdlDir}\", includes:\"jaxb-bindings.xml,jaxws-bindings.xml\")\n                        xjcarg(value: \"-XautoNameResolution\")\n                    }\n            }\n\n            ant.jar(\n                    destfile: wsdlJarDir.path + \"/employee-services-client.jar\",\n                    basedir: classesDir\n            )\n        }\n     }\n\n}\n\n\n\ncompileJava.dependsOn generateSCMOrderImportServiceClient\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2411246,"reputation":4423,"user_id":2106260,"accept_rate":25,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571130695,"creation_date":1571130695,"answer_id":58391132,"question_id":43259927,"body_markdown":"I had achieved this task using [this][1] git repository. The build.gradle file looks something like this.\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.2.0.M6&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;no.nils.wsdl2java&#39; version &#39;0.10&#39;\r\n    }\r\n    \r\n    group = &#39;your.application.groupname&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    configurations {\r\n        developmentOnly\r\n        runtimeClasspath {\r\n            extendsFrom developmentOnly\r\n        }\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;https://repo.spring.io/milestone&#39; }\r\n    }\r\n    \r\n    dependencies {\r\n        wsdl2java(\r\n                &#39;com.sun.xml.bind:jaxb-xjc:2.3.0.1&#39;,\r\n                &#39;javax.xml.bind:jaxb-api:2.3.1&#39;,\r\n                &#39;javax.xml.ws:jaxws-api:2.3.1&#39;,\r\n                &#39;org.apache.cxf:cxf-rt-wsdl:3.2.7&#39;,\r\n                &#39;javax.jws:javax.jws-api:1.1&#39;,\r\n    \r\n                &#39;com.sun.xml.bind:jaxb-core:2.3.0.1&#39;,\r\n                &#39;com.sun.xml.bind:jaxb-xjc:2.3.2&#39;,\r\n                &#39;com.sun.xml.bind:jaxb-impl:2.3.2&#39;,\r\n                &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        )\r\n \r\n        implementation &#39;com.sun.xml.bind:jaxb-core:2.3.0.1&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-xjc:2.3.0.1&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-impl:2.3.2&#39;\r\n        implementation &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        implementation &#39;javax.xml.ws:jaxws-api:2.3.1&#39;\r\n        implementation &#39;org.apache.cxf:cxf-rt-wsdl:3.2.7&#39;\r\n        implementation &#39;javax.jws:javax.jws-api:1.1&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    wsdl2java {\r\n        wsdlsToGenerate = [\r\n                [&#39;-p&#39;, &#39;your.package.name&#39;,\r\n                 &#39;-autoNameResolution&#39;, &quot;$projectDir/src/main/resources/wsdl/some_wsdl_file.wsdl&quot;]\r\n        ]\r\n        generatedWsdlDir = file(&quot;$projectDir/src/main/java&quot;)\r\n        wsdlDir = file(&quot;$projectDir/src/main/resources/wsdl&quot;)\r\n        locale = Locale.ENGLISH\r\n    }\r\n    \r\n    wsdl2javaExt {\r\n        cxfVersion = &quot;2.5.1&quot;\r\n    }\r\n\r\n\r\nTo generate the java code we need to run the gradle task as shown below.\r\n\r\n    $ gradlew wsdl2java\r\n\r\n \r\n\r\n\r\n\r\n  [1]: https://github.com/nilsmagnus/wsdl2java","title":"Gradle wsdl generating","body":"<p>I had achieved this task using <a href=\"https://github.com/nilsmagnus/wsdl2java\" rel=\"nofollow noreferrer\">this</a> git repository. The build.gradle file looks something like this.</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\nplugins {\n    id 'org.springframework.boot' version '2.2.0.M6'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'java'\n    id 'no.nils.wsdl2java' version '0.10'\n}\n\ngroup = 'your.application.groupname'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    developmentOnly\n    runtimeClasspath {\n        extendsFrom developmentOnly\n    }\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://repo.spring.io/milestone' }\n}\n\ndependencies {\n    wsdl2java(\n            'com.sun.xml.bind:jaxb-xjc:2.3.0.1',\n            'javax.xml.bind:jaxb-api:2.3.1',\n            'javax.xml.ws:jaxws-api:2.3.1',\n            'org.apache.cxf:cxf-rt-wsdl:3.2.7',\n            'javax.jws:javax.jws-api:1.1',\n\n            'com.sun.xml.bind:jaxb-core:2.3.0.1',\n            'com.sun.xml.bind:jaxb-xjc:2.3.2',\n            'com.sun.xml.bind:jaxb-impl:2.3.2',\n            'javax.xml.bind:jaxb-api:2.3.1'\n    )\n\n    implementation 'com.sun.xml.bind:jaxb-core:2.3.0.1'\n    implementation 'com.sun.xml.bind:jaxb-xjc:2.3.0.1'\n    implementation 'com.sun.xml.bind:jaxb-impl:2.3.2'\n    implementation 'javax.xml.bind:jaxb-api:2.3.1'\n    implementation 'javax.xml.ws:jaxws-api:2.3.1'\n    implementation 'org.apache.cxf:cxf-rt-wsdl:3.2.7'\n    implementation 'javax.jws:javax.jws-api:1.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nwsdl2java {\n    wsdlsToGenerate = [\n            ['-p', 'your.package.name',\n             '-autoNameResolution', \"$projectDir/src/main/resources/wsdl/some_wsdl_file.wsdl\"]\n    ]\n    generatedWsdlDir = file(\"$projectDir/src/main/java\")\n    wsdlDir = file(\"$projectDir/src/main/resources/wsdl\")\n    locale = Locale.ENGLISH\n}\n\nwsdl2javaExt {\n    cxfVersion = \"2.5.1\"\n}\n</code></pre>\n\n<p>To generate the java code we need to run the gradle task as shown below.</p>\n\n<pre><code>$ gradlew wsdl2java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13861565,"reputation":65,"user_id":10007091,"display_name":"Kenyfrank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580242720,"creation_date":1580242720,"answer_id":59956391,"question_id":43259927,"body_markdown":"To solve this try adding the buildScript before the plugin declarations and apply the wsdl plugin after the *plugin block* for example:\r\n\r\n        buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.1.7.RELEASE&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;war&#39;\r\n        id &quot;org.sonarqube&quot; version &quot;2.7&quot;\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;no.nils.wsdl2java&#39;\r\n\r\n","title":"Gradle wsdl generating","body":"<p>To solve this try adding the buildScript before the plugin declarations and apply the wsdl plugin after the <em>plugin block</em> for example:</p>\n\n<pre><code>    buildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\nplugins {\n    id 'org.springframework.boot' version '2.1.7.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'java'\n    id 'war'\n    id \"org.sonarqube\" version \"2.7\"\n}\n\napply plugin: 'java'\napply plugin: 'no.nils.wsdl2java'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4232566,"reputation":1533,"user_id":3464596,"display_name":"Hrabosch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592425339,"creation_date":1592425339,"answer_id":62437732,"question_id":43259927,"body_markdown":"For anybody who is looking for generating with Apache CXF. I tried to avoid using any plugin. I did it by creating configuration with dependencies, externalized array of strings with wsdl file names and then just use it like this:\r\n\r\n    ext {\r\n        wsdlDir = file(&quot;${projectDir}/src/main/resources/wsdl&quot;)\r\n        outputDir = file(&quot;$buildDir/generated-sources&quot;)\r\n        sourceWsdls = [\r\n                &quot;$wsdlDir/MyWsdlFile1.wsdl&quot;,\r\n                &quot;$wsdlDir/MyWsdlFile2.wsdl&quot;,\r\n                &quot;$wsdlDir/MyWsdlFile3.wsdl&quot;,\r\n                &quot;$wsdlDir/MyWsdlFile4.wsdl&quot;\r\n        ]\r\n    }\r\n    \r\n    sourceSets.main.java.srcDirs += &quot;$outputDir&quot;\r\n    \r\n    dependencies {\r\n        cxf (\r\n                &#39;org.apache.cxf:cxf-tools-wsdlto-core:3.3.6&#39;,\r\n                &#39;org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:3.3.6&#39;,\r\n                &#39;org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:3.3.6&#39;\r\n        )\r\n    }\r\n    \r\n    task generateJavaClasses {\r\n        doLast{\r\n            sourceWsdls.each { wsdlFile -&gt;\r\n                javaexec {\r\n                    classpath configurations.cxf\r\n                    main = &#39;org.apache.cxf.tools.wsdlto.WSDLToJava&#39;\r\n                    args &#39;-d&#39;, outputDir\r\n                    args &#39;-b&#39;, &#39;PATH/TO/BINDING/FILE.xjb&#39;\r\n                    args wsdlFile\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis is just simple calling javaexec of Apache CXF class - see [docs][1] for all args and options.\r\n\r\nNote: If you have a folder with wsdl files and you want to generated classes from all wsdl files there, it is even easier and just use it like this:\r\n\r\n    task generateJavaClassesAllWsdlFiles {\r\n        doLast{\r\n            // Find all wsdl files in directory defined in ext\r\n            fileTree(wsdlDir).matching {\r\n                include &quot;*.wsdl&quot;\r\n            }.each {\r\n                wsdlFile -&gt;\r\n                    println &quot;Generating &quot; + wsdlFile\r\n                    javaexec {\r\n                        classpath configurations.cxf\r\n                        main = &#39;org.apache.cxf.tools.wsdlto.WSDLToJava&#39;\r\n                        args &#39;-d&#39;, outputDir\r\n                        args &#39;-b&#39;, &#39;PATH/TO/BINDING/FILE.xjb&#39;\r\n                        args wsdlFile\r\n                    }\r\n            }\r\n        }\r\n    }\r\n\r\nI put it all into gist, if you want to see it complete, gist is [here][2].\r\n\r\n\r\n  [1]: https://cxf.apache.org/docs/wsdl-to-java.html\r\n  [2]: https://gist.github.com/hrabosch/4bd1bd90256fa4bb4179d2088f2a1241","title":"Gradle wsdl generating","body":"<p>For anybody who is looking for generating with Apache CXF. I tried to avoid using any plugin. I did it by creating configuration with dependencies, externalized array of strings with wsdl file names and then just use it like this:</p>\n\n<pre><code>ext {\n    wsdlDir = file(\"${projectDir}/src/main/resources/wsdl\")\n    outputDir = file(\"$buildDir/generated-sources\")\n    sourceWsdls = [\n            \"$wsdlDir/MyWsdlFile1.wsdl\",\n            \"$wsdlDir/MyWsdlFile2.wsdl\",\n            \"$wsdlDir/MyWsdlFile3.wsdl\",\n            \"$wsdlDir/MyWsdlFile4.wsdl\"\n    ]\n}\n\nsourceSets.main.java.srcDirs += \"$outputDir\"\n\ndependencies {\n    cxf (\n            'org.apache.cxf:cxf-tools-wsdlto-core:3.3.6',\n            'org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:3.3.6',\n            'org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:3.3.6'\n    )\n}\n\ntask generateJavaClasses {\n    doLast{\n        sourceWsdls.each { wsdlFile -&gt;\n            javaexec {\n                classpath configurations.cxf\n                main = 'org.apache.cxf.tools.wsdlto.WSDLToJava'\n                args '-d', outputDir\n                args '-b', 'PATH/TO/BINDING/FILE.xjb'\n                args wsdlFile\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is just simple calling javaexec of Apache CXF class - see <a href=\"https://cxf.apache.org/docs/wsdl-to-java.html\" rel=\"nofollow noreferrer\">docs</a> for all args and options.</p>\n\n<p>Note: If you have a folder with wsdl files and you want to generated classes from all wsdl files there, it is even easier and just use it like this:</p>\n\n<pre><code>task generateJavaClassesAllWsdlFiles {\n    doLast{\n        // Find all wsdl files in directory defined in ext\n        fileTree(wsdlDir).matching {\n            include \"*.wsdl\"\n        }.each {\n            wsdlFile -&gt;\n                println \"Generating \" + wsdlFile\n                javaexec {\n                    classpath configurations.cxf\n                    main = 'org.apache.cxf.tools.wsdlto.WSDLToJava'\n                    args '-d', outputDir\n                    args '-b', 'PATH/TO/BINDING/FILE.xjb'\n                    args wsdlFile\n                }\n        }\n    }\n}\n</code></pre>\n\n<p>I put it all into gist, if you want to see it complete, gist is <a href=\"https://gist.github.com/hrabosch/4bd1bd90256fa4bb4179d2088f2a1241\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7598079,"reputation":121,"user_id":5763655,"display_name":"anayagam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677102964,"creation_date":1677102964,"answer_id":75538542,"question_id":43259927,"body_markdown":"for JDK8 you can update gradle with the following and specify cxfVersion under wsdl2java \r\n\r\n    apply plugin: &#39;no.nils.wsdl2java&#39;\r\n    \r\n    wsdl2java {\r\n        wsdlDir = file(&quot;$projectDir/src/main/resources/fooSchemas&quot;)\r\n        cxfVersion = &#39;3.3.2&#39;\r\n        wsdlsToGenerate = [\r\n                [&quot;$projectDir/src/main/resources/emailSchemas/FooService.wsdl&quot;]\r\n          ]\r\n    }\r\n\r\n","title":"Gradle wsdl generating","body":"<p>for JDK8 you can update gradle with the following and specify cxfVersion under wsdl2java</p>\n<pre><code>apply plugin: 'no.nils.wsdl2java'\n\nwsdl2java {\n    wsdlDir = file(&quot;$projectDir/src/main/resources/fooSchemas&quot;)\n    cxfVersion = '3.3.2'\n    wsdlsToGenerate = [\n            [&quot;$projectDir/src/main/resources/emailSchemas/FooService.wsdl&quot;]\n      ]\n}\n</code></pre>\n"}],"owner":{"account_id":6974663,"reputation":2075,"user_id":5349795,"accept_rate":93,"display_name":"LakiGeri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28258,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43279910,"answer_count":6,"score":4,"last_activity_date":1677102964,"creation_date":1491493609,"question_id":43259927,"body_markdown":"I want to generate java files from wsdl. I try to use [wsdl2java][1] gradle plugin. I define the plugin:\n\n    subprojects {\n    buildscript{\n        repositories{\n            jcenter()\n            mavenCentral()\n        }\n        dependencies {\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\n        }\n    }\n\n    \n    apply plugin: &#39;java&#39;\n    apply plugin: &#39;eclipse&#39;\n    apply plugin: &#39;maven-publish&#39;\n    apply plugin: &#39;application&#39;\n    apply plugin: &#39;no.nils.wsdl2java&#39;\n    ....\n    }\nbut I got this error:\n\n    &gt; Plugin with id &#39;no.nils.wsdl2java:no.nils:wsdl2java&#39; not found.\n\nI checked the syntax (many times it is good). I googled for the plugin, it is used by many people.\n\nDoes anybody have an idea what is going wrong?\n\n**Upd:**\n\n  I have a main gradle where the plugins defined, and there are three sub project, where I want to use this plugin.\n\nI defined the sub projects in the `settings.gradle`:\n\n    include &#39;project1&#39;, &#39;project2&#39;, &#39;project3&#39;\n\nI made a folder and the `build.gradle` file for each project.\n\n\nIf I commented out the  `apply plugin: &#39;no.nils.wsdl2java&#39;` in the main `build.gradle` and the `wsdl2java` methods in the sub projects the gradle works fine.\n\n  [1]: https://github.com/nilsmagnus/wsdl2java","title":"Gradle wsdl generating","body":"<p>I want to generate java files from wsdl. I try to use <a href=\"https://github.com/nilsmagnus/wsdl2java\" rel=\"nofollow noreferrer\">wsdl2java</a> gradle plugin. I define the plugin:</p>\n<pre><code>subprojects {\nbuildscript{\n    repositories{\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'maven-publish'\napply plugin: 'application'\napply plugin: 'no.nils.wsdl2java'\n....\n}\n</code></pre>\n<p>but I got this error:</p>\n<pre><code>&gt; Plugin with id 'no.nils.wsdl2java:no.nils:wsdl2java' not found.\n</code></pre>\n<p>I checked the syntax (many times it is good). I googled for the plugin, it is used by many people.</p>\n<p>Does anybody have an idea what is going wrong?</p>\n<p><strong>Upd:</strong></p>\n<p>I have a main gradle where the plugins defined, and there are three sub project, where I want to use this plugin.</p>\n<p>I defined the sub projects in the <code>settings.gradle</code>:</p>\n<pre><code>include 'project1', 'project2', 'project3'\n</code></pre>\n<p>I made a folder and the <code>build.gradle</code> file for each project.</p>\n<p>If I commented out the  <code>apply plugin: 'no.nils.wsdl2java'</code> in the main <code>build.gradle</code> and the <code>wsdl2java</code> methods in the sub projects the gradle works fine.</p>\n"},{"tags":["java","spring","azure","java-19"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1677112534,"post_id":75493795,"comment_id":133275833,"body_markdown":"Is that the only line? You should not need to access that field and use `TreeMap.comparator()` instead.","body":"Is that the only line? You should not need to access that field and use <code>TreeMap.comparator()</code> instead."},{"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"score":0,"creation_date":1677161564,"post_id":75493795,"comment_id":133286076,"body_markdown":"This is an empty spring boot project.","body":"This is an empty spring boot project."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1677189995,"post_id":75493795,"comment_id":133294577,"body_markdown":"Any more lines, like a stack trace?","body":"Any more lines, like a stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677102890,"creation_date":1677102890,"answer_id":75538528,"question_id":75493795,"body_markdown":"Here is the workaround:\r\n\r\nexport MAVEN_OPTS=&quot;--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED&quot;\r\n\r\nIt is an issue in azure maven plugin: https://github.com/microsoft/azure-maven-plugins/issues/2222","title":"Spring boot azure project gives java.util.Comparator java.util.TreeMap.comparator accessible","body":"<p>Here is the workaround:</p>\n<p>export MAVEN_OPTS=&quot;--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED&quot;</p>\n<p>It is an issue in azure maven plugin: <a href=\"https://github.com/microsoft/azure-maven-plugins/issues/2222\" rel=\"nofollow noreferrer\">https://github.com/microsoft/azure-maven-plugins/issues/2222</a></p>\n"}],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75538528,"answer_count":1,"score":0,"last_activity_date":1677102890,"creation_date":1676728380,"question_id":75493795,"body_markdown":"I created a spring boot project with spring initializer and I&#39;m following this tutorial here to setup azure. It&#39;s an empty project. mvn clean install, mvn clean package runs fine. The spring boot app also starts properly. \r\nhttps://spring.io/guides/gs/spring-boot-for-azure/\r\n\r\nThe pom looks like this:\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.dasdsad&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;myProject&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nWhen I do `./mvnw com.microsoft.azure:azure-spring-cloud-maven-plugin:1.3.0:config`\r\n\r\nI get this error: \r\n\r\n    Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @67b61834\r\n\r\nDoes anyone have experience with this behavior?","title":"Spring boot azure project gives java.util.Comparator java.util.TreeMap.comparator accessible","body":"<p>I created a spring boot project with spring initializer and I'm following this tutorial here to setup azure. It's an empty project. mvn clean install, mvn clean package runs fine. The spring boot app also starts properly.\n<a href=\"https://spring.io/guides/gs/spring-boot-for-azure/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot-for-azure/</a></p>\n<p>The pom looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.dasdsad&lt;/groupId&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;myProject&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I do <code>./mvnw com.microsoft.azure:azure-spring-cloud-maven-plugin:1.3.0:config</code></p>\n<p>I get this error:</p>\n<pre><code>Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @67b61834\n</code></pre>\n<p>Does anyone have experience with this behavior?</p>\n"},{"tags":["java","nested","byte-buddy"],"owner":{"account_id":2135127,"reputation":1100,"user_id":1895111,"accept_rate":43,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677102406,"creation_date":1676403337,"question_id":75452531,"body_markdown":"I had a simple Java bean:\r\n\r\n    public class UserWithAdress {\r\n\t    private Integer id;\t\r\n\t    private String name;\t\r\n\t    private Address address;\r\n        ...\r\n    }\r\n\r\nAnd Adress is my another simple Java Bean:\r\n\r\n    public class Address {\r\n\t    private int id;\r\n\t    private String address;\r\n\t    private String country;\r\n        ....    \r\n    }\r\n\r\nNow I am doing a proxy on UserWithAdress :\r\n\r\n    \tClassLoader cl = Address.class.getClassLoader();\r\n\t\tSystem.out.println(cl);\r\n\t\t\r\n\t\tReceiverTypeDefinition&lt;Address&gt; r = new ByteBuddy().subclass(Address.class)\r\n\t\t.method(ElementMatchers.isGetter().and(returns(String.class)))\r\n\t\t.intercept(FixedValue.value(Default.ss));\r\n\t\t\r\n\t\tr=r.method(ElementMatchers.isGetter().and(returns(Integer.class)))\r\n\t\t.intercept(FixedValue.value(Default.i));\r\n\t\t\r\n\t\tr=r.method(ElementMatchers.isGetter().and(returns(int.class)))\r\n\t\t.intercept(FixedValue.value(Default.i));\r\n\t\t\r\n\t\tAddress address = createObjectFromProxy(r, cl);\r\n\r\n\t\tReceiverTypeDefinition&lt;UserWithAdress&gt; r2 = new ByteBuddy().subclass(UserWithAdress.class)\r\n\t\t\t\t.method(ElementMatchers.isGetter().and(returns(String.class)))\r\n\t\t\t\t.intercept(FixedValue.value(Default.ss));\r\n\t\t\t\t\r\n\t\t\t\tr2=r2.method(ElementMatchers.isGetter().and(returns(Integer.class)))\r\n\t\t\t\t.intercept(FixedValue.value(Default.i));\r\n\t\t\r\n\t\t\r\n\t\t\t\tr2=r2.method(ElementMatchers.isGetter().and(returns(int.class)))\r\n\t\t\t\t\t.intercept(FixedValue.value(Default.i));\r\n\r\n\t\t\t\t\r\n\t\t\t\t//r2=r2.method(ElementMatchers.isGetter().and(returns(Address.class)))\r\n\t\t\t\t//.intercept(FixedValue.value(address));\t\t\r\n\r\n\t\tClassLoader cl2 = UserWithAdress.class.getClassLoader();\r\n\t\tSystem.out.println(cl2);\r\n\t\tUserWithAdress bean = createObjectFromProxy(r2, cl2);\r\n\r\nIt works well.\r\n\r\n\r\nBut I got NoClassDefFoundError when I add back those commented lines:\r\n\r\n    java.lang.NoClassDefFoundError: wu/justa/utils/bean/Address$ByteBuddy$NPQSt32E\r\n\tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\r\n\tat java.base/java.lang.Class.getDeclaredField(Class.java:2608)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:163)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\r\n\tat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6186)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6174)\r\n\tat wu.justa.utils.GetterProxy.createObject(GetterProxy.java:198)\r\n\tat wu.justa.utils.GetterProxyTest.testUserWithAdress(GetterProxyTest.java:90)\r\n\r\nThe byte-buddy version is 1.12.13 and JDK version is 8","title":"bytebuddy throw NoClassDefFoundError when it handled a nested proxy object","body":"<p>I had a simple Java bean:</p>\n<pre><code>public class UserWithAdress {\n    private Integer id; \n    private String name;    \n    private Address address;\n    ...\n}\n</code></pre>\n<p>And Adress is my another simple Java Bean:</p>\n<pre><code>public class Address {\n    private int id;\n    private String address;\n    private String country;\n    ....    \n}\n</code></pre>\n<p>Now I am doing a proxy on UserWithAdress :</p>\n<pre><code>    ClassLoader cl = Address.class.getClassLoader();\n    System.out.println(cl);\n    \n    ReceiverTypeDefinition&lt;Address&gt; r = new ByteBuddy().subclass(Address.class)\n    .method(ElementMatchers.isGetter().and(returns(String.class)))\n    .intercept(FixedValue.value(Default.ss));\n    \n    r=r.method(ElementMatchers.isGetter().and(returns(Integer.class)))\n    .intercept(FixedValue.value(Default.i));\n    \n    r=r.method(ElementMatchers.isGetter().and(returns(int.class)))\n    .intercept(FixedValue.value(Default.i));\n    \n    Address address = createObjectFromProxy(r, cl);\n\n    ReceiverTypeDefinition&lt;UserWithAdress&gt; r2 = new ByteBuddy().subclass(UserWithAdress.class)\n            .method(ElementMatchers.isGetter().and(returns(String.class)))\n            .intercept(FixedValue.value(Default.ss));\n            \n            r2=r2.method(ElementMatchers.isGetter().and(returns(Integer.class)))\n            .intercept(FixedValue.value(Default.i));\n    \n    \n            r2=r2.method(ElementMatchers.isGetter().and(returns(int.class)))\n                .intercept(FixedValue.value(Default.i));\n\n            \n            //r2=r2.method(ElementMatchers.isGetter().and(returns(Address.class)))\n            //.intercept(FixedValue.value(address));        \n\n    ClassLoader cl2 = UserWithAdress.class.getClassLoader();\n    System.out.println(cl2);\n    UserWithAdress bean = createObjectFromProxy(r2, cl2);\n</code></pre>\n<p>It works well.</p>\n<p>But I got NoClassDefFoundError when I add back those commented lines:</p>\n<pre><code>java.lang.NoClassDefFoundError: wu/justa/utils/bean/Address$ByteBuddy$NPQSt32E\nat java.base/java.lang.Class.getDeclaredFields0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\nat java.base/java.lang.Class.getDeclaredField(Class.java:2608)\nat net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:163)\nat net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\nat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\nat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6186)\nat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6174)\nat wu.justa.utils.GetterProxy.createObject(GetterProxy.java:198)\nat wu.justa.utils.GetterProxyTest.testUserWithAdress(GetterProxyTest.java:90)\n</code></pre>\n<p>The byte-buddy version is 1.12.13 and JDK version is 8</p>\n"},{"tags":["java","ms-word","xml-parsing","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1677127679,"post_id":75538406,"comment_id":133277632,"body_markdown":"You need copying the numbering definitions too. See https://stackoverflow.com/questions/70648296/merge-documents-by-inserting-content-into-a-new-page-using-poi/70700519#70700519 for an example. It merges documents. But that also means copying elements.","body":"You need copying the numbering definitions too. See <a href=\"https://stackoverflow.com/questions/70648296/merge-documents-by-inserting-content-into-a-new-page-using-poi/70700519#70700519\" title=\"merge documents by inserting content into a new page using poi\">stackoverflow.com/questions/70648296/&hellip;</a> for an example. It merges documents. But that also means copying elements."}],"owner":{"account_id":16542292,"reputation":73,"user_id":11952765,"display_name":"Dhruvin Moradiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677101901,"creation_date":1677101901,"question_id":75538406,"body_markdown":"I am trying to extract entire word document in Java project, go paragraph by paragraph and print the XWPFParagraphs back to another word file.\r\nI am able to accomplish my task except the bulleted list from input document is being printed as numbered list in the output document.\r\n\r\n\r\n[![input list](https://i.stack.imgur.com/KIL99.png)](https://i.stack.imgur.com/KIL99.png)\r\n[![output list is being printed as numbered list; I want it as same as the input document ](https://i.stack.imgur.com/sNMuQ.png)](https://i.stack.imgur.com/sNMuQ.png)\r\n\r\n\r\n\r\nThis is the code where I am copying the paragraph:\r\n```\r\nstatic void copyParagraph(XWPFParagraph source, XWPFParagraph target, XWPFNumbering numbering)\r\n    {\r\n        target.getCTP().setPPr(source.getCTP().getPPr());\r\n\r\n        source.getRuns().forEach(run -&gt; {\r\n            XWPFRun newR = target.createRun();\r\n            newR.setText(run.getText(0));\r\n            newR.getCTR().setRPr(run.getCTR().getRPr());\r\n\r\n            if (!run.getEmbeddedPictures().isEmpty()) {\r\n                XWPFPicture picture = run.getEmbeddedPictures().get(0);\r\n                try {\r\n                    FileOutputStream out = new FileOutputStream(Constants.H1_SECTIONS_IMAGE_DIR + picture.getPictureData().getFileName());\r\n                    out.write(picture.getPictureData().getData());\r\n                    out.close();\r\n                    newR.addPicture(new FileInputStream(Constants.H1_SECTIONS_IMAGE_DIR + picture.getPictureData().getFileName()), picture.getPictureData().getPictureType(), picture.getPictureData().getFileName(), Units.toEMU((int) picture.getWidth()), Units.toEMU((int) picture.getDepth()));\r\n                } catch (IOException | InvalidFormatException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\nI am not able to find solution which can keep the same list-type (bullet, numbered, etc) in the output document","title":"How to parse and print bulleted list using Apache POI?","body":"<p>I am trying to extract entire word document in Java project, go paragraph by paragraph and print the XWPFParagraphs back to another word file.\nI am able to accomplish my task except the bulleted list from input document is being printed as numbered list in the output document.</p>\n<p><a href=\"https://i.stack.imgur.com/KIL99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KIL99.png\" alt=\"input list\" /></a>\n<a href=\"https://i.stack.imgur.com/sNMuQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sNMuQ.png\" alt=\"output list is being printed as numbered list; I want it as same as the input document \" /></a></p>\n<p>This is the code where I am copying the paragraph:</p>\n<pre><code>static void copyParagraph(XWPFParagraph source, XWPFParagraph target, XWPFNumbering numbering)\n    {\n        target.getCTP().setPPr(source.getCTP().getPPr());\n\n        source.getRuns().forEach(run -&gt; {\n            XWPFRun newR = target.createRun();\n            newR.setText(run.getText(0));\n            newR.getCTR().setRPr(run.getCTR().getRPr());\n\n            if (!run.getEmbeddedPictures().isEmpty()) {\n                XWPFPicture picture = run.getEmbeddedPictures().get(0);\n                try {\n                    FileOutputStream out = new FileOutputStream(Constants.H1_SECTIONS_IMAGE_DIR + picture.getPictureData().getFileName());\n                    out.write(picture.getPictureData().getData());\n                    out.close();\n                    newR.addPicture(new FileInputStream(Constants.H1_SECTIONS_IMAGE_DIR + picture.getPictureData().getFileName()), picture.getPictureData().getPictureType(), picture.getPictureData().getFileName(), Units.toEMU((int) picture.getWidth()), Units.toEMU((int) picture.getDepth()));\n                } catch (IOException | InvalidFormatException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n    }\n</code></pre>\n<p>I am not able to find solution which can keep the same list-type (bullet, numbered, etc) in the output document</p>\n"},{"tags":["java","spring","spring-boot","spring-security","integration-testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1677081113,"post_id":75534882,"comment_id":133267803,"body_markdown":"For starters your test is weird (and I would say wrong). Remove the `@WebAppConfiguration` and `@ContextConfiguration`. Remove the `WebApplicationContext` field and ditch the `setup` method. Add `@Autowired` on your `MockMvc` and then check what happens. You are working around Spring Boot here instead of working with it.","body":"For starters your test is weird (and I would say wrong). Remove the <code>@WebAppConfiguration</code> and <code>@ContextConfiguration</code>. Remove the <code>WebApplicationContext</code> field and ditch the <code>setup</code> method. Add <code>@Autowired</code> on your <code>MockMvc</code> and then check what happens. You are working around Spring Boot here instead of working with it."},{"owner":{"account_id":10002161,"reputation":2147,"user_id":7397730,"accept_rate":40,"display_name":"Sriram R"},"score":0,"creation_date":1677127413,"post_id":75534882,"comment_id":133277608,"body_markdown":"Thanks @M.Deinum . I added `@WebAppConfiguration` and `@ContextConfiguration` with setup because the documentation said so\nhttps://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html\n\nWeird that the documentation is wrong.","body":"Thanks @M.Deinum . I added <code>@WebAppConfiguration</code> and <code>@ContextConfiguration</code> with setup because the documentation said so <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/test/mockmv&zwnj;&#8203;c/&hellip;</a>  Weird that the documentation is wrong."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1677128564,"post_id":75534882,"comment_id":133277757,"body_markdown":"This page might not have been updated for a while. Have a look at `@WebMvcTest` javadoc: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html. Here you are mixing a sample without `@WebMvcTest` with `@WebMvcTest`, so no, this is not optimal...","body":"This page might not have been updated for a while. Have a look at <code>@WebMvcTest</code> javadoc: <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>. Here you are mixing a sample without <code>@WebMvcTest</code> with <code>@WebMvcTest</code>, so no, this is not optimal..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677136384,"post_id":75534882,"comment_id":133279025,"body_markdown":"The documentation isn&#39;t wrong, but tha tis the documentation for use **without Spring Boot testing**.","body":"The documentation isn&#39;t wrong, but tha tis the documentation for use <b>without Spring Boot testing</b>."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677101645,"creation_date":1677099205,"answer_id":75538046,"question_id":75534882,"body_markdown":"@m-denium is right in his comment, plus you are trying to build a **client** `Authentication` implementation (`oauth2Login()` instantiates an `OAuth2AuthenticationToken`) when testing a **resource-server** (with resource-server dependencies, reason for classes under `org/springframework/security/oauth2/client/` not being found).\r\n\r\nAs your conf is `.oauth2ResourceServer().jwt()`, populate your test security context with a `JwtAuthenticationToken` using `SecurityMockMvcRequestPostProcessors.jwt()`.\r\n\r\nYour test should be no more complicated than that:\r\n```java\r\n@WebMvcTest(CodeController.class)\r\n@Import({ SecurityConfig.class })\r\nclass CodeControllerTests {\r\n\r\n    @MockBean\r\n    private CodeExecutionService codeExecutionService;\r\n\r\n    @MockBean\r\n    private ProblemService problemService;\r\n\r\n    @MockBean\r\n    private TestCaseValidationService validationService;\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @Test\r\n    void runTestCode() throws Exception {\r\n        RunCodeDTO runCodeDTO = new RunCodeDTO(&quot;python&quot;, &quot;something&quot;, &quot;two-sum&quot;);\r\n        Problem problem = ProblemUtils.getTwoSum();\r\n        UserCode userCode = new UserCode(runCodeDTO.code(), runCodeDTO.language());\r\n        userCode.mergeWithStub(problem.getCodeRunStub());\r\n\r\n        List&lt;TestResult&gt; testResults = problem.getRunTestCases()\r\n                .stream()\r\n                .map(testCase -&gt; new TestResult(testCase, Status.SUCCESS, &quot;&quot;))\r\n                .toList();\r\n\r\n        List&lt;TestOutput&gt; testOutputs = testResults\r\n                .stream()\r\n                .map(result -&gt; new TestOutput(result.testCase(), new ValidationResult(Status.SUCCESS, &quot;Test Case Passed&quot;)))\r\n                .toList();\r\n        when(problemService.getProblem(runCodeDTO.problemId())).thenReturn(Optional.of(problem));\r\n        when(codeExecutionService.executeAllTestCases(problem.getRunTestCases(), userCode)).thenReturn(testResults);\r\n        when(validationService.validateAllTestResults(testResults, problem.getOutputType(), problem.getValidationType())).thenReturn(testOutputs);\r\n\r\n        mockMvc\r\n            .perform(MockMvcRequestBuilders.post(&quot;/code/test&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(&quot;&quot;)\r\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\r\n                    .jwt(jwt -&gt; jwt.claim(StandardClaimNames.SUB, &quot;Tonton Pirate&quot;))\r\n                    .authorities(List.of(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;)))))\r\n            .andExpect(status().isOk());\r\n    }\r\n}\r\n```\r\n\r\nInstead of `SecurityMockMvcRequestPostProcessors.jwt()`, you could also use `@WithMockJwtAuth` available from [spring-addons-oauth2-test][1] with sources available on [this repo of mine][2] (repo which also contains plenty of resource-server samples, each with access-control unit-tests)\r\n\r\n\r\n  [1]: https://central.sonatype.com/artifact/com.c4-soft.springaddons/spring-addons-oauth2-test/6.0.16\r\n  [2]: https://github.com/ch4mpy/spring-addons","title":"NoClassDefFoundError - org/springframework/security/oauth2/client/registration/ClientRegistration when testing","body":"<p>@m-denium is right in his comment, plus you are trying to build a <strong>client</strong> <code>Authentication</code> implementation (<code>oauth2Login()</code> instantiates an <code>OAuth2AuthenticationToken</code>) when testing a <strong>resource-server</strong> (with resource-server dependencies, reason for classes under <code>org/springframework/security/oauth2/client/</code> not being found).</p>\n<p>As your conf is <code>.oauth2ResourceServer().jwt()</code>, populate your test security context with a <code>JwtAuthenticationToken</code> using <code>SecurityMockMvcRequestPostProcessors.jwt()</code>.</p>\n<p>Your test should be no more complicated than that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(CodeController.class)\n@Import({ SecurityConfig.class })\nclass CodeControllerTests {\n\n    @MockBean\n    private CodeExecutionService codeExecutionService;\n\n    @MockBean\n    private ProblemService problemService;\n\n    @MockBean\n    private TestCaseValidationService validationService;\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    void runTestCode() throws Exception {\n        RunCodeDTO runCodeDTO = new RunCodeDTO(&quot;python&quot;, &quot;something&quot;, &quot;two-sum&quot;);\n        Problem problem = ProblemUtils.getTwoSum();\n        UserCode userCode = new UserCode(runCodeDTO.code(), runCodeDTO.language());\n        userCode.mergeWithStub(problem.getCodeRunStub());\n\n        List&lt;TestResult&gt; testResults = problem.getRunTestCases()\n                .stream()\n                .map(testCase -&gt; new TestResult(testCase, Status.SUCCESS, &quot;&quot;))\n                .toList();\n\n        List&lt;TestOutput&gt; testOutputs = testResults\n                .stream()\n                .map(result -&gt; new TestOutput(result.testCase(), new ValidationResult(Status.SUCCESS, &quot;Test Case Passed&quot;)))\n                .toList();\n        when(problemService.getProblem(runCodeDTO.problemId())).thenReturn(Optional.of(problem));\n        when(codeExecutionService.executeAllTestCases(problem.getRunTestCases(), userCode)).thenReturn(testResults);\n        when(validationService.validateAllTestResults(testResults, problem.getOutputType(), problem.getValidationType())).thenReturn(testOutputs);\n\n        mockMvc\n            .perform(MockMvcRequestBuilders.post(&quot;/code/test&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(&quot;&quot;)\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\n                    .jwt(jwt -&gt; jwt.claim(StandardClaimNames.SUB, &quot;Tonton Pirate&quot;))\n                    .authorities(List.of(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;)))))\n            .andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>Instead of <code>SecurityMockMvcRequestPostProcessors.jwt()</code>, you could also use <code>@WithMockJwtAuth</code> available from <a href=\"https://central.sonatype.com/artifact/com.c4-soft.springaddons/spring-addons-oauth2-test/6.0.16\" rel=\"nofollow noreferrer\">spring-addons-oauth2-test</a> with sources available on <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this repo of mine</a> (repo which also contains plenty of resource-server samples, each with access-control unit-tests)</p>\n"}],"owner":{"account_id":10002161,"reputation":2147,"user_id":7397730,"accept_rate":40,"display_name":"Sriram R"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75538046,"answer_count":1,"score":0,"last_activity_date":1677101645,"creation_date":1677079711,"question_id":75534882,"body_markdown":"I wrote a simple spring boot application which uses OAuth2 using Firebase.\r\n\r\nHere&#39;s the configuration\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@AllArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity security) throws Exception {\r\n        security\r\n                .cors()\r\n                .and()\r\n                .csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt();\r\n\r\n        return security.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have a controller which I want to test using MockMvc\r\n\r\nHere&#39;s the test file\r\n\r\n```\r\n@WebMvcTest(CodeController.class)\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = SecurityConfig.class)\r\npublic class CodeControllerTests {\r\n\r\n    @MockBean\r\n    private CodeExecutionService codeExecutionService;\r\n    @MockBean\r\n    private ProblemService problemService;\r\n\r\n//    @MockBean\r\n//    private ProblemRepo problemRepo;\r\n\r\n    @MockBean\r\n    private TestCaseValidationService validationService;\r\n//    @MockBean\r\n//    private ProblemRepo problemRepo;\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(context)\r\n                .apply(springSecurity())\r\n                .build();\r\n    }\r\n\r\n\r\n    @Test\r\n\r\n    void runTestCode() throws Exception {\r\n\r\n        RunCodeDTO runCodeDTO = new RunCodeDTO(&quot;python&quot;, &quot;something&quot;, &quot;two-sum&quot;);\r\n        Problem problem = ProblemUtils.getTwoSum();\r\n        UserCode userCode = new UserCode(runCodeDTO.code(), runCodeDTO.language());\r\n        userCode.mergeWithStub(problem.getCodeRunStub());\r\n\r\n        List&lt;TestResult&gt; testResults = problem.getRunTestCases()\r\n                .stream()\r\n                .map(testCase -&gt; new TestResult(testCase, Status.SUCCESS, &quot;&quot;))\r\n                .toList();\r\n\r\n        List&lt;TestOutput&gt; testOutputs = testResults\r\n                .stream()\r\n                .map(result -&gt; new TestOutput(result.testCase(), new ValidationResult(Status.SUCCESS, &quot;Test Case Passed&quot;)))\r\n                .toList();\r\n\r\n\r\n        when(problemService.getProblem(runCodeDTO.problemId())).thenReturn(Optional.of(problem));\r\n        when(codeExecutionService.executeAllTestCases(problem.getRunTestCases(), userCode)).thenReturn(testResults);\r\n        when(validationService.validateAllTestResults(testResults, problem.getOutputType(), problem.getValidationType())).thenReturn(testOutputs);\r\n\r\n        mockMvc\r\n                .perform(\r\n                    MockMvcRequestBuilders.post(&quot;/code/test&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(&quot;&quot;)\r\n                            .with(SecurityMockMvcRequestPostProcessors.oauth2Login())\r\n                )\r\n                .andExpect(status().isOk());\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;m trying to mock authorization using the `SecurityMockMvcRequestPostProcessors.oauth2Login()` but I get a `NoClassDefFoundError - org/springframework/security/oauth2/client/registration/ClientRegistration`.\r\n\r\nHowever, the actual application works without any issue. It&#39;s only the test where I get this error","title":"NoClassDefFoundError - org/springframework/security/oauth2/client/registration/ClientRegistration when testing","body":"<p>I wrote a simple spring boot application which uses OAuth2 using Firebase.</p>\n<p>Here's the configuration</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@AllArgsConstructor\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity security) throws Exception {\n        security\n                .cors()\n                .and()\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .oauth2ResourceServer()\n                .jwt();\n\n        return security.build();\n    }\n\n}\n</code></pre>\n<p>I have a controller which I want to test using MockMvc</p>\n<p>Here's the test file</p>\n<pre><code>@WebMvcTest(CodeController.class)\n@WebAppConfiguration\n@ContextConfiguration(classes = SecurityConfig.class)\npublic class CodeControllerTests {\n\n    @MockBean\n    private CodeExecutionService codeExecutionService;\n    @MockBean\n    private ProblemService problemService;\n\n//    @MockBean\n//    private ProblemRepo problemRepo;\n\n    @MockBean\n    private TestCaseValidationService validationService;\n//    @MockBean\n//    private ProblemRepo problemRepo;\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void setup() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity())\n                .build();\n    }\n\n\n    @Test\n\n    void runTestCode() throws Exception {\n\n        RunCodeDTO runCodeDTO = new RunCodeDTO(&quot;python&quot;, &quot;something&quot;, &quot;two-sum&quot;);\n        Problem problem = ProblemUtils.getTwoSum();\n        UserCode userCode = new UserCode(runCodeDTO.code(), runCodeDTO.language());\n        userCode.mergeWithStub(problem.getCodeRunStub());\n\n        List&lt;TestResult&gt; testResults = problem.getRunTestCases()\n                .stream()\n                .map(testCase -&gt; new TestResult(testCase, Status.SUCCESS, &quot;&quot;))\n                .toList();\n\n        List&lt;TestOutput&gt; testOutputs = testResults\n                .stream()\n                .map(result -&gt; new TestOutput(result.testCase(), new ValidationResult(Status.SUCCESS, &quot;Test Case Passed&quot;)))\n                .toList();\n\n\n        when(problemService.getProblem(runCodeDTO.problemId())).thenReturn(Optional.of(problem));\n        when(codeExecutionService.executeAllTestCases(problem.getRunTestCases(), userCode)).thenReturn(testResults);\n        when(validationService.validateAllTestResults(testResults, problem.getOutputType(), problem.getValidationType())).thenReturn(testOutputs);\n\n        mockMvc\n                .perform(\n                    MockMvcRequestBuilders.post(&quot;/code/test&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(&quot;&quot;)\n                            .with(SecurityMockMvcRequestPostProcessors.oauth2Login())\n                )\n                .andExpect(status().isOk());\n\n    }\n\n}\n\n</code></pre>\n<p>I'm trying to mock authorization using the <code>SecurityMockMvcRequestPostProcessors.oauth2Login()</code> but I get a <code>NoClassDefFoundError - org/springframework/security/oauth2/client/registration/ClientRegistration</code>.</p>\n<p>However, the actual application works without any issue. It's only the test where I get this error</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9367,"page":625,"page_size":100}
